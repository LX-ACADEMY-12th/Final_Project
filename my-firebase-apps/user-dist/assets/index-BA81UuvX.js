(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var DO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function dm(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var r=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),r}var Ud={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var NO=Ud.exports,rw;function FO(){return rw||(rw=1,(function(n,t){(function(r,i){n.exports=i()})(NO,function(){const r=new Map,i={set(Y,I,L){r.has(Y)||r.set(Y,new Map);const ue=r.get(Y);ue.has(I)||ue.size===0?ue.set(I,L):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ue.keys())[0]}.`)},get:(Y,I)=>r.has(Y)&&r.get(Y).get(I)||null,remove(Y,I){if(!r.has(Y))return;const L=r.get(Y);L.delete(I),L.size===0&&r.delete(Y)}},s="transitionend",o=Y=>(Y&&window.CSS&&window.CSS.escape&&(Y=Y.replace(/#([^\s"#']+)/g,(I,L)=>`#${CSS.escape(L)}`)),Y),a=Y=>Y==null?`${Y}`:Object.prototype.toString.call(Y).match(/\s([a-z]+)/i)[1].toLowerCase(),l=Y=>{Y.dispatchEvent(new Event(s))},u=Y=>!(!Y||typeof Y!="object")&&(Y.jquery!==void 0&&(Y=Y[0]),Y.nodeType!==void 0),h=Y=>u(Y)?Y.jquery?Y[0]:Y:typeof Y=="string"&&Y.length>0?document.querySelector(o(Y)):null,c=Y=>{if(!u(Y)||Y.getClientRects().length===0)return!1;const I=getComputedStyle(Y).getPropertyValue("visibility")==="visible",L=Y.closest("details:not([open])");if(!L)return I;if(L!==Y){const ue=Y.closest("summary");if(ue&&ue.parentNode!==L||ue===null)return!1}return I},f=Y=>!Y||Y.nodeType!==Node.ELEMENT_NODE||!!Y.classList.contains("disabled")||(Y.disabled!==void 0?Y.disabled:Y.hasAttribute("disabled")&&Y.getAttribute("disabled")!=="false"),d=Y=>{if(!document.documentElement.attachShadow)return null;if(typeof Y.getRootNode=="function"){const I=Y.getRootNode();return I instanceof ShadowRoot?I:null}return Y instanceof ShadowRoot?Y:Y.parentNode?d(Y.parentNode):null},p=()=>{},m=Y=>{Y.offsetHeight},g=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,v=[],S=()=>document.documentElement.dir==="rtl",y=Y=>{var I;I=()=>{const L=g();if(L){const ue=Y.NAME,ke=L.fn[ue];L.fn[ue]=Y.jQueryInterface,L.fn[ue].Constructor=Y,L.fn[ue].noConflict=()=>(L.fn[ue]=ke,Y.jQueryInterface)}},document.readyState==="loading"?(v.length||document.addEventListener("DOMContentLoaded",()=>{for(const L of v)L()}),v.push(I)):I()},x=(Y,I=[],L=Y)=>typeof Y=="function"?Y.call(...I):L,b=(Y,I,L=!0)=>{if(!L)return void x(Y);const ue=(Ge=>{if(!Ge)return 0;let{transitionDuration:Je,transitionDelay:st}=window.getComputedStyle(Ge);const bt=Number.parseFloat(Je),xt=Number.parseFloat(st);return bt||xt?(Je=Je.split(",")[0],st=st.split(",")[0],1e3*(Number.parseFloat(Je)+Number.parseFloat(st))):0})(I)+5;let ke=!1;const Me=({target:Ge})=>{Ge===I&&(ke=!0,I.removeEventListener(s,Me),x(Y))};I.addEventListener(s,Me),setTimeout(()=>{ke||l(I)},ue)},w=(Y,I,L,ue)=>{const ke=Y.length;let Me=Y.indexOf(I);return Me===-1?!L&&ue?Y[ke-1]:Y[0]:(Me+=L?1:-1,ue&&(Me=(Me+ke)%ke),Y[Math.max(0,Math.min(Me,ke-1))])},E=/[^.]*(?=\..*)\.|.*/,_=/\..*/,T=/::\d+$/,C={};let F=1;const k={mouseenter:"mouseover",mouseleave:"mouseout"},D=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function N(Y,I){return I&&`${I}::${F++}`||Y.uidEvent||F++}function M(Y){const I=N(Y);return Y.uidEvent=I,C[I]=C[I]||{},C[I]}function U(Y,I,L=null){return Object.values(Y).find(ue=>ue.callable===I&&ue.delegationSelector===L)}function R(Y,I,L){const ue=typeof I=="string",ke=ue?L:I||L;let Me=te(Y);return D.has(Me)||(Me=Y),[ue,ke,Me]}function W(Y,I,L,ue,ke){if(typeof I!="string"||!Y)return;let[Me,Ge,Je]=R(I,L,ue);I in k&&(Ge=(Gt=>function(Vt){if(!Vt.relatedTarget||Vt.relatedTarget!==Vt.delegateTarget&&!Vt.delegateTarget.contains(Vt.relatedTarget))return Gt.call(this,Vt)})(Ge));const st=M(Y),bt=st[Je]||(st[Je]={}),xt=U(bt,Ge,Me?L:null);if(xt)return void(xt.oneOff=xt.oneOff&&ke);const dt=N(Ge,I.replace(E,"")),tn=Me?(function(Lt,Gt,Vt){return function Ht(Mn){const zn=Lt.querySelectorAll(Gt);for(let{target:on}=Mn;on&&on!==this;on=on.parentNode)for(const Sn of zn)if(Sn===on)return ae(Mn,{delegateTarget:on}),Ht.oneOff&&J.off(Lt,Mn.type,Gt,Vt),Vt.apply(on,[Mn])}})(Y,L,Ge):(function(Lt,Gt){return function Vt(Ht){return ae(Ht,{delegateTarget:Lt}),Vt.oneOff&&J.off(Lt,Ht.type,Gt),Gt.apply(Lt,[Ht])}})(Y,Ge);tn.delegationSelector=Me?L:null,tn.callable=Ge,tn.oneOff=ke,tn.uidEvent=dt,bt[dt]=tn,Y.addEventListener(Je,tn,Me)}function ne(Y,I,L,ue,ke){const Me=U(I[L],ue,ke);Me&&(Y.removeEventListener(L,Me,!!ke),delete I[L][Me.uidEvent])}function ge(Y,I,L,ue){const ke=I[L]||{};for(const[Me,Ge]of Object.entries(ke))Me.includes(ue)&&ne(Y,I,L,Ge.callable,Ge.delegationSelector)}function te(Y){return Y=Y.replace(_,""),k[Y]||Y}const J={on(Y,I,L,ue){W(Y,I,L,ue,!1)},one(Y,I,L,ue){W(Y,I,L,ue,!0)},off(Y,I,L,ue){if(typeof I!="string"||!Y)return;const[ke,Me,Ge]=R(I,L,ue),Je=Ge!==I,st=M(Y),bt=st[Ge]||{},xt=I.startsWith(".");if(Me===void 0){if(xt)for(const dt of Object.keys(st))ge(Y,st,dt,I.slice(1));for(const[dt,tn]of Object.entries(bt)){const Lt=dt.replace(T,"");Je&&!I.includes(Lt)||ne(Y,st,Ge,tn.callable,tn.delegationSelector)}}else{if(!Object.keys(bt).length)return;ne(Y,st,Ge,Me,ke?L:null)}},trigger(Y,I,L){if(typeof I!="string"||!Y)return null;const ue=g();let ke=null,Me=!0,Ge=!0,Je=!1;I!==te(I)&&ue&&(ke=ue.Event(I,L),ue(Y).trigger(ke),Me=!ke.isPropagationStopped(),Ge=!ke.isImmediatePropagationStopped(),Je=ke.isDefaultPrevented());const st=ae(new Event(I,{bubbles:Me,cancelable:!0}),L);return Je&&st.preventDefault(),Ge&&Y.dispatchEvent(st),st.defaultPrevented&&ke&&ke.preventDefault(),st}};function ae(Y,I={}){for(const[L,ue]of Object.entries(I))try{Y[L]=ue}catch{Object.defineProperty(Y,L,{configurable:!0,get:()=>ue})}return Y}function xe(Y){if(Y==="true")return!0;if(Y==="false")return!1;if(Y===Number(Y).toString())return Number(Y);if(Y===""||Y==="null")return null;if(typeof Y!="string")return Y;try{return JSON.parse(decodeURIComponent(Y))}catch{return Y}}function Z(Y){return Y.replace(/[A-Z]/g,I=>`-${I.toLowerCase()}`)}const G={setDataAttribute(Y,I,L){Y.setAttribute(`data-bs-${Z(I)}`,L)},removeDataAttribute(Y,I){Y.removeAttribute(`data-bs-${Z(I)}`)},getDataAttributes(Y){if(!Y)return{};const I={},L=Object.keys(Y.dataset).filter(ue=>ue.startsWith("bs")&&!ue.startsWith("bsConfig"));for(const ue of L){let ke=ue.replace(/^bs/,"");ke=ke.charAt(0).toLowerCase()+ke.slice(1),I[ke]=xe(Y.dataset[ue])}return I},getDataAttribute:(Y,I)=>xe(Y.getAttribute(`data-bs-${Z(I)}`))};class ye{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(I){return I=this._mergeConfigObj(I),I=this._configAfterMerge(I),this._typeCheckConfig(I),I}_configAfterMerge(I){return I}_mergeConfigObj(I,L){const ue=u(L)?G.getDataAttribute(L,"config"):{};return{...this.constructor.Default,...typeof ue=="object"?ue:{},...u(L)?G.getDataAttributes(L):{},...typeof I=="object"?I:{}}}_typeCheckConfig(I,L=this.constructor.DefaultType){for(const[ue,ke]of Object.entries(L)){const Me=I[ue],Ge=u(Me)?"element":a(Me);if(!new RegExp(ke).test(Ge))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${ue}" provided type "${Ge}" but expected type "${ke}".`)}}}class Q extends ye{constructor(I,L){super(),(I=h(I))&&(this._element=I,this._config=this._getConfig(L),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),J.off(this._element,this.constructor.EVENT_KEY);for(const I of Object.getOwnPropertyNames(this))this[I]=null}_queueCallback(I,L,ue=!0){b(I,L,ue)}_getConfig(I){return I=this._mergeConfigObj(I,this._element),I=this._configAfterMerge(I),this._typeCheckConfig(I),I}static getInstance(I){return i.get(h(I),this.DATA_KEY)}static getOrCreateInstance(I,L={}){return this.getInstance(I)||new this(I,typeof L=="object"?L:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(I){return`${I}${this.EVENT_KEY}`}}const pe=Y=>{let I=Y.getAttribute("data-bs-target");if(!I||I==="#"){let L=Y.getAttribute("href");if(!L||!L.includes("#")&&!L.startsWith("."))return null;L.includes("#")&&!L.startsWith("#")&&(L=`#${L.split("#")[1]}`),I=L&&L!=="#"?L.trim():null}return I?I.split(",").map(L=>o(L)).join(","):null},$={find:(Y,I=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(I,Y)),findOne:(Y,I=document.documentElement)=>Element.prototype.querySelector.call(I,Y),children:(Y,I)=>[].concat(...Y.children).filter(L=>L.matches(I)),parents(Y,I){const L=[];let ue=Y.parentNode.closest(I);for(;ue;)L.push(ue),ue=ue.parentNode.closest(I);return L},prev(Y,I){let L=Y.previousElementSibling;for(;L;){if(L.matches(I))return[L];L=L.previousElementSibling}return[]},next(Y,I){let L=Y.nextElementSibling;for(;L;){if(L.matches(I))return[L];L=L.nextElementSibling}return[]},focusableChildren(Y){const I=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(L=>`${L}:not([tabindex^="-"])`).join(",");return this.find(I,Y).filter(L=>!f(L)&&c(L))},getSelectorFromElement(Y){const I=pe(Y);return I&&$.findOne(I)?I:null},getElementFromSelector(Y){const I=pe(Y);return I?$.findOne(I):null},getMultipleElementsFromSelector(Y){const I=pe(Y);return I?$.find(I):[]}},re=(Y,I="hide")=>{const L=`click.dismiss${Y.EVENT_KEY}`,ue=Y.NAME;J.on(document,L,`[data-bs-dismiss="${ue}"]`,function(ke){if(["A","AREA"].includes(this.tagName)&&ke.preventDefault(),f(this))return;const Me=$.getElementFromSelector(this)||this.closest(`.${ue}`);Y.getOrCreateInstance(Me)[I]()})},be=".bs.alert",Se=`close${be}`,j=`closed${be}`;class X extends Q{static get NAME(){return"alert"}close(){if(J.trigger(this._element,Se).defaultPrevented)return;this._element.classList.remove("show");const I=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,I)}_destroyElement(){this._element.remove(),J.trigger(this._element,j),this.dispose()}static jQueryInterface(I){return this.each(function(){const L=X.getOrCreateInstance(this);if(typeof I=="string"){if(L[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);L[I](this)}})}}re(X,"close"),y(X);const ee='[data-bs-toggle="button"]';class Ae extends Q{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(I){return this.each(function(){const L=Ae.getOrCreateInstance(this);I==="toggle"&&L[I]()})}}J.on(document,"click.bs.button.data-api",ee,Y=>{Y.preventDefault();const I=Y.target.closest(ee);Ae.getOrCreateInstance(I).toggle()}),y(Ae);const we=".bs.swipe",he=`touchstart${we}`,me=`touchmove${we}`,_e=`touchend${we}`,De=`pointerdown${we}`,Le=`pointerup${we}`,B={endCallback:null,leftCallback:null,rightCallback:null},Ue={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Oe extends ye{constructor(I,L){super(),this._element=I,I&&Oe.isSupported()&&(this._config=this._getConfig(L),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return B}static get DefaultType(){return Ue}static get NAME(){return"swipe"}dispose(){J.off(this._element,we)}_start(I){this._supportPointerEvents?this._eventIsPointerPenTouch(I)&&(this._deltaX=I.clientX):this._deltaX=I.touches[0].clientX}_end(I){this._eventIsPointerPenTouch(I)&&(this._deltaX=I.clientX-this._deltaX),this._handleSwipe(),x(this._config.endCallback)}_move(I){this._deltaX=I.touches&&I.touches.length>1?0:I.touches[0].clientX-this._deltaX}_handleSwipe(){const I=Math.abs(this._deltaX);if(I<=40)return;const L=I/this._deltaX;this._deltaX=0,L&&x(L>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(J.on(this._element,De,I=>this._start(I)),J.on(this._element,Le,I=>this._end(I)),this._element.classList.add("pointer-event")):(J.on(this._element,he,I=>this._start(I)),J.on(this._element,me,I=>this._move(I)),J.on(this._element,_e,I=>this._end(I)))}_eventIsPointerPenTouch(I){return this._supportPointerEvents&&(I.pointerType==="pen"||I.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Qe=".bs.carousel",We=".data-api",ft="ArrowLeft",Ce="ArrowRight",Fe="next",Pe="prev",$e="left",Ve="right",P=`slide${Qe}`,V=`slid${Qe}`,ie=`keydown${Qe}`,fe=`mouseenter${Qe}`,ve=`mouseleave${Qe}`,Ie=`dragstart${Qe}`,Te=`load${Qe}${We}`,qe=`click${Qe}${We}`,et="carousel",vt="active",hn=".active",O=".carousel-item",q=hn+O,z={[ft]:Ve,[Ce]:$e},H={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},de={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class je extends Q{constructor(I,L){super(I,L),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=$.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===et&&this.cycle()}static get Default(){return H}static get DefaultType(){return de}static get NAME(){return"carousel"}next(){this._slide(Fe)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(Pe)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?J.one(this._element,V,()=>this.cycle()):this.cycle())}to(I){const L=this._getItems();if(I>L.length-1||I<0)return;if(this._isSliding)return void J.one(this._element,V,()=>this.to(I));const ue=this._getItemIndex(this._getActive());if(ue===I)return;const ke=I>ue?Fe:Pe;this._slide(ke,L[I])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(I){return I.defaultInterval=I.interval,I}_addEventListeners(){this._config.keyboard&&J.on(this._element,ie,I=>this._keydown(I)),this._config.pause==="hover"&&(J.on(this._element,fe,()=>this.pause()),J.on(this._element,ve,()=>this._maybeEnableCycle())),this._config.touch&&Oe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const L of $.find(".carousel-item img",this._element))J.on(L,Ie,ue=>ue.preventDefault());const I={leftCallback:()=>this._slide(this._directionToOrder($e)),rightCallback:()=>this._slide(this._directionToOrder(Ve)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Oe(this._element,I)}_keydown(I){if(/input|textarea/i.test(I.target.tagName))return;const L=z[I.key];L&&(I.preventDefault(),this._slide(this._directionToOrder(L)))}_getItemIndex(I){return this._getItems().indexOf(I)}_setActiveIndicatorElement(I){if(!this._indicatorsElement)return;const L=$.findOne(hn,this._indicatorsElement);L.classList.remove(vt),L.removeAttribute("aria-current");const ue=$.findOne(`[data-bs-slide-to="${I}"]`,this._indicatorsElement);ue&&(ue.classList.add(vt),ue.setAttribute("aria-current","true"))}_updateInterval(){const I=this._activeElement||this._getActive();if(!I)return;const L=Number.parseInt(I.getAttribute("data-bs-interval"),10);this._config.interval=L||this._config.defaultInterval}_slide(I,L=null){if(this._isSliding)return;const ue=this._getActive(),ke=I===Fe,Me=L||w(this._getItems(),ue,ke,this._config.wrap);if(Me===ue)return;const Ge=this._getItemIndex(Me),Je=dt=>J.trigger(this._element,dt,{relatedTarget:Me,direction:this._orderToDirection(I),from:this._getItemIndex(ue),to:Ge});if(Je(P).defaultPrevented||!ue||!Me)return;const st=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Ge),this._activeElement=Me;const bt=ke?"carousel-item-start":"carousel-item-end",xt=ke?"carousel-item-next":"carousel-item-prev";Me.classList.add(xt),m(Me),ue.classList.add(bt),Me.classList.add(bt),this._queueCallback(()=>{Me.classList.remove(bt,xt),Me.classList.add(vt),ue.classList.remove(vt,xt,bt),this._isSliding=!1,Je(V)},ue,this._isAnimated()),st&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return $.findOne(q,this._element)}_getItems(){return $.find(O,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(I){return S()?I===$e?Pe:Fe:I===$e?Fe:Pe}_orderToDirection(I){return S()?I===Pe?$e:Ve:I===Pe?Ve:$e}static jQueryInterface(I){return this.each(function(){const L=je.getOrCreateInstance(this,I);if(typeof I!="number"){if(typeof I=="string"){if(L[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);L[I]()}}else L.to(I)})}}J.on(document,qe,"[data-bs-slide], [data-bs-slide-to]",function(Y){const I=$.getElementFromSelector(this);if(!I||!I.classList.contains(et))return;Y.preventDefault();const L=je.getOrCreateInstance(I),ue=this.getAttribute("data-bs-slide-to");return ue?(L.to(ue),void L._maybeEnableCycle()):G.getDataAttribute(this,"slide")==="next"?(L.next(),void L._maybeEnableCycle()):(L.prev(),void L._maybeEnableCycle())}),J.on(window,Te,()=>{const Y=$.find('[data-bs-ride="carousel"]');for(const I of Y)je.getOrCreateInstance(I)}),y(je);const He=".bs.collapse",tt=`show${He}`,mt=`shown${He}`,Qt=`hide${He}`,en=`hidden${He}`,Bn=`click${He}.data-api`,lr="show",Nr="collapse",gt="collapsing",ei=`:scope .${Nr} .${Nr}`,kt='[data-bs-toggle="collapse"]',Nc={parent:null,toggle:!0},Ga={parent:"(null|element)",toggle:"boolean"};class vi extends Q{constructor(I,L){super(I,L),this._isTransitioning=!1,this._triggerArray=[];const ue=$.find(kt);for(const ke of ue){const Me=$.getSelectorFromElement(ke),Ge=$.find(Me).filter(Je=>Je===this._element);Me!==null&&Ge.length&&this._triggerArray.push(ke)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Nc}static get DefaultType(){return Ga}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let I=[];if(this._config.parent&&(I=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ke=>ke!==this._element).map(ke=>vi.getOrCreateInstance(ke,{toggle:!1}))),I.length&&I[0]._isTransitioning||J.trigger(this._element,tt).defaultPrevented)return;for(const ke of I)ke.hide();const L=this._getDimension();this._element.classList.remove(Nr),this._element.classList.add(gt),this._element.style[L]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ue=`scroll${L[0].toUpperCase()+L.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(gt),this._element.classList.add(Nr,lr),this._element.style[L]="",J.trigger(this._element,mt)},this._element,!0),this._element.style[L]=`${this._element[ue]}px`}hide(){if(this._isTransitioning||!this._isShown()||J.trigger(this._element,Qt).defaultPrevented)return;const I=this._getDimension();this._element.style[I]=`${this._element.getBoundingClientRect()[I]}px`,m(this._element),this._element.classList.add(gt),this._element.classList.remove(Nr,lr);for(const L of this._triggerArray){const ue=$.getElementFromSelector(L);ue&&!this._isShown(ue)&&this._addAriaAndCollapsedClass([L],!1)}this._isTransitioning=!0,this._element.style[I]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(gt),this._element.classList.add(Nr),J.trigger(this._element,en)},this._element,!0)}_isShown(I=this._element){return I.classList.contains(lr)}_configAfterMerge(I){return I.toggle=!!I.toggle,I.parent=h(I.parent),I}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const I=this._getFirstLevelChildren(kt);for(const L of I){const ue=$.getElementFromSelector(L);ue&&this._addAriaAndCollapsedClass([L],this._isShown(ue))}}_getFirstLevelChildren(I){const L=$.find(ei,this._config.parent);return $.find(I,this._config.parent).filter(ue=>!L.includes(ue))}_addAriaAndCollapsedClass(I,L){if(I.length)for(const ue of I)ue.classList.toggle("collapsed",!L),ue.setAttribute("aria-expanded",L)}static jQueryInterface(I){const L={};return typeof I=="string"&&/show|hide/.test(I)&&(L.toggle=!1),this.each(function(){const ue=vi.getOrCreateInstance(this,L);if(typeof I=="string"){if(ue[I]===void 0)throw new TypeError(`No method named "${I}"`);ue[I]()}})}}J.on(document,Bn,kt,function(Y){(Y.target.tagName==="A"||Y.delegateTarget&&Y.delegateTarget.tagName==="A")&&Y.preventDefault();for(const I of $.getMultipleElementsFromSelector(this))vi.getOrCreateInstance(I,{toggle:!1}).toggle()}),y(vi);var fr="top",K="bottom",le="right",Ee="left",Ke="auto",nt=[fr,K,le,Ee],ut="start",It="end",Oi="clippingParents",Fr="viewport",Vr="popper",kr="reference",Og=nt.reduce(function(Y,I){return Y.concat([I+"-"+ut,I+"-"+It])},[]),Pg=[].concat(nt,[Ke]).reduce(function(Y,I){return Y.concat([I,I+"-"+ut,I+"-"+It])},[]),xo="beforeRead",ts="read",Px="afterRead",Lx="beforeMain",Rx="main",Bx="afterMain",Ux="beforeWrite",Vx="write",$x="afterWrite",jx=[xo,ts,Px,Lx,Rx,Bx,Ux,Vx,$x];function Js(Y){return Y?(Y.nodeName||"").toLowerCase():null}function ns(Y){if(Y==null)return window;if(Y.toString()!=="[object Window]"){var I=Y.ownerDocument;return I&&I.defaultView||window}return Y}function Ha(Y){return Y instanceof ns(Y).Element||Y instanceof Element}function ds(Y){return Y instanceof ns(Y).HTMLElement||Y instanceof HTMLElement}function Lg(Y){return typeof ShadowRoot<"u"&&(Y instanceof ns(Y).ShadowRoot||Y instanceof ShadowRoot)}const Rg={name:"applyStyles",enabled:!0,phase:"write",fn:function(Y){var I=Y.state;Object.keys(I.elements).forEach(function(L){var ue=I.styles[L]||{},ke=I.attributes[L]||{},Me=I.elements[L];ds(Me)&&Js(Me)&&(Object.assign(Me.style,ue),Object.keys(ke).forEach(function(Ge){var Je=ke[Ge];Je===!1?Me.removeAttribute(Ge):Me.setAttribute(Ge,Je===!0?"":Je)}))})},effect:function(Y){var I=Y.state,L={popper:{position:I.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(I.elements.popper.style,L.popper),I.styles=L,I.elements.arrow&&Object.assign(I.elements.arrow.style,L.arrow),function(){Object.keys(I.elements).forEach(function(ue){var ke=I.elements[ue],Me=I.attributes[ue]||{},Ge=Object.keys(I.styles.hasOwnProperty(ue)?I.styles[ue]:L[ue]).reduce(function(Je,st){return Je[st]="",Je},{});ds(ke)&&Js(ke)&&(Object.assign(ke.style,Ge),Object.keys(Me).forEach(function(Je){ke.removeAttribute(Je)}))})}},requires:["computeStyles"]};function Qs(Y){return Y.split("-")[0]}var Wa=Math.max,Pf=Math.min,uu=Math.round;function Bg(){var Y=navigator.userAgentData;return Y!=null&&Y.brands&&Array.isArray(Y.brands)?Y.brands.map(function(I){return I.brand+"/"+I.version}).join(" "):navigator.userAgent}function zx(){return!/^((?!chrome|android).)*safari/i.test(Bg())}function cu(Y,I,L){I===void 0&&(I=!1),L===void 0&&(L=!1);var ue=Y.getBoundingClientRect(),ke=1,Me=1;I&&ds(Y)&&(ke=Y.offsetWidth>0&&uu(ue.width)/Y.offsetWidth||1,Me=Y.offsetHeight>0&&uu(ue.height)/Y.offsetHeight||1);var Ge=(Ha(Y)?ns(Y):window).visualViewport,Je=!zx()&&L,st=(ue.left+(Je&&Ge?Ge.offsetLeft:0))/ke,bt=(ue.top+(Je&&Ge?Ge.offsetTop:0))/Me,xt=ue.width/ke,dt=ue.height/Me;return{width:xt,height:dt,top:bt,right:st+xt,bottom:bt+dt,left:st,x:st,y:bt}}function Ug(Y){var I=cu(Y),L=Y.offsetWidth,ue=Y.offsetHeight;return Math.abs(I.width-L)<=1&&(L=I.width),Math.abs(I.height-ue)<=1&&(ue=I.height),{x:Y.offsetLeft,y:Y.offsetTop,width:L,height:ue}}function Gx(Y,I){var L=I.getRootNode&&I.getRootNode();if(Y.contains(I))return!0;if(L&&Lg(L)){var ue=I;do{if(ue&&Y.isSameNode(ue))return!0;ue=ue.parentNode||ue.host}while(ue)}return!1}function _o(Y){return ns(Y).getComputedStyle(Y)}function UM(Y){return["table","td","th"].indexOf(Js(Y))>=0}function ia(Y){return((Ha(Y)?Y.ownerDocument:Y.document)||window.document).documentElement}function Lf(Y){return Js(Y)==="html"?Y:Y.assignedSlot||Y.parentNode||(Lg(Y)?Y.host:null)||ia(Y)}function Hx(Y){return ds(Y)&&_o(Y).position!=="fixed"?Y.offsetParent:null}function Fc(Y){for(var I=ns(Y),L=Hx(Y);L&&UM(L)&&_o(L).position==="static";)L=Hx(L);return L&&(Js(L)==="html"||Js(L)==="body"&&_o(L).position==="static")?I:L||(function(ue){var ke=/firefox/i.test(Bg());if(/Trident/i.test(Bg())&&ds(ue)&&_o(ue).position==="fixed")return null;var Me=Lf(ue);for(Lg(Me)&&(Me=Me.host);ds(Me)&&["html","body"].indexOf(Js(Me))<0;){var Ge=_o(Me);if(Ge.transform!=="none"||Ge.perspective!=="none"||Ge.contain==="paint"||["transform","perspective"].indexOf(Ge.willChange)!==-1||ke&&Ge.willChange==="filter"||ke&&Ge.filter&&Ge.filter!=="none")return Me;Me=Me.parentNode}return null})(Y)||I}function Vg(Y){return["top","bottom"].indexOf(Y)>=0?"x":"y"}function kc(Y,I,L){return Wa(Y,Pf(I,L))}function Wx(Y){return Object.assign({},{top:0,right:0,bottom:0,left:0},Y)}function Xx(Y,I){return I.reduce(function(L,ue){return L[ue]=Y,L},{})}const qx={name:"arrow",enabled:!0,phase:"main",fn:function(Y){var I,L=Y.state,ue=Y.name,ke=Y.options,Me=L.elements.arrow,Ge=L.modifiersData.popperOffsets,Je=Qs(L.placement),st=Vg(Je),bt=[Ee,le].indexOf(Je)>=0?"height":"width";if(Me&&Ge){var xt=(function(On,Fn){return Wx(typeof(On=typeof On=="function"?On(Object.assign({},Fn.rects,{placement:Fn.placement})):On)!="number"?On:Xx(On,nt))})(ke.padding,L),dt=Ug(Me),tn=st==="y"?fr:Ee,Lt=st==="y"?K:le,Gt=L.rects.reference[bt]+L.rects.reference[st]-Ge[st]-L.rects.popper[bt],Vt=Ge[st]-L.rects.reference[st],Ht=Fc(Me),Mn=Ht?st==="y"?Ht.clientHeight||0:Ht.clientWidth||0:0,zn=Gt/2-Vt/2,on=xt[tn],Sn=Mn-dt[bt]-xt[Lt],nn=Mn/2-dt[bt]/2+zn,vn=kc(on,nn,Sn),Nn=st;L.modifiersData[ue]=((I={})[Nn]=vn,I.centerOffset=vn-nn,I)}},effect:function(Y){var I=Y.state,L=Y.options.element,ue=L===void 0?"[data-popper-arrow]":L;ue!=null&&(typeof ue!="string"||(ue=I.elements.popper.querySelector(ue)))&&Gx(I.elements.popper,ue)&&(I.elements.arrow=ue)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hu(Y){return Y.split("-")[1]}var VM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yx(Y){var I,L=Y.popper,ue=Y.popperRect,ke=Y.placement,Me=Y.variation,Ge=Y.offsets,Je=Y.position,st=Y.gpuAcceleration,bt=Y.adaptive,xt=Y.roundOffsets,dt=Y.isFixed,tn=Ge.x,Lt=tn===void 0?0:tn,Gt=Ge.y,Vt=Gt===void 0?0:Gt,Ht=typeof xt=="function"?xt({x:Lt,y:Vt}):{x:Lt,y:Vt};Lt=Ht.x,Vt=Ht.y;var Mn=Ge.hasOwnProperty("x"),zn=Ge.hasOwnProperty("y"),on=Ee,Sn=fr,nn=window;if(bt){var vn=Fc(L),Nn="clientHeight",On="clientWidth";vn===ns(L)&&_o(vn=ia(L)).position!=="static"&&Je==="absolute"&&(Nn="scrollHeight",On="scrollWidth"),(ke===fr||(ke===Ee||ke===le)&&Me===It)&&(Sn=K,Vt-=(dt&&vn===nn&&nn.visualViewport?nn.visualViewport.height:vn[Nn])-ue.height,Vt*=st?1:-1),ke!==Ee&&(ke!==fr&&ke!==K||Me!==It)||(on=le,Lt-=(dt&&vn===nn&&nn.visualViewport?nn.visualViewport.width:vn[On])-ue.width,Lt*=st?1:-1)}var Fn,_r=Object.assign({position:Je},bt&&VM),rs=xt===!0?(function(Ms,yi){var ms=Ms.x,gs=Ms.y,dr=yi.devicePixelRatio||1;return{x:uu(ms*dr)/dr||0,y:uu(gs*dr)/dr||0}})({x:Lt,y:Vt},ns(L)):{x:Lt,y:Vt};return Lt=rs.x,Vt=rs.y,st?Object.assign({},_r,((Fn={})[Sn]=zn?"0":"",Fn[on]=Mn?"0":"",Fn.transform=(nn.devicePixelRatio||1)<=1?"translate("+Lt+"px, "+Vt+"px)":"translate3d("+Lt+"px, "+Vt+"px, 0)",Fn)):Object.assign({},_r,((I={})[Sn]=zn?Vt+"px":"",I[on]=Mn?Lt+"px":"",I.transform="",I))}const $g={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Y){var I=Y.state,L=Y.options,ue=L.gpuAcceleration,ke=ue===void 0||ue,Me=L.adaptive,Ge=Me===void 0||Me,Je=L.roundOffsets,st=Je===void 0||Je,bt={placement:Qs(I.placement),variation:hu(I.placement),popper:I.elements.popper,popperRect:I.rects.popper,gpuAcceleration:ke,isFixed:I.options.strategy==="fixed"};I.modifiersData.popperOffsets!=null&&(I.styles.popper=Object.assign({},I.styles.popper,Yx(Object.assign({},bt,{offsets:I.modifiersData.popperOffsets,position:I.options.strategy,adaptive:Ge,roundOffsets:st})))),I.modifiersData.arrow!=null&&(I.styles.arrow=Object.assign({},I.styles.arrow,Yx(Object.assign({},bt,{offsets:I.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:st})))),I.attributes.popper=Object.assign({},I.attributes.popper,{"data-popper-placement":I.placement})},data:{}};var Rf={passive:!0};const jg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Y){var I=Y.state,L=Y.instance,ue=Y.options,ke=ue.scroll,Me=ke===void 0||ke,Ge=ue.resize,Je=Ge===void 0||Ge,st=ns(I.elements.popper),bt=[].concat(I.scrollParents.reference,I.scrollParents.popper);return Me&&bt.forEach(function(xt){xt.addEventListener("scroll",L.update,Rf)}),Je&&st.addEventListener("resize",L.update,Rf),function(){Me&&bt.forEach(function(xt){xt.removeEventListener("scroll",L.update,Rf)}),Je&&st.removeEventListener("resize",L.update,Rf)}},data:{}};var $M={left:"right",right:"left",bottom:"top",top:"bottom"};function Bf(Y){return Y.replace(/left|right|bottom|top/g,function(I){return $M[I]})}var jM={start:"end",end:"start"};function Kx(Y){return Y.replace(/start|end/g,function(I){return jM[I]})}function zg(Y){var I=ns(Y);return{scrollLeft:I.pageXOffset,scrollTop:I.pageYOffset}}function Gg(Y){return cu(ia(Y)).left+zg(Y).scrollLeft}function Hg(Y){var I=_o(Y),L=I.overflow,ue=I.overflowX,ke=I.overflowY;return/auto|scroll|overlay|hidden/.test(L+ke+ue)}function Zx(Y){return["html","body","#document"].indexOf(Js(Y))>=0?Y.ownerDocument.body:ds(Y)&&Hg(Y)?Y:Zx(Lf(Y))}function Mc(Y,I){var L;I===void 0&&(I=[]);var ue=Zx(Y),ke=ue===((L=Y.ownerDocument)==null?void 0:L.body),Me=ns(ue),Ge=ke?[Me].concat(Me.visualViewport||[],Hg(ue)?ue:[]):ue,Je=I.concat(Ge);return ke?Je:Je.concat(Mc(Lf(Ge)))}function Wg(Y){return Object.assign({},Y,{left:Y.x,top:Y.y,right:Y.x+Y.width,bottom:Y.y+Y.height})}function Jx(Y,I,L){return I===Fr?Wg((function(ue,ke){var Me=ns(ue),Ge=ia(ue),Je=Me.visualViewport,st=Ge.clientWidth,bt=Ge.clientHeight,xt=0,dt=0;if(Je){st=Je.width,bt=Je.height;var tn=zx();(tn||!tn&&ke==="fixed")&&(xt=Je.offsetLeft,dt=Je.offsetTop)}return{width:st,height:bt,x:xt+Gg(ue),y:dt}})(Y,L)):Ha(I)?(function(ue,ke){var Me=cu(ue,!1,ke==="fixed");return Me.top=Me.top+ue.clientTop,Me.left=Me.left+ue.clientLeft,Me.bottom=Me.top+ue.clientHeight,Me.right=Me.left+ue.clientWidth,Me.width=ue.clientWidth,Me.height=ue.clientHeight,Me.x=Me.left,Me.y=Me.top,Me})(I,L):Wg((function(ue){var ke,Me=ia(ue),Ge=zg(ue),Je=(ke=ue.ownerDocument)==null?void 0:ke.body,st=Wa(Me.scrollWidth,Me.clientWidth,Je?Je.scrollWidth:0,Je?Je.clientWidth:0),bt=Wa(Me.scrollHeight,Me.clientHeight,Je?Je.scrollHeight:0,Je?Je.clientHeight:0),xt=-Ge.scrollLeft+Gg(ue),dt=-Ge.scrollTop;return _o(Je||Me).direction==="rtl"&&(xt+=Wa(Me.clientWidth,Je?Je.clientWidth:0)-st),{width:st,height:bt,x:xt,y:dt}})(ia(Y)))}function Qx(Y){var I,L=Y.reference,ue=Y.element,ke=Y.placement,Me=ke?Qs(ke):null,Ge=ke?hu(ke):null,Je=L.x+L.width/2-ue.width/2,st=L.y+L.height/2-ue.height/2;switch(Me){case fr:I={x:Je,y:L.y-ue.height};break;case K:I={x:Je,y:L.y+L.height};break;case le:I={x:L.x+L.width,y:st};break;case Ee:I={x:L.x-ue.width,y:st};break;default:I={x:L.x,y:L.y}}var bt=Me?Vg(Me):null;if(bt!=null){var xt=bt==="y"?"height":"width";switch(Ge){case ut:I[bt]=I[bt]-(L[xt]/2-ue[xt]/2);break;case It:I[bt]=I[bt]+(L[xt]/2-ue[xt]/2)}}return I}function fu(Y,I){I===void 0&&(I={});var L=I,ue=L.placement,ke=ue===void 0?Y.placement:ue,Me=L.strategy,Ge=Me===void 0?Y.strategy:Me,Je=L.boundary,st=Je===void 0?Oi:Je,bt=L.rootBoundary,xt=bt===void 0?Fr:bt,dt=L.elementContext,tn=dt===void 0?Vr:dt,Lt=L.altBoundary,Gt=Lt!==void 0&&Lt,Vt=L.padding,Ht=Vt===void 0?0:Vt,Mn=Wx(typeof Ht!="number"?Ht:Xx(Ht,nt)),zn=tn===Vr?kr:Vr,on=Y.rects.popper,Sn=Y.elements[Gt?zn:tn],nn=(function(yi,ms,gs,dr){var eo=ms==="clippingParents"?(function(Un){var bi=Mc(Lf(Un)),vs=["absolute","fixed"].indexOf(_o(Un).position)>=0&&ds(Un)?Fc(Un):Un;return Ha(vs)?bi.filter(function(oa){return Ha(oa)&&Gx(oa,vs)&&Js(oa)!=="body"}):[]})(yi):[].concat(ms),to=[].concat(eo,[gs]),mu=to[0],$r=to.reduce(function(Un,bi){var vs=Jx(yi,bi,dr);return Un.top=Wa(vs.top,Un.top),Un.right=Pf(vs.right,Un.right),Un.bottom=Pf(vs.bottom,Un.bottom),Un.left=Wa(vs.left,Un.left),Un},Jx(yi,mu,dr));return $r.width=$r.right-$r.left,$r.height=$r.bottom-$r.top,$r.x=$r.left,$r.y=$r.top,$r})(Ha(Sn)?Sn:Sn.contextElement||ia(Y.elements.popper),st,xt,Ge),vn=cu(Y.elements.reference),Nn=Qx({reference:vn,element:on,placement:ke}),On=Wg(Object.assign({},on,Nn)),Fn=tn===Vr?On:vn,_r={top:nn.top-Fn.top+Mn.top,bottom:Fn.bottom-nn.bottom+Mn.bottom,left:nn.left-Fn.left+Mn.left,right:Fn.right-nn.right+Mn.right},rs=Y.modifiersData.offset;if(tn===Vr&&rs){var Ms=rs[ke];Object.keys(_r).forEach(function(yi){var ms=[le,K].indexOf(yi)>=0?1:-1,gs=[fr,K].indexOf(yi)>=0?"y":"x";_r[yi]+=Ms[gs]*ms})}return _r}function zM(Y,I){I===void 0&&(I={});var L=I,ue=L.placement,ke=L.boundary,Me=L.rootBoundary,Ge=L.padding,Je=L.flipVariations,st=L.allowedAutoPlacements,bt=st===void 0?Pg:st,xt=hu(ue),dt=xt?Je?Og:Og.filter(function(Gt){return hu(Gt)===xt}):nt,tn=dt.filter(function(Gt){return bt.indexOf(Gt)>=0});tn.length===0&&(tn=dt);var Lt=tn.reduce(function(Gt,Vt){return Gt[Vt]=fu(Y,{placement:Vt,boundary:ke,rootBoundary:Me,padding:Ge})[Qs(Vt)],Gt},{});return Object.keys(Lt).sort(function(Gt,Vt){return Lt[Gt]-Lt[Vt]})}const e_={name:"flip",enabled:!0,phase:"main",fn:function(Y){var I=Y.state,L=Y.options,ue=Y.name;if(!I.modifiersData[ue]._skip){for(var ke=L.mainAxis,Me=ke===void 0||ke,Ge=L.altAxis,Je=Ge===void 0||Ge,st=L.fallbackPlacements,bt=L.padding,xt=L.boundary,dt=L.rootBoundary,tn=L.altBoundary,Lt=L.flipVariations,Gt=Lt===void 0||Lt,Vt=L.allowedAutoPlacements,Ht=I.options.placement,Mn=Qs(Ht),zn=st||(Mn!==Ht&&Gt?(function(Un){if(Qs(Un)===Ke)return[];var bi=Bf(Un);return[Kx(Un),bi,Kx(bi)]})(Ht):[Bf(Ht)]),on=[Ht].concat(zn).reduce(function(Un,bi){return Un.concat(Qs(bi)===Ke?zM(I,{placement:bi,boundary:xt,rootBoundary:dt,padding:bt,flipVariations:Gt,allowedAutoPlacements:Vt}):bi)},[]),Sn=I.rects.reference,nn=I.rects.popper,vn=new Map,Nn=!0,On=on[0],Fn=0;Fn<on.length;Fn++){var _r=on[Fn],rs=Qs(_r),Ms=hu(_r)===ut,yi=[fr,K].indexOf(rs)>=0,ms=yi?"width":"height",gs=fu(I,{placement:_r,boundary:xt,rootBoundary:dt,altBoundary:tn,padding:bt}),dr=yi?Ms?le:Ee:Ms?K:fr;Sn[ms]>nn[ms]&&(dr=Bf(dr));var eo=Bf(dr),to=[];if(Me&&to.push(gs[rs]<=0),Je&&to.push(gs[dr]<=0,gs[eo]<=0),to.every(function(Un){return Un})){On=_r,Nn=!1;break}vn.set(_r,to)}if(Nn)for(var mu=function(Un){var bi=on.find(function(vs){var oa=vn.get(vs);if(oa)return oa.slice(0,Un).every(function(Xf){return Xf})});if(bi)return On=bi,"break"},$r=Gt?3:1;$r>0&&mu($r)!=="break";$r--);I.placement!==On&&(I.modifiersData[ue]._skip=!0,I.placement=On,I.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function t_(Y,I,L){return L===void 0&&(L={x:0,y:0}),{top:Y.top-I.height-L.y,right:Y.right-I.width+L.x,bottom:Y.bottom-I.height+L.y,left:Y.left-I.width-L.x}}function n_(Y){return[fr,le,K,Ee].some(function(I){return Y[I]>=0})}const r_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Y){var I=Y.state,L=Y.name,ue=I.rects.reference,ke=I.rects.popper,Me=I.modifiersData.preventOverflow,Ge=fu(I,{elementContext:"reference"}),Je=fu(I,{altBoundary:!0}),st=t_(Ge,ue),bt=t_(Je,ke,Me),xt=n_(st),dt=n_(bt);I.modifiersData[L]={referenceClippingOffsets:st,popperEscapeOffsets:bt,isReferenceHidden:xt,hasPopperEscaped:dt},I.attributes.popper=Object.assign({},I.attributes.popper,{"data-popper-reference-hidden":xt,"data-popper-escaped":dt})}},i_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Y){var I=Y.state,L=Y.options,ue=Y.name,ke=L.offset,Me=ke===void 0?[0,0]:ke,Ge=Pg.reduce(function(xt,dt){return xt[dt]=(function(tn,Lt,Gt){var Vt=Qs(tn),Ht=[Ee,fr].indexOf(Vt)>=0?-1:1,Mn=typeof Gt=="function"?Gt(Object.assign({},Lt,{placement:tn})):Gt,zn=Mn[0],on=Mn[1];return zn=zn||0,on=(on||0)*Ht,[Ee,le].indexOf(Vt)>=0?{x:on,y:zn}:{x:zn,y:on}})(dt,I.rects,Me),xt},{}),Je=Ge[I.placement],st=Je.x,bt=Je.y;I.modifiersData.popperOffsets!=null&&(I.modifiersData.popperOffsets.x+=st,I.modifiersData.popperOffsets.y+=bt),I.modifiersData[ue]=Ge}},Xg={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Y){var I=Y.state,L=Y.name;I.modifiersData[L]=Qx({reference:I.rects.reference,element:I.rects.popper,placement:I.placement})},data:{}},s_={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Y){var I=Y.state,L=Y.options,ue=Y.name,ke=L.mainAxis,Me=ke===void 0||ke,Ge=L.altAxis,Je=Ge!==void 0&&Ge,st=L.boundary,bt=L.rootBoundary,xt=L.altBoundary,dt=L.padding,tn=L.tether,Lt=tn===void 0||tn,Gt=L.tetherOffset,Vt=Gt===void 0?0:Gt,Ht=fu(I,{boundary:st,rootBoundary:bt,padding:dt,altBoundary:xt}),Mn=Qs(I.placement),zn=hu(I.placement),on=!zn,Sn=Vg(Mn),nn=Sn==="x"?"y":"x",vn=I.modifiersData.popperOffsets,Nn=I.rects.reference,On=I.rects.popper,Fn=typeof Vt=="function"?Vt(Object.assign({},I.rects,{placement:I.placement})):Vt,_r=typeof Fn=="number"?{mainAxis:Fn,altAxis:Fn}:Object.assign({mainAxis:0,altAxis:0},Fn),rs=I.modifiersData.offset?I.modifiersData.offset[I.placement]:null,Ms={x:0,y:0};if(vn){if(Me){var yi,ms=Sn==="y"?fr:Ee,gs=Sn==="y"?K:le,dr=Sn==="y"?"height":"width",eo=vn[Sn],to=eo+Ht[ms],mu=eo-Ht[gs],$r=Lt?-On[dr]/2:0,Un=zn===ut?Nn[dr]:On[dr],bi=zn===ut?-On[dr]:-Nn[dr],vs=I.elements.arrow,oa=Lt&&vs?Ug(vs):{width:0,height:0},Xf=I.modifiersData["arrow#persistent"]?I.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H_=Xf[ms],W_=Xf[gs],qf=kc(0,Nn[dr],oa[dr]),_O=on?Nn[dr]/2-$r-qf-H_-_r.mainAxis:Un-qf-H_-_r.mainAxis,wO=on?-Nn[dr]/2+$r+qf+W_+_r.mainAxis:bi+qf+W_+_r.mainAxis,a0=I.elements.arrow&&Fc(I.elements.arrow),EO=a0?Sn==="y"?a0.clientTop||0:a0.clientLeft||0:0,X_=(yi=rs?.[Sn])!=null?yi:0,SO=eo+wO-X_,q_=kc(Lt?Pf(to,eo+_O-X_-EO):to,eo,Lt?Wa(mu,SO):mu);vn[Sn]=q_,Ms[Sn]=q_-eo}if(Je){var Y_,CO=Sn==="x"?fr:Ee,AO=Sn==="x"?K:le,el=vn[nn],Yf=nn==="y"?"height":"width",K_=el+Ht[CO],Z_=el-Ht[AO],l0=[fr,Ee].indexOf(Mn)!==-1,J_=(Y_=rs?.[nn])!=null?Y_:0,Q_=l0?K_:el-Nn[Yf]-On[Yf]-J_+_r.altAxis,ew=l0?el+Nn[Yf]+On[Yf]-J_-_r.altAxis:Z_,tw=Lt&&l0?(function(TO,IO,u0){var nw=kc(TO,IO,u0);return nw>u0?u0:nw})(Q_,el,ew):kc(Lt?Q_:K_,el,Lt?ew:Z_);vn[nn]=tw,Ms[nn]=tw-el}I.modifiersData[ue]=Ms}},requiresIfExists:["offset"]};function GM(Y,I,L){L===void 0&&(L=!1);var ue,ke,Me=ds(I),Ge=ds(I)&&(function(dt){var tn=dt.getBoundingClientRect(),Lt=uu(tn.width)/dt.offsetWidth||1,Gt=uu(tn.height)/dt.offsetHeight||1;return Lt!==1||Gt!==1})(I),Je=ia(I),st=cu(Y,Ge,L),bt={scrollLeft:0,scrollTop:0},xt={x:0,y:0};return(Me||!Me&&!L)&&((Js(I)!=="body"||Hg(Je))&&(bt=(ue=I)!==ns(ue)&&ds(ue)?{scrollLeft:(ke=ue).scrollLeft,scrollTop:ke.scrollTop}:zg(ue)),ds(I)?((xt=cu(I,!0)).x+=I.clientLeft,xt.y+=I.clientTop):Je&&(xt.x=Gg(Je))),{x:st.left+bt.scrollLeft-xt.x,y:st.top+bt.scrollTop-xt.y,width:st.width,height:st.height}}function HM(Y){var I=new Map,L=new Set,ue=[];function ke(Me){L.add(Me.name),[].concat(Me.requires||[],Me.requiresIfExists||[]).forEach(function(Ge){if(!L.has(Ge)){var Je=I.get(Ge);Je&&ke(Je)}}),ue.push(Me)}return Y.forEach(function(Me){I.set(Me.name,Me)}),Y.forEach(function(Me){L.has(Me.name)||ke(Me)}),ue}var o_={placement:"bottom",modifiers:[],strategy:"absolute"};function a_(){for(var Y=arguments.length,I=new Array(Y),L=0;L<Y;L++)I[L]=arguments[L];return!I.some(function(ue){return!(ue&&typeof ue.getBoundingClientRect=="function")})}function Uf(Y){Y===void 0&&(Y={});var I=Y,L=I.defaultModifiers,ue=L===void 0?[]:L,ke=I.defaultOptions,Me=ke===void 0?o_:ke;return function(Ge,Je,st){st===void 0&&(st=Me);var bt,xt,dt={placement:"bottom",orderedModifiers:[],options:Object.assign({},o_,Me),modifiersData:{},elements:{reference:Ge,popper:Je},attributes:{},styles:{}},tn=[],Lt=!1,Gt={state:dt,setOptions:function(Ht){var Mn=typeof Ht=="function"?Ht(dt.options):Ht;Vt(),dt.options=Object.assign({},Me,dt.options,Mn),dt.scrollParents={reference:Ha(Ge)?Mc(Ge):Ge.contextElement?Mc(Ge.contextElement):[],popper:Mc(Je)};var zn,on,Sn=(function(nn){var vn=HM(nn);return jx.reduce(function(Nn,On){return Nn.concat(vn.filter(function(Fn){return Fn.phase===On}))},[])})((zn=[].concat(ue,dt.options.modifiers),on=zn.reduce(function(nn,vn){var Nn=nn[vn.name];return nn[vn.name]=Nn?Object.assign({},Nn,vn,{options:Object.assign({},Nn.options,vn.options),data:Object.assign({},Nn.data,vn.data)}):vn,nn},{}),Object.keys(on).map(function(nn){return on[nn]})));return dt.orderedModifiers=Sn.filter(function(nn){return nn.enabled}),dt.orderedModifiers.forEach(function(nn){var vn=nn.name,Nn=nn.options,On=Nn===void 0?{}:Nn,Fn=nn.effect;if(typeof Fn=="function"){var _r=Fn({state:dt,name:vn,instance:Gt,options:On});tn.push(_r||function(){})}}),Gt.update()},forceUpdate:function(){if(!Lt){var Ht=dt.elements,Mn=Ht.reference,zn=Ht.popper;if(a_(Mn,zn)){dt.rects={reference:GM(Mn,Fc(zn),dt.options.strategy==="fixed"),popper:Ug(zn)},dt.reset=!1,dt.placement=dt.options.placement,dt.orderedModifiers.forEach(function(Fn){return dt.modifiersData[Fn.name]=Object.assign({},Fn.data)});for(var on=0;on<dt.orderedModifiers.length;on++)if(dt.reset!==!0){var Sn=dt.orderedModifiers[on],nn=Sn.fn,vn=Sn.options,Nn=vn===void 0?{}:vn,On=Sn.name;typeof nn=="function"&&(dt=nn({state:dt,options:Nn,name:On,instance:Gt})||dt)}else dt.reset=!1,on=-1}}},update:(bt=function(){return new Promise(function(Ht){Gt.forceUpdate(),Ht(dt)})},function(){return xt||(xt=new Promise(function(Ht){Promise.resolve().then(function(){xt=void 0,Ht(bt())})})),xt}),destroy:function(){Vt(),Lt=!0}};if(!a_(Ge,Je))return Gt;function Vt(){tn.forEach(function(Ht){return Ht()}),tn=[]}return Gt.setOptions(st).then(function(Ht){!Lt&&st.onFirstUpdate&&st.onFirstUpdate(Ht)}),Gt}}var WM=Uf(),XM=Uf({defaultModifiers:[jg,Xg,$g,Rg]}),qg=Uf({defaultModifiers:[jg,Xg,$g,Rg,i_,e_,s_,qx,r_]});const l_=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Bx,afterRead:Px,afterWrite:$x,applyStyles:Rg,arrow:qx,auto:Ke,basePlacements:nt,beforeMain:Lx,beforeRead:xo,beforeWrite:Ux,bottom:K,clippingParents:Oi,computeStyles:$g,createPopper:qg,createPopperBase:WM,createPopperLite:XM,detectOverflow:fu,end:It,eventListeners:jg,flip:e_,hide:r_,left:Ee,main:Rx,modifierPhases:jx,offset:i_,placements:Pg,popper:Vr,popperGenerator:Uf,popperOffsets:Xg,preventOverflow:s_,read:ts,reference:kr,right:le,start:ut,top:fr,variationPlacements:Og,viewport:Fr,write:Vx},Symbol.toStringTag,{value:"Module"})),u_="dropdown",Xa=".bs.dropdown",Yg=".data-api",qM="ArrowUp",c_="ArrowDown",YM=`hide${Xa}`,KM=`hidden${Xa}`,ZM=`show${Xa}`,JM=`shown${Xa}`,h_=`click${Xa}${Yg}`,f_=`keydown${Xa}${Yg}`,QM=`keyup${Xa}${Yg}`,du="show",qa='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',e3=`${qa}.${du}`,Vf=".dropdown-menu",t3=S()?"top-end":"top-start",n3=S()?"top-start":"top-end",r3=S()?"bottom-end":"bottom-start",i3=S()?"bottom-start":"bottom-end",s3=S()?"left-start":"right-start",o3=S()?"right-start":"left-start",a3={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},l3={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ks extends Q{constructor(I,L){super(I,L),this._popper=null,this._parent=this._element.parentNode,this._menu=$.next(this._element,Vf)[0]||$.prev(this._element,Vf)[0]||$.findOne(Vf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return a3}static get DefaultType(){return l3}static get NAME(){return u_}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const I={relatedTarget:this._element};if(!J.trigger(this._element,ZM,I).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const L of[].concat(...document.body.children))J.on(L,"mouseover",p);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(du),this._element.classList.add(du),J.trigger(this._element,JM,I)}}hide(){if(f(this._element)||!this._isShown())return;const I={relatedTarget:this._element};this._completeHide(I)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(I){if(!J.trigger(this._element,YM,I).defaultPrevented){if("ontouchstart"in document.documentElement)for(const L of[].concat(...document.body.children))J.off(L,"mouseover",p);this._popper&&this._popper.destroy(),this._menu.classList.remove(du),this._element.classList.remove(du),this._element.setAttribute("aria-expanded","false"),G.removeDataAttribute(this._menu,"popper"),J.trigger(this._element,KM,I)}}_getConfig(I){if(typeof(I=super._getConfig(I)).reference=="object"&&!u(I.reference)&&typeof I.reference.getBoundingClientRect!="function")throw new TypeError(`${u_.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return I}_createPopper(){if(l_===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let I=this._element;this._config.reference==="parent"?I=this._parent:u(this._config.reference)?I=h(this._config.reference):typeof this._config.reference=="object"&&(I=this._config.reference);const L=this._getPopperConfig();this._popper=qg(I,this._menu,L)}_isShown(){return this._menu.classList.contains(du)}_getPlacement(){const I=this._parent;if(I.classList.contains("dropend"))return s3;if(I.classList.contains("dropstart"))return o3;if(I.classList.contains("dropup-center"))return"top";if(I.classList.contains("dropdown-center"))return"bottom";const L=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return I.classList.contains("dropup")?L?n3:t3:L?i3:r3}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:I}=this._config;return typeof I=="string"?I.split(",").map(L=>Number.parseInt(L,10)):typeof I=="function"?L=>I(L,this._element):I}_getPopperConfig(){const I={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(G.setDataAttribute(this._menu,"popper","static"),I.modifiers=[{name:"applyStyles",enabled:!1}]),{...I,...x(this._config.popperConfig,[void 0,I])}}_selectMenuItem({key:I,target:L}){const ue=$.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(ke=>c(ke));ue.length&&w(ue,L,I===c_,!ue.includes(L)).focus()}static jQueryInterface(I){return this.each(function(){const L=ks.getOrCreateInstance(this,I);if(typeof I=="string"){if(L[I]===void 0)throw new TypeError(`No method named "${I}"`);L[I]()}})}static clearMenus(I){if(I.button===2||I.type==="keyup"&&I.key!=="Tab")return;const L=$.find(e3);for(const ue of L){const ke=ks.getInstance(ue);if(!ke||ke._config.autoClose===!1)continue;const Me=I.composedPath(),Ge=Me.includes(ke._menu);if(Me.includes(ke._element)||ke._config.autoClose==="inside"&&!Ge||ke._config.autoClose==="outside"&&Ge||ke._menu.contains(I.target)&&(I.type==="keyup"&&I.key==="Tab"||/input|select|option|textarea|form/i.test(I.target.tagName)))continue;const Je={relatedTarget:ke._element};I.type==="click"&&(Je.clickEvent=I),ke._completeHide(Je)}}static dataApiKeydownHandler(I){const L=/input|textarea/i.test(I.target.tagName),ue=I.key==="Escape",ke=[qM,c_].includes(I.key);if(!ke&&!ue||L&&!ue)return;I.preventDefault();const Me=this.matches(qa)?this:$.prev(this,qa)[0]||$.next(this,qa)[0]||$.findOne(qa,I.delegateTarget.parentNode),Ge=ks.getOrCreateInstance(Me);if(ke)return I.stopPropagation(),Ge.show(),void Ge._selectMenuItem(I);Ge._isShown()&&(I.stopPropagation(),Ge.hide(),Me.focus())}}J.on(document,f_,qa,ks.dataApiKeydownHandler),J.on(document,f_,Vf,ks.dataApiKeydownHandler),J.on(document,h_,ks.clearMenus),J.on(document,QM,ks.clearMenus),J.on(document,h_,qa,function(Y){Y.preventDefault(),ks.getOrCreateInstance(this).toggle()}),y(ks);const d_="backdrop",p_="show",m_=`mousedown.bs.${d_}`,u3={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},c3={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class g_ extends ye{constructor(I){super(),this._config=this._getConfig(I),this._isAppended=!1,this._element=null}static get Default(){return u3}static get DefaultType(){return c3}static get NAME(){return d_}show(I){if(!this._config.isVisible)return void x(I);this._append();const L=this._getElement();this._config.isAnimated&&m(L),L.classList.add(p_),this._emulateAnimation(()=>{x(I)})}hide(I){this._config.isVisible?(this._getElement().classList.remove(p_),this._emulateAnimation(()=>{this.dispose(),x(I)})):x(I)}dispose(){this._isAppended&&(J.off(this._element,m_),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const I=document.createElement("div");I.className=this._config.className,this._config.isAnimated&&I.classList.add("fade"),this._element=I}return this._element}_configAfterMerge(I){return I.rootElement=h(I.rootElement),I}_append(){if(this._isAppended)return;const I=this._getElement();this._config.rootElement.append(I),J.on(I,m_,()=>{x(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(I){b(I,this._getElement(),this._config.isAnimated)}}const $f=".bs.focustrap",h3=`focusin${$f}`,f3=`keydown.tab${$f}`,v_="backward",d3={autofocus:!0,trapElement:null},p3={autofocus:"boolean",trapElement:"element"};class y_ extends ye{constructor(I){super(),this._config=this._getConfig(I),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return d3}static get DefaultType(){return p3}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),J.off(document,$f),J.on(document,h3,I=>this._handleFocusin(I)),J.on(document,f3,I=>this._handleKeydown(I)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,J.off(document,$f))}_handleFocusin(I){const{trapElement:L}=this._config;if(I.target===document||I.target===L||L.contains(I.target))return;const ue=$.focusableChildren(L);ue.length===0?L.focus():this._lastTabNavDirection===v_?ue[ue.length-1].focus():ue[0].focus()}_handleKeydown(I){I.key==="Tab"&&(this._lastTabNavDirection=I.shiftKey?v_:"forward")}}const b_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",x_=".sticky-top",jf="padding-right",__="margin-right";class Kg{constructor(){this._element=document.body}getWidth(){const I=document.documentElement.clientWidth;return Math.abs(window.innerWidth-I)}hide(){const I=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,jf,L=>L+I),this._setElementAttributes(b_,jf,L=>L+I),this._setElementAttributes(x_,__,L=>L-I)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,jf),this._resetElementAttributes(b_,jf),this._resetElementAttributes(x_,__)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(I,L,ue){const ke=this.getWidth();this._applyManipulationCallback(I,Me=>{if(Me!==this._element&&window.innerWidth>Me.clientWidth+ke)return;this._saveInitialAttribute(Me,L);const Ge=window.getComputedStyle(Me).getPropertyValue(L);Me.style.setProperty(L,`${ue(Number.parseFloat(Ge))}px`)})}_saveInitialAttribute(I,L){const ue=I.style.getPropertyValue(L);ue&&G.setDataAttribute(I,L,ue)}_resetElementAttributes(I,L){this._applyManipulationCallback(I,ue=>{const ke=G.getDataAttribute(ue,L);ke!==null?(G.removeDataAttribute(ue,L),ue.style.setProperty(L,ke)):ue.style.removeProperty(L)})}_applyManipulationCallback(I,L){if(u(I))L(I);else for(const ue of $.find(I,this._element))L(ue)}}const ps=".bs.modal",m3=`hide${ps}`,g3=`hidePrevented${ps}`,w_=`hidden${ps}`,E_=`show${ps}`,v3=`shown${ps}`,y3=`resize${ps}`,b3=`click.dismiss${ps}`,x3=`mousedown.dismiss${ps}`,_3=`keydown.dismiss${ps}`,w3=`click${ps}.data-api`,S_="modal-open",C_="show",Zg="modal-static",E3={backdrop:!0,focus:!0,keyboard:!0},S3={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ya extends Q{constructor(I,L){super(I,L),this._dialog=$.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Kg,this._addEventListeners()}static get Default(){return E3}static get DefaultType(){return S3}static get NAME(){return"modal"}toggle(I){return this._isShown?this.hide():this.show(I)}show(I){this._isShown||this._isTransitioning||J.trigger(this._element,E_,{relatedTarget:I}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(S_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(I)))}hide(){this._isShown&&!this._isTransitioning&&(J.trigger(this._element,m3).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(C_),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){J.off(window,ps),J.off(this._dialog,ps),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new g_({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new y_({trapElement:this._element})}_showElement(I){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const L=$.findOne(".modal-body",this._dialog);L&&(L.scrollTop=0),m(this._element),this._element.classList.add(C_),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,J.trigger(this._element,v3,{relatedTarget:I})},this._dialog,this._isAnimated())}_addEventListeners(){J.on(this._element,_3,I=>{I.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),J.on(window,y3,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),J.on(this._element,x3,I=>{J.one(this._element,b3,L=>{this._element===I.target&&this._element===L.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(S_),this._resetAdjustments(),this._scrollBar.reset(),J.trigger(this._element,w_)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(J.trigger(this._element,g3).defaultPrevented)return;const I=this._element.scrollHeight>document.documentElement.clientHeight,L=this._element.style.overflowY;L==="hidden"||this._element.classList.contains(Zg)||(I||(this._element.style.overflowY="hidden"),this._element.classList.add(Zg),this._queueCallback(()=>{this._element.classList.remove(Zg),this._queueCallback(()=>{this._element.style.overflowY=L},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const I=this._element.scrollHeight>document.documentElement.clientHeight,L=this._scrollBar.getWidth(),ue=L>0;if(ue&&!I){const ke=S()?"paddingLeft":"paddingRight";this._element.style[ke]=`${L}px`}if(!ue&&I){const ke=S()?"paddingRight":"paddingLeft";this._element.style[ke]=`${L}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(I,L){return this.each(function(){const ue=Ya.getOrCreateInstance(this,I);if(typeof I=="string"){if(ue[I]===void 0)throw new TypeError(`No method named "${I}"`);ue[I](L)}})}}J.on(document,w3,'[data-bs-toggle="modal"]',function(Y){const I=$.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Y.preventDefault(),J.one(I,E_,ue=>{ue.defaultPrevented||J.one(I,w_,()=>{c(this)&&this.focus()})});const L=$.findOne(".modal.show");L&&Ya.getInstance(L).hide(),Ya.getOrCreateInstance(I).toggle(this)}),re(Ya),y(Ya);const wo=".bs.offcanvas",A_=".data-api",C3=`load${wo}${A_}`,T_="show",I_="showing",D_="hiding",N_=".offcanvas.show",A3=`show${wo}`,T3=`shown${wo}`,I3=`hide${wo}`,F_=`hidePrevented${wo}`,k_=`hidden${wo}`,D3=`resize${wo}`,N3=`click${wo}${A_}`,F3=`keydown.dismiss${wo}`,k3={backdrop:!0,keyboard:!0,scroll:!1},M3={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Eo extends Q{constructor(I,L){super(I,L),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return k3}static get DefaultType(){return M3}static get NAME(){return"offcanvas"}toggle(I){return this._isShown?this.hide():this.show(I)}show(I){this._isShown||J.trigger(this._element,A3,{relatedTarget:I}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Kg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(I_),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(T_),this._element.classList.remove(I_),J.trigger(this._element,T3,{relatedTarget:I})},this._element,!0))}hide(){this._isShown&&(J.trigger(this._element,I3).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(D_),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(T_,D_),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Kg().reset(),J.trigger(this._element,k_)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const I=!!this._config.backdrop;return new g_({className:"offcanvas-backdrop",isVisible:I,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:I?()=>{this._config.backdrop!=="static"?this.hide():J.trigger(this._element,F_)}:null})}_initializeFocusTrap(){return new y_({trapElement:this._element})}_addEventListeners(){J.on(this._element,F3,I=>{I.key==="Escape"&&(this._config.keyboard?this.hide():J.trigger(this._element,F_))})}static jQueryInterface(I){return this.each(function(){const L=Eo.getOrCreateInstance(this,I);if(typeof I=="string"){if(L[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);L[I](this)}})}}J.on(document,N3,'[data-bs-toggle="offcanvas"]',function(Y){const I=$.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&Y.preventDefault(),f(this))return;J.one(I,k_,()=>{c(this)&&this.focus()});const L=$.findOne(N_);L&&L!==I&&Eo.getInstance(L).hide(),Eo.getOrCreateInstance(I).toggle(this)}),J.on(window,C3,()=>{for(const Y of $.find(N_))Eo.getOrCreateInstance(Y).show()}),J.on(window,D3,()=>{for(const Y of $.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(Y).position!=="fixed"&&Eo.getOrCreateInstance(Y).hide()}),re(Eo),y(Eo);const M_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},O3=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),P3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,L3=(Y,I)=>{const L=Y.nodeName.toLowerCase();return I.includes(L)?!O3.has(L)||!!P3.test(Y.nodeValue):I.filter(ue=>ue instanceof RegExp).some(ue=>ue.test(L))},R3={allowList:M_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},B3={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},U3={entry:"(string|element|function|null)",selector:"(string|element)"};class V3 extends ye{constructor(I){super(),this._config=this._getConfig(I)}static get Default(){return R3}static get DefaultType(){return B3}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(I=>this._resolvePossibleFunction(I)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(I){return this._checkContent(I),this._config.content={...this._config.content,...I},this}toHtml(){const I=document.createElement("div");I.innerHTML=this._maybeSanitize(this._config.template);for(const[ke,Me]of Object.entries(this._config.content))this._setContent(I,Me,ke);const L=I.children[0],ue=this._resolvePossibleFunction(this._config.extraClass);return ue&&L.classList.add(...ue.split(" ")),L}_typeCheckConfig(I){super._typeCheckConfig(I),this._checkContent(I.content)}_checkContent(I){for(const[L,ue]of Object.entries(I))super._typeCheckConfig({selector:L,entry:ue},U3)}_setContent(I,L,ue){const ke=$.findOne(ue,I);ke&&((L=this._resolvePossibleFunction(L))?u(L)?this._putElementInTemplate(h(L),ke):this._config.html?ke.innerHTML=this._maybeSanitize(L):ke.textContent=L:ke.remove())}_maybeSanitize(I){return this._config.sanitize?(function(L,ue,ke){if(!L.length)return L;if(ke&&typeof ke=="function")return ke(L);const Me=new window.DOMParser().parseFromString(L,"text/html"),Ge=[].concat(...Me.body.querySelectorAll("*"));for(const Je of Ge){const st=Je.nodeName.toLowerCase();if(!Object.keys(ue).includes(st)){Je.remove();continue}const bt=[].concat(...Je.attributes),xt=[].concat(ue["*"]||[],ue[st]||[]);for(const dt of bt)L3(dt,xt)||Je.removeAttribute(dt.nodeName)}return Me.body.innerHTML})(I,this._config.allowList,this._config.sanitizeFn):I}_resolvePossibleFunction(I){return x(I,[void 0,this])}_putElementInTemplate(I,L){if(this._config.html)return L.innerHTML="",void L.append(I);L.textContent=I.textContent}}const $3=new Set(["sanitize","allowList","sanitizeFn"]),Jg="fade",zf="show",j3=".tooltip-inner",O_=".modal",P_="hide.bs.modal",Oc="hover",Qg="focus",e0="click",z3={AUTO:"auto",TOP:"top",RIGHT:S()?"left":"right",BOTTOM:"bottom",LEFT:S()?"right":"left"},G3={allowList:M_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},H3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ka extends Q{constructor(I,L){if(l_===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(I,L),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return G3}static get DefaultType(){return H3}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),J.off(this._element.closest(O_),P_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const I=J.trigger(this._element,this.constructor.eventName("show")),L=(d(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(I.defaultPrevented||!L)return;this._disposePopper();const ue=this._getTipElement();this._element.setAttribute("aria-describedby",ue.getAttribute("id"));const{container:ke}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(ke.append(ue),J.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(ue),ue.classList.add(zf),"ontouchstart"in document.documentElement)for(const Me of[].concat(...document.body.children))J.on(Me,"mouseover",p);this._queueCallback(()=>{J.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!J.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(zf),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))J.off(I,"mouseover",p);this._activeTrigger[e0]=!1,this._activeTrigger[Qg]=!1,this._activeTrigger[Oc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),J.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(I){const L=this._getTemplateFactory(I).toHtml();if(!L)return null;L.classList.remove(Jg,zf),L.classList.add(`bs-${this.constructor.NAME}-auto`);const ue=(ke=>{do ke+=Math.floor(1e6*Math.random());while(document.getElementById(ke));return ke})(this.constructor.NAME).toString();return L.setAttribute("id",ue),this._isAnimated()&&L.classList.add(Jg),L}setContent(I){this._newContent=I,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(I){return this._templateFactory?this._templateFactory.changeContent(I):this._templateFactory=new V3({...this._config,content:I,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[j3]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(I){return this.constructor.getOrCreateInstance(I.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Jg)}_isShown(){return this.tip&&this.tip.classList.contains(zf)}_createPopper(I){const L=x(this._config.placement,[this,I,this._element]),ue=z3[L.toUpperCase()];return qg(this._element,I,this._getPopperConfig(ue))}_getOffset(){const{offset:I}=this._config;return typeof I=="string"?I.split(",").map(L=>Number.parseInt(L,10)):typeof I=="function"?L=>I(L,this._element):I}_resolvePossibleFunction(I){return x(I,[this._element,this._element])}_getPopperConfig(I){const L={placement:I,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:ue=>{this._getTipElement().setAttribute("data-popper-placement",ue.state.placement)}}]};return{...L,...x(this._config.popperConfig,[void 0,L])}}_setListeners(){const I=this._config.trigger.split(" ");for(const L of I)if(L==="click")J.on(this._element,this.constructor.eventName("click"),this._config.selector,ue=>{const ke=this._initializeOnDelegatedTarget(ue);ke._activeTrigger[e0]=!(ke._isShown()&&ke._activeTrigger[e0]),ke.toggle()});else if(L!=="manual"){const ue=L===Oc?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),ke=L===Oc?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");J.on(this._element,ue,this._config.selector,Me=>{const Ge=this._initializeOnDelegatedTarget(Me);Ge._activeTrigger[Me.type==="focusin"?Qg:Oc]=!0,Ge._enter()}),J.on(this._element,ke,this._config.selector,Me=>{const Ge=this._initializeOnDelegatedTarget(Me);Ge._activeTrigger[Me.type==="focusout"?Qg:Oc]=Ge._element.contains(Me.relatedTarget),Ge._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},J.on(this._element.closest(O_),P_,this._hideModalHandler)}_fixTitle(){const I=this._element.getAttribute("title");I&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",I),this._element.setAttribute("data-bs-original-title",I),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(I,L){clearTimeout(this._timeout),this._timeout=setTimeout(I,L)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(I){const L=G.getDataAttributes(this._element);for(const ue of Object.keys(L))$3.has(ue)&&delete L[ue];return I={...L,...typeof I=="object"&&I?I:{}},I=this._mergeConfigObj(I),I=this._configAfterMerge(I),this._typeCheckConfig(I),I}_configAfterMerge(I){return I.container=I.container===!1?document.body:h(I.container),typeof I.delay=="number"&&(I.delay={show:I.delay,hide:I.delay}),typeof I.title=="number"&&(I.title=I.title.toString()),typeof I.content=="number"&&(I.content=I.content.toString()),I}_getDelegateConfig(){const I={};for(const[L,ue]of Object.entries(this._config))this.constructor.Default[L]!==ue&&(I[L]=ue);return I.selector=!1,I.trigger="manual",I}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(I){return this.each(function(){const L=Ka.getOrCreateInstance(this,I);if(typeof I=="string"){if(L[I]===void 0)throw new TypeError(`No method named "${I}"`);L[I]()}})}}y(Ka);const W3=".popover-header",X3=".popover-body",q3={...Ka.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Y3={...Ka.DefaultType,content:"(null|string|element|function)"};class Gf extends Ka{static get Default(){return q3}static get DefaultType(){return Y3}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[W3]:this._getTitle(),[X3]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(I){return this.each(function(){const L=Gf.getOrCreateInstance(this,I);if(typeof I=="string"){if(L[I]===void 0)throw new TypeError(`No method named "${I}"`);L[I]()}})}}y(Gf);const t0=".bs.scrollspy",K3=`activate${t0}`,L_=`click${t0}`,Z3=`load${t0}.data-api`,pu="active",n0="[href]",R_=".nav-link",J3=`${R_}, .nav-item > ${R_}, .list-group-item`,Q3={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},eO={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Pc extends Q{constructor(I,L){super(I,L),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Q3}static get DefaultType(){return eO}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const I of this._observableSections.values())this._observer.observe(I)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(I){return I.target=h(I.target)||document.body,I.rootMargin=I.offset?`${I.offset}px 0px -30%`:I.rootMargin,typeof I.threshold=="string"&&(I.threshold=I.threshold.split(",").map(L=>Number.parseFloat(L))),I}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(J.off(this._config.target,L_),J.on(this._config.target,L_,n0,I=>{const L=this._observableSections.get(I.target.hash);if(L){I.preventDefault();const ue=this._rootElement||window,ke=L.offsetTop-this._element.offsetTop;if(ue.scrollTo)return void ue.scrollTo({top:ke,behavior:"smooth"});ue.scrollTop=ke}}))}_getNewObserver(){const I={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(L=>this._observerCallback(L),I)}_observerCallback(I){const L=Ge=>this._targetLinks.get(`#${Ge.target.id}`),ue=Ge=>{this._previousScrollData.visibleEntryTop=Ge.target.offsetTop,this._process(L(Ge))},ke=(this._rootElement||document.documentElement).scrollTop,Me=ke>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=ke;for(const Ge of I){if(!Ge.isIntersecting){this._activeTarget=null,this._clearActiveClass(L(Ge));continue}const Je=Ge.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Me&&Je){if(ue(Ge),!ke)return}else Me||Je||ue(Ge)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const I=$.find(n0,this._config.target);for(const L of I){if(!L.hash||f(L))continue;const ue=$.findOne(decodeURI(L.hash),this._element);c(ue)&&(this._targetLinks.set(decodeURI(L.hash),L),this._observableSections.set(L.hash,ue))}}_process(I){this._activeTarget!==I&&(this._clearActiveClass(this._config.target),this._activeTarget=I,I.classList.add(pu),this._activateParents(I),J.trigger(this._element,K3,{relatedTarget:I}))}_activateParents(I){if(I.classList.contains("dropdown-item"))$.findOne(".dropdown-toggle",I.closest(".dropdown")).classList.add(pu);else for(const L of $.parents(I,".nav, .list-group"))for(const ue of $.prev(L,J3))ue.classList.add(pu)}_clearActiveClass(I){I.classList.remove(pu);const L=$.find(`${n0}.${pu}`,I);for(const ue of L)ue.classList.remove(pu)}static jQueryInterface(I){return this.each(function(){const L=Pc.getOrCreateInstance(this,I);if(typeof I=="string"){if(L[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);L[I]()}})}}J.on(window,Z3,()=>{for(const Y of $.find('[data-bs-spy="scroll"]'))Pc.getOrCreateInstance(Y)}),y(Pc);const Za=".bs.tab",tO=`hide${Za}`,nO=`hidden${Za}`,rO=`show${Za}`,iO=`shown${Za}`,sO=`click${Za}`,oO=`keydown${Za}`,aO=`load${Za}`,lO="ArrowLeft",B_="ArrowRight",uO="ArrowUp",U_="ArrowDown",r0="Home",V_="End",Ja="active",$_="fade",i0="show",j_=".dropdown-toggle",s0=`:not(${j_})`,z_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',o0=`.nav-link${s0}, .list-group-item${s0}, [role="tab"]${s0}, ${z_}`,cO=`.${Ja}[data-bs-toggle="tab"], .${Ja}[data-bs-toggle="pill"], .${Ja}[data-bs-toggle="list"]`;class Qa extends Q{constructor(I){super(I),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),J.on(this._element,oO,L=>this._keydown(L)))}static get NAME(){return"tab"}show(){const I=this._element;if(this._elemIsActive(I))return;const L=this._getActiveElem(),ue=L?J.trigger(L,tO,{relatedTarget:I}):null;J.trigger(I,rO,{relatedTarget:L}).defaultPrevented||ue&&ue.defaultPrevented||(this._deactivate(L,I),this._activate(I,L))}_activate(I,L){I&&(I.classList.add(Ja),this._activate($.getElementFromSelector(I)),this._queueCallback(()=>{I.getAttribute("role")==="tab"?(I.removeAttribute("tabindex"),I.setAttribute("aria-selected",!0),this._toggleDropDown(I,!0),J.trigger(I,iO,{relatedTarget:L})):I.classList.add(i0)},I,I.classList.contains($_)))}_deactivate(I,L){I&&(I.classList.remove(Ja),I.blur(),this._deactivate($.getElementFromSelector(I)),this._queueCallback(()=>{I.getAttribute("role")==="tab"?(I.setAttribute("aria-selected",!1),I.setAttribute("tabindex","-1"),this._toggleDropDown(I,!1),J.trigger(I,nO,{relatedTarget:L})):I.classList.remove(i0)},I,I.classList.contains($_)))}_keydown(I){if(![lO,B_,uO,U_,r0,V_].includes(I.key))return;I.stopPropagation(),I.preventDefault();const L=this._getChildren().filter(ke=>!f(ke));let ue;if([r0,V_].includes(I.key))ue=L[I.key===r0?0:L.length-1];else{const ke=[B_,U_].includes(I.key);ue=w(L,I.target,ke,!0)}ue&&(ue.focus({preventScroll:!0}),Qa.getOrCreateInstance(ue).show())}_getChildren(){return $.find(o0,this._parent)}_getActiveElem(){return this._getChildren().find(I=>this._elemIsActive(I))||null}_setInitialAttributes(I,L){this._setAttributeIfNotExists(I,"role","tablist");for(const ue of L)this._setInitialAttributesOnChild(ue)}_setInitialAttributesOnChild(I){I=this._getInnerElement(I);const L=this._elemIsActive(I),ue=this._getOuterElement(I);I.setAttribute("aria-selected",L),ue!==I&&this._setAttributeIfNotExists(ue,"role","presentation"),L||I.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(I,"role","tab"),this._setInitialAttributesOnTargetPanel(I)}_setInitialAttributesOnTargetPanel(I){const L=$.getElementFromSelector(I);L&&(this._setAttributeIfNotExists(L,"role","tabpanel"),I.id&&this._setAttributeIfNotExists(L,"aria-labelledby",`${I.id}`))}_toggleDropDown(I,L){const ue=this._getOuterElement(I);if(!ue.classList.contains("dropdown"))return;const ke=(Me,Ge)=>{const Je=$.findOne(Me,ue);Je&&Je.classList.toggle(Ge,L)};ke(j_,Ja),ke(".dropdown-menu",i0),ue.setAttribute("aria-expanded",L)}_setAttributeIfNotExists(I,L,ue){I.hasAttribute(L)||I.setAttribute(L,ue)}_elemIsActive(I){return I.classList.contains(Ja)}_getInnerElement(I){return I.matches(o0)?I:$.findOne(o0,I)}_getOuterElement(I){return I.closest(".nav-item, .list-group-item")||I}static jQueryInterface(I){return this.each(function(){const L=Qa.getOrCreateInstance(this);if(typeof I=="string"){if(L[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);L[I]()}})}}J.on(document,sO,z_,function(Y){["A","AREA"].includes(this.tagName)&&Y.preventDefault(),f(this)||Qa.getOrCreateInstance(this).show()}),J.on(window,aO,()=>{for(const Y of $.find(cO))Qa.getOrCreateInstance(Y)}),y(Qa);const sa=".bs.toast",hO=`mouseover${sa}`,fO=`mouseout${sa}`,dO=`focusin${sa}`,pO=`focusout${sa}`,mO=`hide${sa}`,gO=`hidden${sa}`,vO=`show${sa}`,yO=`shown${sa}`,G_="hide",Hf="show",Wf="showing",bO={animation:"boolean",autohide:"boolean",delay:"number"},xO={animation:!0,autohide:!0,delay:5e3};class Lc extends Q{constructor(I,L){super(I,L),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return xO}static get DefaultType(){return bO}static get NAME(){return"toast"}show(){J.trigger(this._element,vO).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(G_),m(this._element),this._element.classList.add(Hf,Wf),this._queueCallback(()=>{this._element.classList.remove(Wf),J.trigger(this._element,yO),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(J.trigger(this._element,mO).defaultPrevented||(this._element.classList.add(Wf),this._queueCallback(()=>{this._element.classList.add(G_),this._element.classList.remove(Wf,Hf),J.trigger(this._element,gO)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Hf),super.dispose()}isShown(){return this._element.classList.contains(Hf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(I,L){switch(I.type){case"mouseover":case"mouseout":this._hasMouseInteraction=L;break;case"focusin":case"focusout":this._hasKeyboardInteraction=L}if(L)return void this._clearTimeout();const ue=I.relatedTarget;this._element===ue||this._element.contains(ue)||this._maybeScheduleHide()}_setListeners(){J.on(this._element,hO,I=>this._onInteraction(I,!0)),J.on(this._element,fO,I=>this._onInteraction(I,!1)),J.on(this._element,dO,I=>this._onInteraction(I,!0)),J.on(this._element,pO,I=>this._onInteraction(I,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(I){return this.each(function(){const L=Lc.getOrCreateInstance(this,I);if(typeof I=="string"){if(L[I]===void 0)throw new TypeError(`No method named "${I}"`);L[I](this)}})}}return re(Lc),y(Lc),{Alert:X,Button:Ae,Carousel:je,Collapse:vi,Dropdown:ks,Modal:Ya,Offcanvas:Eo,Popover:Gf,ScrollSpy:Pc,Tab:Qa,Toast:Lc,Tooltip:Ka}})})(Ud)),Ud.exports}FO();const kO=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,MO=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,OO=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function PO(n,t){if(n==="__proto__"||n==="constructor"&&t&&typeof t=="object"&&"prototype"in t){LO(n);return}return t}function LO(n){console.warn(`[destr] Dropping "${n}" key to prevent prototype pollution.`)}function RO(n,t={}){if(typeof n!="string")return n;if(n[0]==='"'&&n[n.length-1]==='"'&&n.indexOf("\\")===-1)return n.slice(1,-1);const r=n.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!OO.test(n)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return n}try{if(kO.test(n)||MO.test(n)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(n,PO)}return JSON.parse(n)}catch(i){if(t.strict)throw i;return n}}function BO(n,t){if(n==null)return;let r=n;for(let i=0;i<t.length;i++){if(r==null||r[t[i]]==null)return;r=r[t[i]]}return r}function c1(n,t,r){if(r.length===0)return t;const i=r[0];return r.length>1&&(t=c1(typeof n!="object"||n===null||!Object.prototype.hasOwnProperty.call(n,i)?Number.isInteger(Number(r[1]))?[]:{}:n[i],t,Array.prototype.slice.call(r,1))),Number.isInteger(Number(i))&&Array.isArray(n)?n.slice()[i]:Object.assign({},n,{[i]:t})}function lA(n,t){if(n==null||t.length===0)return n;if(t.length===1){if(n==null)return n;if(Number.isInteger(t[0])&&Array.isArray(n))return Array.prototype.slice.call(n,0).splice(t[0],1);const r={};for(const i in n)r[i]=n[i];return delete r[t[0]],r}if(n[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(n))return Array.prototype.concat.call([],n);const r={};for(const i in n)r[i]=n[i];return r}return c1(n,lA(n[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function uA(n,t){return t.map(r=>r.split(".")).map(r=>[r,BO(n,r)]).filter(r=>r[1]!==void 0).reduce((r,i)=>c1(r,i[1],i[0]),{})}function cA(n,t){return t.map(r=>r.split(".")).reduce((r,i)=>lA(r,i),n)}function iw(n,{storage:t,serializer:r,key:i,debug:s,pick:o,omit:a,beforeHydrate:l,afterHydrate:u},h,c=!0){try{c&&l?.(h);const f=t.getItem(i);if(f){const d=r.deserialize(f),p=o?uA(d,o):d,m=a?cA(p,a):p;n.$patch(m)}c&&u?.(h)}catch(f){s&&console.error("[pinia-plugin-persistedstate]",f)}}function sw(n,{storage:t,serializer:r,key:i,debug:s,pick:o,omit:a}){try{const l=o?uA(n,o):n,u=a?cA(l,a):l,h=r.serialize(u);t.setItem(i,h)}catch(l){s&&console.error("[pinia-plugin-persistedstate]",l)}}function UO(n,t,r){const{pinia:i,store:s,options:{persist:o=r}}=n;if(!o)return;if(!(s.$id in i.state.value)){const u=i._s.get(s.$id.replace("__hot:",""));u&&Promise.resolve().then(()=>u.$persist());return}const l=(Array.isArray(o)?o:o===!0?[{}]:[o]).map(t);s.$hydrate=({runHooks:u=!0}={})=>{l.forEach(h=>{iw(s,h,n,u)})},s.$persist=()=>{l.forEach(u=>{sw(s.$state,u)})},l.forEach(u=>{iw(s,u,n),s.$subscribe((h,c)=>sw(c,u),{detached:!0})})}function VO(n={}){return function(t){UO(t,r=>({key:(n.key?n.key:i=>i)(r.key??t.store.$id),debug:r.debug??n.debug??!1,serializer:r.serializer??n.serializer??{serialize:i=>JSON.stringify(i),deserialize:i=>RO(i)},storage:r.storage??n.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),n.auto??!1)}}var $O=VO();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xr(n){const t=Object.create(null);for(const r of n.split(","))t[r]=1;return r=>r in t}const un={},xl=[],Wr=()=>{},ml=()=>!1,Ua=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),pm=n=>n.startsWith("onUpdate:"),ln=Object.assign,mm=(n,t)=>{const r=n.indexOf(t);r>-1&&n.splice(r,1)},jO=Object.prototype.hasOwnProperty,wn=(n,t)=>jO.call(n,t),pt=Array.isArray,_l=n=>tu(n)==="[object Map]",Va=n=>tu(n)==="[object Set]",Bv=n=>tu(n)==="[object Date]",hA=n=>tu(n)==="[object RegExp]",Mt=n=>typeof n=="function",Bt=n=>typeof n=="string",ki=n=>typeof n=="symbol",En=n=>n!==null&&typeof n=="object",gm=n=>(En(n)||Mt(n))&&Mt(n.then)&&Mt(n.catch),h1=Object.prototype.toString,tu=n=>h1.call(n),fA=n=>tu(n).slice(8,-1),hf=n=>tu(n)==="[object Object]",vm=n=>Bt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Vo=Xr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dA=Xr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),ym=n=>{const t=Object.create(null);return(r=>t[r]||(t[r]=n(r)))},zO=/-\w/g,qn=ym(n=>n.replace(zO,t=>t.slice(1).toUpperCase())),GO=/\B([A-Z])/g,ci=ym(n=>n.replace(GO,"-$1").toLowerCase()),$a=ym(n=>n.charAt(0).toUpperCase()+n.slice(1)),wl=ym(n=>n?`on${$a(n)}`:""),si=(n,t)=>!Object.is(n,t),El=(n,...t)=>{for(let r=0;r<n.length;r++)n[r](...t)},f1=(n,t,r,i=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:i,value:r})},Ah=n=>{const t=parseFloat(n);return isNaN(t)?n:t},Th=n=>{const t=Bt(n)?Number(n):NaN;return isNaN(t)?n:t};let ow;const ff=()=>ow||(ow=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),HO=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function WO(n){return HO.test(n)?`__props.${n}`:`__props[${JSON.stringify(n)}]`}function XO(n,t){return n+JSON.stringify(t,(r,i)=>typeof i=="function"?i.toString():i)}const qO={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},YO={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},KO={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},ZO={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},JO={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},QO="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",d1=Xr(QO),eP=d1,aw=2;function pA(n,t=0,r=n.length){if(t=Math.max(0,Math.min(t,n.length)),r=Math.max(0,Math.min(r,n.length)),t>r)return"";let i=n.split(/(\r?\n)/);const s=i.filter((l,u)=>u%2===1);i=i.filter((l,u)=>u%2===0);let o=0;const a=[];for(let l=0;l<i.length;l++)if(o+=i[l].length+(s[l]&&s[l].length||0),o>=t){for(let u=l-aw;u<=l+aw||r>o;u++){if(u<0||u>=i.length)continue;const h=u+1;a.push(`${h}${" ".repeat(Math.max(3-String(h).length,0))}|  ${i[u]}`);const c=i[u].length,f=s[u]&&s[u].length||0;if(u===l){const d=t-(o-(c+f)),p=Math.max(1,r>o?c-d:r-t);a.push("   |  "+" ".repeat(d)+"^".repeat(p))}else if(u>l){if(r>o){const d=Math.max(Math.min(r-o,c),1);a.push("   |  "+"^".repeat(d))}o+=c+f}}break}return a.join(`
`)}function Xn(n){if(pt(n)){const t={};for(let r=0;r<n.length;r++){const i=n[r],s=Bt(i)?p1(i):Xn(i);if(s)for(const o in s)t[o]=s[o]}return t}else if(Bt(n)||En(n))return n}const tP=/;(?![^(]*\))/g,nP=/:([^]+)/,rP=/\/\*[^]*?\*\//g;function p1(n){const t={};return n.replace(rP,"").split(tP).forEach(r=>{if(r){const i=r.split(nP);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function iP(n){if(!n)return"";if(Bt(n))return n;let t="";for(const r in n){const i=n[r];if(Bt(i)||typeof i=="number"){const s=r.startsWith("--")?r:ci(r);t+=`${s}:${i};`}}return t}function ht(n){let t="";if(Bt(n))t=n;else if(pt(n))for(let r=0;r<n.length;r++){const i=ht(n[r]);i&&(t+=i+" ")}else if(En(n))for(const r in n)n[r]&&(t+=r+" ");return t.trim()}function mA(n){if(!n)return null;let{class:t,style:r}=n;return t&&!Bt(t)&&(n.class=ht(t)),r&&(n.style=Xn(r)),n}const sP="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",oP="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",aP="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",lP="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",gA=Xr(sP),vA=Xr(oP),yA=Xr(aP),bA=Xr(lP),xA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_A=Xr(xA),uP=Xr(xA+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function m1(n){return!!n||n===""}const cP=/[>/="'\u0009\u000a\u000c\u0020]/,c0={};function hP(n){if(c0.hasOwnProperty(n))return c0[n];const t=cP.test(n);return t&&console.error(`unsafe attribute name: ${n}`),c0[n]=!t}const fP={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},dP=Xr("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),pP=Xr("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),mP=Xr("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function gP(n){if(n==null)return!1;const t=typeof n;return t==="string"||t==="number"||t==="boolean"}const vP=/["'&<>]/;function yP(n){const t=""+n,r=vP.exec(t);if(!r)return t;let i="",s,o,a=0;for(o=r.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}a!==o&&(i+=t.slice(a,o)),a=o+1,i+=s}return a!==o?i+t.slice(a,o):i}const bP=/^-?>|<!--|-->|--!>|<!-$/g;function xP(n){return n.replace(bP,"")}const wA=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function _P(n,t){return n.replace(wA,r=>t?r==='"'?'\\\\\\"':`\\\\${r}`:`\\${r}`)}function wP(n,t){if(n.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<n.length;i++)r=Ho(n[i],t[i]);return r}function Ho(n,t){if(n===t)return!0;let r=Bv(n),i=Bv(t);if(r||i)return r&&i?n.getTime()===t.getTime():!1;if(r=ki(n),i=ki(t),r||i)return n===t;if(r=pt(n),i=pt(t),r||i)return r&&i?wP(n,t):!1;if(r=En(n),i=En(t),r||i){if(!r||!i)return!1;const s=Object.keys(n).length,o=Object.keys(t).length;if(s!==o)return!1;for(const a in n){const l=n.hasOwnProperty(a),u=t.hasOwnProperty(a);if(l&&!u||!l&&u||!Ho(n[a],t[a]))return!1}}return String(n)===String(t)}function df(n,t){return n.findIndex(r=>Ho(r,t))}const EA=n=>!!(n&&n.__v_isRef===!0),Be=n=>Bt(n)?n:n==null?"":pt(n)||En(n)&&(n.toString===h1||!Mt(n.toString))?EA(n)?Be(n.value):JSON.stringify(n,SA,2):String(n),SA=(n,t)=>EA(t)?SA(n,t.value):_l(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,s],o)=>(r[h0(i,o)+" =>"]=s,r),{})}:Va(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>h0(r))}:ki(t)?h0(t):En(t)&&!pt(t)&&!hf(t)?String(t):t,h0=(n,t="")=>{var r;return ki(n)?`Symbol(${(r=n.description)!=null?r:t})`:n};function CA(n){return n==null?"initial":typeof n=="string"?n===""?" ":n:String(n)}const EP=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:xl,EMPTY_OBJ:un,NO:ml,NOOP:Wr,PatchFlagNames:YO,PatchFlags:qO,ShapeFlags:KO,SlotFlags:ZO,camelize:qn,capitalize:$a,cssVarNameEscapeSymbolsRE:wA,def:f1,escapeHtml:yP,escapeHtmlComment:xP,extend:ln,genCacheKey:XO,genPropsAccessExp:WO,generateCodeFrame:pA,getEscapedCssVarName:_P,getGlobalThis:ff,hasChanged:si,hasOwn:wn,hyphenate:ci,includeBooleanAttr:m1,invokeArrayFns:El,isArray:pt,isBooleanAttr:uP,isBuiltInDirective:dA,isDate:Bv,isFunction:Mt,isGloballyAllowed:d1,isGloballyWhitelisted:eP,isHTMLTag:gA,isIntegerKey:vm,isKnownHtmlAttr:dP,isKnownMathMLAttr:mP,isKnownSvgAttr:pP,isMap:_l,isMathMLTag:yA,isModelListener:pm,isObject:En,isOn:Ua,isPlainObject:hf,isPromise:gm,isRegExp:hA,isRenderableAttrValue:gP,isReservedProp:Vo,isSSRSafeAttrName:hP,isSVGTag:vA,isSet:Va,isSpecialBooleanAttr:_A,isString:Bt,isSymbol:ki,isVoidTag:bA,looseEqual:Ho,looseIndexOf:df,looseToNumber:Ah,makeMap:Xr,normalizeClass:ht,normalizeCssVarValue:CA,normalizeProps:mA,normalizeStyle:Xn,objectToString:h1,parseStringStyle:p1,propsToAttrMap:fP,remove:mm,slotFlagsText:JO,stringifyStyle:iP,toDisplayString:Be,toHandlerKey:wl,toNumber:Th,toRawType:fA,toTypeString:tu},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ri;class g1{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ri,!t&&ri&&(this.index=(ri.scopes||(ri.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=ri;try{return ri=this,t()}finally{ri=r}}}on(){++this._on===1&&(this.prevScope=ri,ri=this)}off(){this._on>0&&--this._on===0&&(ri=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function v1(n){return new g1(n)}function y1(){return ri}function AA(n,t=!1){ri&&ri.cleanups.push(n)}let Hn;const f0=new WeakSet;class Ih{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ri&&ri.active&&ri.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,f0.has(this)&&(f0.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||IA(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,lw(this),DA(this);const t=Hn,r=Hs;Hn=this,Hs=!0;try{return this.fn()}finally{NA(this),Hn=t,Hs=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)_1(t);this.deps=this.depsTail=void 0,lw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?f0.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Uv(this)&&this.run()}get dirty(){return Uv(this)}}let TA=0,sh,oh;function IA(n,t=!1){if(n.flags|=8,t){n.next=oh,oh=n;return}n.next=sh,sh=n}function b1(){TA++}function x1(){if(--TA>0)return;if(oh){let t=oh;for(oh=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let n;for(;sh;){let t=sh;for(sh=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){n||(n=i)}t=r}}if(n)throw n}function DA(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function NA(n){let t,r=n.depsTail,i=r;for(;i;){const s=i.prevDep;i.version===-1?(i===r&&(r=s),_1(i),SP(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}n.deps=t,n.depsTail=r}function Uv(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(FA(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function FA(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Dh)||(n.globalVersion=Dh,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Uv(n))))return;n.flags|=2;const t=n.dep,r=Hn,i=Hs;Hn=n,Hs=!0;try{DA(n);const s=n.fn(n._value);(t.version===0||si(s,n._value))&&(n.flags|=128,n._value=s,t.version++)}catch(s){throw t.version++,s}finally{Hn=r,Hs=i,NA(n),n.flags&=-3}}function _1(n,t=!1){const{dep:r,prevSub:i,nextSub:s}=n;if(i&&(i.nextSub=s,n.prevSub=void 0),s&&(s.prevSub=i,n.nextSub=void 0),r.subs===n&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)_1(o,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function SP(n){const{prevDep:t,nextDep:r}=n;t&&(t.nextDep=r,n.prevDep=void 0),r&&(r.prevDep=t,n.nextDep=void 0)}function CP(n,t){n.effect instanceof Ih&&(n=n.effect.fn);const r=new Ih(n);t&&ln(r,t);try{r.run()}catch(s){throw r.stop(),s}const i=r.run.bind(r);return i.effect=r,i}function AP(n){n.effect.stop()}let Hs=!0;const kA=[];function Wo(){kA.push(Hs),Hs=!1}function Xo(){const n=kA.pop();Hs=n===void 0?!0:n}function lw(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const r=Hn;Hn=void 0;try{t()}finally{Hn=r}}}let Dh=0;class TP{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class bm{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Hn||!Hs||Hn===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Hn)r=this.activeLink=new TP(Hn,this),Hn.deps?(r.prevDep=Hn.depsTail,Hn.depsTail.nextDep=r,Hn.depsTail=r):Hn.deps=Hn.depsTail=r,MA(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Hn.depsTail,r.nextDep=void 0,Hn.depsTail.nextDep=r,Hn.depsTail=r,Hn.deps===r&&(Hn.deps=i)}return r}trigger(t){this.version++,Dh++,this.notify(t)}notify(t){b1();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{x1()}}}function MA(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)MA(i)}const r=n.dep.subs;r!==n&&(n.prevSub=r,r&&(r.nextSub=n)),n.dep.subs=n}}const fp=new WeakMap,Sl=Symbol(""),Vv=Symbol(""),Nh=Symbol("");function oi(n,t,r){if(Hs&&Hn){let i=fp.get(n);i||fp.set(n,i=new Map);let s=i.get(r);s||(i.set(r,s=new bm),s.map=i,s.key=r),s.track()}}function Oo(n,t,r,i,s,o){const a=fp.get(n);if(!a){Dh++;return}const l=u=>{u&&u.trigger()};if(b1(),t==="clear")a.forEach(l);else{const u=pt(n),h=u&&vm(r);if(u&&r==="length"){const c=Number(i);a.forEach((f,d)=>{(d==="length"||d===Nh||!ki(d)&&d>=c)&&l(f)})}else switch((r!==void 0||a.has(void 0))&&l(a.get(r)),h&&l(a.get(Nh)),t){case"add":u?h&&l(a.get("length")):(l(a.get(Sl)),_l(n)&&l(a.get(Vv)));break;case"delete":u||(l(a.get(Sl)),_l(n)&&l(a.get(Vv)));break;case"set":_l(n)&&l(a.get(Sl));break}}x1()}function IP(n,t){const r=fp.get(n);return r&&r.get(t)}function gu(n){const t=mn(n);return t===n?t:(oi(t,"iterate",Nh),us(n)?t:t.map(Kr))}function xm(n){return oi(n=mn(n),"iterate",Nh),n}const DP={__proto__:null,[Symbol.iterator](){return d0(this,Symbol.iterator,Kr)},concat(...n){return gu(this).concat(...n.map(t=>pt(t)?gu(t):t))},entries(){return d0(this,"entries",n=>(n[1]=Kr(n[1]),n))},every(n,t){return So(this,"every",n,t,void 0,arguments)},filter(n,t){return So(this,"filter",n,t,r=>r.map(Kr),arguments)},find(n,t){return So(this,"find",n,t,Kr,arguments)},findIndex(n,t){return So(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return So(this,"findLast",n,t,Kr,arguments)},findLastIndex(n,t){return So(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return So(this,"forEach",n,t,void 0,arguments)},includes(...n){return p0(this,"includes",n)},indexOf(...n){return p0(this,"indexOf",n)},join(n){return gu(this).join(n)},lastIndexOf(...n){return p0(this,"lastIndexOf",n)},map(n,t){return So(this,"map",n,t,void 0,arguments)},pop(){return Rc(this,"pop")},push(...n){return Rc(this,"push",n)},reduce(n,...t){return uw(this,"reduce",n,t)},reduceRight(n,...t){return uw(this,"reduceRight",n,t)},shift(){return Rc(this,"shift")},some(n,t){return So(this,"some",n,t,void 0,arguments)},splice(...n){return Rc(this,"splice",n)},toReversed(){return gu(this).toReversed()},toSorted(n){return gu(this).toSorted(n)},toSpliced(...n){return gu(this).toSpliced(...n)},unshift(...n){return Rc(this,"unshift",n)},values(){return d0(this,"values",Kr)}};function d0(n,t,r){const i=xm(n),s=i[t]();return i!==n&&!us(n)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.done||(o.value=r(o.value)),o}),s}const NP=Array.prototype;function So(n,t,r,i,s,o){const a=xm(n),l=a!==n&&!us(n),u=a[t];if(u!==NP[t]){const f=u.apply(n,o);return l?Kr(f):f}let h=r;a!==n&&(l?h=function(f,d){return r.call(this,Kr(f),d,n)}:r.length>2&&(h=function(f,d){return r.call(this,f,d,n)}));const c=u.call(a,h,i);return l&&s?s(c):c}function uw(n,t,r,i){const s=xm(n);let o=r;return s!==n&&(us(n)?r.length>3&&(o=function(a,l,u){return r.call(this,a,l,u,n)}):o=function(a,l,u){return r.call(this,a,Kr(l),u,n)}),s[t](o,...i)}function p0(n,t,r){const i=mn(n);oi(i,"iterate",Nh);const s=i[t](...r);return(s===-1||s===!1)&&Em(r[0])?(r[0]=mn(r[0]),i[t](...r)):s}function Rc(n,t,r=[]){Wo(),b1();const i=mn(n)[t].apply(n,r);return x1(),Xo(),i}const FP=Xr("__proto__,__v_isRef,__isVue"),OA=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(ki));function kP(n){ki(n)||(n=String(n));const t=mn(this);return oi(t,"has",n),t.hasOwnProperty(n)}class PA{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){if(r==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return o;if(r==="__v_raw")return i===(s?o?$A:VA:o?UA:BA).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=pt(t);if(!s){let u;if(a&&(u=DP[r]))return u;if(r==="hasOwnProperty")return kP}const l=Reflect.get(t,r,sr(t)?t:i);if((ki(r)?OA.has(r):FP(r))||(s||oi(t,"get",r),o))return l;if(sr(l)){const u=a&&vm(r)?l:l.value;return s&&En(u)?dp(u):u}return En(l)?s?dp(l):vc(l):l}}class LA extends PA{constructor(t=!1){super(!1,t)}set(t,r,i,s){let o=t[r];if(!this._isShallow){const u=qo(o);if(!us(i)&&!qo(i)&&(o=mn(o),i=mn(i)),!pt(t)&&sr(o)&&!sr(i))return u||(o.value=i),!0}const a=pt(t)&&vm(r)?Number(r)<t.length:wn(t,r),l=Reflect.set(t,r,i,sr(t)?t:s);return t===mn(s)&&(a?si(i,o)&&Oo(t,"set",r,i):Oo(t,"add",r,i)),l}deleteProperty(t,r){const i=wn(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&i&&Oo(t,"delete",r,void 0),s}has(t,r){const i=Reflect.has(t,r);return(!ki(r)||!OA.has(r))&&oi(t,"has",r),i}ownKeys(t){return oi(t,"iterate",pt(t)?"length":Sl),Reflect.ownKeys(t)}}class RA extends PA{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const MP=new LA,OP=new RA,PP=new LA(!0),LP=new RA(!0),$v=n=>n,Kf=n=>Reflect.getPrototypeOf(n);function RP(n,t,r){return function(...i){const s=this.__v_raw,o=mn(s),a=_l(o),l=n==="entries"||n===Symbol.iterator&&a,u=n==="keys"&&a,h=s[n](...i),c=r?$v:t?pp:Kr;return!t&&oi(o,"iterate",u?Vv:Sl),{next(){const{value:f,done:d}=h.next();return d?{value:f,done:d}:{value:l?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Zf(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function BP(n,t){const r={get(s){const o=this.__v_raw,a=mn(o),l=mn(s);n||(si(s,l)&&oi(a,"get",s),oi(a,"get",l));const{has:u}=Kf(a),h=t?$v:n?pp:Kr;if(u.call(a,s))return h(o.get(s));if(u.call(a,l))return h(o.get(l));o!==a&&o.get(s)},get size(){const s=this.__v_raw;return!n&&oi(mn(s),"iterate",Sl),s.size},has(s){const o=this.__v_raw,a=mn(o),l=mn(s);return n||(si(s,l)&&oi(a,"has",s),oi(a,"has",l)),s===l?o.has(s):o.has(s)||o.has(l)},forEach(s,o){const a=this,l=a.__v_raw,u=mn(l),h=t?$v:n?pp:Kr;return!n&&oi(u,"iterate",Sl),l.forEach((c,f)=>s.call(o,h(c),h(f),a))}};return ln(r,n?{add:Zf("add"),set:Zf("set"),delete:Zf("delete"),clear:Zf("clear")}:{add(s){!t&&!us(s)&&!qo(s)&&(s=mn(s));const o=mn(this);return Kf(o).has.call(o,s)||(o.add(s),Oo(o,"add",s,s)),this},set(s,o){!t&&!us(o)&&!qo(o)&&(o=mn(o));const a=mn(this),{has:l,get:u}=Kf(a);let h=l.call(a,s);h||(s=mn(s),h=l.call(a,s));const c=u.call(a,s);return a.set(s,o),h?si(o,c)&&Oo(a,"set",s,o):Oo(a,"add",s,o),this},delete(s){const o=mn(this),{has:a,get:l}=Kf(o);let u=a.call(o,s);u||(s=mn(s),u=a.call(o,s)),l&&l.call(o,s);const h=o.delete(s);return u&&Oo(o,"delete",s,void 0),h},clear(){const s=mn(this),o=s.size!==0,a=s.clear();return o&&Oo(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=RP(s,n,t)}),r}function _m(n,t){const r=BP(n,t);return(i,s,o)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(wn(r,s)&&s in i?r:i,s,o)}const UP={get:_m(!1,!1)},VP={get:_m(!1,!0)},$P={get:_m(!0,!1)},jP={get:_m(!0,!0)},BA=new WeakMap,UA=new WeakMap,VA=new WeakMap,$A=new WeakMap;function zP(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function GP(n){return n.__v_skip||!Object.isExtensible(n)?0:zP(fA(n))}function vc(n){return qo(n)?n:wm(n,!1,MP,UP,BA)}function w1(n){return wm(n,!1,PP,VP,UA)}function dp(n){return wm(n,!0,OP,$P,VA)}function HP(n){return wm(n,!0,LP,jP,$A)}function wm(n,t,r,i,s){if(!En(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const o=GP(n);if(o===0)return n;const a=s.get(n);if(a)return a;const l=new Proxy(n,o===2?i:r);return s.set(n,l),l}function Ws(n){return qo(n)?Ws(n.__v_raw):!!(n&&n.__v_isReactive)}function qo(n){return!!(n&&n.__v_isReadonly)}function us(n){return!!(n&&n.__v_isShallow)}function Em(n){return n?!!n.__v_raw:!1}function mn(n){const t=n&&n.__v_raw;return t?mn(t):n}function Sm(n){return!wn(n,"__v_skip")&&Object.isExtensible(n)&&f1(n,"__v_skip",!0),n}const Kr=n=>En(n)?vc(n):n,pp=n=>En(n)?dp(n):n;function sr(n){return n?n.__v_isRef===!0:!1}function Xe(n){return jA(n,!1)}function E1(n){return jA(n,!0)}function jA(n,t){return sr(n)?n:new WP(n,t)}class WP{constructor(t,r){this.dep=new bm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:mn(t),this._value=r?t:Kr(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,i=this.__v_isShallow||us(t)||qo(t);t=i?t:mn(t),si(t,r)&&(this._rawValue=t,this._value=i?t:Kr(t),this.dep.trigger())}}function XP(n){n.dep&&n.dep.trigger()}function ai(n){return sr(n)?n.value:n}function qP(n){return Mt(n)?n():ai(n)}const YP={get:(n,t,r)=>t==="__v_raw"?n:ai(Reflect.get(n,t,r)),set:(n,t,r,i)=>{const s=n[t];return sr(s)&&!sr(r)?(s.value=r,!0):Reflect.set(n,t,r,i)}};function S1(n){return Ws(n)?n:new Proxy(n,YP)}class KP{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new bm,{get:i,set:s}=t(r.track.bind(r),r.trigger.bind(r));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function zA(n){return new KP(n)}function GA(n){const t=pt(n)?new Array(n.length):{};for(const r in n)t[r]=WA(n,r);return t}class ZP{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return IP(mn(this._object),this._key)}}class JP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function HA(n,t,r){return sr(n)?n:Mt(n)?new JP(n):En(n)&&arguments.length>1?WA(n,t,r):Xe(n)}function WA(n,t,r){const i=n[t];return sr(i)?i:new ZP(n,t,r)}class QP{constructor(t,r,i){this.fn=t,this.setter=r,this._value=void 0,this.dep=new bm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Dh-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Hn!==this)return IA(this,!0),!0}get value(){const t=this.dep.track();return FA(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function eL(n,t,r=!1){let i,s;return Mt(n)?i=n:(i=n.get,s=n.set),new QP(i,s,r)}const tL={GET:"get",HAS:"has",ITERATE:"iterate"},nL={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Jf={},mp=new WeakMap;let da;function rL(){return da}function XA(n,t=!1,r=da){if(r){let i=mp.get(r);i||mp.set(r,i=[]),i.push(n)}}function iL(n,t,r=un){const{immediate:i,deep:s,once:o,scheduler:a,augmentJob:l,call:u}=r,h=b=>s?b:us(b)||s===!1||s===0?Po(b,1):Po(b);let c,f,d,p,m=!1,g=!1;if(sr(n)?(f=()=>n.value,m=us(n)):Ws(n)?(f=()=>h(n),m=!0):pt(n)?(g=!0,m=n.some(b=>Ws(b)||us(b)),f=()=>n.map(b=>{if(sr(b))return b.value;if(Ws(b))return h(b);if(Mt(b))return u?u(b,2):b()})):Mt(n)?t?f=u?()=>u(n,2):n:f=()=>{if(d){Wo();try{d()}finally{Xo()}}const b=da;da=c;try{return u?u(n,3,[p]):n(p)}finally{da=b}}:f=Wr,t&&s){const b=f,w=s===!0?1/0:s;f=()=>Po(b(),w)}const v=y1(),S=()=>{c.stop(),v&&v.active&&mm(v.effects,c)};if(o&&t){const b=t;t=(...w)=>{b(...w),S()}}let y=g?new Array(n.length).fill(Jf):Jf;const x=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(t){const w=c.run();if(s||m||(g?w.some((E,_)=>si(E,y[_])):si(w,y))){d&&d();const E=da;da=c;try{const _=[w,y===Jf?void 0:g&&y[0]===Jf?[]:y,p];y=w,u?u(t,3,_):t(..._)}finally{da=E}}}else c.run()};return l&&l(x),c=new Ih(f),c.scheduler=a?()=>a(x,!1):x,p=b=>XA(b,!1,c),d=c.onStop=()=>{const b=mp.get(c);if(b){if(u)u(b,4);else for(const w of b)w();mp.delete(c)}},t?i?x(!0):y=c.run():a?a(x.bind(null,!0),!0):c.run(),S.pause=c.pause.bind(c),S.resume=c.resume.bind(c),S.stop=S,S}function Po(n,t=1/0,r){if(t<=0||!En(n)||n.__v_skip||(r=r||new Map,(r.get(n)||0)>=t))return n;if(r.set(n,t),t--,sr(n))Po(n.value,t,r);else if(pt(n))for(let i=0;i<n.length;i++)Po(n[i],t,r);else if(Va(n)||_l(n))n.forEach(i=>{Po(i,t,r)});else if(hf(n)){for(const i in n)Po(n[i],t,r);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&Po(n[i],t,r)}return n}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qA=[];function sL(n){qA.push(n)}function oL(){qA.pop()}function aL(n,t){}const lL={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},uL={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function yc(n,t,r,i){try{return i?n(...i):n()}catch(s){nu(s,t,r)}}function Cs(n,t,r,i){if(Mt(n)){const s=yc(n,t,r,i);return s&&gm(s)&&s.catch(o=>{nu(o,t,r)}),s}if(pt(n)){const s=[];for(let o=0;o<n.length;o++)s.push(Cs(n[o],t,r,i));return s}}function nu(n,t,r,i=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||un;if(t){let l=t.parent;const u=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${r}`;for(;l;){const c=l.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](n,u,h)===!1)return}l=l.parent}if(o){Wo(),yc(o,null,10,[n,u,h]),Xo();return}}cL(n,r,s,i,a)}function cL(n,t,r,i=!0,s=!1){if(s)throw n;console.error(n)}const Ci=[];let ao=-1;const Vu=[];let pa=null,Iu=0;const YA=Promise.resolve();let gp=null;function Ji(n){const t=gp||YA;return n?t.then(this?n.bind(this):n):t}function hL(n){let t=ao+1,r=Ci.length;for(;t<r;){const i=t+r>>>1,s=Ci[i],o=kh(s);o<n||o===n&&s.flags&2?t=i+1:r=i}return t}function C1(n){if(!(n.flags&1)){const t=kh(n),r=Ci[Ci.length-1];!r||!(n.flags&2)&&t>=kh(r)?Ci.push(n):Ci.splice(hL(t),0,n),n.flags|=1,KA()}}function KA(){gp||(gp=YA.then(ZA))}function Fh(n){pt(n)?Vu.push(...n):pa&&n.id===-1?pa.splice(Iu+1,0,n):n.flags&1||(Vu.push(n),n.flags|=1),KA()}function cw(n,t,r=ao+1){for(;r<Ci.length;r++){const i=Ci[r];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;Ci.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function vp(n){if(Vu.length){const t=[...new Set(Vu)].sort((r,i)=>kh(r)-kh(i));if(Vu.length=0,pa){pa.push(...t);return}for(pa=t,Iu=0;Iu<pa.length;Iu++){const r=pa[Iu];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}pa=null,Iu=0}}const kh=n=>n.id==null?n.flags&2?-1:1/0:n.id;function ZA(n){try{for(ao=0;ao<Ci.length;ao++){const t=Ci[ao];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),yc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ao<Ci.length;ao++){const t=Ci[ao];t&&(t.flags&=-2)}ao=-1,Ci.length=0,vp(),gp=null,(Ci.length||Vu.length)&&ZA()}}let Du,Qf=[];function JA(n,t){var r,i;Du=n,Du?(Du.enabled=!0,Qf.forEach(({event:s,args:o})=>Du.emit(s,...o)),Qf=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{JA(o,t)}),setTimeout(()=>{Du||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Qf=[])},3e3)):Qf=[]}let Qr=null,Cm=null;function Mh(n){const t=Qr;return Qr=n,Cm=n&&n.type.__scopeId||null,t}function fL(n){Cm=n}function dL(){Cm=null}const pL=n=>Hr;function Hr(n,t=Qr,r){if(!t||n._n)return n;const i=(...s)=>{i._d&&Lh(-1);const o=Mh(t);let a;try{a=n(...s)}finally{Mh(o),i._d&&Lh(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function sn(n,t){if(Qr===null)return n;const r=vf(Qr),i=n.dirs||(n.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,u=un]=t[s];o&&(Mt(o)&&(o={mounted:o,updated:o}),o.deep&&Po(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return n}function lo(n,t,r,i){const s=n.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];o&&(l.oldValue=o[a].value);let u=l.dir[i];u&&(Wo(),Cs(u,r,8,[n.el,l,n,t]),Xo())}}const QA=Symbol("_vte"),eT=n=>n.__isTeleport,ah=n=>n&&(n.disabled||n.disabled===""),hw=n=>n&&(n.defer||n.defer===""),fw=n=>typeof SVGElement<"u"&&n instanceof SVGElement,dw=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,jv=(n,t)=>{const r=n&&n.to;return Bt(r)?t?t(r):null:r},tT={name:"Teleport",__isTeleport:!0,process(n,t,r,i,s,o,a,l,u,h){const{mc:c,pc:f,pbc:d,o:{insert:p,querySelector:m,createText:g,createComment:v}}=h,S=ah(t.props);let{shapeFlag:y,children:x,dynamicChildren:b}=t;if(n==null){const w=t.el=g(""),E=t.anchor=g("");p(w,r,i),p(E,r,i);const _=(C,F)=>{y&16&&c(x,C,F,s,o,a,l,u)},T=()=>{const C=t.target=jv(t.props,m),F=nT(C,t,g,p);C&&(a!=="svg"&&fw(C)?a="svg":a!=="mathml"&&dw(C)&&(a="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(C),S||(_(C,F),Vd(t,!1)))};S&&(_(r,E),Vd(t,!0)),hw(t.props)?(t.el.__isMounted=!1,Pr(()=>{T(),delete t.el.__isMounted},o)):T()}else{if(hw(t.props)&&n.el.__isMounted===!1){Pr(()=>{tT.process(n,t,r,i,s,o,a,l,u,h)},o);return}t.el=n.el,t.targetStart=n.targetStart;const w=t.anchor=n.anchor,E=t.target=n.target,_=t.targetAnchor=n.targetAnchor,T=ah(n.props),C=T?r:E,F=T?w:_;if(a==="svg"||fw(E)?a="svg":(a==="mathml"||dw(E))&&(a="mathml"),b?(d(n.dynamicChildren,b,C,s,o,a,l),B1(n,t,!0)):u||f(n,t,C,F,s,o,a,l,!1),S)T?t.props&&n.props&&t.props.to!==n.props.to&&(t.props.to=n.props.to):ed(t,r,w,h,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const k=t.target=jv(t.props,m);k&&ed(t,k,null,h,0)}else T&&ed(t,E,_,h,1);Vd(t,S)}},remove(n,t,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetStart:h,targetAnchor:c,target:f,props:d}=n;if(f&&(s(h),s(c)),o&&s(u),a&16){const p=o||!ah(d);for(let m=0;m<l.length;m++){const g=l[m];i(g,t,r,p,!!g.dynamicChildren)}}},move:ed,hydrate:mL};function ed(n,t,r,{o:{insert:i},m:s},o=2){o===0&&i(n.targetAnchor,t,r);const{el:a,anchor:l,shapeFlag:u,children:h,props:c}=n,f=o===2;if(f&&i(a,t,r),(!f||ah(c))&&u&16)for(let d=0;d<h.length;d++)s(h[d],t,r,2);f&&i(l,t,r)}function mL(n,t,r,i,s,o,{o:{nextSibling:a,parentNode:l,querySelector:u,insert:h,createText:c}},f){function d(g,v,S,y){v.anchor=f(a(g),v,l(g),r,i,s,o),v.targetStart=S,v.targetAnchor=y}const p=t.target=jv(t.props,u),m=ah(t.props);if(p){const g=p._lpa||p.firstChild;if(t.shapeFlag&16)if(m)d(n,t,g,g&&a(g));else{t.anchor=a(n);let v=g;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,p._lpa=t.targetAnchor&&a(t.targetAnchor);break}}v=a(v)}t.targetAnchor||nT(p,t,c,h),f(g&&a(g),t,p,r,i,s,o)}Vd(t,m)}else m&&t.shapeFlag&16&&d(n,t,n,a(n));return t.anchor&&a(t.anchor)}const gL=tT;function Vd(n,t){const r=n.ctx;if(r&&r.ut){let i,s;for(t?(i=n.el,s=n.anchor):(i=n.targetStart,s=n.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",r.uid),i=i.nextSibling;r.ut()}}function nT(n,t,r,i){const s=t.targetStart=r(""),o=t.targetAnchor=r("");return s[QA]=o,n&&(i(s,n),i(o,n)),o}const ko=Symbol("_leaveCb"),td=Symbol("_enterCb");function A1(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xr(()=>{n.isMounted=!0}),fs(()=>{n.isUnmounting=!0}),n}const ys=[Function,Array],T1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ys,onEnter:ys,onAfterEnter:ys,onEnterCancelled:ys,onBeforeLeave:ys,onLeave:ys,onAfterLeave:ys,onLeaveCancelled:ys,onBeforeAppear:ys,onAppear:ys,onAfterAppear:ys,onAppearCancelled:ys},rT=n=>{const t=n.subTree;return t.component?rT(t.component):t},vL={name:"BaseTransition",props:T1,setup(n,{slots:t}){const r=Qi(),i=A1();return()=>{const s=t.default&&Am(t.default(),!0);if(!s||!s.length)return;const o=iT(s),a=mn(n),{mode:l}=a;if(i.isLeaving)return m0(o);const u=pw(o);if(!u)return m0(o);let h=Ku(u,a,i,r,f=>h=f);u.type!==Er&&Yo(u,h);let c=r.subTree&&pw(r.subTree);if(c&&c.type!==Er&&!js(c,u)&&rT(r).type!==Er){let f=Ku(c,a,i,r);if(Yo(c,f),l==="out-in"&&u.type!==Er)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,c=void 0},m0(o);l==="in-out"&&u.type!==Er?f.delayLeave=(d,p,m)=>{const g=oT(i,c);g[String(c.key)]=c,d[ko]=()=>{p(),d[ko]=void 0,delete h.delayedLeave,c=void 0},h.delayedLeave=()=>{m(),delete h.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function iT(n){let t=n[0];if(n.length>1){for(const r of n)if(r.type!==Er){t=r;break}}return t}const sT=vL;function oT(n,t){const{leavingVNodes:r}=n;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function Ku(n,t,r,i,s){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:h,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:S,onAfterAppear:y,onAppearCancelled:x}=t,b=String(n.key),w=oT(r,n),E=(C,F)=>{C&&Cs(C,i,9,F)},_=(C,F)=>{const k=F[1];E(C,F),pt(C)?C.every(D=>D.length<=1)&&k():C.length<=1&&k()},T={mode:a,persisted:l,beforeEnter(C){let F=u;if(!r.isMounted)if(o)F=v||u;else return;C[ko]&&C[ko](!0);const k=w[b];k&&js(n,k)&&k.el[ko]&&k.el[ko](),E(F,[C])},enter(C){let F=h,k=c,D=f;if(!r.isMounted)if(o)F=S||h,k=y||c,D=x||f;else return;let N=!1;const M=C[td]=U=>{N||(N=!0,U?E(D,[C]):E(k,[C]),T.delayedLeave&&T.delayedLeave(),C[td]=void 0)};F?_(F,[C,M]):M()},leave(C,F){const k=String(n.key);if(C[td]&&C[td](!0),r.isUnmounting)return F();E(d,[C]);let D=!1;const N=C[ko]=M=>{D||(D=!0,F(),M?E(g,[C]):E(m,[C]),C[ko]=void 0,w[k]===n&&delete w[k])};w[k]=n,p?_(p,[C,N]):N()},clone(C){const F=Ku(C,t,r,i,s);return s&&s(F),F}};return T}function m0(n){if(mf(n))return n=fo(n),n.children=null,n}function pw(n){if(!mf(n))return eT(n.type)&&n.children?iT(n.children):n;if(n.component)return n.component.subTree;const{shapeFlag:t,children:r}=n;if(r){if(t&16)return r[0];if(t&32&&Mt(r.default))return r.default()}}function Yo(n,t){n.shapeFlag&6&&n.component?(n.transition=t,Yo(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function Am(n,t=!1,r){let i=[],s=0;for(let o=0;o<n.length;o++){let a=n[o];const l=r==null?a.key:String(r)+String(a.key!=null?a.key:o);a.type===at?(a.patchFlag&128&&s++,i=i.concat(Am(a.children,t,l))):(t||a.type!==Er)&&i.push(l!=null?fo(a,{key:l}):a)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function pf(n,t){return Mt(n)?ln({name:n.name},t,{setup:n}):n}function yL(){const n=Qi();return n?(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++:""}function I1(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function bL(n){const t=Qi(),r=E1(null);if(t){const s=t.refs===un?t.refs={}:t.refs;Object.defineProperty(s,n,{enumerable:!0,get:()=>r.value,set:o=>r.value=o})}return r}const yp=new WeakMap;function $u(n,t,r,i,s=!1){if(pt(n)){n.forEach((m,g)=>$u(m,t&&(pt(t)?t[g]:t),r,i,s));return}if(Ia(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&$u(n,t,r,i.component.subTree);return}const o=i.shapeFlag&4?vf(i.component):i.el,a=s?null:o,{i:l,r:u}=n,h=t&&t.r,c=l.refs===un?l.refs={}:l.refs,f=l.setupState,d=mn(f),p=f===un?ml:m=>wn(d,m);if(h!=null&&h!==u){if(mw(t),Bt(h))c[h]=null,p(h)&&(f[h]=null);else if(sr(h)){h.value=null;const m=t;m.k&&(c[m.k]=null)}}if(Mt(u))yc(u,l,12,[a,c]);else{const m=Bt(u),g=sr(u);if(m||g){const v=()=>{if(n.f){const S=m?p(u)?f[u]:c[u]:u.value;if(s)pt(S)&&mm(S,o);else if(pt(S))S.includes(o)||S.push(o);else if(m)c[u]=[o],p(u)&&(f[u]=c[u]);else{const y=[o];u.value=y,n.k&&(c[n.k]=y)}}else m?(c[u]=a,p(u)&&(f[u]=a)):g&&(u.value=a,n.k&&(c[n.k]=a))};if(a){const S=()=>{v(),yp.delete(n)};S.id=-1,yp.set(n,S),Pr(S,r)}else mw(n),v()}}}function mw(n){const t=yp.get(n);t&&(t.flags|=8,yp.delete(n))}let gw=!1;const vu=()=>{gw||(console.error("Hydration completed but contains mismatches."),gw=!0)},xL=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",_L=n=>n.namespaceURI.includes("MathML"),nd=n=>{if(n.nodeType===1){if(xL(n))return"svg";if(_L(n))return"mathml"}},Mu=n=>n.nodeType===8;function wL(n){const{mt:t,p:r,o:{patchProp:i,createText:s,nextSibling:o,parentNode:a,remove:l,insert:u,createComment:h}}=n,c=(x,b)=>{if(!b.hasChildNodes()){r(null,x,b),vp(),b._vnode=x;return}f(b.firstChild,x,null,null,null),vp(),b._vnode=x},f=(x,b,w,E,_,T=!1)=>{T=T||!!b.dynamicChildren;const C=Mu(x)&&x.data==="[",F=()=>g(x,b,w,E,_,C),{type:k,ref:D,shapeFlag:N,patchFlag:M}=b;let U=x.nodeType;b.el=x,M===-2&&(T=!1,b.dynamicChildren=null);let R=null;switch(k){case Da:U!==3?b.children===""?(u(b.el=s(""),a(x),x),R=x):R=F():(x.data!==b.children&&(vu(),x.data=b.children),R=o(x));break;case Er:y(x)?(R=o(x),S(b.el=x.content.firstChild,x,w)):U!==8||C?R=F():R=o(x);break;case Al:if(C&&(x=o(x),U=x.nodeType),U===1||U===3){R=x;const W=!b.children.length;for(let ne=0;ne<b.staticCount;ne++)W&&(b.children+=R.nodeType===1?R.outerHTML:R.data),ne===b.staticCount-1&&(b.anchor=R),R=o(R);return C?o(R):R}else F();break;case at:C?R=m(x,b,w,E,_,T):R=F();break;default:if(N&1)(U!==1||b.type.toLowerCase()!==x.tagName.toLowerCase())&&!y(x)?R=F():R=d(x,b,w,E,_,T);else if(N&6){b.slotScopeIds=_;const W=a(x);if(C?R=v(x):Mu(x)&&x.data==="teleport start"?R=v(x,x.data,"teleport end"):R=o(x),t(b,W,null,w,E,nd(W),T),Ia(b)&&!b.type.__asyncResolved){let ne;C?(ne=lt(at),ne.anchor=R?R.previousSibling:W.lastChild):ne=x.nodeType===3?At(""):lt("div"),ne.el=x,b.component.subTree=ne}}else N&64?U!==8?R=F():R=b.type.hydrate(x,b,w,E,_,T,n,p):N&128&&(R=b.type.hydrate(x,b,w,E,nd(a(x)),_,T,n,f))}return D!=null&&$u(D,null,E,b),R},d=(x,b,w,E,_,T)=>{T=T||!!b.dynamicChildren;const{type:C,props:F,patchFlag:k,shapeFlag:D,dirs:N,transition:M}=b,U=C==="input"||C==="option";if(U||k!==-1){N&&lo(b,null,w,"created");let R=!1;if(y(x)){R=FT(null,M)&&w&&w.vnode.props&&w.vnode.props.appear;const ne=x.content.firstChild;if(R){const ge=ne.getAttribute("class");ge&&(ne.$cls=ge),M.beforeEnter(ne)}S(ne,x,w),b.el=x=ne}if(D&16&&!(F&&(F.innerHTML||F.textContent))){let ne=p(x.firstChild,b,x,w,E,_,T);for(;ne;){rd(x,1)||vu();const ge=ne;ne=ne.nextSibling,l(ge)}}else if(D&8){let ne=b.children;ne[0]===`
`&&(x.tagName==="PRE"||x.tagName==="TEXTAREA")&&(ne=ne.slice(1)),x.textContent!==ne&&(rd(x,0)||vu(),x.textContent=b.children)}if(F){if(U||!T||k&48){const ne=x.tagName.includes("-");for(const ge in F)(U&&(ge.endsWith("value")||ge==="indeterminate")||Ua(ge)&&!Vo(ge)||ge[0]==="."||ne)&&i(x,ge,null,F[ge],void 0,w)}else if(F.onClick)i(x,"onClick",null,F.onClick,void 0,w);else if(k&4&&Ws(F.style))for(const ne in F.style)F.style[ne]}let W;(W=F&&F.onVnodeBeforeMount)&&$i(W,w,b),N&&lo(b,null,w,"beforeMount"),((W=F&&F.onVnodeMounted)||N||R)&&VT(()=>{W&&$i(W,w,b),R&&M.enter(x),N&&lo(b,null,w,"mounted")},E)}return x.nextSibling},p=(x,b,w,E,_,T,C)=>{C=C||!!b.dynamicChildren;const F=b.children,k=F.length;for(let D=0;D<k;D++){const N=C?F[D]:F[D]=Gi(F[D]),M=N.type===Da;x?(M&&!C&&D+1<k&&Gi(F[D+1]).type===Da&&(u(s(x.data.slice(N.children.length)),w,o(x)),x.data=N.children),x=f(x,N,E,_,T,C)):M&&!N.children?u(N.el=s(""),w):(rd(w,1)||vu(),r(null,N,w,null,E,_,nd(w),T))}return x},m=(x,b,w,E,_,T)=>{const{slotScopeIds:C}=b;C&&(_=_?_.concat(C):C);const F=a(x),k=p(o(x),b,F,w,E,_,T);return k&&Mu(k)&&k.data==="]"?o(b.anchor=k):(vu(),u(b.anchor=h("]"),F,k),k)},g=(x,b,w,E,_,T)=>{if(rd(x.parentElement,1)||vu(),b.el=null,T){const k=v(x);for(;;){const D=o(x);if(D&&D!==k)l(D);else break}}const C=o(x),F=a(x);return l(x),r(null,b,F,C,w,E,nd(F),_),w&&(w.vnode.el=b.el,Nm(w,b.el)),C},v=(x,b="[",w="]")=>{let E=0;for(;x;)if(x=o(x),x&&Mu(x)&&(x.data===b&&E++,x.data===w)){if(E===0)return o(x);E--}return x},S=(x,b,w)=>{const E=b.parentNode;E&&E.replaceChild(x,b);let _=w;for(;_;)_.vnode.el===b&&(_.vnode.el=_.subTree.el=x),_=_.parent},y=x=>x.nodeType===1&&x.tagName==="TEMPLATE";return[c,f]}const vw="data-allow-mismatch",EL={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function rd(n,t){if(t===0||t===1)for(;n&&!n.hasAttribute(vw);)n=n.parentElement;const r=n&&n.getAttribute(vw);if(r==null)return!1;if(r==="")return!0;{const i=r.split(",");return t===0&&i.includes("children")?!0:i.includes(EL[t])}}const SL=ff().requestIdleCallback||(n=>setTimeout(n,1)),CL=ff().cancelIdleCallback||(n=>clearTimeout(n)),AL=(n=1e4)=>t=>{const r=SL(t,{timeout:n});return()=>CL(r)};function TL(n){const{top:t,left:r,bottom:i,right:s}=n.getBoundingClientRect(),{innerHeight:o,innerWidth:a}=window;return(t>0&&t<o||i>0&&i<o)&&(r>0&&r<a||s>0&&s<a)}const IL=n=>(t,r)=>{const i=new IntersectionObserver(s=>{for(const o of s)if(o.isIntersecting){i.disconnect(),t();break}},n);return r(s=>{if(s instanceof Element){if(TL(s))return t(),i.disconnect(),!1;i.observe(s)}}),()=>i.disconnect()},DL=n=>t=>{if(n){const r=matchMedia(n);if(r.matches)t();else return r.addEventListener("change",t,{once:!0}),()=>r.removeEventListener("change",t)}},NL=(n=[])=>(t,r)=>{Bt(n)&&(n=[n]);let i=!1;const s=a=>{i||(i=!0,o(),t(),a.target.dispatchEvent(new a.constructor(a.type,a)))},o=()=>{r(a=>{for(const l of n)a.removeEventListener(l,s)})};return r(a=>{for(const l of n)a.addEventListener(l,s,{once:!0})}),o};function FL(n,t){if(Mu(n)&&n.data==="["){let r=1,i=n.nextSibling;for(;i;){if(i.nodeType===1){if(t(i)===!1)break}else if(Mu(i))if(i.data==="]"){if(--r===0)break}else i.data==="["&&r++;i=i.nextSibling}}else t(n)}const Ia=n=>!!n.type.__asyncLoader;function kL(n){Mt(n)&&(n={loader:n});const{loader:t,loadingComponent:r,errorComponent:i,delay:s=200,hydrate:o,timeout:a,suspensible:l=!0,onError:u}=n;let h=null,c,f=0;const d=()=>(f++,h=null,p()),p=()=>{let m;return h||(m=h=t().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),u)return new Promise((v,S)=>{u(g,()=>v(d()),()=>S(g),f+1)});throw g}).then(g=>m!==h&&h?h:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),c=g,g)))};return pf({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(m,g,v){let S=!1;(g.bu||(g.bu=[])).push(()=>S=!0);const y=()=>{S||v()},x=o?()=>{const b=o(y,w=>FL(m,w));b&&(g.bum||(g.bum=[])).push(b)}:y;c?x():p().then(()=>!g.isUnmounted&&x())},get __asyncResolved(){return c},setup(){const m=Jr;if(I1(m),c)return()=>g0(c,m);const g=x=>{h=null,nu(x,m,13,!i)};if(l&&m.suspense||Zu)return p().then(x=>()=>g0(x,m)).catch(x=>(g(x),()=>i?lt(i,{error:x}):null));const v=Xe(!1),S=Xe(),y=Xe(!!s);return s&&setTimeout(()=>{y.value=!1},s),a!=null&&setTimeout(()=>{if(!v.value&&!S.value){const x=new Error(`Async component timed out after ${a}ms.`);g(x),S.value=x}},a),p().then(()=>{v.value=!0,m.parent&&mf(m.parent.vnode)&&m.parent.update()}).catch(x=>{g(x),S.value=x}),()=>{if(v.value&&c)return g0(c,m);if(S.value&&i)return lt(i,{error:S.value});if(r&&!y.value)return lt(r)}}})}function g0(n,t){const{ref:r,props:i,children:s,ce:o}=t.vnode,a=lt(n,i,s);return a.ref=r,a.ce=o,delete t.vnode.ce,a}const mf=n=>n.type.__isKeepAlive,ML={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:t}){const r=Qi(),i=r.ctx;if(!i.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const s=new Map,o=new Set;let a=null;const l=r.suspense,{renderer:{p:u,m:h,um:c,o:{createElement:f}}}=i,d=f("div");i.activate=(y,x,b,w,E)=>{const _=y.component;h(y,x,b,0,l),u(_.vnode,y,x,b,_,l,w,y.slotScopeIds,E),Pr(()=>{_.isDeactivated=!1,_.a&&El(_.a);const T=y.props&&y.props.onVnodeMounted;T&&$i(T,_.parent,y)},l)},i.deactivate=y=>{const x=y.component;xp(x.m),xp(x.a),h(y,d,null,1,l),Pr(()=>{x.da&&El(x.da);const b=y.props&&y.props.onVnodeUnmounted;b&&$i(b,x.parent,y),x.isDeactivated=!0},l)};function p(y){v0(y),c(y,r,l,!0)}function m(y){s.forEach((x,b)=>{const w=Qv(x.type);w&&!y(w)&&g(b)})}function g(y){const x=s.get(y);x&&(!a||!js(x,a))?p(x):a&&v0(a),s.delete(y),o.delete(y)}Wi(()=>[n.include,n.exclude],([y,x])=>{y&&m(b=>Jc(y,b)),x&&m(b=>!Jc(x,b))},{flush:"post",deep:!0});let v=null;const S=()=>{v!=null&&(_p(r.subTree.type)?Pr(()=>{s.set(v,id(r.subTree))},r.subTree.suspense):s.set(v,id(r.subTree)))};return xr(S),Im(S),fs(()=>{s.forEach(y=>{const{subTree:x,suspense:b}=r,w=id(x);if(y.type===w.type&&y.key===w.key){v0(w);const E=w.component.da;E&&Pr(E,b);return}p(y)})}),()=>{if(v=null,!t.default)return a=null;const y=t.default(),x=y[0];if(y.length>1)return a=null,y;if(!Ko(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return a=null,x;let b=id(x);if(b.type===Er)return a=null,b;const w=b.type,E=Qv(Ia(b)?b.type.__asyncResolved||{}:w),{include:_,exclude:T,max:C}=n;if(_&&(!E||!Jc(_,E))||T&&E&&Jc(T,E))return b.shapeFlag&=-257,a=b,x;const F=b.key==null?w:b.key,k=s.get(F);return b.el&&(b=fo(b),x.shapeFlag&128&&(x.ssContent=b)),v=F,k?(b.el=k.el,b.component=k.component,b.transition&&Yo(b,b.transition),b.shapeFlag|=512,o.delete(F),o.add(F)):(o.add(F),C&&o.size>parseInt(C,10)&&g(o.values().next().value)),b.shapeFlag|=256,a=b,_p(x.type)?x:b}}},aT=ML;function Jc(n,t){return pt(n)?n.some(r=>Jc(r,t)):Bt(n)?n.split(",").includes(t):hA(n)?(n.lastIndex=0,n.test(t)):!1}function D1(n,t){uT(n,"a",t)}function lT(n,t){uT(n,"da",t)}function uT(n,t,r=Jr){const i=n.__wdc||(n.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(Tm(t,i,r),r){let s=r.parent;for(;s&&s.parent;)mf(s.parent.vnode)&&OL(i,t,r,s),s=s.parent}}function OL(n,t,r,i){const s=Tm(t,n,i,!0);ru(()=>{mm(i[t],s)},r)}function v0(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function id(n){return n.shapeFlag&128?n.ssContent:n}function Tm(n,t,r=Jr,i=!1){if(r){const s=r[n]||(r[n]=[]),o=t.__weh||(t.__weh=(...a)=>{Wo();const l=Pl(r),u=Cs(t,r,n,a);return l(),Xo(),u});return i?s.unshift(o):s.push(o),o}}const ea=n=>(t,r=Jr)=>{(!Zu||n==="sp")&&Tm(n,(...i)=>t(...i),r)},cT=ea("bm"),xr=ea("m"),N1=ea("bu"),Im=ea("u"),fs=ea("bum"),ru=ea("um"),hT=ea("sp"),fT=ea("rtg"),dT=ea("rtc");function pT(n,t=Jr){Tm("ec",n,t)}const F1="components",PL="directives";function Pt(n,t){return M1(F1,n,!0,t)||n}const mT=Symbol.for("v-ndc");function k1(n){return Bt(n)?M1(F1,n,!1)||n:n||mT}function LL(n){return M1(PL,n)}function M1(n,t,r=!0,i=!1){const s=Qr||Jr;if(s){const o=s.type;if(n===F1){const l=Qv(o,!1);if(l&&(l===t||l===qn(t)||l===$a(qn(t))))return o}const a=yw(s[n]||o[n],t)||yw(s.appContext[n],t);return!a&&i?o:a}}function yw(n,t){return n&&(n[t]||n[qn(t)]||n[$a(qn(t))])}function Tt(n,t,r,i){let s;const o=r&&r[i],a=pt(n);if(a||Bt(n)){const l=a&&Ws(n);let u=!1,h=!1;l&&(u=!us(n),h=qo(n),n=xm(n)),s=new Array(n.length);for(let c=0,f=n.length;c<f;c++)s[c]=t(u?h?pp(Kr(n[c])):Kr(n[c]):n[c],c,void 0,o&&o[c])}else if(typeof n=="number"){s=new Array(n);for(let l=0;l<n;l++)s[l]=t(l+1,l,void 0,o&&o[l])}else if(En(n))if(n[Symbol.iterator])s=Array.from(n,(l,u)=>t(l,u,void 0,o&&o[u]));else{const l=Object.keys(n);s=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const c=l[u];s[u]=t(n[c],c,u,o&&o[u])}}else s=[];return r&&(r[i]=s),s}function RL(n,t){for(let r=0;r<t.length;r++){const i=t[r];if(pt(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.key?(...s)=>{const o=i.fn(...s);return o&&(o.key=i.key),o}:i.fn)}return n}function BL(n,t,r={},i,s){if(Qr.ce||Qr.parent&&Ia(Qr.parent)&&Qr.parent.ce){const h=Object.keys(r).length>0;return t!=="default"&&(r.name=t),se(),Kt(at,null,[lt("slot",r,i&&i())],h?-2:64)}let o=n[t];o&&o._c&&(o._d=!1),se();const a=o&&O1(o(r)),l=r.key||a&&a.key,u=Kt(at,{key:(l&&!ki(l)?l:`_${t}`)+(!a&&i?"_fb":"")},a||(i?i():[]),a&&n._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function O1(n){return n.some(t=>Ko(t)?!(t.type===Er||t.type===at&&!O1(t.children)):!0)?n:null}function UL(n,t){const r={};for(const i in n)r[t&&/[A-Z]/.test(i)?`on:${i}`:wl(i)]=n[i];return r}const zv=n=>n?XT(n)?vf(n):zv(n.parent):null,lh=ln(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>zv(n.parent),$root:n=>zv(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>P1(n),$forceUpdate:n=>n.f||(n.f=()=>{C1(n.update)}),$nextTick:n=>n.n||(n.n=Ji.bind(n.proxy)),$watch:n=>gR.bind(n)}),y0=(n,t)=>n!==un&&!n.__isScriptSetup&&wn(n,t),Gv={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:i,data:s,props:o,accessCache:a,type:l,appContext:u}=n;let h;if(t[0]!=="$"){const p=a[t];if(p!==void 0)switch(p){case 1:return i[t];case 2:return s[t];case 4:return r[t];case 3:return o[t]}else{if(y0(i,t))return a[t]=1,i[t];if(s!==un&&wn(s,t))return a[t]=2,s[t];if((h=n.propsOptions[0])&&wn(h,t))return a[t]=3,o[t];if(r!==un&&wn(r,t))return a[t]=4,r[t];Hv&&(a[t]=0)}}const c=lh[t];let f,d;if(c)return t==="$attrs"&&oi(n.attrs,"get",""),c(n);if((f=l.__cssModules)&&(f=f[t]))return f;if(r!==un&&wn(r,t))return a[t]=4,r[t];if(d=u.config.globalProperties,wn(d,t))return d[t]},set({_:n},t,r){const{data:i,setupState:s,ctx:o}=n;return y0(s,t)?(s[t]=r,!0):i!==un&&wn(i,t)?(i[t]=r,!0):wn(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(o[t]=r,!0)},has({_:{data:n,setupState:t,accessCache:r,ctx:i,appContext:s,propsOptions:o,type:a}},l){let u,h;return!!(r[l]||n!==un&&l[0]!=="$"&&wn(n,l)||y0(t,l)||(u=o[0])&&wn(u,l)||wn(i,l)||wn(lh,l)||wn(s.config.globalProperties,l)||(h=a.__cssModules)&&h[l])},defineProperty(n,t,r){return r.get!=null?n._.accessCache[t]=0:wn(r,"value")&&this.set(n,t,r.value,null),Reflect.defineProperty(n,t,r)}},VL=ln({},Gv,{get(n,t){if(t!==Symbol.unscopables)return Gv.get(n,t,n)},has(n,t){return t[0]!=="_"&&!d1(t)}});function $L(){return null}function jL(){return null}function zL(n){}function GL(n){}function HL(){return null}function WL(){}function XL(n,t){return null}function qL(){return gT().slots}function YL(){return gT().attrs}function gT(n){const t=Qi();return t.setupContext||(t.setupContext=KT(t))}function Oh(n){return pt(n)?n.reduce((t,r)=>(t[r]=null,t),{}):n}function KL(n,t){const r=Oh(n);for(const i in t){if(i.startsWith("__skip"))continue;let s=r[i];s?pt(s)||Mt(s)?s=r[i]={type:s,default:t[i]}:s.default=t[i]:s===null&&(s=r[i]={default:t[i]}),s&&t[`__skip_${i}`]&&(s.skipFactory=!0)}return r}function ZL(n,t){return!n||!t?n||t:pt(n)&&pt(t)?n.concat(t):ln({},Oh(n),Oh(t))}function JL(n,t){const r={};for(const i in n)t.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>n[i]});return r}function QL(n){const t=Qi();let r=n();return Kv(),gm(r)&&(r=r.catch(i=>{throw Pl(t),i})),[r,()=>Pl(t)]}let Hv=!0;function eR(n){const t=P1(n),r=n.proxy,i=n.ctx;Hv=!1,t.beforeCreate&&bw(t.beforeCreate,n,"bc");const{data:s,computed:o,methods:a,watch:l,provide:u,inject:h,created:c,beforeMount:f,mounted:d,beforeUpdate:p,updated:m,activated:g,deactivated:v,beforeDestroy:S,beforeUnmount:y,destroyed:x,unmounted:b,render:w,renderTracked:E,renderTriggered:_,errorCaptured:T,serverPrefetch:C,expose:F,inheritAttrs:k,components:D,directives:N,filters:M}=t;if(h&&tR(h,i,null),a)for(const W in a){const ne=a[W];Mt(ne)&&(i[W]=ne.bind(r))}if(s){const W=s.call(r,r);En(W)&&(n.data=vc(W))}if(Hv=!0,o)for(const W in o){const ne=o[W],ge=Mt(ne)?ne.bind(r,r):Mt(ne.get)?ne.get.bind(r,r):Wr,te=!Mt(ne)&&Mt(ne.set)?ne.set.bind(r):Wr,J=Ut({get:ge,set:te});Object.defineProperty(i,W,{enumerable:!0,configurable:!0,get:()=>J.value,set:ae=>J.value=ae})}if(l)for(const W in l)vT(l[W],i,r,W);if(u){const W=Mt(u)?u.call(r):u;Reflect.ownKeys(W).forEach(ne=>{uh(ne,W[ne])})}c&&bw(c,n,"c");function R(W,ne){pt(ne)?ne.forEach(ge=>W(ge.bind(r))):ne&&W(ne.bind(r))}if(R(cT,f),R(xr,d),R(N1,p),R(Im,m),R(D1,g),R(lT,v),R(pT,T),R(dT,E),R(fT,_),R(fs,y),R(ru,b),R(hT,C),pt(F))if(F.length){const W=n.exposed||(n.exposed={});F.forEach(ne=>{Object.defineProperty(W,ne,{get:()=>r[ne],set:ge=>r[ne]=ge,enumerable:!0})})}else n.exposed||(n.exposed={});w&&n.render===Wr&&(n.render=w),k!=null&&(n.inheritAttrs=k),D&&(n.components=D),N&&(n.directives=N),C&&I1(n)}function tR(n,t,r=Wr){pt(n)&&(n=Wv(n));for(const i in n){const s=n[i];let o;En(s)?"default"in s?o=cs(s.from||i,s.default,!0):o=cs(s.from||i):o=cs(s),sr(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[i]=o}}function bw(n,t,r){Cs(pt(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,r)}function vT(n,t,r,i){let s=i.includes(".")?LT(r,i):()=>r[i];if(Bt(n)){const o=t[n];Mt(o)&&Wi(s,o)}else if(Mt(n))Wi(s,n.bind(r));else if(En(n))if(pt(n))n.forEach(o=>vT(o,t,r,i));else{const o=Mt(n.handler)?n.handler.bind(r):t[n.handler];Mt(o)&&Wi(s,o,n)}}function P1(n){const t=n.type,{mixins:r,extends:i}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=n.appContext,l=o.get(t);let u;return l?u=l:!s.length&&!r&&!i?u=t:(u={},s.length&&s.forEach(h=>bp(u,h,a,!0)),bp(u,t,a)),En(t)&&o.set(t,u),u}function bp(n,t,r,i=!1){const{mixins:s,extends:o}=t;o&&bp(n,o,r,!0),s&&s.forEach(a=>bp(n,a,r,!0));for(const a in t)if(!(i&&a==="expose")){const l=nR[a]||r&&r[a];n[a]=l?l(n[a],t[a]):t[a]}return n}const nR={data:xw,props:_w,emits:_w,methods:Qc,computed:Qc,beforeCreate:xi,created:xi,beforeMount:xi,mounted:xi,beforeUpdate:xi,updated:xi,beforeDestroy:xi,beforeUnmount:xi,destroyed:xi,unmounted:xi,activated:xi,deactivated:xi,errorCaptured:xi,serverPrefetch:xi,components:Qc,directives:Qc,watch:iR,provide:xw,inject:rR};function xw(n,t){return t?n?function(){return ln(Mt(n)?n.call(this,this):n,Mt(t)?t.call(this,this):t)}:t:n}function rR(n,t){return Qc(Wv(n),Wv(t))}function Wv(n){if(pt(n)){const t={};for(let r=0;r<n.length;r++)t[n[r]]=n[r];return t}return n}function xi(n,t){return n?[...new Set([].concat(n,t))]:t}function Qc(n,t){return n?ln(Object.create(null),n,t):t}function _w(n,t){return n?pt(n)&&pt(t)?[...new Set([...n,...t])]:ln(Object.create(null),Oh(n),Oh(t??{})):t}function iR(n,t){if(!n)return t;if(!t)return n;const r=ln(Object.create(null),n);for(const i in t)r[i]=xi(n[i],t[i]);return r}function yT(){return{app:null,config:{isNativeTag:ml,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sR=0;function oR(n,t){return function(i,s=null){Mt(i)||(i=ln({},i)),s!=null&&!En(s)&&(s=null);const o=yT(),a=new WeakSet,l=[];let u=!1;const h=o.app={_uid:sR++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:JT,get config(){return o.config},set config(c){},use(c,...f){return a.has(c)||(c&&Mt(c.install)?(a.add(c),c.install(h,...f)):Mt(c)&&(a.add(c),c(h,...f))),h},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),h},component(c,f){return f?(o.components[c]=f,h):o.components[c]},directive(c,f){return f?(o.directives[c]=f,h):o.directives[c]},mount(c,f,d){if(!u){const p=h._ceVNode||lt(i,s);return p.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),f&&t?t(p,c):n(p,c,d),u=!0,h._container=c,c.__vue_app__=h,vf(p.component)}},onUnmount(c){l.push(c)},unmount(){u&&(Cs(l,h._instance,16),n(null,h._container),delete h._container.__vue_app__)},provide(c,f){return o.provides[c]=f,h},runWithContext(c){const f=Cl;Cl=h;try{return c()}finally{Cl=f}}};return h}}let Cl=null;function uh(n,t){if(Jr){let r=Jr.provides;const i=Jr.parent&&Jr.parent.provides;i===r&&(r=Jr.provides=Object.create(i)),r[n]=t}}function cs(n,t,r=!1){const i=Qi();if(i||Cl){let s=Cl?Cl._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return r&&Mt(t)?t.call(i&&i.proxy):t}}function bT(){return!!(Qi()||Cl)}const xT={},_T=()=>Object.create(xT),wT=n=>Object.getPrototypeOf(n)===xT;function aR(n,t,r,i=!1){const s={},o=_T();n.propsDefaults=Object.create(null),ET(n,t,s,o);for(const a in n.propsOptions[0])a in s||(s[a]=void 0);r?n.props=i?s:w1(s):n.type.props?n.props=s:n.props=o,n.attrs=o}function lR(n,t,r,i){const{props:s,attrs:o,vnode:{patchFlag:a}}=n,l=mn(s),[u]=n.propsOptions;let h=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=n.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Dm(n.emitsOptions,d))continue;const p=t[d];if(u)if(wn(o,d))p!==o[d]&&(o[d]=p,h=!0);else{const m=qn(d);s[m]=Xv(u,l,m,p,n,!1)}else p!==o[d]&&(o[d]=p,h=!0)}}}else{ET(n,t,s,o)&&(h=!0);let c;for(const f in l)(!t||!wn(t,f)&&((c=ci(f))===f||!wn(t,c)))&&(u?r&&(r[f]!==void 0||r[c]!==void 0)&&(s[f]=Xv(u,l,f,void 0,n,!0)):delete s[f]);if(o!==l)for(const f in o)(!t||!wn(t,f))&&(delete o[f],h=!0)}h&&Oo(n.attrs,"set","")}function ET(n,t,r,i){const[s,o]=n.propsOptions;let a=!1,l;if(t)for(let u in t){if(Vo(u))continue;const h=t[u];let c;s&&wn(s,c=qn(u))?!o||!o.includes(c)?r[c]=h:(l||(l={}))[c]=h:Dm(n.emitsOptions,u)||(!(u in i)||h!==i[u])&&(i[u]=h,a=!0)}if(o){const u=mn(r),h=l||un;for(let c=0;c<o.length;c++){const f=o[c];r[f]=Xv(s,u,f,h[f],n,!wn(h,f))}}return a}function Xv(n,t,r,i,s,o){const a=n[r];if(a!=null){const l=wn(a,"default");if(l&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Mt(u)){const{propsDefaults:h}=s;if(r in h)i=h[r];else{const c=Pl(s);i=h[r]=u.call(null,t),c()}}else i=u;s.ce&&s.ce._setProp(r,i)}a[0]&&(o&&!l?i=!1:a[1]&&(i===""||i===ci(r))&&(i=!0))}return i}const uR=new WeakMap;function ST(n,t,r=!1){const i=r?uR:t.propsCache,s=i.get(n);if(s)return s;const o=n.props,a={},l=[];let u=!1;if(!Mt(n)){const c=f=>{u=!0;const[d,p]=ST(f,t,!0);ln(a,d),p&&l.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!o&&!u)return En(n)&&i.set(n,xl),xl;if(pt(o))for(let c=0;c<o.length;c++){const f=qn(o[c]);ww(f)&&(a[f]=un)}else if(o)for(const c in o){const f=qn(c);if(ww(f)){const d=o[c],p=a[f]=pt(d)||Mt(d)?{type:d}:ln({},d),m=p.type;let g=!1,v=!0;if(pt(m))for(let S=0;S<m.length;++S){const y=m[S],x=Mt(y)&&y.name;if(x==="Boolean"){g=!0;break}else x==="String"&&(v=!1)}else g=Mt(m)&&m.name==="Boolean";p[0]=g,p[1]=v,(g||wn(p,"default"))&&l.push(f)}}const h=[a,l];return En(n)&&i.set(n,h),h}function ww(n){return n[0]!=="$"&&!Vo(n)}const L1=n=>n==="_"||n==="_ctx"||n==="$stable",R1=n=>pt(n)?n.map(Gi):[Gi(n)],cR=(n,t,r)=>{if(t._n)return t;const i=Hr((...s)=>R1(t(...s)),r);return i._c=!1,i},CT=(n,t,r)=>{const i=n._ctx;for(const s in n){if(L1(s))continue;const o=n[s];if(Mt(o))t[s]=cR(s,o,i);else if(o!=null){const a=R1(o);t[s]=()=>a}}},AT=(n,t)=>{const r=R1(t);n.slots.default=()=>r},TT=(n,t,r)=>{for(const i in t)(r||!L1(i))&&(n[i]=t[i])},hR=(n,t,r)=>{const i=n.slots=_T();if(n.vnode.shapeFlag&32){const s=t._;s?(TT(i,t,r),r&&f1(i,"_",s,!0)):CT(t,i)}else t&&AT(n,t)},fR=(n,t,r)=>{const{vnode:i,slots:s}=n;let o=!0,a=un;if(i.shapeFlag&32){const l=t._;l?r&&l===1?o=!1:TT(s,t,r):(o=!t.$stable,CT(t,s)),a=t}else t&&(AT(n,t),a={default:1});if(o)for(const l in s)!L1(l)&&a[l]==null&&delete s[l]},Pr=VT;function IT(n){return NT(n)}function DT(n){return NT(n,wL)}function NT(n,t){const r=ff();r.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:a,createText:l,createComment:u,setText:h,setElementText:c,parentNode:f,nextSibling:d,setScopeId:p=Wr,insertStaticContent:m}=n,g=(j,X,ee,Ae=null,we=null,he=null,me=void 0,_e=null,De=!!X.dynamicChildren)=>{if(j===X)return;j&&!js(j,X)&&(Ae=Q(j),ae(j,we,he,!0),j=null),X.patchFlag===-2&&(De=!1,X.dynamicChildren=null);const{type:Le,ref:B,shapeFlag:Ue}=X;switch(Le){case Da:v(j,X,ee,Ae);break;case Er:S(j,X,ee,Ae);break;case Al:j==null&&y(X,ee,Ae,me);break;case at:D(j,X,ee,Ae,we,he,me,_e,De);break;default:Ue&1?w(j,X,ee,Ae,we,he,me,_e,De):Ue&6?N(j,X,ee,Ae,we,he,me,_e,De):(Ue&64||Ue&128)&&Le.process(j,X,ee,Ae,we,he,me,_e,De,re)}B!=null&&we?$u(B,j&&j.ref,he,X||j,!X):B==null&&j&&j.ref!=null&&$u(j.ref,null,he,j,!0)},v=(j,X,ee,Ae)=>{if(j==null)i(X.el=l(X.children),ee,Ae);else{const we=X.el=j.el;X.children!==j.children&&h(we,X.children)}},S=(j,X,ee,Ae)=>{j==null?i(X.el=u(X.children||""),ee,Ae):X.el=j.el},y=(j,X,ee,Ae)=>{[j.el,j.anchor]=m(j.children,X,ee,Ae,j.el,j.anchor)},x=({el:j,anchor:X},ee,Ae)=>{let we;for(;j&&j!==X;)we=d(j),i(j,ee,Ae),j=we;i(X,ee,Ae)},b=({el:j,anchor:X})=>{let ee;for(;j&&j!==X;)ee=d(j),s(j),j=ee;s(X)},w=(j,X,ee,Ae,we,he,me,_e,De)=>{X.type==="svg"?me="svg":X.type==="math"&&(me="mathml"),j==null?E(X,ee,Ae,we,he,me,_e,De):C(j,X,we,he,me,_e,De)},E=(j,X,ee,Ae,we,he,me,_e)=>{let De,Le;const{props:B,shapeFlag:Ue,transition:Oe,dirs:Qe}=j;if(De=j.el=a(j.type,he,B&&B.is,B),Ue&8?c(De,j.children):Ue&16&&T(j.children,De,null,Ae,we,b0(j,he),me,_e),Qe&&lo(j,null,Ae,"created"),_(De,j,j.scopeId,me,Ae),B){for(const ft in B)ft!=="value"&&!Vo(ft)&&o(De,ft,null,B[ft],he,Ae);"value"in B&&o(De,"value",null,B.value,he),(Le=B.onVnodeBeforeMount)&&$i(Le,Ae,j)}Qe&&lo(j,null,Ae,"beforeMount");const We=FT(we,Oe);We&&Oe.beforeEnter(De),i(De,X,ee),((Le=B&&B.onVnodeMounted)||We||Qe)&&Pr(()=>{Le&&$i(Le,Ae,j),We&&Oe.enter(De),Qe&&lo(j,null,Ae,"mounted")},we)},_=(j,X,ee,Ae,we)=>{if(ee&&p(j,ee),Ae)for(let he=0;he<Ae.length;he++)p(j,Ae[he]);if(we){let he=we.subTree;if(X===he||_p(he.type)&&(he.ssContent===X||he.ssFallback===X)){const me=we.vnode;_(j,me,me.scopeId,me.slotScopeIds,we.parent)}}},T=(j,X,ee,Ae,we,he,me,_e,De=0)=>{for(let Le=De;Le<j.length;Le++){const B=j[Le]=_e?ma(j[Le]):Gi(j[Le]);g(null,B,X,ee,Ae,we,he,me,_e)}},C=(j,X,ee,Ae,we,he,me)=>{const _e=X.el=j.el;let{patchFlag:De,dynamicChildren:Le,dirs:B}=X;De|=j.patchFlag&16;const Ue=j.props||un,Oe=X.props||un;let Qe;if(ee&&tl(ee,!1),(Qe=Oe.onVnodeBeforeUpdate)&&$i(Qe,ee,X,j),B&&lo(X,j,ee,"beforeUpdate"),ee&&tl(ee,!0),(Ue.innerHTML&&Oe.innerHTML==null||Ue.textContent&&Oe.textContent==null)&&c(_e,""),Le?F(j.dynamicChildren,Le,_e,ee,Ae,b0(X,we),he):me||ne(j,X,_e,null,ee,Ae,b0(X,we),he,!1),De>0){if(De&16)k(_e,Ue,Oe,ee,we);else if(De&2&&Ue.class!==Oe.class&&o(_e,"class",null,Oe.class,we),De&4&&o(_e,"style",Ue.style,Oe.style,we),De&8){const We=X.dynamicProps;for(let ft=0;ft<We.length;ft++){const Ce=We[ft],Fe=Ue[Ce],Pe=Oe[Ce];(Pe!==Fe||Ce==="value")&&o(_e,Ce,Fe,Pe,we,ee)}}De&1&&j.children!==X.children&&c(_e,X.children)}else!me&&Le==null&&k(_e,Ue,Oe,ee,we);((Qe=Oe.onVnodeUpdated)||B)&&Pr(()=>{Qe&&$i(Qe,ee,X,j),B&&lo(X,j,ee,"updated")},Ae)},F=(j,X,ee,Ae,we,he,me)=>{for(let _e=0;_e<X.length;_e++){const De=j[_e],Le=X[_e],B=De.el&&(De.type===at||!js(De,Le)||De.shapeFlag&198)?f(De.el):ee;g(De,Le,B,null,Ae,we,he,me,!0)}},k=(j,X,ee,Ae,we)=>{if(X!==ee){if(X!==un)for(const he in X)!Vo(he)&&!(he in ee)&&o(j,he,X[he],null,we,Ae);for(const he in ee){if(Vo(he))continue;const me=ee[he],_e=X[he];me!==_e&&he!=="value"&&o(j,he,_e,me,we,Ae)}"value"in ee&&o(j,"value",X.value,ee.value,we)}},D=(j,X,ee,Ae,we,he,me,_e,De)=>{const Le=X.el=j?j.el:l(""),B=X.anchor=j?j.anchor:l("");let{patchFlag:Ue,dynamicChildren:Oe,slotScopeIds:Qe}=X;Qe&&(_e=_e?_e.concat(Qe):Qe),j==null?(i(Le,ee,Ae),i(B,ee,Ae),T(X.children||[],ee,B,we,he,me,_e,De)):Ue>0&&Ue&64&&Oe&&j.dynamicChildren?(F(j.dynamicChildren,Oe,ee,we,he,me,_e),(X.key!=null||we&&X===we.subTree)&&B1(j,X,!0)):ne(j,X,ee,B,we,he,me,_e,De)},N=(j,X,ee,Ae,we,he,me,_e,De)=>{X.slotScopeIds=_e,j==null?X.shapeFlag&512?we.ctx.activate(X,ee,Ae,me,De):M(X,ee,Ae,we,he,me,De):U(j,X,De)},M=(j,X,ee,Ae,we,he,me)=>{const _e=j.component=WT(j,Ae,we);if(mf(j)&&(_e.ctx.renderer=re),qT(_e,!1,me),_e.asyncDep){if(we&&we.registerDep(_e,R,me),!j.el){const De=_e.subTree=lt(Er);S(null,De,X,ee),j.placeholder=De.el}}else R(_e,j,X,ee,we,he,me)},U=(j,X,ee)=>{const Ae=X.component=j.component;if(ER(j,X,ee))if(Ae.asyncDep&&!Ae.asyncResolved){W(Ae,X,ee);return}else Ae.next=X,Ae.update();else X.el=j.el,Ae.vnode=X},R=(j,X,ee,Ae,we,he,me)=>{const _e=()=>{if(j.isMounted){let{next:Ue,bu:Oe,u:Qe,parent:We,vnode:ft}=j;{const Ve=kT(j);if(Ve){Ue&&(Ue.el=ft.el,W(j,Ue,me)),Ve.asyncDep.then(()=>{j.isUnmounted||_e()});return}}let Ce=Ue,Fe;tl(j,!1),Ue?(Ue.el=ft.el,W(j,Ue,me)):Ue=ft,Oe&&El(Oe),(Fe=Ue.props&&Ue.props.onVnodeBeforeUpdate)&&$i(Fe,We,Ue,ft),tl(j,!0);const Pe=$d(j),$e=j.subTree;j.subTree=Pe,g($e,Pe,f($e.el),Q($e),j,we,he),Ue.el=Pe.el,Ce===null&&Nm(j,Pe.el),Qe&&Pr(Qe,we),(Fe=Ue.props&&Ue.props.onVnodeUpdated)&&Pr(()=>$i(Fe,We,Ue,ft),we)}else{let Ue;const{el:Oe,props:Qe}=X,{bm:We,m:ft,parent:Ce,root:Fe,type:Pe}=j,$e=Ia(X);if(tl(j,!1),We&&El(We),!$e&&(Ue=Qe&&Qe.onVnodeBeforeMount)&&$i(Ue,Ce,X),tl(j,!0),Oe&&Se){const Ve=()=>{j.subTree=$d(j),Se(Oe,j.subTree,j,we,null)};$e&&Pe.__asyncHydrate?Pe.__asyncHydrate(Oe,j,Ve):Ve()}else{Fe.ce&&Fe.ce._def.shadowRoot!==!1&&Fe.ce._injectChildStyle(Pe);const Ve=j.subTree=$d(j);g(null,Ve,ee,Ae,j,we,he),X.el=Ve.el}if(ft&&Pr(ft,we),!$e&&(Ue=Qe&&Qe.onVnodeMounted)){const Ve=X;Pr(()=>$i(Ue,Ce,Ve),we)}(X.shapeFlag&256||Ce&&Ia(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&j.a&&Pr(j.a,we),j.isMounted=!0,X=ee=Ae=null}};j.scope.on();const De=j.effect=new Ih(_e);j.scope.off();const Le=j.update=De.run.bind(De),B=j.job=De.runIfDirty.bind(De);B.i=j,B.id=j.uid,De.scheduler=()=>C1(B),tl(j,!0),Le()},W=(j,X,ee)=>{X.component=j;const Ae=j.vnode.props;j.vnode=X,j.next=null,lR(j,X.props,Ae,ee),fR(j,X.children,ee),Wo(),cw(j),Xo()},ne=(j,X,ee,Ae,we,he,me,_e,De=!1)=>{const Le=j&&j.children,B=j?j.shapeFlag:0,Ue=X.children,{patchFlag:Oe,shapeFlag:Qe}=X;if(Oe>0){if(Oe&128){te(Le,Ue,ee,Ae,we,he,me,_e,De);return}else if(Oe&256){ge(Le,Ue,ee,Ae,we,he,me,_e,De);return}}Qe&8?(B&16&&ye(Le,we,he),Ue!==Le&&c(ee,Ue)):B&16?Qe&16?te(Le,Ue,ee,Ae,we,he,me,_e,De):ye(Le,we,he,!0):(B&8&&c(ee,""),Qe&16&&T(Ue,ee,Ae,we,he,me,_e,De))},ge=(j,X,ee,Ae,we,he,me,_e,De)=>{j=j||xl,X=X||xl;const Le=j.length,B=X.length,Ue=Math.min(Le,B);let Oe;for(Oe=0;Oe<Ue;Oe++){const Qe=X[Oe]=De?ma(X[Oe]):Gi(X[Oe]);g(j[Oe],Qe,ee,null,we,he,me,_e,De)}Le>B?ye(j,we,he,!0,!1,Ue):T(X,ee,Ae,we,he,me,_e,De,Ue)},te=(j,X,ee,Ae,we,he,me,_e,De)=>{let Le=0;const B=X.length;let Ue=j.length-1,Oe=B-1;for(;Le<=Ue&&Le<=Oe;){const Qe=j[Le],We=X[Le]=De?ma(X[Le]):Gi(X[Le]);if(js(Qe,We))g(Qe,We,ee,null,we,he,me,_e,De);else break;Le++}for(;Le<=Ue&&Le<=Oe;){const Qe=j[Ue],We=X[Oe]=De?ma(X[Oe]):Gi(X[Oe]);if(js(Qe,We))g(Qe,We,ee,null,we,he,me,_e,De);else break;Ue--,Oe--}if(Le>Ue){if(Le<=Oe){const Qe=Oe+1,We=Qe<B?X[Qe].el:Ae;for(;Le<=Oe;)g(null,X[Le]=De?ma(X[Le]):Gi(X[Le]),ee,We,we,he,me,_e,De),Le++}}else if(Le>Oe)for(;Le<=Ue;)ae(j[Le],we,he,!0),Le++;else{const Qe=Le,We=Le,ft=new Map;for(Le=We;Le<=Oe;Le++){const ie=X[Le]=De?ma(X[Le]):Gi(X[Le]);ie.key!=null&&ft.set(ie.key,Le)}let Ce,Fe=0;const Pe=Oe-We+1;let $e=!1,Ve=0;const P=new Array(Pe);for(Le=0;Le<Pe;Le++)P[Le]=0;for(Le=Qe;Le<=Ue;Le++){const ie=j[Le];if(Fe>=Pe){ae(ie,we,he,!0);continue}let fe;if(ie.key!=null)fe=ft.get(ie.key);else for(Ce=We;Ce<=Oe;Ce++)if(P[Ce-We]===0&&js(ie,X[Ce])){fe=Ce;break}fe===void 0?ae(ie,we,he,!0):(P[fe-We]=Le+1,fe>=Ve?Ve=fe:$e=!0,g(ie,X[fe],ee,null,we,he,me,_e,De),Fe++)}const V=$e?dR(P):xl;for(Ce=V.length-1,Le=Pe-1;Le>=0;Le--){const ie=We+Le,fe=X[ie],ve=X[ie+1],Ie=ie+1<B?ve.el||ve.placeholder:Ae;P[Le]===0?g(null,fe,ee,Ie,we,he,me,_e,De):$e&&(Ce<0||Le!==V[Ce]?J(fe,ee,Ie,2):Ce--)}}},J=(j,X,ee,Ae,we=null)=>{const{el:he,type:me,transition:_e,children:De,shapeFlag:Le}=j;if(Le&6){J(j.component.subTree,X,ee,Ae);return}if(Le&128){j.suspense.move(X,ee,Ae);return}if(Le&64){me.move(j,X,ee,re);return}if(me===at){i(he,X,ee);for(let Ue=0;Ue<De.length;Ue++)J(De[Ue],X,ee,Ae);i(j.anchor,X,ee);return}if(me===Al){x(j,X,ee);return}if(Ae!==2&&Le&1&&_e)if(Ae===0)_e.beforeEnter(he),i(he,X,ee),Pr(()=>_e.enter(he),we);else{const{leave:Ue,delayLeave:Oe,afterLeave:Qe}=_e,We=()=>{j.ctx.isUnmounted?s(he):i(he,X,ee)},ft=()=>{he._isLeaving&&he[ko](!0),Ue(he,()=>{We(),Qe&&Qe()})};Oe?Oe(he,We,ft):ft()}else i(he,X,ee)},ae=(j,X,ee,Ae=!1,we=!1)=>{const{type:he,props:me,ref:_e,children:De,dynamicChildren:Le,shapeFlag:B,patchFlag:Ue,dirs:Oe,cacheIndex:Qe}=j;if(Ue===-2&&(we=!1),_e!=null&&(Wo(),$u(_e,null,ee,j,!0),Xo()),Qe!=null&&(X.renderCache[Qe]=void 0),B&256){X.ctx.deactivate(j);return}const We=B&1&&Oe,ft=!Ia(j);let Ce;if(ft&&(Ce=me&&me.onVnodeBeforeUnmount)&&$i(Ce,X,j),B&6)G(j.component,ee,Ae);else{if(B&128){j.suspense.unmount(ee,Ae);return}We&&lo(j,null,X,"beforeUnmount"),B&64?j.type.remove(j,X,ee,re,Ae):Le&&!Le.hasOnce&&(he!==at||Ue>0&&Ue&64)?ye(Le,X,ee,!1,!0):(he===at&&Ue&384||!we&&B&16)&&ye(De,X,ee),Ae&&xe(j)}(ft&&(Ce=me&&me.onVnodeUnmounted)||We)&&Pr(()=>{Ce&&$i(Ce,X,j),We&&lo(j,null,X,"unmounted")},ee)},xe=j=>{const{type:X,el:ee,anchor:Ae,transition:we}=j;if(X===at){Z(ee,Ae);return}if(X===Al){b(j);return}const he=()=>{s(ee),we&&!we.persisted&&we.afterLeave&&we.afterLeave()};if(j.shapeFlag&1&&we&&!we.persisted){const{leave:me,delayLeave:_e}=we,De=()=>me(ee,he);_e?_e(j.el,he,De):De()}else he()},Z=(j,X)=>{let ee;for(;j!==X;)ee=d(j),s(j),j=ee;s(X)},G=(j,X,ee)=>{const{bum:Ae,scope:we,job:he,subTree:me,um:_e,m:De,a:Le}=j;xp(De),xp(Le),Ae&&El(Ae),we.stop(),he&&(he.flags|=8,ae(me,j,X,ee)),_e&&Pr(_e,X),Pr(()=>{j.isUnmounted=!0},X)},ye=(j,X,ee,Ae=!1,we=!1,he=0)=>{for(let me=he;me<j.length;me++)ae(j[me],X,ee,Ae,we)},Q=j=>{if(j.shapeFlag&6)return Q(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const X=d(j.anchor||j.el),ee=X&&X[QA];return ee?d(ee):X};let pe=!1;const $=(j,X,ee)=>{j==null?X._vnode&&ae(X._vnode,null,null,!0):g(X._vnode||null,j,X,null,null,null,ee),X._vnode=j,pe||(pe=!0,cw(),vp(),pe=!1)},re={p:g,um:ae,m:J,r:xe,mt:M,mc:T,pc:ne,pbc:F,n:Q,o:n};let be,Se;return t&&([be,Se]=t(re)),{render:$,hydrate:be,createApp:oR($,be)}}function b0({type:n,props:t},r){return r==="svg"&&n==="foreignObject"||r==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function tl({effect:n,job:t},r){r?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function FT(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function B1(n,t,r=!1){const i=n.children,s=t.children;if(pt(i)&&pt(s))for(let o=0;o<i.length;o++){const a=i[o];let l=s[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[o]=ma(s[o]),l.el=a.el),!r&&l.patchFlag!==-2&&B1(a,l)),l.type===Da&&l.patchFlag!==-1&&(l.el=a.el),l.type===Er&&!l.el&&(l.el=a.el)}}function dR(n){const t=n.slice(),r=[0];let i,s,o,a,l;const u=n.length;for(i=0;i<u;i++){const h=n[i];if(h!==0){if(s=r[r.length-1],n[s]<h){t[i]=s,r.push(i);continue}for(o=0,a=r.length-1;o<a;)l=o+a>>1,n[r[l]]<h?o=l+1:a=l;h<n[r[o]]&&(o>0&&(t[i]=r[o-1]),r[o]=i)}}for(o=r.length,a=r[o-1];o-- >0;)r[o]=a,a=t[a];return r}function kT(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:kT(t)}function xp(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const MT=Symbol.for("v-scx"),OT=()=>cs(MT);function pR(n,t){return gf(n,null,t)}function mR(n,t){return gf(n,null,{flush:"post"})}function PT(n,t){return gf(n,null,{flush:"sync"})}function Wi(n,t,r){return gf(n,t,r)}function gf(n,t,r=un){const{immediate:i,deep:s,flush:o,once:a}=r,l=ln({},r),u=t&&i||!t&&o!=="post";let h;if(Zu){if(o==="sync"){const p=OT();h=p.__watcherHandles||(p.__watcherHandles=[])}else if(!u){const p=()=>{};return p.stop=Wr,p.resume=Wr,p.pause=Wr,p}}const c=Jr;l.call=(p,m,g)=>Cs(p,c,m,g);let f=!1;o==="post"?l.scheduler=p=>{Pr(p,c&&c.suspense)}:o!=="sync"&&(f=!0,l.scheduler=(p,m)=>{m?p():C1(p)}),l.augmentJob=p=>{t&&(p.flags|=4),f&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const d=iL(n,t,l);return Zu&&(h?h.push(d):u&&d()),d}function gR(n,t,r){const i=this.proxy,s=Bt(n)?n.includes(".")?LT(i,n):()=>i[n]:n.bind(i,i);let o;Mt(t)?o=t:(o=t.handler,r=t);const a=Pl(this),l=gf(s,o.bind(i),r);return a(),l}function LT(n,t){const r=t.split(".");return()=>{let i=n;for(let s=0;s<r.length&&i;s++)i=i[r[s]];return i}}function vR(n,t,r=un){const i=Qi(),s=qn(t),o=ci(t),a=RT(n,s),l=zA((u,h)=>{let c,f=un,d;return PT(()=>{const p=n[s];si(c,p)&&(c=p,h())}),{get(){return u(),r.get?r.get(c):c},set(p){const m=r.set?r.set(p):p;if(!si(m,c)&&!(f!==un&&si(p,f)))return;const g=i.vnode.props;g&&(t in g||s in g||o in g)&&(`onUpdate:${t}`in g||`onUpdate:${s}`in g||`onUpdate:${o}`in g)||(c=p,h()),i.emit(`update:${t}`,m),si(p,m)&&si(p,f)&&!si(m,d)&&h(),f=p,d=m}}});return l[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?a||un:l,done:!1}:{done:!0}}}},l}const RT=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${qn(t)}Modifiers`]||n[`${ci(t)}Modifiers`];function yR(n,t,...r){if(n.isUnmounted)return;const i=n.vnode.props||un;let s=r;const o=t.startsWith("update:"),a=o&&RT(i,t.slice(7));a&&(a.trim&&(s=r.map(c=>Bt(c)?c.trim():c)),a.number&&(s=r.map(Ah)));let l,u=i[l=wl(t)]||i[l=wl(qn(t))];!u&&o&&(u=i[l=wl(ci(t))]),u&&Cs(u,n,6,s);const h=i[l+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,Cs(h,n,6,s)}}const bR=new WeakMap;function BT(n,t,r=!1){const i=r?bR:t.emitsCache,s=i.get(n);if(s!==void 0)return s;const o=n.emits;let a={},l=!1;if(!Mt(n)){const u=h=>{const c=BT(h,t,!0);c&&(l=!0,ln(a,c))};!r&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!o&&!l?(En(n)&&i.set(n,null),null):(pt(o)?o.forEach(u=>a[u]=null):ln(a,o),En(n)&&i.set(n,a),a)}function Dm(n,t){return!n||!Ua(t)?!1:(t=t.slice(2).replace(/Once$/,""),wn(n,t[0].toLowerCase()+t.slice(1))||wn(n,ci(t))||wn(n,t))}function $d(n){const{type:t,vnode:r,proxy:i,withProxy:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:h,renderCache:c,props:f,data:d,setupState:p,ctx:m,inheritAttrs:g}=n,v=Mh(n);let S,y;try{if(r.shapeFlag&4){const b=s||i,w=b;S=Gi(h.call(w,b,c,f,p,d,m)),y=l}else{const b=t;S=Gi(b.length>1?b(f,{attrs:l,slots:a,emit:u}):b(f,null)),y=t.props?l:_R(l)}}catch(b){ch.length=0,nu(b,n,1),S=lt(Er)}let x=S;if(y&&g!==!1){const b=Object.keys(y),{shapeFlag:w}=x;b.length&&w&7&&(o&&b.some(pm)&&(y=wR(y,o)),x=fo(x,y,!1,!0))}return r.dirs&&(x=fo(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(r.dirs):r.dirs),r.transition&&Yo(x,r.transition),S=x,Mh(v),S}function xR(n,t=!0){let r;for(let i=0;i<n.length;i++){const s=n[i];if(Ko(s)){if(s.type!==Er||s.children==="v-if"){if(r)return;r=s}}else return}return r}const _R=n=>{let t;for(const r in n)(r==="class"||r==="style"||Ua(r))&&((t||(t={}))[r]=n[r]);return t},wR=(n,t)=>{const r={};for(const i in n)(!pm(i)||!(i.slice(9)in t))&&(r[i]=n[i]);return r};function ER(n,t,r){const{props:i,children:s,component:o}=n,{props:a,children:l,patchFlag:u}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return i?Ew(i,a,h):!!a;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(a[d]!==i[d]&&!Dm(h,d))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?Ew(i,a,h):!0:!!a;return!1}function Ew(n,t,r){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(t[o]!==n[o]&&!Dm(r,o))return!0}return!1}function Nm({vnode:n,parent:t},r){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=t.vnode).el=r,t=t.parent;else break}}const _p=n=>n.__isSuspense;let qv=0;const SR={name:"Suspense",__isSuspense:!0,process(n,t,r,i,s,o,a,l,u,h){if(n==null)AR(t,r,i,s,o,a,l,u,h);else{if(o&&o.deps>0&&!n.suspense.isInFallback){t.suspense=n.suspense,t.suspense.vnode=t,t.el=n.el;return}TR(n,t,r,i,s,a,l,u,h)}},hydrate:IR,normalize:DR},CR=SR;function Ph(n,t){const r=n.props&&n.props[t];Mt(r)&&r()}function AR(n,t,r,i,s,o,a,l,u){const{p:h,o:{createElement:c}}=u,f=c("div"),d=n.suspense=UT(n,s,i,t,f,r,o,a,l,u);h(null,d.pendingBranch=n.ssContent,f,null,i,d,o,a),d.deps>0?(Ph(n,"onPending"),Ph(n,"onFallback"),h(null,n.ssFallback,t,r,i,null,o,a),ju(d,n.ssFallback)):d.resolve(!1,!0)}function TR(n,t,r,i,s,o,a,l,{p:u,um:h,o:{createElement:c}}){const f=t.suspense=n.suspense;f.vnode=t,t.el=n.el;const d=t.ssContent,p=t.ssFallback,{activeBranch:m,pendingBranch:g,isInFallback:v,isHydrating:S}=f;if(g)f.pendingBranch=d,js(g,d)?(u(g,d,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0?f.resolve():v&&(S||(u(m,p,r,i,s,null,o,a,l),ju(f,p)))):(f.pendingId=qv++,S?(f.isHydrating=!1,f.activeBranch=g):h(g,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),v?(u(null,d,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0?f.resolve():(u(m,p,r,i,s,null,o,a,l),ju(f,p))):m&&js(m,d)?(u(m,d,r,i,s,f,o,a,l),f.resolve(!0)):(u(null,d,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0&&f.resolve()));else if(m&&js(m,d))u(m,d,r,i,s,f,o,a,l),ju(f,d);else if(Ph(t,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=qv++,u(null,d,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0)f.resolve();else{const{timeout:y,pendingId:x}=f;y>0?setTimeout(()=>{f.pendingId===x&&f.fallback(p)},y):y===0&&f.fallback(p)}}function UT(n,t,r,i,s,o,a,l,u,h,c=!1){const{p:f,m:d,um:p,n:m,o:{parentNode:g,remove:v}}=h;let S;const y=NR(n);y&&t&&t.pendingBranch&&(S=t.pendingId,t.deps++);const x=n.props?Th(n.props.timeout):void 0,b=o,w={vnode:n,parent:t,parentComponent:r,namespace:a,container:i,hiddenContainer:s,deps:0,pendingId:qv++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(E=!1,_=!1){const{vnode:T,activeBranch:C,pendingBranch:F,pendingId:k,effects:D,parentComponent:N,container:M}=w;let U=!1;w.isHydrating?w.isHydrating=!1:E||(U=C&&F.transition&&F.transition.mode==="out-in",U&&(C.transition.afterLeave=()=>{k===w.pendingId&&(d(F,M,o===b?m(C):o,0),Fh(D))}),C&&(g(C.el)===M&&(o=m(C)),p(C,N,w,!0)),U||d(F,M,o,0)),ju(w,F),w.pendingBranch=null,w.isInFallback=!1;let R=w.parent,W=!1;for(;R;){if(R.pendingBranch){R.effects.push(...D),W=!0;break}R=R.parent}!W&&!U&&Fh(D),w.effects=[],y&&t&&t.pendingBranch&&S===t.pendingId&&(t.deps--,t.deps===0&&!_&&t.resolve()),Ph(T,"onResolve")},fallback(E){if(!w.pendingBranch)return;const{vnode:_,activeBranch:T,parentComponent:C,container:F,namespace:k}=w;Ph(_,"onFallback");const D=m(T),N=()=>{w.isInFallback&&(f(null,E,F,D,C,null,k,l,u),ju(w,E))},M=E.transition&&E.transition.mode==="out-in";M&&(T.transition.afterLeave=N),w.isInFallback=!0,p(T,C,null,!0),M||N()},move(E,_,T){w.activeBranch&&d(w.activeBranch,E,_,T),w.container=E},next(){return w.activeBranch&&m(w.activeBranch)},registerDep(E,_,T){const C=!!w.pendingBranch;C&&w.deps++;const F=E.vnode.el;E.asyncDep.catch(k=>{nu(k,E,0)}).then(k=>{if(E.isUnmounted||w.isUnmounted||w.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:D}=E;Zv(E,k,!1),F&&(D.el=F);const N=!F&&E.subTree.el;_(E,D,g(F||E.subTree.el),F?null:m(E.subTree),w,a,T),N&&v(N),Nm(E,D.el),C&&--w.deps===0&&w.resolve()})},unmount(E,_){w.isUnmounted=!0,w.activeBranch&&p(w.activeBranch,r,E,_),w.pendingBranch&&p(w.pendingBranch,r,E,_)}};return w}function IR(n,t,r,i,s,o,a,l,u){const h=t.suspense=UT(t,i,r,n.parentNode,document.createElement("div"),null,s,o,a,l,!0),c=u(n,h.pendingBranch=t.ssContent,r,h,o,a);return h.deps===0&&h.resolve(!1,!0),c}function DR(n){const{shapeFlag:t,children:r}=n,i=t&32;n.ssContent=Sw(i?r.default:r),n.ssFallback=i?Sw(r.fallback):lt(Er)}function Sw(n){let t;if(Mt(n)){const r=Ol&&n._c;r&&(n._d=!1,se()),n=n(),r&&(n._d=!0,t=di,$T())}return pt(n)&&(n=xR(n)),n=Gi(n),t&&!n.dynamicChildren&&(n.dynamicChildren=t.filter(r=>r!==n)),n}function VT(n,t){t&&t.pendingBranch?pt(n)?t.effects.push(...n):t.effects.push(n):Fh(n)}function ju(n,t){n.activeBranch=t;const{vnode:r,parentComponent:i}=n;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;r.el=s,i&&i.subTree===r&&(i.vnode.el=s,Nm(i,s))}function NR(n){const t=n.props&&n.props.suspensible;return t!=null&&t!==!1}const at=Symbol.for("v-fgt"),Da=Symbol.for("v-txt"),Er=Symbol.for("v-cmt"),Al=Symbol.for("v-stc"),ch=[];let di=null;function se(n=!1){ch.push(di=n?null:[])}function $T(){ch.pop(),di=ch[ch.length-1]||null}let Ol=1;function Lh(n,t=!1){Ol+=n,n<0&&di&&t&&(di.hasOnce=!0)}function jT(n){return n.dynamicChildren=Ol>0?di||xl:null,$T(),Ol>0&&di&&di.push(n),n}function ce(n,t,r,i,s,o){return jT(A(n,t,r,i,s,o,!0))}function Kt(n,t,r,i,s){return jT(lt(n,t,r,i,s,!0))}function Ko(n){return n?n.__v_isVNode===!0:!1}function js(n,t){return n.type===t.type&&n.key===t.key}function FR(n){}const zT=({key:n})=>n??null,jd=({ref:n,ref_key:t,ref_for:r})=>(typeof n=="number"&&(n=""+n),n!=null?Bt(n)||sr(n)||Mt(n)?{i:Qr,r:n,k:t,f:!!r}:n:null);function A(n,t=null,r=null,i=0,s=null,o=n===at?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&zT(t),ref:t&&jd(t),scopeId:Cm,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Qr};return l?(U1(u,r),o&128&&n.normalize(u)):r&&(u.shapeFlag|=Bt(r)?8:16),Ol>0&&!a&&di&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&di.push(u),u}const lt=kR;function kR(n,t=null,r=null,i=0,s=null,o=!1){if((!n||n===mT)&&(n=Er),Ko(n)){const l=fo(n,t,!0);return r&&U1(l,r),Ol>0&&!o&&di&&(l.shapeFlag&6?di[di.indexOf(n)]=l:di.push(l)),l.patchFlag=-2,l}if(UR(n)&&(n=n.__vccOpts),t){t=GT(t);let{class:l,style:u}=t;l&&!Bt(l)&&(t.class=ht(l)),En(u)&&(Em(u)&&!pt(u)&&(u=ln({},u)),t.style=Xn(u))}const a=Bt(n)?1:_p(n)?128:eT(n)?64:En(n)?4:Mt(n)?2:0;return A(n,t,r,i,s,a,o,!0)}function GT(n){return n?Em(n)||wT(n)?ln({},n):n:null}function fo(n,t,r=!1,i=!1){const{props:s,ref:o,patchFlag:a,children:l,transition:u}=n,h=t?HT(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:n.type,props:h,key:h&&zT(h),ref:t&&t.ref?r&&o?pt(o)?o.concat(jd(t)):[o,jd(t)]:jd(t):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==at?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:u,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&fo(n.ssContent),ssFallback:n.ssFallback&&fo(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return u&&i&&Yo(c,u.clone(c)),c}function At(n=" ",t=0){return lt(Da,null,n,t)}function pi(n,t){const r=lt(Al,null,n);return r.staticCount=t,r}function rt(n="",t=!1){return t?(se(),Kt(Er,null,n)):lt(Er,null,n)}function Gi(n){return n==null||typeof n=="boolean"?lt(Er):pt(n)?lt(at,null,n.slice()):Ko(n)?ma(n):lt(Da,null,String(n))}function ma(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:fo(n)}function U1(n,t){let r=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(pt(t))r=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),U1(n,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!wT(t)?t._ctx=Qr:s===3&&Qr&&(Qr.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Mt(t)?(t={default:t,_ctx:Qr},r=32):(t=String(t),i&64?(r=16,t=[At(t)]):r=8);n.children=t,n.shapeFlag|=r}function HT(...n){const t={};for(let r=0;r<n.length;r++){const i=n[r];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=ht([t.class,i.class]));else if(s==="style")t.style=Xn([t.style,i.style]);else if(Ua(s)){const o=t[s],a=i[s];a&&o!==a&&!(pt(o)&&o.includes(a))&&(t[s]=o?[].concat(o,a):a)}else s!==""&&(t[s]=i[s])}return t}function $i(n,t,r,i=null){Cs(n,t,7,[r,i])}const MR=yT();let OR=0;function WT(n,t,r){const i=n.type,s=(t?t.appContext:n.appContext)||MR,o={uid:OR++,vnode:n,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new g1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ST(i,s),emitsOptions:BT(i,s),emit:null,emitted:null,propsDefaults:un,inheritAttrs:i.inheritAttrs,ctx:un,data:un,props:un,attrs:un,slots:un,refs:un,setupState:un,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=yR.bind(null,o),n.ce&&n.ce(o),o}let Jr=null;const Qi=()=>Jr||Qr;let wp,Yv;{const n=ff(),t=(r,i)=>{let s;return(s=n[r])||(s=n[r]=[]),s.push(i),o=>{s.length>1?s.forEach(a=>a(o)):s[0](o)}};wp=t("__VUE_INSTANCE_SETTERS__",r=>Jr=r),Yv=t("__VUE_SSR_SETTERS__",r=>Zu=r)}const Pl=n=>{const t=Jr;return wp(n),n.scope.on(),()=>{n.scope.off(),wp(t)}},Kv=()=>{Jr&&Jr.scope.off(),wp(null)};function XT(n){return n.vnode.shapeFlag&4}let Zu=!1;function qT(n,t=!1,r=!1){t&&Yv(t);const{props:i,children:s}=n.vnode,o=XT(n);aR(n,i,o,t),hR(n,s,r||t);const a=o?PR(n,t):void 0;return t&&Yv(!1),a}function PR(n,t){const r=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Gv);const{setup:i}=r;if(i){Wo();const s=n.setupContext=i.length>1?KT(n):null,o=Pl(n),a=yc(i,n,0,[n.props,s]),l=gm(a);if(Xo(),o(),(l||n.sp)&&!Ia(n)&&I1(n),l){if(a.then(Kv,Kv),t)return a.then(u=>{Zv(n,u,t)}).catch(u=>{nu(u,n,0)});n.asyncDep=a}else Zv(n,a,t)}else YT(n,t)}function Zv(n,t,r){Mt(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:En(t)&&(n.setupState=S1(t)),YT(n,r)}let Ep,Jv;function LR(n){Ep=n,Jv=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,VL))}}const RR=()=>!Ep;function YT(n,t,r){const i=n.type;if(!n.render){if(!t&&Ep&&!i.render){const s=i.template||P1(n).template;if(s){const{isCustomElement:o,compilerOptions:a}=n.appContext.config,{delimiters:l,compilerOptions:u}=i,h=ln(ln({isCustomElement:o,delimiters:l},a),u);i.render=Ep(s,h)}}n.render=i.render||Wr,Jv&&Jv(n)}{const s=Pl(n);Wo();try{eR(n)}finally{Xo(),s()}}}const BR={get(n,t){return oi(n,"get",""),n[t]}};function KT(n){const t=r=>{n.exposed=r||{}};return{attrs:new Proxy(n.attrs,BR),slots:n.slots,emit:n.emit,expose:t}}function vf(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(S1(Sm(n.exposed)),{get(t,r){if(r in t)return t[r];if(r in lh)return lh[r](n)},has(t,r){return r in t||r in lh}})):n.proxy}function Qv(n,t=!0){return Mt(n)?n.displayName||n.name:n.name||t&&n.__name}function UR(n){return Mt(n)&&"__vccOpts"in n}const Ut=(n,t)=>eL(n,t,Zu);function Fm(n,t,r){try{Lh(-1);const i=arguments.length;return i===2?En(t)&&!pt(t)?Ko(t)?lt(n,null,[t]):lt(n,t):lt(n,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Ko(r)&&(r=[r]),lt(n,t,r))}finally{Lh(1)}}function VR(){}function $R(n,t,r,i){const s=r[i];if(s&&ZT(s,n))return s;const o=t();return o.memo=n.slice(),o.cacheIndex=i,r[i]=o}function ZT(n,t){const r=n.memo;if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(si(r[i],t[i]))return!1;return Ol>0&&di&&di.push(n),!0}const JT="3.5.22",jR=Wr,zR=uL,GR=Du,HR=JA,WR={createComponentInstance:WT,setupComponent:qT,renderComponentRoot:$d,setCurrentRenderingInstance:Mh,isVNode:Ko,normalizeVNode:Gi,getComponentPublicInstance:vf,ensureValidVNode:O1,pushWarningContext:sL,popWarningContext:oL},XR=WR,qR=null,YR=null,KR=null;/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ey;const Cw=typeof window<"u"&&window.trustedTypes;if(Cw)try{ey=Cw.createPolicy("vue",{createHTML:n=>n})}catch{}const QT=ey?n=>ey.createHTML(n):n=>n,ZR="http://www.w3.org/2000/svg",JR="http://www.w3.org/1998/Math/MathML",Fo=typeof document<"u"?document:null,Aw=Fo&&Fo.createElement("template"),QR={insert:(n,t,r)=>{t.insertBefore(n,r||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,r,i)=>{const s=t==="svg"?Fo.createElementNS(ZR,n):t==="mathml"?Fo.createElementNS(JR,n):r?Fo.createElement(n,{is:r}):Fo.createElement(n);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>Fo.createTextNode(n),createComment:n=>Fo.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Fo.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,r,i,s,o){const a=r?r.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===o||!(s=s.nextSibling)););else{Aw.innerHTML=QT(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const l=Aw.content;if(i==="svg"||i==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},aa="transition",Bc="animation",Ju=Symbol("_vtc"),eI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},tI=ln({},T1,eI),e4=n=>(n.displayName="Transition",n.props=tI,n),$s=e4((n,{slots:t})=>Fm(sT,nI(n),t)),nl=(n,t=[])=>{pt(n)?n.forEach(r=>r(...t)):n&&n(...t)},Tw=n=>n?pt(n)?n.some(t=>t.length>1):n.length>1:!1;function nI(n){const t={};for(const D in n)D in eI||(t[D]=n[D]);if(n.css===!1)return t;const{name:r="v",type:i,duration:s,enterFromClass:o=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:u=o,appearActiveClass:h=a,appearToClass:c=l,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=n,m=t4(s),g=m&&m[0],v=m&&m[1],{onBeforeEnter:S,onEnter:y,onEnterCancelled:x,onLeave:b,onLeaveCancelled:w,onBeforeAppear:E=S,onAppear:_=y,onAppearCancelled:T=x}=t,C=(D,N,M,U)=>{D._enterCancelled=U,ha(D,N?c:l),ha(D,N?h:a),M&&M()},F=(D,N)=>{D._isLeaving=!1,ha(D,f),ha(D,p),ha(D,d),N&&N()},k=D=>(N,M)=>{const U=D?_:y,R=()=>C(N,D,M);nl(U,[N,R]),Iw(()=>{ha(N,D?u:o),so(N,D?c:l),Tw(U)||Dw(N,i,g,R)})};return ln(t,{onBeforeEnter(D){nl(S,[D]),so(D,o),so(D,a)},onBeforeAppear(D){nl(E,[D]),so(D,u),so(D,h)},onEnter:k(!1),onAppear:k(!0),onLeave(D,N){D._isLeaving=!0;const M=()=>F(D,N);so(D,f),D._enterCancelled?(so(D,d),ty(D)):(ty(D),so(D,d)),Iw(()=>{D._isLeaving&&(ha(D,f),so(D,p),Tw(b)||Dw(D,i,v,M))}),nl(b,[D,M])},onEnterCancelled(D){C(D,!1,void 0,!0),nl(x,[D])},onAppearCancelled(D){C(D,!0,void 0,!0),nl(T,[D])},onLeaveCancelled(D){F(D),nl(w,[D])}})}function t4(n){if(n==null)return null;if(En(n))return[x0(n.enter),x0(n.leave)];{const t=x0(n);return[t,t]}}function x0(n){return Th(n)}function so(n,t){t.split(/\s+/).forEach(r=>r&&n.classList.add(r)),(n[Ju]||(n[Ju]=new Set)).add(t)}function ha(n,t){t.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const r=n[Ju];r&&(r.delete(t),r.size||(n[Ju]=void 0))}function Iw(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let n4=0;function Dw(n,t,r,i){const s=n._endId=++n4,o=()=>{s===n._endId&&i()};if(r!=null)return setTimeout(o,r);const{type:a,timeout:l,propCount:u}=rI(n,t);if(!a)return i();const h=a+"end";let c=0;const f=()=>{n.removeEventListener(h,d),o()},d=p=>{p.target===n&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},l+1),n.addEventListener(h,d)}function rI(n,t){const r=window.getComputedStyle(n),i=m=>(r[m]||"").split(", "),s=i(`${aa}Delay`),o=i(`${aa}Duration`),a=Nw(s,o),l=i(`${Bc}Delay`),u=i(`${Bc}Duration`),h=Nw(l,u);let c=null,f=0,d=0;t===aa?a>0&&(c=aa,f=a,d=o.length):t===Bc?h>0&&(c=Bc,f=h,d=u.length):(f=Math.max(a,h),c=f>0?a>h?aa:Bc:null,d=c?c===aa?o.length:u.length:0);const p=c===aa&&/\b(?:transform|all)(?:,|$)/.test(i(`${aa}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:p}}function Nw(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((r,i)=>Fw(r)+Fw(n[i])))}function Fw(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function ty(n){return(n?n.ownerDocument:document).body.offsetHeight}function r4(n,t,r){const i=n[Ju];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):r?n.setAttribute("class",t):n.className=t}const Sp=Symbol("_vod"),iI=Symbol("_vsh"),Qu={name:"show",beforeMount(n,{value:t},{transition:r}){n[Sp]=n.style.display==="none"?"":n.style.display,r&&t?r.beforeEnter(n):Uc(n,t)},mounted(n,{value:t},{transition:r}){r&&t&&r.enter(n)},updated(n,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(n),Uc(n,!0),i.enter(n)):i.leave(n,()=>{Uc(n,!1)}):Uc(n,t))},beforeUnmount(n,{value:t}){Uc(n,t)}};function Uc(n,t){n.style.display=t?n[Sp]:"none",n[iI]=!t}function i4(){Qu.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const sI=Symbol("");function s4(n){const t=Qi();if(!t)return;const r=t.ut=(s=n(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>Cp(o,s))},i=()=>{const s=n(t.proxy);t.ce?Cp(t.ce,s):ny(t.subTree,s),r(s)};N1(()=>{Fh(i)}),xr(()=>{Wi(i,Wr,{flush:"post"});const s=new MutationObserver(i);s.observe(t.subTree.el.parentNode,{childList:!0}),ru(()=>s.disconnect())})}function ny(n,t){if(n.shapeFlag&128){const r=n.suspense;n=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{ny(r.activeBranch,t)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Cp(n.el,t);else if(n.type===at)n.children.forEach(r=>ny(r,t));else if(n.type===Al){let{el:r,anchor:i}=n;for(;r&&(Cp(r,t),r!==i);)r=r.nextSibling}}function Cp(n,t){if(n.nodeType===1){const r=n.style;let i="";for(const s in t){const o=CA(t[s]);r.setProperty(`--${s}`,o),i+=`--${s}: ${o};`}r[sI]=i}}const o4=/(?:^|;)\s*display\s*:/;function a4(n,t,r){const i=n.style,s=Bt(r);let o=!1;if(r&&!s){if(t)if(Bt(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();r[l]==null&&zd(i,l,"")}else for(const a in t)r[a]==null&&zd(i,a,"");for(const a in r)a==="display"&&(o=!0),zd(i,a,r[a])}else if(s){if(t!==r){const a=i[sI];a&&(r+=";"+a),i.cssText=r,o=o4.test(r)}}else t&&n.removeAttribute("style");Sp in n&&(n[Sp]=o?i.display:"",n[iI]&&(i.display="none"))}const kw=/\s*!important$/;function zd(n,t,r){if(pt(r))r.forEach(i=>zd(n,t,i));else if(r==null&&(r=""),t.startsWith("--"))n.setProperty(t,r);else{const i=l4(n,t);kw.test(r)?n.setProperty(ci(i),r.replace(kw,""),"important"):n[i]=r}}const Mw=["Webkit","Moz","ms"],_0={};function l4(n,t){const r=_0[t];if(r)return r;let i=qn(t);if(i!=="filter"&&i in n)return _0[t]=i;i=$a(i);for(let s=0;s<Mw.length;s++){const o=Mw[s]+i;if(o in n)return _0[t]=o}return t}const Ow="http://www.w3.org/1999/xlink";function Pw(n,t,r,i,s,o=_A(t)){i&&t.startsWith("xlink:")?r==null?n.removeAttributeNS(Ow,t.slice(6,t.length)):n.setAttributeNS(Ow,t,r):r==null||o&&!m1(r)?n.removeAttribute(t):n.setAttribute(t,o?"":ki(r)?String(r):r)}function Lw(n,t,r,i,s){if(t==="innerHTML"||t==="textContent"){r!=null&&(n[t]=t==="innerHTML"?QT(r):r);return}const o=n.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?n.getAttribute("value")||"":n.value,u=r==null?n.type==="checkbox"?"on":"":String(r);(l!==u||!("_value"in n))&&(n.value=u),r==null&&n.removeAttribute(t),n._value=r;return}let a=!1;if(r===""||r==null){const l=typeof n[t];l==="boolean"?r=m1(r):r==null&&l==="string"?(r="",a=!0):l==="number"&&(r=0,a=!0)}try{n[t]=r}catch{}a&&n.removeAttribute(s||t)}function Lo(n,t,r,i){n.addEventListener(t,r,i)}function u4(n,t,r,i){n.removeEventListener(t,r,i)}const Rw=Symbol("_vei");function c4(n,t,r,i,s=null){const o=n[Rw]||(n[Rw]={}),a=o[t];if(i&&a)a.value=i;else{const[l,u]=h4(t);if(i){const h=o[t]=p4(i,s);Lo(n,l,h,u)}else a&&(u4(n,l,a,u),o[t]=void 0)}}const Bw=/(?:Once|Passive|Capture)$/;function h4(n){let t;if(Bw.test(n)){t={};let i;for(;i=n.match(Bw);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):ci(n.slice(2)),t]}let w0=0;const f4=Promise.resolve(),d4=()=>w0||(f4.then(()=>w0=0),w0=Date.now());function p4(n,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Cs(m4(i,r.value),t,5,[i])};return r.value=n,r.attached=d4(),r}function m4(n,t){if(pt(t)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const Uw=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,g4=(n,t,r,i,s,o)=>{const a=s==="svg";t==="class"?r4(n,i,a):t==="style"?a4(n,r,i):Ua(t)?pm(t)||c4(n,t,r,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):v4(n,t,i,a))?(Lw(n,t,i),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Pw(n,t,i,a,o,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!Bt(i))?Lw(n,qn(t),i,o,t):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),Pw(n,t,i,a))};function v4(n,t,r,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in n&&Uw(t)&&Mt(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Uw(t)&&Bt(r)?!1:t in n}const Vw={};function oI(n,t,r){let i=pf(n,t);hf(i)&&(i=ln({},i,t));class s extends km{constructor(a){super(i,a,r)}}return s.def=i,s}const y4=((n,t)=>oI(n,t,yI)),b4=typeof HTMLElement<"u"?HTMLElement:class{};class km extends b4{constructor(t,r={},i=Tp){super(),this._def=t,this._props=r,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==Tp?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow(ln({},t.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof km){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._inheritParentContext(t))}_inheritParentContext(t=this._parent){t&&this._app&&Object.setPrototypeOf(this._app._context.provides,t._instance.provides)}disconnectedCallback(){this._connected=!1,Ji(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(t){for(const r of t)this._setAttr(r.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const t=(i,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:o,styles:a}=i;let l;if(o&&!pt(o))for(const u in o){const h=o[u];(h===Number||h&&h.type===Number)&&(u in this._props&&(this._props[u]=Th(this._props[u])),(l||(l=Object.create(null)))[qn(u)]=!0)}this._numberProps=l,this._resolveProps(i),this.shadowRoot&&this._applyStyles(a),this._mount(i)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(i=>{i.configureApp=this._def.configureApp,t(this._def=i,!0)}):t(this._def)}_mount(t){this._app=this._createApp(t),this._inheritParentContext(),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const i in r)wn(this,i)||Object.defineProperty(this,i,{get:()=>ai(r[i])})}_resolveProps(t){const{props:r}=t,i=pt(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s]);for(const s of i.map(qn))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(o){this._setProp(s,o,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const r=this.hasAttribute(t);let i=r?this.getAttribute(t):Vw;const s=qn(t);r&&this._numberProps&&this._numberProps[s]&&(i=Th(i)),this._setProp(s,i,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,r,i=!0,s=!1){if(r!==this._props[t]&&(r===Vw?delete this._props[t]:(this._props[t]=r,t==="key"&&this._app&&(this._app._ceVNode.key=r)),s&&this._instance&&this._update(),i)){const o=this._ob;o&&(this._processMutations(o.takeRecords()),o.disconnect()),r===!0?this.setAttribute(ci(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(ci(t),r+""):r||this.removeAttribute(ci(t)),o&&o.observe(this,{attributes:!0})}}_update(){const t=this._createVNode();this._app&&(t.appContext=this._app._context),vI(t,this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const r=lt(this._def,ln(t,this._props));return this._instance||(r.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const s=(o,a)=>{this.dispatchEvent(new CustomEvent(o,hf(a[0])?ln({detail:a},a[0]):{detail:a}))};i.emit=(o,...a)=>{s(o,a),ci(o)!==o&&s(ci(o),a)},this._setParent()}),r}_applyStyles(t,r){if(!t)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const i=this._nonce;for(let s=t.length-1;s>=0;s--){const o=document.createElement("style");i&&o.setAttribute("nonce",i),o.textContent=t[s],this.shadowRoot.prepend(o)}}_parseSlots(){const t=this._slots={};let r;for(;r=this.firstChild;){const i=r.nodeType===1&&r.getAttribute("slot")||"default";(t[i]||(t[i]=[])).push(r),this.removeChild(r)}}_renderSlots(){const t=this._getSlots(),r=this._instance.type.__scopeId;for(let i=0;i<t.length;i++){const s=t[i],o=s.getAttribute("name")||"default",a=this._slots[o],l=s.parentNode;if(a)for(const u of a){if(r&&u.nodeType===1){const h=r+"-s",c=document.createTreeWalker(u,1);u.setAttribute(h,"");let f;for(;f=c.nextNode();)f.setAttribute(h,"")}l.insertBefore(u,s)}else for(;s.firstChild;)l.insertBefore(s.firstChild,s);l.removeChild(s)}}_getSlots(){const t=[this];return this._teleportTargets&&t.push(...this._teleportTargets),t.reduce((r,i)=>(r.push(...Array.from(i.querySelectorAll("slot"))),r),[])}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function aI(n){const t=Qi(),r=t&&t.ce;return r||null}function x4(){const n=aI();return n&&n.shadowRoot}function _4(n="$style"){{const t=Qi();if(!t)return un;const r=t.type.__cssModules;if(!r)return un;const i=r[n];return i||un}}const lI=new WeakMap,uI=new WeakMap,Ap=Symbol("_moveCb"),$w=Symbol("_enterCb"),w4=n=>(delete n.props.mode,n),E4=w4({name:"TransitionGroup",props:ln({},tI,{tag:String,moveClass:String}),setup(n,{slots:t}){const r=Qi(),i=A1();let s,o;return Im(()=>{if(!s.length)return;const a=n.moveClass||`${n.name||"v"}-move`;if(!T4(s[0].el,r.vnode.el,a)){s=[];return}s.forEach(S4),s.forEach(C4);const l=s.filter(A4);ty(r.vnode.el),l.forEach(u=>{const h=u.el,c=h.style;so(h,a),c.transform=c.webkitTransform=c.transitionDuration="";const f=h[Ap]=d=>{d&&d.target!==h||(!d||d.propertyName.endsWith("transform"))&&(h.removeEventListener("transitionend",f),h[Ap]=null,ha(h,a))};h.addEventListener("transitionend",f)}),s=[]}),()=>{const a=mn(n),l=nI(a);let u=a.tag||at;if(s=[],o)for(let h=0;h<o.length;h++){const c=o[h];c.el&&c.el instanceof Element&&(s.push(c),Yo(c,Ku(c,l,i,r)),lI.set(c,c.el.getBoundingClientRect()))}o=t.default?Am(t.default()):[];for(let h=0;h<o.length;h++){const c=o[h];c.key!=null&&Yo(c,Ku(c,l,i,r))}return lt(u,null,o)}}}),cI=E4;function S4(n){const t=n.el;t[Ap]&&t[Ap](),t[$w]&&t[$w]()}function C4(n){uI.set(n,n.el.getBoundingClientRect())}function A4(n){const t=lI.get(n),r=uI.get(n),i=t.left-r.left,s=t.top-r.top;if(i||s){const o=n.el.style;return o.transform=o.webkitTransform=`translate(${i}px,${s}px)`,o.transitionDuration="0s",n}}function T4(n,t,r){const i=n.cloneNode(),s=n[Ju];s&&s.forEach(l=>{l.split(/\s+/).forEach(u=>u&&i.classList.remove(u))}),r.split(/\s+/).forEach(l=>l&&i.classList.add(l)),i.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(i);const{hasTransform:a}=rI(i);return o.removeChild(i),a}const ka=n=>{const t=n.props["onUpdate:modelValue"]||!1;return pt(t)?r=>El(t,r):t};function I4(n){n.target.composing=!0}function jw(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Es=Symbol("_assign"),nr={created(n,{modifiers:{lazy:t,trim:r,number:i}},s){n[Es]=ka(s);const o=i||s.props&&s.props.type==="number";Lo(n,t?"change":"input",a=>{if(a.target.composing)return;let l=n.value;r&&(l=l.trim()),o&&(l=Ah(l)),n[Es](l)}),r&&Lo(n,"change",()=>{n.value=n.value.trim()}),t||(Lo(n,"compositionstart",I4),Lo(n,"compositionend",jw),Lo(n,"change",jw))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:r,modifiers:{lazy:i,trim:s,number:o}},a){if(n[Es]=ka(a),n.composing)return;const l=(o||n.type==="number")&&!/^0\d/.test(n.value)?Ah(n.value):n.value,u=t??"";l!==u&&(document.activeElement===n&&n.type!=="range"&&(i&&t===r||s&&n.value.trim()===u)||(n.value=u))}},Ll={deep:!0,created(n,t,r){n[Es]=ka(r),Lo(n,"change",()=>{const i=n._modelValue,s=ec(n),o=n.checked,a=n[Es];if(pt(i)){const l=df(i,s),u=l!==-1;if(o&&!u)a(i.concat(s));else if(!o&&u){const h=[...i];h.splice(l,1),a(h)}}else if(Va(i)){const l=new Set(i);o?l.add(s):l.delete(s),a(l)}else a(fI(n,o))})},mounted:zw,beforeUpdate(n,t,r){n[Es]=ka(r),zw(n,t,r)}};function zw(n,{value:t,oldValue:r},i){n._modelValue=t;let s;if(pt(t))s=df(t,i.props.value)>-1;else if(Va(t))s=t.has(i.props.value);else{if(t===r)return;s=Ho(t,fI(n,!0))}n.checked!==s&&(n.checked=s)}const Xs={created(n,{value:t},r){n.checked=Ho(t,r.props.value),n[Es]=ka(r),Lo(n,"change",()=>{n[Es](ec(n))})},beforeUpdate(n,{value:t,oldValue:r},i){n[Es]=ka(i),t!==r&&(n.checked=Ho(t,i.props.value))}},hI={deep:!0,created(n,{value:t,modifiers:{number:r}},i){const s=Va(t);Lo(n,"change",()=>{const o=Array.prototype.filter.call(n.options,a=>a.selected).map(a=>r?Ah(ec(a)):ec(a));n[Es](n.multiple?s?new Set(o):o:o[0]),n._assigning=!0,Ji(()=>{n._assigning=!1})}),n[Es]=ka(i)},mounted(n,{value:t}){Gw(n,t)},beforeUpdate(n,t,r){n[Es]=ka(r)},updated(n,{value:t}){n._assigning||Gw(n,t)}};function Gw(n,t){const r=n.multiple,i=pt(t);if(!(r&&!i&&!Va(t))){for(let s=0,o=n.options.length;s<o;s++){const a=n.options[s],l=ec(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=t.some(h=>String(h)===String(l)):a.selected=df(t,l)>-1}else a.selected=t.has(l);else if(Ho(ec(a),t)){n.selectedIndex!==s&&(n.selectedIndex=s);return}}!r&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function ec(n){return"_value"in n?n._value:n.value}function fI(n,t){const r=t?"_trueValue":"_falseValue";return r in n?n[r]:t}const Mm={created(n,t,r){sd(n,t,r,null,"created")},mounted(n,t,r){sd(n,t,r,null,"mounted")},beforeUpdate(n,t,r,i){sd(n,t,r,i,"beforeUpdate")},updated(n,t,r,i){sd(n,t,r,i,"updated")}};function dI(n,t){switch(n){case"SELECT":return hI;case"TEXTAREA":return nr;default:switch(t){case"checkbox":return Ll;case"radio":return Xs;default:return nr}}}function sd(n,t,r,i,s){const a=dI(n.tagName,r.props&&r.props.type)[s];a&&a(n,t,r,i)}function D4(){nr.getSSRProps=({value:n})=>({value:n}),Xs.getSSRProps=({value:n},t)=>{if(t.props&&Ho(t.props.value,n))return{checked:!0}},Ll.getSSRProps=({value:n},t)=>{if(pt(n)){if(t.props&&df(n,t.props.value)>-1)return{checked:!0}}else if(Va(n)){if(t.props&&n.has(t.props.value))return{checked:!0}}else if(n)return{checked:!0}},Mm.getSSRProps=(n,t)=>{if(typeof t.type!="string")return;const r=dI(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(n,t)}}const N4=["ctrl","shift","alt","meta"],F4={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>N4.some(r=>n[`${r}Key`]&&!t.includes(r))},br=(n,t)=>{const r=n._withMods||(n._withMods={}),i=t.join(".");return r[i]||(r[i]=((s,...o)=>{for(let a=0;a<t.length;a++){const l=F4[t[a]];if(l&&l(s,t))return}return n(s,...o)}))},k4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},V1=(n,t)=>{const r=n._withKeys||(n._withKeys={}),i=t.join(".");return r[i]||(r[i]=(s=>{if(!("key"in s))return;const o=ci(s.key);if(t.some(a=>a===o||k4[a]===o))return n(s)}))},pI=ln({patchProp:g4},QR);let hh,Hw=!1;function mI(){return hh||(hh=IT(pI))}function gI(){return hh=Hw?hh:DT(pI),Hw=!0,hh}const vI=((...n)=>{mI().render(...n)}),M4=((...n)=>{gI().hydrate(...n)}),Tp=((...n)=>{const t=mI().createApp(...n),{mount:r}=t;return t.mount=i=>{const s=xI(i);if(!s)return;const o=t._component;!Mt(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=r(s,!1,bI(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t}),yI=((...n)=>{const t=gI().createApp(...n),{mount:r}=t;return t.mount=i=>{const s=xI(i);if(s)return r(s,!0,bI(s))},t});function bI(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function xI(n){return Bt(n)?document.querySelector(n):n}let Ww=!1;const O4=()=>{Ww||(Ww=!0,D4(),i4())},P4=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:sT,BaseTransitionPropsValidators:T1,Comment:Er,DeprecationTypes:KR,EffectScope:g1,ErrorCodes:lL,ErrorTypeStrings:zR,Fragment:at,KeepAlive:aT,ReactiveEffect:Ih,Static:Al,Suspense:CR,Teleport:gL,Text:Da,TrackOpTypes:tL,Transition:$s,TransitionGroup:cI,TriggerOpTypes:nL,VueElement:km,assertNumber:aL,callWithAsyncErrorHandling:Cs,callWithErrorHandling:yc,camelize:qn,capitalize:$a,cloneVNode:fo,compatUtils:YR,computed:Ut,createApp:Tp,createBlock:Kt,createCommentVNode:rt,createElementBlock:ce,createElementVNode:A,createHydrationRenderer:DT,createPropsRestProxy:JL,createRenderer:IT,createSSRApp:yI,createSlots:RL,createStaticVNode:pi,createTextVNode:At,createVNode:lt,customRef:zA,defineAsyncComponent:kL,defineComponent:pf,defineCustomElement:oI,defineEmits:jL,defineExpose:zL,defineModel:WL,defineOptions:GL,defineProps:$L,defineSSRCustomElement:y4,defineSlots:HL,devtools:GR,effect:CP,effectScope:v1,getCurrentInstance:Qi,getCurrentScope:y1,getCurrentWatcher:rL,getTransitionRawChildren:Am,guardReactiveProps:GT,h:Fm,handleError:nu,hasInjectionContext:bT,hydrate:M4,hydrateOnIdle:AL,hydrateOnInteraction:NL,hydrateOnMediaQuery:DL,hydrateOnVisible:IL,initCustomFormatter:VR,initDirectivesForSSR:O4,inject:cs,isMemoSame:ZT,isProxy:Em,isReactive:Ws,isReadonly:qo,isRef:sr,isRuntimeOnly:RR,isShallow:us,isVNode:Ko,markRaw:Sm,mergeDefaults:KL,mergeModels:ZL,mergeProps:HT,nextTick:Ji,normalizeClass:ht,normalizeProps:mA,normalizeStyle:Xn,onActivated:D1,onBeforeMount:cT,onBeforeUnmount:fs,onBeforeUpdate:N1,onDeactivated:lT,onErrorCaptured:pT,onMounted:xr,onRenderTracked:dT,onRenderTriggered:fT,onScopeDispose:AA,onServerPrefetch:hT,onUnmounted:ru,onUpdated:Im,onWatcherCleanup:XA,openBlock:se,popScopeId:dL,provide:uh,proxyRefs:S1,pushScopeId:fL,queuePostFlushCb:Fh,reactive:vc,readonly:dp,ref:Xe,registerRuntimeCompiler:LR,render:vI,renderList:Tt,renderSlot:BL,resolveComponent:Pt,resolveDirective:LL,resolveDynamicComponent:k1,resolveFilter:qR,resolveTransitionHooks:Ku,setBlockTracking:Lh,setDevtoolsHook:HR,setTransitionHooks:Yo,shallowReactive:w1,shallowReadonly:HP,shallowRef:E1,ssrContextKey:MT,ssrUtils:XR,stop:AP,toDisplayString:Be,toHandlerKey:wl,toHandlers:UL,toRaw:mn,toRef:HA,toRefs:GA,toValue:qP,transformVNodeArgs:FR,triggerRef:XP,unref:ai,useAttrs:YL,useCssModule:_4,useCssVars:s4,useHost:aI,useId:yL,useModel:vR,useSSRContext:OT,useShadowRoot:x4,useSlots:qL,useTemplateRef:bL,useTransitionState:A1,vModelCheckbox:Ll,vModelDynamic:Mm,vModelRadio:Xs,vModelSelect:hI,vModelText:nr,vShow:Qu,version:JT,warn:jR,watch:Wi,watchEffect:pR,watchPostEffect:mR,watchSyncEffect:PT,withAsyncContext:QL,withCtx:Hr,withDefaults:XL,withDirectives:sn,withKeys:V1,withMemo:$R,withModifiers:br,withScopeId:pL},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let _I;const Om=n=>_I=n,wI=Symbol();function ry(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var fh;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(fh||(fh={}));function EI(){const n=v1(!0),t=n.run(()=>Xe({}));let r=[],i=[];const s=Sm({install(o){Om(s),s._a=o,o.provide(wI,s),o.config.globalProperties.$pinia=s,i.forEach(a=>r.push(a)),i=[]},use(o){return this._a?r.push(o):i.push(o),this},_p:r,_a:null,_e:n,_s:new Map,state:t});return s}const SI=()=>{};function Xw(n,t,r,i=SI){n.push(t);const s=()=>{const o=n.indexOf(t);o>-1&&(n.splice(o,1),i())};return!r&&y1()&&AA(s),s}function yu(n,...t){n.slice().forEach(r=>{r(...t)})}const L4=n=>n(),qw=Symbol(),E0=Symbol();function iy(n,t){n instanceof Map&&t instanceof Map?t.forEach((r,i)=>n.set(i,r)):n instanceof Set&&t instanceof Set&&t.forEach(n.add,n);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],s=n[r];ry(s)&&ry(i)&&n.hasOwnProperty(r)&&!sr(i)&&!Ws(i)?n[r]=iy(s,i):n[r]=i}return n}const R4=Symbol();function B4(n){return!ry(n)||!Object.prototype.hasOwnProperty.call(n,R4)}const{assign:fa}=Object;function U4(n){return!!(sr(n)&&n.effect)}function V4(n,t,r,i){const{state:s,actions:o,getters:a}=t,l=r.state.value[n];let u;function h(){l||(r.state.value[n]=s?s():{});const c=GA(r.state.value[n]);return fa(c,o,Object.keys(a||{}).reduce((f,d)=>(f[d]=Sm(Ut(()=>{Om(r);const p=r._s.get(n);return a[d].call(p,p)})),f),{}))}return u=CI(n,h,t,r,i,!0),u}function CI(n,t,r={},i,s,o){let a;const l=fa({actions:{}},r),u={deep:!0};let h,c,f=[],d=[],p;const m=i.state.value[n];!o&&!m&&(i.state.value[n]={}),Xe({});let g;function v(T){let C;h=c=!1,typeof T=="function"?(T(i.state.value[n]),C={type:fh.patchFunction,storeId:n,events:p}):(iy(i.state.value[n],T),C={type:fh.patchObject,payload:T,storeId:n,events:p});const F=g=Symbol();Ji().then(()=>{g===F&&(h=!0)}),c=!0,yu(f,C,i.state.value[n])}const S=o?function(){const{state:C}=r,F=C?C():{};this.$patch(k=>{fa(k,F)})}:SI;function y(){a.stop(),f=[],d=[],i._s.delete(n)}const x=(T,C="")=>{if(qw in T)return T[E0]=C,T;const F=function(){Om(i);const k=Array.from(arguments),D=[],N=[];function M(W){D.push(W)}function U(W){N.push(W)}yu(d,{args:k,name:F[E0],store:w,after:M,onError:U});let R;try{R=T.apply(this&&this.$id===n?this:w,k)}catch(W){throw yu(N,W),W}return R instanceof Promise?R.then(W=>(yu(D,W),W)).catch(W=>(yu(N,W),Promise.reject(W))):(yu(D,R),R)};return F[qw]=!0,F[E0]=C,F},b={_p:i,$id:n,$onAction:Xw.bind(null,d),$patch:v,$reset:S,$subscribe(T,C={}){const F=Xw(f,T,C.detached,()=>k()),k=a.run(()=>Wi(()=>i.state.value[n],D=>{(C.flush==="sync"?c:h)&&T({storeId:n,type:fh.direct,events:p},D)},fa({},u,C)));return F},$dispose:y},w=vc(b);i._s.set(n,w);const _=(i._a&&i._a.runWithContext||L4)(()=>i._e.run(()=>(a=v1()).run(()=>t({action:x}))));for(const T in _){const C=_[T];if(sr(C)&&!U4(C)||Ws(C))o||(m&&B4(C)&&(sr(C)?C.value=m[T]:iy(C,m[T])),i.state.value[n][T]=C);else if(typeof C=="function"){const F=x(C,T);_[T]=F,l.actions[T]=C}}return fa(w,_),fa(mn(w),_),Object.defineProperty(w,"$state",{get:()=>i.state.value[n],set:T=>{v(C=>{fa(C,T)})}}),i._p.forEach(T=>{fa(w,a.run(()=>T({store:w,app:i._a,pinia:i,options:l})))}),m&&o&&r.hydrate&&r.hydrate(w.$state,m),h=!0,c=!0,w}/*! #__NO_SIDE_EFFECTS__ */function AI(n,t,r){let i;const s=typeof t=="function";i=s?r:t;function o(a,l){const u=bT();return a=a||(u?cs(wI,null):null),a&&Om(a),a=_I,a._s.has(n)||(s?CI(n,t,i,a):V4(n,i,a)),a._s.get(n)}return o.$id=n,o}function $4(n,t){return Array.isArray(t)?t.reduce((r,i)=>(r[i]=function(){return n(this.$pinia)[i]},r),{}):Object.keys(t).reduce((r,i)=>(r[i]=function(){const s=n(this.$pinia),o=t[i];return typeof o=="function"?o.call(this,s):s[o]},r),{})}function j4(n,t){return Array.isArray(t)?t.reduce((r,i)=>(r[i]=function(...s){return n(this.$pinia)[i](...s)},r),{}):Object.keys(t).reduce((r,i)=>(r[i]=function(...s){return n(this.$pinia)[t[i]](...s)},r),{})}function As(n){const t=mn(n),r={};for(const i in t){const s=t[i];s.effect?r[i]=Ut({get:()=>n[i],set(o){n[i]=o}}):(sr(s)||Ws(s))&&(r[i]=HA(n,i))}return r}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Nu=typeof document<"u";function TI(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function z4(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&TI(n.default)}const In=Object.assign;function S0(n,t){const r={};for(const i in t){const s=t[i];r[i]=Ks(s)?s.map(n):n(s)}return r}const dh=()=>{},Ks=Array.isArray;function Yw(n,t){const r={};for(const i in n)r[i]=i in t?t[i]:n[i];return r}const II=/#/g,G4=/&/g,H4=/\//g,W4=/=/g,X4=/\?/g,DI=/\+/g,q4=/%5B/g,Y4=/%5D/g,NI=/%5E/g,K4=/%60/g,FI=/%7B/g,Z4=/%7C/g,kI=/%7D/g,J4=/%20/g;function $1(n){return n==null?"":encodeURI(""+n).replace(Z4,"|").replace(q4,"[").replace(Y4,"]")}function Q4(n){return $1(n).replace(FI,"{").replace(kI,"}").replace(NI,"^")}function sy(n){return $1(n).replace(DI,"%2B").replace(J4,"+").replace(II,"%23").replace(G4,"%26").replace(K4,"`").replace(FI,"{").replace(kI,"}").replace(NI,"^")}function e8(n){return sy(n).replace(W4,"%3D")}function t8(n){return $1(n).replace(II,"%23").replace(X4,"%3F")}function n8(n){return t8(n).replace(H4,"%2F")}function Rh(n){if(n==null)return null;try{return decodeURIComponent(""+n)}catch{}return""+n}const r8=/\/$/,i8=n=>n.replace(r8,"");function C0(n,t,r="/"){let i,s={},o="",a="";const l=t.indexOf("#");let u=t.indexOf("?");return u=l>=0&&u>l?-1:u,u>=0&&(i=t.slice(0,u),o=t.slice(u,l>0?l:t.length),s=n(o.slice(1))),l>=0&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=l8(i??t,r),{fullPath:i+o+a,path:i,query:s,hash:Rh(a)}}function s8(n,t){const r=t.query?n(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Kw(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function o8(n,t,r){const i=t.matched.length-1,s=r.matched.length-1;return i>-1&&i===s&&tc(t.matched[i],r.matched[s])&&MI(t.params,r.params)&&n(t.query)===n(r.query)&&t.hash===r.hash}function tc(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function MI(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(!a8(n[r],t[r]))return!1;return!0}function a8(n,t){return Ks(n)?Zw(n,t):Ks(t)?Zw(t,n):n===t}function Zw(n,t){return Ks(t)?n.length===t.length&&n.every((r,i)=>r===t[i]):n.length===1&&n[0]===t}function l8(n,t){if(n.startsWith("/"))return n;if(!n)return t;const r=t.split("/"),i=n.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=r.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+i.slice(a).join("/")}const la={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let oy=(function(n){return n.pop="pop",n.push="push",n})({}),A0=(function(n){return n.back="back",n.forward="forward",n.unknown="",n})({});function u8(n){if(!n)if(Nu){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),i8(n)}const c8=/^[^#]+#/;function h8(n,t){return n.replace(c8,"#")+t}function f8(n,t){const r=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:t.behavior,left:i.left-r.left-(t.left||0),top:i.top-r.top-(t.top||0)}}const Pm=()=>({left:window.scrollX,top:window.scrollY});function d8(n){let t;if("el"in n){const r=n.el,i=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;t=f8(s,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Jw(n,t){return(history.state?history.state.position-t:-1)+n}const ay=new Map;function p8(n,t){ay.set(n,t)}function m8(n){const t=ay.get(n);return ay.delete(n),t}function g8(n){return typeof n=="string"||n&&typeof n=="object"}function OI(n){return typeof n=="string"||typeof n=="symbol"}let gr=(function(n){return n[n.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",n[n.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",n[n.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",n[n.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",n[n.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",n})({});const PI=Symbol("");gr.MATCHER_NOT_FOUND+"",gr.NAVIGATION_GUARD_REDIRECT+"",gr.NAVIGATION_ABORTED+"",gr.NAVIGATION_CANCELLED+"",gr.NAVIGATION_DUPLICATED+"";function nc(n,t){return In(new Error,{type:n,[PI]:!0},t)}function Co(n,t){return n instanceof Error&&PI in n&&(t==null||!!(n.type&t))}const v8=["params","query","hash"];function y8(n){if(typeof n=="string")return n;if(n.path!=null)return n.path;const t={};for(const r of v8)r in n&&(t[r]=n[r]);return JSON.stringify(t,null,2)}function b8(n){const t={};if(n===""||n==="?")return t;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(DI," "),o=s.indexOf("="),a=Rh(o<0?s:s.slice(0,o)),l=o<0?null:Rh(s.slice(o+1));if(a in t){let u=t[a];Ks(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Qw(n){let t="";for(let r in n){const i=n[r];if(r=e8(r),i==null){i!==void 0&&(t+=(t.length?"&":"")+r);continue}(Ks(i)?i.map(s=>s&&sy(s)):[i&&sy(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+r,s!=null&&(t+="="+s))})}return t}function x8(n){const t={};for(const r in n){const i=n[r];i!==void 0&&(t[r]=Ks(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const _8=Symbol(""),eE=Symbol(""),Lm=Symbol(""),j1=Symbol(""),ly=Symbol("");function Vc(){let n=[];function t(i){return n.push(i),()=>{const s=n.indexOf(i);s>-1&&n.splice(s,1)}}function r(){n=[]}return{add:t,list:()=>n.slice(),reset:r}}function ga(n,t,r,i,s,o=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,u)=>{const h=d=>{d===!1?u(nc(gr.NAVIGATION_ABORTED,{from:r,to:t})):d instanceof Error?u(d):g8(d)?u(nc(gr.NAVIGATION_GUARD_REDIRECT,{from:t,to:d})):(a&&i.enterCallbacks[s]===a&&typeof d=="function"&&a.push(d),l())},c=o(()=>n.call(i&&i.instances[s],t,r,h));let f=Promise.resolve(c);n.length<3&&(f=f.then(h)),f.catch(d=>u(d))})}function T0(n,t,r,i,s=o=>o()){const o=[];for(const a of n)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(TI(u)){const h=(u.__vccOpts||u)[t];h&&o.push(ga(h,r,i,a,l,s))}else{let h=u();o.push(()=>h.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const f=z4(c)?c.default:c;a.mods[l]=c,a.components[l]=f;const d=(f.__vccOpts||f)[t];return d&&ga(d,r,i,a,l,s)()}))}}return o}function w8(n,t){const r=[],i=[],s=[],o=Math.max(t.matched.length,n.matched.length);for(let a=0;a<o;a++){const l=t.matched[a];l&&(n.matched.find(h=>tc(h,l))?i.push(l):r.push(l));const u=n.matched[a];u&&(t.matched.find(h=>tc(h,u))||s.push(u))}return[r,i,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let E8=()=>location.protocol+"//"+location.host;function LI(n,t){const{pathname:r,search:i,hash:s}=t,o=n.indexOf("#");if(o>-1){let a=s.includes(n.slice(o))?n.slice(o).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Kw(l,"")}return Kw(r,n)+i+s}function S8(n,t,r,i){let s=[],o=[],a=null;const l=({state:d})=>{const p=LI(n,location),m=r.value,g=t.value;let v=0;if(d){if(r.value=p,t.value=d,a&&a===m){a=null;return}v=g?d.position-g.position:0}else i(p);s.forEach(S=>{S(r.value,m,{delta:v,type:oy.pop,direction:v?v>0?A0.forward:A0.back:A0.unknown})})};function u(){a=r.value}function h(d){s.push(d);const p=()=>{const m=s.indexOf(d);m>-1&&s.splice(m,1)};return o.push(p),p}function c(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(In({},d.state,{scroll:Pm()}),"")}}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:u,listen:h,destroy:f}}function tE(n,t,r,i=!1,s=!1){return{back:n,current:t,forward:r,replaced:i,position:window.history.length,scroll:s?Pm():null}}function C8(n){const{history:t,location:r}=window,i={value:LI(n,r)},s={value:t.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,h,c){const f=n.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?n:n.slice(f))+u:E8()+n+u;try{t[c?"replaceState":"pushState"](h,"",d),s.value=h}catch(p){console.error(p),r[c?"replace":"assign"](d)}}function a(u,h){o(u,In({},t.state,tE(s.value.back,u,s.value.forward,!0),h,{position:s.value.position}),!0),i.value=u}function l(u,h){const c=In({},s.value,t.state,{forward:u,scroll:Pm()});o(c.current,c,!0),o(u,In({},tE(i.value,u,null),{position:c.position+1},h),!1),i.value=u}return{location:i,state:s,push:l,replace:a}}function A8(n){n=u8(n);const t=C8(n),r=S8(n,t.state,t.location,t.replace);function i(o,a=!0){a||r.pauseListeners(),history.go(o)}const s=In({location:"",base:n,go:i,createHref:h8.bind(null,n)},t,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}let gl=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.Group=2]="Group",n})({});var Mr=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.ParamRegExp=2]="ParamRegExp",n[n.ParamRegExpEnd=3]="ParamRegExpEnd",n[n.EscapeNext=4]="EscapeNext",n})(Mr||{});const T8={type:gl.Static,value:""},I8=/[a-zA-Z0-9_]/;function D8(n){if(!n)return[[]];if(n==="/")return[[T8]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(p){throw new Error(`ERR (${r})/"${h}": ${p}`)}let r=Mr.Static,i=r;const s=[];let o;function a(){o&&s.push(o),o=[]}let l=0,u,h="",c="";function f(){h&&(r===Mr.Static?o.push({type:gl.Static,value:h}):r===Mr.Param||r===Mr.ParamRegExp||r===Mr.ParamRegExpEnd?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:gl.Param,value:h,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),h="")}function d(){h+=u}for(;l<n.length;){if(u=n[l++],u==="\\"&&r!==Mr.ParamRegExp){i=r,r=Mr.EscapeNext;continue}switch(r){case Mr.Static:u==="/"?(h&&f(),a()):u===":"?(f(),r=Mr.Param):d();break;case Mr.EscapeNext:d(),r=i;break;case Mr.Param:u==="("?r=Mr.ParamRegExp:I8.test(u)?d():(f(),r=Mr.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case Mr.ParamRegExp:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=Mr.ParamRegExpEnd:c+=u;break;case Mr.ParamRegExpEnd:f(),r=Mr.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--,c="";break;default:t("Unknown state");break}}return r===Mr.ParamRegExp&&t(`Unfinished custom RegExp for param "${h}"`),f(),a(),s}const nE="[^/]+?",N8={sensitive:!1,strict:!1,start:!0,end:!0};var Ei=(function(n){return n[n._multiplier=10]="_multiplier",n[n.Root=90]="Root",n[n.Segment=40]="Segment",n[n.SubSegment=30]="SubSegment",n[n.Static=40]="Static",n[n.Dynamic=20]="Dynamic",n[n.BonusCustomRegExp=10]="BonusCustomRegExp",n[n.BonusWildcard=-50]="BonusWildcard",n[n.BonusRepeatable=-20]="BonusRepeatable",n[n.BonusOptional=-8]="BonusOptional",n[n.BonusStrict=.7000000000000001]="BonusStrict",n[n.BonusCaseSensitive=.25]="BonusCaseSensitive",n})(Ei||{});const F8=/[.+*?^${}()[\]/\\]/g;function k8(n,t){const r=In({},N8,t),i=[];let s=r.start?"^":"";const o=[];for(const h of n){const c=h.length?[]:[Ei.Root];r.strict&&!h.length&&(s+="/");for(let f=0;f<h.length;f++){const d=h[f];let p=Ei.Segment+(r.sensitive?Ei.BonusCaseSensitive:0);if(d.type===gl.Static)f||(s+="/"),s+=d.value.replace(F8,"\\$&"),p+=Ei.Static;else if(d.type===gl.Param){const{value:m,repeatable:g,optional:v,regexp:S}=d;o.push({name:m,repeatable:g,optional:v});const y=S||nE;if(y!==nE){p+=Ei.BonusCustomRegExp;try{`${y}`}catch(b){throw new Error(`Invalid custom RegExp for param "${m}" (${y}): `+b.message)}}let x=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(x=v&&h.length<2?`(?:/${x})`:"/"+x),v&&(x+="?"),s+=x,p+=Ei.Dynamic,v&&(p+=Ei.BonusOptional),g&&(p+=Ei.BonusRepeatable),y===".*"&&(p+=Ei.BonusWildcard)}c.push(p)}i.push(c)}if(r.strict&&r.end){const h=i.length-1;i[h][i[h].length-1]+=Ei.BonusStrict}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,r.sensitive?"":"i");function l(h){const c=h.match(a),f={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",m=o[d-1];f[m.name]=p&&m.repeatable?p.split("/"):p}return f}function u(h){let c="",f=!1;for(const d of n){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of d)if(p.type===gl.Static)c+=p.value;else if(p.type===gl.Param){const{value:m,repeatable:g,optional:v}=p,S=m in h?h[m]:"";if(Ks(S)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const y=Ks(S)?S.join("/"):S;if(!y)if(v)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);c+=y}}return c||"/"}return{re:a,score:i,keys:o,parse:l,stringify:u}}function M8(n,t){let r=0;for(;r<n.length&&r<t.length;){const i=t[r]-n[r];if(i)return i;r++}return n.length<t.length?n.length===1&&n[0]===Ei.Static+Ei.Segment?-1:1:n.length>t.length?t.length===1&&t[0]===Ei.Static+Ei.Segment?1:-1:0}function RI(n,t){let r=0;const i=n.score,s=t.score;for(;r<i.length&&r<s.length;){const o=M8(i[r],s[r]);if(o)return o;r++}if(Math.abs(s.length-i.length)===1){if(rE(i))return 1;if(rE(s))return-1}return s.length-i.length}function rE(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const O8={strict:!1,end:!0,sensitive:!1};function P8(n,t,r){const i=k8(D8(n.path),r),s=In(i,{record:n,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function L8(n,t){const r=[],i=new Map;t=Yw(O8,t);function s(f){return i.get(f)}function o(f,d,p){const m=!p,g=sE(f);g.aliasOf=p&&p.record;const v=Yw(t,f),S=[g];if("alias"in f){const b=typeof f.alias=="string"?[f.alias]:f.alias;for(const w of b)S.push(sE(In({},g,{components:p?p.record.components:g.components,path:w,aliasOf:p?p.record:g})))}let y,x;for(const b of S){const{path:w}=b;if(d&&w[0]!=="/"){const E=d.record.path,_=E[E.length-1]==="/"?"":"/";b.path=d.record.path+(w&&_+w)}if(y=P8(b,d,v),p?p.alias.push(y):(x=x||y,x!==y&&x.alias.push(y),m&&f.name&&!oE(y)&&a(f.name)),BI(y)&&u(y),g.children){const E=g.children;for(let _=0;_<E.length;_++)o(E[_],y,p&&p.children[_])}p=p||y}return x?()=>{a(x)}:dh}function a(f){if(OI(f)){const d=i.get(f);d&&(i.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&i.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return r}function u(f){const d=U8(f,r);r.splice(d,0,f),f.record.name&&!oE(f)&&i.set(f.record.name,f)}function h(f,d){let p,m={},g,v;if("name"in f&&f.name){if(p=i.get(f.name),!p)throw nc(gr.MATCHER_NOT_FOUND,{location:f});v=p.record.name,m=In(iE(d.params,p.keys.filter(x=>!x.optional).concat(p.parent?p.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),f.params&&iE(f.params,p.keys.map(x=>x.name))),g=p.stringify(m)}else if(f.path!=null)g=f.path,p=r.find(x=>x.re.test(g)),p&&(m=p.parse(g),v=p.record.name);else{if(p=d.name?i.get(d.name):r.find(x=>x.re.test(d.path)),!p)throw nc(gr.MATCHER_NOT_FOUND,{location:f,currentLocation:d});v=p.record.name,m=In({},d.params,f.params),g=p.stringify(m)}const S=[];let y=p;for(;y;)S.unshift(y.record),y=y.parent;return{name:v,path:g,params:m,matched:S,meta:B8(S)}}n.forEach(f=>o(f));function c(){r.length=0,i.clear()}return{addRoute:o,resolve:h,removeRoute:a,clearRoutes:c,getRoutes:l,getRecordMatcher:s}}function iE(n,t){const r={};for(const i of t)i in n&&(r[i]=n[i]);return r}function sE(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:R8(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function R8(n){const t={},r=n.props||!1;if("component"in n)t.default=r;else for(const i in n.components)t[i]=typeof r=="object"?r[i]:r;return t}function oE(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function B8(n){return n.reduce((t,r)=>In(t,r.meta),{})}function U8(n,t){let r=0,i=t.length;for(;r!==i;){const o=r+i>>1;RI(n,t[o])<0?i=o:r=o+1}const s=V8(n);return s&&(i=t.lastIndexOf(s,i-1)),i}function V8(n){let t=n;for(;t=t.parent;)if(BI(t)&&RI(n,t)===0)return t}function BI({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function aE(n){const t=cs(Lm),r=cs(j1),i=Ut(()=>{const u=ai(n.to);return t.resolve(u)}),s=Ut(()=>{const{matched:u}=i.value,{length:h}=u,c=u[h-1],f=r.matched;if(!c||!f.length)return-1;const d=f.findIndex(tc.bind(null,c));if(d>-1)return d;const p=lE(u[h-2]);return h>1&&lE(c)===p&&f[f.length-1].path!==p?f.findIndex(tc.bind(null,u[h-2])):d}),o=Ut(()=>s.value>-1&&H8(r.params,i.value.params)),a=Ut(()=>s.value>-1&&s.value===r.matched.length-1&&MI(r.params,i.value.params));function l(u={}){if(G8(u)){const h=t[ai(n.replace)?"replace":"push"](ai(n.to)).catch(dh);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:i,href:Ut(()=>i.value.href),isActive:o,isExactActive:a,navigate:l}}function $8(n){return n.length===1?n[0]:n}const j8=pf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:aE,setup(n,{slots:t}){const r=vc(aE(n)),{options:i}=cs(Lm),s=Ut(()=>({[uE(n.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[uE(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&$8(t.default(r));return n.custom?o:Fm("a",{"aria-current":r.isExactActive?n.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},o)}}}),z8=j8;function G8(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function H8(n,t){for(const r in t){const i=t[r],s=n[r];if(typeof i=="string"){if(i!==s)return!1}else if(!Ks(s)||s.length!==i.length||i.some((o,a)=>o!==s[a]))return!1}return!0}function lE(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const uE=(n,t,r)=>n??t??r,W8=pf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:r}){const i=cs(ly),s=Ut(()=>n.route||i.value),o=cs(eE,0),a=Ut(()=>{let h=ai(o);const{matched:c}=s.value;let f;for(;(f=c[h])&&!f.components;)h++;return h}),l=Ut(()=>s.value.matched[a.value]);uh(eE,Ut(()=>a.value+1)),uh(_8,l),uh(ly,s);const u=Xe();return Wi(()=>[u.value,l.value,n.name],([h,c,f],[d,p,m])=>{c&&(c.instances[f]=h,p&&p!==c&&h&&h===d&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),h&&c&&(!p||!tc(c,p)||!d)&&(c.enterCallbacks[f]||[]).forEach(g=>g(h))},{flush:"post"}),()=>{const h=s.value,c=n.name,f=l.value,d=f&&f.components[c];if(!d)return cE(r.default,{Component:d,route:h});const p=f.props[c],m=p?p===!0?h.params:typeof p=="function"?p(h):p:null,v=Fm(d,In({},m,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return cE(r.default,{Component:v,route:h})||v}}});function cE(n,t){if(!n)return null;const r=n(t);return r.length===1?r[0]:r}const UI=W8;function X8(n){const t=L8(n.routes,n),r=n.parseQuery||b8,i=n.stringifyQuery||Qw,s=n.history,o=Vc(),a=Vc(),l=Vc(),u=E1(la);let h=la;Nu&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=S0.bind(null,Q=>""+Q),f=S0.bind(null,n8),d=S0.bind(null,Rh);function p(Q,pe){let $,re;return OI(Q)?($=t.getRecordMatcher(Q),re=pe):re=Q,t.addRoute(re,$)}function m(Q){const pe=t.getRecordMatcher(Q);pe&&t.removeRoute(pe)}function g(){return t.getRoutes().map(Q=>Q.record)}function v(Q){return!!t.getRecordMatcher(Q)}function S(Q,pe){if(pe=In({},pe||u.value),typeof Q=="string"){const X=C0(r,Q,pe.path),ee=t.resolve({path:X.path},pe),Ae=s.createHref(X.fullPath);return In(X,ee,{params:d(ee.params),hash:Rh(X.hash),redirectedFrom:void 0,href:Ae})}let $;if(Q.path!=null)$=In({},Q,{path:C0(r,Q.path,pe.path).path});else{const X=In({},Q.params);for(const ee in X)X[ee]==null&&delete X[ee];$=In({},Q,{params:f(X)}),pe.params=f(pe.params)}const re=t.resolve($,pe),be=Q.hash||"";re.params=c(d(re.params));const Se=s8(i,In({},Q,{hash:Q4(be),path:re.path})),j=s.createHref(Se);return In({fullPath:Se,hash:be,query:i===Qw?x8(Q.query):Q.query||{}},re,{redirectedFrom:void 0,href:j})}function y(Q){return typeof Q=="string"?C0(r,Q,u.value.path):In({},Q)}function x(Q,pe){if(h!==Q)return nc(gr.NAVIGATION_CANCELLED,{from:pe,to:Q})}function b(Q){return _(Q)}function w(Q){return b(In(y(Q),{replace:!0}))}function E(Q,pe){const $=Q.matched[Q.matched.length-1];if($&&$.redirect){const{redirect:re}=$;let be=typeof re=="function"?re(Q,pe):re;return typeof be=="string"&&(be=be.includes("?")||be.includes("#")?be=y(be):{path:be},be.params={}),In({query:Q.query,hash:Q.hash,params:be.path!=null?{}:Q.params},be)}}function _(Q,pe){const $=h=S(Q),re=u.value,be=Q.state,Se=Q.force,j=Q.replace===!0,X=E($,re);if(X)return _(In(y(X),{state:typeof X=="object"?In({},be,X.state):be,force:Se,replace:j}),pe||$);const ee=$;ee.redirectedFrom=pe;let Ae;return!Se&&o8(i,re,$)&&(Ae=nc(gr.NAVIGATION_DUPLICATED,{to:ee,from:re}),J(re,re,!0,!1)),(Ae?Promise.resolve(Ae):F(ee,re)).catch(we=>Co(we)?Co(we,gr.NAVIGATION_GUARD_REDIRECT)?we:te(we):ne(we,ee,re)).then(we=>{if(we){if(Co(we,gr.NAVIGATION_GUARD_REDIRECT))return _(In({replace:j},y(we.to),{state:typeof we.to=="object"?In({},be,we.to.state):be,force:Se}),pe||ee)}else we=D(ee,re,!0,j,be);return k(ee,re,we),we})}function T(Q,pe){const $=x(Q,pe);return $?Promise.reject($):Promise.resolve()}function C(Q){const pe=Z.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext(Q):Q()}function F(Q,pe){let $;const[re,be,Se]=w8(Q,pe);$=T0(re.reverse(),"beforeRouteLeave",Q,pe);for(const X of re)X.leaveGuards.forEach(ee=>{$.push(ga(ee,Q,pe))});const j=T.bind(null,Q,pe);return $.push(j),ye($).then(()=>{$=[];for(const X of o.list())$.push(ga(X,Q,pe));return $.push(j),ye($)}).then(()=>{$=T0(be,"beforeRouteUpdate",Q,pe);for(const X of be)X.updateGuards.forEach(ee=>{$.push(ga(ee,Q,pe))});return $.push(j),ye($)}).then(()=>{$=[];for(const X of Se)if(X.beforeEnter)if(Ks(X.beforeEnter))for(const ee of X.beforeEnter)$.push(ga(ee,Q,pe));else $.push(ga(X.beforeEnter,Q,pe));return $.push(j),ye($)}).then(()=>(Q.matched.forEach(X=>X.enterCallbacks={}),$=T0(Se,"beforeRouteEnter",Q,pe,C),$.push(j),ye($))).then(()=>{$=[];for(const X of a.list())$.push(ga(X,Q,pe));return $.push(j),ye($)}).catch(X=>Co(X,gr.NAVIGATION_CANCELLED)?X:Promise.reject(X))}function k(Q,pe,$){l.list().forEach(re=>C(()=>re(Q,pe,$)))}function D(Q,pe,$,re,be){const Se=x(Q,pe);if(Se)return Se;const j=pe===la,X=Nu?history.state:{};$&&(re||j?s.replace(Q.fullPath,In({scroll:j&&X&&X.scroll},be)):s.push(Q.fullPath,be)),u.value=Q,J(Q,pe,$,j),te()}let N;function M(){N||(N=s.listen((Q,pe,$)=>{if(!G.listening)return;const re=S(Q),be=E(re,G.currentRoute.value);if(be){_(In(be,{replace:!0,force:!0}),re).catch(dh);return}h=re;const Se=u.value;Nu&&p8(Jw(Se.fullPath,$.delta),Pm()),F(re,Se).catch(j=>Co(j,gr.NAVIGATION_ABORTED|gr.NAVIGATION_CANCELLED)?j:Co(j,gr.NAVIGATION_GUARD_REDIRECT)?(_(In(y(j.to),{force:!0}),re).then(X=>{Co(X,gr.NAVIGATION_ABORTED|gr.NAVIGATION_DUPLICATED)&&!$.delta&&$.type===oy.pop&&s.go(-1,!1)}).catch(dh),Promise.reject()):($.delta&&s.go(-$.delta,!1),ne(j,re,Se))).then(j=>{j=j||D(re,Se,!1),j&&($.delta&&!Co(j,gr.NAVIGATION_CANCELLED)?s.go(-$.delta,!1):$.type===oy.pop&&Co(j,gr.NAVIGATION_ABORTED|gr.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),k(re,Se,j)}).catch(dh)}))}let U=Vc(),R=Vc(),W;function ne(Q,pe,$){te(Q);const re=R.list();return re.length?re.forEach(be=>be(Q,pe,$)):console.error(Q),Promise.reject(Q)}function ge(){return W&&u.value!==la?Promise.resolve():new Promise((Q,pe)=>{U.add([Q,pe])})}function te(Q){return W||(W=!Q,M(),U.list().forEach(([pe,$])=>Q?$(Q):pe()),U.reset()),Q}function J(Q,pe,$,re){const{scrollBehavior:be}=n;if(!Nu||!be)return Promise.resolve();const Se=!$&&m8(Jw(Q.fullPath,0))||(re||!$)&&history.state&&history.state.scroll||null;return Ji().then(()=>be(Q,pe,Se)).then(j=>j&&d8(j)).catch(j=>ne(j,Q,pe))}const ae=Q=>s.go(Q);let xe;const Z=new Set,G={currentRoute:u,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:g,resolve:S,options:n,push:b,replace:w,go:ae,back:()=>ae(-1),forward:()=>ae(1),beforeEach:o.add,beforeResolve:a.add,afterEach:l.add,onError:R.add,isReady:ge,install(Q){Q.component("RouterLink",z8),Q.component("RouterView",UI),Q.config.globalProperties.$router=G,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>ai(u)}),Nu&&!xe&&u.value===la&&(xe=!0,b(s.location).catch(re=>{}));const pe={};for(const re in la)Object.defineProperty(pe,re,{get:()=>u.value[re],enumerable:!0});Q.provide(Lm,G),Q.provide(j1,w1(pe)),Q.provide(ly,u);const $=Q.unmount;Z.add(Q),Q.unmount=function(){Z.delete(Q),Z.size<1&&(h=la,N&&N(),N=null,u.value=la,xe=!1,W=!1),$()}}};function ye(Q){return Q.reduce((pe,$)=>pe.then(()=>C($)),Promise.resolve())}return G}function bc(){return cs(Lm)}function q8(n){return cs(j1)}function VI(n,t){return function(){return n.apply(t,arguments)}}const{toString:Y8}=Object.prototype,{getPrototypeOf:z1}=Object,{iterator:Rm,toStringTag:$I}=Symbol,Bm=(n=>t=>{const r=Y8.call(t);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Zs=n=>(n=n.toLowerCase(),t=>Bm(t)===n),Um=n=>t=>typeof t===n,{isArray:xc}=Array,rc=Um("undefined");function yf(n){return n!==null&&!rc(n)&&n.constructor!==null&&!rc(n.constructor)&&Xi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const jI=Zs("ArrayBuffer");function K8(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&jI(n.buffer),t}const Z8=Um("string"),Xi=Um("function"),zI=Um("number"),bf=n=>n!==null&&typeof n=="object",J8=n=>n===!0||n===!1,Gd=n=>{if(Bm(n)!=="object")return!1;const t=z1(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!($I in n)&&!(Rm in n)},Q8=n=>{if(!bf(n)||yf(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},eB=Zs("Date"),tB=Zs("File"),nB=Zs("Blob"),rB=Zs("FileList"),iB=n=>bf(n)&&Xi(n.pipe),sB=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Xi(n.append)&&((t=Bm(n))==="formdata"||t==="object"&&Xi(n.toString)&&n.toString()==="[object FormData]"))},oB=Zs("URLSearchParams"),[aB,lB,uB,cB]=["ReadableStream","Request","Response","Headers"].map(Zs),hB=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xf(n,t,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),xc(n))for(i=0,s=n.length;i<s;i++)t.call(null,n[i],i,n);else{if(yf(n))return;const o=r?Object.getOwnPropertyNames(n):Object.keys(n),a=o.length;let l;for(i=0;i<a;i++)l=o[i],t.call(null,n[l],l,n)}}function GI(n,t){if(yf(n))return null;t=t.toLowerCase();const r=Object.keys(n);let i=r.length,s;for(;i-- >0;)if(s=r[i],t===s.toLowerCase())return s;return null}const vl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HI=n=>!rc(n)&&n!==vl;function uy(){const{caseless:n,skipUndefined:t}=HI(this)&&this||{},r={},i=(s,o)=>{const a=n&&GI(r,o)||o;Gd(r[a])&&Gd(s)?r[a]=uy(r[a],s):Gd(s)?r[a]=uy({},s):xc(s)?r[a]=s.slice():(!t||!rc(s))&&(r[a]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&xf(arguments[s],i);return r}const fB=(n,t,r,{allOwnKeys:i}={})=>(xf(t,(s,o)=>{r&&Xi(s)?n[o]=VI(s,r):n[o]=s},{allOwnKeys:i}),n),dB=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),pB=(n,t,r,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),r&&Object.assign(n.prototype,r)},mB=(n,t,r,i)=>{let s,o,a;const l={};if(t=t||{},n==null)return t;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)a=s[o],(!i||i(a,n,t))&&!l[a]&&(t[a]=n[a],l[a]=!0);n=r!==!1&&z1(n)}while(n&&(!r||r(n,t))&&n!==Object.prototype);return t},gB=(n,t,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=t.length;const i=n.indexOf(t,r);return i!==-1&&i===r},vB=n=>{if(!n)return null;if(xc(n))return n;let t=n.length;if(!zI(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=n[t];return r},yB=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&z1(Uint8Array)),bB=(n,t)=>{const i=(n&&n[Rm]).call(n);let s;for(;(s=i.next())&&!s.done;){const o=s.value;t.call(n,o[0],o[1])}},xB=(n,t)=>{let r;const i=[];for(;(r=n.exec(t))!==null;)i.push(r);return i},_B=Zs("HTMLFormElement"),wB=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,s){return i.toUpperCase()+s}),hE=(({hasOwnProperty:n})=>(t,r)=>n.call(t,r))(Object.prototype),EB=Zs("RegExp"),WI=(n,t)=>{const r=Object.getOwnPropertyDescriptors(n),i={};xf(r,(s,o)=>{let a;(a=t(s,o,n))!==!1&&(i[o]=a||s)}),Object.defineProperties(n,i)},SB=n=>{WI(n,(t,r)=>{if(Xi(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=n[r];if(Xi(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},CB=(n,t)=>{const r={},i=s=>{s.forEach(o=>{r[o]=!0})};return xc(n)?i(n):i(String(n).split(t)),r},AB=()=>{},TB=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function IB(n){return!!(n&&Xi(n.append)&&n[$I]==="FormData"&&n[Rm])}const DB=n=>{const t=new Array(10),r=(i,s)=>{if(bf(i)){if(t.indexOf(i)>=0)return;if(yf(i))return i;if(!("toJSON"in i)){t[s]=i;const o=xc(i)?[]:{};return xf(i,(a,l)=>{const u=r(a,s+1);!rc(u)&&(o[l]=u)}),t[s]=void 0,o}}return i};return r(n,0)},NB=Zs("AsyncFunction"),FB=n=>n&&(bf(n)||Xi(n))&&Xi(n.then)&&Xi(n.catch),XI=((n,t)=>n?setImmediate:t?((r,i)=>(vl.addEventListener("message",({source:s,data:o})=>{s===vl&&o===r&&i.length&&i.shift()()},!1),s=>{i.push(s),vl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xi(vl.postMessage)),kB=typeof queueMicrotask<"u"?queueMicrotask.bind(vl):typeof process<"u"&&process.nextTick||XI,MB=n=>n!=null&&Xi(n[Rm]),ze={isArray:xc,isArrayBuffer:jI,isBuffer:yf,isFormData:sB,isArrayBufferView:K8,isString:Z8,isNumber:zI,isBoolean:J8,isObject:bf,isPlainObject:Gd,isEmptyObject:Q8,isReadableStream:aB,isRequest:lB,isResponse:uB,isHeaders:cB,isUndefined:rc,isDate:eB,isFile:tB,isBlob:nB,isRegExp:EB,isFunction:Xi,isStream:iB,isURLSearchParams:oB,isTypedArray:yB,isFileList:rB,forEach:xf,merge:uy,extend:fB,trim:hB,stripBOM:dB,inherits:pB,toFlatObject:mB,kindOf:Bm,kindOfTest:Zs,endsWith:gB,toArray:vB,forEachEntry:bB,matchAll:xB,isHTMLForm:_B,hasOwnProperty:hE,hasOwnProp:hE,reduceDescriptors:WI,freezeMethods:SB,toObjectSet:CB,toCamelCase:wB,noop:AB,toFiniteNumber:TB,findKey:GI,global:vl,isContextDefined:HI,isSpecCompliantForm:IB,toJSONObject:DB,isAsyncFn:NB,isThenable:FB,setImmediate:XI,asap:kB,isIterable:MB};function Jt(n,t,r,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}ze.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const qI=Jt.prototype,YI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{YI[n]={value:n}});Object.defineProperties(Jt,YI);Object.defineProperty(qI,"isAxiosError",{value:!0});Jt.from=(n,t,r,i,s,o)=>{const a=Object.create(qI);ze.toFlatObject(n,a,function(c){return c!==Error.prototype},h=>h!=="isAxiosError");const l=n&&n.message?n.message:"Error",u=t==null&&n?n.code:t;return Jt.call(a,l,u,r,i,s),n&&a.cause==null&&Object.defineProperty(a,"cause",{value:n,configurable:!0}),a.name=n&&n.name||"Error",o&&Object.assign(a,o),a};const OB=null;function cy(n){return ze.isPlainObject(n)||ze.isArray(n)}function KI(n){return ze.endsWith(n,"[]")?n.slice(0,-2):n}function fE(n,t,r){return n?n.concat(t).map(function(s,o){return s=KI(s),!r&&o?"["+s+"]":s}).join(r?".":""):t}function PB(n){return ze.isArray(n)&&!n.some(cy)}const LB=ze.toFlatObject(ze,{},null,function(t){return/^is[A-Z]/.test(t)});function Vm(n,t,r){if(!ze.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,r=ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!ze.isUndefined(v[g])});const i=r.metaTokens,s=r.visitor||c,o=r.dots,a=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(t);if(!ze.isFunction(s))throw new TypeError("visitor must be a function");function h(m){if(m===null)return"";if(ze.isDate(m))return m.toISOString();if(ze.isBoolean(m))return m.toString();if(!u&&ze.isBlob(m))throw new Jt("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(m)||ze.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,g,v){let S=m;if(m&&!v&&typeof m=="object"){if(ze.endsWith(g,"{}"))g=i?g:g.slice(0,-2),m=JSON.stringify(m);else if(ze.isArray(m)&&PB(m)||(ze.isFileList(m)||ze.endsWith(g,"[]"))&&(S=ze.toArray(m)))return g=KI(g),S.forEach(function(x,b){!(ze.isUndefined(x)||x===null)&&t.append(a===!0?fE([g],b,o):a===null?g:g+"[]",h(x))}),!1}return cy(m)?!0:(t.append(fE(v,g,o),h(m)),!1)}const f=[],d=Object.assign(LB,{defaultVisitor:c,convertValue:h,isVisitable:cy});function p(m,g){if(!ze.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),ze.forEach(m,function(S,y){(!(ze.isUndefined(S)||S===null)&&s.call(t,S,ze.isString(y)?y.trim():y,g,d))===!0&&p(S,g?g.concat(y):[y])}),f.pop()}}if(!ze.isObject(n))throw new TypeError("data must be an object");return p(n),t}function dE(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function G1(n,t){this._pairs=[],n&&Vm(n,this,t)}const ZI=G1.prototype;ZI.append=function(t,r){this._pairs.push([t,r])};ZI.toString=function(t){const r=t?function(i){return t.call(this,i,dE)}:dE;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function RB(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function JI(n,t,r){if(!t)return n;const i=r&&r.encode||RB;ze.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(t,r):o=ze.isURLSearchParams(t)?t.toString():new G1(t,r).toString(i),o){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class pE{constructor(){this.handlers=[]}use(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ze.forEach(this.handlers,function(i){i!==null&&t(i)})}}const QI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BB=typeof URLSearchParams<"u"?URLSearchParams:G1,UB=typeof FormData<"u"?FormData:null,VB=typeof Blob<"u"?Blob:null,$B={isBrowser:!0,classes:{URLSearchParams:BB,FormData:UB,Blob:VB},protocols:["http","https","file","blob","url","data"]},H1=typeof window<"u"&&typeof document<"u",hy=typeof navigator=="object"&&navigator||void 0,jB=H1&&(!hy||["ReactNative","NativeScript","NS"].indexOf(hy.product)<0),zB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GB=H1&&window.location.href||"http://localhost",HB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:H1,hasStandardBrowserEnv:jB,hasStandardBrowserWebWorkerEnv:zB,navigator:hy,origin:GB},Symbol.toStringTag,{value:"Module"})),hi={...HB,...$B};function WB(n,t){return Vm(n,new hi.classes.URLSearchParams,{visitor:function(r,i,s,o){return hi.isNode&&ze.isBuffer(r)?(this.append(i,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function XB(n){return ze.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qB(n){const t={},r=Object.keys(n);let i;const s=r.length;let o;for(i=0;i<s;i++)o=r[i],t[o]=n[o];return t}function eD(n){function t(r,i,s,o){let a=r[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=o>=r.length;return a=!a&&ze.isArray(s)?s.length:a,u?(ze.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!l):((!s[a]||!ze.isObject(s[a]))&&(s[a]=[]),t(r,i,s[a],o)&&ze.isArray(s[a])&&(s[a]=qB(s[a])),!l)}if(ze.isFormData(n)&&ze.isFunction(n.entries)){const r={};return ze.forEachEntry(n,(i,s)=>{t(XB(i),s,r,0)}),r}return null}function YB(n,t,r){if(ze.isString(n))try{return(t||JSON.parse)(n),ze.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(n)}const _f={transitional:QI,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const i=r.getContentType()||"",s=i.indexOf("application/json")>-1,o=ze.isObject(t);if(o&&ze.isHTMLForm(t)&&(t=new FormData(t)),ze.isFormData(t))return s?JSON.stringify(eD(t)):t;if(ze.isArrayBuffer(t)||ze.isBuffer(t)||ze.isStream(t)||ze.isFile(t)||ze.isBlob(t)||ze.isReadableStream(t))return t;if(ze.isArrayBufferView(t))return t.buffer;if(ze.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return WB(t,this.formSerializer).toString();if((l=ze.isFileList(t))||i.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Vm(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),YB(t)):t}],transformResponse:[function(t){const r=this.transitional||_f.transitional,i=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ze.isResponse(t)||ze.isReadableStream(t))return t;if(t&&ze.isString(t)&&(i&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?Jt.from(l,Jt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hi.classes.FormData,Blob:hi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],n=>{_f.headers[n]={}});const KB=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZB=n=>{const t={};let r,i,s;return n&&n.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!r||t[r]&&KB[r])&&(r==="set-cookie"?t[r]?t[r].push(i):t[r]=[i]:t[r]=t[r]?t[r]+", "+i:i)}),t},mE=Symbol("internals");function $c(n){return n&&String(n).trim().toLowerCase()}function Hd(n){return n===!1||n==null?n:ze.isArray(n)?n.map(Hd):String(n)}function JB(n){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(n);)t[i[1]]=i[2];return t}const QB=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function I0(n,t,r,i,s){if(ze.isFunction(i))return i.call(this,t,r);if(s&&(t=r),!!ze.isString(t)){if(ze.isString(i))return t.indexOf(i)!==-1;if(ze.isRegExp(i))return i.test(t)}}function e6(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,i)=>r.toUpperCase()+i)}function t6(n,t){const r=ze.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+r,{value:function(s,o,a){return this[i].call(this,t,s,o,a)},configurable:!0})})}let qi=class{constructor(t){t&&this.set(t)}set(t,r,i){const s=this;function o(l,u,h){const c=$c(u);if(!c)throw new Error("header name must be a non-empty string");const f=ze.findKey(s,c);(!f||s[f]===void 0||h===!0||h===void 0&&s[f]!==!1)&&(s[f||u]=Hd(l))}const a=(l,u)=>ze.forEach(l,(h,c)=>o(h,c,u));if(ze.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(ze.isString(t)&&(t=t.trim())&&!QB(t))a(ZB(t),r);else if(ze.isObject(t)&&ze.isIterable(t)){let l={},u,h;for(const c of t){if(!ze.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[h=c[0]]=(u=l[h])?ze.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}a(l,r)}else t!=null&&o(r,t,i);return this}get(t,r){if(t=$c(t),t){const i=ze.findKey(this,t);if(i){const s=this[i];if(!r)return s;if(r===!0)return JB(s);if(ze.isFunction(r))return r.call(this,s,i);if(ze.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=$c(t),t){const i=ze.findKey(this,t);return!!(i&&this[i]!==void 0&&(!r||I0(this,this[i],i,r)))}return!1}delete(t,r){const i=this;let s=!1;function o(a){if(a=$c(a),a){const l=ze.findKey(i,a);l&&(!r||I0(i,i[l],l,r))&&(delete i[l],s=!0)}}return ze.isArray(t)?t.forEach(o):o(t),s}clear(t){const r=Object.keys(this);let i=r.length,s=!1;for(;i--;){const o=r[i];(!t||I0(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const r=this,i={};return ze.forEach(this,(s,o)=>{const a=ze.findKey(i,o);if(a){r[a]=Hd(s),delete r[o];return}const l=t?e6(o):String(o).trim();l!==o&&delete r[o],r[l]=Hd(s),i[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ze.forEach(this,(i,s)=>{i!=null&&i!==!1&&(r[s]=t&&ze.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const i=new this(t);return r.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[mE]=this[mE]={accessors:{}}).accessors,s=this.prototype;function o(a){const l=$c(a);i[l]||(t6(s,a),i[l]=!0)}return ze.isArray(t)?t.forEach(o):o(t),this}};qi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(qi.prototype,({value:n},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[r]=i}}});ze.freezeMethods(qi);function D0(n,t){const r=this||_f,i=t||r,s=qi.from(i.headers);let o=i.data;return ze.forEach(n,function(l){o=l.call(r,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function tD(n){return!!(n&&n.__CANCEL__)}function _c(n,t,r){Jt.call(this,n??"canceled",Jt.ERR_CANCELED,t,r),this.name="CanceledError"}ze.inherits(_c,Jt,{__CANCEL__:!0});function nD(n,t,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?n(r):t(new Jt("Request failed with status code "+r.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function n6(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function r6(n,t){n=n||10;const r=new Array(n),i=new Array(n);let s=0,o=0,a;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),c=i[o];a||(a=h),r[s]=u,i[s]=h;let f=o,d=0;for(;f!==s;)d+=r[f++],f=f%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),h-a<t)return;const p=c&&h-c;return p?Math.round(d*1e3/p):void 0}}function i6(n,t){let r=0,i=1e3/t,s,o;const a=(h,c=Date.now())=>{r=c,s=null,o&&(clearTimeout(o),o=null),n(...h)};return[(...h)=>{const c=Date.now(),f=c-r;f>=i?a(h,c):(s=h,o||(o=setTimeout(()=>{o=null,a(s)},i-f)))},()=>s&&a(s)]}const Ip=(n,t,r=3)=>{let i=0;const s=r6(50,250);return i6(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,u=a-i,h=s(u),c=a<=l;i=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&c?(l-a)/h:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};n(f)},r)},gE=(n,t)=>{const r=n!=null;return[i=>t[0]({lengthComputable:r,total:n,loaded:i}),t[1]]},vE=n=>(...t)=>ze.asap(()=>n(...t)),s6=hi.hasStandardBrowserEnv?((n,t)=>r=>(r=new URL(r,hi.origin),n.protocol===r.protocol&&n.host===r.host&&(t||n.port===r.port)))(new URL(hi.origin),hi.navigator&&/(msie|trident)/i.test(hi.navigator.userAgent)):()=>!0,o6=hi.hasStandardBrowserEnv?{write(n,t,r,i,s,o){const a=[n+"="+encodeURIComponent(t)];ze.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),ze.isString(i)&&a.push("path="+i),ze.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function a6(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function l6(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function rD(n,t,r){let i=!a6(t);return n&&(i||r==!1)?l6(n,t):t}const yE=n=>n instanceof qi?{...n}:n;function Rl(n,t){t=t||{};const r={};function i(h,c,f,d){return ze.isPlainObject(h)&&ze.isPlainObject(c)?ze.merge.call({caseless:d},h,c):ze.isPlainObject(c)?ze.merge({},c):ze.isArray(c)?c.slice():c}function s(h,c,f,d){if(ze.isUndefined(c)){if(!ze.isUndefined(h))return i(void 0,h,f,d)}else return i(h,c,f,d)}function o(h,c){if(!ze.isUndefined(c))return i(void 0,c)}function a(h,c){if(ze.isUndefined(c)){if(!ze.isUndefined(h))return i(void 0,h)}else return i(void 0,c)}function l(h,c,f){if(f in t)return i(h,c);if(f in n)return i(void 0,h)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(h,c,f)=>s(yE(h),yE(c),f,!0)};return ze.forEach(Object.keys({...n,...t}),function(c){const f=u[c]||s,d=f(n[c],t[c],c);ze.isUndefined(d)&&f!==l||(r[c]=d)}),r}const iD=n=>{const t=Rl({},n);let{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=qi.from(a),t.url=JI(rD(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ze.isFormData(r)){if(hi.hasStandardBrowserEnv||hi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(ze.isFunction(r.getHeaders)){const u=r.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([c,f])=>{h.includes(c.toLowerCase())&&a.set(c,f)})}}if(hi.hasStandardBrowserEnv&&(i&&ze.isFunction(i)&&(i=i(t)),i||i!==!1&&s6(t.url))){const u=s&&o&&o6.read(o);u&&a.set(s,u)}return t},u6=typeof XMLHttpRequest<"u",c6=u6&&function(n){return new Promise(function(r,i){const s=iD(n);let o=s.data;const a=qi.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=s,c,f,d,p,m;function g(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function S(){if(!v)return;const x=qi.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:n,request:v};nD(function(_){r(_),g()},function(_){i(_),g()},w),v=null}"onloadend"in v?v.onloadend=S:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(S)},v.onabort=function(){v&&(i(new Jt("Request aborted",Jt.ECONNABORTED,n,v)),v=null)},v.onerror=function(b){const w=b&&b.message?b.message:"Network Error",E=new Jt(w,Jt.ERR_NETWORK,n,v);E.event=b||null,i(E),v=null},v.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const w=s.transitional||QI;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),i(new Jt(b,w.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,n,v)),v=null},o===void 0&&a.setContentType(null),"setRequestHeader"in v&&ze.forEach(a.toJSON(),function(b,w){v.setRequestHeader(w,b)}),ze.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),h&&([d,m]=Ip(h,!0),v.addEventListener("progress",d)),u&&v.upload&&([f,p]=Ip(u),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(c=x=>{v&&(i(!x||x.type?new _c(null,n,v):x),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const y=n6(s.url);if(y&&hi.protocols.indexOf(y)===-1){i(new Jt("Unsupported protocol "+y+":",Jt.ERR_BAD_REQUEST,n));return}v.send(o||null)})},h6=(n,t)=>{const{length:r}=n=n?n.filter(Boolean):[];if(t||r){let i=new AbortController,s;const o=function(h){if(!s){s=!0,l();const c=h instanceof Error?h:this.reason;i.abort(c instanceof Jt?c:new _c(c instanceof Error?c.message:c))}};let a=t&&setTimeout(()=>{a=null,o(new Jt(`timeout ${t} of ms exceeded`,Jt.ETIMEDOUT))},t);const l=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),n=null)};n.forEach(h=>h.addEventListener("abort",o));const{signal:u}=i;return u.unsubscribe=()=>ze.asap(l),u}},f6=function*(n,t){let r=n.byteLength;if(r<t){yield n;return}let i=0,s;for(;i<r;)s=i+t,yield n.slice(i,s),i=s},d6=async function*(n,t){for await(const r of p6(n))yield*f6(r,t)},p6=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:r,value:i}=await t.read();if(r)break;yield i}}finally{await t.cancel()}},bE=(n,t,r,i)=>{const s=d6(n,t);let o=0,a,l=u=>{a||(a=!0,i&&i(u))};return new ReadableStream({async pull(u){try{const{done:h,value:c}=await s.next();if(h){l(),u.close();return}let f=c.byteLength;if(r){let d=o+=f;r(d)}u.enqueue(new Uint8Array(c))}catch(h){throw l(h),h}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},xE=64*1024,{isFunction:od}=ze,m6=(({Request:n,Response:t})=>({Request:n,Response:t}))(ze.global),{ReadableStream:_E,TextEncoder:wE}=ze.global,EE=(n,...t)=>{try{return!!n(...t)}catch{return!1}},g6=n=>{n=ze.merge.call({skipUndefined:!0},m6,n);const{fetch:t,Request:r,Response:i}=n,s=t?od(t):typeof fetch=="function",o=od(r),a=od(i);if(!s)return!1;const l=s&&od(_E),u=s&&(typeof wE=="function"?(m=>g=>m.encode(g))(new wE):async m=>new Uint8Array(await new r(m).arrayBuffer())),h=o&&l&&EE(()=>{let m=!1;const g=new r(hi.origin,{body:new _E,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),c=a&&l&&EE(()=>ze.isReadableStream(new i("").body)),f={stream:c&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(g,v)=>{let S=g&&g[m];if(S)return S.call(g);throw new Jt(`Response type '${m}' is not supported`,Jt.ERR_NOT_SUPPORT,v)})});const d=async m=>{if(m==null)return 0;if(ze.isBlob(m))return m.size;if(ze.isSpecCompliantForm(m))return(await new r(hi.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(m)||ze.isArrayBuffer(m))return m.byteLength;if(ze.isURLSearchParams(m)&&(m=m+""),ze.isString(m))return(await u(m)).byteLength},p=async(m,g)=>{const v=ze.toFiniteNumber(m.getContentLength());return v??d(g)};return async m=>{let{url:g,method:v,data:S,signal:y,cancelToken:x,timeout:b,onDownloadProgress:w,onUploadProgress:E,responseType:_,headers:T,withCredentials:C="same-origin",fetchOptions:F}=iD(m),k=t||fetch;_=_?(_+"").toLowerCase():"text";let D=h6([y,x&&x.toAbortSignal()],b),N=null;const M=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let U;try{if(E&&h&&v!=="get"&&v!=="head"&&(U=await p(T,S))!==0){let J=new r(g,{method:"POST",body:S,duplex:"half"}),ae;if(ze.isFormData(S)&&(ae=J.headers.get("content-type"))&&T.setContentType(ae),J.body){const[xe,Z]=gE(U,Ip(vE(E)));S=bE(J.body,xE,xe,Z)}}ze.isString(C)||(C=C?"include":"omit");const R=o&&"credentials"in r.prototype,W={...F,signal:D,method:v.toUpperCase(),headers:T.normalize().toJSON(),body:S,duplex:"half",credentials:R?C:void 0};N=o&&new r(g,W);let ne=await(o?k(N,F):k(g,W));const ge=c&&(_==="stream"||_==="response");if(c&&(w||ge&&M)){const J={};["status","statusText","headers"].forEach(G=>{J[G]=ne[G]});const ae=ze.toFiniteNumber(ne.headers.get("content-length")),[xe,Z]=w&&gE(ae,Ip(vE(w),!0))||[];ne=new i(bE(ne.body,xE,xe,()=>{Z&&Z(),M&&M()}),J)}_=_||"text";let te=await f[ze.findKey(f,_)||"text"](ne,m);return!ge&&M&&M(),await new Promise((J,ae)=>{nD(J,ae,{data:te,headers:qi.from(ne.headers),status:ne.status,statusText:ne.statusText,config:m,request:N})})}catch(R){throw M&&M(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,m,N),{cause:R.cause||R}):Jt.from(R,R&&R.code,m,N)}}},v6=new Map,sD=n=>{let t=n?n.env:{};const{fetch:r,Request:i,Response:s}=t,o=[i,s,r];let a=o.length,l=a,u,h,c=v6;for(;l--;)u=o[l],h=c.get(u),h===void 0&&c.set(u,h=l?new Map:g6(t)),c=h;return h};sD();const fy={http:OB,xhr:c6,fetch:{get:sD}};ze.forEach(fy,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const SE=n=>`- ${n}`,y6=n=>ze.isFunction(n)||n===null||n===!1,oD={getAdapter:(n,t)=>{n=ze.isArray(n)?n:[n];const{length:r}=n;let i,s;const o={};for(let a=0;a<r;a++){i=n[a];let l;if(s=i,!y6(i)&&(s=fy[(l=String(i)).toLowerCase()],s===void 0))throw new Jt(`Unknown adapter '${l}'`);if(s&&(ze.isFunction(s)||(s=s.get(t))))break;o[l||"#"+a]=s}if(!s){const a=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?`since :
`+a.map(SE).join(`
`):" "+SE(a[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:fy};function N0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new _c(null,n)}function CE(n){return N0(n),n.headers=qi.from(n.headers),n.data=D0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),oD.getAdapter(n.adapter||_f.adapter,n)(n).then(function(i){return N0(n),i.data=D0.call(n,n.transformResponse,i),i.headers=qi.from(i.headers),i},function(i){return tD(i)||(N0(n),i&&i.response&&(i.response.data=D0.call(n,n.transformResponse,i.response),i.response.headers=qi.from(i.response.headers))),Promise.reject(i)})}const aD="1.12.2",$m={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{$m[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const AE={};$m.transitional=function(t,r,i){function s(o,a){return"[Axios v"+aD+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return(o,a,l)=>{if(t===!1)throw new Jt(s(a," has been removed"+(r?" in "+r:"")),Jt.ERR_DEPRECATED);return r&&!AE[a]&&(AE[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,l):!0}};$m.spelling=function(t){return(r,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function b6(n,t,r){if(typeof n!="object")throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const o=i[s],a=t[o];if(a){const l=n[o],u=l===void 0||a(l,o,n);if(u!==!0)throw new Jt("option "+o+" must be "+u,Jt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Jt("Unknown option "+o,Jt.ERR_BAD_OPTION)}}const Wd={assertOptions:b6,validators:$m},no=Wd.validators;let Tl=class{constructor(t){this.defaults=t||{},this.interceptors={request:new pE,response:new pE}}async request(t,r){try{return await this._request(t,r)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Rl(this.defaults,r);const{transitional:i,paramsSerializer:s,headers:o}=r;i!==void 0&&Wd.assertOptions(i,{silentJSONParsing:no.transitional(no.boolean),forcedJSONParsing:no.transitional(no.boolean),clarifyTimeoutError:no.transitional(no.boolean)},!1),s!=null&&(ze.isFunction(s)?r.paramsSerializer={serialize:s}:Wd.assertOptions(s,{encode:no.function,serialize:no.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Wd.assertOptions(r,{baseUrl:no.spelling("baseURL"),withXsrfToken:no.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&ze.merge(o.common,o[r.method]);o&&ze.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),r.headers=qi.concat(a,o);const l=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(u=u&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const h=[];this.interceptors.response.forEach(function(g){h.push(g.fulfilled,g.rejected)});let c,f=0,d;if(!u){const m=[CE.bind(this),void 0];for(m.unshift(...l),m.push(...h),d=m.length,c=Promise.resolve(r);f<d;)c=c.then(m[f++],m[f++]);return c}d=l.length;let p=r;for(;f<d;){const m=l[f++],g=l[f++];try{p=m(p)}catch(v){g.call(this,v);break}}try{c=CE.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,d=h.length;f<d;)c=c.then(h[f++],h[f++]);return c}getUri(t){t=Rl(this.defaults,t);const r=rD(t.baseURL,t.url,t.allowAbsoluteUrls);return JI(r,t.params,t.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(t){Tl.prototype[t]=function(r,i){return this.request(Rl(i||{},{method:t,url:r,data:(i||{}).data}))}});ze.forEach(["post","put","patch"],function(t){function r(i){return function(o,a,l){return this.request(Rl(l||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Tl.prototype[t]=r(),Tl.prototype[t+"Form"]=r(!0)});let x6=class lD{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(l=>{i.subscribe(l),o=l}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},t(function(o,a,l){i.reason||(i.reason=new _c(o,a,l),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=i=>{t.abort(i)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new lD(function(s){t=s}),cancel:t}}};function _6(n){return function(r){return n.apply(null,r)}}function w6(n){return ze.isObject(n)&&n.isAxiosError===!0}const dy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dy).forEach(([n,t])=>{dy[t]=n});function uD(n){const t=new Tl(n),r=VI(Tl.prototype.request,t);return ze.extend(r,Tl.prototype,t,{allOwnKeys:!0}),ze.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return uD(Rl(n,s))},r}const kn=uD(_f);kn.Axios=Tl;kn.CanceledError=_c;kn.CancelToken=x6;kn.isCancel=tD;kn.VERSION=aD;kn.toFormData=Vm;kn.AxiosError=Jt;kn.Cancel=kn.CanceledError;kn.all=function(t){return Promise.all(t)};kn.spread=_6;kn.isAxiosError=w6;kn.mergeConfig=Rl;kn.AxiosHeaders=qi;kn.formToJSON=n=>eD(ze.isHTMLForm(n)?new FormData(n):n);kn.getAdapter=oD.getAdapter;kn.HttpStatusCode=dy;kn.default=kn;const{Axios:Jhe,AxiosError:Qhe,CanceledError:efe,isCancel:tfe,CancelToken:nfe,VERSION:rfe,all:ife,Cancel:sfe,isAxiosError:ofe,spread:afe,toFormData:lfe,AxiosHeaders:ufe,HttpStatusCode:cfe,formToJSON:hfe,getAdapter:ffe,mergeConfig:dfe}=kn,cD="https://science-book-backend-392637347057.asia-northeast3.run.app",cn=kn.create({baseURL:cD});cn.interceptors.request.use(n=>{let r=gi().accessToken;if(!r){const i=localStorage.getItem("auth");if(i)try{r=JSON.parse(i).accessToken,console.log("[Axios Interceptor] localStorage accessToken ")}catch(s){console.error("[Axios Interceptor] localStorage  :",s)}}return r?(n.headers.Authorization=`Bearer ${r}`,console.log("[Axios Interceptor] Authorization  ")):console.warn("[Axios Interceptor] accessToken ."),n.data instanceof FormData?delete n.headers["Content-Type"]:n.headers["Content-Type"]||(n.headers["Content-Type"]="application/json"),n},n=>Promise.reject(n));cn.interceptors.response.use(n=>n,async n=>{const t=n.config,i=["/api/content/search","/api/reviews","/api/reviews/target","/api/reviews/photos-summary","/api/places/search","/api/halls","/api/centers","/api/place","/api/exhibitions","/api/recommend/course","/api/notices"].some(s=>t.url?.includes(s));if(n.response?.status===401&&!t._retry){if(i)return console.warn("[Axios] Public API 401  -   "),Promise.reject(n);t._retry=!0;const s=gi();if(!s.refreshToken)return console.error("[Axios]   .  ."),s.logout(),window.location.href="/login",Promise.reject(n);try{console.log("[Axios]      ...");const a=(await kn.post(`${cD}/api/token/refresh`,{refreshToken:s.refreshToken})).data.accessToken;return console.log("[Axios]     "),s.refreshAccessToken(a),t.headers.Authorization=`Bearer ${a}`,console.log("[Axios]   "),cn(t)}catch(o){return console.error("[Axios]    :",o),s.logout(),window.location.href="/login",Promise.reject(o)}}return n.response?console.error(`[Axios Error] ${n.response.status}: ${n.response.statusText}`):n.request?console.error("[Axios Error]   ."):console.error("[Axios Error]",n.message),Promise.reject(n)});const gi=AI("auth",()=>{const n=Xe(null),t=Xe(null),r=Xe(null),i=Ut(()=>!!n.value),s=Ut(()=>n.value?.userId||null);function o(c){console.log("[authStore]  :",c);const f={userId:c.userId,loginId:c.loginId,name:c.name,email:c.email,phoneNumber:c.phoneNumber,gender:c.gender,region:c.region,childGrade:c.childGrade,profileImageUrl:c.profileImageUrl};n.value=f,t.value=c.accessToken,r.value=c.refreshToken}function a(){console.log("[authStore] "),n.value=null,t.value=null,r.value=null}function l(c){console.log("[authStore]   "),t.value=c}async function u(){if(!(!i.value||!n.value)){console.log("[authStore]   URL  ...");try{const c=await cn.get("/api/user/profile-url");c.data&&c.data.url?(n.value.profileImageUrl=c.data.url,console.log("[authStore]  URL  .")):n.value.profileImageUrl=null}catch(c){console.error("[authStore]  URL  :",c),c.response?.status===404&&(n.value.profileImageUrl=null)}}}async function h(c){console.log("[authStore]    :");try{const d=(await cn.put("/api/user/update",c)).data;if(typeof d!="object"||d===null)throw console.error("[authStore]    :",d),new Error("   .  DTO  .");return n.value={...n.value,...d},console.log("     Pinia   :",n.value),!0}catch(f){throw console.error("[authStore] updateUser  :",f),f}}return{user:n,accessToken:t,refreshToken:r,isLoggedIn:i,currentUserId:s,login:o,logout:a,refreshAccessToken:l,refreshProfileUrl:u,updateUser:h}},{persist:{paths:["user","refreshToken"]}});let ad=null,jc=!1,py=!1;function W1(){return py&&window.kakao&&window.kakao.maps?Promise.resolve(window.kakao):(jc&&ad||(jc=!0,ad=new Promise((n,t)=>{const r=document.createElement("script");r.src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=393e7d34a09647cafa9505110be7b527&libraries=services&autoload=false",r.async=!0,r.defer=!0,r.onload=()=>{window.kakao&&window.kakao.maps?window.kakao.maps.load(()=>{console.log("    "),py=!0,jc=!1,n(window.kakao)}):(jc=!1,t(new Error("   ")))},r.onerror=()=>{jc=!1,t(new Error("   "))},document.head.appendChild(r)})),ad)}function hD(){return py&&window.kakao&&window.kakao.maps}const wt=(n,t)=>{const r=n.__vccOpts||n;for(const[i,s]of t)r[i]=s;return r},E6={name:"CustomAlert",props:{show:{type:Boolean,default:!1},message:{type:String,default:""},type:{type:String,default:"success"}},emits:["close"],computed:{iconClass(){return this.type==="error"?"bi-exclamation-triangle-fill error-icon":"bi-check-circle-fill success-icon"}}},S6={key:0,class:"alert-overlay"},C6={class:"alert-box"},A6=["innerHTML"];function T6(n,t,r,i,s,o){return r.show?(se(),ce("div",S6,[A("div",C6,[A("i",{class:ht(["icon bi",o.iconClass])},null,2),A("p",{class:"message",innerHTML:r.message.replace(/\n/g,"<br>")},null,8,A6),A("button",{class:"confirm-btn",onClick:t[0]||(t[0]=a=>n.$emit("close"))},"")])])):rt("",!0)}const fD=wt(E6,[["render",T6],["__scopeId","data-v-6ae32949"]]),I6={name:"CustomConfirm",props:{show:{type:Boolean,default:!1},message:{type:String,default:" ."},msg:{type:String,default:""}},emits:["cancel","confirm"]},D6={key:0,class:"confirm-overlay"},N6={class:"confirm-box"},F6=["innerHTML"],k6={class:"button-group"};function M6(n,t,r,i,s,o){return r.show?(se(),ce("div",D6,[A("div",N6,[A("p",{class:"message",innerHTML:r.message.replace(/\n/g,"<br>")},null,8,F6),A("div",k6,[A("button",{class:"btn-cancel",onClick:t[0]||(t[0]=a=>n.$emit("cancel"))},""),A("button",{class:"btn-confirm",onClick:t[1]||(t[1]=a=>n.$emit("confirm"))},Be(r.msg),1)])])])):rt("",!0)}const dD=wt(I6,[["render",M6],["__scopeId","data-v-1ba216e4"]]);function O6(n){return{all:n=n||new Map,on:function(t,r){var i=n.get(t);i?i.push(r):n.set(t,[r])},off:function(t,r){var i=n.get(t);i&&(r?i.splice(i.indexOf(r)>>>0,1):n.set(t,[]))},emit:function(t,r){var i=n.get(t);i&&i.slice().map(function(s){s(r)}),(i=n.get("*"))&&i.slice().map(function(s){s(t,r)})}}}const ct=O6(),P6={id:"app-container"},L6={name:"App",components:{CustomAlert:fD,CustomConfirmAlert:dD},data(){return{alert:{show:!1,message:"",type:"success"},confirm:{show:!1,message:"",msg:"",onConfirm:null,onCancel:null}}},methods:{showAlert(n){console.log(" [App.vue]   :",n),this.alert.message=n.message,this.alert.type=n.type,this.alert.show=!0},closeAlert(){this.alert.show=!1},showConfirm(n){console.log(" [App.vue]   :",n),this.confirm.message=n.message,this.confirm.onConfirm=n.onConfirm||null,this.confirm.onCancel=n.onCancel||null,this.confirm.msg=n.msg||"",this.confirm.show=!0},handleConfirm(){this.confirm.onConfirm&&this.confirm.onConfirm(),this.closeConfirm()},handleCancel(){this.confirm.onCancel&&this.confirm.onCancel(),this.closeConfirm()},closeConfirm(){this.confirm.show=!1,this.confirm.onConfirm=null,this.confirm.onCancel=null}},created(){ct.on("show-global-alert",this.showAlert),ct.on("show-global-confirm",this.showConfirm)},beforeUnmount(){ct.off("show-global-alert",this.showAlert),ct.off("show-global-confirm",this.showConfirm)}},R6=Object.assign(L6,{setup(n){const t=gi();return console.log("App.vue onMounted:   (setup)"),xr(async()=>{t.refreshProfileUrl();try{await W1(),console.log("    ")}catch(r){console.error("    :",r)}}),(r,i)=>(se(),ce("div",P6,[lt(ai(UI),null,{default:Hr(({Component:s})=>[(se(),Kt(aT,{include:"MapComponent"},[(se(),Kt(k1(s)))],1024))]),_:1}),lt(fD,{show:r.alert.show,message:r.alert.message,type:r.alert.type,onClose:r.closeAlert},null,8,["show","message","type","onClose"]),lt(dD,{show:r.confirm.show,message:r.confirm.message,msg:r.confirm.msg,onConfirm:r.handleConfirm,onCancel:r.handleCancel},null,8,["show","message","msg","onConfirm","onCancel"])]))}}),B6=wt(R6,[["__scopeId","data-v-d0f54bff"]]),U6={class:"position-absolute bg-white border-top d-flex flex-row justify-content-center align-items-center p-0",style:{width:"100%",height:"63px",left:"0",bottom:"0px","z-index":"1030"}},V6={__name:"BottomNavbar",props:{selectedNavItem:String},emits:["navigate"],setup(n){return(t,r)=>(se(),ce("nav",U6,[A("a",{class:ht(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[0]||(r[0]=i=>t.$emit("navigate",""))},[...r[5]||(r[5]=[A("i",{class:"bi bi-house"},null,-1),A("span",null,"",-1)])],2),A("a",{class:ht(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[1]||(r[1]=i=>t.$emit("navigate",""))},[...r[6]||(r[6]=[A("i",{class:"bi bi-list-ul"},null,-1),A("span",null,"",-1)])],2),A("a",{class:ht(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[2]||(r[2]=i=>t.$emit("navigate",""))},[...r[7]||(r[7]=[A("i",{class:"bi bi-map"},null,-1),A("span",null,"",-1)])],2),A("a",{class:ht(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[3]||(r[3]=i=>t.$emit("navigate",""))},[...r[8]||(r[8]=[A("i",{class:"bi bi-journal-bookmark"},null,-1),A("span",null,"",-1)])],2),A("a",{class:ht(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[4]||(r[4]=i=>t.$emit("navigate",""))},[...r[9]||(r[9]=[A("i",{class:"bi bi-person"},null,-1),A("span",null,"",-1)])],2)]))}},X1=wt(V6,[["__scopeId","data-v-c89e957e"]]),$6={class:"modal-sheet d-flex flex-column",style:{"font-family":"'SUIT', sans-serif"}},j6={class:"p-3 d-flex align-items-center flex-shrink-0 rounded-top",style:{"background-color":"#4A7CEC"}},z6={class:"modal-body flex-grow-1 overflow-auto p-4"},G6={class:"row g-3"},H6=["onClick"],W6={class:"row g-3"},X6=["onClick"],q6={class:"btn-group w-100 mb-3",role:"group"},Y6={key:0},K6={class:"row g-3"},Z6=["onClick"],J6={key:1},Q6={__name:"FilterModal",props:{showLocationOptions:{type:Boolean,default:!0},initialLocationType:{type:String,default:"all"},initialRadius:{type:Number,default:5},initialRegion:{type:String,default:""},initialSubject:String,initialGrade:String},emits:["close","complete"],setup(n,{emit:t}){const r=n,i=t,s=Xe(r.initialLocationType),o=Xe(r.initialRadius),a=Xe(r.initialRegion),l=Xe(r.initialSubject),u=Xe(r.initialGrade),h=Xe(["","","",""]),c=Xe([" 3"," 4"," 5"," 6"]),f=Xe([3,5,10,30]),d=()=>{const p={subject:l.value,grade:u.value};if(r.showLocationOptions){let m=null,g="";s.value==="radius"?m=o.value:s.value==="region"&&(g=typeof a.value=="string"?a.value.trim():""),p.locationType=s.value,p.radius=m,p.region=g}i("complete",p)};return(p,m)=>(se(),ce("div",null,[A("div",{class:"modal-backdrop fade show",onClick:m[0]||(m[0]=g=>p.$emit("close"))}),A("div",$6,[A("div",j6,[m[6]||(m[6]=A("i",{class:"bi bi-person-circle fs-2 me-3",style:{color:"white"}},null,-1)),m[7]||(m[7]=A("div",{class:"flex-grow-1"},[A("h5",{class:"fw-bold m-0 fs-6 text-white"}," "),A("small",{class:"text-white"},"  .")],-1)),A("button",{class:"btn-close btn-close-white fs-5",onClick:m[1]||(m[1]=g=>p.$emit("close"))})]),A("div",z6,[m[13]||(m[13]=A("h6",{class:"fw-bold mb-3"},"",-1)),A("div",G6,[(se(!0),ce(at,null,Tt(h.value,g=>(se(),ce("div",{class:"col-6",key:g},[A("button",{type:"button",class:ht(["filter-btn",{active:l.value===g}]),onClick:v=>l.value=g},Be(g),11,H6)]))),128))]),m[14]||(m[14]=A("h6",{class:"fw-bold mb-3 mt-4 pt-2"},"",-1)),A("div",W6,[(se(!0),ce(at,null,Tt(c.value,g=>(se(),ce("div",{class:"col-6",key:g},[A("button",{type:"button",class:ht(["filter-btn",{active:u.value===g}]),onClick:v=>u.value=g},Be(g),11,X6)]))),128))]),n.showLocationOptions?(se(),ce(at,{key:0},[m[12]||(m[12]=A("h6",{class:"fw-bold mb-3 mt-4 pt-2"}," ",-1)),A("div",q6,[sn(A("input",{type:"radio",class:"btn-check",name:"locationType",id:"locTypeAll",autocomplete:"off",value:"all","onUpdate:modelValue":m[2]||(m[2]=g=>s.value=g),checked:""},null,512),[[Xs,s.value]]),m[8]||(m[8]=A("label",{class:"btn btn-outline-primary",for:"locTypeAll"}," ",-1)),sn(A("input",{type:"radio",class:"btn-check",name:"locationType",id:"locTypeRadius",autocomplete:"off",value:"radius","onUpdate:modelValue":m[3]||(m[3]=g=>s.value=g)},null,512),[[Xs,s.value]]),m[9]||(m[9]=A("label",{class:"btn btn-outline-primary",for:"locTypeRadius"}," ",-1)),sn(A("input",{type:"radio",class:"btn-check",name:"locationType",id:"locTypeRegion",autocomplete:"off",value:"region","onUpdate:modelValue":m[4]||(m[4]=g=>s.value=g)},null,512),[[Xs,s.value]])]),s.value==="radius"?(se(),ce("div",Y6,[m[10]||(m[10]=A("h6",{class:"fw-bold mb-3"}," ",-1)),A("div",K6,[(se(!0),ce(at,null,Tt(f.value,g=>(se(),ce("div",{class:"col-6",key:g},[A("button",{type:"button",class:ht(["filter-btn",{active:o.value===g}]),onClick:v=>o.value=g},Be(g)+"km  ",11,Z6)]))),128))])])):rt("",!0),s.value==="region"?(se(),ce("div",J6,[m[11]||(m[11]=A("h6",{class:"fw-bold mb-3"}," ",-1)),sn(A("input",{type:"text",class:"form-control",placeholder:":  ,  ","onUpdate:modelValue":m[5]||(m[5]=g=>a.value=g)},null,512),[[nr,a.value]])])):rt("",!0)],64)):rt("",!0)]),A("div",{class:"modal-footer p-3 border-top flex-shrink-0"},[A("button",{class:"btn btn-lg w-100 rounded-3 py-3 fw-bold",onClick:d,style:{"background-color":"#4A7CEC","border-color":"#4A7CEC",color:"white"}},"  ")])])]))}},q1=wt(Q6,[["__scopeId","data-v-6627ec53"]]),e9={__name:"PillTag",props:{text:String,type:{type:String,default:"grade"}},setup(n){const t=n,r={:{bg:"#C9F0FF",text:"#007AFF"},:{bg:"#E0D6FF",text:"#582DE8"},:{bg:"#FFD6E8",text:"#D9006C"},:{bg:"#A6FFD9",text:"#008A50"},:{bg:"#333333",text:"#FFFFFF"},default:{bg:"#EFEFEF",text:"#555"}},i=Ut(()=>{let s;return t.type==="subject"?s=r[t.text]||r.default:s=r.default,{"background-color":s.bg,color:s.text}});return(s,o)=>(se(),ce("span",{class:"badge rounded-pill pill-tag",style:Xn([{"font-family":"'SUIT', sans-serif"},i.value])},Be(n.text),5))}},Ts=wt(e9,[["__scopeId","data-v-8a7e6ef1"]]),t9={class:"hashtag-badge bg-light text-secondary fw-normal px-2 py-1",style:{"font-family":"'SUIT', sans-serif","font-size":"0.7rem"}},n9={__name:"HashTag",props:{text:{type:String,required:!0}},setup(n){const t=n,r=Ut(()=>(t.text||"").replace(/[{}"]/g,""));return(i,s)=>(se(),ce("span",t9," #"+Be(r.value),1))}},ja=wt(n9,[["__scopeId","data-v-43ec427c"]]),r9={class:"image-container"},i9={key:0,class:"card-badge"},s9=["src","alt"],o9={class:"content-frame d-flex flex-column flex-grow-1 gap-2 min-w-0"},a9={class:"d-flex justify-content-between align-items-center gap-1"},l9={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},u9={class:"text-frame d-flex flex-column gap-1 min-w-0"},c9={class:"d-flex align-items-center gap-1 min-w-0"},h9={class:"fw-bold m-0 text-truncate flex-grow-1 min-w-0"},f9={class:"d-flex flex-row align-items-center gap-2 min-w-0"},d9={class:"text-truncate flex-grow-1 min-w-0"},p9={class:"hashtag-container"},m9={key:0,class:"more-tags"},g9="https://storage.googleapis.com/science_book/",F0=2,v9={__name:"PlaceCard",props:{item:{type:Object,required:!0}},emits:["add","item-click"],setup(n,{emit:t}){const r=t,i=n,s=Ut(()=>{const c=i.item.mainImageUrl||i.item.imageUrl;return c&&!c.startsWith("http")?g9+c:c}),o=Ut(()=>i.item.hashtags?.slice(0,F0)||[]),a=Ut(()=>i.item.hashtags?.length>F0),l=Ut(()=>i.item.hashtags?.length-F0||0),u=()=>{r("add",i.item)},h=()=>{r("item-click")};return(c,f)=>(se(),ce("div",{class:"place-card d-flex flex-row bg-white align-items-center px-3 py-3 rounded-4 shadow gap-3",style:{"font-family":"'SUIT' , sans-serif"},onClick:h},[A("div",r9,[n.item.badgeLabel?(se(),ce("div",i9,Be(n.item.badgeLabel),1)):rt("",!0),A("img",{src:s.value,alt:n.item.title,class:"map-thumbnail"},null,8,s9)]),A("div",o9,[A("div",a9,[A("div",l9,[lt(Ts,{text:n.item.subject||"",type:"subject"},null,8,["text"]),lt(Ts,{text:(n.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),A("button",{class:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center btn-add flex-shrink-0",onClick:br(u,["stop"])},[...f[0]||(f[0]=[A("i",{class:"bi bi-plus fs-4"},null,-1)])])]),A("div",u9,[A("div",c9,[A("h5",h9,Be(n.item.title||""),1)]),A("div",f9,[A("span",d9,Be(n.item.place||""),1)]),A("div",p9,[(se(!0),ce(at,null,Tt(o.value,d=>(se(),Kt(ja,{key:d,text:d},null,8,["text"]))),128)),a.value?(se(),ce("span",m9," +"+Be(l.value),1)):rt("",!0)])])])]))}},y9=wt(v9,[["__scopeId","data-v-2e9e1ac3"]]),Dp=AI("curriculum",()=>{const n=Xe(localStorage.getItem("selectedGrade")||" 3"),t=Xe(localStorage.getItem("selectedSubject")||"");function r(i,s){n.value=i,t.value=s,localStorage.setItem("selectedGrade",i),localStorage.setItem("selectedSubject",s)}return{selectedGrade:n,selectedSubject:t,setFilter:r}}),b9={class:"vh-100 position-relative overflow-hidden bg-light",style:{"font-family":"'SUIT', sans-serif"}},x9={class:"position-absolute d-flex align-items-center p-3 bg-white rounded-4 shadow map-top-bar"},_9={class:"rounded-circle d-flex align-items-center justify-content-center flex-shrink-0 profile-avatar-wrapper"},w9=["src"],E9={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#888",class:"bi bi-person-fill",viewBox:"0 0 16 16"},S9={class:"flex-grow-1",style:{"font-family":"'SUIT', sans-serif"}},C9={class:"fw-bold map-username"},A9={class:"position-absolute d-flex flex-row map-tabs-wrapper"},T9={class:"position-absolute map-carousel-wrapper"},I9={class:"card-carousel"},D9={class:"d-flex flex-row align-items-center card-row-inner"},N9={key:0,class:"text-center p-5 text-muted w-100"},F9={key:1,class:"text-center p-5 text-muted w-100"},k9={key:0,class:"text-sm mt-2"},M9={key:0,class:"map-loading-overlay"},O9={name:"MapComponent"},P9=Object.assign(O9,{setup(n){const t=bc(),r=Xe(null),i=gi(),{user:s}=As(i),o=Dp(),{selectedGrade:a,selectedSubject:l}=As(o),u=Xe(""),h=Xe(""),c=Xe(!1),f=Xe(null),d=Xe(null),p=Xe([]),m=Xe(null),g=Xe(null),v=Xe([]),S=Xe([]),y="28242ddd7cda15c60301eff5cada6efc",x=new window.kakao.maps.Size(32,37),b={offset:new window.kakao.maps.Point(16,37)},w=new window.kakao.maps.MarkerImage("/museum.png",x,b),E=new window.kakao.maps.MarkerImage("/experiment.png",x,b),_=Ut(()=>s.value?.name?`${s.value.name} `:" "),T=Xe("all"),C=Xe(5),F=Xe(""),k=Xe(null),D=Xe(!1),N=Xe([]),M=Ut(()=>{const he=N.value;return u.value===""?he.filter(me=>me.itemType==="exhibition"):he.filter(me=>me.itemType==="science_place")});t.currentRoute.value.query.tab===""&&(u.value=""),D1(()=>{h.value="",W.value=!1});const R=he=>{u.value=he,r.value=null,t.replace({query:{tab:he}})},W=Xe(!1),ne=he=>{W.value=!0,re(),$(),u.value===""?t.push({path:`/exhibition/${he.id}`,query:{mainCategoryTags:l.value,subCategoryTags:he.hashtags,gradeTags:a.value}}):t.push({path:`/place/${he.id}`,query:{mainCategoryTags:l.value,subCategoryTags:he.hashtags,gradeTags:a.value}})},ge=he=>{r.value=he.id,X(he.lat,he.lng),$(),setTimeout(()=>{te(he),Z(he)},500)},te=he=>{const me=window.kakao?.maps?.Animation?.BOUNCE;if(!me){console.warn("Kakao maps Animation    BOUNCE    .");return}p.value.forEach(_e=>{const De=_e.getPosition();De.getLat()===he.lat&&De.getLng()===he.lng&&(_e.setAnimation(me),setTimeout(()=>{_e.setAnimation(null)},2e3))})},J=()=>(console.log("GPS:     "),new Promise((he,me)=>{if(!navigator.geolocation){const _e=new Error("Geolocation not supported");console.error("GPS: Geolocation  ."),me(_e);return}navigator.geolocation.getCurrentPosition(_e=>{const De={lat:_e.coords.latitude,lng:_e.coords.longitude};k.value=De,console.log("    ():",De),he(De)},_e=>{console.error("GPS   :",_e.code,_e.message),me(_e)},{enableHighAccuracy:!0,timeout:5e4,maximumAge:0})})),ae=async()=>{try{if(await J(),k.value&&d.value){const he=new window.kakao.maps.LatLng(k.value.lat,k.value.lng);d.value.panTo(he),setTimeout(()=>{d.value.setLevel(3,{animate:{duration:300}})},300),m.value&&m.value.setMap(null);const me=`
    <div class="current-location-wrapper">
     <div class="current-location-dot"></div>
     <div class="current-location-pulse"></div>
    </div>
   `,_e=new window.kakao.maps.CustomOverlay({position:he,content:me});_e.setMap(d.value),m.value=_e}}catch(he){console.error("  :",he)}},xe=(he,me)=>{if(d.value){const _e=new window.kakao.maps.LatLng(he,me);d.value.panTo(_e),setTimeout(()=>{d.value.setLevel(4,{animate:{duration:300}})},300)}},Z=async he=>{if(W.value){console.log("    .");return}if(!k.value){ct.emit("show-global-alert",{message:"  .",type:"error"});return}$();const me={lat:k.value.lat,lng:k.value.lng},_e={lat:he.lat,lng:he.lng};if(!d.value||!window.kakao?.maps||W.value){console.warn("  DOM    .");return}try{const{path:De,bounds:Le}=await G(me,_e);if(W.value||!d.value){console.log("      .");return}De.length>0&&(ye(De),Q(me,_e),d.value.setBounds(Le))}catch(De){W.value||(console.error(" :",De),ct.emit("show-global-alert",{message:"   .",type:"error"}))}},G=async(he,me)=>{const _e="https://apis-navi.kakaomobility.com/v1/directions",De={origin:`${he.lng},${he.lat}`,destination:`${me.lng},${me.lat}`,priority:"RECOMMEND"};try{const Le=await kn.get(_e,{params:De,headers:{Authorization:`KakaoAK ${y}`}});if(Le.data&&Le.data.routes&&Le.data.routes.length>0){const Ue=Le.data.routes[0].sections,Oe=[],Qe=new window.kakao.maps.LatLngBounds;return Ue.forEach(We=>{We.roads.forEach(ft=>{for(let Ce=0;Ce<ft.vertexes.length;Ce+=2){const Fe=ft.vertexes[Ce],Pe=ft.vertexes[Ce+1],$e=new window.kakao.maps.LatLng(Pe,Fe);Oe.push($e),Qe.extend($e)}})}),{path:Oe,bounds:Qe}}else throw new Error("API     .")}catch(Le){throw console.error("Kakao Navi API  :",Le),Le.response&&console.error("Kakao Navi API  :",Le.response.data),Le}},ye=he=>{v.value.length>0&&v.value.forEach(De=>De.setMap(null)),v.value=[];const me=new window.kakao.maps.Polyline({path:he,strokeWeight:6,strokeColor:"#4A7CEC",strokeOpacity:.9,strokeStyle:"solid"});me.setMap(d.value),v.value.push(me);const _e=new window.kakao.maps.Polyline({path:he,strokeWeight:3,strokeColor:"#FFFFFF",strokeOpacity:1,strokeStyle:"dashed"});_e.setMap(d.value),v.value.push(_e)},Q=(he,me)=>{S.value.forEach(_e=>_e.setMap(null)),S.value=[]},pe=()=>{p.value.forEach(he=>he.setMap(null)),p.value=[],g.value&&(g.value.setMap(null),g.value=null)},$=()=>{v.value&&Array.isArray(v.value)&&v.value.forEach(he=>he.setMap(null)),v.value=[],S.value.forEach(he=>he.setMap(null)),S.value=[]},re=()=>{p.value.forEach(he=>he.setMap(null)),p.value=[],g.value&&(g.value.setMap(null),g.value=null),v.value&&Array.isArray(v.value)&&v.value.forEach(he=>he.setMap(null)),v.value=[],S.value.forEach(he=>he.setMap(null)),S.value=[]},be=he=>{d.value&&(pe(),he.length&&he.forEach(me=>{if(me.lat===null||me.lng===null||isNaN(Number(me.lat))||isNaN(Number(me.lng))){console.warn("[NaN Error]    :",me);return}const _e=me.itemType==="exhibition"?w:E,De=new window.kakao.maps.LatLng(me.lat,me.lng),Le=new window.kakao.maps.Marker({position:De,title:me.title,image:_e});Le.setMap(d.value),p.value.push(Le),window.kakao.maps.event.addListener(Le,"mouseover",()=>{g.value&&g.value.setMap(null);const B=`
    <div class="info-window">
     <div class="info-title">${me.title}</div>
     <div class="info-line info-rating">
      <span class="star">::</span>
      <span>${me.rating||"N/A"}  (${me.reviewCount||0})</span>
     </div>
     <div class="info-line">
      <span class="icon"><i class="bi bi-info-circle-fill"></i></span>
      <span>${me.subject||" "}</span>
     </div>
     <div class="info-line">
      <span class="icon"><i class="bi bi-info-circle-fill"></i></span>
      <span>${me.grade||" "}</span>
     </div>
    </div>
   `,Ue=new window.kakao.maps.CustomOverlay({map:d.value,position:De,content:B,xAnchor:.5,yAnchor:1.5,zIndex:3});g.value=Ue}),window.kakao.maps.event.addListener(Le,"mouseout",()=>{g.value&&(g.value.setMap(null),g.value=null)}),window.kakao.maps.event.addListener(Le,"click",()=>{xe(me.lat,me.lng),r.value=me.id;const B=document.getElementById(`card-${me.id}`);B&&B.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})})}))},Se=Xe(!1),j=async()=>{Se.value=!0,r.value=null,console.log("==== API    ===="),D.value=!0,N.value=[],d.value&&re();const he={searchType:T.value,subject:l.value,grade:a.value};try{if(T.value==="radius")if(k.value||await J(),k.value)he.lat=k.value.lat,he.lng=k.value.lng,he.radius=C.value;else throw new Error("    (  )");else T.value==="region"&&(F.value?he.region=F.value:(console.warn("    .   ."),he.searchType="all"));const me=await cn.get("/api/content/search",{params:he});if(me.data&&Array.isArray(me.data)){const _e=me.data.map(De=>De.itemType==="exhibition"?{...De,badgeLabel:""}:De);N.value=_e}else console.error("API   :",me.data),N.value=[]}catch(me){console.error("API    :",me.response?me.response.data:me.message),ct.emit("show-global-alert",{message:"    ."+(me.message.includes("")?"  .":""),type:"error"}),N.value=[]}finally{setTimeout(()=>{Se.value=!1},300),D.value=!1}},X=(he,me,_e=300)=>{if(!d.value)return;const De=new window.kakao.maps.LatLng(he,me);d.value.panTo(De)};xr(async()=>{if(window.kakao&&window.kakao.maps){const he={center:new window.kakao.maps.LatLng(37.566826,126.9786567),level:7};d.value=new window.kakao.maps.Map(f.value,he),window.kakao.maps.event.addListener(d.value,"click",()=>{r.value=null,$()});try{if(await J(),k.value&&d.value){const me=new window.kakao.maps.LatLng(k.value.lat,k.value.lng);d.value.setCenter(me),d.value.setLevel(7),m.value&&m.value.setMap(null);const _e='<div class="current-location-dot"></div>';m.value=new window.kakao.maps.CustomOverlay({position:me,content:_e}),m.value.setMap(d.value)}}catch(me){console.warn("   :",me.message),d.value.setCenter(new window.kakao.maps.LatLng(37.566826,126.9786567))}await j()}else console.error("Kakao Maps API   .")}),Wi(M,he=>{d.value&&ee().then(()=>{if(be(he),he.length>0){const me=new window.kakao.maps.LatLngBounds;let _e=!1;he.forEach(De=>{De.lat!==null&&De.lng!==null&&!isNaN(Number(De.lat))&&!isNaN(Number(De.lng))&&(me.extend(new window.kakao.maps.LatLng(De.lat,De.lng)),_e=!0)}),_e?he.length===1?xe(he[0].lat,he[0].lng):d.value.setBounds(me):console.warn(" :        .")}})});const ee=()=>new Promise(he=>{p.value.forEach((me,_e)=>{setTimeout(()=>{me.setMap(null)},_e*20)}),setTimeout(()=>{p.value=[],he()},p.value.length*20+100)}),Ae=he=>{T.value=he.locationType,C.value=he.radius,F.value=he.region,o.setFilter(he.grade,he.subject),c.value=!1,j()},we=he=>{h.value=he,he===""?t.push("/home"):he===""?t.push("/list"):he===""?t.push("/map"):he===""?t.push("/usercourselist"):he===""&&t.push("/mypage")};return(he,me)=>(se(),ce("div",b9,[A("div",{ref_key:"mapContainer",ref:f,class:"map-placeholder map-full-screen"},null,512),A("div",x9,[A("div",_9,[ai(s)?.profileImageUrl?(se(),ce("img",{key:0,src:ai(s).profileImageUrl,alt:"",class:"profile-image-cover"},null,8,w9)):(se(),ce("svg",E9,[...me[4]||(me[4]=[A("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6"},null,-1)])]))]),A("div",S9,[me[5]||(me[5]=A("div",{class:"text-secondary map-greeting"},"",-1)),A("div",C9,Be(_.value),1)]),A("button",{class:"btn btn-primary rounded-3 d-flex align-items-center justify-content-center flex-shrink-0 search-btn",onClick:me[0]||(me[0]=br(_e=>c.value=!0,["prevent"]))},[...me[6]||(me[6]=[A("i",{class:"bi bi-search fs-5"},null,-1)])])]),A("div",A9,[A("button",{type:"button",class:ht(["spec-button shadow-sm",{active:u.value===""}]),onClick:me[1]||(me[1]=_e=>R(""))},"",2),A("button",{type:"button",class:ht(["spec-button shadow-sm",{active:u.value===""}]),onClick:me[2]||(me[2]=_e=>R(""))}," ",2)]),A("div",{class:"position-absolute d-flex flex-column map-control-buttons"},[A("button",{class:"btn btn-dark btn-circle shadow-sm d-flex flex-column p-0 justify-content-center align-items-center",onClick:ae},[...me[7]||(me[7]=[A("i",{class:"bi bi-bullseye",style:{"font-size":"1rem","line-height":"1"}},null,-1),A("span",{style:{"font-size":"0.6rem","margin-top":"2px"}},"",-1)])])]),A("div",T9,[A("div",I9,[A("div",D9,[D.value?(se(),ce("div",N9,"  ... ")):M.value.length===0?(se(),ce("div",F9,[me[9]||(me[9]=A("div",null,"  .",-1)),T.value==="radius"?(se(),ce("div",k9,[At(" : "+Be(k.value?`${k.value.lat.toFixed(4)},
              ${k.value.lng.toFixed(4)}`:""),1),me[8]||(me[8]=A("br",null,null,-1)),At(" : "+Be(C.value)+"km / : "+Be(ai(l))+" / : "+Be(ai(a)),1)])):rt("",!0)])):(se(!0),ce(at,{key:2},Tt(M.value,_e=>(se(),Kt(y9,{key:_e.id,item:_e,onAdd:De=>ne(_e),id:`card-${_e.id}`,class:ht({"active-card":_e.id===r.value}),onItemClick:De=>ge(_e)},null,8,["item","onAdd","id","class","onItemClick"]))),128))])])]),c.value?(se(),Kt(q1,{key:0,initialLocationType:T.value,initialRadius:C.value,initialRegion:F.value,initialSubject:ai(l),initialGrade:ai(a),onClose:me[3]||(me[3]=_e=>c.value=!1),onComplete:Ae},null,8,["initialLocationType","initialRadius","initialRegion","initialSubject","initialGrade"])):rt("",!0),lt(X1,{selectedNavItem:h.value,onNavigate:we,class:"bottom-navbar-fixed"},null,8,["selectedNavItem"]),lt($s,{name:"fade"},{default:Hr(()=>[Se.value?(se(),ce("div",M9,[...me[10]||(me[10]=[A("div",{class:"spinner"},null,-1)])])):rt("",!0)]),_:1})]))}}),L9=wt(P9,[["__scopeId","data-v-78ec74ff"]]),R9={class:"border rounded-4 shadow-sm p-3",style:{"flex-shrink":"0",width:"340px"}},B9={class:"image-container"},U9={key:0,class:"card-badge"},V9=["src","alt"],$9={class:"content-frame d-flex flex-column flex-grow-1 gap-2 min-w-0"},j9={class:"d-flex justify-content-between align-items-center gap-1"},z9={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},G9={class:"text-frame d-flex flex-column gap-1 min-w-0"},H9={class:"d-flex align-items-center gap-1 min-w-0"},W9={class:"fw-bold m-0 text-truncate flex-grow-1 min-w-0"},X9={class:"d-flex flex-row align-items-center gap-2 min-w-0"},q9={class:"text-truncate flex-grow-1 min-w-0"},Y9={class:"hashtag-container"},K9={key:0,class:"more-tags"},Z9={class:"mt-3"},J9={key:0},Q9={class:"d-flex gap-3"},eU={class:"flex-shrink: 0"},tU=["src"],nU={class:"flex-grow-1 min-w-0 overflow-hidden"},rU={class:"fw-bold"},iU={class:"d-flex align-items-center mb-2",style:{color:"#FFC107"}},sU={class:"text-truncate"},oU={key:0,class:"d-flex gap-2 mt-2"},aU=["src"],lU={key:1,class:"text-secondary text-center p-4",style:{"font-size":"0.9rem","background-color":"#f8f9fa","border-radius":"8px"}},TE="https://storage.googleapis.com/science_book/",k0=2,uU={__name:"PlaceReviewCard",props:{item:{type:Object,required:!0}},emits:["add","item-click"],setup(n,{emit:t}){const r=n,i=t,s=Ut(()=>{const f=r.item.mainImageUrl||r.item.imageUrl;return f&&!f.startsWith("http")?TE+f:f}),o=Ut(()=>r.item.latestReview?.photoUrls?r.item.latestReview.photoUrls.map(f=>f&&!f.startsWith("http")?TE+f:f):[]),a=Ut(()=>r.item.hashtags?.slice(0,k0)||[]),l=Ut(()=>r.item.hashtags?.length>k0),u=Ut(()=>r.item.hashtags?.length-k0||0),h=()=>{i("item-click",r.item)},c=()=>{i("add",r.item)};return(f,d)=>(se(),ce("div",R9,[A("div",{class:"place-card d-flex flex-row bg-white align-items-center rounded-4 gap-3",style:{"font-family":"'SUIT' , sans-serif"},onClick:h},[A("div",B9,[n.item.badgeLabel?(se(),ce("div",U9,Be(n.item.badgeLabel),1)):rt("",!0),A("img",{src:s.value,alt:n.item.title,class:"map-thumbnail"},null,8,V9)]),A("div",$9,[A("div",j9,[A("div",z9,[lt(Ts,{text:n.item.subject||"",type:"subject"},null,8,["text"]),lt(Ts,{text:(n.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),A("button",{class:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center btn-add flex-shrink-0 ps-4",onClick:br(c,["stop"])},[...d[0]||(d[0]=[A("i",{class:"bi bi-plus fs-4"},null,-1)])])]),A("div",G9,[A("div",H9,[A("h5",W9,Be(n.item.title||""),1)]),A("div",X9,[A("span",q9,Be(n.item.place||""),1)]),A("div",Y9,[(se(!0),ce(at,null,Tt(a.value,p=>(se(),Kt(ja,{key:p,text:p},null,8,["text"]))),128)),l.value?(se(),ce("span",K9," +"+Be(u.value),1)):rt("",!0)])])])]),A("div",Z9,[d[1]||(d[1]=A("h6",{class:"fw-bold small mb-2"}," ",-1)),n.item.latestReview?(se(),ce("div",J9,[A("div",Q9,[A("div",eU,[A("img",{src:n.item.latestReview.authorProfileImageUrl||"https://placehold.co/48x48/e0e0e0/333?text=U",class:"rounded-circle",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,tU)]),A("div",nU,[A("div",rU,Be(n.item.latestReview.authorName)+"",1),A("div",iU,[(se(),ce(at,null,Tt(5,p=>A("i",{key:p,class:ht(["bi",p<=n.item.latestReview.rating?"bi-star-fill":"bi-star"]),style:Xn({color:p<=n.item.latestReview.rating?"#FFC107":"#e0e0e0"})},null,6)),64))]),A("p",sU,'"'+Be(n.item.latestReview.content)+'"',1)])]),o.value.length>0?(se(),ce("div",oU,[(se(),ce(at,null,Tt(5,p=>A("div",{key:p,class:"rounded-3 d-flex align-items-center justify-content-center text-secondary",style:{"background-color":"#e0e0e0",height:"60px","flex-basis":"0","flex-grow":"1",overflow:"hidden"}},[o.value[p-1]?(se(),ce("img",{key:0,src:o.value[p-1],alt:" ",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,aU)):rt("",!0)])),64))])):rt("",!0)])):(se(),ce("div",lU,"   . "))])]))}},cU=wt(uU,[["__scopeId","data-v-b581bd80"]]),IE={" 3":{"1":{:[{title:" ",description:" , , ,   .",simulationComponent:null}],:[],:[{title:"  ",description:" ,  "},{title:" ",description:" ,  ,   ,     ,     "},{title:"  ",description:"    "}],:[]},"2":{:[{title:" ",description:" ,  ,  ,  "}],:[{title:" ",description:" ,  ,  ,  "}],:[{title:"  ",description:"  :   "}],:[{title:"",description:" ,   , ,   , ,  "}]}}," 4":{"1":{:[{title:" ",description:"    ,    ,  , ",simulationComponent:"MagnetField"}],:[{title:" ",description:" ,  ,  ,  ",simulationComponent:"StatesOfMatter"}],:[{title:"  ",description:", ,  "},{title:"  ",description:", ,  "}],:[{title:"",description:"  ,  , ,   ",simulationComponent:"ColumnarJoint"}]},"2":{:[],:[{title:" ",description:" ,  ,  ,  "}],:[{title:" ",description:"   ,    ,  ",simulationComponent:"Ecosystem"}],:[{title:"",description:"  ,   , ,  "},{title:"  ",description:null}]}}," 5":{"1":{:[{title:" ",description:" ,   ,  ,  "}],:[{title:" ",description:", ,  ,   ,  "}],:[{title:"  ",description:" ,    , , , ,    "}],:[{title:" ",description:", ,  ,   "}]},"2":{:[{title:"",description:",  , "}],:[{title:" ",description:" "}],:[{title:" ",description:" ,  "}],:[{title:"",description:" , , , ,  "}]}}," 6":{"1":{:[{title:" ",description:" , ,  "}],:[{title:" ",description:" , ,  ,  "}],:[{title:"  ",description:", , ,   "}],:[{title:"",description:"   ,   ,   "}]},"2":{:[{title:" ",description:" ,   ,,  "}],:[{title:" ",description:",  "}],:[{title:" ",description:"   ,    ,  "}],:[{title:"",description:"  ,   "}]}}},hU="/team4_logo.png",fU={components:{FilterModal:q1,BottomNavbar:X1,PlaceReviewCard:cU},data(){return{allSubjects:IE}},setup(){const n=gi(),{user:t}=As(n),r=Dp(),{selectedGrade:i,selectedSubject:s}=As(r),o=bc(),a=Xe(!1),l=Xe(""),u=Xe("1"),h=Xe([]),c=Xe(!1),f=Xe([]),d=Xe([]),p=Ut(()=>t.value?.name?`${t.value.name} `:" "),m=E=>{const _=[],T=[];E.forEach(C=>{C.itemType==="exhibition"?_.push(C):C.itemType==="science_place"&&T.push(C)}),f.value=_,d.value=T},g=async()=>{console.log("==== Home API    ===="),c.value=!0,h.value=[],f.value=[],d.value=[];const E={searchType:"all",subject:s.value,grade:i.value};try{console.log("API  :",E);const _=await cn.get("/api/content/search",{params:E});if(_.data&&Array.isArray(_.data)){const T=await Promise.all(_.data.slice(0,20).map(async C=>{let F=null;C.itemType==="exhibition"&&(F="");try{const k=C.itemType;console.log(` : ${C.itemType}, ID: ${C.id}, : ${C.title}`),k||console.warn(`item.itemType . (ID: ${C.id})`);const D={targetId:C.id,targetType:k,page:1,size:1},M=(await cn.get("/api/reviews",{params:D})).data,U=M?.content?.[0]||null;let R=[];try{const W={targetId:C.id,targetType:k,limit:3},{data:ne}=await cn.get("/api/reviews/photos-summary",{params:W});R=Array.isArray(ne)?ne:[]}catch(W){console.warn("   :",W)}return{...C,badgeLabel:F,totalReviews:M?.totalElements||0,totalPages:M?.totalPages||0,latestReview:U?{reviewId:U.reviewId,authorName:U.authorName,authorProfileImageUrl:U.authorProfileImageUrl,rating:U.rating,content:U.content,createdAt:U.createdAt,photoUrls:U.photoUrls||[]}:null,photoThumbnails:R,averageRating:C.averageRating||0}}catch(k){return console.warn("  :",k),{...C,latestReview:null,totalReviews:0,photoThumbnails:[],averageRating:C.averageRating||0}}}));h.value=T,console.log("   :",T.length),m(T),console.log("====   ====")}else console.error("API   :",_.data),h.value=[],f.value=[],d.value=[]}catch(_){console.error("Home API   :",_),ct.emit("show-global-alert",{message:"     .",type:"error"}),h.value=[],f.value=[],d.value=[]}finally{c.value=!1,console.log("==== Home API   ====")}};xr(()=>{g()});const v=Ut(()=>{let E=i.value;[" 3"," 4"," 5"," 6"].includes(E)||(E=" 3");const _=s.value,T=IE[E];if(!T)return[{semester:" ",units:[]}];const C=T["1"][_]||[],F=T["2"][_]||[];return[{semester:`${E} 1 - ${_}`,units:C},{semester:`${E} 2 - ${_}`,units:F}]});return{user:t,userName:p,isModalOpen:a,selectedSubject:s,selectedGrade:i,selectedNavItem:l,chalkboardContent:v,selectedSemester:u,displayedItems:h,isSearching:c,exhibitionItems:f,fieldTripItems:d,goToDetail:E=>{console.log("  :",E.title),E.itemType==="exhibition"?o.push({path:`/exhibition/${E.id}`,query:{mainCategoryTags:E.subject&&E.subject.length>0?E.subject:null,subCategoryTags:E.hashtags,gradeTags:E.grade}}):o.push({path:`/place/${E.id}`,query:{mainCategoryTags:E.subject&&E.subject.length>0?E.subject:null,subCategoryTags:E.hashtags,gradeTags:E.grade}})},goToMyPage:()=>{if(!t.value){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{o.push({name:"login"})}});return}console.log(" "),o.push("/mypage")},handleFilterComplete:E=>{console.log("  :",E),r.setFilter(E.grade,E.subject),console.log("  :",r.selectedGrade),console.log("  :",r.selectedSubject),a.value=!1,g()},handleNavigation:E=>{if(console.log(E,"."),l.value=E,E===""&&!t.value){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{o.push({name:"login"})}});return}E===""?o.push("/home"):E===""?o.push("/list"):E===""?o.push("/map"):E===""?o.push("/usercourselist"):E===""&&o.push("/mypage")},goToAiTutor:()=>{if(!t.value){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{o.push({name:"login"})}});return}o.push("/aitutor")}}}},dU={class:"home-root d-flex flex-column h-100 bg-white",style:{"font-family":"'SUIT', sans-serif"}},pU={class:"home-header"},mU={class:"home-scroll flex-grow-1"},gU={class:"home-section home-section--profile"},vU=["aria-label"],yU={class:"profile-avatar"},bU=["src"],xU={key:1,class:"profile-avatar-fallback"},_U={class:"profile-info"},wU={class:"profile-name"},EU={class:"profile-status"},SU={class:"home-section home-section--chalkboard"},CU={class:"chalkboard-frame"},AU={class:"chalkboard-text"},TU={class:"chalkboard-header"},IU={class:"chalkboard-tabs"},DU={key:0},NU={class:"chalkboard-heading title"},FU={key:0,class:"chalkboard-list"},kU={class:"index"},MU={key:0,class:"chalkboard-description"},OU={key:1,class:"chalkboard-no-data"},PU={class:"home-section-carousel"},LU={class:"card-carousel-wrapper"},RU={class:"card-carousel-container"},BU={key:0,class:"loading-state"},UU={key:1,class:"empty-state"},VU={key:2,class:"card-row"},$U={class:"home-section-carousel"},jU={class:"card-carousel-wrapper"},zU={class:"card-carousel-container"},GU={key:0,class:"loading-state"},HU={key:1,class:"empty-state"},WU={key:2,class:"card-row"},XU={class:"bottom-navbar-wrapper"};function qU(n,t,r,i,s,o){const a=Pt("PlaceReviewCard"),l=Pt("BottomNavbar"),u=Pt("FilterModal");return se(),ce("div",dU,[A("div",pU,[t[9]||(t[9]=A("div",{class:"header-left-group"},[A("img",{src:hU,class:"header-logo",alt:" "})],-1)),A("button",{class:"ai-tutor-button",onClick:t[0]||(t[0]=(...h)=>i.goToAiTutor&&i.goToAiTutor(...h))},[...t[8]||(t[8]=[A("i",{class:"bi bi-robot"},null,-1),A("span",null,"AI ",-1)])])]),A("div",mU,[A("div",gU,[A("div",{class:"profile-card",role:"button",tabindex:"0",onKeydown:t[4]||(t[4]=V1(h=>i.goToMyPage(),["enter"])),"aria-label":`${i.userName}  `},[A("div",yU,[i.user?.profileImageUrl?(se(),ce("img",{key:0,src:i.user.profileImageUrl,alt:" ",class:"profile-image",onClick:t[1]||(t[1]=h=>i.goToMyPage())},null,8,bU)):(se(),ce("div",xU,[...t[10]||(t[10]=[A("i",{class:"bi bi-person-fill"},null,-1)])]))]),A("div",_U,[t[15]||(t[15]=A("div",{class:"profile-greeting"},"",-1)),A("div",wU,Be(i.userName),1),A("div",EU,[A("button",{type:"button",class:"profile-pill",onClick:t[2]||(t[2]=br(h=>i.isModalOpen=!0,["stop","prevent"]))},[At(Be(i.selectedGrade)+" ",1),t[11]||(t[11]=A("i",{class:"bi bi-chevron-down"},null,-1))]),t[13]||(t[13]=A("span",{class:"status-dot"},"",-1)),A("button",{type:"button",class:"profile-pill",onClick:t[3]||(t[3]=br(h=>i.isModalOpen=!0,["stop","prevent"]))},[At(Be(i.selectedSubject)+" ",1),t[12]||(t[12]=A("i",{class:"bi bi-chevron-down"},null,-1))]),t[14]||(t[14]=A("span",{class:"status-text"},"   .",-1))])])],40,vU),t[16]||(t[16]=A("p",{class:"profile-helper"},"*  ",-1))]),t[26]||(t[26]=A("div",{class:"home-section-header home-section-header--chalkboard"},[A("h5",{class:"section-title"},"   ")],-1)),A("div",SU,[A("div",CU,[A("div",AU,[A("div",TU,[A("div",IU,[A("button",{type:"button",class:ht(["chalkboard-tab-button",{active:i.selectedSemester==="1"}]),onClick:t[5]||(t[5]=h=>i.selectedSemester="1")}," 1 ",2),A("button",{type:"button",class:ht(["chalkboard-tab-button",{active:i.selectedSemester==="2"}]),onClick:t[6]||(t[6]=h=>i.selectedSemester="2")}," 2 ",2)])]),(se(!0),ce(at,null,Tt(i.chalkboardContent,h=>(se(),ce("div",{key:h.semester},[i.selectedSemester==="1"&&h.semester.includes("1")||i.selectedSemester==="2"&&h.semester.includes("2")?(se(),ce("div",DU,[A("h6",NU,Be(h.semester),1),h.units.length>0?(se(),ce("ul",FU,[(se(!0),ce(at,null,Tt(h.units,(c,f)=>(se(),ce("li",{key:c.title},[A("span",null,[A("span",kU,Be(f+1),1),A("span",null,Be(c.title),1)]),c.description?(se(),ce("div",MU,Be(c.description),1)):rt("",!0)]))),128))])):(se(),ce("p",OU,[At(Be(i.selectedSemester)+"  !",1),t[17]||(t[17]=A("br",null,null,-1)),t[18]||(t[18]=At("   ? ",-1))]))])):rt("",!0)]))),128))]),t[19]||(t[19]=A("div",{class:"chalkboard-shelf"},[A("span",{class:"chalk-piece"}),A("span",{class:"chalk-piece brand-soft"}),A("span",{class:"chalk-eraser"})],-1))])]),t[27]||(t[27]=A("div",{class:"home-section-header"},[A("h5",{class:"section-title"},"   ")],-1)),A("div",PU,[A("div",LU,[A("div",RU,[i.isSearching?(se(),ce("div",BU,[...t[20]||(t[20]=[A("div",{class:"spinner-border text-primary loading-spinner",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"loading-text"},"   ...",-1)])])):i.exhibitionItems.length===0?(se(),ce("div",UU,[...t[21]||(t[21]=[A("i",{class:"bi bi-inbox empty-icon"},null,-1),A("p",{class:"empty-text-main"},"   ",-1),A("p",{class:"empty-text-sub"},"   ",-1)])])):(se(),ce("div",VU,[(se(!0),ce(at,null,Tt(i.exhibitionItems,h=>(se(),Kt(a,{key:h.id,item:h,onAdd:c=>i.goToDetail(h,""),onItemClick:c=>i.goToDetail(h,"")},null,8,["item","onAdd","onItemClick"]))),128))]))]),t[22]||(t[22]=A("div",{class:"scroll-hint-gradient"},null,-1))])]),t[28]||(t[28]=A("div",{class:"home-section-header"},[A("h5",{class:"section-title"},"  ")],-1)),A("div",$U,[A("div",jU,[A("div",zU,[i.isSearching?(se(),ce("div",GU,[...t[23]||(t[23]=[A("div",{class:"spinner-border text-primary loading-spinner",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"loading-text"},"   ...",-1)])])):i.fieldTripItems.length===0?(se(),ce("div",HU,[...t[24]||(t[24]=[A("i",{class:"bi bi-inbox empty-icon"},null,-1),A("p",{class:"empty-text-main"},"   ",-1),A("p",{class:"empty-text-sub"},"   ",-1)])])):(se(),ce("div",WU,[(se(!0),ce(at,null,Tt(i.fieldTripItems,h=>(se(),Kt(a,{key:h.id,item:h,onAdd:c=>i.goToDetail(h,""),onItemClick:c=>i.goToDetail(h,"")},null,8,["item","onAdd","onItemClick"]))),128))]))]),t[25]||(t[25]=A("div",{class:"scroll-hint-gradient"},null,-1))])])]),A("div",XU,[lt(l,{selectedNavItem:i.selectedNavItem,onNavigate:i.handleNavigation},null,8,["selectedNavItem","onNavigate"])]),i.isModalOpen?(se(),Kt(u,{key:0,initialSubject:i.selectedSubject,initialGrade:i.selectedGrade,onClose:t[7]||(t[7]=h=>i.isModalOpen=!1),onComplete:i.handleFilterComplete,showLocationOptions:!1},null,8,["initialSubject","initialGrade","onComplete"])):rt("",!0)])}const YU=wt(fU,[["render",qU],["__scopeId","data-v-2008c377"]]),KU={name:"SettingsModal",props:{show:{type:Boolean,default:!1},isLoggedIn:{type:Boolean,default:!1}},emits:["logout","withdraw","close","login"],methods:{onMainButtonClick(){this.isLoggedIn?this.$emit("logout"):this.$emit("login"),this.$emit("close")},onWithdrawClick(){this.$emit("withdraw"),this.$emit("close")},close(){this.$emit("close")}}},ZU={class:"modal-dialog modal-dialog-centered"},JU={class:"modal-content border-0"},QU={class:"modal-body text-center p-4"};function e7(n,t,r,i,s,o){return r.show?(se(),ce("div",{key:0,class:"modal-overlay",style:{"font-family":"'SUIT', sans-serif"},onClick:t[2]||(t[2]=br((...a)=>o.close&&o.close(...a),["self"]))},[A("div",ZU,[A("div",JU,[A("div",QU,[t[3]||(t[3]=A("h5",{class:"fw-bold text-dark mb-4",id:"settingsModalLabel"},"",-1)),A("button",{type:"button",class:"btn btn-primary w-100 p-3 fw-bold mb-3 rounded-pill modal-logout-btn",onClick:t[0]||(t[0]=(...a)=>o.onMainButtonClick&&o.onMainButtonClick(...a))},Be(r.isLoggedIn?"":""),1),A("button",{type:"button",class:"btn btn-outline-primary w-100 p-3 fw-bold rounded-pill modal-withdraw-btn",onClick:t[1]||(t[1]=(...a)=>o.onWithdrawClick&&o.onWithdrawClick(...a))},"  ")])])])])):rt("",!0)}const t7=wt(KU,[["render",e7],["__scopeId","data-v-4ce092b6"]]),n7={name:"MyPageView",components:{SettingsModal:t7,BottomNavbar:X1},setup(){const n=gi(),{user:t,isLoggedIn:r}=As(n);return{authStore:n,user:t,isLoggedIn:r}},data(){return{isSettingsModalOpen:!1,selectedNavItem:""}},methods:{goBack(){this.$router.back()},handleNavigation(n){if(console.log(n,"."),this.selectedNavItem=n,n===""&&!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}n===""?this.$router.push("/home"):n===""?this.$router.push("/list"):n===""?this.$router.push("/map"):n===""&&this.$router.push("/usercourselist")},goToAccountView(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"AccountView"})},goToStampPage(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"stamp"})},showSettingsModal(){this.isSettingsModalOpen=!0},goToLoginView(){this.$router.push({name:"login"}),this.isSettingsModalOpen=!1},goToLikePlace(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"LikePlace"})},goToUserLikeCouseList(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"UserLikeCourseList"})},goToNotice(){this.$router.push({name:"Notice"})},handleLogout(){console.log("MyPageView   "),this.authStore.logout(),this.isSettingsModalOpen=!1,this.$router.replace({name:"Home"}),console.log("    ")},async handleWithdraw(){if(confirm("  ?       .")){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}}),this.isSettingsModalOpen=!1,this.$router.push({name:"login"});return}try{(await cn.delete("/user/withdraw")).status===204&&(ct.emit("show-global-alert",{message:"  .   ",type:"error"}),this.handleLogout())}catch(n){console.error("  :",n)}}}}},r7={class:"mypage-root d-flex flex-column h-100 bg-white",style:{"font-family":"'SUIT', sans-serif"}},i7={class:"mypage-header d-flex justify-content-between align-items-center"},s7={class:"header-left",style:{flex:"1"}},o7={class:"mypage-scroll flex-grow-1"},a7={class:"mypage-section mypage-section--profile"},l7={class:"mypage-profile-card"},u7={class:"profile-avatar-wrapper"},c7={class:"profile-avatar"},h7=["src"],f7={key:1,class:"profile-avatar-fallback"},d7={class:"profile-info"},p7={class:"profile-name"},m7={class:"profile-greeting"},g7={class:"mypage-section"},v7={class:"mypage-card-grid"},y7={class:"mypage-section"},b7={class:"mypage-list"},x7={class:"mypage-section"},_7={class:"mypage-list"},w7={class:"mypage-section"},E7={class:"mypage-list"},S7={class:"list-left"},C7={class:"list-text-main"};function A7(n,t,r,i,s,o){const a=Pt("BottomNavbar"),l=Pt("SettingsModal");return se(),ce("div",r7,[A("div",i7,[A("div",s7,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...u)=>o.goBack&&o.goBack(...u))})]),t[8]||(t[8]=A("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center","font-size":"1rem","font-weight":"700",color:"#111827"}},"  ",-1)),t[9]||(t[9]=A("div",{class:"header-right d-flex justify-content-end",style:{flex:"1"}},null,-1))]),A("div",o7,[A("section",a7,[A("div",l7,[A("div",u7,[A("div",c7,[i.user?.profileImageUrl?(se(),ce("img",{key:0,src:i.user.profileImageUrl,alt:"",class:"profile-image"},null,8,h7)):(se(),ce("div",f7,[...t[10]||(t[10]=[A("i",{class:"bi bi-person-fill",style:{"font-size":"2rem"}},null,-1)])]))]),A("button",{class:"profile-settings-badge",onClick:t[1]||(t[1]=(...u)=>o.goToAccountView&&o.goToAccountView(...u))},[...t[11]||(t[11]=[A("i",{class:"bi bi-gear-fill"},null,-1)])])]),A("div",d7,[A("div",p7,Be(i.user?.name||" "),1),A("div",m7,Be(i.user?.email||" "),1)])])]),A("section",g7,[t[14]||(t[14]=A("div",{class:"mypage-section-header"},[A("h5",{class:"mypage-section-title"},"  ")],-1)),A("div",v7,[A("button",{type:"button",class:"mypage-card mypage-card--stamp",onClick:t[2]||(t[2]=(...u)=>o.goToStampPage&&o.goToStampPage(...u))},[...t[12]||(t[12]=[pi('<div class="card-icon-wrap" data-v-fb0a59d2><i class="bi bi-crosshair" data-v-fb0a59d2></i></div><div class="card-text-wrap" data-v-fb0a59d2><div class="card-title" data-v-fb0a59d2> </div><div class="card-sub" data-v-fb0a59d2>   <br data-v-fb0a59d2>    </div></div>',2)])]),A("button",{type:"button",class:"mypage-card mypage-card--route",onClick:t[3]||(t[3]=(...u)=>o.goToUserLikeCouseList&&o.goToUserLikeCouseList(...u))},[...t[13]||(t[13]=[pi('<div class="card-icon-wrap" data-v-fb0a59d2><i class="bi bi-bookmark-plus-fill" data-v-fb0a59d2></i></div><div class="card-text-wrap" data-v-fb0a59d2><div class="card-title" data-v-fb0a59d2>  </div><div class="card-sub" data-v-fb0a59d2>      <br data-v-fb0a59d2>  </div></div>',2)])])])]),A("section",y7,[t[16]||(t[16]=A("div",{class:"mypage-section-header"},[A("h5",{class:"mypage-section-title"}," ")],-1)),A("ul",b7,[A("li",{class:"mypage-list-item",onClick:t[4]||(t[4]=(...u)=>o.goToLikePlace&&o.goToLikePlace(...u))},[...t[15]||(t[15]=[pi('<div class="list-left" data-v-fb0a59d2><span class="list-icon heart" data-v-fb0a59d2><i class="bi bi-heart-fill" data-v-fb0a59d2></i></span><span class="list-text-main" data-v-fb0a59d2> </span></div><i class="bi bi-chevron-right list-chevron" data-v-fb0a59d2></i>',2)])])])]),A("section",x7,[t[18]||(t[18]=A("div",{class:"mypage-section-header"},[A("h5",{class:"mypage-section-title"},"")],-1)),A("ul",_7,[A("li",{class:"mypage-list-item",onClick:t[5]||(t[5]=(...u)=>o.goToNotice&&o.goToNotice(...u))},[...t[17]||(t[17]=[pi('<div class="list-left" data-v-fb0a59d2><span class="list-icon bell" data-v-fb0a59d2><i class="bi bi-bell-fill" data-v-fb0a59d2></i></span><span class="list-text-main" data-v-fb0a59d2></span></div><i class="bi bi-chevron-right list-chevron" data-v-fb0a59d2></i>',2)])])])]),A("section",w7,[t[21]||(t[21]=A("div",{class:"mypage-section-header"},[A("h5",{class:"mypage-section-title"},"")],-1)),A("ul",E7,[A("li",{class:"mypage-list-item",onClick:t[6]||(t[6]=(...u)=>o.showSettingsModal&&o.showSettingsModal(...u))},[A("div",S7,[t[19]||(t[19]=A("span",{class:"list-icon gear"},[A("i",{class:"bi bi-gear-fill"})],-1)),A("span",C7,Be(i.isLoggedIn?" / ":" / "),1)]),t[20]||(t[20]=A("i",{class:"bi bi-chevron-right list-chevron"},null,-1))])])])]),lt(a,{selectedNavItem:s.selectedNavItem,onNavigate:o.handleNavigation,style:{"flex-shrink":"0"}},null,8,["selectedNavItem","onNavigate"]),lt(l,{show:s.isSettingsModalOpen,isLoggedIn:i.isLoggedIn,onClose:t[7]||(t[7]=u=>s.isSettingsModalOpen=!1),onLogout:o.handleLogout,onWithdraw:o.handleWithdraw,onLogin:o.goToLoginView},null,8,["show","isLoggedIn","onLogout","onWithdraw","onLogin"])])}const T7=wt(n7,[["render",A7],["__scopeId","data-v-fb0a59d2"]]),I7={name:"AccountSettingsView",setup(){const n=gi(),{user:t,isLoggedIn:r}=As(n);return{authStore:n,user:t,isLoggedIn:r}},data(){return{localUser:{loginId:"",name:"",email:"",phoneNumber:"",gender:"",region:"",childGrade:""},childGrades:[" 3"," 4"," 5"," 6"],selectedFile:null,imagePreviewUrl:null}},created(){this.initializeFormFromPinia(),this.user&&this.user.profileImageUrl&&(this.imagePreviewUrl=this.user.profileImageUrl)},methods:{goBack(){this.$router.back()},triggerFileUpload(){this.$refs.fileInput.click()},onFileSelected(n){const t=n.target.files[0];if(!t)return;this.selectedFile=t;const r=new FileReader;r.onload=i=>{this.imagePreviewUrl=i.target.result},r.readAsDataURL(t)},initializeFormFromPinia(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.user?(this.localUser.loginId=this.user.loginId||"",this.localUser.name=this.user.name||"",this.localUser.email=this.user.email||"",this.localUser.phoneNumber=this.user.phoneNumber||"",this.localUser.gender=this.user.gender||"",this.localUser.region=this.user.region||"",this.localUser.childGrade=this.user.childGrade||""):ct.emit("show-global-confirm",{message:"    .  .",onConfirm:()=>{this.$router.push({name:"login"})}})},async handleUpdate(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .   .",onConfirm:()=>{this.$router.push({name:"login"})}});return}const n={name:this.localUser.name,email:this.localUser.email,phoneNumber:this.localUser.phoneNumber,gender:this.localUser.gender,region:this.localUser.region,childGrade:this.localUser.childGrade,loginId:this.localUser.loginId},t=new FormData;t.append("dto",new Blob([JSON.stringify(n)],{type:"application/json"})),this.selectedFile&&t.append("profileImage",this.selectedFile,this.selectedFile.name);try{await this.authStore.updateUser(t),ct.emit("show-global-alert",{message:"   .",type:"success"}),this.goBack()}catch(r){console.error("  :",r);const i=r?.response?.data?.message||r?.response?.data||"       .";alert(`  : ${i}`)}},selectGender(n){this.localUser.gender=n==="male"?"":""},selectChildGrade(n){this.localUser.childGrade=n}}},D7={class:"mypage-root d-flex flex-column h-100 bg-white",style:{"font-family":"'SUIT', sans-serif"}},N7={class:"mypage-header d-flex justify-content-between align-items-center"},F7={class:"header-left",style:{flex:"1"}},k7={class:"mypage-scroll flex-grow-1"},M7={class:"d-flex justify-content-center my-4"},O7={class:"position-relative"},P7={class:"profile-pic rounded-circle d-flex align-items-center justify-content-center bg-body-secondary text-secondary"},L7=["src"],R7={key:1,class:"bi bi-emoji-smile",style:{"font-size":"3rem"}},B7={class:"form-group mb-3"},U7={class:"form-group mb-3"},V7={class:"form-group mb-3"},$7={class:"form-group mb-3"},j7={class:"form-group mb-3"},z7={class:"d-flex gap-3"},G7={class:"form-group mb-3"},H7={class:"form-group mb-3"},W7={class:"btn-group w-100 dropup"},X7={class:"dropdown-menu w-100 custom-dropdown-menu"},q7=["onClick"];function Y7(n,t,r,i,s,o){return se(),ce("div",D7,[A("div",N7,[A("div",F7,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))})]),t[11]||(t[11]=A("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center","font-size":"1rem","font-weight":"700",color:"#111827"}},"  ",-1)),t[12]||(t[12]=A("div",{class:"header-right d-flex justify-content-end",style:{flex:"1"}},null,-1))]),A("div",k7,[A("div",M7,[A("div",O7,[A("div",P7,[s.imagePreviewUrl?(se(),ce("img",{key:0,src:s.imagePreviewUrl,alt:" ",class:"profile-pic-image"},null,8,L7)):(se(),ce("i",R7))]),A("button",{class:"btn btn-primary rounded-circle p-0 position-absolute profile-badge d-flex align-items-center justify-content-center",onClick:t[1]||(t[1]=(...a)=>o.triggerFileUpload&&o.triggerFileUpload(...a))},[...t[13]||(t[13]=[A("i",{class:"bi bi-plus-lg"},null,-1)])])])]),A("input",{type:"file",ref:"fileInput",onChange:t[2]||(t[2]=(...a)=>o.onFileSelected&&o.onFileSelected(...a)),accept:"image/*",style:{display:"none"}},null,544),A("form",{onSubmit:t[10]||(t[10]=br((...a)=>o.handleUpdate&&o.handleUpdate(...a),["prevent"]))},[A("div",B7,[t[14]||(t[14]=A("label",{for:"login-id",class:"form-label"}," ",-1)),sn(A("input",{type:"text",class:"form-control",id:"login-id","onUpdate:modelValue":t[3]||(t[3]=a=>s.localUser.loginId=a),disabled:""},null,512),[[nr,s.localUser.loginId]])]),A("div",U7,[t[15]||(t[15]=A("label",{for:"username",class:"form-label"}," ",-1)),sn(A("input",{type:"text",class:"form-control",id:"username",placeholder:"  ","onUpdate:modelValue":t[4]||(t[4]=a=>s.localUser.name=a)},null,512),[[nr,s.localUser.name]])]),A("div",V7,[t[16]||(t[16]=A("label",{for:"email",class:"form-label"},"",-1)),sn(A("input",{type:"email",class:"form-control",id:"email",placeholder:" ","onUpdate:modelValue":t[5]||(t[5]=a=>s.localUser.email=a)},null,512),[[nr,s.localUser.email]])]),A("div",$7,[t[17]||(t[17]=A("label",{for:"phone",class:"form-label"}," ",-1)),sn(A("input",{type:"tel",class:"form-control",id:"phone",placeholder:"  ","onUpdate:modelValue":t[6]||(t[6]=a=>s.localUser.phoneNumber=a)},null,512),[[nr,s.localUser.phoneNumber]])]),A("div",j7,[t[18]||(t[18]=A("label",{class:"form-label"},"",-1)),A("div",z7,[A("button",{type:"button",class:ht(["btn w-100",s.localUser.gender===""?"btn-gender-fill":"btn-gender-outline"]),onClick:t[7]||(t[7]=a=>o.selectGender("male"))},"",2),A("button",{type:"button",class:ht(["btn w-100",s.localUser.gender===""?"btn-gender-fill":"btn-gender-outline"]),onClick:t[8]||(t[8]=a=>o.selectGender("female"))},"",2)])]),A("div",G7,[t[19]||(t[19]=A("label",{for:"region",class:"form-label"},"",-1)),sn(A("input",{type:"text",class:"form-control",id:"region",placeholder:" ","onUpdate:modelValue":t[9]||(t[9]=a=>s.localUser.region=a)},null,512),[[nr,s.localUser.region]])]),A("div",H7,[t[20]||(t[20]=A("label",{for:"child-grade",class:"form-label d-flex justify-content-between align-items-center"},[A("span",{class:"fw-medium"}," ()"),A("small",{class:"text-muted fw-normal"},"(    .)")],-1)),A("div",W7,[A("button",{type:"button",class:ht(["btn dropdown-toggle w-100 dropup-btn",{"btn-selected":s.localUser.childGrade}]),"data-bs-toggle":"dropdown","aria-expanded":"false"},Be(s.localUser.childGrade||"  "),3),A("ul",X7,[(se(!0),ce(at,null,Tt(s.childGrades,a=>(se(),ce("li",{key:a},[A("a",{class:ht(["dropdown-item",{active:s.localUser.childGrade===a}]),href:"#",onClick:br(l=>o.selectChildGrade(a),["prevent"])},Be(a),11,q7)]))),128))])])]),t[21]||(t[21]=A("div",{class:"mt-4 mb-4"},[A("button",{type:"submit",class:"btn btn-primary w-100 py-3 fw-bold submit-btn"},"")],-1))],32)])])}const K7=wt(I7,[["render",Y7],["__scopeId","data-v-7ed601f1"]]),Z7={class:"chat-page-container d-flex flex-column vh-100",style:{"font-family":"'SUIT', sans-serif"}},J7={class:"voice-interaction-body flex-grow-1 d-flex flex-column align-items-center text-center p-4"},Q7={key:0,class:"chat-message ai"},eV={class:"chat-bubble status"},tV={class:"voice-control-area d-flex align-items-center justify-content-center p-4 bg-white flex-shrink-0"},nV=["disabled"],rV={__name:"ChatView",setup(n){const t=gi(),{user:r}=As(t),i=bc(),s=()=>{u.value&&(u.value.pause(),u.value.currentTime=0,u.value=null),c.value&&c.value.state==="recording"&&(c.value.stop(),c.value.stream&&c.value.stream.getTracks().forEach(C=>C.stop())),d.value&&d.value.state!=="closed"&&d.value.close(),g.value&&(cancelAnimationFrame(g.value),g.value=null),i.push("/home")},o=Xe("idle"),a=Xe([{sender:"ai",text:`!  . 
   !`}]),l=Xe(""),u=Xe(null),h=Xe(null),c=Xe(null),f=Xe([]),d=Xe(null),p=Xe(null),m=Xe(null),g=Xe(null),v=Xe(0);fs(()=>{u.value&&(u.value.pause(),u.value=null),c.value&&c.value.stream&&c.value.stream.getTracks().forEach(C=>C.stop()),d.value&&d.value.state!=="closed"&&d.value.close(),g.value&&cancelAnimationFrame(g.value)});const S=()=>{o.value==="listening"?b():(o.value==="idle"||o.value==="speaking")&&(u.value&&(u.value.pause(),u.value.currentTime=0),l.value="",y())},y=async()=>{try{const C=await navigator.mediaDevices.getUserMedia({audio:!0});c.value=new MediaRecorder(C,{mimeType:"audio/webm"}),c.value.ondataavailable=F=>f.value.push(F.data),c.value.start(),d.value=new(window.AudioContext||window.webkitAudioContext),p.value=d.value.createAnalyser(),m.value=d.value.createMediaStreamSource(C),m.value.connect(p.value),p.value.fftSize=256,x(),console.log("Real recording started..."),o.value="listening",l.value=" ! ~"}catch(C){console.error("Error starting recording:",C),l.value="!    ."}},x=()=>{if(!p.value)return;const C=p.value.frequencyBinCount,F=new Uint8Array(C);p.value.getByteFrequencyData(F);let k=0;for(let N=0;N<C;N++)k+=F[N];let D=k/C;v.value=Math.min(D/60,1)*100,g.value=requestAnimationFrame(x)},b=()=>{c.value&&(g.value&&(cancelAnimationFrame(g.value),g.value=null),console.log("Real recording stopped. Sending to server..."),o.value="processing",l.value="...  !",c.value.onstop=async()=>{const C=new Blob(f.value,{type:"audio/webm"});f.value=[];const F=new FormData;F.append("audio",C,"recording.webm"),c.value&&c.value.stream&&c.value.stream.getTracks().forEach(k=>k.stop()),d.value&&d.value.state!=="closed"&&d.value.close(),v.value=0;try{const D=await cn.post("https://science-book-backend-392637347057.asia-northeast3.run.app/api/voice-query",F,{headers:{"Content-Type":"multipart/form-data"}}),{userTranscript:N,aiResponseText:M,aiResponseAudio:U}=D.data;l.value="",!N&&M.includes("   ")?a.value.push({sender:"ai",text:M}):(a.value.push({sender:"user",text:N}),a.value.push({sender:"ai",text:M})),o.value="speaking",u.value=new Audio(U),u.value.play(),u.value.onended=()=>{o.value="idle",l.value="   ?"}}catch(k){console.error("Error sending audio:",k),o.value="idle",l.value=`!   . 
  ?`}},c.value.stop())},w=()=>{switch(o.value){case"listening":return"bi-ear-fill";case"processing":return"bi-hourglass-top";case"speaking":return"bi-emoji-sunglasses-fill";case"idle":default:return"bi-emoji-smile-fill"}},E=()=>{switch(o.value){case"listening":return"btn-speak-stop";case"idle":case"speaking":return"btn-speak-go";case"processing":default:return"btn-speak-disabled"}},_=Ut(()=>o.value!=="listening"?{transform:"scale(1)"}:{transform:`scale(${1.1+v.value/100*.3})`}),T=async()=>{await Ji();const C=h.value;C&&(C.scrollTop=C.scrollHeight)};return Wi(a,T,{deep:!0}),Wi(l,T),(C,F)=>(se(),ce("div",Z7,[A("div",{class:"chat-header d-flex justify-content-between align-items-center p-3 flex-shrink-0"},[F[1]||(F[1]=A("div",{class:"header-left"},null,-1)),F[2]||(F[2]=A("div",{class:"header-center fw-bold fs-6"}," AI  ",-1)),A("div",{class:"header-right",onClick:s},[...F[0]||(F[0]=[A("i",{class:"bi bi-x-lg fs-5",style:{cursor:"pointer",color:"#555"}},null,-1)])])]),A("div",J7,[A("div",{class:ht(["ai-character-bubble flex-shrink-0",o.value])},[A("div",{class:"ai-character",style:Xn(_.value)},[A("i",{class:ht(["bi",w()])},null,2)],4)],2),A("div",{class:"chat-history-container",ref_key:"chatHistoryRef",ref:h},[(se(!0),ce(at,null,Tt(a.value,(k,D)=>(se(),ce("div",{key:D,class:ht(["chat-message",k.sender])},[A("div",{class:ht(["chat-bubble",k.sender])},Be(k.text),3)],2))),128)),l.value?(se(),ce("div",Q7,[A("div",eV,Be(l.value),1)])):rt("",!0)],512)]),A("div",tV,[A("button",{class:ht(["btn btn-lg rounded-circle d-flex justify-content-center align-items-center shadow",E()]),onClick:S,disabled:o.value==="processing"},[A("i",{class:ht(["bi fs-1",o.value==="listening"?"bi-stop-fill":"bi-mic-fill"])},null,2)],10,nV)])]))}},iV=wt(rV,[["__scopeId","data-v-be59d634"]]),sV={name:"ExhibitionAccordion",props:{title:{type:String,required:!0},isActive:{type:Boolean,default:!1},previewImageUrl:{type:String,default:null}},emits:["toggle","open-modal"]},oV={class:"mb-3"},aV={class:"fw-bold"},lV={key:0,class:"bg-white border border-top-0 rounded-bottom p-3"},uV={key:0,class:"mb-3"},cV=["src","alt"],hV={key:1,class:"map-placeholder bg-light rounded mb-3 d-flex align-items-center justify-content-center",style:{height:"200px"}},fV={class:"text-center"};function dV(n,t,r,i,s,o){return se(),ce("div",oV,[A("button",{class:"btn btn-white w-100 d-flex justify-content-between align-items-center border rounded p-3",type:"button",onClick:t[0]||(t[0]=a=>n.$emit("toggle"))},[A("span",aV,Be(r.title),1),A("i",{class:ht(["bi",r.isActive?"bi-chevron-down":"bi-chevron-right"])},null,2)]),r.isActive?(se(),ce("div",lV,[r.previewImageUrl?(se(),ce("div",uV,[A("img",{src:r.previewImageUrl,alt:`${r.title} `,class:"accordion-map-image rounded"},null,8,cV)])):(se(),ce("div",hV,[...t[2]||(t[2]=[A("span",{class:"text-muted"}," ",-1)])])),A("div",fV,[A("button",{class:"btn btn-primary rounded-pill px-4",onClick:t[1]||(t[1]=a=>n.$emit("open-modal"))},"  ")])])):rt("",!0)])}const pV=wt(sV,[["render",dV],["__scopeId","data-v-a441fc00"]]),mV={name:"FloorGuideModal",props:{show:{type:Boolean,default:!1},hallName:{type:String,required:!0},floorGuides:{type:Array,default:()=>[]}},emits:["close","floor-change"],data(){return{currentFloorIndex:0,touchStartX:0,touchEndX:0,mouseStartX:0,mouseEndX:0,isDragging:!1}},watch:{show(n){n?(this.currentFloorIndex=0,document.body.style.overflow="hidden"):document.body.style.overflow="auto"},floorGuides(){this.currentFloorIndex=0}},methods:{closeModal(){this.$emit("close")},goToFloor(n){this.currentFloorIndex=n,this.$emit("floor-change",n)},handleTouchStart(n){this.touchStartX=n.touches[0].clientX},handleTouchMove(n){this.touchEndX=n.touches[0].clientX},handleTouchEnd(){if(this.floorGuides.length<=1)return;const n=this.touchStartX-this.touchEndX;Math.abs(n)>50&&(n>0&&this.currentFloorIndex<this.floorGuides.length-1?this.currentFloorIndex++:n<0&&this.currentFloorIndex>0&&this.currentFloorIndex--)},handleMouseDown(n){this.isDragging=!0,this.mouseStartX=n.clientX,document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},handleMouseMove(n){this.isDragging&&(this.mouseEndX=n.clientX)},handleMouseUp(){if(this.isDragging){if(this.floorGuides.length>1){const n=this.mouseStartX-this.mouseEndX;Math.abs(n)>50&&(n>0&&this.currentFloorIndex<this.floorGuides.length-1?this.currentFloorIndex++:n<0&&this.currentFloorIndex>0&&this.currentFloorIndex--)}this.isDragging=!1,document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}}},beforeUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.body.style.overflow="auto"}},gV={class:"modal-content"},vV={class:"modal-header bg-primary text-white p-3 d-flex align-items-center"},yV={class:"fw-bold flex-grow-1"},bV={key:0,class:"text-center py-3"},xV={class:"fw-bold mb-0"},_V={class:"slider-container"},wV=["src","alt"],EV={class:"indicators d-flex justify-content-center gap-2 py-3"},SV=["onClick"],CV={class:"floor-buttons d-flex justify-content-center gap-3 pb-3"},AV=["onClick"],TV={key:1,class:"text-center pb-3"};function IV(n,t,r,i,s,o){return r.show?(se(),ce("div",{key:0,class:"modal-overlay",onClick:t[6]||(t[6]=br((...a)=>o.closeModal&&o.closeModal(...a),["self"]))},[A("div",gV,[A("div",vV,[t[8]||(t[8]=A("i",{class:"bi bi-map me-2"},null,-1)),A("span",yV,Be(r.hallName),1),A("button",{class:"btn btn-link text-white p-0",onClick:t[0]||(t[0]=(...a)=>o.closeModal&&o.closeModal(...a))},[...t[7]||(t[7]=[A("i",{class:"bi bi-x-lg fs-5"},null,-1)])])]),r.floorGuides.length>0?(se(),ce("div",bV,[A("h4",xV,Be(r.floorGuides[s.currentFloorIndex].floorName),1)])):rt("",!0),A("div",_V,[A("div",{class:"slider-wrapper",style:Xn({transform:`translateX(-${s.currentFloorIndex*100}%)`}),onTouchstart:t[2]||(t[2]=(...a)=>o.handleTouchStart&&o.handleTouchStart(...a)),onTouchmove:t[3]||(t[3]=(...a)=>o.handleTouchMove&&o.handleTouchMove(...a)),onTouchend:t[4]||(t[4]=(...a)=>o.handleTouchEnd&&o.handleTouchEnd(...a)),onMousedown:t[5]||(t[5]=(...a)=>o.handleMouseDown&&o.handleMouseDown(...a))},[(se(!0),ce(at,null,Tt(r.floorGuides,(a,l)=>(se(),ce("div",{key:l,class:"floor-slide"},[A("img",{src:a.imageUrl,alt:`${r.hallName} ${a.floorName} `,class:"floor-image",onDragstart:t[1]||(t[1]=br(()=>{},["prevent"]))},null,40,wV)]))),128))],36)]),A("div",EV,[(se(!0),ce(at,null,Tt(r.floorGuides,(a,l)=>(se(),ce("span",{key:l,class:ht(["indicator",{active:l===s.currentFloorIndex}]),onClick:u=>o.goToFloor(l)},null,10,SV))),128))]),A("div",CV,[(se(!0),ce(at,null,Tt(r.floorGuides,(a,l)=>(se(),ce("button",{key:l,class:ht(["btn floor-btn",{"btn-primary":l===s.currentFloorIndex,"btn-outline-secondary":l!==s.currentFloorIndex}]),onClick:u=>o.goToFloor(l)},Be(a.floorName),11,AV))),128))]),r.floorGuides.length>1?(se(),ce("div",TV,[...t[9]||(t[9]=[A("small",{class:"text-muted"},[A("i",{class:"bi bi-info-circle me-1"}),At("       ")],-1)])])):rt("",!0)])])):rt("",!0)}const DV=wt(mV,[["render",IV],["__scopeId","data-v-a25ad09a"]]),DE={1:[{floorName:"1F",imageUrl:"/img/floors/nature_1f.png"}],2:[{floorName:"2F",imageUrl:"/img/floors/human_2f.png"}],3:[{floorName:"1F",imageUrl:"/img/floors/changui_1f.png"},{floorName:"2F",imageUrl:"/img/floors/changui_2f.png"},{floorName:"3F",imageUrl:"/img/floors/changui_3f.png"}],6:[{floorName:"1F",imageUrl:"/img/floors/outdoor.png"}],7:[{floorName:"B1",imageUrl:"/img/floors/sciencetech_b1.png"},{floorName:"B1_M",imageUrl:"/img/floors/sciencetech_b1_middle.png"},{floorName:"1F",imageUrl:"/img/floors/sciencetech_1f.png"},{floorName:"2F",imageUrl:"/img/floors/sciencetech_2f.png"}],12:[{floorName:"1F",imageUrl:"/img/floors/cheonchae_1f.png"}],13:[{floorName:"1F",imageUrl:"/img/floors/sangmul_tamgu_1f.png"}],16:[{floorName:"1F",imageUrl:"/img/floors/future_science_1f.png"},{floorName:"2F",imageUrl:"/img/floors/future_science_2f.png"}],18:[{floorName:"1F",imageUrl:"/img/floors/cheonchae_look_1f.png"},{floorName:"2F",imageUrl:"/img/floors/cheonchae_look_2f.png"}],43:[{floorName:"1F",imageUrl:"/img/floors/children_science_1f.png"},{floorName:"2F",imageUrl:"/img/floors/children_science_2f.png"}]},NV=[{floorName:"",imageUrl:"/img/floors/default.png"}],FV={name:"ExhibitionHall",components:{ExhibitionAccordion:pV,FloorGuideModal:DV},data(){return{activeSection:null,showModal:!1,currentHall:null,floorGuides:[],selectedHallId:null,halls:[]}},computed:{sortedHalls(){if(!this.halls.length)return[];const n=[...this.halls],t=n.findIndex(r=>r.key==this.selectedHallId);if(t>0){const[r]=n.splice(t,1);n.unshift(r)}return n},currentHallName(){if(!this.currentHall)return"";const n=this.halls.find(t=>t.key===this.currentHall);return n?n.name:""}},created(){const{scienceCenterName:n,selectedHallId:t}=this.$route.query;this.selectedHallId=t,n&&this.fetchHalls(n)},methods:{async fetchHalls(n){try{const r=await kn.get(`https://science-book-backend-392637347057.asia-northeast3.run.app/api/halls?scienceCenterName=${n}`);if(console.log("API , {}",n),this.halls=r.data,console.log(JSON.stringify(this.halls,null,2)),this.selectedHallId&&this.halls.some(i=>i.key==this.selectedHallId)){const i=this.halls.find(s=>s.key==this.selectedHallId);this.openModal(i.key),this.activeSection=i.key}}catch(t){console.error("   :",t)}},getPreviewUrl(n){const t=DE[n];return t&&t.length>0?t[0].imageUrl:null},goBack(){this.$router.go(-1)},toggleSection(n){this.activeSection=this.activeSection===n?null:n},openModal(n){const t=this.halls.find(i=>i.key==n);if(!t)return;this.currentHall=t.key;const r=DE[n];r&&r.length>0?this.floorGuides=r:(console.warn(`'${t.name}'(key: ${n})     .`),this.floorGuides=NV),this.showModal=!0},closeModal(){this.showModal=!1,this.floorGuides=[]},handleFloorChange(n){console.log("Floor changed to:",this.floorGuides[n].floorName)}}},kV={class:"app-container"},MV={class:"bg-white p-3 d-flex align-items-center border-bottom app-header"},OV={class:"d-flex flex-column flex-grow-1 p-3 gap-3 scrollable-content"};function PV(n,t,r,i,s,o){const a=Pt("ExhibitionAccordion"),l=Pt("FloorGuideModal");return se(),ce(at,null,[A("div",kV,[A("div",MV,[A("button",{class:"btn btn-link text-dark p-0 me-3",onClick:t[0]||(t[0]=(...u)=>o.goBack&&o.goBack(...u))},[...t[1]||(t[1]=[A("i",{class:"bi bi-arrow-left fs-4"},null,-1)])]),t[2]||(t[2]=A("div",{class:"flex-grow-1 text-center"},[A("h5",{class:"mb-0 fw-bold"},"")],-1)),t[3]||(t[3]=A("div",{style:{width:"40px"}},null,-1))]),A("div",OV,[(se(!0),ce(at,null,Tt(o.sortedHalls,u=>(se(),Kt(a,{key:u.key,title:u.name||" ","is-active":s.activeSection===u.key,"preview-image-url":o.getPreviewUrl(u.key),onToggle:h=>o.toggleSection(u.key),onOpenModal:h=>o.openModal(u.key)},null,8,["title","is-active","preview-image-url","onToggle","onOpenModal"]))),128))])]),lt(l,{show:s.showModal,"hall-name":o.currentHallName,"floor-guides":s.floorGuides,onClose:o.closeModal,onFloorChange:o.handleFloorChange},null,8,["show","hall-name","floor-guides","onClose","onFloorChange"])],64)}const LV=wt(FV,[["render",PV],["__scopeId","data-v-aeff218e"]]),RV={name:"UserLikeCourseCard",components:{PillTag:Ts},props:{item:{type:Object,required:!0}},data(){return{mapGenerated:!1,map:null,markers:[],polyline:null,mapWidth:149,mapHeight:126,routePath:[],isUnmounting:!1,mapInitAttempted:!1}},computed:{isExhibitionCourse(){return this.item.type==="inner_course"},courseSequenceText(){return Array.isArray(this.item.coursePlaces)&&this.item.coursePlaces.length>0?this.item.coursePlaces.join("  "):Array.isArray(this.item.courseItems)&&this.item.courseItems.length>0?this.item.courseItems.map(n=>n.title||n.place).join("  "):"  ."},courseCoordinates(){return!this.item.courseItems||!Array.isArray(this.item.courseItems)?[]:this.item.courseItems.filter(n=>n.lat&&n.lng).map(n=>({lat:n.lat,lng:n.lng,title:n.title||n.place,number:n.number||1}))}},mounted(){this.courseCoordinates.length>0?setTimeout(()=>{this.initializeMap()},100):console.log("     :",this.item.id)},watch:{"item.courseItems":{handler(n){this.isUnmounting||n&&Array.isArray(n)&&n.length>0&&(this.map?this.updateMapWithCourse():this.mapInitAttempted||this.initializeMap())},deep:!0}},beforeUnmount(){this.isUnmounting=!0,this.clearMap()},methods:{handleCardClick(n){console.log(" UserLikeCourseCard clicked!",n.target),console.log(" Item data:",this.item),this.$emit("click",this.item)},handleMapClick(n){console.log(" Map area clicked, triggering card click"),n.stopPropagation(),this.handleCardClick(n)},handleContentClick(){console.log(" Content area clicked")},handleHeartClick(n){console.log(" Heart icon clicked"),n.stopPropagation()},async initializeMap(){if(!(this.mapInitAttempted||this.isUnmounting)){if(this.mapInitAttempted=!0,this.courseCoordinates.length===0){console.log("    .");return}try{if(hD()||(console.log("[UserLikeCourseCard]   ..."),await W1()),!window.kakao||!window.kakao.maps){console.error(" API  .");return}await this.createCourseMap()}catch(n){console.error("  :",n)}}},async getRoutePathFromAPI(n){if(this.isExhibitionCourse)return console.log("[API]   API      ."),null;if(n.length<2)return console.warn("[API]    ."),null;const t=n[0],r=n[n.length-1],i=n.slice(1,-1),s={origin:{x:t.lng.toString(),y:t.lat.toString()},destination:{x:r.lng.toString(),y:r.lat.toString()},waypoints:i.map(l=>({x:l.lng.toString(),y:l.lat.toString()})),priority:"TIME"},o="28242ddd7cda15c60301eff5cada6efc",a="https://apis-navi.kakaomobility.com/v1/waypoints/directions";try{const l=await fetch(a,{method:"POST",headers:{Authorization:`KakaoAK ${o}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw new Error(`Kakao Directions API : ${l.status} ${l.statusText}`);const u=await l.json();if(u.routes&&u.routes.length>0){const h=u.routes[0],c=[];return h.sections.forEach(f=>{f.roads.forEach(d=>{d.vertexes.forEach((p,m)=>{if(m%2===0){const g=p,v=d.vertexes[m+1];c.push(new window.kakao.maps.LatLng(v,g))}})})}),console.log(`[API]     ${c.length}  .`),c}return null}catch(l){return console.error("[API]    API    .  :",l),null}},async createCourseMap(){if(this.isUnmounting)return;const n=this.$refs.mapContainer;if(!n){console.warn("mapContainer ref   .");return}if(this.courseCoordinates.length===0){console.warn("     .");return}const t={center:new window.kakao.maps.LatLng(37.566826,126.9786567),level:5,draggable:!1,scrollwheel:!1,disableDoubleClick:!0,disableDoubleClickZoom:!0,keyboardShortcuts:!1};this.map=new window.kakao.maps.Map(n,t),this.updateMapBounds(),await this.addCourseMarkersAndRoute(),this.hideMapControls(),this.mapGenerated=!0},calculateMapBounds(){const n=this.courseCoordinates;if(n.length===0)return{center:{lat:37.566826,lng:126.9786567},level:5};const t=new window.kakao.maps.LatLngBounds;return n.forEach(r=>{t.extend(new window.kakao.maps.LatLng(r.lat,r.lng))}),{bounds:t}},updateMapBounds(){if(!this.map||this.isUnmounting||this.courseCoordinates.length===0)return;const{bounds:n}=this.calculateMapBounds();n&&this.map.setBounds(n)},async addCourseMarkersAndRoute(){if(this.isUnmounting||this.courseCoordinates.length===0)return;const n=[];this.clearMapElements(),this.courseCoordinates.forEach((r,i)=>{const s=new window.kakao.maps.LatLng(r.lat,r.lng);n.push(s);const o=this.createMarkerImage(r.number||i+1,this.getMarkerColor(i)),a=new window.kakao.maps.MarkerImage(o,new window.kakao.maps.Size(24,35),{offset:new window.kakao.maps.Point(12,35)}),l=new window.kakao.maps.Marker({position:s,image:a,map:this.map});this.markers.push(l)});let t=n;if(this.isExhibitionCourse)console.log("    .");else{const r=await this.getRoutePathFromAPI(this.courseCoordinates);r&&r.length>1?t=r:console.log("API      .   .")}this.routePath=t,t.length>1&&(this.polyline=new window.kakao.maps.Polyline({path:t,strokeWeight:3,strokeColor:"#4A7CEC",strokeOpacity:.8,strokeStyle:"solid"}),this.polyline.setMap(this.map))},async updateMapWithCourse(){!this.map||this.isUnmounting||(this.clearMapElements(),this.courseCoordinates.length>0&&(this.updateMapBounds(),await this.addCourseMarkersAndRoute()))},clearMapElements(){try{this.markers&&this.markers.length>0&&(this.markers.forEach(n=>{n&&n.setMap&&n.setMap(null)}),this.markers=[]),this.polyline&&this.polyline.setMap&&(this.polyline.setMap(null),this.polyline=null)}catch(n){console.error("    :",n)}},clearMap(){try{this.clearMapElements(),this.map&&(this.map=null)}catch(n){console.error("   :",n)}},getMarkerColor(n){const t=["#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return t[n%t.length]},createMarkerImage(n,t){const r=`
        <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
            fill="${t}" stroke="#fff" stroke-width="2"/>
          <circle cx="12" cy="12" r="8" fill="#fff"/>
          <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
            font-size="10" font-weight="bold" fill="${t}">${n}</text>
        </svg>
      `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)},hideMapControls(){this.isUnmounting||setTimeout(()=>{if(this.isUnmounting)return;const n=this.$refs.mapContainer;n&&n.querySelectorAll(".kakao-map-control, .MapTypeControl, .ZoomControl").forEach(r=>{r.style.display="none"})},100)}}},BV={key:0,class:"map-placeholder"},UV={key:1,class:"map-container"},VV={class:"content-header"},$V={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},jV={class:"title"},zV={class:"address"},GV={class:"course-list"};function HV(n,t,r,i,s,o){const a=Pt("PillTag");return se(),ce("div",{class:"course-card",style:{"font-family":"'SUIT', sans-serif"},onClick:t[3]||(t[3]=(...l)=>o.handleCardClick&&o.handleCardClick(...l))},[o.courseCoordinates.length>0?(se(),ce("div",{key:0,class:"map-container",ref:"mapContainer",onClick:t[0]||(t[0]=br((...l)=>o.handleMapClick&&o.handleMapClick(...l),["stop"]))},[s.mapGenerated?rt("",!0):(se(),ce("div",BV,"   ... "))],512)):(se(),ce("div",UV,[...t[4]||(t[4]=[A("div",{class:"map-fallback"},[A("img",{src:"https://placehold.co/149x126/e9ecef/6c757d?text=No+Map",alt:" ",style:{width:"100%",height:"100%","object-fit":"cover"}})],-1)])])),A("div",{class:"content-area",onClick:t[2]||(t[2]=(...l)=>o.handleContentClick&&o.handleContentClick(...l))},[A("div",VV,[A("div",$V,[lt(a,{text:r.item.subject,type:"subject"},null,8,["text"]),lt(a,{text:r.item.grade?.replace(" ","")??"",type:"grade"},null,8,["text"])]),A("div",{class:"action-icons",onClick:t[1]||(t[1]=br((...l)=>o.handleHeartClick&&o.handleHeartClick(...l),["stop"]))},[...t[5]||(t[5]=[A("i",{class:"bi bi-heart-fill fs-4"},null,-1)])])]),A("div",jV,Be(r.item.ExhibitionName),1),A("div",zV,Be(r.item.scienceCenter),1),A("div",GV,Be(o.courseSequenceText),1)])])}const WV=wt(RV,[["render",HV],["__scopeId","data-v-c97bb8a0"]]),XV={name:"UserLikeCourse",components:{UserLikeCourseCard:WV},setup(){const n=gi(),{isLoggedIn:t,currentUserId:r}=As(n);return{isLoggedIn:t,currentUserId:r}},data(){return{selectedTab:"",userLikeCourseCardItem:[],loading:!0,error:null,isNavigating:!1}},computed:{filteredItems(){return this.selectedTab===""?this.userLikeCourseCardItem.filter(n=>n.type===""||n.type==="inner_course"):this.userLikeCourseCardItem.filter(n=>n.type===""||n.type==="ai_course")}},created(){this.$route.query.tab===""&&(this.selectedTab=""),this.fetchUserLikeCourse()},methods:{async fetchUserLikeCourse(){if(this.loading=!0,this.error=null,!this.isLoggedIn){this.error="  .    .",this.loading=!1,this.$router.push("/login");return}try{const n=await cn.get(`api/schedules/user/${this.currentUserId}`);this.userLikeCourseCardItem=n.data.map(t=>{const r=t.items.map(s=>({id:s.sourceItemId,number:s.sequence,title:s.itemName,place:s.addressDetail,imageUrl:s.mainImageUrl,lat:s.latitude,lng:s.longitude,type:null,scienceCenter:s.scienceCenterName,hallName:s.hallName,subject:s.mainCategoryNames||[],grade:s.gradeNames||[],hashtags:s.subCategoryNames||[],itemType:s.itemType,exhibitionList:s.exhibitionList||[]}));return{id:t.scheduleId||`temp_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,ExhibitionName:t.scheduleName,type:t.sourceCourseType,address:r[0]?r[0].place:" ",scienceCenter:r[0]?r[0].scienceCenter:" ",grade:r[0]?r[0].grade?.[0]:null,subject:r[0]?r[0].subject?.[0]:null,coursePlaces:r.map(s=>s.title),courseItems:r}}),console.log(" fetchUserLikeCourse -    (userLikeCourseCardItem):",JSON.stringify(this.userLikeCourseCardItem,null,2))}catch(n){console.error("   :",n),this.error="   ."}finally{this.loading=!1}},goToCourseDetail(n){if(!this.isNavigating){this.isNavigating=!0,console.log("goToCourseDetail -  item:",n);try{const t=JSON.parse(JSON.stringify(n));sessionStorage.setItem(`courseData_${n.id}`,JSON.stringify(t)),this.$router.push({name:"UserLikeCourseDetail",params:{courseId:n.id}}).catch(r=>{console.error("  :",r),this.isNavigating=!1})}catch(t){console.error("    :",t),this.isNavigating=!1}}},changeTab(n){this.selectedTab!==n&&(this.selectedTab=n,this.$router.replace({query:{...this.$route.query,tab:n}}).catch(()=>{}))},goBack(){this.$router.back()}}},qV={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},YV={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},KV={class:"header-left",style:{flex:"1"}},ZV={class:"segmented-control-wrapper flex-shrink-0"},JV={class:"segmented-control"},QV={key:0,class:"content-container status-container"},e$={key:1,class:"content-container status-container"},t$={class:"text-danger"},n$={key:2,class:"content-container"},r$={key:0,class:"status-container empty-state"},i$={class:"text-muted"},s$={class:"card-list-wrapper"};function o$(n,t,r,i,s,o){const a=Pt("UserLikeCourseCard");return se(),ce("div",qV,[A("div",YV,[A("div",KV,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...l)=>o.goBack&&o.goBack(...l))})]),t[4]||(t[4]=A("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center"}},"    ",-1)),t[5]||(t[5]=A("div",{class:"header-right",style:{flex:"1"}},null,-1))]),A("div",ZV,[A("div",JV,[A("button",{type:"button",class:ht(["spec-button",{active:s.selectedTab===""}]),onClick:t[1]||(t[1]=l=>o.changeTab(""))},"",2),A("button",{type:"button",class:ht(["spec-button",{active:s.selectedTab===""}]),onClick:t[2]||(t[2]=l=>o.changeTab(""))}," ",2)])]),s.loading?(se(),ce("div",QV,[...t[6]||(t[6]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"mt-2 text-muted"},"   ...",-1)])])):s.error?(se(),ce("div",e$,[A("p",t$,Be(s.error),1),A("button",{onClick:t[3]||(t[3]=(...l)=>o.fetchUserLikeCourse&&o.fetchUserLikeCourse(...l)),class:"btn btn-sm btn-outline-primary"},"   ")])):(se(),ce("div",n$,[o.filteredItems.length===0?(se(),ce("div",r$,[A("p",i$," '"+Be(s.selectedTab)+"'     . ",1)])):rt("",!0),sn(A("div",s$,[(se(!0),ce(at,null,Tt(o.filteredItems,l=>(se(),Kt(a,{key:l.id,item:l,onClick:u=>o.goToCourseDetail(l)},null,8,["item","onClick"]))),128))],512),[[Qu,o.filteredItems.length>0]])]))])}const a$=wt(XV,[["render",o$],["__scopeId","data-v-5cde48ef"]]);var Xd={exports:{}},M0={exports:{}},O0={};/**
* @vue/compiler-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ic=Symbol(""),zu=Symbol(""),jm=Symbol(""),Bh=Symbol(""),Y1=Symbol(""),Ma=Symbol(""),K1=Symbol(""),Z1=Symbol(""),zm=Symbol(""),Gm=Symbol(""),wc=Symbol(""),Hm=Symbol(""),J1=Symbol(""),Wm=Symbol(""),Xm=Symbol(""),qm=Symbol(""),Ym=Symbol(""),Km=Symbol(""),Zm=Symbol(""),Q1=Symbol(""),eb=Symbol(""),wf=Symbol(""),Uh=Symbol(""),Jm=Symbol(""),Qm=Symbol(""),sc=Symbol(""),Ec=Symbol(""),eg=Symbol(""),Np=Symbol(""),pD=Symbol(""),Fp=Symbol(""),Vh=Symbol(""),mD=Symbol(""),gD=Symbol(""),tg=Symbol(""),vD=Symbol(""),yD=Symbol(""),ng=Symbol(""),tb=Symbol(""),Bl={[ic]:"Fragment",[zu]:"Teleport",[jm]:"Suspense",[Bh]:"KeepAlive",[Y1]:"BaseTransition",[Ma]:"openBlock",[K1]:"createBlock",[Z1]:"createElementBlock",[zm]:"createVNode",[Gm]:"createElementVNode",[wc]:"createCommentVNode",[Hm]:"createTextVNode",[J1]:"createStaticVNode",[Wm]:"resolveComponent",[Xm]:"resolveDynamicComponent",[qm]:"resolveDirective",[Ym]:"resolveFilter",[Km]:"withDirectives",[Zm]:"renderList",[Q1]:"renderSlot",[eb]:"createSlots",[wf]:"toDisplayString",[Uh]:"mergeProps",[Jm]:"normalizeClass",[Qm]:"normalizeStyle",[sc]:"normalizeProps",[Ec]:"guardReactiveProps",[eg]:"toHandlers",[Np]:"camelize",[pD]:"capitalize",[Fp]:"toHandlerKey",[Vh]:"setBlockTracking",[mD]:"pushScopeId",[gD]:"popScopeId",[tg]:"withCtx",[vD]:"unref",[yD]:"isRef",[ng]:"withMemo",[tb]:"isMemoSame"};function bD(n){Object.getOwnPropertySymbols(n).forEach(t=>{Bl[t]=n[t]})}const l$={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},u$={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},c$={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},h$={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},Ur={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function xD(n,t=""){return{type:0,source:t,children:n,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Ur}}function oc(n,t,r,i,s,o,a,l=!1,u=!1,h=!1,c=Ur){return n&&(l?(n.helper(Ma),n.helper($l(n.inSSR,h))):n.helper(Vl(n.inSSR,h)),a&&n.helper(Km)),{type:13,tag:t,props:r,children:i,patchFlag:s,dynamicProps:o,directives:a,isBlock:l,disableTracking:u,isComponent:h,loc:c}}function Na(n,t=Ur){return{type:17,loc:t,elements:n}}function ls(n,t=Ur){return{type:15,loc:t,properties:n}}function Sr(n,t){return{type:16,loc:Ur,key:Bt(n)?Yt(n,!0):n,value:t}}function Yt(n,t=!1,r=Ur,i=0){return{type:4,loc:r,content:n,isStatic:t,constType:t?3:i}}function f$(n,t){return{type:5,loc:t,content:Bt(n)?Yt(n,!1,t):n}}function Ss(n,t=Ur){return{type:8,loc:t,children:n}}function Tr(n,t=[],r=Ur){return{type:14,loc:r,callee:n,arguments:t}}function Ul(n,t=void 0,r=!1,i=!1,s=Ur){return{type:18,params:n,returns:t,newline:r,isSlot:i,loc:s}}function kp(n,t,r,i=!0){return{type:19,test:n,consequent:t,alternate:r,newline:i,loc:Ur}}function _D(n,t,r=!1,i=!1){return{type:20,index:n,value:t,needPauseTracking:r,inVOnce:i,needArraySpread:!1,loc:Ur}}function wD(n){return{type:21,body:n,loc:Ur}}function d$(n){return{type:22,elements:n,loc:Ur}}function p$(n,t,r){return{type:23,test:n,consequent:t,alternate:r,loc:Ur}}function m$(n,t){return{type:24,left:n,right:t,loc:Ur}}function g$(n){return{type:25,expressions:n,loc:Ur}}function v$(n){return{type:26,returns:n,loc:Ur}}function Vl(n,t){return n||t?zm:Gm}function $l(n,t){return n||t?K1:Z1}function rg(n,{helper:t,removeHelper:r,inSSR:i}){n.isBlock||(n.isBlock=!0,r(Vl(i,n.isComponent)),t(Ma),t($l(i,n.isComponent)))}const NE=new Uint8Array([123,123]),FE=new Uint8Array([125,125]);function kE(n){return n>=97&&n<=122||n>=65&&n<=90}function os(n){return n===32||n===10||n===9||n===12||n===13}function ua(n){return n===47||n===62||os(n)}function Mp(n){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}const ti={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class y${constructor(t,r){this.stack=t,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=NE,this.delimiterClose=FE,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=NE,this.delimiterClose=FE}getPos(t){let r=1,i=t+1;for(let s=this.newlines.length-1;s>=0;s--){const o=this.newlines[s];if(t>o){r=s+2,i=t-o;break}}return{column:i,line:r,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?ua(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||os(t)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const i=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=i}this.sectionStart=r+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ti.TitleEnd||this.currentSequence===ti.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===ti.Cdata[this.sequenceIndex]?++this.sequenceIndex===ti.Cdata.length&&(this.state=28,this.currentSequence=ti.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ti.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,r){this.enterRCDATA(t,r),this.state=31}enterRCDATA(t,r){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=r}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):kE(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){ua(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(ua(t)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Mp("</"+r),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){os(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=kE(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||os(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):os(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):os(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||ua(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||ua(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||ua(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||ua(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||ua(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):os(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):os(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,r){(t===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){os(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=ti.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===ti.ScriptEnd[3]?this.startSpecial(ti.ScriptEnd,4):t===ti.StyleEnd[3]?this.startSpecial(ti.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===ti.TitleEnd[3]?this.startSpecial(ti.TitleEnd,4):t===ti.TextareaEnd[3]?this.startSpecial(ti.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===ti.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,r){}}const b$={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},x$={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:n=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${n}.sync\` should be changed to \`v-model:${n}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function my(n,{compatConfig:t}){const r=t&&t[n];return n==="MODE"?r||3:r}function Il(n,t){const r=my("MODE",t),i=my(n,t);return r===3?i===!0:i!==!1}function ac(n,t,r,...i){return Il(n,t)}function _$(n,t,r,...i){if(my(n,t)==="suppress-warning")return;const{message:o,link:a}=x$[n],l=`(deprecation ${n}) ${typeof o=="function"?o(...i):o}${a?`
  Details: ${a}`:""}`,u=new SyntaxError(l);u.code=n,r&&(u.loc=r),t.onWarn(u)}function nb(n){throw n}function ED(n){}function Yn(n,t,r,i){const s=`https://vuejs.org/error-reference/#compiler-${n}`,o=new SyntaxError(String(s));return o.code=n,o.loc=t,o}const w$={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},E$={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function S$(n,t,r=!1,i=[],s=Object.create(null)){}function C$(n,t,r){return!1}function A$(n,t){if(n&&(n.type==="ObjectProperty"||n.type==="ArrayPattern")){let r=t.length;for(;r--;){const i=t[r];if(i.type==="AssignmentExpression")return!0;if(i.type!=="ObjectProperty"&&!i.type.endsWith("Pattern"))break}}return!1}function T$(n){let t=n.length;for(;t--;){const r=n[t];if(r.type==="NewExpression")return!0;if(r.type!=="MemberExpression")break}return!1}function I$(n,t){for(const r of n.params)for(const i of uo(r))t(i)}function SD(n,t){const r=n.type==="SwitchCase"?n.consequent:n.body;for(const i of r)if(i.type==="VariableDeclaration"){if(i.declare)continue;for(const s of i.declarations)for(const o of uo(s.id))t(o)}else if(i.type==="FunctionDeclaration"||i.type==="ClassDeclaration"){if(i.declare||!i.id)continue;t(i.id)}else D$(i)?N$(i,!0,t):i.type==="SwitchStatement"&&F$(i,!0,t)}function D$(n){return n.type==="ForOfStatement"||n.type==="ForInStatement"||n.type==="ForStatement"}function N$(n,t,r){const i=n.type==="ForStatement"?n.init:n.left;if(i&&i.type==="VariableDeclaration"&&(i.kind==="var"?t:!t))for(const s of i.declarations)for(const o of uo(s.id))r(o)}function F$(n,t,r){for(const i of n.cases){for(const s of i.consequent)if(s.type==="VariableDeclaration"&&(s.kind==="var"?t:!t))for(const o of s.declarations)for(const a of uo(o.id))r(a);SD(i,r)}}function uo(n,t=[]){switch(n.type){case"Identifier":t.push(n);break;case"MemberExpression":let r=n;for(;r.type==="MemberExpression";)r=r.object;t.push(r);break;case"ObjectPattern":for(const i of n.properties)i.type==="RestElement"?uo(i.argument,t):uo(i.value,t);break;case"ArrayPattern":n.elements.forEach(i=>{i&&uo(i,t)});break;case"RestElement":uo(n.argument,t);break;case"AssignmentPattern":uo(n.left,t);break}return t}const k$=n=>/Function(?:Expression|Declaration)$|Method$/.test(n.type),CD=n=>n&&(n.type==="ObjectProperty"||n.type==="ObjectMethod")&&!n.computed,M$=(n,t)=>CD(t)&&t.key===n,AD=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function TD(n){return AD.includes(n.type)?TD(n.expression):n}const Ni=n=>n.type===4&&n.isStatic;function rb(n){switch(n){case"Teleport":case"teleport":return zu;case"Suspense":case"suspense":return jm;case"KeepAlive":case"keep-alive":return Bh;case"BaseTransition":case"base-transition":return Y1}}const O$=/^$|^\d|[^\$\w\xA0-\uFFFF]/,Ef=n=>!O$.test(n),ib=/[A-Za-z_$\xA0-\uFFFF]/,P$=/[\.\?\w$\xA0-\uFFFF]/,L$=/\s+[.[]\s*|\s*[.[]\s+/g,ID=n=>n.type===4?n.content:n.loc.source,DD=n=>{const t=ID(n).trim().replace(L$,l=>l.trim());let r=0,i=[],s=0,o=0,a=null;for(let l=0;l<t.length;l++){const u=t.charAt(l);switch(r){case 0:if(u==="[")i.push(r),r=1,s++;else if(u==="(")i.push(r),r=2,o++;else if(!(l===0?ib:P$).test(u))return!1;break;case 1:u==="'"||u==='"'||u==="`"?(i.push(r),r=3,a=u):u==="["?s++:u==="]"&&(--s||(r=i.pop()));break;case 2:if(u==="'"||u==='"'||u==="`")i.push(r),r=3,a=u;else if(u==="(")o++;else if(u===")"){if(l===t.length-1)return!1;--o||(r=i.pop())}break;case 3:u===a&&(r=i.pop(),a=null);break}}return!s&&!o},R$=Wr,sb=DD,B$=/^\s*(?:async\s*)?(?:\([^)]*?\)|[\w$_]+)\s*(?::[^=]+)?=>|^\s*(?:async\s+)?function(?:\s+[\w$]+)?\s*\(/,ND=n=>B$.test(ID(n)),U$=Wr,FD=ND;function V$(n,t,r=t.length){return kD({offset:n.offset,line:n.line,column:n.column},t,r)}function kD(n,t,r=t.length){let i=0,s=-1;for(let o=0;o<r;o++)t.charCodeAt(o)===10&&(i++,s=o);return n.offset+=r,n.line+=i,n.column=s===-1?n.column+r:r-s,n}function $$(n,t){if(!n)throw new Error(t||"unexpected compiler condition")}function Ai(n,t,r=!1){for(let i=0;i<n.props.length;i++){const s=n.props[i];if(s.type===7&&(r||s.exp)&&(Bt(t)?s.name===t:t.test(s.name)))return s}}function Sf(n,t,r=!1,i=!1){for(let s=0;s<n.props.length;s++){const o=n.props[s];if(o.type===6){if(r)continue;if(o.name===t&&(o.value||i))return o}else if(o.name==="bind"&&(o.exp||i)&&_a(o.arg,t))return o}}function _a(n,t){return!!(n&&Ni(n)&&n.content===t)}function MD(n){return n.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function qd(n){return n.type===5||n.type===2}function gy(n){return n.type===7&&n.name==="pre"}function ob(n){return n.type===7&&n.name==="slot"}function lc(n){return n.type===1&&n.tagType===3}function $h(n){return n.type===1&&n.tagType===2}const j$=new Set([sc,Ec]);function OD(n,t=[]){if(n&&!Bt(n)&&n.type===14){const r=n.callee;if(!Bt(r)&&j$.has(r))return OD(n.arguments[0],t.concat(n))}return[n,t]}function jh(n,t,r){let i,s=n.type===13?n.props:n.arguments[2],o=[],a;if(s&&!Bt(s)&&s.type===14){const l=OD(s);s=l[0],o=l[1],a=o[o.length-1]}if(s==null||Bt(s))i=ls([t]);else if(s.type===14){const l=s.arguments[0];!Bt(l)&&l.type===15?ME(t,l)||l.properties.unshift(t):s.callee===eg?i=Tr(r.helper(Uh),[ls([t]),s]):s.arguments.unshift(ls([t])),!i&&(i=s)}else s.type===15?(ME(t,s)||s.properties.unshift(t),i=s):(i=Tr(r.helper(Uh),[ls([t]),s]),a&&a.callee===Ec&&(a=o[o.length-2]));n.type===13?a?a.arguments[0]=i:n.props=i:a?a.arguments[0]=i:n.arguments[2]=i}function ME(n,t){let r=!1;if(n.key.type===4){const i=n.key.content;r=t.properties.some(s=>s.key.type===4&&s.key.content===i)}return r}function uc(n,t){return`_${t}_${n.replace(/[^\w]/g,(r,i)=>r==="-"?"_":n.charCodeAt(i).toString())}`}function Rs(n,t){if(!n||Object.keys(t).length===0)return!1;switch(n.type){case 1:for(let r=0;r<n.props.length;r++){const i=n.props[r];if(i.type===7&&(Rs(i.arg,t)||Rs(i.exp,t)))return!0}return n.children.some(r=>Rs(r,t));case 11:return Rs(n.source,t)?!0:n.children.some(r=>Rs(r,t));case 9:return n.branches.some(r=>Rs(r,t));case 10:return Rs(n.condition,t)?!0:n.children.some(r=>Rs(r,t));case 4:return!n.isStatic&&Ef(n.content)&&!!t[n.content];case 8:return n.children.some(r=>En(r)&&Rs(r,t));case 5:case 12:return Rs(n.content,t);case 2:case 3:case 20:return!1;default:return!1}}function PD(n){return n.type===14&&n.callee===ng?n.arguments[1].returns:n}const LD=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,RD={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:ml,isPreTag:ml,isIgnoreNewlineTag:ml,isCustomElement:ml,onError:nb,onWarn:ED,comments:!1,prefixIdentifiers:!1};let Tn=RD,zh=null,$o="",ii=null,dn=null,Bi="",Do=-1,ol=-1,ab=0,va=!1,vy=null;const Qn=[],yr=new y$(Qn,{onerr:Ao,ontext(n,t){ld(Yr(n,t),n,t)},ontextentity(n,t,r){ld(n,t,r)},oninterpolation(n,t){if(va)return ld(Yr(n,t),n,t);let r=n+yr.delimiterOpen.length,i=t-yr.delimiterClose.length;for(;os($o.charCodeAt(r));)r++;for(;os($o.charCodeAt(i-1));)i--;let s=Yr(r,i);s.includes("&")&&(s=Tn.decodeEntities(s,!1)),yy({type:5,content:Kd(s,!1,wr(r,i)),loc:wr(n,t)})},onopentagname(n,t){const r=Yr(n,t);ii={type:1,tag:r,ns:Tn.getNamespace(r,Qn[0],Tn.ns),tagType:0,props:[],children:[],loc:wr(n-1,t),codegenNode:void 0}},onopentagend(n){PE(n)},onclosetag(n,t){const r=Yr(n,t);if(!Tn.isVoidTag(r)){let i=!1;for(let s=0;s<Qn.length;s++)if(Qn[s].tag.toLowerCase()===r.toLowerCase()){i=!0,s>0&&Ao(24,Qn[0].loc.start.offset);for(let a=0;a<=s;a++){const l=Qn.shift();Yd(l,t,a<s)}break}i||Ao(23,BD(n,60))}},onselfclosingtag(n){const t=ii.tag;ii.isSelfClosing=!0,PE(n),Qn[0]&&Qn[0].tag===t&&Yd(Qn.shift(),n)},onattribname(n,t){dn={type:6,name:Yr(n,t),nameLoc:wr(n,t),value:void 0,loc:wr(n)}},ondirname(n,t){const r=Yr(n,t),i=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!va&&i===""&&Ao(26,n),va||i==="")dn={type:6,name:r,nameLoc:wr(n,t),value:void 0,loc:wr(n)};else if(dn={type:7,name:i,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[Yt("prop")]:[],loc:wr(n)},i==="pre"){va=yr.inVPre=!0,vy=ii;const s=ii.props;for(let o=0;o<s.length;o++)s[o].type===7&&(s[o]=Q$(s[o]))}},ondirarg(n,t){if(n===t)return;const r=Yr(n,t);if(va&&!gy(dn))dn.name+=r,yl(dn.nameLoc,t);else{const i=r[0]!=="[";dn.arg=Kd(i?r:r.slice(1,-1),i,wr(n,t),i?3:0)}},ondirmodifier(n,t){const r=Yr(n,t);if(va&&!gy(dn))dn.name+="."+r,yl(dn.nameLoc,t);else if(dn.name==="slot"){const i=dn.arg;i&&(i.content+="."+r,yl(i.loc,t))}else{const i=Yt(r,!0,wr(n,t));dn.modifiers.push(i)}},onattribdata(n,t){Bi+=Yr(n,t),Do<0&&(Do=n),ol=t},onattribentity(n,t,r){Bi+=n,Do<0&&(Do=t),ol=r},onattribnameend(n){const t=dn.loc.start.offset,r=Yr(t,n);dn.type===7&&(dn.rawName=r),ii.props.some(i=>(i.type===7?i.rawName:i.name)===r)&&Ao(2,t)},onattribend(n,t){if(ii&&dn){if(yl(dn.loc,t),n!==0)if(Bi.includes("&")&&(Bi=Tn.decodeEntities(Bi,!0)),dn.type===6)dn.name==="class"&&(Bi=VD(Bi).trim()),n===1&&!Bi&&Ao(13,t),dn.value={type:2,content:Bi,loc:n===1?wr(Do,ol):wr(Do-1,ol+1)},yr.inSFCRoot&&ii.tag==="template"&&dn.name==="lang"&&Bi&&Bi!=="html"&&yr.enterRCDATA(Mp("</template"),0);else{let r=0;dn.exp=Kd(Bi,!1,wr(Do,ol),0,r),dn.name==="for"&&(dn.forParseResult=G$(dn.exp));let i=-1;dn.name==="bind"&&(i=dn.modifiers.findIndex(s=>s.content==="sync"))>-1&&ac("COMPILER_V_BIND_SYNC",Tn,dn.loc,dn.arg.loc.source)&&(dn.name="model",dn.modifiers.splice(i,1))}(dn.type!==7||dn.name!=="pre")&&ii.props.push(dn)}Bi="",Do=ol=-1},oncomment(n,t){Tn.comments&&yy({type:3,content:Yr(n,t),loc:wr(n-4,t+3)})},onend(){const n=$o.length;for(let t=0;t<Qn.length;t++)Yd(Qn[t],n-1),Ao(24,Qn[t].loc.start.offset)},oncdata(n,t){Qn[0].ns!==0?ld(Yr(n,t),n,t):Ao(1,n-9)},onprocessinginstruction(n){(Qn[0]?Qn[0].ns:Tn.ns)===0&&Ao(21,n-1)}}),OE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,z$=/^\(|\)$/g;function G$(n){const t=n.loc,r=n.content,i=r.match(LD);if(!i)return;const[,s,o]=i,a=(f,d,p=!1)=>{const m=t.start.offset+d,g=m+f.length;return Kd(f,!1,wr(m,g),0,p?1:0)},l={source:a(o.trim(),r.indexOf(o,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let u=s.trim().replace(z$,"").trim();const h=s.indexOf(u),c=u.match(OE);if(c){u=u.replace(OE,"").trim();const f=c[1].trim();let d;if(f&&(d=r.indexOf(f,h+u.length),l.key=a(f,d,!0)),c[2]){const p=c[2].trim();p&&(l.index=a(p,r.indexOf(p,l.key?d+f.length:h+u.length),!0))}}return u&&(l.value=a(u,h,!0)),l}function Yr(n,t){return $o.slice(n,t)}function PE(n){yr.inSFCRoot&&(ii.innerLoc=wr(n+1,n+1)),yy(ii);const{tag:t,ns:r}=ii;r===0&&Tn.isPreTag(t)&&ab++,Tn.isVoidTag(t)?Yd(ii,n):(Qn.unshift(ii),(r===1||r===2)&&(yr.inXML=!0)),ii=null}function ld(n,t,r){{const o=Qn[0]&&Qn[0].tag;o!=="script"&&o!=="style"&&n.includes("&")&&(n=Tn.decodeEntities(n,!1))}const i=Qn[0]||zh,s=i.children[i.children.length-1];s&&s.type===2?(s.content+=n,yl(s.loc,r)):i.children.push({type:2,content:n,loc:wr(t,r)})}function Yd(n,t,r=!1){r?yl(n.loc,BD(t,60)):yl(n.loc,H$(t,62)+1),yr.inSFCRoot&&(n.children.length?n.innerLoc.end=ln({},n.children[n.children.length-1].loc.end):n.innerLoc.end=ln({},n.innerLoc.start),n.innerLoc.source=Yr(n.innerLoc.start.offset,n.innerLoc.end.offset));const{tag:i,ns:s,children:o}=n;if(va||(i==="slot"?n.tagType=2:LE(n)?n.tagType=3:X$(n)&&(n.tagType=1)),yr.inRCDATA||(n.children=UD(o)),s===0&&Tn.isIgnoreNewlineTag(i)){const a=o[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}s===0&&Tn.isPreTag(i)&&ab--,vy===n&&(va=yr.inVPre=!1,vy=null),yr.inXML&&(Qn[0]?Qn[0].ns:Tn.ns)===0&&(yr.inXML=!1);{const a=n.props;if(!yr.inSFCRoot&&Il("COMPILER_NATIVE_TEMPLATE",Tn)&&n.tag==="template"&&!LE(n)){const u=Qn[0]||zh,h=u.children.indexOf(n);u.children.splice(h,1,...n.children)}const l=a.find(u=>u.type===6&&u.name==="inline-template");l&&ac("COMPILER_INLINE_TEMPLATE",Tn,l.loc)&&n.children.length&&(l.value={type:2,content:Yr(n.children[0].loc.start.offset,n.children[n.children.length-1].loc.end.offset),loc:l.loc})}}function H$(n,t){let r=n;for(;$o.charCodeAt(r)!==t&&r<$o.length-1;)r++;return r}function BD(n,t){let r=n;for(;$o.charCodeAt(r)!==t&&r>=0;)r--;return r}const W$=new Set(["if","else","else-if","for","slot"]);function LE({tag:n,props:t}){if(n==="template"){for(let r=0;r<t.length;r++)if(t[r].type===7&&W$.has(t[r].name))return!0}return!1}function X$({tag:n,props:t}){if(Tn.isCustomElement(n))return!1;if(n==="component"||q$(n.charCodeAt(0))||rb(n)||Tn.isBuiltInComponent&&Tn.isBuiltInComponent(n)||Tn.isNativeTag&&!Tn.isNativeTag(n))return!0;for(let r=0;r<t.length;r++){const i=t[r];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(ac("COMPILER_IS_ON_ELEMENT",Tn,i.loc))return!0}}else if(i.name==="bind"&&_a(i.arg,"is")&&ac("COMPILER_IS_ON_ELEMENT",Tn,i.loc))return!0}return!1}function q$(n){return n>64&&n<91}const Y$=/\r\n/g;function UD(n){const t=Tn.whitespace!=="preserve";let r=!1;for(let i=0;i<n.length;i++){const s=n[i];if(s.type===2)if(ab)s.content=s.content.replace(Y$,`
`);else if(K$(s.content)){const o=n[i-1]&&n[i-1].type,a=n[i+1]&&n[i+1].type;!o||!a||t&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&Z$(s.content)))?(r=!0,n[i]=null):s.content=" "}else t&&(s.content=VD(s.content))}return r?n.filter(Boolean):n}function K$(n){for(let t=0;t<n.length;t++)if(!os(n.charCodeAt(t)))return!1;return!0}function Z$(n){for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);if(r===10||r===13)return!0}return!1}function VD(n){let t="",r=!1;for(let i=0;i<n.length;i++)os(n.charCodeAt(i))?r||(t+=" ",r=!0):(t+=n[i],r=!1);return t}function yy(n){(Qn[0]||zh).children.push(n)}function wr(n,t){return{start:yr.getPos(n),end:t==null?t:yr.getPos(t),source:t==null?t:Yr(n,t)}}function J$(n){return wr(n.start.offset,n.end.offset)}function yl(n,t){n.end=yr.getPos(t),n.source=Yr(n.start.offset,t)}function Q$(n){const t={type:6,name:n.rawName,nameLoc:wr(n.loc.start.offset,n.loc.start.offset+n.rawName.length),value:void 0,loc:n.loc};if(n.exp){const r=n.exp.loc;r.end.offset<n.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),t.value={type:2,content:n.exp.content,loc:r}}return t}function Kd(n,t=!1,r,i=0,s=0){return Yt(n,t,r,i)}function Ao(n,t,r){Tn.onError(Yn(n,wr(t,t)))}function ej(){yr.reset(),ii=null,dn=null,Bi="",Do=-1,ol=-1,Qn.length=0}function lb(n,t){if(ej(),$o=n,Tn=ln({},RD),t){let s;for(s in t)t[s]!=null&&(Tn[s]=t[s])}yr.mode=Tn.parseMode==="html"?1:Tn.parseMode==="sfc"?2:0,yr.inXML=Tn.ns===1||Tn.ns===2;const r=t&&t.delimiters;r&&(yr.delimiterOpen=Mp(r[0]),yr.delimiterClose=Mp(r[1]));const i=zh=xD([],n);return yr.parse($o),i.loc=wr(0,n.length),i.children=UD(i.children),zh=null,i}function tj(n,t){Zd(n,void 0,t,!!$D(n))}function $D(n){const t=n.children.filter(r=>r.type!==3);return t.length===1&&t[0].type===1&&!$h(t[0])?t[0]:null}function Zd(n,t,r,i=!1,s=!1){const{children:o}=n,a=[];for(let c=0;c<o.length;c++){const f=o[c];if(f.type===1&&f.tagType===0){const d=i?0:Hi(f,r);if(d>0){if(d>=2){f.codegenNode.patchFlag=-1,a.push(f);continue}}else{const p=f.codegenNode;if(p.type===13){const m=p.patchFlag;if((m===void 0||m===512||m===1)&&zD(f,r)>=2){const g=GD(f);g&&(p.props=r.hoist(g))}p.dynamicProps&&(p.dynamicProps=r.hoist(p.dynamicProps))}}}else if(f.type===12&&(i?0:Hi(f,r))>=2){f.codegenNode.type===14&&f.codegenNode.arguments.length>0&&f.codegenNode.arguments.push("-1"),a.push(f);continue}if(f.type===1){const d=f.tagType===1;d&&r.scopes.vSlot++,Zd(f,n,r,!1,s),d&&r.scopes.vSlot--}else if(f.type===11)Zd(f,n,r,f.children.length===1,!0);else if(f.type===9)for(let d=0;d<f.branches.length;d++)Zd(f.branches[d],n,r,f.branches[d].children.length===1,s)}let l=!1;if(a.length===o.length&&n.type===1){if(n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&pt(n.codegenNode.children))n.codegenNode.children=u(Na(n.codegenNode.children)),l=!0;else if(n.tagType===1&&n.codegenNode&&n.codegenNode.type===13&&n.codegenNode.children&&!pt(n.codegenNode.children)&&n.codegenNode.children.type===15){const c=h(n.codegenNode,"default");c&&(c.returns=u(Na(c.returns)),l=!0)}else if(n.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!pt(t.codegenNode.children)&&t.codegenNode.children.type===15){const c=Ai(n,"slot",!0),f=c&&c.arg&&h(t.codegenNode,c.arg);f&&(f.returns=u(Na(f.returns)),l=!0)}}if(!l)for(const c of a)c.codegenNode=r.cache(c.codegenNode);function u(c){const f=r.cache(c);return f.needArraySpread=!0,f}function h(c,f){if(c.children&&!pt(c.children)&&c.children.type===15){const d=c.children.properties.find(p=>p.key===f||p.key.content===f);return d&&d.value}}a.length&&r.transformHoist&&r.transformHoist(o,r,n)}function Hi(n,t){const{constantCache:r}=t;switch(n.type){case 1:if(n.tagType!==0)return 0;const i=r.get(n);if(i!==void 0)return i;const s=n.codegenNode;if(s.type!==13||s.isBlock&&n.tag!=="svg"&&n.tag!=="foreignObject"&&n.tag!=="math")return 0;if(s.patchFlag===void 0){let a=3;const l=zD(n,t);if(l===0)return r.set(n,0),0;l<a&&(a=l);for(let u=0;u<n.children.length;u++){const h=Hi(n.children[u],t);if(h===0)return r.set(n,0),0;h<a&&(a=h)}if(a>1)for(let u=0;u<n.props.length;u++){const h=n.props[u];if(h.type===7&&h.name==="bind"&&h.exp){const c=Hi(h.exp,t);if(c===0)return r.set(n,0),0;c<a&&(a=c)}}if(s.isBlock){for(let u=0;u<n.props.length;u++)if(n.props[u].type===7)return r.set(n,0),0;t.removeHelper(Ma),t.removeHelper($l(t.inSSR,s.isComponent)),s.isBlock=!1,t.helper(Vl(t.inSSR,s.isComponent))}return r.set(n,a),a}else return r.set(n,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Hi(n.content,t);case 4:return n.constType;case 8:let o=3;for(let a=0;a<n.children.length;a++){const l=n.children[a];if(Bt(l)||ki(l))continue;const u=Hi(l,t);if(u===0)return 0;u<o&&(o=u)}return o;case 20:return 2;default:return 0}}const nj=new Set([Jm,Qm,sc,Ec]);function jD(n,t){if(n.type===14&&!Bt(n.callee)&&nj.has(n.callee)){const r=n.arguments[0];if(r.type===4)return Hi(r,t);if(r.type===14)return jD(r,t)}return 0}function zD(n,t){let r=3;const i=GD(n);if(i&&i.type===15){const{properties:s}=i;for(let o=0;o<s.length;o++){const{key:a,value:l}=s[o],u=Hi(a,t);if(u===0)return u;u<r&&(r=u);let h;if(l.type===4?h=Hi(l,t):l.type===14?h=jD(l,t):h=0,h===0)return h;h<r&&(r=h)}}return r}function GD(n){const t=n.codegenNode;if(t.type===13)return t.props}function HD(n,{filename:t="",prefixIdentifiers:r=!1,hoistStatic:i=!1,hmr:s=!1,cacheHandlers:o=!1,nodeTransforms:a=[],directiveTransforms:l={},transformHoist:u=null,isBuiltInComponent:h=Wr,isCustomElement:c=Wr,expressionPlugins:f=[],scopeId:d=null,slotted:p=!0,ssr:m=!1,inSSR:g=!1,ssrCssVars:v="",bindingMetadata:S=un,inline:y=!1,isTS:x=!1,onError:b=nb,onWarn:w=ED,compatConfig:E}){const _=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),T={filename:t,selfName:_&&$a(qn(_[1])),prefixIdentifiers:r,hoistStatic:i,hmr:s,cacheHandlers:o,nodeTransforms:a,directiveTransforms:l,transformHoist:u,isBuiltInComponent:h,isCustomElement:c,expressionPlugins:f,scopeId:d,slotted:p,ssr:m,inSSR:g,ssrCssVars:v,bindingMetadata:S,inline:y,isTS:x,onError:b,onWarn:w,compatConfig:E,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(C){const F=T.helpers.get(C)||0;return T.helpers.set(C,F+1),C},removeHelper(C){const F=T.helpers.get(C);if(F){const k=F-1;k?T.helpers.set(C,k):T.helpers.delete(C)}},helperString(C){return`_${Bl[T.helper(C)]}`},replaceNode(C){T.parent.children[T.childIndex]=T.currentNode=C},removeNode(C){const F=T.parent.children,k=C?F.indexOf(C):T.currentNode?T.childIndex:-1;!C||C===T.currentNode?(T.currentNode=null,T.onNodeRemoved()):T.childIndex>k&&(T.childIndex--,T.onNodeRemoved()),T.parent.children.splice(k,1)},onNodeRemoved:Wr,addIdentifiers(C){},removeIdentifiers(C){},hoist(C){Bt(C)&&(C=Yt(C)),T.hoists.push(C);const F=Yt(`_hoisted_${T.hoists.length}`,!1,C.loc,2);return F.hoisted=C,F},cache(C,F=!1,k=!1){const D=_D(T.cached.length,C,F,k);return T.cached.push(D),D}};return T.filters=new Set,T}function WD(n,t){const r=HD(n,t);Cf(n,r),t.hoistStatic&&tj(n,r),t.ssr||rj(n,r),n.helpers=new Set([...r.helpers.keys()]),n.components=[...r.components],n.directives=[...r.directives],n.imports=r.imports,n.hoists=r.hoists,n.temps=r.temps,n.cached=r.cached,n.transformed=!0,n.filters=[...r.filters]}function rj(n,t){const{helper:r}=t,{children:i}=n;if(i.length===1){const s=$D(n);if(s&&s.codegenNode){const o=s.codegenNode;o.type===13&&rg(o,t),n.codegenNode=o}else n.codegenNode=i[0]}else if(i.length>1){let s=64;n.codegenNode=oc(t,r(ic),void 0,n.children,s,void 0,void 0,!0,void 0,!1)}}function ij(n,t){let r=0;const i=()=>{r--};for(;r<n.children.length;r++){const s=n.children[r];Bt(s)||(t.grandParent=t.parent,t.parent=n,t.childIndex=r,t.onNodeRemoved=i,Cf(s,t))}}function Cf(n,t){t.currentNode=n;const{nodeTransforms:r}=t,i=[];for(let o=0;o<r.length;o++){const a=r[o](n,t);if(a&&(pt(a)?i.push(...a):i.push(a)),t.currentNode)n=t.currentNode;else return}switch(n.type){case 3:t.ssr||t.helper(wc);break;case 5:t.ssr||t.helper(wf);break;case 9:for(let o=0;o<n.branches.length;o++)Cf(n.branches[o],t);break;case 10:case 11:case 1:case 0:ij(n,t);break}t.currentNode=n;let s=i.length;for(;s--;)i[s]()}function ub(n,t){const r=Bt(n)?i=>i===n:i=>n.test(i);return(i,s)=>{if(i.type===1){const{props:o}=i;if(i.tagType===3&&o.some(ob))return;const a=[];for(let l=0;l<o.length;l++){const u=o[l];if(u.type===7&&r(u.name)){o.splice(l,1),l--;const h=t(i,u,s);h&&a.push(h)}}return a}}}const ig="/*@__PURE__*/",XD=n=>`${Bl[n]}: _${Bl[n]}`;function sj(n,{mode:t="function",prefixIdentifiers:r=t==="module",sourceMap:i=!1,filename:s="template.vue.html",scopeId:o=null,optimizeImports:a=!1,runtimeGlobalName:l="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:h="vue/server-renderer",ssr:c=!1,isTS:f=!1,inSSR:d=!1}){const p={mode:t,prefixIdentifiers:r,sourceMap:i,filename:s,scopeId:o,optimizeImports:a,runtimeGlobalName:l,runtimeModuleName:u,ssrRuntimeModuleName:h,ssr:c,isTS:f,inSSR:d,source:n.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${Bl[g]}`},push(g,v=-2,S){p.code+=g},indent(){m(++p.indentLevel)},deindent(g=!1){g?--p.indentLevel:m(--p.indentLevel)},newline(){m(p.indentLevel)}};function m(g){p.push(`
`+"  ".repeat(g),0)}return p}function qD(n,t={}){const r=sj(n,t);t.onContextCreated&&t.onContextCreated(r);const{mode:i,push:s,prefixIdentifiers:o,indent:a,deindent:l,newline:u,scopeId:h,ssr:c}=r,f=Array.from(n.helpers),d=f.length>0,p=!o&&i!=="module";oj(n,r);const g=c?"ssrRender":"render",S=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${g}(${S}) {`),a(),p&&(s("with (_ctx) {"),a(),d&&(s(`const { ${f.map(XD).join(", ")} } = _Vue
`,-1),u())),n.components.length&&(P0(n.components,"component",r),(n.directives.length||n.temps>0)&&u()),n.directives.length&&(P0(n.directives,"directive",r),n.temps>0&&u()),n.filters&&n.filters.length&&(u(),P0(n.filters,"filter",r),u()),n.temps>0){s("let ");for(let y=0;y<n.temps;y++)s(`${y>0?", ":""}_temp${y}`)}return(n.components.length||n.directives.length||n.temps)&&(s(`
`,0),u()),c||s("return "),n.codegenNode?mi(n.codegenNode,r):s("null"),p&&(l(),s("}")),l(),s("}"),{ast:n,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function oj(n,t){const{ssr:r,prefixIdentifiers:i,push:s,newline:o,runtimeModuleName:a,runtimeGlobalName:l,ssrRuntimeModuleName:u}=t,h=l,c=Array.from(n.helpers);if(c.length>0&&(s(`const _Vue = ${h}
`,-1),n.hoists.length)){const f=[zm,Gm,wc,Hm,J1].filter(d=>c.includes(d)).map(XD).join(", ");s(`const { ${f} } = _Vue
`,-1)}aj(n.hoists,t),o(),s("return ")}function P0(n,t,{helper:r,push:i,newline:s,isTS:o}){const a=r(t==="filter"?Ym:t==="component"?Wm:qm);for(let l=0;l<n.length;l++){let u=n[l];const h=u.endsWith("__self");h&&(u=u.slice(0,-6)),i(`const ${uc(u,t)} = ${a}(${JSON.stringify(u)}${h?", true":""})${o?"!":""}`),l<n.length-1&&s()}}function aj(n,t){if(!n.length)return;t.pure=!0;const{push:r,newline:i}=t;i();for(let s=0;s<n.length;s++){const o=n[s];o&&(r(`const _hoisted_${s+1} = `),mi(o,t),i())}t.pure=!1}function cb(n,t){const r=n.length>3||!1;t.push("["),r&&t.indent(),Af(n,t,r),r&&t.deindent(),t.push("]")}function Af(n,t,r=!1,i=!0){const{push:s,newline:o}=t;for(let a=0;a<n.length;a++){const l=n[a];Bt(l)?s(l,-3):pt(l)?cb(l,t):mi(l,t),a<n.length-1&&(r?(i&&s(","),o()):i&&s(", "))}}function mi(n,t){if(Bt(n)){t.push(n,-3);return}if(ki(n)){t.push(t.helper(n));return}switch(n.type){case 1:case 9:case 11:mi(n.codegenNode,t);break;case 2:lj(n,t);break;case 4:YD(n,t);break;case 5:uj(n,t);break;case 12:mi(n.codegenNode,t);break;case 8:KD(n,t);break;case 3:hj(n,t);break;case 13:fj(n,t);break;case 14:pj(n,t);break;case 15:mj(n,t);break;case 17:gj(n,t);break;case 18:vj(n,t);break;case 19:yj(n,t);break;case 20:bj(n,t);break;case 21:Af(n.body,t,!0,!1);break}}function lj(n,t){t.push(JSON.stringify(n.content),-3,n)}function YD(n,t){const{content:r,isStatic:i}=n;t.push(i?JSON.stringify(r):r,-3,n)}function uj(n,t){const{push:r,helper:i,pure:s}=t;s&&r(ig),r(`${i(wf)}(`),mi(n.content,t),r(")")}function KD(n,t){for(let r=0;r<n.children.length;r++){const i=n.children[r];Bt(i)?t.push(i,-3):mi(i,t)}}function cj(n,t){const{push:r}=t;if(n.type===8)r("["),KD(n,t),r("]");else if(n.isStatic){const i=Ef(n.content)?n.content:JSON.stringify(n.content);r(i,-2,n)}else r(`[${n.content}]`,-3,n)}function hj(n,t){const{push:r,helper:i,pure:s}=t;s&&r(ig),r(`${i(wc)}(${JSON.stringify(n.content)})`,-3,n)}function fj(n,t){const{push:r,helper:i,pure:s}=t,{tag:o,props:a,children:l,patchFlag:u,dynamicProps:h,directives:c,isBlock:f,disableTracking:d,isComponent:p}=n;let m;u&&(m=String(u)),c&&r(i(Km)+"("),f&&r(`(${i(Ma)}(${d?"true":""}), `),s&&r(ig);const g=f?$l(t.inSSR,p):Vl(t.inSSR,p);r(i(g)+"(",-2,n),Af(dj([o,a,l,m,h]),t),r(")"),f&&r(")"),c&&(r(", "),mi(c,t),r(")"))}function dj(n){let t=n.length;for(;t--&&n[t]==null;);return n.slice(0,t+1).map(r=>r||"null")}function pj(n,t){const{push:r,helper:i,pure:s}=t,o=Bt(n.callee)?n.callee:i(n.callee);s&&r(ig),r(o+"(",-2,n),Af(n.arguments,t),r(")")}function mj(n,t){const{push:r,indent:i,deindent:s,newline:o}=t,{properties:a}=n;if(!a.length){r("{}",-2,n);return}const l=a.length>1||!1;r(l?"{":"{ "),l&&i();for(let u=0;u<a.length;u++){const{key:h,value:c}=a[u];cj(h,t),r(": "),mi(c,t),u<a.length-1&&(r(","),o())}l&&s(),r(l?"}":" }")}function gj(n,t){cb(n.elements,t)}function vj(n,t){const{push:r,indent:i,deindent:s}=t,{params:o,returns:a,body:l,newline:u,isSlot:h}=n;h&&r(`_${Bl[tg]}(`),r("(",-2,n),pt(o)?Af(o,t):o&&mi(o,t),r(") => "),(u||l)&&(r("{"),i()),a?(u&&r("return "),pt(a)?cb(a,t):mi(a,t)):l&&mi(l,t),(u||l)&&(s(),r("}")),h&&(n.isNonScopedSlot&&r(", undefined, true"),r(")"))}function yj(n,t){const{test:r,consequent:i,alternate:s,newline:o}=n,{push:a,indent:l,deindent:u,newline:h}=t;if(r.type===4){const f=!Ef(r.content);f&&a("("),YD(r,t),f&&a(")")}else a("("),mi(r,t),a(")");o&&l(),t.indentLevel++,o||a(" "),a("? "),mi(i,t),t.indentLevel--,o&&h(),o||a(" "),a(": ");const c=s.type===19;c||t.indentLevel++,mi(s,t),c||t.indentLevel--,o&&u(!0)}function bj(n,t){const{push:r,helper:i,indent:s,deindent:o,newline:a}=t,{needPauseTracking:l,needArraySpread:u}=n;u&&r("[...("),r(`_cache[${n.index}] || (`),l&&(s(),r(`${i(Vh)}(-1`),n.inVOnce&&r(", true"),r("),"),a(),r("(")),r(`_cache[${n.index}] = `),mi(n.value,t),l&&(r(`).cacheIndex = ${n.index},`),a(),r(`${i(Vh)}(1),`),a(),r(`_cache[${n.index}]`),o()),r(")"),u&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const xj=(n,t)=>{if(n.type===5)n.content=Jd(n.content,t);else if(n.type===1){const r=Ai(n,"memo");for(let i=0;i<n.props.length;i++){const s=n.props[i];if(s.type===7&&s.name!=="for"){const o=s.exp,a=s.arg;o&&o.type===4&&!(s.name==="on"&&a)&&!(r&&a&&a.type===4&&a.content==="key")&&(s.exp=Jd(o,t,s.name==="slot")),a&&a.type===4&&!a.isStatic&&(s.arg=Jd(a,t))}}}};function Jd(n,t,r=!1,i=!1,s=Object.create(t.identifiers)){return n}function ZD(n){return Bt(n)?n:n.type===4?n.content:n.children.map(ZD).join("")}const _j=ub(/^(?:if|else|else-if)$/,(n,t,r)=>JD(n,t,r,(i,s,o)=>{const a=r.parent.children;let l=a.indexOf(i),u=0;for(;l-->=0;){const h=a[l];h&&h.type===9&&(u+=h.branches.length)}return()=>{if(o)i.codegenNode=BE(s,u,r);else{const h=wj(i.codegenNode);h.alternate=BE(s,u+i.branches.length-1,r)}}}));function JD(n,t,r,i){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const s=t.exp?t.exp.loc:n.loc;r.onError(Yn(28,t.loc)),t.exp=Yt("true",!1,s)}if(t.name==="if"){const s=RE(n,t),o={type:9,loc:J$(n.loc),branches:[s]};if(r.replaceNode(o),i)return i(o,s,!0)}else{const s=r.parent.children;let o=s.indexOf(n);for(;o-->=-1;){const a=s[o];if(a&&a.type===3){r.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){r.removeNode(a);continue}if(a&&a.type===9){(t.name==="else-if"||t.name==="else")&&a.branches[a.branches.length-1].condition===void 0&&r.onError(Yn(30,n.loc)),r.removeNode();const l=RE(n,t);a.branches.push(l);const u=i&&i(a,l,!1);Cf(l,r),u&&u(),r.currentNode=null}else r.onError(Yn(30,n.loc));break}}}function RE(n,t){const r=n.tagType===3;return{type:10,loc:n.loc,condition:t.name==="else"?void 0:t.exp,children:r&&!Ai(n,"for")?n.children:[n],userKey:Sf(n,"key"),isTemplateIf:r}}function BE(n,t,r){return n.condition?kp(n.condition,UE(n,t,r),Tr(r.helper(wc),['""',"true"])):UE(n,t,r)}function UE(n,t,r){const{helper:i}=r,s=Sr("key",Yt(`${t}`,!1,Ur,2)),{children:o}=n,a=o[0];if(o.length!==1||a.type!==1)if(o.length===1&&a.type===11){const u=a.codegenNode;return jh(u,s,r),u}else return oc(r,i(ic),ls([s]),o,64,void 0,void 0,!0,!1,!1,n.loc);else{const u=a.codegenNode,h=PD(u);return h.type===13&&rg(h,r),jh(h,s,r),u}}function wj(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}const Ej=ub("for",(n,t,r)=>{const{helper:i,removeHelper:s}=r;return QD(n,t,r,o=>{const a=Tr(i(Zm),[o.source]),l=lc(n),u=Ai(n,"memo"),h=Sf(n,"key",!1,!0);h&&h.type;let c=h&&(h.type===6?h.value?Yt(h.value.content,!0):void 0:h.exp);const f=h&&c?Sr("key",c):null,d=o.source.type===4&&o.source.constType>0,p=d?64:h?128:256;return o.codegenNode=oc(r,i(ic),void 0,a,p,void 0,void 0,!0,!d,!1,n.loc),()=>{let m;const{children:g}=o,v=g.length!==1||g[0].type!==1,S=$h(n)?n:l&&n.children.length===1&&$h(n.children[0])?n.children[0]:null;if(S?(m=S.codegenNode,l&&f&&jh(m,f,r)):v?m=oc(r,i(ic),f?ls([f]):void 0,n.children,64,void 0,void 0,!0,void 0,!1):(m=g[0].codegenNode,l&&f&&jh(m,f,r),m.isBlock!==!d&&(m.isBlock?(s(Ma),s($l(r.inSSR,m.isComponent))):s(Vl(r.inSSR,m.isComponent))),m.isBlock=!d,m.isBlock?(i(Ma),i($l(r.inSSR,m.isComponent))):i(Vl(r.inSSR,m.isComponent))),u){const y=Ul(Op(o.parseResult,[Yt("_cached")]));y.body=wD([Ss(["const _memo = (",u.exp,")"]),Ss(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${r.helperString(tb)}(_cached, _memo)) return _cached`]),Ss(["const _item = ",m]),Yt("_item.memo = _memo"),Yt("return _item")]),a.arguments.push(y,Yt("_cache"),Yt(String(r.cached.length))),r.cached.push(null)}else a.arguments.push(Ul(Op(o.parseResult),m,!0))}})});function QD(n,t,r,i){if(!t.exp){r.onError(Yn(31,t.loc));return}const s=t.forParseResult;if(!s){r.onError(Yn(32,t.loc));return}hb(s);const{addIdentifiers:o,removeIdentifiers:a,scopes:l}=r,{source:u,value:h,key:c,index:f}=s,d={type:11,loc:t.loc,source:u,valueAlias:h,keyAlias:c,objectIndexAlias:f,parseResult:s,children:lc(n)?n.children:[n]};r.replaceNode(d),l.vFor++;const p=i&&i(d);return()=>{l.vFor--,p&&p()}}function hb(n,t){n.finalized||(n.finalized=!0)}function Op({value:n,key:t,index:r},i=[]){return Sj([n,t,r,...i])}function Sj(n){let t=n.length;for(;t--&&!n[t];);return n.slice(0,t+1).map((r,i)=>r||Yt("_".repeat(i+1),!1))}const VE=Yt("undefined",!1),e5=(n,t)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){const r=Ai(n,"slot");if(r)return r.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Cj=(n,t)=>{let r;if(lc(n)&&n.props.some(ob)&&(r=Ai(n,"for"))){const i=r.forParseResult;if(i){hb(i);const{value:s,key:o,index:a}=i,{addIdentifiers:l,removeIdentifiers:u}=t;return s&&l(s),o&&l(o),a&&l(a),()=>{s&&u(s),o&&u(o),a&&u(a)}}}},Aj=(n,t,r,i)=>Ul(n,r,!1,!0,r.length?r[0].loc:i);function t5(n,t,r=Aj){t.helper(tg);const{children:i,loc:s}=n,o=[],a=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const u=Ai(n,"slot",!0);if(u){const{arg:v,exp:S}=u;v&&!Ni(v)&&(l=!0),o.push(Sr(v||Yt("default",!0),r(S,void 0,i,s)))}let h=!1,c=!1;const f=[],d=new Set;let p=0;for(let v=0;v<i.length;v++){const S=i[v];let y;if(!lc(S)||!(y=Ai(S,"slot",!0))){S.type!==3&&f.push(S);continue}if(u){t.onError(Yn(37,y.loc));break}h=!0;const{children:x,loc:b}=S,{arg:w=Yt("default",!0),exp:E,loc:_}=y;let T;Ni(w)?T=w?w.content:"default":l=!0;const C=Ai(S,"for"),F=r(E,C,x,b);let k,D;if(k=Ai(S,"if"))l=!0,a.push(kp(k.exp,ud(w,F,p++),VE));else if(D=Ai(S,/^else(?:-if)?$/,!0)){let N=v,M;for(;N--&&(M=i[N],!(M.type!==3&&by(M))););if(M&&lc(M)&&Ai(M,/^(?:else-)?if$/)){let U=a[a.length-1];for(;U.alternate.type===19;)U=U.alternate;U.alternate=D.exp?kp(D.exp,ud(w,F,p++),VE):ud(w,F,p++)}else t.onError(Yn(30,D.loc))}else if(C){l=!0;const N=C.forParseResult;N?(hb(N),a.push(Tr(t.helper(Zm),[N.source,Ul(Op(N),ud(w,F),!0)]))):t.onError(Yn(32,C.loc))}else{if(T){if(d.has(T)){t.onError(Yn(38,_));continue}d.add(T),T==="default"&&(c=!0)}o.push(Sr(w,F))}}if(!u){const v=(S,y)=>{const x=r(S,void 0,y,s);return t.compatConfig&&(x.isNonScopedSlot=!0),Sr("default",x)};h?f.length&&f.some(S=>by(S))&&(c?t.onError(Yn(39,f[0].loc)):o.push(v(void 0,f))):o.push(v(void 0,i))}const m=l?2:Qd(n.children)?3:1;let g=ls(o.concat(Sr("_",Yt(m+"",!1))),s);return a.length&&(g=Tr(t.helper(eb),[g,Na(a)])),{slots:g,hasDynamicSlots:l}}function ud(n,t,r){const i=[Sr("name",n),Sr("fn",t)];return r!=null&&i.push(Sr("key",Yt(String(r),!0))),ls(i)}function Qd(n){for(let t=0;t<n.length;t++){const r=n[t];switch(r.type){case 1:if(r.tagType===2||Qd(r.children))return!0;break;case 9:if(Qd(r.branches))return!0;break;case 10:case 11:if(Qd(r.children))return!0;break}}return!1}function by(n){return n.type!==2&&n.type!==12?!0:n.type===2?!!n.content.trim():by(n.content)}const n5=new WeakMap,r5=(n,t)=>function(){if(n=t.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;const{tag:i,props:s}=n,o=n.tagType===1;let a=o?i5(n,t):`"${i}"`;const l=En(a)&&a.callee===Xm;let u,h,c=0,f,d,p,m=l||a===zu||a===jm||!o&&(i==="svg"||i==="foreignObject"||i==="math");if(s.length>0){const g=fb(n,t,void 0,o,l);u=g.props,c=g.patchFlag,d=g.dynamicPropNames;const v=g.directives;p=v&&v.length?Na(v.map(S=>s5(S,t))):void 0,g.shouldUseBlock&&(m=!0)}if(n.children.length>0)if(a===Bh&&(m=!0,c|=1024),o&&a!==zu&&a!==Bh){const{slots:v,hasDynamicSlots:S}=t5(n,t);h=v,S&&(c|=1024)}else if(n.children.length===1&&a!==zu){const v=n.children[0],S=v.type,y=S===5||S===8;y&&Hi(v,t)===0&&(c|=1),y||S===2?h=v:h=n.children}else h=n.children;d&&d.length&&(f=Ij(d)),n.codegenNode=oc(t,a,u,h,c===0?void 0:c,f,p,!!m,!1,o,n.loc)};function i5(n,t,r=!1){let{tag:i}=n;const s=xy(i),o=Sf(n,"is",!1,!0);if(o)if(s||Il("COMPILER_IS_ON_ELEMENT",t)){let l;if(o.type===6?l=o.value&&Yt(o.value.content,!0):(l=o.exp,l||(l=Yt("is",!1,o.arg.loc))),l)return Tr(t.helper(Xm),[l])}else o.type===6&&o.value.content.startsWith("vue:")&&(i=o.value.content.slice(4));const a=rb(i)||t.isBuiltInComponent(i);return a?(r||t.helper(a),a):(t.helper(Wm),t.components.add(i),uc(i,"component"))}function fb(n,t,r=n.props,i,s,o=!1){const{tag:a,loc:l,children:u}=n;let h=[];const c=[],f=[],d=u.length>0;let p=!1,m=0,g=!1,v=!1,S=!1,y=!1,x=!1,b=!1;const w=[],E=F=>{h.length&&(c.push(ls($E(h),l)),h=[]),F&&c.push(F)},_=()=>{t.scopes.vFor>0&&h.push(Sr(Yt("ref_for",!0),Yt("true")))},T=({key:F,value:k})=>{if(Ni(F)){const D=F.content,N=Ua(D);if(N&&(!i||s)&&D.toLowerCase()!=="onclick"&&D!=="onUpdate:modelValue"&&!Vo(D)&&(y=!0),N&&Vo(D)&&(b=!0),N&&k.type===14&&(k=k.arguments[0]),k.type===20||(k.type===4||k.type===8)&&Hi(k,t)>0)return;D==="ref"?g=!0:D==="class"?v=!0:D==="style"?S=!0:D!=="key"&&!w.includes(D)&&w.push(D),i&&(D==="class"||D==="style")&&!w.includes(D)&&w.push(D)}else x=!0};for(let F=0;F<r.length;F++){const k=r[F];if(k.type===6){const{loc:D,name:N,nameLoc:M,value:U}=k;let R=!0;if(N==="ref"&&(g=!0,_()),N==="is"&&(xy(a)||U&&U.content.startsWith("vue:")||Il("COMPILER_IS_ON_ELEMENT",t)))continue;h.push(Sr(Yt(N,!0,M),Yt(U?U.content:"",R,U?U.loc:D)))}else{const{name:D,arg:N,exp:M,loc:U,modifiers:R}=k,W=D==="bind",ne=D==="on";if(D==="slot"){i||t.onError(Yn(40,U));continue}if(D==="once"||D==="memo"||D==="is"||W&&_a(N,"is")&&(xy(a)||Il("COMPILER_IS_ON_ELEMENT",t))||ne&&o)continue;if((W&&_a(N,"key")||ne&&d&&_a(N,"vue:before-update"))&&(p=!0),W&&_a(N,"ref")&&_(),!N&&(W||ne)){if(x=!0,M)if(W){if(E(),Il("COMPILER_V_BIND_OBJECT_ORDER",t)){c.unshift(M);continue}_(),E(),c.push(M)}else E({type:14,loc:U,callee:t.helper(eg),arguments:i?[M]:[M,"true"]});else t.onError(Yn(W?34:35,U));continue}W&&R.some(te=>te.content==="prop")&&(m|=32);const ge=t.directiveTransforms[D];if(ge){const{props:te,needRuntime:J}=ge(k,n,t);!o&&te.forEach(T),ne&&N&&!Ni(N)?E(ls(te,l)):h.push(...te),J&&(f.push(k),ki(J)&&n5.set(k,J))}else dA(D)||(f.push(k),d&&(p=!0))}}let C;if(c.length?(E(),c.length>1?C=Tr(t.helper(Uh),c,l):C=c[0]):h.length&&(C=ls($E(h),l)),x?m|=16:(v&&!i&&(m|=2),S&&!i&&(m|=4),w.length&&(m|=8),y&&(m|=32)),!p&&(m===0||m===32)&&(g||b||f.length>0)&&(m|=512),!t.inSSR&&C)switch(C.type){case 15:let F=-1,k=-1,D=!1;for(let U=0;U<C.properties.length;U++){const R=C.properties[U].key;Ni(R)?R.content==="class"?F=U:R.content==="style"&&(k=U):R.isHandlerKey||(D=!0)}const N=C.properties[F],M=C.properties[k];D?C=Tr(t.helper(sc),[C]):(N&&!Ni(N.value)&&(N.value=Tr(t.helper(Jm),[N.value])),M&&(S||M.value.type===4&&M.value.content.trim()[0]==="["||M.value.type===17)&&(M.value=Tr(t.helper(Qm),[M.value])));break;case 14:break;default:C=Tr(t.helper(sc),[Tr(t.helper(Ec),[C])]);break}return{props:C,directives:f,patchFlag:m,dynamicPropNames:w,shouldUseBlock:p}}function $E(n){const t=new Map,r=[];for(let i=0;i<n.length;i++){const s=n[i];if(s.key.type===8||!s.key.isStatic){r.push(s);continue}const o=s.key.content,a=t.get(o);a?(o==="style"||o==="class"||Ua(o))&&Tj(a,s):(t.set(o,s),r.push(s))}return r}function Tj(n,t){n.value.type===17?n.value.elements.push(t.value):n.value=Na([n.value,t.value],n.loc)}function s5(n,t){const r=[],i=n5.get(n);i?r.push(t.helperString(i)):(t.helper(qm),t.directives.add(n.name),r.push(uc(n.name,"directive")));const{loc:s}=n;if(n.exp&&r.push(n.exp),n.arg&&(n.exp||r.push("void 0"),r.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||r.push("void 0"),r.push("void 0"));const o=Yt("true",!1,s);r.push(ls(n.modifiers.map(a=>Sr(a,o)),s))}return Na(r,n.loc)}function Ij(n){let t="[";for(let r=0,i=n.length;r<i;r++)t+=JSON.stringify(n[r]),r<i-1&&(t+=", ");return t+"]"}function xy(n){return n==="component"||n==="Component"}const Dj=(n,t)=>{if($h(n)){const{children:r,loc:i}=n,{slotName:s,slotProps:o}=o5(n,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let l=2;o&&(a[2]=o,l=3),r.length&&(a[3]=Ul([],r,!1,!1,i),l=4),t.scopeId&&!t.slotted&&(l=5),a.splice(l),n.codegenNode=Tr(t.helper(Q1),a,i)}};function o5(n,t){let r='"default"',i;const s=[];for(let o=0;o<n.props.length;o++){const a=n.props[o];if(a.type===6)a.value&&(a.name==="name"?r=JSON.stringify(a.value.content):(a.name=qn(a.name),s.push(a)));else if(a.name==="bind"&&_a(a.arg,"name")){if(a.exp)r=a.exp;else if(a.arg&&a.arg.type===4){const l=qn(a.arg.content);r=a.exp=Yt(l,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&Ni(a.arg)&&(a.arg.content=qn(a.arg.content)),s.push(a)}if(s.length>0){const{props:o,directives:a}=fb(n,t,s,!1,!1);i=o,a.length&&t.onError(Yn(36,a[0].loc))}return{slotName:r,slotProps:i}}const db=(n,t,r,i)=>{const{loc:s,modifiers:o,arg:a}=n;!n.exp&&!o.length&&r.onError(Yn(35,s));let l;if(a.type===4)if(a.isStatic){let f=a.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const d=t.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?wl(qn(f)):`on:${f}`;l=Yt(d,!0,a.loc)}else l=Ss([`${r.helperString(Fp)}(`,a,")"]);else l=a,l.children.unshift(`${r.helperString(Fp)}(`),l.children.push(")");let u=n.exp;u&&!u.content.trim()&&(u=void 0);let h=r.cacheHandlers&&!u&&!r.inVOnce;if(u){const f=sb(u),d=!(f||FD(u)),p=u.content.includes(";");(d||h&&f)&&(u=Ss([`${d?"$event":"(...args)"} => ${p?"{":"("}`,u,p?"}":")"]))}let c={props:[Sr(l,u||Yt("() => {}",!1,s))]};return i&&(c=i(c)),h&&(c.props[0].value=r.cache(c.props[0].value)),c.props.forEach(f=>f.key.isHandlerKey=!0),c},a5=(n,t,r)=>{const{modifiers:i,loc:s}=n,o=n.arg;let{exp:a}=n;return a&&a.type===4&&!a.content.trim()&&(a=void 0),o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=o.content?`${o.content} || ""`:'""'),i.some(l=>l.content==="camel")&&(o.type===4?o.isStatic?o.content=qn(o.content):o.content=`${r.helperString(Np)}(${o.content})`:(o.children.unshift(`${r.helperString(Np)}(`),o.children.push(")"))),r.inSSR||(i.some(l=>l.content==="prop")&&jE(o,"."),i.some(l=>l.content==="attr")&&jE(o,"^")),{props:[Sr(o,a)]}},jE=(n,t)=>{n.type===4?n.isStatic?n.content=t+n.content:n.content=`\`${t}\${${n.content}}\``:(n.children.unshift(`'${t}' + (`),n.children.push(")"))},Nj=(n,t)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{const r=n.children;let i,s=!1;for(let o=0;o<r.length;o++){const a=r[o];if(qd(a)){s=!0;for(let l=o+1;l<r.length;l++){const u=r[l];if(qd(u))i||(i=r[o]=Ss([a],a.loc)),i.children.push(" + ",u),r.splice(l,1),l--;else{i=void 0;break}}}}if(!(!s||r.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(o=>o.type===7&&!t.directiveTransforms[o.name])&&n.tag!=="template")))for(let o=0;o<r.length;o++){const a=r[o];if(qd(a)||a.type===8){const l=[];(a.type!==2||a.content!==" ")&&l.push(a),!t.ssr&&Hi(a,t)===0&&l.push("1"),r[o]={type:12,content:a,loc:a.loc,codegenNode:Tr(t.helper(Hm),l)}}}}},zE=new WeakSet,Fj=(n,t)=>{if(n.type===1&&Ai(n,"once",!0))return zE.has(n)||t.inVOnce||t.inSSR?void 0:(zE.add(n),t.inVOnce=!0,t.helper(Vh),()=>{t.inVOnce=!1;const r=t.currentNode;r.codegenNode&&(r.codegenNode=t.cache(r.codegenNode,!0,!0))})},pb=(n,t,r)=>{const{exp:i,arg:s}=n;if(!i)return r.onError(Yn(41,n.loc)),cd();const o=i.loc.source.trim(),a=i.type===4?i.content:o,l=r.bindingMetadata[o];if(l==="props"||l==="props-aliased")return r.onError(Yn(44,i.loc)),cd();if(!a.trim()||!sb(i))return r.onError(Yn(42,i.loc)),cd();const u=s||Yt("modelValue",!0),h=s?Ni(s)?`onUpdate:${qn(s.content)}`:Ss(['"onUpdate:" + ',s]):"onUpdate:modelValue";let c;const f=r.isTS?"($event: any)":"$event";c=Ss([`${f} => ((`,i,") = $event)"]);const d=[Sr(u,n.exp),Sr(h,c)];if(n.modifiers.length&&t.tagType===1){const p=n.modifiers.map(g=>g.content).map(g=>(Ef(g)?g:JSON.stringify(g))+": true").join(", "),m=s?Ni(s)?`${s.content}Modifiers`:Ss([s,' + "Modifiers"']):"modelModifiers";d.push(Sr(m,Yt(`{ ${p} }`,!1,n.loc,2)))}return cd(d)};function cd(n=[]){return{props:n}}const kj=/[\w).+\-_$\]]/,Mj=(n,t)=>{Il("COMPILER_FILTERS",t)&&(n.type===5?Pp(n.content,t):n.type===1&&n.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&Pp(r.exp,t)}))};function Pp(n,t){if(n.type===4)GE(n,t);else for(let r=0;r<n.children.length;r++){const i=n.children[r];typeof i=="object"&&(i.type===4?GE(i,t):i.type===8?Pp(n,t):i.type===5&&Pp(i.content,t))}}function GE(n,t){const r=n.content;let i=!1,s=!1,o=!1,a=!1,l=0,u=0,h=0,c=0,f,d,p,m,g=[];for(p=0;p<r.length;p++)if(d=f,f=r.charCodeAt(p),i)f===39&&d!==92&&(i=!1);else if(s)f===34&&d!==92&&(s=!1);else if(o)f===96&&d!==92&&(o=!1);else if(a)f===47&&d!==92&&(a=!1);else if(f===124&&r.charCodeAt(p+1)!==124&&r.charCodeAt(p-1)!==124&&!l&&!u&&!h)m===void 0?(c=p+1,m=r.slice(0,p).trim()):v();else{switch(f){case 34:s=!0;break;case 39:i=!0;break;case 96:o=!0;break;case 40:h++;break;case 41:h--;break;case 91:u++;break;case 93:u--;break;case 123:l++;break;case 125:l--;break}if(f===47){let S=p-1,y;for(;S>=0&&(y=r.charAt(S),y===" ");S--);(!y||!kj.test(y))&&(a=!0)}}m===void 0?m=r.slice(0,p).trim():c!==0&&v();function v(){g.push(r.slice(c,p).trim()),c=p+1}if(g.length){for(p=0;p<g.length;p++)m=Oj(m,g[p],t);n.content=m,n.ast=void 0}}function Oj(n,t,r){r.helper(Ym);const i=t.indexOf("(");if(i<0)return r.filters.add(t),`${uc(t,"filter")}(${n})`;{const s=t.slice(0,i),o=t.slice(i+1);return r.filters.add(s),`${uc(s,"filter")}(${n}${o!==")"?","+o:o}`}}const HE=new WeakSet,Pj=(n,t)=>{if(n.type===1){const r=Ai(n,"memo");return!r||HE.has(n)||t.inSSR?void 0:(HE.add(n),()=>{const i=n.codegenNode||t.currentNode.codegenNode;i&&i.type===13&&(n.tagType!==1&&rg(i,t),n.codegenNode=Tr(t.helper(ng),[r.exp,Ul(void 0,i),"_cache",String(t.cached.length)]),t.cached.push(null))})}},l5=(n,t)=>{if(n.type===1){for(const r of n.props)if(r.type===7&&r.name==="bind"&&!r.exp){const i=r.arg;if(i.type!==4||!i.isStatic)t.onError(Yn(52,i.loc)),r.exp=Yt("",!0,i.loc);else{const s=qn(i.content);(ib.test(s[0])||s[0]==="-")&&(r.exp=Yt(s,!1,i.loc))}}}};function u5(n){return[[l5,Fj,_j,Pj,Ej,Mj,Dj,r5,e5,Nj],{on:db,bind:a5,model:pb}]}function c5(n,t={}){const r=t.onError||nb,i=t.mode==="module";t.prefixIdentifiers===!0?r(Yn(47)):i&&r(Yn(48));const s=!1;t.cacheHandlers&&r(Yn(49)),t.scopeId&&!i&&r(Yn(50));const o=ln({},t,{prefixIdentifiers:s}),a=Bt(n)?lb(n,o):n,[l,u]=u5();return WD(a,ln({},o,{nodeTransforms:[...l,...t.nodeTransforms||[]],directiveTransforms:ln({},u,t.directiveTransforms||{})})),qD(a,o)}const Lj={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},h5=()=>({props:[]});/**
* @vue/compiler-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const mb=Symbol(""),gb=Symbol(""),vb=Symbol(""),yb=Symbol(""),Lp=Symbol(""),bb=Symbol(""),xb=Symbol(""),_b=Symbol(""),wb=Symbol(""),Eb=Symbol("");bD({[mb]:"vModelRadio",[gb]:"vModelCheckbox",[vb]:"vModelText",[yb]:"vModelSelect",[Lp]:"vModelDynamic",[bb]:"withModifiers",[xb]:"withKeys",[_b]:"vShow",[wb]:"Transition",[Eb]:"TransitionGroup"});let bu;function Rj(n,t=!1){return bu||(bu=document.createElement("div")),t?(bu.innerHTML=`<div foo="${n.replace(/"/g,"&quot;")}">`,bu.children[0].getAttribute("foo")):(bu.innerHTML=n,bu.textContent)}const Sb={parseMode:"html",isVoidTag:bA,isNativeTag:n=>gA(n)||vA(n)||yA(n),isPreTag:n=>n==="pre",isIgnoreNewlineTag:n=>n==="pre"||n==="textarea",decodeEntities:Rj,isBuiltInComponent:n=>{if(n==="Transition"||n==="transition")return wb;if(n==="TransitionGroup"||n==="transition-group")return Eb},getNamespace(n,t,r){let i=t?t.ns:r;if(t&&i===2)if(t.tag==="annotation-xml"){if(n==="svg")return 1;t.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&n!=="mglyph"&&n!=="malignmark"&&(i=0);else t&&i===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(i=0);if(i===0){if(n==="svg")return 1;if(n==="math")return 2}return i}},f5=n=>{n.type===1&&n.props.forEach((t,r)=>{t.type===6&&t.name==="style"&&t.value&&(n.props[r]={type:7,name:"bind",arg:Yt("style",!0,t.loc),exp:Bj(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Bj=(n,t)=>{const r=p1(n);return Yt(JSON.stringify(r),!1,t,3)};function jo(n,t){return Yn(n,t)}const Uj={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},Vj={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},$j=(n,t,r)=>{const{exp:i,loc:s}=n;return i||r.onError(jo(53,s)),t.children.length&&(r.onError(jo(54,s)),t.children.length=0),{props:[Sr(Yt("innerHTML",!0,s),i||Yt("",!0))]}},jj=(n,t,r)=>{const{exp:i,loc:s}=n;return i||r.onError(jo(55,s)),t.children.length&&(r.onError(jo(56,s)),t.children.length=0),{props:[Sr(Yt("textContent",!0),i?Hi(i,r)>0?i:Tr(r.helperString(wf),[i],s):Yt("",!0))]}},zj=(n,t,r)=>{const i=pb(n,t,r);if(!i.props.length||t.tagType===1)return i;n.arg&&r.onError(jo(58,n.arg.loc));const{tag:s}=t,o=r.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||o){let a=vb,l=!1;if(s==="input"||o){const u=Sf(t,"type");if(u){if(u.type===7)a=Lp;else if(u.value)switch(u.value.content){case"radio":a=mb;break;case"checkbox":a=gb;break;case"file":l=!0,r.onError(jo(59,n.loc));break}}else MD(t)&&(a=Lp)}else s==="select"&&(a=yb);l||(i.needRuntime=r.helper(a))}else r.onError(jo(57,n.loc));return i.props=i.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),i},Gj=Xr("passive,once,capture"),Hj=Xr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Wj=Xr("left,right"),d5=Xr("onkeyup,onkeydown,onkeypress"),Xj=(n,t,r,i)=>{const s=[],o=[],a=[];for(let l=0;l<t.length;l++){const u=t[l].content;u==="native"&&ac("COMPILER_V_ON_NATIVE",r)||Gj(u)?a.push(u):Wj(u)?Ni(n)?d5(n.content.toLowerCase())?s.push(u):o.push(u):(s.push(u),o.push(u)):Hj(u)?o.push(u):s.push(u)}return{keyModifiers:s,nonKeyModifiers:o,eventOptionModifiers:a}},WE=(n,t)=>Ni(n)&&n.content.toLowerCase()==="onclick"?Yt(t,!0):n.type!==4?Ss(["(",n,`) === "onClick" ? "${t}" : (`,n,")"]):n,qj=(n,t,r)=>db(n,t,r,i=>{const{modifiers:s}=n;if(!s.length)return i;let{key:o,value:a}=i.props[0];const{keyModifiers:l,nonKeyModifiers:u,eventOptionModifiers:h}=Xj(o,s,r,n.loc);if(u.includes("right")&&(o=WE(o,"onContextmenu")),u.includes("middle")&&(o=WE(o,"onMouseup")),u.length&&(a=Tr(r.helper(bb),[a,JSON.stringify(u)])),l.length&&(!Ni(o)||d5(o.content.toLowerCase()))&&(a=Tr(r.helper(xb),[a,JSON.stringify(l)])),h.length){const c=h.map($a).join("");o=Ni(o)?Yt(`${o.content}${c}`,!0):Ss(["(",o,`) + "${c}"`])}return{props:[Sr(o,a)]}}),Yj=(n,t,r)=>{const{exp:i,loc:s}=n;return i||r.onError(jo(61,s)),{props:[],needRuntime:r.helper(_b)}},Kj=(n,t)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&t.removeNode()},m5=[f5],g5={cloak:h5,html:$j,text:jj,model:zj,on:qj,show:Yj};function Zj(n,t={}){return c5(n,ln({},Sb,t,{nodeTransforms:[Kj,...m5,...t.nodeTransforms||[]],directiveTransforms:ln({},g5,t.directiveTransforms||{}),transformHoist:null}))}function Jj(n,t={}){return lb(n,ln({},Sb,t))}const Qj=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:Y1,BindingTypes:Lj,CAMELIZE:Np,CAPITALIZE:pD,CREATE_BLOCK:K1,CREATE_COMMENT:wc,CREATE_ELEMENT_BLOCK:Z1,CREATE_ELEMENT_VNODE:Gm,CREATE_SLOTS:eb,CREATE_STATIC:J1,CREATE_TEXT:Hm,CREATE_VNODE:zm,CompilerDeprecationTypes:b$,ConstantTypes:h$,DOMDirectiveTransforms:g5,DOMErrorCodes:Uj,DOMErrorMessages:Vj,DOMNodeTransforms:m5,ElementTypes:c$,ErrorCodes:w$,FRAGMENT:ic,GUARD_REACTIVE_PROPS:Ec,IS_MEMO_SAME:tb,IS_REF:yD,KEEP_ALIVE:Bh,MERGE_PROPS:Uh,NORMALIZE_CLASS:Jm,NORMALIZE_PROPS:sc,NORMALIZE_STYLE:Qm,Namespaces:l$,NodeTypes:u$,OPEN_BLOCK:Ma,POP_SCOPE_ID:gD,PUSH_SCOPE_ID:mD,RENDER_LIST:Zm,RENDER_SLOT:Q1,RESOLVE_COMPONENT:Wm,RESOLVE_DIRECTIVE:qm,RESOLVE_DYNAMIC_COMPONENT:Xm,RESOLVE_FILTER:Ym,SET_BLOCK_TRACKING:Vh,SUSPENSE:jm,TELEPORT:zu,TO_DISPLAY_STRING:wf,TO_HANDLERS:eg,TO_HANDLER_KEY:Fp,TRANSITION:wb,TRANSITION_GROUP:Eb,TS_NODE_TYPES:AD,UNREF:vD,V_MODEL_CHECKBOX:gb,V_MODEL_DYNAMIC:Lp,V_MODEL_RADIO:mb,V_MODEL_SELECT:yb,V_MODEL_TEXT:vb,V_ON_WITH_KEYS:xb,V_ON_WITH_MODIFIERS:bb,V_SHOW:_b,WITH_CTX:tg,WITH_DIRECTIVES:Km,WITH_MEMO:ng,advancePositionWithClone:V$,advancePositionWithMutation:kD,assert:$$,baseCompile:c5,baseParse:lb,buildDirectiveArgs:s5,buildProps:fb,buildSlots:t5,checkCompatEnabled:ac,compile:Zj,convertToBlock:rg,createArrayExpression:Na,createAssignmentExpression:m$,createBlockStatement:wD,createCacheExpression:_D,createCallExpression:Tr,createCompilerError:Yn,createCompoundExpression:Ss,createConditionalExpression:kp,createDOMCompilerError:jo,createForLoopParams:Op,createFunctionExpression:Ul,createIfStatement:p$,createInterpolation:f$,createObjectExpression:ls,createObjectProperty:Sr,createReturnStatement:v$,createRoot:xD,createSequenceExpression:g$,createSimpleExpression:Yt,createStructuralDirectiveTransform:ub,createTemplateLiteral:d$,createTransformContext:HD,createVNodeCall:oc,errorMessages:E$,extractIdentifiers:uo,findDir:Ai,findProp:Sf,forAliasRE:LD,generate:qD,generateCodeFrame:pA,getBaseTransformPreset:u5,getConstantType:Hi,getMemoedVNodeCall:PD,getVNodeBlockHelper:$l,getVNodeHelper:Vl,hasDynamicKeyVBind:MD,hasScopeRef:Rs,helperNameMap:Bl,injectProp:jh,isCoreComponent:rb,isFnExpression:FD,isFnExpressionBrowser:ND,isFnExpressionNode:U$,isFunctionType:k$,isInDestructureAssignment:A$,isInNewExpression:T$,isMemberExpression:sb,isMemberExpressionBrowser:DD,isMemberExpressionNode:R$,isReferencedIdentifier:C$,isSimpleIdentifier:Ef,isSlotOutlet:$h,isStaticArgOf:_a,isStaticExp:Ni,isStaticProperty:CD,isStaticPropertyKey:M$,isTemplateNode:lc,isText:qd,isVPre:gy,isVSlot:ob,locStub:Ur,noopDirectiveTransform:h5,parse:Jj,parserOptions:Sb,processExpression:Jd,processFor:QD,processIf:JD,processSlotOutlet:o5,registerRuntimeHelpers:bD,resolveComponentType:i5,stringifyExpression:ZD,toValidAssetId:uc,trackSlotScopes:e5,trackVForSlotScopes:Cj,transform:WD,transformBind:a5,transformElement:r5,transformExpression:xj,transformModel:pb,transformOn:db,transformStyle:f5,transformVBindShorthand:l5,traverseNode:Cf,unwrapTSNode:TD,validFirstIdentCharRE:ib,walkBlockDeclarations:SD,walkFunctionParams:I$,walkIdentifiers:S$,warnDeprecation:_$},Symbol.toStringTag,{value:"Module"})),ez=dm(Qj),tz=dm(P4),nz=dm(EP);/**
* vue v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var XE;function rz(){return XE||(XE=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});var t=ez,r=tz,i=nz;function s(u){var h=Object.create(null);if(u)for(var c in u)h[c]=u[c];return h.default=u,Object.freeze(h)}var o=s(r);const a=Object.create(null);function l(u,h){if(!i.isString(u))if(u.nodeType)u=u.innerHTML;else return i.NOOP;const c=i.genCacheKey(u,h),f=a[c];if(f)return f;if(u[0]==="#"){const g=document.querySelector(u);u=g?g.innerHTML:""}const d=i.extend({hoistStatic:!0,onError:void 0,onWarn:i.NOOP},h);!d.isCustomElement&&typeof customElements<"u"&&(d.isCustomElement=g=>!!customElements.get(g));const{code:p}=t.compile(u,d),m=new Function("Vue",p)(o);return m._rc=!0,a[c]=m}r.registerRuntimeCompiler(l),n.compile=l,Object.keys(r).forEach(function(u){u!=="default"&&!Object.prototype.hasOwnProperty.call(n,u)&&(n[u]=r[u])})})(O0)),O0}var qE;function iz(){return qE||(qE=1,M0.exports=rz()),M0.exports}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function YE(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function po(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(i){sz(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ep(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ep=function(t){return typeof t}:ep=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(n)}function sz(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Is(){return Is=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Is.apply(this,arguments)}function oz(n,t){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(t.indexOf(s)>=0)&&(r[s]=n[s]);return r}function az(n,t){if(n==null)return{};var r=oz(n,t),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function lz(n){return uz(n)||cz(n)||hz(n)||fz()}function uz(n){if(Array.isArray(n))return _y(n)}function cz(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function hz(n,t){if(n){if(typeof n=="string")return _y(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _y(n,t)}}function _y(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=n[r];return i}function fz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dz="1.14.0";function zo(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var ta=zo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Tf=zo(/Edge/i),KE=zo(/firefox/i),ph=zo(/safari/i)&&!zo(/chrome/i)&&!zo(/android/i),v5=zo(/iP(ad|od|hone)/i),pz=zo(/chrome/i)&&zo(/android/i),y5={capture:!1,passive:!1};function pn(n,t,r){n.addEventListener(t,r,!ta&&y5)}function an(n,t,r){n.removeEventListener(t,r,!ta&&y5)}function Rp(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function mz(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Us(n,t,r,i){if(n){r=r||document;do{if(t!=null&&(t[0]===">"?n.parentNode===r&&Rp(n,t):Rp(n,t))||i&&n===r)return n;if(n===r)break}while(n=mz(n))}return null}var ZE=/\s+/g;function ur(n,t,r){if(n&&t)if(n.classList)n.classList[r?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(ZE," ").replace(" "+t+" "," ");n.className=(i+(r?" "+t:"")).replace(ZE," ")}}function St(n,t,r){var i=n&&n.style;if(i){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(r=n.currentStyle),t===void 0?r:r[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=r+(typeof r=="string"?"":"px")}}function Dl(n,t){var r="";if(typeof n=="string")r=n;else do{var i=St(n,"transform");i&&i!=="none"&&(r=i+" "+r)}while(!t&&(n=n.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(r)}function b5(n,t,r){if(n){var i=n.getElementsByTagName(t),s=0,o=i.length;if(r)for(;s<o;s++)r(i[s],s);return i}return[]}function ho(){var n=document.scrollingElement;return n||document.documentElement}function tr(n,t,r,i,s){if(!(!n.getBoundingClientRect&&n!==window)){var o,a,l,u,h,c,f;if(n!==window&&n.parentNode&&n!==ho()?(o=n.getBoundingClientRect(),a=o.top,l=o.left,u=o.bottom,h=o.right,c=o.height,f=o.width):(a=0,l=0,u=window.innerHeight,h=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||r)&&n!==window&&(s=s||n.parentNode,!ta))do if(s&&s.getBoundingClientRect&&(St(s,"transform")!=="none"||r&&St(s,"position")!=="static")){var d=s.getBoundingClientRect();a-=d.top+parseInt(St(s,"border-top-width")),l-=d.left+parseInt(St(s,"border-left-width")),u=a+o.height,h=l+o.width;break}while(s=s.parentNode);if(i&&n!==window){var p=Dl(s||n),m=p&&p.a,g=p&&p.d;p&&(a/=g,l/=m,f/=m,c/=g,u=a+c,h=l+f)}return{top:a,left:l,bottom:u,right:h,width:f,height:c}}}function JE(n,t,r){for(var i=wa(n,!0),s=tr(n)[t];i;){var o=tr(i)[r],a=void 0;if(a=s>=o,!a)return i;if(i===ho())break;i=wa(i,!1)}return!1}function cc(n,t,r,i){for(var s=0,o=0,a=n.children;o<a.length;){if(a[o].style.display!=="none"&&a[o]!==Rt.ghost&&(i||a[o]!==Rt.dragged)&&Us(a[o],r.draggable,n,!1)){if(s===t)return a[o];s++}o++}return null}function Cb(n,t){for(var r=n.lastElementChild;r&&(r===Rt.ghost||St(r,"display")==="none"||t&&!Rp(r,t));)r=r.previousElementSibling;return r||null}function vr(n,t){var r=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Rt.clone&&(!t||Rp(n,t))&&r++;return r}function QE(n){var t=0,r=0,i=ho();if(n)do{var s=Dl(n),o=s.a,a=s.d;t+=n.scrollLeft*o,r+=n.scrollTop*a}while(n!==i&&(n=n.parentNode));return[t,r]}function gz(n,t){for(var r in n)if(n.hasOwnProperty(r)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[r][i])return Number(r)}return-1}function wa(n,t){if(!n||!n.getBoundingClientRect)return ho();var r=n,i=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var s=St(r);if(r.clientWidth<r.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return ho();if(i||t)return r;i=!0}}while(r=r.parentNode);return ho()}function vz(n,t){if(n&&t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function L0(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var mh;function x5(n,t){return function(){if(!mh){var r=arguments,i=this;r.length===1?n.call(i,r[0]):n.apply(i,r),mh=setTimeout(function(){mh=void 0},t)}}}function yz(){clearTimeout(mh),mh=void 0}function _5(n,t,r){n.scrollLeft+=t,n.scrollTop+=r}function Ab(n){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):r?r(n).clone(!0)[0]:n.cloneNode(!0)}function e2(n,t){St(n,"position","absolute"),St(n,"top",t.top),St(n,"left",t.left),St(n,"width",t.width),St(n,"height",t.height)}function R0(n){St(n,"position",""),St(n,"top",""),St(n,"left",""),St(n,"width",""),St(n,"height","")}var fi="Sortable"+new Date().getTime();function bz(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(s){if(!(St(s,"display")==="none"||s===Rt.ghost)){n.push({target:s,rect:tr(s)});var o=po({},n[n.length-1].rect);if(s.thisAnimationDuration){var a=Dl(s,!0);a&&(o.top-=a.f,o.left-=a.e)}s.fromRect=o}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(gz(n,{target:i}),1)},animateAll:function(i){var s=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var o=!1,a=0;n.forEach(function(l){var u=0,h=l.target,c=h.fromRect,f=tr(h),d=h.prevFromRect,p=h.prevToRect,m=l.rect,g=Dl(h,!0);g&&(f.top-=g.f,f.left-=g.e),h.toRect=f,h.thisAnimationDuration&&L0(d,f)&&!L0(c,f)&&(m.top-f.top)/(m.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(u=_z(m,d,p,s.options)),L0(f,c)||(h.prevFromRect=c,h.prevToRect=f,u||(u=s.options.animation),s.animate(h,m,f,u)),u&&(o=!0,a=Math.max(a,u),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},u),h.thisAnimationDuration=u)}),clearTimeout(t),o?t=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),n=[]},animate:function(i,s,o,a){if(a){St(i,"transition",""),St(i,"transform","");var l=Dl(this.el),u=l&&l.a,h=l&&l.d,c=(s.left-o.left)/(u||1),f=(s.top-o.top)/(h||1);i.animatingX=!!c,i.animatingY=!!f,St(i,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=xz(i),St(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),St(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){St(i,"transition",""),St(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function xz(n){return n.offsetWidth}function _z(n,t,r,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*i.animation}var xu=[],B0={initializeByDefault:!0},If={mount:function(t){for(var r in B0)B0.hasOwnProperty(r)&&!(r in t)&&(t[r]=B0[r]);xu.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),xu.push(t)},pluginEvent:function(t,r,i){var s=this;this.eventCanceled=!1,i.cancel=function(){s.eventCanceled=!0};var o=t+"Global";xu.forEach(function(a){r[a.pluginName]&&(r[a.pluginName][o]&&r[a.pluginName][o](po({sortable:r},i)),r.options[a.pluginName]&&r[a.pluginName][t]&&r[a.pluginName][t](po({sortable:r},i)))})},initializePlugins:function(t,r,i,s){xu.forEach(function(l){var u=l.pluginName;if(!(!t.options[u]&&!l.initializeByDefault)){var h=new l(t,r,t.options);h.sortable=t,h.options=t.options,t[u]=h,Is(i,h.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var a=this.modifyOption(t,o,t.options[o]);typeof a<"u"&&(t.options[o]=a)}},getEventProperties:function(t,r){var i={};return xu.forEach(function(s){typeof s.eventProperties=="function"&&Is(i,s.eventProperties.call(r[s.pluginName],t))}),i},modifyOption:function(t,r,i){var s;return xu.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[r]=="function"&&(s=o.optionListeners[r].call(t[o.pluginName],i))}),s}};function eh(n){var t=n.sortable,r=n.rootEl,i=n.name,s=n.targetEl,o=n.cloneEl,a=n.toEl,l=n.fromEl,u=n.oldIndex,h=n.newIndex,c=n.oldDraggableIndex,f=n.newDraggableIndex,d=n.originalEvent,p=n.putSortable,m=n.extraEventProperties;if(t=t||r&&r[fi],!!t){var g,v=t.options,S="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!ta&&!Tf?g=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(i,!0,!0)),g.to=a||r,g.from=l||r,g.item=s||r,g.clone=o,g.oldIndex=u,g.newIndex=h,g.oldDraggableIndex=c,g.newDraggableIndex=f,g.originalEvent=d,g.pullMode=p?p.lastPutMode:void 0;var y=po(po({},m),If.getEventProperties(i,t));for(var x in y)g[x]=y[x];r&&r.dispatchEvent(g),v[S]&&v[S].call(t,g)}}var wz=["evt"],Pi=function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.evt,o=az(i,wz);If.pluginEvent.bind(Rt)(t,r,po({dragEl:ot,parentEl:pr,ghostEl:Zt,rootEl:Zn,nextEl:al,lastDownEl:tp,cloneEl:mr,cloneHidden:ba,dragStarted:th,putSortable:qr,activeSortable:Rt.active,originalEvent:s,oldIndex:Ou,oldDraggableIndex:gh,newIndex:ss,newDraggableIndex:ya,hideGhostForTarget:C5,unhideGhostForTarget:A5,cloneNowHidden:function(){ba=!0},cloneNowShown:function(){ba=!1},dispatchSortableEvent:function(l){_i({sortable:r,name:l,originalEvent:s})}},o))};function _i(n){eh(po({putSortable:qr,cloneEl:mr,targetEl:ot,rootEl:Zn,oldIndex:Ou,oldDraggableIndex:gh,newIndex:ss,newDraggableIndex:ya},n))}var ot,pr,Zt,Zn,al,tp,mr,ba,Ou,ss,gh,ya,hd,qr,Fu=!1,Bp=!1,Up=[],rl,Os,U0,V0,t2,n2,th,_u,vh,yh=!1,fd=!1,np,ni,$0=[],wy=!1,Vp=[],sg=typeof document<"u",dd=v5,r2=Tf||ta?"cssFloat":"float",Ez=sg&&!pz&&!v5&&"draggable"in document.createElement("div"),w5=(function(){if(sg){if(ta)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}})(),E5=function(t,r){var i=St(t),s=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=cc(t,0,r),a=cc(t,1,r),l=o&&St(o),u=a&&St(a),h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+tr(o).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+tr(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return a&&(u.clear==="both"||u.clear===f)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||h>=s&&i[r2]==="none"||a&&i[r2]==="none"&&h+c>s)?"vertical":"horizontal"},Sz=function(t,r,i){var s=i?t.left:t.top,o=i?t.right:t.bottom,a=i?t.width:t.height,l=i?r.left:r.top,u=i?r.right:r.bottom,h=i?r.width:r.height;return s===l||o===u||s+a/2===l+h/2},Cz=function(t,r){var i;return Up.some(function(s){var o=s[fi].options.emptyInsertThreshold;if(!(!o||Cb(s))){var a=tr(s),l=t>=a.left-o&&t<=a.right+o,u=r>=a.top-o&&r<=a.bottom+o;if(l&&u)return i=s}}),i},S5=function(t){function r(o,a){return function(l,u,h,c){var f=l.options.group.name&&u.options.group.name&&l.options.group.name===u.options.group.name;if(o==null&&(a||f))return!0;if(o==null||o===!1)return!1;if(a&&o==="clone")return o;if(typeof o=="function")return r(o(l,u,h,c),a)(l,u,h,c);var d=(a?l:u).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}var i={},s=t.group;(!s||ep(s)!="object")&&(s={name:s}),i.name=s.name,i.checkPull=r(s.pull,!0),i.checkPut=r(s.put),i.revertClone=s.revertClone,t.group=i},C5=function(){!w5&&Zt&&St(Zt,"display","none")},A5=function(){!w5&&Zt&&St(Zt,"display","")};sg&&document.addEventListener("click",function(n){if(Bp)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Bp=!1,!1},!0);var il=function(t){if(ot){t=t.touches?t.touches[0]:t;var r=Cz(t.clientX,t.clientY);if(r){var i={};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);i.target=i.rootEl=r,i.preventDefault=void 0,i.stopPropagation=void 0,r[fi]._onDragOver(i)}}},Az=function(t){ot&&ot.parentNode[fi]._isOutsideThisEl(t.target)};function Rt(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=Is({},t),n[fi]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return E5(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Rt.supportPointer!==!1&&"PointerEvent"in window&&!ph,emptyInsertThreshold:5};If.initializePlugins(this,n,r);for(var i in r)!(i in t)&&(t[i]=r[i]);S5(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:Ez,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?pn(n,"pointerdown",this._onTapStart):(pn(n,"mousedown",this._onTapStart),pn(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(pn(n,"dragover",this),pn(n,"dragenter",this)),Up.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Is(this,bz())}Rt.prototype={constructor:Rt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(_u=null)},_getDirection:function(t,r){return typeof this.options.direction=="function"?this.options.direction.call(this,t,r,ot):this.options.direction},_onTapStart:function(t){if(t.cancelable){var r=this,i=this.el,s=this.options,o=s.preventOnFilter,a=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(l||t).target,h=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,c=s.filter;if(Oz(i),!ot&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||s.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&ph&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=Us(u,s.draggable,i,!1),!(u&&u.animated)&&tp!==u)){if(Ou=vr(u),gh=vr(u,s.draggable),typeof c=="function"){if(c.call(this,t,u,this)){_i({sortable:r,rootEl:h,name:"filter",targetEl:u,toEl:i,fromEl:i}),Pi("filter",r,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=Us(h,f.trim(),i,!1),f)return _i({sortable:r,rootEl:f,name:"filter",targetEl:u,fromEl:i,toEl:i}),Pi("filter",r,{evt:t}),!0}),c)){o&&t.cancelable&&t.preventDefault();return}s.handle&&!Us(h,s.handle,i,!1)||this._prepareDragStart(t,l,u)}}},_prepareDragStart:function(t,r,i){var s=this,o=s.el,a=s.options,l=o.ownerDocument,u;if(i&&!ot&&i.parentNode===o){var h=tr(i);if(Zn=o,ot=i,pr=ot.parentNode,al=ot.nextSibling,tp=i,hd=a.group,Rt.dragged=ot,rl={target:ot,clientX:(r||t).clientX,clientY:(r||t).clientY},t2=rl.clientX-h.left,n2=rl.clientY-h.top,this._lastX=(r||t).clientX,this._lastY=(r||t).clientY,ot.style["will-change"]="all",u=function(){if(Pi("delayEnded",s,{evt:t}),Rt.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!KE&&s.nativeDraggable&&(ot.draggable=!0),s._triggerDragStart(t,r),_i({sortable:s,name:"choose",originalEvent:t}),ur(ot,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){b5(ot,c.trim(),j0)}),pn(l,"dragover",il),pn(l,"mousemove",il),pn(l,"touchmove",il),pn(l,"mouseup",s._onDrop),pn(l,"touchend",s._onDrop),pn(l,"touchcancel",s._onDrop),KE&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ot.draggable=!0),Pi("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(Tf||ta))){if(Rt.eventCanceled){this._onDrop();return}pn(l,"mouseup",s._disableDelayedDrag),pn(l,"touchend",s._disableDelayedDrag),pn(l,"touchcancel",s._disableDelayedDrag),pn(l,"mousemove",s._delayedDragTouchMoveHandler),pn(l,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&pn(l,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(u,a.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ot&&j0(ot),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;an(t,"mouseup",this._disableDelayedDrag),an(t,"touchend",this._disableDelayedDrag),an(t,"touchcancel",this._disableDelayedDrag),an(t,"mousemove",this._delayedDragTouchMoveHandler),an(t,"touchmove",this._delayedDragTouchMoveHandler),an(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,r){r=r||t.pointerType=="touch"&&t,!this.nativeDraggable||r?this.options.supportPointer?pn(document,"pointermove",this._onTouchMove):r?pn(document,"touchmove",this._onTouchMove):pn(document,"mousemove",this._onTouchMove):(pn(ot,"dragend",this),pn(Zn,"dragstart",this._onDragStart));try{document.selection?rp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,r){if(Fu=!1,Zn&&ot){Pi("dragStarted",this,{evt:r}),this.nativeDraggable&&pn(document,"dragover",Az);var i=this.options;!t&&ur(ot,i.dragClass,!1),ur(ot,i.ghostClass,!0),Rt.active=this,t&&this._appendGhost(),_i({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Os){this._lastX=Os.clientX,this._lastY=Os.clientY,C5();for(var t=document.elementFromPoint(Os.clientX,Os.clientY),r=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Os.clientX,Os.clientY),t!==r);)r=t;if(ot.parentNode[fi]._isOutsideThisEl(t),r)do{if(r[fi]){var i=void 0;if(i=r[fi]._onDragOver({clientX:Os.clientX,clientY:Os.clientY,target:t,rootEl:r}),i&&!this.options.dragoverBubble)break}t=r}while(r=r.parentNode);A5()}},_onTouchMove:function(t){if(rl){var r=this.options,i=r.fallbackTolerance,s=r.fallbackOffset,o=t.touches?t.touches[0]:t,a=Zt&&Dl(Zt,!0),l=Zt&&a&&a.a,u=Zt&&a&&a.d,h=dd&&ni&&QE(ni),c=(o.clientX-rl.clientX+s.x)/(l||1)+(h?h[0]-$0[0]:0)/(l||1),f=(o.clientY-rl.clientY+s.y)/(u||1)+(h?h[1]-$0[1]:0)/(u||1);if(!Rt.active&&!Fu){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(Zt){a?(a.e+=c-(U0||0),a.f+=f-(V0||0)):a={a:1,b:0,c:0,d:1,e:c,f};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");St(Zt,"webkitTransform",d),St(Zt,"mozTransform",d),St(Zt,"msTransform",d),St(Zt,"transform",d),U0=c,V0=f,Os=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Zt){var t=this.options.fallbackOnBody?document.body:Zn,r=tr(ot,!0,dd,!0,t),i=this.options;if(dd){for(ni=t;St(ni,"position")==="static"&&St(ni,"transform")==="none"&&ni!==document;)ni=ni.parentNode;ni!==document.body&&ni!==document.documentElement?(ni===document&&(ni=ho()),r.top+=ni.scrollTop,r.left+=ni.scrollLeft):ni=ho(),$0=QE(ni)}Zt=ot.cloneNode(!0),ur(Zt,i.ghostClass,!1),ur(Zt,i.fallbackClass,!0),ur(Zt,i.dragClass,!0),St(Zt,"transition",""),St(Zt,"transform",""),St(Zt,"box-sizing","border-box"),St(Zt,"margin",0),St(Zt,"top",r.top),St(Zt,"left",r.left),St(Zt,"width",r.width),St(Zt,"height",r.height),St(Zt,"opacity","0.8"),St(Zt,"position",dd?"absolute":"fixed"),St(Zt,"zIndex","100000"),St(Zt,"pointerEvents","none"),Rt.ghost=Zt,t.appendChild(Zt),St(Zt,"transform-origin",t2/parseInt(Zt.style.width)*100+"% "+n2/parseInt(Zt.style.height)*100+"%")}},_onDragStart:function(t,r){var i=this,s=t.dataTransfer,o=i.options;if(Pi("dragStart",this,{evt:t}),Rt.eventCanceled){this._onDrop();return}Pi("setupClone",this),Rt.eventCanceled||(mr=Ab(ot),mr.draggable=!1,mr.style["will-change"]="",this._hideClone(),ur(mr,this.options.chosenClass,!1),Rt.clone=mr),i.cloneId=rp(function(){Pi("clone",i),!Rt.eventCanceled&&(i.options.removeCloneOnHide||Zn.insertBefore(mr,ot),i._hideClone(),_i({sortable:i,name:"clone"}))}),!r&&ur(ot,o.dragClass,!0),r?(Bp=!0,i._loopId=setInterval(i._emulateDragOver,50)):(an(document,"mouseup",i._onDrop),an(document,"touchend",i._onDrop),an(document,"touchcancel",i._onDrop),s&&(s.effectAllowed="move",o.setData&&o.setData.call(i,s,ot)),pn(document,"drop",i),St(ot,"transform","translateZ(0)")),Fu=!0,i._dragStartId=rp(i._dragStarted.bind(i,r,t)),pn(document,"selectstart",i),th=!0,ph&&St(document.body,"user-select","none")},_onDragOver:function(t){var r=this.el,i=t.target,s,o,a,l=this.options,u=l.group,h=Rt.active,c=hd===u,f=l.sort,d=qr||h,p,m=this,g=!1;if(wy)return;function v(ne,ge){Pi(ne,m,po({evt:t,isOwner:c,axis:p?"vertical":"horizontal",revert:a,dragRect:s,targetRect:o,canSort:f,fromSortable:d,target:i,completed:y,onMove:function(J,ae){return pd(Zn,r,ot,s,J,tr(J),t,ae)},changed:x},ge))}function S(){v("dragOverAnimationCapture"),m.captureAnimationState(),m!==d&&d.captureAnimationState()}function y(ne){return v("dragOverCompleted",{insertion:ne}),ne&&(c?h._hideClone():h._showClone(m),m!==d&&(ur(ot,qr?qr.options.ghostClass:h.options.ghostClass,!1),ur(ot,l.ghostClass,!0)),qr!==m&&m!==Rt.active?qr=m:m===Rt.active&&qr&&(qr=null),d===m&&(m._ignoreWhileAnimating=i),m.animateAll(function(){v("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(i===ot&&!ot.animated||i===r&&!i.animated)&&(_u=null),!l.dragoverBubble&&!t.rootEl&&i!==document&&(ot.parentNode[fi]._isOutsideThisEl(t.target),!ne&&il(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function x(){ss=vr(ot),ya=vr(ot,l.draggable),_i({sortable:m,name:"change",toEl:r,newIndex:ss,newDraggableIndex:ya,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=Us(i,l.draggable,r,!0),v("dragOver"),Rt.eventCanceled)return g;if(ot.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||m._ignoreWhileAnimating===i)return y(!1);if(Bp=!1,h&&!l.disabled&&(c?f||(a=pr!==Zn):qr===this||(this.lastPutMode=hd.checkPull(this,h,ot,t))&&u.checkPut(this,h,ot,t))){if(p=this._getDirection(t,i)==="vertical",s=tr(ot),v("dragOverValid"),Rt.eventCanceled)return g;if(a)return pr=Zn,S(),this._hideClone(),v("revert"),Rt.eventCanceled||(al?Zn.insertBefore(ot,al):Zn.appendChild(ot)),y(!0);var b=Cb(r,l.draggable);if(!b||Nz(t,p,this)&&!b.animated){if(b===ot)return y(!1);if(b&&r===t.target&&(i=b),i&&(o=tr(i)),pd(Zn,r,ot,s,i,o,t,!!i)!==!1)return S(),r.appendChild(ot),pr=r,x(),y(!0)}else if(b&&Dz(t,p,this)){var w=cc(r,0,l,!0);if(w===ot)return y(!1);if(i=w,o=tr(i),pd(Zn,r,ot,s,i,o,t,!1)!==!1)return S(),r.insertBefore(ot,w),pr=r,x(),y(!0)}else if(i.parentNode===r){o=tr(i);var E=0,_,T=ot.parentNode!==r,C=!Sz(ot.animated&&ot.toRect||s,i.animated&&i.toRect||o,p),F=p?"top":"left",k=JE(i,"top","top")||JE(ot,"top","top"),D=k?k.scrollTop:void 0;_u!==i&&(_=o[F],yh=!1,fd=!C&&l.invertSwap||T),E=Fz(t,i,o,p,C?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,fd,_u===i);var N;if(E!==0){var M=vr(ot);do M-=E,N=pr.children[M];while(N&&(St(N,"display")==="none"||N===Zt))}if(E===0||N===i)return y(!1);_u=i,vh=E;var U=i.nextElementSibling,R=!1;R=E===1;var W=pd(Zn,r,ot,s,i,o,t,R);if(W!==!1)return(W===1||W===-1)&&(R=W===1),wy=!0,setTimeout(Iz,30),S(),R&&!U?r.appendChild(ot):i.parentNode.insertBefore(ot,R?U:i),k&&_5(k,0,D-k.scrollTop),pr=ot.parentNode,_!==void 0&&!fd&&(np=Math.abs(_-tr(i)[F])),x(),y(!0)}if(r.contains(ot))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){an(document,"mousemove",this._onTouchMove),an(document,"touchmove",this._onTouchMove),an(document,"pointermove",this._onTouchMove),an(document,"dragover",il),an(document,"mousemove",il),an(document,"touchmove",il)},_offUpEvents:function(){var t=this.el.ownerDocument;an(t,"mouseup",this._onDrop),an(t,"touchend",this._onDrop),an(t,"pointerup",this._onDrop),an(t,"touchcancel",this._onDrop),an(document,"selectstart",this)},_onDrop:function(t){var r=this.el,i=this.options;if(ss=vr(ot),ya=vr(ot,i.draggable),Pi("drop",this,{evt:t}),pr=ot&&ot.parentNode,ss=vr(ot),ya=vr(ot,i.draggable),Rt.eventCanceled){this._nulling();return}Fu=!1,fd=!1,yh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ey(this.cloneId),Ey(this._dragStartId),this.nativeDraggable&&(an(document,"drop",this),an(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ph&&St(document.body,"user-select",""),St(ot,"transform",""),t&&(th&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),Zt&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),(Zn===pr||qr&&qr.lastPutMode!=="clone")&&mr&&mr.parentNode&&mr.parentNode.removeChild(mr),ot&&(this.nativeDraggable&&an(ot,"dragend",this),j0(ot),ot.style["will-change"]="",th&&!Fu&&ur(ot,qr?qr.options.ghostClass:this.options.ghostClass,!1),ur(ot,this.options.chosenClass,!1),_i({sortable:this,name:"unchoose",toEl:pr,newIndex:null,newDraggableIndex:null,originalEvent:t}),Zn!==pr?(ss>=0&&(_i({rootEl:pr,name:"add",toEl:pr,fromEl:Zn,originalEvent:t}),_i({sortable:this,name:"remove",toEl:pr,originalEvent:t}),_i({rootEl:pr,name:"sort",toEl:pr,fromEl:Zn,originalEvent:t}),_i({sortable:this,name:"sort",toEl:pr,originalEvent:t})),qr&&qr.save()):ss!==Ou&&ss>=0&&(_i({sortable:this,name:"update",toEl:pr,originalEvent:t}),_i({sortable:this,name:"sort",toEl:pr,originalEvent:t})),Rt.active&&((ss==null||ss===-1)&&(ss=Ou,ya=gh),_i({sortable:this,name:"end",toEl:pr,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Pi("nulling",this),Zn=ot=pr=Zt=al=mr=tp=ba=rl=Os=th=ss=ya=Ou=gh=_u=vh=qr=hd=Rt.dragged=Rt.ghost=Rt.clone=Rt.active=null,Vp.forEach(function(t){t.checked=!0}),Vp.length=U0=V0=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ot&&(this._onDragOver(t),Tz(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],r,i=this.el.children,s=0,o=i.length,a=this.options;s<o;s++)r=i[s],Us(r,a.draggable,this.el,!1)&&t.push(r.getAttribute(a.dataIdAttr)||Mz(r));return t},sort:function(t,r){var i={},s=this.el;this.toArray().forEach(function(o,a){var l=s.children[a];Us(l,this.options.draggable,s,!1)&&(i[o]=l)},this),r&&this.captureAnimationState(),t.forEach(function(o){i[o]&&(s.removeChild(i[o]),s.appendChild(i[o]))}),r&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,r){return Us(t,r||this.options.draggable,this.el,!1)},option:function(t,r){var i=this.options;if(r===void 0)return i[t];var s=If.modifyOption(this,t,r);typeof s<"u"?i[t]=s:i[t]=r,t==="group"&&S5(i)},destroy:function(){Pi("destroy",this);var t=this.el;t[fi]=null,an(t,"mousedown",this._onTapStart),an(t,"touchstart",this._onTapStart),an(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(an(t,"dragover",this),an(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Up.splice(Up.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ba){if(Pi("hideClone",this),Rt.eventCanceled)return;St(mr,"display","none"),this.options.removeCloneOnHide&&mr.parentNode&&mr.parentNode.removeChild(mr),ba=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ba){if(Pi("showClone",this),Rt.eventCanceled)return;ot.parentNode==Zn&&!this.options.group.revertClone?Zn.insertBefore(mr,ot):al?Zn.insertBefore(mr,al):Zn.appendChild(mr),this.options.group.revertClone&&this.animate(ot,mr),St(mr,"display",""),ba=!1}}};function Tz(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function pd(n,t,r,i,s,o,a,l){var u,h=n[fi],c=h.options.onMove,f;return window.CustomEvent&&!ta&&!Tf?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=n,u.dragged=r,u.draggedRect=i,u.related=s||t,u.relatedRect=o||tr(t),u.willInsertAfter=l,u.originalEvent=a,n.dispatchEvent(u),c&&(f=c.call(h,u,a)),f}function j0(n){n.draggable=!1}function Iz(){wy=!1}function Dz(n,t,r){var i=tr(cc(r.el,0,r.options,!0)),s=10;return t?n.clientX<i.left-s||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-s||n.clientY<i.bottom&&n.clientX<i.left}function Nz(n,t,r){var i=tr(Cb(r.el,r.options.draggable)),s=10;return t?n.clientX>i.right+s||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+s}function Fz(n,t,r,i,s,o,a,l){var u=i?n.clientY:n.clientX,h=i?r.height:r.width,c=i?r.top:r.left,f=i?r.bottom:r.right,d=!1;if(!a){if(l&&np<h*s){if(!yh&&(vh===1?u>c+h*o/2:u<f-h*o/2)&&(yh=!0),yh)d=!0;else if(vh===1?u<c+np:u>f-np)return-vh}else if(u>c+h*(1-s)/2&&u<f-h*(1-s)/2)return kz(t)}return d=d||a,d&&(u<c+h*o/2||u>f-h*o/2)?u>c+h/2?1:-1:0}function kz(n){return vr(ot)<vr(n)?1:-1}function Mz(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,r=t.length,i=0;r--;)i+=t.charCodeAt(r);return i.toString(36)}function Oz(n){Vp.length=0;for(var t=n.getElementsByTagName("input"),r=t.length;r--;){var i=t[r];i.checked&&Vp.push(i)}}function rp(n){return setTimeout(n,0)}function Ey(n){return clearTimeout(n)}sg&&pn(document,"touchmove",function(n){(Rt.active||Fu)&&n.cancelable&&n.preventDefault()});Rt.utils={on:pn,off:an,css:St,find:b5,is:function(t,r){return!!Us(t,r,t,!1)},extend:vz,throttle:x5,closest:Us,toggleClass:ur,clone:Ab,index:vr,nextTick:rp,cancelNextTick:Ey,detectDirection:E5,getChild:cc};Rt.get=function(n){return n[fi]};Rt.mount=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Rt.utils=po(po({},Rt.utils),i.utils)),If.mount(i)})};Rt.create=function(n,t){return new Rt(n,t)};Rt.version=dz;var Ar=[],nh,Sy,Cy=!1,z0,G0,$p,rh;function Pz(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(r){var i=r.originalEvent;this.sortable.nativeDraggable?pn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?pn(document,"pointermove",this._handleFallbackAutoScroll):i.touches?pn(document,"touchmove",this._handleFallbackAutoScroll):pn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var i=r.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?an(document,"dragover",this._handleAutoScroll):(an(document,"pointermove",this._handleFallbackAutoScroll),an(document,"touchmove",this._handleFallbackAutoScroll),an(document,"mousemove",this._handleFallbackAutoScroll)),i2(),ip(),yz()},nulling:function(){$p=Sy=nh=Cy=rh=z0=G0=null,Ar.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,i){var s=this,o=(r.touches?r.touches[0]:r).clientX,a=(r.touches?r.touches[0]:r).clientY,l=document.elementFromPoint(o,a);if($p=r,i||this.options.forceAutoScrollFallback||Tf||ta||ph){H0(r,this.options,l,i);var u=wa(l,!0);Cy&&(!rh||o!==z0||a!==G0)&&(rh&&i2(),rh=setInterval(function(){var h=wa(document.elementFromPoint(o,a),!0);h!==u&&(u=h,ip()),H0(r,s.options,h,i)},10),z0=o,G0=a)}else{if(!this.options.bubbleScroll||wa(l,!0)===ho()){ip();return}H0(r,this.options,wa(l,!1),!1)}}},Is(n,{pluginName:"scroll",initializeByDefault:!0})}function ip(){Ar.forEach(function(n){clearInterval(n.pid)}),Ar=[]}function i2(){clearInterval(rh)}var H0=x5(function(n,t,r,i){if(t.scroll){var s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,u=ho(),h=!1,c;Sy!==r&&(Sy=r,ip(),nh=t.scroll,c=t.scrollFn,nh===!0&&(nh=wa(r,!0)));var f=0,d=nh;do{var p=d,m=tr(p),g=m.top,v=m.bottom,S=m.left,y=m.right,x=m.width,b=m.height,w=void 0,E=void 0,_=p.scrollWidth,T=p.scrollHeight,C=St(p),F=p.scrollLeft,k=p.scrollTop;p===u?(w=x<_&&(C.overflowX==="auto"||C.overflowX==="scroll"||C.overflowX==="visible"),E=b<T&&(C.overflowY==="auto"||C.overflowY==="scroll"||C.overflowY==="visible")):(w=x<_&&(C.overflowX==="auto"||C.overflowX==="scroll"),E=b<T&&(C.overflowY==="auto"||C.overflowY==="scroll"));var D=w&&(Math.abs(y-s)<=a&&F+x<_)-(Math.abs(S-s)<=a&&!!F),N=E&&(Math.abs(v-o)<=a&&k+b<T)-(Math.abs(g-o)<=a&&!!k);if(!Ar[f])for(var M=0;M<=f;M++)Ar[M]||(Ar[M]={});(Ar[f].vx!=D||Ar[f].vy!=N||Ar[f].el!==p)&&(Ar[f].el=p,Ar[f].vx=D,Ar[f].vy=N,clearInterval(Ar[f].pid),(D!=0||N!=0)&&(h=!0,Ar[f].pid=setInterval((function(){i&&this.layer===0&&Rt.active._onTouchMove($p);var U=Ar[this.layer].vy?Ar[this.layer].vy*l:0,R=Ar[this.layer].vx?Ar[this.layer].vx*l:0;typeof c=="function"&&c.call(Rt.dragged.parentNode[fi],R,U,n,$p,Ar[this.layer].el)!=="continue"||_5(Ar[this.layer].el,R,U)}).bind({layer:f}),24))),f++}while(t.bubbleScroll&&d!==u&&(d=wa(d,!1)));Cy=h}},30),T5=function(t){var r=t.originalEvent,i=t.putSortable,s=t.dragEl,o=t.activeSortable,a=t.dispatchSortableEvent,l=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(r){var h=i||o;l();var c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,f=document.elementFromPoint(c.clientX,c.clientY);u(),h&&!h.el.contains(f)&&(a("spill"),this.onSpill({dragEl:s,putSortable:i}))}};function Tb(){}Tb.prototype={startIndex:null,dragStart:function(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function(t){var r=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var s=cc(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(r,s):this.sortable.el.appendChild(r),this.sortable.animateAll(),i&&i.animateAll()},drop:T5};Is(Tb,{pluginName:"revertOnSpill"});function Ib(){}Ib.prototype={onSpill:function(t){var r=t.dragEl,i=t.putSortable,s=i||this.sortable;s.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),s.animateAll()},drop:T5};Is(Ib,{pluginName:"removeOnSpill"});var bs;function Lz(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(r){var i=r.dragEl;bs=i},dragOverValid:function(r){var i=r.completed,s=r.target,o=r.onMove,a=r.activeSortable,l=r.changed,u=r.cancel;if(a.options.swap){var h=this.sortable.el,c=this.options;if(s&&s!==h){var f=bs;o(s)!==!1?(ur(s,c.swapClass,!0),bs=s):bs=null,f&&f!==bs&&ur(f,c.swapClass,!1)}l(),i(!0),u()}},drop:function(r){var i=r.activeSortable,s=r.putSortable,o=r.dragEl,a=s||this.sortable,l=this.options;bs&&ur(bs,l.swapClass,!1),bs&&(l.swap||s&&s.options.swap)&&o!==bs&&(a.captureAnimationState(),a!==i&&i.captureAnimationState(),Rz(o,bs),a.animateAll(),a!==i&&i.animateAll())},nulling:function(){bs=null}},Is(n,{pluginName:"swap",eventProperties:function(){return{swapItem:bs}}})}function Rz(n,t){var r=n.parentNode,i=t.parentNode,s,o;!r||!i||r.isEqualNode(t)||i.isEqualNode(n)||(s=vr(n),o=vr(t),r.isEqualNode(i)&&s<o&&o++,r.insertBefore(t,r.children[s]),i.insertBefore(n,i.children[o]))}var Wt=[],is=[],zc,Ps,Gc=!1,Li=!1,wu=!1,Gn,Hc,md;function Bz(){function n(t){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));t.options.supportPointer?pn(document,"pointerup",this._deselectMultiDrag):(pn(document,"mouseup",this._deselectMultiDrag),pn(document,"touchend",this._deselectMultiDrag)),pn(document,"keydown",this._checkKeyDown),pn(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(s,o){var a="";Wt.length&&Ps===t?Wt.forEach(function(l,u){a+=(u?", ":"")+l.textContent}):a=o.textContent,s.setData("Text",a)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var i=r.dragEl;Gn=i},delayEnded:function(){this.isMultiDrag=~Wt.indexOf(Gn)},setupClone:function(r){var i=r.sortable,s=r.cancel;if(this.isMultiDrag){for(var o=0;o<Wt.length;o++)is.push(Ab(Wt[o])),is[o].sortableIndex=Wt[o].sortableIndex,is[o].draggable=!1,is[o].style["will-change"]="",ur(is[o],this.options.selectedClass,!1),Wt[o]===Gn&&ur(is[o],this.options.chosenClass,!1);i._hideClone(),s()}},clone:function(r){var i=r.sortable,s=r.rootEl,o=r.dispatchSortableEvent,a=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Wt.length&&Ps===i&&(s2(!0,s),o("clone"),a()))},showClone:function(r){var i=r.cloneNowShown,s=r.rootEl,o=r.cancel;this.isMultiDrag&&(s2(!1,s),is.forEach(function(a){St(a,"display","")}),i(),md=!1,o())},hideClone:function(r){var i=this;r.sortable;var s=r.cloneNowHidden,o=r.cancel;this.isMultiDrag&&(is.forEach(function(a){St(a,"display","none"),i.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),s(),md=!0,o())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&Ps&&Ps.multiDrag._deselectMultiDrag(),Wt.forEach(function(i){i.sortableIndex=vr(i)}),Wt=Wt.sort(function(i,s){return i.sortableIndex-s.sortableIndex}),wu=!0},dragStarted:function(r){var i=this,s=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(s.captureAnimationState(),this.options.animation)){Wt.forEach(function(a){a!==Gn&&St(a,"position","absolute")});var o=tr(Gn,!1,!0,!0);Wt.forEach(function(a){a!==Gn&&e2(a,o)}),Li=!0,Gc=!0}s.animateAll(function(){Li=!1,Gc=!1,i.options.animation&&Wt.forEach(function(a){R0(a)}),i.options.sort&&gd()})}},dragOver:function(r){var i=r.target,s=r.completed,o=r.cancel;Li&&~Wt.indexOf(i)&&(s(!1),o())},revert:function(r){var i=r.fromSortable,s=r.rootEl,o=r.sortable,a=r.dragRect;Wt.length>1&&(Wt.forEach(function(l){o.addAnimationState({target:l,rect:Li?tr(l):a}),R0(l),l.fromRect=a,i.removeAnimationState(l)}),Li=!1,Uz(!this.options.removeCloneOnHide,s))},dragOverCompleted:function(r){var i=r.sortable,s=r.isOwner,o=r.insertion,a=r.activeSortable,l=r.parentEl,u=r.putSortable,h=this.options;if(o){if(s&&a._hideClone(),Gc=!1,h.animation&&Wt.length>1&&(Li||!s&&!a.options.sort&&!u)){var c=tr(Gn,!1,!0,!0);Wt.forEach(function(d){d!==Gn&&(e2(d,c),l.appendChild(d))}),Li=!0}if(!s)if(Li||gd(),Wt.length>1){var f=md;a._showClone(i),a.options.animation&&!md&&f&&is.forEach(function(d){a.addAnimationState({target:d,rect:Hc}),d.fromRect=Hc,d.thisAnimationDuration=null})}else a._showClone(i)}},dragOverAnimationCapture:function(r){var i=r.dragRect,s=r.isOwner,o=r.activeSortable;if(Wt.forEach(function(l){l.thisAnimationDuration=null}),o.options.animation&&!s&&o.multiDrag.isMultiDrag){Hc=Is({},i);var a=Dl(Gn,!0);Hc.top-=a.f,Hc.left-=a.e}},dragOverAnimationComplete:function(){Li&&(Li=!1,gd())},drop:function(r){var i=r.originalEvent,s=r.rootEl,o=r.parentEl,a=r.sortable,l=r.dispatchSortableEvent,u=r.oldIndex,h=r.putSortable,c=h||this.sortable;if(i){var f=this.options,d=o.children;if(!wu)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),ur(Gn,f.selectedClass,!~Wt.indexOf(Gn)),~Wt.indexOf(Gn))Wt.splice(Wt.indexOf(Gn),1),zc=null,eh({sortable:a,rootEl:s,name:"deselect",targetEl:Gn});else{if(Wt.push(Gn),eh({sortable:a,rootEl:s,name:"select",targetEl:Gn}),i.shiftKey&&zc&&a.el.contains(zc)){var p=vr(zc),m=vr(Gn);if(~p&&~m&&p!==m){var g,v;for(m>p?(v=p,g=m):(v=m,g=p+1);v<g;v++)~Wt.indexOf(d[v])||(ur(d[v],f.selectedClass,!0),Wt.push(d[v]),eh({sortable:a,rootEl:s,name:"select",targetEl:d[v]}))}}else zc=Gn;Ps=c}if(wu&&this.isMultiDrag){if(Li=!1,(o[fi].options.sort||o!==s)&&Wt.length>1){var S=tr(Gn),y=vr(Gn,":not(."+this.options.selectedClass+")");if(!Gc&&f.animation&&(Gn.thisAnimationDuration=null),c.captureAnimationState(),!Gc&&(f.animation&&(Gn.fromRect=S,Wt.forEach(function(b){if(b.thisAnimationDuration=null,b!==Gn){var w=Li?tr(b):S;b.fromRect=w,c.addAnimationState({target:b,rect:w})}})),gd(),Wt.forEach(function(b){d[y]?o.insertBefore(b,d[y]):o.appendChild(b),y++}),u===vr(Gn))){var x=!1;Wt.forEach(function(b){if(b.sortableIndex!==vr(b)){x=!0;return}}),x&&l("update")}Wt.forEach(function(b){R0(b)}),c.animateAll()}Ps=c}(s===o||h&&h.lastPutMode!=="clone")&&is.forEach(function(b){b.parentNode&&b.parentNode.removeChild(b)})}},nullingGlobal:function(){this.isMultiDrag=wu=!1,is.length=0},destroyGlobal:function(){this._deselectMultiDrag(),an(document,"pointerup",this._deselectMultiDrag),an(document,"mouseup",this._deselectMultiDrag),an(document,"touchend",this._deselectMultiDrag),an(document,"keydown",this._checkKeyDown),an(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof wu<"u"&&wu)&&Ps===this.sortable&&!(r&&Us(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;Wt.length;){var i=Wt[0];ur(i,this.options.selectedClass,!1),Wt.shift(),eh({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:i})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Is(n,{pluginName:"multiDrag",utils:{select:function(r){var i=r.parentNode[fi];!i||!i.options.multiDrag||~Wt.indexOf(r)||(Ps&&Ps!==i&&(Ps.multiDrag._deselectMultiDrag(),Ps=i),ur(r,i.options.selectedClass,!0),Wt.push(r))},deselect:function(r){var i=r.parentNode[fi],s=Wt.indexOf(r);!i||!i.options.multiDrag||!~s||(ur(r,i.options.selectedClass,!1),Wt.splice(s,1))}},eventProperties:function(){var r=this,i=[],s=[];return Wt.forEach(function(o){i.push({multiDragElement:o,index:o.sortableIndex});var a;Li&&o!==Gn?a=-1:Li?a=vr(o,":not(."+r.options.selectedClass+")"):a=vr(o),s.push({multiDragElement:o,index:a})}),{items:lz(Wt),clones:[].concat(is),oldIndicies:i,newIndicies:s}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function Uz(n,t){Wt.forEach(function(r,i){var s=t.children[r.sortableIndex+(n?Number(i):0)];s?t.insertBefore(r,s):t.appendChild(r)})}function s2(n,t){is.forEach(function(r,i){var s=t.children[r.sortableIndex+(n?Number(i):0)];s?t.insertBefore(r,s):t.appendChild(r)})}function gd(){Wt.forEach(function(n){n!==Gn&&n.parentNode&&n.parentNode.removeChild(n)})}Rt.mount(new Pz);Rt.mount(Ib,Tb);const Vz=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Bz,Sortable:Rt,Swap:Lz,default:Rt},Symbol.toStringTag,{value:"Module"})),$z=dm(Vz);var jz=Xd.exports,o2;function zz(){return o2||(o2=1,(function(n,t){(function(i,s){n.exports=s(iz(),$z)})(typeof self<"u"?self:jz,function(r,i){return(function(s){var o={};function a(l){if(o[l])return o[l].exports;var u=o[l]={i:l,l:!1,exports:{}};return s[l].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=s,a.c=o,a.d=function(l,u,h){a.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:h})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,u){if(u&1&&(l=a(l)),u&8||u&4&&typeof l=="object"&&l&&l.__esModule)return l;var h=Object.create(null);if(a.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:l}),u&2&&typeof l!="string")for(var c in l)a.d(h,c,(function(f){return l[f]}).bind(null,c));return h},a.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(u,"a",u),u},a.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},a.p="",a(a.s="fb15")})({"00ee":(function(s,o,a){var l=a("b622"),u=l("toStringTag"),h={};h[u]="z",s.exports=String(h)==="[object z]"}),"0366":(function(s,o,a){var l=a("1c0b");s.exports=function(u,h,c){if(l(u),h===void 0)return u;switch(c){case 0:return function(){return u.call(h)};case 1:return function(f){return u.call(h,f)};case 2:return function(f,d){return u.call(h,f,d)};case 3:return function(f,d,p){return u.call(h,f,d,p)}}return function(){return u.apply(h,arguments)}}}),"057f":(function(s,o,a){var l=a("fc6a"),u=a("241c").f,h={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(d){try{return u(d)}catch{return c.slice()}};s.exports.f=function(p){return c&&h.call(p)=="[object Window]"?f(p):u(l(p))}}),"06cf":(function(s,o,a){var l=a("83ab"),u=a("d1e7"),h=a("5c6c"),c=a("fc6a"),f=a("c04e"),d=a("5135"),p=a("0cfb"),m=Object.getOwnPropertyDescriptor;o.f=l?m:function(v,S){if(v=c(v),S=f(S,!0),p)try{return m(v,S)}catch{}if(d(v,S))return h(!u.f.call(v,S),v[S])}}),"0cfb":(function(s,o,a){var l=a("83ab"),u=a("d039"),h=a("cc12");s.exports=!l&&!u(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})}),"13d5":(function(s,o,a){var l=a("23e7"),u=a("d58f").left,h=a("a640"),c=a("ae40"),f=h("reduce"),d=c("reduce",{1:0});l({target:"Array",proto:!0,forced:!f||!d},{reduce:function(m){return u(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})}),"14c3":(function(s,o,a){var l=a("c6b6"),u=a("9263");s.exports=function(h,c){var f=h.exec;if(typeof f=="function"){var d=f.call(h,c);if(typeof d!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return d}if(l(h)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(h,c)}}),"159b":(function(s,o,a){var l=a("da84"),u=a("fdbc"),h=a("17c2"),c=a("9112");for(var f in u){var d=l[f],p=d&&d.prototype;if(p&&p.forEach!==h)try{c(p,"forEach",h)}catch{p.forEach=h}}}),"17c2":(function(s,o,a){var l=a("b727").forEach,u=a("a640"),h=a("ae40"),c=u("forEach"),f=h("forEach");s.exports=!c||!f?function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach}),"1be4":(function(s,o,a){var l=a("d066");s.exports=l("document","documentElement")}),"1c0b":(function(s,o){s.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}}),"1c7e":(function(s,o,a){var l=a("b622"),u=l("iterator"),h=!1;try{var c=0,f={next:function(){return{done:!!c++}},return:function(){h=!0}};f[u]=function(){return this},Array.from(f,function(){throw 2})}catch{}s.exports=function(d,p){if(!p&&!h)return!1;var m=!1;try{var g={};g[u]=function(){return{next:function(){return{done:m=!0}}}},d(g)}catch{}return m}}),"1d80":(function(s,o){s.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}}),"1dde":(function(s,o,a){var l=a("d039"),u=a("b622"),h=a("2d00"),c=u("species");s.exports=function(f){return h>=51||!l(function(){var d=[],p=d.constructor={};return p[c]=function(){return{foo:1}},d[f](Boolean).foo!==1})}}),"23cb":(function(s,o,a){var l=a("a691"),u=Math.max,h=Math.min;s.exports=function(c,f){var d=l(c);return d<0?u(d+f,0):h(d,f)}}),"23e7":(function(s,o,a){var l=a("da84"),u=a("06cf").f,h=a("9112"),c=a("6eeb"),f=a("ce4e"),d=a("e893"),p=a("94ca");s.exports=function(m,g){var v=m.target,S=m.global,y=m.stat,x,b,w,E,_,T;if(S?b=l:y?b=l[v]||f(v,{}):b=(l[v]||{}).prototype,b)for(w in g){if(_=g[w],m.noTargetGet?(T=u(b,w),E=T&&T.value):E=b[w],x=p(S?w:v+(y?".":"#")+w,m.forced),!x&&E!==void 0){if(typeof _==typeof E)continue;d(_,E)}(m.sham||E&&E.sham)&&h(_,"sham",!0),c(b,w,_,m)}}}),"241c":(function(s,o,a){var l=a("ca84"),u=a("7839"),h=u.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(f){return l(f,h)}}),"25f0":(function(s,o,a){var l=a("6eeb"),u=a("825a"),h=a("d039"),c=a("ad6d"),f="toString",d=RegExp.prototype,p=d[f],m=h(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),g=p.name!=f;(m||g)&&l(RegExp.prototype,f,function(){var S=u(this),y=String(S.source),x=S.flags,b=String(x===void 0&&S instanceof RegExp&&!("flags"in d)?c.call(S):x);return"/"+y+"/"+b},{unsafe:!0})}),"2ca0":(function(s,o,a){var l=a("23e7"),u=a("06cf").f,h=a("50c4"),c=a("5a34"),f=a("1d80"),d=a("ab13"),p=a("c430"),m="".startsWith,g=Math.min,v=d("startsWith"),S=!p&&!v&&!!(function(){var y=u(String.prototype,"startsWith");return y&&!y.writable})();l({target:"String",proto:!0,forced:!S&&!v},{startsWith:function(x){var b=String(f(this));c(x);var w=h(g(arguments.length>1?arguments[1]:void 0,b.length)),E=String(x);return m?m.call(b,E,w):b.slice(w,w+E.length)===E}})}),"2d00":(function(s,o,a){var l=a("da84"),u=a("342f"),h=l.process,c=h&&h.versions,f=c&&c.v8,d,p;f?(d=f.split("."),p=d[0]+d[1]):u&&(d=u.match(/Edge\/(\d+)/),(!d||d[1]>=74)&&(d=u.match(/Chrome\/(\d+)/),d&&(p=d[1]))),s.exports=p&&+p}),"342f":(function(s,o,a){var l=a("d066");s.exports=l("navigator","userAgent")||""}),"35a1":(function(s,o,a){var l=a("f5df"),u=a("3f8c"),h=a("b622"),c=h("iterator");s.exports=function(f){if(f!=null)return f[c]||f["@@iterator"]||u[l(f)]}}),"37e8":(function(s,o,a){var l=a("83ab"),u=a("9bf2"),h=a("825a"),c=a("df75");s.exports=l?Object.defineProperties:function(d,p){h(d);for(var m=c(p),g=m.length,v=0,S;g>v;)u.f(d,S=m[v++],p[S]);return d}}),"3bbe":(function(s,o,a){var l=a("861d");s.exports=function(u){if(!l(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}}),"3ca3":(function(s,o,a){var l=a("6547").charAt,u=a("69f3"),h=a("7dd0"),c="String Iterator",f=u.set,d=u.getterFor(c);h(String,"String",function(p){f(this,{type:c,string:String(p),index:0})},function(){var m=d(this),g=m.string,v=m.index,S;return v>=g.length?{value:void 0,done:!0}:(S=l(g,v),m.index+=S.length,{value:S,done:!1})})}),"3f8c":(function(s,o){s.exports={}}),4160:(function(s,o,a){var l=a("23e7"),u=a("17c2");l({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})}),"428f":(function(s,o,a){var l=a("da84");s.exports=l}),"44ad":(function(s,o,a){var l=a("d039"),u=a("c6b6"),h="".split;s.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return u(c)=="String"?h.call(c,""):Object(c)}:Object}),"44d2":(function(s,o,a){var l=a("b622"),u=a("7c73"),h=a("9bf2"),c=l("unscopables"),f=Array.prototype;f[c]==null&&h.f(f,c,{configurable:!0,value:u(null)}),s.exports=function(d){f[c][d]=!0}}),"44e7":(function(s,o,a){var l=a("861d"),u=a("c6b6"),h=a("b622"),c=h("match");s.exports=function(f){var d;return l(f)&&((d=f[c])!==void 0?!!d:u(f)=="RegExp")}}),4930:(function(s,o,a){var l=a("d039");s.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})}),"4d64":(function(s,o,a){var l=a("fc6a"),u=a("50c4"),h=a("23cb"),c=function(f){return function(d,p,m){var g=l(d),v=u(g.length),S=h(m,v),y;if(f&&p!=p){for(;v>S;)if(y=g[S++],y!=y)return!0}else for(;v>S;S++)if((f||S in g)&&g[S]===p)return f||S||0;return!f&&-1}};s.exports={includes:c(!0),indexOf:c(!1)}}),"4de4":(function(s,o,a){var l=a("23e7"),u=a("b727").filter,h=a("1dde"),c=a("ae40"),f=h("filter"),d=c("filter");l({target:"Array",proto:!0,forced:!f||!d},{filter:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}})}),"4df4":(function(s,o,a){var l=a("0366"),u=a("7b0b"),h=a("9bdd"),c=a("e95a"),f=a("50c4"),d=a("8418"),p=a("35a1");s.exports=function(g){var v=u(g),S=typeof this=="function"?this:Array,y=arguments.length,x=y>1?arguments[1]:void 0,b=x!==void 0,w=p(v),E=0,_,T,C,F,k,D;if(b&&(x=l(x,y>2?arguments[2]:void 0,2)),w!=null&&!(S==Array&&c(w)))for(F=w.call(v),k=F.next,T=new S;!(C=k.call(F)).done;E++)D=b?h(F,x,[C.value,E],!0):C.value,d(T,E,D);else for(_=f(v.length),T=new S(_);_>E;E++)D=b?x(v[E],E):v[E],d(T,E,D);return T.length=E,T}}),"4fad":(function(s,o,a){var l=a("23e7"),u=a("6f53").entries;l({target:"Object",stat:!0},{entries:function(c){return u(c)}})}),"50c4":(function(s,o,a){var l=a("a691"),u=Math.min;s.exports=function(h){return h>0?u(l(h),9007199254740991):0}}),5135:(function(s,o){var a={}.hasOwnProperty;s.exports=function(l,u){return a.call(l,u)}}),5319:(function(s,o,a){var l=a("d784"),u=a("825a"),h=a("7b0b"),c=a("50c4"),f=a("a691"),d=a("1d80"),p=a("8aa5"),m=a("14c3"),g=Math.max,v=Math.min,S=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,x=/\$([$&'`]|\d\d?)/g,b=function(w){return w===void 0?w:String(w)};l("replace",2,function(w,E,_,T){var C=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,F=T.REPLACE_KEEPS_$0,k=C?"$":"$0";return[function(M,U){var R=d(this),W=M?.[w];return W!==void 0?W.call(M,R,U):E.call(String(R),M,U)},function(N,M){if(!C&&F||typeof M=="string"&&M.indexOf(k)===-1){var U=_(E,N,this,M);if(U.done)return U.value}var R=u(N),W=String(this),ne=typeof M=="function";ne||(M=String(M));var ge=R.global;if(ge){var te=R.unicode;R.lastIndex=0}for(var J=[];;){var ae=m(R,W);if(ae===null||(J.push(ae),!ge))break;var xe=String(ae[0]);xe===""&&(R.lastIndex=p(W,c(R.lastIndex),te))}for(var Z="",G=0,ye=0;ye<J.length;ye++){ae=J[ye];for(var Q=String(ae[0]),pe=g(v(f(ae.index),W.length),0),$=[],re=1;re<ae.length;re++)$.push(b(ae[re]));var be=ae.groups;if(ne){var Se=[Q].concat($,pe,W);be!==void 0&&Se.push(be);var j=String(M.apply(void 0,Se))}else j=D(Q,W,pe,$,be,M);pe>=G&&(Z+=W.slice(G,pe)+j,G=pe+Q.length)}return Z+W.slice(G)}];function D(N,M,U,R,W,ne){var ge=U+N.length,te=R.length,J=x;return W!==void 0&&(W=h(W),J=y),E.call(ne,J,function(ae,xe){var Z;switch(xe.charAt(0)){case"$":return"$";case"&":return N;case"`":return M.slice(0,U);case"'":return M.slice(ge);case"<":Z=W[xe.slice(1,-1)];break;default:var G=+xe;if(G===0)return ae;if(G>te){var ye=S(G/10);return ye===0?ae:ye<=te?R[ye-1]===void 0?xe.charAt(1):R[ye-1]+xe.charAt(1):ae}Z=R[G-1]}return Z===void 0?"":Z})}})}),5692:(function(s,o,a){var l=a("c430"),u=a("c6cd");(s.exports=function(h,c){return u[h]||(u[h]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})}),"56ef":(function(s,o,a){var l=a("d066"),u=a("241c"),h=a("7418"),c=a("825a");s.exports=l("Reflect","ownKeys")||function(d){var p=u.f(c(d)),m=h.f;return m?p.concat(m(d)):p}}),"5a34":(function(s,o,a){var l=a("44e7");s.exports=function(u){if(l(u))throw TypeError("The method doesn't accept regular expressions");return u}}),"5c6c":(function(s,o){s.exports=function(a,l){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:l}}}),"5db7":(function(s,o,a){var l=a("23e7"),u=a("a2bf"),h=a("7b0b"),c=a("50c4"),f=a("1c0b"),d=a("65f0");l({target:"Array",proto:!0},{flatMap:function(m){var g=h(this),v=c(g.length),S;return f(m),S=d(g,0),S.length=u(S,g,g,v,0,1,m,arguments.length>1?arguments[1]:void 0),S}})}),6547:(function(s,o,a){var l=a("a691"),u=a("1d80"),h=function(c){return function(f,d){var p=String(u(f)),m=l(d),g=p.length,v,S;return m<0||m>=g?c?"":void 0:(v=p.charCodeAt(m),v<55296||v>56319||m+1===g||(S=p.charCodeAt(m+1))<56320||S>57343?c?p.charAt(m):v:c?p.slice(m,m+2):(v-55296<<10)+(S-56320)+65536)}};s.exports={codeAt:h(!1),charAt:h(!0)}}),"65f0":(function(s,o,a){var l=a("861d"),u=a("e8b5"),h=a("b622"),c=h("species");s.exports=function(f,d){var p;return u(f)&&(p=f.constructor,typeof p=="function"&&(p===Array||u(p.prototype))?p=void 0:l(p)&&(p=p[c],p===null&&(p=void 0))),new(p===void 0?Array:p)(d===0?0:d)}}),"69f3":(function(s,o,a){var l=a("7f9a"),u=a("da84"),h=a("861d"),c=a("9112"),f=a("5135"),d=a("f772"),p=a("d012"),m=u.WeakMap,g,v,S,y=function(C){return S(C)?v(C):g(C,{})},x=function(C){return function(F){var k;if(!h(F)||(k=v(F)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return k}};if(l){var b=new m,w=b.get,E=b.has,_=b.set;g=function(C,F){return _.call(b,C,F),F},v=function(C){return w.call(b,C)||{}},S=function(C){return E.call(b,C)}}else{var T=d("state");p[T]=!0,g=function(C,F){return c(C,T,F),F},v=function(C){return f(C,T)?C[T]:{}},S=function(C){return f(C,T)}}s.exports={set:g,get:v,has:S,enforce:y,getterFor:x}}),"6eeb":(function(s,o,a){var l=a("da84"),u=a("9112"),h=a("5135"),c=a("ce4e"),f=a("8925"),d=a("69f3"),p=d.get,m=d.enforce,g=String(String).split("String");(s.exports=function(v,S,y,x){var b=x?!!x.unsafe:!1,w=x?!!x.enumerable:!1,E=x?!!x.noTargetGet:!1;if(typeof y=="function"&&(typeof S=="string"&&!h(y,"name")&&u(y,"name",S),m(y).source=g.join(typeof S=="string"?S:"")),v===l){w?v[S]=y:c(S,y);return}else b?!E&&v[S]&&(w=!0):delete v[S];w?v[S]=y:u(v,S,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||f(this)})}),"6f53":(function(s,o,a){var l=a("83ab"),u=a("df75"),h=a("fc6a"),c=a("d1e7").f,f=function(d){return function(p){for(var m=h(p),g=u(m),v=g.length,S=0,y=[],x;v>S;)x=g[S++],(!l||c.call(m,x))&&y.push(d?[x,m[x]]:m[x]);return y}};s.exports={entries:f(!0),values:f(!1)}}),"73d9":(function(s,o,a){var l=a("44d2");l("flatMap")}),7418:(function(s,o){o.f=Object.getOwnPropertySymbols}),"746f":(function(s,o,a){var l=a("428f"),u=a("5135"),h=a("e538"),c=a("9bf2").f;s.exports=function(f){var d=l.Symbol||(l.Symbol={});u(d,f)||c(d,f,{value:h.f(f)})}}),7839:(function(s,o){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"7b0b":(function(s,o,a){var l=a("1d80");s.exports=function(u){return Object(l(u))}}),"7c73":(function(s,o,a){var l=a("825a"),u=a("37e8"),h=a("7839"),c=a("d012"),f=a("1be4"),d=a("cc12"),p=a("f772"),m=">",g="<",v="prototype",S="script",y=p("IE_PROTO"),x=function(){},b=function(C){return g+S+m+C+g+"/"+S+m},w=function(C){C.write(b("")),C.close();var F=C.parentWindow.Object;return C=null,F},E=function(){var C=d("iframe"),F="java"+S+":",k;return C.style.display="none",f.appendChild(C),C.src=String(F),k=C.contentWindow.document,k.open(),k.write(b("document.F=Object")),k.close(),k.F},_,T=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch{}T=_?w(_):E();for(var C=h.length;C--;)delete T[v][h[C]];return T()};c[y]=!0,s.exports=Object.create||function(F,k){var D;return F!==null?(x[v]=l(F),D=new x,x[v]=null,D[y]=F):D=T(),k===void 0?D:u(D,k)}}),"7dd0":(function(s,o,a){var l=a("23e7"),u=a("9ed3"),h=a("e163"),c=a("d2bb"),f=a("d44e"),d=a("9112"),p=a("6eeb"),m=a("b622"),g=a("c430"),v=a("3f8c"),S=a("ae93"),y=S.IteratorPrototype,x=S.BUGGY_SAFARI_ITERATORS,b=m("iterator"),w="keys",E="values",_="entries",T=function(){return this};s.exports=function(C,F,k,D,N,M,U){u(k,F,D);var R=function(ye){if(ye===N&&J)return J;if(!x&&ye in ge)return ge[ye];switch(ye){case w:return function(){return new k(this,ye)};case E:return function(){return new k(this,ye)};case _:return function(){return new k(this,ye)}}return function(){return new k(this)}},W=F+" Iterator",ne=!1,ge=C.prototype,te=ge[b]||ge["@@iterator"]||N&&ge[N],J=!x&&te||R(N),ae=F=="Array"&&ge.entries||te,xe,Z,G;if(ae&&(xe=h(ae.call(new C)),y!==Object.prototype&&xe.next&&(!g&&h(xe)!==y&&(c?c(xe,y):typeof xe[b]!="function"&&d(xe,b,T)),f(xe,W,!0,!0),g&&(v[W]=T))),N==E&&te&&te.name!==E&&(ne=!0,J=function(){return te.call(this)}),(!g||U)&&ge[b]!==J&&d(ge,b,J),v[F]=J,N)if(Z={values:R(E),keys:M?J:R(w),entries:R(_)},U)for(G in Z)(x||ne||!(G in ge))&&p(ge,G,Z[G]);else l({target:F,proto:!0,forced:x||ne},Z);return Z}}),"7f9a":(function(s,o,a){var l=a("da84"),u=a("8925"),h=l.WeakMap;s.exports=typeof h=="function"&&/native code/.test(u(h))}),"825a":(function(s,o,a){var l=a("861d");s.exports=function(u){if(!l(u))throw TypeError(String(u)+" is not an object");return u}}),"83ab":(function(s,o,a){var l=a("d039");s.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),8418:(function(s,o,a){var l=a("c04e"),u=a("9bf2"),h=a("5c6c");s.exports=function(c,f,d){var p=l(f);p in c?u.f(c,p,h(0,d)):c[p]=d}}),"861d":(function(s,o){s.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}}),8875:(function(s,o,a){var l,u,h;(function(c,f){u=[],l=f,h=typeof l=="function"?l.apply(o,u):l,h!==void 0&&(s.exports=h)})(typeof self<"u"?self:this,function(){function c(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(_){var d=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,m=d.exec(_.stack)||p.exec(_.stack),g=m&&m[1]||!1,v=m&&m[2]||!1,S=document.location.href.replace(document.location.hash,""),y,x,b,w=document.getElementsByTagName("script");g===S&&(y=document.documentElement.outerHTML,x=new RegExp("(?:[^\\n]+?\\n){0,"+(v-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),b=y.replace(x,"$1").trim());for(var E=0;E<w.length;E++)if(w[E].readyState==="interactive"||w[E].src===g||g===S&&w[E].innerHTML&&w[E].innerHTML.trim()===b)return w[E];return null}}return c})}),8925:(function(s,o,a){var l=a("c6cd"),u=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(h){return u.call(h)}),s.exports=l.inspectSource}),"8aa5":(function(s,o,a){var l=a("6547").charAt;s.exports=function(u,h,c){return h+(c?l(u,h).length:1)}}),"8bbf":(function(s,o){s.exports=r}),"90e3":(function(s,o){var a=0,l=Math.random();s.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++a+l).toString(36)}}),9112:(function(s,o,a){var l=a("83ab"),u=a("9bf2"),h=a("5c6c");s.exports=l?function(c,f,d){return u.f(c,f,h(1,d))}:function(c,f,d){return c[f]=d,c}}),9263:(function(s,o,a){var l=a("ad6d"),u=a("9f7f"),h=RegExp.prototype.exec,c=String.prototype.replace,f=h,d=(function(){var v=/a/,S=/b*/g;return h.call(v,"a"),h.call(S,"a"),v.lastIndex!==0||S.lastIndex!==0})(),p=u.UNSUPPORTED_Y||u.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0,g=d||m||p;g&&(f=function(S){var y=this,x,b,w,E,_=p&&y.sticky,T=l.call(y),C=y.source,F=0,k=S;return _&&(T=T.replace("y",""),T.indexOf("g")===-1&&(T+="g"),k=String(S).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&S[y.lastIndex-1]!==`
`)&&(C="(?: "+C+")",k=" "+k,F++),b=new RegExp("^(?:"+C+")",T)),m&&(b=new RegExp("^"+C+"$(?!\\s)",T)),d&&(x=y.lastIndex),w=h.call(_?b:y,k),_?w?(w.input=w.input.slice(F),w[0]=w[0].slice(F),w.index=y.lastIndex,y.lastIndex+=w[0].length):y.lastIndex=0:d&&w&&(y.lastIndex=y.global?w.index+w[0].length:x),m&&w&&w.length>1&&c.call(w[0],b,function(){for(E=1;E<arguments.length-2;E++)arguments[E]===void 0&&(w[E]=void 0)}),w}),s.exports=f}),"94ca":(function(s,o,a){var l=a("d039"),u=/#|\.prototype\./,h=function(m,g){var v=f[c(m)];return v==p?!0:v==d?!1:typeof g=="function"?l(g):!!g},c=h.normalize=function(m){return String(m).replace(u,".").toLowerCase()},f=h.data={},d=h.NATIVE="N",p=h.POLYFILL="P";s.exports=h}),"99af":(function(s,o,a){var l=a("23e7"),u=a("d039"),h=a("e8b5"),c=a("861d"),f=a("7b0b"),d=a("50c4"),p=a("8418"),m=a("65f0"),g=a("1dde"),v=a("b622"),S=a("2d00"),y=v("isConcatSpreadable"),x=9007199254740991,b="Maximum allowed index exceeded",w=S>=51||!u(function(){var C=[];return C[y]=!1,C.concat()[0]!==C}),E=g("concat"),_=function(C){if(!c(C))return!1;var F=C[y];return F!==void 0?!!F:h(C)},T=!w||!E;l({target:"Array",proto:!0,forced:T},{concat:function(F){var k=f(this),D=m(k,0),N=0,M,U,R,W,ne;for(M=-1,R=arguments.length;M<R;M++)if(ne=M===-1?k:arguments[M],_(ne)){if(W=d(ne.length),N+W>x)throw TypeError(b);for(U=0;U<W;U++,N++)U in ne&&p(D,N,ne[U])}else{if(N>=x)throw TypeError(b);p(D,N++,ne)}return D.length=N,D}})}),"9bdd":(function(s,o,a){var l=a("825a");s.exports=function(u,h,c,f){try{return f?h(l(c)[0],c[1]):h(c)}catch(p){var d=u.return;throw d!==void 0&&l(d.call(u)),p}}}),"9bf2":(function(s,o,a){var l=a("83ab"),u=a("0cfb"),h=a("825a"),c=a("c04e"),f=Object.defineProperty;o.f=l?f:function(p,m,g){if(h(p),m=c(m,!0),h(g),u)try{return f(p,m,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(p[m]=g.value),p}}),"9ed3":(function(s,o,a){var l=a("ae93").IteratorPrototype,u=a("7c73"),h=a("5c6c"),c=a("d44e"),f=a("3f8c"),d=function(){return this};s.exports=function(p,m,g){var v=m+" Iterator";return p.prototype=u(l,{next:h(1,g)}),c(p,v,!1,!0),f[v]=d,p}}),"9f7f":(function(s,o,a){var l=a("d039");function u(h,c){return RegExp(h,c)}o.UNSUPPORTED_Y=l(function(){var h=u("a","y");return h.lastIndex=2,h.exec("abcd")!=null}),o.BROKEN_CARET=l(function(){var h=u("^r","gy");return h.lastIndex=2,h.exec("str")!=null})}),a2bf:(function(s,o,a){var l=a("e8b5"),u=a("50c4"),h=a("0366"),c=function(f,d,p,m,g,v,S,y){for(var x=g,b=0,w=S?h(S,y,3):!1,E;b<m;){if(b in p){if(E=w?w(p[b],b,d):p[b],v>0&&l(E))x=c(f,d,E,u(E.length),x,v-1)-1;else{if(x>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[x]=E}x++}b++}return x};s.exports=c}),a352:(function(s,o){s.exports=i}),a434:(function(s,o,a){var l=a("23e7"),u=a("23cb"),h=a("a691"),c=a("50c4"),f=a("7b0b"),d=a("65f0"),p=a("8418"),m=a("1dde"),g=a("ae40"),v=m("splice"),S=g("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,x=Math.min,b=9007199254740991,w="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!v||!S},{splice:function(_,T){var C=f(this),F=c(C.length),k=u(_,F),D=arguments.length,N,M,U,R,W,ne;if(D===0?N=M=0:D===1?(N=0,M=F-k):(N=D-2,M=x(y(h(T),0),F-k)),F+N-M>b)throw TypeError(w);for(U=d(C,M),R=0;R<M;R++)W=k+R,W in C&&p(U,R,C[W]);if(U.length=M,N<M){for(R=k;R<F-M;R++)W=R+M,ne=R+N,W in C?C[ne]=C[W]:delete C[ne];for(R=F;R>F-M+N;R--)delete C[R-1]}else if(N>M)for(R=F-M;R>k;R--)W=R+M-1,ne=R+N-1,W in C?C[ne]=C[W]:delete C[ne];for(R=0;R<N;R++)C[R+k]=arguments[R+2];return C.length=F-M+N,U}})}),a4d3:(function(s,o,a){var l=a("23e7"),u=a("da84"),h=a("d066"),c=a("c430"),f=a("83ab"),d=a("4930"),p=a("fdbf"),m=a("d039"),g=a("5135"),v=a("e8b5"),S=a("861d"),y=a("825a"),x=a("7b0b"),b=a("fc6a"),w=a("c04e"),E=a("5c6c"),_=a("7c73"),T=a("df75"),C=a("241c"),F=a("057f"),k=a("7418"),D=a("06cf"),N=a("9bf2"),M=a("d1e7"),U=a("9112"),R=a("6eeb"),W=a("5692"),ne=a("f772"),ge=a("d012"),te=a("90e3"),J=a("b622"),ae=a("e538"),xe=a("746f"),Z=a("d44e"),G=a("69f3"),ye=a("b727").forEach,Q=ne("hidden"),pe="Symbol",$="prototype",re=J("toPrimitive"),be=G.set,Se=G.getterFor(pe),j=Object[$],X=u.Symbol,ee=h("JSON","stringify"),Ae=D.f,we=N.f,he=F.f,me=M.f,_e=W("symbols"),De=W("op-symbols"),Le=W("string-to-symbol-registry"),B=W("symbol-to-string-registry"),Ue=W("wks"),Oe=u.QObject,Qe=!Oe||!Oe[$]||!Oe[$].findChild,We=f&&m(function(){return _(we({},"a",{get:function(){return we(this,"a",{value:7}).a}})).a!=7})?function(ve,Ie,Te){var qe=Ae(j,Ie);qe&&delete j[Ie],we(ve,Ie,Te),qe&&ve!==j&&we(j,Ie,qe)}:we,ft=function(ve,Ie){var Te=_e[ve]=_(X[$]);return be(Te,{type:pe,tag:ve,description:Ie}),f||(Te.description=Ie),Te},Ce=p?function(ve){return typeof ve=="symbol"}:function(ve){return Object(ve)instanceof X},Fe=function(Ie,Te,qe){Ie===j&&Fe(De,Te,qe),y(Ie);var et=w(Te,!0);return y(qe),g(_e,et)?(qe.enumerable?(g(Ie,Q)&&Ie[Q][et]&&(Ie[Q][et]=!1),qe=_(qe,{enumerable:E(0,!1)})):(g(Ie,Q)||we(Ie,Q,E(1,{})),Ie[Q][et]=!0),We(Ie,et,qe)):we(Ie,et,qe)},Pe=function(Ie,Te){y(Ie);var qe=b(Te),et=T(qe).concat(ie(qe));return ye(et,function(vt){(!f||Ve.call(qe,vt))&&Fe(Ie,vt,qe[vt])}),Ie},$e=function(Ie,Te){return Te===void 0?_(Ie):Pe(_(Ie),Te)},Ve=function(Ie){var Te=w(Ie,!0),qe=me.call(this,Te);return this===j&&g(_e,Te)&&!g(De,Te)?!1:qe||!g(this,Te)||!g(_e,Te)||g(this,Q)&&this[Q][Te]?qe:!0},P=function(Ie,Te){var qe=b(Ie),et=w(Te,!0);if(!(qe===j&&g(_e,et)&&!g(De,et))){var vt=Ae(qe,et);return vt&&g(_e,et)&&!(g(qe,Q)&&qe[Q][et])&&(vt.enumerable=!0),vt}},V=function(Ie){var Te=he(b(Ie)),qe=[];return ye(Te,function(et){!g(_e,et)&&!g(ge,et)&&qe.push(et)}),qe},ie=function(Ie){var Te=Ie===j,qe=he(Te?De:b(Ie)),et=[];return ye(qe,function(vt){g(_e,vt)&&(!Te||g(j,vt))&&et.push(_e[vt])}),et};if(d||(X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var Ie=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Te=te(Ie),qe=function(et){this===j&&qe.call(De,et),g(this,Q)&&g(this[Q],Te)&&(this[Q][Te]=!1),We(this,Te,E(1,et))};return f&&Qe&&We(j,Te,{configurable:!0,set:qe}),ft(Te,Ie)},R(X[$],"toString",function(){return Se(this).tag}),R(X,"withoutSetter",function(ve){return ft(te(ve),ve)}),M.f=Ve,N.f=Fe,D.f=P,C.f=F.f=V,k.f=ie,ae.f=function(ve){return ft(J(ve),ve)},f&&(we(X[$],"description",{configurable:!0,get:function(){return Se(this).description}}),c||R(j,"propertyIsEnumerable",Ve,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:X}),ye(T(Ue),function(ve){xe(ve)}),l({target:pe,stat:!0,forced:!d},{for:function(ve){var Ie=String(ve);if(g(Le,Ie))return Le[Ie];var Te=X(Ie);return Le[Ie]=Te,B[Te]=Ie,Te},keyFor:function(Ie){if(!Ce(Ie))throw TypeError(Ie+" is not a symbol");if(g(B,Ie))return B[Ie]},useSetter:function(){Qe=!0},useSimple:function(){Qe=!1}}),l({target:"Object",stat:!0,forced:!d,sham:!f},{create:$e,defineProperty:Fe,defineProperties:Pe,getOwnPropertyDescriptor:P}),l({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:V,getOwnPropertySymbols:ie}),l({target:"Object",stat:!0,forced:m(function(){k.f(1)})},{getOwnPropertySymbols:function(Ie){return k.f(x(Ie))}}),ee){var fe=!d||m(function(){var ve=X();return ee([ve])!="[null]"||ee({a:ve})!="{}"||ee(Object(ve))!="{}"});l({target:"JSON",stat:!0,forced:fe},{stringify:function(Ie,Te,qe){for(var et=[Ie],vt=1,hn;arguments.length>vt;)et.push(arguments[vt++]);if(hn=Te,!(!S(Te)&&Ie===void 0||Ce(Ie)))return v(Te)||(Te=function(O,q){if(typeof hn=="function"&&(q=hn.call(this,O,q)),!Ce(q))return q}),et[1]=Te,ee.apply(null,et)}})}X[$][re]||U(X[$],re,X[$].valueOf),Z(X,pe),ge[Q]=!0}),a630:(function(s,o,a){var l=a("23e7"),u=a("4df4"),h=a("1c7e"),c=!h(function(f){Array.from(f)});l({target:"Array",stat:!0,forced:c},{from:u})}),a640:(function(s,o,a){var l=a("d039");s.exports=function(u,h){var c=[][u];return!!c&&l(function(){c.call(null,h||function(){throw 1},1)})}}),a691:(function(s,o){var a=Math.ceil,l=Math.floor;s.exports=function(u){return isNaN(u=+u)?0:(u>0?l:a)(u)}}),ab13:(function(s,o,a){var l=a("b622"),u=l("match");s.exports=function(h){var c=/./;try{"/./"[h](c)}catch{try{return c[u]=!1,"/./"[h](c)}catch{}}return!1}}),ac1f:(function(s,o,a){var l=a("23e7"),u=a("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})}),ad6d:(function(s,o,a){var l=a("825a");s.exports=function(){var u=l(this),h="";return u.global&&(h+="g"),u.ignoreCase&&(h+="i"),u.multiline&&(h+="m"),u.dotAll&&(h+="s"),u.unicode&&(h+="u"),u.sticky&&(h+="y"),h}}),ae40:(function(s,o,a){var l=a("83ab"),u=a("d039"),h=a("5135"),c=Object.defineProperty,f={},d=function(p){throw p};s.exports=function(p,m){if(h(f,p))return f[p];m||(m={});var g=[][p],v=h(m,"ACCESSORS")?m.ACCESSORS:!1,S=h(m,0)?m[0]:d,y=h(m,1)?m[1]:void 0;return f[p]=!!g&&!u(function(){if(v&&!l)return!0;var x={length:-1};v?c(x,1,{enumerable:!0,get:d}):x[1]=1,g.call(x,S,y)})}}),ae93:(function(s,o,a){var l=a("e163"),u=a("9112"),h=a("5135"),c=a("b622"),f=a("c430"),d=c("iterator"),p=!1,m=function(){return this},g,v,S;[].keys&&(S=[].keys(),"next"in S?(v=l(l(S)),v!==Object.prototype&&(g=v)):p=!0),g==null&&(g={}),!f&&!h(g,d)&&u(g,d,m),s.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:p}}),b041:(function(s,o,a){var l=a("00ee"),u=a("f5df");s.exports=l?{}.toString:function(){return"[object "+u(this)+"]"}}),b0c0:(function(s,o,a){var l=a("83ab"),u=a("9bf2").f,h=Function.prototype,c=h.toString,f=/^\s*function ([^ (]*)/,d="name";l&&!(d in h)&&u(h,d,{configurable:!0,get:function(){try{return c.call(this).match(f)[1]}catch{return""}}})}),b622:(function(s,o,a){var l=a("da84"),u=a("5692"),h=a("5135"),c=a("90e3"),f=a("4930"),d=a("fdbf"),p=u("wks"),m=l.Symbol,g=d?m:m&&m.withoutSetter||c;s.exports=function(v){return h(p,v)||(f&&h(m,v)?p[v]=m[v]:p[v]=g("Symbol."+v)),p[v]}}),b64b:(function(s,o,a){var l=a("23e7"),u=a("7b0b"),h=a("df75"),c=a("d039"),f=c(function(){h(1)});l({target:"Object",stat:!0,forced:f},{keys:function(p){return h(u(p))}})}),b727:(function(s,o,a){var l=a("0366"),u=a("44ad"),h=a("7b0b"),c=a("50c4"),f=a("65f0"),d=[].push,p=function(m){var g=m==1,v=m==2,S=m==3,y=m==4,x=m==6,b=m==5||x;return function(w,E,_,T){for(var C=h(w),F=u(C),k=l(E,_,3),D=c(F.length),N=0,M=T||f,U=g?M(w,D):v?M(w,0):void 0,R,W;D>N;N++)if((b||N in F)&&(R=F[N],W=k(R,N,C),m)){if(g)U[N]=W;else if(W)switch(m){case 3:return!0;case 5:return R;case 6:return N;case 2:d.call(U,R)}else if(y)return!1}return x?-1:S||y?y:U}};s.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}}),c04e:(function(s,o,a){var l=a("861d");s.exports=function(u,h){if(!l(u))return u;var c,f;if(h&&typeof(c=u.toString)=="function"&&!l(f=c.call(u))||typeof(c=u.valueOf)=="function"&&!l(f=c.call(u))||!h&&typeof(c=u.toString)=="function"&&!l(f=c.call(u)))return f;throw TypeError("Can't convert object to primitive value")}}),c430:(function(s,o){s.exports=!1}),c6b6:(function(s,o){var a={}.toString;s.exports=function(l){return a.call(l).slice(8,-1)}}),c6cd:(function(s,o,a){var l=a("da84"),u=a("ce4e"),h="__core-js_shared__",c=l[h]||u(h,{});s.exports=c}),c740:(function(s,o,a){var l=a("23e7"),u=a("b727").findIndex,h=a("44d2"),c=a("ae40"),f="findIndex",d=!0,p=c(f);f in[]&&Array(1)[f](function(){d=!1}),l({target:"Array",proto:!0,forced:d||!p},{findIndex:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}}),h(f)}),c8ba:(function(s,o){var a;a=(function(){return this})();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}s.exports=a}),c975:(function(s,o,a){var l=a("23e7"),u=a("4d64").indexOf,h=a("a640"),c=a("ae40"),f=[].indexOf,d=!!f&&1/[1].indexOf(1,-0)<0,p=h("indexOf"),m=c("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:d||!p||!m},{indexOf:function(v){return d?f.apply(this,arguments)||0:u(this,v,arguments.length>1?arguments[1]:void 0)}})}),ca84:(function(s,o,a){var l=a("5135"),u=a("fc6a"),h=a("4d64").indexOf,c=a("d012");s.exports=function(f,d){var p=u(f),m=0,g=[],v;for(v in p)!l(c,v)&&l(p,v)&&g.push(v);for(;d.length>m;)l(p,v=d[m++])&&(~h(g,v)||g.push(v));return g}}),caad:(function(s,o,a){var l=a("23e7"),u=a("4d64").includes,h=a("44d2"),c=a("ae40"),f=c("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!f},{includes:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}}),h("includes")}),cc12:(function(s,o,a){var l=a("da84"),u=a("861d"),h=l.document,c=u(h)&&u(h.createElement);s.exports=function(f){return c?h.createElement(f):{}}}),ce4e:(function(s,o,a){var l=a("da84"),u=a("9112");s.exports=function(h,c){try{u(l,h,c)}catch{l[h]=c}return c}}),d012:(function(s,o){s.exports={}}),d039:(function(s,o){s.exports=function(a){try{return!!a()}catch{return!0}}}),d066:(function(s,o,a){var l=a("428f"),u=a("da84"),h=function(c){return typeof c=="function"?c:void 0};s.exports=function(c,f){return arguments.length<2?h(l[c])||h(u[c]):l[c]&&l[c][f]||u[c]&&u[c][f]}}),d1e7:(function(s,o,a){var l={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,h=u&&!l.call({1:2},1);o.f=h?function(f){var d=u(this,f);return!!d&&d.enumerable}:l}),d28b:(function(s,o,a){var l=a("746f");l("iterator")}),d2bb:(function(s,o,a){var l=a("825a"),u=a("3bbe");s.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var h=!1,c={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(c,[]),h=c instanceof Array}catch{}return function(p,m){return l(p),u(m),h?f.call(p,m):p.__proto__=m,p}})():void 0)}),d3b7:(function(s,o,a){var l=a("00ee"),u=a("6eeb"),h=a("b041");l||u(Object.prototype,"toString",h,{unsafe:!0})}),d44e:(function(s,o,a){var l=a("9bf2").f,u=a("5135"),h=a("b622"),c=h("toStringTag");s.exports=function(f,d,p){f&&!u(f=p?f:f.prototype,c)&&l(f,c,{configurable:!0,value:d})}}),d58f:(function(s,o,a){var l=a("1c0b"),u=a("7b0b"),h=a("44ad"),c=a("50c4"),f=function(d){return function(p,m,g,v){l(m);var S=u(p),y=h(S),x=c(S.length),b=d?x-1:0,w=d?-1:1;if(g<2)for(;;){if(b in y){v=y[b],b+=w;break}if(b+=w,d?b<0:x<=b)throw TypeError("Reduce of empty array with no initial value")}for(;d?b>=0:x>b;b+=w)b in y&&(v=m(v,y[b],b,S));return v}};s.exports={left:f(!1),right:f(!0)}}),d784:(function(s,o,a){a("ac1f");var l=a("6eeb"),u=a("d039"),h=a("b622"),c=a("9263"),f=a("9112"),d=h("species"),p=!u(function(){var y=/./;return y.exec=function(){var x=[];return x.groups={a:"7"},x},"".replace(y,"$<a>")!=="7"}),m=(function(){return"a".replace(/./,"$0")==="$0"})(),g=h("replace"),v=(function(){return/./[g]?/./[g]("a","$0")==="":!1})(),S=!u(function(){var y=/(?:)/,x=y.exec;y.exec=function(){return x.apply(this,arguments)};var b="ab".split(y);return b.length!==2||b[0]!=="a"||b[1]!=="b"});s.exports=function(y,x,b,w){var E=h(y),_=!u(function(){var N={};return N[E]=function(){return 7},""[y](N)!=7}),T=_&&!u(function(){var N=!1,M=/a/;return y==="split"&&(M={},M.constructor={},M.constructor[d]=function(){return M},M.flags="",M[E]=/./[E]),M.exec=function(){return N=!0,null},M[E](""),!N});if(!_||!T||y==="replace"&&!(p&&m&&!v)||y==="split"&&!S){var C=/./[E],F=b(E,""[y],function(N,M,U,R,W){return M.exec===c?_&&!W?{done:!0,value:C.call(M,U,R)}:{done:!0,value:N.call(U,M,R)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),k=F[0],D=F[1];l(String.prototype,y,k),l(RegExp.prototype,E,x==2?function(N,M){return D.call(N,this,M)}:function(N){return D.call(N,this)})}w&&f(RegExp.prototype[E],"sham",!0)}}),d81d:(function(s,o,a){var l=a("23e7"),u=a("b727").map,h=a("1dde"),c=a("ae40"),f=h("map"),d=c("map");l({target:"Array",proto:!0,forced:!f||!d},{map:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}})}),da84:(function(s,o,a){(function(l){var u=function(h){return h&&h.Math==Math&&h};s.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof l=="object"&&l)||Function("return this")()}).call(this,a("c8ba"))}),dbb4:(function(s,o,a){var l=a("23e7"),u=a("83ab"),h=a("56ef"),c=a("fc6a"),f=a("06cf"),d=a("8418");l({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(m){for(var g=c(m),v=f.f,S=h(g),y={},x=0,b,w;S.length>x;)w=v(g,b=S[x++]),w!==void 0&&d(y,b,w);return y}})}),dbf1:(function(s,o,a){(function(l){a.d(o,"a",function(){return h});function u(){return typeof window<"u"?window.console:l.console}var h=u()}).call(this,a("c8ba"))}),ddb0:(function(s,o,a){var l=a("da84"),u=a("fdbc"),h=a("e260"),c=a("9112"),f=a("b622"),d=f("iterator"),p=f("toStringTag"),m=h.values;for(var g in u){var v=l[g],S=v&&v.prototype;if(S){if(S[d]!==m)try{c(S,d,m)}catch{S[d]=m}if(S[p]||c(S,p,g),u[g]){for(var y in h)if(S[y]!==h[y])try{c(S,y,h[y])}catch{S[y]=h[y]}}}}}),df75:(function(s,o,a){var l=a("ca84"),u=a("7839");s.exports=Object.keys||function(c){return l(c,u)}}),e01a:(function(s,o,a){var l=a("23e7"),u=a("83ab"),h=a("da84"),c=a("5135"),f=a("861d"),d=a("9bf2").f,p=a("e893"),m=h.Symbol;if(u&&typeof m=="function"&&(!("description"in m.prototype)||m().description!==void 0)){var g={},v=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),_=this instanceof v?new m(E):E===void 0?m():m(E);return E===""&&(g[_]=!0),_};p(v,m);var S=v.prototype=m.prototype;S.constructor=v;var y=S.toString,x=String(m("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/;d(S,"description",{configurable:!0,get:function(){var E=f(this)?this.valueOf():this,_=y.call(E);if(c(g,E))return"";var T=x?_.slice(7,-1):_.replace(b,"$1");return T===""?void 0:T}}),l({global:!0,forced:!0},{Symbol:v})}}),e163:(function(s,o,a){var l=a("5135"),u=a("7b0b"),h=a("f772"),c=a("e177"),f=h("IE_PROTO"),d=Object.prototype;s.exports=c?Object.getPrototypeOf:function(p){return p=u(p),l(p,f)?p[f]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?d:null}}),e177:(function(s,o,a){var l=a("d039");s.exports=!l(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})}),e260:(function(s,o,a){var l=a("fc6a"),u=a("44d2"),h=a("3f8c"),c=a("69f3"),f=a("7dd0"),d="Array Iterator",p=c.set,m=c.getterFor(d);s.exports=f(Array,"Array",function(g,v){p(this,{type:d,target:l(g),index:0,kind:v})},function(){var g=m(this),v=g.target,S=g.kind,y=g.index++;return!v||y>=v.length?(g.target=void 0,{value:void 0,done:!0}):S=="keys"?{value:y,done:!1}:S=="values"?{value:v[y],done:!1}:{value:[y,v[y]],done:!1}},"values"),h.Arguments=h.Array,u("keys"),u("values"),u("entries")}),e439:(function(s,o,a){var l=a("23e7"),u=a("d039"),h=a("fc6a"),c=a("06cf").f,f=a("83ab"),d=u(function(){c(1)}),p=!f||d;l({target:"Object",stat:!0,forced:p,sham:!f},{getOwnPropertyDescriptor:function(g,v){return c(h(g),v)}})}),e538:(function(s,o,a){var l=a("b622");o.f=l}),e893:(function(s,o,a){var l=a("5135"),u=a("56ef"),h=a("06cf"),c=a("9bf2");s.exports=function(f,d){for(var p=u(d),m=c.f,g=h.f,v=0;v<p.length;v++){var S=p[v];l(f,S)||m(f,S,g(d,S))}}}),e8b5:(function(s,o,a){var l=a("c6b6");s.exports=Array.isArray||function(h){return l(h)=="Array"}}),e95a:(function(s,o,a){var l=a("b622"),u=a("3f8c"),h=l("iterator"),c=Array.prototype;s.exports=function(f){return f!==void 0&&(u.Array===f||c[h]===f)}}),f5df:(function(s,o,a){var l=a("00ee"),u=a("c6b6"),h=a("b622"),c=h("toStringTag"),f=u((function(){return arguments})())=="Arguments",d=function(p,m){try{return p[m]}catch{}};s.exports=l?u:function(p){var m,g,v;return p===void 0?"Undefined":p===null?"Null":typeof(g=d(m=Object(p),c))=="string"?g:f?u(m):(v=u(m))=="Object"&&typeof m.callee=="function"?"Arguments":v}}),f772:(function(s,o,a){var l=a("5692"),u=a("90e3"),h=l("keys");s.exports=function(c){return h[c]||(h[c]=u(c))}}),fb15:(function(s,o,a){if(a.r(o),typeof window<"u"){var l=window.document.currentScript;{var u=a("8875");l=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var h=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);h&&(a.p=h[1])}a("99af"),a("4de4"),a("4160"),a("c975"),a("d81d"),a("a434"),a("159b"),a("a4d3"),a("e439"),a("dbb4"),a("b64b");function c(Ce,Fe,Pe){return Fe in Ce?Object.defineProperty(Ce,Fe,{value:Pe,enumerable:!0,configurable:!0,writable:!0}):Ce[Fe]=Pe,Ce}function f(Ce,Fe){var Pe=Object.keys(Ce);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(Ce);Fe&&($e=$e.filter(function(Ve){return Object.getOwnPropertyDescriptor(Ce,Ve).enumerable})),Pe.push.apply(Pe,$e)}return Pe}function d(Ce){for(var Fe=1;Fe<arguments.length;Fe++){var Pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?f(Object(Pe),!0).forEach(function($e){c(Ce,$e,Pe[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(Pe)):f(Object(Pe)).forEach(function($e){Object.defineProperty(Ce,$e,Object.getOwnPropertyDescriptor(Pe,$e))})}return Ce}function p(Ce){if(Array.isArray(Ce))return Ce}a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function m(Ce,Fe){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Ce)))){var Pe=[],$e=!0,Ve=!1,P=void 0;try{for(var V=Ce[Symbol.iterator](),ie;!($e=(ie=V.next()).done)&&(Pe.push(ie.value),!(Fe&&Pe.length===Fe));$e=!0);}catch(fe){Ve=!0,P=fe}finally{try{!$e&&V.return!=null&&V.return()}finally{if(Ve)throw P}}return Pe}}a("a630"),a("fb6a"),a("b0c0"),a("25f0");function g(Ce,Fe){(Fe==null||Fe>Ce.length)&&(Fe=Ce.length);for(var Pe=0,$e=new Array(Fe);Pe<Fe;Pe++)$e[Pe]=Ce[Pe];return $e}function v(Ce,Fe){if(Ce){if(typeof Ce=="string")return g(Ce,Fe);var Pe=Object.prototype.toString.call(Ce).slice(8,-1);if(Pe==="Object"&&Ce.constructor&&(Pe=Ce.constructor.name),Pe==="Map"||Pe==="Set")return Array.from(Ce);if(Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return g(Ce,Fe)}}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(Ce,Fe){return p(Ce)||m(Ce,Fe)||v(Ce,Fe)||S()}function x(Ce){if(Array.isArray(Ce))return g(Ce)}function b(Ce){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ce))return Array.from(Ce)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(Ce){return x(Ce)||b(Ce)||v(Ce)||w()}var _=a("a352"),T=a.n(_);function C(Ce){Ce.parentElement!==null&&Ce.parentElement.removeChild(Ce)}function F(Ce,Fe,Pe){var $e=Pe===0?Ce.children[0]:Ce.children[Pe-1].nextSibling;Ce.insertBefore(Fe,$e)}var k=a("dbf1");a("13d5"),a("4fad"),a("ac1f"),a("5319");function D(Ce){var Fe=Object.create(null);return function($e){var Ve=Fe[$e];return Ve||(Fe[$e]=Ce($e))}}var N=/-(\w)/g,M=D(function(Ce){return Ce.replace(N,function(Fe,Pe){return Pe.toUpperCase()})});a("5db7"),a("73d9");var U=["Start","Add","Remove","Update","End"],R=["Choose","Unchoose","Sort","Filter","Clone"],W=["Move"],ne=[W,U,R].flatMap(function(Ce){return Ce}).map(function(Ce){return"on".concat(Ce)}),ge={manage:W,manageAndEmit:U,emit:R};function te(Ce){return ne.indexOf(Ce)!==-1}a("caad"),a("2ca0");var J=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ae(Ce){return J.includes(Ce)}function xe(Ce){return["transition-group","TransitionGroup"].includes(Ce)}function Z(Ce){return["id","class","role","style"].includes(Ce)||Ce.startsWith("data-")||Ce.startsWith("aria-")||Ce.startsWith("on")}function G(Ce){return Ce.reduce(function(Fe,Pe){var $e=y(Pe,2),Ve=$e[0],P=$e[1];return Fe[Ve]=P,Fe},{})}function ye(Ce){var Fe=Ce.$attrs,Pe=Ce.componentData,$e=Pe===void 0?{}:Pe,Ve=G(Object.entries(Fe).filter(function(P){var V=y(P,2),ie=V[0];return V[1],Z(ie)}));return d(d({},Ve),$e)}function Q(Ce){var Fe=Ce.$attrs,Pe=Ce.callBackBuilder,$e=G(pe(Fe));Object.entries(Pe).forEach(function(P){var V=y(P,2),ie=V[0],fe=V[1];ge[ie].forEach(function(ve){$e["on".concat(ve)]=fe(ve)})});var Ve="[data-draggable]".concat($e.draggable||"");return d(d({},$e),{},{draggable:Ve})}function pe(Ce){return Object.entries(Ce).filter(function(Fe){var Pe=y(Fe,2),$e=Pe[0];return Pe[1],!Z($e)}).map(function(Fe){var Pe=y(Fe,2),$e=Pe[0],Ve=Pe[1];return[M($e),Ve]}).filter(function(Fe){var Pe=y(Fe,2),$e=Pe[0];return Pe[1],!te($e)})}a("c740");function $(Ce,Fe){if(!(Ce instanceof Fe))throw new TypeError("Cannot call a class as a function")}function re(Ce,Fe){for(var Pe=0;Pe<Fe.length;Pe++){var $e=Fe[Pe];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Ce,$e.key,$e)}}function be(Ce,Fe,Pe){return Fe&&re(Ce.prototype,Fe),Ce}var Se=function(Fe){var Pe=Fe.el;return Pe},j=function(Fe,Pe){return Fe.__draggable_context=Pe},X=function(Fe){return Fe.__draggable_context},ee=(function(){function Ce(Fe){var Pe=Fe.nodes,$e=Pe.header,Ve=Pe.default,P=Pe.footer,V=Fe.root,ie=Fe.realList;$(this,Ce),this.defaultNodes=Ve,this.children=[].concat(E($e),E(Ve),E(P)),this.externalComponent=V.externalComponent,this.rootTransition=V.transition,this.tag=V.tag,this.realList=ie}return be(Ce,[{key:"render",value:function(Pe,$e){var Ve=this.tag,P=this.children,V=this._isRootComponent,ie=V?{default:function(){return P}}:P;return Pe(Ve,$e,ie)}},{key:"updated",value:function(){var Pe=this.defaultNodes,$e=this.realList;Pe.forEach(function(Ve,P){j(Se(Ve),{element:$e[P],index:P})})}},{key:"getUnderlyingVm",value:function(Pe){return X(Pe)}},{key:"getVmIndexFromDomIndex",value:function(Pe,$e){var Ve=this.defaultNodes,P=Ve.length,V=$e.children,ie=V.item(Pe);if(ie===null)return P;var fe=X(ie);if(fe)return fe.index;if(P===0)return 0;var ve=Se(Ve[0]),Ie=E(V).findIndex(function(Te){return Te===ve});return Pe<Ie?0:P}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),Ce})(),Ae=a("8bbf");function we(Ce,Fe){var Pe=Ce[Fe];return Pe?Pe():[]}function he(Ce){var Fe=Ce.$slots,Pe=Ce.realList,$e=Ce.getKey,Ve=Pe||[],P=["header","footer"].map(function(Te){return we(Fe,Te)}),V=y(P,2),ie=V[0],fe=V[1],ve=Fe.item;if(!ve)throw new Error("draggable element must have an item slot");var Ie=Ve.flatMap(function(Te,qe){return ve({element:Te,index:qe}).map(function(et){return et.key=$e(Te),et.props=d(d({},et.props||{}),{},{"data-draggable":!0}),et})});if(Ie.length!==Ve.length)throw new Error("Item slot must have only one child");return{header:ie,footer:fe,default:Ie}}function me(Ce){var Fe=xe(Ce),Pe=!ae(Ce)&&!Fe;return{transition:Fe,externalComponent:Pe,tag:Pe?Object(Ae.resolveComponent)(Ce):Fe?Ae.TransitionGroup:Ce}}function _e(Ce){var Fe=Ce.$slots,Pe=Ce.tag,$e=Ce.realList,Ve=Ce.getKey,P=he({$slots:Fe,realList:$e,getKey:Ve}),V=me(Pe);return new ee({nodes:P,root:V,realList:$e})}function De(Ce,Fe){var Pe=this;Object(Ae.nextTick)(function(){return Pe.$emit(Ce.toLowerCase(),Fe)})}function Le(Ce){var Fe=this;return function(Pe,$e){if(Fe.realList!==null)return Fe["onDrag".concat(Ce)](Pe,$e)}}function B(Ce){var Fe=this,Pe=Le.call(this,Ce);return function($e,Ve){Pe.call(Fe,$e,Ve),De.call(Fe,Ce,$e)}}var Ue=null,Oe={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(Fe){return Fe}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Qe=["update:modelValue","change"].concat(E([].concat(E(ge.manageAndEmit),E(ge.emit)).map(function(Ce){return Ce.toLowerCase()}))),We=Object(Ae.defineComponent)({name:"draggable",inheritAttrs:!1,props:Oe,emits:Qe,data:function(){return{error:!1}},render:function(){try{this.error=!1;var Fe=this.$slots,Pe=this.$attrs,$e=this.tag,Ve=this.componentData,P=this.realList,V=this.getKey,ie=_e({$slots:Fe,tag:$e,realList:P,getKey:V});this.componentStructure=ie;var fe=ye({$attrs:Pe,componentData:Ve});return ie.render(Ae.h,fe)}catch(ve){return this.error=!0,Object(Ae.h)("pre",{style:{color:"red"}},ve.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&k.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var Fe=this;if(!this.error){var Pe=this.$attrs,$e=this.$el,Ve=this.componentStructure;Ve.updated();var P=Q({$attrs:Pe,callBackBuilder:{manageAndEmit:function(fe){return B.call(Fe,fe)},emit:function(fe){return De.bind(Fe,fe)},manage:function(fe){return Le.call(Fe,fe)}}}),V=$e.nodeType===1?$e:$e.parentElement;this._sortable=new T.a(V,P),this.targetDomElement=V,V.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var Fe=this.list;return Fe||this.modelValue},getKey:function(){var Fe=this.itemKey;return typeof Fe=="function"?Fe:function(Pe){return Pe[Fe]}}},watch:{$attrs:{handler:function(Fe){var Pe=this._sortable;Pe&&pe(Fe).forEach(function($e){var Ve=y($e,2),P=Ve[0],V=Ve[1];Pe.option(P,V)})},deep:!0}},methods:{getUnderlyingVm:function(Fe){return this.componentStructure.getUnderlyingVm(Fe)||null},getUnderlyingPotencialDraggableComponent:function(Fe){return Fe.__draggable_component__},emitChanges:function(Fe){var Pe=this;Object(Ae.nextTick)(function(){return Pe.$emit("change",Fe)})},alterList:function(Fe){if(this.list){Fe(this.list);return}var Pe=E(this.modelValue);Fe(Pe),this.$emit("update:modelValue",Pe)},spliceList:function(){var Fe=arguments,Pe=function(Ve){return Ve.splice.apply(Ve,E(Fe))};this.alterList(Pe)},updatePosition:function(Fe,Pe){var $e=function(P){return P.splice(Pe,0,P.splice(Fe,1)[0])};this.alterList($e)},getRelatedContextFromMoveEvent:function(Fe){var Pe=Fe.to,$e=Fe.related,Ve=this.getUnderlyingPotencialDraggableComponent(Pe);if(!Ve)return{component:Ve};var P=Ve.realList,V={list:P,component:Ve};if(Pe!==$e&&P){var ie=Ve.getUnderlyingVm($e)||{};return d(d({},ie),V)}return V},getVmIndexFromDomIndex:function(Fe){return this.componentStructure.getVmIndexFromDomIndex(Fe,this.targetDomElement)},onDragStart:function(Fe){this.context=this.getUnderlyingVm(Fe.item),Fe.item._underlying_vm_=this.clone(this.context.element),Ue=Fe.item},onDragAdd:function(Fe){var Pe=Fe.item._underlying_vm_;if(Pe!==void 0){C(Fe.item);var $e=this.getVmIndexFromDomIndex(Fe.newIndex);this.spliceList($e,0,Pe);var Ve={element:Pe,newIndex:$e};this.emitChanges({added:Ve})}},onDragRemove:function(Fe){if(F(this.$el,Fe.item,Fe.oldIndex),Fe.pullMode==="clone"){C(Fe.clone);return}var Pe=this.context,$e=Pe.index,Ve=Pe.element;this.spliceList($e,1);var P={element:Ve,oldIndex:$e};this.emitChanges({removed:P})},onDragUpdate:function(Fe){C(Fe.item),F(Fe.from,Fe.item,Fe.oldIndex);var Pe=this.context.index,$e=this.getVmIndexFromDomIndex(Fe.newIndex);this.updatePosition(Pe,$e);var Ve={element:this.context.element,oldIndex:Pe,newIndex:$e};this.emitChanges({moved:Ve})},computeFutureIndex:function(Fe,Pe){if(!Fe.element)return 0;var $e=E(Pe.to.children).filter(function(ie){return ie.style.display!=="none"}),Ve=$e.indexOf(Pe.related),P=Fe.component.getVmIndexFromDomIndex(Ve),V=$e.indexOf(Ue)!==-1;return V||!Pe.willInsertAfter?P:P+1},onDragMove:function(Fe,Pe){var $e=this.move,Ve=this.realList;if(!$e||!Ve)return!0;var P=this.getRelatedContextFromMoveEvent(Fe),V=this.computeFutureIndex(P,Fe),ie=d(d({},this.context),{},{futureIndex:V}),fe=d(d({},Fe),{},{relatedContext:P,draggedContext:ie});return $e(fe,Pe)},onDragEnd:function(){Ue=null}}}),ft=We;o.default=ft}),fb6a:(function(s,o,a){var l=a("23e7"),u=a("861d"),h=a("e8b5"),c=a("23cb"),f=a("50c4"),d=a("fc6a"),p=a("8418"),m=a("b622"),g=a("1dde"),v=a("ae40"),S=g("slice"),y=v("slice",{ACCESSORS:!0,0:0,1:2}),x=m("species"),b=[].slice,w=Math.max;l({target:"Array",proto:!0,forced:!S||!y},{slice:function(_,T){var C=d(this),F=f(C.length),k=c(_,F),D=c(T===void 0?F:T,F),N,M,U;if(h(C)&&(N=C.constructor,typeof N=="function"&&(N===Array||h(N.prototype))?N=void 0:u(N)&&(N=N[x],N===null&&(N=void 0)),N===Array||N===void 0))return b.call(C,k,D);for(M=new(N===void 0?Array:N)(w(D-k,0)),U=0;k<D;k++,U++)k in C&&p(M,U,C[k]);return M.length=U,M}})}),fc6a:(function(s,o,a){var l=a("44ad"),u=a("1d80");s.exports=function(h){return l(u(h))}}),fdbc:(function(s,o){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),fdbf:(function(s,o,a){var l=a("4930");s.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"})}).default})})(Xd)),Xd.exports}var Gz=zz();const Hz=u1(Gz),Wz={name:"ConfirmDeleteModal",props:{show:{type:Boolean,default:!1},message:{type:String,default:"?"}},emits:["confirm","close"],methods:{confirm(){this.$emit("confirm")},close(){this.$emit("close")}}},Xz={class:"modal-content"},qz={class:"button-group"};function Yz(n,t,r,i,s,o){return r.show?(se(),ce("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=br((...a)=>o.close&&o.close(...a),["self"])),style:{"font-family":"'SUIT', sans-serif"}},[A("div",Xz,[A("p",null,Be(r.message),1),A("div",qz,[A("button",{class:"btn btn-cancel",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},""),A("button",{class:"btn btn-confirm",onClick:t[1]||(t[1]=(...a)=>o.confirm&&o.confirm(...a))},"")])])])):rt("",!0)}const I5=wt(Wz,[["render",Yz],["__scopeId","data-v-d3ea8c76"]]),Kz={name:"AddPlaceModal",props:{show:{type:Boolean,default:!1},courseItems:{type:Array,default:()=>[]}},emits:["close","add-item"],data(){return{searchQuery:"",places:[],loading:!1,addedPlaceIds:new Set,searchTimeout:null,ps:null,isInitialized:!1}},watch:{show(n){n&&!this.isInitialized&&this.$nextTick(()=>{this.initialize()})}},methods:{initialize(){console.log("AddPlaceModal "),this.initializeKakaoServices(),this.isInitialized=!0},initializeKakaoServices(){let n=0;const t=30,r=()=>window.kakao&&window.kakao.maps&&window.kakao.maps.services?(this.ps=new window.kakao.maps.services.Places,console.log("  Places   "),!0):(n++,n<t?setTimeout(r,100):console.error("  API  "),!1);r()},getCourseCenter(){if(!this.courseItems||this.courseItems.length===0)return{lat:37.566826,lng:126.9786567};const n=this.courseItems.reduce((r,i)=>r+(i.lat||0),0),t=this.courseItems.reduce((r,i)=>r+(i.lng||0),0);return{lat:n/this.courseItems.length,lng:t/this.courseItems.length}},calculateDistance(n,t,r,i){const o=n*Math.PI/180,a=r*Math.PI/180,l=(r-n)*Math.PI/180,u=(i-t)*Math.PI/180,h=Math.sin(l/2)*Math.sin(l/2)+Math.cos(o)*Math.cos(a)*Math.sin(u/2)*Math.sin(u/2);return 6371e3*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))},calculateDistanceFromCourse(n,t){if(!this.courseItems||this.courseItems.length===0)return{distance:0,isFar:!1};let r=1/0;this.courseItems.forEach(s=>{if(s.lat&&s.lng){const o=this.calculateDistance(n,t,s.lat,s.lng);o<r&&(r=o)}});const i=r>2e4;return{distance:r,isFar:i}},formatDistance(n){return n<1e3?`${Math.round(n)}m`:`${(n/1e3).toFixed(1)}km`},getDistanceClass(n){const t=parseFloat(n);return t<5?"distance-near":t<15?"distance-medium":"distance-far"},onSearchInput(){if(this.searchTimeout&&clearTimeout(this.searchTimeout),!this.searchQuery.trim()){this.places=[];return}this.searchTimeout=setTimeout(()=>{this.searchPlaces()},500)},quickSearch(n){this.searchQuery=n,this.searchPlaces()},searchPlaces(){if(!this.ps||!this.searchQuery.trim()){console.warn("  ");return}console.log(` : "${this.searchQuery}"`),this.loading=!0,this.ps.keywordSearch(this.searchQuery,this.searchCallback.bind(this))},searchCallback(n,t){this.loading=!1,t===window.kakao.maps.services.Status.OK?(this.getCourseCenter(),this.places=n.map((r,i)=>{const{distance:s,isFar:o}=this.calculateDistanceFromCourse(parseFloat(r.y),parseFloat(r.x));return{id:r.id||`search-${i}`,name:r.place_name,address:r.road_address_name||r.address_name,lat:parseFloat(r.y),lng:parseFloat(r.x),phone:r.phone||"",category:r.category_name||"",distanceFromCourse:this.formatDistance(s),distanceMeters:s,isFarAway:o}}).sort((r,i)=>r.distanceMeters-i.distanceMeters),console.log(`  : ${this.places.length}`)):t===window.kakao.maps.services.Status.ZERO_RESULT?(this.places=[],console.log("  ")):(console.error(" :",t),this.places=[])},clearSearch(){this.searchQuery="",this.places=[]},isPlaceAdded(n){return this.addedPlaceIds.has(n)},addItem(n){this.addedPlaceIds.add(n.id),this.$emit("add-item",{name:n.name,address:n.address,lat:n.lat,lng:n.lng,phone:n.phone,category:n.category,imageUrl:"https://placehold.co/800x600/AACCFF/000000"}),console.log("  :",n.name)},close(){this.searchQuery="",this.places=[],this.addedPlaceIds.clear(),this.isInitialized=!1,this.$emit("close")}},beforeUnmount(){this.searchTimeout&&clearTimeout(this.searchTimeout)}},Zz={class:"modal-content"},Jz={class:"header"},Qz={class:"content"},eG={class:"search-bar"},tG={class:"quick-search"},nG={key:0,class:"loading-state"},rG={key:1,class:"no-results"},iG={key:2,class:"place-list"},sG={class:"place-info"},oG={class:"place-name"},aG={class:"place-address"},lG={class:"distance-info"},uG={key:0,class:"warning-badge"},cG={key:0,class:"place-category"},hG=["disabled","onClick"],fG={key:0,class:"bi bi-plus"},dG={key:3,class:"initial-state"};function pG(n,t,r,i,s,o){return r.show?(se(),ce("div",{key:0,class:"modal-overlay",onClick:t[9]||(t[9]=br((...a)=>o.close&&o.close(...a),["self"]))},[A("div",Zz,[A("div",Jz,[t[10]||(t[10]=A("span",{class:"title"},"  ",-1)),A("button",{class:"close-btn",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},"")]),A("div",Qz,[A("div",eG,[t[12]||(t[12]=A("i",{class:"bi bi-search"},null,-1)),sn(A("input",{type:"text",placeholder:"    ","onUpdate:modelValue":t[1]||(t[1]=a=>s.searchQuery=a),onInput:t[2]||(t[2]=(...a)=>o.onSearchInput&&o.onSearchInput(...a)),onKeyup:t[3]||(t[3]=V1((...a)=>o.searchPlaces&&o.searchPlaces(...a),["enter"]))},null,544),[[nr,s.searchQuery]]),s.searchQuery?(se(),ce("button",{key:0,onClick:t[4]||(t[4]=(...a)=>o.clearSearch&&o.clearSearch(...a)),class:"clear-btn"},[...t[11]||(t[11]=[A("i",{class:"bi bi-x"},null,-1)])])):rt("",!0)]),A("div",tG,[A("span",{class:"tag",onClick:t[5]||(t[5]=a=>o.quickSearch(""))},""),A("span",{class:"tag",onClick:t[6]||(t[6]=a=>o.quickSearch(""))},""),A("span",{class:"tag",onClick:t[7]||(t[7]=a=>o.quickSearch(""))},""),A("span",{class:"tag",onClick:t[8]||(t[8]=a=>o.quickSearch(""))},"")]),s.loading?(se(),ce("div",nG,[...t[13]||(t[13]=[A("div",{class:"spinner"},null,-1),A("span",null," ...",-1)])])):s.searchQuery&&s.places.length===0&&!s.loading?(se(),ce("div",rG,[t[14]||(t[14]=A("i",{class:"bi bi-search"},null,-1)),A("span",null,'"'+Be(s.searchQuery)+'"    .',1)])):s.places.length>0?(se(),ce("ul",iG,[(se(!0),ce(at,null,Tt(s.places,a=>(se(),ce("li",{key:a.id,class:"place-item"},[A("div",sG,[A("span",oG,Be(a.name),1),A("span",aG,Be(a.address),1),A("div",lG,[A("span",{class:ht(["distance",o.getDistanceClass(a.distanceFromCourse)])},[t[15]||(t[15]=A("i",{class:"bi bi-geo-alt"},null,-1)),At("  "+Be(a.distanceFromCourse),1)],2),a.isFarAway?(se(),ce("span",uG,[...t[16]||(t[16]=[A("i",{class:"bi bi-exclamation-circle"},null,-1),At("   ",-1)])])):rt("",!0)]),a.category?(se(),ce("span",cG,Be(a.category),1)):rt("",!0)]),A("button",{class:"btn-add",disabled:o.isPlaceAdded(a.id),onClick:l=>o.addItem(a)},[o.isPlaceAdded(a.id)?rt("",!0):(se(),ce("i",fG)),At(" "+Be(o.isPlaceAdded(a.id)?"":""),1)],8,hG)]))),128))])):(se(),ce("div",dG,[...t[17]||(t[17]=[A("i",{class:"bi bi-search"},null,-1),A("p",null,"  ",-1),A("p",{class:"hint"},"   ",-1)])]))])])])):rt("",!0)}const mG=wt(Kz,[["render",pG],["__scopeId","data-v-b263d7b4"]]),gG={class:"map-rv-container"},vG={key:0,class:"map-toggle-buttons"},yG={__name:"CourseMap",props:{items:{type:Array,required:!0},title:{type:String,default:" "},isSingleLocation:{type:Boolean,default:!1},defaultZoomLevel:{type:Number,default:5},pageType:{type:String,default:"place"}},setup(n){const t=n,r=Xe(null),i=Xe(null),s=Xe([]),o=Xe(null),a=Xe(null),l=Xe(null),u=Xe(!1),h=Xe(null);xr(async()=>{try{if(hD()||(console.log("[CourseMap]   ..."),await W1()),window.kakao&&window.kakao.maps){const S={center:new window.kakao.maps.LatLng(36.3758,127.3845),level:t.isSingleLocation?t.defaultZoomLevel:5};i.value=new window.kakao.maps.Map(r.value,S),l.value=new window.kakao.maps.Roadview(a.value),h.value=new window.kakao.maps.RoadviewClient,m(t.items)}else console.error("[CourseMap]  API  .")}catch(S){console.error("[CourseMap]   :",S)}}),Wi(()=>t.items,S=>{i.value&&(m(S),u.value&&f(!1))});const c=async S=>{if(t.pageType==="exhibition")return console.log('[API] pageType "exhibition" API      .'),null;if(S.length<2)return console.warn("[API]    ."),null;const y=S[0],x=S[S.length-1],b=S.slice(1,-1),w={origin:{x:y.lng.toString(),y:y.lat.toString()},destination:{x:x.lng.toString(),y:x.lat.toString()},waypoints:b.map(T=>({x:T.lng.toString(),y:T.lat.toString()})),priority:"TIME"},E="28242ddd7cda15c60301eff5cada6efc",_="https://apis-navi.kakaomobility.com/v1/waypoints/directions";try{const T=await fetch(_,{method:"POST",headers:{Authorization:`KakaoAK ${E}`,"Content-Type":"application/json"},body:JSON.stringify(w)});if(!T.ok)throw new Error(`Kakao Directions API : ${T.status} ${T.statusText}`);const C=await T.json();if(C.routes&&C.routes.length>0){const F=C.routes[0],k=[];return F.sections.forEach(D=>{D.roads.forEach(N=>{N.vertexes.forEach((M,U)=>{if(U%2===0){const R=M,W=N.vertexes[U+1];k.push(new window.kakao.maps.LatLng(W,R))}})})}),console.log(`[API]    ${k.length}  .`),k}return null}catch(T){return console.error("[API]  API    :",T),null}},f=S=>{if(u.value=S,S){if(!t.items||t.items.length===0)return;const y=t.items[0],x=new window.kakao.maps.LatLng(Number(y.lat),Number(y.lng));setTimeout(()=>{l.value.relayout(),h.value.getNearestPanoId(x,200,b=>{b?(l.value.setPanoId(b,x),new window.kakao.maps.Marker({position:x,map:l.value})):(alert("    ."),u.value=!1)})},0)}else i.value&&setTimeout(()=>{if(i.value.relayout(),p&&!p.isEmpty())if(t.isSingleLocation){const y=new window.kakao.maps.LatLng(Number(t.items[0].lat),Number(t.items[0].lng));i.value.setCenter(y)}else i.value.setBounds(p)},0)},d=()=>{s.value.length>0&&(s.value.forEach(S=>S.setMap(null)),s.value=[]),o.value&&(o.value.setMap(null),o.value=null)};let p=null;const m=async S=>{if(console.log("[CourseMap] drawCourseOnMap  / pageType:",t.pageType),!i.value||!r.value||!S||S.length===0){(!S||S.length===0)&&d();return}d();const y=[],x=[];if(p=new window.kakao.maps.LatLngBounds,S.forEach((b,w)=>{if(b.lat==null||b.lng==null||isNaN(Number(b.lat))||isNaN(Number(b.lng))){console.error(`[CourseMap]  ${w}   .   .`,b);return}const E=new window.kakao.maps.LatLng(Number(b.lat),Number(b.lng)),_=t.isSingleLocation?"":b.number||w+1,T=t.isSingleLocation?"#FF5A5A":g(_),C=v(_,T);if(!C||typeof C!="string"||!C.startsWith("data:image/svg+xml")){console.error(`[CourseMap]  ${w}     .`,C);return}let F;try{F=new window.kakao.maps.MarkerImage(C,new window.kakao.maps.Size(24,35),{offset:new window.kakao.maps.Point(12,35)})}catch(k){console.error(`[CourseMap]  ${w} MarkerImage    :`,k);return}try{const k=new window.kakao.maps.Marker({position:E,image:F,map:i.value});y.push(k),x.push(E),p.extend(E)}catch(k){console.error(`[CourseMap]  ${w}     :`,k)}}),s.value=y,t.isSingleLocation)console.log("[CourseMap]   .     .");else{let b=x;if(t.pageType!=="exhibition"){const w=await c(S);w?(b=w,console.log("[CourseMap] API   .")):console.log("[CourseMap] API  .   .")}else console.log('[CourseMap] "exhibition"    .');if(b.length>1)try{const w=new window.kakao.maps.Polyline({path:b,strokeWeight:4,strokeColor:"#4A7CEC",strokeOpacity:.8,strokeStyle:"solid"});w.setMap(i.value),o.value=w,console.log("[CourseMap]     .")}catch(w){console.error("[CourseMap]     :",w,b)}else console.log("[CourseMap]    .")}if(p.isEmpty())console.warn("[CourseMap]        .");else if(t.isSingleLocation){const b=new window.kakao.maps.LatLng(Number(S[0].lat),Number(S[0].lng));i.value.setCenter(b),i.value.setLevel(t.defaultZoomLevel)}else try{i.value.setBounds(p)}catch(b){console.error("[CourseMap]      :",b,p)}},g=S=>{const y=["#FF5A5A","#4A7CEC","#28A745","#FFC107","#DC3545","#6F42C1","#E83E8C"];return typeof S!="number"||isNaN(S)||S<1?y[1]:y[(S-1)%y.length]},v=(S,y)=>{const x=`
  <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
      fill="${y}" stroke="#fff" stroke-width="2"/>
    <circle cx="12" cy="12" r="8" fill="#fff"/>
    <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
      font-size="10" font-weight="bold" fill="${y}">${S}</text>
  </svg>
  `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(x)};return(S,y)=>(se(),ce("div",gG,[sn(A("div",{ref_key:"mapContainer",ref:r,class:"course-map"},null,512),[[Qu,!u.value]]),sn(A("div",{ref_key:"roadviewContainer",ref:a,class:"course-map"},null,512),[[Qu,u.value]]),t.isSingleLocation?(se(),ce("div",vG,[A("button",{onClick:y[0]||(y[0]=x=>f(!1)),class:ht({active:!u.value})},"",2),A("button",{onClick:y[1]||(y[1]=x=>f(!0)),class:ht({active:u.value})},"",2)])):rt("",!0)]))}},Db=wt(yG,[["__scopeId","data-v-7b480a76"]]),bG={name:"CourseExhibitionCard",components:{PillTag:Ts,HashTag:ja},props:{item:{type:Object,required:!0}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t||"https://via.placeholder.com/60x60"},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)},formattedExhibitions(){const n=this.item.exhibitionList||[];return Array.isArray(n)?n.map(t=>t.split(" - ")[0]||t):[]},exhibitionCount(){return this.formattedExhibitions.length},displaySubject(){return Array.isArray(this.item.subject)&&this.item.subject.length>0?this.item.subject[0]:typeof this.item.subject=="string"?this.item.subject:null},displayGrade(){if(Array.isArray(this.item.grade)&&this.item.grade.length>0){const n=this.item.grade[0];return typeof n=="string"?n.replace(" ",""):null}return typeof this.item.grade=="string"?this.item.grade.replace(" ",""):null}},methods:{getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]},createMarkerSvg(n,t){const r=`
  <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
  <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
   fill="${t}" stroke="#fff" stroke-width="2"/>
  <circle cx="12" cy="12" r="8" fill="#fff"/>
  <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
   font-size="10" font-weight="bold" fill="${t}">${n}</text>
  </svg>
 `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)}}},xG={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},_G={class:"timeline-marker-wrapper"},wG={class:"content-card"},EG={class:"card-body"},SG={class:"card-image"},CG=["src"],AG={class:"card-text"},TG={class:"d-flex align-items-center justify-content-left gap-1"},IG={class:"place-name"},DG={class:"d-flex gap-1"},NG={class:"d-flex gap-1"},FG={key:0,class:"more-tags"},kG={class:"exhibition-section"},MG={class:"exhibition-header"},OG={class:"exhibition-count"},PG={class:"exhibition-list"},LG={class:"exhibition-number"},RG={class:"exhibition-name"};function BG(n,t,r,i,s,o){const a=Pt("PillTag"),l=Pt("HashTag");return se(),ce("div",xG,[A("div",_G,[A("div",{class:"timeline-marker-svg",style:Xn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[0]||(t[0]=A("div",{class:"timeline-line"},null,-1))]),A("div",wG,[A("div",EG,[A("div",SG,[A("img",{src:o.computedImageUrl,alt:" "},null,8,CG)]),A("div",AG,[A("div",TG,[A("h5",IG,Be(r.item.title),1)]),A("div",DG,[o.displaySubject?(se(),Kt(a,{key:0,text:o.displaySubject,type:"subject"},null,8,["text"])):rt("",!0),o.displayGrade?(se(),Kt(a,{key:1,text:o.displayGrade,type:"grade"},null,8,["text"])):rt("",!0)]),A("div",NG,[(se(!0),ce(at,null,Tt(o.visibleHashtags,u=>(se(),Kt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(se(),ce("span",FG," +"+Be(o.remainingHashtagsCount),1)):rt("",!0)])])]),t[3]||(t[3]=A("hr",{class:"hr"},null,-1)),A("div",kG,[A("div",MG,[t[1]||(t[1]=A("i",{class:"bi bi-palette-fill"},null,-1)),t[2]||(t[2]=A("span",{class:"exhibition-title"}," ",-1)),A("span",OG,"("+Be(o.exhibitionCount)+")",1)]),A("div",PG,[(se(!0),ce(at,null,Tt(o.formattedExhibitions,(u,h)=>(se(),ce("div",{key:h,class:"exhibition-item"},[A("span",LG,Be(h+1),1),A("span",RG,Be(u),1)]))),128))])])])])}const UG=wt(bG,[["render",BG],["__scopeId","data-v-b0593dd5"]]),VG={name:"CourseExhibitionCard",components:{PillTag:Ts,HashTag:ja},props:{item:{type:Object,required:!0}},emits:["edit","delete"],methods:{onEdit(){this.$emit("edit",this.item.id)},onDelete(){this.$emit("delete",this.item.id)},createMarkerSvg(n,t){const r=`
    <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
     <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
       fill="${t}" stroke="#fff" stroke-width="2"/>
     <circle cx="12" cy="12" r="8" fill="#fff"/>
     <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
       font-size="10" font-weight="bold" fill="${t}">${n}</text>
    </svg>
   `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)},getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t||"https://placehold.co/800x600/AACCFF/000000"},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},displaySubject(){return Array.isArray(this.item.subject)&&this.item.subject.length>0?this.item.subject[0]:null},displayGrade(){return Array.isArray(this.item.grade)&&this.item.grade.length>0?(this.item.grade[0]||"").replace(" ",""):null}}},$G={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},jG={class:"timeline-marker-wrapper"},zG={class:"content-card"},GG={class:"icon-buttons"},HG={class:"card-body"},WG={class:"card-image"},XG=["src"],qG={class:"card-text"},YG={class:"d-flex align-items-center justify-content-left gap-1"},KG={class:"place-name"},ZG={class:"d-flex gap-1"},JG={class:"d-flex gap-1"},QG={key:0,class:"more-tags"},eH={class:"location-label"},tH={class:"address"};function nH(n,t,r,i,s,o){const a=Pt("PillTag"),l=Pt("HashTag");return se(),ce("div",$G,[A("div",jG,[A("div",{class:"timeline-marker-svg",style:Xn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[1]||(t[1]=A("div",{class:"timeline-line"},null,-1))]),A("div",zG,[A("div",GG,[A("i",{class:"bi bi-trash",onClick:t[0]||(t[0]=(...u)=>o.onDelete&&o.onDelete(...u))})]),A("div",HG,[A("div",WG,[A("img",{src:o.computedImageUrl,alt:" "},null,8,XG)]),A("div",qG,[A("div",YG,[A("h5",KG,Be(r.item.title),1)]),A("div",ZG,[o.displaySubject?(se(),Kt(a,{key:0,text:o.displaySubject,type:"subject"},null,8,["text"])):rt("",!0),o.displayGrade?(se(),Kt(a,{key:1,text:o.displayGrade,type:"grade"},null,8,["text"])):rt("",!0)]),A("div",JG,[(se(!0),ce(at,null,Tt(o.visibleHashtags,u=>(se(),Kt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(se(),ce("span",QG," +"+Be(o.remainingHashtagsCount),1)):rt("",!0)])])]),t[3]||(t[3]=A("hr",{class:"hr"},null,-1)),A("span",eH,[t[2]||(t[2]=At("  ",-1)),A("span",tH,Be(r.item.place),1)])])])}const rH=wt(VG,[["render",nH],["__scopeId","data-v-efd8774e"]]),iH={name:"UserLikeCourseDetail",components:{draggable:Hz,CourseMap:Db,ConfirmDeleteModal:I5,AddPlaceModal:mG,CourseExhibitionCard:UG,CoursePlaceEditCard:rH},setup(){const n=gi(),{isLoggedIn:t,currentUserId:r}=As(n);return{isLoggedIn:t,currentUserId:r}},data(){return{course:null,error:null,loading:!0,exhibitionName:"",pageType:"",courseItems:[],originalCourseItems:[],showDeleteModal:!1,showAddModal:!1,itemToDeleteId:null,hasChanges:!1,isSaving:!1,saveMessage:"",saveStatus:"",isDragging:!1,mapKey:0}},watch:{courseItems:{handler(n,t){!this.isDragging&&t&&t.length>0&&this.checkForChanges()},deep:!0}},created(){this.loadCourse()},methods:{async loadCourse(){this.loading=!0,this.error=null;let n=null;try{const t=this.$route.params.courseId,r=history.state?.courseData;if(r&&r.id==t&&(console.log("history.state   :",r),n=r),!n){const i=sessionStorage.getItem(`courseData_${t}`);i&&(console.log("sessionStorage   "),n=JSON.parse(i))}if(!n){if(console.log("  . API fallback "),n=(await cn.get(`/api/schedules/user/${this.currentUserId}`)).data.map(o=>{const a=o.items.map(l=>({id:l.sourceItemId,number:l.sequence,title:l.itemName,place:l.addressDetail,imageUrl:l.mainImageUrl,lat:l.latitude,lng:l.longitude,type:l.itemType,itemType:l.itemType,subject:l.mainCategoryNames&&l.mainCategoryNames.length>0?l.mainCategoryNames[0]:null,grade:l.gradeNames&&l.gradeNames.length>0?l.gradeNames[0]:null,hashtags:l.subCategoryNames||[]})).sort((l,u)=>l.number-u.number);return{id:o.scheduleId,ExhibitionName:o.scheduleName,type:o.sourceCourseType,imageUrl:a[0]?.imageUrl||"https://placehold.co/600x400",address:a[0]?.place||" ",coursePlaces:a.map(l=>l.title),courseItems:a,subject:null,grade:null}}).find(o=>o.id==t),!n)throw new Error(`ID [${t}]     .`);sessionStorage.setItem(`courseData_${t}`,JSON.stringify(n))}this.course=n,this.exhibitionName=n.ExhibitionName,this.courseItems=(n.courseItems||[]).map(i=>i.type==="custom"&&!i.id?{...i,id:`custom_${i.title}_${i.place}_${Date.now()}_${Math.random().toString(36).substr(2,5)}`}:i),this.originalCourseItems=JSON.parse(JSON.stringify(this.courseItems)),n.type==="inner_course"?this.pageType="exhibition":n.type==="ai_course"?this.pageType="place":this.pageType="exhibition",console.log("    :",JSON.stringify(n,null,2))}catch(t){console.error("    :",t),this.error=t.message||"    ."}finally{this.loading=!1}},checkForChanges(){const n=s=>s.id?String(s.id):`custom_${s.title}_${s.place}_${s.lat}_${s.lng}`,t=this.courseItems.map(n),r=this.originalCourseItems.map(n),i=JSON.stringify(t)!==JSON.stringify(r);this.hasChanges=i,this.hasChanges&&this.reorderCourseItems()},onDragStart(){this.isDragging=!0,console.log(" ")},async saveChanges(){if(!(!this.hasChanges||this.isSaving)){this.isSaving=!0,this.saveMessage="";try{const t={scheduleId:this.course.id,items:this.courseItems.map((i,s)=>{const o=i.itemType==="custom"||i.type==="custom"||String(i.id).startsWith("custom_");return{itemId:i.itemId||null,sourceItemId:o?null:i.id,sequence:s+1,itemType:o?"custom":i.itemType,customName:o&&i.title||null,customAddress:o&&i.place||null,customLatitude:o&&i.lat||null,customLongitude:o&&i.lng||null,categoryName:Array.isArray(i.subject)&&i.subject.length>0?i.subject[0]:i.subject||null,gradeName:Array.isArray(i.grade)&&i.grade.length>0?i.grade[0]:i.grade||null,subCategories:i.hashtags}})};console.log(" :",JSON.stringify(t,null,2)),(await cn.post("/api/schedules/items",t)).status===200&&(this.saveStatus="success",this.saveMessage="  .",sessionStorage.removeItem(`courseData_${this.course.id}`),setTimeout(()=>{this.saveMessage="",this.loadCourse(),this.hasChanges=!1},1500))}catch(n){console.error(" :",n),this.saveStatus="error",this.saveMessage=n.response?.data?.message||"   .",setTimeout(()=>{this.saveMessage=""},5e3)}finally{this.isSaving=!1}}},goBack(){if(this.hasChanges){ct.emit("show-global-confirm",{message:"   .  ?",msg:"",onConfirm:()=>{this.$router.back()}});return}this.$router.back()},handleDelete(n){if(!n){console.error(" ID  .");return}console.log(" ID ( ):",n),this.itemToDeleteId=n,this.showDeleteModal=!0},closeDeleteModal(){this.itemToDeleteId=null,this.showDeleteModal=!1},openAddModal(){this.showAddModal=!0},closeAddModal(){this.showAddModal=!1},reorderCourseItems(){this.courseItems.forEach((n,t)=>{n.number=t+1})},updateMapKey(){this.mapKey+=1,console.log("  :",this.mapKey)},onDragEnd(){this.isDragging=!1,console.log("  (  )")},onDragChange(){console.log("  v-model .     ."),this.reorderCourseItems(),this.checkForChanges(),this.updateMapKey()},confirmDeleteItem(){console.log(" , ID:",this.itemToDeleteId),console.log("  courseItems:",this.courseItems),this.courseItems=this.courseItems.filter(n=>{const t=String(n.id),r=String(this.itemToDeleteId),i=t!==r;return console.log(` ${t} vs  ${r}: ${i?"":""}`),i}),console.log("  courseItems:",this.courseItems),this.reorderCourseItems(),this.checkForChanges(),this.updateMapKey(),this.closeDeleteModal()},addNewItem(n){console.log(" :",JSON.stringify(n,null,2));const t={id:`custom_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,color:"#3B82F6",imageUrl:n.imageUrl||"https://placehold.co/600x400/AACCFF/000000",subject:n.subject||"",grade:n.grade||"",title:n.name,type:"  ",place:n.address,hashtags:[" "],lat:n.lat,lng:n.lng,itemType:"custom",isNew:!0,customName:n.name,customAddress:n.address,customLatitude:n.lat,customLongitude:n.lng};this.courseItems.push(t),this.reorderCourseItems(),this.checkForChanges(),this.updateMapKey(),this.closeAddModal()},goToVirtualTour(){Mg.push("/virtualTour")}}},sH={class:"course-recommend-container",style:{"font-family":"'SUIT', sans-serif"}},oH={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},aH={class:"header-left",style:{flex:"1"}},lH={key:0,class:"status-container"},uH={key:1,class:"status-container"},cH={class:"text-danger"},hH={class:"course-root-name-improved"},fH={class:"fw-bolder me-2"},dH={key:0,class:"d-flex justify-content-center align-items-center mt-2 mb-2"},pH={class:"scrollable-content"},mH={class:"course-list-container"},gH={key:0},vH={key:1},yH={class:"d-flex justify-content-center mt-3"},bH={key:2},xH={key:1,class:"save-section"},_H=["disabled"],wH={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function EH(n,t,r,i,s,o){const a=Pt("CourseMap"),l=Pt("CourseExhibitionCard"),u=Pt("CoursePlaceEditCard"),h=Pt("draggable"),c=Pt("ConfirmDeleteModal"),f=Pt("AddPlaceModal");return se(),ce("div",sH,[A("div",oH,[A("div",aH,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...d)=>o.goBack&&o.goBack(...d))})]),t[6]||(t[6]=A("div",{class:"header-center fw-bold fs-6",style:{flex:"1","text-align":"center"}},"   ",-1)),t[7]||(t[7]=A("div",{class:"header-right",style:{flex:"1"}},null,-1))]),s.loading?(se(),ce("div",lH,[...t[8]||(t[8]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"mt-2 text-muted"},"   ...",-1)])])):s.error?(se(),ce("div",uH,[A("p",cH,Be(s.error),1),A("button",{onClick:t[1]||(t[1]=(...d)=>o.goBack&&o.goBack(...d)),class:"btn btn-sm btn-outline-primary"}," ")])):(se(),ce(at,{key:2},[(se(),Kt(a,{items:s.courseItems,key:s.mapKey,pageType:s.pageType,class:"map-area"},null,8,["items","pageType"])),A("div",hH,[A("span",fH,Be(s.exhibitionName||"  "),1),s.pageType?(se(),ce("span",{key:0,class:ht(["type-badge",{"badge-place":s.pageType==="place","badge-exhibition":s.pageType==="exhibition"}])},Be(s.pageType==="place"?" ":" "),3)):rt("",!0)]),s.pageType==="exhibition"?(se(),ce("div",dH,[A("button",{class:"btn virtual-tour-btn",onClick:t[2]||(t[2]=(...d)=>o.goToVirtualTour&&o.goToVirtualTour(...d))},"    ")])):rt("",!0),A("div",pH,[A("div",mH,[s.pageType==="exhibition"?(se(),ce("div",gH,[(se(!0),ce(at,null,Tt(s.courseItems,d=>(se(),Kt(l,{key:d.id,item:d,showControls:!0,couseType:"",onDelete:p=>o.handleDelete(d.id)},null,8,["item","onDelete"]))),128))])):s.pageType==="place"?(se(),ce("div",vH,[lt(h,{modelValue:s.courseItems,"onUpdate:modelValue":t[3]||(t[3]=d=>s.courseItems=d),animation:200,"ghost-class":"ghost-item","chosen-class":"chosen-item","drag-class":"drag-item",onStart:o.onDragStart,onEnd:o.onDragEnd,onChange:o.onDragChange,"item-key":"id"},{item:Hr(({element:d})=>[lt(u,{item:d,showControls:!0,couseType:"",onDelete:p=>o.handleDelete(d.id),class:"draggable-item"},null,8,["item","onDelete"])]),_:1},8,["modelValue","onStart","onEnd","onChange"]),A("div",yH,[A("button",{class:"btn btn-outline-secondary rounded-pill add-item-inline",onClick:t[4]||(t[4]=(...d)=>o.openAddModal&&o.openAddModal(...d))},[...t[9]||(t[9]=[A("i",{class:"bi bi-plus-circle-fill"},null,-1),At("   ",-1)])])])])):(se(),ce("div",bH,[...t[10]||(t[10]=[A("p",{class:"text-muted"},"  .",-1)])]))])]),s.hasChanges?(se(),ce("div",xH,[s.saveMessage?(se(),ce("div",{key:0,class:ht(["save-status-message",`alert-${s.saveStatus==="success"?"success":"danger"}`])},Be(s.saveMessage),3)):rt("",!0),A("button",{class:"btn save-btn-bottom",onClick:t[5]||(t[5]=(...d)=>o.saveChanges&&o.saveChanges(...d)),disabled:!s.hasChanges||s.isSaving},[s.isSaving?(se(),ce("span",wH)):rt("",!0),At(" "+Be(s.isSaving?" ...":" "),1)],8,_H)])):rt("",!0)],64)),lt(c,{show:s.showDeleteModal,message:" ?",onConfirm:o.confirmDeleteItem,onClose:o.closeDeleteModal},null,8,["show","onConfirm","onClose"]),lt(f,{show:s.showAddModal,courseItems:s.courseItems,onAddItem:o.addNewItem,onClose:o.closeAddModal},null,8,["show","courseItems","onAddItem","onClose"])])}const SH=wt(iH,[["render",EH],["__scopeId","data-v-7ffa539a"]]),CH={name:"PageHeader",props:{pageTitle:String,isFavorite:{type:Boolean,default:!1}},data(){return{}},methods:{goBack(){this.$router.back()},toggleFavorite(){this.$emit("toggle-favorite")}}},AH={class:"header"},TH={class:"page-title"};function IH(n,t,r,i,s,o){return se(),ce("header",AH,[A("button",{class:"back-btn",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[2]||(t[2]=[A("i",{class:"bi bi-arrow-left"},null,-1)])]),A("h1",TH,Be(r.pageTitle),1),A("button",{class:"favorite-btn",onClick:t[1]||(t[1]=(...a)=>o.toggleFavorite&&o.toggleFavorite(...a))},[A("i",{class:ht(r.isFavorite?"bi-heart-fill":"bi-heart"),style:Xn({color:r.isFavorite?"Red":"black"})},null,6)])])}const DH=wt(CH,[["render",IH],["__scopeId","data-v-08124c14"]]),NH="https://storage.googleapis.com/science_book/",FH={name:"InfoSection",components:{PillTag:Ts,Hashtag:ja},emits:["authenticate-visit"],created(){console.log(" [InfoSection] created -  Props:",{mainCategory:this.mainCategory,subCategories:this.subCategories,gradeTag:this.gradeTag})},data(){return{isExpanded:!1}},props:{exhibition:{type:Object,required:!1,default:()=>null},place:{type:Object,required:!1,default:()=>null},mainCategory:{type:String,default:""},subCategories:{type:Array,default:()=>[]},gradeTag:{type:String,default:""}},computed:{mainImageSrc(){const n=this.exhibition?.mainImage||this.place?.mainImage;return n&&!n.startsWith("http")?NH+n:n||"https://via.placeholder.com/600x400"},item(){return this.exhibition||this.place||{}},isExhibition(){return!!this.exhibition},isPlace(){return!!this.place},shouldShowTags(){return this.isExhibition||this.isPlace},isLongText(){return this.item.description&&this.item.description.length>150},displayedDescription(){return!this.isLongText||this.isExpanded?this.item.description:this.item.description.substring(0,150)+"..."}},methods:{toggleDescription(){this.isExpanded=!this.isExpanded},onAuthButtonClick(){console.log("InfoSection:  !  ."),this.$emit("authenticate-visit")}}},kH={key:0,class:"info-section"},MH={class:"top-meta"},OH={class:"image-area"},PH=["src"],LH={class:"content-body"},RH={class:"title"},BH={class:"rating"},UH={class:"stars"},VH={key:0,class:"bi bi-star-half"},$H={class:"score"},jH={class:"rating-value"},zH={class:"review-count-value"},GH={key:0,class:"subject-tags-container"},HH={key:0,class:"hashtags-area"},WH={key:1,class:"floor-map-section"},XH={class:"map-container"},qH=["src"],YH={key:1,class:"map-placeholder"};function KH(n,t,r,i,s,o){const a=Pt("PillTag"),l=Pt("Hashtag");return o.item.title?(se(),ce("section",kH,[A("div",MH,[A("div",OH,[A("img",{src:o.mainImageSrc,alt:" ",class:"main-image"},null,8,PH),o.item.visited?(se(),ce("div",{key:0,class:"visit-stamp",onClick:t[0]||(t[0]=(...u)=>o.onAuthButtonClick&&o.onAuthButtonClick(...u))},[...t[3]||(t[3]=[A("i",{class:"bi bi-postage-heart-fill"},null,-1),A("span",null," ",-1)])])):(se(),ce("div",{key:1,class:"visit-stamp inactive",onClick:t[1]||(t[1]=(...u)=>o.onAuthButtonClick&&o.onAuthButtonClick(...u))},[...t[4]||(t[4]=[A("i",{class:"bi bi-postage-heart"},null,-1),A("span",null," ",-1)])]))])]),A("div",LH,[A("h2",RH,Be(o.item.title),1),A("div",BH,[A("span",UH,[(se(!0),ce(at,null,Tt(Math.floor(o.item.rating),u=>(se(),ce("i",{key:"full-"+u,class:"bi bi-star-fill"}))),128)),o.item.rating%1>=.5?(se(),ce("i",VH)):rt("",!0),(se(!0),ce(at,null,Tt(5-Math.ceil(o.item.rating),u=>(se(),ce("i",{key:"empty-"+u,class:"bi bi-star"}))),128))]),A("span",$H,[A("span",jH,Be(o.item.rating)+"",1),A("span",zH,"("+Be(o.item.reviewCount)+")",1)]),r.mainCategory||r.gradeTag?(se(),ce("div",GH,[r.mainCategory?(se(),Kt(a,{key:0,text:r.mainCategory,type:"subject"},null,8,["text"])):rt("",!0),r.gradeTag?(se(),Kt(a,{key:1,text:r.gradeTag.replace(" ",""),type:"grade"},null,8,["text"])):rt("",!0)])):rt("",!0)]),r.subCategories.length>0?(se(),ce("div",HH,[(se(!0),ce(at,null,Tt(r.subCategories,u=>(se(),Kt(l,{key:u,text:u},null,8,["text"]))),128))])):rt("",!0),A("div",{class:ht(["description",{expanded:s.isExpanded}])},[At(Be(o.displayedDescription)+" ",1),o.isLongText?(se(),ce("button",{key:0,onClick:t[2]||(t[2]=(...u)=>o.toggleDescription&&o.toggleDescription(...u)),class:"btn btn-white"},Be(s.isExpanded?"":"()"),1)):rt("",!0)],2),o.item.type===""?(se(),ce("div",WH,[A("div",XH,[o.item.floorMapUrl?(se(),ce("img",{key:0,src:o.item.floorMapUrl,alt:" ",class:"img-fluid rounded-3 border"},null,8,qH)):(se(),ce("div",YH,"    . "))])])):rt("",!0)])])):rt("",!0)}const ZH=wt(FH,[["render",KH],["__scopeId","data-v-4dbca782"]]),JH={name:"TabMenu",props:{isPlace:{type:Boolean,required:!0,default:!1},activeTab:{type:String,required:!0,default:"detail"}},emits:["updateTab"],computed:{rightTabText(){return this.isPlace?"AI  ":"AI  "}}},QH={class:"tab-section"},eW={class:"tabs"};function tW(n,t,r,i,s,o){return se(),ce("section",QH,[A("div",eW,[A("button",{class:ht(["tab-item",{active:r.activeTab==="detail"}]),onClick:t[0]||(t[0]=a=>n.$emit("updateTab","detail"))}," ",2),A("button",{class:ht(["tab-item",{active:r.activeTab==="recommend"}]),onClick:t[1]||(t[1]=a=>n.$emit("updateTab","recommend"))},Be(o.rightTabText),3)])])}const nW=wt(JH,[["render",tW],["__scopeId","data-v-a2878f5c"]]),rW={name:"LocationSection",props:{exhibitionInformation:{type:Object,required:!1,default:()=>null},placeInformation:{type:Object,required:!1,default:()=>null}},components:{CourseMap:Db},methods:{goToIndoorMap(){const n=this.information;this.$router.push({path:"/indoormap",query:{scienceCenterName:n.scienceCenterName,selectedHallId:n.hallId}})}},computed:{isPlace(){return!!this.placeInformation},sectionTitle(){return this.isPlace?" ":" "},information(){return this.placeInformation||this.exhibitionInformation||{}},mapItems(){const n=this.information;return n&&n.lat&&n.lng?[{lat:n.lat,lng:n.lng}]:[]},infoItems(){const n=this.information;return Object.keys(n).length===0?[]:this.isPlace?[{label:"",text:n.placeAddress,icon:"bi bi-geo-alt"},{label:"",text:n.operationPeriod,icon:"bi bi-calendar-event"},{label:"",text:n.operationHours,icon:"bi bi-clock"},{label:"",text:n.entranceFee,icon:"bi bi-cash-coin"}]:[{label:"",text:n.exhibitionLocation,icon:"bi bi-geo-alt"},{label:"",text:n.operationPeriod,icon:"bi bi-calendar-event"},{label:"",text:n.operationHours,icon:"bi bi-clock"},{label:"",text:n.entranceFee,icon:"bi bi-cash-coin"}]}}},iW={key:0,class:"location-section"},sW={class:"header-wrap"},oW={class:"section-title"},aW={class:"map-area"},lW={class:"operation-info"},uW={class:"detail-icon"},cW={class:"detail-label"},hW={class:"detail-text"};function fW(n,t,r,i,s,o){const a=Pt("CourseMap");return o.infoItems.length>0?(se(),ce("section",iW,[A("div",sW,[A("h3",oW,Be(o.sectionTitle),1),o.isPlace?rt("",!0):(se(),ce("button",{key:0,class:"indoor-map-btn",onClick:t[0]||(t[0]=(...l)=>o.goToIndoorMap&&o.goToIndoorMap(...l))}," "))]),A("div",aW,[lt(a,{items:o.mapItems,"is-single-location":!0,"default-zoom-level":8},null,8,["items"])]),A("ul",lW,[(se(!0),ce(at,null,Tt(o.infoItems,l=>(se(),ce("li",{class:"info-item",key:l.label},[A("span",uW,[A("i",{class:ht(l.icon)},null,2)]),A("span",cW,Be(l.label),1),A("span",hW,Be(l.text),1)]))),128))])])):rt("",!0)}const dW=wt(rW,[["render",fW],["__scopeId","data-v-b90cea15"]]),pW={name:"PhotoModal",props:{show:Boolean,images:{type:Array,default:()=>[]},startIndex:{type:Number,default:0}},emits:["close"],data(){return{currentIndex:0}},methods:{close(){this.$emit("close")},nextImage(){this.currentIndex=(this.currentIndex+1)%this.images.length},prevImage(){this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length}},watch:{show(n){n&&(this.currentIndex=this.startIndex)}}},mW={class:"modal-content"},gW={class:"image-wrapper"},vW=["src"],yW={key:0,class:"image-counter"},bW={key:1,class:"button-group"};function xW(n,t,r,i,s,o){return r.show?(se(),ce("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=br((...a)=>o.close&&o.close(...a),["self"]))},[A("div",mW,[A("button",{class:"close-btn-corner",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},""),A("div",gW,[r.images&&r.images.length>0?(se(),ce("img",{key:0,src:r.images[s.currentIndex],alt:" ",class:"modal-image"},null,8,vW)):rt("",!0)]),r.images&&r.images.length>1?(se(),ce("p",yW,Be(s.currentIndex+1)+" / "+Be(r.images.length),1)):rt("",!0),r.images&&r.images.length>1?(se(),ce("div",bW,[A("button",{class:"btn btn-nav",onClick:t[1]||(t[1]=(...a)=>o.prevImage&&o.prevImage(...a))},"  "),A("button",{class:"btn btn-nav",onClick:t[2]||(t[2]=(...a)=>o.nextImage&&o.nextImage(...a))},"  ")])):rt("",!0)])])):rt("",!0)}const D5=wt(pW,[["render",xW],["__scopeId","data-v-72d7ed1c"]]),_W={name:"ReportModal",props:{show:{type:Boolean,default:!1}},emits:["close","submit"],data(){return{reason:""}},methods:{closeModal(){this.reason="",this.$emit("close")},submitReport(){this.$emit("submit",this.reason)}},watch:{show(n){n||(this.reason="")}}},wW={class:"report-modal"},EW={class:"modal-header report-header"},SW={class:"modal-body"},CW={class:"modal-footer two-button-footer"};function AW(n,t,r,i,s,o){return r.show?(se(),ce("div",{key:0,class:"modal-backdrop",onClick:t[4]||(t[4]=br((...a)=>o.closeModal&&o.closeModal(...a),["self"]))},[A("div",wW,[A("header",EW,[t[5]||(t[5]=A("div",{class:"title-wrap"},[A("span",{class:"icon"},[A("i",{class:"bi bi-bell-fill"})]),A("h2",{class:"modal-title"}," ")],-1)),A("button",{class:"close-btn",onClick:t[0]||(t[0]=(...a)=>o.closeModal&&o.closeModal(...a))},"  ")]),t[7]||(t[7]=A("hr",{class:"header-divider"},null,-1)),A("main",SW,[t[6]||(t[6]=A("p",{class:"report-guide"},"  .",-1)),sn(A("textarea",{"onUpdate:modelValue":t[1]||(t[1]=a=>s.reason=a),rows:"6",placeholder:": /, /,   ",class:"review-textarea"},null,512),[[nr,s.reason]])]),A("footer",CW,[A("button",{onClick:t[2]||(t[2]=(...a)=>o.closeModal&&o.closeModal(...a)),class:"btn-cancel"},""),A("button",{onClick:t[3]||(t[3]=(...a)=>o.submitReport&&o.submitReport(...a)),class:"btn-submit"},"")])])])):rt("",!0)}const TW=wt(_W,[["render",AW],["__scopeId","data-v-fbd53e5c"]]),IW={name:"ReviewSection",components:{PhotoModal:D5,ReportModal:TW},props:{targetId:{type:[Number,String],required:!0},targetType:{type:String,required:!0},currentUserId:{type:[Number,String],required:!0},rating:{type:Number,required:!0,default:0},reviewCount:{type:Number,required:!0,default:0},photoReviewCount:{type:Number,default:0},isPlace:{type:Boolean,required:!1,default:!1}},emits:["show-modal","edit-review","request-delete"],computed:{sectionTitle(){return this.isPlace?" ":" "},allPhotoUrls(){const n=[];for(const t of this.reviews)Array.isArray(t.photoUrls)&&n.push(...t.photoUrls);return n.filter(Boolean)},morePhotoCountToShow(){const n=this.photoReviewCount-this.allPhotoThumbnails.length;return Math.max(0,n)},visiblePages(){const t=this.totalPages,r=this.currentPage;if(t<=5)return Array.from({length:t},(a,l)=>l+1);let i=r-2,s=r+2;i<1?(i=1,s=5):s>t&&(s=t,i=t-5+1);const o=[];for(let a=i;a<=s;a++)o.push(a);return o}},watch:{targetId:{handler(n){n&&this.targetType&&(this.currentPage=1,this.fetchReviews(),this.fetchPhotoThumbnails(),this.allPhotoUrlsCache=null)},immediate:!0},targetType:{handler(n){n&&this.targetId&&(this.currentPage=1,this.fetchReviews(),this.fetchPhotoThumbnails(),this.allPhotoUrlsCache=null)},immediate:!0},currentUserId(n,t){n&&!t&&(console.log("  ,   "),this.fetchLikedStatus())}},data(){return{reviews:[],isLoading:!1,error:null,openReportMenuId:null,likedStatus:{},photoModal:{visible:!1,images:[],startIndex:0},currentPage:1,pageSize:3,totalPages:1,totalReviews:0,allPhotoThumbnails:[],allPhotoUrlsCache:null,reportModal:{visible:!1,reviewId:null}}},methods:{async fetchReviews(){if(!(!this.targetId||!this.targetType)){this.isLoading=!0,this.error=null;try{const n={targetId:this.targetId,targetType:this.targetType,page:this.currentPage,size:this.pageSize},{data:t}=await cn.get("/api/reviews",{params:n});this.reviews=Array.isArray(t.content)?t.content:[],this.totalPages=t.totalPages||1,this.totalReviews=t.totalElements||0,await this.fetchLikedStatus()}catch(n){console.error("[reviews] FAIL:",n?.response?.status,n?.response?.data||n.message),this.error=n}finally{this.isLoading=!1}}},onClickWriteReview(){if(this.currentUserId)this.$emit("show-modal");else{ct.emit("show-global-confirm",{message:"  ",onConfirm:()=>{this.$router.push({name:"login"})}});return}},async fetchLikedStatus(){let n=new Set;if(this.currentUserId!=null&&this.currentUserId!==""){const r={targetId:this.targetId,targetType:this.targetType};try{const{data:i}=await cn.get("/api/reviews/liked-status",{params:r}),s=Array.isArray(i)?i:[];n=new Set(s.map(o=>Number(o)))}catch(i){console.error("[liked-status] FAIL:",i?.response?.status,i?.response?.data||i.message)}}const t={};for(const r of this.reviews){const i=Number(r.reviewId);t[r.reviewId]=n.has(i)}this.likedStatus=t},goToPage(n){n<1||n>this.totalPages||n===this.currentPage||(this.currentPage=n,this.fetchReviews())},async openModalFromThumb(n,t){let r=this.allPhotoUrlsCache;if(!r)try{const{data:s}=await cn.get(`/api/reviews/target/${this.targetType}/${this.targetId}/photos`);if(!Array.isArray(s)||s.length===0)return;r=s,this.allPhotoUrlsCache=r}catch(s){console.error("[modal-thumb]   URL  :",s),ct.emit("show-global-alert",{message:"   .",type:"error"});return}let i=r.indexOf(n.url);i===-1&&(i=t),this.photoModal.images=r,this.photoModal.startIndex=i,this.photoModal.visible=!0},openPhotoViewer(n,t=0){const r=Array.isArray(n.photoUrls)?n.photoUrls.filter(Boolean):[];r.length&&(this.photoModal.images=r,this.photoModal.startIndex=t,this.photoModal.visible=!0)},onClickDelete(n){this.$emit("request-delete",{reviewId:n}),this.openReportMenuId=null},async fetchPhotoThumbnails(){if(!(!this.targetId||!this.targetType))try{const n={targetId:this.targetId,targetType:this.targetType,limit:3},{data:t}=await cn.get("/api/reviews/photos-summary",{params:n});this.allPhotoThumbnails=Array.isArray(t)?t:[]}catch(n){console.error("[photo-thumbs]  :",n?.response?.data||n.message),this.allPhotoThumbnails=[]}},formatReviewDate(n){if(!n)return"";try{return new Date(n).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,".").replace(/\.$/,"")}catch(t){return console.log(`->${t}`),n}},getFilledStars(n){typeof n!="number"&&(n=0);const t=Math.floor(n),r=n%1>=.5?1:0,i=5-t-r;let s="";return s+='<i class="bi bi-star-fill"></i>'.repeat(t),s+='<i class="bi bi-star-half"></i>'.repeat(r),s+='<i class="bi bi-star"></i>'.repeat(i),s},toggleReportMenu(n){this.openReportMenuId=this.openReportMenuId===n?null:n},async reportReview(n){if(!this.currentUserId){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}const t=this.reviews.find(r=>r.reviewId===n);if(t&&String(t.authorId)===String(this.currentUserId)){ct.emit("show-global-alert",{message:"     .",type:"error"}),this.openReportMenuId=null;return}this.reportModal.reviewId=n,this.reportModal.visible=!0,this.openReportMenuId=null},async handleReportSubmit(n){const t=this.reportModal.reviewId;if(!n||!n.trim()){ct.emit("show-global-alert",{message:"   .",type:"error"});return}try{await cn.post(`/api/reviews/${t}/report`),ct.emit("show-global-alert",{message:" .",type:"success"})}catch(r){console.error(" :",r),r.response&&r.response.data&&r.response.data.includes(" ")?ct.emit("show-global-alert",{message:"  .",type:"error"}):ct.emit("show-global-alert",{message:" .",type:"error"})}finally{this.reportModal.visible=!1,this.reportModal.reviewId=null}},getLikeIcon(n){return this.likedStatus[n]?"bi bi-hand-thumbs-up-fill":"bi bi-hand-thumbs-up"},async toggleLike(n){if(!this.currentUserId){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}const t=this.likedStatus[n];try{t?await cn.delete(`/api/reviews/${n}/unlike`):await cn.post(`/api/reviews/${n}/like`),this.likedStatus[n]=!t;const r=this.reviews.find(i=>i.reviewId===n);r&&(r.likeCount+=t?-1:1)}catch(r){console.error("  :",r),ct.emit("show-global-alert",{message:`   : ${r.response?.data||r.message}`,type:"error"})}},goToAllPhotosPage(){const n=`/photos/${this.targetType}/${this.targetId}`;Mg.push(n)}}},DW={class:"review-section"},NW={class:"section-title"},FW={class:"review-summary"},kW=["innerHTML"],MW={class:"total-score"},OW={class:"review-count"},PW={class:"subsection-title"},LW={class:"photo-reviews"},RW=["onClick","title"],BW={key:1,class:"photo-btn more-btn"},UW={key:0,class:"loading-message"},VW={key:1,class:"error-message"},$W={key:2,class:"review-list"},jW=["data-review-id"],zW={class:"reviewer-profile"},GW=["src"],HW={class:"name"},WW=["innerHTML"],XW={class:"review-content"},qW={key:0,class:"review-photos-grid"},YW=["onClick","aria-label"],KW={class:"review-meta"},ZW={class:"date"},JW=["onClick"],QW=["onClick"],eX={key:1,class:"report-menu"},tX={key:0},nX=["onClick"],rX=["onClick"],iX={key:1},sX=["onClick"],oX={key:1,class:"deleted-message"},aX={key:3,class:"pagination"},lX=["disabled"],uX=["onClick"],cX=["disabled"];function hX(n,t,r,i,s,o){const a=Pt("PhotoModal"),l=Pt("ReportModal");return se(),ce("section",DW,[A("h3",NW,Be(o.sectionTitle),1),A("div",FW,[A("span",{class:"review-stars",innerHTML:o.getFilledStars(r.rating)},null,8,kW),A("span",MW,Be(r.rating.toFixed(1)),1),A("span",OW,"("+Be(s.totalReviews)+" )",1)]),A("span",PW,"  ("+Be(r.photoReviewCount)+")",1),A("div",LW,[(se(!0),ce(at,null,Tt(s.allPhotoThumbnails,(u,h)=>(se(),ce("button",{key:u.reviewId||h,class:"photo-btn",style:Xn({backgroundImage:`url(${u.url})`,backgroundSize:"cover",backgroundPosition:"center"}),onClick:c=>o.openModalFromThumb(u,h),title:` ${u.reviewId}`},null,12,RW))),128)),o.morePhotoCountToShow>0?(se(),ce("button",{key:0,class:"photo-btn more-btn",onClick:t[0]||(t[0]=(...u)=>o.goToAllPhotosPage&&o.goToAllPhotosPage(...u))},[...t[6]||(t[6]=[A("i",{class:"bi bi-plus-circle"},null,-1)])])):s.allPhotoThumbnails.length===0&&r.photoReviewCount===0?(se(),ce("button",BW," ")):rt("",!0)]),A("button",{class:"write-review-btn",onClick:t[1]||(t[1]=(...u)=>o.onClickWriteReview&&o.onClickWriteReview(...u))},[...t[7]||(t[7]=[A("i",{class:"bi bi-pencil-square"},null,-1),At("  ",-1)])]),s.isLoading?(se(),ce("div",UW,"  ...")):s.error?(se(),ce("div",VW,"  ")):(se(),ce("div",$W,[(se(!0),ce(at,null,Tt(s.reviews,u=>(se(),ce("div",{class:"review-item",key:u.reviewId,"data-review-id":u.reviewId},[u.status!=="DELETED_BY_ADMIN"?(se(),ce(at,{key:0},[A("div",zW,[A("img",{src:u.authorProfileImageUrl||"https://via.placeholder.com/40",alt:" ",class:"avatar"},null,8,GW),A("span",HW,Be(u.authorName),1),A("span",{class:"stars",innerHTML:o.getFilledStars(u.rating)},null,8,WW)]),A("p",XW,Be(u.content),1),Array.isArray(u.photoUrls)&&u.photoUrls.length?(se(),ce("div",qW,[(se(!0),ce(at,null,Tt(u.photoUrls,(h,c)=>(se(),ce("button",{key:c,class:"photo-cell",style:Xn({backgroundImage:`url(${h})`}),onClick:f=>o.openPhotoViewer(u,c),"aria-label":` ${u.reviewId}  ${c+1}`},null,12,YW))),128))])):rt("",!0),A("div",KW,[A("span",ZW,Be(o.formatReviewDate(u.createdAt)),1),A("span",{class:ht(["likes",{active:s.likedStatus[u.reviewId]}]),onClick:h=>o.toggleLike(u.reviewId)},[A("i",{class:ht(o.getLikeIcon(u.reviewId))},null,2),At("  "+Be(u.likeCount),1)],10,JW)]),A("button",{class:"more-options",onClick:h=>o.toggleReportMenu(u.reviewId)},[...t[8]||(t[8]=[A("i",{class:"bi bi-three-dots"},null,-1)])],8,QW),s.openReportMenuId===u.reviewId?(se(),ce("div",eX,[String(u.authorId)===String(r.currentUserId)?(se(),ce("div",tX,[A("button",{class:"edit-btn",onClick:h=>n.$emit("edit-review",u)},[...t[9]||(t[9]=[A("i",{class:"bi bi-pencil"},null,-1),At("  ",-1)])],8,nX),A("button",{class:"edit-btn-delete",onClick:h=>o.onClickDelete(u.reviewId)},[...t[10]||(t[10]=[A("i",{class:"bi bi-trash3"},null,-1),At("  ",-1)])],8,rX)])):(se(),ce("div",iX,[A("button",{class:"report-btn",onClick:h=>o.reportReview(u.reviewId)},[...t[11]||(t[11]=[A("i",{class:"bi bi-bell"},null,-1),At("  ",-1)])],8,sX)]))])):rt("",!0)],64)):(se(),ce("div",oX,[...t[12]||(t[12]=[A("i",{class:"bi bi-info-circle"},null,-1),At("   . ",-1)])]))],8,jW))),128))])),s.totalPages>1&&!s.isLoading?(se(),ce("div",aX,[A("button",{onClick:t[2]||(t[2]=u=>o.goToPage(s.currentPage-1)),disabled:s.currentPage===1,class:"page-btn"},"< ",8,lX),(se(!0),ce(at,null,Tt(o.visiblePages,u=>(se(),ce("button",{key:u,onClick:h=>o.goToPage(u),class:ht(["page-btn",{active:u===s.currentPage}])},Be(u),11,uX))),128)),A("button",{onClick:t[3]||(t[3]=u=>o.goToPage(s.currentPage+1)),disabled:s.currentPage===s.totalPages,class:"page-btn"}," >",8,cX)])):rt("",!0),lt(a,{show:s.photoModal.visible,images:s.photoModal.images,startIndex:s.photoModal.startIndex,onClose:t[4]||(t[4]=u=>s.photoModal.visible=!1)},null,8,["show","images","startIndex"]),lt(l,{show:s.reportModal.visible,onClose:t[5]||(t[5]=u=>s.reportModal.visible=!1),onSubmit:o.handleReportSubmit},null,8,["show","onSubmit"])])}const fX=wt(IW,[["render",hX],["__scopeId","data-v-9a5e33b9"]]),dX={name:"ReviewModal",props:{reviewText:String,selectedRating:Number,isFormValid:Boolean,uploadedFiles:{type:Array,default:()=>[]}},emits:["close","submit","update:reviewText","update:selectedRating","files-selected","remove-file"],computed:{filePreviews(){return this.uploadedFiles?this.uploadedFiles.map(n=>({file:n,url:URL.createObjectURL(n)})):[]}},methods:{setRating(n){this.$emit("update:selectedRating",n)},openFilePicker(){this.$refs.fileInput.click()},onFileChange(n){const t=n.target.files;t.length>0&&this.$emit("files-selected",t),n.target.value=null},removeFile(n){this.$emit("remove-file",n)}},beforeUnmount(){this.filePreviews&&this.filePreviews.forEach(n=>{URL.revokeObjectURL(n.url)})}},pX={class:"modal-backdrop"},mX={class:"review-modal"},gX={class:"modal-header"},vX={class:"modal-body"},yX={class:"image-preview-list"},bX=["onClick"],xX={class:"preview-label"},_X={class:"upload-count"},wX=["value"],EX={class:"rating-area"},SX=["onClick"],CX={class:"rating-score"},AX={class:"modal-footer"},TX=["disabled"];function IX(n,t,r,i,s,o){return se(),ce("div",pX,[A("div",mX,[A("header",gX,[t[5]||(t[5]=A("div",{class:"title-wrap"},[A("span",{class:"icon"},[A("i",{class:"bi bi-pencil-square"})]),A("h2",{class:"modal-title"},"")],-1)),A("button",{class:"close-btn",onClick:t[0]||(t[0]=a=>n.$emit("close"))},"  ")]),t[7]||(t[7]=A("hr",{class:"header-divider"},null,-1)),A("main",vX,[A("div",yX,[(se(!0),ce(at,null,Tt(o.filePreviews,(a,l)=>(se(),ce("div",{key:l,class:"preview-item",style:Xn({backgroundImage:"url("+a.url+")"})},[A("button",{class:"remove-btn",onClick:br(u=>o.removeFile(l),["stop"])},"",8,bX),A("span",xX,""+Be(l+1),1)],4))),128)),r.uploadedFiles.length<5?(se(),ce("div",{key:0,class:"image-upload-area",onClick:t[1]||(t[1]=(...a)=>o.openFilePicker&&o.openFilePicker(...a))},[t[6]||(t[6]=A("span",{class:"gallery-icon"},[A("i",{class:"bi bi-image"})],-1)),A("span",_X,Be(r.uploadedFiles.length)+"/5",1)])):rt("",!0)]),A("input",{type:"file",ref:"fileInput",onChange:t[2]||(t[2]=(...a)=>o.onFileChange&&o.onFileChange(...a)),hidden:"",multiple:"",accept:"image/*"},null,544),A("textarea",{value:r.reviewText,onInput:t[3]||(t[3]=a=>n.$emit("update:reviewText",a.target.value)),placeholder:" .",class:"review-textarea"},null,40,wX),A("div",EX,[(se(),ce(at,null,Tt(5,a=>A("span",{key:a,class:ht(["star-icon",{filled:a<=r.selectedRating}]),onClick:l=>o.setRating(a)},"  ",10,SX)),64)),A("span",CX,Be(r.selectedRating.toFixed(1)),1)])]),A("footer",AX,[A("button",{class:"submit-btn",disabled:!r.isFormValid,onClick:t[4]||(t[4]=a=>n.$emit("submit"))},"   ",8,TX)])])])}const DX=wt(dX,[["render",IX],["__scopeId","data-v-b3aadf9d"]]),NX={name:"ActivityRecommender",props:{placeId:{type:[String,Number],required:!0},placeMainCategory:String,placeSubCategories:{type:Array,default:()=>[]},placeGradeTag:{type:String,default:""}},data(){return{isLoading:!1,hasSearched:!1,recommendations:[]}},computed:{parsedGrade(){if(!this.placeGradeTag)return null;const n=this.placeGradeTag.match(/(\d+)/);return n?n[1]:null},canRecommend(){return!!this.placeId&&!!this.parsedGrade&&!!this.placeMainCategory}},methods:{async fetchRecommendations(){if(!this.canRecommend){alert("   (  ) .");return}this.isLoading=!0,this.hasSearched=!0,this.recommendations=[];try{const n=await cn.get("/api/recommend/activities",{params:{placeId:this.placeId,grade:this.parsedGrade,unit:this.placeMainCategory}});await new Promise(t=>setTimeout(t,1500)),this.recommendations=n.data}catch(n){console.error("AI   :",n),alert("    .")}finally{this.isLoading=!1}}}},FX={class:"activity-recommender-section"},kX={key:0,class:"criteria-card"},MX={class:"criteria-content"},OX={class:"criteria-text"},PX={class:"criteria-description"},LX={class:"highlight-badge"},RX={class:"highlight-badge subject-badge"},BX={key:1,class:"criteria-card warning-card"},UX={class:"button-wrapper"},VX=["disabled"],$X={key:0,class:"btn-content loading"},jX={key:1,class:"btn-content"},zX={key:0,class:"loading-container"},GX={class:"loading-animation"},HX={class:"loading-text"},WX={class:"loading-description"},XX={class:"skeleton-cards"},qX={class:"card-header"},YX={class:"badge-wrapper"},KX={class:"unit-badge"},ZX={class:"card-title"},JX={class:"card-description"},QX={key:0,class:"card-footer"},eq={class:"location-info"},tq={class:"location-value"},nq={key:0,class:"no-results"};function rq(n,t,r,i,s,o){return se(),ce("div",FX,[t[19]||(t[19]=pi('<div class="section-header" data-v-94b19520><div class="header-icon-wrapper" data-v-94b19520><div class="icon-bg" data-v-94b19520><span class="header-icon" data-v-94b19520></span></div></div><div class="header-content" data-v-94b19520><h4 class="section-title" data-v-94b19520>AI   </h4><p class="section-subtitle" data-v-94b19520>    </p></div></div>',1)),o.canRecommend?(se(),ce("div",kX,[A("div",MX,[A("div",OX,[A("p",PX,[A("span",LX,Be(r.placeGradeTag),1),A("span",RX,Be(r.placeMainCategory),1),t[2]||(t[2]=At("   ",-1))])])])])):(se(),ce("div",BX,[...t[3]||(t[3]=[pi('<div class="criteria-content" data-v-94b19520><div class="criteria-icon warning" data-v-94b19520><i class="bi bi-exclamation-circle-fill" data-v-94b19520></i></div><div class="criteria-text" data-v-94b19520><p class="criteria-description" data-v-94b19520>      <br data-v-94b19520> AI    . </p></div></div>',1)])])),A("div",UX,[A("button",{class:ht(["btn-recommend",{loading:s.isLoading,disabled:!o.canRecommend}]),onClick:t[0]||(t[0]=(...a)=>o.fetchRecommendations&&o.fetchRecommendations(...a)),disabled:s.isLoading||!o.canRecommend},[s.isLoading?(se(),ce("span",$X,[...t[4]||(t[4]=[A("span",{class:"spinner"},null,-1),A("span",{class:"btn-text"},"AI  ...",-1)])])):(se(),ce("span",jX,[...t[5]||(t[5]=[A("i",{class:"bi bi-stars"},null,-1),A("span",{class:"btn-text"},"AI  ",-1)])]))],10,VX)]),lt($s,{name:"fade"},{default:Hr(()=>[s.isLoading?(se(),ce("div",zX,[A("div",GX,[t[11]||(t[11]=A("div",{class:"robot-icon"},[A("span",{class:"robot-emoji"},""),A("div",{class:"loading-pulse"})],-1)),A("div",HX,[t[9]||(t[9]=A("h5",{class:"loading-title"},"AI  ",-1)),A("p",WX,[At(Be(r.placeGradeTag)+" ",1),A("strong",null,Be(r.placeMainCategory),1),t[6]||(t[6]=At(" ",-1)),t[7]||(t[7]=A("br",null,null,-1)),t[8]||(t[8]=At("     ",-1))])]),A("div",XX,[(se(),ce(at,null,Tt(2,a=>A("div",{key:a,class:"skeleton-card",style:Xn({animationDelay:`${a*.1}s`})},[...t[10]||(t[10]=[A("div",{class:"skeleton-header"},[A("div",{class:"skeleton-badge"})],-1),A("div",{class:"skeleton-title"},null,-1),A("div",{class:"skeleton-desc line-1"},null,-1),A("div",{class:"skeleton-desc line-2"},null,-1),A("div",{class:"skeleton-location"},null,-1)])],4)),64))])])])):rt("",!0)]),_:1}),lt(cI,{name:"slide-up",tag:"div",class:"results-wrapper"},{default:Hr(()=>[(se(!0),ce(at,null,Tt(s.recommendations,(a,l)=>(se(),ce("div",{key:`rec-${l}`,class:"recommend-card",style:Xn({animationDelay:`${l*.1}s`})},[A("div",qX,[A("div",YX,[A("span",KX,[t[12]||(t[12]=A("i",{class:"bi bi-book"},null,-1)),At(" "+Be(a.relatedUnit),1)])]),A("h5",ZX,Be(a.title),1)]),A("p",JX,Be(a.description),1),a.relatedExhibit?(se(),ce("div",QX,[A("div",eq,[t[13]||(t[13]=A("i",{class:"bi bi-geo-alt-fill"},null,-1)),t[14]||(t[14]=A("span",{class:"location-label"}," ",-1)),A("span",tq,Be(a.relatedExhibit),1)])])):rt("",!0)],4))),128))]),_:1}),lt($s,{name:"fade"},{default:Hr(()=>[!s.isLoading&&s.recommendations.length===0&&s.hasSearched?(se(),ce("div",nq,[t[16]||(t[16]=A("div",{class:"no-results-icon"},[A("span",{class:"icon-emoji"},"")],-1)),t[17]||(t[17]=A("h5",{class:"no-results-title"},"  ",-1)),t[18]||(t[18]=A("p",{class:"no-results-text"},[At("    "),A("br"),At("     ")],-1)),A("button",{class:"btn-retry",onClick:t[1]||(t[1]=(...a)=>o.fetchRecommendations&&o.fetchRecommendations(...a))},[...t[15]||(t[15]=[A("i",{class:"bi bi-arrow-clockwise"},null,-1),At("   ",-1)])])])):rt("",!0)]),_:1})])}const iq=wt(NX,[["render",rq],["__scopeId","data-v-94b19520"]]),iu=Math.PI,Nb="2.1.1",jl="p2d",sq="p2d-hdr",Oa="webgl",Ir="webgl2",N5="default",Ay="simple",Ty="full",F5="crosshair",k5="pointer",M5="move",O5="text",P5="wait",ll=iu/2,Iy=iu,oq=iu/4,aq=iu*2,Si=iu*2,ul=iu/180,cl=180/iu,hs="corner",Gh="corners",Hh="radius",jp="right",L5="left",zi="center",lq="top",Dy="bottom",R5="alphabetic",zp=0,hc=1,uq=3,cq=2,Nl=4,og=6,Wh=5,bh="quads",Xh="quad_strip",hq="tess",Gu=7,qs=8,qh="close",zl="open",Gp="chord",Yh="pie",Fb="square",kb="butt",Fa="round",Mb="bevel",Ob="miter",B5="auto",fq="Alt",dq="Backspace",pq="Control",mq="Delete",gq="ArrowDown",vq="Enter",yq="Escape",bq="ArrowLeft",xq="Alt",_q="Enter",wq="ArrowRight",Eq="Shift",Sq="Tab",Cq="ArrowUp",Ii="source-over",Gl="destination-out",Kh="lighter",ag="darken",lg="lighten",U5="difference",ug="subtract",cg="exclusion",hg="multiply",fg="screen",dg="copy",Pb="overlay",Lb="hard-light",Rb="soft-light",Bb="color-dodge",Ub="color-burn",pg="threshold",Vb="gray",$b="opaque",jb="invert",mg="posterize",zb="dilate",Gb="erode",fc="blur",co="normal",Aq="italic",Tq="bold",Iq="bold italic",Dq="CHAR",V5="WORD",Nq="#000000",Fq=1.25,kq="middle",Ny="linear",Mq="quadratic",Oq="bezier",Pq="curve",Lq="stroke",Hp="fill",Wp="texture",Rq="immediate",gg="image",$5="nearest",Fy="repeat",ky="clamp",My="mirror",j5="flat",z5="smooth",Bq="landscape",Uq="portrait",G5="#000000",H5="#FFFFFF",W5="grid",X5="axes",Vq="label",$q="fallback",q5="contain",Y5="cover",xa="unsigned-byte",xh="unsigned-int",Ui="float",ku="half-float",Hu=Symbol("include"),Pu=Symbol("exclude"),Oy=Symbol("join");var Pa=Object.freeze({__proto__:null,ADD:Kh,ALT:fq,ARROW:N5,AUTO:B5,AXES:X5,BACKSPACE:dq,BASELINE:R5,BEVEL:Mb,BEZIER:Oq,BLEND:Ii,BLUR:fc,BOLD:Tq,BOLDITALIC:Iq,BOTTOM:Dy,BURN:Ub,CENTER:zi,CHAR:Dq,CHORD:Gp,CLAMP:ky,CLOSE:qh,CONTAIN:q5,CONTROL:pq,CORNER:hs,CORNERS:Gh,COVER:Y5,CROSS:F5,CURVE:Pq,DARKEST:ag,DEG_TO_RAD:ul,DELETE:mq,DIFFERENCE:U5,DILATE:zb,DODGE:Bb,DOWN_ARROW:gq,EMPTY_PATH:Gu,ENTER:vq,ERODE:Gb,ESCAPE:yq,EXCLUDE:Pu,EXCLUSION:cg,FALLBACK:$q,FILL:Hp,FLAT:j5,FLOAT:Ui,FULL:Ty,GRAY:Vb,GRID:W5,HALF_FLOAT:ku,HALF_PI:ll,HAND:k5,HARD_LIGHT:Lb,IMAGE:gg,IMMEDIATE:Rq,INCLUDE:Hu,INVERT:jb,ITALIC:Aq,JOIN:Oy,LABEL:Vq,LANDSCAPE:Bq,LEFT:L5,LEFT_ARROW:bq,LIGHTEST:lg,LINEAR:Ny,LINES:hc,LINE_LOOP:cq,LINE_STRIP:uq,MIRROR:My,MITER:Ob,MOVE:M5,MULTIPLY:hg,NEAREST:$5,NORMAL:co,OPAQUE:$b,OPEN:zl,OPTION:xq,OVERLAY:Pb,P2D:jl,P2DHDR:sq,PATH:qs,PI:Iy,PIE:Yh,POINTS:zp,PORTRAIT:Uq,POSTERIZE:mg,PROJECT:Fb,QUADRATIC:Mq,QUADS:bh,QUAD_STRIP:Xh,QUARTER_PI:oq,RADIUS:Hh,RAD_TO_DEG:cl,REMOVE:Gl,REPEAT:Fy,REPLACE:dg,RETURN:_q,RIGHT:jp,RIGHT_ARROW:wq,ROUND:Fa,SCREEN:fg,SHIFT:Eq,SIMPLE:Ay,SMOOTH:z5,SOFT_LIGHT:Rb,SQUARE:kb,STROKE:Lq,SUBTRACT:ug,TAB:Sq,TAU:aq,TESS:hq,TEXT:O5,TEXTURE:Wp,THRESHOLD:pg,TOP:lq,TRIANGLES:Nl,TRIANGLE_FAN:og,TRIANGLE_STRIP:Wh,TWO_PI:Si,UNSIGNED_BYTE:xa,UNSIGNED_INT:xh,UP_ARROW:Cq,VERSION:Nb,WAIT:P5,WEBGL:Oa,WEBGL2:Ir,WORD:V5,_CTX_MIDDLE:kq,_DEFAULT_FILL:H5,_DEFAULT_LEADMULT:Fq,_DEFAULT_STROKE:G5,_DEFAULT_TEXT_FILL:Nq});function Hb(n,t){t.applyMatrix=function(...r){let i=r[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(r[0])||i?this._renderer.applyMatrix(...r[0]):this._renderer.applyMatrix(...r),this},t.resetMatrix=function(){return this._renderer.resetMatrix(),this},t.rotate=function(r,i){return this._renderer.rotate(this._toRadians(r),i),this},t.rotateX=function(r){return this._assert3d("rotateX"),this._renderer.rotateX(this._toRadians(r)),this},t.rotateY=function(r){return this._assert3d("rotateY"),this._renderer.rotateY(this._toRadians(r)),this},t.rotateZ=function(r){return this._assert3d("rotateZ"),this._renderer.rotateZ(this._toRadians(r)),this},t.scale=function(r,i,s){if(r instanceof n.Vector){const o=r;r=o.x,i=o.y,s=o.z}else if(Array.isArray(r)){const o=r;r=o[0],i=o[1],s=o[2]||1}return isNaN(i)?i=s=r:isNaN(s)&&(s=1),this._renderer.scale(r,i,s),this},t.shearX=function(r){const i=this._toRadians(r);return this._renderer.applyMatrix(1,0,Math.tan(i),1,0,0),this},t.shearY=function(r){const i=this._toRadians(r);return this._renderer.applyMatrix(1,Math.tan(i),0,1,0,0),this},t.translate=function(r,i,s){return this._renderer.isP3D?this._renderer.translate(r,i,s):this._renderer.translate(r,i),this},t.push=function(){this._renderer.push()},t.pop=function(){this._renderer.pop()}}typeof p5<"u"&&Hb(p5,p5.prototype);function K5(n,t){t.noLoop=function(){this._loop=!1},t.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.isLooping=function(){return this._loop},t.redraw=async function(r){if(this._inUserDraw||!this._setupDone)return;let i=parseInt(r);(isNaN(i)||i<1)&&(i=1);const s=this._isGlobal?window:this;if(typeof s.draw=="function"){typeof s.setup>"u"&&s.scale(s._pixelDensity,s._pixelDensity);for(let o=0;o<i;o++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),this._renderer.isP3D&&this._renderer._update(),this.frameCount=s.frameCount+1,await this._runLifecycleHook("predraw"),this._inUserDraw=!0;try{await s.draw()}finally{this._inUserDraw=!1}await this._runLifecycleHook("postdraw")}}}}typeof p5<"u"&&K5(p5,p5.prototype);function Z5(n,t,r){const i=[N5,F5,k5,M5,O5,P5];t._frameRate=0,t._lastFrameTime=window.performance.now(),t._targetFrameRate=60;const s=window.print;let o=!1;r.presetup=function(){const c=["resize"];for(const f of c)window.addEventListener(f,this[`_on${f}`].bind(this),{passive:!1,signal:this._removeSignal})},t.print=function(...c){c.length?console.log(...c):o||(s(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(o=!0))},t.frameCount=0,t.deltaTime=0,t.focused=document.hasFocus(),t.cursor=function(c,f,d){let p="auto";const m=this._curElement.elt;if(i.includes(c))p=c;else if(typeof c=="string"){let g="";f&&d&&typeof f=="number"&&typeof d=="number"&&(g=`${f} ${d}`),c.substring(0,7)==="http://"||c.substring(0,8)==="https://"?p=`url(${c}) ${g}, auto`:/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?p=`url(${c}) ${g}, auto`:p=c}m.style.cursor=p},t.frameRate=function(c){return typeof c!="number"||c<0?this._frameRate:(this._targetFrameRate=c,c===0&&(this._frameRate=c),this)},t.getFrameRate=function(){return this.frameRate()},t.setFrameRate=function(c){return this.frameRate(c)},t.getTargetFrameRate=function(){return this._targetFrameRate},t.noCursor=function(){this._curElement.elt.style.cursor="none"},t.webglVersion=jl,t.displayWidth=screen.width,t.displayHeight=screen.height,t.windowWidth=0,t.windowHeight=0,t._onresize=function(c){this.windowWidth=a(),this.windowHeight=l();let f;typeof this._customActions.windowResized=="function"&&(f=this._customActions.windowResized(c),f!==void 0&&!f&&c.preventDefault())};function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function l(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}t._updateWindowSize=function(){this.windowWidth=a(),this.windowHeight=l()},Object.defineProperty(t,"width",{get(){return this._renderer.width}}),Object.defineProperty(t,"height",{get(){return this._renderer.height}}),t.fullscreen=function(c){if(typeof c>"u")return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;c?u(document.documentElement):h()},t.pixelDensity=function(c){let f;return typeof c=="number"?(c!==this._renderer._pixelDensity&&(this._renderer._pixelDensity=c),f=this,this.resizeCanvas(this.width,this.height,!0)):f=this._renderer._pixelDensity,f},t.displayDensity=()=>window.devicePixelRatio;function u(c){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}function h(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}t.getURL=()=>location.href,t.getURLPath=()=>location.pathname.split("/").filter(c=>c!==""),t.getURLParams=function(){const c=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim;let f;const d={};for(;(f=c.exec(location.search))!=null;)f.index===c.lastIndex&&c.lastIndex++,d[f[1]]=f[2];return d},t.worldToScreen=function(c){return typeof c=="number"&&(c=this.createVector(...arguments)),this._renderer.getWorldToScreenMatrix().multiplyAndNormalizePoint(c)},t.screenToWorld=function(c){typeof c=="number"&&(c=this.createVector(...arguments));const f=this._renderer.getWorldToScreenMatrix();if(c.dimensions===2){let m=f.mat4[14]/f.mat4[15];c=this.createVector(c.x,c.y,m)}return f.invert(f).multiplyAndNormalizePoint(c)}}typeof p5<"u"&&Z5(p5,p5.prototype);function Rr(n,t){let r=n.length;Array.isArray(n[0])||(n=[n]),Array.isArray(t[0])||(t=t.map(a=>[a]));let i=t[0].length,s=t[0].map((a,l)=>t.map(u=>u[l])),o=n.map(a=>s.map(l=>{let u=0;if(!Array.isArray(a)){for(let h of l)u+=a*h;return u}for(let h=0;h<a.length;h++)u+=a[h]*(l[h]||0);return u}));return r===1&&(o=o[0]),i===1?o.map(a=>a[0]):o}function J5(n){return Wu(n)==="string"}function Wu(n){return(Object.prototype.toString.call(n).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function Py(n,{precision:t,unit:r}){return Ly(n)?"none":jq(n,t)+(r??"")}function Ly(n){return Number.isNaN(n)||n instanceof Number&&n?.none}function jq(n,t){if(n===0)return 0;let r=~~n,i=0;r&&t&&(i=~~Math.log10(Math.abs(r))+1);const s=10**(t-i);return Math.floor(n*s+.5)/s}const zq={deg:1,grad:.9,rad:180/Math.PI,turn:360};function Gq(n){if(!n)return;n=n.trim();const t=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/,i=/%|deg|g?rad|turn$/,s=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g;let o=n.match(t);if(o){let a=[];return o[2].replace(s,(l,u)=>{let h=u.match(i),c=u;if(h){let f=h[0],d=c.slice(0,-f.length);f==="%"?(c=new Number(d/100),c.type="<percentage>"):(c=new Number(d*zq[f]),c.type="<angle>",c.unit=f)}else r.test(c)?(c=new Number(c),c.type="<number>"):c==="none"&&(c=new Number(NaN),c.none=!0);l.startsWith("/")&&(c=c instanceof Number?c:new Number(c),c.alpha=!0),typeof c=="object"&&c instanceof Number&&(c.raw=u),a.push(c)}),{name:o[1].toLowerCase(),rawName:o[1],rawArgs:o[2],args:a}}}function Hq(n){return n[n.length-1]}function Xp(n,t,r){return isNaN(n)?t:isNaN(t)?n:n+(t-n)*r}function Wq(n,t,r){return(r-n)/(t-n)}function Q5(n,t,r){return Xp(t[0],t[1],Wq(n[0],n[1],r))}function Xq(n){return n.map(t=>t.split("|").map(r=>{r=r.trim();let i=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(i){let s=new String(i[1]);return s.range=[+i[2],+i[3]],s}return r}))}function qq(n,t,r){return Math.max(Math.min(r,t),n)}function Wb(n,t){return Math.sign(n)===Math.sign(t)?n:-n}function Ro(n,t){return Wb(Math.abs(n)**t,n)}function eN(n,t){return t===0?0:n/t}function Yq(n,t,r=0,i=n.length){for(;r<i;){const s=r+i>>1;n[s]<t?r=s+1:i=s}return r}class Kq{add(t,r,i){if(typeof arguments[0]!="string"){for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1]);return}(Array.isArray(t)?t:[t]).forEach(function(s){this[s]=this[s]||[],r&&this[s][i?"unshift":"push"](r)},this)}run(t,r){this[t]=this[t]||[],this[t].forEach(function(i){i.call(r&&r.context?r.context:r,r)})}}const qp=new Kq,Bo={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Ry(n){return Array.isArray(n)?n:Bo[n]}function Yp(n,t,r,i={}){if(n=Ry(n),t=Ry(t),!n||!t)throw new TypeError(`Missing white point to convert ${n?"":"from"}${!n&&!t?"/":""}${t?"":"to"}`);if(n===t)return r;let s={W1:n,W2:t,XYZ:r,options:i};if(qp.run("chromatic-adaptation-start",s),s.M||(s.W1===Bo.D65&&s.W2===Bo.D50?s.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:s.W1===Bo.D50&&s.W2===Bo.D65&&(s.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),qp.run("chromatic-adaptation-end",s),s.M)return Rr(s.M,s.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const Hl={gamut_mapping:"css",precision:5,deltaE:"76",verbose:"production".toLowerCase()!=="test",warn:function(t){this.verbose&&globalThis?.console?.warn?.(t)}},Zq=new Set(["<number>","<percentage>","<angle>"]);function a2(n,t,r,i){return Object.entries(n.coords).map(([o,a],l)=>{let u=t.coordGrammar[l],h=i[l],c=h?.type,f;if(h.none?f=u.find(m=>Zq.has(m)):f=u.find(m=>m==c),!f){let m=a.name||o;throw new TypeError(`${c??h.raw} not allowed for ${m} in ${r}()`)}let d=f.range;c==="<percentage>"&&(d||=[0,1]);let p=a.range||a.refRange;return d&&p&&(i[l]=Q5(d,p,i[l])),f})}function tN(n,{meta:t}={}){let r={str:String(n)?.trim()};if(qp.run("parse-start",r),r.color)return r.color;if(r.parsed=Gq(r.str),r.parsed){let i=r.parsed.name;if(i==="color"){let s=r.parsed.args.shift(),o=s.startsWith("--")?s.substring(2):`--${s}`,a=[s,o],l=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let c of Ft.all){let f=c.getFormat("color");if(f&&(a.includes(f.id)||f.ids?.filter(d=>a.includes(d)).length)){const d=Object.keys(c.coords).map((m,g)=>r.parsed.args[g]||0);let p;return f.coordGrammar&&(p=a2(c,f,"color",d)),t&&Object.assign(t,{formatId:"color",types:p}),f.id.startsWith("--")&&!s.startsWith("--")&&Hl.warn(`${c.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${f.id}) instead of color(${s}).`),s.startsWith("--")&&!f.id.startsWith("--")&&Hl.warn(`${c.name} is a standard space and supported in the CSS spec. Use color(${f.id}) instead of prefixed color(${s}).`),{spaceId:c.id,coords:d,alpha:l}}}let u="",h=s in Ft.registry?s:o;if(h in Ft.registry){let c=Ft.registry[h].formats?.color?.id;c&&(u=`Did you mean color(${c})?`)}throw new TypeError(`Cannot parse color(${s}). `+(u||"Missing a plugin?"))}else for(let s of Ft.all){let o=s.getFormat(i);if(o&&o.type==="function"){let a=1;(o.lastAlpha||Hq(r.parsed.args).alpha)&&(a=r.parsed.args.pop());let l=r.parsed.args,u;return o.coordGrammar&&(u=a2(s,o,i,l)),t&&Object.assign(t,{formatId:o.name,types:u}),{spaceId:s.id,coords:l,alpha:a}}}}else for(let i of Ft.all)for(let s in i.formats){let o=i.formats[s];if(o.type!=="custom"||o.test&&!o.test(r.str))continue;let a=o.parse(r.str);if(a)return a.alpha??=1,t&&(t.formatId=s),a}throw new TypeError(`Could not parse ${n} as a color. Missing a plugin?`)}function or(n){if(Array.isArray(n))return n.map(or);if(!n)throw new TypeError("Empty color reference");J5(n)&&(n=tN(n));let t=n.space||n.spaceId;return t instanceof Ft||(n.space=Ft.get(t)),n.alpha===void 0&&(n.alpha=1),n}const Jq=75e-6;class Ft{constructor(t){this.id=t.id,this.name=t.name,this.base=t.base?Ft.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let r=t.coords??this.base.coords;for(let s in r)"name"in r[s]||(r[s].name=s);this.coords=r;let i=t.white??this.base.white??"D65";this.white=Ry(i),this.formats=t.formats??{};for(let s in this.formats){let o=this.formats[s];o.type||="function",o.name||=s}this.formats.color?.id||(this.formats.color={...this.formats.color??{},id:t.cssId||this.id}),t.gamutSpace?this.gamutSpace=t.gamutSpace==="self"?this:Ft.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(s,o)=>!0),this.referred=t.referred,Object.defineProperty(this,"path",{value:Qq(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),qp.run("colorspace-init-end",this)}inGamut(t,{epsilon:r=Jq}={}){if(!this.equals(this.gamutSpace))return t=this.to(this.gamutSpace,t),this.gamutSpace.inGamut(t,{epsilon:r});let i=Object.values(this.coords);return t.every((s,o)=>{let a=i[o];if(a.type!=="angle"&&a.range){if(Number.isNaN(s))return!0;let[l,u]=a.range;return(l===void 0||s>=l-r)&&(u===void 0||s<=u+r)}return!0})}get isUnbounded(){return Object.values(this.coords).every(t=>!("range"in t))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let t in this.coords)if(this.coords[t].type==="angle")return!0;return!1}getFormat(t){if(typeof t=="object")return t=l2(t,this),t;let r;return t==="default"?r=Object.values(this.formats)[0]:r=this.formats[t],r?(r=l2(r,this),r):null}equals(t){return t?this===t||this.id===t||this.id===t.id:!1}to(t,r){if(arguments.length===1){const l=or(t);[t,r]=[l.space,l.coords]}if(t=Ft.get(t),this.equals(t))return r;r=r.map(l=>Number.isNaN(l)?0:l);let i=this.path,s=t.path,o,a;for(let l=0;l<i.length&&i[l].equals(s[l]);l++)o=i[l],a=l;if(!o)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let l=i.length-1;l>a;l--)r=i[l].toBase(r);for(let l=a+1;l<s.length;l++)r=s[l].fromBase(r);return r}from(t,r){if(arguments.length===1){const i=or(t);[t,r]=[i.space,i.coords]}return t=Ft.get(t),t.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let r in this.coords){let i=this.coords[r],s=i.range||i.refRange;t.push(s?.min??0)}return t}static registry={};static get all(){return[...new Set(Object.values(Ft.registry))]}static register(t,r){if(arguments.length===1&&(r=arguments[0],t=r.id),r=this.get(r),this.registry[t]&&this.registry[t]!==r)throw new Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=r,arguments.length===1&&r.aliases)for(let i of r.aliases)this.register(i,r);return r}static get(t,...r){if(!t||t instanceof Ft)return t;if(Wu(t)==="string"){let s=Ft.registry[t.toLowerCase()];if(!s)throw new TypeError(`No color space found with id = "${t}"`);return s}if(r.length)return Ft.get(...r);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,r){let i=Wu(t),s,o;if(i==="string"?t.includes(".")?[s,o]=t.split("."):[s,o]=[,t]:Array.isArray(t)?[s,o]=t:(s=t.space,o=t.coordId),s=Ft.get(s),s||(s=r),!s)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(i=Wu(o),i==="number"||i==="string"&&o>=0){let u=Object.entries(s.coords)[o];if(u)return{space:s,id:u[0],index:o,...u[1]}}s=Ft.get(s);let a=o.toLowerCase(),l=0;for(let u in s.coords){let h=s.coords[u];if(u.toLowerCase()===a||h.name?.toLowerCase()===a)return{space:s,id:u,index:l,...h};l++}throw new TypeError(`No "${o}" coordinate found in ${s.name}. Its coordinates are: ${Object.keys(s.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}function Qq(n){let t=[n];for(let r=n;r=r.base;)t.push(r);return t}function l2(n,{coords:t}={}){if(n.coords&&!n.coordGrammar){n.type||="function",n.name||="color",n.coordGrammar=Xq(n.coords);let r=Object.entries(t).map(([i,s],o)=>{let a=n.coordGrammar[o][0],l=s.range||s.refRange,u=a.range,h="";return a=="<percentage>"?(u=[0,100],h="%"):a=="<angle>"&&(h="deg"),{fromRange:l,toRange:u,suffix:h}});n.serializeCoords=(i,s)=>i.map((o,a)=>{let{fromRange:l,toRange:u,suffix:h}=r[a];return l&&u&&(o=Q5(l,u,o)),o=Py(o,{precision:s,unit:h}),o})}return n}const Go=new Ft({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class vg extends Ft{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=Go),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??=r=>{let i=Rr(t.toXYZ_M,r);return this.white!==this.base.white&&(i=Yp(this.white,this.base.white,i)),i},t.fromBase??=r=>(r=Yp(this.base.white,this.white,r),Rr(t.fromXYZ_M,r))),t.referred??="display",super(t)}}function nN(n,t){return n=or(n),!t||n.space.equals(t)?n.coords.slice():(t=Ft.get(t),t.from(n))}function Ea(n,t){n=or(n);let{space:r,index:i}=Ft.resolveCoord(t,n.space);return nN(n,r)[i]}function rN(n,t,r){return n=or(n),t=Ft.get(t),n.coords=t.to(n.space,r),n}rN.returns="color";function Zh(n,t,r){if(n=or(n),arguments.length===2&&Wu(arguments[1])==="object"){let i=arguments[1];for(let s in i)Zh(n,s,i[s])}else{typeof r=="function"&&(r=r(Ea(n,t)));let{space:i,index:s}=Ft.resolveCoord(t,n.space),o=nN(n,i);o[s]=r,rN(n,i,o)}return n}Zh.returns="color";const eY=new Ft({id:"xyz-d50",name:"XYZ D50",white:"D50",base:Go,fromBase:n=>Yp(Go.white,"D50",n),toBase:n=>Yp("D50",Go.white,n)}),tY=216/24389,u2=24/116,vd=24389/27;let W0=Bo.D50;const Gs=new Ft({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:W0,base:eY,fromBase(n){let r=n.map((i,s)=>i/W0[s]).map(i=>i>tY?Math.cbrt(i):(vd*i+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(n){let t=[];return t[1]=(n[0]+16)/116,t[0]=n[1]/500+t[1],t[2]=t[1]-n[2]/200,[t[0]>u2?Math.pow(t[0],3):(116*t[0]-16)/vd,n[0]>8?Math.pow((n[0]+16)/116,3):n[0]/vd,t[2]>u2?Math.pow(t[2],3):(116*t[2]-16)/vd].map((i,s)=>i*W0[s])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function na(n){return(n%360+360)%360}function nY(n,t){if(n==="raw")return t;let[r,i]=t.map(na),s=i-r;return n==="increasing"?s<0&&(i+=360):n==="decreasing"?s>0&&(r+=360):n==="longer"?-180<s&&s<180&&(s>0?r+=360:i+=360):n==="shorter"&&(s>180?r+=360:s<-180&&(i+=360)),[r,i]}const dc=new Ft({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Gs,fromBase(n){let[t,r,i]=n,s;const o=.02;return Math.abs(r)<o&&Math.abs(i)<o?s=NaN:s=Math.atan2(i,r)*180/Math.PI,[t,Math.sqrt(r**2+i**2),na(s)]},toBase(n){let[t,r,i]=n;return r<0&&(r=0),isNaN(i)&&(i=0),[t,r*Math.cos(i*Math.PI/180),r*Math.sin(i*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),c2=25**7,Kp=Math.PI,h2=180/Kp,Eu=Kp/180;function f2(n){const t=n*n;return t*t*t*n}function iN(n,t,{kL:r=1,kC:i=1,kH:s=1}={}){[n,t]=or([n,t]);let[o,a,l]=Gs.from(n),u=dc.from(Gs,[o,a,l])[1],[h,c,f]=Gs.from(t),d=dc.from(Gs,[h,c,f])[1];u<0&&(u=0),d<0&&(d=0);let p=(u+d)/2,m=f2(p),g=.5*(1-Math.sqrt(m/(m+c2))),v=(1+g)*a,S=(1+g)*c,y=Math.sqrt(v**2+l**2),x=Math.sqrt(S**2+f**2),b=v===0&&l===0?0:Math.atan2(l,v),w=S===0&&f===0?0:Math.atan2(f,S);b<0&&(b+=2*Kp),w<0&&(w+=2*Kp),b*=h2,w*=h2;let E=h-o,_=x-y,T=w-b,C=b+w,F=Math.abs(T),k;y*x===0?k=0:F<=180?k=T:T>180?k=T-360:T<-180?k=T+360:Hl.warn("the unthinkable has happened");let D=2*Math.sqrt(x*y)*Math.sin(k*Eu/2),N=(o+h)/2,M=(y+x)/2,U=f2(M),R;y*x===0?R=C:F<=180?R=C/2:C<360?R=(C+360)/2:R=(C-360)/2;let W=(N-50)**2,ne=1+.015*W/Math.sqrt(20+W),ge=1+.045*M,te=1;te-=.17*Math.cos((R-30)*Eu),te+=.24*Math.cos(2*R*Eu),te+=.32*Math.cos((3*R+6)*Eu),te-=.2*Math.cos((4*R-63)*Eu);let J=1+.015*M*te,ae=30*Math.exp(-1*((R-275)/25)**2),xe=2*Math.sqrt(U/(U+c2)),Z=-1*Math.sin(2*ae*Eu)*xe,G=(E/(r*ne))**2;return G+=(_/(i*ge))**2,G+=(D/(s*J))**2,G+=Z*(_/(i*ge))*(D/(s*J)),Math.sqrt(G)}const rY=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],iY=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],sY=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],oY=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],Wl=new Ft({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:Go,fromBase(n){let r=Rr(rY,n).map(i=>Math.cbrt(i));return Rr(sY,r)},toBase(n){let r=Rr(oY,n).map(i=>i**3);return Rr(iY,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function By(n,t){[n,t]=or([n,t]);let[r,i,s]=Wl.from(n),[o,a,l]=Wl.from(t),u=r-o,h=i-a,c=s-l;return Math.sqrt(u**2+h**2+c**2)}const aY=75e-6;function Xu(n,t,{epsilon:r=aY}={}){n=or(n),t||(t=n.space),t=Ft.get(t);let i=n.coords;return t!==n.space&&(i=t.from(n)),t.inGamut(i,{epsilon:r})}function Jh(n){return{space:n.space,coords:n.coords.slice(),alpha:n.alpha}}function lY(n,t,r="lab"){r=Ft.get(r);let i=r.from(n),s=r.from(t);return Math.sqrt(i.reduce((o,a,l)=>{let u=s[l];return isNaN(a)||isNaN(u)?o:o+(u-a)**2},0))}function uY(n,t){return lY(n,t,"lab")}const cY=Math.PI,d2=cY/180;function hY(n,t,{l:r=2,c:i=1}={}){[n,t]=or([n,t]);let[s,o,a]=Gs.from(n),[,l,u]=dc.from(Gs,[s,o,a]),[h,c,f]=Gs.from(t),d=dc.from(Gs,[h,c,f])[1];l<0&&(l=0),d<0&&(d=0);let p=s-h,m=l-d,g=o-c,v=a-f,S=g**2+v**2-m**2,y=.511;s>=16&&(y=.040975*s/(1+.01765*s));let x=.0638*l/(1+.0131*l)+.638,b;Number.isNaN(u)&&(u=0),u>=164&&u<=345?b=.56+Math.abs(.2*Math.cos((u+168)*d2)):b=.36+Math.abs(.4*Math.cos((u+35)*d2));let w=Math.pow(l,4),E=Math.sqrt(w/(w+1900)),_=x*(E*b+1-E),T=(p/(r*y))**2;return T+=(m/(i*x))**2,T+=S/_**2,Math.sqrt(T)}const p2=203,sN=new Ft({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:Go,fromBase(n){return n.map(t=>Math.max(t*p2,0))},toBase(n){return n.map(t=>Math.max(t/p2,0))}}),yd=1.15,bd=.66,m2=2610/2**14,fY=2**14/2610,g2=3424/2**12,v2=2413/2**7,y2=2392/2**7,dY=1.7*2523/2**5,b2=2**5/(1.7*2523),xd=-.56,X0=16295499532821565e-27,pY=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],mY=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],gY=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],vY=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],yY=new Ft({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:sN,fromBase(n){let[t,r,i]=n,s=yd*t-(yd-1)*i,o=bd*r-(bd-1)*t,l=Rr(pY,[s,o,i]).map(function(d){let p=g2+v2*(d/1e4)**m2,m=1+y2*(d/1e4)**m2;return(p/m)**dY}),[u,h,c]=Rr(gY,l);return[(1+xd)*u/(1+xd*u)-X0,h,c]},toBase(n){let[t,r,i]=n,s=(t+X0)/(1+xd-xd*(t+X0)),a=Rr(vY,[s,r,i]).map(function(d){let p=g2-d**b2,m=y2*d**b2-v2;return 1e4*(p/m)**fY}),[l,u,h]=Rr(mY,a),c=(l+(yd-1)*h)/yd,f=(u+(bd-1)*c)/bd;return[c,f,h]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),x2=new Ft({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:yY,fromBase(n){let[t,r,i]=n,s;const o=2e-4;return Math.abs(r)<o&&Math.abs(i)<o?s=NaN:s=Math.atan2(i,r)*180/Math.PI,[t,Math.sqrt(r**2+i**2),na(s)]},toBase(n){return[n[0],n[1]*Math.cos(n[2]*Math.PI/180),n[1]*Math.sin(n[2]*Math.PI/180)]}});function bY(n,t){[n,t]=or([n,t]);let[r,i,s]=x2.from(n),[o,a,l]=x2.from(t),u=r-o,h=i-a;Number.isNaN(s)&&Number.isNaN(l)?(s=0,l=0):Number.isNaN(s)?s=l:Number.isNaN(l)&&(l=s);let c=s-l,f=2*Math.sqrt(i*a)*Math.sin(c/2*(Math.PI/180));return Math.sqrt(u**2+h**2+f**2)}const oN=3424/4096,aN=2413/128,lN=2392/128,_2=2610/16384,xY=2523/32,_Y=16384/2610,w2=32/2523,wY=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],EY=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],SY=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],CY=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],E2=new Ft({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:sN,fromBase(n){let t=Rr(wY,n);return AY(t)},toBase(n){let t=TY(n);return Rr(CY,t)}});function AY(n){let t=n.map(function(r){let i=oN+aN*(r/1e4)**_2,s=1+lN*(r/1e4)**_2;return(i/s)**xY});return Rr(EY,t)}function TY(n){return Rr(SY,n).map(function(i){let s=Math.max(i**w2-oN,0),o=aN-lN*i**w2;return 1e4*(s/o)**_Y})}function IY(n,t){[n,t]=or([n,t]);let[r,i,s]=E2.from(n),[o,a,l]=E2.from(t);return 720*Math.sqrt((r-o)**2+.25*(i-a)**2+(s-l)**2)}const DY=Bo.D65,uN=.42,S2=1/uN,q0=2*Math.PI,cN=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],NY=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],FY=[[460,451,288],[460,-891,-261],[460,-220,-6300]],kY={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},fl={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},MY=180/Math.PI,C2=Math.PI/180;function hN(n,t){return n.map(i=>{const s=Ro(t*Math.abs(i)*.01,uN);return 400*Wb(s,i)/(s+27.13)})}function OY(n,t){const r=100/t*27.13**S2;return n.map(i=>{const s=Math.abs(i);return Wb(r*Ro(s/(400-s),S2),i)})}function PY(n){let t=na(n);t<=fl.h[0]&&(t+=360);const r=Yq(fl.h,t)-1,[i,s]=fl.h.slice(r,r+2),[o,a]=fl.e.slice(r,r+2),l=fl.H[r],u=(t-i)/o;return l+100*u/(u+(s-t)/a)}function LY(n){let t=(n%400+400)%400;const r=Math.floor(.01*t);t=t%100;const[i,s]=fl.h.slice(r,r+2),[o,a]=fl.e.slice(r,r+2);return na((t*(a*i-o*s)-100*i*a)/(t*(a-o)-100*a))}function fN(n,t,r,i,s){const o={};o.discounting=s,o.refWhite=n,o.surround=i;const a=n.map(g=>g*100);o.la=t,o.yb=r;const l=a[1],u=Rr(cN,a);i=kY[o.surround];const h=i[0];o.c=i[1],o.nc=i[2];const f=(1/(5*o.la+1))**4;o.fl=f*o.la+.1*(1-f)*(1-f)*Math.cbrt(5*o.la),o.flRoot=o.fl**.25,o.n=o.yb/l,o.z=1.48+Math.sqrt(o.n),o.nbb=.725*o.n**-.2,o.ncb=o.nbb;const d=Math.max(Math.min(h*(1-1/3.6*Math.exp((-o.la-42)/92)),1),0);o.dRgb=u.map(g=>Xp(1,l/g,d)),o.dRgbInv=o.dRgb.map(g=>1/g);const p=u.map((g,v)=>g*o.dRgb[v]),m=hN(p,o.fl);return o.aW=o.nbb*(2*m[0]+m[1]+.05*m[2]),o}const A2=fN(DY,64/Math.PI*.2,20,"average",!1);function Uy(n,t){if(!(n.J!==void 0^n.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(n.C!==void 0^n.M!==void 0^n.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(n.h!==void 0^n.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(n.J===0||n.Q===0)return[0,0,0];let r=0;n.h!==void 0?r=na(n.h)*C2:r=LY(n.H)*C2;const i=Math.cos(r),s=Math.sin(r);let o=0;n.J!==void 0?o=Ro(n.J,1/2)*.1:n.Q!==void 0&&(o=.25*t.c*n.Q/((t.aW+4)*t.flRoot));let a=0;n.C!==void 0?a=n.C/o:n.M!==void 0?a=n.M/t.flRoot/o:n.s!==void 0&&(a=4e-4*n.s**2*(t.aW+4)/t.c);const l=Ro(a*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),u=.25*(Math.cos(r+2)+3.8),h=t.aW*Ro(o,2/t.c/t.z),c=5e4/13*t.nc*t.ncb*u,f=h/t.nbb,d=23*(f+.305)*eN(l,23*c+l*(11*i+108*s)),p=d*i,m=d*s,g=OY(Rr(FY,[f,p,m]).map(v=>v*1/1403),t.fl);return Rr(NY,g.map((v,S)=>v*t.dRgbInv[S])).map(v=>v/100)}function dN(n,t){const r=n.map(x=>x*100),i=hN(Rr(cN,r).map((x,b)=>x*t.dRgb[b]),t.fl),s=i[0]+(-12*i[1]+i[2])/11,o=(i[0]+i[1]-2*i[2])/9,a=(Math.atan2(o,s)%q0+q0)%q0,l=.25*(Math.cos(a+2)+3.8),u=5e4/13*t.nc*t.ncb*eN(l*Math.sqrt(s**2+o**2),i[0]+i[1]+1.05*i[2]+.305),h=Ro(u,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),c=t.nbb*(2*i[0]+i[1]+.05*i[2]),f=Ro(c/t.aW,.5*t.c*t.z),d=100*Ro(f,2),p=4/t.c*f*(t.aW+4)*t.flRoot,m=h*f,g=m*t.flRoot,v=na(a*MY),S=PY(v),y=50*Ro(t.c*h/(t.aW+4),1/2);return{J:d,C:m,h:v,s:y,Q:p,M:g,H:S}}new Ft({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Go,fromBase(n){const t=dN(n,A2);return[t.J,t.M,t.h]},toBase(n){return Uy({J:n[0],M:n[1],h:n[2]},A2)}});const RY=Bo.D65,BY=216/24389,pN=24389/27;function UY(n){return 116*(n>BY?Math.cbrt(n):(pN*n+16)/116)-16}function Vy(n){return n>8?Math.pow((n+16)/116,3):n/pN}function VY(n,t){let[r,i,s]=n,o=[],a=0;if(s===0)return[0,0,0];let l=Vy(s);s>0?a=.00379058511492914*s**2+.608983189401032*s+.9155088574762233:a=9514440756550361e-21*s**2+.08693057439788597*s-21.928975842194614;const u=2e-12,h=15;let c=0,f=1/0;for(;c<=h;){o=Uy({J:a,C:i,h:r},t);const d=Math.abs(o[1]-l);if(d<f){if(d<=u)return o;f=d}a=a-(o[1]-l)*a/(2*o[1]),c+=1}return Uy({J:a,C:i,h:r},t)}function $Y(n,t){const r=UY(n[1]);if(r===0)return[0,0,0];const i=dN(n,Xb);return[na(i.h),i.C,r]}const Xb=fN(RY,200/Math.PI*Vy(50),Vy(50)*100,"average",!1),Zp=new Ft({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:Go,fromBase(n){return $Y(n)},toBase(n){return VY(n,Xb)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),jY=Math.PI/180,T2=[1,.007,.0228];function I2(n){n[1]<0&&(n=Zp.fromBase(Zp.toBase(n)));const t=Math.log(Math.max(1+T2[2]*n[1]*Xb.flRoot,1))/T2[2],r=n[0]*jY,i=t*Math.cos(r),s=t*Math.sin(r);return[n[2],i,s]}function zY(n,t){[n,t]=or([n,t]);let[r,i,s]=I2(Zp.from(n)),[o,a,l]=I2(Zp.from(t));return Math.sqrt((r-o)**2+(i-a)**2+(s-l)**2)}const D2={deltaE76:uY,deltaECMC:hY,deltaE2000:iN,deltaEJz:bY,deltaEITP:IY,deltaEOK:By,deltaEHCT:zY};function GY(n){const t=n?Math.floor(Math.log10(Math.abs(n))):0;return Math.max(parseFloat(`1e${t-2}`),1e-6)}const N2={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Xl(n,{method:t=Hl.gamut_mapping,space:r=void 0,deltaEMethod:i="",jnd:s=2,blackWhiteClamp:o={}}={}){if(n=or(n),J5(arguments[1])?r=arguments[1]:r||(r=n.space),r=Ft.get(r),Xu(n,r,{epsilon:0}))return n;let a;if(t==="css")a=HY(n,{space:r});else{if(t!=="clip"&&!Xu(n,r)){Object.prototype.hasOwnProperty.call(N2,t)&&({method:t,jnd:s,deltaEMethod:i,blackWhiteClamp:o}=N2[t]);let l=iN;if(i!==""){for(let h in D2)if("deltae"+i.toLowerCase()===h.toLowerCase()){l=D2[h];break}}let u=Xl(rn(n,r),{method:"clip",space:r});if(l(n,u)>s){if(Object.keys(o).length===3){let y=Ft.resolveCoord(o.channel),x=Ea(rn(n,y.space),y.id);if(Ly(x)&&(x=0),x>=o.max)return rn({space:"xyz-d65",coords:Bo.D65},n.space);if(x<=o.min)return rn({space:"xyz-d65",coords:[0,0,0]},n.space)}let h=Ft.resolveCoord(t),c=h.space,f=h.id,d=rn(n,c);d.coords.forEach((y,x)=>{Ly(y)&&(d.coords[x]=0)});let m=(h.range||h.refRange)[0],g=GY(s),v=m,S=Ea(d,f);for(;S-v>g;){let y=Jh(d);y=Xl(y,{space:r,method:"clip"}),l(d,y)-s<g?v=Ea(d,f):S=Ea(d,f),Zh(d,f,(v+S)/2)}a=rn(d,r)}else a=u}else a=rn(n,r);if(t==="clip"||!Xu(a,r,{epsilon:0})){let l=Object.values(r.coords).map(u=>u.range||[]);a.coords=a.coords.map((u,h)=>{let[c,f]=l[h];return c!==void 0&&(u=Math.max(c,u)),f!==void 0&&(u=Math.min(u,f)),u})}}return r!==n.space&&(a=rn(a,n.space)),n.coords=a.coords,n}Xl.returns="color";const F2={WHITE:{space:Wl,coords:[1,0,0]},BLACK:{space:Wl,coords:[0,0,0]}};function HY(n,{space:t}={}){n=or(n),t||(t=n.space),t=Ft.get(t);const s=Ft.get("oklch");if(t.isUnbounded)return rn(n,t);const o=rn(n,s);let a=o.coords[0];if(a>=1){const m=rn(F2.WHITE,t);return m.alpha=n.alpha,rn(m,t)}if(a<=0){const m=rn(F2.BLACK,t);return m.alpha=n.alpha,rn(m,t)}if(Xu(o,t,{epsilon:0}))return rn(o,t);function l(m){const g=rn(m,t),v=Object.values(t.coords);return g.coords=g.coords.map((S,y)=>{if("range"in v[y]){const[x,b]=v[y].range;return qq(x,S,b)}return S}),g}let u=0,h=o.coords[1],c=!0,f=Jh(o),d=l(f),p=By(d,f);if(p<.02)return d;for(;h-u>1e-4;){const m=(u+h)/2;if(f.coords[1]=m,c&&Xu(f,t,{epsilon:0}))u=m;else if(d=l(f),p=By(d,f),p<.02){if(.02-p<1e-4)break;c=!1,u=m}else h=m}return d}function rn(n,t,{inGamut:r}={}){n=or(n),t=Ft.get(t);let i=t.from(n),s={space:t,coords:i,alpha:n.alpha};return r&&(s=Xl(s,r===!0?void 0:r)),s}rn.returns="color";function WY(n,{precision:t=Hl.precision,format:r="default",inGamut:i=!0,...s}={}){let o;n=or(n);let a=r;r=n.space.getFormat(r)??n.space.getFormat("default")??Ft.DEFAULT_FORMAT;let l=n.coords.slice();if(i||=r.toGamut,i&&!Xu(n)&&(l=Xl(Jh(n),i===!0?void 0:i).coords),r.type==="custom")if(s.precision=t,r.serialize)o=r.serialize(l,n.alpha,s);else throw new TypeError(`format ${a} can only be used to parse colors, not for serialization`);else{let u=r.name||"color";r.serializeCoords?l=r.serializeCoords(l,t):t!==null&&(l=l.map(d=>Py(d,{precision:t})));let h=[...l];if(u==="color"){let d=r.id||r.ids?.[0]||n.space.id;h.unshift(d)}let c=n.alpha;t!==null&&(c=Py(c,{precision:t}));let f=n.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${c}`;o=`${u}(${h.join(r.commas?", ":" ")}${f})`}return o}const XY=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],qY=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],YY=new vg({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:XY,fromXYZ_M:qY}),KY=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],ZY=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],JY=new vg({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:KY,fromXYZ_M:ZY}),k2={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let M2=Array(3).fill("<percentage> | <number>[0, 255]"),O2=Array(3).fill("<number>[0, 255]");const pc=new vg({id:"srgb",name:"sRGB",base:JY,fromBase:n=>n.map(t=>{let r=t<0?-1:1,i=t*r;return i>.0031308?r*(1.055*i**(1/2.4)-.055):12.92*t}),toBase:n=>n.map(t=>{let r=t<0?-1:1,i=t*r;return i<=.04045?t/12.92:r*((i+.055)/1.055)**2.4}),formats:{rgb:{coords:M2},rgb_number:{name:"rgb",commas:!0,coords:O2,noAlpha:!0},color:{},rgba:{coords:M2,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:O2},hex:{type:"custom",toGamut:!0,test:n=>/^#([a-f0-9]{3,4}){1,2}$/i.test(n),parse(n){n.length<=5&&(n=n.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return n.replace(/[a-f0-9]{2}/gi,r=>{t.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(n,t,{collapse:r=!0}={})=>{t<1&&n.push(t),n=n.map(o=>Math.round(o*255));let i=r&&n.every(o=>o%17===0);return"#"+n.map(o=>i?(o/17).toString(16):o.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:n=>/^[a-z]+$/i.test(n),parse(n){n=n.toLowerCase();let t={spaceId:"srgb",coords:null,alpha:1};if(n==="transparent"?(t.coords=k2.black,t.alpha=0):t.coords=k2[n],t.coords)return t}}}}),P2=new vg({id:"p3",cssId:"display-p3",name:"P3",base:YY,fromBase:pc.fromBase,toBase:pc.toBase});function L2(n){return Ea(n,[Go,"y"])}function R2(n,t){n=or(n),t=or(t);let r=Math.max(L2(n),0),i=Math.max(L2(t),0);return i>r&&([r,i]=[i,r]),(r+.05)/(i+.05)}const QY=.56,eK=.57,tK=.62,nK=.65,B2=.022,rK=1.414,iK=.1,sK=5e-4,oK=1.14,U2=.027,aK=1.14;function V2(n){return n>=B2?n:n+(B2-n)**rK}function Su(n){let t=n<0?-1:1,r=Math.abs(n);return t*Math.pow(r,2.4)}function $2(n,t){t=or(t),n=or(n);let r,i,s,o,a,l;t=rn(t,"srgb"),[o,a,l]=t.coords;let u=Su(o)*.2126729+Su(a)*.7151522+Su(l)*.072175;n=rn(n,"srgb"),[o,a,l]=n.coords;let h=Su(o)*.2126729+Su(a)*.7151522+Su(l)*.072175,c=V2(u),f=V2(h),d=f>c;return Math.abs(f-c)<sK?i=0:d?(r=f**QY-c**eK,i=r*oK):(r=f**nK-c**tK,i=r*aK),Math.abs(i)<iK?s=0:i>0?s=i-U2:s=i+U2,s*100}function mN(n,t,r={}){if(lK(n)){let[u,h]=[n,t];return mN(...u.rangeArgs.colors,{...u.rangeArgs.options,...h})}let{space:i,outputSpace:s,progression:o,premultiplied:a}=r;n=or(n),t=or(t),n=Jh(n),t=Jh(t);let l={colors:[n,t],options:r};if(i?i=Ft.get(i):i=Ft.registry[Hl.interpolationSpace]||n.space,s=s?Ft.get(s):i,n=rn(n,i),t=rn(t,i),n=Xl(n),t=Xl(t),i.coords.h&&i.coords.h.type==="angle"){let u=r.hue=r.hue||"shorter",h=[i,"h"],[c,f]=[Ea(n,h),Ea(t,h)];isNaN(c)&&!isNaN(f)?c=f:isNaN(f)&&!isNaN(c)&&(f=c),[c,f]=nY(u,[c,f]),Zh(n,h,c),Zh(t,h,f)}return a&&(n.coords=n.coords.map(u=>u*n.alpha),t.coords=t.coords.map(u=>u*t.alpha)),Object.assign(u=>{u=o?o(u):u;let h=n.coords.map((d,p)=>{let m=t.coords[p];return Xp(d,m,u)}),c=Xp(n.alpha,t.alpha,u),f={space:i,coords:h,alpha:c};return a&&(f.coords=f.coords.map(d=>d/c)),s!==i&&(f=rn(f,s)),f},{rangeArgs:l})}function lK(n){return Wu(n)==="function"&&!!n.rangeArgs}Hl.interpolationSpace="lab";const $y=new Ft({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:pc,fromBase:n=>{let t=Math.max(...n),r=Math.min(...n),[i,s,o]=n,[a,l,u]=[NaN,0,(r+t)/2],h=t-r;if(h!==0){switch(l=u===0||u===1?0:(t-u)/Math.min(u,1-u),t){case i:a=(s-o)/h+(s<o?6:0);break;case s:a=(o-i)/h+2;break;case o:a=(i-s)/h+4}a=a*60}return l<0&&(a+=180,l=Math.abs(l)),a>=360&&(a-=360),[a,l*100,u*100]},toBase:n=>{let[t,r,i]=n;t=t%360,t<0&&(t+=360),r/=100,i/=100;function s(o){let a=(o+t/30)%12,l=r*Math.min(i,1-i);return i-l*Math.max(-1,Math.min(a-3,9-a,1))}return[s(0),s(8),s(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),uK=new Ft({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:$y,fromBase(n){let[t,r,i]=n;r/=100,i/=100;let s=i+r*Math.min(i,1-i);return[t,s===0?0:200*(1-i/s),100*s]},toBase(n){let[t,r,i]=n;r/=100,i/=100;let s=i*(1-r/2);return[t,s===0||s===1?0:(i-s)/Math.min(s,1-s)*100,s*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),j2=new Ft({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:uK,fromBase(n){let[t,r,i]=n;return[t,i*(100-r)/100,100-i]},toBase(n){let[t,r,i]=n;r/=100,i/=100;let s=r+i;if(s>=1){let l=r/s;return[t,0,l*100]}let o=1-i,a=o===0?0:1-r/o;return[t,a*100,o*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),z2=new Ft({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:Wl,fromBase(n){let[t,r,i]=n,s;const o=2e-4;return Math.abs(r)<o&&Math.abs(i)<o?s=NaN:s=Math.atan2(i,r)*180/Math.PI,[t,Math.sqrt(r**2+i**2),na(s)]},toBase(n){let[t,r,i]=n,s,o;return isNaN(i)?(s=0,o=0):(s=r*Math.cos(i*Math.PI/180),o=r*Math.sin(i*Math.PI/180)),[t,s,o]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});var G2=new Ft({id:"hsb",name:"HSB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},b:{range:[0,100],name:"Brightness"}},base:pc,fromBase:n=>{const t=Math.max(...n),r=t-Math.min(...n);let[i,s,o]=n,a,l;return r===0?(a=0,l=0):(l=r/t,i===t?a=(s-o)/r:s===t?a=2+(o-i)/r:o===t&&(a=4+(i-s)/r),a<0?a+=6:a>=6&&(a-=6)),[a/6*360,l*100,t*100]},toBase:H2,formats:{default:{type:"custom",serialize:(n,t)=>{const r=H2(n);let i=`rgb(${Math.round(r[0]*100*100)/100}% ${Math.round(r[1]*100*100)/100}% ${Math.round(r[2]*100*100)/100}%`;return t<1&&(i+=` / ${t}`),i+=")",i}},hsb:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsba:{coords:["<number> | <angle>","<percentage>","<percentage>"],commans:!0,lastAlpha:!0}}});function H2(n){const t=n[0]/360*6,r=n[1]/100,i=n[2]/100;let s=[];if(r===0)s=[i,i,i];else{const o=Math.floor(t),a=i*(1-r),l=i*(1-r*(t-o)),u=i*(1-r*(1+o-t));let h,c,f;o===1?(h=l,c=i,f=a):o===2?(h=a,c=i,f=u):o===3?(h=a,c=l,f=i):o===4?(h=u,c=a,f=i):o===5?(h=i,c=a,f=l):(h=i,c=u,f=a),s=[h,c,f]}return s}const Vn=(n,t,r,i,s,o)=>{let a=(n-t)/(r-t)*(s-i)+i;return o&&(a=Math.max(a,Math.min(i,s)),a=Math.min(a,Math.max(i,s))),a},W2={};class yt{_color;mode;static colorMap={};static#e={};static#t={};static addColorMode(t,r){Ft.register(r),yt.colorMap[t]=r.id,yt.#e[t]=Object.values(r.coords).reduce((i,s)=>(i.push(s.refRange||s.range),i),[]),yt.#e[t].push([0,1]),yt.#t[t]=r.fromGray}constructor(t,r,i,{clamp:s=!1}={}){if(this.mode=r||Wn,t instanceof yt){const o=r?yt.colorMap[r]:yt.colorMap[t.mode];this._color=rn(t._color,o),this.mode=o}else if(typeof t=="object"&&!Array.isArray(t)&&t!==null){const o=r?yt.colorMap[r]:t.spaceId;this._color=rn(t,o),this.mode=r||Object.entries(yt.colorMap).find(([a,l])=>l===this._color.spaceId)}else if(typeof t[0]=="string")try{this._color=tN(t[0]);const[o]=Object.entries(yt.colorMap).find(([a,l])=>l===this._color.spaceId);this.mode=o,this._color=rn(this._color,this._color.spaceId)}catch{throw new Error("Invalid color string")}else{let o;if(i)if(t.length===4)o=yt.mapColorRange(t,this.mode,i,s);else if(t.length===3)o=yt.mapColorRange([t[0],t[1],t[2]],this.mode,i,s),o.push(1);else if(t.length===2){yt.#t[this.mode]?o=yt.#t[this.mode](t[0],i,s):o=yt.mapColorRange([t[0],t[0],t[0]],this.mode,i,s);const h=Array.isArray(i[i.length-1])?i[i.length-1]:[0,i[i.length-1]];o.push(Vn(t[1],h[0],h[1],0,1,s))}else if(t.length===1)yt.#t[this.mode]?o=yt.#t[this.mode](t[0],i,s):o=yt.mapColorRange([t[0],t[0],t[0]],this.mode,i,s),o.push(1);else throw new Error("Invalid color");else o=t;const a=yt.colorMap[this.mode]||console.error("Invalid color mode"),l=o.slice(0,3),u={space:a,coords:l,alpha:o[3]};this._color=rn(u,a)}}static mapColorRange(t,r,i,s){const o=i.map(l=>Array.isArray(l)?l:[0,l]),a=yt.#e[r];return t.map((l,u)=>Vn(l,o[u][0],o[u][1],a[u][0],a[u][1],s))}static unmapColorRange(t,r,i){const s=i.map(a=>Array.isArray(a)?a:[0,a]),o=yt.#e[r];return t.map((a,l)=>Vn(a,o[l][0],o[l][1],s[l][0],s[l][1]))}#n(t){return new yt(this._color,t)}get _array(){return this._getRGBA()}array(){return this._array}lerp(t,r,i){let s=-1;for(;(s+1<this._color.space.path.length||s+1<t._color.space.path.length)&&this._color.space.path[s+1]===t._color.space.path[s+1];)s+=1;if(s===-1)throw new Error("Cannot lerp colors. No common color space found");const o=mN(this._color,t._color,{space:this._color.space.path[s].id})(r);return new yt(o,i||this.mode)}toString(t){const r=`${this._color.space.id}-${this._color.coords.join(",")}-${this._color.alpha}-${t}`;let i=W2[r];return i||(i=WY(this._color,{format:t}),W2[r]=i),i}contrast(t,r="WCAG21"){if(r!=="all"){let i,s;switch(r){case"WCAG21":i=R2(this._color,t._color),s=4.5;break;case"APCA":i=Math.abs($2(this._color,t._color)),s=75;break;default:return null}return i>=s}else{const i=R2(this._color,t._color),s=$2(this._color,t._color);return{WCAG21:{value:i,passedMinimum:i>=4.5,passedAAA:i>=7},APCA:{value:s,passedMinimum:Math.abs(s)>=75}}}}setRed(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=yt.#e[Wn][0],s=Vn(t,r[0],r[1],i[0],i[1]);if(this.mode===Wn||this.mode===Ti)this._color.coords[0]=s;else{const o=this._color.space.id,a=rn(this._color,"srgb");a.coords[0]=s,this._color=rn(a,o)}}setGreen(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=yt.#e[Wn][1],s=Vn(t,r[0],r[1],i[0],i[1]);if(this.mode===Wn||this.mode===Ti)this._color.coords[1]=s;else{const o=this._color.space.id,a=rn(this._color,"srgb");a.coords[1]=s,this._color=rn(a,o)}}setBlue(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=yt.#e[Wn][2],s=Vn(t,r[0],r[1],i[0],i[1]);if(this.mode===Wn||this.mode===Ti)this._color.coords[2]=s;else{const o=this._color.space.id,a=rn(this._color,"srgb");a.coords[2]=s,this._color=rn(a,o)}}setAlpha(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=yt.#e[this.mode][3],s=Vn(t,r[0],r[1],i[0],i[1]);this._color.alpha=s}_getRGBA(t=[1,1,1,1]){const r=yt.#e[Wn];let i=structuredClone(rn(this._color,"srgb").coords);i.push(this._color.alpha);const s=t.map(o=>Array.isArray(o)?o:[0,o]);return i=i.map((o,a)=>Vn(o,r[a][0],r[a][1],s[a][0],s[a][1])),i}_getMode(){return this.mode}_getRed(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Wn||this.mode===Ti){const r=yt.#e[this.mode][0];return Vn(this._color.coords[0],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Wn][0];return Vn(rn(this._color,"srgb").coords[0],r[0],r[1],t[0],t[1])}}_getGreen(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Wn||this.mode===Ti){const r=yt.#e[this.mode][1];return Vn(this._color.coords[1],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Wn][1];return Vn(rn(this._color,"srgb").coords[1],r[0],r[1],t[0],t[1])}}_getBlue(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Wn||this.mode===Ti){const r=yt.#e[this.mode][2];return Vn(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Wn][2];return Vn(rn(this._color,"srgb").coords[2],r[0],r[1],t[0],t[1])}}_getAlpha(t=[0,1]){Array.isArray(t)||(t=[0,t]);const r=yt.#e[this.mode][3];return Vn(this._color.alpha,r[0],r[1],t[0],t[1])}_getHue(t=[0,360]){if(Array.isArray(t)||(t=[0,t]),this.mode===Di||this.mode===Zr){const r=yt.#e[this.mode][0];return Vn(this._color.coords[0],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Zr][0];return Vn(rn(this._color,"hsl").coords[0],r[0],r[1],t[0],t[1])}}_getSaturation(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Di||this.mode===Zr){const r=yt.#e[this.mode][1];return Vn(this._color.coords[1],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Zr][1];return Vn(rn(this._color,"hsl").coords[1],r[0],r[1],t[0],t[1])}}_getBrightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Di){const r=yt.#e[this.mode][2];return Vn(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Di][2];return Vn(rn(this._color,"hsb").coords[2],r[0],r[1],t[0],t[1])}}_getLightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Zr){const r=yt.#e[this.mode][2];return Vn(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Zr][2];return Vn(rn(this._color,"hsl").coords[2],r[0],r[1],t[0],t[1])}}}function gN(n,t,r){n.Color=yt,pc.fromGray=P2.fromGray=function(i,s,o){const a=s.map(u=>Array.isArray(u)?u:[0,u]),l=Vn(i,a[2][0],a[2][1],0,1,o);return[l,l,l]},G2.fromGray=$y.fromGray=function(i,s,o){const a=s.map(u=>Array.isArray(u)?u:[0,u]);return[0,0,Vn(i,a[2][0],a[2][1],0,100,o)]},j2.fromGray=function(i,s,o){const a=s.map(f=>Array.isArray(f)?f:[0,f]),l=Math.abs(a[1][0]-a[1][1])/2+Math.abs(a[2][0]-a[2][1])/2,u=Vn(i,0,l,0,100);let h,c;return u<50?(c=u,h=100-u):u>=50&&(h=u,c=100-u),[0,h,c]},Gs.fromGray=dc.fromGray=Wl.fromGray=z2.fromGray=function(i,s,o){const a=s.map(u=>Array.isArray(u)?u:[0,u]);return[Vn(i,a[0][0],a[0][1],0,100,o),0,0]},n.Color.addColorMode(Wn,pc),n.Color.addColorMode(Ti,P2),n.Color.addColorMode(Di,G2),n.Color.addColorMode(Zr,$y),n.Color.addColorMode(qu,j2),n.Color.addColorMode(Qh,Gs),n.Color.addColorMode(Fl,dc),n.Color.addColorMode(ef,Wl),n.Color.addColorMode(kl,z2),r.presetup=function(){const i=this,s=["Red","Green","Blue","Alpha"];for(let a in s){const l=s[a],u=n.Color.prototype["set"+l];n.Color.prototype["set"+l]=function(h,c){return c=c||i?._renderer?.states?.colorMaxes?.[Wn][a],u.call(this,h,c)}}function o(a,l){const u=n.Color.prototype["_get"+a];n.Color.prototype["_get"+a]=function(h){if(Object.keys(l).includes(this.mode))h=h||i?._renderer?.states?.colorMaxes?.[this.mode][l[this.mode]];else{const c=Object.keys(l)[0];h=h||i?._renderer?.states?.colorMaxes?.[c][l[c]]}return u.call(this,h)}}o("Red",{[Wn]:0,[Ti]:0}),o("Green",{[Wn]:1,[Ti]:1}),o("Blue",{[Wn]:2,[Ti]:2}),o("Alpha",{[Wn]:3,[Ti]:3,[Di]:3,[Zr]:3,[qu]:3,[Qh]:3,[Fl]:3,[ef]:3,[kl]:3}),o("Hue",{[Zr]:0,[Di]:0,[qu]:0,[Fl]:2,[kl]:2}),o("Saturation",{[Zr]:1,[Di]:1}),o("Brightness",{[Di]:2}),o("Lightness",{[Zr]:2})}}typeof p5<"u"&&gN(p5,p5.prototype);const Wn="rgb",Ti="rgbhdr",Di="hsb",Zr="hsl",qu="hwb",Qh="lab",Fl="lch",ef="oklab",kl="oklch",sp="rgba";function qb(n,t){t.RGB=Wn,t.RGBHDR=Ti,t.HSB=Di,t.HSL=Zr,t.HWB=qu,t.LAB=Qh,t.LCH=Fl,t.OKLAB=ef,t.OKLCH=kl,t.RGBA=sp,n.Renderer.states.colorMode=Wn,n.Renderer.states.colorMaxes={[Wn]:[255,255,255,255],[Ti]:[255,255,255,255],[Di]:[360,100,100,1],[Zr]:[360,100,100,1],[qu]:[360,100,100,1],[Qh]:[100,[-125,125],[-125,125],1],[Fl]:[100,150,360,1],[ef]:[100,[-125,125],[-125,125],1],[kl]:[100,150,360,1],clone:function(){const r={...this};for(const i in r)r[i]instanceof Array&&(r[i]=[...r[i]]);return r}},t.color=function(...r){if(r[0]instanceof yt)return r[0];const i=Array.isArray(r[0])?r[0]:r;return new yt(i,this._renderer.states.colorMode,this._renderer.states.colorMaxes[this._renderer.states.colorMode],{clamp:!0})},t.red=function(r){return this.color(r)._getRed()},t.green=function(r){return this.color(r)._getGreen()},t.blue=function(r){return this.color(r)._getBlue()},t.alpha=function(r){return this.color(r)._getAlpha()},t.hue=function(r){let i=Zr,s=0;return this._renderer.states.colorMode===Di||this._renderer.states.colorMode===Zr?i=this._renderer.states.colorMode:(this._renderer.states.colorMode===Fl||this._renderer.states.colorMode===kl)&&(i=this._renderer.states.colorMode,s=2),this.color(r)._getHue(this._renderer.states.colorMaxes[i][s])},t.saturation=function(r){const i=this._renderer.states.colorMode===Di?Di:Zr;return this.color(r)._getSaturation(this._renderer.states.colorMaxes[i][1])},t.brightness=function(r){return this.color(r)._getBrightness(this._renderer.states.colorMaxes.hsb[2])},t.lightness=function(r){return this.color(r)._getLightness(this._renderer.states.colorMaxes.hsl[2])},t.lerpColor=function(r,i,s){return r.lerp(i,s,this._renderer.states.colorMode)},t.paletteLerp=function(r,i){const s=r[0];if(i<s[1])return this.color(s[0]);for(let o=1;o<r.length;o++){const a=r[o];if(i<a[1]){const l=r[o-1];return this.lerpColor(this.color(l[0]),this.color(a[0]),(i-l[1])/(a[1]-l[1]))}}return this.color(r[r.length-1][0])}}typeof p5<"u"&&qb(p5,p5.prototype);class Sa{constructor(t){if(t)this.DOM=t;else{const r=document.implementation.createDocument(null,"doc");this.DOM=r.createElement("root")}}getParent(){return new Sa(this.DOM.parentElement)}getName(){return this.DOM.tagName}setName(t){const r=this.DOM.innerHTML,i=this.DOM.attributes,o=document.implementation.createDocument(null,"default").createElement(t);o.innerHTML=r;for(let a=0;a<i.length;a++)o.setAttribute(i[a].nodeName,i[a].nodeValue);this.DOM=o}hasChildren(){return this.DOM.children.length>0}listChildren(){const t=[];for(let r=0;r<this.DOM.childNodes.length;r++)t.push(this.DOM.childNodes[r].nodeName);return t}getChildren(t){return X2(t?this.DOM.getElementsByTagName(t):this.DOM.children)}getChild(t){if(typeof t=="string"){for(const r of this.DOM.children)if(r.tagName===t)return new Sa(r)}else return new Sa(this.DOM.children[t])}addChild(t){t instanceof Sa&&this.DOM.appendChild(t.DOM)}removeChild(t){let r=-1;if(typeof t=="string"){for(let i=0;i<this.DOM.children.length;i++)if(this.DOM.children[i].tagName===t){r=i;break}}else r=t;r!==-1&&this.DOM.removeChild(this.DOM.children[r])}getAttributeCount(){return this.DOM.attributes.length}listAttributes(){const t=[];for(const r of this.DOM.attributes)t.push(r.nodeName);return t}hasAttribute(t){const r={};for(const i of this.DOM.attributes)r[i.nodeName]=i.nodeValue;return!!r[t]}getNum(t,r){const i={};for(const s of this.DOM.attributes)i[s.nodeName]=s.nodeValue;return Number(i[t])||r||0}getString(t,r){const i={};for(const s of this.DOM.attributes)i[s.nodeName]=s.nodeValue;return i[t]?String(i[t]):r||null}setAttribute(t,r){this.DOM.setAttribute(t,r)}getContent(t){let r;return r=this.DOM.textContent,r=r.replace(/\s\s+/g,","),r||t||null}setContent(t){this.DOM.children.length||(this.DOM.textContent=t)}serialize(){return new XMLSerializer().serializeToString(this.DOM)}}function X2(n){const t=[];for(let r=0;r<n.length;r++)t.push(new Sa(n[r]));return t}function vN(n,t){n.XML=Sa}typeof p5<"u"&&vN(p5,p5.prototype);class Ca{constructor(t,r){this.file=t,this._pInst=r;const i=t.type.split("/");this.type=i[0],this.subtype=i[1],this.name=t.name,this.size=t.size,this.data=void 0}static _createLoader(t,r){const i=new FileReader;return i.onload=function(s){const o=new Ca(t);if(o.file.type==="application/json")o.data=JSON.parse(s.target.result);else if(o.file.type==="text/xml"){const l=new DOMParser().parseFromString(s.target.result,"text/xml");o.data=new Sa(l.documentElement)}else o.data=s.target.result;r(o)},i}static _load(t,r){if(/^text\//.test(t.type)||t.type==="application/json")Ca._createLoader(t,r).readAsText(t);else if(!/^(video|audio)\//.test(t.type))Ca._createLoader(t,r).readAsDataURL(t);else{const i=new Ca(t);i.data=URL.createObjectURL(t),r(i)}}}function yN(n,t){n.File=Ca}typeof p5<"u"&&yN(p5,p5.prototype);let Lr=class Or{width;height;elt;constructor(t,r){this.elt=t,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}remove(){if(this.stop){this.stop();const r=this.elt.srcObject;r!==null&&r.getTracks().forEach(s=>{s.stop()})}let t=this._pInst;if(t&&!t._elements&&t._pInst&&(t=t._pInst),t&&t._elements){const r=t._elements.indexOf(this);r!==-1&&t._elements.splice(r,1)}for(let r in this._events)this.elt.removeEventListener(r,this._events[r]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)}parent(t){return typeof t>"u"?this.elt.parentNode:(typeof t=="string"?(t[0]==="#"&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof Or&&(t=t.elt),t.appendChild(this.elt),this)}child(t){return typeof t>"u"?this.elt.childNodes:(typeof t=="string"?(t[0]==="#"&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof Or&&(t=t.elt),t instanceof HTMLElement&&this.elt.appendChild(t),this)}html(...t){return t.length===0?this.elt.innerHTML:t[1]?(this.elt.insertAdjacentHTML("beforeend",t[0]),this):(this.elt.innerHTML=t[0],this)}id(t){return typeof t>"u"?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}class(t){return typeof t>"u"?this.elt.className:(this.elt.className=t,this)}addClass(t){return this.elt.className?this.hasClass(t)||(this.elt.className=this.elt.className+" "+t):this.elt.className=t,this}removeClass(t){return this.elt.classList.remove(t),this}hasClass(t){return this.elt.classList.contains(t)}toggleClass(t){return this.elt.classList.contains(t)?this.elt.classList.remove(t):this.elt.classList.add(t),this}center(t){const r=this.elt.style.display,i=this.elt.style.display==="none",s=this.parent().style.display==="none",o={x:this.elt.offsetLeft,y:this.elt.offsetTop};i&&this.show(),s&&this.parent().show(),this.elt.style.display="block",this.position(0,0);const a=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),l=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return t==="both"||t===void 0?this.position(a/2+this.parent().offsetLeft,l/2+this.parent().offsetTop):t==="horizontal"?this.position(a/2+this.parent().offsetLeft,o.y):t==="vertical"&&this.position(o.x,l/2+this.parent().offsetTop),this.style("display",r),i&&this.hide(),s&&this.parent().hide(),this}position(...t){if(t.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};{let r="absolute";return(t[2]==="static"||t[2]==="fixed"||t[2]==="relative"||t[2]==="sticky"||t[2]==="initial"||t[2]==="inherit")&&(r=t[2]),this.elt.style.position=r,this.elt.style.left=t[0]+"px",this.elt.style.top=t[1]+"px",this.x=t[0],this.y=t[1],this}}show(){return this.elt.style.display="block",this}hide(){return this.elt.style.display="none",this}size(t,r){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};{let i=t,s=r;const o=B5;if(i!==o||s!==o){if(i===o?i=r*this.width/this.height:s===o&&(s=t*this.height/this.width),this.elt instanceof HTMLCanvasElement){const a={},l=this.elt.getContext("2d");let u;for(u in l)a[u]=l[u];this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",s*this._pInst._pixelDensity),this.elt.style.width=i+"px",this.elt.style.height=s+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity);for(u in a)this.elt.getContext("2d")[u]=a[u]}else this.elt.style.width=i+"px",this.elt.style.height=s+"px",this.elt.width=i,this.elt.height=s;this.width=i,this.height=s,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst.width=i,this._pInst.height=s)}return this}}style(t,r){const i=this;if(r instanceof yt&&(r=r.toString()),typeof r>"u"){if(t.indexOf(":")===-1)return window.getComputedStyle(i.elt).getPropertyValue(t);{const s=t.split(";");for(let o=0;o<s.length;o++){const a=s[o].split(":");a[0]&&a[1]&&(this.elt.style[a[0].trim()]=a[1].trim())}}}else if(this.elt.style[t]=r,t==="width"||t==="height"||t==="left"||t==="top"){let a=window.getComputedStyle(i.elt).getPropertyValue(t).replace(/[^\d.]/g,"");this[t]=Math.round(parseFloat(a,10))}return this}_translate(...t){this.elt.style.position="absolute";let r="";return this.elt.style.transform&&(r=this.elt.style.transform.replace(/translate3d\(.*\)/g,""),r=r.replace(/translate[X-Z]?\(.*\)/g,"")),t.length===2?this.elt.style.transform="translate("+t[0]+"px, "+t[1]+"px)":t.length>2&&(this.elt.style.transform="translate3d("+t[0]+"px,"+t[1]+"px,"+t[2]+"px)",t.length===3?this.elt.parentElement.style.perspective="1000px":this.elt.parentElement.style.perspective=t[3]+"px"),this.elt.style.transform+=r,this}_rotate(...t){let r="";return this.elt.style.transform&&(r=this.elt.style.transform.replace(/rotate3d\(.*\)/g,""),r=r.replace(/rotate[X-Z]?\(.*\)/g,"")),t.length===1?this.elt.style.transform="rotate("+t[0]+"deg)":t.length===2?this.elt.style.transform="rotate("+t[0]+"deg, "+t[1]+"deg)":t.length===3&&(this.elt.style.transform="rotateX("+t[0]+"deg)",this.elt.style.transform+="rotateY("+t[1]+"deg)",this.elt.style.transform+="rotateZ("+t[2]+"deg)"),this.elt.style.transform+=r,this}attribute(t,r){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio")){if(typeof r>"u")return this.elt.firstChild.getAttribute(t);for(let i=0;i<this.elt.childNodes.length;i++)this.elt.childNodes[i].setAttribute(t,r)}else return typeof r>"u"?this.elt.getAttribute(t):(this.elt.setAttribute(t,r),this)}removeAttribute(t){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(let r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].removeAttribute(t);return this.elt.removeAttribute(t),this}value(...t){return t.length>0?(this.elt.value=t[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value}mousePressed(t){const r=function(i){return this._pInst.mouseIsPressed=!0,this._pInst._activePointers.set(i.pointerId,i),this._pInst._setMouseButton(i),this._pInst._updatePointerCoords(i),t.call(this,i)};return Or._adjustListener("pointerdown",r,this),this}doubleClicked(t){return Or._adjustListener("dblclick",t,this),this}mouseWheel(t){return Or._adjustListener("wheel",t,this),this}mouseReleased(t){return Or._adjustListener("pointerup",t,this),this}mouseClicked(t){return Or._adjustListener("click",t,this),this}mouseMoved(t){return Or._adjustListener("pointermove",t,this),this}mouseOver(t){return Or._adjustListener("pointerover",t,this),this}mouseOut(t){return Or._adjustListener("pointerout",t,this),this}dragOver(t){return Or._adjustListener("dragover",t,this),this}dragLeave(t){return Or._adjustListener("dragleave",t,this),this}changed(t){return Or._adjustListener("change",t,this),this}input(t){return Or._adjustListener("input",t,this),this}drop(t,r){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;const i=function(s){s.preventDefault()};this.elt.addEventListener("dragover",i),this.elt.addEventListener("dragleave",i)}Or._attachListener("drop",function(i){i.preventDefault(),typeof r=="function"&&r.call(this,i);const s=i.dataTransfer.files;for(const o of s)Ca._load(o,t)},this)}else console.log("The File APIs are not fully supported in this browser.");return this}draggable(t){let r="ontouchstart"in window,i=0,s=0,o=0,a=0,l,u=r?"touchstart":"mousedown",h=r?"touchend":"mouseup",c=r?"touchmove":"mousemove";t===void 0?(t=this.elt,l=t):t!==this.elt&&t.elt!==this.elt&&(t=t.elt,l=this.elt),l.addEventListener(u,f,!1),l.style.cursor="move";function f(m){if(m=m||window.event,r){const g=m.changedTouches;o=parseInt(g[0].clientX),a=parseInt(g[0].clientY)}else o=parseInt(m.clientX),a=parseInt(m.clientY);return document.addEventListener(h,p,!1),document.addEventListener(c,d,!1),!1}function d(m){if(m=m||window.event,r){const g=m.changedTouches;i=o-parseInt(g[0].clientX),s=a-parseInt(g[0].clientY),o=parseInt(g[0].clientX),a=parseInt(g[0].clientY)}else i=o-parseInt(m.clientX),s=a-parseInt(m.clientY),o=parseInt(m.clientX),a=parseInt(m.clientY);t.style.left=t.offsetLeft-i+"px",t.style.top=t.offsetTop-s+"px"}function p(){document.removeEventListener(h,p,!1),document.removeEventListener(c,d,!1)}return this}static _adjustListener(t,r,i){return r===!1?Or._detachListener(t,i):Or._attachListener(t,r,i),this}static _attachListener(t,r,i){i._events[t]&&Or._detachListener(t,i);const s=r.bind(i);i.elt.addEventListener(t,s,{capture:!1,signal:i._pInst._removeSignal}),i._events[t]=s}static _detachListener(t,r){const i=r._events[t];r.elt.removeEventListener(t,i,!1),r._events[t]=null}};function bN(n,t){n.Element=Lr}typeof p5<"u"&&bN(p5,p5.prototype);const Cn={_toPixels(n){if(n instanceof ImageData)return n.data;if(n.getContext("2d"))return n.getContext("2d").getImageData(0,0,n.width,n.height).data;if(n.getContext("webgl")){const t=n.getContext("webgl"),r=t.drawingBufferWidth*t.drawingBufferHeight*4,i=new Uint8Array(r);return t.readPixels(0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,i),i}},_getARGB(n,t){const r=t*4;return n[r+3]<<24&4278190080|n[r]<<16&16711680|n[r+1]<<8&65280|n[r+2]&255},_setPixels(n,t){let r=0;for(let i=0,s=n.length;i<s;i++)r=i*4,n[r+0]=(t[i]&16711680)>>>16,n[r+1]=(t[i]&65280)>>>8,n[r+2]=t[i]&255,n[r+3]=(t[i]&4278190080)>>>24},_toImageData(n){return n instanceof ImageData?n:n.getContext("2d").getImageData(0,0,n.width,n.height)},_createImageData(n,t){return Cn._tmpCanvas=document.createElement("canvas"),Cn._tmpCtx=Cn._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(n,t)},apply(n,t,r){const i=n.getContext("2d"),s=i.getImageData(0,0,n.width,n.height),o=t(s,r);o instanceof ImageData?i.putImageData(o,0,0,0,0,n.width,n.height):i.putImageData(s,0,0,0,0,n.width,n.height)},threshold(n,t=.5){const r=Cn._toPixels(n),i=Math.floor(t*255);for(let s=0;s<r.length;s+=4){const o=r[s],a=r[s+1],l=r[s+2],u=.2126*o+.7152*a+.0722*l;let h;u>=i?h=255:h=0,r[s]=r[s+1]=r[s+2]=h}},gray(n){const t=Cn._toPixels(n);for(let r=0;r<t.length;r+=4){const i=t[r],s=t[r+1],o=t[r+2],a=.2126*i+.7152*s+.0722*o;t[r]=t[r+1]=t[r+2]=a}},opaque(n){const t=Cn._toPixels(n);for(let r=0;r<t.length;r+=4)t[r+3]=255;return t},invert(n){const t=Cn._toPixels(n);for(let r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},posterize(n,t=4){const r=Cn._toPixels(n);if(t<2||t>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");const i=t-1;for(let s=0;s<r.length;s+=4){const o=r[s],a=r[s+1],l=r[s+2];r[s]=(o*t>>8)*255/i,r[s+1]=(a*t>>8)*255/i,r[s+2]=(l*t>>8)*255/i}},dilate(n){const t=Cn._toPixels(n);let r=0;const i=t.length?t.length/4:0,s=new Int32Array(i);let o,a,l,u,h,c,f,d,p,m,g,v,S,y,x,b,w;for(;r<i;)for(o=r,a=r+n.width;r<a;)l=u=Cn._getARGB(t,r),f=r-1,c=r+1,d=r-n.width,p=r+n.width,f<o&&(f=r),c>=a&&(c=r),d<0&&(d=0),p>=i&&(p=r),v=Cn._getARGB(t,d),g=Cn._getARGB(t,f),S=Cn._getARGB(t,p),m=Cn._getARGB(t,c),h=77*(l>>16&255)+151*(l>>8&255)+28*(l&255),x=77*(g>>16&255)+151*(g>>8&255)+28*(g&255),y=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),b=77*(v>>16&255)+151*(v>>8&255)+28*(v&255),w=77*(S>>16&255)+151*(S>>8&255)+28*(S&255),x>h&&(u=g,h=x),y>h&&(u=m,h=y),b>h&&(u=v,h=b),w>h&&(u=S,h=w),s[r++]=u;Cn._setPixels(t,s)},erode(n){const t=Cn._toPixels(n);let r=0;const i=t.length?t.length/4:0,s=new Int32Array(i);let o,a,l,u,h,c,f,d,p,m,g,v,S,y,x,b,w;for(;r<i;)for(o=r,a=r+n.width;r<a;)l=u=Cn._getARGB(t,r),f=r-1,c=r+1,d=r-n.width,p=r+n.width,f<o&&(f=r),c>=a&&(c=r),d<0&&(d=0),p>=i&&(p=r),v=Cn._getARGB(t,d),g=Cn._getARGB(t,f),S=Cn._getARGB(t,p),m=Cn._getARGB(t,c),h=77*(l>>16&255)+151*(l>>8&255)+28*(l&255),x=77*(g>>16&255)+151*(g>>8&255)+28*(g&255),y=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),b=77*(v>>16&255)+151*(v>>8&255)+28*(v&255),w=77*(S>>16&255)+151*(S>>8&255)+28*(S&255),x<h&&(u=g,h=x),y<h&&(u=m,h=y),b<h&&(u=v,h=b),w<h&&(u=S,h=w),s[r++]=u;Cn._setPixels(t,s)},blur(n,t){hK(n,t)}};let _h,Lu,Ru,dl;function cK(n){let t=n*3.5|0;if(t=t<1?1:t<248?t:248,_h!==t){_h=t,Lu=1+_h<<1,Ru=new Int32Array(Lu),dl=new Array(Lu);for(let a=0;a<Lu;a++)dl[a]=new Int32Array(256);let r,i,s,o;for(let a=1,l=t-1;a<t;a++){Ru[t+a]=Ru[l]=i=l*l,s=dl[t+a],o=dl[l--];for(let u=0;u<256;u++)s[u]=o[u]=i*u}r=Ru[t]=t*t,s=dl[t];for(let a=0;a<256;a++)s[a]=r*a}}function hK(n,t){const r=Cn._toPixels(n),i=n.width,s=n.height,o=i*s,a=new Int32Array(o);for(let F=0;F<o;F++)a[F]=Cn._getARGB(r,F);let l,u,h,c,f,d,p,m,g,v;const S=new Int32Array(o),y=new Int32Array(o),x=new Int32Array(o),b=new Int32Array(o);let w=0;cK(t);let E,_,T,C;for(_=0;_<s;_++){for(E=0;E<i;E++){if(c=h=u=f=l=0,d=E-_h,d<0)v=-d,d=0;else{if(d>=i)break;v=0}for(T=v;T<Lu&&!(d>=i);T++){const F=a[d+w];C=dl[T],f+=C[(F&-16777216)>>>24],u+=C[(F&16711680)>>16],h+=C[(F&65280)>>8],c+=C[F&255],l+=Ru[T],d++}p=w+E,S[p]=f/l,y[p]=u/l,x[p]=h/l,b[p]=c/l}w+=i}for(w=0,m=-_h,g=m*i,_=0;_<s;_++){for(E=0;E<i;E++){if(c=h=u=f=l=0,m<0)v=p=-m,d=E;else{if(m>=s)break;v=0,p=m,d=E+g}for(T=v;T<Lu&&!(p>=s);T++)C=dl[T],f+=C[S[d]],u+=C[y[d]],h+=C[x[d]],c+=C[b[d]],l+=Ru[T],p++,d+=i;a[E+w]=f/l<<24|u/l<<16|h/l<<8|c/l}w+=i,g+=i,m++}Cn._setPixels(r,a)}const q2=function(n,t){return n!==0&&(this.x=this.x%n),t!==0&&(this.y=this.y%t),this},Y0=function(n,t,r){return n!==0&&(this.x=this.x%n),t!==0&&(this.y=this.y%t),r!==0&&(this.z=this.z%r),this};class Ne{constructor(...t){let r=t;typeof t[0]=="function"&&(this.isPInst=!0,this._fromRadians=t[0],this._toRadians=t[1],r=t.slice(2));let i=r.length;i===0?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=i,this._values=r)}get values(){return this._values}set values(t){let r=t.length;r===0?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=r,this._values=t.slice())}get x(){return this._values[0]||0}getValue(t){if(t<this._values.length)return this._values[t];p5._friendlyError("The index parameter is trying to set a value outside the bounds of the vector","p5.Vector.setValue")}setValue(t,r){t<this._values.length?this._values[t]=r:p5._friendlyError("The index parameter is trying to set a value outside the bounds of the vector","p5.Vector.setValue")}get y(){return this._values[1]||0}get z(){return this._values[2]||0}get w(){return this._values[3]||0}set x(t){this._values.length>1&&(this._values[0]=t)}set y(t){this._values.length>1&&(this._values[1]=t)}set z(t){this._values.length>2&&(this._values[2]=t)}set w(t){this._values.length>3&&(this._values[3]=t)}toString(){return`vector[${this._values.join(", ")}]`}set(...t){return t[0]instanceof Ne?this._values=t[0].values.slice():Array.isArray(t[0])?this._values=t[0].map(r=>r||0):this._values=t.map(r=>r||0),this.dimensions=this._values.length,this}copy(){return this.isPInst?new Ne(this._fromRadians,this._toRadians,...this._values):new Ne(...this._values)}add(...t){return t[0]instanceof Ne?t=t[0].values:Array.isArray(t[0])&&(t=t[0]),t.forEach((r,i)=>{this._values[i]=(this._values[i]||0)+(r||0)}),this}rem(t,r,i){if(t instanceof Ne){if([t.x,t.y,t.z].every(Number.isFinite)){const s=parseFloat(t.x),o=parseFloat(t.y),a=parseFloat(t.z);return Y0.call(this,s,o,a)}}else if(Array.isArray(t)){if(t.every(s=>Number.isFinite(s))){if(t.length===2)return q2.call(this,t[0],t[1]);if(t.length===3)return Y0.call(this,t[0],t[1],t[2])}}else if(arguments.length===1){if(Number.isFinite(arguments[0])&&arguments[0]!==0)return this.x=this.x%arguments[0],this.y=this.y%arguments[0],this.z=this.z%arguments[0],this}else if(arguments.length===2){const s=[...arguments];if(s.every(o=>Number.isFinite(o))&&s.length===2)return q2.call(this,s[0],s[1])}else if(arguments.length===3){const s=[...arguments];if(s.every(o=>Number.isFinite(o))&&s.length===3)return Y0.call(this,s[0],s[1],s[2])}}sub(...t){return t[0]instanceof Ne?t[0].values.forEach((r,i)=>{this._values[i]-=r||0}):Array.isArray(t[0])?t[0].forEach((r,i)=>{this._values[i]-=r||0}):t.forEach((r,i)=>{this._values[i]-=r||0}),this}mult(...t){if(t.length===1&&t[0]instanceof Ne){const r=t[0],i=Math.min(this._values.length,r.values.length);for(let s=0;s<i;s++)if(Number.isFinite(r.values[s])&&typeof r.values[s]=="number")this._values[s]*=r.values[s];else return console.warn("p5.Vector.prototype.mult:","v contains components that are either undefined or not finite numbers"),this}else if(t.length===1&&Array.isArray(t[0])){const r=t[0],i=Math.min(this._values.length,r.length);for(let s=0;s<i;s++)if(Number.isFinite(r[s])&&typeof r[s]=="number")this._values[s]*=r[s];else return console.warn("p5.Vector.prototype.mult:","arr contains elements that are either undefined or not finite numbers"),this}else if(t.length===1&&typeof t[0]=="number"&&Number.isFinite(t[0]))for(let r=0;r<this._values.length;r++)this._values[r]*=t[0];return this}div(...t){if(t.length===0)return this;if(t.length===1&&t[0]instanceof Ne){const r=t[0];if(r._values.every(i=>Number.isFinite(i)&&typeof i=="number")){if(r._values.some(i=>i===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((i,s)=>i/r._values[s])}else console.warn("p5.Vector.prototype.div:","vector contains components that are either undefined or not finite numbers");return this}if(t.length===1&&Array.isArray(t[0])){const r=t[0];if(r.every(i=>Number.isFinite(i)&&typeof i=="number")){if(r.some(i=>i===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((i,s)=>i/r[s])}else console.warn("p5.Vector.prototype.div:","array contains components that are either undefined or not finite numbers");return this}if(t.every(r=>Number.isFinite(r)&&typeof r=="number")){if(t.some(r=>r===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((r,i)=>r/t[0])}else console.warn("p5.Vector.prototype.div:","arguments contain components that are either undefined or not finite numbers");return this}mag(){return Math.sqrt(this.magSq())}magSq(){return this._values.reduce((t,r)=>t+r*r,0)}dot(...t){return t[0]instanceof Ne?this.dot(...t[0]._values):this._values.reduce((r,i,s)=>r+i*(t[s]||0),0)}cross(t){const r=this.y*t.z-this.z*t.y,i=this.z*t.x-this.x*t.z,s=this.x*t.y-this.y*t.x;return this.isPInst?new Ne(this._fromRadians,this._toRadians,r,i,s):new Ne(r,i,s)}dist(t){return t.copy().sub(this).mag()}normalize(){const t=this.mag();return t!==0&&this.mult(1/t),this}limit(t){const r=this.magSq();return r>t*t&&this.div(Math.sqrt(r)).mult(t),this}setMag(t){return this.normalize().mult(t)}heading(){const t=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(t):t}setHeading(t){this.isPInst&&(t=this._toRadians(t));let r=this.mag();return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this}rotate(t){let r=this.heading()+t;this.isPInst&&(r=this._toRadians(r));const i=this.mag();return this.x=Math.cos(r)*i,this.y=Math.sin(r)*i,this}angleBetween(t){if(this.magSq()*t.magSq()===0)return NaN;const i=this.cross(t);let s=Math.atan2(i.mag(),this.dot(t))*Math.sign(i.z||1);return this.isPInst&&(s=this._fromRadians(s)),s}lerp(t,r,i,s){return t instanceof Ne?this.lerp(t.x,t.y,t.z,r):(this.x+=(t-this.x)*s||0,this.y+=(r-this.y)*s||0,this.z+=(i-this.z)*s||0,this)}slerp(t,r){if(r===0)return this;if(r===1)return this.set(t);const i=this.mag(),s=t.mag();if(i*s===0)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;const a=this.cross(t),l=a.mag(),u=Math.atan2(l,this.dot(t));if(l>0)a.x/=l,a.y/=l,a.z/=l;else{if(u<Math.PI*.5)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;this.z===0&&t.z===0?a.set(0,0,1):this.x!==0?a.set(this.y,-this.x,0).normalize():a.set(1,0,0)}const h=a.cross(this),c=1-r+r*s/i,f=c*Math.cos(r*u),d=c*Math.sin(r*u);return this.x=this.x*f+h.x*d,this.y=this.y*f+h.y*d,this.z=this.z*f+h.z*d,this}reflect(t){const r=Ne.normalize(t);return this.sub(r.mult(2*this.dot(r)))}array(){return[this.x||0,this.y||0,this.z||0]}equals(...t){let r;t[0]instanceof Ne?r=t[0]._values:Array.isArray(t[0])?r=t[0]:r=t;for(let i=0;i<this._values.length;i++)if(this._values[i]!==(r[i]||0))return!1;return!0}clampToZero(){for(let t=0;t<this._values.length;t++)this._values[t]=this._clampToZero(this._values[t]);return this}_clampToZero(t){return Math.abs((t||0)-0)<=Number.EPSILON?0:t}static fromAngle(t,r){return typeof r>"u"&&(r=1),new Ne(r*Math.cos(t),r*Math.sin(t))}static fromAngles(t,r,i){typeof i>"u"&&(i=1);const s=Math.cos(r),o=Math.sin(r),a=Math.cos(t),l=Math.sin(t);return new Ne(i*l*o,-i*a,i*l*s)}static random2D(){return this.fromAngle(Math.random()*Si)}static random3D(){const t=Math.random()*Si,r=Math.random()*2-1,i=Math.sqrt(1-r*r),s=i*Math.cos(t),o=i*Math.sin(t);return new Ne(s,o,r)}static copy(t){return t.copy(t)}static add(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),i.add(r),i}static rem(t,r){if(t instanceof Ne&&r instanceof Ne){let i=t.copy();return i.rem(r),i}}static sub(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),i.sub(r),i}static mult(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),i.mult(r),i}static rotate(t,r,i){return arguments.length===2?i=t.copy():(i instanceof Ne||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),i.set(t)),i.rotate(r),i}static div(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),i.div(r),i}static dot(t,r){return t.dot(r)}static cross(t,r){return t.cross(r)}static dist(t,r){return t.dist(r)}static lerp(t,r,i,s){return s?s.set(t):(s=t.copy(),arguments.length===4&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),s.lerp(r,i),s}static slerp(t,r,i,s){return s?s.set(t):(s=t.copy(),arguments.length===4&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),s.slerp(r,i),s}static mag(t){return t.mag()}static magSq(t){return t.magSq()}static normalize(t,r){return arguments.length<2?r=t.copy():(r instanceof Ne||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),r.set(t)),r.normalize()}static limit(t,r,i){return arguments.length<3?i=t.copy():(i instanceof Ne||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),i.set(t)),i.limit(r)}static setMag(t,r,i){return arguments.length<3?i=t.copy():(i instanceof Ne||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),i.set(t)),i.setMag(r)}static heading(t){return t.heading()}static angleBetween(t,r){return t.angleBetween(r)}static reflect(t,r,i){return arguments.length<3?i=t.copy():(i instanceof Ne||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),i.set(t)),i.reflect(r)}static array(t){return t.array()}static equals(t,r){let i;return t instanceof Ne?i=t:t instanceof Array?i=new Ne().set(t):p5._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),i.equals(r)}}function xN(n,t){n.Vector=Ne}typeof p5<"u"&&xN(p5,p5.prototype);function _N(n){let t=0;for(let r=1;r<n.length;r++)t+=n[r-1].position.dist(n[r].position);return t}class wN{constructor(t){for(const[r,i]of Object.entries(t))this[r]=i}}class Ns{vertices;_shape=null;_primitivesIndex=null;_contoursIndex=null;isClosing=!1;constructor(...t){if(this.constructor===Ns)throw new Error("ShapePrimitive is an abstract class: it cannot be instantiated.");if(t.length>0)this.vertices=t;else throw new Error("At least one vertex must be passed to the constructor.")}get vertexCount(){return this.vertices.length}get vertexCapacity(){throw new Error("Getter vertexCapacity must be implemented.")}get _firstInterpolatedVertex(){return this.startVertex()}get canOverrideAnchor(){return!1}accept(t){throw new Error("Method accept() must be implemented.")}addToShape(t){let r=t.at(-1);if(r.primitives.length===0)r.primitives.push(this);else{let s=t.at(-1,-1),o=s instanceof this.constructor,a=s.vertexCapacity-s.vertexCount,l,u;o&&a>0?(l=this.vertices.splice(0,a),u=this.vertices,s.vertices.push(...l),u.length>0&&r.primitives.push(this)):r.primitives.push(this)}if(this.vertices.length>0){let s=t.at(-1);this._primitivesIndex=s.primitives.length-1,this._contoursIndex=t.contours.length-1,this._shape=t}return t.at(-1,-1)}get _nextPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex+1):null}get _belongsToShape(){return this._shape!==null}handlesClose(){return!1}close(t){throw new Error("Unimplemented!")}}class EN{#e;primitives;constructor(t=qs){this.#e=t,this.primitives=[]}get kind(){const t=this.primitives.length===0,r=this.#e===qs;return t&&r?Gu:this.#e}accept(t){for(const r of this.primitives)r.accept(t)}}class op extends Ns{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitAnchor(this)}getEndVertex(){return this.vertices[0]}}class ql extends Ns{constructor(...t){if(super(...t),this.constructor===ql)throw new Error("Segment is an abstract class: it cannot be instantiated.")}get _previousPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex-1):null}getStartVertex(){return this._previousPrimitive.getEndVertex()}getEndVertex(){return this.vertices.at(-1)}}class SN extends ql{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitLineSegment(this)}}class CN extends ql{#e;#t;constructor(t,...r){super(...r);let i=Array.isArray(t)?t[0]:t;this.#e=i,this.#t=i}get order(){return this.#e}get vertexCapacity(){return this.#t}#n;hullLength(){return this.#n===void 0&&(this.#n=_N([this.getStartVertex(),...this.vertices])),this.#n}accept(t){t.visitBezierSegment(this)}}class AN extends ql{#e=1/0;_splineProperties={ends:Hu,tightness:0};get vertexCapacity(){return this.#e}accept(t){t.visitSplineSegment(this)}get _comesAfterSegment(){return this._previousPrimitive instanceof ql}get canOverrideAnchor(){return this._splineProperties.ends===Pu}get _firstInterpolatedVertex(){return this._splineProperties.ends===Pu?this._comesAfterSegment?this.vertices[1]:this.vertices[0]:this.getStartVertex()}get _chainedToSegment(){if(this._belongsToShape&&this._comesAfterSegment){let t=this._firstInterpolatedVertex.position;return this.getStartVertex().position.equals(t)}else return!1}addToShape(t){const r=super.addToShape(t);if(this._splineProperties.ends=t._splineProperties.ends,this._splineProperties.tightness=t._splineProperties.tightness,this._splineProperties.ends!==Pu)return r;let i=!this._belongsToShape,s=t.at(-1,-1),o=(a,l)=>`Spline does not start where previous path segment ends:
      second spline vertex at (${a})
      expected to be at (${l}).`;if(i&&s.vertices.length===2&&s._comesAfterSegment&&!s._chainedToSegment){let a=s._firstInterpolatedVertex.position,l=s.getStartVertex().position;console.warn(o(a.array(),l.array()))}return r}getEndVertex(){return this._splineProperties.ends===Hu?super.getEndVertex():this._splineProperties.ends===Pu?this.vertices.at(-2):this.getStartVertex()}getControlPoints(){let t=[];this._comesAfterSegment&&t.push(this.getStartVertex()),t.push(this.getStartVertex());for(const i of this.vertices)t.push(i);const r=this.getStartVertex();return this._splineProperties.ends===Hu?(t.unshift(r),t.push(this.vertices.at(-1))):this._splineProperties.ends===Oy&&(t.unshift(this.vertices.at(-1)),t.push(r,this.vertices.at(0))),t}handlesClose(){return this._belongsToShape?this._shape.at(this._contoursIndex).primitives.length===2&&this._primitivesIndex===1:!1}close(){this._splineProperties.ends=Oy}}class TN extends Ns{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitPoint(this)}}class IN extends Ns{#e=2;get vertexCapacity(){return this.#e}accept(t){t.visitLine(this)}}class DN extends Ns{#e=3;get vertexCapacity(){return this.#e}accept(t){t.visitTriangle(this)}}class NN extends Ns{#e=4;get vertexCapacity(){return this.#e}accept(t){t.visitQuad(this)}}class FN extends Ns{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitTriangleFan(this)}}class kN extends Ns{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitTriangleStrip(this)}}class MN extends Ns{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitQuadStrip(this)}}class fK{creators;constructor(){let t=new Map;t.set(`vertex-${Gu}`,(...r)=>new op(...r)),t.set(`vertex-${qs}`,(...r)=>new SN(...r)),t.set(`vertex-${zp}`,(...r)=>new TN(...r)),t.set(`vertex-${hc}`,(...r)=>new IN(...r)),t.set(`vertex-${Nl}`,(...r)=>new DN(...r)),t.set(`vertex-${bh}`,(...r)=>new NN(...r)),t.set(`vertex-${og}`,(...r)=>new FN(...r)),t.set(`vertex-${Wh}`,(...r)=>new kN(...r)),t.set(`vertex-${Xh}`,(...r)=>new MN(...r)),t.set(`bezierVertex-${Gu}`,(r,...i)=>new op(...i)),t.set(`bezierVertex-${qs}`,(r,...i)=>new CN(r,...i)),t.set(`splineVertex-${Gu}`,(...r)=>new op(...r)),t.set(`splineVertex-${qs}`,(...r)=>new AN(...r)),this.creators=t}get(t,r){const i=`${t}-${r}`;return this.creators.get(i)}set(t,r,i){const s=`${t}-${r}`;this.creators.set(s,i)}clear(){this.creators.clear()}}class ON{#e;#t;#n;#i=3;kind=null;contours=[];_splineProperties={tightness:0,ends:Hu};userVertexProperties=null;constructor(t,r=new fK){this.#t=t,this.#e=t,this.#n=r;for(const i in this.#e)i!=="position"&&i!=="textureCoordinates"&&(this[i]=function(s){this.#e[i]=s})}serializeToArray(t){if(t==null)return[];if(t instanceof Number)return[t];if(t instanceof Array)return t;if(t.array instanceof Function)return t.array();throw new Error(`Can't convert ${t} to array!`)}vertexToArray(t){const r=[];for(const i in this.#e){if(this.userVertexProperties&&i in this.userVertexProperties)continue;const s=t[i];r.push(...this.serializeToArray(s))}for(const i in this.userVertexProperties)i in t?r.push(...this.serializeToArray(t[i])):r.push(...new Array(this.userVertexProperties[i]).fill(0));return r}hydrateValue(t,r){if(r===null)return null;if(r instanceof Number)return t.shift();if(r instanceof Array){const i=[];for(let s=0;s<r.length;s++)i.push(t.shift());return i}else{if(r instanceof Ne)return new Ne(t.shift(),t.shift(),t.shift());if(r instanceof yt){const i=[t.shift(),t.shift(),t.shift(),t.shift()];return new yt(i)}}}arrayToVertex(t){const r={},i=[...t];for(const s in this.#e){if(this.userVertexProperties&&s in this.userVertexProperties)continue;const o=this.#e[s];r[s]=this.hydrateValue(i,o)}for(const s in this.userVertexProperties){const o=this.#e[s];r[s]=this.hydrateValue(i,o)}return r}arrayScale(t,r){return t.map(i=>i*r)}arraySum(t,...r){return t.map((i,s)=>{let o=i;for(let a=0;a<r.length;a++)o+=r[a][s];return o})}arrayMinus(t,r){return t.map((i,s)=>i-r[s])}evaluateCubicBezier([t,r,i,s],o){return this.arraySum(this.arrayScale(t,Math.pow(1-o,3)),this.arrayScale(r,3*Math.pow(1-o,2)*o),this.arrayScale(i,3*(1-o)*Math.pow(o,2)),this.arrayScale(s,Math.pow(o,3)))}evaluateQuadraticBezier([t,r,i],s){return this.arraySum(this.arrayScale(t,Math.pow(1-s,2)),this.arrayScale(r,2*(1-s)*s),this.arrayScale(i,s*s))}catmullRomToBezier(t,r){let i=1-r,s=[];for(let o=0;o+3<t.length;o++){const[a,l,u,h]=t.slice(o,o+4),c=this.arraySum(l,this.arrayScale(this.arrayMinus(u,a),i/6)),f=this.arraySum(u,this.arrayScale(this.arrayMinus(l,h),i/6)),d=u;s.push([c,f,d])}return s}at(t,r,i){let s,o;switch(s=this.contours.at(t),arguments.length){case 1:return s;case 2:return s.primitives.at(r);case 3:return o=s.primitives.at(r),o.vertices.at(i)}}reset(){this.#e={...this.#t},this.kind=null,this.contours=[],this.userVertexProperties=null}vertexProperty(t,r){this.userVertexProperties=this.userVertexProperties||{};const i=this.vertexPropertyKey(t),s=Array.isArray(r)?r:[r];this.userVertexProperties[i]||(this.userVertexProperties[i]=s.length),this.#e[i]=s}vertexPropertyName(t){return t.replace(/Src$/,"")}vertexPropertyKey(t){return t+"Src"}bezierOrder(...t){this.#i=t}splineProperty(t,r){this._splineProperties[t]=r}splineProperties(t){if(t)for(const r in t)this.splineProperty(r,t[r]);else return this._splineProperties}#s(t,r){return this.#e.position=t,r!==void 0&&(this.#e.textureCoordinates=r),new wN(this.#e)}#o(t,r,...i){let s=this.#n.get(t,r);return t==="bezierVertex"?s(this.#i,...i):s(...i)}#r(t,r,i){let s=t,o=this.at(-1).kind,a=this.#s(r,i);return this.#o(s,o,a).addToShape(this)}vertex(t,r,{isClosing:i=!1}={}){const s=this.#r("vertex",t,r);s.isClosing=i}bezierVertex(t,r){this.#r("bezierVertex",t,r)}splineVertex(t,r){this.#r("splineVertex",t,r)}arcVertex(t,r){this.#r("arcVertex",t,r)}beginContour(t=qs){this.at(-1)?.kind===Gu&&this.contours.pop(),this.contours.push(new EN(t))}endContour(t=zl,r=this.contours.length-1){const i=this.at(r);if(t===qh){const s=i.kind===qs,o=this.at(r,0,0),a=Object.hasOwn(o,"position"),l=this.at(r,-1);if(s&&a)if(l.handlesClose())l.close(o);else{const u=this.contours.splice(r+1,this.contours.length-r-1),h=this.#e;this.#e={...h};for(const c in o)["position","textureCoordinates"].includes(c)||(this.#e[c]=o[c]);this.vertex(o.position,o.textureCoordinates,{isClosing:!0}),this.#e=h,this.contours.push(...u)}}}beginShape(t=qs){this.kind=t,this.beginContour(t)}endShape(t=zl){t===qh&&this.endContour(t,0)}accept(t){for(const r of this.contours)r.accept(t)}}class Sc{constructor(){if(this.constructor===Sc)throw new Error("PrimitiveVisitor is an abstract class: it cannot be instantiated.")}visitAnchor(t){throw new Error("Method visitAnchor() has not been implemented.")}visitLineSegment(t){throw new Error("Method visitLineSegment() has not been implemented.")}visitBezierSegment(t){throw new Error("Method visitBezierSegment() has not been implemented.")}visitSplineSegment(t){throw new Error("Method visitSplineSegment() has not been implemented.")}visitArcSegment(t){throw new Error("Method visitArcSegment() has not been implemented.")}visitPoint(t){throw new Error("Method visitPoint() has not been implemented.")}visitLine(t){throw new Error("Method visitLine() has not been implemented.")}visitTriangle(t){throw new Error("Method visitTriangle() has not been implemented.")}visitQuad(t){throw new Error("Method visitQuad() has not been implemented.")}visitTriangleFan(t){throw new Error("Method visitTriangleFan() has not been implemented.")}visitTriangleStrip(t){throw new Error("Method visitTriangleStrip() has not been implemented.")}visitQuadStrip(t){throw new Error("Method visitQuadStrip() has not been implemented.")}}class PN extends Sc{path=new Path2D;strokeWeight;constructor({strokeWeight:t}){super(),this.strokeWeight=t}visitAnchor(t){let r=t.getEndVertex();this.path.moveTo(r.position.x,r.position.y)}visitLineSegment(t){if(t.isClosing)this.path.closePath();else{let r=t.getEndVertex();this.path.lineTo(r.position.x,r.position.y)}}visitBezierSegment(t){let[r,i,s]=t.vertices;switch(t.order){case 2:this.path.quadraticCurveTo(r.position.x,r.position.y,i.position.x,i.position.y);break;case 3:this.path.bezierCurveTo(r.position.x,r.position.y,i.position.x,i.position.y,s.position.x,s.position.y);break}}visitSplineSegment(t){const r=t._shape;if(t._splineProperties.ends===Pu&&!t._comesAfterSegment){let o=t._firstInterpolatedVertex;this.path.moveTo(o.position.x,o.position.y)}const i=t.getControlPoints().map(o=>r.vertexToArray(o));let s=r.catmullRomToBezier(i,t._splineProperties.tightness).map(o=>o.map(a=>r.arrayToVertex(a)));for(const o of s){const a=o.flatMap(l=>[l.position.x,l.position.y]);this.path.bezierCurveTo(...a)}}visitPoint(t){const{x:r,y:i}=t.vertices[0].position;this.path.moveTo(r,i),this.path.lineTo(r+1e-5,i)}visitLine(t){const{x:r,y:i}=t.vertices[0].position,{x:s,y:o}=t.vertices[1].position;this.path.moveTo(r,i),this.path.lineTo(s,o)}visitTriangle(t){const[r,i,s]=t.vertices;this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.closePath()}visitQuad(t){const[r,i,s,o]=t.vertices;this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}visitTriangleFan(t){const[r,...i]=t.vertices;for(let s=0;s<i.length-1;s++){const o=i[s],a=i[s+1];this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.closePath()}}visitTriangleStrip(t){for(let r=0;r<t.vertices.length-2;r++){const i=t.vertices[r],s=t.vertices[r+1],o=t.vertices[r+2];this.path.moveTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}}visitQuadStrip(t){for(let r=0;r<t.vertices.length-3;r+=2){const i=t.vertices[r],s=t.vertices[r+1],o=t.vertices[r+2],a=t.vertices[r+3];this.path.moveTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}}}class LN extends Sc{contours=[];curveDetail;constructor({curveDetail:t=1}={}){super(),this.curveDetail=t}lastContour(){return this.contours[this.contours.length-1]}visitAnchor(t){this.contours.push([]);const r=t._nextPrimitive;r?.canOverrideAnchor?this.lastContour().push(r._firstInterpolatedVertex):this.lastContour().push(t.getEndVertex())}visitLineSegment(t){this.lastContour().push(t.getEndVertex())}visitBezierSegment(t){const r=this.lastContour(),i=Math.max(1,Math.ceil(t.hullLength()*this.curveDetail)),s=[t.getStartVertex(),...t.vertices].map(o=>t._shape.vertexToArray(o));for(let o=0;o<i;o++){const a=(o+1)/i;r.push(t._shape.arrayToVertex(t.order===3?t._shape.evaluateCubicBezier(s,a):t._shape.evaluateQuadraticBezier(s,a)))}}visitSplineSegment(t){const r=t._shape,i=this.lastContour(),s=t.getControlPoints().map(l=>r.vertexToArray(l));let o=r.catmullRomToBezier(s,t._splineProperties.tightness),a=r.vertexToArray(t._firstInterpolatedVertex);for(const l of o){const u=[a,...l],h=Math.max(1,Math.ceil(_N(u.map(c=>r.arrayToVertex(c)))*this.curveDetail));for(let c=0;c<h;c++){const f=(c+1)/h;i.push(r.arrayToVertex(r.evaluateCubicBezier(u,f)))}a=l[2]}}visitPoint(t){this.contours.push(t.vertices.slice())}visitLine(t){this.contours.push(t.vertices.slice())}visitTriangle(t){this.contours.push(t.vertices.slice())}visitQuad(t){this.contours.push(t.vertices.slice())}visitTriangleFan(t){this.contours.push(t.vertices.slice())}visitTriangleStrip(t){this.contours.push(t.vertices.slice())}visitQuadStrip(t){this.contours.push(t.vertices.slice())}}class dK extends Sc{constructor(){super()}}function Yb(n,t){n.Shape=ON,n.Contour=EN,n.ShapePrimitive=Ns,n.Vertex=wN,n.Anchor=op,n.Segment=ql,n.LineSegment=SN,n.BezierSegment=CN,n.SplineSegment=AN,n.Point=TN,n.Line=IN,n.Triangle=DN,n.Quad=NN,n.TriangleFan=FN,n.TriangleStrip=kN,n.QuadStrip=MN,n.PrimitiveVisitor=Sc,n.PrimitiveToPath2DConverter=PN,n.PrimitiveToVerticesConverter=LN,n.PointAtLengthGetter=dK,t.bezierOrder=function(r){return this._renderer.bezierOrder(r)},t.splineVertex=function(...r){let i=0,s=0,o=0,a=0,l=0;r.length===2?[i,s]=r:r.length===4?[i,s,a,l]=r:r.length===3?[i,s,o]=r:r.length===5&&([i,s,o,a,l]=r),this._renderer.splineVertex(i,s,o,a,l)},t.splineProperty=function(r,i){return this._renderer.splineProperty(r,i)},t.splineProperties=function(r){return this._renderer.splineProperties(r)},t.vertex=function(r,i){let s,o,a;s=o=a=0,arguments.length===3?s=arguments[2]:arguments.length===4?(o=arguments[2],a=arguments[3]):arguments.length===5&&(s=arguments[2],o=arguments[3],a=arguments[4]),this._renderer.vertex(r,i,s,o,a)},t.beginContour=function(r){this._renderer.beginContour(r)},t.endContour=function(r=zl){this._renderer.endContour(r)}}typeof p5<"u"&&Yb(p5,p5.prototype);class pK{#e={};constructor(t){for(const r in t)this[r]=t[r]}setValue(t,r){t in this.#e||(this.#e[t]=this[t]),this[t]=r}getDiff(){const t=this.#e;return this.#e={},t}getModified(){return this.#e}applyDiff(t){for(const r in this.#e)this[r]=this.#e[r];this.#e=t}}var ap={exports:{}},mK=ap.exports,Y2;function gK(){return Y2||(Y2=1,(function(n){/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var t=t||(function(r){if(!(typeof r>"u"||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var i=r.document,s=function(){return r.URL||r.webkitURL||r},o=i.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in o,l=function(x){var b=new MouseEvent("click");x.dispatchEvent(b)},u=/constructor/i.test(r.HTMLElement)||r.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(x){(r.setImmediate||r.setTimeout)(function(){throw x},0)},f="application/octet-stream",d=1e3*40,p=function(x){var b=function(){typeof x=="string"?s().revokeObjectURL(x):x.remove()};setTimeout(b,d)},m=function(x,b,w){b=[].concat(b);for(var E=b.length;E--;){var _=x["on"+b[E]];if(typeof _=="function")try{_.call(x,w||x)}catch(T){c(T)}}},g=function(x){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob(["\uFEFF",x],{type:x.type}):x},v=function(x,b,w){w||(x=g(x));var E=this,_=x.type,T=_===f,C,F=function(){m(E,"writestart progress write writeend".split(" "))},k=function(){if((h||T&&u)&&r.FileReader){var D=new FileReader;D.onloadend=function(){var M=h?D.result:D.result.replace(/^data:[^;]*;/,"data:attachment/file;"),U=r.open(M,"_blank");U||(r.location.href=M),M=void 0,E.readyState=E.DONE,F()},D.readAsDataURL(x),E.readyState=E.INIT;return}if(C||(C=s().createObjectURL(x)),T)r.location.href=C;else{var N=r.open(C,"_blank");N||(r.location.href=C)}E.readyState=E.DONE,F(),p(C)};if(E.readyState=E.INIT,a){C=s().createObjectURL(x),setTimeout(function(){o.href=C,o.download=b,l(o),F(),p(C),E.readyState=E.DONE});return}k()},S=v.prototype,y=function(x,b,w){return new v(x,b||x.name||"download",w)};return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(x,b,w){return b=b||x.name||"download",w||(x=g(x)),navigator.msSaveOrOpenBlob(x,b)}:(S.abort=function(){},S.readyState=S.INIT=0,S.WRITING=1,S.DONE=2,S.error=S.onwritestart=S.onprogress=S.onwrite=S.onabort=S.onerror=S.onwriteend=null,y)}})(typeof self<"u"&&self||typeof window<"u"&&window||mK.content);n.exports&&(n.exports.saveAs=t)})(ap)),ap.exports}var vK=gK();function tf(n,t,r){const s=Jp(t,r)[0];let o=n;o instanceof Blob||(o=new Blob([n])),vK.saveAs(o,s)}function Jp(n,t){(!t||t===!0||t==="true")&&(t=""),n||(n="untitled");let r="";return n&&n.includes(".")&&(r=n.split(".").pop()),t&&r!==t&&(r=t,n=`${n}.${r}`),[n,r]}let La=class jy{constructor(t,r){this.width=t,this.height=r,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this._pixelsState=this,this._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}pixelDensity(t){return typeof t<"u"?(t<=0&&(t=1),this._pixelDensity=t,this.width/=t,this.height/=t,this):this._pixelDensity}_animateGif(t){const r=this.gifProperties,i=t._lastRealFrameTime||window.performance.now();if(r.lastChangeTime===0&&(r.lastChangeTime=i),r.playing){r.timeDisplayed=i-r.lastChangeTime;const s=r.frames[r.displayIndex].delay;if(r.timeDisplayed>=s){const o=Math.floor(r.timeDisplayed/s);if(r.timeDisplayed=0,r.lastChangeTime=i,r.displayIndex+=o,r.loopCount=Math.floor(r.displayIndex/r.numFrames),r.loopLimit!==null&&r.loopCount>=r.loopLimit)r.playing=!1;else{const a=r.displayIndex%r.numFrames;this.drawingContext.putImageData(r.frames[a].image,0,0),r.displayIndex=a,this.setModified(!0)}}}}loadPixels(){const t=this._pixelsState,r=this._pixelDensity,i=this.width*r,s=this.height*r,o=this.drawingContext.getImageData(0,0,i,s);t.imageData=o,this.pixels=t.pixels=o.data,this.setModified(!0)}updatePixels(t,r,i,s){const o=this._pixelsState,a=this._pixelDensity;t===void 0&&r===void 0&&i===void 0&&s===void 0&&(t=0,r=0,i=this.width,s=this.height),t*=a,r*=a,i*=a,s*=a,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=o.imageData),this.drawingContext.putImageData(o.imageData,t,r,0,0,i,s),this.setModified(!0)}get(t,r,i,s){const o=this._pixelsState,a=this._pixelDensity,l=this.canvas;if(typeof t>"u"&&typeof r>"u")t=r=0,i=o.width,s=o.height;else if(t*=a,r*=a,typeof i>"u"&&typeof s>"u")return t<0||r<0||t>=l.width||r>=l.height?[0,0,0,0]:this._getPixel(t,r);const u=new jy(i*a,s*a);return u.pixelDensity(a),u.canvas.getContext("2d").drawImage(l,t,r,i*a,s*a,0,0,i*a,s*a),u}_getPixel(t,r){let i,s;return i=this.drawingContext.getImageData(t,r,1,1).data,s=0,[i[s+0],i[s+1],i[s+2],i[s+3]]}set(t,r,i){t=Math.floor(t),r=Math.floor(r);const s=this._pixelsState;if(i instanceof jy)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,i.width,i.height),this.drawingContext.drawImage(i.canvas,t,r),this.drawingContext.restore();else{let o=0,a=0,l=0,u=0,h=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(s.imageData||s.loadPixels(),typeof i=="number")h<s.pixels.length&&(o=i,a=i,l=i,u=255);else if(Array.isArray(i)){if(i.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");h<s.pixels.length&&(o=i[0],a=i[1],l=i[2],u=i[3])}else i instanceof p5.Color&&h<s.pixels.length&&([o,a,l,u]=i._getRGBA([255,255,255,255]));for(let c=0;c<this._pixelDensity;c++)for(let f=0;f<this._pixelDensity;f++)h=4*((r*this._pixelDensity+f)*this.width*this._pixelDensity+(t*this._pixelDensity+c)),s.pixels[h]=o,s.pixels[h+1]=a,s.pixels[h+2]=l,s.pixels[h+3]=u}this.setModified(!0)}resize(t,r){t===0&&r===0?(t=this.canvas.width,r=this.canvas.height):t===0?t=this.canvas.width*r/this.canvas.height:r===0&&(r=this.canvas.height*t/this.canvas.width),t=Math.floor(t),r=Math.floor(r);const i=document.createElement("canvas");if(i.width=t,i.height=r,this.gifProperties){const s=this.gifProperties,o=(a,l)=>{let u=0;for(let h=0;h<l.height;h++)for(let c=0;c<l.width;c++){const f=Math.floor(c*a.width/l.width);let p=(Math.floor(h*a.height/l.height)*a.width+f)*4;l.data[u++]=a.data[p++],l.data[u++]=a.data[p++],l.data[u++]=a.data[p++],l.data[u++]=a.data[p++]}};for(let a=0;a<s.numFrames;a++){const l=this.drawingContext.createImageData(t,r);o(s.frames[a].image,l),s.frames[a].image=l}}i.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,i.width,i.height),this.canvas.width=this.width=t,this.canvas.height=this.height=r,this.drawingContext.drawImage(i,0,0,t,r,0,0,t,r),this.pixels.length>0&&this.loadPixels(),this.setModified(!0)}copy(...t){let r,i,s,o,a,l,u,h,c;if(t.length===9)r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8];else if(t.length===8)r=this,i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],u=t[5],h=t[6],c=t[7];else throw new Error("Signature not supported");this._copyHelper(this,r,i,s,o,a,l,u,h,c)}_copyHelper(t,r,i,s,o,a,l,u,h,c){const f=r.canvas.width/r.width;let d=0,p=0;r._renderer&&r._renderer.isP3D&&(d=r.width/2,p=r.height/2),t._renderer&&t._renderer.isP3D?(t.push(),t.resetMatrix(),t.noLights(),t.blendMode(t.BLEND),t.imageMode(t.CORNER),t._renderer.image(r,i+d,s+p,o,a,l,u,h,c),t.pop()):t.drawingContext.drawImage(r.canvas,f*(i+d),f*(s+p),f*o,f*a,l,u,h,c)}mask(t){t===void 0&&(t=this);const r=this.drawingContext.globalCompositeOperation;let i=this._pixelDensity,s=1;t instanceof Dt&&(s=t._pInst._renderer._pixelDensity);const o=[t,0,0,s*t.width,s*t.height,0,0,i*this.width,i*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(let a=0;a<this.gifProperties.frames.length;a++)this.drawingContext.putImageData(this.gifProperties.frames[a].image,0,0),this.copy(...o),this.gifProperties.frames[a].image=this.drawingContext.getImageData(0,0,i*this.width,i*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy(...o);this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}filter(t,r){Cn.apply(this.canvas,Cn[t],r),this.setModified(!0)}blend(...t){const r=this.drawingContext.globalCompositeOperation,i=t[t.length-1],s=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=i,this.copy(...s),this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}setModified(t){this._modified=t}isModified(){return this._modified}save(t,r){if(this.gifProperties)yK(this,t);else{let i=this.canvas;r=r||Jp(t,r)[1]||"png";let s;switch(r){default:s="image/png";break;case"webp":s="image/webp";break;case"jpeg":case"jpg":s="image/jpeg";break}i.toBlob(o=>{tf(o,t,r)},s)}}async toBlob(){return new Promise(t=>{this.canvas.toBlob(t)})}reset(){if(this.gifProperties){const t=this.gifProperties;t.playing=!0,t.timeSinceStart=0,t.timeDisplayed=0,t.lastChangeTime=0,t.loopCount=0,t.displayIndex=0,this.drawingContext.putImageData(t.frames[0].image,0,0)}}getCurrentFrame(){if(this.gifProperties){const t=this.gifProperties;return t.displayIndex%t.numFrames}}setFrame(t){if(this.gifProperties){const r=this.gifProperties;t<r.numFrames&&t>=0?(r.timeDisplayed=0,r.lastChangeTime=0,r.displayIndex=t,this.drawingContext.putImageData(r.frames[t].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}}numFrames(){if(this.gifProperties)return this.gifProperties.numFrames}play(){this.gifProperties&&(this.gifProperties.playing=!0)}pause(){this.gifProperties&&(this.gifProperties.playing=!1)}delay(t,r){if(this.gifProperties){const i=this.gifProperties;if(r<i.numFrames&&r>=0)i.frames[r].delay=t;else for(const s of i.frames)s.delay=t}}};function yK(n,t){const r=n.gifProperties;let i=r.loopLimit;i===1?i=null:i===null&&(i=0);const s=new Uint8Array(n.width*n.height*r.numFrames),o=[],a={};for(let y=0;y<r.numFrames;y++){const x=new Set,b=r.frames[y].image.data,w=b.length,E=new Uint32Array(n.width*n.height);for(let T=0,C=0;T<w;T+=4,C++){const F=b[T+0],k=b[T+1],D=b[T+2],N=F<<16|k<<8|D<<0;x.add(N),E[C]=N}const _=[...x].sort().toString();a[_]===void 0?a[_]={freq:1,frames:[y]}:(a[_].freq+=1,a[_].frames.push(y)),o.push(E)}let l=[];const u=Object.keys(a).sort(function(y,x){return a[x].freq-a[y].freq}),h=u[0].split(",").map(y=>parseInt(y));l=l.concat(a[h].frames);const c=new Set(h);for(let y=1;y<u.length;y++){const b=u[y].split(",").map(w=>parseInt(w)).filter(w=>!c.has(w));if(h.length+b.length<=256){for(let w=0;w<b.length;w++)h.push(b[w]),c.add(b[w]);l=l.concat(a[u[y]].frames)}}l=new Set(l);const f={};for(let y=0;y<h.length;y++)f[h[y]]||(f[h[y]]=y);let d=1;for(;d<h.length;)d<<=1;h.length=d;const p={loop:i,palette:new Uint32Array(h)},m=new omggif.GifWriter(s,n.width,n.height,p);let g={};for(let y=0;y<r.numFrames;y++){const x=!l.has(y),b=x?[]:h,w=new Uint8Array(n.width*n.height),E={},_=new Set;o[y].forEach((F,k)=>{x?(E[F]===void 0&&(E[F]=b.length,b.push(F)),w[k]=E[F]):w[k]=f[F],y>0&&o[y-1][k]!==F&&_.add(F)});const T={},C=b.filter(F=>!_.has(F));if(C.length>0){const F=C[0],k=x?E[F]:f[F];if(y>0){for(let D=0;D<o[y].length;D++)o[y-1][D]===o[y][D]&&(w[D]=k);T.transparent=k,g.frameOpts.disposal=1}}if(T.delay=r.frames[y].delay/10,x){let F=1;for(;F<b.length;)F<<=1;b.length=F,T.palette=new Uint32Array(b)}y>0&&m.addFrame(0,0,n.width,n.height,g.pixelPaletteIndex,g.frameOpts),g={pixelPaletteIndex:w,frameOpts:T}}g.frameOpts.disposal=1,m.addFrame(0,0,n.width,n.height,g.pixelPaletteIndex,g.frameOpts);const v="gif",S=new Blob([s.slice(0,m.end())],{type:"image/gif"});tf(S,t,v)}function RN(n,t){n.Image=La}typeof p5<"u"&&RN(p5,p5.prototype);class Kb{constructor(t={}){for(const r in t)this[r]=t[r]}clone(){return new Kb(this)}}class Dt{static states={strokeColor:null,strokeSet:!1,fillColor:null,fillSet:!1,tint:null,imageMode:hs,rectMode:hs,ellipseMode:zi,strokeWeight:1,textFont:{family:"sans-serif"},textLeading:15,leadingSet:!1,textSize:12,textAlign:L5,textBaseline:R5,bezierOrder:3,splineProperties:new Kb({ends:Hu,tightness:0}),textWrap:V5,fontStyle:co,fontStretch:co,fontWeight:co,lineHeight:co,fontVariant:co,direction:"inherit"};constructor(t,r,i,s){this._pInst=t,this._isMainCanvas=s,this.pixels=[],this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this.width=r,this.height=i,this._events={},s&&(this._isMainCanvas=!0),this.states=new pK(Dt.states),this.states.strokeColor=new yt([0,0,0]),this.states.fillColor=new yt([1,1,1]),this._pushPopStack=[],this._pushPopDepth=0,this._clipping=!1,this._clipInvert=!1,this._currentShape=void 0}get currentShape(){return this._currentShape||(this._currentShape=new ON(this.getCommonVertexProperties())),this._currentShape}remove(){}pixelDensity(t){let r;return typeof t=="number"?(t!==this._pixelDensity&&(this._pixelDensity=t),r=this,this.resize(this.width,this.height)):r=this._pixelDensity,r}push(){this._pushPopDepth++,this._pushPopStack.push(this.states.getDiff())}pop(){this._pushPopDepth--;const t=this._pushPopStack.pop()||{},r=this.states.getModified();this.states.applyDiff(t),this.updateShapeVertexProperties(r),this.updateShapeProperties(r)}bezierOrder(t){if(t===void 0)return this.states.bezierOrder;this.states.setValue("bezierOrder",t),this.updateShapeProperties()}bezierVertex(t,r,i=0,s=0,o=0){const a=new Ne(t,r,i),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new Ne(s,o):void 0;this.currentShape.bezierVertex(a,l)}splineProperty(t,r){if(r===void 0)return this.states.splineProperties[t];this.states.setValue("splineProperties",this.states.splineProperties.clone()),this.states.splineProperties[t]=r,this.updateShapeProperties()}splineProperties(t){if(t)for(const r in t)this.splineProperty(r,t[r]);else return{...this.states.splineProperties}}splineVertex(t,r,i=0,s=0,o=0){const a=new Ne(t,r,i),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new Ne(s,o):void 0;this.currentShape.splineVertex(a,l)}curveDetail(t){if(t===void 0)return this.states.curveDetail;this.states.setValue("curveDetail",t)}beginShape(...t){this.currentShape.reset(),this.updateShapeVertexProperties(),this.currentShape.beginShape(...t)}endShape(...t){this.currentShape.endShape(...t),this.drawShape(this.currentShape)}beginContour(t){this.currentShape.beginContour(t)}endContour(t){this.currentShape.endContour(t)}drawShape(t,r){throw new Error("Unimplemented")}vertex(t,r,i=0,s=0,o=0){const a=new Ne(t,r,i),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new Ne(s,o):void 0;this.currentShape.vertex(a,l)}bezier(t,r,i,s,o,a,l,u){const h=this._pInst.bezierOrder();return this._pInst.bezierOrder(h),this._pInst.beginShape(),this._pInst.bezierVertex(t,r),this._pInst.bezierVertex(i,s),this._pInst.bezierVertex(o,a),this._pInst.bezierVertex(l,u),this._pInst.endShape(),this}spline(...t){if(t.length===8){const[r,i,s,o,a,l,u,h]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,i),this._pInst.splineVertex(s,o),this._pInst.splineVertex(a,l),this._pInst.splineVertex(u,h),this._pInst.endShape()}else if(t.length===12){const[r,i,s,o,a,l,u,h,c,f,d,p]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,i,s),this._pInst.splineVertex(o,a,l),this._pInst.splineVertex(u,h,c),this._pInst.splineVertex(f,d,p),this._pInst.endShape()}return this}beginClip(t={}){if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=t.invert}endClip(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}resize(t,r){this.width=t,this.height=r}get(t,r,i,s){const o=this._pixelDensity,a=this.canvas;if(typeof t>"u"&&typeof r>"u")t=r=0,i=this.width,s=this.height;else if(t*=o,r*=o,typeof i>"u"&&typeof s>"u")return t<0||r<0||t>=a.width||r>=a.height?[0,0,0,0]:this._getPixel(t,r);const l=new La(i*o,s*o);return l.pixelDensity(o),l.canvas.getContext("2d").drawImage(a,t,r,i*o,s*o,0,0,i*o,s*o),l}scale(t,r){}fill(...t){this.states.setValue("fillSet",!0),this.states.setValue("fillColor",this._pInst.color(...t)),this.updateShapeVertexProperties()}noFill(){this.states.setValue("fillColor",null)}strokeWeight(t){if(t===void 0)return this.states.strokeWeight;this.states.setValue("strokeWeight",t)}stroke(...t){this.states.setValue("strokeSet",!0),this.states.setValue("strokeColor",this._pInst.color(...t)),this.updateShapeVertexProperties()}noStroke(){this.states.setValue("strokeColor",null)}getCommonVertexProperties(){return{}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!1}}updateShapeProperties(t){if(!t||t.bezierOrder||t.splineProperties){const r=this.currentShape;r.bezierOrder(this.states.bezierOrder),r.splineProperty("ends",this.states.splineProperties.ends),r.splineProperty("tightness",this.states.splineProperties.tightness)}}updateShapeVertexProperties(t){const r=this.getCommonVertexProperties();if(!t||Object.keys(t).some(i=>i in r)){const i=this.currentShape;for(const s in r)i[s](r[s])}}_applyDefaults(){return this}}function bK(n,t){n.Renderer=Dt}const K0="video",K2="audio";class xK{constructor(t,r,i,s){this.callback=t,this.time=r,this.id=i,this.val=s}}class bl extends Lr{constructor(t,r){super(t,r);const i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],this.pixels=[],this._pixelsState=this,this._pixelDensity=1,this._modified=!1,this._frameOnCanvas=-1,Object.defineProperty(i,"src",{get(){const s=i.elt.children[0].src,o=i.elt.src===window.location.href?"":i.elt.src;return s===window.location.href?o:s},set(s){for(let a=0;a<i.elt.children.length;a++)i.elt.removeChild(i.elt.children[a]);const o=document.createElement("source");o.src=s,t.appendChild(o),i.elt.src=s,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}}play(){this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0);let t;return this.elt.readyState>1?t=this.elt.play():(this.elt.load(),t=this.elt.play()),t&&t.catch&&t.catch(r=>{r.name==="NotAllowedError"?typeof IS_MINIFIED>"u"?p5._friendlyAutoplayError(this.src):console.error(r):console.error("Media play method encountered an unexpected error",r)}),this}stop(){return this.elt.pause(),this.elt.currentTime=0,this}pause(){return this.elt.pause(),this}loop(){return this.elt.setAttribute("loop",!0),this.play(),this}noLoop(){return this.elt.removeAttribute("loop"),this}_setupAutoplayFailDetection(){const t=setTimeout(()=>{typeof IS_MINIFIED>"u"?p5._friendlyAutoplayError(this.src):console.error(e)},500);this.elt.addEventListener("play",()=>clearTimeout(t),{passive:!0,once:!0})}autoplay(t){const r=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",t),t&&!r){const i=()=>this._setupAutoplayFailDetection();this.elt.readyState===4?i():this.elt.addEventListener("canplay",i,{passive:!0,once:!0})}return this}volume(t){if(typeof t>"u")return this.elt.volume;this.elt.volume=t}speed(t){if(typeof t>"u")return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=t:this.presetPlaybackRate=t}time(t){return typeof t<"u"&&(this.elt.currentTime=t),this.elt.currentTime}duration(){return this.elt.duration}_ensureCanvas(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));const t=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&t&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}loadPixels(...t){return this._ensureCanvas(),p5.Renderer2D.prototype.loadPixels.apply(this,t)}updatePixels(t,r,i,s){return this.loadedmetadata&&(this._ensureCanvas(),p5.Renderer2D.prototype.updatePixels.call(this,t,r,i,s)),this.setModified(!0),this}get(...t){return this._ensureCanvas(),p5.Renderer2D.prototype.get.apply(this,t)}_getPixel(...t){return this.loadPixels(),p5.Renderer2D.prototype._getPixel.apply(this,t)}set(t,r,i){this.loadedmetadata&&(this._ensureCanvas(),p5.Renderer2D.prototype.set.call(this,t,r,i),this.setModified(!0))}copy(...t){this._ensureCanvas(),p5.prototype.copy.apply(this,t)}mask(...t){this.loadPixels(),this.setModified(!0),p5.Image.prototype.mask.apply(this,t)}isModified(){return this._modified}setModified(t){this._modified=t}onended(t){return this._onended=t,this}_getAudioContext(){}_getSoundOut(){}connect(t){let r,i;if(this._getAudioContext()&&this._getSoundOut())r=this._getAudioContext(),i=this._getSoundOut().input;else try{r=t.context,i=r.destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=r.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),t?t.input?this.audioSourceNode.connect(t.input):this.audioSourceNode.connect(t):this.audioSourceNode.connect(i)}disconnect(){if(this.audioSourceNode)this.audioSourceNode.disconnect();else throw"nothing to disconnect"}showControls(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}hideControls(){this.elt.controls=!1}addCue(t,r,i){const s=this._cueIDCounter++,o=new xK(r,t,s,i);return this._cues.push(o),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),s}removeCue(t){for(let r=0;r<this._cues.length;r++)this._cues[r].id===t&&(console.log(t),this._cues.splice(r,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}clearCues(){this._cues=[],this.elt.ontimeupdate=null}_onTimeUpdate(){const t=this.time();for(let r=0;r<this._cues.length;r++){const i=this._cues[r].time,s=this._cues[r].val;this._prevTime<i&&i<=t&&this._cues[r].callback(s)}this._prevTime=t}}function BN(n,t){function r(s,o,a){(o._userNode?o._userNode:document.body).appendChild(s);const u=a?new bl(s,o):new Lr(s,o);return o._elements.push(u),u}function i(s,o,a,l){const u=document.createElement(o);a=a||"",typeof a=="string"&&(a=[a]);for(const c of a){const f=document.createElement("source");f.setAttribute("src",c),u.appendChild(f)}const h=r(u,s,!0);if(h.loadedmetadata=!1,u.addEventListener("loadedmetadata",()=>{h.width=u.videoWidth,h.height=u.videoHeight,h.elt.width===0&&(h.elt.width=u.videoWidth),h.elt.height===0&&(h.elt.height=u.videoHeight),h.presetPlaybackRate&&(h.elt.playbackRate=h.presetPlaybackRate,delete h.presetPlaybackRate),h.loadedmetadata=!0}),typeof l=="function"){const c=()=>{l(h),u.removeEventListener("canplaythrough",c)};u.addEventListener("canplaythrough",c)}return h}t.createVideo=function(s,o){return i(this,K0,s,o)},t.createAudio=function(s,o){return i(this,K2,s,o)},t.VIDEO=K0,t.AUDIO=K2,navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(s){const o=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return o?new Promise(function(a,l){o.call(navigator,s,a,l)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.createCapture=function(...s){if(!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia))throw new DOMException("getUserMedia not supported in this browser");let o=!0,a=!0,l,u,h=!1;for(const p of s)p===t.VIDEO?a=!1:p===t.AUDIO?o=!1:typeof p=="object"?(p.flipped!==void 0&&(h=p.flipped,delete p.flipped),l=Object.assign({},l,p)):typeof p=="function"&&(u=p);l=Object.assign({},{video:o,audio:a},l);const f=document.createElement(K0);f.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(l).then(function(p){try{"srcObject"in f?f.srcObject=p:f.src=window.URL.createObjectURL(p)}catch{f.src=p}}).catch(p=>{p.name==="NotFoundError"&&n._friendlyError("No webcam found on this device","createCapture"),p.name==="NotAllowedError"&&n._friendlyError("Access to the camera was denied","createCapture"),console.error(p)});const d=r(f,this,!0);return d.loadedmetadata=!1,f.addEventListener("loadedmetadata",function(){f.play(),f.width?(d.width=f.width,d.height=f.height,h&&(d.elt.style.transform="scaleX(-1)")):(d.width=d.elt.width=f.videoWidth,d.height=d.elt.height=f.videoHeight),d.loadedmetadata=!0,u&&u(f.srcObject)}),d.flipped=h,d},n.MediaElement=bl,bl.prototype._getSoundOut=function(){return n.soundOut},bl.prototype._getAudioContext=function(){if(typeof t.getAudioContext=="function")return t.getAudioContext()}}typeof p5<"u"&&BN(p5,p5.prototype);function _K(n,t,r,i,s){let o;return s===hs?o={x:n,y:t,w:Math.abs(r),h:Math.abs(i)}:s===Gh?o={x:Math.min(n,r),y:Math.min(t,i),w:Math.abs(r-n),h:Math.abs(i-t)}:s===Hh?(r=Math.abs(r),i=Math.abs(i),o={x:n-r,y:t-i,w:2*r,h:2*i}):s===zi&&(r=Math.abs(r),i=Math.abs(i),o={x:n-r*.5,y:t-i*.5,w:r,h:i}),o}var lp={modeAdjust:_K};function Zb(n,t){t._normalizeArcAngles=(r,i,s,o,a)=>{let u;return r=r-Si*Math.floor(r/Si),i=i-Si*Math.floor(i/Si),u=Math.min(Math.abs(r-i),Si-Math.abs(r-i)),a&&(r<=ll?r=Math.atan(s/o*Math.tan(r)):r>ll&&r<=3*ll?r=Math.atan(s/o*Math.tan(r))+Iy:r=Math.atan(s/o*Math.tan(r))+Si,i<=ll?i=Math.atan(s/o*Math.tan(i)):i>ll&&i<=3*ll?i=Math.atan(s/o*Math.tan(i))+Iy:i=Math.atan(s/o*Math.tan(i))+Si),r>i&&(i+=Si),{start:r,stop:i,correspondToSamePoint:u<1e-5}},t.arc=function(r,i,s,o,a,l,u,h){if(!this._renderer.states.strokeColor&&!this._renderer.states.fillColor)return this;if(a===l)return this;a=this._toRadians(a),l=this._toRadians(l);const c=lp.modeAdjust(r,i,s,o,this._renderer.states.ellipseMode),f=this._normalizeArcAngles(a,l,c.w,c.h,!0);return f.correspondToSamePoint?this._renderer.ellipse([c.x,c.y,c.w,c.h,h]):(this._renderer.arc(c.x,c.y,c.w,c.h,f.start,f.stop,u,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[c.x,c.y,c.w,c.h,f.start,f.stop,u])),this},t.ellipse=function(r,i,s,o,a){return this._renderEllipse(...arguments)},t.circle=function(...r){const i=r.slice(0,2);return i.push(r[2],r[2]),this._renderEllipse(...i)},t._renderEllipse=function(r,i,s,o,a){if(!this._renderer.states.strokeColor&&!this._renderer.states.fillColor)return this;typeof o>"u"&&(o=s);const l=lp.modeAdjust(r,i,s,o,this._renderer.states.ellipseMode);return this._renderer.ellipse([l.x,l.y,l.w,l.h,a]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[l.x,l.y,l.w,l.h]),this},t.line=function(...r){return this._renderer.states.strokeColor&&this._renderer.line(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",r),this},t.point=function(...r){return this._renderer.states.strokeColor&&(r.length===1&&r[0]instanceof n.Vector?this._renderer.point.call(this._renderer,r[0].x,r[0].y,r[0].z):(this._renderer.point(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",r))),this},t.quad=function(...r){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&(this._renderer.isP3D&&r.length<12?this._renderer.quad.call(this._renderer,r[0],r[1],0,r[2],r[3],0,r[4],r[5],0,r[6],r[7],0,r[8],r[9]):(this._renderer.quad(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",r))),this},t.rect=function(...r){return this._renderRect(...r)},t.square=function(r,i,s,o,a,l,u){return this._renderRect.call(this,r,i,s,s,o,a,l,u)},t._renderRect=function(){if(this._renderer.states.strokeColor||this._renderer.states.fillColor){arguments.length===3&&(arguments[3]=arguments[2]);const r=lp.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer.states.rectMode);this._renderer.states.rectMode===hs&&(r.w=arguments[2],r.h=arguments[3]);const i=[r.x,r.y,r.w,r.h];for(let s=4;s<arguments.length;s++)i[s]=arguments[s];this._renderer.rect(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[r.x,r.y,r.w,r.h])}return this},t.triangle=function(...r){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&this._renderer.triangle(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",r),this}}typeof p5<"u"&&Zb(p5,p5.prototype);function Jb(n,t){t.ellipseMode=function(r){return(r===hs||r===Gh||r===Hh||r===zi)&&this._renderer.states.setValue("ellipseMode",r),this},t.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},t.rectMode=function(r){return(r===hs||r===Gh||r===Hh||r===zi)&&this._renderer.states.setValue("rectMode",r),this},t.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},t.strokeCap=function(r){return(r===Fa||r===kb||r===Fb)&&this._renderer.strokeCap(r),this},t.strokeJoin=function(r){return(r===Fa||r===Mb||r===Ob)&&this._renderer.strokeJoin(r),this},t.strokeWeight=function(r){return this._renderer.strokeWeight(r),this}}typeof p5<"u"&&Jb(p5,p5.prototype);function Qb(n,t){t.bezier=function(...r){return!this._renderer.states.strokeColor&&!this._renderer.states.fillColor?this:(this._renderer.bezier(...r),this)},t.bezierPoint=function(r,i,s,o,a){const l=1-a;return Math.pow(l,3)*r+3*Math.pow(l,2)*a*i+3*l*Math.pow(a,2)*s+Math.pow(a,3)*o},t.bezierTangent=function(r,i,s,o,a){const l=1-a;return 3*o*Math.pow(a,2)-3*s*Math.pow(a,2)+6*s*l*a-6*i*l*a+3*i*Math.pow(l,2)-3*r*Math.pow(l,2)},t.spline=function(...r){return!this._renderer.states.strokeColor&&!this._renderer.states.fillColor?this:(this._renderer.spline(...r),this)},t.splinePoint=function(r,i,s,o,a){const l=this._renderer.states.splineProperties.tightness,u=a*a*a,h=a*a,c=(l-1)/2*u+(1-l)*h+(l-1)/2*a,f=(l+3)/2*u+(-5-l)/2*h+1,d=(-3-l)/2*u+(l+2)*h+(1-l)/2*a,p=(1-l)/2*u+(l-1)/2*h;return r*c+i*f+s*d+o*p},t.splineTangent=function(r,i,s,o,a){const l=this._renderer.states.splineProperties.tightness,u=a*a*3,h=a*2,c=(l-1)/2*u+(1-l)*h+(l-1)/2,f=(l+3)/2*u+(-5-l)/2*h,d=(-3-l)/2*u+(l+2)*h+(1-l)/2,p=(1-l)/2*u+(l-1)/2*h;return r*c+i*f+s*d+o*p}}typeof p5<"u"&&Qb(p5,p5.prototype);function ex(n,t){t.beginShape=function(r){this._renderer.beginShape(...arguments)},t.bezierVertex=function(...r){this._renderer.bezierVertex(...r)},t.endShape=function(r,i=1){i<1&&(console.log(" p5.js says: You can not have less than one instance"),i=1),this._renderer.endShape(r,i)},t.normal=function(r,i,s){return this._assert3d("normal"),this._renderer.normal(...arguments),this},t.vertexProperty=function(r,i){this._renderer.vertexProperty(r,i)}}typeof p5<"u"&&ex(p5,p5.prototype);function tx(n,t){t.beginClip=function(r={}){this._renderer.beginClip(r)},t.endClip=function(){this._renderer.endClip()},t.clip=function(r,i){this._renderer.beginClip(i),r(),this._renderer.endClip(i)},t.background=function(...r){return this._renderer.background(...r),this},t.clear=function(...r){const i=r[0]||0,s=r[1]||0,o=r[2]||0,a=r[3]||0;return this._renderer.clear(i,s,o,a),this},t.colorMode=function(r,i,s,o,a){if([Wn,Ti,Di,Zr,qu,Qh,Fl,ef,kl].includes(r)){this._renderer.states.setValue("colorMode",r),this._renderer.states.setValue("colorMaxes",this._renderer.states.colorMaxes.clone());const l=this._renderer.states.colorMaxes[r];arguments.length===2?(l[0]=i,l[1]=i,l[2]=i,l[3]=i):arguments.length===4?(l[0]=i,l[1]=s,l[2]=o):arguments.length===5&&(l[0]=i,l[1]=s,l[2]=o,l[3]=a)}return this._renderer.states.colorMode},t.fill=function(...r){return this._renderer.fill(...r),this},t.noFill=function(){return this._renderer.noFill(),this},t.noStroke=function(){return this._renderer.states.setValue("strokeColor",null),this},t.stroke=function(...r){return this._renderer.stroke(...r),this},t.erase=function(r=255,i=255){return this._renderer.erase(r,i),this},t.noErase=function(){return this._renderer.noErase(),this},t.blendMode=function(r){r===co&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=Ii),this._renderer.blendMode(r)}}typeof p5<"u"&&tx(p5,p5.prototype);var _d={},Z2;function wK(){if(Z2)return _d;Z2=1;function n(s,o,a,h){var u=0,h=h===void 0?{}:h,c=h.loop===void 0?null:h.loop,f=h.palette===void 0?null:h.palette;if(o<=0||a<=0||o>65535||a>65535)throw new Error("Width/Height invalid.");function d(b){var w=b.length;if(w<2||w>256||w&w-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return w}s[u++]=71,s[u++]=73,s[u++]=70,s[u++]=56,s[u++]=57,s[u++]=97;var p=0,m=0;if(f!==null){for(var g=d(f);g>>=1;)++p;if(g=1<<p,--p,h.background!==void 0){if(m=h.background,m>=g)throw new Error("Background index out of range.");if(m===0)throw new Error("Background index explicitly passed as 0.")}}if(s[u++]=o&255,s[u++]=o>>8&255,s[u++]=a&255,s[u++]=a>>8&255,s[u++]=(f!==null?128:0)|p,s[u++]=m,s[u++]=0,f!==null)for(var v=0,S=f.length;v<S;++v){var y=f[v];s[u++]=y>>16&255,s[u++]=y>>8&255,s[u++]=y&255}if(c!==null){if(c<0||c>65535)throw new Error("Loop count invalid.");s[u++]=33,s[u++]=255,s[u++]=11,s[u++]=78,s[u++]=69,s[u++]=84,s[u++]=83,s[u++]=67,s[u++]=65,s[u++]=80,s[u++]=69,s[u++]=50,s[u++]=46,s[u++]=48,s[u++]=3,s[u++]=1,s[u++]=c&255,s[u++]=c>>8&255,s[u++]=0}var x=!1;this.addFrame=function(b,w,E,_,T,C){if(x===!0&&(--u,x=!1),C=C===void 0?{}:C,b<0||w<0||b>65535||w>65535)throw new Error("x/y invalid.");if(E<=0||_<=0||E>65535||_>65535)throw new Error("Width/Height invalid.");if(T.length<E*_)throw new Error("Not enough pixels for the frame size.");var F=!0,k=C.palette;if(k==null&&(F=!1,k=f),k==null)throw new Error("Must supply either a local or global palette.");for(var D=d(k),N=0;D>>=1;)++N;D=1<<N;var M=C.delay===void 0?0:C.delay,U=C.disposal===void 0?0:C.disposal;if(U<0||U>3)throw new Error("Disposal out of range.");var R=!1,W=0;if(C.transparent!==void 0&&C.transparent!==null&&(R=!0,W=C.transparent,W<0||W>=D))throw new Error("Transparent color index.");if((U!==0||R||M!==0)&&(s[u++]=33,s[u++]=249,s[u++]=4,s[u++]=U<<2|(R===!0?1:0),s[u++]=M&255,s[u++]=M>>8&255,s[u++]=W,s[u++]=0),s[u++]=44,s[u++]=b&255,s[u++]=b>>8&255,s[u++]=w&255,s[u++]=w>>8&255,s[u++]=E&255,s[u++]=E>>8&255,s[u++]=_&255,s[u++]=_>>8&255,s[u++]=F===!0?128|N-1:0,F===!0)for(var ne=0,ge=k.length;ne<ge;++ne){var te=k[ne];s[u++]=te>>16&255,s[u++]=te>>8&255,s[u++]=te&255}return u=t(s,u,N<2?2:N,T),u},this.end=function(){return x===!1&&(s[u++]=59,x=!0),u},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(b){s=b},this.getOutputBufferPosition=function(){return u},this.setOutputBufferPosition=function(b){u=b}}function t(s,o,a,l){s[o++]=a;var u=o++,h=1<<a,c=h-1,f=h+1,d=f+1,p=a+1,m=0,g=0;function v(C){for(;m>=C;)s[o++]=g&255,g>>=8,m-=8,o===u+256&&(s[u]=255,u=o++)}function S(C){g|=C<<m,m+=p,v(8)}var y=l[0]&c,x={};S(h);for(var b=1,w=l.length;b<w;++b){var E=l[b]&c,_=y<<8|E,T=x[_];if(T===void 0){for(g|=y<<m,m+=p;m>=8;)s[o++]=g&255,g>>=8,m-=8,o===u+256&&(s[u]=255,u=o++);d===4096?(S(h),d=f+1,p=a+1,x={}):(d>=1<<p&&++p,x[_]=d++),y=E}else y=T}return S(y),S(f),v(1),u+1===o?s[u]=0:(s[u]=o-u-1,s[o++]=0),o}function r(s){var o=0;if(s[o++]!==71||s[o++]!==73||s[o++]!==70||s[o++]!==56||(s[o++]+1&253)!==56||s[o++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=s[o++]|s[o++]<<8,l=s[o++]|s[o++]<<8,u=s[o++],h=u>>7,c=u&7,f=1<<c+1;s[o++],s[o++];var d=null,p=null;h&&(d=o,p=f,o+=f*3);var m=!0,g=[],v=0,S=null,y=0,x=null;for(this.width=a,this.height=l;m&&o<s.length;)switch(s[o++]){case 33:switch(s[o++]){case 255:if(s[o]!==11||s[o+1]==78&&s[o+2]==69&&s[o+3]==84&&s[o+4]==83&&s[o+5]==67&&s[o+6]==65&&s[o+7]==80&&s[o+8]==69&&s[o+9]==50&&s[o+10]==46&&s[o+11]==48&&s[o+12]==3&&s[o+13]==1&&s[o+16]==0)o+=14,x=s[o++]|s[o++]<<8,o++;else for(o+=12;;){var b=s[o++];if(!(b>=0))throw Error("Invalid block size");if(b===0)break;o+=b}break;case 249:if(s[o++]!==4||s[o+4]!==0)throw new Error("Invalid graphics extension block.");var w=s[o++];v=s[o++]|s[o++]<<8,S=s[o++],(w&1)===0&&(S=null),y=w>>2&7,o++;break;case 254:for(;;){var b=s[o++];if(!(b>=0))throw Error("Invalid block size");if(b===0)break;o+=b}break;default:throw new Error("Unknown graphic control label: 0x"+s[o-1].toString(16))}break;case 44:var E=s[o++]|s[o++]<<8,_=s[o++]|s[o++]<<8,T=s[o++]|s[o++]<<8,C=s[o++]|s[o++]<<8,F=s[o++],k=F>>7,D=F>>6&1,N=F&7,M=1<<N+1,U=d,R=p,W=!1;if(k){var W=!0;U=o,R=M,o+=M*3}var ne=o;for(o++;;){var b=s[o++];if(!(b>=0))throw Error("Invalid block size");if(b===0)break;o+=b}g.push({x:E,y:_,width:T,height:C,has_local_palette:W,palette_offset:U,palette_size:R,data_offset:ne,data_length:o-ne,transparent_index:S,interlaced:!!D,delay:v,disposal:y});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+s[o-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return x},this.frameInfo=function(ge){if(ge<0||ge>=g.length)throw new Error("Frame index out of range.");return g[ge]},this.decodeAndBlitFrameBGRA=function(ge,te){var J=this.frameInfo(ge),ae=J.width*J.height,xe=new Uint8Array(ae);i(s,J.data_offset,xe,ae);var Z=J.palette_offset,G=J.transparent_index;G===null&&(G=256);var ye=J.width,Q=a-ye,pe=ye,$=(J.y*a+J.x)*4,re=((J.y+J.height)*a+J.x)*4,be=$,Se=Q*4;J.interlaced===!0&&(Se+=a*4*7);for(var j=8,X=0,ee=xe.length;X<ee;++X){var Ae=xe[X];if(pe===0&&(be+=Se,pe=ye,be>=re&&(Se=Q*4+a*4*(j-1),be=$+(ye+Q)*(j<<1),j>>=1)),Ae===G)be+=4;else{var we=s[Z+Ae*3],he=s[Z+Ae*3+1],me=s[Z+Ae*3+2];te[be++]=me,te[be++]=he,te[be++]=we,te[be++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(ge,te){var J=this.frameInfo(ge),ae=J.width*J.height,xe=new Uint8Array(ae);i(s,J.data_offset,xe,ae);var Z=J.palette_offset,G=J.transparent_index;G===null&&(G=256);var ye=J.width,Q=a-ye,pe=ye,$=(J.y*a+J.x)*4,re=((J.y+J.height)*a+J.x)*4,be=$,Se=Q*4;J.interlaced===!0&&(Se+=a*4*7);for(var j=8,X=0,ee=xe.length;X<ee;++X){var Ae=xe[X];if(pe===0&&(be+=Se,pe=ye,be>=re&&(Se=Q*4+a*4*(j-1),be=$+(ye+Q)*(j<<1),j>>=1)),Ae===G)be+=4;else{var we=s[Z+Ae*3],he=s[Z+Ae*3+1],me=s[Z+Ae*3+2];te[be++]=we,te[be++]=he,te[be++]=me,te[be++]=255}--pe}}}function i(s,o,a,l){for(var u=s[o++],h=1<<u,c=h+1,f=c+1,d=u+1,p=(1<<d)-1,m=0,g=0,v=0,S=s[o++],y=new Int32Array(4096),x=null;;){for(;m<16&&S!==0;)g|=s[o++]<<m,m+=8,S===1?S=s[o++]:--S;if(m<d)break;var b=g&p;if(g>>=d,m-=d,b===h){f=c+1,d=u+1,p=(1<<d)-1,x=null;continue}else if(b===c)break;for(var w=b<f?b:x,E=0,_=w;_>h;)_=y[_]>>8,++E;var T=_,C=v+E+(w!==b?1:0);if(C>l){console.log("Warning, gif stream longer than expected.");return}a[v++]=T,v+=E;var F=v;for(w!==b&&(a[v++]=T),_=w;E--;)_=y[_],a[--F]=_&255,_>>=8;x!==null&&f<4096&&(y[f++]=x<<8|T,f>=p+1&&d<12&&(++d,p=p<<1|1)),x=b}return v!==l&&console.log("Warning, gif stream shorter than expected."),a}try{_d.GifWriter=n,_d.GifReader=r}catch{}return _d}var UN=wK();function EK(n,t,r=i=>i){const i=Object.create(null);if(i.options=t||{},i.reviver=r,i.value="",i.entry=[],i.output=[],i.col=1,i.row=1,i.options.delimiter=i.options.delimiter===void 0?'"':t.delimiter,i.options.delimiter.length>1||i.options.delimiter.length===0)throw Error(`CSVError: delimiter must be one character [${i.options.separator}]`);if(i.options.separator=i.options.separator===void 0?",":t.separator,i.options.separator.length>1||i.options.separator.length===0)throw Error(`CSVError: separator must be one character [${i.options.separator}]`);const s=new RegExp(`${Bu(i.options.delimiter)}|${Bu(i.options.separator)}|\r
|
|\r|[^${Bu(i.options.delimiter)}${Bu(i.options.separator)}\r
]+`,"y"),o=/^(\r\n|\n|\r)$/;let a=[],l="",u=0;for(;(a=s.exec(n))!==null;)switch(l=a[0],u){case 0:switch(!0){case l===i.options.delimiter:u=3;break;case l===i.options.separator:u=0,sl(i);break;case o.test(l):u=0,sl(i),wd(i);break;default:i.value+=l,u=2;break}break;case 2:switch(!0){case l===i.options.separator:u=0,sl(i);break;case o.test(l):u=0,sl(i),wd(i);break;default:throw u=4,Error(`CSVError: Illegal state [row:${i.row}, col:${i.col}]`)}break;case 3:switch(!0){case l===i.options.delimiter:u=4;break;default:u=3,i.value+=l;break}break;case 4:switch(!0){case l===i.options.delimiter:u=3,i.value+=l;break;case l===i.options.separator:u=0,sl(i);break;case o.test(l):u=0,sl(i),wd(i);break;default:throw Error(`CSVError: Illegal state [row:${i.row}, col:${i.col}]`)}break}return i.entry.length!==0&&(sl(i),wd(i)),i.output}function SK(n,t={},r=i=>i){const i=Object.create(null);if(i.options=t,i.options.eof=i.options.eof!==void 0?i.options.eof:!0,i.row=1,i.col=1,i.output="",i.options.delimiter=i.options.delimiter===void 0?'"':t.delimiter,i.options.delimiter.length>1||i.options.delimiter.length===0)throw Error(`CSVError: delimiter must be one character [${i.options.separator}]`);if(i.options.separator=i.options.separator===void 0?",":t.separator,i.options.separator.length>1||i.options.separator.length===0)throw Error(`CSVError: separator must be one character [${i.options.separator}]`);const s=new RegExp(`${Bu(i.options.delimiter)}|${Bu(i.options.separator)}|\r
|
|\r`);return n.forEach((o,a)=>{let l="";switch(i.col=1,o.forEach((u,h)=>{typeof u=="string"&&(u=u.replace(new RegExp(i.options.delimiter,"g"),`${i.options.delimiter}${i.options.delimiter}`),u=s.test(u)?`${i.options.delimiter}${u}${i.options.delimiter}`:u),l+=r(u,i.row,i.col),h!==o.length-1&&(l+=i.options.separator),i.col++}),!0){case i.options.eof:case(!i.options.eof&&a!==n.length-1):i.output+=`${l}
`;break;default:i.output+=`${l}`;break}i.row++}),i.output}function sl(n){const t=n.options.typed?CK(n.value):n.value;n.entry.push(n.reviver(t,n.row,n.col)),n.value="",n.col++}function wd(n){n.output.push(n.entry),n.entry=[],n.row++,n.col=1}function CK(n){const t=/.\./;switch(!0){case n==="true":case n==="false":return n==="true";case t.test(n):return parseFloat(n);case isFinite(n):return parseInt(n);default:return n}}function Bu(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var AK={trailer:59};function VN(n=256){let t=0,r=new Uint8Array(n);return{get buffer(){return r.buffer},reset(){t=0},bytesView(){return r.subarray(0,t)},bytes(){return r.slice(0,t)},writeByte(s){i(t+1),r[t]=s,t++},writeBytes(s,o=0,a=s.length){i(t+a);for(let l=0;l<a;l++)r[t++]=s[l+o]},writeBytesView(s,o=0,a=s.byteLength){i(t+a),r.set(s.subarray(o,o+a),t),t+=a}};function i(s){var o=r.length;if(o>=s)return;var a=1024*1024;s=Math.max(s,o*(o<a?2:1.125)>>>0),o!=0&&(s=Math.max(s,256));let l=r;r=new Uint8Array(s),t>0&&r.set(l.subarray(0,t),0)}}var Z0=12,J2=5003,TK=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function IK(n,t,r,i,s=VN(512),o=new Uint8Array(256),a=new Int32Array(J2),l=new Int32Array(J2)){let u=a.length,h=Math.max(2,i);o.fill(0),l.fill(0),a.fill(-1);let c=0,f=0,d=h+1,p=d,m=!1,g=p,v=(1<<g)-1,S=1<<d-1,y=S+1,x=S+2,b=0,w=r[0],E=0;for(let C=u;C<65536;C*=2)++E;E=8-E,s.writeByte(h),T(S);let _=r.length;for(let C=1;C<_;C++)e:{let F=r[C],k=(F<<Z0)+w,D=F<<E^w;if(a[D]===k){w=l[D];break e}let N=D===0?1:u-D;for(;a[D]>=0;)if(D-=N,D<0&&(D+=u),a[D]===k){w=l[D];break e}T(w),w=F,x<1<<Z0?(l[D]=x++,a[D]=k):(a.fill(-1),x=S+2,m=!0,T(S))}return T(w),T(y),s.writeByte(0),s.bytesView();function T(C){for(c&=TK[f],f>0?c|=C<<f:c=C,f+=g;f>=8;)o[b++]=c&255,b>=254&&(s.writeByte(b),s.writeBytesView(o,0,b),b=0),c>>=8,f-=8;if((x>v||m)&&(m?(g=p,v=(1<<g)-1,m=!1):(++g,v=g===Z0?1<<g:(1<<g)-1)),C==y){for(;f>0;)o[b++]=c&255,b>=254&&(s.writeByte(b),s.writeBytesView(o,0,b),b=0),c>>=8,f-=8;b>0&&(s.writeByte(b),s.writeBytesView(o,0,b),b=0)}}}var DK=IK;function NK(n,t,r){return n<<8&63488|t<<2&992|r>>3}function FK(n,t,r,i){return n>>4|t&240|(r&240)<<4|(i&240)<<8}function kK(n,t,r){return n>>4<<8|t&240|r>>4}function Ed(n,t,r){return n<t?t:n>r?r:n}function up(n){return n*n}function Q2(n,t,r){var i=0,s=1e100;let o=n[t],a=o.cnt;o.ac;let l=o.rc,u=o.gc,h=o.bc;for(var c=o.fw;c!=0;c=n[c].fw){let d=n[c],p=d.cnt,m=a*p/(a+p);if(!(m>=s)){var f=0;f+=m*up(d.rc-l),!(f>=s)&&(f+=m*up(d.gc-u),!(f>=s)&&(f+=m*up(d.bc-h),!(f>=s)&&(s=f,i=c)))}}o.err=s,o.nn=i}function J0(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function MK(n,t){let r=t==="rgb444"?4096:65536,i=new Array(r),s=n.length;if(t==="rgba4444")for(let o=0;o<s;++o){let a=n[o],l=a>>24&255,u=a>>16&255,h=a>>8&255,c=a&255,f=FK(c,h,u,l),d=f in i?i[f]:i[f]=J0();d.rc+=c,d.gc+=h,d.bc+=u,d.ac+=l,d.cnt++}else if(t==="rgb444")for(let o=0;o<s;++o){let a=n[o],l=a>>16&255,u=a>>8&255,h=a&255,c=kK(h,u,l),f=c in i?i[c]:i[c]=J0();f.rc+=h,f.gc+=u,f.bc+=l,f.cnt++}else for(let o=0;o<s;++o){let a=n[o],l=a>>16&255,u=a>>8&255,h=a&255,c=NK(h,u,l),f=c in i?i[c]:i[c]=J0();f.rc+=h,f.gc+=u,f.bc+=l,f.cnt++}return i}function OK(n,t,r={}){let{format:i="rgb565",clearAlpha:s=!0,clearAlphaColor:o=0,clearAlphaThreshold:a=0,oneBitAlpha:l=!1}=r;if(!n||!n.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(n instanceof Uint8Array)&&!(n instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");let u=new Uint32Array(n.buffer),h=r.useSqrt!==!1,c=i==="rgba4444",f=MK(u,i),d=f.length,p=d-1,m=new Uint32Array(d+1);for(var g=0,v=0;v<d;++v){let M=f[v];if(M!=null){var S=1/M.cnt;c&&(M.ac*=S),M.rc*=S,M.gc*=S,M.bc*=S,f[g++]=M}}up(t)/g<.022&&(h=!1);for(var v=0;v<g-1;++v)f[v].fw=v+1,f[v+1].bk=v,h&&(f[v].cnt=Math.sqrt(f[v].cnt));h&&(f[v].cnt=Math.sqrt(f[v].cnt));var y,x,b;for(v=0;v<g;++v){Q2(f,v);var w=f[v].err;for(x=++m[0];x>1&&(b=x>>1,!(f[y=m[b]].err<=w));x=b)m[x]=y;m[x]=v}var E=g-t;for(v=0;v<E;){for(var _;;){var T=m[1];if(_=f[T],_.tm>=_.mtm&&f[_.nn].mtm<=_.tm)break;_.mtm==p?T=m[1]=m[m[0]--]:(Q2(f,T),_.tm=v);var w=f[T].err;for(x=1;(b=x+x)<=m[0]&&(b<m[0]&&f[m[b]].err>f[m[b+1]].err&&b++,!(w<=f[y=m[b]].err));x=b)m[x]=y;m[x]=T}var C=f[_.nn],F=_.cnt,k=C.cnt,S=1/(F+k);c&&(_.ac=S*(F*_.ac+k*C.ac)),_.rc=S*(F*_.rc+k*C.rc),_.gc=S*(F*_.gc+k*C.gc),_.bc=S*(F*_.bc+k*C.bc),_.cnt+=C.cnt,_.mtm=++v,f[C.bk].fw=C.fw,f[C.fw].bk=C.bk,C.mtm=p}let D=[];var N=0;for(v=0;;++N){let M=Ed(Math.round(f[v].rc),0,255),U=Ed(Math.round(f[v].gc),0,255),R=Ed(Math.round(f[v].bc),0,255),W=255;c&&(W=Ed(Math.round(f[v].ac),0,255),l&&(W=W<=(typeof l=="number"?l:127)?0:255),s&&W<=a&&(M=U=R=o,W=0));let ne=c?[M,U,R,W]:[M,U,R];if(PK(D,ne)||D.push(ne),(v=f[v].fw)==0)break}return D}function PK(n,t){for(let r=0;r<n.length;r++){let i=n[r],s=i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2],o=i.length>=4&&t.length>=4?i[3]===t[3]:!0;if(s&&o)return!0}return!1}function LK(n,t){var r=0,i;for(i=0;i<n.length;i++){let s=n[i]-t[i];r+=s*s}return r}function RK(n,t,r=LK){let i=1/0,s=-1;for(let o=0;o<n.length;o++){let a=n[o],l=r(t,a);l<i&&(i=l,s=o)}return s}function BK(n={}){let{initialCapacity:t=4096,auto:r=!0}=n,i=VN(t),s=5003,o=new Uint8Array(256),a=new Int32Array(s),l=new Int32Array(s),u=!1;return{reset(){i.reset(),u=!1},finish(){i.writeByte(AK.trailer)},bytes(){return i.bytes()},bytesView(){return i.bytesView()},get buffer(){return i.buffer},get stream(){return i},writeHeader:h,writeFrame(c,f,d,p={}){let{transparent:m=!1,transparentIndex:g=0,delay:v=0,palette:S=null,repeat:y=0,colorDepth:x=8,dispose:b=-1}=p,w=!1;if(r?u||(w=!0,h(),u=!0):w=!!p.first,f=Math.max(0,Math.floor(f)),d=Math.max(0,Math.floor(d)),w){if(!S)throw new Error("First frame must include a { palette } option");VK(i,f,d,S,x),eS(i,S),y>=0&&$K(i,y)}let E=Math.round(v/10);UK(i,b,E,m,g);let _=!!S&&!w;jK(i,f,d,_?S:null),_&&eS(i,S),zK(i,c,f,d,x,o,a,l)}};function h(){$N(i,"GIF89a")}}function UK(n,t,r,i,s){n.writeByte(33),n.writeByte(249),n.writeByte(4),s<0&&(s=0,i=!1);var o,a;i?(o=1,a=2):(o=0,a=0),t>=0&&(a=t&7),a<<=2,n.writeByte(0|a|0|o),Aa(n,r),n.writeByte(s||0),n.writeByte(0)}function VK(n,t,r,i,s=8){let o=1,a=0,l=nx(i.length)-1,u=o<<7|s-1<<4|a<<3|l;Aa(n,t),Aa(n,r),n.writeBytes([u,0,0])}function $K(n,t){n.writeByte(33),n.writeByte(255),n.writeByte(11),$N(n,"NETSCAPE2.0"),n.writeByte(3),n.writeByte(1),Aa(n,t),n.writeByte(0)}function eS(n,t){let r=1<<nx(t.length);for(let i=0;i<r;i++){let s=[0,0,0];i<t.length&&(s=t[i]),n.writeByte(s[0]),n.writeByte(s[1]),n.writeByte(s[2])}}function jK(n,t,r,i){if(n.writeByte(44),Aa(n,0),Aa(n,0),Aa(n,t),Aa(n,r),i){let s=0,o=0,a=nx(i.length)-1;n.writeByte(128|s|o|0|a)}else n.writeByte(0)}function zK(n,t,r,i,s=8,o,a,l){DK(r,i,t,s,n,o,a,l)}function Aa(n,t){n.writeByte(t&255),n.writeByte(t>>8&255)}function $N(n,t){for(var r=0;r<t.length;r++)n.writeByte(t.charCodeAt(r))}function nx(n){return Math.max(Math.ceil(Math.log2(n)),1)}function rx(n,t){t.blend=function(...i){this._renderer?this._renderer.blend(...i):n.Renderer2D.prototype.blend.apply(this,i)},t.copy=function(...i){let s,o,a,l,u,h,c,f,d;if(i.length===9)s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],c=i[6],f=i[7],d=i[8];else if(i.length===8)s=this,o=i[0],a=i[1],l=i[2],u=i[3],h=i[4],c=i[5],f=i[6],d=i[7];else throw new Error("Signature not supported");t._copyHelper(this,s,o,a,l,u,h,c,f,d)},t._copyHelper=(i,s,o,a,l,u,h,c,f,d)=>{const p=s.canvas.width/s.width;let m=0,g=0;s._renderer&&s._renderer.isP3D&&(m=s.width/2,g=s.height/2),i._renderer&&i._renderer.isP3D?(i.push(),i.resetMatrix(),i.noLights(),i.blendMode(i.BLEND),i.imageMode(i.CORNER),i._renderer.image(s,o+m,a+g,l,u,h,c,f,d),i.pop()):i.drawingContext.drawImage(s.canvas,p*(o+m),p*(a+g),p*l,p*u,h,c,f,d)},t.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},t.filter=function(...i){let{shader:s,operation:o,value:a,useWebGL:l}=r(...i);if(this._renderer.isP3D&&s){this._renderer.filter(s);return}if(!l&&!this._renderer.isP3D){this.canvas!==void 0?Cn.apply(this.canvas,Cn[o],a):Cn.apply(this.elt,Cn[o],a);return}!l&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?this._renderer.filter(o,a):(s?this._renderer.filterRenderer.setOperation(o,a,s):this._renderer.filterRenderer.setOperation(o,a),this._renderer.filterRenderer.applyFilter())};function r(...i){let s={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return i[0]instanceof n.Shader?(s.shader=i[0],s):(s.operation=i[0],i.length>1&&typeof i[1]=="number"&&(s.value=i[1]),i[i.length-1]===!1&&(s.useWebGL=!1),s)}t.get=function(i,s,o,a){return this._renderer.get(...arguments)},t.loadPixels=function(...i){this._renderer.loadPixels()},t.set=function(i,s,o){this._renderer.set(i,s,o)},t.updatePixels=function(i,s,o,a){this.pixels.length!==0&&this._renderer.updatePixels(i,s,o,a)}}typeof p5<"u"&&rx(p5,p5.prototype);class ix{#e=null;constructor(...t){if(this.constructor===ix)throw new Error("Class is of abstract type and can't be instantiated")}}const Q0=n=>{if(Math.sqrt(n.length)%1!==0)throw new Error("Array length must be a perfect square.");return!0};let No=Array,hl=n=>Array.isArray(n);typeof Float32Array<"u"&&(No=Float32Array,hl=n=>Array.isArray(n)||n instanceof Float32Array);class Rn extends ix{matrix;#e;constructor(...t){if(super(...t),hl(t[0])&&Q0(t[0])){const r=Math.sqrt(t[0].length);this.#e=r,this.matrix=No.from(t[0])}else typeof t[0]=="number"&&(this.#e=Number(t[0]),this.matrix=this.#t(t[0]));return this}get mat3(){if(this.#e===3)return this.matrix}get mat4(){if(this.#e===4)return this.matrix}add(t){if(this.matrix.length!==t.matrix.length)throw new Error("Matrices must be of the same dimension to add.");for(let r=0;r<this.matrix.length;r++)this.matrix[r]+=t.matrix[r];return this}setElement(t,r){return t>=0&&t<this.matrix.length&&(this.matrix[t]=r),this}reset(){return this.matrix=this.#t(this.#e),this}set(t){let r=No.from([...arguments]);return t instanceof Rn?r=No.from(t.matrix):hl(t)&&(r=No.from(t)),r.length!==this.matrix.length?(p5._friendlyError(`Expected same dimensions values but received different ${r.length}.`,"p5.Matrix.set"),this):(this.matrix=r,this)}get(){return new Rn(this.matrix)}copy(){return new Rn(this.matrix)}clone(){return this.copy()}diagonal(){const t=[];for(let r=0;r<this.#e;r++)t.push(this.matrix[r*(this.#e+1)]);return t}row(t){const r=[];for(let i=0;i<this.#e;i++)r.push(this.matrix[i*this.#e+t]);return new Ne(...r)}column(t){const r=[];for(let i=0;i<this.#e;i++)r.push(this.matrix[t*this.#e+i]);return new Ne(...r)}transpose(t){return this.#e===4?this.#r(t):this.#e===3?this.#a(t):this.#o(t)}mult(t){let r;return t===this||t===this.matrix?r=this.copy().matrix:t instanceof Rn?r=t.matrix:hl(t)&&Q0(t)?r=t:Q0(Array.from(arguments))&&(r=Array.from(arguments)),this.#e===4&&r.length===16?this.#n(r):this.#e===3&&r.length===9?this.#s(r):this.#i(r)}multiplyVec(t,r){r===void 0&&(r=t.copy());for(let i=0;i<this.#e;i++)r.values[i]=this.row(i).dot(t);return r}invert(t){if(this.#e===4)return this.#l(t);if(this.#e===3)return this.#u(t);throw new Error("Invert is not implemented for N>4 at the moment, we are working on it")}createSubMatrix3x3(){if(this.#e===4){const t=new Rn(3);return t.mat3[0]=this.matrix[0],t.mat3[1]=this.matrix[1],t.mat3[2]=this.matrix[2],t.mat3[3]=this.matrix[4],t.mat3[4]=this.matrix[5],t.mat3[5]=this.matrix[6],t.mat3[6]=this.matrix[8],t.mat3[7]=this.matrix[9],t.mat3[8]=this.matrix[10],t}else throw new Error("Matrix dimension must be 4 to create a 3x3 submatrix.")}inverseTranspose4x4({mat4:t}){if(this.#e!==3)throw new Error("This function only works with 33 matrices.");this.matrix[0]=t[0],this.matrix[1]=t[1],this.matrix[2]=t[2],this.matrix[3]=t[4],this.matrix[4]=t[5],this.matrix[5]=t[6],this.matrix[6]=t[8],this.matrix[7]=t[9],this.matrix[8]=t[10];const r=this.invert();if(r)r.transpose(this.matrix);else for(let i=0;i<9;i++)this.matrix[i]=0;return this}apply(t){let r;if(t===this||t===this.matrix)r=this.copy().matrix;else if(t instanceof Rn)r=t.matrix;else if(hl(t))r=t;else if(arguments.length===16)r=arguments;else return;const i=this.matrix,s=i[0],o=i[4],a=i[8],l=i[12];i[0]=r[0]*s+r[1]*o+r[2]*a+r[3]*l,i[4]=r[4]*s+r[5]*o+r[6]*a+r[7]*l,i[8]=r[8]*s+r[9]*o+r[10]*a+r[11]*l,i[12]=r[12]*s+r[13]*o+r[14]*a+r[15]*l;const u=i[1],h=i[5],c=i[9],f=i[13];i[1]=r[0]*u+r[1]*h+r[2]*c+r[3]*f,i[5]=r[4]*u+r[5]*h+r[6]*c+r[7]*f,i[9]=r[8]*u+r[9]*h+r[10]*c+r[11]*f,i[13]=r[12]*u+r[13]*h+r[14]*c+r[15]*f;const d=i[2],p=i[6],m=i[10],g=i[14];i[2]=r[0]*d+r[1]*p+r[2]*m+r[3]*g,i[6]=r[4]*d+r[5]*p+r[6]*m+r[7]*g,i[10]=r[8]*d+r[9]*p+r[10]*m+r[11]*g,i[14]=r[12]*d+r[13]*p+r[14]*m+r[15]*g;const v=i[3],S=i[7],y=i[11],x=i[15];return i[3]=r[0]*v+r[1]*S+r[2]*y+r[3]*x,i[7]=r[4]*v+r[5]*S+r[6]*y+r[7]*x,i[11]=r[8]*v+r[9]*S+r[10]*y+r[11]*x,i[15]=r[12]*v+r[13]*S+r[14]*y+r[15]*x,this}scale(t,r,i){return t instanceof Ne?(r=t.y,i=t.z,t=t.x):t instanceof Array&&(r=t[1],i=t[2],t=t[0]),this.matrix[0]*=t,this.matrix[1]*=t,this.matrix[2]*=t,this.matrix[3]*=t,this.matrix[4]*=r,this.matrix[5]*=r,this.matrix[6]*=r,this.matrix[7]*=r,this.matrix[8]*=i,this.matrix[9]*=i,this.matrix[10]*=i,this.matrix[11]*=i,this}rotate4x4(t,r,i,s){r instanceof Ne?(i=r.y,s=r.z,r=r.x):r instanceof Array&&(i=r[1],s=r[2],r=r[0]);const o=Math.sqrt(r*r+i*i+s*s);r*=1/o,i*=1/o,s*=1/o;const a=this.matrix[0],l=this.matrix[1],u=this.matrix[2],h=this.matrix[3],c=this.matrix[4],f=this.matrix[5],d=this.matrix[6],p=this.matrix[7],m=this.matrix[8],g=this.matrix[9],v=this.matrix[10],S=this.matrix[11],y=Math.sin(t),x=Math.cos(t),b=1-x,w=r*r*b+x,E=i*r*b+s*y,_=s*r*b-i*y,T=r*i*b-s*y,C=i*i*b+x,F=s*i*b+r*y,k=r*s*b+i*y,D=i*s*b-r*y,N=s*s*b+x;return this.matrix[0]=a*w+c*E+m*_,this.matrix[1]=l*w+f*E+g*_,this.matrix[2]=u*w+d*E+v*_,this.matrix[3]=h*w+p*E+S*_,this.matrix[4]=a*T+c*C+m*F,this.matrix[5]=l*T+f*C+g*F,this.matrix[6]=u*T+d*C+v*F,this.matrix[7]=h*T+p*C+S*F,this.matrix[8]=a*k+c*D+m*N,this.matrix[9]=l*k+f*D+g*N,this.matrix[10]=u*k+d*D+v*N,this.matrix[11]=h*k+p*D+S*N,this}translate(t){const r=t[0],i=t[1],s=t[2]||0;return this.matrix[12]+=this.matrix[0]*r+this.matrix[4]*i+this.matrix[8]*s,this.matrix[13]+=this.matrix[1]*r+this.matrix[5]*i+this.matrix[9]*s,this.matrix[14]+=this.matrix[2]*r+this.matrix[6]*i+this.matrix[10]*s,this.matrix[15]+=this.matrix[3]*r+this.matrix[7]*i+this.matrix[11]*s,this}rotateX(t){this.rotate4x4(t,1,0,0)}rotateY(t){this.rotate4x4(t,0,1,0)}rotateZ(t){this.rotate4x4(t,0,0,1)}perspective(t,r,i,s){const o=1/Math.tan(t/2),a=1/(i-s);return this.matrix[0]=o/r,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=o,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=(s+i)*a,this.matrix[11]=-1,this.matrix[12]=0,this.matrix[13]=0,this.matrix[14]=2*s*i*a,this.matrix[15]=0,this}ortho(t,r,i,s,o,a){const l=1/(t-r),u=1/(i-s),h=1/(o-a);return this.matrix[0]=-2*l,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=-2*u,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=2*h,this.matrix[11]=0,this.matrix[12]=(t+r)*l,this.matrix[13]=(s+i)*u,this.matrix[14]=(a+o)*h,this.matrix[15]=1,this}multiplyVec4(t,r,i,s){const o=new Array(4),a=this.matrix;return o[0]=a[0]*t+a[4]*r+a[8]*i+a[12]*s,o[1]=a[1]*t+a[5]*r+a[9]*i+a[13]*s,o[2]=a[2]*t+a[6]*r+a[10]*i+a[14]*s,o[3]=a[3]*t+a[7]*r+a[11]*i+a[15]*s,o}multiplyPoint({x:t,y:r,z:i}){const s=this.multiplyVec4(t,r,i,1);return new Ne(s[0],s[1],s[2])}multiplyAndNormalizePoint({x:t,y:r,z:i}){const s=this.multiplyVec4(t,r,i,1);return s[0]/=s[3],s[1]/=s[3],s[2]/=s[3],new Ne(s[0],s[1],s[2])}multiplyDirection({x:t,y:r,z:i}){const s=this.multiplyVec4(t,r,i,0);return new Ne(s[0],s[1],s[2])}multiplyVec3(t,r){return r===void 0&&(r=t.copy()),r.x=this.row(0).dot(t),r.y=this.row(1).dot(t),r.z=this.row(2).dot(t),r}#t(t){if(t===3)return new No([1,0,0,0,1,0,0,0,1]);if(t===4)return new No([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);const r=new No(t*t).fill(0);for(let i=0;i<t;i++)r[i*t+i]=1;return r}#n(t){let r=this.matrix[0],i=this.matrix[1],s=this.matrix[2],o=this.matrix[3];return this.matrix[0]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[1]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[2]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[3]=r*t[3]+i*t[7]+s*t[11]+o*t[15],r=this.matrix[4],i=this.matrix[5],s=this.matrix[6],o=this.matrix[7],this.matrix[4]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[5]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[6]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[7]=r*t[3]+i*t[7]+s*t[11]+o*t[15],r=this.matrix[8],i=this.matrix[9],s=this.matrix[10],o=this.matrix[11],this.matrix[8]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[9]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[10]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[11]=r*t[3]+i*t[7]+s*t[11]+o*t[15],r=this.matrix[12],i=this.matrix[13],s=this.matrix[14],o=this.matrix[15],this.matrix[12]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[13]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[14]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[15]=r*t[3]+i*t[7]+s*t[11]+o*t[15],this}#i(t){if(t.length!==this.matrix.length)throw new Error("Matrices must be of the same dimension to multiply.");const r=new No(this.matrix.length).fill(0);for(let i=0;i<this.#e;i++)for(let s=0;s<this.#e;s++)for(let o=0;o<this.#e;o++)r[i*this.#e+s]+=this.matrix[i*this.#e+o]*t[o*this.#e+s];return this.matrix=r,this}#s(t){let r=this.mat3[0],i=this.mat3[1],s=this.mat3[2];return this.mat3[0]=r*t[0]+i*t[3]+s*t[6],this.mat3[1]=r*t[1]+i*t[4]+s*t[7],this.mat3[2]=r*t[2]+i*t[5]+s*t[8],r=this.mat3[3],i=this.mat3[4],s=this.mat3[5],this.mat3[3]=r*t[0]+i*t[3]+s*t[6],this.mat3[4]=r*t[1]+i*t[4]+s*t[7],this.mat3[5]=r*t[2]+i*t[5]+s*t[8],r=this.mat3[6],i=this.mat3[7],s=this.mat3[8],this.mat3[6]=r*t[0]+i*t[3]+s*t[6],this.mat3[7]=r*t[1]+i*t[4]+s*t[7],this.mat3[8]=r*t[2]+i*t[5]+s*t[8],this}#o(){const t=this.#e;for(let r=0;r<t;r++)for(let i=0;i<t;i++)this.matrix[r*t+i]=this.matrix[i*t+r];return this}#r(t){console.log("====> 4x4");let r,i,s,o,a,l;return t instanceof Rn?(r=t.matrix[1],i=t.matrix[2],s=t.matrix[3],o=t.matrix[6],a=t.matrix[7],l=t.matrix[11],this.matrix[0]=t.matrix[0],this.matrix[1]=t.matrix[4],this.matrix[2]=t.matrix[8],this.matrix[3]=t.matrix[12],this.matrix[4]=r,this.matrix[5]=t.matrix[5],this.matrix[6]=t.matrix[9],this.matrix[7]=t.matrix[13],this.matrix[8]=i,this.matrix[9]=o,this.matrix[10]=t.matrix[10],this.matrix[11]=t.matrix[14],this.matrix[12]=s,this.matrix[13]=a,this.matrix[14]=l,this.matrix[15]=t.matrix[15]):hl(t)&&(r=t[1],i=t[2],s=t[3],o=t[6],a=t[7],l=t[11],this.matrix[0]=t[0],this.matrix[1]=t[4],this.matrix[2]=t[8],this.matrix[3]=t[12],this.matrix[4]=r,this.matrix[5]=t[5],this.matrix[6]=t[9],this.matrix[7]=t[13],this.matrix[8]=i,this.matrix[9]=o,this.matrix[10]=t[10],this.matrix[11]=t[14],this.matrix[12]=s,this.matrix[13]=a,this.matrix[14]=l,this.matrix[15]=t[15]),this}#a(t){t===void 0&&(t=this.mat3);const r=t[1],i=t[2],s=t[5];return this.mat3[0]=t[0],this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=r,this.mat3[4]=t[4],this.mat3[5]=t[7],this.mat3[6]=i,this.mat3[7]=s,this.mat3[8]=t[8],this}#l(t){let r,i,s,o,a,l,u,h,c,f,d,p,m,g,v,S;t instanceof Rn?(r=t.matrix[0],i=t.matrix[1],s=t.matrix[2],o=t.matrix[3],a=t.matrix[4],l=t.matrix[5],u=t.matrix[6],h=t.matrix[7],c=t.matrix[8],f=t.matrix[9],d=t.matrix[10],p=t.matrix[11],m=t.matrix[12],g=t.matrix[13],v=t.matrix[14],S=t.matrix[15]):hl(t)&&(r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],f=t[9],d=t[10],p=t[11],m=t[12],g=t[13],v=t[14],S=t[15]);const y=r*l-i*a,x=r*u-s*a,b=r*h-o*a,w=i*u-s*l,E=i*h-o*l,_=s*h-o*u,T=c*g-f*m,C=c*v-d*m,F=c*S-p*m,k=f*v-d*g,D=f*S-p*g,N=d*S-p*v;let M=y*N-x*D+b*k+w*F-E*C+_*T;return M?(M=1/M,this.matrix[0]=(l*N-u*D+h*k)*M,this.matrix[1]=(s*D-i*N-o*k)*M,this.matrix[2]=(g*_-v*E+S*w)*M,this.matrix[3]=(d*E-f*_-p*w)*M,this.matrix[4]=(u*F-a*N-h*C)*M,this.matrix[5]=(r*N-s*F+o*C)*M,this.matrix[6]=(v*b-m*_-S*x)*M,this.matrix[7]=(c*_-d*b+p*x)*M,this.matrix[8]=(a*D-l*F+h*T)*M,this.matrix[9]=(i*F-r*D-o*T)*M,this.matrix[10]=(m*E-g*b+S*y)*M,this.matrix[11]=(f*b-c*E-p*y)*M,this.matrix[12]=(l*C-a*k-u*T)*M,this.matrix[13]=(r*k-i*C+s*T)*M,this.matrix[14]=(g*x-m*w-v*y)*M,this.matrix[15]=(c*w-f*x+d*y)*M,this):null}#u(){const t=this.mat3[0],r=this.mat3[1],i=this.mat3[2],s=this.mat3[3],o=this.mat3[4],a=this.mat3[5],l=this.mat3[6],u=this.mat3[7],h=this.mat3[8],c=h*o-a*u,f=-h*s+a*l,d=u*s-o*l;let p=t*c+r*f+i*d;return p?(p=1/p,this.mat3[0]=c*p,this.mat3[1]=(-h*r+i*u)*p,this.mat3[2]=(a*r-i*o)*p,this.mat3[3]=f*p,this.mat3[4]=(h*t-i*l)*p,this.mat3[5]=(-a*t+i*s)*p,this.mat3[6]=d*p,this.mat3[7]=(-u*t+r*l)*p,this.mat3[8]=(o*t-r*s)*p,this):null}#c(){if(this.#e!==4)throw new Error("Determinant is only implemented for 4x4 matrices. We are working on it.");const t=this.matrix[0]*this.matrix[5]-this.matrix[1]*this.matrix[4],r=this.matrix[0]*this.matrix[6]-this.matrix[2]*this.matrix[4],i=this.matrix[0]*this.matrix[7]-this.matrix[3]*this.matrix[4],s=this.matrix[1]*this.matrix[6]-this.matrix[2]*this.matrix[5],o=this.matrix[1]*this.matrix[7]-this.matrix[3]*this.matrix[5],a=this.matrix[2]*this.matrix[7]-this.matrix[3]*this.matrix[6],l=this.matrix[8]*this.matrix[13]-this.matrix[9]*this.matrix[12],u=this.matrix[8]*this.matrix[14]-this.matrix[10]*this.matrix[12],h=this.matrix[8]*this.matrix[15]-this.matrix[11]*this.matrix[12],c=this.matrix[9]*this.matrix[14]-this.matrix[10]*this.matrix[13],f=this.matrix[9]*this.matrix[15]-this.matrix[11]*this.matrix[13],d=this.matrix[10]*this.matrix[15]-this.matrix[11]*this.matrix[14];return t*d-r*f+i*c+s*h-o*u+a*l}}function jN(n,t){n.Matrix=Rn}typeof p5<"u"&&jN(p5,p5.prototype);class pl{constructor(t=128){this.length=0,this.data=new Float32Array(t),this.initialLength=t}dataArray(){return this.subArray(0,this.length)}clear(){this.length=0}rescale(){if(this.length<this.data.length/2){const t=1<<Math.ceil(Math.log2(this.length)),r=new Float32Array(t);r.set(this.data.subarray(0,this.length),0),this.data=r}}reset(){this.clear(),this.data=new Float32Array(this.initialLength)}push(...t){this.ensureLength(this.length+t.length),this.data.set(t,this.length),this.length+=t.length}slice(t,r){return this.data.slice(t,Math.min(r,this.length))}subArray(t,r){return this.data.subarray(t,Math.min(r,this.length))}ensureLength(t){for(;this.data.length<t;){const r=new Float32Array(this.data.length*2);r.set(this.data,0),this.data=r}}}function zN(n,t){n.DataArray=pl}typeof p5<"u"&&zN(p5,p5.prototype);class zr{constructor(t,r,i,s){this.renderer=s,this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new pl,this.lineTangentsIn=new pl,this.lineTangentsOut=new pl,this.lineSides=new pl,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.userVertexProperties={},this.lineVertexColors=new pl,this.detailX=t!==void 0?t:1,this.detailY=r!==void 0?r:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.gid=`_p5_Geometry_${zr.nextId}`,zr.nextId++,i instanceof Function&&i.call(this)}calculateBoundingBox(){if(this.boundingBoxCache)return this.boundingBoxCache;let t=new Ne(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),r=new Ne(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE);for(let o=0;o<this.vertices.length;o++){let a=this.vertices[o];t.x=Math.min(t.x,a.x),t.y=Math.min(t.y,a.y),t.z=Math.min(t.z,a.z),r.x=Math.max(r.x,a.x),r.y=Math.max(r.y,a.y),r.z=Math.max(r.z,a.z)}let i=new Ne(r.x-t.x,r.y-t.y,r.z-t.z),s=new Ne((t.x+r.x)/2,(t.y+r.y)/2,(t.z+r.z)/2);return this.boundingBoxCache={min:t,max:r,size:i,offset:s},this.boundingBoxCache}reset(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0;for(const t in this.userVertexProperties)this.userVertexProperties[t].delete();this.userVertexProperties={},this.dirtyFlags={}}hasFillTransparency(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(let t=0;t<this.vertexColors.length;t+=4)if(this.vertexColors[t+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}hasStrokeTransparency(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(let t=0;t<this.lineVertexColors.length;t+=4)if(this.lineVertexColors[t+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}clearColors(){return this.vertexColors=[],this}saveObj(t="model.obj"){let r="";if(this.vertices.forEach(s=>{r+=`v ${s.x} ${s.y} ${s.z}
`}),this.uvs&&this.uvs.length>0)for(let s=0;s<this.uvs.length;s+=2)r+=`vt ${this.uvs[s]} ${this.uvs[s+1]}
`;this.vertexNormals&&this.vertexNormals.length>0&&this.vertexNormals.forEach(s=>{r+=`vn ${s.x} ${s.y} ${s.z}
`}),this.faces.forEach(s=>{let o="f";s.forEach(a=>{o+=" ",o+=a+1,(this.vertexNormals.length>0||this.uvs.length>0)&&(o+="/",this.uvs.length>0&&(o+=a+1),o+="/",this.vertexNormals.length>0&&(o+=a+1))}),r+=o+`
`});const i=new Blob([r],{type:"text/plain"});tf(i,t,"obj")}saveStl(t="model.stl",{binary:r=!1}={}){let i,s=t.substring(0,t.lastIndexOf(".")),o=[];for(let l of this.faces){const u=Ne.sub(this.vertices[l[1]],this.vertices[l[0]]),h=Ne.sub(this.vertices[l[2]],this.vertices[l[0]]),c=u.y*h.z-u.z*h.y,f=u.z*h.x-u.x*h.z,d=u.x*h.y-u.y*h.x;o.push(new Ne(c,f,d).normalize())}if(r){let l=80;const u=this.faces.length*2+this.faces.length*3*4*4+80+4,h=new ArrayBuffer(u);i=new DataView(h),i.setUint32(l,this.faces.length,!0),l+=4;for(const[c,f]of Object.entries(this.faces)){const d=o[c];i.setFloat32(l,d.x,!0),l+=4,i.setFloat32(l,d.y,!0),l+=4,i.setFloat32(l,d.z,!0),l+=4;for(let p of f){const m=this.vertices[p];i.setFloat32(l,m.x,!0),l+=4,i.setFloat32(l,m.y,!0),l+=4,i.setFloat32(l,m.z,!0),l+=4}i.setUint16(l,0,!0),l+=2}}else{i="solid "+s+`
`;for(const[l,u]of Object.entries(this.faces)){const h=o[l];i+=" facet norm "+h.x+" "+h.y+" "+h.z+`
`,i+=`  outer loop
`;for(let c of u){const f=this.vertices[c];i+="   vertex "+f.x+" "+f.y+" "+f.z+`
`}i+=`  endloop
`,i+=` endfacet
`}i+="endsolid "+s+`
`}const a=new Blob([i],{type:"text/plain"});tf(a,t,"stl")}flipU(){this.uvs=this.uvs.flat().map((t,r)=>r%2===0?1-t:t)}flipV(){this.uvs=this.uvs.flat().map((t,r)=>r%2===0?t:1-t)}computeFaces(){this.faces.length=0;const t=this.detailX+1;let r,i,s,o;for(let a=0;a<this.detailY;a++)for(let l=0;l<this.detailX;l++)r=a*t+l,i=a*t+l+1,s=(a+1)*t+l+1,o=(a+1)*t+l,this.faces.push([r,i,o]),this.faces.push([o,i,s]);return this}_getFaceNormal(t){const r=this.faces[t],i=this.vertices[r[0]],s=this.vertices[r[1]],o=this.vertices[r[2]],a=Ne.sub(s,i),l=Ne.sub(o,i),u=Ne.cross(a,l),h=Ne.mag(u);let c=h/(Ne.mag(a)*Ne.mag(l));return c===0||isNaN(c)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),u):(c>1&&(c=1),u.mult(Math.asin(c)/h))}computeNormals(t=j5,{roundToPrecision:r=3}={}){const i=this.vertexNormals;let s=this.vertices;const o=this.faces;let a;if(t===z5){const l={},u=[],h=Math.pow(10,r),c=d=>Math.round(d*h)/h,f=d=>`${c(d.x)},${c(d.y)},${c(d.z)}`;for(let d=0;d<s.length;d++){const p=s[d],m=f(p);l[m]===void 0&&(l[m]=u.length,u.push(p))}o.forEach(d=>{for(let p=0;p<3;++p){const m=d[p],g=s[m],v=f(g);d[p]=l[v]}}),this.edges.forEach(d=>{for(let p=0;p<2;++p){const m=d[p],g=s[m],v=f(g);d[p]=l[v]}}),this.vertices=s=u}for(i.length=0,a=0;a<s.length;++a)i.push(new Ne);for(o.forEach((l,u)=>{const h=this._getFaceNormal(u);for(let c=0;c<3;++c){const f=l[c];i[f].add(h)}}),a=0;a<s.length;++a)i[a].normalize();return this}averageNormals(){for(let t=0;t<=this.detailY;t++){const r=this.detailX+1;let i=Ne.add(this.vertexNormals[t*r],this.vertexNormals[t*r+this.detailX]);i=Ne.div(i,2),this.vertexNormals[t*r]=i,this.vertexNormals[t*r+this.detailX]=i}return this}averagePoleNormals(){let t=new Ne(0,0,0);for(let r=0;r<this.detailX;r++)t.add(this.vertexNormals[r]);t=Ne.div(t,this.detailX);for(let r=0;r<this.detailX;r++)this.vertexNormals[r]=t;t=new Ne(0,0,0);for(let r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)t.add(this.vertexNormals[r]);t=Ne.div(t,this.detailX);for(let r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)this.vertexNormals[r]=t;return this}_makeTriangleEdges(){this.edges.length=0;for(let t=0;t<this.faces.length;t++)this.edges.push([this.faces[t][0],this.faces[t][1]]),this.edges.push([this.faces[t][1],this.faces[t][2]]),this.edges.push([this.faces[t][2],this.faces[t][0]]);return this}makeEdgesFromFaces(){this._makeTriangleEdges()}_edgesToVertices(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();const t=new Map,r=new Set;let i;for(let s=0;s<this.edges.length;s++){const o=this.edges[s-1],a=this.edges[s],l=this.vertices[a[0]],u=this.vertices[a[1]],h=this.vertexStrokeColors.length>0&&o?this.vertexStrokeColors.slice(o[1]*4,(o[1]+1)*4):[0,0,0,0],c=this.vertexStrokeColors.length>0?this.vertexStrokeColors.slice(a[0]*4,(a[0]+1)*4):[0,0,0,0],f=this.vertexStrokeColors.length>0?this.vertexStrokeColors.slice(a[1]*4,(a[1]+1)*4):[0,0,0,0],d=u.copy().sub(l).normalize(),p=d.magSq()>0;if(p&&this._addSegment(l,u,c,f,d),!this.renderer?._simpleLines){if(s>0&&o[1]===a[0])r.has(a[0])||(r.add(a[0]),t.delete(a[0]),i&&p&&d.dot(i)<1-1e-8&&this._addJoin(l,i,d,c));else{if(p&&!r.has(a[0])){const m=t.get(a[0]);m?(this._addJoin(l,m.dir,d,c),t.delete(a[0]),r.add(a[0])):t.set(a[0],{point:l,dir:d.copy().mult(-1),color:c})}if(i&&!r.has(o[1])){const m=t.get(o[1]);m?(this._addJoin(this.vertices[o[1]],i,m.dir.copy().mult(-1),h),t.delete(o[1]),r.add(o[1])):t.set(o[1],{point:this.vertices[o[1]],dir:i,color:h}),i=void 0}}if(s===this.edges.length-1&&!r.has(a[1])){const m=t.get(a[1]);m?(this._addJoin(u,d,m.dir.copy().mult(-1),f),t.delete(a[1]),r.add(a[1])):t.set(a[1],{point:u,dir:d,color:f})}p&&(i=d)}}for(const{point:s,dir:o,color:a}of t.values())this._addCap(s,o,a);return this}_addSegment(t,r,i,s,o){const a=t.array(),l=r.array(),u=o.array();this.lineSides.push(1,1,-1,1,-1,-1);for(const h of[this.lineTangentsIn,this.lineTangentsOut])for(let c=0;c<6;c++)h.push(...u);return this.lineVertices.push(...a,...l,...a,...l,...l,...a),this.renderer?._simpleLines||this.lineVertexColors.push(...i,...s,...i,...s,...s,...i),this}_addCap(t,r,i){const s=t.array(),o=r.array(),a=[0,0,0];for(let l=0;l<6;l++)this.lineVertices.push(...s),this.lineTangentsIn.push(...o),this.lineTangentsOut.push(...a),this.lineVertexColors.push(...i);return this.lineSides.push(-1,2,-2,1,2,-1),this}_addJoin(t,r,i,s){const o=t.array(),a=r.array(),l=i.array();for(let u=0;u<12;u++)this.lineVertices.push(...o),this.lineTangentsIn.push(...a),this.lineTangentsOut.push(...l),this.lineVertexColors.push(...s);return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}normalize(){if(this.vertices.length>0){const t=this.vertices[0].copy(),r=this.vertices[0].copy();for(let l=0;l<this.vertices.length;l++)t.x=Math.max(t.x,this.vertices[l].x),r.x=Math.min(r.x,this.vertices[l].x),t.y=Math.max(t.y,this.vertices[l].y),r.y=Math.min(r.y,this.vertices[l].y),t.z=Math.max(t.z,this.vertices[l].z),r.z=Math.min(r.z,this.vertices[l].z);const i=Ne.lerp(t,r,.5),s=Ne.sub(t,r),a=200/Math.max(Math.max(s.x,s.y),s.z);for(let l=0;l<this.vertices.length;l++)this.vertices[l].sub(i),this.vertices[l].mult(a)}return this}vertexProperty(t,r,i){let s;this.userVertexProperties[t]||(s=this.userVertexProperties[t]=this._userVertexPropertyHelper(t,r,i)),s=this.userVertexProperties[t],i?s.pushDirect(r):(s.setCurrentData(r),s.pushCurrentData())}_userVertexPropertyHelper(t,r,i){const s=this,o=this.userVertexProperties[t]={name:t,dataSize:i||(r.length?r.length:1),geometry:s,getName(){return this.name},getCurrentData(){return this.currentData===void 0&&(this.currentData=new Array(this.getDataSize()).fill(0)),this.currentData},getDataSize(){return this.dataSize},getSrcName(){return this.name.concat("Src")},getDstName(){return this.name.concat("Buffer")},getSrcArray(){const a=this.getSrcName();return this.geometry[a]},setCurrentData(a){a.length&&a.length,this.currentData=a},pushCurrentData(){const a=this.getCurrentData();this.pushDirect(a)},pushDirect(a){a.length?this.getSrcArray().push(...a):this.getSrcArray().push(a)},resetSrcArray(){this.geometry[this.getSrcName()]=[]},delete(){const a=this.getSrcName();delete this.geometry[a],delete this}};return this[o.getSrcName()]=[],this.userVertexProperties[t]}}zr.nextId=0;function GN(n,t){n.Geometry=zr}typeof p5<"u"&&GN(p5,p5.prototype);class nf{constructor(t){this.renderer=t,t._pInst.push(),this.identityMatrix=new Rn(4),t.states.setValue("uModelMatrix",new Rn(4)),this.geometry=new zr(void 0,void 0,void 0,this.renderer),this.geometry.gid=`_p5_GeometryBuilder_${nf.nextGeometryId}`,nf.nextGeometryId++,this.hasTransform=!1}transformVertices(t){return this.hasTransform?t.map(r=>this.renderer.states.uModelMatrix.multiplyPoint(r)):t}transformNormals(t){return this.hasTransform?t.map(r=>this.renderer.scratchMat3.multiplyVec(r)):t}addGeometry(t){this.hasTransform=!this.renderer.states.uModelMatrix.mat4.every((l,u)=>l===this.identityMatrix.mat4[u]),this.hasTransform&&this.renderer.scratchMat3.inverseTranspose4x4(this.renderer.states.uModelMatrix);let r=this.geometry.vertices.length;this.geometry.vertices.push(...this.transformVertices(t.vertices)),this.geometry.vertexNormals.push(...this.transformNormals(t.vertexNormals)),this.geometry.uvs.push(...t.uvs);const i=t.userVertexProperties,s=this.geometry.userVertexProperties,o=this.geometry.vertices.length-t.vertices.length;for(const l in s){if(l in i)continue;const u=s[l],c=u.getDataSize()*t.vertices.length,f=Array(c).fill(0);u.pushDirect(f)}for(const l in i){const u=i[l],h=u.getSrcArray(),c=u.getDataSize();if(o>0&&!(l in s)){const f=c*o,d=Array(f).fill(0);this.geometry.vertexProperty(l,d,c)}this.geometry.vertexProperty(l,h,c)}this.renderer.states.fillColor&&this.geometry.faces.push(...t.faces.map(l=>l.map(u=>u+r))),this.renderer.states.strokeColor&&this.geometry.edges.push(...t.edges.map(l=>l.map(u=>u+r)));const a=[...t.vertexColors];for(;a.length<t.vertices.length*4;)a.push(...this.renderer.states.curFillColor);this.geometry.vertexColors.push(...a)}addImmediate(t,r,{validateFaces:i=!1}={}){const s=[];if(this.renderer.states.fillColor){if(r===Wh||r===Xh)for(let o=2;o<t.vertices.length;o++)o%2===0?s.push([o,o-1,o-2]):s.push([o,o-2,o-1]);else if(r===og)for(let o=2;o<t.vertices.length;o++)s.push([0,o-1,o]);else if(r===Nl)for(let o=0;o<t.vertices.length;o+=3)(!i||t.vertices[o].copy().sub(t.vertices[o+1]).cross(t.vertices[o].copy().sub(t.vertices[o+2])).magSq()>0)&&s.push([o,o+1,o+2])}this.addGeometry(Object.assign({},t,{faces:s}))}addRetained(t){this.addGeometry(t)}finish(){return this.renderer._pInst.pop(),this.geometry}}nf.nextGeometryId=0;class Yu{constructor(t,r,i,s){this.w=t,this.vec=new Ne(r,i,s)}static fromAxisAngle(t,r,i,s){const o=Math.cos(t/2),a=new Ne(r,i,s).normalize().mult(Math.sin(t/2));return new Yu(o,a.x,a.y,a.z)}conjugate(){return new Yu(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}multiply(t){return new Yu(this.w*t.w-this.vec.x*t.vec.x-this.vec.y*t.vec.y-this.vec.z-t.vec.z,this.w*t.vec.x+this.vec.x*t.w+this.vec.y*t.vec.z-this.vec.z*t.vec.y,this.w*t.vec.y-this.vec.x*t.vec.z+this.vec.y*t.w+this.vec.z*t.vec.x,this.w*t.vec.z+this.vec.x*t.vec.y-this.vec.y*t.vec.x+this.vec.z*t.w)}rotateVector(t){return Ne.mult(t,this.w*this.w-this.vec.dot(this.vec)).add(Ne.mult(this.vec,2*t.dot(this.vec))).add(Ne.mult(this.vec,2*this.w).cross(t)).clampToZero()}rotateBy(t){return t.multiply(this).multiply(t.conjugate()).vec.clampToZero()}}function HN(n,t){n.Quat=Yu}typeof p5<"u"&&HN(p5,p5.prototype);class wi{constructor(t,r,i,s,o,a){this.size=t,this.src=r,this.dst=i,this.attr=s,this._renderer=o,this.map=a}_prepareBuffer(t,r){const i=r.attributes,s=this._renderer.GL,o=this._renderer._getOrMakeCachedBuffers(t),a=i[this.attr];if(!a)return;let l=o[this.dst];const u=t[this.src];if(u&&u.length>0){const h=!l;if(h&&(o[this.dst]=l=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,l),h||t.dirtyFlags[this.src]!==!1){const c=this.map,f=c?c(u):u;this._renderer._bindBuffer(l,s.ARRAY_BUFFER,f),t.dirtyFlags[this.src]=!1}r.enableAttrib(a,this.size)}else{const h=a.location;if(h===-1||!this._renderer.registerEnabled.has(h))return;s.disableVertexAttribArray(h),this._renderer.registerEnabled.delete(h)}}}function WN(n,t){n.RenderBuffer=wi}typeof p5<"u"&&WN(p5,p5.prototype);var cp={exports:{}},tS=cp.exports,nS;function GK(){return nS||(nS=1,(function(n){var t;function r(P,V){return P.b===V.b&&P.a===V.a}function i(P,V){return P.b<V.b||P.b===V.b&&P.a<=V.a}function s(P,V,ie){var fe=V.b-P.b,ve=ie.b-V.b;return 0<fe+ve?fe<ve?V.a-P.a+fe/(fe+ve)*(P.a-ie.a):V.a-ie.a+ve/(fe+ve)*(ie.a-P.a):0}function o(P,V,ie){var fe=V.b-P.b,ve=ie.b-V.b;return 0<fe+ve?(V.a-ie.a)*fe+(V.a-P.a)*ve:0}function a(P,V){return P.a<V.a||P.a===V.a&&P.b<=V.b}function l(P,V,ie){var fe=V.a-P.a,ve=ie.a-V.a;return 0<fe+ve?fe<ve?V.b-P.b+fe/(fe+ve)*(P.b-ie.b):V.b-ie.b+ve/(fe+ve)*(ie.b-P.b):0}function u(P,V,ie){var fe=V.a-P.a,ve=ie.a-V.a;return 0<fe+ve?(V.b-ie.b)*fe+(V.b-P.b)*ve:0}function h(P){return i(P.b.a,P.a)}function c(P){return i(P.a,P.b.a)}function f(P,V,ie,fe){return P=0>P?0:P,ie=0>ie?0:ie,P<=ie?ie===0?(V+fe)/2:V+P/(P+ie)*(fe-V):fe+ie/(P+ie)*(V-fe)}function d(P){var V=S(P.b);return x(V,P.c),x(V.b,P.c),b(V,P.a),V}function p(P,V){var ie=!1,fe=!1;P!==V&&(V.a!==P.a&&(fe=!0,E(V.a,P.a)),V.d!==P.d&&(ie=!0,_(V.d,P.d)),y(V,P),fe||(x(V,P.a),P.a.c=P),ie||(b(V,P.d),P.d.a=P))}function m(P){var V=P.b,ie=!1;P.d!==P.b.d&&(ie=!0,_(P.d,P.b.d)),P.c===P?E(P.a,null):(P.b.d.a=we(P),P.a.c=P.c,y(P,we(P)),ie||b(P,P.d)),V.c===V?(E(V.a,null),_(V.d,null)):(P.d.a=we(V),V.a.c=V.c,y(V,we(V))),w(P)}function g(P){var V=S(P),ie=V.b;return y(V,P.e),V.a=P.b.a,x(ie,V.a),V.d=ie.d=P.d,V=V.b,y(P.b,we(P.b)),y(P.b,V),P.b.a=V.a,V.b.a.c=V.b,V.b.d=P.b.d,V.f=P.f,V.b.f=P.b.f,V}function v(P,V){var ie=!1,fe=S(P),ve=fe.b;return V.d!==P.d&&(ie=!0,_(V.d,P.d)),y(fe,P.e),y(ve,V),fe.a=P.b.a,ve.a=V.a,fe.d=ve.d=P.d,P.d.a=ve,ie||b(fe,P.d),fe}function S(P){var V=new Ae,ie=new Ae,fe=P.b.h;return ie.h=fe,fe.b.h=V,V.h=P,P.b.h=ie,V.b=ie,V.c=V,V.e=ie,ie.b=V,ie.c=ie,ie.e=V}function y(P,V){var ie=P.c,fe=V.c;ie.b.e=V,fe.b.e=P,P.c=fe,V.c=ie}function x(P,V){var ie=V.f,fe=new me(V,ie);ie.e=fe,V.f=fe,ie=fe.c=P;do ie.a=fe,ie=ie.c;while(ie!==P)}function b(P,V){var ie=V.d,fe=new ee(V,ie);ie.b=fe,V.d=fe,fe.a=P,fe.c=V.c,ie=P;do ie.d=fe,ie=ie.e;while(ie!==P)}function w(P){var V=P.h;P=P.b.h,V.b.h=P,P.b.h=V}function E(P,V){var ie=P.c,fe=ie;do fe.a=V,fe=fe.c;while(fe!==ie);ie=P.f,fe=P.e,fe.f=ie,ie.e=fe}function _(P,V){var ie=P.a,fe=ie;do fe.d=V,fe=fe.e;while(fe!==ie);ie=P.d,fe=P.b,fe.d=ie,ie.b=fe}function T(P){var V=0;return Math.abs(P[1])>Math.abs(P[0])&&(V=1),Math.abs(P[2])>Math.abs(P[V])&&(V=2),V}var C=4*1e150;function F(P,V){P.f+=V.f,P.b.f+=V.b.f}function k(P,V,ie){return P=P.a,V=V.a,ie=ie.a,V.b.a===P?ie.b.a===P?i(V.a,ie.a)?0>=o(ie.b.a,V.a,ie.a):0<=o(V.b.a,ie.a,V.a):0>=o(ie.b.a,P,ie.a):ie.b.a===P?0<=o(V.b.a,P,V.a):(V=s(V.b.a,P,V.a),P=s(ie.b.a,P,ie.a),V>=P)}function D(P){P.a.i=null;var V=P.e;V.a.c=V.c,V.c.a=V.a,P.e=null}function N(P,V){m(P.a),P.c=!1,P.a=V,V.i=P}function M(P){var V=P.a.a;do P=Ve(P);while(P.a.a===V);return P.c&&(V=v($e(P).a.b,P.a.e),N(P,V),P=Ve(P)),P}function U(P,V,ie){var fe=new Pe;return fe.a=ie,fe.e=$(P.f,V.e,fe),ie.i=fe}function R(P,V){switch(P.s){case 100130:return(V&1)!==0;case 100131:return V!==0;case 100132:return 0<V;case 100133:return 0>V;case 100134:return 2<=V||-2>=V}return!1}function W(P){var V=P.a,ie=V.d;ie.c=P.d,ie.a=V,D(P)}function ne(P,V,ie){for(P=V,V=V.a;P!==ie;){P.c=!1;var fe=$e(P),ve=fe.a;if(ve.a!==V.a){if(!fe.c){W(P);break}ve=v(V.c.b,ve.b),N(fe,ve)}V.c!==ve&&(p(we(ve),ve),p(V,ve)),W(P),V=fe.a,P=fe}return V}function ge(P,V,ie,fe,ve,Ie){var Te=!0;do U(P,V,ie.b),ie=ie.c;while(ie!==fe);for(ve===null&&(ve=$e(V).a.b.c);fe=$e(V),ie=fe.a.b,ie.a===ve.a;)ie.c!==ve&&(p(we(ie),ie),p(we(ve),ie)),fe.f=V.f-ie.f,fe.d=R(P,fe.f),V.b=!0,!Te&&xe(P,V)&&(F(ie,ve),D(V),m(ve)),Te=!1,V=fe,ve=ie;V.b=!0,Ie&&G(P,V)}function te(P,V,ie,fe,ve){var Ie=[V.g[0],V.g[1],V.g[2]];V.d=null,V.d=P.o&&P.o(Ie,ie,fe,P.c)||null,V.d===null&&(ve?P.n||(X(P,100156),P.n=!0):V.d=ie[0])}function J(P,V,ie){var fe=[null,null,null,null];fe[0]=V.a.d,fe[1]=ie.a.d,te(P,V.a,fe,[.5,.5,0,0],!1),p(V,ie)}function ae(P,V,ie,fe,ve){var Ie=Math.abs(V.b-P.b)+Math.abs(V.a-P.a),Te=Math.abs(ie.b-P.b)+Math.abs(ie.a-P.a),qe=ve+1;fe[ve]=.5*Te/(Ie+Te),fe[qe]=.5*Ie/(Ie+Te),P.g[0]+=fe[ve]*V.g[0]+fe[qe]*ie.g[0],P.g[1]+=fe[ve]*V.g[1]+fe[qe]*ie.g[1],P.g[2]+=fe[ve]*V.g[2]+fe[qe]*ie.g[2]}function xe(P,V){var ie=$e(V),fe=V.a,ve=ie.a;if(i(fe.a,ve.a)){if(0<o(ve.b.a,fe.a,ve.a))return!1;if(!r(fe.a,ve.a))g(ve.b),p(fe,we(ve)),V.b=ie.b=!0;else if(fe.a!==ve.a){var ie=P.e,Ie=fe.a.h;if(0<=Ie){var ie=ie.b,Te=ie.d,qe=ie.e,et=ie.c,vt=et[Ie];Te[vt]=Te[ie.a],et[Te[vt]]=vt,vt<=--ie.a&&(1>=vt||i(qe[Te[vt>>1]],qe[Te[vt]])?Ce(ie,vt):Fe(ie,vt)),qe[Ie]=null,et[Ie]=ie.b,ie.b=Ie}else for(ie.c[-(Ie+1)]=null;0<ie.a&&ie.c[ie.d[ie.a-1]]===null;)--ie.a;J(P,we(ve),fe)}}else{if(0>o(fe.b.a,ve.a,fe.a))return!1;Ve(V).b=V.b=!0,g(fe.b),p(we(ve),fe)}return!0}function Z(P,V){var ie=$e(V),fe=V.a,ve=ie.a,Ie=fe.a,Te=ve.a,qe=fe.b.a,et=ve.b.a,vt=new me;if(o(qe,P.a,Ie),o(et,P.a,Te),Ie===Te||Math.min(Ie.a,qe.a)>Math.max(Te.a,et.a))return!1;if(i(Ie,Te)){if(0<o(et,Ie,Te))return!1}else if(0>o(qe,Te,Ie))return!1;var hn=qe,O=Ie,q=et,z=Te,H,de;if(i(hn,O)||(H=hn,hn=O,O=H),i(q,z)||(H=q,q=z,z=H),i(hn,q)||(H=hn,hn=q,q=H,H=O,O=z,z=H),i(q,O)?i(O,z)?(H=s(hn,q,O),de=s(q,O,z),0>H+de&&(H=-H,de=-de),vt.b=f(H,q.b,de,O.b)):(H=o(hn,q,O),de=-o(hn,z,O),0>H+de&&(H=-H,de=-de),vt.b=f(H,q.b,de,z.b)):vt.b=(q.b+O.b)/2,a(hn,O)||(H=hn,hn=O,O=H),a(q,z)||(H=q,q=z,z=H),a(hn,q)||(H=hn,hn=q,q=H,H=O,O=z,z=H),a(q,O)?a(O,z)?(H=l(hn,q,O),de=l(q,O,z),0>H+de&&(H=-H,de=-de),vt.a=f(H,q.a,de,O.a)):(H=u(hn,q,O),de=-u(hn,z,O),0>H+de&&(H=-H,de=-de),vt.a=f(H,q.a,de,z.a)):vt.a=(q.a+O.a)/2,i(vt,P.a)&&(vt.b=P.a.b,vt.a=P.a.a),hn=i(Ie,Te)?Ie:Te,i(hn,vt)&&(vt.b=hn.b,vt.a=hn.a),r(vt,Ie)||r(vt,Te))return xe(P,V),!1;if(!r(qe,P.a)&&0<=o(qe,P.a,vt)||!r(et,P.a)&&0>=o(et,P.a,vt)){if(et===P.a)return g(fe.b),p(ve.b,fe),V=M(V),fe=$e(V).a,ne(P,$e(V),ie),ge(P,V,we(fe),fe,fe,!0),!0;if(qe===P.a){g(ve.b),p(fe.e,we(ve)),Ie=ie=V,Te=Ie.a.b.a;do Ie=Ve(Ie);while(Ie.a.b.a===Te);return V=Ie,Ie=$e(V).a.b.c,ie.a=we(ve),ve=ne(P,ie,null),ge(P,V,ve.c,fe.b.c,Ie,!0),!0}return 0<=o(qe,P.a,vt)&&(Ve(V).b=V.b=!0,g(fe.b),fe.a.b=P.a.b,fe.a.a=P.a.a),0>=o(et,P.a,vt)&&(V.b=ie.b=!0,g(ve.b),ve.a.b=P.a.b,ve.a.a=P.a.a),!1}return g(fe.b),g(ve.b),p(we(ve),fe),fe.a.b=vt.b,fe.a.a=vt.a,fe.a.h=Le(P.e,fe.a),fe=fe.a,ve=[0,0,0,0],vt=[Ie.d,qe.d,Te.d,et.d],fe.g[0]=fe.g[1]=fe.g[2]=0,ae(fe,Ie,qe,ve,0),ae(fe,Te,et,ve,2),te(P,fe,vt,ve,!0),Ve(V).b=V.b=ie.b=!0,!1}function G(P,V){for(var ie=$e(V);;){for(;ie.b;)V=ie,ie=$e(ie);if(!V.b&&(ie=V,V=Ve(V),V===null||!V.b))break;V.b=!1;var fe=V.a,ve=ie.a,Ie;if(Ie=fe.b.a!==ve.b.a)e:{Ie=V;var Te=$e(Ie),qe=Ie.a,et=Te.a,vt=void 0;if(i(qe.b.a,et.b.a)){if(0>o(qe.b.a,et.b.a,qe.a)){Ie=!1;break e}Ve(Ie).b=Ie.b=!0,vt=g(qe),p(et.b,vt),vt.d.c=Ie.d}else{if(0<o(et.b.a,qe.b.a,et.a)){Ie=!1;break e}Ie.b=Te.b=!0,vt=g(et),p(qe.e,et.b),vt.b.d.c=Ie.d}Ie=!0}if(Ie&&(ie.c?(D(ie),m(ve),ie=$e(V),ve=ie.a):V.c&&(D(V),m(fe),V=Ve(ie),fe=V.a)),fe.a!==ve.a){if(fe.b.a===ve.b.a||V.c||ie.c||fe.b.a!==P.a&&ve.b.a!==P.a)xe(P,V);else if(Z(P,V))break}fe.a===ve.a&&fe.b.a===ve.b.a&&(F(ve,fe),D(V),m(fe),V=Ve(ie))}}function ye(P,V){P.a=V;for(var ie=V.c;ie.i===null;)if(ie=ie.c,ie===V.c){var ie=P,fe=V,Te=new Pe;Te.a=fe.c.b;var ve=ie.f,qe=ve.a;do qe=qe.a;while(qe.b!==null&&!ve.c(ve.b,Te,qe.b));var ve=qe.b,Ie=$e(ve),Te=ve.a,qe=Ie.a;if(o(Te.b.a,fe,Te.a)===0)Te=ve.a,r(Te.a,fe)||r(Te.b.a,fe)||(g(Te.b),ve.c&&(m(Te.c),ve.c=!1),p(fe.c,Te),ye(ie,fe));else{var et=i(qe.b.a,Te.b.a)?ve:Ie,Ie=void 0;ve.d||et.c?(et===ve?Ie=v(fe.c.b,Te.e):Ie=v(qe.b.c.b,fe.c).b,et.c?N(et,Ie):(Te=ie,ve=U(ie,ve,Ie),ve.f=Ve(ve).f+ve.a.f,ve.d=R(Te,ve.f)),ye(ie,fe)):ge(ie,ve,fe.c,fe.c,null,!0)}return}if(ie=M(ie.i),Te=$e(ie),ve=Te.a,Te=ne(P,Te,null),Te.c===ve){var ve=Te,Te=ve.c,qe=$e(ie),Ie=ie.a,et=qe.a,vt=!1;Ie.b.a!==et.b.a&&Z(P,ie),r(Ie.a,P.a)&&(p(we(Te),Ie),ie=M(ie),Te=$e(ie).a,ne(P,$e(ie),qe),vt=!0),r(et.a,P.a)&&(p(ve,we(et)),ve=ne(P,qe,null),vt=!0),vt?ge(P,ie,ve.c,Te,Te,!0):(i(et.a,Ie.a)?fe=we(et):fe=Ie,fe=v(ve.c.b,fe),ge(P,ie,fe,fe.c,fe.c,!1),fe.b.i.c=!0,G(P,ie))}else ge(P,ie,Te.c,ve,ve,!0)}function Q(P,V){var ie=new Pe,fe=d(P.b);fe.a.b=C,fe.a.a=V,fe.b.a.b=-C,fe.b.a.a=V,P.a=fe.b.a,ie.a=fe,ie.f=0,ie.d=!1,ie.c=!1,ie.h=!0,ie.b=!1,fe=P.f,fe=$(fe,fe.a,ie),ie.e=fe}function pe(P){this.a=new re,this.b=P,this.c=k}function $(P,V,ie){do V=V.c;while(V.b!==null&&!P.c(P.b,V.b,ie));return P=new re(ie,V.a,V),V.a.c=P,V.a=P}function re(P,V,ie){this.b=P||null,this.a=V||this,this.c=ie||this}function be(){this.d=Se,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var Se=0;t=be.prototype,t.x=function(){j(this,Se)},t.B=function(P,V){switch(P){case 100142:return;case 100140:switch(V){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=V;return}break;case 100141:this.m=!!V;return;default:X(this,100900);return}X(this,100901)},t.y=function(P){switch(P){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:X(this,100900)}return!1},t.A=function(P,V,ie){this.j[0]=P,this.j[1]=V,this.j[2]=ie},t.z=function(P,V){var ie=V||null;switch(P){case 100100:case 100106:this.h=ie;break;case 100104:case 100110:this.l=ie;break;case 100101:case 100107:this.k=ie;break;case 100102:case 100108:this.i=ie;break;case 100103:case 100109:this.p=ie;break;case 100105:case 100111:this.o=ie;break;case 100112:this.r=ie;break;default:X(this,100900)}},t.C=function(P,V){var ie=!1,fe=[0,0,0];j(this,2);for(var ve=0;3>ve;++ve){var Ie=P[ve];-1e150>Ie&&(Ie=-1e150,ie=!0),1e150<Ie&&(Ie=1e150,ie=!0),fe[ve]=Ie}ie&&X(this,100155),ie=this.q,ie===null?(ie=d(this.b),p(ie,ie.b)):(g(ie),ie=ie.e),ie.a.d=V,ie.a.g[0]=fe[0],ie.a.g[1]=fe[1],ie.a.g[2]=fe[2],ie.f=1,ie.b.f=-1,this.q=ie},t.u=function(P){j(this,Se),this.d=1,this.b=new he,this.c=P},t.t=function(){j(this,1),this.d=2,this.q=null},t.v=function(){j(this,2),this.d=1},t.w=function(){j(this,1),this.d=Se;var P=this.j[0],V=this.j[1],ie=this.j[2],fe=!1,ve=[P,V,ie];if(P===0&&V===0&&ie===0){for(var V=[-2*1e150,-2*1e150,-2*1e150],Ie=[2*1e150,2*1e150,2*1e150],ie=[],Te=[],fe=this.b.c,P=fe.e;P!==fe;P=P.e)for(var qe=0;3>qe;++qe){var et=P.g[qe];et<Ie[qe]&&(Ie[qe]=et,Te[qe]=P),et>V[qe]&&(V[qe]=et,ie[qe]=P)}if(P=0,V[1]-Ie[1]>V[0]-Ie[0]&&(P=1),V[2]-Ie[2]>V[P]-Ie[P]&&(P=2),Ie[P]>=V[P])ve[0]=0,ve[1]=0,ve[2]=1;else{for(V=0,Ie=Te[P],ie=ie[P],Te=[0,0,0],Ie=[Ie.g[0]-ie.g[0],Ie.g[1]-ie.g[1],Ie.g[2]-ie.g[2]],qe=[0,0,0],P=fe.e;P!==fe;P=P.e)qe[0]=P.g[0]-ie.g[0],qe[1]=P.g[1]-ie.g[1],qe[2]=P.g[2]-ie.g[2],Te[0]=Ie[1]*qe[2]-Ie[2]*qe[1],Te[1]=Ie[2]*qe[0]-Ie[0]*qe[2],Te[2]=Ie[0]*qe[1]-Ie[1]*qe[0],et=Te[0]*Te[0]+Te[1]*Te[1]+Te[2]*Te[2],et>V&&(V=et,ve[0]=Te[0],ve[1]=Te[1],ve[2]=Te[2]);0>=V&&(ve[0]=ve[1]=ve[2]=0,ve[T(Ie)]=1)}fe=!0}for(Te=T(ve),P=this.b.c,V=(Te+1)%3,ie=(Te+2)%3,Te=0<ve[Te]?1:-1,ve=P.e;ve!==P;ve=ve.e)ve.b=ve.g[V],ve.a=Te*ve.g[ie];if(fe){for(ve=0,fe=this.b.a,P=fe.b;P!==fe;P=P.b)if(V=P.a,!(0>=V.f))do ve+=(V.a.b-V.b.a.b)*(V.a.a+V.b.a.a),V=V.e;while(V!==P.a);if(0>ve)for(ve=this.b.c,fe=ve.e;fe!==ve;fe=fe.e)fe.a=-fe.a}for(this.n=!1,ve=this.b.b,P=ve.h;P!==ve;P=fe)fe=P.h,V=P.e,r(P.a,P.b.a)&&P.e.e!==P&&(J(this,V,P),m(P),P=V,V=P.e),V.e===P&&(V!==P&&((V===fe||V===fe.b)&&(fe=fe.h),m(V)),(P===fe||P===fe.b)&&(fe=fe.h),m(P));for(this.e=ve=new _e,fe=this.b.c,P=fe.e;P!==fe;P=P.e)P.h=Le(ve,P);for(De(ve),this.f=new pe(this),Q(this,-C),Q(this,C);(ve=B(this.e))!==null;){for(;;){e:if(P=this.e,P.a===0)fe=We(P.b);else if(fe=P.c[P.d[P.a-1]],P.b.a!==0&&(P=We(P.b),i(P,fe))){fe=P;break e}if(fe===null||!r(fe,ve))break;fe=B(this.e),J(this,ve.c,fe.c)}ye(this,ve)}for(this.a=this.f.a.a.b.a.a,ve=0;(fe=this.f.a.a.b)!==null;)fe.h||++ve,D(fe);for(this.f=null,ve=this.e,ve.b=null,ve.d=null,this.e=ve.c=null,ve=this.b,P=ve.a.b;P!==ve.a;P=fe)fe=P.b,P=P.a,P.e.e===P&&(F(P.c,P),m(P));if(!this.n){if(ve=this.b,this.m)for(P=ve.b.h;P!==ve.b;P=fe)fe=P.h,P.b.d.c!==P.d.c?P.f=P.d.c?1:-1:m(P);else for(P=ve.a.b;P!==ve.a;P=fe)if(fe=P.b,P.c){for(P=P.a;i(P.b.a,P.a);P=P.c.b);for(;i(P.a,P.b.a);P=P.e);for(V=P.c.b,ie=void 0;P.e!==V;)if(i(P.b.a,V.a)){for(;V.e!==P&&(h(V.e)||0>=o(V.a,V.b.a,V.e.b.a));)ie=v(V.e,V),V=ie.b;V=V.c.b}else{for(;V.e!==P&&(c(P.c.b)||0<=o(P.b.a,P.a,P.c.b.a));)ie=v(P,P.c.b),P=ie.b;P=P.e}for(;V.e.e!==P;)ie=v(V.e,V),V=ie.b}if(this.h||this.i||this.k||this.l)if(this.m){for(ve=this.b,fe=ve.a.b;fe!==ve.a;fe=fe.b)if(fe.c){this.h&&this.h(2,this.c),P=fe.a;do this.k&&this.k(P.a.d,this.c),P=P.e;while(P!==fe.a);this.i&&this.i(this.c)}}else{for(ve=this.b,fe=!!this.l,P=!1,V=-1,ie=ve.a.d;ie!==ve.a;ie=ie.d)if(ie.c){P||(this.h&&this.h(4,this.c),P=!0),Te=ie.a;do fe&&(Ie=Te.b.d.c?0:1,V!==Ie&&(V=Ie,this.l&&this.l(!!V,this.c))),this.k&&this.k(Te.a.d,this.c),Te=Te.e;while(Te!==ie.a)}P&&this.i&&this.i(this.c)}if(this.r){for(ve=this.b,P=ve.a.b;P!==ve.a;P=fe)if(fe=P.b,!P.c){V=P.a,ie=V.e,Te=void 0;do Te=ie,ie=Te.e,Te.d=null,Te.b.d===null&&(Te.c===Te?E(Te.a,null):(Te.a.c=Te.c,y(Te,we(Te))),Ie=Te.b,Ie.c===Ie?E(Ie.a,null):(Ie.a.c=Ie.c,y(Ie,we(Ie))),w(Te));while(Te!==V);V=P.d,P=P.b,P.d=V,V.b=P}this.r(this.b),this.c=this.b=null;return}}this.b=this.c=null};function j(P,V){if(P.d!==V)for(;P.d!==V;)if(P.d<V)switch(P.d){case Se:X(P,100151),P.u(null);break;case 1:X(P,100152),P.t()}else switch(P.d){case 2:X(P,100154),P.v();break;case 1:X(P,100153),P.w()}}function X(P,V){P.p&&P.p(V,P.c)}function ee(P,V){this.b=P||this,this.d=V||this,this.a=null,this.c=!1}function Ae(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function we(P){return P.b.e}function he(){this.c=new me,this.a=new ee,this.b=new Ae,this.d=new Ae,this.b.b=this.d,this.d.b=this.b}function me(P,V){this.e=P||this,this.f=V||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function _e(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ue}function De(P){P.d=[];for(var V=0;V<P.a;V++)P.d[V]=V;P.d.sort((function(ie){return function(fe,ve){return i(ie[fe],ie[ve])?1:-1}})(P.c)),P.e=!0,Qe(P.b)}function Le(P,V){if(P.e){var ie=P.b,fe=++ie.a;2*fe>ie.f&&(ie.f*=2,ie.c=Oe(ie.c,ie.f+1));var ve;return ie.b===0?ve=fe:(ve=ie.b,ie.b=ie.c[ie.b]),ie.e[ve]=V,ie.c[ve]=fe,ie.d[fe]=ve,ie.h&&Fe(ie,fe),ve}return ie=P.a++,P.c[ie]=V,-(ie+1)}function B(P){if(P.a===0)return ft(P.b);var V=P.c[P.d[P.a-1]];if(P.b.a!==0&&i(We(P.b),V))return ft(P.b);do--P.a;while(0<P.a&&P.c[P.d[P.a-1]]===null);return V}function Ue(){this.d=Oe([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Oe(P,V){for(var ie=Array(V),fe=0;fe<P.length;fe++)ie[fe]=P[fe];for(;fe<V;fe++)ie[fe]=0;return ie}function Qe(P){for(var V=P.a;1<=V;--V)Ce(P,V);P.h=!0}function We(P){return P.e[P.d[1]]}function ft(P){var V=P.d,ie=P.e,fe=P.c,ve=V[1],Ie=ie[ve];return 0<P.a&&(V[1]=V[P.a],fe[V[1]]=1,ie[ve]=null,fe[ve]=P.b,P.b=ve,0<--P.a&&Ce(P,1)),Ie}function Ce(P,V){for(var ie=P.d,fe=P.e,ve=P.c,Ie=V,Te=ie[Ie];;){var qe=Ie<<1;qe<P.a&&i(fe[ie[qe+1]],fe[ie[qe]])&&(qe+=1);var et=ie[qe];if(qe>P.a||i(fe[Te],fe[et])){ie[Ie]=Te,ve[Te]=Ie;break}ie[Ie]=et,ve[et]=Ie,Ie=qe}}function Fe(P,V){for(var ie=P.d,fe=P.e,ve=P.c,Ie=V,Te=ie[Ie];;){var qe=Ie>>1,et=ie[qe];if(qe===0||i(fe[et],fe[Te])){ie[Ie]=Te,ve[Te]=Ie;break}ie[Ie]=et,ve[et]=Ie,Ie=qe}}function Pe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function $e(P){return P.e.c.b}function Ve(P){return P.e.a.b}tS.libtess={GluTesselator:be,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},be.prototype.gluDeleteTess=be.prototype.x,be.prototype.gluTessProperty=be.prototype.B,be.prototype.gluGetTessProperty=be.prototype.y,be.prototype.gluTessNormal=be.prototype.A,be.prototype.gluTessCallback=be.prototype.z,be.prototype.gluTessVertex=be.prototype.C,be.prototype.gluTessBeginPolygon=be.prototype.u,be.prototype.gluTessBeginContour=be.prototype.t,be.prototype.gluTessEndContour=be.prototype.v,be.prototype.gluTessEndPolygon=be.prototype.w,n.exports=tS.libtess})(cp)),cp.exports}var HK=GK();const To=u1(HK),XN={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},rS=Object.values(XN).reduce((n,t)=>n+t);class WK{constructor(t){this.renderer=t,this.shapeMode=qs,this.geometry=new zr(void 0,void 0,void 0,this.renderer),this.geometry.gid="__IMMEDIATE_MODE_GEOMETRY__",this.contourIndices=[],this._useUserVertexProperties=void 0,this._bezierVertex=[],this._quadraticVertex=[],this._curveVertex=[],this.isProcessingVertices=!1,this._tessy=this._initTessy(),this.tessyVertexSize=rS,this.bufferStrides={...XN}}constructFromContours(t,r){this._useUserVertexProperties&&this._resetUserVertexProperties(),this.geometry.reset(),this.contourIndices=[],this.shapeMode=t.contours[0].kind;const i=!!this.renderer.states.strokeColor,s={};if(t.userVertexProperties){this._useUserVertexProperties=!0;for(const o in t.userVertexProperties){const a=t.vertexPropertyName(o),l=this.geometry._userVertexPropertyHelper(a,[],t.userVertexProperties[o]);s[o]=l,this.tessyVertexSize+=l.getDataSize(),this.bufferStrides[l.getSrcName()]=l.getDataSize(),this.renderer.buffers.user.push(new wi(l.getDataSize(),l.getSrcName(),l.getDstName(),a,this.renderer))}}else this._useUserVertexProperties=!1;for(const o of r){this.contourIndices.push(this.geometry.vertices.length);for(const a of o){if(this.shapeMode===bh&&this.geometry.vertices.length%6===3)for(const l in this.bufferStrides){const u=this.bufferStrides[l],h=this.geometry[l];h.push(...h.slice(h.length-3*u,h.length-2*u),...h.slice(h.length-u,h.length))}this.geometry.vertices.push(a.position),this.geometry.vertexNormals.push(a.normal||new Ne(0,0,0)),this.geometry.uvs.push(a.textureCoordinates.x,a.textureCoordinates.y),this.renderer.states.fillColor?this.geometry.vertexColors.push(...a.fill.array()):this.geometry.vertexColors.push(0,0,0,0),this.renderer.states.strokeColor?this.geometry.vertexStrokeColors.push(...a.stroke.array()):this.geometry.vertexStrokeColors.push(0,0,0,0);for(const l in s){const u=s[l];l in a&&u.setCurrentData(a[l]),u.pushCurrentData()}}}i&&(this.geometry.edges=this._calculateEdges(this.shapeMode,this.geometry.vertices)),i&&!this.renderer.geometryBuilder&&this.geometry._edgesToVertices(),this.shapeMode===qs?(this.isProcessingVertices=!0,this._tesselateShape(),this.isProcessingVertices=!1):this.shapeMode===Xh?this.shapeMode=Wh:this.shapeMode===bh&&(this.shapeMode=Nl),this.renderer.states.textureMode===gg&&this.renderer.states._tex!==null&&this.renderer.states._tex.width>0&&this.renderer.states._tex.height>0&&(this.geometry.uvs=this.geometry.uvs.map((o,a)=>a%2===0?o/this.renderer.states._tex.width:o/this.renderer.states._tex.height))}_resetUserVertexProperties(){const t=this.geometry.userVertexProperties;for(const r in t){const i=t[r];delete this.bufferStrides[r],i.delete()}this._useUserVertexProperties=!1,this.tessyVertexSize=rS,this.geometry.userVertexProperties={}}_calculateEdges(t,r){const i=[];let s=0;const o=this.contourIndices.slice();let a=-1;switch(t){case Wh:for(s=0;s<r.length-2;s++)i.push([s,s+1]),i.push([s,s+2]);i.push([s,s+1]);break;case og:for(s=1;s<r.length-1;s++)i.push([0,s]),i.push([s,s+1]);i.push([0,r.length-1]);break;case Nl:for(s=0;s<r.length-2;s=s+3)i.push([s,s+1]),i.push([s+1,s+2]),i.push([s+2,s]);break;case hc:for(s=0;s<r.length-1;s=s+2)i.push([s,s+1]);break;case bh:for(s=0;s<r.length-5;s+=6)i.push([s,s+1]),i.push([s+1,s+2]),i.push([s+2,s+5]),i.push([s+5,s]);break;case Xh:for(s=0;s<r.length-2;s+=2)i.push([s,s+1]),i.push([s+1,s+3]),i.push([s,s+2]);i.push([s,s+1]);break;default:for(s=0;s<r.length;s++)s===o[0]?a=o.shift():r[a]&&r[s].equals(r[a])?i.push([s-1,a]):i.push([s-1,s]);break}return i}_tesselateShape(){const t=[];for(let o=0;o<this.geometry.vertices.length;o++){this.contourIndices.length>0&&this.contourIndices[0]===o&&(this.contourIndices.shift(),t.push([])),t[t.length-1].push(this.geometry.vertices[o].x,this.geometry.vertices[o].y,this.geometry.vertices[o].z,this.geometry.uvs[o*2],this.geometry.uvs[o*2+1],this.geometry.vertexColors[o*4],this.geometry.vertexColors[o*4+1],this.geometry.vertexColors[o*4+2],this.geometry.vertexColors[o*4+3],this.geometry.vertexNormals[o].x,this.geometry.vertexNormals[o].y,this.geometry.vertexNormals[o].z);for(const a in this.geometry.userVertexProperties){const l=this.geometry.userVertexProperties[a],u=o*l.getDataSize(),h=u+l.getDataSize(),c=l.getSrcArray().slice(u,h);t[t.length-1].push(...c)}}const r=this._triangulate(t);if(r.length===0)return;this.shapeMode=Nl;const i=this.geometry.vertices;this.geometry.vertices=[],this.geometry.vertexNormals=[],this.geometry.uvs=[];for(const o in this.geometry.userVertexProperties)this.geometry.userVertexProperties[o].resetSrcArray();const s=[];for(let o=0,a=r.length;o<a;o=o+this.tessyVertexSize){s.push(...r.slice(o+5,o+9)),this.geometry.vertexNormals.push(new Ne(...r.slice(o+9,o+12)));{let l=12;for(const u in this.geometry.userVertexProperties){const h=this.geometry.userVertexProperties[u],c=h.getDataSize(),f=o+l,d=f+c;h.setCurrentData(r.slice(f,d)),h.pushCurrentData(),l+=c}}this.geometry.vertices.push(new Ne(...r.slice(o,o+3))),this.geometry.uvs.push(...r.slice(o+3,o+5))}if(this.renderer.geometryBuilder){const o=new Map;this.geometry.edges=this.geometry.edges.map(a=>a.map(l=>{if(!o.has(l)){const u=i[l];let h=this.geometry.vertices.findIndex(c=>u.x===c.x&&u.y===c.y&&u.z===c.z);if(h===-1){let c=1/0,f=0;for(let d=0;d<this.geometry.vertices.length;d++){const p=this.geometry.vertices[d],m=u.x-p.x,g=u.y-p.y,v=u.z-p.z,S=m*m+g*g+v*v;S<c&&(c=S,f=d)}h=f}o.set(l,h)}return o.get(l)}))}this.geometry.vertexColors=s}_initTessy(){function t(l,u){for(const h of l)u.push(h)}function r(l){l!==To.primitiveType.GL_TRIANGLES&&console.log(`expected TRIANGLES but got type: ${l}`)}function i(l){console.log("error callback"),console.log(`error number: ${l}`)}const s=(l,u,h)=>{const c=new Array(this.tessyVertexSize).fill(0);for(let f=0;f<h.length;f++)for(let d=0;d<c.length;d++)h[f]===0||!u[f]||(c[d]+=u[f][d]*h[f]);return c};function o(l){}const a=new To.GluTesselator;return a.gluTessCallback(To.gluEnum.GLU_TESS_VERTEX_DATA,t),a.gluTessCallback(To.gluEnum.GLU_TESS_BEGIN,r),a.gluTessCallback(To.gluEnum.GLU_TESS_ERROR,i),a.gluTessCallback(To.gluEnum.GLU_TESS_COMBINE,s),a.gluTessCallback(To.gluEnum.GLU_TESS_EDGE_FLAG,o),a.gluTessProperty(To.gluEnum.GLU_TESS_WINDING_RULE,To.windingRule.GLU_TESS_WINDING_NONZERO),a}_triangulate(t){const r=t[0]?t[0][2]:void 0;let i=!0;for(const o of t)for(let a=0;a<o.length;a+=this.tessyVertexSize)if(o[a+2]!==r){i=!1;break}i?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);const s=[];this._tessy.gluTessBeginPolygon(s);for(const o of t){this._tessy.gluTessBeginContour();for(let a=0;a<o.length;a+=this.tessyVertexSize){const l=o.slice(a,a+this.tessyVertexSize);this._tessy.gluTessVertex(l,l)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),s}}class XK{constructor(t){this.renderer=t,this.cache={}}numCached(){return Object.keys(this.cache).length}isCached(t){return this.cache[t]!==void 0}getGeometryByID(t){return this.cache[t]?.geometry}getCached(t){return this.getCachedID(t.gid)}getCachedID(t){return this.cache[t]}ensureCached(t){const r=t.gid;if(!r)throw new Error("The p5.Geometry you passed in has no gid property!");if(this.isCached(t.gid))return this.getCached(t);const i=this.renderer.GL;if(this.freeBuffers(r),Object.keys(this.cache).length>1e3){const a=Object.keys(this.cache)[0];this.freeBuffers(a)}const s={};this.cache[r]=s,s.geometry=t;let o=s.indexBuffer;if(t.faces.length){o||(o=s.indexBuffer=i.createBuffer());const a=t.faces.flat(),l=a.some(h=>h>65535);let u=l?Uint32Array:Uint16Array;this.renderer._bindBuffer(o,i.ELEMENT_ARRAY_BUFFER,a,u),s.indexBufferType=l?i.UNSIGNED_INT:i.UNSIGNED_SHORT}else o&&(i.deleteBuffer(o),s.indexBuffer=null);return s}freeBuffers(t){const r=this.cache[t];if(!r)return;delete this.cache[t];const i=this.renderer.GL;r.indexBuffer&&i.deleteBuffer(r.indexBuffer);function s(o){for(const a of o)r[a.dst]&&(i.deleteBuffer(r[a.dst]),r[a.dst]=null)}s(this.renderer.buffers.stroke),s(this.renderer.buffers.fill),s(this.renderer.buffers.user)}}const Qp={[fc]:3,[mg]:4,[pg]:.5};function sx(n,t){const r=t.DEGREES="degrees",i=t.RADIANS="radians";t._angleMode=i,t.acos=function(s){return this._fromRadians(Math.acos(s))},t.asin=function(s){return this._fromRadians(Math.asin(s))},t.atan=function(s){return this._fromRadians(Math.atan(s))},t.atan2=function(s,o){return this._fromRadians(Math.atan2(s,o))},t.cos=function(s){return Math.cos(this._toRadians(s))},t.sin=function(s){return Math.sin(this._toRadians(s))},t.tan=function(s){return Math.tan(this._toRadians(s))},t.degrees=s=>s*cl,t.radians=s=>s*ul,t.angleMode=function(s){if(typeof s>"u")return this._angleMode;if(s===r||s===i){const o=this._angleMode;if(s===o)return;s===i?(this.pRotationX=this.pRotationX*ul,this.pRotationY=this.pRotationY*ul,this.pRotationZ=this.pRotationZ*ul):(this.pRotationX=this.pRotationX*cl,this.pRotationY=this.pRotationY*cl,this.pRotationZ=this.pRotationZ*cl),this._angleMode=s}},t._toRadians=function(s){return this._angleMode===r?s*ul:s},t._toDegrees=function(s){return this._angleMode===i?s*cl:s},t._fromRadians=function(s){return this._angleMode===r?s*cl:s},t._fromDegrees=function(s){return this._angleMode===i?s*ul:s}}typeof p5<"u"&&sx(p5,p5.prototype);function ox(n,t){t.createImage=function(r,i){return new n.Image(r,i)},t.saveCanvas=function(...r){let i,s,o,a;if(r[0]instanceof HTMLCanvasElement)i=r[0],r.shift();else if(r[0]instanceof Lr)i=r[0].elt,r.shift();else if(r[0]instanceof Vs){const u=r[0];a=this.createGraphics(u.width,u.height),a.pixelDensity(u.pixelDensity()),u.loadPixels(),a.loadPixels(),a.pixels.set(u.pixels),a.updatePixels(),i=a._renderer.canvas,r.shift()}else i=this._curElement&&this._curElement.elt;r.length>=1&&(s=r[0]),r.length>=2&&(o=r[1]),o=o||t._checkFileExtension(s,o)[1]||"png";let l;switch(o){default:l="image/png";break;case"webp":l="image/webp";break;case"jpeg":case"jpg":l="image/jpeg";break}i.toBlob(u=>{t.downloadFile(u,s,o),a&&a.remove()},l)},t.encodeAndDownloadGif=function(r,i){const s=r.gifProperties;let o=s.loopLimit;o===1?o=null:o===null&&(o=0);const a=new Uint8Array(r.width*r.height*s.numFrames),l=[],u={};for(let b=0;b<s.numFrames;b++){const w=new Set,E=s.frames[b].image.data,_=E.length,T=new Uint32Array(r.width*r.height);for(let F=0,k=0;F<_;F+=4,k++){const D=E[F+0],N=E[F+1],M=E[F+2],U=D<<16|N<<8|M<<0;w.add(U),T[k]=U}const C=[...w].sort().toString();u[C]===void 0?u[C]={freq:1,frames:[b]}:(u[C].freq+=1,u[C].frames.push(b)),l.push(T)}let h=[];const c=Object.keys(u).sort(function(b,w){return u[w].freq-u[b].freq}),f=c[0].split(",").map(b=>parseInt(b));h=h.concat(u[f].frames);const d=new Set(f);for(let b=1;b<c.length;b++){const E=c[b].split(",").map(_=>parseInt(_)).filter(_=>!d.has(_));if(f.length+E.length<=256){for(let _=0;_<E.length;_++)f.push(E[_]),d.add(E[_]);h=h.concat(u[c[b]].frames)}}h=new Set(h);const p={};for(let b=0;b<f.length;b++)p[f[b]]||(p[f[b]]=b);let m=1;for(;m<f.length;)m<<=1;f.length=m;const g={loop:o,palette:new Uint32Array(f)},v=new UN.GifWriter(a,r.width,r.height,g);let S={};for(let b=0;b<s.numFrames;b++){const w=!h.has(b),E=w?[]:f,_=new Uint8Array(r.width*r.height),T={},C=new Set;l[b].forEach((D,N)=>{w?(T[D]===void 0&&(T[D]=E.length,E.push(D)),_[N]=T[D]):_[N]=p[D],b>0&&l[b-1][N]!==D&&C.add(D)});const F={},k=E.filter(D=>!C.has(D));if(k.length>0){const D=k[0],N=w?T[D]:p[D];if(b>0){for(let M=0;M<l[b].length;M++)l[b-1][M]===l[b][M]&&(_[M]=N);F.transparent=N,S.frameOpts.disposal=1}}if(F.delay=s.frames[b].delay/10,w){let D=1;for(;D<E.length;)D<<=1;E.length=D,F.palette=new Uint32Array(E)}b>0&&v.addFrame(0,0,r.width,r.height,S.pixelPaletteIndex,S.frameOpts),S={pixelPaletteIndex:_,frameOpts:F}}S.frameOpts.disposal=1,v.addFrame(0,0,r.width,r.height,S.pixelPaletteIndex,S.frameOpts);const y="gif",x=new Blob([a.slice(0,v.end())],{type:"image/gif"});t.downloadFile(x,i,y)},t.saveFrames=function(r,i,s,o,a){let l=s||3;l=Math.max(Math.min(l,15),0),l=l*1e3;let u=o||15;u=Math.max(Math.min(u,22),0);let h=0;const c=t._makeFrame,f=this._curElement.elt;let d=[];const p=setInterval(()=>{d.push(c(r+h,i,f)),h++},1e3/u);setTimeout(()=>{if(clearInterval(p),a)a(d);else for(const m of d)t.downloadFile(m.imageData,m.filename,m.ext);d=[]},l+.01)},t._makeFrame=function(r,i,s){let o;this?o=this._curElement.elt:o=s;let a;if(!i)i="png",a="image/png";else switch(i.toLowerCase()){case"png":a="image/png";break;case"jpeg":a="image/jpeg";break;case"jpg":a="image/jpeg";break;default:a="image/png";break}const l="image/octet-stream";let u=o.toDataURL(a);u=u.replace(a,l);const h={};return h.imageData=u,h.filename=r,h.ext=i,h}}typeof p5<"u"&&ox(p5,p5.prototype);class iS extends Error{status;response;ok}async function as(n,t){try{const r=await fetch(n);if(r.ok){let i;switch(t){case"json":i=await r.json();break;case"text":i=await r.text();break;case"arrayBuffer":i=await r.arrayBuffer();break;case"blob":i=await r.blob();break;case"bytes":if(r.bytes)i=await r.bytes();else{const s=await r.arrayBuffer();i=new Uint8Array(s)}break;default:throw new Error("Unsupported response type")}return{data:i,headers:r.headers}}else{const i=new iS(r.statusText);throw i.status=r.status,i.response=r,i.ok=!1,i}}catch(r){throw r instanceof TypeError?console.log("You may have encountered a CORS error"):r instanceof iS?console.log("You have encountered a HTTP error"):r instanceof SyntaxError&&console.log("There is an error parsing the response to requested data structure"),r}}function qN(n,t){t.loadJSON=async function(i,s,o){try{const{data:a}=await as(i,"json");return s?s(a):a}catch(a){if(n._friendlyFileLoadError(5,i),o)return o(a);throw a}},t.loadStrings=async function(i,s,o){try{let{data:a}=await as(i,"text");return a=a.split(/\r?\n/),s?s(a):a}catch(a){if(n._friendlyFileLoadError(3,i),o)return o(a);throw a}},t.loadTable=async function(i,s,o,a,l){typeof arguments[arguments.length-1]=="function"&&(typeof arguments[arguments.length-2]=="function"?(a=arguments[arguments.length-2],l=arguments[arguments.length-1]):a=arguments[arguments.length-1]),typeof s!="string"&&(s=","),typeof o=="function"&&(o=!1);try{let{data:u}=await as(i,"text"),h=new n.Table;return u=EK(u,{separator:s}),o?h.columns=u.shift():h.columns=Array(u[0].length).fill(null),u.forEach(c=>{const f=new n.TableRow(c);h.addRow(f)}),a?a(h):h}catch(u){if(n._friendlyFileLoadError(2,i),l)return l(u);throw u}},t.loadXML=async function(i,s,o){try{const a=new DOMParser;let{data:l}=await as(i,"text");const u=a.parseFromString(l,"application/xml");return l=new n.XML(u),s?s(l):l}catch(a){if(n._friendlyFileLoadError(1,i),o)return o(a);throw a}},t.loadBytes=async function(i,s,o){try{let{data:a}=await as(i,"arrayBuffer");return a=new Uint8Array(a),s?s(a):a}catch(a){if(n._friendlyFileLoadError(6,i),o)return o(a);throw a}},t.loadBlob=async function(i,s,o){try{const{data:a}=await as(i,"blob");return s?s(a):a}catch(a){if(o)return o(a);throw a}},t.httpGet=async function(i,s="text",o,a){return typeof s=="function"&&(a=o,o=s,s="text"),this.httpDo(i,"GET",s,o,a)},t.httpPost=async function(i,s,o="text",a,l){typeof s=="function"?(a=s,l=o,s=void 0,o="text"):typeof o=="function"&&(l=a,a=o,o="text");let u=s,h="text/plain";s instanceof n.XML?(u=s.serialize(),h="application/xml"):s instanceof n.Image?(u=await s.toBlob(),h="image/png"):typeof s=="object"&&(u=JSON.stringify(s),h="application/json");const c={method:"POST",body:u,headers:{"Content-Type":h}};u&&(c.body=u);const f=new Request(i,c);return this.httpDo(f,"POST",o,a,l)},t.httpDo=async function(i,s,o,a,l){if(typeof o=="function"&&(l=a,a=o,o=void 0),!o)switch(typeof i=="string"?i.split(".").pop():i.url.split(".").pop()){case"json":o="json";break;case"jpg":case"jpeg":case"png":case"webp":case"gif":o="blob";break;case"xml":case"txt":default:o="text"}const u=new Request(i,{method:s});try{const{data:h}=await as(u,o);return a?a(h):h}catch(h){if(l)return l(h);throw h}},t._pWriters=[],t.createWriter=function(i,s){let o;for(const a in t._pWriters)if(t._pWriters[a].name===i)return o=new n.PrintWriter(i+this.millis(),s),t._pWriters.push(o),o;return o=new n.PrintWriter(i,s),t._pWriters.push(o),o},n.PrintWriter=function(i,s){let o=this;this.name=i,this.content="",this.write=function(a){this.content+=a},this.print=function(a){this.content+=`${a}
`},this.clear=function(){this.content=""},this.close=function(){const a=[];a.push(this.content),t.writeFile(a,i,s);for(const l in t._pWriters)t._pWriters[l].name===this.name&&t._pWriters.splice(l,1);o.clear(),o={}}},t.save=function(i,s,o){const a=arguments,l=this._curElement?this._curElement.elt:this.elt;if(a.length===0){t.saveCanvas(l);return}else if(a[0]instanceof Dt||a[0]instanceof mc){t.saveCanvas(a[0].canvas,a[1],a[2]);return}else if(a.length===1&&typeof a[0]=="string")t.saveCanvas(l,a[0]);else switch(Jp(a[1],a[2])[1]){case"json":t.saveJSON(a[0],a[1],a[2]);return;case"txt":t.saveStrings(a[0],a[1],a[2]);return;default:a[0]instanceof Array?t.saveStrings(a[0],a[1],a[2]):a[0]instanceof n.Table?t.saveTable(a[0],a[1],a[2]):a[0]instanceof n.Image?t.saveCanvas(a[0].canvas,a[1]):a[0]instanceof n.SoundFile&&t.saveSound(a[0],a[1],a[2],a[3])}},t.saveJSON=function(i,s,o){let a;o?a=JSON.stringify(i):a=JSON.stringify(i,void 0,2),this.saveStrings(a.split(`
`),s,"json")},t.saveStrings=function(i,s,o,a){const l=o||"txt",u=new n.PrintWriter(s,l);for(let h of i)a?u.write(h+`\r
`):u.write(h+`
`);u.close(),u.clear()};function r(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}t.saveTable=function(i,s,o){let a;o===void 0?(a=s.substring(s.lastIndexOf(".")+1,s.length),a===s&&(a="csv")):a=o;const l=this.createWriter(s,a),u=i.columns;let h=",";if(a==="tsv"&&(h="	"),a!=="html"){const c=i.toString(h);l.write(c)}else{l.print("<html>"),l.print("<head>");let c='  <meta http-equiv="content-type" content';if(c+='="text/html;charset=utf-8" />',l.print(c),l.print("</head>"),l.print("<body>"),l.print("  <table>"),u[0]!=="0"){l.print("    <tr>");for(let f=0;f<u.length;f++){const d=r(u[f]);l.print(`      <td>${d}`),l.print("      </td>")}l.print("    </tr>")}for(let f=0;f<i.rows.length;f++){l.print("    <tr>");for(let d=0;d<i.columns.length;d++){const p=i.rows[f].getString(d),m=r(p);l.print(`      <td>${m}`),l.print("      </td>")}l.print("    </tr>")}l.print("  </table>"),l.print("</body>"),l.print("</html>")}l.close(),l.clear()},t.writeFile=function(i,s,o){let a="application/octet-stream";t._isSafari()&&(a="text/plain");const l=new Blob(i,{type:a});t.downloadFile(l,s,o)},t.downloadFile=tf,t._checkFileExtension=Jp,t._isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}typeof p5<"u"&&qN(p5,p5.prototype);function ax(n,t){t.loadImage=async function(h,c,f){try{let d=new n.Image(1,1,this);const p=new Request(h,{method:"GET",mode:"cors"}),{data:m,headers:g}=await as(p,"bytes"),v=g.get("content-type");if(v===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),v&&v.includes("image/gif"))await s(m,d);else{const S=new Blob([m]),y=await createImageBitmap(S);d.width=d.canvas.width=y.width,d.height=d.canvas.height=y.height,d.drawingContext.drawImage(y,0,0)}return d.modified=!0,c?c(d):d}catch(d){if(n._friendlyFileLoadError(0,h),typeof f=="function")return f(d);throw d}},t.saveGif=async function(h,c,f={delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar",reset:!0}){if(typeof h!="string")throw TypeError("fileName parameter must be a string");if(typeof c!="number")throw TypeError("Duration parameter must be a number");const d=f&&f.delay||0,p=f&&f.units||"seconds",m=f&&f.silent||!1,g=f&&f.notificationDuration||0,v=f&&f.notificationID||"progressBar",S=f&&f.reset!==void 0?f.reset:!0;if(typeof d!="number")throw TypeError("Delay parameter must be a number");if(p!=="seconds"&&p!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');if(typeof m!="boolean")throw TypeError("Silent parameter must be a boolean");if(typeof g!="number")throw TypeError("Notification duration parameter must be a number");if(typeof v!="string")throw TypeError("Notification ID parameter must be a string");this._recording=!0;let y=this._targetFrameRate;(y===1/0||y===void 0||y===0)&&(y=60);let x=1/y*1e3;x=x<20?20:x;const b=p==="seconds"?c*y:c,w=p==="seconds"?d*y:d;let E,_;S?(E=w,this.frameCount=E,_=b+w):(E=this.frameCount+w,_=E+b);const T=this._renderer._pixelDensity;this.pixelDensity(1);let C=[];document.getElementById(v)!==null&&document.getElementById(v).remove();let F;m||(F=this.createP(""),F.id(v),F.style("font-size","16px"),F.style("font-family","Montserrat"),F.style("background-color","#ffffffa0"),F.style("padding","8px"),F.style("border-radius","10px"),F.position(0,0));let k,D;for(this._renderer instanceof n.RendererGL&&(D=this.drawingContext,k=new Uint8Array(D.drawingBufferWidth*D.drawingBufferHeight*4)),this.noLoop(),await new Promise(requestAnimationFrame);E<_;){this.redraw(),await new Promise(requestAnimationFrame);let ae;this._renderer instanceof n.RendererGL?(k=new Uint8Array(D.drawingBufferWidth*D.drawingBufferHeight*4),D.readPixels(0,0,D.drawingBufferWidth,D.drawingBufferHeight,D.RGBA,D.UNSIGNED_BYTE,k),ae=r(k,this.width,this.height)):ae=this.drawingContext.getImageData(0,0,this.width,this.height).data,C.push(ae),E++,m||F.html("Saved frame <b>"+C.length.toString()+"</b> out of "+b.toString()),await new Promise(xe=>setTimeout(xe,0))}m||F.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(T);const N=BK(),M=i(C),U={},R=ae=>{const xe=ae.length/4,Z=new Uint8Array(xe);for(let G=0;G<xe;G++){const ye=ae[G*4]<<24|ae[G*4+1]<<16|ae[G*4+2]<<8|ae[G*4+3];U[ye]===void 0&&(U[ye]=RK(M,ae.slice(G*4,(G+1)*4))),Z[G]=U[ye]}return Z},W=M.length-1;let ne=[];for(let ae=0;ae<C.length;ae++){const xe=R(C[ae]),Z=xe.slice();if(ae===0)N.writeFrame(xe,this.width,this.height,{palette:M,delay:x,dispose:1});else{for(let G=0;G<xe.length;G++)xe[G]===ne[G]&&(xe[G]=W);N.writeFrame(xe,this.width,this.height,{delay:x,transparent:!0,transparentIndex:W,dispose:1})}ne=Z,m||F.html("Rendered frame <b>"+ae.toString()+"</b> out of "+b.toString()),await new Promise(G=>setTimeout(G,0))}N.finish();const ge=N.bytesView(),te="gif",J=new Blob([ge],{type:"image/gif"});C=[],this._recording=!1,this.loop(),m||(F.html("Done. Downloading your gif!"),g>0&&setTimeout(()=>F.remove(),g*1e3)),t.downloadFile(J,h,te)};function r(h,c,f){const d=parseInt(f/2),p=c*4,m=new Uint8Array(c*4);for(let g=0;g<d;++g){const v=g*p,S=(f-g-1)*p;m.set(h.subarray(v,v+p)),h.copyWithin(v,S,S+p),h.set(m,S)}return h}function i(h){let c=new Uint8Array(h.length*h[0].length);for(let d=0;d<h.length;d++)c.set(h[d],d*h[0].length);let f=OK(c,256,{format:"rgba4444",oneBitAlpha:!0});return f.length===256?f[f.length-1]=[Math.random()*255,Math.random()*255,Math.random()*255,0]:f.push([Math.random()*255,Math.random()*255,Math.random()*255,0]),f}async function s(h,c){const f=new UN.GifReader(h);c.width=c.canvas.width=f.width,c.height=c.canvas.height=f.height;const d=[],p=f.numFrames();let m=new Uint8ClampedArray(c.width*c.height*4);const g=(S,y)=>{try{y.decodeAndBlitFrameRGBA(S,m)}catch(x){throw n._friendlyFileLoadError(8,c.src),x}};for(let S=0;S<p;S++){const y=f.frameInfo(S),x=c.drawingContext.getImageData(0,0,c.width,c.height);m=x.data.slice(),g(S,f);const b=new ImageData(m,c.width,c.height);c.drawingContext.putImageData(b,0,0);let w=y.delay;w===0&&(w=10),d.push({image:c.drawingContext.getImageData(0,0,c.width,c.height),delay:w*10}),y.disposal===2?c.drawingContext.clearRect(y.x,y.y,y.width,y.height):y.disposal===3&&c.drawingContext.putImageData(x,0,0,y.x,y.y,y.width,y.height)}let v=f.loopCount();return v===null?v=1:v===0&&(v=null),c.drawingContext.putImageData(d[0].image,0,0),d.length>1&&(c.gifProperties={displayIndex:0,loopLimit:v,loopCount:0,frames:d,numFrames:p,playing:!0,timeDisplayed:0,lastChangeTime:0}),c}function o(h,c,f,d,p,m,g,v){const S=Math.max(g/p,v/m),[y,x]=[g/S,v/S];let b=f,w=d;return h===zi?b+=(p-y)/2:h===jp&&(b+=p-y),c===zi?w+=(m-x)/2:c===Dy&&(w+=m-x),{x:b,y:w,w:y,h:x}}function a(h,c,f,d,p,m,g,v){const S=Math.max(f/g,d/v),[y,x]=[f/S,d/S];let b=p,w=m;return h===zi?b+=(g-y)/2:h===jp&&(b+=g-y),c===zi?w+=(v-x)/2:c===Dy&&(w+=v-x),{x:b,y:w,w:y,h:x}}function l(h,c,f,d,p,m,g,v,S,y,x){if(h===Y5){const{x:b,y:w,w:E,h:_}=a(c,f,m,g,v,S,y,x);v=b,S=w,y=E,x=_}if(h===q5){const{x:b,y:w,w:E,h:_}=o(c,f,d,p,m,g,y,x);d=b,p=w,m=E,g=_}return{sx:v,sy:S,sw:y,sh:x,dx:d,dy:p,dw:m,dh:g}}function u(h,c){return h>0&&h<c?h:c}t.image=function(h,c,f,d,p,m,g,v,S,y,x,b){let w=h.width,E=h.height;b=b||zi,x=x||zi,h.elt&&(w=w!==void 0?w:h.elt.width,E=E!==void 0?E:h.elt.height),h.elt&&h.elt.videoWidth&&!h.canvas&&(w=w!==void 0?w:h.elt.videoWidth,E=E!==void 0?E:h.elt.videoHeight);let _=c,T=f,C=d||w,F=p||E,k=m||0,D=g||0,N=v!==void 0?v:w,M=S!==void 0?S:E;N=u(N,w),M=u(M,E);let U=1;h.elt&&!h.canvas&&h.elt.style.width&&(h.elt.videoWidth&&!d?U=h.elt.videoWidth:U=h.elt.width,U/=parseInt(h.elt.style.width,10)),k*=U,D*=U,M*=U,N*=U;let R=lp.modeAdjust(_,T,C,F,this._renderer.states.imageMode);R=l(y,x,b,R.x,R.y,R.w,R.h,k,D,N,M),this._renderer.image(h,R.sx,R.sy,R.sw,R.sh,R.dx,R.dy,R.dw,R.dh)},t.tint=function(...h){const c=this.color(...h);this._renderer.states.setValue("tint",c._getRGBA([255,255,255,255]))},t.noTint=function(){this._renderer.states.setValue("tint",null)},t.imageMode=function(h){(h===hs||h===Gh||h===zi)&&this._renderer.states.setValue("imageMode",h)}}typeof p5<"u"&&ax(p5,p5.prototype);class Yl{constructor(t){this._renderer=t,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new Rn(4),this.projMatrix=new Rn(4),this.yScale=1}perspective(t,r,i,s){this.cameraType=arguments.length>0?"custom":"default",typeof t>"u"?(t=this.defaultCameraFOV,this.cameraFOV=t):this.cameraFOV=this._renderer._pInst._toRadians(t),typeof r>"u"&&(r=this.defaultAspectRatio),typeof i>"u"&&(i=this.defaultCameraNear),typeof s>"u"&&(s=this.defaultCameraFar),i<=1e-4&&(i=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),s<i&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=r,this.cameraNear=i,this.cameraFar=s,this.projMatrix=new Rn(4);const o=1/Math.tan(this.cameraFOV/2),a=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(o/r,0,0,0,0,-o*this.yScale,0,0,0,0,(s+i)*a,-1,0,0,2*s*i*a,0),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix))}ortho(t,r,i,s,o,a){const l=this.fbo||this._renderer;t===void 0&&(t=-l.width/2),r===void 0&&(r=+l.width/2),i===void 0&&(i=-l.height/2),s===void 0&&(s=+l.height/2),o===void 0&&(o=0),a===void 0&&(a=Math.max(l.width,l.height)+800),this.cameraNear=o,this.cameraFar=a;const u=r-t,h=s-i,c=a-o,f=2/u,d=2/h*this.yScale,p=-2/c,m=-(r+t)/u,g=-(s+i)/h,v=-(a+o)/c;this.projMatrix=new Rn(4),this.projMatrix.set(f,0,0,0,0,-d,0,0,0,0,p,0,m,g,v,1),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType="custom"}frustum(t,r,i,s,o,a){t===void 0&&(t=-this._renderer.width*.05),r===void 0&&(r=+this._renderer.width*.05),i===void 0&&(i=+this._renderer.height*.05),s===void 0&&(s=-this._renderer.height*.05),o===void 0&&(o=this.defaultCameraNear),a===void 0&&(a=this.defaultCameraFar),this.cameraNear=o,this.cameraFar=a;const l=r-t,u=s-i,h=a-o,c=+(2*o)/l,f=+(2*o)/u*this.yScale,d=-(2*a*o)/h,p=(r+t)/l,m=(s+i)/u,g=-(a+o)/h;this.projMatrix=new Rn(4),this.projMatrix.set(c,0,0,0,0,-f,0,0,p,m,g,-1,0,0,d,0),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType="custom"}_rotateView(t,r,i,s){let o=this.centerX,a=this.centerY,l=this.centerZ;o-=this.eyeX,a-=this.eyeY,l-=this.eyeZ;const u=new Rn(4);u.rotate4x4(this._renderer._pInst._toRadians(t),r,i,s);const h=[o*u.mat4[0]+a*u.mat4[4]+l*u.mat4[8],o*u.mat4[1]+a*u.mat4[5]+l*u.mat4[9],o*u.mat4[2]+a*u.mat4[6]+l*u.mat4[10]];h[0]+=this.eyeX,h[1]+=this.eyeY,h[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,h[0],h[1],h[2],this.upX,this.upY,this.upZ)}roll(t){const r=this._getLocalAxes(),s=Yu.fromAxisAngle(this._renderer._pInst._toRadians(t),r.z[0],r.z[1],r.z[2]).rotateVector(new Ne(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,s.x,s.y,s.z)}pan(t){const r=this._getLocalAxes();this._rotateView(t,r.y[0],r.y[1],r.y[2])}tilt(t){const r=this._getLocalAxes();this._rotateView(t,r.x[0],r.x[1],r.x[2])}lookAt(t,r,i){this.camera(this.eyeX,this.eyeY,this.eyeZ,t,r,i,this.upX,this.upY,this.upZ)}camera(t,r,i,s,o,a,l,u,h){typeof t>"u"&&(t=this.defaultEyeX,r=this.defaultEyeY,i=this.defaultEyeZ,s=t,o=r,a=0,l=0,u=1,h=0),this.eyeX=t,this.eyeY=r,this.eyeZ=i,typeof s<"u"&&(this.centerX=s,this.centerY=o,this.centerZ=a),typeof l<"u"&&(this.upX=l,this.upY=u,this.upZ=h);const c=this._getLocalAxes();this.cameraMatrix.set(c.x[0],c.y[0],c.z[0],0,c.x[1],c.y[1],c.z[1],0,c.x[2],c.y[2],c.z[2],0,0,0,0,1);const f=-t,d=-r,p=-i;return this.cameraMatrix.translate([f,d,p]),this._isActive()&&(this._renderer.states.setValue("uViewMatrix",this._renderer.states.uViewMatrix.clone()),this._renderer.states.uViewMatrix.set(this.cameraMatrix)),this}move(t,r,i){const s=this._getLocalAxes(),o=[s.x[0]*t,s.x[1]*t,s.x[2]*t],a=[s.y[0]*r,s.y[1]*r,s.y[2]*r],l=[s.z[0]*i,s.z[1]*i,s.z[2]*i];this.camera(this.eyeX+o[0]+a[0]+l[0],this.eyeY+o[1]+a[1]+l[1],this.eyeZ+o[2]+a[2]+l[2],this.centerX+o[0]+a[0]+l[0],this.centerY+o[1]+a[1]+l[1],this.centerZ+o[2]+a[2]+l[2],this.upX,this.upY,this.upZ)}setPosition(t,r,i){const s=t-this.eyeX,o=r-this.eyeY,a=i-this.eyeZ;this.camera(t,r,i,this.centerX+s,this.centerY+o,this.centerZ+a,this.upX,this.upY,this.upZ)}set(t){const r=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];for(const i of r)this[i]=t[i];this.cameraMatrix=t.cameraMatrix.copy(),this.projMatrix=t.projMatrix.copy(),this._isActive()&&(this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.setValue("uViewMatrix",this._renderer.states.uViewMatrix.clone()),this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this._renderer.states.uViewMatrix.set(this.cameraMatrix),this._renderer.states.uPMatrix.set(this.projMatrix))}slerp(t,r,i){if(i===0){this.set(t);return}else if(i===1){this.set(r);return}this.projMatrix.mat4[15]!==0&&(this.projMatrix.setElement(0,t.projMatrix.mat4[0]*Math.pow(r.projMatrix.mat4[0]/t.projMatrix.mat4[0],i)),this.projMatrix.setElement(5,t.projMatrix.mat4[5]*Math.pow(r.projMatrix.mat4[5]/t.projMatrix.mat4[5],i)),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4=this.projMatrix.mat4.slice()));const s=new Ne(t.eyeX,t.eyeY,t.eyeZ),o=new Ne(r.eyeX,r.eyeY,r.eyeZ),a=new Ne(t.centerX,t.centerY,t.centerZ),l=new Ne(r.centerX,r.centerY,r.centerZ),u=Ne.dist(s,a),h=Ne.dist(o,l),c=u*Math.pow(h/u,i),f=Ne.sub(s,o),d=s.copy().sub(o).sub(a).add(l),p=d.magSq();let m=1;p>1e-6&&(m=Ne.dot(f,d)/p,m=Math.max(0,Math.min(m,1)));const g=Ne.lerp(Ne.lerp(s,a,m),Ne.lerp(o,l,m),i),v=t.cameraMatrix.createSubMatrix3x3(),S=r.cameraMatrix.createSubMatrix3x3(),y=v.row(2),x=S.row(2),b=v.row(1),w=S.row(1),E=new Ne,_=new Ne,T=new Ne,C=new Ne,F=S.mult(v.copy().transpose()),k=F.diagonal();let D=.5*(k[0]+k[1]+k[2]-1);if(1-D<1e-7){E.set(Ne.lerp(y,x,i)).normalize(),T.set(E).mult(m*c).add(g),C.set(E).mult((m-1)*c).add(g),_.set(Ne.lerp(b,w,i)).normalize(),this.camera(T.x,T.y,T.z,C.x,C.y,C.z,_.x,_.y,_.z);return}let N,M,U,R,W=1/(1-D);const ne=Math.max(k[0],k[1],k[2]),ge=F.mat3[1]+F.mat3[3],te=F.mat3[2]+F.mat3[6],J=F.mat3[5]+F.mat3[7];ne===k[0]?(N=Math.sqrt((k[0]-D)*W),W/=N,M=.5*ge*W,U=.5*te*W,R=.5*(F.mat3[7]-F.mat3[5])/N):ne===k[1]?(M=Math.sqrt((k[1]-D)*W),W/=M,U=.5*J*W,N=.5*ge*W,R=.5*(F.mat3[2]-F.mat3[6])/M):(U=Math.sqrt((k[2]-D)*W),W/=U,N=.5*te*W,M=.5*J*W,R=.5*(F.mat3[3]-F.mat3[1])/U);const ae=i*Math.atan2(R,D),xe=Math.cos(ae),Z=Math.sin(ae),G=1-xe,ye=N*M,Q=M*U,pe=U*N,$=new Rn([xe+G*N*N,G*ye+Z*U,G*pe-Z*M,G*ye-Z*U,xe+G*M*M,G*Q+Z*N,G*pe+Z*M,G*Q-Z*N,xe+G*U*U]);$.multiplyVec(y,E),T.set(E).mult(m*c).add(g),C.set(E).mult((m-1)*c).add(g),$.multiplyVec(b,_),this.camera(T.x,T.y,T.z,C.x,C.y,C.z,_.x,_.y,_.z)}_computeCameraDefaultSettings(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=this.defaultEyeZ*.1,this.defaultCameraFar=this.defaultEyeZ*10}_setDefaultCamera(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}_resize(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}copy(){const t=new Yl(this._renderer);return t.cameraFOV=this.cameraFOV,t.aspectRatio=this.aspectRatio,t.eyeX=this.eyeX,t.eyeY=this.eyeY,t.eyeZ=this.eyeZ,t.centerX=this.centerX,t.centerY=this.centerY,t.centerZ=this.centerZ,t.upX=this.upX,t.upY=this.upY,t.upZ=this.upZ,t.cameraNear=this.cameraNear,t.cameraFar=this.cameraFar,t.cameraType=this.cameraType,t.useLinePerspective=this.useLinePerspective,t.cameraMatrix=this.cameraMatrix.copy(),t.projMatrix=this.projMatrix.copy(),t.yScale=this.yScale,t}clone(){return this.copy()}_getLocalAxes(){let t=this.eyeX-this.centerX,r=this.eyeY-this.centerY,i=this.eyeZ-this.centerZ;const s=Math.sqrt(t*t+r*r+i*i);s!==0&&(t/=s,r/=s,i/=s);let o=this.upX,a=this.upY,l=this.upZ,u=a*i-l*r,h=-o*i+l*t,c=o*r-a*t;o=r*c-i*h,a=-t*c+i*u,l=t*h-r*u;const f=Math.sqrt(u*u+h*h+c*c);f!==0&&(u/=f,h/=f,c/=f);const d=Math.sqrt(o*o+a*a+l*l);return d!==0&&(o/=d,a/=d,l/=d),{x:[u,h,c],y:[o,a,l],z:[t,r,i]}}_orbit(t,r,i){const s=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ;let l=Math.hypot(s,o,a);const u=new Ne(s,o,a).normalize(),h=new Ne(this.upX,this.upY,this.upZ).normalize(),c=Ne.cross(h,u).normalize(),f=Ne.cross(c,h);l*=Math.pow(10,i),l<this.cameraNear&&(l=this.cameraNear),l>this.cameraFar&&(l=this.cameraFar);const d=Math.acos(Math.max(-1,Math.min(1,Ne.dot(u,h))))+r,p=t;(d<=0||d>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),h.mult(Math.cos(d)),f.mult(Math.cos(p)*Math.sin(d)),c.mult(Math.sin(p)*Math.sin(d)),u.set(h).add(f).add(c),this.eyeX=l*u.x+this.centerX,this.eyeY=l*u.y+this.centerY,this.eyeZ=l*u.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}_orbitFree(t,r,i){const s=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ;let l=Math.hypot(s,o,a);const u=new Ne(s,o,a).normalize(),h=new Ne(this.upX,this.upY,this.upZ),c=Ne.cross(h,u).normalize(),f=Ne.cross(u,c),d=Math.atan2(r,t);f.mult(Math.sin(d)),c.mult(Math.cos(d)).add(f);const p=Math.sqrt(t*t+r*r),m=Ne.cross(u,c);l*=Math.pow(10,i),l<this.cameraNear&&(l=this.cameraNear),l>this.cameraFar&&(l=this.cameraFar);const g=Math.cos(p),v=Math.sin(p),S=h.dot(u),y=h.dot(c),x=S*g+y*v,b=-S*v+y*g,w=h.dot(m);h.x=x*u.x+b*c.x+w*m.x,h.y=x*u.y+b*c.y+w*m.y,h.z=x*u.z+b*c.z+w*m.z,c.mult(-v),u.mult(g).add(c).mult(l),this.camera(u.x+this.centerX,u.y+this.centerY,u.z+this.centerZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}_isActive(){return this===this._renderer.states.curCamera}}function YN(n,t){t.camera=function(...r){return this._assert3d("camera"),this._renderer.camera(...r),this},t.perspective=function(...r){return this._assert3d("perspective"),this._renderer.perspective(...r),this},t.linePerspective=function(r){if(!(this._renderer instanceof Ot))throw new Error("linePerspective() must be called in WebGL mode.");return this._renderer.linePerspective(r)},t.ortho=function(...r){return this._assert3d("ortho"),this._renderer.ortho(...r),this},t.frustum=function(...r){return this._assert3d("frustum"),this._renderer.frustum(...r),this},t.createCamera=function(){return this._assert3d("createCamera"),this._renderer.createCamera()},t.setCamera=function(r){this._renderer.setCamera(r)},n.Camera=Yl,Ot.prototype.camera=function(...r){this.states.curCamera.camera(...r)},Ot.prototype.perspective=function(...r){this.states.curCamera.perspective(...r)},Ot.prototype.linePerspective=function(r){if(r!==void 0)this.states.curCamera.useLinePerspective=r;else return this.states.curCamera.useLinePerspective},Ot.prototype.ortho=function(...r){this.states.curCamera.ortho(...r)},Ot.prototype.frustum=function(...r){this.states.curCamera.frustum(...r)},Ot.prototype.createCamera=function(){const r=new Yl(this);return r._computeCameraDefaultSettings(),r._setDefaultCamera(),r},Ot.prototype.setCamera=function(r){this.states.setValue("curCamera",r),this.states.setValue("uPMatrix",this.states.uPMatrix.clone()),this.states.uPMatrix.set(r.projMatrix),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(r.cameraMatrix)}}typeof p5<"u"&&YN(p5,p5.prototype);class Gr{constructor(t,r,i,s={}){this._renderer=t,this._vertSrc=r,this._fragSrc=i,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:s.uniforms||{},declarations:s.declarations,helpers:s.helpers||{},vertex:s.vertex||{},fragment:s.fragment||{},modified:{vertex:s.modified&&s.modified.vertex||{},fragment:s.modified&&s.modified.fragment||{}}}}hookTypes(t){let r=this._vertSrc,i=this.hooks.vertex[t];if(i||(i=this.hooks.fragment[t],r=this._fragSrc),!i)throw new Error(`Can't find hook ${t}!`);const s=t.split(/\s+/g),o=s.pop(),a=s.pop(),l=[...s],u=/\(([^\)]*)\)/.exec(i);if(!u)throw new Error(`Couldn't find function parameters in hook body:
${i}`);const h=f=>{const d=new RegExp(`struct\\s+${f}\\s*{([^}]*)}`).exec(r);if(!d)return;const p=[];for(const m of d[1].split(";")){const g=m.trim().split(/\s+|,/g),v=g.shift(),S=[...g],y=h(v);for(const x of S)p.push({name:x,type:{typeName:v,qualifiers:[],properties:y}})}return p},c=u[1].split(",").map(f=>{const d=f.trim().split(/\s+/g),p=d.pop(),m=d.pop(),g=[...d],v=h(m);return{name:p,type:{typeName:m,qualifiers:g,properties:v}}});return{name:o,returnType:{typeName:a,qualifiers:l,properties:h(a)},parameters:c}}shaderSrc(t,r){const i="void main";let[s,o]=t.split(i),a="",l="";for(const u in this.hooks.uniforms)a+=`uniform ${u};
`;this.hooks.declarations&&(a+=this.hooks.declarations+`
`),this.hooks[r].declarations&&(a+=this.hooks[r].declarations+`
`);for(const u in this.hooks.helpers)a+=`${u}${this.hooks.helpers[u]}
`;for(const u in this.hooks[r]){if(u==="declarations")continue;const[h,c]=u.split(" ");this.hooks.modified[r][u]&&(l+="#define AUGMENTED_HOOK_"+c+`
`),a+=h+" HOOK_"+c+this.hooks[r][u]+`
`}return s.indexOf("#define HOOK_DEFINES")!==-1&&(s=s.replace("#define HOOK_DEFINES",`
`+l+`
`),l=""),s+`
`+l+a+i+o}version(){const t=/#version (.+)$/.exec(this.vertSrc());return t?t[1]:"100 es"}vertSrc(){return this.shaderSrc(this._vertSrc,"vertex")}fragSrc(){return this.shaderSrc(this._fragSrc,"fragment")}inspectHooks(){console.log("==== Vertex shader hooks: ====");for(const t in this.hooks.vertex)console.log((this.hooks.modified.vertex[t]?"[MODIFIED] ":"")+t+this.hooks.vertex[t]);console.log(""),console.log("==== Fragment shader hooks: ====");for(const t in this.hooks.fragment)console.log((this.hooks.modified.fragment[t]?"[MODIFIED] ":"")+t+this.hooks.fragment[t]);console.log(""),console.log("==== Helper functions: ====");for(const t in this.hooks.helpers)console.log(t+this.hooks.helpers[t])}modify(t){const r={vertex:{},fragment:{},helpers:{}};for(const o in t)o!=="declarations"&&o!=="uniforms"&&(o==="vertexDeclarations"?r.vertex.declarations=(r.vertex.declarations||"")+`
`+t[o]:o==="fragmentDeclarations"?r.fragment.declarations=(r.fragment.declarations||"")+`
`+t[o]:this.hooks.vertex[o]?r.vertex[o]=t[o]:this.hooks.fragment[o]?r.fragment[o]=t[o]:r.helpers[o]=t[o]);const i=Object.assign({},this.hooks.modified.vertex),s=Object.assign({},this.hooks.modified.fragment);for(const o in r.vertex||{})o!=="declarations"&&(i[o]=!0);for(const o in r.fragment||{})o!=="declarations"&&(s[o]=!0);return new Gr(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(t.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,t.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,r.fragment||{}),vertex:Object.assign({},this.hooks.vertex,r.vertex||{}),helpers:Object.assign({},this.hooks.helpers,r.helpers||{}),modified:{vertex:i,fragment:s}})}init(){if(this._glProgram===0){const t=this._renderer.GL;if(this._vertShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertShader,this.vertSrc()),t.compileShader(this._vertShader),!t.getShaderParameter(this._vertShader,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(this._vertShader);if(typeof IS_MINIFIED<"u")console.error(r);else throw p5._friendlyError(`Yikes! An error occurred compiling the vertex shader:${r}`),r;return null}if(this._fragShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragShader,this.fragSrc()),t.compileShader(this._fragShader),!t.getShaderParameter(this._fragShader,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(this._fragShader);if(typeof IS_MINIFIED<"u")console.error(r);else throw p5._friendlyError(`Darn! An error occurred compiling the fragment shader:${r}`),r;return null}this._glProgram=t.createProgram(),t.attachShader(this._glProgram,this._vertShader),t.attachShader(this._glProgram,this._fragShader),t.linkProgram(this._glProgram),t.getProgramParameter(this._glProgram,t.LINK_STATUS)||p5._friendlyError(`Snap! Error linking shader program: ${t.getProgramInfoLog(this._glProgram)}`),this._loadAttributes(),this._loadUniforms()}return this}setDefaultUniforms(){for(const t in this.hooks.uniforms){const[,r]=t.split(" "),i=this.hooks.uniforms[t];let s;i instanceof Function?s=i():s=i,s!=null&&this.setUniform(r,s)}}copyToContext(t){const r=new Gr(t._renderer,this._vertSrc,this._fragSrc);return r.ensureCompiledOnContext(t._renderer),r}ensureCompiledOnContext(t){if(this._glProgram!==0&&this._renderer!==t)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=t?._renderer?.filterRenderer?._renderer||t,this.init())}_loadAttributes(){if(this._loadedAttributes)return;this.attributes={};const t=this._renderer.GL,r=t.getProgramParameter(this._glProgram,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;++i){const s=t.getActiveAttrib(this._glProgram,i),o=s.name,a=t.getAttribLocation(this._glProgram,o),l={};l.name=o,l.location=a,l.index=i,l.type=s.type,l.size=s.size,this.attributes[o]=l}this._loadedAttributes=!0}_loadUniforms(){if(this._loadedUniforms)return;const t=this._renderer.GL,r=t.getProgramParameter(this._glProgram,t.ACTIVE_UNIFORMS);let i=0;for(let s=0;s<r;++s){const o=t.getActiveUniform(this._glProgram,s),a={};a.location=t.getUniformLocation(this._glProgram,o.name),a.size=o.size;let l=o.name;o.size>1&&(l=l.substring(0,l.indexOf("[0]"))),a.name=l,a.type=o.type,a._cachedData=void 0,a.type===t.SAMPLER_2D&&(a.samplerIndex=i,i++,this.samplers.push(a)),a.isArray=o.size>1||a.type===t.FLOAT_MAT3||a.type===t.FLOAT_MAT4||a.type===t.FLOAT_VEC2||a.type===t.FLOAT_VEC3||a.type===t.FLOAT_VEC4||a.type===t.INT_VEC2||a.type===t.INT_VEC4||a.type===t.INT_VEC3,this.uniforms[l]=a}this._loadedUniforms=!0}compile(){}bindShader(){this.init(),this._bound||(this.useProgram(),this._bound=!0)}unbindShader(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}bindTextures(){const t=this._renderer.GL,r=this._renderer._getEmptyTexture();for(const i of this.samplers){let s=i.texture;s===void 0&&(i.texture=s=r),t.activeTexture(t.TEXTURE0+i.samplerIndex),s.bindTexture(),s.update(),t.uniform1i(i.location,i.samplerIndex)}}updateTextures(){for(const t of this.samplers){const r=t.texture;r&&r.update()}}unbindTextures(){const t=this._renderer.GL,r=this._renderer._getEmptyTexture();for(const i of this.samplers)i.texture?.isFramebufferTexture&&(t.activeTexture(t.TEXTURE0+i.samplerIndex),r.bindTexture(),t.uniform1i(i.location,i.samplerIndex))}useProgram(){const t=this._renderer.GL;return this._renderer._curShader!==this&&(t.useProgram(this._glProgram),this._renderer._curShader=this),this}setUniform(t,r){this.init();const i=this.uniforms[t];if(!i)return;const s=this._renderer.GL;if(i.isArray){if(i._cachedData&&this._renderer._arraysEqual(i._cachedData,r))return;i._cachedData=r.slice(0)}else{if(i._cachedData&&i._cachedData===r)return;Array.isArray(r)?i._cachedData=r.slice(0):i._cachedData=r}const o=i.location;switch(this.useProgram(),i.type){case s.BOOL:r===!0?s.uniform1i(o,1):s.uniform1i(o,0);break;case s.INT:i.size>1?r.length&&s.uniform1iv(o,r):s.uniform1i(o,r);break;case s.FLOAT:i.size>1?r.length&&s.uniform1fv(o,r):s.uniform1f(o,r);break;case s.FLOAT_MAT3:s.uniformMatrix3fv(o,!1,r);break;case s.FLOAT_MAT4:s.uniformMatrix4fv(o,!1,r);break;case s.FLOAT_VEC2:i.size>1?r.length&&s.uniform2fv(o,r):s.uniform2f(o,r[0],r[1]);break;case s.FLOAT_VEC3:i.size>1?r.length&&s.uniform3fv(o,r):s.uniform3f(o,r[0],r[1],r[2]);break;case s.FLOAT_VEC4:i.size>1?r.length&&s.uniform4fv(o,r):s.uniform4f(o,r[0],r[1],r[2],r[3]);break;case s.INT_VEC2:i.size>1?r.length&&s.uniform2iv(o,r):s.uniform2i(o,r[0],r[1]);break;case s.INT_VEC3:i.size>1?r.length&&s.uniform3iv(o,r):s.uniform3i(o,r[0],r[1],r[2]);break;case s.INT_VEC4:i.size>1?r.length&&s.uniform4iv(o,r):s.uniform4i(o,r[0],r[1],r[2],r[3]);break;case s.SAMPLER_2D:if(typeof r=="number"){if(r<s.TEXTURE0||r>s.TEXTURE31||r!==Math.ceil(r))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;s.activeTexture(r),s.uniform1i(o,r)}else s.activeTexture(s.TEXTURE0+i.samplerIndex),i.texture=r instanceof Zo?r:this._renderer.getTexture(r),s.uniform1i(o,i.samplerIndex),i.texture.src.gifProperties&&i.texture.src._animateGif(this._renderer._pInst);break;case s.SAMPLER_CUBE:case s.SAMPLER_3D:case s.SAMPLER_2D_SHADOW:case s.SAMPLER_2D_ARRAY:case s.SAMPLER_2D_ARRAY_SHADOW:case s.SAMPLER_CUBE_SHADOW:case s.INT_SAMPLER_2D:case s.INT_SAMPLER_3D:case s.INT_SAMPLER_CUBE:case s.INT_SAMPLER_2D_ARRAY:case s.UNSIGNED_INT_SAMPLER_2D:case s.UNSIGNED_INT_SAMPLER_3D:case s.UNSIGNED_INT_SAMPLER_CUBE:case s.UNSIGNED_INT_SAMPLER_2D_ARRAY:if(typeof r!="number")break;if(r<s.TEXTURE0||r>s.TEXTURE31||r!==Math.ceil(r)){console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture.");break}s.activeTexture(r),s.uniform1i(o,r);break}return this}enableAttrib(t,r,i,s,o,a){if(t){typeof IS_MINIFIED>"u"&&this.attributes[t.name]!==t&&console.warn(`The attribute "${t.name}"passed to enableAttrib does not belong to this shader.`);const l=t.location;if(l!==-1){const u=this._renderer.GL;this._renderer.registerEnabled.has(l)||(u.enableVertexAttribArray(l),this._renderer.registerEnabled.add(l)),this._renderer.GL.vertexAttribPointer(l,r,i||u.FLOAT,s||!1,o||0,a||0)}}return this}disableRemainingAttributes(){for(const t of this._renderer.registerEnabled.values())Object.keys(this.attributes).some(r=>this.attributes[r].location===t)||(this._renderer.GL.disableVertexAttribArray(t),this._renderer.registerEnabled.delete(t))}}function lx(n,t){n.Shader=Gr}typeof p5<"u"&&lx(p5,p5.prototype);var KN=`precision highp int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

IN vec3 aPosition;
IN vec2 aTexCoord;
OUT vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // project to 3D space
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,sS=`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,zy=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif

#ifdef FRAGMENT_SHADER
vec4 getTexture(in sampler2D content, vec2 coord) {
  vec4 color = TEXTURE(content, coord);
  color.rgb /= color.a;
  return color;
}
#endif
`,qK=`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

#define HOOK_DEFINES

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
uniform mat3 uModelNormalMatrix;
uniform mat3 uCameraNormalMatrix;
#else
uniform mat4 uModelViewMatrix;
uniform mat3 uNormalMatrix;
#endif
uniform mat4 uProjectionMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

struct Vertex {
  vec3 position;
  vec3 normal;
  vec2 texCoord;
  vec4 color;
};

void main(void) {
  HOOK_beforeVertex();

  Vertex inputs;
  inputs.position = aPosition;
  inputs.normal = aNormal;
  inputs.texCoord = aTexCoord;
  inputs.color = (uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor;
#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uModelNormalMatrix * inputs.normal;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uCameraNormalMatrix * inputs.normal;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uNormalMatrix * inputs.normal;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = HOOK_getCameraInputs(inputs);
#endif

  // Pass varyings to fragment shader
  vVertTexCoord = inputs.texCoord;
  vVertexNormal = normalize(inputs.normal);
  vColor = inputs.color;

  gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);

  HOOK_afterVertex();
}
`,YK=`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,KK=`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,ZK=`#define PI 3.141592

precision highp float;
  
uniform sampler2D uEnvMap;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    vec4 newTexColor = texture2D(uEnvMap, suv.xy);
    gl_FragColor = newTexColor;
}
`,JK=`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = ((uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor);
}
`,QK=`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,eZ=`precision highp int;

#define HOOK_DEFINES

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
uniform mat3 uModelNormalMatrix;
uniform mat3 uCameraNormalMatrix;
#else
uniform mat4 uModelViewMatrix;
uniform mat3 uNormalMatrix;
#endif
uniform mat4 uProjectionMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

struct Vertex {
  vec3 position;
  vec3 normal;
  vec2 texCoord;
  vec4 color;
};

void main(void) {
  HOOK_beforeVertex();

  Vertex inputs;
  inputs.position = aPosition;
  inputs.normal = aNormal;
  inputs.texCoord = aTexCoord;
  inputs.color = (uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor;
#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uModelNormalMatrix * inputs.normal;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uCameraNormalMatrix * inputs.normal;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uNormalMatrix * inputs.normal;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = HOOK_getCameraInputs(inputs);
#endif

  // Pass varyings to fragment shader
  vViewPosition = inputs.position;
  vTexCoord = inputs.texCoord;
  vNormal = inputs.normal;
  vColor = inputs.color;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }

  gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);
  HOOK_afterVertex();
}
`,tZ=`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      ? TEXTURE(uSampler, vTexCoord) * (vec4(uTint.rgb/255., 1.) * uTint.a/255.)
      : vColor;
  if (isTexture && inputs.color.a > 0.0) {
    // Textures come in with premultiplied alpha. Temporarily unpremultiply it
    // so hooks users don't have to think about premultiplied alpha.
    inputs.color.rgb /= inputs.color.a;
  }
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  OUT_COLOR.rgb *= OUT_COLOR.a; // Premultiply alpha before rendering
  HOOK_afterFragment();
}
`,nZ=`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5));
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,rZ=`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,iZ=`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

#define HOOK_DEFINES

precision highp int;
precision highp float;

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
#else
uniform mat4 uModelViewMatrix;
#endif

uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform bool uSimpleLines;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec3 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

struct StrokeVertex {
  vec3 position;
  vec3 tangentIn;
  vec3 tangentOut;
  vec4 color;
  float weight;
};

void main() {
  HOOK_beforeVertex();

  if (!uSimpleLines) {
      // Caps have one of either the in or out tangent set to 0
      vCap = (aTangentIn == vec3(0.)) != (aTangentOut == vec3(0.)) ? 1. : 0.;

      // Joins have two unique, defined tangents
      vJoin = (
          aTangentIn != vec3(0.) &&
          aTangentOut != vec3(0.) &&
          aTangentIn != aTangentOut
      ) ? 1. : 0.;
  }

  StrokeVertex inputs;
  inputs.position = aPosition.xyz;
  inputs.color = uUseLineColor ? aVertexColor : uMaterialColor;
  inputs.weight = uStrokeWeight;
  inputs.tangentIn = aTangentIn;
  inputs.tangentOut = aTangentOut;

#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uModelMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uModelMatrix * vec4(aTangentOut, 0.)).xyz;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uViewMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uViewMatrix * vec4(aTangentOut, 0.)).xyz;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uModelViewMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uModelViewMatrix * vec4(aTangentOut, 0.)).xyz;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = hook_getCameraInputs(inputs);
#endif

  vec4 posp = vec4(inputs.position, 1.);
  vec4 posqIn = vec4(inputs.position + inputs.tangentIn, 1.);
  vec4 posqOut = vec4(inputs.position + inputs.tangentOut, 1.);
  vStrokeWeight = inputs.weight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(0., -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1. && !uSimpleLines) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * inputs.weight / 2.),
          tangentIn,
          c + (side * normalOut * inputs.weight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * inputs.weight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * inputs.weight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * inputs.weight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * inputs.weight / 2.));
    } else {
      vMaxDist = inputs.weight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      inputs.weight * 0.5;
    vMaxDist = inputs.weight / 2.;
  }

  vCenter = p.xy;
  vPosition = vCenter + offset;
  vColor = inputs.color;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  HOOK_afterVertex();
}
`,sZ=`precision highp int;
precision highp float;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,oZ=`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,aZ=`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,lZ=`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,uZ=`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,cZ=`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`,ZN=`precision highp float;

uniform sampler2D tex0;
uniform vec2 canvasSize;
uniform vec2 texelSize;

IN vec2 vTexCoord;

struct FilterInputs {
  vec2 texCoord;
  vec2 canvasSize;
  vec2 texelSize;
};

void main(void) {
  FilterInputs inputs;
  inputs.texCoord = vTexCoord;
  inputs.canvasSize = canvasSize;
  inputs.texelSize = texelSize;
  OUT_COLOR = HOOK_getColor(inputs, tex0);
  OUT_COLOR.rgb *= outColor.a;
}
`,JN=`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`,QN=`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`,eF=`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`,tF=`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`,nF=`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`,rF=`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`,iF=`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`,sF=`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`,oF=`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`;const aF={},lF={};let em="";const ux=function(n,t){em+=`#define STROKE_CAP_${n} ${t}
`,aF[Pa[n]]=t},cx=function(n,t){em+=`#define STROKE_JOIN_${n} ${t}
`,lF[Pa[n]]=t};ux("ROUND",0);ux("PROJECT",1);ux("SQUARE",2);cx("ROUND",0);cx("MITER",1);cx("BEVEL",2);const Jn={normalVert:qK,normalFrag:YK,basicFrag:KK,sphereMappingFrag:ZK,lightVert:sS+JK,lightTextureFrag:QK,phongVert:eZ,phongFrag:sS+tZ,fontVert:nZ,fontFrag:rZ,lineVert:em+iZ,lineFrag:em+sZ,pointVert:oZ,pointFrag:aZ,imageLightVert:lZ,imageLightDiffusedFrag:uZ,imageLightSpecularFrag:cZ,filterBaseVert:KN,filterBaseFrag:ZN};let hZ=Jn.sphereMappingFrag;for(const n in Jn)Jn[n]=zy+Jn[n];const fZ={[Vb]:JN,[Gb]:QN,[zb]:eF,[fc]:tF,[mg]:nF,[$b]:rF,[jb]:iF,[pg]:sF};class Ot extends Dt{constructor(t,r,i,s,o,a){super(t,r,i,s),this.canvas=this.elt=o||document.createElement("canvas"),this._setAttributeDefaults(t),this._initContext(),this.GL=this.drawingContext,this._isMainCanvas?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display="none",this.elt.id="defaultCanvas0",this.elt.classList.add("p5Canvas"),this.wrappedElt=new Lr(this.elt,this._pInst);for(const u of Object.getOwnPropertyNames(Lr.prototype))u!=="constructor"&&u[0]!=="_"&&Object.defineProperty(this,u,{get(){return this.wrappedElt[u]}});const l=this._adjustDimensions(r,i);if(r=l.adjustedWidth,i=l.adjustedHeight,this.width=r,this.height=i,this.elt.width=r*this._pixelDensity,this.elt.height=i*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${i}px`,this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(document.getElementsByTagName("main").length===0){let u=document.createElement("main");document.body.appendChild(u)}document.getElementsByTagName("main")[0].appendChild(this.elt)}this.isP3D=!0,this.geometryBuilder=void 0,this.states.uModelMatrix=new Rn(4),this.states.uViewMatrix=new Rn(4),this.states.uPMatrix=new Rn(4),this.states.curCamera=new Yl(this),this.states.uPMatrix.set(this.states.curCamera.projMatrix),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.enableLighting=!1,this.states.ambientLightColors=[],this.states.specularColors=[1,1,1],this.states.directionalLightDirections=[],this.states.directionalLightDiffuseColors=[],this.states.directionalLightSpecularColors=[],this.states.pointLightPositions=[],this.states.pointLightDiffuseColors=[],this.states.pointLightSpecularColors=[],this.states.spotLightPositions=[],this.states.spotLightDirections=[],this.states.spotLightDiffuseColors=[],this.states.spotLightSpecularColors=[],this.states.spotLightAngle=[],this.states.spotLightConc=[],this.states.activeImageLight=null,this.states.curFillColor=[1,1,1,1],this.states.curAmbientColor=[1,1,1,1],this.states.curSpecularColor=[0,0,0,0],this.states.curEmissiveColor=[0,0,0,0],this.states.curStrokeColor=[0,0,0,1],this.states.curBlendMode=Ii,this.states._hasSetAmbient=!1,this.states._useSpecularMaterial=!1,this.states._useEmissiveMaterial=!1,this.states._useNormalMaterial=!1,this.states._useShininess=1,this.states._useMetalness=0,this.states.tint=[255,255,255,255],this.states.constantAttenuation=1,this.states.linearAttenuation=0,this.states.quadraticAttenuation=0,this.states._currentNormal=new Ne(0,0,1),this.states.drawMode=Hp,this.states._tex=null,this.states.textureMode=gg,this.states.textureWrapX=ky,this.states.textureWrapY=ky,this._isErasing=!1,this._simpleLines=!1,this._clipDepths=[],this._isClipApplied=!1,this._stencilTestOn=!1,this.mixedAmbientLight=[],this.mixedSpecularColor=[],this.diffusedTextures=new Map,this.specularTextures=new Map,this.preEraseBlend=void 0,this._cachedBlendMode=void 0,this._cachedFillStyle=[1,1,1,1],this._cachedStrokeStyle=[0,0,0,1],this.webglVersion===Ir?this.blendExt=this.GL:this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useLineColor=!1,this._useVertexColor=!1,this.registerEnabled=new Set,this.states.curCamera._computeCameraDefaultSettings(),this.states.curCamera._setDefaultCamera(),this.filterCamera=new Yl(this),this.filterCamera._computeCameraDefaultSettings(),this.filterCamera._setDefaultCamera(),this.prevTouches=[],this.zoomVelocity=0,this.rotateVelocity=new Ne(0,0),this.moveVelocity=new Ne(0,0),this.executeZoom=!1,this.executeRotateAndMove=!1,this._drawingFilter=!1,this._drawingImage=!1,this.specularShader=void 0,this.sphereMapping=void 0,this.diffusedShader=void 0,this._baseFilterShader=void 0,this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.states.userFillShader=void 0,this.states.userStrokeShader=void 0,this.states.userPointShader=void 0,this.states.userImageShader=void 0,this.states.curveDetail=1/4,this.shapeBuilder=new WK(this),this.buffers={fill:[new wi(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new wi(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new wi(4,"vertexColors","colorBuffer","aVertexColor",this),new wi(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new wi(2,"uvs","uvBuffer","aTexCoord",this,u=>u.flat())],stroke:[new wi(4,"lineVertexColors","lineColorBuffer","aVertexColor",this),new wi(3,"lineVertices","lineVerticesBuffer","aPosition",this),new wi(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this),new wi(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this),new wi(1,"lineSides","lineSidesBuffer","aSide",this)],text:[new wi(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new wi(2,"uvs","uvBuffer","aTexCoord",this,u=>u.flat())],point:this.GL.createBuffer(),user:[]},this.geometryBufferCache=new XK(this),this.curStrokeCap=Fa,this.curStrokeJoin=Fa,this.textures=new Map,this.framebuffers=new Set,this.activeFramebuffers=[],this.states.filterShader=void 0,this.filterLayer=void 0,this.filterLayerTemp=void 0,this.defaultFilterShaders={},this.fontInfos={},this._curShader=void 0,this.drawShapeCount=1,this.scratchMat3=new Rn(3),this._userEnabledStencil=!1,this._internalEnable=this.drawingContext.enable,this._internalDisable=this.drawingContext.disable,this.drawingContext.enable=u=>(u===this.drawingContext.STENCIL_TEST&&(this._clipping||(this._userEnabledStencil=!0)),this._internalEnable.call(this.drawingContext,u)),this.drawingContext.disable=u=>(u===this.drawingContext.STENCIL_TEST&&(this._userEnabledStencil=!1),this._internalDisable.call(this.drawingContext,u)),this._validateFaces=!1}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}beginGeometry(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new nf(this),this.geometryBuilder.prevFillColor=this.states.fillColor,this.fill(new yt([-1,-1,-1,-1]))}endGeometry(){if(!this.geometryBuilder)throw new Error("Make sure you call beginGeometry() before endGeometry()!");const t=this.geometryBuilder.finish();return this.geometryBuilder.prevFillColor?this.fill(this.geometryBuilder.prevFillColor):this.noFill(),this.geometryBuilder=void 0,t}buildGeometry(t){return this.beginGeometry(),t(),this.endGeometry()}beginShape(...t){super.beginShape(...t)}curveDetail(t){if(t===void 0)return this.states.curveDetail;this.states.setValue("curveDetail",t)}drawShape(t){const r=new LN({curveDetail:this.states.curveDetail});t.accept(r),this.shapeBuilder.constructFromContours(t,r.contours),this.geometryBuilder?this.geometryBuilder.addImmediate(this.shapeBuilder.geometry,this.shapeBuilder.shapeMode,{validateFaces:this._validateFaces}):(this.states.fillColor||this.states.strokeColor)&&(this.shapeBuilder.shapeMode===zp?this._drawPoints(this.shapeBuilder.geometry.vertices,this.buffers.point):this._drawGeometry(this.shapeBuilder.geometry,{mode:this.shapeBuilder.shapeMode,count:this.drawShapeCount})),this.drawShapeCount=1}endShape(t,r){this.drawShapeCount=r,super.endShape(t,r)}vertexProperty(...t){this.currentShape.vertexProperty(...t)}normal(t,r,i){t instanceof Ne?this.states.setValue("_currentNormal",t):this.states.setValue("_currentNormal",new Ne(t,r,i)),this.updateShapeVertexProperties()}model(t,r=1){t.vertices.length>0&&(this.geometryBuilder?this.geometryBuilder.addRetained(t):(this.geometryInHash(t.gid)||(t._edgesToVertices(),this._getOrMakeCachedBuffers(t)),this._drawGeometry(t,{count:r})))}_drawGeometry(t,{mode:r=Nl,count:i=1}={}){for(const s in t.userVertexProperties){const o=t.userVertexProperties[s];this.buffers.user.push(new wi(o.getDataSize(),o.getSrcName(),o.getDstName(),o.getName(),this))}this.states.fillColor&&t.vertices.length>=3&&![hc,zp].includes(r)&&this._drawFills(t,{mode:r,count:i}),this.states.strokeColor&&t.lineVertices.length>=1&&this._drawStrokes(t,{count:i}),this.buffers.user=[]}_drawGeometryScaled(t,r,i,s){let o=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone());try{this.states.uModelMatrix.scale(r,i,s),this.geometryBuilder?this.geometryBuilder.addRetained(t):this._drawGeometry(t)}finally{this.states.setValue("uModelMatrix",o)}}_drawFills(t,{count:r,mode:i}={}){this._useVertexColor=t.vertexColors.length>0;const s=!this._drawingFilter&&this.states.userFillShader?this.states.userFillShader:this._getFillShader();s.bindShader(),this._setGlobalUniforms(s),this._setFillUniforms(s),s.bindTextures();for(const o of this.buffers.fill)o._prepareBuffer(t,s);this._prepareUserAttributes(t,s),s.disableRemainingAttributes(),this._applyColorBlend(this.states.curFillColor,t.hasFillTransparency()),this._drawBuffers(t,{mode:i,count:r}),s.unbindShader()}_drawStrokes(t,{count:r}={}){const i=this.GL;this._useLineColor=t.vertexStrokeColors.length>0;const s=this._getStrokeShader();s.bindShader(),this._setGlobalUniforms(s),this._setStrokeUniforms(s),s.bindTextures();for(const o of this.buffers.stroke)o._prepareBuffer(t,s);if(this._prepareUserAttributes(t,s),s.disableRemainingAttributes(),this._applyColorBlend(this.states.curStrokeColor,t.hasStrokeTransparency()),r===1)i.drawArrays(i.TRIANGLES,0,t.lineVertices.length/3);else try{i.drawArraysInstanced(i.TRIANGLES,0,t.lineVertices.length/3,r)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}s.unbindShader()}_drawPoints(t,r){const i=this.GL,s=this._getPointShader();s.bindShader(),this._setGlobalUniforms(s),this._setPointUniforms(s),s.bindTextures(),this._bindBuffer(r,i.ARRAY_BUFFER,this._vToNArray(t),Float32Array,i.STATIC_DRAW),s.enableAttrib(s.attributes.aPosition,3),this._applyColorBlend(this.states.curStrokeColor),i.drawArrays(i.Points,0,t.length),s.unbindShader()}_prepareUserAttributes(t,r){for(const i of this.buffers.user){if(!this._pInst.constructor.disableFriendlyErrors){const s=t.userVertexProperties[i.attr];if(s){const o=s.getSrcArray().length/s.getDataSize();o>t.vertices.length?this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property '${s.getName()}' with more values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,"vertexProperty()"):o<t.vertices.length&&this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property '${s.getName()}' with fewer values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,"vertexProperty()")}}i._prepareBuffer(t,r)}}_drawBuffers(t,{mode:r=this.GL.TRIANGLES,count:i}){const s=this.GL,o=this.geometryBufferCache.getCached(t);if(o)if(o.indexBuffer){if(this._bindBuffer(o.indexBuffer,s.ELEMENT_ARRAY_BUFFER),this._pInst.webglVersion!==Ir&&o.indexBufferType===s.UNSIGNED_INT&&!s.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");if(i===1)s.drawElements(s.TRIANGLES,t.faces.length*3,o.indexBufferType,0);else try{s.drawElementsInstanced(s.TRIANGLES,t.faces.length*3,o.indexBufferType,0,i)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}}else if(i===1)s.drawArrays(r,0,t.vertices.length);else try{s.drawArraysInstanced(r,0,t.vertices.length,i)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}}_getOrMakeCachedBuffers(t){return this.geometryBufferCache.ensureCached(t)}_setAttributeDefaults(t){const i={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};t._glAttributes===null?t._glAttributes=i:t._glAttributes=Object.assign(i,t._glAttributes)}_initContext(){if(this._pInst._glAttributes?.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?Ir:Oa,this._pInst.webglVersion=this.webglVersion,this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");{const t=this.drawingContext;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}}_getMaxTextureSize(){const t=this.drawingContext;return t.getParameter(t.MAX_TEXTURE_SIZE)}_adjustDimensions(t,r){this._maxTextureSize||(this._maxTextureSize=this._getMaxTextureSize());let i=this._maxTextureSize,s=Math.floor(i/this._pixelDensity),o=Math.min(t,s),a=Math.min(r,s);return(o!==t||a!==r)&&console.warn(`Warning: The requested width/height exceeds hardware limits. Adjusting dimensions to width: ${o}, height: ${a}.`),{adjustedWidth:o,adjustedHeight:a}}_resetContext(t,r){const i=this.width,s=this.height,o=this.canvas.id,a=this._pInst instanceof mc,l={position:this.canvas.style.position,top:this.canvas.style.top,left:this.canvas.style.left};if(a){const h=this._pInst;h.canvas.parentNode.removeChild(h.canvas),h.canvas=document.createElement("canvas"),(h._pInst._userNode||document.body).appendChild(h.canvas),Lr.call(h,h.canvas,h._pInst),h.width=i,h.height=s}else{let h=this.canvas;h&&h.parentNode.removeChild(h),h=document.createElement("canvas"),h.id=o,this._pInst._userNode?this._pInst._userNode.appendChild(h):document.body.appendChild(h),this._pInst.canvas=h,this.canvas=h,this.canvas.style.position=l.position,this.canvas.style.top=l.top,this.canvas.style.left=l.left}const u=new Ot(this._pInst,i,s,!a,this._pInst.canvas);this._pInst._renderer=u,u._applyDefaults(),typeof r=="function"&&setTimeout(()=>{r.apply(window._renderer,t)},0)}_update(){this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.setValue("ambientLightColors",[]),this.states.setValue("specularColors",[1,1,1]),this.states.setValue("directionalLightDirections",[]),this.states.setValue("directionalLightDiffuseColors",[]),this.states.setValue("directionalLightSpecularColors",[]),this.states.setValue("pointLightPositions",[]),this.states.setValue("pointLightDiffuseColors",[]),this.states.setValue("pointLightSpecularColors",[]),this.states.setValue("spotLightPositions",[]),this.states.setValue("spotLightDirections",[]),this.states.setValue("spotLightDiffuseColors",[]),this.states.setValue("spotLightSpecularColors",[]),this.states.setValue("spotLightAngle",[]),this.states.setValue("spotLightConc",[]),this.states.setValue("enableLighting",!1),this.states.setValue("tint",[255,255,255,255]),this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)}background(...t){const r=this._pInst.color(...t);this.clear(...r._getRGBA())}get uModelMatrix(){return this.states.uModelMatrix}get uViewMatrix(){return this.states.uViewMatrix}get uPMatrix(){return this.states.uPMatrix}get uMVMatrix(){const t=this.uModelMatrix.copy();return t.mult(this.uViewMatrix),t}getWorldToScreenMatrix(){const t=this.states.uModelMatrix,r=this.states.uViewMatrix,i=this.states.uPMatrix,s=new Rn(4);return s.scale(this.width,this.height,1),s.translate([.5,.5,.5]),s.scale(.5,-.5,.5),t.copy().mult(r).mult(i).mult(s)}fill(...t){super.fill(...t);const r=this.states.fillColor;this.states.setValue("curFillColor",r._array),this.states.setValue("drawMode",Hp),this.states.setValue("_useNormalMaterial",!1),this.states.setValue("_tex",null)}stroke(...t){super.stroke(...t),this.states.setValue("curStrokeColor",this.states.strokeColor._array)}getCommonVertexProperties(){return{...super.getCommonVertexProperties(),stroke:this.states.strokeColor,fill:this.states.fillColor,normal:this.states._currentNormal}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!0}}strokeCap(t){this.curStrokeCap=t}strokeJoin(t){this.curStrokeJoin=t}getFilterLayer(){return this.filterLayer||(this.filterLayer=new Vs(this)),this.filterLayer}getFilterLayerTemp(){return this.filterLayerTemp||(this.filterLayerTemp=new Vs(this)),this.filterLayerTemp}matchSize(t,r){(t.width!==r.width||t.height!==r.height)&&t.resize(r.width,r.height),t.pixelDensity()!==r.pixelDensity()&&t.pixelDensity(r.pixelDensity())}filter(...t){let r=this.getFilterLayer(),i,s;typeof t[0]=="string"?(s=t[0],i=s in Qp&&t[1]===void 0?Qp[s]:t[1],s in this.defaultFilterShaders||(this.defaultFilterShaders[s]=new Gr(r.renderer,oF,fZ[s])),this.states.setValue("filterShader",this.defaultFilterShaders[s])):this.states.setValue("filterShader",t[0]);const o=this.activeFramebuffer()||this;this.matchSize(r,o),r.draw(()=>this.clear());let a=[1/(o.width*o.pixelDensity()),1/(o.height*o.pixelDensity())];if(s===fc){const l=this.getFilterLayerTemp();this.matchSize(l,o),this.push(),this.states.setValue("strokeColor",null),this.blendMode(Ii),this.shader(this.states.filterShader),this.states.filterShader.setUniform("texelSize",a),this.states.filterShader.setUniform("canvasSize",[o.width,o.height]),this.states.filterShader.setUniform("radius",Math.max(1,i)),l.draw(()=>{this.states.filterShader.setUniform("direction",[1,0]),this.states.filterShader.setUniform("tex0",o),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(o.width,o.height)}),r.draw(()=>{this.states.filterShader.setUniform("direction",[0,1]),this.states.filterShader.setUniform("tex0",l),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(o.width,o.height)}),this.pop()}else r.draw(()=>{this.states.setValue("strokeColor",null),this.blendMode(Ii),this.shader(this.states.filterShader),this.states.filterShader.setUniform("tex0",o),this.states.filterShader.setUniform("texelSize",a),this.states.filterShader.setUniform("canvasSize",[o.width,o.height]),this.states.filterShader.setUniform("filterParameter",i),this.noLights(),this.plane(o.width,o.height)});this.push(),this.states.setValue("strokeColor",null),this.clear(),this.push(),this.states.setValue("imageMode",hs),this.blendMode(Ii),o.filterCamera._resize(),this.setCamera(o.filterCamera),this.resetMatrix(),this._drawingFilter=!0,this.image(r,0,0,r.width,r.height,-o.width/2,-o.height/2,o.width,o.height),this._drawingFilter=!1,this.clearDepth(),this.pop(),this.pop()}pixelDensity(t){return t?this._pInst.pixelDensity(t):this._pInst.pixelDensity()}blendMode(t){t===ag||t===lg||t===Kh||t===Ii||t===ug||t===fg||t===cg||t===dg||t===hg||t===Gl?this.states.setValue("curBlendMode",t):(t===Ub||t===Pb||t===Lb||t===Rb||t===Bb)&&console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}erase(t,r){this._isErasing||(this.preEraseBlend=this.states.curBlendMode,this._isErasing=!0,this.blendMode(Gl),this._cachedFillStyle=this.states.curFillColor.slice(),this.states.setValue("curFillColor",[1,1,1,t/255]),this._cachedStrokeStyle=this.states.curStrokeColor.slice(),this.states.setValue("curStrokeColor",[1,1,1,r/255]))}noErase(){this._isErasing&&(this.states.setValue("curFillColor",this._cachedFillStyle.slice()),this.states.setValue("curStrokeColor",this._cachedStrokeStyle.slice()),this.states.setValue("curBlendMode",this.preEraseBlend),this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}drawTarget(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}beginClip(t={}){super.beginClip(t),this.drawTarget()._isClipApplied=!0;const r=this.GL;r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),this._internalEnable.call(r,r.STENCIL_TEST),this._stencilTestOn=!0,r.stencilFunc(r.ALWAYS,1,255),r.stencilOp(r.KEEP,r.KEEP,r.REPLACE),r.disable(r.DEPTH_TEST),this.push(),this.resetShader(),this.states.fillColor&&this.fill(0,0),this.states.strokeColor&&this.stroke(0,0)}endClip(){this.pop();const t=this.GL;t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.stencilFunc(this._clipInvert?t.EQUAL:t.NOTEQUAL,0,255),t.enable(t.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),super.endClip()}_clearClip(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),this._clipDepths.length>0&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}_getPixel(t,r){const i=this.GL;return cF(i,null,t,r,i.RGBA,i.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}loadPixels(){if(this._pInst._glAttributes.preserveDrawingBuffer!==!0){console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.");return}const t=this._pixelDensity,r=this.GL;this.pixels=Gy(this.pixels,r,null,0,0,this.width*t,this.height*t,r.RGBA,r.UNSIGNED_BYTE,this.height*t)}updatePixels(){const t=this._getTempFramebuffer();t.pixels=this.pixels,t.updatePixels(),this.push(),this.resetMatrix(),this.clear(),this.states.setValue("imageMode",hs),this.image(t,0,0,t.width,t.height,-t.width/2,-t.height/2,t.width,t.height),this.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}_getTempFramebuffer(){return this._tempFramebuffer||(this._tempFramebuffer=new Vs(this,{format:xa,useDepth:this._pInst._glAttributes.depth,depthFormat:xh,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}geometryInHash(t){return this.geometryBufferCache.isCached(t)}viewport(t,r){this._viewport=[0,0,t,r],this.GL.viewport(0,0,t,r)}resize(t,r){super.resize(t,r);const i={};for(const o in this.drawingContext){const a=this.drawingContext[o];typeof a!="object"&&typeof a!="function"&&(i[o]=a)}const s=this._adjustDimensions(t,r);t=s.adjustedWidth,r=s.adjustedHeight,this.width=t,this.height=r,this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this.states.curCamera._resize(),typeof this.pixels<"u"&&(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4));for(const o of this.framebuffers)o._canvasSizeChanged();for(const o in i)try{this.drawingContext[o]=i[o]}catch{}}clear(...t){const r=t[0]||0,i=t[1]||0,s=t[2]||0;let o=t[3]||0;const a=this.activeFramebuffer();a&&a.format===xa&&!a.antialias&&o===0&&(o=1e-10),this.GL.clearColor(r*o,i*o,s*o,o),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}clearDepth(t=1){this.GL.clearDepth(t),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}applyMatrix(t,r,i,s,o,a){this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),arguments.length===16?Rn.prototype.apply.apply(this.states.uModelMatrix,arguments):this.states.uModelMatrix.apply([t,r,0,0,i,s,0,0,0,0,1,0,o,a,0,1])}translate(t,r,i){return t instanceof Ne&&(i=t.z,r=t.y,t=t.x),this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.translate([t,r,i]),this}scale(t,r,i){return this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.scale(t,r,i),this}rotate(t,r){return typeof r>"u"?this.rotateZ(t):(this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),Rn.prototype.rotate4x4.apply(this.states.uModelMatrix,arguments),this)}rotateX(t){return this.rotate(t,1,0,0),this}rotateY(t){return this.rotate(t,0,1,0),this}rotateZ(t){return this.rotate(t,0,0,1),this}pop(...t){this._clipDepths.length>0&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&(this._clearClip(),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)),super.pop(...t),this._applyStencilTestIfClipping()}_applyStencilTestIfClipping(){const t=this.drawTarget();t._isClipApplied!==this._stencilTestOn&&(t._isClipApplied?(this._internalEnable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!1))}resetMatrix(){return this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this}_getStrokeShader(){const t=this.states.userStrokeShader;return t||this._getLineShader()}_getSphereMapping(t){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(hZ)),this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),this.scratchMat3.invert(this.scratchMat3),this.sphereMapping.setUniform("uFovY",this.states.curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this.states.curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.scratchMat3.mat3),this.sphereMapping.setUniform("uEnvMap",t),this.sphereMapping}_getFillShader(){return this._drawingImage?this.states.userImageShader&&!this._drawingFilter?this.states.userImageShader:this._getLightShader():this.states.userFillShader?this.states.userFillShader:this.states._useNormalMaterial?this._getNormalShader():this.states.enableLighting||this.states._tex?this._getLightShader():this._getColorShader()}_getPointShader(){const t=this.states.userPointShader;return!t||!t.isPointShader()?this._getPointShader():t}baseMaterialShader(){if(!this._pInst._glAttributes.perPixelLighting)throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.");return this._getLightShader()}_getLightShader(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","highp")+Jn.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+Jn.phongFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","highp")+Jn.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+Jn.lightTextureFrag)),this._defaultLightShader}baseNormalShader(){return this._getNormalShader()}_getNormalShader(){return this._defaultNormalShader||(this._defaultNormalShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","mediump")+Jn.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Jn.normalFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}baseColorShader(){return this._getColorShader()}_getColorShader(){return this._defaultColorShader||(this._defaultColorShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","mediump")+Jn.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Jn.basicFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}pointShader(){return this._getPointShader()}_getPointShader(){return this._defaultPointShader||(this._defaultPointShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","mediump")+Jn.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+Jn.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}baseStrokeShader(){return this._getLineShader()}_getLineShader(){return this._defaultLineShader||(this._defaultLineShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","mediump")+Jn.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+Jn.lineFrag,{vertex:{"void beforeVertex":"() {}","StrokeVertex getObjectInputs":"(StrokeVertex inputs) { return inputs; }","StrokeVertex getWorldInputs":"(StrokeVertex inputs) { return inputs; }","StrokeVertex getCameraInputs":"(StrokeVertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}_getFontShader(){return this._defaultFontShader||(this.webglVersion===Oa&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","highp")+Jn.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+Jn.fontFrag)),this._defaultFontShader}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","highp")+Jn.filterBaseVert,this._webGL2CompatibilityPrefix("frag","highp")+Jn.filterBaseFrag,{vertex:{},fragment:{"vec4 getColor":`(FilterInputs inputs, in sampler2D canvasContent) {
                return getTexture(canvasContent, inputs.texCoord);
              }`}})),this._baseFilterShader}_webGL2CompatibilityPrefix(t,r){let i="";return this.webglVersion===Ir&&(i+=`#version 300 es
#define WEBGL2
`),t==="vert"?i+=`#define VERTEX_SHADER
`:t==="frag"&&(i+=`#define FRAGMENT_SHADER
`),r&&(i+=`precision ${r} float;
`),i}_getEmptyTexture(){if(!this._emptyTexture){const t=new La(1,1);t.set(0,0,255),this._emptyTexture=new Zo(this,t)}return this._emptyTexture}getTexture(t){let r=t;r instanceof Vs&&(r=r.color);const i=this.textures.get(r);if(i)return i;const s=new Zo(this,r);return this.textures.set(r,s),s}getDiffusedTexture(t){if(this.diffusedTextures.get(t)!=null)return this.diffusedTextures.get(t);let r,i=200,s=i,o=Math.floor(i*(t.height/t.width));return r=new Vs(this,{width:s,height:o,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(Jn.imageLightVert,Jn.imageLightDiffusedFrag)),r.draw(()=>{this.shader(this.diffusedShader),this.diffusedShader.setUniform("environmentMap",t),this.states.setValue("strokeColor",null),this.noLights(),this.plane(s,o)}),this.diffusedTextures.set(t,r),r}getSpecularTexture(t){if(this.specularTextures.get(t)!=null)return this.specularTextures.get(t);const r=512;let i;const s=[],o=new Vs(this,{width:r,height:r,density:1});let a=Math.log(r)/Math.log(2);this.specularShader||(this.specularShader=this._pInst.createShader(Jn.imageLightVert,Jn.imageLightSpecularFrag));for(let l=r;l>=1;l/=2){o.resize(l,l);let h=1-Math.log(l)/Math.log(2)/a;o.draw(()=>{this.shader(this.specularShader),this.clear(),this.specularShader.setUniform("environmentMap",t),this.specularShader.setUniform("roughness",h),this.states.setValue("strokeColor",null),this.noLights(),this.plane(l,l)}),s.push(o.get().drawingContext.getImageData(0,0,l,l))}return o.remove(),i=new fF(this,s,{}),this.specularTextures.set(t,i),i}activeFramebuffer(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}createFramebuffer(t){return new Vs(this,t)}_setGlobalUniforms(t){const r=this.states.uModelMatrix,i=this.states.uViewMatrix,s=this.states.uPMatrix,o=r.copy().mult(i);if(t.setUniform("uPerspective",this.states.curCamera.useLinePerspective?1:0),t.setUniform("uViewMatrix",i.mat4),t.setUniform("uProjectionMatrix",s.mat4),t.setUniform("uModelMatrix",r.mat4),t.setUniform("uModelViewMatrix",o.mat4),t.uniforms.uModelViewProjectionMatrix){const a=o.copy();a.mult(s),t.setUniform("uModelViewProjectionMatrix",a.mat4)}t.uniforms.uNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(o),t.setUniform("uNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uModelNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(this.states.uModelMatrix),t.setUniform("uModelNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uCameraNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform("uCameraNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uCameraRotation&&(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform("uCameraRotation",this.scratchMat3.mat3)),t.setUniform("uViewport",this._viewport)}_setStrokeUniforms(t){t.setUniform("uSimpleLines",this._simpleLines),t.setUniform("uUseLineColor",this._useLineColor),t.setUniform("uMaterialColor",this.states.curStrokeColor),t.setUniform("uStrokeWeight",this.states.strokeWeight),t.setUniform("uStrokeCap",aF[this.curStrokeCap]),t.setUniform("uStrokeJoin",lF[this.curStrokeJoin])}_setFillUniforms(t){this.mixedSpecularColor=[...this.states.curSpecularColor];const r=this._getEmptyTexture();this.states._useMetalness>0&&(this.mixedSpecularColor=this.mixedSpecularColor.map((l,u)=>this.states.curFillColor[u]*this.states._useMetalness+l*(1-this.states._useMetalness))),t.setUniform("uUseVertexColor",this._useVertexColor),t.setUniform("uMaterialColor",this.states.curFillColor),t.setUniform("isTexture",!!this.states._tex),t.setUniform("uSampler",this.states._tex||r),t.setUniform("uTint",this.states.tint),t.setUniform("uHasSetAmbient",this.states._hasSetAmbient),t.setUniform("uAmbientMatColor",this.states.curAmbientColor),t.setUniform("uSpecularMatColor",this.mixedSpecularColor),t.setUniform("uEmissiveMatColor",this.states.curEmissiveColor),t.setUniform("uSpecular",this.states._useSpecularMaterial),t.setUniform("uEmissive",this.states._useEmissiveMaterial),t.setUniform("uShininess",this.states._useShininess),t.setUniform("uMetallic",this.states._useMetalness),this._setImageLightUniforms(t),t.setUniform("uUseLighting",this.states.enableLighting);const i=this.states.pointLightDiffuseColors.length/3;t.setUniform("uPointLightCount",i),t.setUniform("uPointLightLocation",this.states.pointLightPositions),t.setUniform("uPointLightDiffuseColors",this.states.pointLightDiffuseColors),t.setUniform("uPointLightSpecularColors",this.states.pointLightSpecularColors);const s=this.states.directionalLightDiffuseColors.length/3;t.setUniform("uDirectionalLightCount",s),t.setUniform("uLightingDirection",this.states.directionalLightDirections),t.setUniform("uDirectionalDiffuseColors",this.states.directionalLightDiffuseColors),t.setUniform("uDirectionalSpecularColors",this.states.directionalLightSpecularColors);const o=this.states.ambientLightColors.length/3;this.mixedAmbientLight=[...this.states.ambientLightColors],this.states._useMetalness>0&&(this.mixedAmbientLight=this.mixedAmbientLight.map(l=>{let u=l-this.states._useMetalness;return Math.max(0,u)})),t.setUniform("uAmbientLightCount",o),t.setUniform("uAmbientColor",this.mixedAmbientLight);const a=this.states.spotLightDiffuseColors.length/3;t.setUniform("uSpotLightCount",a),t.setUniform("uSpotLightAngle",this.states.spotLightAngle),t.setUniform("uSpotLightConc",this.states.spotLightConc),t.setUniform("uSpotLightDiffuseColors",this.states.spotLightDiffuseColors),t.setUniform("uSpotLightSpecularColors",this.states.spotLightSpecularColors),t.setUniform("uSpotLightLocation",this.states.spotLightPositions),t.setUniform("uSpotLightDirection",this.states.spotLightDirections),t.setUniform("uConstantAttenuation",this.states.constantAttenuation),t.setUniform("uLinearAttenuation",this.states.linearAttenuation),t.setUniform("uQuadraticAttenuation",this.states.quadraticAttenuation)}_setImageLightUniforms(t){if(t.setUniform("uUseImageLight",this.states.activeImageLight!=null),this.states.activeImageLight){let r=this.getDiffusedTexture(this.states.activeImageLight);t.setUniform("environmentMapDiffused",r);let i=this.getSpecularTexture(this.states.activeImageLight);t.setUniform("environmentMapSpecular",i)}}_setPointUniforms(t){t.setUniform("uMaterialColor",this.states.curStrokeColor),t.setUniform("uPointSize",this.states.strokeWeight*this._pixelDensity)}_bindBuffer(t,r,i,s,o){if(r||(r=this.GL.ARRAY_BUFFER),this.GL.bindBuffer(r,t),i!==void 0){let a=i;i instanceof pl?a=i.dataArray():a instanceof(s||Float32Array)||(a=new(s||Float32Array)(a)),this.GL.bufferData(r,a,o||this.GL.STATIC_DRAW)}}_arraysEqual(t,r){return t.length!==r.length?!1:t.every((s,o)=>s===r[o])}_isTypedArray(t){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(r=>t instanceof r)}_vToNArray(t){return t.flatMap(r=>[r.x,r.y,r.z])}}function uF(n,t){n.RendererGL=Ot,t.setAttributes=function(r,i){if(typeof this._glAttributes>"u"){console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");return}let s=!0;if(typeof i<"u"?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[r]!==i&&(this._glAttributes[r]=i,s=!1)):r instanceof Object&&this._glAttributes!==r&&(this._glAttributes=r,s=!1),!(!this._renderer.isP3D||s)){if(!this._setupDone&&this._renderer.geometryBufferCache.numCached()>0){n._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");return}this._renderer._resetContext(),this._renderer.states.curCamera&&(this._renderer.states.curCamera._renderer=this._renderer)}},t._assert3d=function(r){if(!this._renderer.isP3D)throw new Error(`${r}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)},n.renderers[Oa]=n.RendererGL,n.renderers[Ir]=n.RendererGL}function Gy(n,t,r,i,s,o,a,l,u,h){const c=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,r);const f=l===t.RGBA?4:3,d=o*a*f,p=u===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if((!(n instanceof p)||n.length!==d)&&(n=new p(d)),t.readPixels(i,h?h-s-a:s,o,a,l,u,n),t.bindFramebuffer(t.FRAMEBUFFER,c),h){const m=Math.floor(a/2),g=new p(o*f);for(let v=0;v<m;v++){const S=v*o*4,y=(a-v-1)*o*4;g.set(n.subarray(S,S+o*4)),n.copyWithin(S,y,y+o*4),n.set(g,y)}}return n}function cF(n,t,r,i,s,o,a){const l=n.getParameter(n.FRAMEBUFFER_BINDING);n.bindFramebuffer(n.FRAMEBUFFER,t);const u=s===n.RGBA?4:3,h=o===n.UNSIGNED_BYTE?Uint8Array:Float32Array,c=new h(u);return n.readPixels(r,a?a-i-1:i,1,1,s,o,c),n.bindFramebuffer(n.FRAMEBUFFER,l),Array.from(c)}typeof p5<"u"&&uF(p5,p5.prototype);function hx(n,t){t.strokeMode=function(i){if(i===void 0)return this._renderer._simpleLines?Ay:Ty;if(i===Ay)this._renderer._simpleLines=!0;else if(i===Ty)this._renderer._simpleLines=!1;else throw Error("no such parameter")},t.buildGeometry=function(i){return this._renderer.buildGeometry(i)},t.freeGeometry=function(i){this._renderer.geometryBufferCache.freeBuffers(i.gid)},t.plane=function(i=50,s=i,o=1,a=1){return this._assert3d("plane"),this._renderer.plane(i,s,o,a),this},t.box=function(i,s,o,a,l){return this._assert3d("box"),this._renderer.box(i,s,o,a,l),this},t.sphere=function(i=50,s=24,o=16){return this._assert3d("sphere"),this._renderer.sphere(i,s,o),this},t.cylinder=function(i=50,s=i,o=24,a=1,l=!0,u=!0){return this._assert3d("cylinder"),this._renderer.cylinder(i,s,o,a,l,u),this},t.cone=function(i=50,s=i,o=24,a=1,l=!0){return this._assert3d("cone"),this._renderer.cone(i,s,o,a,l),this},t.ellipsoid=function(i=50,s=i,o=i,a=24,l=16){return this._assert3d("ellipsoid"),this._renderer.ellipsoid(i,s,o,a,l),this},t.torus=function(i,s,o,a){return this._assert3d("torus"),this._renderer.torus(i,s,o,a),this},Ot.prototype.point=function(i,s,o=0){const a=[];return a.push(new Ne(i,s,o)),this._drawPoints(a,this.buffers.point),this},Ot.prototype.triangle=function(i){const s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],c="tri";if(!this.geometryInHash(c)){const d=function(){const m=[];m.push(new Ne(0,0,0)),m.push(new Ne(1,0,0)),m.push(new Ne(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=m,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]},p=new zr(1,1,d,this);p._edgesToVertices(),p.computeNormals(),p.gid=c,this.geometryBufferCache.ensureCached(p)}const f=this.states.uModelMatrix.copy();try{const d=Math.sign(s*l-a*o+a*h-u*l+u*o-s*h),p=new Rn([a-s,l-o,0,0,u-s,h-o,0,0,0,0,d,0,s,o,0,1]).mult(this.states.uModelMatrix);this.states.setValue("uModelMatrix",p),this.model(this.geometryBufferCache.getGeometryByID(c))}finally{this.states.setValue("uModelMatrix",f)}return this},Ot.prototype.ellipse=function(i){this.arc(i[0],i[1],i[2],i[3],0,Si,zl,i[4])},Ot.prototype.arc=function(...i){const s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],c=i[6],f=i[7]||25;let d,p;if(Math.abs(h-u)>=Si?(d="ellipse",p=`${d}|${f}|`):(d="arc",p=`${d}|${u}|${h}|${c}|${f}|`),!this.geometryInHash(p)){const g=function(){if(u.toFixed(10)!==h.toFixed(10)){(c===Yh||typeof c>"u")&&(this.vertices.push(new Ne(.5,.5,0)),this.uvs.push([.5,.5]));for(let S=0;S<=f;S++){const y=S/f,x=(h-u)*y+u,b=.5+Math.cos(x)/2,w=.5+Math.sin(x)/2;this.vertices.push(new Ne(b,w,0)),this.uvs.push([b,w]),S<f-1&&(this.faces.push([0,S+1,S+2]),this.edges.push([S+1,S+2]))}switch(c){case Yh:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case Gp:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case zl:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}},v=new zr(f,1,g,this);v.computeNormals(),f<=50?v._edgesToVertices(v):this.states.strokeColor&&console.log(`Cannot apply a stroke to an ${d} with more than 50 detail`),v.gid=p,this.geometryBufferCache.ensureCached(v)}const m=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone());try{this.states.uModelMatrix.translate([s,o,0]),this.states.uModelMatrix.scale(a,l,1),this.model(this.geometryBufferCache.getGeometryByID(p))}finally{this.states.setValue("uModelMatrix",m)}return this},Ot.prototype.rect=function(i){const s=i[0],o=i[1],a=i[2],l=i[3];if(typeof i[4]>"u"){const u=this._pInst._glAttributes.perPixelLighting,h=i[4]||(u?1:24),c=i[5]||(u?1:16),f=`rect|${h}|${c}`;if(!this.geometryInHash(f)){const p=function(){for(let g=0;g<=this.detailY;g++){const v=g/this.detailY;for(let S=0;S<=this.detailX;S++){const y=S/this.detailX,x=new Ne(y,v,0);this.vertices.push(x),this.uvs.push(y,v)}}h>0&&c>0&&(this.edges=[[0,h],[h,(h+1)*(c+1)-1],[(h+1)*(c+1)-1,(h+1)*c],[(h+1)*c,0]])},m=new zr(h,c,p,this);m.computeFaces().computeNormals()._edgesToVertices(),m.gid=f,this.geometryBufferCache.ensureCached(m)}const d=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.copy());try{this.states.uModelMatrix.translate([s,o,0]),this.states.uModelMatrix.scale(a,l,1),this.model(this.geometryBufferCache.getGeometryByID(f))}finally{this.states.setValue("uModelMatrix",d)}}else{let u=i[4],h=typeof i[5]>"u"?u:i[5],c=typeof i[6]>"u"?h:i[6],f=typeof i[7]>"u"?c:i[7],d=s,p=o,m=a,g=l;if(m+=d,g+=p,d>m){const T=d;d=m,m=T}if(p>g){const T=p;p=g,g=T}const v=Math.min((m-d)/2,(g-p)/2);u>v&&(u=v),h>v&&(h=v),c>v&&(c=v),f>v&&(f=v);let S=d,y=p,x=m,b=g;const w=this.states.textureMode;this.states.setValue("textureMode",co);const E=this.bezierOrder();this.bezierOrder(2),this.beginShape();const _=(T,C)=>[T,C,0,(T-S)/a,(C-y)/l];h!==0?(this.vertex(..._(x-h,y)),this.bezierVertex(..._(x,y)),this.bezierVertex(..._(x,y+h))):this.vertex(..._(x,y)),c!==0?(this.vertex(..._(x,b-c)),this.bezierVertex(..._(x,b)),this.bezierVertex(..._(x-c,b))):this.vertex(..._(x,b)),f!==0?(this.vertex(..._(S+f,b)),this.bezierVertex(..._(S,b)),this.bezierVertex(..._(S,b-f))):this.vertex(..._(S,b)),u!==0?(this.vertex(..._(S,y+u)),this.bezierVertex(..._(S,y)),this.bezierVertex(..._(S+u,y))):this.vertex(..._(S,y)),this.endShape(qh),this.states.setValue("textureMode",w),this.bezierOrder(E)}return this},Ot.prototype.quad=function(i,s,o,a,l,u,h,c,f,d,p,m,g=2,v=2){const S=`quad|${i}|${s}|${o}|${a}|${l}|${u}|${h}|${c}|${f}|${d}|${p}|${m}|${g}|${v}`;if(!this.geometryInHash(S)){const y=new zr(g,v,function(){let b=1/(this.detailX-1),w=1/(this.detailY-1);for(let E=0;E<this.detailY;E++)for(let _=0;_<this.detailX;_++){let T=_*b,C=E*w,F=(1-C)*i+C*d,k=(1-C)*s+C*p,D=(1-C)*o+C*m,N=(1-C)*a+C*h,M=(1-C)*l+C*c,U=(1-C)*u+C*f,R=(1-T)*F+T*N,W=(1-T)*k+T*M,ne=(1-T)*D+T*U;this.vertices.push(new Ne(R,W,ne)),this.uvs.push([T,C])}},this);y.faces=[];for(let b=0;b<v-1;b++)for(let w=0;w<g-1;w++){let E=w+b*g,_=w+1+b*g,T=w+1+(b+1)*g,C=w+(b+1)*g;y.faces.push([E,_,T]),y.faces.push([E,T,C])}y.computeNormals(),y.edges.length=0;const x=[0,2,3,1];for(let b=0;b<x.length;b++){const w=x[b],E=x[(b+1)%x.length];y.edges.push([w,E])}y._edgesToVertices(),y.gid=S,this.geometryBufferCache.ensureCached(y)}return this.model(this.geometryBufferCache.getGeometryByID(S)),this},Ot.prototype.bezier=function(i,s,o,a,l,u,h,c,f,d,p,m){arguments.length===8&&(p=c,d=h,c=u,h=l,l=a,a=o,o=u=f=m=0),this.bezierOrder(),this.bezierOrder(3),this.beginShape(),this.vertex(i,s,o),this.bezierVertex(a,l,u),this.bezierVertex(h,c,f),this.bezierVertex(d,p,m),this.endShape()},Ot.prototype.curve=function(i,s,o,a,l,u,h,c,f,d,p,m){arguments.length===8&&(d=h,p=c,h=l,c=a,a=o,l=a,o=u=f=m=0),this.beginShape(),this.splineVertex(i,s,o),this.splineVertex(a,l,u),this.splineVertex(h,c,f),this.splineVertex(d,p,m),this.endShape()},Ot.prototype.line=function(...i){return i.length===6?(this.beginShape(hc),this.vertex(i[0],i[1],i[2]),this.vertex(i[3],i[4],i[5]),this.endShape()):i.length===4&&(this.beginShape(hc),this.vertex(i[0],i[1],0),this.vertex(i[2],i[3],0),this.endShape()),this},Ot.prototype.image=function(i,s,o,a,l,u,h,c,f){this._isErasing&&this.blendMode(this._cachedBlendMode),this.push(),this.noLights(),this.states.setValue("strokeColor",null),this.texture(i),this.states.setValue("textureMode",co);let d=0;s<=i.width&&(d=s/i.width);let p=1;s+a<=i.width&&(p=(s+a)/i.width);let m=0;o<=i.height&&(m=o/i.height);let g=1;o+l<=i.height&&(g=(o+l)/i.height),this._drawingImage=!0,this.beginShape(),this.vertex(u,h,0,d,m),this.vertex(u+c,h,0,p,m),this.vertex(u+c,h+f,0,p,g),this.vertex(u,h+f,0,d,g),this.endShape(qh),this._drawingImage=!1,this.pop(),this._isErasing&&this.blendMode(Gl)};const r=function(i,s,o,a,l,u,h){i=i<=0?1:i,s=s<0?0:s,o=o<=0?i:o,a=a<3?3:a,l=l<1?1:l,u=u===void 0?!0:u,h=h===void 0?s!==0:h;const c=u?-2:0,f=l+(h?2:0),d=Math.atan2(i-s,o),p=Math.sin(d),m=Math.cos(d);let g,v,S;for(g=c;g<=f;++g){let x=g/l,b=o*x,w;for(g<0?(b=0,x=0,w=i):g>l?(b=o,x=1,w=s):w=i+(s-i)*x,(g===-2||g===l+2)&&(w=0),b-=o/2,v=0;v<a;++v){const E=v/(a-1),_=2*Math.PI*E,T=Math.sin(_),C=Math.cos(_);this.vertices.push(new Ne(T*w,b,C*w));let F;g<0?F=new Ne(0,-1,0):g>l&&s?F=new Ne(0,1,0):F=new Ne(T*m,p,C*m),this.vertexNormals.push(F),this.uvs.push(E,x)}}let y=0;if(u){for(S=0;S<a;++S){const x=(S+1)%a;this.faces.push([y+S,y+a+x,y+a+S])}y+=a*2}for(g=0;g<l;++g){for(v=0;v<a;++v){const x=(v+1)%a;this.faces.push([y+v,y+x,y+a+x]),this.faces.push([y+v,y+a+x,y+a+v])}y+=a}if(h)for(y+=a,v=0;v<a;++v)this.faces.push([y+v,y+(v+1)%a,y+a])};Ot.prototype.plane=function(i=50,s=i,o=1,a=1){const l=`plane|${o}|${a}`;if(!this.geometryInHash(l)){const u=function(){let c,f,d;for(let p=0;p<=this.detailY;p++){f=p/this.detailY;for(let m=0;m<=this.detailX;m++)c=m/this.detailX,d=new Ne(c-.5,f-.5,0),this.vertices.push(d),this.uvs.push(c,f)}},h=new zr(o,a,u,this);h.computeFaces().computeNormals(),o<=1&&a<=1?h._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),h.gid=l,this.geometryBufferCache.ensureCached(h)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(l),i,s,1)},Ot.prototype.box=function(i=50,s=i,o=s,a,l){const u=this.attributes&&this.attributes.perPixelLighting;typeof a>"u"&&(a=u?1:4),typeof l>"u"&&(l=u?1:4);const h=`box|${a}|${l}`;if(!this.geometryInHash(h)){const c=function(){const d=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],d.forEach((p,m)=>{const g=m*4;for(let v=0;v<4;v++){const S=p[v],y=new Ne(((S&1)*2-1)/2,((S&2)-1)/2,((S&4)/2-1)/2);this.vertices.push(y),this.uvs.push(v&1,(v&2)/2)}this.faces.push([g,g+1,g+2]),this.faces.push([g+2,g+1,g+3])})},f=new zr(a,l,c,this);f.computeNormals(),a<=4&&l<=4?f._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),f.gid=h,this.geometryBufferCache.ensureCached(f)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(h),i,s,o)},Ot.prototype.sphere=function(i=50,s=24,o=16){this.ellipsoid(i,i,i,s,o)},Ot.prototype.ellipsoid=function(i=50,s=i,o=i,a=24,l=16){const u=`ellipsoid|${a}|${l}`;if(!this.geometryInHash(u)){const h=function(){for(let f=0;f<=this.detailY;f++){const d=f/this.detailY,p=Math.PI*d-Math.PI/2,m=Math.cos(p),g=Math.sin(p);for(let v=0;v<=this.detailX;v++){const S=v/this.detailX,y=2*Math.PI*S,x=Math.cos(y),b=Math.sin(y),w=new n.Vector(m*b,g,m*x);this.vertices.push(w),this.vertexNormals.push(w),this.uvs.push(S,d)}}},c=new zr(a,l,h,this);c.computeFaces(),a<=24&&l<=24?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),c.gid=u,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),i,s,o)},Ot.prototype.cylinder=function(i=50,s=i,o=24,a=1,l=!0,u=!0){const h=`cylinder|${o}|${a}|${l}|${u}`;if(!this.geometryInHash(h)){const c=new n.Geometry(o,a,function(){r.call(this,1,1,1,o,a,l,u)},this);o<=24&&a<=16?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),c.gid=h,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(h),i,s,i)},Ot.prototype.cone=function(i=50,s=i,o=24,a=1,l=!0){const u=`cone|${o}|${a}|${l}`;if(!this.geometryInHash(u)){const h=new zr(o,a,function(){r.call(this,1,0,1,o,a,l,!1)},this);o<=24&&a<=16?h._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),h.gid=u,this.geometryBufferCache.ensureCached(h)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),i,s,i)},Ot.prototype.torus=function(i=50,s=10,o=24,a=16){if(i===0||s===0)return;const l=(s/i).toPrecision(4),u=`torus|${l}|${o}|${a}`;if(!this.geometryInHash(u)){const h=function(){for(let f=0;f<=this.detailY;f++){const d=f/this.detailY,p=2*Math.PI*d,m=Math.cos(p),g=Math.sin(p),v=1+l*m;for(let S=0;S<=this.detailX;S++){const y=S/this.detailX,x=2*Math.PI*y,b=Math.cos(x),w=Math.sin(x),E=new Ne(v*b,v*w,l*g),_=new Ne(m*b,m*w,g);this.vertices.push(E),this.vertexNormals.push(_),this.uvs.push(y,d)}}},c=new zr(o,a,h,this);c.computeFaces(),o<=24&&a<=16?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),c.gid=u,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),i,i,i)},t.curveDetail=function(i){if(!(this._renderer instanceof Ot))throw new Error("curveDetail() only works in WebGL mode. Did you mean to call createCanvas(width, height, WEBGL)?");return this._renderer.curveDetail(i)}}typeof p5<"u"&&hx(p5,p5.prototype);function fx(n,t){t.ambientLight=function(r,i,s,o){return this._assert3d("ambientLight"),this._renderer.ambientLight(...arguments),this},t.specularColor=function(r,i,s){return this._assert3d("specularColor"),this._renderer.specularColor(...arguments),this},t.directionalLight=function(r,i,s,o,a,l){return this._assert3d("directionalLight"),this._renderer.directionalLight(...arguments),this},t.pointLight=function(r,i,s,o,a,l){return this._assert3d("pointLight"),this._renderer.pointLight(...arguments),this},t.imageLight=function(r){this._renderer.imageLight(r)},t.panorama=function(r){this.filter(this._renderer._getSphereMapping(r))},t.lights=function(){return this._assert3d("lights"),this._renderer.lights(),this},t.lightFalloff=function(r,i,s){return this._assert3d("lightFalloff"),this._renderer.lightFalloff(r,i,s),this},t.spotLight=function(r,i,s,o,a,l,u,h,c,f,d){return this._assert3d("spotLight"),this._renderer.spotLight(...arguments),this},t.noLights=function(...r){return this._assert3d("noLights"),this._renderer.noLights(),this},Ot.prototype.ambientLight=function(r,i,s,o){const a=this._pInst.color(...arguments);this.states.setValue("ambientLightColors",[...this.states.ambientLightColors]),this.states.ambientLightColors.push(a._array[0],a._array[1],a._array[2]),this.states.setValue("enableLighting",!0)},Ot.prototype.specularColor=function(r,i,s){const o=this._pInst.color(...arguments);this.states.setValue("specularColors",[o._array[0],o._array[1],o._array[2]])},Ot.prototype.directionalLight=function(r,i,s,o,a,l){let u;r instanceof yt?u=r:u=this._pInst.color(r,i,s);let h,c,f;const d=arguments[arguments.length-1];typeof d=="number"?(h=arguments[arguments.length-3],c=arguments[arguments.length-2],f=arguments[arguments.length-1]):(h=d.x,c=d.y,f=d.z);const p=Math.sqrt(h*h+c*c+f*f);this.states.setValue("directionalLightDirections",[...this.states.directionalLightDirections]),this.states.directionalLightDirections.push(h/p,c/p,f/p),this.states.setValue("directionalLightDiffuseColors",[...this.states.directionalLightDiffuseColors]),this.states.directionalLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),this.states.setValue("directionalLightSpecularColors",[...this.states.directionalLightSpecularColors]),Array.prototype.push.apply(this.states.directionalLightSpecularColors,this.states.specularColors),this.states.setValue("enableLighting",!0)},Ot.prototype.pointLight=function(r,i,s,o,a,l){let u;r instanceof yt?u=r:u=this._pInst.color(r,i,s);let h,c,f;const d=arguments[arguments.length-1];typeof d=="number"?(h=arguments[arguments.length-3],c=arguments[arguments.length-2],f=arguments[arguments.length-1]):(h=d.x,c=d.y,f=d.z),this.states.setValue("pointLightPositions",[...this.states.pointLightPositions]),this.states.pointLightPositions.push(h,c,f),this.states.setValue("pointLightDiffuseColors",[...this.states.pointLightDiffuseColors]),this.states.pointLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),this.states.setValue("pointLightSpecularColors",[...this.states.pointLightSpecularColors]),Array.prototype.push.apply(this.states.pointLightSpecularColors,this.states.specularColors),this.states.setValue("enableLighting",!0)},Ot.prototype.imageLight=function(r){this.states.setValue("activeImageLight",r),this.states.setValue("enableLighting",!0)},Ot.prototype.lights=function(){const r=this._pInst.color("rgb(128,128,128)");this.ambientLight(r),this.directionalLight(r,0,0,-1)},Ot.prototype.lightFalloff=function(r,i,s){r<0&&(r=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),r===0&&i===0&&s===0&&(r=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this.states.setValue("constantAttenuation",r),this.states.setValue("linearAttenuation",i),this.states.setValue("quadraticAttenuation",s)},Ot.prototype.spotLight=function(r,i,s,o,a,l,u,h,c,f,d){let p,m,g;const v=arguments.length;switch(v){case 11:case 10:p=this._pInst.color(r,i,s),m=new Ne(o,a,l),g=new Ne(u,h,c);break;case 9:r instanceof yt?(p=r,m=new Ne(i,s,o),g=new Ne(a,l,u),f=h,d=c):o instanceof Ne?(p=this._pInst.color(r,i,s),m=o,g=new Ne(a,l,u),f=h,d=c):u instanceof Ne?(p=this._pInst.color(r,i,s),m=new Ne(o,a,l),g=u,f=h,d=c):(p=this._pInst.color(r,i,s),m=new Ne(o,a,l),g=new Ne(u,h,c));break;case 8:r instanceof yt?(p=r,m=new Ne(i,s,o),g=new Ne(a,l,u),f=h):o instanceof Ne?(p=this._pInst.color(r,i,s),m=o,g=new Ne(a,l,u),f=h):(p=this._pInst.color(r,i,s),m=new Ne(o,a,l),g=u,f=h);break;case 7:r instanceof yt&&i instanceof Ne?(p=r,m=i,g=new Ne(s,o,a),f=l,d=u):r instanceof yt&&a instanceof Ne?(p=r,m=new Ne(i,s,o),g=a,f=l,d=u):o instanceof Ne&&a instanceof Ne?(p=this._pInst.color(r,i,s),m=o,g=a,f=l,d=u):r instanceof yt?(p=r,m=new Ne(i,s,o),g=new Ne(a,l,u)):o instanceof Ne?(p=this._pInst.color(r,i,s),m=o,g=new Ne(a,l,u)):(p=this._pInst.color(r,i,s),m=new Ne(o,a,l),g=u);break;case 6:o instanceof Ne&&a instanceof Ne?(p=this._pInst.color(r,i,s),m=o,g=a,f=l):r instanceof yt&&a instanceof Ne?(p=r,m=new Ne(i,s,o),g=a,f=l):r instanceof yt&&i instanceof Ne&&(p=r,m=i,g=new Ne(s,o,a),f=l);break;case 5:r instanceof yt&&i instanceof Ne&&s instanceof Ne?(p=r,m=i,g=s,f=o,d=a):o instanceof Ne&&a instanceof Ne?(p=this._pInst.color(r,i,s),m=o,g=a):r instanceof yt&&a instanceof Ne?(p=r,m=new Ne(i,s,o),g=a):r instanceof yt&&i instanceof Ne&&(p=r,m=i,g=new Ne(s,o,a));break;case 4:p=r,m=i,g=s,f=o;break;case 3:p=r,m=i,g=s;break;default:console.warn(`Sorry, input for spotlight() is not in prescribed format. Too ${v<3?"few":"many"} arguments were provided`);return}this.states.setValue("spotLightDiffuseColors",[p._array[0],p._array[1],p._array[2]]),this.states.setValue("spotLightSpecularColors",[...this.states.specularColors]),this.states.setValue("spotLightPositions",[m.x,m.y,m.z]),g.normalize(),this.states.setValue("spotLightDirections",[g.x,g.y,g.z]),f===void 0&&(f=Math.PI/3),d!==void 0&&d<1?(d=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):d===void 0&&(d=100),f=this._pInst._toRadians(f),this.states.setValue("spotLightAngle",[Math.cos(f)]),this.states.setValue("spotLightConc",[d]),this.states.setValue("enableLighting",!0)},Ot.prototype.noLights=function(){this.states.setValue("activeImageLight",null),this.states.setValue("enableLighting",!1),this.states.setValue("ambientLightColors",[]),this.states.setValue("specularColors",[1,1,1]),this.states.setValue("directionalLightDirections",[]),this.states.setValue("directionalLightDiffuseColors",[]),this.states.setValue("directionalLightSpecularColors",[]),this.states.setValue("pointLightPositions",[]),this.states.setValue("pointLightDiffuseColors",[]),this.states.setValue("pointLightSpecularColors",[]),this.states.setValue("spotLightPositions",[]),this.states.setValue("spotLightDirections",[]),this.states.setValue("spotLightDiffuseColors",[]),this.states.setValue("spotLightSpecularColors",[]),this.states.setValue("spotLightAngle",[]),this.states.setValue("spotLightConc",[]),this.states.setValue("constantAttenuation",1),this.states.setValue("linearAttenuation",0),this.states.setValue("quadraticAttenuation",0),this.states.setValue("_useShininess",1),this.states.setValue("_useMetalness",0)}}typeof p5<"u"&&fx(p5,p5.prototype);function hF(n,t){t.loadShader=async function(r,i,s,o){const a=new Gr;try{return a._vertSrc=(await as(r,"text")).data,a._fragSrc=(await as(i,"text")).data,s?s(a):a}catch(l){if(o)return o(l);throw l}},t.createShader=function(r,i,s){return new Gr(this._renderer,r,i,s)},t.loadFilterShader=async function(r,i,s){try{const a=await(await this.loadStrings(r)).join(`
`),l=this.createFilterShader(a,!0);return i&&i(l),l}catch(o){s?s(o):console.error(o)}},t.createFilterShader=function(r,i=!1){let a=r.includes("#version 300 es")?`#version 300 es
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;

      in vec3 aPosition;
      in vec2 aTexCoord;
      out vec2 vTexCoord;

      void main() {
        // transferring texcoords for the frag shader
        vTexCoord = aTexCoord;

        // copy position with a fourth coordinate for projection (1.0 is normal)
        vec4 positionVec4 = vec4(aPosition, 1.0);

        // project to 3D space
        gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
      }
    `:`
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;

      attribute vec3 aPosition;
      // texcoords only come from p5 to vertex shader
      // so pass texcoords on to the fragment shader in a varying variable
      attribute vec2 aTexCoord;
      varying vec2 vTexCoord;

      void main() {
        // transferring texcoords for the frag shader
        vTexCoord = aTexCoord;

        // copy position with a fourth coordinate for projection (1.0 is normal)
        vec4 positionVec4 = vec4(aPosition, 1.0);

        // project to 3D space
        gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
      }
    `;const l=new Gr(this._renderer,a,r);return i||(this._renderer.GL?l.ensureCompiledOnContext(this._renderer):l.ensureCompiledOnContext(this)),l},t.shader=function(r){return this._assert3d("shader"),this._renderer.shader(r),this},t.strokeShader=function(r){return this._assert3d("strokeShader"),this._renderer.strokeShader(r),this},t.imageShader=function(r){return this._assert3d("imageShader"),this._renderer.imageShader(r),this},t.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},t.baseFilterShader=function(){return(this._renderer.filterRenderer||this._renderer).baseFilterShader()},t.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},t.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},t.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},t.resetShader=function(){return this._renderer.resetShader(),this},t.texture=function(r){return this._assert3d("texture"),r.gifProperties&&r._animateGif(this),this._renderer.texture(r),this},t.textureMode=function(r){r!==gg&&r!==co?console.warn(`You tried to set ${r} textureMode only supports IMAGE & NORMAL `):this._renderer.states.setValue("textureMode",r)},t.textureWrap=function(r,i=r){this._renderer.states.setValue("textureWrapX",r),this._renderer.states.setValue("textureWrapY",i);for(const s of this._renderer.textures.values())s.setWrapMode(r,i)},t.normalMaterial=function(...r){return this._assert3d("normalMaterial"),this._renderer.normalMaterial(...r),this},t.ambientMaterial=function(r,i,s){this._assert3d("ambientMaterial");const o=t.color.apply(this,arguments);return this._renderer.states.setValue("_hasSetAmbient",!0),this._renderer.states.setValue("curAmbientColor",o._array),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this._renderer.states.fillColor||this._renderer.states.setValue("fillColor",new yt([1,1,1])),this},t.emissiveMaterial=function(r,i,s,o){this._assert3d("emissiveMaterial");const a=t.color.apply(this,arguments);return this._renderer.states.setValue("curEmissiveColor",a._array),this._renderer.states.setValue("_useEmissiveMaterial",!0),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this},t.specularMaterial=function(r,i,s,o){this._assert3d("specularMaterial");const a=t.color.apply(this,arguments);return this._renderer.states.setValue("curSpecularColor",a._array),this._renderer.states.setValue("_useSpecularMaterial",!0),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this},t.shininess=function(r){return this._assert3d("shininess"),this._renderer.shininess(r),this},t.metalness=function(r){return this._assert3d("metalness"),this._renderer.metalness(r),this},Ot.prototype._applyColorBlend=function(r,i){const s=this.GL,o=this.states.drawMode===Wp,a=i||this.states.userFillShader||this.states.userStrokeShader||this.states.userPointShader||o||this.states.curBlendMode!==Ii||r[r.length-1]<1||this._isErasing;return a!==this._isBlending&&(a||this.states.curBlendMode!==Ii&&this.states.curBlendMode!==Kh?s.enable(s.BLEND):s.disable(s.BLEND),s.depthMask(!0),this._isBlending=a),this._applyBlendMode(),r},Ot.prototype._applyBlendMode=function(){if(this._cachedBlendMode===this.states.curBlendMode)return;const r=this.GL;switch(this.states.curBlendMode){case Ii:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Kh:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case Gl:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case hg:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case fg:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case cg:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case dg:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case ug:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case ag:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case lg:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.");break}this._cachedBlendMode=this.states.curBlendMode},Ot.prototype.shader=function(r){this.states.setValue("userFillShader",r),this.states.setValue("_useNormalMaterial",!1),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Ot.prototype.strokeShader=function(r){this.states.setValue("userStrokeShader",r),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Ot.prototype.imageShader=function(r){this.states.setValue("userImageShader",r),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Ot.prototype.resetShader=function(){this.states.setValue("userFillShader",null),this.states.setValue("userStrokeShader",null),this.states.setValue("userImageShader",null)},Ot.prototype.texture=function(r){this.states.setValue("drawMode",Wp),this.states.setValue("_useNormalMaterial",!1),this.states.setValue("_tex",r),this.states.setValue("fillColor",new yt([1,1,1]))},Ot.prototype.normalMaterial=function(...r){this.states.setValue("drawMode",Hp),this.states.setValue("_useSpecularMaterial",!1),this.states.setValue("_useEmissiveMaterial",!1),this.states.setValue("_useNormalMaterial",!0),this.states.setValue("curFillColor",[1,1,1,1]),this.states.setValue("fillColor",new yt([1,1,1])),this.states.setValue("strokeColor",null)},Ot.prototype.shininess=function(r){r<1&&(r=1),this.states.setValue("_useShininess",r)},Ot.prototype.metalness=function(r){const i=1-Math.exp(-r/100);this.states.setValue("_useMetalness",i)}}typeof p5<"u"&&loading(p5,p5.prototype);class mc{constructor(t,r,i,s,o){const a=i||jl;return this._pInst=s,this._renderer=new hp[a](this,t,r,!1,o),this._initializeInstanceVariables(this),this._renderer._applyDefaults(),this}get elt(){return this.canvas}get deltaTime(){return this._pInst.deltaTime}get canvas(){return this._renderer?.canvas}get drawingContext(){return this._renderer.drawingContext}get width(){return this._renderer?.width}get height(){return this._renderer?.height}get pixels(){return this._renderer?.pixels}pixelDensity(t){let r;return typeof t=="number"?(t!==this._renderer._pixelDensity&&(this._renderer._pixelDensity=t),r=this,this.resizeCanvas(this.width,this.height,!0)):r=this._renderer._pixelDensity,r}resizeCanvas(t,r){this._renderer.resize(t,r)}reset(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}remove(){this._renderer.remove(),this._renderer=void 0}createFramebuffer(t){return new Vs(this._renderer,t)}_assert3d(t){if(!this._renderer.isP3D)throw new Error(`${t}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={}}}function dZ(n,t){n.Graphics=mc,Zb(n,n.Graphics.prototype),Jb(n,n.Graphics.prototype),Qb(n,n.Graphics.prototype),ex(n,n.Graphics.prototype),Yb(n,n.Graphics.prototype),tx(n,n.Graphics.prototype),ax(n,n.Graphics.prototype),ox(n,n.Graphics.prototype),rx(n,n.Graphics.prototype),Hb(n,n.Graphics.prototype),hx(n,n.Graphics.prototype),fx(n,n.Graphics.prototype),hF(n,n.Graphics.prototype),qb(n,n.Graphics.prototype),sx(n,n.Graphics.prototype)}class Zo{constructor(t,r,i){this._renderer=t;const s=this._renderer.GL;i=i||{},this.src=r,this.glTex=void 0,this.glTarget=s.TEXTURE_2D,this.glFormat=i.format||s.RGBA,this.mipmaps=!1,this.glMinFilter=i.minFilter||s.LINEAR,this.glMagFilter=i.magFilter||s.LINEAR,this.glWrapS=i.wrapS||s.CLAMP_TO_EDGE,this.glWrapT=i.wrapT||s.CLAMP_TO_EDGE,this.glDataType=i.dataType||s.UNSIGNED_BYTE;const o=dF(t);this.glFormat===s.HALF_FLOAT&&!o.halfFloat&&(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=s.FLOAT),this.glFormat===s.HALF_FLOAT&&(this.glMinFilter===s.LINEAR||this.glMagFilter===s.LINEAR)&&!o.halfFloatLinear&&(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.NEAREST),this.glMagFilter===s.LINEAR&&(this.glMagFilter=s.NEAREST)),this.glFormat===s.FLOAT&&!o.float&&(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=s.UNSIGNED_BYTE),this.glFormat===s.FLOAT&&(this.glMinFilter===s.LINEAR||this.glMagFilter===s.LINEAR)&&!o.floatLinear&&(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.NEAREST),this.glMagFilter===s.LINEAR&&(this.glMagFilter=s.NEAREST)),this.isSrcMediaElement=!1,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=typeof Lr<"u"&&r instanceof Lr&&!(r instanceof mc)&&!(r instanceof Dt),this.isSrcP5Image=r instanceof La,this.isSrcP5Graphics=r instanceof mc,this.isSrcP5Renderer=r instanceof Dt,this.isImageData=typeof ImageData<"u"&&r instanceof ImageData,this.isFramebufferTexture=r instanceof tm;const a=this._getTextureDataFromSource();return this.width=a.width,this.height=a.height,this.init(a),this}remove(){this.glTex&&(this._renderer.GL.deleteTexture(this.glTex),this.glTex=void 0)}_getTextureDataFromSource(){let t;return this.isFramebufferTexture?t=this.src.rawTexture():this.isSrcP5Image?t=this.src.canvas:this.isSrcMediaElement||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),t=this.src.elt):this.isSrcP5Graphics||this.isSrcP5Renderer?t=this.src.canvas:this.isImageData&&(t=this.src),t}init(t){const r=this._renderer.GL;if(this.isFramebufferTexture||(this.glTex=r.createTexture()),this.glWrapS=this._renderer.states.textureWrapX,this.glWrapT=this._renderer.states.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),!this.isFramebufferTexture)if(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){const i=new Uint8Array([1,1,1,1]);r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,i)}else r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,t)}update(){const t=this.src;if(t.width===0||t.height===0)return!1;if(this.isFramebufferTexture)return this.src.update(),!1;const r=this._getTextureDataFromSource();let i=!1;const s=this._renderer.GL;return r.width!==this.width||r.height!==this.height?(i=!0,this.width=r.width||t.width,this.height=r.height||t.height,this.isSrcP5Image?t.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&t.setModified&&t.setModified(!0)):this.isSrcP5Image?t.isModified()&&(i=!0,t.setModified(!1)):this.isSrcMediaElement?t.isModified()?(i=!0,t.setModified(!1)):t.loadedmetadata&&this._videoPrevUpdateTime!==t.time()&&(this._videoPrevUpdateTime=t.time(),i=!0):this.isImageData?t._dirty&&(t._dirty=!1,i=!0):i=!0,i&&(this.bindTexture(),s.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,r)),i}bindTexture(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}unbindTexture(){this._renderer.GL.bindTexture(this.glTarget,null)}getTexture(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}setInterpolation(t,r){const i=this._renderer.GL;this.glMinFilter=this.glFilter(t),this.glMagFilter=this.glFilter(r),this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}glFilter(t){const r=this._renderer.GL;return t===$5?r.NEAREST:r.LINEAR}setWrapMode(t,r){const i=this._renderer.GL,s=c=>(c&c-1)===0,o=this._getTextureDataFromSource();let a,l;o.naturalWidth&&o.naturalHeight?(a=o.naturalWidth,l=o.naturalHeight):(a=this.width,l=this.height);const u=s(a),h=s(l);t===Fy?this._renderer.webglVersion===Ir||u&&h?this.glWrapS=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):t===My?this._renderer.webglVersion===Ir||u&&h?this.glWrapS=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):this.glWrapS=i.CLAMP_TO_EDGE,r===Fy?this._renderer.webglVersion===Ir||u&&h?this.glWrapT=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):r===My?this._renderer.webglVersion===Ir||u&&h?this.glWrapT=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):this.glWrapT=i.CLAMP_TO_EDGE,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.glWrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}class fF extends Zo{constructor(t,r,i){super(t,r,i);const s=this._renderer.GL;this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.LINEAR_MIPMAP_LINEAR)}glFilter(t){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}_getTextureDataFromSource(){return this.src}init(t){const r=this._renderer.GL;this.glTex=r.createTexture(),this.bindTexture();for(let i=0;i<t.length;i++)r.texImage2D(this.glTarget,i,this.glFormat,this.glFormat,this.glDataType,t[i]);this.glMinFilter=r.LINEAR_MIPMAP_LINEAR,r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}update(){}}function dx(n,t){n.Texture=Zo,n.MipmapTexture=fF}function dF({GL:n,webglVersion:t}){const r=n,i=t===Ir?r.getExtension("EXT_color_buffer_float")&&r.getExtension("EXT_float_blend"):r.getExtension("OES_texture_float"),s=i&&r.getExtension("OES_texture_float_linear"),o=t===Ir?r.getExtension("EXT_color_buffer_float"):r.getExtension("OES_texture_half_float"),a=o&&r.getExtension("OES_texture_half_float_linear");return{float:i,floatLinear:s,halfFloat:o,halfFloatLinear:a}}typeof p5<"u"&&dx(p5,p5.prototype);const Cu=(n,t,r)=>Math.max(Math.min(n,r),t);class pF extends Yl{constructor(t){super(t.renderer),this.fbo=t,this.yScale=-1}_computeCameraDefaultSettings(){super._computeCameraDefaultSettings(),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}class tm{constructor(t,r){this.framebuffer=t,this.property=r}get width(){return this.framebuffer.width*this.framebuffer.density}get height(){return this.framebuffer.height*this.framebuffer.density}update(){this.framebuffer._update(this.property)}rawTexture(){return this.framebuffer[this.property]}}class Vs{constructor(t,r={}){this.renderer=t,this.renderer.framebuffers.add(this),this._isClipApplied=!1,this.dirty={colorTexture:!1,depthTexture:!1},this.pixels=[],this.format=r.format||xa,this.channels=r.channels||(this.renderer._pInst._glAttributes.alpha?sp:Wn),this.useDepth=r.depth===void 0?!0:r.depth,this.depthFormat=r.depthFormat||Ui,this.textureFiltering=r.textureFiltering||Ny,r.antialias===void 0?this.antialiasSamples=this.renderer._pInst._glAttributes.antialias?2:0:typeof r.antialias=="number"?this.antialiasSamples=r.antialias:this.antialiasSamples=r.antialias?2:0,this.antialias=this.antialiasSamples>0,this.antialias&&this.renderer.webglVersion!==Ir&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=r.density||this.renderer._pixelDensity;const i=this.renderer.GL;if(this.gl=i,r.width&&r.height){const o=this.renderer._adjustDimensions(r.width,r.height);this.width=o.adjustedWidth,this.height=o.adjustedHeight,this._autoSized=!1}else r.width===void 0!=(r.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=this.renderer.width,this.height=this.renderer.height,this._autoSized=!0;if(this._checkIfFormatsAvailable(),r.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(r.stencil===void 0?!0:r.stencil),this.framebuffer=i.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=i.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();const s=this.renderer.states.curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.renderer.states.setValue("curCamera",s),this.draw(()=>this.renderer.clear())}resize(t,r){this._autoSized=!1;const i=this.renderer._adjustDimensions(t,r);t=i.adjustedWidth,r=i.adjustedHeight,this.width=t,this.height=r,this._handleResize()}pixelDensity(t){if(t)this._autoSized=!1,this.density=t,this._handleResize();else return this.density}autoSized(t){if(t===void 0)return this._autoSized;this._autoSized=t,this._handleResize()}_checkIfFormatsAvailable(){const t=this.gl;this.useDepth&&this.renderer.webglVersion===Oa&&!t.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.renderer.webglVersion===Oa&&this.depthFormat===Ui&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=xh),[xa,Ui,ku].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=xa),this.useDepth&&![xh,Ui].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=Ui);const r=dF(this.renderer);!r.float&&this.format===Ui&&(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=xa),this.useDepth&&!r.float&&this.depthFormat===Ui&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=xh),!r.halfFloat&&this.format===ku&&(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=xa),this.channels===Wn&&[Ui,ku].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=sp)}_recreateTextures(){const t=this.gl;this._updateSize();const r=t.getParameter(t.TEXTURE_BINDING_2D),i=t.getParameter(t.FRAMEBUFFER_BINDING),s=t.createTexture();if(!s)throw new Error("Unable to create color texture");t.bindTexture(t.TEXTURE_2D,s);const o=this._glColorFormat();if(t.texImage2D(t.TEXTURE_2D,0,o.internalFormat,this.width*this.density,this.height*this.density,0,o.format,o.type,null),this.colorTexture=s,t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),this.useDepth){const l=t.createTexture();if(!l)throw new Error("Unable to create depth texture");const u=this._glDepthFormat();t.bindTexture(t.TEXTURE_2D,l),t.texImage2D(t.TEXTURE_2D,0,u.internalFormat,this.width*this.density,this.height*this.density,0,u.format,u.type,null),t.framebufferTexture2D(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.TEXTURE_2D,l,0),this.depthTexture=l}if(this.antialias){if(this.colorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.colorRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),o.internalFormat,this.width*this.density,this.height*this.density),this.useDepth){const l=this._glDepthFormat();this.depthRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.depthRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),l.internalFormat,this.width*this.density,this.height*this.density)}t.bindFramebuffer(t.FRAMEBUFFER,this.aaFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&t.framebufferRenderbuffer(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depthRenderbuffer)}if(this.useDepth){this.depth=new tm(this,"depthTexture");const l=t.NEAREST;this.depthP5Texture=new Zo(this.renderer,this.depth,{minFilter:l,magFilter:l}),this.renderer.textures.set(this.depth,this.depthP5Texture)}this.color=new tm(this,"colorTexture");const a=this.textureFiltering===Ny?t.LINEAR:t.NEAREST;this.colorP5Texture=new Zo(this.renderer,this.color,{minFilter:a,magFilter:a}),this.renderer.textures.set(this.color,this.colorP5Texture),t.bindTexture(t.TEXTURE_2D,r),t.bindFramebuffer(t.FRAMEBUFFER,i)}_glColorFormat(){let t,r,i;const s=this.gl;return this.format===Ui?t=s.FLOAT:this.format===ku?t=this.renderer.webglVersion===Ir?s.HALF_FLOAT:s.getExtension("OES_texture_half_float").HALF_FLOAT_OES:t=s.UNSIGNED_BYTE,this.channels===sp?r=s.RGBA:r=s.RGB,this.renderer.webglVersion===Ir?i={[s.FLOAT]:{[s.RGBA]:s.RGBA32F},[s.HALF_FLOAT]:{[s.RGBA]:s.RGBA16F},[s.UNSIGNED_BYTE]:{[s.RGBA]:s.RGBA8,[s.RGB]:s.RGB8}}[t][r]:this.format===ku?i=s.RGBA:i=r,{internalFormat:i,format:r,type:t}}_glDepthFormat(){let t,r,i;const s=this.gl;return this.useStencil?this.depthFormat===Ui?t=s.FLOAT_32_UNSIGNED_INT_24_8_REV:this.renderer.webglVersion===Ir?t=s.UNSIGNED_INT_24_8:t=s.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===Ui?t=s.FLOAT:t=s.UNSIGNED_INT,this.useStencil?r=s.DEPTH_STENCIL:r=s.DEPTH_COMPONENT,this.useStencil?this.depthFormat===Ui?i=s.DEPTH32F_STENCIL8:this.renderer.webglVersion===Ir?i=s.DEPTH24_STENCIL8:i=s.DEPTH_STENCIL:this.renderer.webglVersion===Ir?this.depthFormat===Ui?i=s.DEPTH_COMPONENT32F:i=s.DEPTH_COMPONENT24:i=s.DEPTH_COMPONENT,{internalFormat:i,format:r,type:t}}_updateSize(){this._autoSized&&(this.width=this.renderer.width,this.height=this.renderer.height,this.density=this.renderer._pixelDensity)}_canvasSizeChanged(){this._autoSized&&this._handleResize()}_handleResize(){const t=this.color,r=this.depth,i=this.colorRenderbuffer,s=this.depthRenderbuffer;this._deleteTexture(t),r&&this._deleteTexture(r);const o=this.gl;i&&o.deleteRenderbuffer(i),s&&o.deleteRenderbuffer(s),this._recreateTextures(),this.defaultCamera._resize()}createCamera(){const t=new pF(this);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),t}_deleteTexture(t){this.gl.deleteTexture(t.rawTexture()),this.renderer.textures.delete(t)}remove(){const t=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),t.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&t.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&t.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&t.deleteRenderbuffer(this.colorRenderbuffer),this.renderer.framebuffers.delete(this)}begin(){this.prevFramebuffer=this.renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.renderer.activeFramebuffers.push(this),this._beforeBegin(),this.renderer.push(),this.renderer.states.setValue("curCamera",this.defaultCamera),this.renderer.states.setValue("uPMatrix",this.renderer.states.uPMatrix.clone()),this.renderer.states.uPMatrix.set(this.defaultCamera.projMatrix),this.renderer.states.setValue("uViewMatrix",this.renderer.states.uViewMatrix.clone()),this.renderer.states.uViewMatrix.set(this.defaultCamera.cameraMatrix),this.renderer.resetMatrix(),this.renderer.states.uViewMatrix.set(this.renderer.states.curCamera.cameraMatrix),this.renderer.states.uModelMatrix.reset(),this.renderer._applyStencilTestIfClipping()}_framebufferToBind(){return this.antialias?this.aaFramebuffer:this.framebuffer}_update(t){if(this.dirty[t]&&this.antialias){const r=this.gl;r.bindFramebuffer(r.READ_FRAMEBUFFER,this.aaFramebuffer),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.framebuffer);const i={colorTexture:[r.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]};this.useDepth&&(i.depthTexture=[r.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);const[s,o]=i[t];r.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,s,o),this.dirty[t]=!1;const a=this.renderer.activeFramebuffer();a?r.bindFramebuffer(r.FRAMEBUFFER,a._framebufferToBind()):r.bindFramebuffer(r.FRAMEBUFFER,null)}}_beforeBegin(){const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebufferToBind()),this.renderer.viewport(this.width*this.density,this.height*this.density)}_beforeEnd(){this.antialias&&(this.dirty={colorTexture:!0,depthTexture:!0})}end(){const t=this.gl;if(this.renderer.pop(),this.renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(t.bindFramebuffer(t.FRAMEBUFFER,null),this.renderer.viewport(this.renderer._origViewport.width,this.renderer._origViewport.height)),this.renderer._applyStencilTestIfClipping()}draw(t){this.begin(),t(),this.end()}loadPixels(){this._update("colorTexture");const t=this.gl,r=this.renderer.activeFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer);const i=this._glColorFormat();this.pixels=Gy(this.pixels,t,this.framebuffer,0,0,this.width*this.density,this.height*this.density,i.format,i.type),r?t.bindFramebuffer(t.FRAMEBUFFER,r._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null)}get(t,r,i,s){this._update("colorTexture");const o=this._glColorFormat();if(t===void 0&&r===void 0)t=0,r=0,i=this.width,s=this.height;else if(i===void 0&&s===void 0)return(t<0||r<0||t>=this.width||r>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),t=Cu(t,0,this.width-1),r=Cu(r,0,this.height-1)),cF(this.gl,this.framebuffer,t*this.density,r*this.density,o.format,o.type);t=Cu(t,0,this.width-1),r=Cu(r,0,this.height-1),i=Cu(i,1,this.width-t),s=Cu(s,1,this.height-r);const a=Gy(void 0,this.gl,this.framebuffer,t*this.density,r*this.density,i*this.density,s*this.density,o.format,o.type),l=new Uint8ClampedArray(i*s*this.density*this.density*4);l.fill(255);const u=o.type===this.gl.RGB?3:4;for(let c=0;c<s*this.density;c++)for(let f=0;f<i*this.density;f++)for(let d=0;d<4;d++){const p=(c*i*this.density+f)*4+d;if(d<u){const m=u===4?p:(c*i*this.density+f)*u+d;l[p]=a[m]}}const h=new La(i*this.density,s*this.density);return h.imageData=h.canvas.getContext("2d").createImageData(h.width,h.height),h.imageData.data.set(l),h.pixels=h.imageData.data,h.updatePixels(),this.density!==1&&h.resize(i,s),h}updatePixels(){const t=this.gl;this.colorP5Texture.bindTexture();const r=this._glColorFormat(),i=r.format===t.RGBA?4:3,s=this.width*this.height*this.density*this.density*i,o=r.type===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof o)||this.pixels.length!==s)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");t.texImage2D(t.TEXTURE_2D,0,r.internalFormat,this.width*this.density,this.height*this.density,0,r.format,r.type,this.pixels),this.colorP5Texture.unbindTexture(),this.dirty.colorTexture=!1;const a=this.renderer.activeFramebuffer();this.antialias?(this.begin(),this.renderer.push(),this.renderer.states.setValue("imageMode",hs),this.renderer.setCamera(this.filterCamera),this.renderer.resetMatrix(),this.renderer.states.setValue("strokeColor",null),this.renderer.clear(),this.renderer._drawingFilter=!0,this.renderer.image(this,0,0,this.width,this.height,-this.renderer.width/2,-this.renderer.height/2,this.renderer.width,this.renderer.height),this.renderer._drawingFilter=!1,this.renderer.pop(),this.useDepth&&(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),this.end()):(t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this.useDepth&&(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),a?t.bindFramebuffer(t.FRAMEBUFFER,a._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null))}}function mF(n,t){n.FramebufferCamera=pF,n.FramebufferTexture=tm,n.Framebuffer=Vs}typeof p5<"u"&&mF(p5,p5.prototype);let hp;function gF(n,t){hp=n.renderers={},t.createCanvas=function(r,i,s,...o){let a=jl;return Reflect.ownKeys(hp).includes(s)?a=s:o.unshift(s),this._renderer&&this._renderer.remove(),this._renderer=new hp[a](this,r,i,!0,...o),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer),this._renderer._applyDefaults(),Object.hasOwn(this,"pixels")||Object.defineProperty(this,"pixels",{get(){return this._renderer?.pixels}}),this._renderer},t.resizeCanvas=function(r,i,s){this._renderer&&(this._renderer.resize(r,i),s||this.redraw()),this._addAccsOutput()&&this._updateAccsOutput()},t.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},t.createGraphics=function(r,i,...s){return s[0]instanceof HTMLCanvasElement&&(s[1]=s[0],s[0]=jl),new n.Graphics(r,i,s[0],this,s[1])},t.createFramebuffer=function(r){return new Vs(this._renderer,r)},t.clearDepth=function(r){this._assert3d("clearDepth"),this._renderer.clearDepth(r)}}typeof p5<"u"&&gF(p5,p5.prototype);class pZ{constructor(t){this.pInst=t,this.canvas=document.createElement("canvas"),this.canvas.width=t.width,this.canvas.height=t.height;let r=Ir;if(this.gl=this.canvas.getContext("webgl2"),this.gl||(r=Oa,this.gl=this.canvas.getContext("webgl")),!this.gl){console.error("WebGL not supported, cannot apply filter.");return}this._renderer={GL:this.gl,registerEnabled:new Set,_curShader:null,_emptyTexture:null,webglVersion:r,states:{textureWrapX:this.gl.CLAMP_TO_EDGE,textureWrapY:this.gl.CLAMP_TO_EDGE},_arraysEqual:(i,s)=>JSON.stringify(i)===JSON.stringify(s),_getEmptyTexture:()=>{if(!this._emptyTexture){const i=new La(1,1);i.set(0,0,255),this._emptyTexture=new Zo(this._renderer,i)}return this._emptyTexture}},this._baseFilterShader=void 0,this.filterShaderSources={[fc]:tF,[jb]:iF,[pg]:sF,[Gb]:QN,[Vb]:JN,[zb]:eF,[mg]:nF,[$b]:rF},this.filterShaders={},this.operation=null,this.filterParameter=1,this.customShader=null,this._shader=null,this.vertexBuffer=this.gl.createBuffer(),this.texcoordBuffer=this.gl.createBuffer(),this.vertices=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.texcoords=new Float32Array([0,1,1,1,0,0,1,0]),this._bindBufferData(this.vertexBuffer,this.gl.ARRAY_BUFFER,this.vertices),this._bindBufferData(this.texcoordBuffer,this.gl.ARRAY_BUFFER,this.texcoords)}_webGL2CompatibilityPrefix(t,r){let i="";return this._renderer.webglVersion===Ir&&(i+=`#version 300 es
#define WEBGL2
`),t==="vert"?i+=`#define VERTEX_SHADER
`:t==="frag"&&(i+=`#define FRAGMENT_SHADER
`),r&&(i+=`precision ${r} float;
`),i}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new Gr(this._renderer,this._webGL2CompatibilityPrefix("vert","highp")+zy+KN,this._webGL2CompatibilityPrefix("frag","highp")+zy+ZN,{vertex:{},fragment:{"vec4 getColor":`(FilterInputs inputs, in sampler2D canvasContent) {
              return getTexture(canvasContent, inputs.texCoord);
            }`}})),this._baseFilterShader}setOperation(t,r,i=null){this.operation=t,this.filterParameter=r,t in Qp&&r===void 0&&(this.filterParameter=Qp[t]),this.customShader=i,this._initializeShader()}_initializeShader(){if(this.customShader){this._shader=this.customShader;return}if(!this.operation){console.error("No operation set for FilterRenderer2D, cannot initialize shader.");return}if(this.filterShaders[this.operation]){this._shader=this.filterShaders[this.operation];return}const t=this.filterShaderSources[this.operation];if(!t){console.error("No shader available for this operation:",this.operation);return}const r=new Gr(this._renderer,oF,t);this.filterShaders[this.operation]=r,this._shader=r}_bindBufferData(t,r,i){const s=this.gl;s.bindBuffer(r,t),s.bufferData(r,i,s.STATIC_DRAW)}get canvasTexture(){return this._canvasTexture||(this._canvasTexture=new Zo(this._renderer,this.pInst.wrappedElt)),this._canvasTexture}_renderPass(){const t=this.gl;this._shader.bindShader();const r=this.pInst.pixelDensity?this.pInst.pixelDensity():1,i=[1/(this.pInst.width*r),1/(this.pInst.height*r)],s=this.canvasTexture;this._shader.setUniform("tex0",s),this._shader.setUniform("texelSize",i),this._shader.setUniform("canvasSize",[this.pInst.width,this.pInst.height]),this._shader.setUniform("radius",Math.max(1,this.filterParameter)),this._shader.setUniform("filterParameter",this.filterParameter),this._shader.setDefaultUniforms(),this.pInst.states.setValue("rectMode",hs),this.pInst.states.setValue("imageMode",hs),this.pInst.blendMode(Ii),this.pInst.resetMatrix();const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this._shader.setUniform("uModelViewMatrix",o),this._shader.setUniform("uProjectionMatrix",o),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this._shader.enableAttrib(this._shader.attributes.aPosition,2),t.bindBuffer(t.ARRAY_BUFFER,this.texcoordBuffer),this._shader.enableAttrib(this._shader.attributes.aTexCoord,2),this._shader.bindTextures(),this._shader.disableRemainingAttributes(),t.drawArrays(t.TRIANGLE_STRIP,0,4),this._shader.unbindShader()}applyFilter(){if(!this._shader){console.error("Cannot apply filter: shader not initialized.");return}this.pInst.push(),this.pInst.resetMatrix(),this.operation===fc&&!this.customShader?(this._shader.setUniform("direction",[1,0]),this._renderPass(),this.pInst.clear(),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height),this._shader.setUniform("direction",[0,1]),this._renderPass(),this.pInst.clear(),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height)):(this._renderPass(),this.pInst.clear(),this.pInst.blendMode(Ii),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height)),this.pInst.pop()}}const ro="rgba(0,0,0,0)";class ev extends Dt{constructor(t,r,i,s,o,a={}){super(t,r,i,s),this.canvas=this.elt=o||document.createElement("canvas"),s?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display="none",this.elt.id="defaultCanvas0",this.elt.classList.add("p5Canvas");for(const l of Object.getOwnPropertyNames(Lr.prototype))l!=="constructor"&&l[0]!=="_"&&Object.defineProperty(this,l,{get(){return this.wrappedElt[l]}});if(this.elt.width=r*this._pixelDensity,this.elt.height=i*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${i}px`,this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(document.getElementsByTagName("main").length===0){let l=document.createElement("main");document.body.appendChild(l)}document.getElementsByTagName("main")[0].appendChild(this.elt)}this.drawingContext=this.canvas.getContext("2d",a),a.colorSpace==="display-p3"&&(this.states.colorMode=Ti),this.scale(this._pixelDensity,this._pixelDensity),this.wrappedElt=new Lr(this.elt,this._pInst),this.clipPath=null}get filterRenderer(){return this._filterRenderer||(this._filterRenderer=new pZ(this)),this._filterRenderer}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}getFilterGraphicsLayer(){if(!this.filterGraphicsLayer){const t=this._pInst;this.filterGraphicsLayer=new mc(this.width,this.height,Oa,t)}return(this.filterGraphicsLayer.width!==this.width||this.filterGraphicsLayer.height!==this.height)&&this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}_applyDefaults(){this.states.setValue("_cachedFillStyle",void 0),this.states.setValue("_cachedStrokeStyle",void 0),this._cachedBlendMode=Ii,this._setFill(H5),this._setStroke(G5),this.drawingContext.lineCap=Fa,this.drawingContext.font="normal 12px sans-serif"}resize(t,r){super.resize(t,r);const i={};for(const s in this.drawingContext){const o=this.drawingContext[s];typeof o!="object"&&typeof o!="function"&&(i[s]=o)}this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this.drawingContext.scale(this._pixelDensity,this._pixelDensity);for(const s in i)try{this.drawingContext[s]=i[s]}catch{}}background(...t){if(this.push(),this.resetMatrix(),t[0]instanceof La)if(t[1]>=0){const r=t[0];this.drawingContext.globalAlpha=t[1]/255,this._pInst.image(r,0,0,this.width,this.height)}else this._pInst.image(t[0],0,0,this.width,this.height);else{const r=this._pInst.color(...t);this._pInst._addAccsOutput?.()&&this._pInst._accsBackground?.(r._getRGBA([255,255,255,255]));const i=r.toString();this._setFill(i),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._isErasing&&this._pInst.erase()}this.pop()}clear(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}fill(...t){super.fill(...t);const r=this.states.fillColor;this._setFill(r.toString()),this._pInst._addAccsOutput?.()&&this._pInst._accsCanvasColors?.("fill",r._getRGBA([255,255,255,255]))}stroke(...t){super.stroke(...t);const r=this.states.strokeColor;this._setStroke(r.toString()),this._pInst._addAccsOutput?.()&&this._pInst._accsCanvasColors?.("stroke",r._getRGBA([255,255,255,255]))}erase(t,r){if(!this._isErasing){this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle);const i=this._pInst.color(255,t).toString();this.drawingContext.fillStyle=i,this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle);const s=this._pInst.color(255,r).toString();this.drawingContext.strokeStyle=s;const o=this._cachedBlendMode;this.blendMode(Gl),this._cachedBlendMode=o,this._isErasing=!0}}noErase(){this._isErasing&&(this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}drawShape(t){const r=new PN({strokeWeight:this.states.strokeWeight});t.accept(r),this._clipping?(this.clipPath.addPath(r.path),this.clipPath.closePath()):(this.states.fillColor&&this.drawingContext.fill(r.path),this.states.strokeColor&&this.drawingContext.stroke(r.path))}beginClip(t={}){super.beginClip(t),this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle);const r=this._pInst.color(255,0).toString();this.drawingContext.fillStyle=r,this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle);const i=this._pInst.color(255,0).toString();this.drawingContext.strokeStyle=i;const s=this._cachedBlendMode;this.blendMode(Ii),this._cachedBlendMode=s,this.clipPath=new Path2D,this._clipInvert&&(this.clipPath.moveTo(-2*this.width,-2*this.height),this.clipPath.lineTo(-2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,-2*this.height),this.clipPath.closePath())}endClip(){this.drawingContext.clip(this.clipPath),this.clipPath=null,super.endClip(),this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}image(t,r,i,s,o,a,l,u,h){let c;t.gifProperties&&t._animateGif(this._pInst);try{t instanceof bl&&t._ensureCanvas(),this.states.tint&&t.canvas&&(c=this._getTintedImageCanvas(t)),c||(c=t.canvas||t.elt);let f=1;t.width&&t.width>0&&(f=c.width/t.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(c,f*r,f*i,f*s,f*o,a,l,u,h),this._isErasing&&this._pInst.erase()}catch(f){if(f.name!=="NS_ERROR_NOT_AVAILABLE")throw f}}_getTintedImageCanvas(t){if(!t.canvas)return t;t.tintCanvas||(t.tintCanvas=document.createElement("canvas")),t.tintCanvas.width!==t.canvas.width&&(t.tintCanvas.width=t.canvas.width),t.tintCanvas.height!==t.canvas.height&&(t.tintCanvas.height=t.canvas.height);const r=t.tintCanvas.getContext("2d");return r.save(),r.clearRect(0,0,t.canvas.width,t.canvas.height),this.states.tint[0]<255||this.states.tint[1]<255||this.states.tint[2]<255?(r.drawImage(t.canvas,0,0),r.globalCompositeOperation="luminosity",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="color",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="multiply",r.fillStyle=`rgb(${this.states.tint.slice(0,3).join(", ")})`,r.fillRect(0,0,t.canvas.width,t.canvas.height),r.globalCompositeOperation="destination-in",r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0)):(r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0)),r.restore(),t.tintCanvas}blendMode(t){if(t===ug)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else if(t===Ii||t===Gl||t===ag||t===lg||t===U5||t===hg||t===cg||t===fg||t===dg||t===Pb||t===Lb||t===Rb||t===Bb||t===Ub||t===Kh)this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t;else throw new Error(`Mode ${t} not recognized.`)}blend(...t){const r=this.drawingContext.globalCompositeOperation,i=t[t.length-1],s=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=i,zt.prototype.copy.apply(this,s),this.drawingContext.globalCompositeOperation=r}_getPixel(t,r){let i,s;return i=this.drawingContext.getImageData(t,r,1,1).data,s=0,[i[s+0],i[s+1],i[s+2],i[s+3]]}loadPixels(){const t=this._pixelDensity,r=this.width*t,i=this.height*t,s=this.drawingContext.getImageData(0,0,r,i);this.imageData=s,this.pixels=s.data}set(t,r,i){if(t=Math.floor(t),r=Math.floor(r),i instanceof La)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,i.width,i.height),this.drawingContext.drawImage(i.canvas,t,r),this.drawingContext.restore();else{let s=0,o=0,a=0,l=0,u=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(this.imageData||this.loadPixels(),typeof i=="number")u<this.pixels.length&&(s=i,o=i,a=i,l=255);else if(Array.isArray(i)){if(i.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");u<this.pixels.length&&(s=i[0],o=i[1],a=i[2],l=i[3])}else i instanceof zt.Color&&u<this.pixels.length&&([s,o,a,l]=i._getRGBA([255,255,255,255]));for(let h=0;h<this._pixelDensity;h++)for(let c=0;c<this._pixelDensity;c++)u=4*((r*this._pixelDensity+c)*this.width*this._pixelDensity+(t*this._pixelDensity+h)),this.pixels[u]=s,this.pixels[u+1]=o,this.pixels[u+2]=a,this.pixels[u+3]=l}}updatePixels(t,r,i,s){const o=this._pixelDensity;t===void 0&&r===void 0&&i===void 0&&s===void 0&&(t=0,r=0,i=this.width,s=this.height),t*=o,r*=o,i*=o,s*=o,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=this.imageData),this.drawingContext.putImageData(this.imageData,0,0,t,r,i,s)}arc(t,r,i,s,o,a,l){const u=this.clipPa||this.drawingContext,h=t+i/2,c=r+s/2,f=i/2,d=s/2,p=!(l===Gp||l===zl||(a-o)%Si===0);return this.states.fillColor&&(this._clipping||u.beginPath(),u.ellipse(h,c,f,d,0,o,a),p&&u.lineTo(h,c),u.closePath(),this._clipping||u.fill()),this.states.strokeColor&&(this._clipping||u.beginPath(),u.ellipse(h,c,f,d,0,o,a),l===Yh&&p&&u.lineTo(h,c),(l===Yh||l===Gp)&&u.closePath(),this._clipping||u.stroke()),this}ellipse(t){const r=this.clipPath||this.drawingContext,i=!!this.states.fillColor,s=this.states.strokeColor,o=parseFloat(t[0]),a=parseFloat(t[1]),l=parseFloat(t[2]),u=parseFloat(t[3]);if(i&&!s){if(this._getFill()===ro)return this}else if(!i&&s&&this._getStroke()===ro)return this;const h=o+l/2,c=a+u/2,f=l/2,d=u/2;this._clipping||r.beginPath(),r.ellipse(h,c,f,d,0,0,2*Math.PI),r.closePath(),!this._clipping&&i&&r.fill(),!this._clipping&&s&&r.stroke()}line(t,r,i,s){const o=this.clipPath||this.drawingContext;if(this.states.strokeColor){if(this._getStroke()===ro)return this}else return this;return this._clipping||o.beginPath(),o.moveTo(t,r),o.lineTo(i,s),o.stroke(),this}point(t,r){const i=this.clipPath||this.drawingContext;if(this.states.strokeColor){if(this._getStroke()===ro)return this}else return this;const s=this._getStroke(),o=this._getFill();this._clipping||this._setFill(s),this._clipping||i.beginPath(),i.arc(t,r,i.lineWidth/2,0,Si,!1),this._clipping||(i.fill(),this._setFill(o))}quad(t,r,i,s,o,a,l,u){const h=this.clipPath||this.drawingContext,c=!!this.states.fillColor,f=this.states.strokeColor;if(c&&!f){if(this._getFill()===ro)return this}else if(!c&&f&&this._getStroke()===ro)return this;return this._clipping||h.beginPath(),h.moveTo(t,r),h.lineTo(i,s),h.lineTo(o,a),h.lineTo(l,u),h.closePath(),!this._clipping&&c&&h.fill(),!this._clipping&&f&&h.stroke(),this}rect(t){const r=t[0],i=t[1],s=t[2],o=t[3];let a=t[4],l=t[5],u=t[6],h=t[7];const c=this.clipPath||this.drawingContext,f=!!this.states.fillColor,d=this.states.strokeColor;if(f&&!d){if(this._getFill()===ro)return this}else if(!f&&d&&this._getStroke()===ro)return this;if(this._clipping||c.beginPath(),typeof a>"u")c.rect(r,i,s,o);else{typeof l>"u"&&(l=a),typeof u>"u"&&(u=l),typeof h>"u"&&(h=u);const p=Math.abs(s),m=Math.abs(o),g=p/2,v=m/2;p<2*a&&(a=g),m<2*a&&(a=v),p<2*l&&(l=g),m<2*l&&(l=v),p<2*u&&(u=g),m<2*u&&(u=v),p<2*h&&(h=g),m<2*h&&(h=v),c.roundRect(r,i,s,o,[a,l,u,h])}return!this._clipping&&this.states.fillColor&&c.fill(),!this._clipping&&this.states.strokeColor&&c.stroke(),this}triangle(t){const r=this.clipPath||this.drawingContext,i=!!this.states.fillColor,s=this.states.strokeColor,o=t[0],a=t[1],l=t[2],u=t[3],h=t[4],c=t[5];if(i&&!s){if(this._getFill()===ro)return this}else if(!i&&s&&this._getStroke()===ro)return this;this._clipping||r.beginPath(),r.moveTo(o,a),r.lineTo(l,u),r.lineTo(h,c),r.closePath(),!this._clipping&&i&&r.fill(),!this._clipping&&s&&r.stroke()}strokeCap(t){return(t===Fa||t===kb||t===Fb)&&(this.drawingContext.lineCap=t),this}strokeJoin(t){return(t===Fa||t===Mb||t===Ob)&&(this.drawingContext.lineJoin=t),this}strokeWeight(t){return super.strokeWeight(t),typeof t>"u"||t===0?this.drawingContext.lineWidth=1e-4:this.drawingContext.lineWidth=t,this}_getFill(){return this.states._cachedFillStyle||this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle),this.states._cachedFillStyle}_setFill(t){t!==this.states._cachedFillStyle&&(this.drawingContext.fillStyle=t,this.states.setValue("_cachedFillStyle",t))}_getStroke(){return this.states._cachedStrokeStyle||this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle),this.states._cachedStrokeStyle}_setStroke(t){t!==this.states._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this.states.setValue("_cachedStrokeStyle",t))}applyMatrix(t,r,i,s,o,a){this.drawingContext.transform(t,r,i,s,o,a)}getWorldToScreenMatrix(){let t=new DOMMatrix().scale(1/this._pixelDensity).multiply(this.drawingContext.getTransform());return new Rn(t.toFloat32Array())}resetMatrix(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this}rotate(t){this.drawingContext.rotate(t)}scale(t,r){return this.drawingContext.scale(t,r),this}translate(t,r){return t instanceof zt.Vector&&(r=t.y,t=t.x),this.drawingContext.translate(t,r),this}push(){return this.drawingContext.save(),super.push()}pop(t){this.drawingContext.restore(),super.pop(t)}}function mZ(n,t){n.Renderer2D=ev,n.renderers[jl]=ev,n.renderers["p2d-hdr"]=new Proxy(ev,{construct(r,[i,s,o,a,l]){return new r(i,s,o,a,l,{colorSpace:"display-p3"})}})}let zt=class Cr{static VERSION=Nb;static instance=null;static lifecycleHooks={presetup:[],postsetup:[],predraw:[],postdraw:[],remove:[]};static _checkForUserDefinedFunctions=()=>{};static _friendlyFileLoadError=()=>{};constructor(t,r){if(Cr.decorations.size>0){for(const[a,l]of Cr.decorations)for(const u in Cr.prototype)typeof Cr.prototype[u]=="function"&&a.some(h=>{if(typeof h=="string")return h===u;if(h instanceof RegExp)return h.test(u)})&&(Cr.prototype[u]=l(Cr.prototype[u],{kind:"method",name:u,access:{},static:!1,private:!1,addInitializer(h){}}));Cr.decorations.clear()}this.hitCriticalError=!1,this._setupDone=!1,this._userNode=r,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._events={},this._removeAbortController=new AbortController,this._removeSignal=this._removeAbortController.signal,this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._updateWindowSize();const i=gZ(this);if(t)t(this),Cr._checkForUserDefinedFunctions(this);else{if(this._isGlobal=!0,window.hitCriticalError)return;Cr.instance=this;for(const l of Object.getOwnPropertyNames(Cr.prototype))l[0]!=="_"&&i(l);const a=["constructor","length"];for(const l in this)if(this.hasOwnProperty(l)){if(l[0]==="_"||a.includes(l))continue;i(l)}}const s=()=>{this.focused=!0},o=()=>{this.focused=!1};window.addEventListener("focus",s),window.addEventListener("blur",o),Cr.lifecycleHooks.remove.push(function(){window.removeEventListener("focus",s),window.removeEventListener("blur",o)}),document.readyState==="complete"?this.#t():(this._startListener=this.#t.bind(this),window.addEventListener("load",this._startListener,!1))}get pixels(){return this._renderer.pixels}get drawingContext(){return this._renderer.drawingContext}static registerAddon(t){const r={};t(Cr,Cr.prototype,r);const i=Object.keys(Cr.lifecycleHooks);for(const s of i)typeof r[s]=="function"&&Cr.lifecycleHooks[s].push(r[s])}static decorations=new Map;static decorateHelper(t,r){let i=t;Array.isArray(t)||(i=[t]),Cr.decorations.set(i,r)}#e={};_customActions=new Proxy({},{get:(t,r)=>{if(!this.#e[r]){const i=this._isGlobal?window:this;typeof i[r]=="function"&&(this.#e[r]=i[r].bind(this))}return this.#e[r]}});async#t(){this.hitCriticalError||(this._userNode&&typeof this._userNode=="string"&&(this._userNode=document.getElementById(this._userNode)),await this.#n(),!this.hitCriticalError&&(this._recording||this._draw()))}async#n(){if(await this._runLifecycleHook("presetup"),this.hitCriticalError)return;this.createCanvas(100,100,jl),this._millisStart=window.performance.now();const t=this._isGlobal?window:this;if(typeof t.setup=="function"&&await t.setup(),this.hitCriticalError)return;const r=document.getElementsByTagName("canvas");for(const i of r)i.style.touchAction="none",i.dataset.hidden==="true"&&(i.style.visibility="",delete i.dataset.hidden);this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),this._setupDone=!0,(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),await this._runLifecycleHook("postsetup"),this._millisStart=window.performance.now()}async _draw(t){if(this.hitCriticalError)return;const r=t||window.performance.now(),i=r-this._lastTargetFrameTime,s=1e3/this._targetFrameRate;(!this._loop||i>=s-5)&&(this.deltaTime=r-this._lastRealFrameTime,this._frameRate=1e3/this.deltaTime,await this.redraw(),this._lastTargetFrameTime=Math.max(this._lastTargetFrameTime+s,r),this._lastRealFrameTime=r,typeof this._updateMouseCoords<"u"&&(this._updateMouseCoords(),this.movedX=0,this.movedY=0)),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw.bind(this)))}async remove(){if(this._startListener&&window.removeEventListener("load",this._startListener,!1),this._curElement){this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId),this._removeAbortController.abort();for(const t of this._elements)t.elt&&t.elt.parentNode&&t.elt.parentNode.removeChild(t.elt);await this._runLifecycleHook("remove")}if(this._isGlobal){for(const t in Cr.prototype)try{delete window[t]}catch{window[t]=void 0}for(const t in this)if(this.hasOwnProperty(t))try{delete window[t]}catch{window[t]=void 0}Cr.instance=null}}async _runLifecycleHook(t){await Promise.all(Cr.lifecycleHooks[t].map(r=>r.call(this)))}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={},this._downKeyCodes={}}};function gZ(n){return function(r){if(r==="constructor")return;const i=Object.getOwnPropertyDescriptor(n,r),s=Object.getOwnPropertyDescriptor(zt.prototype,r),o=i&&i.get||s&&s.get;let a=!1,l=!1,u;if(!o){const h=zt.prototype[r];a=typeof h=="function",!a&&Pa[r]!==void 0&&(l=!0,u=h)}if(a){const h=zt.prototype[r].bind(n);Object.defineProperty(window,r,{configurable:!0,enumerable:!0,value:h})}else if(l)Object.defineProperty(window,r,{configurable:!0,enumerable:!0,value:u});else if(o||!a){let h=null,c=null,f=null;Object.defineProperty(window,r,{configurable:!0,enumerable:!0,get:()=>{const d=n[r];return f===null?(f=typeof d=="function",f?(h=d,c=d.bind(n),c):d):f?(d!==h&&(h=d,c=d.bind(n)),c):d}})}}}for(const n in Pa)zt.prototype[n]=Pa[n];zt.registerAddon(Hb);zt.registerAddon(K5);zt.registerAddon(Z5);zt.registerAddon(gF);zt.registerAddon(bK);zt.registerAddon(mZ);zt.registerAddon(dZ);function vZ(n){n.registerAddon(Zb),n.registerAddon(Jb),n.registerAddon(Qb),n.registerAddon(ex),n.registerAddon(Yb)}function vF(n,t){const r="_Description",i="_fallbackDesc",s="_fallbackTable",o="_fte_",a="_Label",l="_labelDesc",u="_labelTable",h="_lte_";t.describe=function(d,p){if(typeof d!="string")return;const m=this.canvas.id;d=c(d),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==d&&(this.descriptions.fallback.innerHTML=d):this._describeHTML("fallback",d),p===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==d&&(this.descriptions.label.innerHTML=d):this._describeHTML("label",d))},t.describeElement=function(d,p,m){if(typeof p!="string"||typeof d!="string")return;const g=this.canvas.id;p=c(p);let v=f(d);d=d.replace(/[^a-zA-Z0-9]/g,"");let S=`<th scope="row">${v}</th><td>${p}</td>`;this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[d]?this.descriptions.fallbackElements[d].innerHTML!==S&&(this.descriptions.fallbackElements[d].innerHTML=S):this._describeElementHTML("fallback",d,S),m===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[d]?this.descriptions.labelElements[d].innerHTML!==S&&(this.descriptions.labelElements[d].innerHTML=S):this._describeElementHTML("label",d,S))};function c(d){if(d==="label"||d==="fallback")throw new Error("description should not be LABEL or FALLBACK");return!d.endsWith(".")&&!d.endsWith(";")&&!d.endsWith(",")&&!d.endsWith("?")&&!d.endsWith("!")&&(d=d+"."),d}t._describeHTML=function(d,p){const m=this.canvas.id;if(d==="fallback"){if(this.dummyDOM.querySelector(`#${m+r}`))this.dummyDOM.querySelector("#"+m+s).insertAdjacentHTML("beforebegin",`<p id="${m+i}"></p>`);else{let g=`<div id="${m}${r}" role="region" aria-label="Canvas Description"><p id="${m}${i}"></p></div>`;this.dummyDOM.querySelector(`#${m}accessibleOutput`)?this.dummyDOM.querySelector(`#${m}accessibleOutput`).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector(`#${m}`).innerHTML=g}this.descriptions.fallback=this.dummyDOM.querySelector(`#${m}${i}`),this.descriptions.fallback.innerHTML=p;return}else if(d==="label"){if(this.dummyDOM.querySelector(`#${m+a}`))this.dummyDOM.querySelector(`#${m+u}`)&&this.dummyDOM.querySelector(`#${m+u}`).insertAdjacentHTML("beforebegin",`<p id="${m}${l}"></p>`);else{let g=`<div id="${m}${a}" class="p5Label"><p id="${m}${l}"></p></div>`;this.dummyDOM.querySelector(`#${m}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${m}accessibleOutputLabel`).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",g)}this.descriptions.label=this.dummyDOM.querySelector("#"+m+l),this.descriptions.label.innerHTML=p;return}};function f(d){if(d==="label"||d==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return d.endsWith(".")||d.endsWith(";")||d.endsWith(",")?d=d.replace(/.$/,":"):d.endsWith(":")||(d=d+":"),d}t._describeElementHTML=function(d,p,m){const g=this.canvas.id;if(d==="fallback"){if(this.dummyDOM.querySelector(`#${g+r}`))this.dummyDOM.querySelector("#"+g+s)||this.dummyDOM.querySelector("#"+g+i).insertAdjacentHTML("afterend",`<table id="${g}${s}"><caption>Canvas elements and their descriptions</caption></table>`);else{let S=`<div id="${g}${r}" role="region" aria-label="Canvas Description"><table id="${g}${s}"><caption>Canvas elements and their descriptions</caption></table></div>`;this.dummyDOM.querySelector(`#${g}accessibleOutput`)?this.dummyDOM.querySelector(`#${g}accessibleOutput`).insertAdjacentHTML("beforebegin",S):this.dummyDOM.querySelector("#"+g).innerHTML=S}let v=document.createElement("tr");v.id=g+o+p,this.dummyDOM.querySelector("#"+g+s).appendChild(v),this.descriptions.fallbackElements[p]=this.dummyDOM.querySelector(`#${g}${o}${p}`),this.descriptions.fallbackElements[p].innerHTML=m;return}else if(d==="label"){if(this.dummyDOM.querySelector(`#${g+a}`))this.dummyDOM.querySelector(`#${g+u}`)||this.dummyDOM.querySelector("#"+g+l).insertAdjacentHTML("afterend",`<table id="${g+u}"></table>`);else{let S=`<div id="${g}${a}" class="p5Label"><table id="${g}${u}"></table></div>`;this.dummyDOM.querySelector(`#${g}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${g}accessibleOutputLabel`).insertAdjacentHTML("beforebegin",S):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",S)}let v=document.createElement("tr");v.id=g+h+p,this.dummyDOM.querySelector("#"+g+u).appendChild(v),this.descriptions.labelElements[p]=this.dummyDOM.querySelector(`#${g}${h}${p}`),this.descriptions.labelElements[p].innerHTML=m}}}typeof p5<"u"&&vF(p5,p5.prototype);function yF(n,t){t._updateGridOutput=function(o){if(this._renderer&&this._renderer instanceof n.RendererGL){this._didOutputGridWebGLMessage||(this._didOutputGridWebGLMessage=!0,console.error("gridOutput() does not yet work in WebGL mode."));return}if(!this.dummyDOM.querySelector(`#${o}_summary`))return;let a=this._accessibleOutputs[o],l=s(o,this.ingredients.shapes),u=i(l.numShapes,this.ingredients.colors.background,this.width,this.height),h=r(o,this.ingredients.shapes);u!==a.summary.innerHTML&&(a.summary.innerHTML=u),h!==a.map.innerHTML&&(a.map.innerHTML=h),l.details!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=l.details),this._accessibleOutputs[o]=a};function r(o,a){let l=0,u="",h=Array.from(Array(10),()=>Array(10));for(let c in a)for(let f in a[c]){let d;c!=="line"?d=`<a href="#${o}shape${l}">${a[c][f].color} ${c}</a>`:d=`<a href="#${o}shape${l}">${a[c][f].color} ${c} midpoint</a>`,a[c][f].loc.locY<h.length&&a[c][f].loc.locX<h[a[c][f].loc.locY].length&&(h[a[c][f].loc.locY][a[c][f].loc.locX]?h[a[c][f].loc.locY][a[c][f].loc.locX]=h[a[c][f].loc.locY][a[c][f].loc.locX]+"  "+d:h[a[c][f].loc.locY][a[c][f].loc.locX]=d,l++)}for(let c in h){let f="<tr>";for(let d in h[c])f=f+"<td>",h[c][d]!==void 0&&(f=f+h[c][d]),f=f+"</td>";u=u+f+"</tr>"}return u}function i(o,a,l,u){let h=`${a} canvas, ${l} by ${u} pixels, contains ${o[0]}`;return o[0]===1?h=`${h} shape: ${o[1]}`:h=`${h} shapes: ${o[1]}`,h}function s(o,a){let l="",u="",h=0;for(let c in a){let f=0;for(let d in a[c]){let p=`<li id="${o}shape${h}">${a[c][d].color} ${c},`;c==="line"?p=p+` location = ${a[c][d].pos}, length = ${a[c][d].length} pixels`:(p=p+` location = ${a[c][d].pos}`,c!=="point"&&(p=p+`, area = ${a[c][d].area} %`),p=p+"</li>"),l=l+p,f++,h++}f>1?u=`${u} ${f} ${c}s`:u=`${u} ${f} ${c}`}return{numShapes:[h,u],details:l}}}typeof p5<"u"&&yF(p5,p5.prototype);function bF(n,t){t._updateTextOutput=function(o){if(this._renderer&&this._renderer instanceof n.RendererGL){this._didOutputTextWebGLMessage||(this._didOutputTextWebGLMessage=!0,console.error("textOutput() does not yet work in WebGL mode."));return}if(!this.dummyDOM.querySelector(`#${o}_summary`))return;let a=this._accessibleOutputs[o],l=s(o,this.ingredients.shapes),u=r(l.numShapes,this.ingredients.colors.background,this.width,this.height),h=i(o,this.ingredients.shapes);u!==a.summary.innerHTML&&(a.summary.innerHTML=u),l.listShapes!==a.list.innerHTML&&(a.list.innerHTML=l.listShapes),h!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=h),this._accessibleOutputs[o]=a};function r(o,a,l,u){let h=`Your output is a, ${l} by ${u} pixels, ${a} canvas containing the following`;return o===1?h=`${h} shape:`:h=`${h} ${o} shapes:`,h}function i(o,a){let l="",u=0;for(let h in a)for(let c in a[h]){let f=`<tr id="${o}shape${u}"><th>${a[h][c].color} ${h}</th>`;h==="line"?f=f+`<td>location = ${a[h][c].pos}</td><td>length = ${a[h][c].length} pixels</td></tr>`:(f=f+`<td>location = ${a[h][c].pos}</td>`,h!=="point"&&(f=f+`<td> area = ${a[h][c].area}%</td>`),f=f+"</tr>"),l=l+f,u++}return l}function s(o,a){let l="",u=0;for(let h in a)for(let c in a[h]){let f=`<li><a href="#${o}shape${u}">${a[h][c].color} ${h}</a>`;h==="line"?f=f+`, ${a[h][c].pos}, ${a[h][c].length} pixels long.</li>`:(f=f+`, at ${a[h][c].pos}`,h!=="point"&&(f=f+`, covering ${a[h][c].area}% of the canvas`),f=f+".</li>"),l=l+f,u++}return{numShapes:u,listShapes:l}}}typeof p5<"u"&&bF(p5,p5.prototype);function xF(n,t){t.textOutput=function(s){this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),s===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},t.gridOutput=function(s){this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),s===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},t._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},t._createOutput=function(s,o){let a=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode);let l,u,h,c="";o==="Fallback"?(l=a+s,u=a+"accessibleOutput",this.dummyDOM.querySelector(`#${u}`)||(this.dummyDOM.querySelector(`#${a}_Description`)?this.dummyDOM.querySelector(`#${a}_Description`).insertAdjacentHTML("afterend",`<div id="${u}" role="region" aria-label="Canvas Outputs"></div>`):this.dummyDOM.querySelector(`#${a}`).innerHTML=`<div id="${u}" role="region" aria-label="Canvas Outputs"></div>`)):o==="Label"&&(c=o,l=a+s+o,u=a+"accessibleOutput"+o,this.dummyDOM.querySelector(`#${u}`)||(this.dummyDOM.querySelector(`#${a}_Label`)?this.dummyDOM.querySelector(`#${a}_Label`).insertAdjacentHTML("afterend",`<div id="${u}"></div>`):this.dummyDOM.querySelector(`#${a}`).insertAdjacentHTML("afterend",`<div id="${u}"></div>`))),this._accessibleOutputs[l]={},s==="textOutput"?(c=`#${a}gridOutput${c}`,h=`<div id="${l}">Text Output<div id="${l}Summary" aria-label="text output summary"><p id="${l}_summary"></p><ul id="${l}_list"></ul></div><table id="${l}_shapeDetails" summary="text output shape details"></table></div>`,this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector(`#${u}`).innerHTML=h,this._accessibleOutputs[l].list=this.dummyDOM.querySelector(`#${l}_list`)):s==="gridOutput"&&(c=`#${a}textOutput${c}`,h=`<div id="${l}">Grid Output<p id="${l}_summary" aria-label="grid output summary"><table id="${l}_map" summary="grid output content"></table><ul id="${l}_shapeDetails" aria-label="grid output shape details"></ul></div>`,this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("afterend",h):this.dummyDOM.querySelector(`#${u}`).innerHTML=h,this._accessibleOutputs[l].map=this.dummyDOM.querySelector(`#${l}_map`)),this._accessibleOutputs[l].shapeDetails=this.dummyDOM.querySelector(`#${l}_shapeDetails`),this._accessibleOutputs[l].summary=this.dummyDOM.querySelector(`#${l}_summary`)},t._updateAccsOutput=function(){let s=this.canvas.id;(JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes||this.ingredients.colors.background!==this.ingredients.pBackground)&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(s+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(s+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(s+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(s+"gridOutputLabel"))},t._accsBackground=function(s){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==s&&(this.ingredients.colors.backgroundRGBA=s,this.ingredients.colors.background=this._rgbColorName(s))},t._accsCanvasColors=function(s,o){s==="fill"?this.ingredients.colors.fillRGBA!==o&&(this.ingredients.colors.fillRGBA=o,this.ingredients.colors.fill=this._rgbColorName(o)):s==="stroke"&&this.ingredients.colors.strokeRGBA!==o&&(this.ingredients.colors.strokeRGBA=o,this.ingredients.colors.stroke=this._rgbColorName(o))},t._accsOutput=function(s,o){s==="ellipse"&&o[2]===o[3]?s="circle":s==="rectangle"&&o[2]===o[3]&&(s="square");let a={},l=!0,u=r(s,o);if(s==="line"){a.color=this.ingredients.colors.stroke,a.length=Math.round(Math.hypot(o[2]-o[0],o[3]-o[1]));let h=this._getPos(o[0],[1]),c=this._getPos(o[2],[3]);a.loc=i(u,this.width,this.height),h===c?a.pos=`at ${h}`:a.pos=`from ${h} to ${c}`}else s==="point"?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=this._getArea(s,o)),a.pos=this._getPos(...u),a.loc=i(u,this.width,this.height);if(!this.ingredients.shapes[s])this.ingredients.shapes[s]=[a];else{for(let h in this.ingredients.shapes[s])JSON.stringify(this.ingredients.shapes[s][h])===JSON.stringify(a)&&(l=!1);l===!0&&this.ingredients.shapes[s].push(a)}};function r(s,o){let a,l;return s==="rectangle"||s==="ellipse"||s==="arc"||s==="circle"||s==="square"?(a=Math.round(o[0]+o[2]/2),l=Math.round(o[1]+o[3]/2)):s==="triangle"?(a=(o[0]+o[2]+o[4])/3,l=(o[1]+o[3]+o[5])/3):s==="quadrilateral"?(a=(o[0]+o[2]+o[4]+o[6])/4,l=(o[1]+o[3]+o[5]+o[7])/4):s==="line"?(a=(o[0]+o[2])/2,l=(o[1]+o[3])/2):(a=o[0],l=o[1]),[a,l]}t._getPos=function(s,o){const{x:a,y:l}=this.worldToScreen(new n.Vector(s,o)),u=this.width,h=this.height;return a<.4*u?l<.4*h?"top left":l>.6*h?"bottom left":"mid left":a>.6*u?l<.4*h?"top right":l>.6*h?"bottom right":"mid right":l<.4*h?"top middle":l>.6*h?"bottom middle":"middle"};function i(s,o,a){let h=Math.floor(s[0]/o*10),c=Math.floor(s[1]/a*10);return h===10&&(h=h-1),c===10&&(c=c-1),{locX:h,locY:c}}t._getArea=function(s,o){let a=0;if(s==="arc"){const g=((o[5]-o[4])%(Math.PI*2)+Math.PI*2)%(Math.PI*2);if(a=g*o[2]*o[3]/8,o[6]==="open"||o[6]==="chord"){const v=o[0],S=o[1],y=o[0]+o[2]/2*Math.cos(o[4]).toFixed(2),x=o[1]+o[3]/2*Math.sin(o[4]).toFixed(2),b=o[0]+o[2]/2*Math.cos(o[5]).toFixed(2),w=o[1]+o[3]/2*Math.sin(o[5]).toFixed(2),E=Math.abs(v*(x-w)+y*(w-S)+b*(S-x))/2;g>Math.PI?a=a+E:a=a-E}}else s==="ellipse"||s==="circle"?a=3.14*o[2]/2*o[3]/2:s==="line"||s==="point"?a=0:s==="quadrilateral"?a=Math.abs((o[6]+o[0])*(o[7]-o[1])+(o[0]+o[2])*(o[1]-o[3])+(o[2]+o[4])*(o[3]-o[5])+(o[4]+o[6])*(o[5]-o[7]))/2:s==="rectangle"||s==="square"?a=o[2]*o[3]:s==="triangle"&&(a=Math.abs(o[0]*(o[3]-o[5])+o[2]*(o[5]-o[1])+o[4]*(o[1]-o[3]))/2);const l=this.width*this._renderer._pixelDensity,u=this.height*this._renderer._pixelDensity,h=[new DOMPoint(0,0),new DOMPoint(l,0),new DOMPoint(l,u),new DOMPoint(0,u)],f=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),d=h.map(g=>g.matrixTransform(f)),p=Math.abs((d[3].x+d[0].x)*(d[3].y-d[0].y)+(d[0].x+d[1].x)*(d[0].y-d[1].y)+(d[1].x+d[2].x)*(d[1].y-d[2].y)+(d[2].x+d[3].x)*(d[2].y-d[3].y))/2;return Math.round(a*100/p)}}typeof p5<"u"&&xF(p5,p5.prototype);zt.ColorConversion={_hsbaToHSLA(n){const t=n[0];let r=n[1];const i=n[2],s=(2-r)*i/2;return s!==0&&(s===1?r=0:s<.5?r=r/(2-r):r=r*i/(2-s*2)),[t,r,s,n[3]]},_hsbaToRGBA(n){const t=n[0]*6,r=n[1],i=n[2];let s=[];if(r===0)s=[i,i,i,n[3]];else{const o=Math.floor(t),a=i*(1-r),l=i*(1-r*(t-o)),u=i*(1-r*(1+o-t));let h,c,f;o===1?(h=l,c=i,f=a):o===2?(h=a,c=i,f=u):o===3?(h=a,c=l,f=i):o===4?(h=u,c=a,f=i):o===5?(h=i,c=a,f=l):(h=i,c=u,f=a),s=[h,c,f,n[3]]}return s},_hslaToHSBA(n){const t=n[0];let r=n[1];const i=n[2];let s;return i<.5?s=(1+r)*i:s=i+r-i*r,r=2*(s-i)/s,[t,r,s,n[3]]},_hslaToRGBA(n){const t=n[0]*6,r=n[1],i=n[2];let s=[];if(r===0)s=[i,i,i,n[3]];else{let o;i<.5?o=(1+r)*i:o=i+r-i*r;const a=2*i-o,l=(u,h,c)=>(u<0?u+=6:u>=6&&(u-=6),u<1?h+(c-h)*u:u<3?c:u<4?h+(c-h)*(4-u):h);s=[l(t+2,a,o),l(t,a,o),l(t-2,a,o),n[3]]}return s},_rgbaToHSBA(n){const t=n[0],r=n[1],i=n[2],s=Math.max(t,r,i),o=s-Math.min(t,r,i);let a,l;return o===0?(a=0,l=0):(l=o/s,t===s?a=(r-i)/o:r===s?a=2+(i-t)/o:i===s&&(a=4+(t-r)/o),a<0?a+=6:a>=6&&(a-=6)),[a/6,l,s,n[3]]},_rgbaToHSLA(n){const t=n[0],r=n[1],i=n[2],s=Math.max(t,r,i),o=Math.min(t,r,i),a=s+o,l=s-o;let u,h;return l===0?(u=0,h=0):(a<1?h=l/a:h=l/(2-a),t===s?u=(r-i)/l:r===s?u=2+(i-t)/l:i===s&&(u=4+(t-r)/l),u<0?u+=6:u>=6&&(u-=6)),[u/6,h,a/2,n[3]]}};var yZ=zt.ColorConversion;function _F(n,t){let r;const i=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],s=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];function o(a){let l;if(a[0]!==0){a[0]=Math.round(a[0]*100);let u=a[0].toString().split("");const h=u.length-1;u[h]=parseInt(u[h]),u[h]<2.5?u[h]=0:u[h]>=2.5&&u[h]<7.5&&(u[h]=5),u.length===2?(u[0]=parseInt(u[0]),u[h]>=7.5&&(u[h]=0,u[0]=u[0]+1),a[0]=u[0]*10+u[1]):u[h]>=7.5?a[0]=10:a[0]=u[h]}a[2]=a[2]/255;for(let u=a.length-1;u>=1;u--)a[u]<=.25?a[u]=0:a[u]>.25&&a[u]<.75?a[u]=.5:a[u]=1;if(a[0]===0&&a[1]===0&&a[2]===1){for(let u=2;u>=0;u--)r[u]=Math.round(r[u]*1e4)/1e4;for(let u=0;u<i.length;u++)if(i[u].h===r[0]&&i[u].s===r[1]&&i[u].b===r[2]){l=i[u].name;break}else l="white"}else for(let u=0;u<s.length;u++)if(s[u].h===a[0]&&s[u].s===a[1]&&s[u].b===a[2]){l=s[u].name;break}return l}t._rgbColorName=function(a){let l=yZ._rgbaToHSBA(a);return r=l,o([l[0],l[1],l[2]])}}typeof p5<"u"&&_F(p5,p5.prototype);function bZ(n){n.registerAddon(vF),n.registerAddon(yF),n.registerAddon(bF),n.registerAddon(xF),n.registerAddon(_F)}function xZ(n){n.registerAddon(qb),n.registerAddon(gN),n.registerAddon(tx)}function Ys(n){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(n)}function _Z(n,t){if(Ys(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t);if(Ys(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function wF(n){var t=_Z(n,"string");return Ys(t)=="symbol"?t:t+""}function wZ(n,t,r){return(t=wF(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function li(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&i.push.apply(i,Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),i.forEach(function(s){wZ(n,s,r[s])})}return n}function go(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function oS(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,wF(i.key),i)}}function vo(n,t,r){return t&&oS(n.prototype,t),r&&oS(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function Kl(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rf(n,t){if(t&&(Ys(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kl(n)}function gc(n){return gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gc(n)}function Hy(n,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hy(n,t)}function yg(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Hy(n,t)}var EZ={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},SZ=(function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};go(this,n),this.init(t,r)}return vo(n,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=r||EZ,this.options=i,this.debug=i.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,i,s,o){return o&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(s).concat(this.prefix," ").concat(r[0])),this.logger[i](r))}},{key:"create",value:function(r){return new n(this.logger,li({},{prefix:"".concat(this.prefix,":").concat(r,":")},this.options))}}]),n})(),Uo=new SZ,Ra=(function(){function n(){go(this,n),this.observers={}}return vo(n,[{key:"on",value:function(r,i){var s=this;return r.split(" ").forEach(function(o){s.observers[o]=s.observers[o]||[],s.observers[o].push(i)}),this}},{key:"off",value:function(r,i){if(this.observers[r]){if(!i){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(s){return s!==i})}}},{key:"emit",value:function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(this.observers[r]){var a=[].concat(this.observers[r]);a.forEach(function(u){u.apply(void 0,s)})}if(this.observers["*"]){var l=[].concat(this.observers["*"]);l.forEach(function(u){u.apply(u,[r].concat(s))})}}}]),n})();function Wc(){var n,t,r=new Promise(function(i,s){n=i,t=s});return r.resolve=n,r.reject=t,r}function aS(n){return n==null?"":""+n}function CZ(n,t,r){n.forEach(function(i){t[i]&&(r[i]=t[i])})}function px(n,t,r){function i(l){return l&&l.indexOf("###")>-1?l.replace(/###/g,"."):l}function s(){return!n||typeof n=="string"}for(var o=typeof t!="string"?[].concat(t):t.split(".");o.length>1;){if(s())return{};var a=i(o.shift());!n[a]&&r&&(n[a]=new r),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={}}return s()?{}:{obj:n,k:i(o.shift())}}function lS(n,t,r){var i=px(n,t,Object),s=i.obj,o=i.k;s[o]=r}function AZ(n,t,r,i){var s=px(n,t,Object),o=s.obj,a=s.k;o[a]=o[a]||[],o[a].push(r)}function nm(n,t){var r=px(n,t),i=r.obj,s=r.k;if(i)return i[s]}function uS(n,t,r){var i=nm(n,r);return i!==void 0?i:nm(t,r)}function EF(n,t,r){for(var i in t)i!=="__proto__"&&i!=="constructor"&&(i in n?typeof n[i]=="string"||n[i]instanceof String||typeof t[i]=="string"||t[i]instanceof String?r&&(n[i]=t[i]):EF(n[i],t[i],r):n[i]=t[i]);return n}function Au(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var TZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function IZ(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,function(t){return TZ[t]}):n}var bg=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,DZ=(function(n){yg(t,n);function t(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return go(this,t),i=rf(this,gc(t).call(this)),bg&&Ra.call(Kl(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i}return vo(t,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=[i,s];return o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split(".")),nm(this.data,u)}},{key:"addResource",value:function(i,s,o,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=this.options.keySeparator;u===void 0&&(u=".");var h=[i,s];o&&(h=h.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(h=i.split("."),a=s,s=h[1]),this.addNamespaces(s),lS(this.data,h,a),l.silent||this.emit("added",i,s,o,a)}},{key:"addResources",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in o)(typeof o[l]=="string"||Object.prototype.toString.apply(o[l])==="[object Array]")&&this.addResource(i,s,l,o[l],{silent:!0});a.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},h=[i,s];i.indexOf(".")>-1&&(h=i.split("."),a=o,o=s,s=h[1]),this.addNamespaces(s);var c=nm(this.data,h)||{};a?EF(c,o,l):c=li({},c,o),lS(this.data,h,c),u.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?li({},{},this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"toJSON",value:function(){return this.data}}]),t})(Ra),SF={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,i,s,o){var a=this;return t.forEach(function(l){a.processors[l]&&(r=a.processors[l].process(r,i,s,o))}),r}},cS={},hS=(function(n){yg(t,n);function t(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return go(this,t),i=rf(this,gc(t).call(this)),bg&&Ra.call(Kl(i)),CZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Kl(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Uo.create("translator"),i}return vo(t,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS;if(o&&i.indexOf(o)>-1){var u=i.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:i,namespaces:l};var h=i.split(o);(o!==a||o===a&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),i=h.join(a)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,o){var a=this;if(Ys(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],s),h=u.key,c=u.namespaces,f=c[c.length-1],d=s.lng||this.language,p=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(p){var m=s.nsSeparator||this.options.nsSeparator;return f+m+h}return h}var g=this.resolve(i,s),v=g&&g.res,S=g&&g.usedKey||h,y=g&&g.exactUsedKey||h,x=Object.prototype.toString.apply(v),b=["[object Number]","[object Function]","[object RegExp]"],w=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,_=typeof v!="string"&&typeof v!="boolean"&&typeof v!="number";if(E&&v&&_&&b.indexOf(x)<0&&!(typeof w=="string"&&x==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,v,s):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");if(l){var T=x==="[object Array]",C=T?[]:{},F=T?y:S;for(var k in v)if(Object.prototype.hasOwnProperty.call(v,k)){var D="".concat(F).concat(l).concat(k);C[k]=this.translate(D,li({},s,{joinArrays:!1,ns:c})),C[k]===D&&(C[k]=v[k])}v=C}}else if(E&&typeof w=="string"&&x==="[object Array]")v=v.join(w),v&&(v=this.extendTranslation(v,i,s,o));else{var N=!1,M=!1,U=s.count!==void 0&&typeof s.count!="string",R=t.hasDefaultValue(s),W=U?this.pluralResolver.getSuffix(d,s.count):"",ne=s["defaultValue".concat(W)]||s.defaultValue;!this.isValidLookup(v)&&R&&(N=!0,v=ne),this.isValidLookup(v)||(M=!0,v=h);var ge=R&&ne!==v&&this.options.updateMissing;if(M||N||ge){if(this.logger.log(ge?"updateKey":"missingKey",d,f,h,ge?ne:v),l){var te=this.resolve(h,li({},s,{keySeparator:!1}));te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var J=[],ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ae&&ae[0])for(var xe=0;xe<ae.length;xe++)J.push(ae[xe]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(s.lng||this.language):J.push(s.lng||this.language);var Z=function(ye,Q,pe){a.options.missingKeyHandler?a.options.missingKeyHandler(ye,f,Q,ge?pe:v,ge,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(ye,f,Q,ge?pe:v,ge,s),a.emit("missingKey",ye,f,Q,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?J.forEach(function(G){a.pluralResolver.getSuffixes(G).forEach(function(ye){Z([G],h+ye,s["defaultValue".concat(ye)]||ne)})}):Z(J,h,ne))}v=this.extendTranslation(v,i,s,g,o),M&&v===h&&this.options.appendNamespaceToMissingKey&&(v="".concat(f,":").concat(h)),M&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(i,s,o,a,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,o,a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(li({},o,{interpolation:li({},this.options.interpolation,o.interpolation)}));var h=o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,c;if(h){var f=i.match(this.interpolator.nestingRegexp);c=f&&f.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=li({},this.options.interpolation.defaultVariables,d)),i=this.interpolator.interpolate(i,d,o.lng||this.language,o),h){var p=i.match(this.interpolator.nestingRegexp),m=p&&p.length;c<m&&(o.nest=!1)}o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var S=arguments.length,y=new Array(S),x=0;x<S;x++)y[x]=arguments[x];return l&&l[0]===y[0]&&!o.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(y[0]," in key: ").concat(s[0])),null):u.translate.apply(u,y.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var g=o.postProcess||this.options.postProcess,v=typeof g=="string"?[g]:g;return i!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(i=SF.handle(v,i,s,this.options&&this.options.postProcessPassResolved?li({i18nResolved:a},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,l,u,h,c;return typeof i=="string"&&(i=[i]),i.forEach(function(f){if(!s.isValidLookup(a)){var d=s.extractFromKey(f,o),p=d.key;l=p;var m=d.namespaces;s.options.fallbackNS&&(m=m.concat(s.options.fallbackNS));var g=o.count!==void 0&&typeof o.count!="string",v=o.context!==void 0&&typeof o.context=="string"&&o.context!=="",S=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);m.forEach(function(y){s.isValidLookup(a)||(c=y,!cS["".concat(S[0],"-").concat(y)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(c)&&(cS["".concat(S[0],"-").concat(y)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(S.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(function(x){if(!s.isValidLookup(a)){h=x;var b=p,w=[b];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(w,p,x,y,o);else{var E;g&&(E=s.pluralResolver.getSuffix(x,o.count)),g&&v&&w.push(b+E),v&&w.push(b+="".concat(s.options.contextSeparator).concat(o.context)),g&&w.push(b+=E)}for(var _;_=w.pop();)s.isValidLookup(a)||(u=_,a=s.getResource(x,y,_,o))}}))})}}),{res:a,usedKey:l,exactUsedKey:u,usedLng:h,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,a):this.resourceStore.getResource(i,s,o,a)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),t})(Ra);function tv(n){return n.charAt(0).toUpperCase()+n.slice(1)}var NZ=(function(){function n(t){go(this,n),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Uo.create("languageUtils")}return vo(n,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var i=r.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var i=r.split("-");return this.formatLanguageCode(i[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var i=["hans","hant","latn","cyrl","cans","mong","arab"],s=r.split("-");return this.options.lowerCaseLng?s=s.map(function(o){return o.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=tv(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=tv(s[1].toLowerCase())),i.indexOf(s[2].toLowerCase())>-1&&(s[2]=tv(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isWhitelisted",value:function(r){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(r)}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var i=this;if(!r)return null;var s;return r.forEach(function(o){if(!s){var a=i.formatLanguageCode(o);(!i.options.supportedLngs||i.isSupportedCode(a))&&(s=a)}}),!s&&this.options.supportedLngs&&r.forEach(function(o){if(!s){var a=i.getLanguagePartFromCode(o);if(i.isSupportedCode(a))return s=a;s=i.options.supportedLngs.find(function(l){if(l.indexOf(a)===0)return l})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(r,i){if(!r)return[];if(typeof r=="function"&&(r=r(i)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!i)return r.default||[];var s=r[i];return s||(s=r[this.getScriptPartFromCode(i)]),s||(s=r[this.formatLanguageCode(i)]),s||(s=r[this.getLanguagePartFromCode(i)]),s||(s=r.default),s||[]}},{key:"toResolveHierarchy",value:function(r,i){var s=this,o=this.getFallbackCodes(i||this.options.fallbackLng||[],r),a=[],l=function(h){h&&(s.isSupportedCode(h)?a.push(h):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(h)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(r))):typeof r=="string"&&l(this.formatLanguageCode(r)),o.forEach(function(u){a.indexOf(u)<0&&l(s.formatLanguageCode(u))}),a}}]),n})(),FZ=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],kZ={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};function MZ(){var n={};return FZ.forEach(function(t){t.lngs.forEach(function(r){n[r]={numbers:t.nr,plurals:kZ[t.fc]}})}),n}var OZ=(function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};go(this,n),this.languageUtils=t,this.options=r,this.logger=Uo.create("pluralResolver"),this.rules=MZ()}return vo(n,[{key:"addRule",value:function(r,i){this.rules[r]=i}},{key:"getRule",value:function(r){return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var i=this.getRule(r);return i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,i){return this.getSuffixes(r).map(function(s){return i+s})}},{key:"getSuffixes",value:function(r){var i=this,s=this.getRule(r);return s?s.numbers.map(function(o){return i.getSuffix(r,o)}):[]}},{key:"getSuffix",value:function(r,i){var s=this,o=this.getRule(r);if(o){var a=o.noAbs?o.plurals(i):o.plurals(Math.abs(i)),l=o.numbers[a];this.options.simplifyPluralSuffix&&o.numbers.length===2&&o.numbers[0]===1&&(l===2?l="plural":l===1&&(l=""));var u=function(){return s.options.prepend&&l.toString()?s.options.prepend+l.toString():l.toString()};return this.options.compatibilityJSON==="v1"?l===1?"":typeof l=="number"?"_plural_".concat(l.toString()):u():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&o.numbers.length===2&&o.numbers[0]===1?u():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}return this.logger.warn("no plural rule found for: ".concat(r)),""}}]),n})(),PZ=(function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};go(this,n),this.logger=Uo.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return vo(n,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var i=r.interpolation;this.escape=i.escape!==void 0?i.escape:IZ,this.escapeValue=i.escapeValue!==void 0?i.escapeValue:!0,this.useRawValueToEscape=i.useRawValueToEscape!==void 0?i.useRawValueToEscape:!1,this.prefix=i.prefix?Au(i.prefix):i.prefixEscaped||"{{",this.suffix=i.suffix?Au(i.suffix):i.suffixEscaped||"}}",this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||",",this.unescapePrefix=i.unescapeSuffix?"":i.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":i.unescapeSuffix||"",this.nestingPrefix=i.nestingPrefix?Au(i.nestingPrefix):i.nestingPrefixEscaped||Au("$t("),this.nestingSuffix=i.nestingSuffix?Au(i.nestingSuffix):i.nestingSuffixEscaped||Au(")"),this.nestingOptionsSeparator=i.nestingOptionsSeparator?i.nestingOptionsSeparator:i.nestingOptionsSeparator||",",this.maxReplaces=i.maxReplaces?i.maxReplaces:1e3,this.alwaysFormat=i.alwaysFormat!==void 0?i.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var i="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(i,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(r,i,s,o){var a=this,l,u,h,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(v){return v.replace(/\$/g,"$$$$")}var d=function(S){if(S.indexOf(a.formatSeparator)<0){var y=uS(i,c,S);return a.alwaysFormat?a.format(y,void 0,s):y}var x=S.split(a.formatSeparator),b=x.shift().trim(),w=x.join(a.formatSeparator).trim();return a.format(uS(i,c,b),w,s,o)};this.resetRegExp();var p=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,m=o&&o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,g=[{regex:this.regexpUnescape,safeValue:function(S){return f(S)}},{regex:this.regexp,safeValue:function(S){return a.escapeValue?f(a.escape(S)):f(S)}}];return g.forEach(function(v){for(h=0;l=v.regex.exec(r);){if(u=d(l[1].trim()),u===void 0)if(typeof p=="function"){var S=p(r,l,o);u=typeof S=="string"?S:""}else if(m){u=l[0];continue}else a.logger.warn("missed to pass in variable ".concat(l[1]," for interpolating ").concat(r)),u="";else typeof u!="string"&&!a.useRawValueToEscape&&(u=aS(u));if(r=r.replace(l[0],v.safeValue(u)),v.regex.lastIndex=0,h++,h>=a.maxReplaces)break}}),r}},{key:"nest",value:function(r,i){var s=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,l,u=li({},o);u.applyPostProcessor=!1,delete u.defaultValue;function h(p,m){var g=this.nestingOptionsSeparator;if(p.indexOf(g)<0)return p;var v=p.split(new RegExp("".concat(g,"[ ]*{"))),S="{".concat(v[1]);p=v[0],S=this.interpolate(S,u),S=S.replace(/'/g,'"');try{u=JSON.parse(S),m&&(u=li({},m,u))}catch(y){return this.logger.warn("failed parsing options string in nesting for key ".concat(p),y),"".concat(p).concat(g).concat(S)}return delete u.defaultValue,p}for(;a=this.nestingRegexp.exec(r);){var c=[],f=!1;if(a[0].includes(this.formatSeparator)&&!/{.*}/.test(a[1])){var d=a[1].split(this.formatSeparator).map(function(p){return p.trim()});a[1]=d.shift(),c=d,f=!0}if(l=i(h.call(this,a[1].trim(),u),u),l&&a[0]===r&&typeof l!="string")return l;typeof l!="string"&&(l=aS(l)),l||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(r)),l=""),f&&(l=c.reduce(function(p,m){return s.format(p,m,o.lng,o)},l.trim())),r=r.replace(a[0],l),this.regexp.lastIndex=0}return r}}]),n})();function LZ(n,t){for(var r=n.indexOf(t);r!==-1;)n.splice(r,1),r=n.indexOf(t)}var RZ=(function(n){yg(t,n);function t(r,i,s){var o,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return go(this,t),o=rf(this,gc(t).call(this)),bg&&Ra.call(Kl(o)),o.backend=r,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=a,o.logger=Uo.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,a.backend,a),o}return vo(t,[{key:"queueLoad",value:function(i,s,o,a){var l=this,u=[],h=[],c=[],f=[];return i.forEach(function(d){var p=!0;s.forEach(function(m){var g="".concat(d,"|").concat(m);!o.reload&&l.store.hasResourceBundle(d,m)?l.state[g]=2:l.state[g]<0||(l.state[g]===1?h.indexOf(g)<0&&h.push(g):(l.state[g]=1,p=!1,h.indexOf(g)<0&&h.push(g),u.indexOf(g)<0&&u.push(g),f.indexOf(m)<0&&f.push(m)))}),p||c.push(d)}),(u.length||h.length)&&this.queue.push({pending:h,loaded:{},errors:[],callback:a}),{toLoad:u,pending:h,toLoadLanguages:c,toLoadNamespaces:f}}},{key:"loaded",value:function(i,s,o){var a=i.split("|"),l=a[0],u=a[1];s&&this.emit("failedLoading",l,u,s),o&&this.store.addResourceBundle(l,u,o),this.state[i]=s?-1:2;var h={};this.queue.forEach(function(c){AZ(c.loaded,[l],u),LZ(c.pending,i),s&&c.errors.push(s),c.pending.length===0&&!c.done&&(Object.keys(c.loaded).forEach(function(f){h[f]||(h[f]=[]),c.loaded[f].length&&c.loaded[f].forEach(function(d){h[f].indexOf(d)<0&&h[f].push(d)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,s,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,h=arguments.length>5?arguments[5]:void 0;return i.length?this.backend[o](i,s,function(c,f){if(c&&f&&l<5){setTimeout(function(){a.read.call(a,i,s,o,l+1,u*2,h)},u);return}h(c,f)}):h(null,{})}},{key:"prepareLoading",value:function(i,s){var o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,a,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(h){o.loadOne(h)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=i.split("|"),l=a[0],u=a[1];this.read(l,u,"read",void 0,void 0,function(h,c){h&&s.logger.warn("".concat(o,"loading namespace ").concat(u," for language ").concat(l," failed"),h),!h&&c&&s.logger.log("".concat(o,"loaded namespace ").concat(u," for language ").concat(l),c),s.loaded(i,h,c)})}},{key:"saveMissing",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}o==null||o===""||(this.backend&&this.backend.create&&this.backend.create(i,s,o,a,null,li({},u,{isUpdate:l})),!(!i||!i[0])&&this.store.addResource(i[0],s,o,a))}}]),t})(Ra);function BZ(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(Ys(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),Ys(t[2])==="object"||Ys(t[3])==="object"){var i=t[3]||t[2];Object.keys(i).forEach(function(s){r[s]=i[s]})}return r},interpolation:{escapeValue:!0,format:function(t,r,i,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function fS(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.whitelist&&(n.whitelist&&n.whitelist.indexOf("cimode")<0&&(n.whitelist=n.whitelist.concat(["cimode"])),n.supportedLngs=n.whitelist),n.nonExplicitWhitelist&&(n.nonExplicitSupportedLngs=n.nonExplicitWhitelist),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function Sd(){}var UZ=(function(n){yg(t,n);function t(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(go(this,t),r=rf(this,gc(t).call(this)),bg&&Ra.call(Kl(r)),r.options=fS(i),r.services={},r.logger=Uo,r.modules={external:[]},s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),rf(r,Kl(r));setTimeout(function(){r.init(i,s)},0)}return r}return vo(t,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),s.whitelist&&!s.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),s.nonExplicitWhitelist&&!s.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=li({},BZ(),this.options,fS(s)),this.format=this.options.interpolation.format,o||(o=Sd);function a(m){return m?typeof m=="function"?new m:m:null}if(!this.options.isClone){this.modules.logger?Uo.init(a(this.modules.logger),this.options):Uo.init(null,this.options);var l=new NZ(this.options);this.store=new DZ(this.options.resources,this.options);var u=this.services;u.logger=Uo,u.resourceStore=this.store,u.languageUtils=l,u.pluralResolver=new OZ(l,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u.interpolator=new PZ(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new RZ(a(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(m){for(var g=arguments.length,v=new Array(g>1?g-1:0),S=1;S<g;S++)v[S-1]=arguments[S];i.emit.apply(i,[m].concat(v))}),this.modules.languageDetector&&(u.languageDetector=a(this.modules.languageDetector),u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=a(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new hS(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,v=new Array(g>1?g-1:0),S=1;S<g;S++)v[S-1]=arguments[S];i.emit.apply(i,[m].concat(v))}),this.modules.external.forEach(function(m){m.init&&m.init(i)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach(function(m){i[m]=function(){var g;return(g=i.store)[m].apply(g,arguments)}});var f=["addResource","addResources","addResourceBundle","removeResourceBundle"];f.forEach(function(m){i[m]=function(){var g;return(g=i.store)[m].apply(g,arguments),i}});var d=Wc(),p=function(){var g=function(S,y){i.isInitialized&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),d.resolve(y),o(S,y)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return g(null,i.t.bind(i));i.changeLanguage(i.options.lng,g)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),d}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sd,a=o,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return a();var u=[],h=function(d){if(d){var p=s.services.languageUtils.toResolveHierarchy(d);p.forEach(function(m){u.indexOf(m)<0&&u.push(m)})}};if(l)h(l);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(f){return h(f)})}this.options.preload&&this.options.preload.forEach(function(f){return h(f)}),this.services.backendConnector.load(u,this.options.ns,a)}else a(null)}},{key:"reloadResources",value:function(i,s,o){var a=Wc();return i||(i=this.languages),s||(s=this.options.ns),o||(o=Sd),this.services.backendConnector.reload(i,s,function(l){a.resolve(),o(l)}),a}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&SF.addPostProcessor(i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var a=Wc();this.emit("languageChanging",i);var l=function(c,f){f?(o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f),o.translator.changeLanguage(f),o.isLanguageChangingTo=void 0,o.emit("languageChanged",f),o.logger.log("languageChanged",f)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),s&&s(c,function(){return o.t.apply(o,arguments)})},u=function(c){var f=typeof c=="string"?c:o.services.languageUtils.getBestMatchFromCodes(c);f&&(o.language||(o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f)),o.translator.language||o.translator.changeLanguage(f),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage(f)),o.loadResources(f,function(d){l(d,f)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(u):u(i),a}},{key:"getFixedT",value:function(i,s){var o=this,a=function l(u,h){var c;if(Ys(h)!=="object"){for(var f=arguments.length,d=new Array(f>2?f-2:0),p=2;p<f;p++)d[p-2]=arguments[p];c=o.options.overloadTranslationOptionHandler([u,h].concat(d))}else c=li({},h);return c.lng=c.lng||l.lng,c.lngs=c.lngs||l.lngs,c.ns=c.ns||l.ns,o.t(u,c)};return typeof i=="string"?a.lng=i:a.lngs=i,a.ns=s,a}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var h=function(d,p){var m=s.services.backendConnector.state["".concat(d,"|").concat(p)];return m===-1||m===2};if(o.precheck){var c=o.precheck(this,h);if(c!==void 0)return c}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||h(a,i)&&(!l||h(u,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,a=Wc();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){o.options.ns.indexOf(l)<0&&o.options.ns.push(l)}),this.loadResources(function(l){a.resolve(),s&&s(l)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=Wc();typeof i=="string"&&(i=[i]);var a=this.options.preload||[],l=i.filter(function(u){return a.indexOf(u)<0});return l.length?(this.options.preload=a.concat(l),this.loadResources(function(u){o.resolve(),s&&s(u)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.languages&&this.languages.length>0?this.languages[0]:this.language),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return s.indexOf(this.services.languageUtils.getLanguagePartFromCode(i))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new t(i,s)}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sd,a=li({},this.options,s,{isClone:!0}),l=new t(a),u=["store","services","language"];return u.forEach(function(h){l[h]=i[h]}),l.services=li({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new hS(l.services,l.options),l.translator.on("*",function(h){for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];l.emit.apply(l,[h].concat(f))}),l.init(a,o),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}}]),t})(Ra),CF=new UZ,AF=[],VZ=AF.forEach,$Z=AF.slice;function jZ(n){return VZ.call($Z.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n}var dS={create:function(t,r,i,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/"},a;if(i){var l=new Date;l.setTime(l.getTime()+i*60*1e3),a="; expires="+l.toUTCString()}else a="";s=s?"domain="+s+";":"",o=Object.keys(o).reduce(function(u,h){return u+";"+h.replace(/([A-Z])/g,function(c){return"-"+c.toLowerCase()})+"="+o[h]},""),document.cookie=t+"="+encodeURIComponent(r)+a+";"+s+o},read:function(t){for(var r=t+"=",i=document.cookie.split(";"),s=0;s<i.length;s++){for(var o=i[s];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(r)===0)return o.substring(r.length,o.length)}return null},remove:function(t){this.create(t,"",-1)}},zZ={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var i=dS.read(t.lookupCookie);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&dS.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},GZ={name:"querystring",lookup:function(t){var r;if(typeof window<"u")for(var i=window.location.search.substring(1),s=i.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("=");if(a>0){var l=s[o].substring(0,a);l===t.lookupQuerystring&&(r=s[o].substring(a+1))}}return r}},rm;try{rm=window!=="undefined"&&window.localStorage!==null;var pS="i18next.translate.boo";window.localStorage.setItem(pS,"foo"),window.localStorage.removeItem(pS)}catch{rm=!1}var HZ={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&rm){var i=window.localStorage.getItem(t.lookupLocalStorage);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&rm&&window.localStorage.setItem(r.lookupLocalStorage,t)}},im;try{im=window!=="undefined"&&window.sessionStorage!==null;var mS="i18next.translate.boo";window.sessionStorage.setItem(mS,"foo"),window.sessionStorage.removeItem(mS)}catch{im=!1}var WZ={name:"sessionStorage",lookup:function(t){var r;if(t.lookupsessionStorage&&im){var i=window.sessionStorage.getItem(t.lookupsessionStorage);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupsessionStorage&&im&&window.sessionStorage.setItem(r.lookupsessionStorage,t)}},XZ={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)r.push(navigator.languages[i]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},qZ={name:"htmlTag",lookup:function(t){var r,i=t.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(r=i.getAttribute("lang")),r}},YZ={name:"path",lookup:function(t){var r;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof i[t.lookupFromPathIndex]!="string")return;r=i[t.lookupFromPathIndex].replace("/","")}else r=i[0].replace("/","")}return r}},KZ={name:"subdomain",lookup:function(t){var r;if(typeof window<"u"){var i=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);i instanceof Array&&(typeof t.lookupFromSubdomainIndex=="number"?r=i[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):r=i[0].replace("http://","").replace("https://","").replace(".",""))}return r}};function ZZ(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0,checkForSimilarInWhitelist:!1}}var TF=(function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};go(this,n),this.type="languageDetector",this.detectors={},this.init(t,r)}return vo(n,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=jZ(i,this.options||{},ZZ()),this.options.checkForSimilarInWhitelist&&(this.options.checkWhitelist=!0),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(zZ),this.addDetector(GZ),this.addDetector(HZ),this.addDetector(WZ),this.addDetector(XZ),this.addDetector(qZ),this.addDetector(YZ),this.addDetector(KZ)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var i=this;r||(r=this.options.order);var s=[];r.forEach(function(l){if(i.detectors[l]){var u=i.detectors[l].lookup(i.options);u&&typeof u=="string"&&(u=[u]),u&&(s=s.concat(u))}});var o;if(s.forEach(function(l){if(!o){var u=i.services.languageUtils.formatLanguageCode(l);(!i.options.checkWhitelist||i.services.languageUtils.isWhitelisted(u))&&(o=u),!o&&i.options.checkForSimilarInWhitelist&&(o=i.getSimilarInWhitelist(u))}}),!o){var a=this.i18nOptions.fallbackLng;typeof a=="string"&&(a=[a]),a||(a=[]),Object.prototype.toString.apply(a)==="[object Array]"?o=a[0]:o=a[0]||a.default&&a.default[0]}return o}},{key:"cacheUserLanguage",value:function(r,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||i.forEach(function(o){s.detectors[o]&&s.detectors[o].cacheUserLanguage(r,s.options)}))}},{key:"getSimilarInWhitelist",value:function(r){var i=this;if(this.i18nOptions.whitelist){if(r.includes("-")){var s=r.split("-")[0],o=this.services.languageUtils.formatLanguageCode(s);if(this.services.languageUtils.isWhitelisted(o))return o;r=o}var a=this.i18nOptions.whitelist.find(function(l){var u=i.services.languageUtils.formatLanguageCode(l);if(u.startsWith(r))return u});if(a)return a}}}]),n})();TF.type="languageDetector";var JZ={autoplay:`The media that tried to play (with '{{src}}') wasn't allowed to by this browser, most likely due to the browser's autoplay policy.

+ More info: {{url}}`,checkUserDefinedFns:"It seems that you may have accidentally written {{name}} instead of {{actualName}}. Please correct it if it's not intentional.",fileLoadError:{bytes:"It looks like there was a problem loading your file. {{suggestion}}",font:"It looks like there was a problem loading your font. {{suggestion}}",gif:"There was some trouble loading your GIF. Make sure that your GIF is using 87a or 89a encoding.",image:"It looks like there was a problem loading your image. {{suggestion}}",json:"It looks like there was a problem loading your JSON file. {{suggestion}}",large:"If your large file isn't fetched successfully, we recommend splitting the file into smaller segments and fetching those.",strings:"It looks like there was a problem loading your text file. {{suggestion}}",suggestion:`Try checking if the file path ({{filePath}}) is correct, hosting the file online, or running a local server.

+ More info: {{url}}`,table:"It looks like there was a problem loading your table file. {{suggestion}}",xml:"It looks like there was a problem loading your XML file. {{suggestion}}"},friendlyParamError:{type_EMPTY_VAR:`{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received an empty variable instead. If not intentional, this is often a problem with scope.

+ More info: {{url}}`,type_TOO_FEW_ARGUMENTS:"{{location}} {{func}}() was expecting at least {{minParams}} arguments, but received only {{argCount}}.",type_TOO_MANY_ARGUMENTS:"{{location}} {{func}}() was expecting no more than {{maxParams}} arguments, but received {{argCount}}.",type_WRONG_TYPE:"{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received {{argType}} instead."},globalErrors:{reference:{cannotAccess:`
{{location}} "{{symbol}}" is used before declaration. Make sure you have declared the variable before using it.

+ More info: {{url}}`,notDefined:`
{{location}} "{{symbol}}" is not defined in the current scope. If you have defined it in your code, you should check its scope, spelling, and letter-casing (JavaScript is case-sensitive).

+ More info: {{url}}`},stackSubseq:`[{{location}}] 
	 Called from line {{line}} in {{func}}()
`,stackTop:`[{{location}}] 
	 Error at line {{line}} in {{func}}()
`,syntax:{badReturnOrYield:`
Syntax Error - return lies outside of a function. Make sure youre not missing any brackets, so that return lies inside a function.

+ More info: {{url}}`,invalidToken:`
Syntax Error - Found a symbol that JavaScript doesn't recognize or didn't expect at it's place.

+ More info: {{url}}`,missingInitializer:`
Syntax Error - A const variable is declared but not initialized. In JavaScript, an initializer for a const is required. A value must be specified in the same statement in which the variable is declared. Check the line number in the error and assign the const variable a value.

+ More info: {{url}}`,redeclaredVariable:`
Syntax Error - "{{symbol}}" is being redeclared. JavaScript doesn't allow declaring a variable more than once. Check the line number in error for redeclaration of the variable.

+ More info: {{url}}`,unexpectedToken:`
Syntax Error - Symbol present at a place that wasn't expected.
Usually this is due to a typo. Check the line number in the error for anything missing/extra.

+ More info: {{url}}`},type:{constAssign:`
{{location}} A const variable is being re-assigned. In javascript, re-assigning a value to a constant is not allowed. If you want to re-assign new values to a variable, make sure it is declared as var or let.

+ More info: {{url}}`,notfunc:`
{{location}} "{{symbol}}" could not be called as a function.
Check the spelling, letter-casing (JavaScript is case-sensitive) and its type.

+ More info: {{url}}`,notfuncObj:`
{{location}} "{{symbol}}" could not be called as a function.
Verify whether "{{obj}}" has "{{symbol}}" in it and check the spelling, letter-casing (JavaScript is case-sensitive) and its type.

+ More info: {{url}}`,readFromNull:`
{{location}} The property of null can't be read. In javascript the value null indicates that an object has no value.

+ More info: {{url}}`,readFromUndefined:`
{{location}} Cannot read property of undefined. Check the line number in error and make sure the variable which is being operated is not undefined.

 + More info: {{url}}`}},libraryError:'{{location}} An error with message "{{error}}" occurred inside the p5js library when {{func}} was called. If not stated otherwise, it might be an issue with the arguments passed to {{func}}.',location:"[{{file}}, line {{line}}]",misspelling:'{{location}} It seems that you may have accidentally written "{{name}}" instead of "{{actualName}}". Please correct it to {{actualName}} if you wish to use the {{type}} from p5.js.',misspelling_plural:`{{location}} It seems that you may have accidentally written "{{name}}".
You may have meant one of the following: 
{{suggestions}}`,misusedTopLevel:`Did you just try to use p5.js's {{symbolName}} {{symbolType}}? If so, you may want to move it into your sketch's setup() function.

+ More info: {{url}}`,preloadDisabled:"The preload() function has been removed in p5.js 2.0. Please load assets in setup() using async / await keywords or callbacks instead. See https://github.com/processing/p5.js-compatibility for more information about 2.0 and compatibility, or https://dev.to/limzykenneth/asynchronous-p5js-20-458f for more information about promises and async/await.",positions:{p_1:"first",p_10:"tenth",p_11:"eleventh",p_12:"twelfth",p_2:"second",p_3:"third",p_4:"fourth",p_5:"fifth",p_6:"sixth",p_7:"seventh",p_8:"eighth",p_9:"ninth"},pre:`
 p5.js says: {{message}}`,sketchReaderErrors:{reservedConst:`you have used a p5.js reserved variable "{{symbol}}" make sure you change the variable name to something else.

+ More info: {{url}}`,reservedFunc:`you have used a p5.js reserved function "{{symbol}}" make sure you change the function name to something else.

+ More info: {{url}}`},welcome:"Welcome! This is your friendly debugger. To turn me off, switch to using p5.min.js.",wrongPreload:'{{location}} An error with message "{{error}}" occurred inside the p5js library when "{{func}}" was called. If not stated otherwise, it might be due to "{{func}}" being called from preload. Nothing besides load calls (loadImage, loadJSON, loadFont, loadStrings, etc.) should be inside the preload function.'},QZ={fes:JZ},wh={en:{translation:QZ}};const eJ=["en","es","ko","zh","hi","ja"];if(typeof IS_MINIFIED>"u"&&typeof P5_DEV_BUILD<"u"){let n=require("../../translations/dev");for(const t of Object.keys(n)){const r=t.split("_"),i=r.slice(0,r.length-1).join("-"),s=r[r.length-1];wh[i]=wh[i]||{},wh[i][s]=n[t]}}class IF{constructor(t,r){this.init(t,r)}fetchWithTimeout(t,r,i=2e3){return Promise.race([fetch(t,r),new Promise((s,o)=>setTimeout(()=>o(new Error("timeout")),i))])}init(t,r={}){this.services=t,this.options=r}read(t,r,i){const s=this.options.loadPath;if(t===this.options.fallback)i(null,wh[t][r]);else if(eJ.includes(t)){const o=this.services.interpolator.interpolate(s,{lng:t,ns:r});this.loadUrl(o,i)}else i("Not found",!1)}loadUrl(t,r){this.fetchWithTimeout(t).then(i=>{if(!i.ok)throw new Error(`failed loading ${t}`);return i.json()},()=>{throw new Error(`failed loading ${t}`)}).then(i=>r(null,i)).catch(r)}}IF.type="backend";let jt=(n,t)=>{console.debug("p5.js translator called before translations were loaded"),CF.t(n,t)};const tJ=()=>CF.use(TF).use(IF).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:`https://cdn.jsdelivr.net/npm/p5@${Nb.replace(/^(\d+\.\d+)\.\d+.*$/,"$1")}/translations/{{lng}}/{{ns}}.json`},partialBundledLanguages:!0,resources:wh}).then(t=>{jt=t},t=>console.debug(`Translations failed to load (${t})`)),nJ={ReferenceError:[{msg:"{{}} is not defined",type:"NOTDEFINED",browser:"all"},{msg:"Can't find variable: {{}}",type:"NOTDEFINED",browser:"Safari"},{msg:"Cannot access '{{.}}' before initialization",type:"CANNOTACCESS",browser:"Chrome"},{msg:"can't access lexical declaration '{{.}}' before initialization",type:"CANNOTACCESS",browser:"Firefox"}],SyntaxError:[{msg:"illegal character",type:"INVALIDTOKEN",browser:"Firefox"},{msg:"Invalid character",type:"INVALIDTOKEN",browser:"Safari"},{msg:"Invalid or unexpected token",type:"INVALIDTOKEN",browser:"Chrome"},{msg:"Unexpected token '{{.}}'",type:"UNEXPECTEDTOKEN",browser:"Chrome"},{msg:"expected {{.}}, got '{{.}}'",type:"UNEXPECTEDTOKEN",browser:"Chrome"},{msg:"Identifier '{{.}}' has already been declared",type:"REDECLAREDVARIABLE",browser:"Chrome"},{msg:"redeclaration of {} {{.}}",type:"REDECLAREDVARIABLE",browser:"Firefox"},{msg:"Missing initializer in const declaration",type:"MISSINGINITIALIZER",browser:"Chrome"},{msg:"missing = in const declaration",type:"MISSINGINITIALIZER",browser:"Firefox"},{msg:"Illegal return statement",type:"BADRETURNORYIELD",browser:"Chrome"},{msg:"return not in function",type:"BADRETURNORYIELD",browser:"Firefox"}],TypeError:[{msg:"{{.}} is not a function",type:"NOTFUNC",browser:"all"},{msg:"Cannot read {{.}} null",type:"READNULL",browser:"Chrome"},{msg:"{{.}} is null",type:"READNULL",browser:"Firefox"},{msg:"Cannot read {{.}} undefined",type:"READUDEFINED",browser:"Chrome"},{msg:"{{.}} is undefined",type:"READUDEFINED",browser:"Firefox"},{msg:"Assignment to constant variable",type:"CONSTASSIGN",browser:"Chrome"},{msg:"invalid assignment to const '{{.}}'",type:"CONSTASSIGN",browser:"Firefox"}]};function DF(n,t){const r=["#2D7BB6","#EE9900","#4DB200","#C83C00"];let i=null,s=null;const o=2;class a extends Error{}if(typeof IS_MINIFIED<"u")n._friendlyError=n._checkForUserDefinedFunctions=n._fesErrorMonitor=()=>{};else{const h={},c=h.toString,f=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"];for(let w=0;w<f.length;w++)h[`[object ${f[w]}]`]=f[w].toLowerCase();const d=w=>w==null?`${w}`:typeof w=="object"||typeof w=="function"?h[c.call(w)]||"object":typeof w,p=["setup","draw","deviceMoved","deviceTurned","deviceShaken","doubleClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","mouseClicked","mouseWheel","touchStarted","touchMoved","touchEnded","keyPressed","keyReleased","keyTyped","windowResized"],m=(w,E)=>{let _="";if(E==null||E.substring(0,4)==="load")_=w;else{const T=E.split("."),C=T.length>1?`${T[0]}.${T[1]}`:"p5",F=T.length===1?E:T.slice(2).join("/");F.startsWith("p5.")?_=`${w} (https://p5js.org/reference/${C}.${F})`:_=`${w} (https://p5js.org/reference/${C}/${F})`}return _};n._report=(w,E,_)=>{const T=n._fesLogger==null?console.log.bind(console):n._fesLogger;d(_)==="undefined"?_="#B40033":d(_)==="number"&&(_=r[_]),w=m(w,E);const C=jt("fes.pre",{message:w});T(C)},n._error=(w,E,_)=>{throw n._report(E,_),w.hitCriticalError=!0,new a("Stopping sketch to prevent more errors")},n._friendlyError=function(w,E,_){n.disableFriendlyErrors||n._report(w,E,_)},n._friendlyAutoplayError=function(w){const E=jt("fes.autoplay",{src:w,url:"https://developer.mozilla.org/docs/Web/Media/Autoplay_guide"});console.log(jt("fes.pre",{message:E}))};const g=(w,E)=>{const _=w.length,T=E.length;if(_===0)return E;if(T===0)return w;let C=[],F=[];for(let k=0;k<T+1;k++)F[k]=k;C=F;for(let k=1;k<_+1;k++){F=[];for(let D=0;D<T+1;D++)if(D===0)F[D]=k;else{let N=w[k-1],M=E[D-1],U=999999,R=N.toLowerCase()===M.toLowerCase()?0:1;U=U>R+C[D-1]?R+C[D-1]:U,U=U>1+F[D-1]?1+F[D-1]:U,U=U>1+C[D]?1+C[D]:U,F[D]=U}C=F}return F[T]};n.isPreloadSupported=function(){return!1};const v=w=>{if(n.disableFriendlyErrors)return;w=w instanceof n?w:window;const _=p;w.preload&&!n.isPreloadSupported()&&n._error(w,jt("fes.preloadDisabled"));const T={};_.forEach(C=>{T[C.toLowerCase()]=C});for(const C of Object.keys(w)){const F=C.toLowerCase();if(T.hasOwnProperty(F)&&!w[T[F]]&&typeof w[C]=="function"){const k=jt("fes.checkUserDefinedFns",{name:C,actualName:T[F]});n._friendlyError(k,T[F])}}},S=(w,E)=>{i||s();const _={};let T=999999;if(i.forEach(F=>{let k=g(w,F.name);_[k]?_[k].push(F):_[k]=[F],k<T&&(T=k)}),T>Math.min(o,w.length))return!1;const C=_[T].filter(F=>F.name!==w);if(C.length!==0){const F=n._getErrorStackParser().parse(E);let k;F&&F[0]&&F[0].fileName&&F[0].lineNumber&&F[0].columnNumber&&(k={location:`${F[0].fileName}:${F[0].lineNumber}:${F[0].columnNumber}`,file:F[0].fileName.split("/").slice(-1),line:F[0].lineNumber});let D;if(C.length===1)D=jt("fes.misspelling",{name:w,actualName:C[0].name,type:C[0].type,location:k?jt("fes.location",k):"",count:C.length});else{const N=C.map(M=>{const U=" "+M.name+(M.type==="function"?"()":"");return m(U,M.name)}).join(`
`);D=jt("fes.misspelling",{name:w,suggestions:N,location:k?jt("fes.location",k):"",count:C.length})}return n._friendlyError(D,C.length===1?C[0].name:void 0),!0}return!1},y=w=>{const E=n._fesLogger&&typeof n._fesLogger=="function"?n._fesLogger:console.log.bind(console);if(w.length>1){let _="";w.forEach((T,C)=>{const F=`${T.fileName}:${T.lineNumber}:${T.columnNumber}`;let k,D={func:T.functionName,line:T.lineNumber,location:F,file:T.fileName.split("/").slice(-1)};C===0?k=jt("fes.globalErrors.stackTop",D):k=jt("fes.globalErrors.stackSubseq",D),_+=k}),E(_)}},x=(w,E)=>{if(!E)return[!1,null];E.forEach(k=>{k.functionName=k.functionName||""});let _=!1,T,C,F;try{throw new Error}catch(k){T=n._getErrorStackParser().parse(k)[0].fileName}for(let k=E.length-1;k>=0;k--){let D=E[k].functionName.split(".");if(p.includes(D[D.length-1])){if(C=E.slice(0,k+1),F=D[D.length-1],E[0].fileName===T){_=!0;break}break}}if(C||(C=E),_){if(C=C.map((N,M)=>(N.frameIndex=M,N)).filter(N=>N.fileName!==T),C.length===0)return[!0,null];const k=E[C[0].frameIndex-1].functionName.split(".").slice(-1)[0];let D;if(C[0].fileName&&C[0].lineNumber&&C[0].columnNumber&&(D={location:`${C[0].fileName}:${C[0].lineNumber}:${C[0].columnNumber}`,file:C[0].fileName.split("/").slice(-1),line:C[0].lineNumber},n._fesLogCache[D.location]))return[!0,null];F==="preload"&&t._preloadMethods[k]==null?n._friendlyError(jt("fes.wrongPreload",{func:k,location:D?jt("fes.location",D):"",error:w.message}),"preload"):n._friendlyError(jt("fes.libraryError",{func:k,location:D?jt("fes.location",D):"",error:w.message}),k),C&&C.length&&y(C)}return[_,C]},b=w=>{if(n.disableFriendlyErrors||w&&(w instanceof a||w.reason instanceof a))return;let E;if(w instanceof Error)E=w;else if(w instanceof ErrorEvent)E=w.error;else if(w instanceof PromiseRejectionEvent&&(E=w.reason,!(E instanceof Error)))return;if(!E)return;let _=n._getErrorStackParser().parse(E),[T,C]=x(E,_);if(T)return;const F=nJ[E.name];if(!F)return;let k;for(const N of F){let M=N.msg;M=M.replace(new RegExp("{{}}","g"),"([a-zA-Z0-9_]+)"),M=M.replace(new RegExp("{{.}}","g"),"(.+)"),M=M.replace(new RegExp("{}","g"),"(?:[a-zA-Z0-9_]+)");let U=E.message.match(M);if(U){k=Object.assign({},N),k.match=U;break}}if(!k)return;let D;switch(_&&_[0].fileName&&_[0].lineNumber&&_[0].columnNumber&&(D={location:`${_[0].fileName}:${_[0].lineNumber}:${_[0].columnNumber}`,file:_[0].fileName.split("/").slice(-1),line:C[0].lineNumber}),E.name){case"SyntaxError":{switch(k.type){case"INVALIDTOKEN":{n._friendlyError(jt("fes.globalErrors.syntax.invalidToken",{url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Illegal_character#What_went_wrong"}));break}case"UNEXPECTEDTOKEN":{n._friendlyError(jt("fes.globalErrors.syntax.unexpectedToken",{url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Unexpected_token#What_went_wrong"}));break}case"REDECLAREDVARIABLE":{let N=k.match[1];n._friendlyError(jt("fes.globalErrors.syntax.redeclaredVariable",{symbol:N,url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Redeclared_parameter#what_went_wrong"}));break}case"MISSINGINITIALIZER":{n._friendlyError(jt("fes.globalErrors.syntax.missingInitializer",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Missing_initializer_in_const#what_went_wrong"}));break}case"BADRETURNORYIELD":{n._friendlyError(jt("fes.globalErrors.syntax.badReturnOrYield",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Bad_return_or_yield#what_went_wrong"}));break}}break}case"ReferenceError":{switch(k.type){case"NOTDEFINED":{let N=k.match[1];if(N&&S(N,E))break;n._friendlyError(jt("fes.globalErrors.reference.notDefined",{url:"https://p5js.org/examples/data-variable-scope.html",symbol:N,location:D?jt("fes.location",D):""})),C&&y(C);break}case"CANNOTACCESS":{let N=k.match[1];n._friendlyError(jt("fes.globalErrors.reference.cannotAccess",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_lexical_declaration_before_init#what_went_wrong",symbol:N,location:D?jt("fes.location",D):""})),C&&y(C);break}}break}case"TypeError":switch(k.type){case"NOTFUNC":{let M=k.match[1].split("."),R={url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Not_a_function#What_went_wrong",symbol:M[M.length-1],obj:M.slice(0,M.length-1).join("."),location:D?jt("fes.location",D):""};M.length>1?n._friendlyError(jt("fes.globalErrors.type.notfuncObj",R)):n._friendlyError(jt("fes.globalErrors.type.notfunc",R)),C&&y(C);break}case"READNULL":{let N=k.match[1];n._friendlyError(jt("fes.globalErrors.type.readFromNull",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong",symbol:N,location:D?jt("fes.location",D):""})),C&&y(C);break}case"READUDEFINED":{let N=k.match[1];n._friendlyError(jt("fes.globalErrors.type.readFromUndefined",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong",symbol:N,location:D?jt("fes.location",D):""})),C&&y(C);break}case"CONSTASSIGN":{n._friendlyError(jt("fes.globalErrors.type.constAssign",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_const_assignment#what_went_wrong",location:D?jt("fes.location",D):""})),C&&y(C);break}}}};n._fesErrorMonitor=b,n._checkForUserDefinedFunctions=v,n._fesLogger=null,n._fesLogCache={},window.addEventListener("load",v,!1),window.addEventListener("error",n._fesErrorMonitor,!1),window.addEventListener("unhandledrejection",n._fesErrorMonitor,!1)}i=null;const l="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";s=()=>{const h={},c=f=>Object.getOwnPropertyNames(f).filter(d=>d[0]==="_"||d in h?!1:(h[d]=!0,!0)).map(d=>{let p;return typeof f[d]=="function"?p="function":d===d.toUpperCase()?p="constant":p="variable",{name:d,type:p}});i=[].concat(c(t),c(Pa)),i.sort((f,d)=>d.name.length-f.name.length)};const u=(h,c)=>{c||(c=console.log.bind(console)),i||s(),i.some(f=>{if(h.message&&h.message.match(`\\W?${f.name}\\W`)!==null){const d=f.type==="function"?`${f.name}()`:f.name;return c(typeof IS_MINIFIED<"u"?`Did you just try to use p5.js's ${d} ${f.type}? If so, you may want to move it into your sketch's setup() function.

For more details, see: ${l}`:jt("fes.misusedTopLevel",{symbolName:d,symbolType:f.type,url:l})),!0}})};t._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",()=>{window.removeEventListener("error",u,!1)}))}typeof p5<"u"&&DF(p5,p5.prototype);function rJ(){let n=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(s){if(typeof s.stacktrace<"u"||typeof s["opera#sourceloc"]<"u")return this.parseOpera(s);if(s.stack&&s.stack.match(t))return this.parseV8OrIE(s);if(s.stack)return this.parseFFOrSafari(s)},extractLocation:function(s){if(s.indexOf(":")===-1)return[s];let a=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s.replace(/[()]/g,""));return[a[1],a[2]||void 0,a[3]||void 0]},parseV8OrIE:function(s){return s.stack.split(`
`).filter(function(a){return!!a.match(t)},this).map(function(a){a.indexOf("(eval ")>-1&&(a=a.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));let l=a.replace(/^\s+/,"").replace(/\(eval code/g,"("),u=l.match(/ (\((.+):(\d+):(\d+)\)$)/);l=u?l.replace(u[0],""):l;let h=l.split(/\s+/).slice(1),c=this.extractLocation(u?u[1]:h.pop()),f=h.join(" ")||void 0,d=["eval","<anonymous>"].indexOf(c[0])>-1?void 0:c[0];return{functionName:f,fileName:d,lineNumber:c[1],columnNumber:c[2],source:a}},this)},parseFFOrSafari:function(s){return s.stack.split(`
`).filter(function(a){return!a.match(r)},this).map(function(a){if(a.indexOf(" > eval")>-1&&(a=a.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),a.indexOf("@")===-1&&a.indexOf(":")===-1)return{functionName:a};{let l=/((.*".+"[^@]*)?[^@]*)(?:@)/,u=a.match(l),h=u&&u[1]?u[1]:void 0,c=this.extractLocation(a.replace(l,""));return{functionName:h,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:a}}},this)},parseOpera:function(s){return!s.stacktrace||s.message.indexOf(`
`)>-1&&s.message.split(`
`).length>s.stacktrace.split(`
`).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){let o=/Line (\d+).*script (?:in )?(\S+)/i,a=s.message.split(`
`),l=[];for(let u=2,h=a.length;u<h;u+=2){let c=o.exec(a[u]);c&&l.push({fileName:c[2],lineNumber:c[1],source:a[u]})}return l},parseOpera10:function(s){let o=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=s.stacktrace.split(`
`),l=[];for(let u=0,h=a.length;u<h;u+=2){let c=o.exec(a[u]);c&&l.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:a[u]})}return l},parseOpera11:function(s){return s.stack.split(`
`).filter(function(a){return!!a.match(n)&&!a.match(/^Error created at/)},this).map(function(a){let l=a.split("@"),u=this.extractLocation(l.pop()),h=l.shift()||"",c=h.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,f;h.match(/\(([^)]*)\)/)&&(f=h.replace(/^[^(]+\(([^)]*)\)$/,"$1"));let d=f===void 0||f==="[arguments not available]"?void 0:f.split(",");return{functionName:c,args:d,fileName:u[0],lineNumber:u[1],columnNumber:u[2],source:a}},this)}}}function NF(n,t){n._getErrorStackParser=function(){return new rJ}}typeof p5<"u"&&NF(p5,p5.prototype);function Ye(n,t,r){function i(l,u){var h;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(h=l._zod).traits??(h.traits=new Set),l._zod.traits.add(n),t(l,u);for(const c in a.prototype)c in l||Object.defineProperty(l,c,{value:a.prototype[c].bind(l)});l._zod.constr=a,l._zod.def=u}const s=r?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:n});function a(l){var u;const h=r?.Parent?new o:this;i(h,l),(u=h._zod).deferred??(u.deferred=[]);for(const c of h._zod.deferred)c();return h}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>r?.Parent&&l instanceof r.Parent?!0:l?._zod?.traits?.has(n)}),Object.defineProperty(a,"name",{value:n}),a}class sf extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const FF={};function Zl(n){return FF}function iJ(n){const t=Object.values(n).filter(i=>typeof i=="number");return Object.entries(n).filter(([i,s])=>t.indexOf(+i)===-1).map(([i,s])=>s)}function sJ(n,t){return typeof t=="bigint"?t.toString():t}function kF(n){return{get value(){{const t=n();return Object.defineProperty(this,"value",{value:t}),t}}}}function mx(n){return n==null}function gx(n){const t=n.startsWith("^")?1:0,r=n.endsWith("$")?n.length-1:n.length;return n.slice(t,r)}function oJ(n,t){const r=(n.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,s=r>i?r:i,o=Number.parseInt(n.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return o%a/10**s}function ir(n,t,r){Object.defineProperty(n,t,{get(){{const i=r();return n[t]=i,i}},set(i){Object.defineProperty(n,t,{value:i})},configurable:!0})}function vx(n,t,r){Object.defineProperty(n,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Xc(n){return JSON.stringify(n)}const MF=Error.captureStackTrace?Error.captureStackTrace:(...n)=>{};function Wy(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const aJ=kF(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Xy(n){if(Wy(n)===!1)return!1;const t=n.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Wy(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const lJ=new Set(["string","number","symbol"]);function Df(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function su(n,t,r){const i=new n._zod.constr(t??n._zod.def);return(!t||r?.parent)&&(i._zod.parent=n),i}function Ct(n){const t=n;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function uJ(n){return Object.keys(n).filter(t=>n[t]._zod.optin==="optional"&&n[t]._zod.optout==="optional")}const cJ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function hJ(n,t){const r={},i=n._zod.def;for(const s in t){if(!(s in i.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(r[s]=i.shape[s])}return su(n,{...n._zod.def,shape:r,checks:[]})}function fJ(n,t){const r={...n._zod.def.shape},i=n._zod.def;for(const s in t){if(!(s in i.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete r[s]}return su(n,{...n._zod.def,shape:r,checks:[]})}function dJ(n,t){if(!Xy(t))throw new Error("Invalid input to extend: expected a plain object");const r={...n._zod.def,get shape(){const i={...n._zod.def.shape,...t};return vx(this,"shape",i),i},checks:[]};return su(n,r)}function pJ(n,t){return su(n,{...n._zod.def,get shape(){const r={...n._zod.def.shape,...t._zod.def.shape};return vx(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function mJ(n,t,r){const i=t._zod.def.shape,s={...i};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=n?new n({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)s[o]=n?new n({type:"optional",innerType:i[o]}):i[o];return su(t,{...t._zod.def,shape:s,checks:[]})}function gJ(n,t,r){const i=t._zod.def.shape,s={...i};if(r)for(const o in r){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=new n({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new n({type:"nonoptional",innerType:i[o]});return su(t,{...t._zod.def,shape:s,checks:[]})}function Eh(n,t=0){for(let r=t;r<n.issues.length;r++)if(n.issues[r]?.continue!==!0)return!0;return!1}function xg(n,t){return t.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(n),r})}function Cd(n){return typeof n=="string"?n:n?.message}function Jl(n,t,r){const i={...n,path:n.path??[]};if(!n.message){const s=Cd(n.inst?._zod.def?.error?.(n))??Cd(t?.error?.(n))??Cd(r.customError?.(n))??Cd(r.localeError?.(n))??"Invalid input";i.message=s}return delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function yx(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function of(...n){const[t,r,i]=n;return typeof t=="string"?{message:t,code:"custom",input:r,inst:i}:{...t}}const OF=(n,t)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:t,enumerable:!1}),Object.defineProperty(n,"message",{get(){return JSON.stringify(t,sJ,2)},enumerable:!0}),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},PF=Ye("$ZodError",OF),_g=Ye("$ZodError",OF,{Parent:Error});function vJ(n,t=r=>r.message){const r={},i=[];for(const s of n.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:r}}function yJ(n,t){const r=t||function(o){return o.message},i={_errors:[]},s=o=>{for(const a of o.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>s({issues:l}));else if(a.code==="invalid_key")s({issues:a.issues});else if(a.code==="invalid_element")s({issues:a.issues});else if(a.path.length===0)i._errors.push(r(a));else{let l=i,u=0;for(;u<a.path.length;){const h=a.path[u];u===a.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(r(a))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return s(n),i}const LF=n=>(t,r,i,s)=>{const o=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new sf;if(a.issues.length){const l=new(s?.Err??n)(a.issues.map(u=>Jl(u,o,Zl())));throw MF(l,s?.callee),l}return a.value},gS=LF(_g),RF=n=>async(t,r,i,s)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new(s?.Err??n)(a.issues.map(u=>Jl(u,o,Zl())));throw MF(l,s?.callee),l}return a.value},vS=RF(_g),BF=n=>(t,r,i)=>{const s=i?{...i,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new sf;return o.issues.length?{success:!1,error:new(n??PF)(o.issues.map(a=>Jl(a,s,Zl())))}:{success:!0,data:o.value}},bJ=BF(_g),UF=n=>async(t,r,i)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new n(o.issues.map(a=>Jl(a,s,Zl())))}:{success:!0,data:o.value}},xJ=UF(_g),_J=/^[cC][^\s-]{8,}$/,wJ=/^[0-9a-z]+$/,EJ=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,SJ=/^[0-9a-vA-V]{20}$/,CJ=/^[A-Za-z0-9]{27}$/,AJ=/^[a-zA-Z0-9_-]{21}$/,TJ=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,IJ=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,yS=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,DJ=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,NJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function FJ(){return new RegExp(NJ,"u")}const kJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MJ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,OJ=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,PJ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LJ=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,VF=/^[A-Za-z0-9_-]*$/,RJ=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,BJ=/^\+(?:[0-9]){6,14}[0-9]$/,$F="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",UJ=new RegExp(`^${$F}$`);function jF(n){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${t}`:n.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${n.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function VJ(n){return new RegExp(`^${jF(n)}$`)}function $J(n){const t=jF({precision:n.precision}),r=["Z"];n.local&&r.push(""),n.offset&&r.push("([+-]\\d{2}:\\d{2})");const i=`${t}(?:${r.join("|")})`;return new RegExp(`^${$F}T(?:${i})$`)}const jJ=n=>{const t=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},zJ=/^\d+$/,GJ=/^-?\d+(?:\.\d+)?/i,HJ=/true|false/i,WJ=/^[^A-Z]*$/,XJ=/^[^a-z]*$/,es=Ye("$ZodCheck",(n,t)=>{var r;n._zod??(n._zod={}),n._zod.def=t,(r=n._zod).onattach??(r.onattach=[])}),zF={number:"number",bigint:"bigint",object:"date"},GF=Ye("$ZodCheckLessThan",(n,t)=>{es.init(n,t);const r=zF[typeof t.value];n._zod.onattach.push(i=>{const s=i._zod.bag,o=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),n._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:r,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:n,continue:!t.abort})}}),HF=Ye("$ZodCheckGreaterThan",(n,t)=>{es.init(n,t);const r=zF[typeof t.value];n._zod.onattach.push(i=>{const s=i._zod.bag,o=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),n._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:r,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:n,continue:!t.abort})}}),qJ=Ye("$ZodCheckMultipleOf",(n,t)=>{es.init(n,t),n._zod.onattach.push(r=>{var i;(i=r._zod.bag).multipleOf??(i.multipleOf=t.value)}),n._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):oJ(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:n,continue:!t.abort})}}),YJ=Ye("$ZodCheckNumberFormat",(n,t)=>{es.init(n,t),t.format=t.format||"float64";const r=t.format?.includes("int"),i=r?"int":"number",[s,o]=cJ[t.format];n._zod.onattach.push(a=>{const l=a._zod.bag;l.format=t.format,l.minimum=s,l.maximum=o,r&&(l.pattern=zJ)}),n._zod.check=a=>{const l=a.value;if(r){if(!Number.isInteger(l)){a.issues.push({expected:i,format:t.format,code:"invalid_type",input:l,inst:n});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:i,continue:!t.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:i,continue:!t.abort});return}}l<s&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:s,inclusive:!0,inst:n,continue:!t.abort}),l>o&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inst:n})}}),KJ=Ye("$ZodCheckMaxLength",(n,t)=>{var r;es.init(n,t),(r=n._zod.def).when??(r.when=i=>{const s=i.value;return!mx(s)&&s.length!==void 0}),n._zod.onattach.push(i=>{const s=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(i._zod.bag.maximum=t.maximum)}),n._zod.check=i=>{const s=i.value;if(s.length<=t.maximum)return;const a=yx(s);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:n,continue:!t.abort})}}),ZJ=Ye("$ZodCheckMinLength",(n,t)=>{var r;es.init(n,t),(r=n._zod.def).when??(r.when=i=>{const s=i.value;return!mx(s)&&s.length!==void 0}),n._zod.onattach.push(i=>{const s=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(i._zod.bag.minimum=t.minimum)}),n._zod.check=i=>{const s=i.value;if(s.length>=t.minimum)return;const a=yx(s);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:n,continue:!t.abort})}}),JJ=Ye("$ZodCheckLengthEquals",(n,t)=>{var r;es.init(n,t),(r=n._zod.def).when??(r.when=i=>{const s=i.value;return!mx(s)&&s.length!==void 0}),n._zod.onattach.push(i=>{const s=i._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),n._zod.check=i=>{const s=i.value,o=s.length;if(o===t.length)return;const a=yx(s),l=o>t.length;i.issues.push({origin:a,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:n,continue:!t.abort})}}),wg=Ye("$ZodCheckStringFormat",(n,t)=>{var r,i;es.init(n,t),n._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=n._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:n,continue:!t.abort})}):(i=n._zod).check??(i.check=()=>{})}),QJ=Ye("$ZodCheckRegex",(n,t)=>{wg.init(n,t),n._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:n,continue:!t.abort})}}),eQ=Ye("$ZodCheckLowerCase",(n,t)=>{t.pattern??(t.pattern=WJ),wg.init(n,t)}),tQ=Ye("$ZodCheckUpperCase",(n,t)=>{t.pattern??(t.pattern=XJ),wg.init(n,t)}),nQ=Ye("$ZodCheckIncludes",(n,t)=>{es.init(n,t);const r=Df(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=i,n._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(i)}),n._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:n,continue:!t.abort})}}),rQ=Ye("$ZodCheckStartsWith",(n,t)=>{es.init(n,t);const r=new RegExp(`^${Df(t.prefix)}.*`);t.pattern??(t.pattern=r),n._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),n._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:n,continue:!t.abort})}}),iQ=Ye("$ZodCheckEndsWith",(n,t)=>{es.init(n,t);const r=new RegExp(`.*${Df(t.suffix)}$`);t.pattern??(t.pattern=r),n._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),n._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:n,continue:!t.abort})}}),sQ=Ye("$ZodCheckOverwrite",(n,t)=>{es.init(n,t),n._zod.check=r=>{r.value=t.tx(r.value)}});class oQ{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),s=Math.min(...i.map(a=>a.length-a.trimStart().length)),o=i.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of o)this.content.push(a)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...r,s.join(`
`))}}const aQ={major:4,minor:0,patch:0},jn=Ye("$ZodType",(n,t)=>{var r;n??(n={}),n._zod.def=t,n._zod.bag=n._zod.bag||{},n._zod.version=aQ;const i=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&i.unshift(n);for(const s of i)for(const o of s._zod.onattach)o(n);if(i.length===0)(r=n._zod).deferred??(r.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const s=(o,a,l)=>{let u=Eh(o),h;for(const c of a){if(c._zod.def.when){if(!c._zod.def.when(o))continue}else if(u)continue;const f=o.issues.length,d=c._zod.check(o);if(d instanceof Promise&&l?.async===!1)throw new sf;if(h||d instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await d,o.issues.length!==f&&(u||(u=Eh(o,f)))});else{if(o.issues.length===f)continue;u||(u=Eh(o,f))}}return h?h.then(()=>o):o};n._zod.run=(o,a)=>{const l=n._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new sf;return l.then(u=>s(u,i,a))}return s(l,i,a)}}n["~standard"]={validate:s=>{try{const o=bJ(n,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return xJ(n,s).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),bx=Ye("$ZodString",(n,t)=>{jn.init(n,t),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??jJ(n._zod.bag),n._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:n}),r}}),ar=Ye("$ZodStringFormat",(n,t)=>{wg.init(n,t),bx.init(n,t)}),lQ=Ye("$ZodGUID",(n,t)=>{t.pattern??(t.pattern=IJ),ar.init(n,t)}),uQ=Ye("$ZodUUID",(n,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=yS(i))}else t.pattern??(t.pattern=yS());ar.init(n,t)}),cQ=Ye("$ZodEmail",(n,t)=>{t.pattern??(t.pattern=DJ),ar.init(n,t)}),hQ=Ye("$ZodURL",(n,t)=>{ar.init(n,t),n._zod.check=r=>{try{const i=r.value,s=new URL(i),o=s.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:RJ.source,input:r.value,inst:n,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:n,continue:!t.abort})),!i.endsWith("/")&&o.endsWith("/")?r.value=o.slice(0,-1):r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:n,continue:!t.abort})}}}),fQ=Ye("$ZodEmoji",(n,t)=>{t.pattern??(t.pattern=FJ()),ar.init(n,t)}),dQ=Ye("$ZodNanoID",(n,t)=>{t.pattern??(t.pattern=AJ),ar.init(n,t)}),pQ=Ye("$ZodCUID",(n,t)=>{t.pattern??(t.pattern=_J),ar.init(n,t)}),mQ=Ye("$ZodCUID2",(n,t)=>{t.pattern??(t.pattern=wJ),ar.init(n,t)}),gQ=Ye("$ZodULID",(n,t)=>{t.pattern??(t.pattern=EJ),ar.init(n,t)}),vQ=Ye("$ZodXID",(n,t)=>{t.pattern??(t.pattern=SJ),ar.init(n,t)}),yQ=Ye("$ZodKSUID",(n,t)=>{t.pattern??(t.pattern=CJ),ar.init(n,t)}),bQ=Ye("$ZodISODateTime",(n,t)=>{t.pattern??(t.pattern=$J(t)),ar.init(n,t)}),xQ=Ye("$ZodISODate",(n,t)=>{t.pattern??(t.pattern=UJ),ar.init(n,t)}),_Q=Ye("$ZodISOTime",(n,t)=>{t.pattern??(t.pattern=VJ(t)),ar.init(n,t)}),wQ=Ye("$ZodISODuration",(n,t)=>{t.pattern??(t.pattern=TJ),ar.init(n,t)}),EQ=Ye("$ZodIPv4",(n,t)=>{t.pattern??(t.pattern=kJ),ar.init(n,t),n._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),SQ=Ye("$ZodIPv6",(n,t)=>{t.pattern??(t.pattern=MJ),ar.init(n,t),n._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),n._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:n,continue:!t.abort})}}}),CQ=Ye("$ZodCIDRv4",(n,t)=>{t.pattern??(t.pattern=OJ),ar.init(n,t)}),AQ=Ye("$ZodCIDRv6",(n,t)=>{t.pattern??(t.pattern=PJ),ar.init(n,t),n._zod.check=r=>{const[i,s]=r.value.split("/");try{if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:n,continue:!t.abort})}}});function WF(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const TQ=Ye("$ZodBase64",(n,t)=>{t.pattern??(t.pattern=LJ),ar.init(n,t),n._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),n._zod.check=r=>{WF(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:n,continue:!t.abort})}});function IQ(n){if(!VF.test(n))return!1;const t=n.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return WF(r)}const DQ=Ye("$ZodBase64URL",(n,t)=>{t.pattern??(t.pattern=VF),ar.init(n,t),n._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),n._zod.check=r=>{IQ(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:n,continue:!t.abort})}}),NQ=Ye("$ZodE164",(n,t)=>{t.pattern??(t.pattern=BJ),ar.init(n,t)});function FQ(n,t=null){try{const r=n.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const s=JSON.parse(atob(i));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const kQ=Ye("$ZodJWT",(n,t)=>{ar.init(n,t),n._zod.check=r=>{FQ(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:n,continue:!t.abort})}}),XF=Ye("$ZodNumber",(n,t)=>{jn.init(n,t),n._zod.pattern=n._zod.bag.pattern??GJ,n._zod.parse=(r,i)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:n,...o?{received:o}:{}}),r}}),MQ=Ye("$ZodNumber",(n,t)=>{YJ.init(n,t),XF.init(n,t)}),OQ=Ye("$ZodBoolean",(n,t)=>{jn.init(n,t),n._zod.pattern=HJ,n._zod.parse=(r,i)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:n}),r}}),PQ=Ye("$ZodAny",(n,t)=>{jn.init(n,t),n._zod.parse=r=>r}),qy=Ye("$ZodUnknown",(n,t)=>{jn.init(n,t),n._zod.parse=r=>r}),LQ=Ye("$ZodNever",(n,t)=>{jn.init(n,t),n._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:n}),r)});function bS(n,t,r){n.issues.length&&t.issues.push(...xg(r,n.issues)),t.value[r]=n.value}const qF=Ye("$ZodArray",(n,t)=>{jn.init(n,t),n._zod.parse=(r,i)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:n}),r;r.value=Array(s.length);const o=[];for(let a=0;a<s.length;a++){const l=s[a],u=t.element._zod.run({value:l,issues:[]},i);u instanceof Promise?o.push(u.then(h=>bS(h,r,a))):bS(u,r,a)}return o.length?Promise.all(o).then(()=>r):r}});function Ad(n,t,r){n.issues.length&&t.issues.push(...xg(r,n.issues)),t.value[r]=n.value}function xS(n,t,r,i){n.issues.length?i[r]===void 0?r in i?t.value[r]=void 0:t.value[r]=n.value:t.issues.push(...xg(r,n.issues)):n.value===void 0?r in i&&(t.value[r]=void 0):t.value[r]=n.value}const RQ=Ye("$ZodObject",(n,t)=>{jn.init(n,t);const r=kF(()=>{const f=Object.keys(t.shape);for(const p of f)if(!(t.shape[p]instanceof jn))throw new Error(`Invalid element at key "${p}": expected a Zod schema`);const d=uJ(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(d)}});ir(n._zod,"propValues",()=>{const f=t.shape,d={};for(const p in f){const m=f[p]._zod;if(m.values){d[p]??(d[p]=new Set);for(const g of m.values)d[p].add(g)}}return d});const i=f=>{const d=new oQ(["shape","payload","ctx"]),p=r.value,m=y=>{const x=Xc(y);return`shape[${x}]._zod.run({ value: input[${x}], issues: [] }, ctx)`};d.write("const input = payload.value;");const g=Object.create(null);let v=0;for(const y of p.keys)g[y]=`key_${v++}`;d.write("const newResult = {}");for(const y of p.keys)if(p.optionalKeys.has(y)){const x=g[y];d.write(`const ${x} = ${m(y)};`);const b=Xc(y);d.write(`
        if (${x}.issues.length) {
          if (input[${b}] === undefined) {
            if (${b} in input) {
              newResult[${b}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${x}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${b}, ...iss.path] : [${b}],
              }))
            );
          }
        } else if (${x}.value === undefined) {
          if (${b} in input) newResult[${b}] = undefined;
        } else {
          newResult[${b}] = ${x}.value;
        }
        `)}else{const x=g[y];d.write(`const ${x} = ${m(y)};`),d.write(`
          if (${x}.issues.length) payload.issues = payload.issues.concat(${x}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Xc(y)}, ...iss.path] : [${Xc(y)}]
          })));`),d.write(`newResult[${Xc(y)}] = ${x}.value`)}d.write("payload.value = newResult;"),d.write("return payload;");const S=d.compile();return(y,x)=>S(f,y,x)};let s;const o=Wy,a=!FF.jitless,u=a&&aJ.value,h=t.catchall;let c;n._zod.parse=(f,d)=>{c??(c=r.value);const p=f.value;if(!o(p))return f.issues.push({expected:"object",code:"invalid_type",input:p,inst:n}),f;const m=[];if(a&&u&&d?.async===!1&&d.jitless!==!0)s||(s=i(t.shape)),f=s(f,d);else{f.value={};const x=c.shape;for(const b of c.keys){const w=x[b],E=w._zod.run({value:p[b],issues:[]},d),_=w._zod.optin==="optional"&&w._zod.optout==="optional";E instanceof Promise?m.push(E.then(T=>_?xS(T,f,b,p):Ad(T,f,b))):_?xS(E,f,b,p):Ad(E,f,b)}}if(!h)return m.length?Promise.all(m).then(()=>f):f;const g=[],v=c.keySet,S=h._zod,y=S.def.type;for(const x of Object.keys(p)){if(v.has(x))continue;if(y==="never"){g.push(x);continue}const b=S.run({value:p[x],issues:[]},d);b instanceof Promise?m.push(b.then(w=>Ad(w,f,x))):Ad(b,f,x)}return g.length&&f.issues.push({code:"unrecognized_keys",keys:g,input:p,inst:n}),m.length?Promise.all(m).then(()=>f):f}});function _S(n,t,r,i){for(const s of n)if(s.issues.length===0)return t.value=s.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:n.map(s=>s.issues.map(o=>Jl(o,i,Zl())))}),t}const BQ=Ye("$ZodUnion",(n,t)=>{jn.init(n,t),ir(n._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),ir(n._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),ir(n._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),ir(n._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${r.map(i=>gx(i.source)).join("|")})$`)}}),n._zod.parse=(r,i)=>{let s=!1;const o=[];for(const a of t.options){const l=a._zod.run({value:r.value,issues:[]},i);if(l instanceof Promise)o.push(l),s=!0;else{if(l.issues.length===0)return l;o.push(l)}}return s?Promise.all(o).then(a=>_S(a,r,n,i)):_S(o,r,n,i)}}),UQ=Ye("$ZodIntersection",(n,t)=>{jn.init(n,t),n._zod.parse=(r,i)=>{const s=r.value,o=t.left._zod.run({value:s,issues:[]},i),a=t.right._zod.run({value:s,issues:[]},i);return o instanceof Promise||a instanceof Promise?Promise.all([o,a]).then(([u,h])=>wS(r,u,h)):wS(r,o,a)}});function Yy(n,t){if(n===t)return{valid:!0,data:n};if(n instanceof Date&&t instanceof Date&&+n==+t)return{valid:!0,data:n};if(Xy(n)&&Xy(t)){const r=Object.keys(t),i=Object.keys(n).filter(o=>r.indexOf(o)!==-1),s={...n,...t};for(const o of i){const a=Yy(n[o],t[o]);if(!a.valid)return{valid:!1,mergeErrorPath:[o,...a.mergeErrorPath]};s[o]=a.data}return{valid:!0,data:s}}if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<n.length;i++){const s=n[i],o=t[i],a=Yy(s,o);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function wS(n,t,r){if(t.issues.length&&n.issues.push(...t.issues),r.issues.length&&n.issues.push(...r.issues),Eh(n))return n;const i=Yy(t.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return n.value=i.data,n}const xx=Ye("$ZodTuple",(n,t)=>{jn.init(n,t);const r=t.items,i=r.length-[...r].reverse().findIndex(s=>s._zod.optin!=="optional");n._zod.parse=(s,o)=>{const a=s.value;if(!Array.isArray(a))return s.issues.push({input:a,inst:n,expected:"tuple",code:"invalid_type"}),s;s.value=[];const l=[];if(!t.rest){const h=a.length>r.length,c=a.length<i-1;if(h||c)return s.issues.push({input:a,inst:n,origin:"array",...h?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length}}),s}let u=-1;for(const h of r){if(u++,u>=a.length&&u>=i)continue;const c=h._zod.run({value:a[u],issues:[]},o);c instanceof Promise?l.push(c.then(f=>Td(f,s,u))):Td(c,s,u)}if(t.rest){const h=a.slice(r.length);for(const c of h){u++;const f=t.rest._zod.run({value:c,issues:[]},o);f instanceof Promise?l.push(f.then(d=>Td(d,s,u))):Td(f,s,u)}}return l.length?Promise.all(l).then(()=>s):s}});function Td(n,t,r){n.issues.length&&t.issues.push(...xg(r,n.issues)),t.value[r]=n.value}const VQ=Ye("$ZodEnum",(n,t)=>{jn.init(n,t);const r=iJ(t.entries);n._zod.values=new Set(r),n._zod.pattern=new RegExp(`^(${r.filter(i=>lJ.has(typeof i)).map(i=>typeof i=="string"?Df(i):i.toString()).join("|")})$`),n._zod.parse=(i,s)=>{const o=i.value;return n._zod.values.has(o)||i.issues.push({code:"invalid_value",values:r,input:o,inst:n}),i}}),$Q=Ye("$ZodLiteral",(n,t)=>{jn.init(n,t),n._zod.values=new Set(t.values),n._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Df(r):r?r.toString():String(r)).join("|")})$`),n._zod.parse=(r,i)=>{const s=r.value;return n._zod.values.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:n}),r}}),jQ=Ye("$ZodTransform",(n,t)=>{jn.init(n,t),n._zod.parse=(r,i)=>{const s=t.transform(r.value,r);if(i.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(r.value=a,r));if(s instanceof Promise)throw new sf;return r.value=s,r}}),zQ=Ye("$ZodOptional",(n,t)=>{jn.init(n,t),n._zod.optin="optional",n._zod.optout="optional",ir(n._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ir(n._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${gx(r.source)})?$`):void 0}),n._zod.parse=(r,i)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(r,i):r.value===void 0?r:t.innerType._zod.run(r,i)}),GQ=Ye("$ZodNullable",(n,t)=>{jn.init(n,t),ir(n._zod,"optin",()=>t.innerType._zod.optin),ir(n._zod,"optout",()=>t.innerType._zod.optout),ir(n._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${gx(r.source)}|null)$`):void 0}),ir(n._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),n._zod.parse=(r,i)=>r.value===null?r:t.innerType._zod.run(r,i)}),HQ=Ye("$ZodDefault",(n,t)=>{jn.init(n,t),n._zod.optin="optional",ir(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(r,i)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(o=>ES(o,t)):ES(s,t)}});function ES(n,t){return n.value===void 0&&(n.value=t.defaultValue),n}const WQ=Ye("$ZodPrefault",(n,t)=>{jn.init(n,t),n._zod.optin="optional",ir(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(r,i)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,i))}),XQ=Ye("$ZodNonOptional",(n,t)=>{jn.init(n,t),ir(n._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),n._zod.parse=(r,i)=>{const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(o=>SS(o,n)):SS(s,n)}});function SS(n,t){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:t}),n}const qQ=Ye("$ZodCatch",(n,t)=>{jn.init(n,t),n._zod.optin="optional",ir(n._zod,"optout",()=>t.innerType._zod.optout),ir(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(r,i)=>{const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(a=>Jl(a,i,Zl()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>Jl(o,i,Zl()))},input:r.value}),r.issues=[]),r)}}),YQ=Ye("$ZodPipe",(n,t)=>{jn.init(n,t),ir(n._zod,"values",()=>t.in._zod.values),ir(n._zod,"optin",()=>t.in._zod.optin),ir(n._zod,"optout",()=>t.out._zod.optout),n._zod.parse=(r,i)=>{const s=t.in._zod.run(r,i);return s instanceof Promise?s.then(o=>CS(o,t,i)):CS(s,t,i)}});function CS(n,t,r){return Eh(n)?n:t.out._zod.run({value:n.value,issues:n.issues},r)}const KQ=Ye("$ZodReadonly",(n,t)=>{jn.init(n,t),ir(n._zod,"propValues",()=>t.innerType._zod.propValues),ir(n._zod,"values",()=>t.innerType._zod.values),ir(n._zod,"optin",()=>t.innerType._zod.optin),ir(n._zod,"optout",()=>t.innerType._zod.optout),n._zod.parse=(r,i)=>{const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(AS):AS(s)}});function AS(n){return n.value=Object.freeze(n.value),n}const ZQ=Ye("$ZodCustom",(n,t)=>{es.init(n,t),jn.init(n,t),n._zod.parse=(r,i)=>r,n._zod.check=r=>{const i=r.value,s=t.fn(i);if(s instanceof Promise)return s.then(o=>TS(o,r,i,n));TS(s,r,i,n)}});function TS(n,t,r,i){if(!n){const s={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(s.params=i._zod.def.params),t.issues.push(of(s))}}class JQ{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const i=r[0];if(this._map.set(t,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const i={...this.get(r)??{}};return delete i.id,{...i,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function QQ(){return new JQ}const Id=QQ();function eee(n,t){return new n({type:"string",...Ct(t)})}function tee(n,t){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Ct(t)})}function IS(n,t){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Ct(t)})}function nee(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Ct(t)})}function ree(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ct(t)})}function iee(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ct(t)})}function see(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ct(t)})}function oee(n,t){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Ct(t)})}function aee(n,t){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Ct(t)})}function lee(n,t){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ct(t)})}function uee(n,t){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Ct(t)})}function cee(n,t){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ct(t)})}function hee(n,t){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Ct(t)})}function fee(n,t){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Ct(t)})}function dee(n,t){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ct(t)})}function pee(n,t){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ct(t)})}function mee(n,t){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ct(t)})}function gee(n,t){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ct(t)})}function vee(n,t){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ct(t)})}function yee(n,t){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Ct(t)})}function bee(n,t){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Ct(t)})}function xee(n,t){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Ct(t)})}function _ee(n,t){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Ct(t)})}function wee(n,t){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ct(t)})}function Eee(n,t){return new n({type:"string",format:"date",check:"string_format",...Ct(t)})}function See(n,t){return new n({type:"string",format:"time",check:"string_format",precision:null,...Ct(t)})}function Cee(n,t){return new n({type:"string",format:"duration",check:"string_format",...Ct(t)})}function Aee(n,t){return new n({type:"number",checks:[],...Ct(t)})}function Tee(n,t){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Ct(t)})}function Iee(n,t){return new n({type:"boolean",...Ct(t)})}function Dee(n){return new n({type:"any"})}function Ky(n){return new n({type:"unknown"})}function Nee(n,t){return new n({type:"never",...Ct(t)})}function DS(n,t){return new GF({check:"less_than",...Ct(t),value:n,inclusive:!1})}function nv(n,t){return new GF({check:"less_than",...Ct(t),value:n,inclusive:!0})}function NS(n,t){return new HF({check:"greater_than",...Ct(t),value:n,inclusive:!1})}function rv(n,t){return new HF({check:"greater_than",...Ct(t),value:n,inclusive:!0})}function FS(n,t){return new qJ({check:"multiple_of",...Ct(t),value:n})}function YF(n,t){return new KJ({check:"max_length",...Ct(t),maximum:n})}function sm(n,t){return new ZJ({check:"min_length",...Ct(t),minimum:n})}function KF(n,t){return new JJ({check:"length_equals",...Ct(t),length:n})}function Fee(n,t){return new QJ({check:"string_format",format:"regex",...Ct(t),pattern:n})}function kee(n){return new eQ({check:"string_format",format:"lowercase",...Ct(n)})}function Mee(n){return new tQ({check:"string_format",format:"uppercase",...Ct(n)})}function Oee(n,t){return new nQ({check:"string_format",format:"includes",...Ct(t),includes:n})}function Pee(n,t){return new rQ({check:"string_format",format:"starts_with",...Ct(t),prefix:n})}function Lee(n,t){return new iQ({check:"string_format",format:"ends_with",...Ct(t),suffix:n})}function Nf(n){return new sQ({check:"overwrite",tx:n})}function Ree(n){return Nf(t=>t.normalize(n))}function Bee(){return Nf(n=>n.trim())}function Uee(){return Nf(n=>n.toLowerCase())}function Vee(){return Nf(n=>n.toUpperCase())}function ZF(n,t,r){return new n({type:"array",element:t,...Ct(r)})}function $ee(n,t,r,i){const s=r instanceof jn,o=s?i:r,a=s?r:null;return new n({type:"tuple",items:t,rest:a,...Ct(o)})}function jee(n,t,r){const i=Ct(r);return i.abort??(i.abort=!0),new n({type:"custom",check:"custom",fn:t,...i})}function zee(n,t,r){return new n({type:"custom",check:"custom",fn:t,...Ct(r)})}class Gee{constructor(t){this._def=t,this.def=t}implement(t){if(typeof t!="function")throw new Error("implement() must be called with a function");const r=((...i)=>{const s=this._def.input?gS(this._def.input,i,void 0,{callee:r}):i;if(!Array.isArray(s))throw new Error("Invalid arguments schema: not an array or tuple schema.");const o=t(...s);return this._def.output?gS(this._def.output,o,void 0,{callee:r}):o});return r}implementAsync(t){if(typeof t!="function")throw new Error("implement() must be called with a function");const r=(async(...i)=>{const s=this._def.input?await vS(this._def.input,i,void 0,{callee:r}):i;if(!Array.isArray(s))throw new Error("Invalid arguments schema: not an array or tuple schema.");const o=await t(...s);return this._def.output?vS(this._def.output,o,void 0,{callee:r}):o});return r}input(...t){const r=this.constructor;return Array.isArray(t[0])?new r({type:"function",input:new xx({type:"tuple",items:t[0],rest:t[1]}),output:this._def.output}):new r({type:"function",input:t[0],output:this._def.output})}output(t){const r=this.constructor;return new r({type:"function",input:this._def.input,output:t})}}function kS(n){return new Gee({type:"function",input:Array.isArray(n?.input)?$ee(xx,n?.input):ZF(qF,Ky(qy)),output:Ky(qy)})}const Hee=Ye("ZodISODateTime",(n,t)=>{bQ.init(n,t),hr.init(n,t)});function Wee(n){return wee(Hee,n)}const Xee=Ye("ZodISODate",(n,t)=>{xQ.init(n,t),hr.init(n,t)});function qee(n){return Eee(Xee,n)}const Yee=Ye("ZodISOTime",(n,t)=>{_Q.init(n,t),hr.init(n,t)});function Kee(n){return See(Yee,n)}const Zee=Ye("ZodISODuration",(n,t)=>{wQ.init(n,t),hr.init(n,t)});function Jee(n){return Cee(Zee,n)}const Qee=(n,t)=>{PF.init(n,t),n.name="ZodError",Object.defineProperties(n,{format:{value:r=>yJ(n,r)},flatten:{value:r=>vJ(n,r)},addIssue:{value:r=>n.issues.push(r)},addIssues:{value:r=>n.issues.push(...r)},isEmpty:{get(){return n.issues.length===0}}})},Eg=Ye("ZodError",Qee,{Parent:Error}),ete=LF(Eg),tte=RF(Eg),nte=BF(Eg),rte=UF(Eg),cr=Ye("ZodType",(n,t)=>(jn.init(n,t),n.def=t,Object.defineProperty(n,"_def",{value:t}),n.check=(...r)=>n.clone({...t,checks:[...t.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),n.clone=(r,i)=>su(n,r,i),n.brand=()=>n,n.register=((r,i)=>(r.add(n,i),n)),n.parse=(r,i)=>ete(n,r,i,{callee:n.parse}),n.safeParse=(r,i)=>nte(n,r,i),n.parseAsync=async(r,i)=>tte(n,r,i,{callee:n.parseAsync}),n.safeParseAsync=async(r,i)=>rte(n,r,i),n.spa=n.safeParseAsync,n.refine=(r,i)=>n.check(Zte(r,i)),n.superRefine=r=>n.check(Jte(r)),n.overwrite=r=>n.check(Nf(r)),n.optional=()=>US(n),n.nullable=()=>VS(n),n.nullish=()=>US(VS(n)),n.nonoptional=r=>Gte(n,r),n.array=()=>Zy(n),n.or=r=>Jy([n,r]),n.and=r=>Ote(n,r),n.transform=r=>$S(n,Bte(r)),n.default=r=>$te(n,r),n.prefault=r=>zte(n,r),n.catch=r=>Wte(n,r),n.pipe=r=>$S(n,r),n.readonly=()=>Yte(n),n.describe=r=>{const i=n.clone();return Id.add(i,{description:r}),i},Object.defineProperty(n,"description",{get(){return Id.get(n)?.description},configurable:!0}),n.meta=(...r)=>{if(r.length===0)return Id.get(n);const i=n.clone();return Id.add(i,r[0]),i},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),JF=Ye("_ZodString",(n,t)=>{bx.init(n,t),cr.init(n,t);const r=n._zod.bag;n.format=r.format??null,n.minLength=r.minimum??null,n.maxLength=r.maximum??null,n.regex=(...i)=>n.check(Fee(...i)),n.includes=(...i)=>n.check(Oee(...i)),n.startsWith=(...i)=>n.check(Pee(...i)),n.endsWith=(...i)=>n.check(Lee(...i)),n.min=(...i)=>n.check(sm(...i)),n.max=(...i)=>n.check(YF(...i)),n.length=(...i)=>n.check(KF(...i)),n.nonempty=(...i)=>n.check(sm(1,...i)),n.lowercase=i=>n.check(kee(i)),n.uppercase=i=>n.check(Mee(i)),n.trim=()=>n.check(Bee()),n.normalize=(...i)=>n.check(Ree(...i)),n.toLowerCase=()=>n.check(Uee()),n.toUpperCase=()=>n.check(Vee())}),ite=Ye("ZodString",(n,t)=>{bx.init(n,t),JF.init(n,t),n.email=r=>n.check(tee(ote,r)),n.url=r=>n.check(oee(ate,r)),n.jwt=r=>n.check(_ee(wte,r)),n.emoji=r=>n.check(aee(lte,r)),n.guid=r=>n.check(IS(MS,r)),n.uuid=r=>n.check(nee(Dd,r)),n.uuidv4=r=>n.check(ree(Dd,r)),n.uuidv6=r=>n.check(iee(Dd,r)),n.uuidv7=r=>n.check(see(Dd,r)),n.nanoid=r=>n.check(lee(ute,r)),n.guid=r=>n.check(IS(MS,r)),n.cuid=r=>n.check(uee(cte,r)),n.cuid2=r=>n.check(cee(hte,r)),n.ulid=r=>n.check(hee(fte,r)),n.base64=r=>n.check(yee(bte,r)),n.base64url=r=>n.check(bee(xte,r)),n.xid=r=>n.check(fee(dte,r)),n.ksuid=r=>n.check(dee(pte,r)),n.ipv4=r=>n.check(pee(mte,r)),n.ipv6=r=>n.check(mee(gte,r)),n.cidrv4=r=>n.check(gee(vte,r)),n.cidrv6=r=>n.check(vee(yte,r)),n.e164=r=>n.check(xee(_te,r)),n.datetime=r=>n.check(Wee(r)),n.date=r=>n.check(qee(r)),n.time=r=>n.check(Kee(r)),n.duration=r=>n.check(Jee(r))});function ste(n){return eee(ite,n)}const hr=Ye("ZodStringFormat",(n,t)=>{ar.init(n,t),JF.init(n,t)}),ote=Ye("ZodEmail",(n,t)=>{cQ.init(n,t),hr.init(n,t)}),MS=Ye("ZodGUID",(n,t)=>{lQ.init(n,t),hr.init(n,t)}),Dd=Ye("ZodUUID",(n,t)=>{uQ.init(n,t),hr.init(n,t)}),ate=Ye("ZodURL",(n,t)=>{hQ.init(n,t),hr.init(n,t)}),lte=Ye("ZodEmoji",(n,t)=>{fQ.init(n,t),hr.init(n,t)}),ute=Ye("ZodNanoID",(n,t)=>{dQ.init(n,t),hr.init(n,t)}),cte=Ye("ZodCUID",(n,t)=>{pQ.init(n,t),hr.init(n,t)}),hte=Ye("ZodCUID2",(n,t)=>{mQ.init(n,t),hr.init(n,t)}),fte=Ye("ZodULID",(n,t)=>{gQ.init(n,t),hr.init(n,t)}),dte=Ye("ZodXID",(n,t)=>{vQ.init(n,t),hr.init(n,t)}),pte=Ye("ZodKSUID",(n,t)=>{yQ.init(n,t),hr.init(n,t)}),mte=Ye("ZodIPv4",(n,t)=>{EQ.init(n,t),hr.init(n,t)}),gte=Ye("ZodIPv6",(n,t)=>{SQ.init(n,t),hr.init(n,t)}),vte=Ye("ZodCIDRv4",(n,t)=>{CQ.init(n,t),hr.init(n,t)}),yte=Ye("ZodCIDRv6",(n,t)=>{AQ.init(n,t),hr.init(n,t)}),bte=Ye("ZodBase64",(n,t)=>{TQ.init(n,t),hr.init(n,t)}),xte=Ye("ZodBase64URL",(n,t)=>{DQ.init(n,t),hr.init(n,t)}),_te=Ye("ZodE164",(n,t)=>{NQ.init(n,t),hr.init(n,t)}),wte=Ye("ZodJWT",(n,t)=>{kQ.init(n,t),hr.init(n,t)}),QF=Ye("ZodNumber",(n,t)=>{XF.init(n,t),cr.init(n,t),n.gt=(i,s)=>n.check(NS(i,s)),n.gte=(i,s)=>n.check(rv(i,s)),n.min=(i,s)=>n.check(rv(i,s)),n.lt=(i,s)=>n.check(DS(i,s)),n.lte=(i,s)=>n.check(nv(i,s)),n.max=(i,s)=>n.check(nv(i,s)),n.int=i=>n.check(PS(i)),n.safe=i=>n.check(PS(i)),n.positive=i=>n.check(NS(0,i)),n.nonnegative=i=>n.check(rv(0,i)),n.negative=i=>n.check(DS(0,i)),n.nonpositive=i=>n.check(nv(0,i)),n.multipleOf=(i,s)=>n.check(FS(i,s)),n.step=(i,s)=>n.check(FS(i,s)),n.finite=()=>n;const r=n._zod.bag;n.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),n.isFinite=!0,n.format=r.format??null});function OS(n){return Aee(QF,n)}const Ete=Ye("ZodNumberFormat",(n,t)=>{MQ.init(n,t),QF.init(n,t)});function PS(n){return Tee(Ete,n)}const Ste=Ye("ZodBoolean",(n,t)=>{OQ.init(n,t),cr.init(n,t)});function Cte(n){return Iee(Ste,n)}const Ate=Ye("ZodAny",(n,t)=>{PQ.init(n,t),cr.init(n,t)});function iv(){return Dee(Ate)}const Tte=Ye("ZodUnknown",(n,t)=>{qy.init(n,t),cr.init(n,t)});function LS(){return Ky(Tte)}const Ite=Ye("ZodNever",(n,t)=>{LQ.init(n,t),cr.init(n,t)});function Dte(n){return Nee(Ite,n)}const Nte=Ye("ZodArray",(n,t)=>{qF.init(n,t),cr.init(n,t),n.element=t.element,n.min=(r,i)=>n.check(sm(r,i)),n.nonempty=r=>n.check(sm(1,r)),n.max=(r,i)=>n.check(YF(r,i)),n.length=(r,i)=>n.check(KF(r,i)),n.unwrap=()=>n.element});function Zy(n,t){return ZF(Nte,n,t)}const Fte=Ye("ZodObject",(n,t)=>{RQ.init(n,t),cr.init(n,t),ir(n,"shape",()=>t.shape),n.keyof=()=>Pte(Object.keys(n._zod.def.shape)),n.catchall=r=>n.clone({...n._zod.def,catchall:r}),n.passthrough=()=>n.clone({...n._zod.def,catchall:LS()}),n.loose=()=>n.clone({...n._zod.def,catchall:LS()}),n.strict=()=>n.clone({...n._zod.def,catchall:Dte()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=r=>dJ(n,r),n.merge=r=>pJ(n,r),n.pick=r=>hJ(n,r),n.omit=r=>fJ(n,r),n.partial=(...r)=>mJ(nk,n,r[0]),n.required=(...r)=>gJ(rk,n,r[0])});function kte(n,t){const r={type:"object",get shape(){return vx(this,"shape",{...n}),this.shape},...Ct(t)};return new Fte(r)}const ek=Ye("ZodUnion",(n,t)=>{BQ.init(n,t),cr.init(n,t),n.options=t.options});function Jy(n,t){return new ek({type:"union",options:n,...Ct(t)})}const Mte=Ye("ZodIntersection",(n,t)=>{UQ.init(n,t),cr.init(n,t)});function Ote(n,t){return new Mte({type:"intersection",left:n,right:t})}const tk=Ye("ZodTuple",(n,t)=>{xx.init(n,t),cr.init(n,t),n.rest=r=>n.clone({...n._zod.def,rest:r})});function RS(n,t,r){const i=t instanceof jn,s=i?r:t,o=i?t:null;return new tk({type:"tuple",items:n,rest:o,...Ct(s)})}const Qy=Ye("ZodEnum",(n,t)=>{VQ.init(n,t),cr.init(n,t),n.enum=t.entries,n.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));n.extract=(i,s)=>{const o={};for(const a of i)if(r.has(a))o[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Qy({...t,checks:[],...Ct(s),entries:o})},n.exclude=(i,s)=>{const o={...t.entries};for(const a of i)if(r.has(a))delete o[a];else throw new Error(`Key ${a} not found in enum`);return new Qy({...t,checks:[],...Ct(s),entries:o})}});function Pte(n,t){const r=Array.isArray(n)?Object.fromEntries(n.map(i=>[i,i])):n;return new Qy({type:"enum",entries:r,...Ct(t)})}const Lte=Ye("ZodLiteral",(n,t)=>{$Q.init(n,t),cr.init(n,t),n.values=new Set(t.values),Object.defineProperty(n,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function BS(n,t){return new Lte({type:"literal",values:Array.isArray(n)?n:[n],...Ct(t)})}const Rte=Ye("ZodTransform",(n,t)=>{jQ.init(n,t),cr.init(n,t),n._zod.parse=(r,i)=>{r.addIssue=o=>{if(typeof o=="string")r.issues.push(of(o,r.value,t));else{const a=o;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=n),a.continue??(a.continue=!0),r.issues.push(of(a))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(o=>(r.value=o,r)):(r.value=s,r)}});function Bte(n){return new Rte({type:"transform",transform:n})}const nk=Ye("ZodOptional",(n,t)=>{zQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function US(n){return new nk({type:"optional",innerType:n})}const Ute=Ye("ZodNullable",(n,t)=>{GQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function VS(n){return new Ute({type:"nullable",innerType:n})}const Vte=Ye("ZodDefault",(n,t)=>{HQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function $te(n,t){return new Vte({type:"default",innerType:n,get defaultValue(){return typeof t=="function"?t():t}})}const jte=Ye("ZodPrefault",(n,t)=>{WQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function zte(n,t){return new jte({type:"prefault",innerType:n,get defaultValue(){return typeof t=="function"?t():t}})}const rk=Ye("ZodNonOptional",(n,t)=>{XQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function Gte(n,t){return new rk({type:"nonoptional",innerType:n,...Ct(t)})}const Hte=Ye("ZodCatch",(n,t)=>{qQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function Wte(n,t){return new Hte({type:"catch",innerType:n,catchValue:typeof t=="function"?t:()=>t})}const Xte=Ye("ZodPipe",(n,t)=>{YQ.init(n,t),cr.init(n,t),n.in=t.in,n.out=t.out});function $S(n,t){return new Xte({type:"pipe",in:n,out:t})}const qte=Ye("ZodReadonly",(n,t)=>{KQ.init(n,t),cr.init(n,t)});function Yte(n){return new qte({type:"readonly",innerType:n})}const _x=Ye("ZodCustom",(n,t)=>{ZQ.init(n,t),cr.init(n,t)});function Kte(n){const t=new es({check:"custom"});return t._zod.check=n,t}function jS(n,t){return jee(_x,n??(()=>!0),t)}function Zte(n,t={}){return zee(_x,n,t)}function Jte(n){const t=Kte(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(of(i,r.value,t._zod.def));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(of(s))}},n(r.value,r)));return t}function zS(n,t={error:`Input not instance of ${n.name}`}){const r=new _x({type:"custom",check:"custom",fn:i=>i instanceof n,abort:!0,...Ct(t)});return r._zod.bag.Class=n,r}var Qte={describe:{overloads:[["String","FALLBACK|LABEL?"]]},describeElement:{overloads:[["String","String","FALLBACK|LABEL?"]]},textOutput:{overloads:[["FALLBACK|LABEL?"]]},gridOutput:{overloads:[["FALLBACK|LABEL?"]]},remove:{overloads:[[]]},p5:{overloads:[["Object","String|HTMLElement"]]},color:{overloads:[["Number","Number?"],["Number","Number","Number","Number?"],["String"],["Number[]"],["p5.Color"]]},red:{overloads:[["p5.Color|Number[]|String"]]},green:{overloads:[["p5.Color|Number[]|String"]]},blue:{overloads:[["p5.Color|Number[]|String"]]},alpha:{overloads:[["p5.Color|Number[]|String"]]},hue:{overloads:[["p5.Color|Number[]|String"]]},saturation:{overloads:[["p5.Color|Number[]|String"]]},brightness:{overloads:[["p5.Color|Number[]|String"]]},lightness:{overloads:[["p5.Color|Number[]|String"]]},lerpColor:{overloads:[["p5.Color","p5.Color","Number"]]},paletteLerp:{overloads:[["[p5.Color|String|Number|Number[], Number][]","Number"]]},beginClip:{overloads:[["Object?"]]},endClip:{overloads:[[]]},clip:{overloads:[["Function","Object?"]]},background:{overloads:[["p5.Color"],["String","Number?"],["Number","Number?"],["Number","Number","Number","Number?"],["Number[]"],["p5.Image","Number?"]]},clear:{overloads:[["Number?","Number?","Number?","Number?"],[]]},colorMode:{overloads:[["RGB|HSB|HSL|RGBHDR|HWB|LAB|LCH|OKLAB|OKLCH","Number?"],["RGB|HSB|HSL|RGBHDR|HWB|LAB|LCH|OKLAB|OKLCH","Number","Number","Number","Number?"],[]]},fill:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},noFill:{overloads:[[]]},noStroke:{overloads:[[]]},stroke:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},erase:{overloads:[["Number?","Number?"]]},noErase:{overloads:[[]]},blendMode:{overloads:[["BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|REMOVE|SUBTRACT"]]},print:{overloads:[["Any"],["String|Number|Array"]]},cursor:{overloads:[["ARROW|CROSS|HAND|MOVE|TEXT|WAIT|String","Number?","Number?"]]},frameRate:{overloads:[["Number"],[]]},getTargetFrameRate:{overloads:[[]]},noCursor:{overloads:[[]]},windowResized:{overloads:[["Event?"]]},fullscreen:{overloads:[["Boolean?"]]},pixelDensity:{overloads:[["Number?"],[]]},displayDensity:{overloads:[[]]},getURL:{overloads:[[]]},getURLPath:{overloads:[[]]},getURLParams:{overloads:[[]]},worldToScreen:{overloads:[["Number|p5.Vector","Number","Number?"]]},screenToWorld:{overloads:[["Number|p5.Vector","Number","Number?"]]},setup:{overloads:[[]]},draw:{overloads:[[]]},registerAddon:{overloads:[["Function"]]},createCanvas:{overloads:[["Number?","Number?","P2D|WEBGL|P2DHDR?","HTMLCanvasElement?"],["Number?","Number?","HTMLCanvasElement?"]]},resizeCanvas:{overloads:[["Number","Number","Boolean?"]]},noCanvas:{overloads:[[]]},createGraphics:{overloads:[["Number","Number","P2D|WEBGL?","HTMLCanvasElement?"],["Number","Number","HTMLCanvasElement?"]]},createFramebuffer:{overloads:[["Object?"]]},clearDepth:{overloads:[["Number?"]]},noLoop:{overloads:[[]]},loop:{overloads:[[]]},isLooping:{overloads:[[]]},redraw:{overloads:[["Integer?"]]},applyMatrix:{overloads:[["Number[]"],["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},resetMatrix:{overloads:[[]]},rotate:{overloads:[["Number","p5.Vector|Number[]?"]]},rotateX:{overloads:[["Number"]]},rotateY:{overloads:[["Number"]]},rotateZ:{overloads:[["Number"]]},scale:{overloads:[["Number|p5.Vector|Number[]","Number?","Number?"],["p5.Vector|Number[]"]]},shearX:{overloads:[["Number"]]},shearY:{overloads:[["Number"]]},translate:{overloads:[["Number","Number","Number?"],["p5.Vector"]]},push:{overloads:[[]]},pop:{overloads:[[]]},storeItem:{overloads:[["String","String|Number|Boolean|Object|Array"]]},getItem:{overloads:[["String"]]},clearStorage:{overloads:[[]]},removeItem:{overloads:[["String"]]},select:{overloads:[["String","String|p5.Element|HTMLElement?"]]},selectAll:{overloads:[["String","String|p5.Element|HTMLElement?"]]},createElement:{overloads:[["String","String?"]]},removeElements:{overloads:[[]]},addElement:{overloads:[[]]},createDiv:{overloads:[["String?"]]},createP:{overloads:[["String?"]]},createSpan:{overloads:[["String?"]]},createImg:{overloads:[["String","String"],["String","String","String?","Function?"]]},createA:{overloads:[["String","String","String?"]]},createSlider:{overloads:[["Number","Number","Number?","Number?"]]},createButton:{overloads:[["String","String?"]]},createCheckbox:{overloads:[["String?","Boolean?"]]},createSelect:{overloads:[["Boolean?"],["Object"]]},createRadio:{overloads:[["Object?"],["String?"],[]]},createColorPicker:{overloads:[["String|p5.Color?"]]},createInput:{overloads:[["String?","String?"],["String?"]]},createFileInput:{overloads:[["Function","Boolean?"]]},createVideo:{overloads:[["String|String[]?","Function?"]]},createAudio:{overloads:[["String|String[]?","Function?"]]},createCapture:{overloads:[["AUDIO|VIDEO|Object?","Object?","Function?"]]},setMoveThreshold:{overloads:[["Number"]]},setShakeThreshold:{overloads:[["Number"]]},deviceMoved:{overloads:[[]]},deviceTurned:{overloads:[[]]},deviceShaken:{overloads:[[]]},keyPressed:{overloads:[["KeyboardEvent?"]]},keyReleased:{overloads:[["KeyboardEvent?"]]},keyTyped:{overloads:[["KeyboardEvent?"]]},keyIsDown:{overloads:[["Number|String"]]},mouseMoved:{overloads:[["MouseEvent?"]]},mouseDragged:{overloads:[["MouseEvent?"]]},mousePressed:{overloads:[["MouseEvent?"]]},mouseReleased:{overloads:[["MouseEvent?"]]},mouseClicked:{overloads:[["MouseEvent?"]]},doubleClicked:{overloads:[["MouseEvent?"]]},mouseWheel:{overloads:[["WheelEvent?"]]},requestPointerLock:{overloads:[[]]},exitPointerLock:{overloads:[[]]},createImage:{overloads:[["Integer","Integer"]]},saveCanvas:{overloads:[["p5.Framebuffer|p5.Element|HTMLCanvasElement","String?","String?"],["String?","String?"]]},saveFrames:{overloads:[["String","String","Number","Number","function(Array)?"]]},loadImage:{overloads:[["String|Request","function(p5.Image)?","function(Event)?"]]},saveGif:{overloads:[["String","Number","Object?"]]},image:{overloads:[["p5.Image|p5.Element|p5.Texture|p5.Framebuffer|p5.FramebufferTexture|p5.Renderer|p5.Graphics","Number","Number","Number?","Number?"],["p5.Image|p5.Element|p5.Texture|p5.Framebuffer|p5.FramebufferTexture","Number","Number","Number","Number","Number","Number","Number?","Number?","CONTAIN|COVER?","LEFT|RIGHT|CENTER?","TOP|BOTTOM|CENTER?"]]},tint:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},noTint:{overloads:[[]]},imageMode:{overloads:[["CORNER|CORNERS|CENTER"]]},blend:{overloads:[["p5.Image","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"]]},copy:{overloads:[["p5.Image|p5.Element","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"]]},filter:{overloads:[["THRESHOLD|GRAY|OPAQUE|INVERT|POSTERIZE|BLUR|ERODE|DILATE|BLUR","Number?","Boolean?"],["p5.Shader"]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]},loadPixels:{overloads:[[]]},set:{overloads:[["Number","Number","Number|Number[]|Object"]]},updatePixels:{overloads:[["Number?","Number?","Number?","Number?"],[]]},loadJSON:{overloads:[["String|Request","Function?","Function?"]]},loadStrings:{overloads:[["String|Request","Function?","Function?"]]},loadTable:{overloads:[["String|Request","String?","String?","Function?","Function?"]]},loadXML:{overloads:[["String|Request","Function?","Function?"]]},loadBytes:{overloads:[["String|Request","Function?","Function?"]]},loadBlob:{overloads:[["String|Request","Function?","Function?"]]},httpGet:{overloads:[["String|Request","String?","Function?","Function?"],["String|Request","Function","Function?"]]},httpPost:{overloads:[["String|Request","Object|Boolean?","String?","Function?","Function?"],["String|Request","Object|Boolean","Function?","Function?"],["String|Request","Function?","Function?"]]},httpDo:{overloads:[["String|Request","String?","String?","Object?","Function?","Function?"],["String|Request","Function?","Function?"]]},createWriter:{overloads:[["String","String?"]]},write:{overloads:[["String|Number|Array"]]},close:{overloads:[[]]},save:{overloads:[["Object|String?","String?","Boolean|String?"]]},saveJSON:{overloads:[["Array|Object","String","Boolean?"]]},saveStrings:{overloads:[["String[]","String","String?","Boolean?"]]},saveTable:{overloads:[["p5.Table","String","String?"]]},setContent:{overloads:[["String"]]},abs:{overloads:[["Number"]]},ceil:{overloads:[["Number"]]},constrain:{overloads:[["Number","Number","Number"]]},dist:{overloads:[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number"]]},exp:{overloads:[["Number"]]},floor:{overloads:[["Number"]]},lerp:{overloads:[["Number","Number","Number"]]},log:{overloads:[["Number"]]},mag:{overloads:[["Number","Number"]]},map:{overloads:[["Number","Number","Number","Number","Number","Boolean?"]]},max:{overloads:[["Number","Number"],["Number[]"]]},min:{overloads:[["Number","Number"],["Number[]"]]},norm:{overloads:[["Number","Number","Number"]]},pow:{overloads:[["Number","Number"]]},round:{overloads:[["Number","Number?"]]},sq:{overloads:[["Number"]]},sqrt:{overloads:[["Number"]]},fract:{overloads:[["Number"]]},createVector:{overloads:[["...Number[]"]]},noise:{overloads:[["Number","Number?","Number?"]]},noiseDetail:{overloads:[["Number","Number"]]},noiseSeed:{overloads:[["Number"]]},randomSeed:{overloads:[["Number"]]},random:{overloads:[["Number?","Number?"],["Array"]]},randomGaussian:{overloads:[["Number?","Number?"]]},acos:{overloads:[["Number"]]},asin:{overloads:[["Number"]]},atan:{overloads:[["Number"]]},atan2:{overloads:[["Number","Number"]]},cos:{overloads:[["Number"]]},sin:{overloads:[["Number"]]},tan:{overloads:[["Number"]]},degrees:{overloads:[["Number"]]},radians:{overloads:[["Number"]]},angleMode:{overloads:[["RADIANS|DEGREES"],[]]},arc:{overloads:[["Number","Number","Number","Number","Number","Number","CHORD|PIE|OPEN?","Integer?"]]},ellipse:{overloads:[["Number","Number","Number","Number?"],["Number","Number","Number","Number","Integer?"]]},circle:{overloads:[["Number","Number","Number"]]},line:{overloads:[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number"]]},point:{overloads:[["Number","Number","Number?"],["p5.Vector"]]},quad:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number","Integer?","Integer?"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Integer?","Integer?"]]},rect:{overloads:[["Number","Number","Number","Number?","Number?","Number?","Number?","Number?"],["Number","Number","Number","Number","Integer?","Integer?"]]},square:{overloads:[["Number","Number","Number","Number?","Number?","Number?","Number?"]]},triangle:{overloads:[["Number","Number","Number","Number","Number","Number"]]},ellipseMode:{overloads:[["CENTER|RADIUS|CORNER|CORNERS"]]},noSmooth:{overloads:[[]]},rectMode:{overloads:[["CENTER|RADIUS|CORNER|CORNERS"]]},smooth:{overloads:[[]]},strokeCap:{overloads:[["ROUND|SQUARE|PROJECT"]]},strokeJoin:{overloads:[["MITER|BEVEL|ROUND"]]},strokeWeight:{overloads:[["Number"]]},bezier:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},bezierPoint:{overloads:[["Number","Number","Number","Number","Number"]]},bezierTangent:{overloads:[["Number","Number","Number","Number","Number"]]},spline:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},splinePoint:{overloads:[["Number","Number","Number","Number","Number"]]},splineTangent:{overloads:[["Number","Number","Number","Number","Number"]]},bezierOrder:{overloads:[["Number"],[]]},splineVertex:{overloads:[["Number","Number"],["Number","Number","Number?"],["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},splineProperty:{overloads:[["String",null],["String"]]},splineProperties:{overloads:[["Object"],[]]},vertex:{overloads:[["Number","Number"],["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},beginContour:{overloads:[[]]},endContour:{overloads:[["OPEN|CLOSE?"]]},beginShape:{overloads:[["POINTS|LINES|TRIANGLES|TRIANGLE_FAN|TRIANGLE_STRIP|QUADS|QUAD_STRIP|PATH?"]]},bezierVertex:{overloads:[["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},endShape:{overloads:[["CLOSE?","Integer?"]]},normal:{overloads:[["p5.Vector"],["Number","Number","Number"]]},vertexProperty:{overloads:[["String","Number|Number[]"]]},getWorldInputs:{overloads:[["Function"]]},combineColors:{overloads:[["Function"]]},getPixelInputs:{overloads:[["Function"]]},getFinalColor:{overloads:[["Function"]]},getColor:{overloads:[["Function"]]},getObjectInputs:{overloads:[["Function"]]},getCameraInputs:{overloads:[["Function"]]},loadFont:{overloads:[["String","String?","Object?","Function?","Function?"],["String","Function?","Function?"]]},text:{overloads:[["String|Object|Array|Number|Boolean","Number","Number","Number?","Number?"]]},textAlign:{overloads:[["LEFT|CENTER|RIGHT?","TOP|BOTTOM|CENTER|BASELINE?"]]},textAscent:{overloads:[["String?"]]},textDescent:{overloads:[["String?"]]},textLeading:{overloads:[["Number?"]]},textFont:{overloads:[["p5.Font|String|Object?","Number?"]]},textSize:{overloads:[["Number"],[]]},textStyle:{overloads:[["NORMAL|ITALIC|BOLD|BOLDITALIC"],[]]},textWidth:{overloads:[["String"]]},textWrap:{overloads:[["WORD|CHAR"],[]]},textBounds:{overloads:[["String","Number","Number","Number?","Number?"]]},textDirection:{overloads:[["String"],[]]},textProperty:{overloads:[["String",null],["String"]]},textProperties:{overloads:[["Object"],[]]},fontBounds:{overloads:[["String","Number","Number","Number?","Number?"]]},fontWidth:{overloads:[["String"]]},fontAscent:{overloads:[[]]},fontDescent:{overloads:[[]]},textWeight:{overloads:[["Number"],[]]},float:{overloads:[["String"],["String[]"]]},int:{overloads:[["String|Boolean|Number"],["Array"]]},str:{overloads:[["String|Boolean|Number"]]},boolean:{overloads:[["String|Boolean|Number"],["Array"]]},byte:{overloads:[["String|Boolean|Number"],["Array"]]},char:{overloads:[["String|Number"],["Array"]]},unchar:{overloads:[["String"],["String[]"]]},hex:{overloads:[["Number","Number?"],["Number[]","Number?"]]},unhex:{overloads:[["String"],["String[]"]]},day:{overloads:[[]]},hour:{overloads:[[]]},minute:{overloads:[[]]},millis:{overloads:[[]]},month:{overloads:[[]]},second:{overloads:[[]]},year:{overloads:[[]]},nf:{overloads:[["Number|String","Integer|String?","Integer|String?"],["Number[]","Integer|String?","Integer|String?"]]},nfc:{overloads:[["Number|String","Integer|String?"],["Number[]","Integer|String?"]]},nfp:{overloads:[["Number","Integer?","Integer?"],["Number[]","Integer?","Integer?"]]},nfs:{overloads:[["Number","Integer?","Integer?"],["Array","Integer?","Integer?"]]},splitTokens:{overloads:[["String","String?"]]},shuffle:{overloads:[["Array","Boolean?"]]},strokeMode:{overloads:[["String"]]},buildGeometry:{overloads:[["Function"]]},freeGeometry:{overloads:[["p5.Geometry"]]},plane:{overloads:[["Number?","Number?","Integer?","Integer?"]]},box:{overloads:[["Number?","Number?","Number?","Integer?","Integer?"]]},sphere:{overloads:[["Number?","Integer?","Integer?"]]},cylinder:{overloads:[["Number?","Number?","Integer?","Integer?","Boolean?","Boolean?"]]},cone:{overloads:[["Number?","Number?","Integer?","Integer?","Boolean?"]]},ellipsoid:{overloads:[["Number?","Number?","Number?","Integer?","Integer?"]]},torus:{overloads:[["Number?","Number?","Integer?","Integer?"]]},curveDetail:{overloads:[["Number"]]},orbitControl:{overloads:[["Number?","Number?","Number?","Object?"]]},debugMode:{overloads:[[],["GRID|AXES"],["GRID|AXES","Number?","Number?","Number?","Number?","Number?"],["GRID|AXES","Number?","Number?","Number?","Number?"],["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},noDebugMode:{overloads:[[]]},ambientLight:{overloads:[["Number","Number","Number","Number?"],["Number","Number?"],["String"],["Number[]"],["p5.Color"]]},specularColor:{overloads:[["Number","Number","Number"],["Number"],["String"],["Number[]"],["p5.Color"]]},directionalLight:{overloads:[["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","p5.Vector"],["p5.Color|Number[]|String","Number","Number","Number"],["p5.Color|Number[]|String","p5.Vector"]]},pointLight:{overloads:[["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","p5.Vector"],["p5.Color|Number[]|String","Number","Number","Number"],["p5.Color|Number[]|String","p5.Vector"]]},imageLight:{overloads:[["p5.Image"]]},panorama:{overloads:[["p5.Image"]]},lights:{overloads:[[]]},lightFalloff:{overloads:[["Number","Number","Number"]]},spotLight:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number?","Number?"],["p5.Color|Number[]|String","p5.Vector","p5.Vector","Number?","Number?"],["Number","Number","Number","p5.Vector","p5.Vector","Number?","Number?"],["p5.Color|Number[]|String","Number","Number","Number","p5.Vector","Number?","Number?"],["p5.Color|Number[]|String","p5.Vector","Number","Number","Number","Number?","Number?"],["Number","Number","Number","Number","Number","Number","p5.Vector","Number?","Number?"],["Number","Number","Number","p5.Vector","Number","Number","Number","Number?","Number?"],["p5.Color|Number[]|String","Number","Number","Number","Number","Number","Number","Number?","Number?"]]},noLights:{overloads:[[]]},loadModel:{overloads:[["String|Request","String?","Boolean?","function(p5.Geometry)?","function(Event)?"],["String|Request","String?","function(p5.Geometry)?","function(Event)?"],["String|Request","Object?"]]},model:{overloads:[["p5.Geometry","Number?"]]},createModel:{overloads:[["String","String?","Boolean?","function(p5.Geometry)?","function(Event)?"],["String","String?","function(p5.Geometry)?","function(Event)?"],["String","String?","Object?"]]},loadShader:{overloads:[["String|Request","String|Request","Function?","Function?"]]},createShader:{overloads:[["String","String","Object?"]]},loadFilterShader:{overloads:[["String","Function?","Function?"]]},createFilterShader:{overloads:[["String"]]},shader:{overloads:[["p5.Shader"]]},strokeShader:{overloads:[["p5.Shader"]]},imageShader:{overloads:[["p5.Shader"]]},baseMaterialShader:{overloads:[[]]},baseFilterShader:{overloads:[[]]},baseNormalShader:{overloads:[[]]},baseColorShader:{overloads:[[]]},baseStrokeShader:{overloads:[[]]},resetShader:{overloads:[[]]},texture:{overloads:[["p5.Image|p5.MediaElement|p5.Graphics|p5.Texture|p5.Framebuffer|p5.FramebufferTexture"]]},textureMode:{overloads:[["IMAGE|NORMAL"]]},textureWrap:{overloads:[["CLAMP|REPEAT|MIRROR","CLAMP|REPEAT|MIRROR?"]]},normalMaterial:{overloads:[[]]},ambientMaterial:{overloads:[["Number","Number","Number"],["Number"],["p5.Color|Number[]|String"]]},emissiveMaterial:{overloads:[["Number","Number","Number","Number?"],["Number"],["p5.Color|Number[]|String"]]},specularMaterial:{overloads:[["Number","Number?"],["Number","Number","Number","Number?"],["p5.Color|Number[]|String"]]},shininess:{overloads:[["Number"]]},metalness:{overloads:[["Number"]]},roll:{overloads:[["Number"]]},camera:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},perspective:{overloads:[["Number?","Number?","Number?","Number?"]]},linePerspective:{overloads:[["Boolean"],[]]},ortho:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},frustum:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},createCamera:{overloads:[[]]},setCamera:{overloads:[["p5.Camera"]]},saveObj:{overloads:[["String?"]]},saveStl:{overloads:[["String?","Object?"]]},fromAxisAngle:{overloads:[["Number?","Number?","Number?","Number?"]]},mult:{overloads:[["p5.Quat?"]]},rotateBy:{overloads:[["p5.Quat?"]]},setAttributes:{overloads:[["String","Boolean"],["Object"]]}},ene={p5:Qte,"p5.Color":{toString:{overloads:[["String?"]]},contrast:{overloads:[["Color"]]},setRed:{overloads:[["Number"]]},setGreen:{overloads:[["Number"]]},setBlue:{overloads:[["Number"]]},setAlpha:{overloads:[["Number"]]}},"p5.Graphics":{reset:{overloads:[[]]},remove:{overloads:[[]]},createFramebuffer:{overloads:[["Object?"]]}},"p5.Element":{remove:{overloads:[[]]},parent:{overloads:[["String|p5.Element|Object"],[]]},child:{overloads:[[],["String|p5.Element?"]]},html:{overloads:[[],["String?","Boolean?"]]},id:{overloads:[["String"],[]]},class:{overloads:[["String"],[]]},addClass:{overloads:[["String"]]},removeClass:{overloads:[["String"]]},hasClass:{overloads:[[null]]},toggleClass:{overloads:[[null]]},center:{overloads:[["String?"]]},position:{overloads:[[],["Number?","Number?","String?"]]},show:{overloads:[[]]},hide:{overloads:[[]]},size:{overloads:[[],["Number|AUTO?","Number|AUTO?"]]},style:{overloads:[["String"],["String","String|p5.Color"]]},attribute:{overloads:[[],["String","String"]]},removeAttribute:{overloads:[["String"]]},value:{overloads:[[],["String|Number"]]},mousePressed:{overloads:[["Function|Boolean"]]},doubleClicked:{overloads:[["Function|Boolean"]]},mouseWheel:{overloads:[["Function|Boolean"]]},mouseReleased:{overloads:[["Function|Boolean"]]},mouseClicked:{overloads:[["Function|Boolean"]]},mouseMoved:{overloads:[["Function|Boolean"]]},mouseOver:{overloads:[["Function|Boolean"]]},mouseOut:{overloads:[["Function|Boolean"]]},dragOver:{overloads:[["Function|Boolean"]]},dragLeave:{overloads:[["Function|Boolean"]]},changed:{overloads:[["Function|Boolean"]]},input:{overloads:[["Function|Boolean"]]},drop:{overloads:[["Function","Function?"]]},draggable:{overloads:[["p5.Element?"]]}},"p5.MediaElement":{play:{overloads:[[]]},stop:{overloads:[[]]},pause:{overloads:[[]]},loop:{overloads:[[]]},noLoop:{overloads:[[]]},autoplay:{overloads:[["Boolean?"]]},volume:{overloads:[[],["Number"]]},speed:{overloads:[[],["Number"]]},time:{overloads:[["Number?"]]},duration:{overloads:[[]]},onended:{overloads:[["Function"]]},connect:{overloads:[["AudioNode|Object"]]},disconnect:{overloads:[[]]},showControls:{overloads:[[]]},hideControls:{overloads:[[]]},addCue:{overloads:[["Number","Function","Object?"]]},removeCue:{overloads:[["Number"]]},clearCues:{overloads:[[]]}},"p5.Image":{pixelDensity:{overloads:[["Number?"]]},loadPixels:{overloads:[[]]},updatePixels:{overloads:[["Integer?","Integer?","Integer?","Integer?"]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]},set:{overloads:[["Number","Number","Number|Number[]|Object"]]},resize:{overloads:[["Number","Number"]]},copy:{overloads:[["p5.Image|p5.Element","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"]]},mask:{overloads:[["p5.Image"]]},filter:{overloads:[["THRESHOLD|GRAY|OPAQUE|INVERT|POSTERIZE|ERODE|DILATE|BLUR","Number?"]]},blend:{overloads:[["p5.Image","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"]]},save:{overloads:[["String","String?"]]},reset:{overloads:[[]]},getCurrentFrame:{overloads:[[]]},setFrame:{overloads:[["Number"]]},numFrames:{overloads:[[]]},play:{overloads:[[]]},pause:{overloads:[[]]},delay:{overloads:[["Number","Number?"]]}},"p5.Table":{addRow:{overloads:[["p5.TableRow?"]]},removeRow:{overloads:[["Integer"]]},getRow:{overloads:[["Integer"]]},getRows:{overloads:[[]]},findRow:{overloads:[["String","Integer|String"]]},findRows:{overloads:[["String","Integer|String"]]},matchRow:{overloads:[["String|RegExp","String|Integer"]]},matchRows:{overloads:[["String","String|Integer?"]]},getColumn:{overloads:[["String|Number"]]},clearRows:{overloads:[[]]},addColumn:{overloads:[["String?"]]},getColumnCount:{overloads:[[]]},getRowCount:{overloads:[[]]},removeTokens:{overloads:[["String","String|Integer?"]]},trim:{overloads:[["String|Integer?"]]},removeColumn:{overloads:[["String|Integer"]]},set:{overloads:[["Integer","String|Integer","String|Number"]]},setNum:{overloads:[["Integer","String|Integer","Number"]]},setString:{overloads:[["Integer","String|Integer","String"]]},get:{overloads:[["Integer","String|Integer"]]},getNum:{overloads:[["Integer","String|Integer"]]},getString:{overloads:[["Integer","String|Integer"]]},getObject:{overloads:[["String?"]]},getArray:{overloads:[[]]}},"p5.TableRow":{set:{overloads:[["String|Integer","String|Number"]]},setNum:{overloads:[["String|Integer","Number|String"]]},setString:{overloads:[["String|Integer","String|Number|Boolean|Object"]]},get:{overloads:[["String|Integer"]]},getNum:{overloads:[["String|Integer"]]},getString:{overloads:[["String|Integer"]]}},"p5.XML":{getParent:{overloads:[[]]},getName:{overloads:[[]]},setName:{overloads:[["String"]]},hasChildren:{overloads:[[]]},listChildren:{overloads:[[]]},getChildren:{overloads:[["String?"]]},getChild:{overloads:[["String|Integer"]]},addChild:{overloads:[["p5.XML"]]},removeChild:{overloads:[["String|Integer"]]},getAttributeCount:{overloads:[[]]},listAttributes:{overloads:[[]]},hasAttribute:{overloads:[["String"]]},getNum:{overloads:[["String","Number?"]]},getString:{overloads:[["String","Number?"]]},setAttribute:{overloads:[["String","Number|String|Boolean"]]},getContent:{overloads:[["String?"]]},serialize:{overloads:[[]]}},"p5.Vector":{getValue:{overloads:[["Number"]]},setValue:{overloads:[["Number","Number"]]},set:{overloads:[["Number?","Number?","Number?"],["p5.Vector|Number[]"]]},copy:{overloads:[[]]},add:{overloads:[["Number|Array","Number?","Number?"],["p5.Vector|Number[]"]]},rem:{overloads:[["Number","Number","Number"],["p5.Vector|Number[]"]]},sub:{overloads:[["Number","Number?","Number?"],["p5.Vector|Number[]"]]},mult:{overloads:[["Number"],["Number","Number","Number?"],["Number[]"],["p5.Vector"]]},div:{overloads:[["Number"],["Number","Number","Number?"],["Number[]"],["p5.Vector"]]},mag:{overloads:[[]]},magSq:{overloads:[[]]},dot:{overloads:[["Number","Number?","Number?"],["p5.Vector"]]},cross:{overloads:[["p5.Vector"]]},dist:{overloads:[["p5.Vector"]]},normalize:{overloads:[[]]},limit:{overloads:[["Number"]]},setMag:{overloads:[["Number"]]},heading:{overloads:[[]]},setHeading:{overloads:[["Number"]]},rotate:{overloads:[["Number"]]},angleBetween:{overloads:[["p5.Vector"]]},lerp:{overloads:[["Number","Number","Number","Number"],["p5.Vector","Number"]]},slerp:{overloads:[["p5.Vector","Number"]]},reflect:{overloads:[["p5.Vector"]]},array:{overloads:[[]]},equals:{overloads:[["Number?","Number?","Number?"],["p5.Vector|Array"]]},clampToZero:{overloads:[[]]},fromAngle:{overloads:[["Number","Number?"]]},fromAngles:{overloads:[["Number","Number","Number?"]]},random2D:{overloads:[[]]},random3D:{overloads:[[]]}},"p5.Font":{textToPaths:{overloads:[["String","Number","Number","Number?","Number?"]]},textToPoints:{overloads:[["String","Number","Number","Object?"]]},textToContours:{overloads:[["String","Number","Number","Object?"]]},textToModel:{overloads:[["String","Number","Number","Number","Number","Object?"]]}},"p5.Camera":{perspective:{overloads:[["Number?","Number?","Number?","Number?"]]},ortho:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},frustum:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},pan:{overloads:[["Number"]]},tilt:{overloads:[["Number"]]},lookAt:{overloads:[["Number","Number","Number"]]},camera:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},move:{overloads:[["Number","Number","Number"]]},setPosition:{overloads:[["Number","Number","Number"]]},set:{overloads:[["p5.Camera"]]},slerp:{overloads:[["p5.Camera","p5.Camera","Number"]]}},"p5.Framebuffer":{resize:{overloads:[["Number","Number"]]},pixelDensity:{overloads:[["Number?"]]},autoSized:{overloads:[["Boolean?"]]},createCamera:{overloads:[[]]},remove:{overloads:[[]]},begin:{overloads:[[]]},end:{overloads:[[]]},draw:{overloads:[["Function"]]},loadPixels:{overloads:[[]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]}},"p5.Geometry":{calculateBoundingBox:{overloads:[[]]},clearColors:{overloads:[[]]},flipU:{overloads:[[]]},computeFaces:{overloads:[[]]},computeNormals:{overloads:[["FLAT|SMOOTH?","Object?"]]},makeEdgesFromFaces:{overloads:[[]]},normalize:{overloads:[[]]},vertexProperty:{overloads:[["String","Number|Number[]","Number?"]]},flipV:{overloads:[[]]}},"p5.Shader":{version:{overloads:[[]]},inspectHooks:{overloads:[[]]},modify:{overloads:[["Function","Object?"],["Object?"]]},copyToContext:{overloads:[["p5|p5.Graphics"]]},setUniform:{overloads:[["String","Boolean|Number|Number[]|p5.Image|p5.Graphics|p5.MediaElement|p5.Texture"]]}}};function ik(n,t,r){let i=new Map;const s=Object.keys(n).reduce((y,x)=>(x.match(/^[A-Z]/)&&!x.match(/^[A-Z][A-Z0-9]*$/)&&n[x]instanceof Function&&(y[x]=n[x]),y),{});function o(){for(let y of Object.keys(n))typeof n[y]=="function"&&y[0]!==y[0].toLowerCase()&&(s[y]=n[y])}const a={};for(const[y,x]of Object.entries(Pa))a[y]=x;const l={Any:iv(),Array:Zy(iv()),Boolean:Cte(),Function:kS(),Integer:OS().int(),Number:OS(),Object:kte({}),String:ste()},u=["AudioNode","HTMLCanvasElement","HTMLElement","KeyboardEvent","MouseEvent","RegExp","TouchEvent","UIEvent","WheelEvent"];function h(y){return y.reduce((x,b)=>(x[b]=jS(w=>w instanceof globalThis[b],{message:`Expected a ${b}`}),x),{})}const c=h(u);Object.assign(l,c);const f=["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth"];function d(y){const x=y.lastIndexOf("."),b=y.slice(x+1),w=y.slice(0,x!==-1?x:0)||"p5";return{funcName:b,funcClass:w}}function p(y){let x=0;for(let b=0;b<y.length;b++)if(y[b]==="[")x++;else if(y[b]==="]"&&(x--,x<0))return!1;return x===0}const m=function(y){const{funcName:x,funcClass:b}=d(y);let w=ene[b][x];if(!w)return;let E=[];w.hasOwnProperty("overloads")&&(E=w.overloads);const _=k=>{if(!k)return iv();let D;if(k in a)D=BS(a[k]);else if(k.match(/^[A-Z][A-Z0-9]*$/)&&k in t)D=BS(t[k]);else if(k.startsWith("function"))D=kS();else if(/^p5\.[a-zA-Z0-9]+$/.exec(k)||k==="p5"){const N=k.substring(k.indexOf(".")+1);D=zS(s[N])}else if(l[k])D=l[k];else if(k.startsWith("[")&&k.endsWith("]")&&p(k.slice(1,-1)))D=RS(k.slice(1,-1).split(/, */g).map(N=>_(N)));else if(k.match(/^[A-Z]/)&&k in window)D=zS(window[k]);else if(k.includes("|")&&k.split("|").every(N=>p(N))){const N=k.split("|");D=Jy(N.map(M=>_(M)).filter(M=>M!==void 0))}else if(k.endsWith("[]"))D=Zy(_(k.slice(0,-2)));else throw new Error(`Unsupported type '${k}' in parameter validation. Please report this issue.`);return D},T=k=>{const D=k?.endsWith("?");k=k?.replace(/\?$/,"");const N=k?.startsWith("...")&&k?.endsWith("[]");k=k?.replace(/^\.\.\.(.+)\[\]$/,"$1");let M=_(k);return M.def.type==="function"&&(M=jS(U=>U instanceof Function)),D&&(M=M.optional()),{schema:M,rest:N}},C=k=>{if(!k.some(M=>M?.endsWith("?")))return[k];const D=k.filter(M=>M===null||!M.endsWith("?")).length,N=[];for(let M=D;M<=k.length;M++)N.push(k.slice(0,M));return N},F=E.flatMap(k=>C(k).map(N=>{const M=N.map(W=>T(W)).filter(W=>W.schema!==void 0);let U;M.at(-1)?.rest&&(U=M.pop());let R=RS(M.map(W=>W.schema));return U&&(R=R.rest(U.schema)),R}));return F.length===1?F[0]:Jy(F)},g=function(y,x){if(!(y instanceof ek))return y;const b=T=>{let C=1/0;if(!(T instanceof tk))return console.warn("Schema below is not a tuple: "),printZodSchema(T),C;const F=x.length,k=T.def.items,D=k.length,N=k.filter(M=>!M.isOptional()).length;F>=N&&F<=D?C=0:C=Math.abs(F<N?N-F:F-D)*4;for(let M=0;M<Math.min(k.length,x.length);M++){const U=k[M],R=x[M];U.safeParse(R).success||C++}return C};let w=y.def.options[0],E=1/0;return y.def.options.forEach(T=>{const C=b(T);C<E&&(w=T,E=C)}),w},v=function(y,x,b){let w=" p5.js says: ",E=!1,_=y.issues[0];const T=(k,D,N)=>{const M=N?`at the ${f[N]} parameter`:"",U=k?`, but received ${k}`:"";return`Expected ${D} ${M}${U}`},C=k=>{const D=new Set;let N;if(k.errors.forEach(M=>{const U=M[0];if(U){if(N||(N=U.message),U.code==="invalid_type")N=U.message.split(", received ")[1],D.add(U.expected);else if(U.code==="invalid_value")D.add("constant (please refer to documentation for allowed values)"),N=b[k.path[0]];else if(U.code==="custom"){const R=U.message.match(/Input not instance of (\w+)/);R&&D.add(R[1]),N=void 0}}}),D.size>0){k.path?.length>0&&b[k.path[0]]instanceof Promise&&(w+="Did you mean to put `await` before a loading function? An unexpected Promise was found. ",E=!0);const M=Array.from(D).join(" or "),U=k.path.join(".");w+=T(N,M,U)}return w};switch(_.code){case"invalid_union":{C(_);break}case"too_small":{const k=_.minimum;w+=`Expected at least ${k} argument${k>1?"s":""}, but received fewer`;break}case"invalid_type":{w+=T(_.message.split(", received ")[1],_.expected,_.path.join("."));break}case"too_big":{const k=_.maximum;w+=`Expected at most ${k} argument${k>1?"s":""}, but received more`;break}default:console.log("Zod error object",_)}w+=` in ${x}().`;const F=k=>{const{funcName:D,funcClass:N}=d(k);return`https://p5js.org/reference/${N}/${D}`};if(_.code==="too_big"||_.code==="too_small"){const k=F(x);w+=` For more information, see ${k}.`}return E?n._error(this,w):console.log(w),w},S=function(y,x){if(n.disableFriendlyErrors)return;if(Array.isArray(x)||(x=Array.from(x)),Array.isArray(x)&&x.length>0&&x.every(w=>w===void 0))return{success:!1,error:` p5.js says: All arguments for ${y}() are undefined. There is likely an error in the code.`};let b=i.get(y);if(!b){if(b=m(y),!b)return;i.set(y,b)}try{return{success:!0,data:b.parse(x)}}catch{const _=g(b,x).safeParse(x).error;return{success:!1,error:v(_,y,x)}}};t._validate=S,n.decorateHelper(/^(?!_).+$/,function(y,{name:x}){return function(...b){return!n.disableFriendlyErrors&&!n.disableParameterValidator&&S(x,b),y.call(this,...b)}}),r.presetup=function(){o()}}typeof p5<"u"&&ik(p5,p5.prototype);var tne=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],sk=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],nne="-----------------------------------------------------------------------------------------------------------------------------------------------------",ok="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",sv={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ov="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",rne={5:ov,"5module":ov+" export import",6:ov+" const class extends export import super"},ine=/^in(stanceof)?$/,sne=new RegExp("["+ok+"]"),one=new RegExp("["+ok+nne+"]");function e1(n,t){for(var r=65536,i=0;i<t.length;i+=2){if(r+=t[i],r>n)return!1;if(r+=t[i+1],r>=n)return!0}return!1}function mo(n,t){return n<65?n===36:n<91?!0:n<97?n===95:n<123?!0:n<=65535?n>=170&&sne.test(String.fromCharCode(n)):t===!1?!1:e1(n,sk)}function Ba(n,t){return n<48?n===36:n<58?!0:n<65?!1:n<91?!0:n<97?n===95:n<123?!0:n<=65535?n>=170&&one.test(String.fromCharCode(n)):t===!1?!1:e1(n,sk)||e1(n,tne)}var bn=function(t,r){r===void 0&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function xs(n,t){return new bn(n,{beforeExpr:!0,binop:t})}var _s={beforeExpr:!0},Ri={startsExpr:!0},wx={};function yn(n,t){return t===void 0&&(t={}),t.keyword=n,wx[n]=new bn(n,t)}var oe={num:new bn("num",Ri),regexp:new bn("regexp",Ri),string:new bn("string",Ri),name:new bn("name",Ri),privateId:new bn("privateId",Ri),eof:new bn("eof"),bracketL:new bn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new bn("]"),braceL:new bn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new bn("}"),parenL:new bn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new bn(")"),comma:new bn(",",_s),semi:new bn(";",_s),colon:new bn(":",_s),dot:new bn("."),question:new bn("?",_s),questionDot:new bn("?."),arrow:new bn("=>",_s),template:new bn("template"),invalidTemplate:new bn("invalidTemplate"),ellipsis:new bn("...",_s),backQuote:new bn("`",Ri),dollarBraceL:new bn("${",{beforeExpr:!0,startsExpr:!0}),eq:new bn("=",{beforeExpr:!0,isAssign:!0}),assign:new bn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new bn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new bn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:xs("||",1),logicalAND:xs("&&",2),bitwiseOR:xs("|",3),bitwiseXOR:xs("^",4),bitwiseAND:xs("&",5),equality:xs("==/!=/===/!==",6),relational:xs("</>/<=/>=",7),bitShift:xs("<</>>/>>>",8),plusMin:new bn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:xs("%",10),star:xs("*",10),slash:xs("/",10),starstar:new bn("**",{beforeExpr:!0}),coalesce:xs("??",1),_break:yn("break"),_case:yn("case",_s),_catch:yn("catch"),_continue:yn("continue"),_debugger:yn("debugger"),_default:yn("default",_s),_do:yn("do",{isLoop:!0,beforeExpr:!0}),_else:yn("else",_s),_finally:yn("finally"),_for:yn("for",{isLoop:!0}),_function:yn("function",Ri),_if:yn("if"),_return:yn("return",_s),_switch:yn("switch"),_throw:yn("throw",_s),_try:yn("try"),_var:yn("var"),_const:yn("const"),_while:yn("while",{isLoop:!0}),_with:yn("with"),_new:yn("new",{beforeExpr:!0,startsExpr:!0}),_this:yn("this",Ri),_super:yn("super",Ri),_class:yn("class",Ri),_extends:yn("extends",_s),_export:yn("export"),_import:yn("import",Ri),_null:yn("null",Ri),_true:yn("true",Ri),_false:yn("false",Ri),_in:yn("in",{beforeExpr:!0,binop:7}),_instanceof:yn("instanceof",{beforeExpr:!0,binop:7}),_typeof:yn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:yn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:yn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ki=/\r\n?|\n|\u2028|\u2029/,ane=new RegExp(Ki.source,"g");function Cc(n){return n===10||n===13||n===8232||n===8233}function ak(n,t,r){r===void 0&&(r=n.length);for(var i=t;i<r;i++){var s=n.charCodeAt(i);if(Cc(s))return i<r-1&&s===13&&n.charCodeAt(i+1)===10?i+2:i+1}return-1}var lk=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ui=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,uk=Object.prototype,lne=uk.hasOwnProperty,une=uk.toString,Ac=Object.hasOwn||(function(n,t){return lne.call(n,t)}),GS=Array.isArray||(function(n){return une.call(n)==="[object Array]"}),HS=Object.create(null);function Ta(n){return HS[n]||(HS[n]=new RegExp("^(?:"+n.replace(/ /g,"|")+")$"))}function Jo(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}var cne=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,af=function(t,r){this.line=t,this.column=r};af.prototype.offset=function(t){return new af(this.line,this.column+t)};var Sg=function(t,r,i){this.start=r,this.end=i,t.sourceFile!==null&&(this.source=t.sourceFile)};function ck(n,t){for(var r=1,i=0;;){var s=ak(n,i,t);if(s<0)return new af(r,t-i);++r,i=s}}var t1={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},WS=!1;function hne(n){var t={};for(var r in t1)t[r]=n&&Ac(n,r)?n[r]:t1[r];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!WS&&typeof console=="object"&&console.warn&&(WS=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!n||n.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),GS(t.onToken)){var i=t.onToken;t.onToken=function(s){return i.push(s)}}return GS(t.onComment)&&(t.onComment=fne(t,t.onComment)),t}function fne(n,t){return function(r,i,s,o,a,l){var u={type:r?"Block":"Line",value:i,start:s,end:o};n.locations&&(u.loc=new Sg(this,a,l)),n.ranges&&(u.range=[s,o]),t.push(u)}}var lf=1,Tc=2,Ex=4,hk=8,Sx=16,fk=32,Cg=64,dk=128,ou=256,Ff=512,Ag=lf|Tc|ou;function Cx(n,t){return Tc|(n?Ex:0)|(t?hk:0)}var om=0,Ax=1,ra=2,pk=3,mk=4,gk=5,Br=function(t,r,i){this.options=t=hne(t),this.sourceFile=t.sourceFile,this.keywords=Ta(rne[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var s="";t.allowReserved!==!0&&(s=sv[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(s+=" await")),this.reservedWords=Ta(s);var o=(s?s+" ":"")+sv.strict;this.reservedWordsStrict=Ta(o),this.reservedWordsStrictBind=Ta(o+" "+sv.strictBind),this.input=String(r),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ki).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=oe.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(lf),this.regexpState=null,this.privateNameStack=[]},yo={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Br.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};yo.inFunction.get=function(){return(this.currentVarScope().flags&Tc)>0};yo.inGenerator.get=function(){return(this.currentVarScope().flags&hk)>0};yo.inAsync.get=function(){return(this.currentVarScope().flags&Ex)>0};yo.canAwait.get=function(){for(var n=this.scopeStack.length-1;n>=0;n--){var t=this.scopeStack[n],r=t.flags;if(r&(ou|Ff))return!1;if(r&Tc)return(r&Ex)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};yo.allowSuper.get=function(){var n=this.currentThisScope(),t=n.flags;return(t&Cg)>0||this.options.allowSuperOutsideMethod};yo.allowDirectSuper.get=function(){return(this.currentThisScope().flags&dk)>0};yo.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};yo.allowNewDotTarget.get=function(){for(var n=this.scopeStack.length-1;n>=0;n--){var t=this.scopeStack[n],r=t.flags;if(r&(ou|Ff)||r&Tc&&!(r&Sx))return!0}return!1};yo.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ou)>0};Br.extend=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var i=this,s=0;s<t.length;s++)i=t[s](i);return i};Br.parse=function(t,r){return new this(r,t).parse()};Br.parseExpressionAt=function(t,r,i){var s=new this(i,t,r);return s.nextToken(),s.parseExpression()};Br.tokenizer=function(t,r){return new this(r,t)};Object.defineProperties(Br.prototype,yo);var Mi=Br.prototype,dne=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Mi.strictDirective=function(n){if(this.options.ecmaVersion<5)return!1;for(;;){ui.lastIndex=n,n+=ui.exec(this.input)[0].length;var t=dne.exec(this.input.slice(n));if(!t)return!1;if((t[1]||t[2])==="use strict"){ui.lastIndex=n+t[0].length;var r=ui.exec(this.input),i=r.index+r[0].length,s=this.input.charAt(i);return s===";"||s==="}"||Ki.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(i+1)==="=")}n+=t[0].length,ui.lastIndex=n,n+=ui.exec(this.input)[0].length,this.input[n]===";"&&n++}};Mi.eat=function(n){return this.type===n?(this.next(),!0):!1};Mi.isContextual=function(n){return this.type===oe.name&&this.value===n&&!this.containsEsc};Mi.eatContextual=function(n){return this.isContextual(n)?(this.next(),!0):!1};Mi.expectContextual=function(n){this.eatContextual(n)||this.unexpected()};Mi.canInsertSemicolon=function(){return this.type===oe.eof||this.type===oe.braceR||Ki.test(this.input.slice(this.lastTokEnd,this.start))};Mi.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Mi.semicolon=function(){!this.eat(oe.semi)&&!this.insertSemicolon()&&this.unexpected()};Mi.afterTrailingComma=function(n,t){if(this.type===n)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Mi.expect=function(n){this.eat(n)||this.unexpected()};Mi.unexpected=function(n){this.raise(n??this.start,"Unexpected token")};var Tg=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Mi.checkPatternErrors=function(n,t){if(n){n.trailingComma>-1&&this.raiseRecoverable(n.trailingComma,"Comma is not permitted after the rest element");var r=t?n.parenthesizedAssign:n.parenthesizedBind;r>-1&&this.raiseRecoverable(r,t?"Assigning to rvalue":"Parenthesized pattern")}};Mi.checkExpressionErrors=function(n,t){if(!n)return!1;var r=n.shorthandAssign,i=n.doubleProto;if(!t)return r>=0||i>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")};Mi.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Mi.isSimpleAssignTarget=function(n){return n.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(n.expression):n.type==="Identifier"||n.type==="MemberExpression"};var Et=Br.prototype;Et.parseTopLevel=function(n){var t=Object.create(null);for(n.body||(n.body=[]);this.type!==oe.eof;){var r=this.parseStatement(null,!0,t);n.body.push(r)}if(this.inModule)for(var i=0,s=Object.keys(this.undefinedExports);i<s.length;i+=1){var o=s[i];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(n.body),this.next(),n.sourceType=this.options.sourceType,this.finishNode(n,"Program")};var Tx={kind:"loop"},pne={kind:"switch"};Et.isLet=function(n){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ui.lastIndex=this.pos;var t=ui.exec(this.input),r=this.pos+t[0].length,i=this.input.charCodeAt(r);if(i===91||i===92)return!0;if(n)return!1;if(i===123||i>55295&&i<56320)return!0;if(mo(i,!0)){for(var s=r+1;Ba(i=this.input.charCodeAt(s),!0);)++s;if(i===92||i>55295&&i<56320)return!0;var o=this.input.slice(r,s);if(!ine.test(o))return!0}return!1};Et.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ui.lastIndex=this.pos;var n=ui.exec(this.input),t=this.pos+n[0].length,r;return!Ki.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(Ba(r=this.input.charCodeAt(t+8))||r>55295&&r<56320))};Et.isUsingKeyword=function(n,t){if(this.options.ecmaVersion<17||!this.isContextual(n?"await":"using"))return!1;ui.lastIndex=this.pos;var r=ui.exec(this.input),i=this.pos+r[0].length;if(Ki.test(this.input.slice(this.pos,i)))return!1;if(n){var s=i+5,o;if(this.input.slice(i,s)!=="using"||s===this.input.length||Ba(o=this.input.charCodeAt(s))||o>55295&&o<56320)return!1;ui.lastIndex=s;var a=ui.exec(this.input);if(a&&Ki.test(this.input.slice(s,s+a[0].length)))return!1}if(t){var l=i+2,u;if(this.input.slice(i,l)==="of"&&(l===this.input.length||!Ba(u=this.input.charCodeAt(l))&&!(u>55295&&u<56320)))return!1}var h=this.input.charCodeAt(i);return mo(h,!0)||h===92};Et.isAwaitUsing=function(n){return this.isUsingKeyword(!0,n)};Et.isUsing=function(n){return this.isUsingKeyword(!1,n)};Et.parseStatement=function(n,t,r){var i=this.type,s=this.startNode(),o;switch(this.isLet(n)&&(i=oe._var,o="let"),i){case oe._break:case oe._continue:return this.parseBreakContinueStatement(s,i.keyword);case oe._debugger:return this.parseDebuggerStatement(s);case oe._do:return this.parseDoStatement(s);case oe._for:return this.parseForStatement(s);case oe._function:return n&&(this.strict||n!=="if"&&n!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!n);case oe._class:return n&&this.unexpected(),this.parseClass(s,!0);case oe._if:return this.parseIfStatement(s);case oe._return:return this.parseReturnStatement(s);case oe._switch:return this.parseSwitchStatement(s);case oe._throw:return this.parseThrowStatement(s);case oe._try:return this.parseTryStatement(s);case oe._const:case oe._var:return o=o||this.value,n&&o!=="var"&&this.unexpected(),this.parseVarStatement(s,o);case oe._while:return this.parseWhileStatement(s);case oe._with:return this.parseWithStatement(s);case oe.braceL:return this.parseBlock(!0,s);case oe.semi:return this.parseEmptyStatement(s);case oe._export:case oe._import:if(this.options.ecmaVersion>10&&i===oe._import){ui.lastIndex=this.pos;var a=ui.exec(this.input),l=this.pos+a[0].length,u=this.input.charCodeAt(l);if(u===40||u===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===oe._import?this.parseImport(s):this.parseExport(s,r);default:if(this.isAsyncFunction())return n&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!n);var h=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(h)return t&&this.options.sourceType==="script"&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),h==="await using"&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(s,!1,h),this.semicolon(),this.finishNode(s,"VariableDeclaration");var c=this.value,f=this.parseExpression();return i===oe.name&&f.type==="Identifier"&&this.eat(oe.colon)?this.parseLabeledStatement(s,c,f,n):this.parseExpressionStatement(s,f)}};Et.parseBreakContinueStatement=function(n,t){var r=t==="break";this.next(),this.eat(oe.semi)||this.insertSemicolon()?n.label=null:this.type!==oe.name?this.unexpected():(n.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var s=this.labels[i];if((n.label==null||s.name===n.label.name)&&(s.kind!=null&&(r||s.kind==="loop")||n.label&&r))break}return i===this.labels.length&&this.raise(n.start,"Unsyntactic "+t),this.finishNode(n,r?"BreakStatement":"ContinueStatement")};Et.parseDebuggerStatement=function(n){return this.next(),this.semicolon(),this.finishNode(n,"DebuggerStatement")};Et.parseDoStatement=function(n){return this.next(),this.labels.push(Tx),n.body=this.parseStatement("do"),this.labels.pop(),this.expect(oe._while),n.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(oe.semi):this.semicolon(),this.finishNode(n,"DoWhileStatement")};Et.parseForStatement=function(n){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Tx),this.enterScope(0),this.expect(oe.parenL),this.type===oe.semi)return t>-1&&this.unexpected(t),this.parseFor(n,null);var r=this.isLet();if(this.type===oe._var||this.type===oe._const||r){var i=this.startNode(),s=r?"let":this.value;return this.next(),this.parseVar(i,!0,s),this.finishNode(i,"VariableDeclaration"),this.parseForAfterInit(n,i,t)}var o=this.isContextual("let"),a=!1,l=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(l){var u=this.startNode();return this.next(),l==="await using"&&this.next(),this.parseVar(u,!0,l),this.finishNode(u,"VariableDeclaration"),this.parseForAfterInit(n,u,t)}var h=this.containsEsc,c=new Tg,f=this.start,d=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===oe._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===oe._in&&this.unexpected(t),n.await=!0):a&&this.options.ecmaVersion>=8&&(d.start===f&&!h&&d.type==="Identifier"&&d.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(n.await=!1)),o&&a&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,c),this.checkLValPattern(d),this.parseForIn(n,d)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(n,d))};Et.parseForAfterInit=function(n,t,r){return(this.type===oe._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&t.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===oe._in?r>-1&&this.unexpected(r):n.await=r>-1),this.parseForIn(n,t)):(r>-1&&this.unexpected(r),this.parseFor(n,t))};Et.parseFunctionStatement=function(n,t,r){return this.next(),this.parseFunction(n,Sh|(r?0:n1),!1,t)};Et.parseIfStatement=function(n){return this.next(),n.test=this.parseParenExpression(),n.consequent=this.parseStatement("if"),n.alternate=this.eat(oe._else)?this.parseStatement("if"):null,this.finishNode(n,"IfStatement")};Et.parseReturnStatement=function(n){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(oe.semi)||this.insertSemicolon()?n.argument=null:(n.argument=this.parseExpression(),this.semicolon()),this.finishNode(n,"ReturnStatement")};Et.parseSwitchStatement=function(n){this.next(),n.discriminant=this.parseParenExpression(),n.cases=[],this.expect(oe.braceL),this.labels.push(pne),this.enterScope(0);for(var t,r=!1;this.type!==oe.braceR;)if(this.type===oe._case||this.type===oe._default){var i=this.type===oe._case;t&&this.finishNode(t,"SwitchCase"),n.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(oe.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(n,"SwitchStatement")};Et.parseThrowStatement=function(n){return this.next(),Ki.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),n.argument=this.parseExpression(),this.semicolon(),this.finishNode(n,"ThrowStatement")};var mne=[];Et.parseCatchClauseParam=function(){var n=this.parseBindingAtom(),t=n.type==="Identifier";return this.enterScope(t?fk:0),this.checkLValPattern(n,t?mk:ra),this.expect(oe.parenR),n};Et.parseTryStatement=function(n){if(this.next(),n.block=this.parseBlock(),n.handler=null,this.type===oe._catch){var t=this.startNode();this.next(),this.eat(oe.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),n.handler=this.finishNode(t,"CatchClause")}return n.finalizer=this.eat(oe._finally)?this.parseBlock():null,!n.handler&&!n.finalizer&&this.raise(n.start,"Missing catch or finally clause"),this.finishNode(n,"TryStatement")};Et.parseVarStatement=function(n,t,r){return this.next(),this.parseVar(n,!1,t,r),this.semicolon(),this.finishNode(n,"VariableDeclaration")};Et.parseWhileStatement=function(n){return this.next(),n.test=this.parseParenExpression(),this.labels.push(Tx),n.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(n,"WhileStatement")};Et.parseWithStatement=function(n){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),n.object=this.parseParenExpression(),n.body=this.parseStatement("with"),this.finishNode(n,"WithStatement")};Et.parseEmptyStatement=function(n){return this.next(),this.finishNode(n,"EmptyStatement")};Et.parseLabeledStatement=function(n,t,r,i){for(var s=0,o=this.labels;s<o.length;s+=1){var a=o[s];a.name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var l=this.type.isLoop?"loop":this.type===oe._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var h=this.labels[u];if(h.statementStart===n.start)h.statementStart=this.start,h.kind=l;else break}return this.labels.push({name:t,kind:l,statementStart:this.start}),n.body=this.parseStatement(i?i.indexOf("label")===-1?i+"label":i:"label"),this.labels.pop(),n.label=r,this.finishNode(n,"LabeledStatement")};Et.parseExpressionStatement=function(n,t){return n.expression=t,this.semicolon(),this.finishNode(n,"ExpressionStatement")};Et.parseBlock=function(n,t,r){for(n===void 0&&(n=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(oe.braceL),n&&this.enterScope(0);this.type!==oe.braceR;){var i=this.parseStatement(null);t.body.push(i)}return r&&(this.strict=!1),this.next(),n&&this.exitScope(),this.finishNode(t,"BlockStatement")};Et.parseFor=function(n,t){return n.init=t,this.expect(oe.semi),n.test=this.type===oe.semi?null:this.parseExpression(),this.expect(oe.semi),n.update=this.type===oe.parenR?null:this.parseExpression(),this.expect(oe.parenR),n.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(n,"ForStatement")};Et.parseForIn=function(n,t){var r=this.type===oe._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!r||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"),n.left=t,n.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(oe.parenR),n.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(n,r?"ForInStatement":"ForOfStatement")};Et.parseVar=function(n,t,r,i){for(n.declarations=[],n.kind=r;;){var s=this.startNode();if(this.parseVarId(s,r),this.eat(oe.eq)?s.init=this.parseMaybeAssign(t):!i&&r==="const"&&!(this.type===oe._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!i&&(r==="using"||r==="await using")&&this.options.ecmaVersion>=17&&this.type!==oe._in&&!this.isContextual("of")?this.raise(this.lastTokEnd,"Missing initializer in "+r+" declaration"):!i&&s.id.type!=="Identifier"&&!(t&&(this.type===oe._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):s.init=null,n.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(oe.comma))break}return n};Et.parseVarId=function(n,t){n.id=t==="using"||t==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(n.id,t==="var"?Ax:ra,!1)};var Sh=1,n1=2,vk=4;Et.parseFunction=function(n,t,r,i,s){this.initFunction(n),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===oe.star&&t&n1&&this.unexpected(),n.generator=this.eat(oe.star)),this.options.ecmaVersion>=8&&(n.async=!!i),t&Sh&&(n.id=t&vk&&this.type!==oe.name?null:this.parseIdent(),n.id&&!(t&n1)&&this.checkLValSimple(n.id,this.strict||n.generator||n.async?this.treatFunctionsAsVar?Ax:ra:pk));var o=this.yieldPos,a=this.awaitPos,l=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Cx(n.async,n.generator)),t&Sh||(n.id=this.type===oe.name?this.parseIdent():null),this.parseFunctionParams(n),this.parseFunctionBody(n,r,!1,s),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=l,this.finishNode(n,t&Sh?"FunctionDeclaration":"FunctionExpression")};Et.parseFunctionParams=function(n){this.expect(oe.parenL),n.params=this.parseBindingList(oe.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Et.parseClass=function(n,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(n,t),this.parseClassSuper(n);var i=this.enterClassBody(),s=this.startNode(),o=!1;for(s.body=[],this.expect(oe.braceL);this.type!==oe.braceR;){var a=this.parseClassElement(n.superClass!==null);a&&(s.body.push(a),a.type==="MethodDefinition"&&a.kind==="constructor"?(o&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),o=!0):a.key&&a.key.type==="PrivateIdentifier"&&gne(i,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=r,this.next(),n.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(n,t?"ClassDeclaration":"ClassExpression")};Et.parseClassElement=function(n){if(this.eat(oe.semi))return null;var t=this.options.ecmaVersion,r=this.startNode(),i="",s=!1,o=!1,a="method",l=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(oe.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===oe.star?l=!0:i="static"}if(r.static=l,!i&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===oe.star)&&!this.canInsertSemicolon()?o=!0:i="async"),!i&&(t>=9||!o)&&this.eat(oe.star)&&(s=!0),!i&&!o&&!s){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=u:i=u)}if(i?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=i,this.finishNode(r.key,"Identifier")):this.parseClassElementName(r),t<13||this.type===oe.parenL||a!=="method"||s||o){var h=!r.static&&am(r,"constructor"),c=h&&n;h&&a!=="method"&&this.raise(r.key.start,"Constructor can't have get/set modifier"),r.kind=h?"constructor":a,this.parseClassMethod(r,s,o,c)}else this.parseClassField(r);return r};Et.isClassElementNameStart=function(){return this.type===oe.name||this.type===oe.privateId||this.type===oe.num||this.type===oe.string||this.type===oe.bracketL||this.type.keyword};Et.parseClassElementName=function(n){this.type===oe.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),n.computed=!1,n.key=this.parsePrivateIdent()):this.parsePropertyName(n)};Et.parseClassMethod=function(n,t,r,i){var s=n.key;n.kind==="constructor"?(t&&this.raise(s.start,"Constructor can't be a generator"),r&&this.raise(s.start,"Constructor can't be an async method")):n.static&&am(n,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var o=n.value=this.parseMethod(t,r,i);return n.kind==="get"&&o.params.length!==0&&this.raiseRecoverable(o.start,"getter should have no params"),n.kind==="set"&&o.params.length!==1&&this.raiseRecoverable(o.start,"setter should have exactly one param"),n.kind==="set"&&o.params[0].type==="RestElement"&&this.raiseRecoverable(o.params[0].start,"Setter cannot use rest params"),this.finishNode(n,"MethodDefinition")};Et.parseClassField=function(n){return am(n,"constructor")?this.raise(n.key.start,"Classes can't have a field named 'constructor'"):n.static&&am(n,"prototype")&&this.raise(n.key.start,"Classes can't have a static field named 'prototype'"),this.eat(oe.eq)?(this.enterScope(Ff|Cg),n.value=this.parseMaybeAssign(),this.exitScope()):n.value=null,this.semicolon(),this.finishNode(n,"PropertyDefinition")};Et.parseClassStaticBlock=function(n){n.body=[];var t=this.labels;for(this.labels=[],this.enterScope(ou|Cg);this.type!==oe.braceR;){var r=this.parseStatement(null);n.body.push(r)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(n,"StaticBlock")};Et.parseClassId=function(n,t){this.type===oe.name?(n.id=this.parseIdent(),t&&this.checkLValSimple(n.id,ra,!1)):(t===!0&&this.unexpected(),n.id=null)};Et.parseClassSuper=function(n){n.superClass=this.eat(oe._extends)?this.parseExprSubscripts(null,!1):null};Et.enterClassBody=function(){var n={declared:Object.create(null),used:[]};return this.privateNameStack.push(n),n.declared};Et.exitClassBody=function(){var n=this.privateNameStack.pop(),t=n.declared,r=n.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,s=i===0?null:this.privateNameStack[i-1],o=0;o<r.length;++o){var a=r[o];Ac(t,a.name)||(s?s.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}};function gne(n,t){var r=t.key.name,i=n[r],s="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(s=(t.static?"s":"i")+t.kind),i==="iget"&&s==="iset"||i==="iset"&&s==="iget"||i==="sget"&&s==="sset"||i==="sset"&&s==="sget"?(n[r]="true",!1):i?!0:(n[r]=s,!1)}function am(n,t){var r=n.computed,i=n.key;return!r&&(i.type==="Identifier"&&i.name===t||i.type==="Literal"&&i.value===t)}Et.parseExportAllDeclaration=function(n,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(n.exported=this.parseModuleExportName(),this.checkExport(t,n.exported,this.lastTokStart)):n.exported=null),this.expectContextual("from"),this.type!==oe.string&&this.unexpected(),n.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(n,"ExportAllDeclaration")};Et.parseExport=function(n,t){if(this.next(),this.eat(oe.star))return this.parseExportAllDeclaration(n,t);if(this.eat(oe._default))return this.checkExport(t,"default",this.lastTokStart),n.declaration=this.parseExportDefaultDeclaration(),this.finishNode(n,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())n.declaration=this.parseExportDeclaration(n),n.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,n.declaration.declarations):this.checkExport(t,n.declaration.id,n.declaration.id.start),n.specifiers=[],n.source=null,this.options.ecmaVersion>=16&&(n.attributes=[]);else{if(n.declaration=null,n.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==oe.string&&this.unexpected(),n.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause());else{for(var r=0,i=n.specifiers;r<i.length;r+=1){var s=i[r];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type==="Literal"&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}n.source=null,this.options.ecmaVersion>=16&&(n.attributes=[])}this.semicolon()}return this.finishNode(n,"ExportNamedDeclaration")};Et.parseExportDeclaration=function(n){return this.parseStatement(null)};Et.parseExportDefaultDeclaration=function(){var n;if(this.type===oe._function||(n=this.isAsyncFunction())){var t=this.startNode();return this.next(),n&&this.next(),this.parseFunction(t,Sh|vk,!1,n)}else if(this.type===oe._class){var r=this.startNode();return this.parseClass(r,"nullableID")}else{var i=this.parseMaybeAssign();return this.semicolon(),i}};Et.checkExport=function(n,t,r){n&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),Ac(n,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),n[t]=!0)};Et.checkPatternExport=function(n,t){var r=t.type;if(r==="Identifier")this.checkExport(n,t,t.start);else if(r==="ObjectPattern")for(var i=0,s=t.properties;i<s.length;i+=1){var o=s[i];this.checkPatternExport(n,o)}else if(r==="ArrayPattern")for(var a=0,l=t.elements;a<l.length;a+=1){var u=l[a];u&&this.checkPatternExport(n,u)}else r==="Property"?this.checkPatternExport(n,t.value):r==="AssignmentPattern"?this.checkPatternExport(n,t.left):r==="RestElement"&&this.checkPatternExport(n,t.argument)};Et.checkVariableExport=function(n,t){if(n)for(var r=0,i=t;r<i.length;r+=1){var s=i[r];this.checkPatternExport(n,s.id)}};Et.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Et.parseExportSpecifier=function(n){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(n,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};Et.parseExportSpecifiers=function(n){var t=[],r=!0;for(this.expect(oe.braceL);!this.eat(oe.braceR);){if(r)r=!1;else if(this.expect(oe.comma),this.afterTrailingComma(oe.braceR))break;t.push(this.parseExportSpecifier(n))}return t};Et.parseImport=function(n){return this.next(),this.type===oe.string?(n.specifiers=mne,n.source=this.parseExprAtom()):(n.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),n.source=this.type===oe.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(n,"ImportDeclaration")};Et.parseImportSpecifier=function(){var n=this.startNode();return n.imported=this.parseModuleExportName(),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLValSimple(n.local,ra),this.finishNode(n,"ImportSpecifier")};Et.parseImportDefaultSpecifier=function(){var n=this.startNode();return n.local=this.parseIdent(),this.checkLValSimple(n.local,ra),this.finishNode(n,"ImportDefaultSpecifier")};Et.parseImportNamespaceSpecifier=function(){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLValSimple(n.local,ra),this.finishNode(n,"ImportNamespaceSpecifier")};Et.parseImportSpecifiers=function(){var n=[],t=!0;if(this.type===oe.name&&(n.push(this.parseImportDefaultSpecifier()),!this.eat(oe.comma)))return n;if(this.type===oe.star)return n.push(this.parseImportNamespaceSpecifier()),n;for(this.expect(oe.braceL);!this.eat(oe.braceR);){if(t)t=!1;else if(this.expect(oe.comma),this.afterTrailingComma(oe.braceR))break;n.push(this.parseImportSpecifier())}return n};Et.parseWithClause=function(){var n=[];if(!this.eat(oe._with))return n;this.expect(oe.braceL);for(var t={},r=!0;!this.eat(oe.braceR);){if(r)r=!1;else if(this.expect(oe.comma),this.afterTrailingComma(oe.braceR))break;var i=this.parseImportAttribute(),s=i.key.type==="Identifier"?i.key.name:i.key.value;Ac(t,s)&&this.raiseRecoverable(i.key.start,"Duplicate attribute key '"+s+"'"),t[s]=!0,n.push(i)}return n};Et.parseImportAttribute=function(){var n=this.startNode();return n.key=this.type===oe.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(oe.colon),this.type!==oe.string&&this.unexpected(),n.value=this.parseExprAtom(),this.finishNode(n,"ImportAttribute")};Et.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===oe.string){var n=this.parseLiteral(this.value);return cne.test(n.value)&&this.raise(n.start,"An export name cannot include a lone surrogate."),n}return this.parseIdent(!0)};Et.adaptDirectivePrologue=function(n){for(var t=0;t<n.length&&this.isDirectiveCandidate(n[t]);++t)n[t].directive=n[t].expression.raw.slice(1,-1)};Et.isDirectiveCandidate=function(n){return this.options.ecmaVersion>=5&&n.type==="ExpressionStatement"&&n.expression.type==="Literal"&&typeof n.expression.value=="string"&&(this.input[n.start]==='"'||this.input[n.start]==="'")};var Fs=Br.prototype;Fs.toAssignable=function(n,t,r){if(this.options.ecmaVersion>=6&&n)switch(n.type){case"Identifier":this.inAsync&&n.name==="await"&&this.raise(n.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":n.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];this.toAssignable(o,t),o.type==="RestElement"&&(o.argument.type==="ArrayPattern"||o.argument.type==="ObjectPattern")&&this.raise(o.argument.start,"Unexpected token")}break;case"Property":n.kind!=="init"&&this.raise(n.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(n.value,t);break;case"ArrayExpression":n.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(n.elements,t);break;case"SpreadElement":n.type="RestElement",this.toAssignable(n.argument,t),n.argument.type==="AssignmentPattern"&&this.raise(n.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":n.operator!=="="&&this.raise(n.left.end,"Only '=' operator can be used for specifying default value."),n.type="AssignmentPattern",delete n.operator,this.toAssignable(n.left,t);break;case"ParenthesizedExpression":this.toAssignable(n.expression,t,r);break;case"ChainExpression":this.raiseRecoverable(n.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(n.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return n};Fs.toAssignableList=function(n,t){for(var r=n.length,i=0;i<r;i++){var s=n[i];s&&this.toAssignable(s,t)}if(r){var o=n[r-1];this.options.ecmaVersion===6&&t&&o&&o.type==="RestElement"&&o.argument.type!=="Identifier"&&this.unexpected(o.argument.start)}return n};Fs.parseSpread=function(n){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,n),this.finishNode(t,"SpreadElement")};Fs.parseRestBinding=function(){var n=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==oe.name&&this.unexpected(),n.argument=this.parseBindingAtom(),this.finishNode(n,"RestElement")};Fs.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case oe.bracketL:var n=this.startNode();return this.next(),n.elements=this.parseBindingList(oe.bracketR,!0,!0),this.finishNode(n,"ArrayPattern");case oe.braceL:return this.parseObj(!0)}return this.parseIdent()};Fs.parseBindingList=function(n,t,r,i){for(var s=[],o=!0;!this.eat(n);)if(o?o=!1:this.expect(oe.comma),t&&this.type===oe.comma)s.push(null);else{if(r&&this.afterTrailingComma(n))break;if(this.type===oe.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),s.push(a),this.type===oe.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(n);break}else s.push(this.parseAssignableListItem(i))}return s};Fs.parseAssignableListItem=function(n){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Fs.parseBindingListItem=function(n){return n};Fs.parseMaybeDefault=function(n,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(oe.eq))return r;var i=this.startNodeAt(n,t);return i.left=r,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")};Fs.checkLValSimple=function(n,t,r){t===void 0&&(t=om);var i=t!==om;switch(n.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(n.name)&&this.raiseRecoverable(n.start,(i?"Binding ":"Assigning to ")+n.name+" in strict mode"),i&&(t===ra&&n.name==="let"&&this.raiseRecoverable(n.start,"let is disallowed as a lexically bound name"),r&&(Ac(r,n.name)&&this.raiseRecoverable(n.start,"Argument name clash"),r[n.name]=!0),t!==gk&&this.declareName(n.name,t,n.start));break;case"ChainExpression":this.raiseRecoverable(n.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(n.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(n.start,"Binding parenthesized expression"),this.checkLValSimple(n.expression,t,r);default:this.raise(n.start,(i?"Binding":"Assigning to")+" rvalue")}};Fs.checkLValPattern=function(n,t,r){switch(t===void 0&&(t=om),n.type){case"ObjectPattern":for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];this.checkLValInnerPattern(o,t,r)}break;case"ArrayPattern":for(var a=0,l=n.elements;a<l.length;a+=1){var u=l[a];u&&this.checkLValInnerPattern(u,t,r)}break;default:this.checkLValSimple(n,t,r)}};Fs.checkLValInnerPattern=function(n,t,r){switch(t===void 0&&(t=om),n.type){case"Property":this.checkLValInnerPattern(n.value,t,r);break;case"AssignmentPattern":this.checkLValPattern(n.left,t,r);break;case"RestElement":this.checkLValPattern(n.argument,t,r);break;default:this.checkLValPattern(n,t,r)}};var Bs=function(t,r,i,s,o){this.token=t,this.isExpr=!!r,this.preserveSpace=!!i,this.override=s,this.generator=!!o},rr={b_stat:new Bs("{",!1),b_expr:new Bs("{",!0),b_tmpl:new Bs("${",!1),p_stat:new Bs("(",!1),p_expr:new Bs("(",!0),q_tmpl:new Bs("`",!0,!0,function(n){return n.tryReadTemplateToken()}),f_stat:new Bs("function",!1),f_expr:new Bs("function",!0),f_expr_gen:new Bs("function",!0,!1,null,!0),f_gen:new Bs("function",!1,!1,null,!0)},Ic=Br.prototype;Ic.initialContext=function(){return[rr.b_stat]};Ic.curContext=function(){return this.context[this.context.length-1]};Ic.braceIsBlock=function(n){var t=this.curContext();return t===rr.f_expr||t===rr.f_stat?!0:n===oe.colon&&(t===rr.b_stat||t===rr.b_expr)?!t.isExpr:n===oe._return||n===oe.name&&this.exprAllowed?Ki.test(this.input.slice(this.lastTokEnd,this.start)):n===oe._else||n===oe.semi||n===oe.eof||n===oe.parenR||n===oe.arrow?!0:n===oe.braceL?t===rr.b_stat:n===oe._var||n===oe._const||n===oe.name?!1:!this.exprAllowed};Ic.inGeneratorContext=function(){for(var n=this.context.length-1;n>=1;n--){var t=this.context[n];if(t.token==="function")return t.generator}return!1};Ic.updateContext=function(n){var t,r=this.type;r.keyword&&n===oe.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,n):this.exprAllowed=r.beforeExpr};Ic.overrideContext=function(n){this.curContext()!==n&&(this.context[this.context.length-1]=n)};oe.parenR.updateContext=oe.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var n=this.context.pop();n===rr.b_stat&&this.curContext().token==="function"&&(n=this.context.pop()),this.exprAllowed=!n.isExpr};oe.braceL.updateContext=function(n){this.context.push(this.braceIsBlock(n)?rr.b_stat:rr.b_expr),this.exprAllowed=!0};oe.dollarBraceL.updateContext=function(){this.context.push(rr.b_tmpl),this.exprAllowed=!0};oe.parenL.updateContext=function(n){var t=n===oe._if||n===oe._for||n===oe._with||n===oe._while;this.context.push(t?rr.p_stat:rr.p_expr),this.exprAllowed=!0};oe.incDec.updateContext=function(){};oe._function.updateContext=oe._class.updateContext=function(n){n.beforeExpr&&n!==oe._else&&!(n===oe.semi&&this.curContext()!==rr.p_stat)&&!(n===oe._return&&Ki.test(this.input.slice(this.lastTokEnd,this.start)))&&!((n===oe.colon||n===oe.braceL)&&this.curContext()===rr.b_stat)?this.context.push(rr.f_expr):this.context.push(rr.f_stat),this.exprAllowed=!1};oe.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};oe.backQuote.updateContext=function(){this.curContext()===rr.q_tmpl?this.context.pop():this.context.push(rr.q_tmpl),this.exprAllowed=!1};oe.star.updateContext=function(n){if(n===oe._function){var t=this.context.length-1;this.context[t]===rr.f_expr?this.context[t]=rr.f_expr_gen:this.context[t]=rr.f_gen}this.exprAllowed=!0};oe.name.updateContext=function(n){var t=!1;this.options.ecmaVersion>=6&&n!==oe.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var $t=Br.prototype;$t.checkPropClash=function(n,t,r){if(!(this.options.ecmaVersion>=9&&n.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(n.computed||n.method||n.shorthand))){var i=n.key,s;switch(i.type){case"Identifier":s=i.name;break;case"Literal":s=String(i.value);break;default:return}var o=n.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&o==="init"&&(t.proto&&(r?r.doubleProto<0&&(r.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);return}s="$"+s;var a=t[s];if(a){var l;o==="init"?l=this.strict&&a.init||a.get||a.set:l=a.init||a[o],l&&this.raiseRecoverable(i.start,"Redefinition of property")}else a=t[s]={init:!1,get:!1,set:!1};a[o]=!0}};$t.parseExpression=function(n,t){var r=this.start,i=this.startLoc,s=this.parseMaybeAssign(n,t);if(this.type===oe.comma){var o=this.startNodeAt(r,i);for(o.expressions=[s];this.eat(oe.comma);)o.expressions.push(this.parseMaybeAssign(n,t));return this.finishNode(o,"SequenceExpression")}return s};$t.parseMaybeAssign=function(n,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(n);this.exprAllowed=!1}var i=!1,s=-1,o=-1,a=-1;t?(s=t.parenthesizedAssign,o=t.trailingComma,a=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new Tg,i=!0);var l=this.start,u=this.startLoc;(this.type===oe.parenL||this.type===oe.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=n==="await");var h=this.parseMaybeConditional(n,t);if(r&&(h=r.call(this,h,l,u)),this.type.isAssign){var c=this.startNodeAt(l,u);return c.operator=this.value,this.type===oe.eq&&(h=this.toAssignable(h,!1,t)),i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=h.start&&(t.shorthandAssign=-1),this.type===oe.eq?this.checkLValPattern(h):this.checkLValSimple(h),c.left=h,this.next(),c.right=this.parseMaybeAssign(n),a>-1&&(t.doubleProto=a),this.finishNode(c,"AssignmentExpression")}else i&&this.checkExpressionErrors(t,!0);return s>-1&&(t.parenthesizedAssign=s),o>-1&&(t.trailingComma=o),h};$t.parseMaybeConditional=function(n,t){var r=this.start,i=this.startLoc,s=this.parseExprOps(n,t);if(this.checkExpressionErrors(t))return s;if(this.eat(oe.question)){var o=this.startNodeAt(r,i);return o.test=s,o.consequent=this.parseMaybeAssign(),this.expect(oe.colon),o.alternate=this.parseMaybeAssign(n),this.finishNode(o,"ConditionalExpression")}return s};$t.parseExprOps=function(n,t){var r=this.start,i=this.startLoc,s=this.parseMaybeUnary(t,!1,!1,n);return this.checkExpressionErrors(t)||s.start===r&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,r,i,-1,n)};$t.parseExprOp=function(n,t,r,i,s){var o=this.type.binop;if(o!=null&&(!s||this.type!==oe._in)&&o>i){var a=this.type===oe.logicalOR||this.type===oe.logicalAND,l=this.type===oe.coalesce;l&&(o=oe.logicalAND.binop);var u=this.value;this.next();var h=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),h,c,o,s),d=this.buildBinary(t,r,n,f,u,a||l);return(a&&this.type===oe.coalesce||l&&(this.type===oe.logicalOR||this.type===oe.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,r,i,s)}return n};$t.buildBinary=function(n,t,r,i,s,o){i.type==="PrivateIdentifier"&&this.raise(i.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(n,t);return a.left=r,a.operator=s,a.right=i,this.finishNode(a,o?"LogicalExpression":"BinaryExpression")};$t.parseMaybeUnary=function(n,t,r,i){var s=this.start,o=this.startLoc,a;if(this.isContextual("await")&&this.canAwait)a=this.parseAwait(i),t=!0;else if(this.type.prefix){var l=this.startNode(),u=this.type===oe.incDec;l.operator=this.value,l.prefix=!0,this.next(),l.argument=this.parseMaybeUnary(null,!0,u,i),this.checkExpressionErrors(n,!0),u?this.checkLValSimple(l.argument):this.strict&&l.operator==="delete"&&yk(l.argument)?this.raiseRecoverable(l.start,"Deleting local variable in strict mode"):l.operator==="delete"&&r1(l.argument)?this.raiseRecoverable(l.start,"Private fields can not be deleted"):t=!0,a=this.finishNode(l,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===oe.privateId)(i||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),a=this.parsePrivateIdent(),this.type!==oe._in&&this.unexpected();else{if(a=this.parseExprSubscripts(n,i),this.checkExpressionErrors(n))return a;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(s,o);h.operator=this.value,h.prefix=!1,h.argument=a,this.checkLValSimple(a),this.next(),a=this.finishNode(h,"UpdateExpression")}}if(!r&&this.eat(oe.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(s,o,a,this.parseMaybeUnary(null,!1,!1,i),"**",!1);else return a};function yk(n){return n.type==="Identifier"||n.type==="ParenthesizedExpression"&&yk(n.expression)}function r1(n){return n.type==="MemberExpression"&&n.property.type==="PrivateIdentifier"||n.type==="ChainExpression"&&r1(n.expression)||n.type==="ParenthesizedExpression"&&r1(n.expression)}$t.parseExprSubscripts=function(n,t){var r=this.start,i=this.startLoc,s=this.parseExprAtom(n,t);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var o=this.parseSubscripts(s,r,i,!1,t);return n&&o.type==="MemberExpression"&&(n.parenthesizedAssign>=o.start&&(n.parenthesizedAssign=-1),n.parenthesizedBind>=o.start&&(n.parenthesizedBind=-1),n.trailingComma>=o.start&&(n.trailingComma=-1)),o};$t.parseSubscripts=function(n,t,r,i,s){for(var o=this.options.ecmaVersion>=8&&n.type==="Identifier"&&n.name==="async"&&this.lastTokEnd===n.end&&!this.canInsertSemicolon()&&n.end-n.start===5&&this.potentialArrowAt===n.start,a=!1;;){var l=this.parseSubscript(n,t,r,i,o,a,s);if(l.optional&&(a=!0),l===n||l.type==="ArrowFunctionExpression"){if(a){var u=this.startNodeAt(t,r);u.expression=l,l=this.finishNode(u,"ChainExpression")}return l}n=l}};$t.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(oe.arrow)};$t.parseSubscriptAsyncArrow=function(n,t,r,i){return this.parseArrowExpression(this.startNodeAt(n,t),r,!0,i)};$t.parseSubscript=function(n,t,r,i,s,o,a){var l=this.options.ecmaVersion>=11,u=l&&this.eat(oe.questionDot);i&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(oe.bracketL);if(h||u&&this.type!==oe.parenL&&this.type!==oe.backQuote||this.eat(oe.dot)){var c=this.startNodeAt(t,r);c.object=n,h?(c.property=this.parseExpression(),this.expect(oe.bracketR)):this.type===oe.privateId&&n.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!h,l&&(c.optional=u),n=this.finishNode(c,"MemberExpression")}else if(!i&&this.eat(oe.parenL)){var f=new Tg,d=this.yieldPos,p=this.awaitPos,m=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(oe.parenR,this.options.ecmaVersion>=8,!1,f);if(s&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=p,this.awaitIdentPos=m,this.parseSubscriptAsyncArrow(t,r,g,a);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=m||this.awaitIdentPos;var v=this.startNodeAt(t,r);v.callee=n,v.arguments=g,l&&(v.optional=u),n=this.finishNode(v,"CallExpression")}else if(this.type===oe.backQuote){(u||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var S=this.startNodeAt(t,r);S.tag=n,S.quasi=this.parseTemplate({isTagged:!0}),n=this.finishNode(S,"TaggedTemplateExpression")}return n};$t.parseExprAtom=function(n,t,r){this.type===oe.slash&&this.readRegexp();var i,s=this.potentialArrowAt===this.start;switch(this.type){case oe._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===oe.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==oe.dot&&this.type!==oe.bracketL&&this.type!==oe.parenL&&this.unexpected(),this.finishNode(i,"Super");case oe._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case oe.name:var o=this.start,a=this.startLoc,l=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(oe._function))return this.overrideContext(rr.f_expr),this.parseFunction(this.startNodeAt(o,a),0,!1,!0,t);if(s&&!this.canInsertSemicolon()){if(this.eat(oe.arrow))return this.parseArrowExpression(this.startNodeAt(o,a),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===oe.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(oe.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(o,a),[u],!0,t)}return u;case oe.regexp:var h=this.value;return i=this.parseLiteral(h.value),i.regex={pattern:h.pattern,flags:h.flags},i;case oe.num:case oe.string:return this.parseLiteral(this.value);case oe._null:case oe._true:case oe._false:return i=this.startNode(),i.value=this.type===oe._null?null:this.type===oe._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case oe.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(s,t);return n&&(n.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(n.parenthesizedAssign=c),n.parenthesizedBind<0&&(n.parenthesizedBind=c)),f;case oe.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(oe.bracketR,!0,!0,n),this.finishNode(i,"ArrayExpression");case oe.braceL:return this.overrideContext(rr.b_expr),this.parseObj(!1,n);case oe._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case oe._class:return this.parseClass(this.startNode(),!1);case oe._new:return this.parseNew();case oe.backQuote:return this.parseTemplate();case oe._import:return this.options.ecmaVersion>=11?this.parseExprImport(r):this.unexpected();default:return this.parseExprAtomDefault()}};$t.parseExprAtomDefault=function(){this.unexpected()};$t.parseExprImport=function(n){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===oe.parenL&&!n)return this.parseDynamicImport(t);if(this.type===oe.dot){var r=this.startNodeAt(t.start,t.loc&&t.loc.start);return r.name="import",t.meta=this.finishNode(r,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};$t.parseDynamicImport=function(n){if(this.next(),n.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(oe.parenR)?n.options=null:(this.expect(oe.comma),this.afterTrailingComma(oe.parenR)?n.options=null:(n.options=this.parseMaybeAssign(),this.eat(oe.parenR)||(this.expect(oe.comma),this.afterTrailingComma(oe.parenR)||this.unexpected())));else if(!this.eat(oe.parenR)){var t=this.start;this.eat(oe.comma)&&this.eat(oe.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(n,"ImportExpression")};$t.parseImportMeta=function(n){this.next();var t=this.containsEsc;return n.property=this.parseIdent(!0),n.property.name!=="meta"&&this.raiseRecoverable(n.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(n.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(n.start,"Cannot use 'import.meta' outside a module"),this.finishNode(n,"MetaProperty")};$t.parseLiteral=function(n){var t=this.startNode();return t.value=n,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.value!=null?t.value.toString():t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};$t.parseParenExpression=function(){this.expect(oe.parenL);var n=this.parseExpression();return this.expect(oe.parenR),n};$t.shouldParseArrow=function(n){return!this.canInsertSemicolon()};$t.parseParenAndDistinguishExpression=function(n,t){var r=this.start,i=this.startLoc,s,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,l=this.startLoc,u=[],h=!0,c=!1,f=new Tg,d=this.yieldPos,p=this.awaitPos,m;for(this.yieldPos=0,this.awaitPos=0;this.type!==oe.parenR;)if(h?h=!1:this.expect(oe.comma),o&&this.afterTrailingComma(oe.parenR,!0)){c=!0;break}else if(this.type===oe.ellipsis){m=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===oe.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var g=this.lastTokEnd,v=this.lastTokEndLoc;if(this.expect(oe.parenR),n&&this.shouldParseArrow(u)&&this.eat(oe.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=p,this.parseParenArrowList(r,i,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),m&&this.unexpected(m),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,u.length>1?(s=this.startNodeAt(a,l),s.expressions=u,this.finishNodeAt(s,"SequenceExpression",g,v)):s=u[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var S=this.startNodeAt(r,i);return S.expression=s,this.finishNode(S,"ParenthesizedExpression")}else return s};$t.parseParenItem=function(n){return n};$t.parseParenArrowList=function(n,t,r,i){return this.parseArrowExpression(this.startNodeAt(n,t),r,!1,i)};var vne=[];$t.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var n=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===oe.dot){var t=this.startNodeAt(n.start,n.loc&&n.loc.start);t.name="new",n.meta=this.finishNode(t,"Identifier"),this.next();var r=this.containsEsc;return n.property=this.parseIdent(!0),n.property.name!=="target"&&this.raiseRecoverable(n.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(n.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(n.start,"'new.target' can only be used in functions and class static block"),this.finishNode(n,"MetaProperty")}var i=this.start,s=this.startLoc;return n.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,s,!0,!1),this.eat(oe.parenL)?n.arguments=this.parseExprList(oe.parenR,this.options.ecmaVersion>=8,!1):n.arguments=vne,this.finishNode(n,"NewExpression")};$t.parseTemplateElement=function(n){var t=n.isTagged,r=this.startNode();return this.type===oe.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),r.tail=this.type===oe.backQuote,this.finishNode(r,"TemplateElement")};$t.parseTemplate=function(n){n===void 0&&(n={});var t=n.isTagged;t===void 0&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(r.quasis=[i];!i.tail;)this.type===oe.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(oe.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(oe.braceR),r.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")};$t.isAsyncProp=function(n){return!n.computed&&n.key.type==="Identifier"&&n.key.name==="async"&&(this.type===oe.name||this.type===oe.num||this.type===oe.string||this.type===oe.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===oe.star)&&!Ki.test(this.input.slice(this.lastTokEnd,this.start))};$t.parseObj=function(n,t){var r=this.startNode(),i=!0,s={};for(r.properties=[],this.next();!this.eat(oe.braceR);){if(i)i=!1;else if(this.expect(oe.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(oe.braceR))break;var o=this.parseProperty(n,t);n||this.checkPropClash(o,s,t),r.properties.push(o)}return this.finishNode(r,n?"ObjectPattern":"ObjectExpression")};$t.parseProperty=function(n,t){var r=this.startNode(),i,s,o,a;if(this.options.ecmaVersion>=9&&this.eat(oe.ellipsis))return n?(r.argument=this.parseIdent(!1),this.type===oe.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(r.argument=this.parseMaybeAssign(!1,t),this.type===oe.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(n||t)&&(o=this.start,a=this.startLoc),n||(i=this.eat(oe.star)));var l=this.containsEsc;return this.parsePropertyName(r),!n&&!l&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(r)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(oe.star),this.parsePropertyName(r)):s=!1,this.parsePropertyValue(r,n,i,s,o,a,t,l),this.finishNode(r,"Property")};$t.parseGetterSetter=function(n){var t=n.key.name;this.parsePropertyName(n),n.value=this.parseMethod(!1),n.kind=t;var r=n.kind==="get"?0:1;if(n.value.params.length!==r){var i=n.value.start;n.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else n.kind==="set"&&n.value.params[0].type==="RestElement"&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params")};$t.parsePropertyValue=function(n,t,r,i,s,o,a,l){(r||i)&&this.type===oe.colon&&this.unexpected(),this.eat(oe.colon)?(n.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),n.kind="init"):this.options.ecmaVersion>=6&&this.type===oe.parenL?(t&&this.unexpected(),n.method=!0,n.value=this.parseMethod(r,i),n.kind="init"):!t&&!l&&this.options.ecmaVersion>=5&&!n.computed&&n.key.type==="Identifier"&&(n.key.name==="get"||n.key.name==="set")&&this.type!==oe.comma&&this.type!==oe.braceR&&this.type!==oe.eq?((r||i)&&this.unexpected(),this.parseGetterSetter(n)):this.options.ecmaVersion>=6&&!n.computed&&n.key.type==="Identifier"?((r||i)&&this.unexpected(),this.checkUnreserved(n.key),n.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t?n.value=this.parseMaybeDefault(s,o,this.copyNode(n.key)):this.type===oe.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),n.value=this.parseMaybeDefault(s,o,this.copyNode(n.key))):n.value=this.copyNode(n.key),n.kind="init",n.shorthand=!0):this.unexpected()};$t.parsePropertyName=function(n){if(this.options.ecmaVersion>=6){if(this.eat(oe.bracketL))return n.computed=!0,n.key=this.parseMaybeAssign(),this.expect(oe.bracketR),n.key;n.computed=!1}return n.key=this.type===oe.num||this.type===oe.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};$t.initFunction=function(n){n.id=null,this.options.ecmaVersion>=6&&(n.generator=n.expression=!1),this.options.ecmaVersion>=8&&(n.async=!1)};$t.parseMethod=function(n,t,r){var i=this.startNode(),s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=n),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Cx(t,i.generator)|Cg|(r?dk:0)),this.expect(oe.parenL),i.params=this.parseBindingList(oe.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(i,"FunctionExpression")};$t.parseArrowExpression=function(n,t,r,i){var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(Cx(r,!1)|Sx),this.initFunction(n),this.options.ecmaVersion>=8&&(n.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,n.params=this.toAssignableList(t,!0),this.parseFunctionBody(n,!0,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(n,"ArrowFunctionExpression")};$t.parseFunctionBody=function(n,t,r,i){var s=t&&this.type!==oe.braceL,o=this.strict,a=!1;if(s)n.body=this.parseMaybeAssign(i),n.expression=!0,this.checkParams(n,!1);else{var l=this.options.ecmaVersion>=7&&!this.isSimpleParamList(n.params);(!o||l)&&(a=this.strictDirective(this.end),a&&l&&this.raiseRecoverable(n.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(n,!o&&!a&&!t&&!r&&this.isSimpleParamList(n.params)),this.strict&&n.id&&this.checkLValSimple(n.id,gk),n.body=this.parseBlock(!1,void 0,a&&!o),n.expression=!1,this.adaptDirectivePrologue(n.body.body),this.labels=u}this.exitScope()};$t.isSimpleParamList=function(n){for(var t=0,r=n;t<r.length;t+=1){var i=r[t];if(i.type!=="Identifier")return!1}return!0};$t.checkParams=function(n,t){for(var r=Object.create(null),i=0,s=n.params;i<s.length;i+=1){var o=s[i];this.checkLValInnerPattern(o,Ax,t?null:r)}};$t.parseExprList=function(n,t,r,i){for(var s=[],o=!0;!this.eat(n);){if(o)o=!1;else if(this.expect(oe.comma),t&&this.afterTrailingComma(n))break;var a=void 0;r&&this.type===oe.comma?a=null:this.type===oe.ellipsis?(a=this.parseSpread(i),i&&this.type===oe.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),s.push(a)}return s};$t.checkUnreserved=function(n){var t=n.start,r=n.end,i=n.name;if(this.inGenerator&&i==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&Ag)&&i==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(i==="arguments"||i==="await")&&this.raise(t,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,r).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(i)&&(!this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))}};$t.parseIdent=function(n){var t=this.parseIdentNode();return this.next(!!n),this.finishNode(t,"Identifier"),n||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};$t.parseIdentNode=function(){var n=this.startNode();return this.type===oe.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,(n.name==="class"||n.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=oe.name):this.unexpected(),n};$t.parsePrivateIdent=function(){var n=this.startNode();return this.type===oe.privateId?n.name=this.value:this.unexpected(),this.next(),this.finishNode(n,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(n.start,"Private field '#"+n.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(n)),n};$t.parseYield=function(n){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===oe.semi||this.canInsertSemicolon()||this.type!==oe.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(oe.star),t.argument=this.parseMaybeAssign(n)),this.finishNode(t,"YieldExpression")};$t.parseAwait=function(n){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,n),this.finishNode(t,"AwaitExpression")};var lm=Br.prototype;lm.raise=function(n,t){var r=ck(this.input,n);t+=" ("+r.line+":"+r.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var i=new SyntaxError(t);throw i.pos=n,i.loc=r,i.raisedAt=this.pos,i};lm.raiseRecoverable=lm.raise;lm.curPosition=function(){if(this.options.locations)return new af(this.curLine,this.pos-this.lineStart)};var za=Br.prototype,yne=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};za.enterScope=function(n){this.scopeStack.push(new yne(n))};za.exitScope=function(){this.scopeStack.pop()};za.treatFunctionsAsVarInScope=function(n){return n.flags&Tc||!this.inModule&&n.flags&lf};za.declareName=function(n,t,r){var i=!1;if(t===ra){var s=this.currentScope();i=s.lexical.indexOf(n)>-1||s.functions.indexOf(n)>-1||s.var.indexOf(n)>-1,s.lexical.push(n),this.inModule&&s.flags&lf&&delete this.undefinedExports[n]}else if(t===mk){var o=this.currentScope();o.lexical.push(n)}else if(t===pk){var a=this.currentScope();this.treatFunctionsAsVar?i=a.lexical.indexOf(n)>-1:i=a.lexical.indexOf(n)>-1||a.var.indexOf(n)>-1,a.functions.push(n)}else for(var l=this.scopeStack.length-1;l>=0;--l){var u=this.scopeStack[l];if(u.lexical.indexOf(n)>-1&&!(u.flags&fk&&u.lexical[0]===n)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(n)>-1){i=!0;break}if(u.var.push(n),this.inModule&&u.flags&lf&&delete this.undefinedExports[n],u.flags&Ag)break}i&&this.raiseRecoverable(r,"Identifier '"+n+"' has already been declared")};za.checkLocalExport=function(n){this.scopeStack[0].lexical.indexOf(n.name)===-1&&this.scopeStack[0].var.indexOf(n.name)===-1&&(this.undefinedExports[n.name]=n)};za.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};za.currentVarScope=function(){for(var n=this.scopeStack.length-1;;n--){var t=this.scopeStack[n];if(t.flags&(Ag|Ff|ou))return t}};za.currentThisScope=function(){for(var n=this.scopeStack.length-1;;n--){var t=this.scopeStack[n];if(t.flags&(Ag|Ff|ou)&&!(t.flags&Sx))return t}};var Ig=function(t,r,i){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new Sg(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},kf=Br.prototype;kf.startNode=function(){return new Ig(this,this.start,this.startLoc)};kf.startNodeAt=function(n,t){return new Ig(this,n,t)};function bk(n,t,r,i){return n.type=t,n.end=r,this.options.locations&&(n.loc.end=i),this.options.ranges&&(n.range[1]=r),n}kf.finishNode=function(n,t){return bk.call(this,n,t,this.lastTokEnd,this.lastTokEndLoc)};kf.finishNodeAt=function(n,t,r,i){return bk.call(this,n,t,r,i)};kf.copyNode=function(n){var t=new Ig(this,n.start,this.startLoc);for(var r in n)t[r]=n[r];return t};var bne="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",xk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",_k=xk+" Extended_Pictographic",wk=_k,Ek=wk+" EBase EComp EMod EPres ExtPict",Sk=Ek,xne=Sk,_ne={9:xk,10:_k,11:wk,12:Ek,13:Sk,14:xne},wne="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Ene={9:"",10:"",11:"",12:"",13:"",14:wne},XS="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ck="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ak=Ck+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Tk=Ak+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Ik=Tk+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Dk=Ik+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Sne=Dk+" "+bne,Cne={9:Ck,10:Ak,11:Tk,12:Ik,13:Dk,14:Sne},Nk={};function Ane(n){var t=Nk[n]={binary:Ta(_ne[n]+" "+XS),binaryOfStrings:Ta(Ene[n]),nonBinary:{General_Category:Ta(XS),Script:Ta(Cne[n])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var av=0,qS=[9,10,11,12,13,14];av<qS.length;av+=1){var Tne=qS[av];Ane(Tne)}var _t=Br.prototype,um=function(t,r){this.parent=t,this.base=r||this};um.prototype.separatedFrom=function(t){for(var r=this;r;r=r.parent)for(var i=t;i;i=i.parent)if(r.base===i.base&&r!==i)return!0;return!1};um.prototype.sibling=function(){return new um(this.parent,this.base)};var bo=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Nk[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};bo.prototype.reset=function(t,r,i){var s=i.indexOf("v")!==-1,o=i.indexOf("u")!==-1;this.start=t|0,this.source=r+"",this.flags=i,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=o&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=o&&this.parser.options.ecmaVersion>=9)};bo.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};bo.prototype.at=function(t,r){r===void 0&&(r=!1);var i=this.source,s=i.length;if(t>=s)return-1;var o=i.charCodeAt(t);if(!(r||this.switchU)||o<=55295||o>=57344||t+1>=s)return o;var a=i.charCodeAt(t+1);return a>=56320&&a<=57343?(o<<10)+a-56613888:o};bo.prototype.nextIndex=function(t,r){r===void 0&&(r=!1);var i=this.source,s=i.length;if(t>=s)return s;var o=i.charCodeAt(t),a;return!(r||this.switchU)||o<=55295||o>=57344||t+1>=s||(a=i.charCodeAt(t+1))<56320||a>57343?t+1:t+2};bo.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};bo.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};bo.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};bo.prototype.eat=function(t,r){return r===void 0&&(r=!1),this.current(r)===t?(this.advance(r),!0):!1};bo.prototype.eatChars=function(t,r){r===void 0&&(r=!1);for(var i=this.pos,s=0,o=t;s<o.length;s+=1){var a=o[s],l=this.at(i,r);if(l===-1||l!==a)return!1;i=this.nextIndex(i,r)}return this.pos=i,!0};_t.validateRegExpFlags=function(n){for(var t=n.validFlags,r=n.flags,i=!1,s=!1,o=0;o<r.length;o++){var a=r.charAt(o);t.indexOf(a)===-1&&this.raise(n.start,"Invalid regular expression flag"),r.indexOf(a,o+1)>-1&&this.raise(n.start,"Duplicate regular expression flag"),a==="u"&&(i=!0),a==="v"&&(s=!0)}this.options.ecmaVersion>=15&&i&&s&&this.raise(n.start,"Invalid regular expression flag")};function Ine(n){for(var t in n)return!0;return!1}_t.validateRegExpPattern=function(n){this.regexp_pattern(n),!n.switchN&&this.options.ecmaVersion>=9&&Ine(n.groupNames)&&(n.switchN=!0,this.regexp_pattern(n))};_t.regexp_pattern=function(n){n.pos=0,n.lastIntValue=0,n.lastStringValue="",n.lastAssertionIsQuantifiable=!1,n.numCapturingParens=0,n.maxBackReference=0,n.groupNames=Object.create(null),n.backReferenceNames.length=0,n.branchID=null,this.regexp_disjunction(n),n.pos!==n.source.length&&(n.eat(41)&&n.raise("Unmatched ')'"),(n.eat(93)||n.eat(125))&&n.raise("Lone quantifier brackets")),n.maxBackReference>n.numCapturingParens&&n.raise("Invalid escape");for(var t=0,r=n.backReferenceNames;t<r.length;t+=1){var i=r[t];n.groupNames[i]||n.raise("Invalid named capture referenced")}};_t.regexp_disjunction=function(n){var t=this.options.ecmaVersion>=16;for(t&&(n.branchID=new um(n.branchID,null)),this.regexp_alternative(n);n.eat(124);)t&&(n.branchID=n.branchID.sibling()),this.regexp_alternative(n);t&&(n.branchID=n.branchID.parent),this.regexp_eatQuantifier(n,!0)&&n.raise("Nothing to repeat"),n.eat(123)&&n.raise("Lone quantifier brackets")};_t.regexp_alternative=function(n){for(;n.pos<n.source.length&&this.regexp_eatTerm(n););};_t.regexp_eatTerm=function(n){return this.regexp_eatAssertion(n)?(n.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(n)&&n.switchU&&n.raise("Invalid quantifier"),!0):(n.switchU?this.regexp_eatAtom(n):this.regexp_eatExtendedAtom(n))?(this.regexp_eatQuantifier(n),!0):!1};_t.regexp_eatAssertion=function(n){var t=n.pos;if(n.lastAssertionIsQuantifiable=!1,n.eat(94)||n.eat(36))return!0;if(n.eat(92)){if(n.eat(66)||n.eat(98))return!0;n.pos=t}if(n.eat(40)&&n.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=n.eat(60)),n.eat(61)||n.eat(33))return this.regexp_disjunction(n),n.eat(41)||n.raise("Unterminated group"),n.lastAssertionIsQuantifiable=!r,!0}return n.pos=t,!1};_t.regexp_eatQuantifier=function(n,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(n,t)?(n.eat(63),!0):!1};_t.regexp_eatQuantifierPrefix=function(n,t){return n.eat(42)||n.eat(43)||n.eat(63)||this.regexp_eatBracedQuantifier(n,t)};_t.regexp_eatBracedQuantifier=function(n,t){var r=n.pos;if(n.eat(123)){var i=0,s=-1;if(this.regexp_eatDecimalDigits(n)&&(i=n.lastIntValue,n.eat(44)&&this.regexp_eatDecimalDigits(n)&&(s=n.lastIntValue),n.eat(125)))return s!==-1&&s<i&&!t&&n.raise("numbers out of order in {} quantifier"),!0;n.switchU&&!t&&n.raise("Incomplete quantifier"),n.pos=r}return!1};_t.regexp_eatAtom=function(n){return this.regexp_eatPatternCharacters(n)||n.eat(46)||this.regexp_eatReverseSolidusAtomEscape(n)||this.regexp_eatCharacterClass(n)||this.regexp_eatUncapturingGroup(n)||this.regexp_eatCapturingGroup(n)};_t.regexp_eatReverseSolidusAtomEscape=function(n){var t=n.pos;if(n.eat(92)){if(this.regexp_eatAtomEscape(n))return!0;n.pos=t}return!1};_t.regexp_eatUncapturingGroup=function(n){var t=n.pos;if(n.eat(40)){if(n.eat(63)){if(this.options.ecmaVersion>=16){var r=this.regexp_eatModifiers(n),i=n.eat(45);if(r||i){for(var s=0;s<r.length;s++){var o=r.charAt(s);r.indexOf(o,s+1)>-1&&n.raise("Duplicate regular expression modifiers")}if(i){var a=this.regexp_eatModifiers(n);!r&&!a&&n.current()===58&&n.raise("Invalid regular expression modifiers");for(var l=0;l<a.length;l++){var u=a.charAt(l);(a.indexOf(u,l+1)>-1||r.indexOf(u)>-1)&&n.raise("Duplicate regular expression modifiers")}}}}if(n.eat(58)){if(this.regexp_disjunction(n),n.eat(41))return!0;n.raise("Unterminated group")}}n.pos=t}return!1};_t.regexp_eatCapturingGroup=function(n){if(n.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(n):n.current()===63&&n.raise("Invalid group"),this.regexp_disjunction(n),n.eat(41))return n.numCapturingParens+=1,!0;n.raise("Unterminated group")}return!1};_t.regexp_eatModifiers=function(n){for(var t="",r=0;(r=n.current())!==-1&&Dne(r);)t+=Jo(r),n.advance();return t};function Dne(n){return n===105||n===109||n===115}_t.regexp_eatExtendedAtom=function(n){return n.eat(46)||this.regexp_eatReverseSolidusAtomEscape(n)||this.regexp_eatCharacterClass(n)||this.regexp_eatUncapturingGroup(n)||this.regexp_eatCapturingGroup(n)||this.regexp_eatInvalidBracedQuantifier(n)||this.regexp_eatExtendedPatternCharacter(n)};_t.regexp_eatInvalidBracedQuantifier=function(n){return this.regexp_eatBracedQuantifier(n,!0)&&n.raise("Nothing to repeat"),!1};_t.regexp_eatSyntaxCharacter=function(n){var t=n.current();return Fk(t)?(n.lastIntValue=t,n.advance(),!0):!1};function Fk(n){return n===36||n>=40&&n<=43||n===46||n===63||n>=91&&n<=94||n>=123&&n<=125}_t.regexp_eatPatternCharacters=function(n){for(var t=n.pos,r=0;(r=n.current())!==-1&&!Fk(r);)n.advance();return n.pos!==t};_t.regexp_eatExtendedPatternCharacter=function(n){var t=n.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(n.advance(),!0):!1};_t.regexp_groupSpecifier=function(n){if(n.eat(63)){this.regexp_eatGroupName(n)||n.raise("Invalid group");var t=this.options.ecmaVersion>=16,r=n.groupNames[n.lastStringValue];if(r)if(t)for(var i=0,s=r;i<s.length;i+=1){var o=s[i];o.separatedFrom(n.branchID)||n.raise("Duplicate capture group name")}else n.raise("Duplicate capture group name");t?(r||(n.groupNames[n.lastStringValue]=[])).push(n.branchID):n.groupNames[n.lastStringValue]=!0}};_t.regexp_eatGroupName=function(n){if(n.lastStringValue="",n.eat(60)){if(this.regexp_eatRegExpIdentifierName(n)&&n.eat(62))return!0;n.raise("Invalid capture group name")}return!1};_t.regexp_eatRegExpIdentifierName=function(n){if(n.lastStringValue="",this.regexp_eatRegExpIdentifierStart(n)){for(n.lastStringValue+=Jo(n.lastIntValue);this.regexp_eatRegExpIdentifierPart(n);)n.lastStringValue+=Jo(n.lastIntValue);return!0}return!1};_t.regexp_eatRegExpIdentifierStart=function(n){var t=n.pos,r=this.options.ecmaVersion>=11,i=n.current(r);return n.advance(r),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(n,r)&&(i=n.lastIntValue),Nne(i)?(n.lastIntValue=i,!0):(n.pos=t,!1)};function Nne(n){return mo(n,!0)||n===36||n===95}_t.regexp_eatRegExpIdentifierPart=function(n){var t=n.pos,r=this.options.ecmaVersion>=11,i=n.current(r);return n.advance(r),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(n,r)&&(i=n.lastIntValue),Fne(i)?(n.lastIntValue=i,!0):(n.pos=t,!1)};function Fne(n){return Ba(n,!0)||n===36||n===95||n===8204||n===8205}_t.regexp_eatAtomEscape=function(n){return this.regexp_eatBackReference(n)||this.regexp_eatCharacterClassEscape(n)||this.regexp_eatCharacterEscape(n)||n.switchN&&this.regexp_eatKGroupName(n)?!0:(n.switchU&&(n.current()===99&&n.raise("Invalid unicode escape"),n.raise("Invalid escape")),!1)};_t.regexp_eatBackReference=function(n){var t=n.pos;if(this.regexp_eatDecimalEscape(n)){var r=n.lastIntValue;if(n.switchU)return r>n.maxBackReference&&(n.maxBackReference=r),!0;if(r<=n.numCapturingParens)return!0;n.pos=t}return!1};_t.regexp_eatKGroupName=function(n){if(n.eat(107)){if(this.regexp_eatGroupName(n))return n.backReferenceNames.push(n.lastStringValue),!0;n.raise("Invalid named reference")}return!1};_t.regexp_eatCharacterEscape=function(n){return this.regexp_eatControlEscape(n)||this.regexp_eatCControlLetter(n)||this.regexp_eatZero(n)||this.regexp_eatHexEscapeSequence(n)||this.regexp_eatRegExpUnicodeEscapeSequence(n,!1)||!n.switchU&&this.regexp_eatLegacyOctalEscapeSequence(n)||this.regexp_eatIdentityEscape(n)};_t.regexp_eatCControlLetter=function(n){var t=n.pos;if(n.eat(99)){if(this.regexp_eatControlLetter(n))return!0;n.pos=t}return!1};_t.regexp_eatZero=function(n){return n.current()===48&&!Dg(n.lookahead())?(n.lastIntValue=0,n.advance(),!0):!1};_t.regexp_eatControlEscape=function(n){var t=n.current();return t===116?(n.lastIntValue=9,n.advance(),!0):t===110?(n.lastIntValue=10,n.advance(),!0):t===118?(n.lastIntValue=11,n.advance(),!0):t===102?(n.lastIntValue=12,n.advance(),!0):t===114?(n.lastIntValue=13,n.advance(),!0):!1};_t.regexp_eatControlLetter=function(n){var t=n.current();return kk(t)?(n.lastIntValue=t%32,n.advance(),!0):!1};function kk(n){return n>=65&&n<=90||n>=97&&n<=122}_t.regexp_eatRegExpUnicodeEscapeSequence=function(n,t){t===void 0&&(t=!1);var r=n.pos,i=t||n.switchU;if(n.eat(117)){if(this.regexp_eatFixedHexDigits(n,4)){var s=n.lastIntValue;if(i&&s>=55296&&s<=56319){var o=n.pos;if(n.eat(92)&&n.eat(117)&&this.regexp_eatFixedHexDigits(n,4)){var a=n.lastIntValue;if(a>=56320&&a<=57343)return n.lastIntValue=(s-55296)*1024+(a-56320)+65536,!0}n.pos=o,n.lastIntValue=s}return!0}if(i&&n.eat(123)&&this.regexp_eatHexDigits(n)&&n.eat(125)&&kne(n.lastIntValue))return!0;i&&n.raise("Invalid unicode escape"),n.pos=r}return!1};function kne(n){return n>=0&&n<=1114111}_t.regexp_eatIdentityEscape=function(n){if(n.switchU)return this.regexp_eatSyntaxCharacter(n)?!0:n.eat(47)?(n.lastIntValue=47,!0):!1;var t=n.current();return t!==99&&(!n.switchN||t!==107)?(n.lastIntValue=t,n.advance(),!0):!1};_t.regexp_eatDecimalEscape=function(n){n.lastIntValue=0;var t=n.current();if(t>=49&&t<=57){do n.lastIntValue=10*n.lastIntValue+(t-48),n.advance();while((t=n.current())>=48&&t<=57);return!0}return!1};var Mk=0,Qo=1,ws=2;_t.regexp_eatCharacterClassEscape=function(n){var t=n.current();if(Mne(t))return n.lastIntValue=-1,n.advance(),Qo;var r=!1;if(n.switchU&&this.options.ecmaVersion>=9&&((r=t===80)||t===112)){n.lastIntValue=-1,n.advance();var i;if(n.eat(123)&&(i=this.regexp_eatUnicodePropertyValueExpression(n))&&n.eat(125))return r&&i===ws&&n.raise("Invalid property name"),i;n.raise("Invalid property name")}return Mk};function Mne(n){return n===100||n===68||n===115||n===83||n===119||n===87}_t.regexp_eatUnicodePropertyValueExpression=function(n){var t=n.pos;if(this.regexp_eatUnicodePropertyName(n)&&n.eat(61)){var r=n.lastStringValue;if(this.regexp_eatUnicodePropertyValue(n)){var i=n.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(n,r,i),Qo}}if(n.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(n)){var s=n.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(n,s)}return Mk};_t.regexp_validateUnicodePropertyNameAndValue=function(n,t,r){Ac(n.unicodeProperties.nonBinary,t)||n.raise("Invalid property name"),n.unicodeProperties.nonBinary[t].test(r)||n.raise("Invalid property value")};_t.regexp_validateUnicodePropertyNameOrValue=function(n,t){if(n.unicodeProperties.binary.test(t))return Qo;if(n.switchV&&n.unicodeProperties.binaryOfStrings.test(t))return ws;n.raise("Invalid property name")};_t.regexp_eatUnicodePropertyName=function(n){var t=0;for(n.lastStringValue="";Ok(t=n.current());)n.lastStringValue+=Jo(t),n.advance();return n.lastStringValue!==""};function Ok(n){return kk(n)||n===95}_t.regexp_eatUnicodePropertyValue=function(n){var t=0;for(n.lastStringValue="";One(t=n.current());)n.lastStringValue+=Jo(t),n.advance();return n.lastStringValue!==""};function One(n){return Ok(n)||Dg(n)}_t.regexp_eatLoneUnicodePropertyNameOrValue=function(n){return this.regexp_eatUnicodePropertyValue(n)};_t.regexp_eatCharacterClass=function(n){if(n.eat(91)){var t=n.eat(94),r=this.regexp_classContents(n);return n.eat(93)||n.raise("Unterminated character class"),t&&r===ws&&n.raise("Negated character class may contain strings"),!0}return!1};_t.regexp_classContents=function(n){return n.current()===93?Qo:n.switchV?this.regexp_classSetExpression(n):(this.regexp_nonEmptyClassRanges(n),Qo)};_t.regexp_nonEmptyClassRanges=function(n){for(;this.regexp_eatClassAtom(n);){var t=n.lastIntValue;if(n.eat(45)&&this.regexp_eatClassAtom(n)){var r=n.lastIntValue;n.switchU&&(t===-1||r===-1)&&n.raise("Invalid character class"),t!==-1&&r!==-1&&t>r&&n.raise("Range out of order in character class")}}};_t.regexp_eatClassAtom=function(n){var t=n.pos;if(n.eat(92)){if(this.regexp_eatClassEscape(n))return!0;if(n.switchU){var r=n.current();(r===99||Rk(r))&&n.raise("Invalid class escape"),n.raise("Invalid escape")}n.pos=t}var i=n.current();return i!==93?(n.lastIntValue=i,n.advance(),!0):!1};_t.regexp_eatClassEscape=function(n){var t=n.pos;if(n.eat(98))return n.lastIntValue=8,!0;if(n.switchU&&n.eat(45))return n.lastIntValue=45,!0;if(!n.switchU&&n.eat(99)){if(this.regexp_eatClassControlLetter(n))return!0;n.pos=t}return this.regexp_eatCharacterClassEscape(n)||this.regexp_eatCharacterEscape(n)};_t.regexp_classSetExpression=function(n){var t=Qo,r;if(!this.regexp_eatClassSetRange(n))if(r=this.regexp_eatClassSetOperand(n)){r===ws&&(t=ws);for(var i=n.pos;n.eatChars([38,38]);){if(n.current()!==38&&(r=this.regexp_eatClassSetOperand(n))){r!==ws&&(t=Qo);continue}n.raise("Invalid character in character class")}if(i!==n.pos)return t;for(;n.eatChars([45,45]);)this.regexp_eatClassSetOperand(n)||n.raise("Invalid character in character class");if(i!==n.pos)return t}else n.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(n)){if(r=this.regexp_eatClassSetOperand(n),!r)return t;r===ws&&(t=ws)}};_t.regexp_eatClassSetRange=function(n){var t=n.pos;if(this.regexp_eatClassSetCharacter(n)){var r=n.lastIntValue;if(n.eat(45)&&this.regexp_eatClassSetCharacter(n)){var i=n.lastIntValue;return r!==-1&&i!==-1&&r>i&&n.raise("Range out of order in character class"),!0}n.pos=t}return!1};_t.regexp_eatClassSetOperand=function(n){return this.regexp_eatClassSetCharacter(n)?Qo:this.regexp_eatClassStringDisjunction(n)||this.regexp_eatNestedClass(n)};_t.regexp_eatNestedClass=function(n){var t=n.pos;if(n.eat(91)){var r=n.eat(94),i=this.regexp_classContents(n);if(n.eat(93))return r&&i===ws&&n.raise("Negated character class may contain strings"),i;n.pos=t}if(n.eat(92)){var s=this.regexp_eatCharacterClassEscape(n);if(s)return s;n.pos=t}return null};_t.regexp_eatClassStringDisjunction=function(n){var t=n.pos;if(n.eatChars([92,113])){if(n.eat(123)){var r=this.regexp_classStringDisjunctionContents(n);if(n.eat(125))return r}else n.raise("Invalid escape");n.pos=t}return null};_t.regexp_classStringDisjunctionContents=function(n){for(var t=this.regexp_classString(n);n.eat(124);)this.regexp_classString(n)===ws&&(t=ws);return t};_t.regexp_classString=function(n){for(var t=0;this.regexp_eatClassSetCharacter(n);)t++;return t===1?Qo:ws};_t.regexp_eatClassSetCharacter=function(n){var t=n.pos;if(n.eat(92))return this.regexp_eatCharacterEscape(n)||this.regexp_eatClassSetReservedPunctuator(n)?!0:n.eat(98)?(n.lastIntValue=8,!0):(n.pos=t,!1);var r=n.current();return r<0||r===n.lookahead()&&Pne(r)||Lne(r)?!1:(n.advance(),n.lastIntValue=r,!0)};function Pne(n){return n===33||n>=35&&n<=38||n>=42&&n<=44||n===46||n>=58&&n<=64||n===94||n===96||n===126}function Lne(n){return n===40||n===41||n===45||n===47||n>=91&&n<=93||n>=123&&n<=125}_t.regexp_eatClassSetReservedPunctuator=function(n){var t=n.current();return Rne(t)?(n.lastIntValue=t,n.advance(),!0):!1};function Rne(n){return n===33||n===35||n===37||n===38||n===44||n===45||n>=58&&n<=62||n===64||n===96||n===126}_t.regexp_eatClassControlLetter=function(n){var t=n.current();return Dg(t)||t===95?(n.lastIntValue=t%32,n.advance(),!0):!1};_t.regexp_eatHexEscapeSequence=function(n){var t=n.pos;if(n.eat(120)){if(this.regexp_eatFixedHexDigits(n,2))return!0;n.switchU&&n.raise("Invalid escape"),n.pos=t}return!1};_t.regexp_eatDecimalDigits=function(n){var t=n.pos,r=0;for(n.lastIntValue=0;Dg(r=n.current());)n.lastIntValue=10*n.lastIntValue+(r-48),n.advance();return n.pos!==t};function Dg(n){return n>=48&&n<=57}_t.regexp_eatHexDigits=function(n){var t=n.pos,r=0;for(n.lastIntValue=0;Pk(r=n.current());)n.lastIntValue=16*n.lastIntValue+Lk(r),n.advance();return n.pos!==t};function Pk(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}function Lk(n){return n>=65&&n<=70?10+(n-65):n>=97&&n<=102?10+(n-97):n-48}_t.regexp_eatLegacyOctalEscapeSequence=function(n){if(this.regexp_eatOctalDigit(n)){var t=n.lastIntValue;if(this.regexp_eatOctalDigit(n)){var r=n.lastIntValue;t<=3&&this.regexp_eatOctalDigit(n)?n.lastIntValue=t*64+r*8+n.lastIntValue:n.lastIntValue=t*8+r}else n.lastIntValue=t;return!0}return!1};_t.regexp_eatOctalDigit=function(n){var t=n.current();return Rk(t)?(n.lastIntValue=t-48,n.advance(),!0):(n.lastIntValue=0,!1)};function Rk(n){return n>=48&&n<=55}_t.regexp_eatFixedHexDigits=function(n,t){var r=n.pos;n.lastIntValue=0;for(var i=0;i<t;++i){var s=n.current();if(!Pk(s))return n.pos=r,!1;n.lastIntValue=16*n.lastIntValue+Lk(s),n.advance()}return!0};var Ix=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new Sg(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},gn=Br.prototype;gn.next=function(n){!n&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ix(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};gn.getToken=function(){return this.next(),new Ix(this)};typeof Symbol<"u"&&(gn[Symbol.iterator]=function(){var n=this;return{next:function(){var t=n.getToken();return{done:t.type===oe.eof,value:t}}}});gn.nextToken=function(){var n=this.curContext();if((!n||!n.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(oe.eof);if(n.override)return n.override(this);this.readToken(this.fullCharCodeAtPos())};gn.readToken=function(n){return mo(n,this.options.ecmaVersion>=6)||n===92?this.readWord():this.getTokenFromCode(n)};gn.fullCharCodeAtPos=function(){var n=this.input.charCodeAt(this.pos);if(n<=55295||n>=56320)return n;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?n:(n<<10)+t-56613888};gn.skipBlockComment=function(){var n=this.options.onComment&&this.curPosition(),t=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(var i=void 0,s=t;(i=ak(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,r),t,this.pos,n,this.curPosition())};gn.skipLineComment=function(n){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=n);this.pos<this.input.length&&!Cc(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+n,this.pos),t,this.pos,r,this.curPosition())};gn.skipSpace=function(){e:for(;this.pos<this.input.length;){var n=this.input.charCodeAt(this.pos);switch(n){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(n>8&&n<14||n>=5760&&lk.test(String.fromCharCode(n)))++this.pos;else break e}}};gn.finishToken=function(n,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=n,this.value=t,this.updateContext(r)};gn.readToken_dot=function(){var n=this.input.charCodeAt(this.pos+1);if(n>=48&&n<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&n===46&&t===46?(this.pos+=3,this.finishToken(oe.ellipsis)):(++this.pos,this.finishToken(oe.dot))};gn.readToken_slash=function(){var n=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):n===61?this.finishOp(oe.assign,2):this.finishOp(oe.slash,1)};gn.readToken_mult_modulo_exp=function(n){var t=this.input.charCodeAt(this.pos+1),r=1,i=n===42?oe.star:oe.modulo;return this.options.ecmaVersion>=7&&n===42&&t===42&&(++r,i=oe.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(oe.assign,r+1):this.finishOp(i,r)};gn.readToken_pipe_amp=function(n){var t=this.input.charCodeAt(this.pos+1);if(t===n){if(this.options.ecmaVersion>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(oe.assign,3)}return this.finishOp(n===124?oe.logicalOR:oe.logicalAND,2)}return t===61?this.finishOp(oe.assign,2):this.finishOp(n===124?oe.bitwiseOR:oe.bitwiseAND,1)};gn.readToken_caret=function(){var n=this.input.charCodeAt(this.pos+1);return n===61?this.finishOp(oe.assign,2):this.finishOp(oe.bitwiseXOR,1)};gn.readToken_plus_min=function(n){var t=this.input.charCodeAt(this.pos+1);return t===n?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ki.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(oe.incDec,2):t===61?this.finishOp(oe.assign,2):this.finishOp(oe.plusMin,1)};gn.readToken_lt_gt=function(n){var t=this.input.charCodeAt(this.pos+1),r=1;return t===n?(r=n===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(oe.assign,r+1):this.finishOp(oe.bitShift,r)):t===33&&n===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(r=2),this.finishOp(oe.relational,r))};gn.readToken_eq_excl=function(n){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(oe.equality,this.input.charCodeAt(this.pos+2)===61?3:2):n===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(oe.arrow)):this.finishOp(n===61?oe.eq:oe.prefix,1)};gn.readToken_question=function(){var n=this.options.ecmaVersion;if(n>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(oe.questionDot,2)}if(t===63){if(n>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(oe.assign,3)}return this.finishOp(oe.coalesce,2)}}return this.finishOp(oe.question,1)};gn.readToken_numberSign=function(){var n=this.options.ecmaVersion,t=35;if(n>=13&&(++this.pos,t=this.fullCharCodeAtPos(),mo(t,!0)||t===92))return this.finishToken(oe.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Jo(t)+"'")};gn.getTokenFromCode=function(n){switch(n){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(oe.parenL);case 41:return++this.pos,this.finishToken(oe.parenR);case 59:return++this.pos,this.finishToken(oe.semi);case 44:return++this.pos,this.finishToken(oe.comma);case 91:return++this.pos,this.finishToken(oe.bracketL);case 93:return++this.pos,this.finishToken(oe.bracketR);case 123:return++this.pos,this.finishToken(oe.braceL);case 125:return++this.pos,this.finishToken(oe.braceR);case 58:return++this.pos,this.finishToken(oe.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(oe.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(n);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(n);case 124:case 38:return this.readToken_pipe_amp(n);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(n);case 60:case 62:return this.readToken_lt_gt(n);case 61:case 33:return this.readToken_eq_excl(n);case 63:return this.readToken_question();case 126:return this.finishOp(oe.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Jo(n)+"'")};gn.finishOp=function(n,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(n,r)};gn.readRegexp=function(){for(var n,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(Ki.test(i)&&this.raise(r,"Unterminated regular expression"),n)n=!1;else{if(i==="[")t=!0;else if(i==="]"&&t)t=!1;else if(i==="/"&&!t)break;n=i==="\\"}++this.pos}var s=this.input.slice(r,this.pos);++this.pos;var o=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(o);var l=this.regexpState||(this.regexpState=new bo(this));l.reset(r,s,a),this.validateRegExpFlags(l),this.validateRegExpPattern(l);var u=null;try{u=new RegExp(s,a)}catch{}return this.finishToken(oe.regexp,{pattern:s,flags:a,value:u})};gn.readInt=function(n,t,r){for(var i=this.options.ecmaVersion>=12&&t===void 0,s=r&&this.input.charCodeAt(this.pos)===48,o=this.pos,a=0,l=0,u=0,h=t??1/0;u<h;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(i&&c===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),l===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),l=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=n)break;l=c,a=a*n+f}return i&&l===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||t!=null&&this.pos-o!==t?null:a};function Bne(n,t){return t?parseInt(n,8):parseFloat(n.replace(/_/g,""))}function Bk(n){return typeof BigInt!="function"?null:BigInt(n.replace(/_/g,""))}gn.readRadixNumber=function(n){var t=this.pos;this.pos+=2;var r=this.readInt(n);return r==null&&this.raise(this.start+2,"Expected number in radix "+n),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(r=Bk(this.input.slice(t,this.pos)),++this.pos):mo(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(oe.num,r)};gn.readNumber=function(n){var t=this.pos;!n&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var r=this.pos-t>=2&&this.input.charCodeAt(t)===48;r&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!r&&!n&&this.options.ecmaVersion>=11&&i===110){var s=Bk(this.input.slice(t,this.pos));return++this.pos,mo(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(oe.num,s)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),i===46&&!r&&(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),(i===69||i===101)&&!r&&(i=this.input.charCodeAt(++this.pos),(i===43||i===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),mo(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=Bne(this.input.slice(t,this.pos),r);return this.finishToken(oe.num,o)};gn.readCodePoint=function(){var n=this.input.charCodeAt(this.pos),t;if(n===123){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else t=this.readHexChar(4);return t};gn.readString=function(n){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===n)break;i===92?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):i===8232||i===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Cc(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(oe.string,t)};var Uk={};gn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(n){if(n===Uk)this.readInvalidTemplateToken();else throw n}this.inTemplateElement=!1};gn.invalidStringToken=function(n,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Uk;this.raise(n,t)};gn.readTmplToken=function(){for(var n="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(r===96||r===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===oe.template||this.type===oe.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(oe.dollarBraceL)):(++this.pos,this.finishToken(oe.backQuote)):(n+=this.input.slice(t,this.pos),this.finishToken(oe.template,n));if(r===92)n+=this.input.slice(t,this.pos),n+=this.readEscapedChar(!0),t=this.pos;else if(Cc(r)){switch(n+=this.input.slice(t,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:n+=`
`;break;default:n+=String.fromCharCode(r);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};gn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(oe.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};gn.readEscapedChar=function(n){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Jo(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),n){var r=this.pos-1;this.invalidStringToken(r,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(i,8);return s>255&&(i=i.slice(0,-1),s=parseInt(i,8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),(i!=="0"||t===56||t===57)&&(this.strict||n)&&this.invalidStringToken(this.pos-1-i.length,n?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return Cc(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}};gn.readHexChar=function(n){var t=this.pos,r=this.readInt(16,n);return r===null&&this.invalidStringToken(t,"Bad character escape sequence"),r};gn.readWord1=function(){this.containsEsc=!1;for(var n="",t=!0,r=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(Ba(s,i))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,n+=this.input.slice(r,this.pos);var o=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?mo:Ba)(a,i)||this.invalidStringToken(o,"Invalid Unicode escape"),n+=Jo(a),r=this.pos}else break;t=!1}return n+this.input.slice(r,this.pos)};gn.readWord=function(){var n=this.readWord1(),t=oe.name;return this.keywords.test(n)&&(t=wx[n]),this.finishToken(t,n)};var Une="8.15.0";Br.acorn={Parser:Br,version:Une,defaultOptions:t1,Position:af,SourceLocation:Sg,getLineInfo:ck,Node:Ig,TokenType:bn,tokTypes:oe,keywordTypes:wx,TokContext:Bs,tokContexts:rr,isIdentifierChar:Ba,isIdentifierStart:mo,Token:Ix,isNewLine:Cc,lineBreak:Ki,lineBreakG:ane,nonASCIIwhitespace:lk};function Vk(n,t){return Br.parse(n,t)}function Vne(n,t,r,i,s){r||(r=it),(function o(a,l,u){var h=u||a.type;r[h](a,l,o),t[h]&&t[h](a,l)})(n,i,s)}function $ne(n,t,r,i,s){var o=[];r||(r=it),(function a(l,u,h){var c=h||l.type,f=l!==o[o.length-1];f&&o.push(l),r[c](l,u,a),t[c]&&t[c](l,u||o,o),f&&o.pop()})(n,i,s)}function jne(n,t,r,i,s){var o=r?zne(r):i;(function a(l,u,h){o[h||l.type](l,u,a)})(n,t,s)}function zne(n,t){var r=Object.create(it);for(var i in n)r[i]=n[i];return r}function Dx(n,t,r){r(n,t)}function au(n,t,r){}var it={};it.Program=it.BlockStatement=it.StaticBlock=function(n,t,r){for(var i=0,s=n.body;i<s.length;i+=1){var o=s[i];r(o,t,"Statement")}};it.Statement=Dx;it.EmptyStatement=au;it.ExpressionStatement=it.ParenthesizedExpression=it.ChainExpression=function(n,t,r){return r(n.expression,t,"Expression")};it.IfStatement=function(n,t,r){r(n.test,t,"Expression"),r(n.consequent,t,"Statement"),n.alternate&&r(n.alternate,t,"Statement")};it.LabeledStatement=function(n,t,r){return r(n.body,t,"Statement")};it.BreakStatement=it.ContinueStatement=au;it.WithStatement=function(n,t,r){r(n.object,t,"Expression"),r(n.body,t,"Statement")};it.SwitchStatement=function(n,t,r){r(n.discriminant,t,"Expression");for(var i=0,s=n.cases;i<s.length;i+=1){var o=s[i];r(o,t)}};it.SwitchCase=function(n,t,r){n.test&&r(n.test,t,"Expression");for(var i=0,s=n.consequent;i<s.length;i+=1){var o=s[i];r(o,t,"Statement")}};it.ReturnStatement=it.YieldExpression=it.AwaitExpression=function(n,t,r){n.argument&&r(n.argument,t,"Expression")};it.ThrowStatement=it.SpreadElement=function(n,t,r){return r(n.argument,t,"Expression")};it.TryStatement=function(n,t,r){r(n.block,t,"Statement"),n.handler&&r(n.handler,t),n.finalizer&&r(n.finalizer,t,"Statement")};it.CatchClause=function(n,t,r){n.param&&r(n.param,t,"Pattern"),r(n.body,t,"Statement")};it.WhileStatement=it.DoWhileStatement=function(n,t,r){r(n.test,t,"Expression"),r(n.body,t,"Statement")};it.ForStatement=function(n,t,r){n.init&&r(n.init,t,"ForInit"),n.test&&r(n.test,t,"Expression"),n.update&&r(n.update,t,"Expression"),r(n.body,t,"Statement")};it.ForInStatement=it.ForOfStatement=function(n,t,r){r(n.left,t,"ForInit"),r(n.right,t,"Expression"),r(n.body,t,"Statement")};it.ForInit=function(n,t,r){n.type==="VariableDeclaration"?r(n,t):r(n,t,"Expression")};it.DebuggerStatement=au;it.FunctionDeclaration=function(n,t,r){return r(n,t,"Function")};it.VariableDeclaration=function(n,t,r){for(var i=0,s=n.declarations;i<s.length;i+=1){var o=s[i];r(o,t)}};it.VariableDeclarator=function(n,t,r){r(n.id,t,"Pattern"),n.init&&r(n.init,t,"Expression")};it.Function=function(n,t,r){n.id&&r(n.id,t,"Pattern");for(var i=0,s=n.params;i<s.length;i+=1){var o=s[i];r(o,t,"Pattern")}r(n.body,t,n.expression?"Expression":"Statement")};it.Pattern=function(n,t,r){n.type==="Identifier"?r(n,t,"VariablePattern"):n.type==="MemberExpression"?r(n,t,"MemberPattern"):r(n,t)};it.VariablePattern=au;it.MemberPattern=Dx;it.RestElement=function(n,t,r){return r(n.argument,t,"Pattern")};it.ArrayPattern=function(n,t,r){for(var i=0,s=n.elements;i<s.length;i+=1){var o=s[i];o&&r(o,t,"Pattern")}};it.ObjectPattern=function(n,t,r){for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];o.type==="Property"?(o.computed&&r(o.key,t,"Expression"),r(o.value,t,"Pattern")):o.type==="RestElement"&&r(o.argument,t,"Pattern")}};it.Expression=Dx;it.ThisExpression=it.Super=it.MetaProperty=au;it.ArrayExpression=function(n,t,r){for(var i=0,s=n.elements;i<s.length;i+=1){var o=s[i];o&&r(o,t,"Expression")}};it.ObjectExpression=function(n,t,r){for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];r(o,t)}};it.FunctionExpression=it.ArrowFunctionExpression=it.FunctionDeclaration;it.SequenceExpression=function(n,t,r){for(var i=0,s=n.expressions;i<s.length;i+=1){var o=s[i];r(o,t,"Expression")}};it.TemplateLiteral=function(n,t,r){for(var i=0,s=n.quasis;i<s.length;i+=1){var o=s[i];r(o,t)}for(var a=0,l=n.expressions;a<l.length;a+=1){var u=l[a];r(u,t,"Expression")}};it.TemplateElement=au;it.UnaryExpression=it.UpdateExpression=function(n,t,r){r(n.argument,t,"Expression")};it.BinaryExpression=it.LogicalExpression=function(n,t,r){r(n.left,t,"Expression"),r(n.right,t,"Expression")};it.AssignmentExpression=it.AssignmentPattern=function(n,t,r){r(n.left,t,"Pattern"),r(n.right,t,"Expression")};it.ConditionalExpression=function(n,t,r){r(n.test,t,"Expression"),r(n.consequent,t,"Expression"),r(n.alternate,t,"Expression")};it.NewExpression=it.CallExpression=function(n,t,r){if(r(n.callee,t,"Expression"),n.arguments)for(var i=0,s=n.arguments;i<s.length;i+=1){var o=s[i];r(o,t,"Expression")}};it.MemberExpression=function(n,t,r){r(n.object,t,"Expression"),n.computed&&r(n.property,t,"Expression")};it.ExportNamedDeclaration=it.ExportDefaultDeclaration=function(n,t,r){n.declaration&&r(n.declaration,t,n.type==="ExportNamedDeclaration"||n.declaration.id?"Statement":"Expression"),n.source&&r(n.source,t,"Expression")};it.ExportAllDeclaration=function(n,t,r){n.exported&&r(n.exported,t),r(n.source,t,"Expression")};it.ImportDeclaration=function(n,t,r){for(var i=0,s=n.specifiers;i<s.length;i+=1){var o=s[i];r(o,t)}r(n.source,t,"Expression")};it.ImportExpression=function(n,t,r){r(n.source,t,"Expression")};it.ImportSpecifier=it.ImportDefaultSpecifier=it.ImportNamespaceSpecifier=it.Identifier=it.PrivateIdentifier=it.Literal=au;it.TaggedTemplateExpression=function(n,t,r){r(n.tag,t,"Expression"),r(n.quasi,t,"Expression")};it.ClassDeclaration=it.ClassExpression=function(n,t,r){return r(n,t,"Class")};it.Class=function(n,t,r){n.id&&r(n.id,t,"Pattern"),n.superClass&&r(n.superClass,t,"Expression"),r(n.body,t)};it.ClassBody=function(n,t,r){for(var i=0,s=n.body;i<s.length;i+=1){var o=s[i];r(o,t)}};it.MethodDefinition=it.PropertyDefinition=it.Property=function(n,t,r){n.computed&&r(n.key,t,"Expression"),n.value&&r(n.value,t,"Expression")};const Gne=["setup","draw","preload","deviceMoved","deviceTurned","deviceShaken","doubleClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","mouseClicked","mouseWheel","touchStarted","touchMoved","touchEnded","keyPressed","keyReleased","keyTyped","windowResized"],ih={fetchScript:async function(n){if(n.src)try{return await fetch(n.src).then(r=>r.text())}catch(t){return console.error("Error fetching script:",t),""}else return n.textContent},extractUserDefinedVariablesAndFuncs:function(n){const t={variables:[],functions:[]},r=-1;try{const i=Vk(n,{ecmaVersion:2021,sourceType:"module",locations:!0});Vne(i,{VariableDeclarator(s){if(s.id.type==="Identifier"){const o=s.init&&["ArrowFunctionExpression","FunctionExpression"].includes(s.init.type)?"functions":"variables";t[o].push({name:s.id.name,line:s.loc.start.line+r})}},FunctionDeclaration(s){s.id&&s.id.type==="Identifier"&&t.functions.push({name:s.id.name,line:s.loc.start.line+r})},ClassDeclaration(s){s.id&&s.id.type==="Identifier"&&t.variables.push({name:s.id.name,line:s.loc.start.line+r})}})}catch(i){console.error("Error parsing code:",i)}return t},checkForConstsAndFuncs:function(n,t){const r=[...n.variables,...n.functions];function i(o,a,l){const u=`https://p5js.org/reference/p5/${a}`;return`${o} "${a}" on line ${l} is being redeclared and conflicts with a p5.js ${o.toLowerCase()}. p5.js reference: ${u}`}for(let{name:o,line:a}of r)if(Pa[o]!==void 0){const u=i("Constant",o,a);return console.log(u),!0}const s=new Set(Object.getOwnPropertyNames(t.prototype).filter(o=>!o.startsWith("_")&&o!=="constructor"));for(let{name:o,line:a}of r)if(!Gne.includes(o)&&s.has(o)){const l=i("Function",o,a);return console.log(l),!0}return!1},getUserCode:async function(){const n=document.querySelectorAll("script"),t=n[n.length-1];return await ih.fetchScript(t)},runFES:async function(n){const t=await ih.getUserCode(),r=ih.extractUserDefinedVariablesAndFuncs(t);ih.checkForConstsAndFuncs(r,n)}};function $k(n,t,r){r.presetup=async function(){!n.disableFriendlyErrors&&!n.disableSketchChecker&&ih.runFES(n)}}typeof p5<"u"&&$k(p5,p5.prototype);function jk(n,t){const r=(i,s)=>{const o=jt("fes.fileLoadError.suggestion",{filePath:s,url:"https://github.com/processing/p5.js/wiki/Local-server"});switch(i){case 0:return{message:jt("fes.fileLoadError.image",{suggestion:o}),method:"loadImage"};case 1:return{message:jt("fes.fileLoadError.xml",{suggestion:o}),method:"loadXML"};case 2:return{message:jt("fes.fileLoadError.table",{suggestion:o}),method:"loadTable"};case 3:return{message:jt("fes.fileLoadError.strings",{suggestion:o}),method:"loadStrings"};case 4:return{message:jt("fes.fileLoadError.font",{suggestion:o}),method:"loadFont"};case 5:return{message:jt("fes.fileLoadError.json",{suggestion:o}),method:"loadJSON"};case 6:return{message:jt("fes.fileLoadError.bytes",{suggestion:o}),method:"loadBytes"};case 7:return{message:jt("fes.fileLoadError.large"),method:"loadX"};case 8:return{message:jt("fes.fileLoadError.gif"),method:"loadImage"}}};n._friendlyFileLoadError=function(i,s){const{message:o,method:a}=r(i,s);n._friendlyError(o,a,3)}}typeof p5<"u"&&jk(p5,p5.prototype);function Hne(n){n.registerAddon(DF),n.registerAddon(NF),n.registerAddon(ik),n.registerAddon($k),n.registerAddon(jk)}function zk(n,t){t.storeItem=function(r,i){typeof r!="string"&&console.log(`The argument that you passed to storeItem() - ${r} is not a string.`),r.endsWith("p5TypeID")&&console.log(`The argument that you passed to storeItem() - ${r} must not end with 'p5TypeID'.`),typeof i>"u"&&console.log("You cannot store undefined variables using storeItem().");let s=typeof i;switch(s){case"number":case"boolean":i=i.toString();break;case"object":i instanceof n.Color?(s="p5.Color",i=i.toString()):i instanceof n.Vector&&(s="p5.Vector",i=i.values),i=JSON.stringify(i);break}localStorage.setItem(r,i);const o=`${r}p5TypeID`;localStorage.setItem(o,s)},t.getItem=function(r){let i=localStorage.getItem(r);const s=localStorage.getItem(`${r}p5TypeID`);if(typeof s>"u")console.log(`Unable to determine type of item stored under ${r}in local storage. Did you save the item with something other than setItem()?`);else if(i!==null)switch(s){case"number":i=parseFloat(i);break;case"boolean":i=i==="true";break;case"object":i=JSON.parse(i);break;case"p5.Color":i=this.color(JSON.parse(i));break;case"p5.Vector":i=JSON.parse(i),i=this.createVector(...i);break}return i},t.clearStorage=function(){Object.keys(localStorage).forEach(i=>{i.endsWith("p5TypeID")&&this.removeItem(i.replace("p5TypeID",""))})},t.removeItem=function(r){typeof r!="string"&&console.log(`The argument that you passed to removeItem() - ${r} is not a string.`),localStorage.removeItem(r),localStorage.removeItem(`${r}p5TypeID`)}}typeof p5<"u"&&zk(p5,p5.prototype);function Wne(n){n.registerAddon(zk)}function Gk(n,t){t.select=function(s,o){const l=this._getContainer(o).querySelector(s);return l?this._wrapElement(l):null},t.selectAll=function(s,o){const a=[],u=this._getContainer(o).querySelectorAll(s);if(u)for(let h=0;h<u.length;h++){const c=this._wrapElement(u[h]);a.push(c)}return a},t._getContainer=function(s){let o=document;return typeof s=="string"?o=document.querySelector(s)||document:s instanceof Lr?o=s.elt:s instanceof HTMLElement&&(o=s),o},t._wrapElement=function(s){const o=Array.prototype.slice.call(s.children);if(s.tagName==="INPUT"&&s.type==="checkbox"){let a=new Lr(s,this);return a.checked=function(...l){return l.length===0?this.elt.checked:(l[0]?this.elt.checked=!0:this.elt.checked=!1,this)},a}else return s.tagName==="VIDEO"||s.tagName==="AUDIO"?new bl(s,this):s.tagName==="SELECT"?this.createSelect(new Lr(s,this)):o.length>0&&o.every(function(a){return a.tagName==="INPUT"||a.tagName==="LABEL"})&&(s.tagName==="DIV"||s.tagName==="SPAN")?this.createRadio(new Lr(s,this)):new Lr(s,this)},t.createElement=function(s,o){const a=document.createElement(s);return typeof o<"u"&&(a.innerHTML=o),r(a,this)},t.removeElements=function(s){const o=l=>!(l.elt instanceof HTMLCanvasElement);this._elements.filter(o).map(l=>l.remove())};function r(s,o,a){(o._userNode?o._userNode:document.body).appendChild(s);const u=a?new bl(s,o):new Lr(s,o);return o._elements.push(u),u}t.createDiv=function(s=""){let o=document.createElement("div");return o.innerHTML=s,r(o,this)},t.createP=function(s=""){let o=document.createElement("p");return o.innerHTML=s,r(o,this)},t.createSpan=function(s=""){let o=document.createElement("span");return o.innerHTML=s,r(o,this)},t.createImg=function(){const s=document.createElement("img"),o=arguments;let a;return o.length>1&&typeof o[1]=="string"&&(s.alt=o[1]),o.length>2&&typeof o[2]=="string"&&(s.crossOrigin=o[2]),s.src=o[0],a=r(s,this),s.addEventListener("load",function(){a.width=s.offsetWidth||s.width,a.height=s.offsetHeight||s.height;const l=o[o.length-1];typeof l=="function"&&l(a)}),a},t.createA=function(s,o,a){const l=document.createElement("a");return l.href=s,l.innerHTML=o,a&&(l.target=a),r(l,this)},t.createSlider=function(s,o,a,l){const u=document.createElement("input");return u.type="range",u.min=s,u.max=o,l===0?u.step=1e-18:l&&(u.step=l),typeof a=="number"&&(u.value=a),r(u,this)},t.createButton=function(s,o){const a=document.createElement("button");return a.innerHTML=s,o&&(a.value=o),r(a,this)},t.createCheckbox=function(...s){const o=document.createElement("div"),a=document.createElement("input");a.type="checkbox";const l=document.createElement("label");l.appendChild(a),o.appendChild(l);const u=r(o,this);if(u.checked=function(...h){const c=u.elt.firstElementChild.getElementsByTagName("input")[0];if(c){if(h.length===0)return c.checked;h[0]?c.checked=!0:c.checked=!1}return u},this.value=function(h){return u.value=h,this},s[0]){u.value(s[0]);const h=document.createElement("span");h.innerHTML=s[0],l.appendChild(h)}return s[1]&&(a.checked=!0),u},t.createSelect=function(...s){let o,a=s[0];if(a instanceof Lr&&a.elt instanceof HTMLSelectElement)o=a,this.elt=a.elt;else if(a instanceof HTMLSelectElement)o=r(a,this),this.elt=a;else{const l=document.createElement("select");a&&typeof a=="boolean"&&l.setAttribute("multiple","true"),o=r(l,this),this.elt=l}return o.option=function(l,u){let h;if(l!==void 0){for(let c=0;c<this.elt.length;c+=1)if(this.elt[c].textContent===l){h=c;break}if(h!==void 0)u===!1?this.elt.remove(h):this.elt[h].value=u;else{const c=document.createElement("option");c.textContent=l,c.value=u===void 0?l:u,this.elt.appendChild(c),this._pInst._elements.push(c)}}},o.selected=function(l){if(l!==void 0){for(let u=0;u<this.elt.length;u+=1)this.elt[u].value.toString()===l.toString()&&(this.elt.selectedIndex=u);return this}else if(this.elt.getAttribute("multiple")){let u=[];for(const h of this.elt.selectedOptions)u.push(h.value);return u}else return this.elt.value},o.disable=function(l){if(typeof l=="string")for(let u=0;u<this.elt.length;u++)this.elt[u].value.toString()===l&&(this.elt[u].disabled=!0,this.elt[u].selected=!1);else this.elt.disabled=!0;return this},o.enable=function(l){if(typeof l=="string")for(let u=0;u<this.elt.length;u++)this.elt[u].value.toString()===l&&(this.elt[u].disabled=!1,this.elt[u].selected=!1);else{this.elt.disabled=!1;for(let u=0;u<this.elt.length;u++)this.elt[u].disabled=!1,this.elt[u].selected=!1}return this},o};let i=0;t.createRadio=function(...s){let o,a,l;const u=s[0];u instanceof Lr&&(u.elt instanceof HTMLDivElement||u.elt instanceof HTMLSpanElement)?(o=u,this.elt=u.elt):u instanceof HTMLDivElement||u instanceof HTMLSpanElement?(o=r(u,this),this.elt=u,a=u,typeof s[1]=="string"&&(l=s[1])):(typeof u=="string"&&(l=u),a=document.createElement("div"),o=r(a,this),this.elt=a),o._name=l||`radioOption_${i++}`;const h=d=>d instanceof HTMLInputElement&&d.type==="radio",c=d=>d instanceof HTMLLabelElement,f=d=>d instanceof HTMLSpanElement;return o._getOptionsArray=function(){return Array.from(this.elt.children).filter(d=>h(d)||c(d)&&h(d.firstElementChild)).map(d=>h(d)?d:d.firstElementChild)},o.option=function(d,p){let m;for(const S of o._getOptionsArray())if(S.value===d){m=S;break}m===void 0&&(m=document.createElement("input"),m.setAttribute("type","radio"),m.setAttribute("value",d)),m.setAttribute("name",o._name);let g;c(m.parentElement)?g=m.parentElement:(g=document.createElement("label"),g.insertAdjacentElement("afterbegin",m));let v;return f(g.lastElementChild)?v=g.lastElementChild:(v=document.createElement("span"),m.insertAdjacentElement("afterend",v)),v.innerHTML=p===void 0?d:p,this.elt.appendChild(g),m},o.remove=function(d){for(const p of o._getOptionsArray())if(p.value===d){c(p.parentElement)?p.parentElement.remove():p.remove();return}},o.value=function(){let d="";for(const p of o._getOptionsArray())if(p.checked){d=p.value;break}return d},o.selected=function(d){let p=null;if(d===void 0){for(const m of o._getOptionsArray())if(m.checked){p=m;break}}else{o._getOptionsArray().forEach(m=>{m.checked=!1,m.removeAttribute("checked")});for(const m of o._getOptionsArray())m.value===d&&(m.setAttribute("checked",!0),m.checked=!0,p=m)}return p},o.disable=function(d=!0){for(const p of o._getOptionsArray())p.setAttribute("disabled",d)},o},t.createColorPicker=function(s){const o=document.createElement("input");let a;o.type="color",s?s instanceof n.Color?o.value=s.toString("#rrggbb"):(this.push(),this.colorMode("rgb"),o.value=this.color(s).toString("#rrggbb"),this.pop()):o.value="#000000",a=r(o,this);const l=this;return a.color=function(){l.push(),s&&s.mode&&l.colorMode(s.mode,...s?.maxes?s.maxes[s.mode]||[]:[]);const u=l.color(this.elt.value);return l.pop(),u},a},t.createInput=function(s="",o="text"){let a=document.createElement("input");return a.setAttribute("value",s),a.setAttribute("type",o),r(a,this)},t.createFileInput=function(s,o=!1){const a=function(u){for(const h of u.target.files)Ca._load(h,s)};if(!(window.File&&window.FileReader&&window.FileList&&window.Blob)){console.log("The File APIs are not fully supported in this browser. Cannot create element.");return}const l=document.createElement("input");return l.setAttribute("type","file"),o&&l.setAttribute("multiple",!0),l.addEventListener("change",a,!1),r(l,this)}}typeof p5<"u"&&Gk(p5,p5.prototype);function Xne(n){n.registerAddon(Gk),n.registerAddon(bN),n.registerAddon(BN),n.registerAddon(yN)}function Hk(n,t,r){r.presetup=function(){const f=["deviceorientation","devicemotion"];for(const d of f)window.addEventListener(d,this[`_on${d}`].bind(this),{passive:!1,signal:this._removeSignal})},t.deviceOrientation=window.innerWidth/window.innerHeight>1?"landscape":"portrait",t.accelerationX=0,t.accelerationY=0,t.accelerationZ=0,t.pAccelerationX=0,t.pAccelerationY=0,t.pAccelerationZ=0,t._updatePAccelerations=function(){this.pAccelerationX=this.accelerationX,this.pAccelerationY=this.accelerationY,this.pAccelerationZ=this.accelerationZ},t.rotationX=0,t.rotationY=0,t.rotationZ=0,t.pRotationX=0,t.pRotationY=0,t.pRotationZ=0;let i=0,s=0,o=0,a="clockwise",l="clockwise",u="clockwise";t.pRotateDirectionX=void 0,t.pRotateDirectionY=void 0,t.pRotateDirectionZ=void 0,t._updatePRotations=function(){this.pRotationX=this.rotationX,this.pRotationY=this.rotationY,this.pRotationZ=this.rotationZ},t.turnAxis=void 0;let h=.5,c=30;t.setMoveThreshold=function(f){h=f},t.setShakeThreshold=function(f){c=f},t._ondeviceorientation=function(f){this._updatePRotations(),this.rotationX=this._fromDegrees(f.beta),this.rotationY=this._fromDegrees(f.gamma),this.rotationZ=this._fromDegrees(f.alpha),this._handleMotion()},t._ondevicemotion=function(f){this._updatePAccelerations(),this.accelerationX=f.acceleration.x*2,this.accelerationY=f.acceleration.y*2,this.accelerationZ=f.acceleration.z*2,this._handleMotion()},t._handleMotion=function(){if(screen.orientation.type==="landscape-primary"||screen.orientation.type==="landscape-secondary"?this.deviceOrientation="landscape":screen.orientation.type==="portrait-primary"||screen.orientation.type==="portrait-secondary"?this.deviceOrientation="portrait":this.deviceOrientation="undefined",typeof this._customActions.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>h||Math.abs(this.accelerationY-this.pAccelerationY)>h||Math.abs(this.accelerationZ-this.pAccelerationZ)>h)&&this._customActions.deviceMoved(),typeof this._customActions.deviceTurned=="function"){const f=this._toDegrees(this.rotationX)+180,d=this._toDegrees(this.pRotationX)+180;let p=i+180;f-d>0&&f-d<270||f-d<-270?a="clockwise":(f-d<0||f-d>270)&&(a="counter-clockwise"),a!==this.pRotateDirectionX&&(p=f),Math.abs(f-p)>90&&Math.abs(f-p)<270&&(p=f,this.turnAxis="X",this._customActions.deviceTurned()),this.pRotateDirectionX=a,i=p-180;const m=this._toDegrees(this.rotationY)+180,g=this._toDegrees(this.pRotationY)+180;let v=s+180;m-g>0&&m-g<270||m-g<-270?l="clockwise":(m-g<0||m-this.pRotationY>270)&&(l="counter-clockwise"),l!==this.pRotateDirectionY&&(v=m),Math.abs(m-v)>90&&Math.abs(m-v)<270&&(v=m,this.turnAxis="Y",this._customActions.deviceTurned()),this.pRotateDirectionY=l,s=v-180;const S=this._toDegrees(this.rotationZ),y=this._toDegrees(this.pRotationZ);S-y>0&&S-y<270||S-y<-270?u="clockwise":(S-y<0||S-y>270)&&(u="counter-clockwise"),u!==this.pRotateDirectionZ&&(o=S),Math.abs(S-o)>90&&Math.abs(S-o)<270&&(o=S,this.turnAxis="Z",this._customActions.deviceTurned()),this.pRotateDirectionZ=u,this.turnAxis=void 0}if(typeof this._customActions.deviceShaken=="function"){let f,d;this.pAccelerationX!==null&&(f=Math.abs(this.accelerationX-this.pAccelerationX),d=Math.abs(this.accelerationY-this.pAccelerationY)),f+d>c&&this._customActions.deviceShaken()}}}typeof p5<"u"&&Hk(p5,p5.prototype);function qne(n){return["Alt","Shift","Control","Meta"].includes(n)||typeof n!="string"?!1:n.length>1}function Wk(n,t,r){r.presetup=function(){const i=["keydown","keyup","keypress","blur"];for(const s of i)window.addEventListener(s,this[`_on${s}`].bind(this),{passive:!1,signal:this._removeSignal})},t.keyIsPressed=!1,t.key="",t.code="",t.keyCode=0,t._onkeydown=function(i){this._downKeys[i.code]||(this.keyIsPressed=!0,this.keyCode=i.which,this.key=i.key,this.code=i.code,this._downKeyCodes[i.code]=!0,this._downKeys[i.key]=!0,typeof this._customActions.keyPressed=="function"&&!i.charCode&&this._customActions.keyPressed(i)===!1&&i.preventDefault())},t._onkeyup=function(i){if(typeof this._customActions.keyReleased=="function"&&this._customActions.keyReleased(i)===!1&&i.preventDefault(),delete this._downKeyCodes[i.code],delete this._downKeys[i.key],!this._areDownKeys())this.keyIsPressed=!1,this.key="",this.code="";else{const s=Object.keys(this._downKeyCodes).pop();this.code=s;const o=Object.keys(this._downKeys).pop();this.key=o}},t._onkeypress=function(i){i.which===this._lastKeyCodeTyped&&i.repeat||(this._lastKeyCodeTyped=i.which,this.key=i.key||String.fromCharCode(i.which)||i.which,typeof this._customActions.keyTyped=="function"&&this._customActions.keyTyped(i)===!1&&i.preventDefault())},t._onblur=function(i){this._downKeys={}},t.keyIsDown=function(i){return qne(i)?this._downKeyCodes[i]||this._downKeys[i]||!1:this._downKeys[i]||this._downKeyCodes[i]||!1},t._areDownKeys=function(){for(const i in this._downKeys)if(this._downKeys.hasOwnProperty(i)&&this._downKeys[i]===!0)return!0;return!1}}typeof p5<"u"&&Wk(p5,p5.prototype);function Xk(n,t,r){r.presetup=function(){const o=["pointerdown","pointerup","pointermove","dragend","dragover","click","dblclick","wheel"];for(const a of o)window.addEventListener(a,this[`_on${a}`].bind(this),{passive:!1,signal:this._removeSignal})},t.movedX=0,t.movedY=0,t._hasMouseInteracted=!1,t.mouseX=0,t.mouseY=0,t.pmouseX=0,t.pmouseY=0,t.winMouseX=0,t.winMouseY=0,t.pwinMouseX=0,t.pwinMouseY=0,t.mouseButton={left:!1,right:!1,center:!1},t.touches=[],t._activePointers=new Map,t.mouseIsPressed=!1,t._updatePointerCoords=function(o){if(this._curElement!==null){const a=this._curElement.elt,l=a.scrollWidth/this.width||1,u=a.scrollHeight/this.height||1;if(o.pointerType==="touch"){const c=[];for(const f of this._activePointers.values())c.push(s(a,l,u,f));this.touches=c}const h=i(a,l,u,o);this.movedX=o.movementX||0,this.movedY=o.movementY||0,this.mouseX=h.x,this.mouseY=h.y,this.winMouseX=h.winX,this.winMouseY=h.winY,this._hasMouseInteracted||(this._updateMouseCoords(),this._hasMouseInteracted=!0)}},t._updateMouseCoords=function(){this.pmouseX=this.mouseX,this.pmouseY=this.mouseY,this.pwinMouseX=this.winMouseX,this.pwinMouseY=this.winMouseY,this._pmouseWheelDeltaY=this._mouseWheelDeltaY};function i(o,a,l,u){const h=o.getBoundingClientRect();return{x:(u.clientX-h.left)/a,y:(u.clientY-h.top)/l,winX:u.clientX,winY:u.clientY}}function s(o,a,l,u){const h=o.getBoundingClientRect();return{x:(u.clientX-h.left)/a,y:(u.clientY-h.top)/l,winX:u.clientX,winY:u.clientY,id:u.pointerId}}t._setMouseButton=function(o){this.mouseButton.left=Array.from(this._activePointers.values()).some(a=>(a.buttons&1)!==0),this.mouseButton.center=Array.from(this._activePointers.values()).some(a=>(a.buttons&4)!==0),this.mouseButton.right=Array.from(this._activePointers.values()).some(a=>(a.buttons&2)!==0)},t._onpointermove=function(o){let a;this._updatePointerCoords(o),this._activePointers.set(o.pointerId,o),this._setMouseButton(o),!this.mouseIsPressed&&typeof this._customActions.mouseMoved=="function"?(a=this._customActions.mouseMoved(o),a===!1&&o.preventDefault()):this.mouseIsPressed&&typeof this._customActions.mouseDragged=="function"&&(a=this._customActions.mouseDragged(o),a===!1&&o.preventDefault())},t._onpointerdown=function(o){let a;this.mouseIsPressed=!0,this._activePointers.set(o.pointerId,o),this._setMouseButton(o),this._updatePointerCoords(o),typeof this._customActions.mousePressed=="function"&&(a=this._customActions.mousePressed(o),a===!1&&o.preventDefault())},t._onpointerup=function(o){let a;this.mouseIsPressed=!1,this._activePointers.delete(o.pointerId),this._setMouseButton(o),this._updatePointerCoords(o),typeof this._customActions.mouseReleased=="function"&&(a=this._customActions.mouseReleased(o),a===!1&&o.preventDefault())},t._ondragend=t._onpointerup,t._ondragover=t._onpointermove,t._onclick=function(o){typeof this._customActions.mouseClicked=="function"&&this._customActions.mouseClicked(o)===!1&&o.preventDefault()},t._ondblclick=function(o){typeof this._customActions.doubleClicked=="function"&&this._customActions.doubleClicked(o)===!1&&o.preventDefault()},t._mouseWheelDeltaY=0,t._pmouseWheelDeltaY=0,t._onwheel=function(o){this._mouseWheelDeltaY=o.deltaY,typeof this._customActions.mouseWheel=="function"&&(o.delta=o.deltaY,this._customActions.mouseWheel(o)===!1&&o.preventDefault())},t.requestPointerLock=function(){const o=this._curElement.elt;return o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock,o.requestPointerLock?(o.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},t.exitPointerLock=function(){document.exitPointerLock()}}typeof p5<"u"&&Xk(p5,p5.prototype);function Yne(n){n.registerAddon(Hk),n.registerAddon(Wk),n.registerAddon(Xk)}function Kne(n){n.registerAddon(ox),n.registerAddon(ax),n.registerAddon(RN),n.registerAddon(rx),n.registerAddon(lx),n.registerAddon(dx)}class Zne{constructor(t){this.columns=[],this.rows=[]}toString(t=","){let r=this.rows.map(i=>i.arr);return this.columns.some(i=>i===null)||(r=[this.columns,...r]),SK(r,{separator:t})}addRow(t){const r=t||new p5.TableRow;if(typeof r.arr>"u"||typeof r.obj>"u")throw new Error(`invalid TableRow: ${r}`);return r.table=this,this.rows.push(r),r}removeRow(t){this.rows[t].table=null;const r=this.rows.splice(t+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(r)}getRow(t){return this.rows[t]}getRows(){return this.rows}findRow(t,r){if(typeof r=="string"){for(let i=0;i<this.rows.length;i++)if(this.rows[i].obj[this.columns.indexOf(r)]===t)return this.rows[i]}else for(let i=0;i<this.rows.length;i++)if(this.rows[i].arr[r]===t)return this.rows[i];return null}findRows(t,r){const i=[];if(typeof r=="string")for(let s=0;s<this.rows.length;s++)this.rows[s].obj[this.columns.indexOf(r)]===t&&i.push(this.rows[s]);else for(let s=0;s<this.rows.length;s++)this.rows[s].arr[r]===t&&i.push(this.rows[s]);return i}matchRow(t,r){if(typeof r=="number"){for(let i=0;i<this.rows.length;i++)if(this.rows[i].arr[r].match(t))return this.rows[i]}else for(let i=0;i<this.rows.length;i++)if(this.rows[i].obj[this.columns.indexOf(r)].match(t))return this.rows[i];return null}matchRows(t,r){const i=[];if(typeof r=="number")for(let s=0;s<this.rows.length;s++)this.rows[s].arr[r].match(t)&&i.push(this.rows[s]);else for(let s=0;s<this.rows.length;s++)this.rows[s].obj[this.columns.indexOf(r)].match(t)&&i.push(this.rows[s]);return i}getColumn(t){const r=[];if(typeof t=="string")for(let i=0;i<this.rows.length;i++)r.push(this.rows[i].obj[this.columns.indexOf(t)]);else for(let i=0;i<this.rows.length;i++)r.push(this.rows[i].arr[t]);return r}clearRows(){delete this.rows,this.rows=[]}addColumn(t){const r=t||null;this.columns.push(r)}getColumnCount(){return this.columns.length}getRowCount(){return this.rows.length}removeTokens(t,r){const i=a=>a.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),s=[];for(let a=0;a<t.length;a++)s.push(i(t.charAt(a)));const o=new RegExp(s.join("|"),"g");if(typeof r>"u")for(let a=0;a<this.columns.length;a++)for(let l=0;l<this.rows.length;l++){let u=this.rows[l].arr[a];u=u.replace(o,""),this.rows[l].arr[a]=u,this.rows[l].obj[this.columns[a]]=u}else if(typeof r=="string")for(let a=0;a<this.rows.length;a++){let l=this.rows[a].obj[r];l=l.replace(o,""),this.rows[a].obj[r]=l;const u=this.columns.indexOf(r);this.rows[a].arr[u]=l}else for(let a=0;a<this.rows.length;a++){let l=this.rows[a].arr[r];l=l.replace(o,""),this.rows[a].arr[r]=l,this.rows[a].obj[this.columns[r]]=l}}trim(t){const r=new RegExp(" ","g");if(typeof t>"u")for(let i=0;i<this.columns.length;i++)for(let s=0;s<this.rows.length;s++){let o=this.rows[s].arr[i];o=o.replace(r,""),this.rows[s].arr[i]=o,this.rows[s].obj[this.columns[i]]=o}else if(typeof t=="string")for(let i=0;i<this.rows.length;i++){let s=this.rows[i].obj[t];s=s.replace(r,""),this.rows[i].obj[t]=s;const o=this.columns.indexOf(t);this.rows[i].arr[o]=s}else for(let i=0;i<this.rows.length;i++){let s=this.rows[i].arr[t];s=s.replace(r,""),this.rows[i].arr[t]=s,this.rows[i].obj[this.columns[t]]=s}}removeColumn(t){let r,i;typeof t=="string"?(r=t,i=this.columns.indexOf(t)):(i=t,r=this.columns[t]);const s=this.columns.splice(i+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(s);for(let o=0;o<this.rows.length;o++){const a=this.rows[o].arr,l=a.splice(i+1,a.length);a.pop(),this.rows[o].arr=a.concat(l),delete this.rows[o].obj[r]}}set(t,r,i){this.rows[t].set(r,i)}setNum(t,r,i){this.rows[t].setNum(r,i)}setString(t,r,i){this.rows[t].setString(r,i)}get(t,r){return typeof r=="string"?this.rows[t].get(this.columns.indexOf(r)):this.rows[t].get(r)}getNum(t,r){return this.rows[t].getNum(r)}getString(t,r){return this.rows[t].getString(r)}getObject(t){const r={};let i,s,o;for(let a=0;a<this.rows.length;a++)if(i=this.rows[a].obj,typeof t=="string")if(s=this.columns.indexOf(t),s>=0)o=i[t],r[o]=i;else throw new Error(`This table has no column named "${t}"`);else r[a]=this.rows[a].obj;return r}getArray(){const t=[];for(let r=0;r<this.rows.length;r++)t.push(this.rows[r].arr);return t}}function qk(n,t){n.Table=Zne}typeof p5<"u"&&qk(p5,p5.prototype);class Jne{constructor(t=[]){let r=t;this.arr=r,this.obj=Object.fromEntries(r.entries()),this.table=null}set(t,r){if(typeof t=="string"){const i=this.table.columns.indexOf(t);if(i>=0)this.obj[t]=r,this.arr[i]=r;else throw new Error(`This table has no column named "${t}"`)}else if(t<this.table.columns.length){this.arr[t]=r;const i=this.table.columns[t];this.obj[i]=r}else throw new Error(`Column #${t} is out of the range of this table`)}setNum(t,r){const i=parseFloat(r);this.set(t,i)}setString(t,r){const i=r.toString();this.set(t,i)}get(t){return typeof t=="string"?this.obj[this.table.columns.indexOf(t)]:this.arr[t]}getNum(t){let r;if(typeof t=="string"?r=parseFloat(this.obj[this.table.columns.indexOf(t)]):r=parseFloat(this.arr[t]),r.toString()==="NaN")throw`Error: ${this.obj[t]} is NaN (Not a Number)`;return r}getString(t){return typeof t=="string"?this.obj[this.table.columns.indexOf(t)].toString():this.arr[t].toString()}}function Yk(n,t){n.TableRow=Jne}typeof p5<"u"&&Yk(p5,p5.prototype);function Qne(n){n.registerAddon(qN),n.registerAddon(qk),n.registerAddon(Yk),n.registerAddon(vN)}function Kk(n,t){t.abs=Math.abs,t.ceil=Math.ceil,t.constrain=function(r,i,s){return Math.max(Math.min(r,s),i)},t.dist=function(...r){if(r.length===4)return Math.hypot(r[2]-r[0],r[3]-r[1]);if(r.length===6)return Math.hypot(r[3]-r[0],r[4]-r[1],r[5]-r[2])},t.exp=Math.exp,t.floor=Math.floor,t.lerp=function(r,i,s){return s*(i-r)+r},t.log=Math.log,t.mag=function(r,i){return Math.hypot(r,i)},t.map=function(r,i,s,o,a,l){const u=(r-i)/(s-i)*(a-o)+o;return l?o<a?this.constrain(u,o,a):this.constrain(u,a,o):u},t.max=function(...r){const i=s=>{let o=-1/0;for(let a of s)o=Math.max(o,a);return o};return r[0]instanceof Array?i(r[0]):i(r)},t.min=function(...r){const i=s=>{let o=1/0;for(let a of s)o=Math.min(o,a);return o};return r[0]instanceof Array?i(r[0]):i(r)},t.norm=function(r,i,s){return this.map(r,i,s,0,1)},t.pow=Math.pow,t.round=function(r,i){if(!i)return Math.round(r);const s=Math.pow(10,i);return Math.round(r*s)/s},t.sq=r=>r*r,t.sqrt=Math.sqrt,t.fract=function(r){let i=0,s=Number(r);if(isNaN(s)||Math.abs(s)===1/0)return s;if(s<0&&(s=-s,i=1),String(s).includes(".")&&!String(s).includes("e")){let o=String(s);return o=+("0"+o.slice(o.indexOf("."))),Math.abs(i-o)}else return s<1?Math.abs(i-s):0}}typeof p5<"u"&&Kk(p5,p5.prototype);function Zk(n,t){let l=4,u=.5;const h=f=>.5*(1-Math.cos(f*Math.PI));let c;t.noise=function(f,d=0,p=0){if(c==null){c=new Array(4096);for(let k=0;k<4096;k++)c[k]=Math.random()}f<0&&(f=-f),d<0&&(d=-d),p<0&&(p=-p);let m=Math.floor(f),g=Math.floor(d),v=Math.floor(p),S=f-m,y=d-g,x=p-v,b,w,E=0,_=.5,T,C,F;for(let k=0;k<l;k++){let D=m+(g<<4)+(v<<8);b=h(S),w=h(y),T=c[D&4095],T+=b*(c[D+1&4095]-T),C=c[D+16&4095],C+=b*(c[D+16+1&4095]-C),T+=w*(C-T),D+=256,C=c[D&4095],C+=b*(c[D+1&4095]-C),F=c[D+16&4095],F+=b*(c[D+16+1&4095]-F),C+=w*(F-C),T+=h(x)*(C-T),E+=T*_,_*=u,m<<=1,S*=2,g<<=1,y*=2,v<<=1,x*=2,S>=1&&(m++,S--),y>=1&&(g++,y--),x>=1&&(v++,x--)}return E},t.noiseDetail=function(f,d){f>0&&(l=f),d>0&&(u=d)},t.noiseSeed=function(f){const d=(()=>{let v,S;return{setSeed(y){S=v=(y??Math.random()*4294967296)>>>0},getSeed(){return v},rand(){return S=(1664525*S+1013904223)%4294967296,S/4294967296}}})();d.setSeed(f),c=new Array(4096);for(let p=0;p<4096;p++)c[p]=d.rand()}}typeof p5<"u"&&Zk(p5,p5.prototype);function Jk(n,t){const r="_lcg_random_state";let a=0;t._lcg=function(l){return this[l]=(1664525*this[l]+1013904223)%4294967296,this[l]/4294967296},t._lcgSetSeed=function(l,u){this[l]=(u??Math.random()*4294967296)>>>0},t.randomSeed=function(l){this._lcgSetSeed(r,l),this._gaussian_previous=!1},t.random=function(l,u){let h;if(this[r]!=null?h=this._lcg(r):h=Math.random(),typeof l>"u")return h;if(typeof u>"u")return l instanceof Array?l[Math.floor(h*l.length)]:h*l;if(l>u){const c=l;l=u,u=c}return h*(u-l)+l},t.randomGaussian=function(l,u=1){let h,c,f,d;if(this._gaussian_previous)h=a,this._gaussian_previous=!1;else{do c=this.random(2)-1,f=this.random(2)-1,d=c*c+f*f;while(d>=1);d=Math.sqrt(-2*Math.log(d)/d),h=c*d,a=f*d,this._gaussian_previous=!0}const p=l||0;return h*u+p}}typeof p5<"u"&&Jk(p5,p5.prototype);function Qk(n,t){t.createVector=function(r,i,s){return arguments.length===0&&n._friendlyError("In 1.x, createVector() was a shortcut for createVector(0, 0, 0). In 2.x, p5.js has vectors of any dimension, so you must provide your desired number of zeros. Use createVector(0, 0) for a 2D vector and createVector(0, 0, 0) for a 3D vector."),this instanceof n?new n.Vector(this._fromRadians.bind(this),this._toRadians.bind(this),...arguments):new n.Vector(r,i,s)},t.createMatrix=function(...r){return new n.Matrix(...r)}}typeof p5<"u"&&Qk(p5,p5.prototype);function ere(n){n.registerAddon(Kk),n.registerAddon(Zk),n.registerAddon(Jk),n.registerAddon(sx),n.registerAddon(Qk),n.registerAddon(xN)}function eM(n,t){t.float=function(r){return r instanceof Array?r.map(parseFloat):parseFloat(r)},t.int=function(r,i=10){if(r===1/0||r==="Infinity")return 1/0;if(r===-1/0||r==="-Infinity")return-1/0;if(typeof r=="string")return parseInt(r,i);if(typeof r=="number")return r|0;if(typeof r=="boolean")return r?1:0;if(r instanceof Array)return r.map(s=>t.int(s,i))},t.str=function(r){return r instanceof Array?r.map(t.str):String(r)},t.boolean=function(r){if(typeof r=="number")return r!==0;if(typeof r=="string")return r.toLowerCase()==="true";if(typeof r=="boolean")return r;if(r instanceof Array)return r.map(t.boolean)},t.byte=function(r){const i=t.int(r,10);if(typeof i=="number")return(i+128)%256-128;if(i instanceof Array)return i.map(t.byte)},t.char=function(r){if(typeof r=="number"&&!isNaN(r))return String.fromCharCode(r);if(r instanceof Array)return r.map(t.char);if(typeof r=="string")return t.char(parseInt(r,10))},t.unchar=function(r){if(typeof r=="string"&&r.length===1)return r.charCodeAt(0);if(r instanceof Array)return r.map(t.unchar)},t.hex=function(r,i){if(i=i??(i=8),r instanceof Array)return r.map(s=>t.hex(s,i));if(r===1/0||r===-1/0)return(r===1/0?"F":"0").repeat(i);if(typeof r=="number"){r<0&&(r=4294967295+r+1);let s=Number(r).toString(16).toUpperCase();for(;s.length<i;)s=`0${s}`;return s.length>=i&&(s=s.substring(s.length-i,s.length)),s}},t.unhex=function(r){return r instanceof Array?r.map(t.unhex):parseInt(`0x${r}`,16)}}typeof p5<"u"&&eM(p5,p5.prototype);function tM(n,t){t.nf=function(a,l,u){return a instanceof Array?a.map(h=>r(h,l,u)):Object.prototype.toString.call(a)==="[object Arguments]"?a.length===3?this.nf(a[0],a[1],a[2]):a.length===2?this.nf(a[0],a[1]):this.nf(a[0]):r(a,l,u)};function r(a,l,u){let h=a<0;a=Math.abs(a);let[c,f]=a.toString().split(".");if(typeof u>"u"){c=c.padStart(l,"0");let d=f?c+"."+f:c;return h?"-"+d:d}else{[c,f]=a.toFixed(u).toString().split("."),c=c.padStart(l,"0");let p=typeof f>"u"?c:c+"."+f;return h?"-"+p:p}}t.nfc=function(a,l){return a instanceof Array?a.map(u=>i(u,l)):i(a,l)};function i(a,l){a=a.toString();const u=a.indexOf(".");let h=u!==-1?a.substring(u):"",c=u!==-1?a.substring(0,u):a;if(c=c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),l===0)h="";else if(typeof l<"u")if(l>h.length){h+=u===-1?".":"";const f=l-h.length+1;for(let d=0;d<f;d++)h+="0"}else h=h.substring(0,l+1);return c+h}t.nfp=function(...a){const l=t.nf.apply(this,a);return l instanceof Array?l.map(s):s(l)};function s(a){return parseFloat(a)>0?`+${a.toString()}`:a.toString()}t.nfs=function(...a){const l=t.nf.apply(this,a);return l instanceof Array?l.map(o):o(l)};function o(a){return parseFloat(a)>=0?` ${a.toString()}`:a.toString()}t.splitTokens=function(a,l){let u;if(typeof l<"u"){let h=l;const c=/\]/g.exec(h);let f=/\[/g.exec(h);f&&c?(h=h.slice(0,c.index)+h.slice(c.index+1),f=/\[/g.exec(h),h=h.slice(0,f.index)+h.slice(f.index+1),u=new RegExp(`[\\[${h}\\]]`,"g")):c?(h=h.slice(0,c.index)+h.slice(c.index+1),u=new RegExp(`[${h}\\]]`,"g")):f?(h=h.slice(0,f.index)+h.slice(f.index+1),u=new RegExp(`[${h}\\[]`,"g")):u=new RegExp(`[${h}]`,"g")}else u=/\s/g;return a.split(u).filter(h=>h)},t.shuffle=function(a,l){const u=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(a);a=l||u?a:a.slice();let h,c,f=a.length;for(;f>1;)h=this.random(0,1)*f|0,c=a[--f],a[f]=a[h],a[h]=c;return a}}typeof p5<"u"&&tM(p5,p5.prototype);function nM(n,t){t.day=function(){return new Date().getDate()},t.hour=function(){return new Date().getHours()},t.minute=function(){return new Date().getMinutes()},t.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.month=function(){return new Date().getMonth()+1},t.second=function(){return new Date().getSeconds()},t.year=function(){return new Date().getFullYear()}}typeof p5<"u"&&nM(p5,p5.prototype);function tre(n){n.registerAddon(eM),n.registerAddon(tM),n.registerAddon(nM)}function rM(n,t){t.orbitControl=function(r,i,s,o){this._assert3d("orbitControl");const a=this._renderer.states.curCamera;typeof r>"u"&&(r=1),typeof i>"u"&&(i=r),typeof s>"u"&&(s=1),typeof o!="object"&&(o={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=()=>!1,this.contextMenuDisabled=!0),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=()=>!1,this.wheelDefaultDisabled=!0);const{disableTouchActions:l=!0}=o;this.touchActionsDisabled!==!0&&l&&(this.canvas.style["touch-action"]="none",this.touchActionsDisabled=!0);const{freeRotation:u=!1}=o,h=[];this.touches.forEach(E=>{this._renderer.prevTouches.forEach(_=>{if(E.id===_.id){const T={x:E.x,y:E.y,px:_.x,py:_.y};h.push(T)}})}),this._renderer.prevTouches=this.touches;let c=0,f=0,d=0,p=0,m=0;const g=.85,v=.6,S=.15,y=.01,x=4e-4,b=this.height<this.width?this.height:this.width;let w=!1;if(h.length>0){if(w=h[0].x>0&&h[0].x<this.width&&h[0].y>0&&h[0].y<this.height,h.length===1){const E=h[0];f=-r*(E.x-E.px)/b,d=i*(E.y-E.py)/b}else{const E=h[0],_=h[1],T=Math.hypot(E.x-_.x,E.y-_.y),C=Math.hypot(E.px-_.px,E.py-_.py);c=-(T-C)*s*x,p=.5*(E.x+_.x)-.5*(E.px+_.px),m=.5*(E.y+_.y)-.5*(E.py+_.py)}this.touches.length>0?w&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)}else w=this.mouseX>0&&this.mouseX<this.width&&this.mouseY>0&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(c=Math.sign(this._mouseWheelDeltaY)*s,c*=y,this._mouseWheelDeltaY=0,w&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton.left?(f=-r*this.movedX/b,d=i*this.movedY/b):this.mouseButton.right&&(p=this.movedX,m=this.movedY*a.yScale),w&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1;if(c!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=c),Math.abs(this._renderer.zoomVelocity)>.001?(u?a._orbitFree(0,0,this._renderer.zoomVelocity):a._orbit(0,0,this._renderer.zoomVelocity),a.projMatrix.mat4[15]!==0&&(a.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),a.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4[0]=a.projMatrix.mat4[0],this._renderer.states.uPMatrix.mat4[5]=a.projMatrix.mat4[5]),this._renderer.zoomVelocity*=g):this._renderer.zoomVelocity=0,(f!==0||d!==0)&&this._renderer.executeRotateAndMove&&this._renderer.rotateVelocity.add(f*v,d*v),this._renderer.rotateVelocity.magSq()>1e-6?(u?a._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):a._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(g)):this._renderer.rotateVelocity.set(0,0),(p!==0||m!==0)&&this._renderer.executeRotateAndMove){const E=p*2/this.width,_=-m*2/this.height;this._renderer.moveVelocity.add(E*S,_*S)}if(this._renderer.moveVelocity.magSq()>1e-6){const E=a._getLocalAxes(),_=a.eyeX-a.centerX,T=a.eyeY-a.centerY,C=a.eyeZ-a.centerZ,F=Math.sqrt(_*_+T*T+C*C);let k=new Ne(a.centerX,a.centerY,a.centerZ);k=a.cameraMatrix.multiplyPoint(k),k=this._renderer.states.uPMatrix.multiplyAndNormalizePoint(k),k.x-=this._renderer.moveVelocity.x,k.y-=this._renderer.moveVelocity.y;let D,N;const M=this._renderer.states.uPMatrix.mat4;M[15]===0?(D=(M[8]+k.x)/M[0]*F,N=(M[9]+k.y)/M[5]*F):(D=(k.x-M[12])/M[0],N=(k.y-M[13])/M[5]),a.setPosition(a.eyeX+D*E.x[0]+N*E.y[0],a.eyeY+D*E.x[1]+N*E.y[1],a.eyeZ+D*E.x[2]+N*E.y[2]),this._renderer.moveVelocity.mult(g)}else this._renderer.moveVelocity.set(0,0);return this},t.debugMode=function(...r){this._assert3d("debugMode");for(let i=n.lifecycleHooks.postdraw.length-1;i>=0;i--)(n.lifecycleHooks.postdraw[i].toString()===this._grid().toString()||n.lifecycleHooks.postdraw[i].toString()===this._axesIcon().toString())&&n.lifecycleHooks.postdraw.splice(i,1);r[0]===W5?n.lifecycleHooks.postdraw.push(this._grid(r[1],r[2],r[3],r[4],r[5])):r[0]===X5?n.lifecycleHooks.postdraw.push(this._axesIcon(r[1],r[2],r[3],r[4])):(n.lifecycleHooks.postdraw.push(this._grid(r[0],r[1],r[2],r[3],r[4])),n.lifecycleHooks.postdraw.push(this._axesIcon(r[5],r[6],r[7],r[8])))},t.noDebugMode=function(){this._assert3d("noDebugMode");for(let r=n.lifecycleHooks.postdraw.length-1;r>=0;r--)(n.lifecycleHooks.postdraw[r].toString()===this._grid().toString()||n.lifecycleHooks.postdraw[r].toString()===this._axesIcon().toString())&&n.lifecycleHooks.postdraw.splice(r,1)},t._grid=function(r,i,s,o,a){typeof r>"u"&&(r=this.width/2),typeof i>"u"&&(i=Math.round(r/30)<4?4:Math.round(r/30)),typeof s>"u"&&(s=0),typeof o>"u"&&(o=0),typeof a>"u"&&(a=0);const l=r/i,u=r/2;return function(){this.push(),this.stroke(this._renderer.states.curStrokeColor[0]*255,this._renderer.states.curStrokeColor[1]*255,this._renderer.states.curStrokeColor[2]*255),this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset();for(let h=0;h<=i;h++)this.beginShape(this.LINES),this.vertex(-u+s,o,h*l-u+a),this.vertex(+u+s,o,h*l-u+a),this.endShape();for(let h=0;h<=i;h++)this.beginShape(this.LINES),this.vertex(h*l-u+s,o,-u+a),this.vertex(h*l-u+s,o,+u+a),this.endShape();this.pop()}},t._axesIcon=function(r,i,s,o){return typeof r>"u"&&(r=this.width/20>40?this.width/20:40),typeof i>"u"&&(i=-this.width/4),typeof s>"u"&&(s=i),typeof o>"u"&&(o=i),()=>{this.push(),this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(i,s,o),this.vertex(i+r,s,o),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(i,s,o),this.vertex(i,s+r,o),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(i,s,o),this.vertex(i,s,o+r),this.endShape(),this.pop()}}}typeof p5<"u"&&rM(p5,p5.prototype);async function nre(n){try{return(await fetch(n,{method:"HEAD"})).ok}catch{return!1}}function iM(n,t){t.loadModel=async function(c,f,d,p,m){let g=!1,v=!1;typeof f=="object"?(d=f.normalize||!1,p=f.successCallback,m=f.failureCallback,f=f.fileType||f,g=f.flipU||!1,v=f.flipV||!1):(typeof arguments[arguments.length-1]=="function"&&(typeof arguments[arguments.length-2]=="function"?(p=arguments[arguments.length-2],m=arguments[arguments.length-1]):p=arguments[arguments.length-1]),typeof f=="string"?typeof d!="boolean"&&(d=!1):typeof f=="boolean"?(d=f,f=c.slice(-4)):(f=c.slice(-4),d=!1)),f.toLowerCase()!==".obj"&&f.toLowerCase()!==".stl"&&(f=".obj");const S=new zr(void 0,void 0,void 0,this._renderer);S.gid=`${c}|${d}`;async function y(x){const b=[];for(let w of x){const E=w.match(/^mtllib (.+)/);if(E){let _="";const T=E[1],C=c.split("/");C.length>1?(C.pop(),_=C.join("/")+"/"+T):_=T,b.push(nre(_).then(F=>F?r(_):(console.warn(`MTL file not found or error in parsing; proceeding without materials: ${_}`),{})).catch(F=>(console.warn(`Error loading MTL file: ${_}`,F),{})))}}try{const w=await Promise.all(b);return Object.assign({},...w)}catch{return{}}}try{if(f.match(/\.stl$/i)){const{data:x}=await as(c,"arrayBuffer");return s(S,x),d&&S.normalize(),g&&S.flipU(),v&&S.flipV(),S._makeTriangleEdges(),p?p(S):S}else if(f.match(/\.obj$/i)){const{data:x}=await as(c,"text"),b=x.split(`
`),w=await y(b);return i(S,b,w),d&&S.normalize(),g&&S.flipU(),v&&S.flipV(),S._makeTriangleEdges(),p?p(S):S}}catch(x){if(n._friendlyFileLoadError(3,c),m)return m(x);throw x}};async function r(c){let f=null,d={};const{data:p}=await as(c,"text"),m=p.split(`
`);for(let g=0;g<m.length;++g){const v=m[g].trim().split(/\s+/);v[0]==="newmtl"?(f=v[1],d[f]={}):v[0]==="Kd"?d[f].diffuseColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]==="Ka"?d[f].ambientColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]==="Ks"?d[f].specularColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]==="map_Kd"&&(d[f].texturePath=v[1])}return d}function i(c,f,d={}){const p={v:[],vt:[],vn:[]},m={};let g=null,v=!1,S=!1;for(let y=0;y<f.length;++y){const x=f[y].trim().split(/\b\s+/);if(x.length>0){if(x[0]==="usemtl")g=x[1];else if(x[0]==="v"||x[0]==="vn"){const b=new Ne(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3]));p[x[0]].push(b)}else if(x[0]==="vt"){const b=[parseFloat(x[1]),1-parseFloat(x[2])];p[x[0]].push(b)}else if(x[0]==="f")for(let b=3;b<x.length;++b){const w=[],E=[1,b-1,b];for(let _=0;_<E.length;++_){const T=x[E[_]];let C=T.split("/");for(let F=0;F<C.length;F++)C[F]=parseInt(C[F])-1;if(m[T]||(m[T]={}),m[T][g]===void 0){const F=c.vertices.length;if(c.vertices.push(p.v[C[0]].copy()),c.uvs.push(p.vt[C[1]]?p.vt[C[1]].slice():[0,0]),c.vertexNormals.push(p.vn[C[2]]?p.vn[C[2]].copy():new Ne),m[T][g]=F,w.push(F),g&&d[g]&&d[g].diffuseColor){v=!0;const k=d[g].diffuseColor;c.vertexColors.push(k[0]),c.vertexColors.push(k[1]),c.vertexColors.push(k[2]),c.vertexColors.push(1)}else S=!0}else w.push(m[T][g])}w[0]!==w[1]&&w[0]!==w[2]&&w[1]!==w[2]&&c.faces.push(w)}}}if(c.vertexNormals.length===0&&c.computeNormals(),v===S)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.");return c}function s(c,f){if(o(f))l(c,f);else{const d=new DataView(f);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)"),c;const g=new TextDecoder("utf-8").decode(d).split(`
`);u(c,g)}return c}function o(c){const f=new DataView(c),d=[115,111,108,105,100];for(let p=0;p<5;p++)if(a(d,f,p))return!1;return!0}function a(c,f,d){for(let p=0,m=c.length;p<m;p++)if(c[p]!==f.getUint8(d+p,!1))return!1;return!0}function l(c,f){const d=new DataView(f),p=d.getUint32(80,!0);let m,g,v,S=!1,y,x,b,w;for(let T=0;T<70;T++)d.getUint32(T,!1)===1129270351&&d.getUint8(T+4)===82&&d.getUint8(T+5)===61&&(S=!0,y=[],x=d.getUint8(T+6)/255,b=d.getUint8(T+7)/255,w=d.getUint8(T+8)/255);const E=84,_=50;for(let T=0;T<p;T++){const C=E+T*_,F=d.getFloat32(C,!0),k=d.getFloat32(C+4,!0),D=d.getFloat32(C+8,!0);if(S){const M=d.getUint16(C+48,!0);(M&32768)===0?(m=(M&31)/31,g=(M>>5&31)/31,v=(M>>10&31)/31):(m=x,g=b,v=w)}const N=new Ne(F,k,D);for(let M=1;M<=3;M++){const U=C+M*12,R=new Ne(d.getFloat32(U,!0),d.getFloat32(U+4,!0),d.getFloat32(U+8,!0));c.vertices.push(R),c.vertexNormals.push(N),S&&y.push(m,g,v)}c.faces.push([3*T,3*T+1,3*T+2]),c.uvs.push([0,0],[0,0],[0,0])}return c}function u(c,f){let d="",p=[],m,g;for(let v=0;v<f.length;++v){const S=f[v].trim(),y=S.split(" ");for(let x=0;x<y.length;++x)y[x]===""&&y.splice(x,1);if(y.length!==0)switch(d){case"":if(y[0]!=="solid"){console.error(S),console.error(`Invalid state "${y[0]}", should be "solid"`);return}else d="solid";break;case"solid":if(y[0]!=="facet"||y[1]!=="normal"){console.error(S),console.error(`Invalid state "${y[0]}", should be "facet normal"`);return}else m=new Ne(parseFloat(y[2]),parseFloat(y[3]),parseFloat(y[4])),c.vertexNormals.push(m,m,m),d="facet normal";break;case"facet normal":if(y[0]!=="outer"||y[1]!=="loop"){console.error(S),console.error(`Invalid state "${y[0]}", should be "outer loop"`);return}else d="vertex";break;case"vertex":if(y[0]==="vertex")g=new Ne(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])),c.vertices.push(g),c.uvs.push([0,0]),p.push(c.vertices.indexOf(g));else if(y[0]==="endloop")c.faces.push(p),p=[],d="endloop";else{console.error(S),console.error(`Invalid state "${y[0]}", should be "vertex" or "endloop"`);return}break;case"endloop":if(y[0]!=="endfacet"){console.error(S),console.error(`Invalid state "${y[0]}", should be "endfacet"`);return}else d="endfacet";break;case"endfacet":if(y[0]!=="endsolid")if(y[0]==="facet"&&y[1]==="normal")m=new Ne(parseFloat(y[2]),parseFloat(y[3]),parseFloat(y[4])),c.vertexNormals.push(m,m,m),d="facet normal";else{console.error(S),console.error(`Invalid state "${y[0]}", should be "endsolid" or "facet normal"`);return}break;default:console.error(`Invalid state "${d}"`);break}}return c}t.model=function(c,f=1){this._assert3d("model"),this._renderer.model(c,f)};let h=0;t.createModel=function(c,f=" ",d){let p=!1,m,g,v=!1,S=!1;d&&typeof d=="object"?(p=d.normalize||!1,m=d.successCallback,g=d.failureCallback,v=d.flipU||!1,S=d.flipV||!1):typeof d=="boolean"?(p=d,m=arguments[3],g=arguments[4]):(m=typeof arguments[2]=="function"?arguments[2]:void 0,g=arguments[3]);const y=new n.Geometry;if(y.gid=`${f}|${p}|${h++}`,f.match(/\.stl$/i))try{let b=new TextEncoder().encode(c).buffer;s(y,b)}catch(x){g?g(x):n._friendlyError("Error during parsing: "+x.message);return}else if(f.match(/\.obj$/i))try{const x=c.split(`
`);i(y,x)}catch(x){g?g(x):n._friendlyError("Error during parsing: "+x.message);return}else n._friendlyFileLoadError(3,c),g?g():n._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return p&&y.normalize(),v&&y.flipU(),S&&y.flipV(),y._makeTriangleEdges(),typeof m=="function"&&m(y),y}}typeof p5<"u"&&iM(p5,p5.prototype);const Vi={IDEOGRAPHIC:"ideographic",_CTX_MIDDLE:"middle",_TEXT_BOUNDS:"_textBoundsSingle",_FONT_BOUNDS:"_fontBoundsSingle",HANGING:"hanging",START:"start",END:"end"};function sM(n,t){const i="#000000",s=/\r?\n/g,o=/,\s+/,a=/^".*"$/,l=/\t/g,u="fontVariationSettings",h=["wght","wdth","ital","slnt","opsz"],c=new RegExp(`(?:${h.join("|")})`);["text","textAlign","textAscent","textDescent","textLeading","textMode","textFont","textSize","textStyle","textWidth","textWrap","textBounds","textDirection","textProperty","textProperties","fontBounds","fontWidth","fontAscent","fontDescent","textWeight"].forEach(y=>{t[y]=function(...x){if(!(y in Dt.prototype))throw Error(`Renderer2D.prototype.${y} is not defined.`);return this._renderer[y](...x)},n.Graphics.prototype[y]=function(...x){return this._renderer[y](...x)}});const d={textAlign:{default:t.LEFT,type:"Context2d"},textBaseline:{default:t.BASELINE,type:"Context2d"},textFont:{default:{family:"sans-serif"}},textLeading:{default:15},textSize:{default:12},textWrap:{default:t.WORD},fontStretch:{default:t.NORMAL,isShorthand:!0},fontWeight:{default:t.NORMAL,isShorthand:!0},lineHeight:{default:t.NORMAL,isShorthand:!0},fontVariant:{default:t.NORMAL,isShorthand:!0},fontStyle:{default:t.NORMAL,isShorthand:!0},direction:{default:"inherit"}},p=["font","direction","fontKerning","fontStretch","fontVariantCaps","letterSpacing","textAlign","textBaseline","textRendering","wordSpacing"],m=Object.keys(d).filter(y=>d[y].isShorthand),g=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"];let v,S;if(Dt.prototype.text=function(y,x,b,w,E){let _=this.textDrawingContext().textBaseline;({x,y:b,width:w,height:E}=this._handleRectMode(x,b,w,E));let T=this._processLines(y,w,E);T=this._positionLines(x,b,w,E,T),T.forEach(C=>this._renderText(C.text,C.x,C.y)),this.textDrawingContext().textBaseline=_},Dt.prototype.textBounds=function(y,x,b,w,E){return this._computeBounds(Vi._TEXT_BOUNDS,y,x,b,w,E).bounds},Dt.prototype.fontBounds=function(y,x,b,w,E){return this._computeBounds(Vi._FONT_BOUNDS,y,x,b,w,E).bounds},Dt.prototype.textWidth=function(y){let x=this._processLines(y);return Math.max(...x.map(b=>this._textWidthSingle(b)))},Dt.prototype.fontWidth=function(y){let x=this._processLines(y);return Math.max(...x.map(b=>this._fontWidthSingle(b)))},Dt.prototype.textAscent=function(y=""){return y.length?this.textDrawingContext().measureText(y).actualBoundingBoxAscent:this.fontAscent()},Dt.prototype.fontAscent=function(){return this.textDrawingContext().measureText("_").fontBoundingBoxAscent},Dt.prototype.textDescent=function(y=""){return y.length?this.textDrawingContext().measureText(y).actualBoundingBoxDescent:this.fontDescent()},Dt.prototype.fontDescent=function(){return this.textDrawingContext().measureText("_").fontBoundingBoxDescent},Dt.prototype.textAlign=function(y,x){return typeof y<"u"?(this.states.setValue("textAlign",y),typeof x<"u"&&(x===t.CENTER&&(x=Vi._CTX_MIDDLE),this.states.setValue("textBaseline",x)),this._applyTextProperties()):{horizontal:this.states.textAlign,vertical:this.states.textBaseline}},Dt.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},Dt.prototype.textFont=function(y,x,b){if(arguments.length===0)return this._currentTextFont();let w=y;if(y instanceof n.Font?w=y.face.family:y.data instanceof Uint8Array?(w=y.name.fontFamily,y.name?.fontSubfamily&&(w+="-"+y.name.fontSubfamily)):typeof y=="string"&&typeof x>"u"&&/[.0-9]+(%|em|p[xt])/.test(w)&&({family:w,size:x}=this._directSetFontString(w)),typeof w!="string")throw Error("null font in textFont()");return arguments.length===2&&typeof x=="object"&&(b=x,x=void 0),this.states.setValue("textFont",{font:y,family:w,size:x}),typeof x<"u"&&this._setTextSize(x),typeof b=="object"&&this.textProperties(b),this._applyTextProperties()},Dt.prototype._directSetFontString=function(y,x=0){x&&console.log('_directSetFontString"'+y+'"');let b=m.reduce((_,T)=>(_[T]=d[T].default,_),{}),w=this._cachedDiv(b);w.style.font=y;let E=getComputedStyle(w);return m.forEach(_=>{this.states[_]=E[_],x&&console.log("  this.states."+_+'="'+E[_]+'"')}),{family:E.fontFamily,size:E.fontSize}},Dt.prototype.textLeading=function(y){return typeof y=="number"?(this.states.setValue("leadingSet",!0),this.states.setValue("textLeading",y),this._applyTextProperties()):this.states.textLeading},Dt.prototype.textWeight=function(y){if(typeof y=="number"){this.states.setValue("fontWeight",y),this._applyTextProperties(),n.prototype._isSafari()||this._setCanvasStyleProperty("font-variation-settings",`"wght" ${y}`);return}return this.states.fontWeight},Dt.prototype.textSize=function(y){return typeof y<"u"?(this._setTextSize(y),this._applyTextProperties()):this.states.textSize},Dt.prototype.textStyle=function(y){return typeof y<"u"?(this.states.setValue("fontStyle",y),this._applyTextProperties()):this.states.fontStyle},Dt.prototype.textWrap=function(y){return y===t.WORD||y===t.CHAR?(this.states.setValue("textWrap",y),this._pInst):this.states.textWrap},Dt.prototype.textDirection=function(y){return typeof y<"u"?(this.states.setValue("direction",y),this._applyTextProperties()):this.states.direction},Dt.prototype.textProperty=function(y,x,b){let w=!1,E=b?.debug||!1;if(typeof x>"u"){let _=this.textProperties();if(y in _)return _[y];throw Error('Unknown text option "'+y+'"')}return y in this.states&&this.states[y]!==x?(this.states[y]=x,w=!0,E&&console.log("this.states."+y+'="'+options[y]+'"')):y in this.textDrawingContext()?(this._setContextProperty(y,x,E),w=!0):y in this.textCanvas().style?(this._setCanvasStyleProperty(y,x,E),w=!0):console.warn('Ignoring unknown text option: "'+y+`"
`),w?this._applyTextProperties():this._pInst},Dt.prototype.textProperties=function(y){if(typeof y<"u")return Object.keys(y).forEach(b=>{this.textProperty(b,y[b])}),this._pInst;let x=this.textDrawingContext();return y=p.reduce((b,w)=>(b[w]=x[w],b),{}),Object.keys(d).forEach(b=>{if(d[b]?.type==="Context2d")y[b]=x[b];else if(b==="textFont"){let w=this._currentTextFont();typeof w=="object"&&"_pInst"in w&&(w=Object.assign({},w),delete w._pInst),y[b]=w}else y[b]=this.states[b]}),y},Dt.prototype.textMode=function(){},Dt.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},Dt.prototype._computeBounds=function(y,x,b,w,E,_,T){let C=this.textDrawingContext(),F=C.textBaseline,{textLeading:k,textAlign:D}=this.states;({width:E,height:_}=this._rectModeAdjust(b,w,E,_));let N=this._processLines(x,E,_),M=N.map((R,W)=>this[y].bind(this)(R,b,w+W*k));if(N.length>1){const R=M.reduce((W,ne)=>Math.max(W,ne.w||0),0);M.forEach(W=>{const ne=E??R;W.x+=n.Renderer2D.prototype._xAlignOffset.call(this,D,ne)})}typeof _<"u"&&n.Renderer2D.prototype._yAlignOffset.call(this,M,_);let U=M[0];return N.length>1&&(U=this._aggregateBounds(M),T?.ignoreRectMode||this._rectModeAlign(U,E||0,_||0)),C.textBaseline=F,{bounds:U,lines:N}},Dt.prototype._rectModeAdjust=function(y,x,b,w){if(typeof b<"u")switch(this.states.rectMode){case t.CENTER:break;case t.CORNERS:b-=y,w-=x;break;case t.RADIUS:b*=2,w*=2;break}return{x:y,y:x,width:b,height:w}},Dt.prototype._setCanvasStyleProperty=function(y,x,b){let w=x.toString();b&&console.log("canvas.style."+y+'="'+w+'"'),y===u&&this._handleFontVariationSettings(w),this.textCanvas().style[y]=w,this.textCanvas().style[y]},Dt.prototype._handleFontVariationSettings=function(y,x=!1){typeof y=="object"&&(y=Object.keys(y).map(w=>w+" "+y[w]).join(", ")),y.split(o).forEach(w=>{w=w.replace(/["']/g,"");let E=c.exec(w);if(E&&E.length){let _=E[0],T=parseFloat(parseFloat(w.replace(_,"").trim()).toFixed(3));switch(_){case"wght":return x&&console.log("setting font-weight="+T),this.states.fontWeight!==T&&this.textWeight(T),T;case"wdth":break;case"ital":x&&console.log("setting font-style="+(T?"italic":"normal"));break;case"slnt":x&&console.log("setting font-style="+(T?"oblique":"normal"));break;case"opsz":x&&console.log("setting font-optical-size="+T);break}}})},Dt.prototype._setContextProperty=function(y,x,b=!1){if(this.textDrawingContext()[y]===x)return this._pInst;(v??=[]).push([y,x]),b&&console.log("queued context2d."+y+'="'+x+'"')},Dt.prototype._handleRectMode=function(y,x,b,w){let E=this.states.rectMode;if(typeof b<"u")switch(E){case t.RADIUS:b*=2,y-=b/2,typeof w<"u"&&(w*=2,x-=w/2);break;case t.CENTER:y-=b/2,typeof w<"u"&&(x-=w/2);break;case t.CORNERS:b-=y,typeof w<"u"&&(w-=x);break}return{x:y,y:x,width:b,height:w}},Dt.prototype._fontSizePx=function(y,{family:x}=this.states.textFont){if((T=>!isNaN(T)&&T.trim()!=="")(y))return parseFloat(y);let w=this._cachedDiv({fontSize:y});w.style.fontSize=y,w.style.fontFamily=x;let E=getComputedStyle(w).fontSize,_=parseFloat(E);if(typeof _!="number")throw Error("textSize: invalid font-size");return _},Dt.prototype._cachedDiv=function(y){if(typeof S>"u"){let x=document.createElement("div");x.ariaHidden="true",x.style.display="none",Object.entries(y).forEach(([b,w])=>{x.style[b]=w}),this.textCanvas().appendChild(x),S=x}return S},Dt.prototype._aggregateBounds=function(y){let x=Math.min(...y.map(_=>_.x)),b=Math.min(...y.map(_=>_.y)),w=Math.max(...y.map(_=>_.y+_.h)),E=Math.max(...y.map(_=>_.x+_.w));return{x,y:b,w:E-x,h:w-b}},Dt.prototype._processLines=function(y,x,b){typeof x<"u"&&this.textDrawingContext().textBaseline===t.BASELINE&&(this.drawingContext.textBaseline=t.TOP);let w=this._splitOnBreaks(y.toString()),E=w.length>1,_=typeof x<"u",T=_&&w.some(k=>this._textWidthSingle(k)>x),{textLeading:C,textWrap:F}=this.states;if((E||T)&&_&&(w=this._lineate(F,w,x)),_&&typeof b<"u"){if(typeof C>"u")throw Error("leading is required if height is specified");for(let k=0;k<w.length;k++)if(C*(k+1)>b){w=w.slice(0,k);break}}return w},Dt.prototype._xAlignOffset=function(y,x){switch(y){case t.LEFT:return 0;case t.CENTER:return x/2;case t.RIGHT:return x;case Vi.START:return 0;case Vi.END:throw new Error("textBounds: END not yet supported for textAlign");default:return 0}},Dt.prototype._rectModeAlign=function(y,x,b){if(typeof x<"u"){switch(this.states.rectMode){case t.CENTER:y.x-=(x-y.w)/2,y.y-=(b-y.h)/2;break;case t.CORNERS:y.w+=y.x,y.h+=y.y;break;case t.RADIUS:y.x-=(x-y.w)/2,y.y-=(b-y.h)/2,y.w/=2,y.h/=2;break}return y}},Dt.prototype._rectModeAlignRevert=function(y,x,b){if(typeof x<"u"){switch(this.states.rectMode){case t.CENTER:y.x+=(x-y.w)/2,y.y+=(b-y.h)/2;break;case t.CORNERS:y.w-=y.x,y.h-=y.y;break;case t.RADIUS:y.x+=(x-y.w)/2,y.y+=(b-y.h)/2,y.w*=2,y.h*=2;break}return y}},Dt.prototype._textWidthSingle=function(y){let x=this.textDrawingContext().measureText(y),b=x.actualBoundingBoxLeft;return x.actualBoundingBoxRight+b},Dt.prototype._fontWidthSingle=function(y){return this.textDrawingContext().measureText(y).width},Dt.prototype._textBoundsSingle=function(y,x=0,b=0){let w=this.textDrawingContext().measureText(y),E=w.actualBoundingBoxAscent,_=w.actualBoundingBoxDescent,T=w.actualBoundingBoxLeft,C=w.actualBoundingBoxRight;return{x:x-T,y:b-E,w:C+T,h:E+_}},Dt.prototype._fontBoundsSingle=function(y,x=0,b=0){let w=this.textDrawingContext().measureText(y),E=w.fontBoundingBoxAscent,_=w.fontBoundingBoxDescent;return x-=this._xAlignOffset(this.states.textAlign,w.width),{x,y:b-E,w:w.width,h:E+_}},Dt.prototype._setTextSize=function(y){if(typeof y=="string"&&(y=this._fontSizePx(y)),typeof y=="number"){if(this.states.textSize!==y)return this.states.setValue("textSize",y),this.states.leadingSet||this.states.setValue("textLeading",this.states.textSize*1.275),!0}else console.warn("textSize: invalid size: "+y);return!1},Dt.prototype._lineate=function(y,x,b=1/0,w={}){let E=w.splitChar??(y===t.WORD?" ":""),_,T,C,F,k=[];for(let D=0;D<x.length;D++){_="",F=x[D].split(E);for(let N=0;N<F.length;N++)T=`${_+F[N]}`+E,C=this._textWidthSingle(T),_.length>0&&C>b?(k.push(_.trim()),_=`${F[N]}`+E):_=T;k.push(_.trim())}return k},Dt.prototype._splitOnBreaks=function(y){return!y||y.length===0?[""]:y.replace(l,"  ").split(s)},Dt.prototype._parseFontFamily=function(y){return y.split(o).map(w=>(w=w.trim(),w.indexOf(" ")>-1&&!a.test(w)&&(w=`"${w}"`),w)).join(", ")},Dt.prototype._applyFontString=function(){let{textFont:y,textSize:x,lineHeight:b,fontStyle:w,fontWeight:E,fontVariant:_}=this.states,T=this.textDrawingContext(),C=this._parseFontFamily(y.family),F=w!==t.NORMAL?`${w} `:"",k=E!==t.NORMAL?`${E} `:"",D=_!==t.NORMAL?`${_} `:"",N=`${x}px`+(b!==t.NORMAL?`/${b} `:" "),M=`${F}${D}${k}${N}${C}`.trim();if(T.font=M,T.font!==M){let U=M,R=T.font;if(U!==R)return!1}return!0},Dt.prototype._applyTextProperties=function(y=!1){this._applyFontString();let x=this.textDrawingContext();x.direction=this.states.direction,x.textAlign=this.states.textAlign,x.textBaseline=this.states.textBaseline;let b=this.states.fontStretch;for(g.includes(b)&&x.fontStretch!==b&&(x.fontStretch=b);v?.length;){let[w,E]=v.shift();y&&console.log('apply context property "'+w+'" = "'+E+'"'),x[w]=E,x[w]!==E&&(console.warn(`Unable to set '${w}' property on context2d. It may not be supported.`),console.log('Expected "'+E+'" but got: "'+x[w]+'"'))}return this._pInst},n.Renderer2D&&(n.Renderer2D.prototype.textCanvas=function(){return this.canvas},n.Renderer2D.prototype.textDrawingContext=function(){return this.drawingContext},n.Renderer2D.prototype._renderText=function(y,x,b,w,E){let _=this.states,T=this.textDrawingContext();b<E||b>=w||(this.push(),_.strokeColor&&_.strokeSet&&T.strokeText(y,x,b),!this._clipping&&_.fillColor&&(_.fillSet||this._setFill(i),T.fillText(y,x,b)),this.pop())},n.Renderer2D.prototype._positionLines=function(y,x,b,w,E){let{textLeading:_,textAlign:T}=this.states,C,F=new Array(E.length),k=typeof b>"u"?0:b,D=typeof w>"u"?0:w;for(let N=0;N<E.length;N++){switch(T){case Vi.START:throw new Error("textBounds: START not yet supported for textAlign");case t.LEFT:C=y;break;case t.CENTER:C=y+k/2;break;case t.RIGHT:C=y+k;break;case Vi.END:throw new Error("textBounds: END not yet supported for textAlign")}F[N]={text:E[N],x:C,y:x+N*_}}return this._yAlignOffset(F,D)},n.Renderer2D.prototype._yAlignOffset=function(y,x){if(typeof x>"u")throw Error("_yAlignOffset: height is required");let{textLeading:b,textBaseline:w}=this.states,E=0,_=y.length,T=x-b*(_-1);switch(w){case t.TOP:break;case t.BASELINE:break;case Vi._CTX_MIDDLE:E=T/2;break;case t.BOTTOM:E=T;break;case Vi.IDEOGRAPHIC:console.warn("textBounds: IDEOGRAPHIC not yet supported for textBaseline");break;case Vi.HANGING:console.warn("textBounds: HANGING not yet supported for textBaseline");break}return y.forEach(C=>C.y+=E),y}),n.RendererGL){n.RendererGL.prototype.textCanvas=function(){return this._textCanvas||(this._textCanvas=document.createElement("canvas"),this._textCanvas.width=1,this._textCanvas.height=1,this._textCanvas.style.display="none",this.canvas.parentElement.insertBefore(this._textCanvas,this.canvas)),this._textCanvas},n.RendererGL.prototype.textDrawingContext=function(){if(!this._textDrawingContext){const x=this.textCanvas();this._textDrawingContext=x.getContext("2d")}return this._textDrawingContext};const y=n.RendererGL.prototype.remove;n.RendererGL.prototype.remove=function(){this._textCanvas&&this._textCanvas.parentElement.removeChild(this._textCanvas),y.call(this)},n.RendererGL.prototype._positionLines=function(x,b,w,E,_){let{textLeading:T,textAlign:C}=this.states;const F=_.map(U=>this._fontWidthSingle(U));let k,D=new Array(_.length),N=typeof w>"u"?Math.max(0,...F):w,M=typeof E>"u"?0:E;for(let U=0;U<_.length;U++){switch(C){case Vi.START:throw new Error("textBounds: START not yet supported for textAlign");case t.LEFT:k=x;break;case t.CENTER:k=x+(N-F[U])/2-N/2+(w||0)/2;break;case t.RIGHT:k=x+N-F[U]-N+(w||0);break;case Vi.END:throw new Error("textBounds: END not yet supported for textAlign")}D[U]={text:_[U],x:k,y:b+U*T}}return this._yAlignOffset(D,M)},n.RendererGL.prototype._yAlignOffset=function(x,b){if(typeof b>"u")throw Error("_yAlignOffset: height is required");let{textLeading:w,textBaseline:E,textSize:_,textFont:T}=this.states,C=0,F=x.length,k=_*F+(w-_)*(F-1);switch(E){case t.TOP:C=_;break;case t.BASELINE:break;case Vi._CTX_MIDDLE:C=-k/2+_+(b||0)/2;break;case t.BOTTOM:C=-(k-_)+(b||0);break;default:console.warn(`${E} is not supported in WebGL mode.`);break}return C+=this.states.textFont.font?._verticalAlign(_)||0,x.forEach(D=>D.y+=C),x}}}typeof p5<"u"&&sM(p5,p5.prototype);var Nd={},YS;function rre(){if(YS)return Nd;YS=1,Object.defineProperty(Nd,"__esModule",{value:!0});var n=(function(){function t(){}return t.parse=function(r){for(var i=new Set,s=0,o=r;s<o.length;s++){var a=o[s];if(!t.REGEXP.test(a))throw new TypeError('"'+a+'" is invalid unicode-range.');var l=a.match(t.REGEXP),u=l[1],h=l[2],c=l[3];if(u){if(/\?[^?]+$/.test(u))throw new TypeError('"'+a+'" is invalid unicode-range.');if(u.includes("?"))for(var f=u.replace(/\?/g,"0"),d=u.replace(/\?/g,"F"),p=t.parse(["U+"+f+"-"+d]),m=0,g=p;m<g.length;m++){var v=g[m];i.add(v)}else i.add(parseInt(u,16))}if(h&&c)for(var S=parseInt(h,16),y=parseInt(c,16),v=S;v<=y;v++)i.add(v)}return Array.from(i).sort(function(x,b){return x-b})},t.stringify=function(r){for(var i=Array.from(new Set(r)).sort(function(h,c){return h-c}),s=[],o,a=0;a<i.length;a++){var l=i[a],u=i[a-1];o&&l-u!==1&&(s.push(t.rangeString(o,u)),o=l),o||(o=l),a===i.length-1&&(o===l?s.push(t.rangeString(l)):s.push(t.rangeString(o,l)))}return s},t.rangeString=function(r,i){return!i||r===i?"U+"+r.toString(16):"U+"+r.toString(16)+"-"+i.toString(16)},t.REGEXP=/^u\+(?:([0-9a-f]?[0-9a-f?]{1,5})|([0-9a-f]{1,6})-([0-9a-f]{1,6}))?$/i,t})();return Nd.UnicodeRange=n,Nd}var KS=rre();const ire=[{category:"control character",hexrange:["0000","001f"]},{category:"basic latin",hexrange:["0000","007f"]},{category:"latin-1 supplement",hexrange:["0080","00ff"]},{category:"latin extended-a",hexrange:["0100","017f"]},{category:"latin extended-b",hexrange:["0180","024f"]},{category:"ipa extensions",hexrange:["0250","02af"]},{category:"spacing modifier letters",hexrange:["02b0","02ff"]},{category:"combining diacritical marks",hexrange:["0300","036f"]},{category:"greek and coptic",hexrange:["0370","03ff"]},{category:"cyrillic",hexrange:["0400","04ff"]},{category:"cyrillic supplement",hexrange:["0500","052f"]},{category:"armenian",hexrange:["0530","058f"]},{category:"hebrew",hexrange:["0590","05ff"]},{category:"arabic",hexrange:["0600","06ff"]},{category:"syriac",hexrange:["0700","074f"]},{category:"arabic supplement",hexrange:["0750","077f"]},{category:"thaana",hexrange:["0780","07bf"]},{category:"nko",hexrange:["07c0","07ff"]},{category:"samaritan",hexrange:["0800","083f"]},{category:"mandaic",hexrange:["0840","085f"]},{category:"syriac supplement",hexrange:["0860","086f"]},{category:"arabic extended-b",hexrange:["0870","089f"]},{category:"arabic extended-a",hexrange:["08a0","08ff"]},{category:"devanagari",hexrange:["0900","097f"]},{category:"bengali",hexrange:["0980","09ff"]},{category:"gurmukhi",hexrange:["0a00","0a7f"]},{category:"gujarati",hexrange:["0a80","0aff"]},{category:"oriya",hexrange:["0b00","0b7f"]},{category:"tamil",hexrange:["0b80","0bff"]},{category:"telugu",hexrange:["0c00","0c7f"]},{category:"kannada",hexrange:["0c80","0cff"]},{category:"malayalam",hexrange:["0d00","0d7f"]},{category:"sinhala",hexrange:["0d80","0dff"]},{category:"thai",hexrange:["0e00","0e7f"]},{category:"lao",hexrange:["0e80","0eff"]},{category:"tibetan",hexrange:["0f00","0fff"]},{category:"myanmar",hexrange:["1000","109f"]},{category:"georgian",hexrange:["10a0","10ff"]},{category:"hangul jamo",hexrange:["1100","11ff"]},{category:"ethiopic",hexrange:["1200","137f"]},{category:"ethiopic supplement",hexrange:["1380","139f"]},{category:"cherokee",hexrange:["13a0","13ff"]},{category:"unified canadian aboriginal syllabics",hexrange:["1400","167f"]},{category:"ogham",hexrange:["1680","169f"]},{category:"runic",hexrange:["16a0","16ff"]},{category:"tagalog",hexrange:["1700","171f"]},{category:"hanunoo",hexrange:["1720","173f"]},{category:"buhid",hexrange:["1740","175f"]},{category:"tagbanwa",hexrange:["1760","177f"]},{category:"khmer",hexrange:["1780","17ff"]},{category:"mongolian",hexrange:["1800","18af"]},{category:"unified canadian aboriginal syllabics extended",hexrange:["18b0","18ff"]},{category:"limbu",hexrange:["1900","194f"]},{category:"tai le",hexrange:["1950","197f"]},{category:"new tai lue",hexrange:["1980","19df"]},{category:"khmer symbols",hexrange:["19e0","19ff"]},{category:"buginese",hexrange:["1a00","1a1f"]},{category:"tai tham",hexrange:["1a20","1aaf"]},{category:"combining diacritical marks extended",hexrange:["1ab0","1aff"]},{category:"balinese",hexrange:["1b00","1b7f"]},{category:"sundanese",hexrange:["1b80","1bbf"]},{category:"batak",hexrange:["1bc0","1bff"]},{category:"lepcha",hexrange:["1c00","1c4f"]},{category:"ol chiki",hexrange:["1c50","1c7f"]},{category:"cyrillic extended-c",hexrange:["1c80","1c8f"]},{category:"georgian extended",hexrange:["1c90","1cbf"]},{category:"sundanese supplement",hexrange:["1cc0","1ccf"]},{category:"vedic extensions",hexrange:["1cd0","1cff"]},{category:"phonetic extensions",hexrange:["1d00","1d7f"]},{category:"phonetic extensions supplement",hexrange:["1d80","1dbf"]},{category:"combining diacritical marks supplement",hexrange:["1dc0","1dff"]},{category:"latin extended additional",hexrange:["1e00","1eff"]},{category:"greek extended",hexrange:["1f00","1fff"]},{category:"general punctuation",hexrange:["2000","206f"]},{category:"superscripts and subscripts",hexrange:["2070","209f"]},{category:"currency symbols",hexrange:["20a0","20cf"]},{category:"combining diacritical marks for symbols",hexrange:["20d0","20ff"]},{category:"letterlike symbols",hexrange:["2100","214f"]},{category:"number forms",hexrange:["2150","218f"]},{category:"arrows",hexrange:["2190","21ff"]},{category:"mathematical operators",hexrange:["2200","22ff"]},{category:"miscellaneous technical",hexrange:["2300","23ff"]},{category:"control pictures",hexrange:["2400","243f"]},{category:"optical character recognition",hexrange:["2440","245f"]},{category:"enclosed alphanumerics",hexrange:["2460","24ff"]},{category:"box drawing",hexrange:["2500","257f"]},{category:"block elements",hexrange:["2580","259f"]},{category:"geometric shapes",hexrange:["25a0","25ff"]},{category:"miscellaneous symbols",hexrange:["2600","26ff"]},{category:"dingbats",hexrange:["2700","27bf"]},{category:"miscellaneous mathematical symbols-a",hexrange:["27c0","27ef"]},{category:"supplemental arrows-a",hexrange:["27f0","27ff"]},{category:"braille patterns",hexrange:["2800","28ff"]},{category:"supplemental arrows-b",hexrange:["2900","297f"]},{category:"miscellaneous mathematical symbols-b",hexrange:["2980","29ff"]},{category:"supplemental mathematical operators",hexrange:["2a00","2aff"]},{category:"miscellaneous symbols and arrows",hexrange:["2b00","2bff"]},{category:"glagolitic",hexrange:["2c00","2c5f"]},{category:"latin extended-c",hexrange:["2c60","2c7f"]},{category:"coptic",hexrange:["2c80","2cff"]},{category:"georgian supplement",hexrange:["2d00","2d2f"]},{category:"tifinagh",hexrange:["2d30","2d7f"]},{category:"ethiopic extended",hexrange:["2d80","2ddf"]},{category:"cyrillic extended-a",hexrange:["2de0","2dff"]},{category:"supplemental punctuation",hexrange:["2e00","2e7f"]},{category:"cjk radicals supplement",hexrange:["2e80","2eff"]},{category:"kangxi radicals",hexrange:["2f00","2fdf"]},{category:"ideographic description characters",hexrange:["2ff0","2fff"]},{category:"cjk symbols and punctuation",hexrange:["3000","303f"]},{category:"hiragana",hexrange:["3040","309f"]},{category:"katakana",hexrange:["30a0","30ff"]},{category:"bopomofo",hexrange:["3100","312f"]},{category:"hangul compatibility jamo",hexrange:["3130","318f"]},{category:"kanbun",hexrange:["3190","319f"]},{category:"bopomofo extended",hexrange:["31a0","31bf"]},{category:"cjk strokes",hexrange:["31c0","31ef"]},{category:"katakana phonetic extensions",hexrange:["31f0","31ff"]},{category:"enclosed cjk letters and months",hexrange:["3200","32ff"]},{category:"cjk compatibility",hexrange:["3300","33ff"]},{category:"cjk unified ideographs extension a",hexrange:["3400","4dbf"]},{category:"yijing hexagram symbols",hexrange:["4dc0","4dff"]},{category:"cjk unified ideographs",hexrange:["4e00","9fff"]},{category:"yi syllables",hexrange:["a000","a48f"]},{category:"yi radicals",hexrange:["a490","a4cf"]},{category:"lisu",hexrange:["a4d0","a4ff"]},{category:"vai",hexrange:["a500","a63f"]},{category:"cyrillic extended-b",hexrange:["a640","a69f"]},{category:"bamum",hexrange:["a6a0","a6ff"]},{category:"modifier tone letters",hexrange:["a700","a71f"]},{category:"latin extended-d",hexrange:["a720","a7ff"]},{category:"syloti nagri",hexrange:["a800","a82f"]},{category:"common indic number forms",hexrange:["a830","a83f"]},{category:"phags-pa",hexrange:["a840","a87f"]},{category:"saurashtra",hexrange:["a880","a8df"]},{category:"devanagari extended",hexrange:["a8e0","a8ff"]},{category:"kayah li",hexrange:["a900","a92f"]},{category:"rejang",hexrange:["a930","a95f"]},{category:"hangul jamo extended-a",hexrange:["a960","a97f"]},{category:"javanese",hexrange:["a980","a9df"]},{category:"myanmar extended-b",hexrange:["a9e0","a9ff"]},{category:"cham",hexrange:["aa00","aa5f"]},{category:"myanmar extended-a",hexrange:["aa60","aa7f"]},{category:"tai viet",hexrange:["aa80","aadf"]},{category:"meetei mayek extensions",hexrange:["aae0","aaff"]},{category:"ethiopic extended-a",hexrange:["ab00","ab2f"]},{category:"latin extended-e",hexrange:["ab30","ab6f"]},{category:"cherokee supplement",hexrange:["ab70","abbf"]},{category:"meetei mayek",hexrange:["abc0","abff"]},{category:"hangul syllables",hexrange:["ac00","d7af"]},{category:"hangul jamo extended-b",hexrange:["d7b0","d7ff"]},{category:"high surrogates",hexrange:["d800","db7f"]},{category:"high private use surrogates",hexrange:["db80","dbff"]},{category:"low surrogates",hexrange:["dc00","dfff"]},{category:"private use area",hexrange:["e000","f8ff"]},{category:"cjk compatibility ideographs",hexrange:["f900","faff"]},{category:"alphabetic presentation forms",hexrange:["fb00","fb4f"]},{category:"arabic presentation forms-a",hexrange:["fb50","fdff"]},{category:"variation selectors",hexrange:["fe00","fe0f"]},{category:"vertical forms",hexrange:["fe10","fe1f"]},{category:"combining half marks",hexrange:["fe20","fe2f"]},{category:"cjk compatibility forms",hexrange:["fe30","fe4f"]},{category:"small form variants",hexrange:["fe50","fe6f"]},{category:"arabic presentation forms-b",hexrange:["fe70","feff"]},{category:"halfwidth and fullwidth forms",hexrange:["ff00","ffef"]},{category:"specials",hexrange:["fff0","ffff"]},{category:"linear b syllabary",hexrange:["10000","1007f"]},{category:"linear b ideograms",hexrange:["10080","100ff"]},{category:"aegean numbers",hexrange:["10100","1013f"]},{category:"ancient greek numbers",hexrange:["10140","1018f"]},{category:"ancient symbols",hexrange:["10190","101cf"]},{category:"phaistos disc",hexrange:["101d0","101ff"]},{category:"lycian",hexrange:["10280","1029f"]},{category:"carian",hexrange:["102a0","102df"]},{category:"coptic epact numbers",hexrange:["102e0","102ff"]},{category:"old italic",hexrange:["10300","1032f"]},{category:"gothic",hexrange:["10330","1034f"]},{category:"old permic",hexrange:["10350","1037f"]},{category:"ugaritic",hexrange:["10380","1039f"]},{category:"old persian",hexrange:["103a0","103df"]},{category:"deseret",hexrange:["10400","1044f"]},{category:"shavian",hexrange:["10450","1047f"]},{category:"osmanya",hexrange:["10480","104af"]},{category:"osage",hexrange:["104b0","104ff"]},{category:"elbasan",hexrange:["10500","1052f"]},{category:"caucasian albanian",hexrange:["10530","1056f"]},{category:"vithkuqi",hexrange:["10570","105bf"]},{category:"linear a",hexrange:["10600","1077f"]},{category:"latin extended-f",hexrange:["10780","107bf"]},{category:"cypriot syllabary",hexrange:["10800","1083f"]},{category:"imperial aramaic",hexrange:["10840","1085f"]},{category:"palmyrene",hexrange:["10860","1087f"]},{category:"nabataean",hexrange:["10880","108af"]},{category:"hatran",hexrange:["108e0","108ff"]},{category:"phoenician",hexrange:["10900","1091f"]},{category:"lydian",hexrange:["10920","1093f"]},{category:"meroitic hieroglyphs",hexrange:["10980","1099f"]},{category:"meroitic cursive",hexrange:["109a0","109ff"]},{category:"kharoshthi",hexrange:["10a00","10a5f"]},{category:"old south arabian",hexrange:["10a60","10a7f"]},{category:"old north arabian",hexrange:["10a80","10a9f"]},{category:"manichaean",hexrange:["10ac0","10aff"]},{category:"avestan",hexrange:["10b00","10b3f"]},{category:"inscriptional parthian",hexrange:["10b40","10b5f"]},{category:"inscriptional pahlavi",hexrange:["10b60","10b7f"]},{category:"psalter pahlavi",hexrange:["10b80","10baf"]},{category:"old turkic",hexrange:["10c00","10c4f"]},{category:"old hungarian",hexrange:["10c80","10cff"]},{category:"hanifi rohingya",hexrange:["10d00","10d3f"]},{category:"rumi numeral symbols",hexrange:["10e60","10e7f"]},{category:"yezidi",hexrange:["10e80","10ebf"]},{category:"arabic extended-c",hexrange:["10ec0","10eff"]},{category:"old sogdian",hexrange:["10f00","10f2f"]},{category:"sogdian",hexrange:["10f30","10f6f"]},{category:"old uyghur",hexrange:["10f70","10faf"]},{category:"chorasmian",hexrange:["10fb0","10fdf"]},{category:"elymaic",hexrange:["10fe0","10fff"]},{category:"brahmi",hexrange:["11000","1107f"]},{category:"kaithi",hexrange:["11080","110cf"]},{category:"sora sompeng",hexrange:["110d0","110ff"]},{category:"chakma",hexrange:["11100","1114f"]},{category:"mahajani",hexrange:["11150","1117f"]},{category:"sharada",hexrange:["11180","111df"]},{category:"sinhala archaic numbers",hexrange:["111e0","111ff"]},{category:"khojki",hexrange:["11200","1124f"]},{category:"multani",hexrange:["11280","112af"]},{category:"khudawadi",hexrange:["112b0","112ff"]},{category:"grantha",hexrange:["11300","1137f"]},{category:"newa",hexrange:["11400","1147f"]},{category:"tirhuta",hexrange:["11480","114df"]},{category:"siddham",hexrange:["11580","115ff"]},{category:"modi",hexrange:["11600","1165f"]},{category:"mongolian supplement",hexrange:["11660","1167f"]},{category:"takri",hexrange:["11680","116cf"]},{category:"ahom",hexrange:["11700","1174f"]},{category:"dogra",hexrange:["11800","1184f"]},{category:"warang citi",hexrange:["118a0","118ff"]},{category:"dives akuru",hexrange:["11900","1195f"]},{category:"nandinagari",hexrange:["119a0","119ff"]},{category:"zanabazar square",hexrange:["11a00","11a4f"]},{category:"soyombo",hexrange:["11a50","11aaf"]},{category:"unified canadian aboriginal syllabics extended-a",hexrange:["11ab0","11abf"]},{category:"pau cin hau",hexrange:["11ac0","11aff"]},{category:"devanagari extended-a",hexrange:["11b00","11b5f"]},{category:"bhaiksuki",hexrange:["11c00","11c6f"]},{category:"marchen",hexrange:["11c70","11cbf"]},{category:"masaram gondi",hexrange:["11d00","11d5f"]},{category:"gunjala gondi",hexrange:["11d60","11daf"]},{category:"makasar",hexrange:["11ee0","11eff"]},{category:"kawi",hexrange:["11f00","11f5f"]},{category:"lisu supplement",hexrange:["11fb0","11fbf"]},{category:"tamil supplement",hexrange:["11fc0","11fff"]},{category:"cuneiform",hexrange:["12000","123ff"]},{category:"cuneiform numbers and punctuation",hexrange:["12400","1247f"]},{category:"early dynastic cuneiform",hexrange:["12480","1254f"]},{category:"cypro-minoan",hexrange:["12f90","12fff"]},{category:"egyptian hieroglyphs",hexrange:["13000","1342f"]},{category:"egyptian hieroglyph format controls",hexrange:["13430","1345f"]},{category:"anatolian hieroglyphs",hexrange:["14400","1467f"]},{category:"bamum supplement",hexrange:["16800","16a3f"]},{category:"mro",hexrange:["16a40","16a6f"]},{category:"tangsa",hexrange:["16a70","16acf"]},{category:"bassa vah",hexrange:["16ad0","16aff"]},{category:"pahawh hmong",hexrange:["16b00","16b8f"]},{category:"medefaidrin",hexrange:["16e40","16e9f"]},{category:"miao",hexrange:["16f00","16f9f"]},{category:"ideographic symbols and punctuation",hexrange:["16fe0","16fff"]},{category:"tangut",hexrange:["17000","187ff"]},{category:"tangut components",hexrange:["18800","18aff"]},{category:"khitan small script",hexrange:["18b00","18cff"]},{category:"tangut supplement",hexrange:["18d00","18d7f"]},{category:"kana extended-b",hexrange:["1aff0","1afff"]},{category:"kana supplement",hexrange:["1b000","1b0ff"]},{category:"kana extended-a",hexrange:["1b100","1b12f"]},{category:"small kana extension",hexrange:["1b130","1b16f"]},{category:"nushu",hexrange:["1b170","1b2ff"]},{category:"duployan",hexrange:["1bc00","1bc9f"]},{category:"shorthand format controls",hexrange:["1bca0","1bcaf"]},{category:"znamenny musical notation",hexrange:["1cf00","1cfcf"]},{category:"byzantine musical symbols",hexrange:["1d000","1d0ff"]},{category:"musical symbols",hexrange:["1d100","1d1ff"]},{category:"ancient greek musical notation",hexrange:["1d200","1d24f"]},{category:"kaktovik numerals",hexrange:["1d2c0","1d2df"]},{category:"mayan numerals",hexrange:["1d2e0","1d2ff"]},{category:"tai xuan jing symbols",hexrange:["1d300","1d35f"]},{category:"counting rod numerals",hexrange:["1d360","1d37f"]},{category:"mathematical alphanumeric symbols",hexrange:["1d400","1d7ff"]},{category:"sutton signwriting",hexrange:["1d800","1daaf"]},{category:"latin extended-g",hexrange:["1df00","1dfff"]},{category:"glagolitic supplement",hexrange:["1e000","1e02f"]},{category:"cyrillic extended-d",hexrange:["1e030","1e08f"]},{category:"nyiakeng puachue hmong",hexrange:["1e100","1e14f"]},{category:"toto",hexrange:["1e290","1e2bf"]},{category:"wancho",hexrange:["1e2c0","1e2ff"]},{category:"nag mundari",hexrange:["1e4d0","1e4ff"]},{category:"ethiopic extended-b",hexrange:["1e7e0","1e7ff"]},{category:"mende kikakui",hexrange:["1e800","1e8df"]},{category:"adlam",hexrange:["1e900","1e95f"]},{category:"indic siyaq numbers",hexrange:["1ec70","1ecbf"]},{category:"ottoman siyaq numbers",hexrange:["1ed00","1ed4f"]},{category:"arabic mathematical alphabetic symbols",hexrange:["1ee00","1eeff"]},{category:"mahjong tiles",hexrange:["1f000","1f02f"]},{category:"domino tiles",hexrange:["1f030","1f09f"]},{category:"playing cards",hexrange:["1f0a0","1f0ff"]},{category:"enclosed alphanumeric supplement",hexrange:["1f100","1f1ff"]},{category:"enclosed ideographic supplement",hexrange:["1f200","1f2ff"]},{category:"miscellaneous symbols and pictographs",hexrange:["1f300","1f5ff"]},{category:"emoticons (emoji)",hexrange:["1f600","1f64f"]},{category:"ornamental dingbats",hexrange:["1f650","1f67f"]},{category:"transport and map symbols",hexrange:["1f680","1f6ff"]},{category:"alchemical symbols",hexrange:["1f700","1f77f"]},{category:"geometric shapes extended",hexrange:["1f780","1f7ff"]},{category:"supplemental arrows-c",hexrange:["1f800","1f8ff"]},{category:"supplemental symbols and pictographs",hexrange:["1f900","1f9ff"]},{category:"chess symbols",hexrange:["1fa00","1fa6f"]},{category:"symbols and pictographs extended-a",hexrange:["1fa70","1faff"]},{category:"symbols for legacy computing",hexrange:["1fb00","1fbff"]},{category:"cjk unified ideographs extension b",hexrange:["20000","2a6df"]},{category:"cjk unified ideographs extension c",hexrange:["2a700","2b73f"]},{category:"cjk unified ideographs extension d",hexrange:["2b740","2b81f"]},{category:"cjk unified ideographs extension e",hexrange:["2b820","2ceaf"]},{category:"cjk unified ideographs extension f",hexrange:["2ceb0","2ebef"]},{category:"cjk unified ideographs extension i",hexrange:["2ebf0","2ee5f"]},{category:"cjk compatibility ideographs supplement",hexrange:["2f800","2fa1f"]},{category:"cjk unified ideographs extension g",hexrange:["30000","3134f"]},{category:"cjk unified ideographs extension h",hexrange:["31350","323af"]},{category:"tags",hexrange:["e0000","e007f"]},{category:"variation selectors supplement",hexrange:["e0100","e01ef"]},{category:"supplementary private use area-a",hexrange:["f0000","fffff"]},{category:"supplementary private use area-b",hexrange:["100000","10ffff"]}];function Dc(n){let t=n.length;for(;--t>=0;)n[t]=0}const sre=3,ore=258,oM=29,are=256,lre=are+1+oM,aM=30,ure=512,cre=new Array((lre+2)*2);Dc(cre);const hre=new Array(aM*2);Dc(hre);const fre=new Array(ure);Dc(fre);const dre=new Array(ore-sre+1);Dc(dre);const pre=new Array(oM);Dc(pre);const mre=new Array(aM);Dc(mre);const gre=(n,t,r,i)=>{let s=n&65535|0,o=n>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[i++]|0,o=o+s|0;while(--a);s%=65521,o%=65521}return s|o<<16|0};var i1=gre;const vre=()=>{let n,t=[];for(var r=0;r<256;r++){n=r;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[r]=n}return t},yre=new Uint32Array(vre()),bre=(n,t,r,i)=>{const s=yre,o=i+r;n^=-1;for(let a=i;a<o;a++)n=n>>>8^s[(n^t[a])&255];return n^-1};var io=bre,s1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lM={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const xre=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var _re=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const i in r)xre(r,i)&&(n[i]=r[i])}}return n},wre=n=>{let t=0;for(let i=0,s=n.length;i<s;i++)t+=n[i].length;const r=new Uint8Array(t);for(let i=0,s=0,o=n.length;i<o;i++){let a=n[i];r.set(a,s),s+=a.length}return r},uM={assign:_re,flattenChunks:wre};let cM=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cM=!1}const uf=new Uint8Array(256);for(let n=0;n<256;n++)uf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;uf[254]=uf[254]=1;var Ere=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,r,i,s,o,a=n.length,l=0;for(s=0;s<a;s++)r=n.charCodeAt(s),(r&64512)===55296&&s+1<a&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),o=0,s=0;o<l;s++)r=n.charCodeAt(s),(r&64512)===55296&&s+1<a&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),s++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};const Sre=(n,t)=>{if(t<65534&&n.subarray&&cM)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let r="";for(let i=0;i<t;i++)r+=String.fromCharCode(n[i]);return r};var Cre=(n,t)=>{const r=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let i,s;const o=new Array(r*2);for(s=0,i=0;i<r;){let a=n[i++];if(a<128){o[s++]=a;continue}let l=uf[a];if(l>4){o[s++]=65533,i+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&i<r;)a=a<<6|n[i++]&63,l--;if(l>1){o[s++]=65533;continue}a<65536?o[s++]=a:(a-=65536,o[s++]=55296|a>>10&1023,o[s++]=56320|a&1023)}return Sre(o,s)},Are=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let r=t-1;for(;r>=0&&(n[r]&192)===128;)r--;return r<0||r===0?t:r+uf[n[r]]>t?r:t},o1={string2buf:Ere,buf2string:Cre,utf8border:Are};function Tre(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Ire=Tre;const Fd=16209,Dre=16191;var Nre=function(t,r){let i,s,o,a,l,u,h,c,f,d,p,m,g,v,S,y,x,b,w,E,_,T,C,F;const k=t.state;i=t.next_in,C=t.input,s=i+(t.avail_in-5),o=t.next_out,F=t.output,a=o-(r-t.avail_out),l=o+(t.avail_out-257),u=k.dmax,h=k.wsize,c=k.whave,f=k.wnext,d=k.window,p=k.hold,m=k.bits,g=k.lencode,v=k.distcode,S=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;e:do{m<15&&(p+=C[i++]<<m,m+=8,p+=C[i++]<<m,m+=8),x=g[p&S];t:for(;;){if(b=x>>>24,p>>>=b,m-=b,b=x>>>16&255,b===0)F[o++]=x&65535;else if(b&16){w=x&65535,b&=15,b&&(m<b&&(p+=C[i++]<<m,m+=8),w+=p&(1<<b)-1,p>>>=b,m-=b),m<15&&(p+=C[i++]<<m,m+=8,p+=C[i++]<<m,m+=8),x=v[p&y];n:for(;;){if(b=x>>>24,p>>>=b,m-=b,b=x>>>16&255,b&16){if(E=x&65535,b&=15,m<b&&(p+=C[i++]<<m,m+=8,m<b&&(p+=C[i++]<<m,m+=8)),E+=p&(1<<b)-1,E>u){t.msg="invalid distance too far back",k.mode=Fd;break e}if(p>>>=b,m-=b,b=o-a,E>b){if(b=E-b,b>c&&k.sane){t.msg="invalid distance too far back",k.mode=Fd;break e}if(_=0,T=d,f===0){if(_+=h-b,b<w){w-=b;do F[o++]=d[_++];while(--b);_=o-E,T=F}}else if(f<b){if(_+=h+f-b,b-=f,b<w){w-=b;do F[o++]=d[_++];while(--b);if(_=0,f<w){b=f,w-=b;do F[o++]=d[_++];while(--b);_=o-E,T=F}}}else if(_+=f-b,b<w){w-=b;do F[o++]=d[_++];while(--b);_=o-E,T=F}for(;w>2;)F[o++]=T[_++],F[o++]=T[_++],F[o++]=T[_++],w-=3;w&&(F[o++]=T[_++],w>1&&(F[o++]=T[_++]))}else{_=o-E;do F[o++]=F[_++],F[o++]=F[_++],F[o++]=F[_++],w-=3;while(w>2);w&&(F[o++]=F[_++],w>1&&(F[o++]=F[_++]))}}else if((b&64)===0){x=v[(x&65535)+(p&(1<<b)-1)];continue n}else{t.msg="invalid distance code",k.mode=Fd;break e}break}}else if((b&64)===0){x=g[(x&65535)+(p&(1<<b)-1)];continue t}else if(b&32){k.mode=Dre;break e}else{t.msg="invalid literal/length code",k.mode=Fd;break e}break}}while(i<s&&o<l);w=m>>3,i-=w,m-=w<<3,p&=(1<<m)-1,t.next_in=i,t.next_out=o,t.avail_in=i<s?5+(s-i):5-(i-s),t.avail_out=o<l?257+(l-o):257-(o-l),k.hold=p,k.bits=m};const Tu=15,ZS=852,JS=592,QS=0,lv=1,eC=2,Fre=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kre=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Mre=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ore=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Pre=(n,t,r,i,s,o,a,l)=>{const u=l.bits;let h=0,c=0,f=0,d=0,p=0,m=0,g=0,v=0,S=0,y=0,x,b,w,E,_,T=null,C;const F=new Uint16Array(Tu+1),k=new Uint16Array(Tu+1);let D=null,N,M,U;for(h=0;h<=Tu;h++)F[h]=0;for(c=0;c<i;c++)F[t[r+c]]++;for(p=u,d=Tu;d>=1&&F[d]===0;d--);if(p>d&&(p=d),d===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<d&&F[f]===0;f++);for(p<f&&(p=f),v=1,h=1;h<=Tu;h++)if(v<<=1,v-=F[h],v<0)return-1;if(v>0&&(n===QS||d!==1))return-1;for(k[1]=0,h=1;h<Tu;h++)k[h+1]=k[h]+F[h];for(c=0;c<i;c++)t[r+c]!==0&&(a[k[t[r+c]]++]=c);if(n===QS?(T=D=a,C=20):n===lv?(T=Fre,D=kre,C=257):(T=Mre,D=Ore,C=0),y=0,c=0,h=f,_=o,m=p,g=0,w=-1,S=1<<p,E=S-1,n===lv&&S>ZS||n===eC&&S>JS)return 1;for(;;){N=h-g,a[c]+1<C?(M=0,U=a[c]):a[c]>=C?(M=D[a[c]-C],U=T[a[c]-C]):(M=96,U=0),x=1<<h-g,b=1<<m,f=b;do b-=x,s[_+(y>>g)+b]=N<<24|M<<16|U|0;while(b!==0);for(x=1<<h-1;y&x;)x>>=1;if(x!==0?(y&=x-1,y+=x):y=0,c++,--F[h]===0){if(h===d)break;h=t[r+a[c]]}if(h>p&&(y&E)!==w){for(g===0&&(g=p),_+=f,m=h-g,v=1<<m;m+g<d&&(v-=F[m+g],!(v<=0));)m++,v<<=1;if(S+=1<<m,n===lv&&S>ZS||n===eC&&S>JS)return 1;w=y&E,s[w]=p<<24|m<<16|_-o|0}}return y!==0&&(s[_+y]=h-g<<24|64<<16|0),l.bits=p,0};var Ch=Pre;const Lre=0,hM=1,fM=2,{Z_FINISH:tC,Z_BLOCK:Rre,Z_TREES:kd,Z_OK:Ql,Z_STREAM_END:Bre,Z_NEED_DICT:Ure,Z_STREAM_ERROR:Ds,Z_DATA_ERROR:dM,Z_MEM_ERROR:pM,Z_BUF_ERROR:Vre,Z_DEFLATED:nC}=lM,Ng=16180,rC=16181,iC=16182,sC=16183,oC=16184,aC=16185,lC=16186,uC=16187,cC=16188,hC=16189,cm=16190,Io=16191,uv=16192,fC=16193,cv=16194,dC=16195,pC=16196,mC=16197,gC=16198,Md=16199,Od=16200,vC=16201,yC=16202,bC=16203,xC=16204,_C=16205,hv=16206,wC=16207,EC=16208,Kn=16209,mM=16210,gM=16211,$re=852,jre=592,zre=15,Gre=zre,SC=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Hre(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lu=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<Ng||t.mode>gM?1:0},vM=n=>{if(lu(n))return Ds;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=Ng,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array($re),t.distcode=t.distdyn=new Int32Array(jre),t.sane=1,t.back=-1,Ql},yM=n=>{if(lu(n))return Ds;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,vM(n)},bM=(n,t)=>{let r;if(lu(n))return Ds;const i=n.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ds:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,yM(n))},xM=(n,t)=>{if(!n)return Ds;const r=new Hre;n.state=r,r.strm=n,r.window=null,r.mode=Ng;const i=bM(n,t);return i!==Ql&&(n.state=null),i},Wre=n=>xM(n,Gre);let CC=!0,fv,dv;const Xre=n=>{if(CC){fv=new Int32Array(512),dv=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Ch(hM,n.lens,0,288,fv,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Ch(fM,n.lens,0,32,dv,0,n.work,{bits:5}),CC=!1}n.lencode=fv,n.lenbits=9,n.distcode=dv,n.distbits=5},_M=(n,t,r,i)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>i&&(s=i),o.window.set(t.subarray(r-i,r-i+s),o.wnext),i-=s,i?(o.window.set(t.subarray(r-i,r),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},qre=(n,t)=>{let r,i,s,o,a,l,u,h,c,f,d,p,m,g,v=0,S,y,x,b,w,E,_,T;const C=new Uint8Array(4);let F,k;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lu(n)||!n.output||!n.input&&n.avail_in!==0)return Ds;r=n.state,r.mode===Io&&(r.mode=uv),a=n.next_out,s=n.output,u=n.avail_out,o=n.next_in,i=n.input,l=n.avail_in,h=r.hold,c=r.bits,f=l,d=u,T=Ql;e:for(;;)switch(r.mode){case Ng:if(r.wrap===0){r.mode=uv;break}for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,C[0]=h&255,C[1]=h>>>8&255,r.check=io(r.check,C,2,0),h=0,c=0,r.mode=rC;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",r.mode=Kn;break}if((h&15)!==nC){n.msg="unknown compression method",r.mode=Kn;break}if(h>>>=4,c-=4,_=(h&15)+8,r.wbits===0&&(r.wbits=_),_>15||_>r.wbits){n.msg="invalid window size",r.mode=Kn;break}r.dmax=1<<r.wbits,r.flags=0,n.adler=r.check=1,r.mode=h&512?hC:Io,h=0,c=0;break;case rC:for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.flags=h,(r.flags&255)!==nC){n.msg="unknown compression method",r.mode=Kn;break}if(r.flags&57344){n.msg="unknown header flags set",r.mode=Kn;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(C[0]=h&255,C[1]=h>>>8&255,r.check=io(r.check,C,2,0)),h=0,c=0,r.mode=iC;case iC:for(;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(C[0]=h&255,C[1]=h>>>8&255,C[2]=h>>>16&255,C[3]=h>>>24&255,r.check=io(r.check,C,4,0)),h=0,c=0,r.mode=sC;case sC:for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(C[0]=h&255,C[1]=h>>>8&255,r.check=io(r.check,C,2,0)),h=0,c=0,r.mode=oC;case oC:if(r.flags&1024){for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(C[0]=h&255,C[1]=h>>>8&255,r.check=io(r.check,C,2,0)),h=0,c=0}else r.head&&(r.head.extra=null);r.mode=aC;case aC:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(_=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(o,o+p),_)),r.flags&512&&r.wrap&4&&(r.check=io(r.check,i,p,o)),l-=p,o+=p,r.length-=p),r.length))break e;r.length=0,r.mode=lC;case lC:if(r.flags&2048){if(l===0)break e;p=0;do _=i[o+p++],r.head&&_&&r.length<65536&&(r.head.name+=String.fromCharCode(_));while(_&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=io(r.check,i,p,o)),l-=p,o+=p,_)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=uC;case uC:if(r.flags&4096){if(l===0)break e;p=0;do _=i[o+p++],r.head&&_&&r.length<65536&&(r.head.comment+=String.fromCharCode(_));while(_&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=io(r.check,i,p,o)),l-=p,o+=p,_)break e}else r.head&&(r.head.comment=null);r.mode=cC;case cC:if(r.flags&512){for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.wrap&4&&h!==(r.check&65535)){n.msg="header crc mismatch",r.mode=Kn;break}h=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),n.adler=r.check=0,r.mode=Io;break;case hC:for(;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}n.adler=r.check=SC(h),h=0,c=0,r.mode=cm;case cm:if(r.havedict===0)return n.next_out=a,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=h,r.bits=c,Ure;n.adler=r.check=1,r.mode=Io;case Io:if(t===Rre||t===kd)break e;case uv:if(r.last){h>>>=c&7,c-=c&7,r.mode=hv;break}for(;c<3;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}switch(r.last=h&1,h>>>=1,c-=1,h&3){case 0:r.mode=fC;break;case 1:if(Xre(r),r.mode=Md,t===kd){h>>>=2,c-=2;break e}break;case 2:r.mode=pC;break;case 3:n.msg="invalid block type",r.mode=Kn}h>>>=2,c-=2;break;case fC:for(h>>>=c&7,c-=c&7;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",r.mode=Kn;break}if(r.length=h&65535,h=0,c=0,r.mode=cv,t===kd)break e;case cv:r.mode=dC;case dC:if(p=r.length,p){if(p>l&&(p=l),p>u&&(p=u),p===0)break e;s.set(i.subarray(o,o+p),a),l-=p,o+=p,u-=p,a+=p,r.length-=p;break}r.mode=Io;break;case pC:for(;c<14;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.nlen=(h&31)+257,h>>>=5,c-=5,r.ndist=(h&31)+1,h>>>=5,c-=5,r.ncode=(h&15)+4,h>>>=4,c-=4,r.nlen>286||r.ndist>30){n.msg="too many length or distance symbols",r.mode=Kn;break}r.have=0,r.mode=mC;case mC:for(;r.have<r.ncode;){for(;c<3;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.lens[D[r.have++]]=h&7,h>>>=3,c-=3}for(;r.have<19;)r.lens[D[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},T=Ch(Lre,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,T){n.msg="invalid code lengths set",r.mode=Kn;break}r.have=0,r.mode=gC;case gC:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[h&(1<<r.lenbits)-1],S=v>>>24,y=v>>>16&255,x=v&65535,!(S<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(x<16)h>>>=S,c-=S,r.lens[r.have++]=x;else{if(x===16){for(k=S+2;c<k;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(h>>>=S,c-=S,r.have===0){n.msg="invalid bit length repeat",r.mode=Kn;break}_=r.lens[r.have-1],p=3+(h&3),h>>>=2,c-=2}else if(x===17){for(k=S+3;c<k;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=S,c-=S,_=0,p=3+(h&7),h>>>=3,c-=3}else{for(k=S+7;c<k;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=S,c-=S,_=0,p=11+(h&127),h>>>=7,c-=7}if(r.have+p>r.nlen+r.ndist){n.msg="invalid bit length repeat",r.mode=Kn;break}for(;p--;)r.lens[r.have++]=_}}if(r.mode===Kn)break;if(r.lens[256]===0){n.msg="invalid code -- missing end-of-block",r.mode=Kn;break}if(r.lenbits=9,F={bits:r.lenbits},T=Ch(hM,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,T){n.msg="invalid literal/lengths set",r.mode=Kn;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},T=Ch(fM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,T){n.msg="invalid distances set",r.mode=Kn;break}if(r.mode=Md,t===kd)break e;case Md:r.mode=Od;case Od:if(l>=6&&u>=258){n.next_out=a,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=h,r.bits=c,Nre(n,d),a=n.next_out,s=n.output,u=n.avail_out,o=n.next_in,i=n.input,l=n.avail_in,h=r.hold,c=r.bits,r.mode===Io&&(r.back=-1);break}for(r.back=0;v=r.lencode[h&(1<<r.lenbits)-1],S=v>>>24,y=v>>>16&255,x=v&65535,!(S<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(y&&(y&240)===0){for(b=S,w=y,E=x;v=r.lencode[E+((h&(1<<b+w)-1)>>b)],S=v>>>24,y=v>>>16&255,x=v&65535,!(b+S<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=b,c-=b,r.back+=b}if(h>>>=S,c-=S,r.back+=S,r.length=x,y===0){r.mode=_C;break}if(y&32){r.back=-1,r.mode=Io;break}if(y&64){n.msg="invalid literal/length code",r.mode=Kn;break}r.extra=y&15,r.mode=vC;case vC:if(r.extra){for(k=r.extra;c<k;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=yC;case yC:for(;v=r.distcode[h&(1<<r.distbits)-1],S=v>>>24,y=v>>>16&255,x=v&65535,!(S<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if((y&240)===0){for(b=S,w=y,E=x;v=r.distcode[E+((h&(1<<b+w)-1)>>b)],S=v>>>24,y=v>>>16&255,x=v&65535,!(b+S<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=b,c-=b,r.back+=b}if(h>>>=S,c-=S,r.back+=S,y&64){n.msg="invalid distance code",r.mode=Kn;break}r.offset=x,r.extra=y&15,r.mode=bC;case bC:if(r.extra){for(k=r.extra;c<k;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){n.msg="invalid distance too far back",r.mode=Kn;break}r.mode=xC;case xC:if(u===0)break e;if(p=d-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){n.msg="invalid distance too far back",r.mode=Kn;break}p>r.wnext?(p-=r.wnext,m=r.wsize-p):m=r.wnext-p,p>r.length&&(p=r.length),g=r.window}else g=s,m=a-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do s[a++]=g[m++];while(--p);r.length===0&&(r.mode=Od);break;case _C:if(u===0)break e;s[a++]=r.length,u--,r.mode=Od;break;case hv:if(r.wrap){for(;c<32;){if(l===0)break e;l--,h|=i[o++]<<c,c+=8}if(d-=u,n.total_out+=d,r.total+=d,r.wrap&4&&d&&(n.adler=r.check=r.flags?io(r.check,s,d,a-d):i1(r.check,s,d,a-d)),d=u,r.wrap&4&&(r.flags?h:SC(h))!==r.check){n.msg="incorrect data check",r.mode=Kn;break}h=0,c=0}r.mode=wC;case wC:if(r.wrap&&r.flags){for(;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.wrap&4&&h!==(r.total&4294967295)){n.msg="incorrect length check",r.mode=Kn;break}h=0,c=0}r.mode=EC;case EC:T=Bre;break e;case Kn:T=dM;break e;case mM:return pM;case gM:default:return Ds}return n.next_out=a,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=h,r.bits=c,(r.wsize||d!==n.avail_out&&r.mode<Kn&&(r.mode<hv||t!==tC))&&_M(n,n.output,n.next_out,d-n.avail_out),f-=n.avail_in,d-=n.avail_out,n.total_in+=f,n.total_out+=d,r.total+=d,r.wrap&4&&d&&(n.adler=r.check=r.flags?io(r.check,s,d,n.next_out-d):i1(r.check,s,d,n.next_out-d)),n.data_type=r.bits+(r.last?64:0)+(r.mode===Io?128:0)+(r.mode===Md||r.mode===cv?256:0),(f===0&&d===0||t===tC)&&T===Ql&&(T=Vre),T},Yre=n=>{if(lu(n))return Ds;let t=n.state;return t.window&&(t.window=null),n.state=null,Ql},Kre=(n,t)=>{if(lu(n))return Ds;const r=n.state;return(r.wrap&2)===0?Ds:(r.head=t,t.done=!1,Ql)},Zre=(n,t)=>{const r=t.length;let i,s,o;return lu(n)||(i=n.state,i.wrap!==0&&i.mode!==cm)?Ds:i.mode===cm&&(s=1,s=i1(s,t,r,0),s!==i.check)?dM:(o=_M(n,t,r,r),o?(i.mode=mM,pM):(i.havedict=1,Ql))};var Jre=yM,Qre=bM,eie=vM,tie=Wre,nie=xM,rie=qre,iie=Yre,sie=Kre,oie=Zre,aie="pako inflate (from Nodeca project)",Mo={inflateReset:Jre,inflateReset2:Qre,inflateResetKeep:eie,inflateInit:tie,inflateInit2:nie,inflate:rie,inflateEnd:iie,inflateGetHeader:sie,inflateSetDictionary:oie,inflateInfo:aie};function lie(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uie=lie;const wM=Object.prototype.toString,{Z_NO_FLUSH:cie,Z_FINISH:hie,Z_OK:cf,Z_STREAM_END:pv,Z_NEED_DICT:mv,Z_STREAM_ERROR:fie,Z_DATA_ERROR:AC,Z_MEM_ERROR:die}=lM;function Fg(n){this.options=uM.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ire,this.strm.avail_out=0;let r=Mo.inflateInit2(this.strm,t.windowBits);if(r!==cf)throw new Error(s1[r]);if(this.header=new uie,Mo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=o1.string2buf(t.dictionary):wM.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Mo.inflateSetDictionary(this.strm,t.dictionary),r!==cf)))throw new Error(s1[r])}Fg.prototype.push=function(n,t){const r=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let o,a,l;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?hie:cie,wM.call(n)==="[object ArrayBuffer]"?r.input=new Uint8Array(n):r.input=n,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),o=Mo.inflate(r,a),o===mv&&s&&(o=Mo.inflateSetDictionary(r,s),o===cf?o=Mo.inflate(r,a):o===AC&&(o=mv));r.avail_in>0&&o===pv&&r.state.wrap>0&&n[r.next_in]!==0;)Mo.inflateReset(r),o=Mo.inflate(r,a);switch(o){case fie:case AC:case mv:case die:return this.onEnd(o),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||o===pv))if(this.options.to==="string"){let u=o1.utf8border(r.output,r.next_out),h=r.next_out-u,c=o1.buf2string(r.output,u);r.next_out=h,r.avail_out=i-h,h&&r.output.set(r.output.subarray(u,u+h),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===cf&&l===0)){if(o===pv)return o=Mo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Fg.prototype.onData=function(n){this.chunks.push(n)};Fg.prototype.onEnd=function(n){n===cf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=uM.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function pie(n,t){const r=new Fg(t);if(r.push(n),r.err)throw r.msg||s1[r.err];return r.result}var mie=pie,gie={inflate:mie};const{inflate:vie}=gie;var yie=vie;const EM={inflate:yie};var Ze={};Ze.parse=function(n){var t=Ze.B,r=function(b,w,E,_){var T=Ze.T,C={cmap:T.cmap,head:T.head,hhea:T.hhea,maxp:T.maxp,hmtx:T.hmtx,name:T.name,"OS/2":T.OS2,post:T.post,loca:T.loca,kern:T.kern,glyf:T.glyf,"CFF ":T.CFF,GSUB:T.GSUB,CBLC:T.CBLC,CBDT:T.CBDT,"SVG ":T.SVG,COLR:T.colr,CPAL:T.cpal,sbix:T.sbix,fvar:T.fvar,gvar:T.gvar,avar:T.avar,HVAR:T.HVAR},F={_data:b,_index:w,_offset:E};for(var k in C){var D=Ze.findTable(b,k,E);if(D){var N=D[0],M=_[N];M==null&&(M=C[k].parseTab(b,N,D[1],F)),F[k]=_[N]=M}}return F};function i(b){var w=t.readUshort(b,12),E=t.readUint(b,16),_=new Uint8Array(E),T=12+w*16;t.writeASCII(_,0,"OTTO"),t.writeUshort(_,4,w);for(var C=44,F=0;F<w;F++){var k=t.readASCII(b,C,4),D=t.readUint(b,C+4),N=t.readUint(b,C+8),M=t.readUint(b,C+12);C+=20;var U=b.slice(D,D+N);N!=M&&(U=EM.inflate(U));var R=12+F*16;t.writeASCII(_,R,k),t.writeUint(_,R+8,T),t.writeUint(_,R+12,M),_.set(U,T),T+=M}return _}var s=new Uint8Array(n);let o;s[0]==119&&(o=s,s=i(s));var a={},l=t.readASCII(s,0,4);if(l=="ttcf"){var u=4;t.readUshort(s,u),u+=2,t.readUshort(s,u),u+=2;var h=t.readUint(s,u);u+=4;for(var c=[],f=0;f<h;f++){var d=t.readUint(s,u);u+=4,c.push(r(s,f,d,a))}return c}var p=r(s,0,0,a);p._compressedData=o;var m=p.fvar;if(m){for(var g=[p],f=0;f<m[1].length;f++){var v=m[1][f],S={};g.push(S);for(var y in p)S[y]=p[y];S._index=f;var x=S.name=JSON.parse(JSON.stringify(S.name));x.fontSubfamily=v[0],v[3]==null&&(v[3]=(x.fontFamily+"-"+x.fontSubfamily).replaceAll(" ","")),x.postScriptName=v[3]}return g}return[p]};Ze.findTable=function(n,t,r){for(var i=Ze.B,s=i.readUshort(n,r+4),o=r+12,a=0;a<s;a++){var l=i.readASCII(n,o,4);i.readUint(n,o+4);var u=i.readUint(n,o+8),h=i.readUint(n,o+12);if(l==t)return[u,h];o+=16}return null};Ze.T={};Ze.B={readFixed:function(n,t){return(n[t]<<8|n[t+1])+(n[t+2]<<8|n[t+3])/(256*256+4)},readF2dot14:function(n,t){var r=Ze.B.readShort(n,t);return r/16384},readInt:function(n,t){var r=Ze.B.t.uint8;return r[0]=n[t+3],r[1]=n[t+2],r[2]=n[t+1],r[3]=n[t],Ze.B.t.int32[0]},readInt8:function(n,t){var r=Ze.B.t.uint8;return r[0]=n[t],Ze.B.t.int8[0]},readShort:function(n,t){var r=Ze.B.t.uint16;return r[0]=n[t]<<8|n[t+1],Ze.B.t.int16[0]},readUshort:function(n,t){return n[t]<<8|n[t+1]},writeUshort:function(n,t,r){n[t]=r>>8&255,n[t+1]=r&255},readUshorts:function(n,t,r){for(var i=[],s=0;s<r;s++){var o=Ze.B.readUshort(n,t+s*2);i.push(o)}return i},readUint:function(n,t){var r=Ze.B.t.uint8;return r[3]=n[t],r[2]=n[t+1],r[1]=n[t+2],r[0]=n[t+3],Ze.B.t.uint32[0]},writeUint:function(n,t,r){n[t]=r>>24&255,n[t+1]=r>>16&255,n[t+2]=r>>8&255,n[t+3]=r>>0&255},readUint64:function(n,t){return Ze.B.readUint(n,t)*4294967296+Ze.B.readUint(n,t+4)},readASCII:function(n,t,r){for(var i="",s=0;s<r;s++)i+=String.fromCharCode(n[t+s]);return i},writeASCII:function(n,t,r){for(var i=0;i<r.length;i++)n[t+i]=r.charCodeAt(i)},readUnicode:function(n,t,r){for(var i="",s=0;s<r;s++){var o=n[t++]<<8|n[t++];i+=String.fromCharCode(o)}return i},_tdec:window.TextDecoder?new window.TextDecoder:null,readUTF8:function(n,t,r){var i=Ze.B._tdec;return i&&t==0&&r==n.length?i.decode(n):Ze.B.readASCII(n,t,r)},readBytes:function(n,t,r){for(var i=[],s=0;s<r;s++)i.push(n[t+s]);return i},readASCIIArray:function(n,t,r){for(var i=[],s=0;s<r;s++)i.push(String.fromCharCode(n[t+s]));return i},t:(function(){var n=new ArrayBuffer(8);return{buff:n,int8:new Int8Array(n),uint8:new Uint8Array(n),int16:new Int16Array(n),uint16:new Uint16Array(n),int32:new Int32Array(n),uint32:new Uint32Array(n)}})()};Ze.T.CFF={parseTab:function(n,t,r){var i=Ze.B,s=Ze.T.CFF;n=new Uint8Array(n.buffer,t,r),t=0,n[t],t++,n[t],t++,n[t],t++,n[t],t++;var o=[];t=s.readIndex(n,t,o);for(var a=[],l=0;l<o.length-1;l++)a.push(i.readASCII(n,t+o[l],o[l+1]-o[l]));t+=o[o.length-1];var u=[];t=s.readIndex(n,t,u);for(var h=[],l=0;l<u.length-1;l++)h.push(s.readDict(n,t+u[l],t+u[l+1]));t+=u[u.length-1];var c=h[0],f=[];t=s.readIndex(n,t,f);for(var d=[],l=0;l<f.length-1;l++)d.push(i.readASCII(n,t+f[l],f[l+1]-f[l]));if(t+=f[f.length-1],s.readSubrs(n,t,c),c.CharStrings&&(c.CharStrings=s.readBytes(n,c.CharStrings)),c.ROS){t=c.FDArray;var p=[];t=s.readIndex(n,t,p),c.FDArray=[];for(var l=0;l<p.length-1;l++){var m=s.readDict(n,t+p[l],t+p[l+1]);s._readFDict(n,m,d),c.FDArray.push(m)}t+=p[p.length-1],t=c.FDSelect,c.FDSelect=[];var g=n[t];if(t++,g==3){var v=i.readUshort(n,t);t+=2;for(var l=0;l<v+1;l++)c.FDSelect.push(i.readUshort(n,t),n[t+2]),t+=3}else throw g}return c.charset&&(c.charset=s.readCharset(n,c.charset,c.CharStrings.length)),s._readFDict(n,c,d),c},_readFDict:function(n,t,r){var i=Ze.T.CFF,s;t.Private&&(s=t.Private[1],t.Private=i.readDict(n,s,s+t.Private[0]),t.Private.Subrs&&i.readSubrs(n,s+t.Private.Subrs,t.Private));for(var o in t)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(o)!=-1&&(t[o]=r[t[o]-426+35])},readSubrs:function(n,t,r){r.Subrs=Ze.T.CFF.readBytes(n,t);var i,s=r.Subrs.length+1;s<1240?i=107:s<33900?i=1131:i=32768,r.Bias=i},readBytes:function(n,t){Ze.B;var r=[];t=Ze.T.CFF.readIndex(n,t,r);for(var i=[],s=r.length-1,o=n.byteOffset+t,a=0;a<s;a++){var l=r[a];i.push(new Uint8Array(n.buffer,o+l,r[a+1]-l))}return i},tableSE:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],glyphByUnicode:function(n,t){for(var r=0;r<n.charset.length;r++)if(n.charset[r]==t)return r;return-1},glyphBySE:function(n,t){return t<0||t>255?-1:Ze.T.CFF.glyphByUnicode(n,Ze.T.CFF.tableSE[t])},readCharset:function(n,t,r){var i=Ze.B,s=[".notdef"],o=n[t];if(t++,o==0)for(var a=0;a<r;a++){var l=i.readUshort(n,t);t+=2,s.push(l)}else if(o==1||o==2)for(;s.length<r;){var l=i.readUshort(n,t);t+=2;var u=0;o==1?(u=n[t],t++):(u=i.readUshort(n,t),t+=2);for(var a=0;a<=u;a++)s.push(l),l++}else throw"error: format: "+o;return s},readIndex:function(n,t,r){var i=Ze.B,s=i.readUshort(n,t)+1;t+=2;var o=n[t];if(t++,o==1)for(var a=0;a<s;a++)r.push(n[t+a]);else if(o==2)for(var a=0;a<s;a++)r.push(i.readUshort(n,t+a*2));else if(o==3)for(var a=0;a<s;a++)r.push(i.readUint(n,t+a*3-1)&16777215);else if(o==4)for(var a=0;a<s;a++)r.push(i.readUint(n,t+a*4));else if(s!=1)throw"unsupported offset size: "+o+", count: "+s;return t+=s*o,t-1},getCharString:function(n,t,r){var i=Ze.B,s=n[t],o=n[t+1];n[t+2],n[t+3],n[t+4];var a=1,l=null,u=null;s<=20&&(l=s,a=1),s==12&&(l=s*100+o,a=2),21<=s&&s<=27&&(l=s,a=1),s==28&&(u=i.readShort(n,t+1),a=3),29<=s&&s<=31&&(l=s,a=1),32<=s&&s<=246&&(u=s-139,a=1),247<=s&&s<=250&&(u=(s-247)*256+o+108,a=2),251<=s&&s<=254&&(u=-(s-251)*256-o-108,a=2),s==255&&(u=i.readInt(n,t+1)/65535,a=5),r.val=u??"o"+l,r.size=a},readCharString:function(n,t,r){for(var i=t+r,s=Ze.B,o=[];t<i;){var a=n[t],l=n[t+1];n[t+2],n[t+3],n[t+4];var u=1,h=null,c=null;a<=20&&(h=a,u=1),a==12&&(h=a*100+l,u=2),(a==19||a==20)&&(h=a,u=2),21<=a&&a<=27&&(h=a,u=1),a==28&&(c=s.readShort(n,t+1),u=3),29<=a&&a<=31&&(h=a,u=1),32<=a&&a<=246&&(c=a-139,u=1),247<=a&&a<=250&&(c=(a-247)*256+l+108,u=2),251<=a&&a<=254&&(c=-(a-251)*256-l-108,u=2),a==255&&(c=s.readInt(n,t+1)/65535,u=5),o.push(c??"o"+h),t+=u}return o},readDict:function(n,t,r){for(var i=Ze.B,s={},o=[];t<r;){var a=n[t],l=n[t+1];n[t+2],n[t+3],n[t+4];var u=1,h=null,c=null;if(a==28&&(c=i.readShort(n,t+1),u=3),a==29&&(c=i.readInt(n,t+1),u=5),32<=a&&a<=246&&(c=a-139,u=1),247<=a&&a<=250&&(c=(a-247)*256+l+108,u=2),251<=a&&a<=254&&(c=-(a-251)*256-l-108,u=2),a==255)throw c=i.readInt(n,t+1)/65535,u=5,"unknown number";if(a==30){var f=[];for(u=1;;){var d=n[t+u];u++;var p=d>>4,m=d&15;if(p!=15&&f.push(p),m!=15&&f.push(m),m==15)break}for(var g="",v=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],S=0;S<f.length;S++)g+=v[f[S]];c=parseFloat(g)}if(a<=21){var y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"];if(h=y[a],u=1,a==12){var y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold","","","LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend","","","","","","","ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"];h=y[l],u=2}}h!=null?(s[h]=o.length==1?o[0]:o,o=[]):o.push(c),t+=u}return s}};Ze.T.cmap={parseTab:function(n,t,r){var i={tables:[],ids:{},off:t};n=new Uint8Array(n.buffer,t,r),t=0;var s=Ze.B,o=s.readUshort,a=Ze.T.cmap;o(n,t),t+=2;var l=o(n,t);t+=2;for(var u=[],h=0;h<l;h++){var c=o(n,t);t+=2;var f=o(n,t);t+=2;var d=s.readUint(n,t);t+=4;var p="p"+c+"e"+f,m=u.indexOf(d);if(m==-1){m=i.tables.length;var g={};u.push(d);var v=g.format=o(n,d);v==0?g=a.parse0(n,d,g):v==4?g=a.parse4(n,d,g):v==6?g=a.parse6(n,d,g):v==12&&(g=a.parse12(n,d,g)),i.tables.push(g)}i.ids[p]!=null&&console.log("multiple tables for one platform+encoding: "+p),i.ids[p]=m}return i},parse0:function(n,t,r){var i=Ze.B;t+=2;var s=i.readUshort(n,t);t+=2,i.readUshort(n,t),t+=2,r.map=[];for(var o=0;o<s-6;o++)r.map.push(n[t+o]);return r},parse4:function(n,t,r){var i=Ze.B,s=i.readUshort,o=i.readUshorts,a=t;t+=2;var l=s(n,t);t+=2,s(n,t),t+=2;var u=s(n,t);t+=2;var h=u>>>1;r.searchRange=s(n,t),t+=2,r.entrySelector=s(n,t),t+=2,r.rangeShift=s(n,t),t+=2,r.endCount=o(n,t,h),t+=h*2,t+=2,r.startCount=o(n,t,h),t+=h*2,r.idDelta=[];for(var c=0;c<h;c++)r.idDelta.push(i.readShort(n,t)),t+=2;return r.idRangeOffset=o(n,t,h),t+=h*2,r.glyphIdArray=o(n,t,a+l-t>>1),r},parse6:function(n,t,r){var i=Ze.B;t+=2,i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2,r.firstCode=i.readUshort(n,t),t+=2;var s=i.readUshort(n,t);t+=2,r.glyphIdArray=[];for(var o=0;o<s;o++)r.glyphIdArray.push(i.readUshort(n,t)),t+=2;return r},parse12:function(n,t,r){var i=Ze.B,s=i.readUint;t+=4,s(n,t),t+=4,s(n,t),t+=4;var o=s(n,t)*3;t+=4;for(var a=r.groups=new Uint32Array(o),l=0;l<o;l+=3)a[l]=s(n,t+(l<<2)),a[l+1]=s(n,t+(l<<2)+4),a[l+2]=s(n,t+(l<<2)+8);return r}};Ze.T.CBLC={parseTab:function(n,t,r){var i=Ze.B,s=t;i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2;var o=i.readUint(n,t);t+=4;for(var a=[],l=0;l<o;l++){var u=i.readUint(n,t);t+=4,i.readUint(n,t),t+=4,i.readUint(n,t),t+=4,t+=4,t+=24,i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2,t+=4;for(var h=s+u,c=0;c<3;c++){var f=i.readUshort(n,h);h+=2;var d=i.readUshort(n,h);h+=2;var p=i.readUint(n,h);h+=4;var m=d-f+1,g=s+u+p,v=i.readUshort(n,g);if(g+=2,v!=1)throw v;var S=i.readUshort(n,g);g+=2;var y=i.readUint(n,g);g+=4;for(var x=[],b=0;b<m;b++){var w=i.readUint(n,g+b*4);x.push(y+w)}a.push([f,d,S,x])}}return a}};Ze.T.CBDT={parseTab:function(n,t,r){return Ze.B,new Uint8Array(n.buffer,n.byteOffset+t,r)}};Ze.T.glyf={parseTab:function(n,t,r,i){for(var s=[],o=i.maxp.numGlyphs,a=0;a<o;a++)s.push(null);return s},_parseGlyf:function(n,t){var r=Ze.B,i=n._data,s=n.loca;if(s[t]==s[t+1])return null;var o=Ze.findTable(i,"glyf",n._offset)[0]+s[t],a={};if(a.noc=r.readShort(i,o),o+=2,a.xMin=r.readShort(i,o),o+=2,a.yMin=r.readShort(i,o),o+=2,a.xMax=r.readShort(i,o),o+=2,a.yMax=r.readShort(i,o),o+=2,a.xMin>=a.xMax||a.yMin>=a.yMax)return null;if(a.noc>0){a.endPts=[];for(var l=0;l<a.noc;l++)a.endPts.push(r.readUshort(i,o)),o+=2;var u=r.readUshort(i,o);if(o+=2,i.length-o<u)return null;a.instructions=r.readBytes(i,o,u),o+=u;var h=a.endPts[a.noc-1]+1;a.flags=[];for(var l=0;l<h;l++){var c=i[o];if(o++,a.flags.push(c),(c&8)!=0){var f=i[o];o++;for(var d=0;d<f;d++)a.flags.push(c),l++}}a.xs=[];for(var l=0;l<h;l++){var p=(a.flags[l]&2)!=0,m=(a.flags[l]&16)!=0;p?(a.xs.push(m?i[o]:-i[o]),o++):m?a.xs.push(0):(a.xs.push(r.readShort(i,o)),o+=2)}a.ys=[];for(var l=0;l<h;l++){var p=(a.flags[l]&4)!=0,m=(a.flags[l]&32)!=0;p?(a.ys.push(m?i[o]:-i[o]),o++):m?a.ys.push(0):(a.ys.push(r.readShort(i,o)),o+=2)}for(var g=0,v=0,l=0;l<h;l++)g+=a.xs[l],v+=a.ys[l],a.xs[l]=g,a.ys[l]=v}else{var S=1,y=2,x=8,b=32,w=64,E=128,_=256;a.parts=[];var T;do{T=r.readUshort(i,o),o+=2;var C={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(a.parts.push(C),C.glyphIndex=r.readUshort(i,o),o+=2,T&S){var F=r.readShort(i,o);o+=2;var k=r.readShort(i,o);o+=2}else{var F=r.readInt8(i,o);o++;var k=r.readInt8(i,o);o++}T&y?(C.m.tx=F,C.m.ty=k):(C.p1=F,C.p2=k),T&x?(C.m.a=C.m.d=r.readF2dot14(i,o),o+=2):T&w?(C.m.a=r.readF2dot14(i,o),o+=2,C.m.d=r.readF2dot14(i,o),o+=2):T&E&&(C.m.a=r.readF2dot14(i,o),o+=2,C.m.b=r.readF2dot14(i,o),o+=2,C.m.c=r.readF2dot14(i,o),o+=2,C.m.d=r.readF2dot14(i,o),o+=2)}while(T&b);if(T&_){var D=r.readUshort(i,o);o+=2,a.instr=[];for(var l=0;l<D;l++)a.instr.push(i[o]),o++}}return a}};Ze.T.head={parseTab:function(n,t,r){var i=Ze.B,s={};return i.readFixed(n,t),t+=4,s.fontRevision=i.readFixed(n,t),t+=4,i.readUint(n,t),t+=4,i.readUint(n,t),t+=4,s.flags=i.readUshort(n,t),t+=2,s.unitsPerEm=i.readUshort(n,t),t+=2,s.created=i.readUint64(n,t),t+=8,s.modified=i.readUint64(n,t),t+=8,s.xMin=i.readShort(n,t),t+=2,s.yMin=i.readShort(n,t),t+=2,s.xMax=i.readShort(n,t),t+=2,s.yMax=i.readShort(n,t),t+=2,s.macStyle=i.readUshort(n,t),t+=2,s.lowestRecPPEM=i.readUshort(n,t),t+=2,s.fontDirectionHint=i.readShort(n,t),t+=2,s.indexToLocFormat=i.readShort(n,t),t+=2,s.glyphDataFormat=i.readShort(n,t),t+=2,s}};Ze.T.hhea={parseTab:function(n,t,r){var i=Ze.B,s={};i.readFixed(n,t),t+=4;for(var o=["ascender","descender","lineGap","advanceWidthMax","minLeftSideBearing","minRightSideBearing","xMaxExtent","caretSlopeRise","caretSlopeRun","caretOffset","res0","res1","res2","res3","metricDataFormat","numberOfHMetrics"],a=0;a<o.length;a++){var l=o[a],u=l=="advanceWidthMax"||l=="numberOfHMetrics"?i.readUshort:i.readShort;s[l]=u(n,t+a*2)}return s}};Ze.T.hmtx={parseTab:function(n,t,r,i){for(var s=Ze.B,o=[],a=[],l=i.maxp.numGlyphs,u=i.hhea.numberOfHMetrics,h=0,c=0,f=0;f<u;)h=s.readUshort(n,t+(f<<2)),c=s.readShort(n,t+(f<<2)+2),o.push(h),a.push(c),f++;for(;f<l;)o.push(h),a.push(c),f++;return{aWidth:o,lsBearing:a}}};Ze.T.kern={parseTab:function(n,t,r,i){var s=Ze.B,o=Ze.T.kern,a=s.readUshort(n,t);if(a==1)return o.parseV1(n,t,r,i);var l=s.readUshort(n,t+2);t+=4;for(var u={glyph1:[],rval:[]},h=0;h<l;h++){t+=2;var r=s.readUshort(n,t);t+=2;var c=s.readUshort(n,t);t+=2;var f=c>>>8;f&=15,f==0&&(t=o.readFormat0(n,t,u))}return u},parseV1:function(n,t,r,i){var s=Ze.B,o=Ze.T.kern;s.readFixed(n,t);var a=s.readUint(n,t+4);t+=8;for(var l={glyph1:[],rval:[]},u=0;u<a;u++){s.readUint(n,t),t+=4;var h=s.readUshort(n,t);t+=2,s.readUshort(n,t),t+=2;var c=h&255;c==0&&(t=o.readFormat0(n,t,l))}return l},readFormat0:function(n,t,r){var i=Ze.B,s=i.readUshort,o=-1,a=s(n,t);s(n,t+2),s(n,t+4),s(n,t+6),t+=8;for(var l=0;l<a;l++){var u=s(n,t);t+=2;var h=s(n,t);t+=2;var c=i.readShort(n,t);t+=2,u!=o&&(r.glyph1.push(u),r.rval.push({glyph2:[],vals:[]}));var f=r.rval[r.rval.length-1];f.glyph2.push(h),f.vals.push(c),o=u}return t}};Ze.T.loca={parseTab:function(n,t,r,i){var s=Ze.B,o=[],a=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(a==0)for(var u=0;u<l;u++)o.push(s.readUshort(n,t+(u<<1))<<1);if(a==1)for(var u=0;u<l;u++)o.push(s.readUint(n,t+(u<<2)));return o}};Ze.T.maxp={parseTab:function(n,t,r){var i=Ze.B,s=i.readUshort,o={};return i.readUint(n,t),t+=4,o.numGlyphs=s(n,t),t+=2,o}};Ze.T.name={parseTab:function(n,t,r){var i=Ze.B,s={};i.readUshort(n,t),t+=2;var o=i.readUshort(n,t);t+=2;var a=i.readUshort(n,t);t+=2;for(var l=t-6+a,u=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=i.readUshort,c=0;c<o;c++){var f=h(n,t);t+=2;var d=h(n,t);t+=2;var p=h(n,t);t+=2;var m=h(n,t);t+=2;var g=h(n,t);t+=2;var v=h(n,t);t+=2;var S=l+v,y;f==0||f==3&&d==0||f==1&&d==25?y=i.readUnicode(n,S,g/2):d==0?y=i.readASCII(n,S,g):d==1||d==3||d==4||d==5||d==10?y=i.readUnicode(n,S,g/2):f==1?(y=i.readASCII(n,S,g),console.log("reading unknown MAC encoding "+d+" as ASCII")):(console.log("unknown encoding "+d+", platformID: "+f),y=i.readASCII(n,S,g));var x="p"+f+","+p.toString(16);s[x]==null&&(s[x]={});var b=u[m];b==null&&(b="_"+m),s[x][b]=y,s[x]._lang=p}var w=Ze.T.name.selectOne(s),E="fontFamily";if(w[E]==null)for(var _ in s)s[_][E]!=null&&(w[E]=s[_][E]);return w},selectOne:function(n){var t="postScriptName";for(var r in n)if(n[r][t]!=null&&n[r]._lang==1033)return n[r];for(var r in n)if(n[r][t]!=null&&n[r]._lang==0)return n[r];for(var r in n)if(n[r][t]!=null&&n[r]._lang==3084)return n[r];for(var r in n)if(n[r][t]!=null)return n[r];var i;for(var r in n){i=n[r];break}return console.log("returning name table with languageID "+i._lang),i[t]==null&&i.ID!=null&&(i[t]=i.ID),i}};Ze.T.OS2={parseTab:function(n,t,r){var i=Ze.B,s=i.readUshort(n,t);t+=2;var o=Ze.T.OS2,a={};if(s==0)o.version0(n,t,a);else if(s==1)o.version1(n,t,a);else if(s==2||s==3||s==4)o.version2(n,t,a);else if(s==5)o.version5(n,t,a);else throw"unknown OS/2 table version: "+s;return a},version0:function(n,t,r){var i=Ze.B;return r.xAvgCharWidth=i.readShort(n,t),t+=2,r.usWeightClass=i.readUshort(n,t),t+=2,r.usWidthClass=i.readUshort(n,t),t+=2,r.fsType=i.readUshort(n,t),t+=2,r.ySubscriptXSize=i.readShort(n,t),t+=2,r.ySubscriptYSize=i.readShort(n,t),t+=2,r.ySubscriptXOffset=i.readShort(n,t),t+=2,r.ySubscriptYOffset=i.readShort(n,t),t+=2,r.ySuperscriptXSize=i.readShort(n,t),t+=2,r.ySuperscriptYSize=i.readShort(n,t),t+=2,r.ySuperscriptXOffset=i.readShort(n,t),t+=2,r.ySuperscriptYOffset=i.readShort(n,t),t+=2,r.yStrikeoutSize=i.readShort(n,t),t+=2,r.yStrikeoutPosition=i.readShort(n,t),t+=2,r.sFamilyClass=i.readShort(n,t),t+=2,r.panose=i.readBytes(n,t,10),t+=10,r.ulUnicodeRange1=i.readUint(n,t),t+=4,r.ulUnicodeRange2=i.readUint(n,t),t+=4,r.ulUnicodeRange3=i.readUint(n,t),t+=4,r.ulUnicodeRange4=i.readUint(n,t),t+=4,r.achVendID=i.readASCII(n,t,4),t+=4,r.fsSelection=i.readUshort(n,t),t+=2,r.usFirstCharIndex=i.readUshort(n,t),t+=2,r.usLastCharIndex=i.readUshort(n,t),t+=2,r.sTypoAscender=i.readShort(n,t),t+=2,r.sTypoDescender=i.readShort(n,t),t+=2,r.sTypoLineGap=i.readShort(n,t),t+=2,r.usWinAscent=i.readUshort(n,t),t+=2,r.usWinDescent=i.readUshort(n,t),t+=2,t},version1:function(n,t,r){var i=Ze.B;return t=Ze.T.OS2.version0(n,t,r),r.ulCodePageRange1=i.readUint(n,t),t+=4,r.ulCodePageRange2=i.readUint(n,t),t+=4,t},version2:function(n,t,r){var i=Ze.B,s=i.readUshort;return t=Ze.T.OS2.version1(n,t,r),r.sxHeight=i.readShort(n,t),t+=2,r.sCapHeight=i.readShort(n,t),t+=2,r.usDefault=s(n,t),t+=2,r.usBreak=s(n,t),t+=2,r.usMaxContext=s(n,t),t+=2,t},version5:function(n,t,r){var i=Ze.B.readUshort;return t=Ze.T.OS2.version2(n,t,r),r.usLowerOpticalPointSize=i(n,t),t+=2,r.usUpperOpticalPointSize=i(n,t),t+=2,t}};Ze.T.post={parseTab:function(n,t,r){var i=Ze.B,s={};return s.version=i.readFixed(n,t),t+=4,s.italicAngle=i.readFixed(n,t),t+=4,s.underlinePosition=i.readShort(n,t),t+=2,s.underlineThickness=i.readShort(n,t),t+=2,s}};Ze.T.SVG={parseTab:function(n,t,r){var i=Ze.B,s={entries:[],svgs:[]},o=t;i.readUshort(n,t),t+=2;var a=i.readUint(n,t);t+=4,i.readUint(n,t),t+=4,t=a+o;var l=i.readUshort(n,t);t+=2;for(var u=0;u<l;u++){var h=i.readUshort(n,t);t+=2;var c=i.readUshort(n,t);t+=2;var f=i.readUint(n,t);t+=4;var d=i.readUint(n,t);t+=4;var p=new Uint8Array(n.buffer,o+f+a,d);p[0]==31&&p[1]==139&&p[2]==8&&(p=EM.inflate(p));for(var m=i.readUTF8(p,0,p.length),g=h;g<=c;g++)s.entries[g]=s.svgs.length;s.svgs.push(m)}return s}};Ze.T.sbix={parseTab:function(n,t,r,i){for(var s=i.maxp.numGlyphs,o=t,a=Ze.B,l=a.readUint(n,t+4),u=[],h=l-1;h<l;h++)for(var c=o+a.readUint(n,t+8+h*4),f=0;f<s;f++){var d=a.readUint(n,c+4+f*4),p=a.readUint(n,c+4+f*4+4);if(d==p){u[f]=null;continue}var m=c+d,g=a.readASCII(n,m+4,4);if(g!="png ")throw g;u[f]=new Uint8Array(n.buffer,n.byteOffset+m+8,p-d-8)}return u}};Ze.T.colr={parseTab:function(n,t,r){var i=Ze.B,s=t;t+=2;var o=i.readUshort(n,t);t+=2;var a=i.readUint(n,t);t+=4;var l=i.readUint(n,t);t+=4;var u=i.readUshort(n,t);t+=2;for(var h={},c=s+a,f=0;f<o;f++)h["g"+i.readUshort(n,c)]=[i.readUshort(n,c+2),i.readUshort(n,c+4)],c+=6;var d=[];c=s+l;for(var f=0;f<u;f++)d.push(i.readUshort(n,c),i.readUshort(n,c+2)),c+=4;return[h,d]}};Ze.T.cpal={parseTab:function(n,t,r){var i=Ze.B,s=t,o=i.readUshort(n,t);if(t+=2,o==0){i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2;var a=i.readUshort(n,t);t+=2;var l=i.readUint(n,t);return t+=4,new Uint8Array(n.buffer,s+l,a*4)}else throw o}};Ze.T.GSUB={parseTab:function(n,t,r,i){var s=Ze.B,o=s.readUshort;s.readUint;var a=t;o(n,a),a+=2,o(n,a),a+=2,o(n,a),a+=2;var l=o(n,a);a+=2,o(n,a),a+=2,a=t+l;var u={},h=o(n,a);a+=2;for(var c=0;c<h;c++){var f=s.readASCII(n,a,4);a+=4,o(n,a),a+=2,u[f]=!0}return u}};Ze.T.fvar={parseTab:function(n,t,r,i){var s=i.name,o=t,a=Ze.B,l=[],u=[];o+=8;var h=a.readUshort(n,o);o+=2,o+=2;var c=a.readUshort(n,o);o+=2;var f=a.readUshort(n,o);o+=2;for(var d=0;d<h;d++){var p=a.readASCII(n,o,4),m=a.readFixed(n,o+4),g=a.readFixed(n,o+8),v=a.readFixed(n,o+12),S=a.readUshort(n,o+16),y=a.readUshort(n,o+18);l.push([p,m,g,v,S,s["_"+y]]),o+=20}for(var d=0;d<c;d++){for(var x=a.readUshort(n,o),b=null,S=a.readUshort(n,o+2),w=[],E=0;E<h;E++)w.push(a.readFixed(n,o+4+E*4));o+=4+h*4,(f&3)==2&&(b=a.readUshort(n,o),o+=2),u.push([s["_"+x],S,w,b])}return[l,u]}};Ze.T.gvar=(function(){var n=32768,t=16384,r=8192,i=128,s=64,o=128,a=32768,l=Ze.B;function u(d,p,m){for(var g=[],v=0;v<m;v++)g.push(l.readF2dot14(d,p+v*2));return g}function h(d,p,m,g,v){for(var S=[],y=0;y<m;y++){var x=l.readUshort(d,p);p+=2;var b=l.readUshort(d,p),w=b&61440;b=b&4095,p+=2;var E=null,_=null,T=null;w&n&&(E=u(d,p,g),p+=g*2),w&t&&(_=u(d,p,g),p+=g*2),w&t&&(T=u(d,p,g),p+=g*2),S.push([x,b,w,_,E,T])}return S}function c(d,p,m){var g=d[p];if(p++,g==0)return[[],p];127<g&&(g=(g&127)<<8|d[p++]);for(var v=[],S=0;v.length<g;){var y=d[p];p++;var x=(y&o)!=0;y=(y&127)+1;for(var b=0;b<y;b++){var w=0;x?(w=l.readUshort(d,p),p+=2):(w=d[p],p++),S+=w,v.push(S)}}return[v,p]}function f(d,p,m,g){var v=p+4,S=l.readUshort(d,v);v+=2;var y=l.readUshort(d,v);v+=2;var x=l.readUint(d,v);v+=4;var b=l.readUshort(d,v);v+=2,l.readUshort(d,v),v+=2;var w=l.readUint(d,v);v+=4;for(var E=[],_=0;_<b+1;_++)E.push(l.readUint(d,v+_*4));var T=[],C=[],F=[];v=p+x;for(var _=0;_<y;_++){var k=u(d,v+_*S*2,S),D=[],N=[];T.push(k),C.push(D),F.push(N);for(var M=0;M<S;M++)D[M]=Math.min(k[M],0),N[M]=Math.max(k[M],0)}for(var U=new Int8Array(d.buffer),R=[],_=0;_<b;_++){v=p+w+E[_];var W=l.readUshort(d,v);v+=2;var ne=W&a;W&=4095;var ge=l.readUshort(d,v);v+=2;var te=h(d,v,W,S),J=[];R.push(J),v=p+w+E[_]+ge;var ae=null;if(ne){var xe=c(d,v);ae=xe[0],v=xe[1]}for(var Z=0;Z<W;Z++){var G=te[Z],ye=v+G[0],Q=ae;if(G[2]&r){var xe=c(d,v);Q=xe[0],v=xe[1]}for(var pe=[];v<ye;){var $=d[v++],re=($&63)+1;if($&i)for(var M=0;M<re;M++)pe.push(0);else if($&s){for(var M=0;M<re;M++)pe.push(l.readShort(d,v+M*2));v+=re*2}else{for(var M=0;M<re;M++)pe.push(U[v+M]);v+=re}}var be=G[1];if(J.push([[G[3]?G[3]:C[be],G[4]?G[4]:T[be],G[5]?G[5]:F[be]],pe,Q.length==0?null:Q]),Q.length!=0&&Q.length*2!=pe.length)throw"e"}}return R}return{parseTab:f}})();Ze.T.avar={parseTab:function(n,t,r,i){var s=t,o=Ze.B,a=[];s+=6;var l=o.readUshort(n,s);s+=2;for(var u=0;u<l;u++){var h=o.readUshort(n,s);s+=2;var c=[];a.push(c);for(var f=0;f<h;f++){var d=o.readF2dot14(n,s),p=o.readF2dot14(n,s+2);s+=4,c.push(d,p)}}return a}};Ze.T.HVAR={parseTab:function(n,t,r,i){var s=t,o=t,a=Ze.B;s+=4;var l=a.readUint(n,s);s+=4;var u=a.readUint(n,s);s+=4;var h=a.readUint(n,s);s+=4;var c=a.readUint(n,s);if(s+=4,h!=0||c!=0)throw h;s=o+l;var f=s,U=a.readUshort(n,s);if(s+=2,U!=1)throw"e";var d=a.readUint(n,s);s+=4;var p=a.readUshort(n,s);s+=2;for(var m=[],g=0;g<p;g++)m.push(a.readUint(n,s+g*4));s+=p*4,s=f+d;var v=a.readUshort(n,s);s+=2;var S=a.readUshort(n,s);s+=2;for(var y=[],g=0;g<S;g++){var x=[[],[],[]];y.push(x);for(var b=0;b<v;b++)x[0].push(a.readF2dot14(n,s+0)),x[1].push(a.readF2dot14(n,s+2)),x[2].push(a.readF2dot14(n,s+4)),s+=6}for(var w=new Int8Array(n.buffer),E=[],g=0;g<m.length;g++){s=o+l+m[g];var _=[];E.push(_);var T=a.readUshort(n,s);s+=2;var C=a.readUshort(n,s);if(s+=2,C&32768)throw"e";var S=a.readUshort(n,s);s+=2;for(var F=[],b=0;b<S;b++)F.push(a.readUshort(n,s+b*2));s+=S*2;for(var k=0;k<T;k++){for(var D=[],N=0;N<S;N++)D.push(N<C?a.readShort(n,s):w[s]),s+=N<C?2:1;var M=new Array(y.length);M.fill(0),_.push(M);for(var b=0;b<F.length;b++)M[F[b]]=D[b]}}s=o+u;var U=n[s++];if(U!=0)throw"e";var R=n[s++],W=a.readUshort(n,s);s+=2;for(var ne=15,ge=48,te=((R&ge)>>4)+1,J=[],g=0;g<W;g++){var ae=0;te==1?ae=n[s++]:(ae=a.readUshort(n,s),s+=2);var xe=ae>>(R&ne)+1,Z=ae&(1<<(R&ne)+1)-1;J.push(E[xe][Z])}return[y,J]}};Ze.U=(function(){var n={MoveTo:function(T,C,F){T.cmds.push("M"),T.crds.push(C,F)},LineTo:function(T,C,F){T.cmds.push("L"),T.crds.push(C,F)},CurveTo:function(T,C,F,k,D,N,M){T.cmds.push("C"),T.crds.push(C,F,k,D,N,M)},qCurveTo:function(T,C,F,k,D){T.cmds.push("Q"),T.crds.push(C,F,k,D)},ClosePath:function(T){T.cmds.push("Z")}};function t(T,C,F,k){var D=C[F],N=C[F+1],M=T.kern;if(M){var U=M.glyph1.indexOf(D);if(U!=-1){var R=M.rval[U].glyph2.indexOf(N);if(R!=-1)return[0,0,M.rval[U].vals[R],0]}}return[0,0,0,0]}function r(T,C,F){F==null&&(F={}),F.ltr,F.fts;var k=F.axs;T.fvar&&k==null&&(k=T.fvar[1][T._index][2]);var D=T.HVAR;k&&D&&(k=d(T,k));for(var N=[],M=0;M<C.length;M++){var U=C.codePointAt(M);U>65535&&M++,N.push(u(T,U))}for(var R=[],M=0;M<N.length;M++){var W=t(T,N,M),ne=N[M],ge=T.hmtx.aWidth[ne]+W[2];if(D&&D[1][ne])for(var te=D[1][ne],J=0;J<D[0].length;J++)ge+=f(D[0][J],k)*te[J];R.push({g:ne,cl:M,dx:0,dy:0,ax:ge,ay:0})}return R}function i(T,C,F){var k={cmds:[],crds:[]},D=0,N=0,M,U;F&&(M=F.clr,U=F.axs);for(var R=0;R<C.length;R++){for(var W=C[R],ne=h(T,W.g,!1,U),ge=ne.crds,te=0;te<ge.length;te+=2)k.crds.push(ge[te]+D+W.dx),k.crds.push(ge[te+1]+N+W.dy);M&&k.cmds.push(M);for(var te=0;te<ne.cmds.length;te++)k.cmds.push(ne.cmds[te]);var J=k.cmds.length;M&&J!=0&&k.cmds[J-1]!="X"&&k.cmds.push("X"),D+=W.ax,N+=W.ay}return{cmds:k.cmds,crds:k.crds}}function s(T,C,F){for(var k=0,D=~~(T.length/C);k+1!=D;){var N=k+(D-k>>>1);T[N*C]<=F?k=N:D=N}return k*C}for(var o=[9,10,11,12,13,32,133,160,5760,6158,8232,8233,8239,8288,12288,65279],a={},l=0;l<o.length;l++)a[o[l]]=1;for(var l=8192;l<=8205;l++)a[l]=1;function u(T,C){if(T._ctab==null){for(var F=T.cmap,k=-1,D=["p3e10","p0e4","p3e1","p1e0","p0e3","p0e1","p3e0","p3e5"],N=0;N<D.length;N++)if(F.ids[D[N]]!=null){k=F.ids[D[N]];break}if(k==-1)throw"no familiar platform and encoding!";T._ctab=F.tables[k]}var M=T._ctab,U=M.format,R=-1;if(U==0)C>=M.map.length?R=0:R=M.map[C];else if(U==4){var W=M.endCount;if(R=0,C<=W[W.length-1]){var ne=s(W,1,C);if(W[ne]<C&&ne++,C>=M.startCount[ne]){var ge=0;M.idRangeOffset[ne]!=0?ge=M.glyphIdArray[C-M.startCount[ne]+(M.idRangeOffset[ne]>>1)-(M.idRangeOffset.length-ne)]:ge=C+M.idDelta[ne],R=ge&65535}}}else if(U==6){var te=C-M.firstCode,J=M.glyphIdArray;te<0||te>=J.length?R=0:R=J[te]}else if(U==12){var ae=M.groups;if(R=0,C<=ae[ae.length-2]){var N=s(ae,3,C);ae[N]<=C&&C<=ae[N+1]&&(R=ae[N+2]+(C-ae[N]))}}else throw"unknown cmap table format "+M.format;var xe=T["SVG "],Z=T.loca;return R!=0&&T["CFF "]==null&&(xe==null||xe.entries[R]==null)&&Z&&Z[R]==Z[R+1]&&a[C]==null&&(R=0),R}function h(T,C,F,k){var D={cmds:[],crds:[]};T.fvar&&(k==null&&(k=T.fvar[1][T._index][2]),k=d(T,k));var N=T["SVG "],M=T["CFF "],U=T.COLR,R=T.CBLC,W=T.CBDT,ne=T.sbix,ge=window.UPNG,te=null;if(R&&ge)for(var J=0;J<R.length;J++)R[J][0]<=C&&C<=R[J][1]&&(te=R[J]);if(te||ne&&ne[C]){if(te&&te[2]!=17)throw"not a PNG";T.__tmp==null&&(T.__tmp={});var ae=T.__tmp["g"+C];if(ae==null){var xe,Z;if(ne)xe=ne[C],Z=xe.length;else{var G=te[3][C-te[0]]+5;Z=W[G+1]<<16|W[G+2]<<8|W[G+3],G+=4,xe=new Uint8Array(W.buffer,W.byteOffset+G,Z)}for(var ye="",J=0;J<Z;J++)ye+=String.fromCharCode(xe[J]);ae=T.__tmp["g"+C]="data:image/png;base64,"+btoa(ye)}D.cmds.push(ae);var Q=T.head.unitsPerEm*1.15,pe=Math.round(Q),$=Math.round(Q),re=Math.round(-$*.15);D.crds.push(0,$+re,pe,$+re,pe,re,0,re)}else if(N&&N.entries[C]){var be=N.entries[C];if(be!=null){if(typeof be=="number"){var Se=N.svgs[be];if(typeof Se=="string"){var j=new DOMParser,X=j.parseFromString(Se,"image/svg+xml");Se=N.svgs[be]=X.getElementsByTagName("svg")[0]}be=Ze.U.SVG.toPath(Se,C),N.entries[C]=be}D=be}}else if(F!=!0&&U&&U[0]["g"+C]&&U[0]["g"+C][1]>1){let Qe=function(We){var ft=We.toString(16);return(ft.length==1?"0":"")+ft};for(var Oe=Qe,ee=T.CPAL,Ae=U[0]["g"+C],J=0;J<Ae[1];J++){var we=Ae[0]+J,he=U[1][2*we],me=U[1][2*we+1]*4,_e=h(T,he,he==C),De="#"+Qe(ee[me+2])+Qe(ee[me+1])+Qe(ee[me+0]);D.cmds.push(De),D.cmds=D.cmds.concat(_e.cmds),D.crds=D.crds.concat(_e.crds),D.cmds.push("X")}}else if(M){var Le=M.Private,B={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:Le?Le.defaultWidthX:0,open:!1};if(M.ROS){for(var Ue=0;M.FDSelect[Ue+2]<=C;)Ue+=2;Le=M.FDArray[M.FDSelect[Ue+1]].Private}E(M.CharStrings[C],B,M,Le,D)}else T.glyf&&c(C,T,D,k);return{cmds:D.cmds,crds:D.crds}}function c(T,C,F,k){var D=C.glyf[T];D==null&&(D=C.glyf[T]=Ze.T.glyf._parseGlyf(C,T)),D!=null&&(D.noc>-1?m(D,C,T,F,k):g(D,C,T,F,k))}function f(T,C){C.length;for(var F=1,k=T[0],D=T[1],N=T[2],M=0;M<C.length;M++){var U=1;k[M]>D[M]||D[M]>N[M]||k[M]<0&&N[M]>0&&D[M]!=0||D[M]==0?U=1:C[M]<k[M]||C[M]>N[M]?U=0:C[M]==D[M]?U=1:C[M]<D[M]?U=(C[M]-k[M])/(D[M]-k[M]):U=(N[M]-C[M])/(N[M]-D[M]),F=F*U}return F}function d(T,C){for(var F=T.fvar,k=T.avar,D=F?F[0]:null,N=[],M=0;M<D.length;M++){var U=D[M][1],R=D[M][2],W=D[M][3],ne=Math.max(U,Math.min(W,C[M]));if(ne<R?N[M]=(R-ne)/(U-R):ne>R?N[M]=(ne-R)/(W-R):N[M]=0,k&&N[M]!=-1){for(var ge=k[M],te=0;te<ge.length&&!(ge[te]>=N[M]);te+=2);var J=(N[M]-ge[te-2])/(ge[te]-ge[te-2]);N[M]=J*ge[te+1]+(1-J)*ge[te-1]}}return N}function p(T,C,F,k,D){var N=F.length,M=new Array(N*2+8);M.fill(0);for(var U=0;U<N;U++){var R=0,W=0,ne=C.indexOf(U);if(ne!=-1)R=T[ne],W=T[C.length+ne];else{for(var ge=0;D[ge]<U;)ge++;for(var te=ge==0?0:D[ge-1]+1,J=D[ge],ae=-1,xe=-1,Z=0;Z<C.length;Z++){var G=C[Z];G<te||G>J||G>=N||(ae=Z,xe==-1&&(xe=Z))}for(var Z=0;Z<C.length;Z++){var G=C[Z];if(!(G<te||G>J||G>=N)&&(G<U&&(ae=Z),U<G)){xe=Z;break}}for(var ye=0;ye<2;ye++){var Q=ye==0?F:k,pe=ye*C.length,$=0,re=Q[C[ae]],be=Q[C[xe]],Se=Q[U],j=T[pe+ae],X=T[pe+xe];if(re==be)j==X?$=j:$=0;else if(Se<=Math.min(re,be))re<be?$=j:$=X;else if(Math.max(re,be)<=Se)re<be?$=X:$=j;else{var ee=(Se-re)/(be-re);$=ee*X+(1-ee)*j}ye==0?R=$:W=$}}M[U]=R,M[N+4+U]=W}return M}function m(T,C,F,k,D){var N=T.xs,M=T.ys;if(C.fvar&&D){N=N.slice(0),M=M.slice(0);for(var U=C.gvar,R=U?U[F]:null,W=0;W<R.length;W++){var ne=R[W][0],ge=f(ne,D);if(!(ge<1e-9)){var te=R[W][1],J=R[W][2];if(J&&(te=R[W][1]=p(te,J,N,M,T.endPts),R[W][2]=null),te.length==N.length*2+8)for(var ae=0;ae<N.length;ae++)N[ae]+=ge*te[ae],M[ae]+=ge*te[ae+N.length+4]}}}for(var xe=0;xe<T.noc;xe++){for(var Z=xe==0?0:T.endPts[xe-1]+1,G=T.endPts[xe],ae=Z;ae<=G;ae++){var ye=ae==Z?G:ae-1,Q=ae==G?Z:ae+1,pe=T.flags[ae]&1,$=T.flags[ye]&1,re=T.flags[Q]&1,be=N[ae],Se=M[ae];if(ae==Z)if(pe)if($)n.MoveTo(k,N[ye],M[ye]);else{n.MoveTo(k,be,Se);continue}else $?n.MoveTo(k,N[ye],M[ye]):n.MoveTo(k,Math.floor((N[ye]+be)*.5),Math.floor((M[ye]+Se)*.5));pe?$&&n.LineTo(k,be,Se):re?n.qCurveTo(k,be,Se,N[Q],M[Q]):n.qCurveTo(k,be,Se,Math.floor((be+N[Q])*.5),Math.floor((Se+M[Q])*.5))}n.ClosePath(k)}}function g(T,C,F,k,D){var N=[0,0,0,0,0,0],M=[0,0,0,0,0,0],U=T.parts.length;if(C.fvar&&D)for(var R=C.gvar,W=R?R[F]:null,ne=0;ne<W.length;ne++){var ge=W[ne][0],te=f(ge,D);if(!(te<1e-6)){var J=W[ne][1],ae=W[ne][2];if(ae==null)for(var xe=0;xe<U;xe++)N[xe]+=te*J[xe],M[xe]+=te*J[xe+U+4];else for(var Z=0;Z<ae.length;Z++){var xe=ae[Z];N[xe]+=te*J[0],M[xe]+=te*J[0+U]}}}for(var Z=0;Z<U;Z++){var G={cmds:[],crds:[]},ye=T.parts[Z];c(ye.glyphIndex,C,G,D);for(var Q=ye.m,pe=Q.tx+N[Z],$=Q.ty+M[Z],xe=0;xe<G.crds.length;xe+=2){var re=G.crds[xe],be=G.crds[xe+1];k.crds.push(re*Q.a+be*Q.c+pe),k.crds.push(re*Q.b+be*Q.d+$)}for(var xe=0;xe<G.cmds.length;xe++)k.cmds.push(G.cmds[xe])}}function v(T,C){var F=T.cmds,k=T.crds;C==null&&(C=5);function D(j){return parseFloat(j.toFixed(C))}function N(j){for(var X=[],ee=!1,Ae="",we=0;we<j.length;we++){var he=j[we],me=typeof he=="number";if(!me){if(he==Ae&&he.length==1&&he!="m")continue;Ae=he}ee&&me&&he>=0&&X.push(" "),X.push(he),ee=me}return X.join("")}for(var M=[],U=0,R={M:2,L:2,Q:4,C:6},W=0,ne=0,ge=0,te=0,J=0,ae=0,xe=0;xe<F.length;xe++){var Z=F[xe],G=R[Z]?R[Z]:0,ye=[],Q,pe,$,re;if(Z=="L")Q=k[U]-W,pe=k[U+1]-ne,$=D(Q+ge),re=D(pe+te),F[xe+1]=="Z"&&k[U]==J&&k[U+1]==ae?($=Q,re=pe):$==0&&re==0||($==0?ye.push("v",re):re==0?ye.push("h",$):ye.push("l",$,re));else{ye.push(Z.toLowerCase());for(var be=0;be<G;be+=2)Q=k[U+be]-W,pe=k[U+be+1]-ne,$=D(Q+ge),re=D(pe+te),ye.push($,re)}G!=0&&(ge+=Q-$,te+=pe-re);for(var Se=ye,be=0;be<Se.length;be++)M.push(Se[be]);G!=0&&(U+=G,W=k[U-2],ne=k[U-1]),Z=="M"&&(J=W,ae=ne),Z=="Z"&&(W=J,ne=ae)}return N(M)}function S(T){var C={cmds:[],crds:[]};return Ze.U.SVG.svgToPath(T,C),{cmds:C.cmds,crds:C.crds}}function y(T,C,F,k){for(var D=C>>1,N=F>>1,M=new Uint8Array(D*N*4),U=new Uint32Array(T.buffer),R=new Uint32Array(M.buffer),W=0;W<N;W++)for(var ne=0;ne<D;ne++){var ge=W*D+ne,te=(W<<1)*C+(ne<<1),J=U[te],ae=U[te+1],xe=U[te+C],Z=U[te+C+1],G=J>>>24,ye=ae>>>24,Q=xe>>>24,pe=Z>>>24,$=G+ye+Q+pe;if($==1020){var re=(J>>>0&255)+(ae>>>0&255)+(xe>>>0&255)+(Z>>>0&255)+2>>>2,be=(J>>>8&255)+(ae>>>8&255)+(xe>>>8&255)+(Z>>>8&255)+2>>>2,Se=(J>>>16&255)+(ae>>>16&255)+(xe>>>16&255)+(Z>>>16&255)+2>>>2;R[ge]=255<<24|Se<<16|be<<8|re}else if($==0)R[ge]=0;else{var re=(J>>>0&255)*G+(ae>>>0&255)*ye+(xe>>>0&255)*Q+(Z>>>0&255)*pe,be=(J>>>8&255)*G+(ae>>>8&255)*ye+(xe>>>8&255)*Q+(Z>>>8&255)*pe,Se=(J>>>16&255)*G+(ae>>>16&255)*ye+(xe>>>16&255)*Q+(Z>>>16&255)*pe,j=1/$;re=~~(re*j+.5),be=~~(be*j+.5),Se=~~(Se*j+.5),R[ge]=$+2>>>2<<24|Se<<16|be<<8|re}}return{buff:M,w:D,h:N}}var x,b;function w(T,C){for(var F=0,k=T.cmds,D=T.crds,N=0;N<k.length;N++){var M=k[N];if(M=="M")C.moveTo(D[F],D[F+1]),F+=2;else if(M=="L")C.lineTo(D[F],D[F+1]),F+=2;else if(M=="C")C.bezierCurveTo(D[F],D[F+1],D[F+2],D[F+3],D[F+4],D[F+5]),F+=6;else if(M=="Q")C.quadraticCurveTo(D[F],D[F+1],D[F+2],D[F+3]),F+=4;else if(M[0]=="d"){var U=window.UPNG,R=D[F],W=D[F+1],ne=D[F+2],ge=D[F+3],te=D[F+4],J=D[F+5],ae=D[F+6],xe=D[F+7];if(F+=8,U==null){C.moveTo(R,W),C.lineTo(ne,ge),C.lineTo(te,J),C.lineTo(ae,xe),C.closePath();continue}for(var Z=ne-R,G=ge-W,ye=ae-R,Q=xe-W,pe=atob(M.slice(22)),$=new Uint8Array(pe.length),re=0;re<pe.length;re++)$[re]=pe.charCodeAt(re);for(var be=U.decode($.buffer),Se=be.width,j=be.height,X=new Uint8Array(U.toRGBA8(be)[0]),ee=C.getTransform(),Ae=Math.sqrt(Math.abs(ee.a*ee.d-ee.b*ee.c))*Math.sqrt(ye*ye+Q*Q)/j;Ae<.5;){var we=y(X,Se,j);X=we.buff,Se=we.w,j=we.h,Ae*=2}x==null&&(x=document.createElement("canvas"),b=x.getContext("2d")),(x.width!=Se||x.height!=j)&&(x.width=Se,x.height=j),b.putImageData(new ImageData(new Uint8ClampedArray(X.buffer),Se,j),0,0),C.save(),C.transform(Z,G,ye,Q,R,W),C.scale(1/Se,1/j),C.drawImage(x,0,0),C.restore()}else if(M.charAt(0)=="#"||M.charAt(0)=="r")C.beginPath(),C.fillStyle=M;else if(M.charAt(0)=="O"&&M!="OX"){C.beginPath();var he=M.split("-");C.lineWidth=parseFloat(he[2]),C.lineCap=["butt","round","square"][parseFloat(he[3])],C.lineJoin=["miter","round","bevel"][parseFloat(he[4])],C.miterLimit=parseFloat(he[5]),C.lineDashOffset=parseFloat(he[6]),C.setLineDash(he[7].split(",").map(parseFloat)),C.strokeStyle=he[1]}else M=="Z"?C.closePath():M=="X"?C.fill():M=="OX"&&C.stroke()}}function E(T,C,F,k,D){for(var N=C.stack,M=C.nStems,U=C.haveWidth,R=C.width,W=C.open,ne=0,ge=C.x,te=C.y,J=0,ae=0,xe=0,Z=0,G=0,ye=0,Q=0,pe=0,$=0,re=0,be=Ze.T.CFF,Se=k.nominalWidthX,j={val:0,size:0};ne<T.length;){be.getCharString(T,ne,j);var X=j.val;if(ne+=j.size,X=="o1"||X=="o18"){var ee;ee=N.length%2!==0,ee&&!U&&(R=N.shift()+Se),M+=N.length>>1,N.length=0,U=!0}else if(X=="o3"||X=="o23"){var ee;ee=N.length%2!==0,ee&&!U&&(R=N.shift()+Se),M+=N.length>>1,N.length=0,U=!0}else if(X=="o4")N.length>1&&!U&&(R=N.shift()+Se,U=!0),W&&n.ClosePath(D),te+=N.pop(),n.MoveTo(D,ge,te),W=!0;else if(X=="o5")for(;N.length>0;)ge+=N.shift(),te+=N.shift(),n.LineTo(D,ge,te);else if(X=="o6"||X=="o7")for(var Ae=N.length,we=X=="o6",he=0;he<Ae;he++){var me=N.shift();we?ge+=me:te+=me,we=!we,n.LineTo(D,ge,te)}else if(X=="o8"||X=="o24"){for(var Ae=N.length,_e=0;_e+6<=Ae;)J=ge+N.shift(),ae=te+N.shift(),xe=J+N.shift(),Z=ae+N.shift(),ge=xe+N.shift(),te=Z+N.shift(),n.CurveTo(D,J,ae,xe,Z,ge,te),_e+=6;X=="o24"&&(ge+=N.shift(),te+=N.shift(),n.LineTo(D,ge,te))}else{if(X=="o11")break;if(X=="o1234"||X=="o1235"||X=="o1236"||X=="o1237")X=="o1234"&&(J=ge+N.shift(),ae=te,xe=J+N.shift(),Z=ae+N.shift(),$=xe+N.shift(),re=Z,G=$+N.shift(),ye=Z,Q=G+N.shift(),pe=te,ge=Q+N.shift(),n.CurveTo(D,J,ae,xe,Z,$,re),n.CurveTo(D,G,ye,Q,pe,ge,te)),X=="o1235"&&(J=ge+N.shift(),ae=te+N.shift(),xe=J+N.shift(),Z=ae+N.shift(),$=xe+N.shift(),re=Z+N.shift(),G=$+N.shift(),ye=re+N.shift(),Q=G+N.shift(),pe=ye+N.shift(),ge=Q+N.shift(),te=pe+N.shift(),N.shift(),n.CurveTo(D,J,ae,xe,Z,$,re),n.CurveTo(D,G,ye,Q,pe,ge,te)),X=="o1236"&&(J=ge+N.shift(),ae=te+N.shift(),xe=J+N.shift(),Z=ae+N.shift(),$=xe+N.shift(),re=Z,G=$+N.shift(),ye=Z,Q=G+N.shift(),pe=ye+N.shift(),ge=Q+N.shift(),n.CurveTo(D,J,ae,xe,Z,$,re),n.CurveTo(D,G,ye,Q,pe,ge,te)),X=="o1237"&&(J=ge+N.shift(),ae=te+N.shift(),xe=J+N.shift(),Z=ae+N.shift(),$=xe+N.shift(),re=Z+N.shift(),G=$+N.shift(),ye=re+N.shift(),Q=G+N.shift(),pe=ye+N.shift(),Math.abs(Q-ge)>Math.abs(pe-te)?ge=Q+N.shift():te=pe+N.shift(),n.CurveTo(D,J,ae,xe,Z,$,re),n.CurveTo(D,G,ye,Q,pe,ge,te));else if(X=="o14"){if(N.length>0&&N.length!=4&&!U&&(R=N.shift()+F.nominalWidthX,U=!0),N.length==4){var De=N.shift(),Le=N.shift(),B=N.shift(),Ue=N.shift(),Oe=be.glyphBySE(F,B),Qe=be.glyphBySE(F,Ue);E(F.CharStrings[Oe],C,F,k,D),C.x=De,C.y=Le,E(F.CharStrings[Qe],C,F,k,D)}W&&(n.ClosePath(D),W=!1)}else if(X=="o19"||X=="o20"){var ee;ee=N.length%2!==0,ee&&!U&&(R=N.shift()+Se),M+=N.length>>1,N.length=0,U=!0,ne+=M+7>>3}else if(X=="o21")N.length>2&&!U&&(R=N.shift()+Se,U=!0),te+=N.pop(),ge+=N.pop(),W&&n.ClosePath(D),n.MoveTo(D,ge,te),W=!0;else if(X=="o22")N.length>1&&!U&&(R=N.shift()+Se,U=!0),ge+=N.pop(),W&&n.ClosePath(D),n.MoveTo(D,ge,te),W=!0;else if(X=="o25"){for(;N.length>6;)ge+=N.shift(),te+=N.shift(),n.LineTo(D,ge,te);J=ge+N.shift(),ae=te+N.shift(),xe=J+N.shift(),Z=ae+N.shift(),ge=xe+N.shift(),te=Z+N.shift(),n.CurveTo(D,J,ae,xe,Z,ge,te)}else if(X=="o26")for(N.length%2&&(ge+=N.shift());N.length>0;)J=ge,ae=te+N.shift(),xe=J+N.shift(),Z=ae+N.shift(),ge=xe,te=Z+N.shift(),n.CurveTo(D,J,ae,xe,Z,ge,te);else if(X=="o27")for(N.length%2&&(te+=N.shift());N.length>0;)J=ge+N.shift(),ae=te,xe=J+N.shift(),Z=ae+N.shift(),ge=xe+N.shift(),te=Z,n.CurveTo(D,J,ae,xe,Z,ge,te);else if(X=="o10"||X=="o29"){var We=X=="o10"?k:F;if(N.length==0)console.log("error: empty stack");else{var ft=N.pop(),Ce=We.Subrs[ft+We.Bias];C.x=ge,C.y=te,C.nStems=M,C.haveWidth=U,C.width=R,C.open=W,E(Ce,C,F,k,D),ge=C.x,te=C.y,M=C.nStems,U=C.haveWidth,R=C.width,W=C.open}}else if(X=="o30"||X=="o31"){var Ae,Fe=N.length,_e=0,Pe=X=="o31";for(Ae=Fe&-3,_e+=Fe-Ae;_e<Ae;)Pe?(J=ge+N.shift(),ae=te,xe=J+N.shift(),Z=ae+N.shift(),te=Z+N.shift(),Ae-_e==5?(ge=xe+N.shift(),_e++):ge=xe,Pe=!1):(J=ge,ae=te+N.shift(),xe=J+N.shift(),Z=ae+N.shift(),ge=xe+N.shift(),Ae-_e==5?(te=Z+N.shift(),_e++):te=Z,Pe=!0),n.CurveTo(D,J,ae,xe,Z,ge,te),_e+=4}else{if((X+"").charAt(0)=="o")throw console.log("Unknown operation: "+X,T),X;N.push(X)}}}C.x=ge,C.y=te,C.nStems=M,C.haveWidth=U,C.width=R,C.open=W}function _(T,C){var F=function(k){var D=0;return(k&4294967168)==0?D=1:(k&4294965248)==0?D=2:(k&4294901760)==0?D=3:(k&4292870144)==0&&(D=4),D};fetch(T).then(function(k){return k.arrayBuffer()}).then(function(k){return WebAssembly.instantiate(k)}).then(function(k){console.log("HB ready");var D=k.instance.exports,N=D.memory,M,U,R,W,ne,ge,te,J,ae;Ze.U.shapeHB=(function(){var xe=function(G){for(var ye=D.hb_buffer_get_length(G),Q=[],pe=D.hb_buffer_get_glyph_infos(G,0)>>>2,$=D.hb_buffer_get_glyph_positions(G,0)>>>2,re=0;re<ye;++re){var be=pe+re*5,Se=$+re*5;Q.push({g:U[be+0],cl:U[be+2],ax:R[Se+0],ay:R[Se+1],dx:R[Se+2],dy:R[Se+3]})}return Q},Z;return function(G,ye,Q){var pe=G._data,$=G.name.postScriptName,re=Q.ltr,be=Q.fts,Se=Q.axs;if(G.fvar&&Se==null&&(Se=G.fvar[1][G._index][2]),M=new Uint8Array(N.buffer),U=new Uint32Array(N.buffer),R=new Int32Array(N.buffer),W=new Float32Array(N.buffer),ne!=$&&(ge!=null&&(D.hb_blob_destroy(ge),D.free(te),D.hb_face_destroy(J),D.hb_font_destroy(ae)),te=D.malloc(pe.byteLength),M.set(pe,te),ge=D.hb_blob_create(te,pe.byteLength,2,0,0),J=D.hb_face_create(ge,G._index),ae=D.hb_font_create(J),ne=$),window.TextEncoder==null){alert("Your browser is too old. Please, update it.");return}Z==null&&(Z=new window.TextEncoder("utf8"));var j=D.hb_buffer_create(),X=Z.encode(ye),ee=X.length,Ae=D.malloc(ee);M.set(X,Ae),D.hb_buffer_add_utf8(j,Ae,ee,0,ee),D.free(Ae);var we=Ze.B,he=0;if(be){he=D.malloc(16*be.length);for(var me=0;me<be.length;me++){var _e=be[me],De=he+me*16,Le=De>>>2;we.writeASCII(M,De,_e[0].split("").reverse().join("")),U[Le+1]=_e[1],U[Le+2]=_e[2],U[Le+3]=_e[3]}}var B=0;if(Se&&G.fvar){var Ue=G.fvar[0];B=D.malloc(8*Se.length);for(var me=0;me<Se.length;me++){var De=B+me*8,Le=De>>>2;we.writeASCII(M,De,Ue[me][0].split("").reverse().join("")),W[Le+1]=Se[me]}}Se&&D.hb_font_set_variations(ae,B,Se.length),D.hb_buffer_set_direction(j,re?4:5),D.hb_buffer_guess_segment_properties(j),D.hb_shape(ae,j,he,be?be.length:0);var Oe=xe(j);D.hb_buffer_destroy(j),be&&D.free(he),Se&&D.free(B);var Qe=Oe.slice(0);re||Qe.reverse();for(var We=0,ft=0,me=1;me<Qe.length;me++){for(var Ce=Qe[me],Fe=Ce.cl;;){var Pe=ye.codePointAt(We),$e=F(Pe);if(ft+$e<=Fe)ft+=$e,We+=Pe<=65535?1:2;else break}Ce.cl=We}return Oe}})(),C()})}return{shape:r,shapeToPath:i,codeToGlyph:u,glyphToPath:h,pathToSVG:v,SVGToPath:S,pathToContext:w,initHB:_}})();var gv={exports:{}},TC;function bie(){return TC||(TC=1,(function(n,t){(function(r,i){n.exports=i()})(self,(()=>(()=>{var r={177:(s,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BezierPath=void 0;const l=a(558),u=a(188);o.BezierPath=class{constructor(h){this.samples=[],this.segments=h;const c=h.map((v=>v.getTotalLength())),f=[0];for(let v=1;v<c.length;v++)f.push(f[v-1]+c[v-1]);this._totalLength=f[f.length-1]+c[c.length-1];const d=h.map((v=>Math.max(4,Math.ceil(v.getTotalLength()/l.BezierSegment.sampleSpacing())))),p=d.reduce(((v,S)=>v+S)),m=1/p/10,g=this._totalLength/p;this.samples.push({dist:0,pt:this.segments[0].A,tan:this.segments[0].tangentAtParameter(0),segIdx:0,t:0}),h.forEach(((v,S)=>{const y=d[S],x=(0,u.times)(y+1).map((_=>_/y)),b=x.map((_=>v.pointAtParameter(_)));let w;for(let _=0;_<4;_++){w=(0,u.times)(y).map((F=>Math.hypot(b[F+1].x-b[F].x,b[F+1].y-b[F].y)));const T=w.map((F=>F-g));let C=0;for(let F=1;F<x.length-1;F++)C+=T[F-1],x[F]-=m*C,b[F]=v.pointAtParameter(x[F])}let E=0;b.slice(1).forEach(((_,T)=>{E+=w[T],this.samples.push({dist:f[S]+E,pt:_,tan:this.segments[S].tangentAtParameter(x[T+1]),segIdx:S,t:x[T+1]})}))})),this._jumps=[],this.segmentStartEnds=[{start:0,end:0}];for(let v=1;v<this.samples.length;v++){const S=this.samples[v-1],y=this.samples[v];if(y.segIdx===S.segIdx?this.segmentStartEnds[this.segmentStartEnds.length-1].end=y.dist:this.segmentStartEnds[y.segIdx]={start:y.dist,end:y.dist},S.segIdx!==y.segIdx&&(this.segments[S.segIdx].D.x!==this.segments[y.segIdx].A.x||this.segments[S.segIdx].D.y!==this.segments[y.segIdx].A.y)){const x=(S.dist+y.dist)/2,b={dist:x-1e-8,pt:this.segments[S.segIdx].D,tan:this.segments[S.segIdx].tangentAtParameter(1),segIdx:S.segIdx,t:1},w={dist:x+1e-8,pt:this.segments[y.segIdx].A,tan:this.segments[y.segIdx].tangentAtParameter(0),segIdx:y.segIdx,t:0};this._jumps.push(x),this.samples.splice(v,0,b,w),v+=2}}}jumps(){return[...this._jumps]}getTotalLength(){return this._totalLength}findClosestSampleIdx(h){let c=0,f=this.samples.length-1;for(;c<f;){const d=Math.floor((c+f)/2);if(this.samples[d].dist>h)f=d-1;else{if(!(this.samples[d].dist<h))return d;c=d+1}}return Math.max(0,Math.min(this.samples.length-1,Math.floor((c+f)/2)))}getPointAtLength(h,c=!1){if(h<=0)return this.samples[0].pt;if(h>=this._totalLength)return this.samples[this.samples.length-1].pt;const f=this.findClosestSampleIdx(h),d=this.samples[f].dist<h?Math.min(f+1,this.samples.length-1):Math.max(0,f-1),p=Math.abs(this.samples[d].dist-this.samples[f].dist)<1e-6?0:(h-this.samples[f].dist)/(this.samples[d].dist-this.samples[f].dist);if(c||this.samples[f].segIdx>this.samples[d].segIdx)return{x:(1-p)*this.samples[f].pt.x+p*this.samples[d].pt.x,y:(1-p)*this.samples[f].pt.y+p*this.samples[d].pt.y};if(this.samples[f].segIdx!==this.samples[d].segIdx){if(p<.5){const m=this.segments[this.samples[f].segIdx],g=2*p,v=(1-g)*this.samples[f].t+g;return m.pointAtParameter(v)}{const m=this.segments[this.samples[d].segIdx],g=2*(p-.5)*this.samples[d].t;return m.pointAtParameter(g)}}{const m=this.segments[this.samples[f].segIdx],g=(1-p)*this.samples[f].t+p*this.samples[d].t;return m.pointAtParameter(g)}}getAngleAtLength(h,c=!1){const f=this.getTangentAtLength(h,c);return Math.atan2(f.y,f.x)}getTangentAtLength(h,c=!1){if(h<=0)return this.samples[0].tan;if(h>=this._totalLength)return this.samples[this.samples.length-1].tan;const f=this.findClosestSampleIdx(h),d=this.samples[f].dist<h?Math.min(f+1,this.samples.length-1):Math.max(0,f-1),p=(h-this.samples[f].dist)/(this.samples[d].dist-this.samples[f].dist);if(c||this.samples[f].segIdx>this.samples[d].segIdx){let m=(1-p)*this.samples[f].tan.x+p*this.samples[d].tan.x,g=(1-p)*this.samples[f].tan.y+p*this.samples[d].tan.y;const v=Math.max(Math.hypot(m,g),1e-4);return m/=v,g/=v,{x:m,y:g}}if(this.samples[f].segIdx!==this.samples[d].segIdx){if(p<.5){const m=this.segments[this.samples[f].segIdx],g=2*p,v=(1-g)*this.samples[f].t+g;return m.tangentAtParameter(v)}{const m=this.segments[this.samples[d].segIdx],g=2*(p-.5)*this.samples[d].t;return m.tangentAtParameter(g)}}{const m=this.segments[this.samples[f].segIdx],g=(1-p)*this.samples[f].t+p*this.samples[d].t;return m.tangentAtParameter(g)}}}},558:(s,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BezierSegment=void 0;const l=a(188);class u{constructor(c,f,d,p){this._totalLength=void 0,this.A=c,this.B=f,this.C=d,this.D=p}static sampleSpacing(){return 2}tangentAtParameter(c){const f=Math.max(0,Math.min(1,c));if(f===0||f===1){let v,S;f===0?this.A.x===this.B.x&&this.A.y===this.B.y?(v=this.C.x-this.A.x,S=this.C.y-this.A.y):(v=this.B.x-this.A.x,S=this.B.y-this.A.y):this.D.x===this.C.x&&this.D.y===this.C.y?(v=this.D.x-this.B.x,S=this.D.y-this.B.y):(v=this.D.x-this.C.x,S=this.D.y-this.C.y);const y=Math.hypot(v,S);return Math.abs(y)>1e-4&&(v/=y,S/=y),{x:v,y:S}}const d=1-f;let p=3*this.D.x*Math.pow(f,2)-3*this.C.x*Math.pow(f,2)+6*this.C.x*d*f-6*this.B.x*d*f+3*this.B.x*Math.pow(d,2)-3*this.A.x*Math.pow(d,2),m=3*this.D.y*Math.pow(f,2)-3*this.C.y*Math.pow(f,2)+6*this.C.y*d*f-6*this.B.y*d*f+3*this.B.y*Math.pow(d,2)-3*this.A.y*Math.pow(d,2);const g=Math.hypot(p,m);return Math.abs(g)>1e-4&&(p/=g,m/=g),{x:p,y:m}}isLinear(){return this.A.x===this.B.x&&this.A.y===this.B.y&&this.C.x===this.D.x&&this.C.y===this.D.y}pointAtParameter(c){const f=Math.max(0,Math.min(1,c));return{x:Math.pow(1-f,3)*this.A.x+3*Math.pow(1-f,2)*f*this.B.x+3*(1-f)*Math.pow(f,2)*this.C.x+Math.pow(f,3)*this.D.x,y:Math.pow(1-f,3)*this.A.y+3*Math.pow(1-f,2)*f*this.B.y+3*(1-f)*Math.pow(f,2)*this.C.y+Math.pow(f,3)*this.D.y}}getTotalLength(){if(this._totalLength===void 0)if(this.isLinear())this._totalLength=Math.hypot(this.D.x-this.A.x,this.D.y-this.A.y);else{const c=Math.max(10,Math.ceil((Math.hypot(this.B.x-this.A.x,this.B.y-this.A.y)+Math.hypot(this.C.x-this.B.x,this.C.y-this.B.y)+Math.hypot(this.D.x-this.C.x,this.D.y-this.C.y))/u.sampleSpacing())),f=(0,l.times)(c).map((p=>this.pointAtParameter(p/(c-1))));let d=0;for(let p=1;p<f.length;p++)d+=Math.hypot(f[p].x-f[p-1].x,f[p].y-f[p-1].y);this._totalLength=d}return this._totalLength}}o.BezierSegment=u},729:(s,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createFromCommands=o.create=o.createFromElement=o.createFromCircle=o.createFromLine=o.createFromPath=void 0;const l=a(821),u=a(558),h={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};o.createFromPath=c=>{const f=(function(m){const g=m.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").replace(/(\d)([A-Za-z])/g,"$1 $2").replace(/([A-Za-z])(\d)/g,"$1 $2").trim().split(/\s*,|\s+/),v=[];let S="",y={};for(;g.length>0;){let x=g.shift();h.hasOwnProperty(x)?S=x:g.unshift(x),y={type:S},h[S].forEach((b=>{x=g.shift(),y[b]=parseFloat(x)})),S==="M"?S="L":S==="m"&&(S="l"),v.push(y)}return v})(c.getAttribute("d"));if(f.length<2)throw new Error(`Path doesn't have enough commands: ${JSON.stringify(f)}`);if(f[0].type!=="M")throw new Error(`Path starts with ${f[0].type} instead of M!`);let d={x:f[0].x,y:f[0].y};f.shift();const p=[];for(;f.length>0;){const m=f.shift();if(m.type==="C")p.push(new u.BezierSegment(d,{x:m.x1,y:m.y1},{x:m.x2,y:m.y2},{x:m.x,y:m.y})),d={x:m.x,y:m.y};else if(m.type==="L")p.push(new u.BezierSegment(d,d,{x:m.x,y:m.y},{x:m.x,y:m.y})),d={x:m.x,y:m.y};else if(m.type==="H")p.push(new u.BezierSegment(d,d,{x:m.x,y:d.y},{x:m.x,y:d.y})),d={x:m.x,y:d.y};else if(m.type==="V")p.push(new u.BezierSegment(d,d,{x:d.x,y:m.y},{x:d.x,y:m.y})),d={x:d.x,y:m.y};else if(m.type!=="Z")throw new Error(`Unsupported path command ${m.type}; use only H, V, M, L, C, Z!`)}return new l.BezierPath(p)},o.createFromLine=c=>{const[f,d,p,m]=["x1","x2","y1","y2"].map((g=>parseFloat(c.getAttribute(g)||"0")));return new l.BezierPath([new u.BezierSegment({x:f,y:p},{x:f,y:p},{x:d,y:m},{x:d,y:m})])},o.createFromCircle=c=>{const[f,d,p]=["cx","cy","r"].map((g=>parseFloat(c.getAttribute(g)||"0"))),m=1.3;return new l.BezierPath([new u.BezierSegment({x:f-p,y:d},{x:f-p,y:d-m*p},{x:f+p,y:d-m*p},{x:f+p,y:d}),new u.BezierSegment({x:f+p,y:d},{x:f+p,y:d+m*p},{x:f-p,y:d+m*p},{x:f-p,y:d})])},o.createFromElement=c=>{const f=c.tagName.toLowerCase();if(f==="path")return(0,o.createFromPath)(c);if(f==="line")return(0,o.createFromLine)(c);if(f==="circle")return(0,o.createFromCircle)(c);throw new Error(`Unsupported SVG tag: ${f}`)},o.create=c=>{const f=[];for(let d=1;d<c.length;d++){const p=c[d-1],m=c[d];f.push(new u.BezierSegment(p.pt,p.right||p.pt,m.left||m.pt,m.pt))}return new l.BezierPath(f)},o.createFromCommands=c=>{const f=c.slice();if(f.length<2)throw new Error(`Path doesn't have enough commands: ${JSON.stringify(f)}`);if(f[0].type!=="M")throw new Error(`Path starts with ${f[0].type} instead of M!`);let d={x:f[0].x,y:f[0].y},p=Object.assign({},d);const m=[];for(;f.length>0;){const g=f.shift();if(g.type==="M")p={x:g.x,y:g.y},d=p;else if(g.type==="C")m.push(new u.BezierSegment(d,{x:g.x1,y:g.y1},{x:g.x2,y:g.y2},{x:g.x,y:g.y})),d={x:g.x,y:g.y};else if(g.type==="L")g.x===d.x&&g.y===d.y||m.push(new u.BezierSegment(d,d,{x:g.x,y:g.y},{x:g.x,y:g.y})),d={x:g.x,y:g.y};else if(g.type==="H")g.x!==d.x&&m.push(new u.BezierSegment(d,d,{x:g.x,y:d.y},{x:g.x,y:d.y})),d={x:g.x,y:d.y};else if(g.type==="V")g.y!==d.y&&m.push(new u.BezierSegment(d,d,{x:d.x,y:g.y},{x:d.x,y:g.y})),d={x:d.x,y:g.y};else if(g.type==="Q")m.push(new u.BezierSegment(d,{x:d.x+.6666666666666666*(g.x1-d.x),y:d.y+.6666666666666666*(g.y1-d.y)},{x:g.x+.6666666666666666*(g.x1-g.x),y:g.y+.6666666666666666*(g.y1-g.y)},{x:g.x,y:g.y})),d={x:g.x,y:g.y};else{if(g.type!=="Z")throw new Error(`Unsupported path command ${g.type}; use only H, V, M, L, C, Z!`);Math.hypot(d.x-p.x,d.y-p.y)>0&&m.push(new u.BezierSegment(d,d,p,p))}}return new l.BezierPath(m)}},821:function(s,o,a){var l=this&&this.__createBinding||(Object.create?function(h,c,f,d){d===void 0&&(d=f);var p=Object.getOwnPropertyDescriptor(c,f);p&&!("get"in p?!c.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(h,d,p)}:function(h,c,f,d){d===void 0&&(d=f),h[d]=c[f]}),u=this&&this.__exportStar||function(h,c){for(var f in h)f==="default"||Object.prototype.hasOwnProperty.call(c,f)||l(c,h,f)};Object.defineProperty(o,"__esModule",{value:!0}),u(a(177),o),u(a(558),o),u(a(729),o),u(a(856),o)},856:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0})},188:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.times=void 0,o.times=function(a){const l=[];for(let u=0;u<a;u++)l.push(u);return l}}},i={};return(function s(o){var a=i[o];if(a!==void 0)return a.exports;var l=i[o]={exports:{}};return r[o].call(l.exports,l,l.exports,s),l.exports})(821)})()))})(gv)),gv.exports}var xie=bie();const IC={M:2,L:2,C:6,Q:4},SM=["ttf","otf","woff"],_ie=new RegExp(`\\.(${SM.join("|")})`,"i"),wie=new RegExp(`([^/]+)(\\.(?:${SM.join("|")}))`,"i"),CM="Sorry, only TTF, OTF and WOFF files are supported.",Eie=["weight","stretch","style"];class Nx{constructor(t,r,i,s,o){if(!(r instanceof FontFace))throw Error("FontFace is required");this._pInst=t,this.name=i,this.path=s,this.data=o,this.face=r}static hasGlyphData(t){let{font:r}=t;return typeof r=="object"&&typeof r.data<"u"}fontBounds(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));let l=a?.graphics?._renderer||this._pInst._renderer;if(!l)throw Error("p5 or graphics required for fontBounds()");return l.fontBounds(t,r,i,s,o)}textBounds(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));let l=a?.graphics?._renderer||this._pInst._renderer;if(!l)throw Error("p5 or graphics required for fontBounds()");return l.textBounds(t,r,i,s,o)}textToPaths(t,r,i,s,o,a){if({width:s,height:o,options:a}=this._parseArgs(s,o,a),!this.data)throw Error('No font data available for "'+this.name+`"
Try downloading a local copy of the font file`);return this._lineateAndPathify(t,r,i,s,o,a).map(h=>h.glyphs).flat().map(h=>h.path.commands).flat()}textToPoints(t,r,i,s,o,a){return this.textToContours(t,r,i,s,o,a).reduce((u,h)=>(u.push(...h),u),[])}textToContours(t,r=0,i=0,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));const l=this.textToPaths(t,r,i,s,o,a),u=[];for(const h of l)h[0]==="M"&&u.push([]),u[u.length-1].push(h);return u.map(h=>Tie(h,a,this))}textToModel(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));const l=a?.extrude||0,u=this.textToContours(t,r,i,s,o,a),h=this._pInst.buildGeometry(()=>{if(l===0){const c=this._pInst._renderer._validateFaces;this._pInst._renderer._validateFaces=!0,this._pInst.beginShape(),this._pInst.normal(0,0,1);for(const f of u){this._pInst.beginContour();for(const{x:d,y:p}of f)this._pInst.vertex(d,p);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape(),this._pInst._renderer._validateFaces=c}else{const c=this._pInst._renderer._validateFaces;this._pInst._renderer._validateFaces=!0;for(const f of[1,-1]){this._pInst.beginShape();for(const d of u){this._pInst.beginContour();for(const{x:p,y:m}of d)this._pInst.vertex(p,m,f*l*.5);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape()}this._pInst._renderer._validateFaces=c;for(const f of u){this._pInst.beginShape(this._pInst.QUAD_STRIP);for(const d of f)for(const p of[-1,1])this._pInst.vertex(d.x,d.y,p*l*.5);this._pInst.endShape()}}});if(l!==0){h.computeNormals();for(const c of h.faces)if(c.every(f=>h.vertices[f].z<=-l*.5+.1)){for(const f of c)h.vertexNormals[f].set(0,0,-1);c.reverse()}}return h}variations(){let t={};if(this.data){let r=this.face?.axes;r&&r.forEach(i=>{t[i.tag]=i.value})}return Eie.forEach(r=>{let i=this.face[r];i!=="normal"&&(t[r]=t[r]||i)}),t}metadata(){let t=this.data?.name||{};for(let r in this.face)/^load/.test(r)||(t[r]=t[r]||this.face[r]);return t}static async list(t=!1){if(t){console.log("There are",document.fonts.size,`font-faces
`);let r=0;for(let i of document.fonts.values()){console.log("FontFace: {");for(let s in i)console.log("  "+s+": "+i[s]);console.log(`}
`),i.status==="loaded"&&r++}console.log(r+" loaded")}return await Array.from(document.fonts)}_verticalAlign(t){const{sCapHeight:r}=this.data?.["OS/2"]||{},{unitsPerEm:i=1e3}=this.data?.head||{},{ascender:s=0,descender:o=0}=this.data?.hhea||{},a=s/2;return((r||s+o)/2-a)*t/i}_lineateAndPathify(t,r,i,s,o,a={}){let l=a?.graphics?._renderer||this._pInst._renderer,u=l.drawingContext.textBaseline,{lines:h,bounds:c}=l._computeBounds(Vi._FONT_BOUNDS,t,r,i,s,o,{ignoreRectMode:!0,...a});h=this._position(l,h,c,s,o);let f=this.data?.head?.unitsPerEm||1e3,d=l.states.textSize/f;const p=this._currentAxes(l);let m=h.map(g=>this._lineToGlyphs(g,{scale:d,axs:p}));return l.drawingContext.textBaseline=u,m}_currentAxes(t){let r;return(this.data?.fvar?.length??0)>0&&(r=this.data.fvar[0].map(([s,o,a,l,u,h])=>{if(!t)return a;if(s==="wght")return t.states.fontWeight;if(s==="wdth")return 100;if(t.textCanvas().style.fontVariationSettings){const c=new RegExp(`\\b${s}s+(d+)`).exec(t.textCanvas().style.fontVariationSettings);return c?parseInt(c[1]):a}else return a})),r}_textToPathPoints(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));let l=this.textToPaths(t,r,i,s,o,a);const u=(d,p,m,g)=>{if(fn.dist(p.x,p.y,m.x,m.y)>g){let v={x:(p.x+m.x)/2,y:(p.y+m.y)/2};d.push(v),u(d,p,v,g),u(d,v,m,g)}};let h=[],{textSize:c}=this._pInst._renderer.states,f=c/this.data.head.unitsPerEm*500;for(let d=0;d<l.length;d++){let{type:p,data:m}=l[d];if(p!=="Z"){let g={x:m[m.length-2],y:m[m.length-1]};p==="L"&&h.length&&!a?.nodivide>0&&u(h,h[h.length-1],g,f),h.push(g)}}return h}_parseArgs(t,r,i={}){return typeof t=="object"?(i=t,t=r=void 0):typeof r=="object"&&(i=r,r=void 0),{width:t,height:r,options:i}}_position(t,r,i,s,o){let{textAlign:a,textLeading:l}=t.states,h=this._measureTextDefault(t,"X").fontBoundingBoxAscent,c=(f,d)=>{let p=i.x,m=i.y+d*l+h,g=t._fontWidthSingle(f);if(a===zi?p+=(i.w-g)/2:a===jp&&(p+=i.w-g),typeof s<"u")switch(t.states.rectMode){case zi:p-=s/2,m-=o/2;break;case Hh:p-=s,m-=o;break}return{text:f,x:p,y:m}};return r.map(c)}_lineToGlyphs(t,{scale:r=1,axs:i}={}){if(!this.data)throw Error('No font data available for "'+this.name+`"
Try downloading a local copy of the font file`);let s=Ze.U.shape(this.data,t.text,{axs:i});return t.glyphShapes=s,t.glyphs=this._shapeToPaths(s,t,{scale:r,axs:i}),t}_positionGlyphs(t,r){let i=r?.graphics?._renderer||this._pInst._renderer;const s=this._currentAxes(i),o=Ze.U.shape(this.data,t,{axs:s}),a=[];let l=0;for(const u of o)a.push({x:l,index:u.g,shape:u}),l+=u.ax;return a}_singleShapeToPath(t,{scale:r=1,x:i=0,y:s=0,lineX:o=0,lineY:a=0,axs:l}={}){let u=this.data,h=0,{g:c,ax:f,ay:d,dx:p,dy:m}=t,{crds:g,cmds:v}=Ze.U.glyphToPath(u,c,!0,l),S={path:{commands:[]}};for(let y=0;y<v.length;y++){let x=v[y],b=[x];if(x in IC){let w=IC[x];for(let E=0;E<w;E+=2){let _=g[E+h]+i+p,T=g[E+h+1]+s+m,C=o+_*r,F=a+T*-r;b.push(C),b.push(F)}h+=w}S.path.commands.push(b)}return{glyph:S,ax:f,ay:d}}_shapeToPaths(t,r,{scale:i=1,axs:s}={}){let o=0,a=0,l=[];if(t.length!==r.text.length)throw Error("Invalid shape data");for(let u=0;u<t.length;u++){const{glyph:h,ax:c,ay:f}=this._singleShapeToPath(t[u],{scale:i,x:o,y:a,lineX:r.x,lineY:r.y,axs:s});l.push(h),o+=c,a+=f}return l}_measureTextDefault(t,r){let{textAlign:i,textBaseline:s}=t.states,o=t.textDrawingContext();o.textAlign="left",o.textBaseline="alphabetic";let a=o.measureText(r);return o.textAlign=i,o.textBaseline=s,a}drawPaths(t,r,i){t.strokeStyle=i?.stroke||t.strokeStyle,t.fillStyle=i?.fill||t.fillStyle,t.beginPath(),r.forEach(([s,...o])=>{s==="M"?t.moveTo(...o):s==="L"?t.lineTo(...o):s==="C"?t.bezierCurveTo(...o):s==="Q"?t.quadraticCurveTo(...o):s==="Z"&&t.closePath()}),i?.fill&&t.fill(),i?.stroke&&t.stroke()}_pathsToCommands(t,r){let i=[];for(let s=0;s<t.length;s++){let o=t[s],{x:a,y:l,path:u}=o,{crds:h,cmds:c}=u;for(let f=0,d=0;d<c.length;d++){let p=c[d],m={type:p,data:[]};if(p==="M"||p==="L")m.data.push(a+h[f]*r,l+h[f+1]*-r),f+=2;else if(p==="C"){for(let g=0;g<6;g+=2)m.data.push(a+h[f+g]*r,l+h[f+g+1]*-r);f+=6}else if(p==="Q"){for(let g=0;g<4;g+=2)m.data.push(a+h[f+g]*r,l+h[f+g+1]*-r);f+=4}i.push(m)}}return i}}async function Pd(n,t,r,i,s){let o=Cie(t,r,i,s);return o.status!=="loaded"&&await o.load(),document.fonts.add(o),await document.fonts.ready,new Nx(n,o,t,r,s)}function Sie(n){return/^[A-Za-z][A-Za-z0-9_-]*$/.test(n)||(n="'"+String(n).replace(/'/g,"\\'")+"'"),n}function Cie(n,t,r,i){n=Sie(n);let s=i?._compressedData??i?._data;if(!s){if(!_ie.test(t))throw Error(CM);t.startsWith("url(")||(t="url("+t+")"),s=t}if((i?.fvar?.length??0)>0){r=r||{};for(const[a,l,u,h,c,f]of i.fvar[0])a==="wght"?r.weight=`${l} ${h}`:a==="wdth"&&(r.stretch=`${l}% ${h}%`)}let o=new FontFace(n,s,r);if(o.status==="error")throw Error('Failed to create FontFace for "'+n+'"');return o}function Aie(n,t){let r,i=n?.name;if(i){if(i.fullName)return i.fullName;i.familyName&&(r=i.familyName)}if(!r){let s=wie.exec(t);s&&s.length>=3?r=s[1]:r=t}return r.includes(" ")&&(r=r.replace(/ /g,"_")),r}function Tie(n,t,r){const i=(m,g)=>{if(typeof m!="object")m=g;else for(const v in g)typeof m[v]>"u"&&(m[v]=g[v]);return m},s=(m,g)=>{const v=m.length;return m[g<0?g%v+v:g%v]},o=(m,g)=>{g=g||0;let v=0;for(let S=m.length-1;m.length>3&&S>=0;--S)a(s(m,S-1),s(m,S),s(m,S+1),g)&&(m.splice(S%m.length,1),v++);return v},a=(m,g,v,S)=>{if(!S)return l(m,g,v)===0;typeof a.tmpPoint1>"u"&&(a.tmpPoint1=[],a.tmpPoint2=[]);const y=a.tmpPoint1,x=a.tmpPoint2;y.x=g.x-m.x,y.y=g.y-m.y,x.x=v.x-g.x,x.y=v.y-g.y;const b=y.x*x.x+y.y*x.y,w=Math.sqrt(y.x*y.x+y.y*y.y),E=Math.sqrt(x.x*x.x+x.y*x.y);return Math.acos(b/(w*E))<S},l=(m,g,v)=>(g[0]-m[0])*(v[1]-m[1])-(v[0]-m[0])*(g[1]-m[1]),u=xie.createFromCommands(TM(n));let h=i(t,{sampleFactor:.1,simplifyThreshold:0});const c=Math.max(1,Math.ceil(u.getTotalLength()*h.sampleFactor));let f=[];const d=r._pInst.angleMode(),p=r._pInst.DEGREES;for(let m=0;m<c;m++){const g=u.getTotalLength()*(c===1?0:m/(c-1));f.push({...u.getPointAtLength(g),get angle(){const v=u.getAngleAtLength(g);return d===p?v*180/Math.PI:v},get alpha(){return this.angle}})}return h.simplifyThreshold&&o(f,h.simplifyThreshold),f}function Iie(n){return(n.startsWith('"')||n.startsWith("'"))&&n.at(0)===n.at(-1)?n.slice(1,-1).replace(/\/(['"])/g,"$1"):n}function Die(...n){let t=n.shift();(typeof t!="string"||t.length===0)&&p5._friendlyError(CM,"p5.loadFont");let r;typeof n[0]=="string"&&(r=n.shift());let i,s,o;for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?i?s=l:i=l:typeof l=="object"&&(o=l)}return{path:t,name:r,success:i,error:s,options:o}}function AM(n,t){n.Font=Nx,t.parseFontData=async function(r){let i=r instanceof Uint8Array?r:await t.loadBytes(r);if(!i)throw Error("Failed to load font data");let s=Ze.parse(i);if(s.length===0||s[0].cmap===void 0)throw Error("parsing font data");return s[0]},t.loadFont=async function(...r){let{path:i,name:s,success:o,error:a,options:{sets:l,...u}={}}=Die(...r),h=i.includes("@font-face");if(h||(await fetch(i,{method:"HEAD"})).headers.get("content-type")?.startsWith("text/css")&&(h=!0,i=await fetch(i).then(p=>p.text())),h){const f=new CSSStyleSheet;await f.replace(i);const d=[];for(const b of f.cssRules)if(b instanceof CSSFontFaceRule){const w=b.style;let E=Iie(w.getPropertyValue("font-family"));const _=w.getPropertyValue("src"),T={...u||{}};for(const C of w){if(C==="font-family"||C==="src")continue;const F=C.replace(/^font-/,"").split("-").map((k,D)=>D===0?k:`${k[0].toUpperCase()}${k.slice(1)}`).join("");T[F]=w.getPropertyValue(C)}d.push({name:E,src:_,fontDescriptors:T,loadWithData:async()=>{let C;try{const F=/url\(([^\)]+)\)/.exec(_);if(F){let k=F[1];/^['"]/.exec(k)&&k.at(0)===k.at(-1)&&(k=k.slice(1,-1)),C=await t.parseFontData(k)}}catch{}return Pd(this,E,_,T,C)},loadWithoutData:()=>Pd(this,E,_,T)})}l=l||["latin"];const p=(l instanceof Array?l:[l]).map(b=>b.toLowerCase()),m=ire.filter(b=>p.some(w=>b.category.includes(w)&&b.category.includes("ext")===w.includes("ext"))),g=new Set(KS.UnicodeRange.parse(m.map(b=>`U+${b.hexrange[0]}-${b.hexrange[1]}`)));let v=0,S=0,y;for(const b of d){if(!b.fontDescriptors.unicodeRange)continue;const E=[...new Set(KS.UnicodeRange.parse(b.fontDescriptors.unicodeRange.split(/,\s*/g))).values()].filter(C=>g.has(C)).length,_={style:"normal",weight:400,...u},T=Object.keys(b.fontDescriptors).filter(C=>b.fontDescriptors[C]===_[C]).length;(T>S||T===S&&E>=v)&&(S=T,v=E,y=b)}const x=y||d.at(-1);for(const b of d)b!==x&&b.loadWithoutData();return x?.loadWithData()}let c;try{const f=await t.parseFontData(i);s=s||Aie(f,i),c=await Pd(this,s,i,u,f)}catch{let d=s||i.substring(i.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"");console.warn(`WARN: No glyph data for '${d}', retrying as FontFace`);try{c=await Pd(this,d,i,u)}catch(p){if(a)return a(p);throw p}}return o?o(c):c}}const TM=n=>n.map(t=>{const r=t[0];switch(r){case"Z":return{type:r};case"M":case"L":{const[,i,s]=t;return{type:r,x:i,y:s}}case"Q":{const[,i,s,o,a]=t;return{type:r,x1:i,y1:s,x:o,y:a}}case"C":{const[,i,s,o,a,l,u]=t;return{type:r,x1:i,y1:s,x2:o,y2:a,x:l,y:u}}default:throw new Error(`Unexpected path command: ${r}`)}});typeof p5<"u"&&AM(p5,p5.prototype);function Nie(n,t){Ot.prototype.maxCachedGlyphs=function(){return 200},Nx.prototype._getFontInfo=function(m){this._fontInfos=this._fontInfos||{};const g=JSON.stringify(m);if(this._fontInfos[g])return this._fontInfos[g];{const v=new p(this,{axs:m});return this._fontInfos[g]=v,v}};const r=9,i=r,s=64,o=64,a=64,l=64,u=64,h=64;class c{constructor(g,v){this.width=g,this.height=v,this.infos=[]}findImage(g){const v=this.width*this.height;if(g>v)throw new Error("font is too complex to render in 3D");let S,y;for(let b=this.infos.length-1;b>=0;--b){const w=this.infos[b];if(w.index+g<v){S=w,y=w.imageData;break}}if(!S){try{y=new ImageData(this.width,this.height)}catch{let w=document.getElementsByTagName("canvas")[0];const E=!w;w||(w=document.createElement("canvas"),w.style.display="none",document.body.appendChild(w));const _=w.getContext("2d");_&&(y=_.createImageData(this.width,this.height)),E&&document.body.removeChild(w)}S={index:0,imageData:y},this.infos.push(S)}const x=S.index;return S.index+=g,y._dirty=!0,{imageData:y,index:x}}}function f(m,g,v,S,y){const b=m.imageData.data;let w=m.index++*4;b[w++]=g,b[w++]=v,b[w++]=S,b[w++]=y}const d=Math.sqrt(3);class p{constructor(g,{axs:v}={}){this.font=g,this.axs=v,this.strokeImageInfos=new c(s,o),this.colDimImageInfos=new c(a,l),this.rowDimImageInfos=new c(a,l),this.colCellImageInfos=new c(u,h),this.rowCellImageInfos=new c(u,h),this.glyphInfos={}}getGlyphInfo(g){let v=this.glyphInfos[g.index];if(v)return v;const S=this.axs,{glyph:{path:{commands:y}}}=this.font._singleShapeToPath(g.shape,{axs:S});let x=1/0,b=-1/0,w=1/0,E=-1/0;for(const $ of y)for(let re=1;re<$.length;re+=2)x=Math.min(x,$[re]),b=Math.max(b,$[re]),w=Math.min(w,$[re+1]),E=Math.max(E,$[re+1]);if(x>=b||w>=E||!y.length)return this.glyphInfos[g.index]={};const _=b-x,T=E-w,C=TM(y);let F;const k=[],D=[],N=[];for(F=r-1;F>=0;--F)N.push([]);for(F=i-1;F>=0;--F)D.push([]);function M($,re,be){const Se=k.length;k.push(be);function j(De,Le,B){for(let Ue=De.length;Ue-- >0;){const Oe=De[Ue];Le>Oe&&(Le=Oe),B<Oe&&(B=Oe)}return{min:Le,max:B}}const X=.5,ee=j($,1,0),Ae=Math.max(Math.floor(ee.min*r-X),0),we=Math.min(Math.ceil(ee.max*r+X),r);for(let De=Ae;De<we;++De)N[De].push(Se);const he=j(re,1,0),me=Math.max(Math.floor(he.min*i-X),0),_e=Math.min(Math.ceil(he.max*i+X),i);for(let De=me;De<_e;++De)D[De].push(Se)}function U($,re,be){return $<re?re:$>be?be:$}function R($){return U(255*$,0,255)}class W{constructor(re,be,Se,j){this.p0=re,this.c0=be,this.c1=Se,this.p1=j}toQuadratic(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:((this.c0.x+this.c1.x)*3-(this.p0.x+this.p1.x))/4,cy:((this.c0.y+this.c1.y)*3-(this.p0.y+this.p1.y))/4}}quadError(){return Ne.sub(Ne.sub(this.p1,this.p0),Ne.mult(Ne.sub(this.c1,this.c0),3)).mag()/2}split(re){const be=Ne.lerp(this.p0,this.c0,re),Se=Ne.lerp(this.c0,this.c1,re),j=Ne.lerp(be,Se,re);this.c1=Ne.lerp(this.c1,this.p1,re),this.c0=Ne.lerp(Se,this.c1,re);const X=Ne.lerp(j,this.c0,re),ee=new W(this.p0,be,j,X);return this.p0=X,ee}splitInflections(){const re=Ne.sub(this.c0,this.p0),be=Ne.sub(Ne.sub(this.c1,this.c0),re),Se=Ne.sub(Ne.sub(Ne.sub(this.p1,this.c1),re),Ne.mult(be,2)),j=[];let X=be.x*Se.y-be.y*Se.x;if(X!==0){let ee=re.x*Se.y-re.y*Se.x,Ae=re.x*be.y-re.y*be.x;const we=ee*ee-4*X*Ae;if(we>=0){X<0&&(X=-X,ee=-ee,Ae=-Ae);const he=Math.sqrt(we),me=(-ee-he)/(2*X);let _e=(-ee+he)/(2*X);me>0&&me<1&&(j.push(this.split(me)),_e=1-(1-_e)/(1-me)),_e>0&&_e<1&&j.push(this.split(_e))}}return j.push(this),j}}function ne($,re,be,Se,j,X,ee,Ae){const we=new W(new Ne($,re),new Ne(be,Se),new Ne(j,X),new Ne(ee,Ae)).splitInflections(),he=[],me=30/d;for(let _e of we){const De=[];let Le;for(;Le=me/_e.quadError(),!(Le>=.5*.5*.5);){const B=Math.pow(Le,1/3),Ue=_e.split(B),Oe=_e.split(1-B/(1-B));he.push(Ue),De.push(_e),_e=Oe}Le<1&&he.push(_e.split(.5)),he.push(_e),Array.prototype.push.apply(he,De.reverse())}return he}function ge($,re,be,Se){const j=($+be)/2,X=(re+Se)/2;M([$,be],[re,Se],{x:$,y:re,cx:j,cy:X})}function te($,re,be,Se){return Math.abs(be-$)<1e-5&&Math.abs(Se-re)<1e-5}let J,ae,xe,Z;for(const $ of C){const re=($.x-x)/_,be=($.y-w)/T;if(!te(J,ae,re,be)){switch($.type){case"M":{xe=re,Z=be;break}case"L":{ge(J,ae,re,be);break}case"Q":{const Se=($.x1-x)/_,j=($.y1-w)/T;M([J,re,Se],[ae,be,j],{x:J,y:ae,cx:Se,cy:j});break}case"Z":{te(J,ae,xe,Z)?k.push({x:J,y:ae}):(ge(J,ae,xe,Z),k.push({x:xe,y:Z}));break}case"C":{const Se=($.x1-x)/_,j=($.y1-w)/T,X=($.x2-x)/_,ee=($.y2-w)/T,Ae=ne(J,ae,Se,j,X,ee,re,be);for(let we=0;we<Ae.length;we++){const he=Ae[we].toQuadratic();M([he.x,he.x1,he.cx],[he.y,he.y1,he.cy],he)}break}default:throw new Error(`unknown command type: ${$.type}`)}J=re,ae=be}}const G=k.length,ye=this.strokeImageInfos.findImage(G),Q=ye.index;for(let $=0;$<G;++$){const re=k[$];f(ye,R(re.x),R(re.y),R(re.cx),R(re.cy))}function pe($,re,be){const Se=$.length,j=re.findImage(Se),X=j.index;let ee=0;for(let we=0;we<Se;++we)ee+=$[we].length;const Ae=be.findImage(ee);for(let we=0;we<Se;++we){const he=$[we],me=he.length,_e=Ae.index;f(j,_e>>7,_e&127,me>>7,me&127);for(let De=0;De<me;++De){const Le=he[De]+Q;f(Ae,Le>>7,Le&127,0,0)}}return{cellImageInfo:Ae,dimOffset:X,dimImageInfo:j}}return v=this.glyphInfos[g.index]={glyph:g,uGlyphRect:[x,w,b,E],strokeImageInfo:ye,strokes:k,colInfo:pe(N,this.colDimImageInfos,this.colCellImageInfos),rowInfo:pe(D,this.rowDimImageInfos,this.rowCellImageInfos)},v.uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset],v}}Ot.prototype._renderText=function(m,g,v,S,y){if(!this.states.textFont||typeof this.states.textFont=="string"){console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.");return}if(v>=S||!this.states.fillColor)return;if(!n.Font.hasGlyphData(this.states.textFont)){console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts with glyph data are supported");return}this.push();const x=this.states.strokeColor,b=this.states.drawMode;this.states.setValue("strokeColor",null),this.states.setValue("drawMode",Wp);const{font:w}=this.states.textFont;if(!w)throw new Error("In WebGL mode, textFont() needs to be given the result of loadFont() instead of a font family name.");const E=w._currentAxes(this);let _=w._getFontInfo(E);const T={x:g,y:v},F=this.states.textSize/(w.data?.head?.unitsPerEm||1e3);this.translate(T.x,T.y,0),this.scale(F,F,1);const k=this.GL,D=!this._defaultFontShader,N=this._getFontShader();N.init(),N.bindShader(),D&&(N.setUniform("uGridImageSize",[a,l]),N.setUniform("uCellsImageSize",[u,h]),N.setUniform("uStrokeImageSize",[s,o]),N.setUniform("uGridSize",[r,i]));const M=this.states.fillSet?this.states.curFillColor:[0,0,0,255];this._setGlobalUniforms(N),this._applyColorBlend(M);let U=this.geometryBufferCache.getGeometryByID("glyph");U||(U=this._textGeom=new zr(1,1,function(){for(let R=0;R<=1;R++)for(let W=0;W<=1;W++)this.vertices.push(new Ne(W,R,0)),this.uvs.push(W,R)},this),U.gid="glyph",U.computeFaces().computeNormals(),this.geometryBufferCache.ensureCached(U));for(const R of this.buffers.text)R._prepareBuffer(U,N);this._bindBuffer(this.geometryBufferCache.cache.glyph.indexBuffer,k.ELEMENT_ARRAY_BUFFER),N.setUniform("uMaterialColor",M),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.glyphDataCache=this.glyphDataCache||new Set;try{const R=w._positionGlyphs(m);for(const W of R){const ne=_.getGlyphInfo(W);if(ne.uGlyphRect){const ge=ne.rowInfo,te=ne.colInfo,J=[ne.strokeImageInfo.imageData,ge.cellImageInfo.imageData,ge.dimImageInfo.imageData,te.cellImageInfo.imageData,te.dimImageInfo.imageData];for(const ae of J)this.glyphDataCache.delete(ae),this.glyphDataCache.add(ae);for(;this.glyphDataCache.size>this.maxCachedGlyphs();){const ae=this.glyphDataCache.values().next().value;this.glyphDataCache.delete(ae);const xe=this.textures.get(ae);xe&&(xe.remove(),this.textures.delete(ae))}N.setUniform("uSamplerStrokes",ne.strokeImageInfo.imageData),N.setUniform("uSamplerRowStrokes",ge.cellImageInfo.imageData),N.setUniform("uSamplerRows",ge.dimImageInfo.imageData),N.setUniform("uSamplerColStrokes",te.cellImageInfo.imageData),N.setUniform("uSamplerCols",te.dimImageInfo.imageData),N.setUniform("uGridOffset",ne.uGridOffset),N.setUniform("uGlyphRect",ne.uGlyphRect),N.setUniform("uGlyphOffset",W.x),N.bindTextures(),k.drawElements(k.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}}}finally{N.unbindShader(),this.states.setValue("strokeColor",x),this.states.setValue("drawMode",b),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.pop()}}}const Nt={OPERATION:"operation",LITERAL:"literal",VARIABLE:"variable",CONSTANT:"constant",STRUCT:"struct",PHI:"phi",STATEMENT:"statement",ASSIGNMENT:"assignment"},a1=Object.fromEntries(Object.entries(Nt).map(([n,t])=>[t,n])),Fie={[Nt.OPERATION]:["opCode","dependsOn","dimension","baseType"],[Nt.LITERAL]:["value","dimension","baseType"],[Nt.VARIABLE]:["identifier","dimension","baseType"],[Nt.CONSTANT]:["value","dimension","baseType"],[Nt.STRUCT]:[""],[Nt.PHI]:["dependsOn","phiBlocks","dimension","baseType"],[Nt.STATEMENT]:["statementType"],[Nt.ASSIGNMENT]:["dependsOn"]},zs={DISCARD:"discard",BREAK:"break",EXPRESSION:"expression",EMPTY:"empty"},Xt={FLOAT:"float",INT:"int",BOOL:"bool",MAT:"mat",DEFER:"defer",SAMPLER2D:"sampler2D"},IM={[Xt.FLOAT]:3,[Xt.INT]:2,[Xt.BOOL]:1,[Xt.MAT]:0,[Xt.DEFER]:-1,[Xt.SAMPLER2D]:-10},_n={float1:{fnName:"float",baseType:Xt.FLOAT,dimension:1,priority:3},float2:{fnName:"vec2",baseType:Xt.FLOAT,dimension:2,priority:3},float3:{fnName:"vec3",baseType:Xt.FLOAT,dimension:3,priority:3},float4:{fnName:"vec4",baseType:Xt.FLOAT,dimension:4,priority:3},int1:{fnName:"int",baseType:Xt.INT,dimension:1,priority:2},int2:{fnName:"ivec2",baseType:Xt.INT,dimension:2,priority:2},int3:{fnName:"ivec3",baseType:Xt.INT,dimension:3,priority:2},int4:{fnName:"ivec4",baseType:Xt.INT,dimension:4,priority:2},bool1:{fnName:"bool",baseType:Xt.BOOL,dimension:1,priority:1},bool2:{fnName:"bvec2",baseType:Xt.BOOL,dimension:2,priority:1},bool3:{fnName:"bvec3",baseType:Xt.BOOL,dimension:3,priority:1},bool4:{fnName:"bvec4",baseType:Xt.BOOL,dimension:4,priority:1},mat2:{fnName:"mat2x2",baseType:Xt.MAT,dimension:2,priority:0},mat3:{fnName:"mat3x3",baseType:Xt.MAT,dimension:3,priority:0},mat4:{fnName:"mat4x4",baseType:Xt.MAT,dimension:4,priority:0},defer:{fnName:null,baseType:Xt.DEFER,dimension:null,priority:-1},sampler2D:{fnName:"sampler2D",baseType:Xt.SAMPLER2D,dimension:1,priority:-10}},Fx=function(n){let t=n.type===void 0?n:n.type;const r={name:n.name,properties:[],typeName:t.typeName};for(const i of t.properties){const s=kg[i.type.typeName];r.properties.push({name:i.name,dataType:s})}return r};function kx(n){return!kie(n)}function kie(n){return Object.keys(_n).includes(n)?!0:!!{float:!0,vec2:!0,vec3:!0,vec4:!0,int:!0,ivec2:!0,ivec3:!0,ivec4:!0,bool:!0,bvec2:!0,bvec3:!0,bvec4:!0,mat2:!0,mat3:!0,mat4:!0,sampler2D:!0}[n]}const Re={FLOAT:{baseType:Xt.FLOAT,dimension:null,priority:3},INT:{baseType:Xt.INT,dimension:null,priority:2},BOOL:{baseType:Xt.BOOL,dimension:null,priority:1}};function Mie(n,t){return n.dimension===t.dimension&&n.baseType===t.baseType}const kg=Object.fromEntries(Object.values(_n).filter(n=>n.fnName!==null).map(n=>[n.fnName,n])),An={Binary:{ADD:0,SUBTRACT:1,MULTIPLY:2,DIVIDE:3,MODULO:4,EQUAL:5,NOT_EQUAL:6,GREATER_THAN:7,GREATER_EQUAL:8,LESS_THAN:9,LESS_EQUAL:10,LOGICAL_AND:11,LOGICAL_OR:12,MEMBER_ACCESS:13},Unary:{LOGICAL_NOT:100,NEGATE:101,PLUS:102,SWIZZLE:103},Nary:{FUNCTION_CALL:200,CONSTRUCTOR:201}},DM=[{arity:"unary",name:"not",symbol:"!",opCode:An.Unary.LOGICAL_NOT},{arity:"unary",name:"neg",symbol:"-",opCode:An.Unary.NEGATE},{arity:"unary",name:"plus",symbol:"+",opCode:An.Unary.PLUS},{arity:"binary",name:"add",symbol:"+",opCode:An.Binary.ADD},{arity:"binary",name:"sub",symbol:"-",opCode:An.Binary.SUBTRACT},{arity:"binary",name:"mult",symbol:"*",opCode:An.Binary.MULTIPLY},{arity:"binary",name:"div",symbol:"/",opCode:An.Binary.DIVIDE},{arity:"binary",name:"mod",symbol:"%",opCode:An.Binary.MODULO},{arity:"binary",name:"equalTo",symbol:"==",opCode:An.Binary.EQUAL},{arity:"binary",name:"notEqual",symbol:"!=",opCode:An.Binary.NOT_EQUAL},{arity:"binary",name:"greaterThan",symbol:">",opCode:An.Binary.GREATER_THAN},{arity:"binary",name:"greaterEqual",symbol:">=",opCode:An.Binary.GREATER_EQUAL},{arity:"binary",name:"lessThan",symbol:"<",opCode:An.Binary.LESS_THAN},{arity:"binary",name:"lessEqual",symbol:"<=",opCode:An.Binary.LESS_EQUAL},{arity:"binary",name:"and",symbol:"&&",opCode:An.Binary.LOGICAL_AND},{arity:"binary",name:"or",symbol:"||",opCode:An.Binary.LOGICAL_OR}],hm={},NM={};for(const{symbol:n,opCode:t,name:r,arity:i}of DM)hm[t]=n,i==="unary"&&(NM[n]=r);const qt={GLOBAL:"global",FUNCTION:"function",BRANCH:"branch",IF_COND:"if_cond",IF_BODY:"if_body",ELSE_COND:"else_cond",SCOPE_START:"scope_start",SCOPE_END:"scope_end",FOR:"for",MERGE:"merge",DEFAULT:"default"};Object.fromEntries(Object.entries(qt).map(([n,t])=>[t,n]));function eu(n){const t=`[p5.strands internal error]: ${n}`;throw new Error(t)}function Yi(n,t){const r=`[p5.strands ${n}]: ${t}`;throw new Error(r)}function DC(){return{nextID:0,cache:new Map,nodeTypes:[],baseTypes:[],dimensions:[],opCodes:[],values:[],identifiers:[],phiBlocks:[],dependsOn:[],usedBy:[],statementTypes:[],swizzles:[]}}function Dn(n,t){return Oie(n,t)}function Ln(n={}){const t={nodeType:n.nodeType??null,baseType:n.baseType??null,dimension:n.dimension??null,opCode:n.opCode??null,value:n.value??null,identifier:n.identifier??null,statementType:n.statementType??null,swizzle:n.swizzle??null,dependsOn:Array.isArray(n.dependsOn)?n.dependsOn:[],usedBy:Array.isArray(n.usedBy)?n.usedBy:[],phiBlocks:Array.isArray(n.phiBlocks)?n.phiBlocks:[]};return Pie(t),t}function Dr(n,t){return{id:t,nodeType:n.nodeTypes[t],opCode:n.opCodes[t],value:n.values[t],identifier:n.identifiers[t],dependsOn:n.dependsOn[t],usedBy:n.usedBy[t],phiBlocks:n.phiBlocks[t],dimension:n.dimensions[t],baseType:n.baseTypes[t],statementType:n.statementTypes[t],swizzle:n.swizzles[t]}}function fm(n,t){return{baseType:n.baseTypes[t],dimension:n.dimensions[t],priority:IM[n.baseTypes[t]]}}function Oie(n,t){const r=n.nextID++;n.nodeTypes[r]=t.nodeType,n.opCodes[r]=t.opCode,n.values[r]=t.value,n.identifiers[r]=t.identifier,n.dependsOn[r]=t.dependsOn.slice(),n.usedBy[r]=t.usedBy,n.phiBlocks[r]=t.phiBlocks.slice(),n.baseTypes[r]=t.baseType,n.dimensions[r]=t.dimension,n.statementTypes[r]=t.statementType,n.swizzles[r]=t.swizzle;for(const i of t.dependsOn)Array.isArray(n.usedBy[i])||(n.usedBy[i]=[]),n.usedBy[i].push(r);return r}function Pie(n){const t=n.nodeType,r=Fie[t];r.length===2&&eu(`Required fields for node type '${a1[t]}' not defined. Please add them to the utils.js file in p5.strands!`);const i=[];for(const s of r)n[s]===null&&i.push(s);if(n.dependsOn?.some(s=>s===void 0))throw new Error("Undefined dependency!");i.length>0&&eu(`Missing fields ${i.join(", ")} for a node type '${a1[t]}'.`)}function NC(n,t){return n.nodeTypes[t]!==Nt.OPERATION||n.baseTypes[t]===Xt.SAMPLER2D?!1:(n.usedBy[t]||[]).length>1}const Lie={float1:"float",float2:"vec2",float3:"vec3",float4:"vec4",int1:"int",int2:"ivec2",int3:"ivec3",int4:"ivec4",bool1:"bool",bool2:"bvec2",bool3:"bvec3",bool4:"bvec4",mat2:"mat2x2",mat3:"mat3x3",mat4:"mat4x4"},vv={[qt.DEFAULT]:(n,t,r)=>{const{dag:i,cfg:s}=t,o=s.blockInstructions[n]||[];for(const a of o){const l=i.nodeTypes[a];if(NC(i,a)){const u=oo.generateDeclaration(r,i,a);r.write(u)}l===Nt.STATEMENT&&oo.generateStatement(r,i,a),l===Nt.ASSIGNMENT&&(oo.generateAssignment(r,i,a),r.visitedNodes.add(a))}},[qt.BRANCH](n,t,r){const{dag:i,cfg:s}=t,o=s.blockInstructions[n]||[];for(const a of o){const l=Dr(i,a);if(l.nodeType===Nt.PHI){const u=l.dependsOn||[];if(u.length>0){const d=u[0],p=r.tempNames[d];if(p){r.tempNames[a]=p;continue}}const h=`T${r.nextTempID++}`;r.tempNames[a]=h;const c=fm(i,a),f=oo.getTypeName(c.baseType,c.dimension);r.write(`${f} ${h};`)}}this[qt.DEFAULT](n,t,r)},[qt.IF_COND](n,t,r){const{dag:i,cfg:s}=t,o=s.blockConditions[n],a=oo.generateExpression(r,i,o);r.write(`if (${a})`),this[qt.DEFAULT](n,t,r)},[qt.ELSE_COND](n,t,r){r.write("else"),this[qt.DEFAULT](n,t,r)},[qt.IF_BODY](n,t,r){this[qt.DEFAULT](n,t,r),this.assignPhiNodeValues(n,t,r)},[qt.SCOPE_START](n,t,r){r.write("{"),r.indent++},[qt.SCOPE_END](n,t,r){r.indent--,r.write("}")},[qt.MERGE](n,t,r){this[qt.DEFAULT](n,t,r)},[qt.FUNCTION](n,t,r){this[qt.DEFAULT](n,t,r)},[qt.FOR](n,t,r){const{dag:i,cfg:s}=t,o=s.blockInstructions[n]||[];r.write("for (");const a=r.suppressSemicolon;for(let l=0;l<o.length;l++){const u=o[l],h=Dr(i,u),c=l===o.length-1;if(r.suppressSemicolon=c,NC(i,u)){const f=oo.generateDeclaration(r,i,u);r.write(f)}h.nodeType===Nt.STATEMENT&&oo.generateStatement(r,i,u),h.nodeType===Nt.ASSIGNMENT&&(oo.generateAssignment(r,i,u),r.visitedNodes.add(u))}r.suppressSemicolon=a,r.write(")")},assignPhiNodeValues(n,t,r){const{dag:i,cfg:s}=t,o=s.outgoingEdges[n]||[];for(const a of o){const l=s.blockInstructions[a]||[];for(const u of l){const h=Dr(i,u);if(h.nodeType===Nt.PHI){const c=h.phiBlocks?.indexOf(n);if(c!==-1&&c<h.dependsOn.length){const f=h.dependsOn[c],d=r.tempNames[u];if(d&&f!==null){const p=oo.generateExpression(r,i,f);r.write(`${d} = ${p};`)}}}}}}},oo={hookEntry(n){return`(${n.parameters.flatMap(r=>`${r.qualifiers?.length?r.qualifiers.join(" "):""}${r.type.typeName} ${r.name}`).join(", ")}) {`},getTypeName(n,t){const r=Lie[n+t];return r||n},generateUniformDeclaration(n,t){return`${this.getTypeName(t.baseType,t.dimension)} ${n}`},generateStatement(n,t,r){const i=Dr(t,r),s=n.suppressSemicolon?"":";";if(i.statementType===zs.DISCARD)n.write(`discard${s}`);else if(i.statementType===zs.BREAK)n.write(`break${s}`);else if(i.statementType===zs.EXPRESSION){const o=i.dependsOn[0],a=this.generateExpression(n,t,o);n.write(`${a}${s}`)}else i.statementType===zs.EMPTY&&n.write(s)},generateAssignment(n,t,r){const i=Dr(t,r),s=i.dependsOn[0],o=i.dependsOn[1],a=this.generateExpression(n,t,s),l=this.generateExpression(n,t,o),u=n.suppressSemicolon?"":";";a&&l&&a!==l&&n.write(`${a} = ${l}${u}`)},generateDeclaration(n,t,r){const i=this.generateExpression(n,t,r),s=`T${n.nextTempID++}`;n.tempNames[r]=s;const o=fm(t,r);return`${this.getTypeName(o.baseType,o.dimension)} ${s} = ${i};`},generateReturnStatement(n,t,r,i){const s=n.dag,o=Dr(s,r);if(kx(o.baseType)){const a=i;for(let l=0;l<a.properties.length;l++){const u=a.properties[l],h=this.generateExpression(t,s,o.dependsOn[l]);u.name!==h&&t.write(`${o.identifier}.${u.name} = ${h};`)}}t.write(`return ${this.generateExpression(t,s,r)};`)},generateExpression(n,t,r){const i=Dr(t,r);if(n.tempNames?.[r])return n.tempNames[r];switch(i.nodeType){case Nt.LITERAL:return i.baseType===Xt.FLOAT?i.value.toFixed(4):i.value;case Nt.VARIABLE:if(n.shaderContext&&n.strandsContext?.sharedVariables?.has(i.identifier)){const o=n.strandsContext.sharedVariables.get(i.identifier);n.shaderContext==="vertex"?o.usedInVertex=!0:n.shaderContext==="fragment"&&(o.usedInFragment=!0)}return i.identifier;case Nt.OPERATION:const s=i.usedBy.length>0;if(i.opCode===An.Nary.CONSTRUCTOR){if(i.baseType===Xt.SAMPLER2D)return this.generateExpression(n,t,i.dependsOn[0]);const o=this.getTypeName(i.baseType,i.dimension),a=i.dependsOn.map(l=>this.generateExpression(n,t,l));return`${o}(${a.join(", ")})`}if(i.opCode===An.Nary.FUNCTION_CALL){const o=i.dependsOn.map(a=>this.generateExpression(n,t,a));return`${i.identifier}(${o.join(", ")})`}if(i.opCode===An.Binary.MEMBER_ACCESS){const[o,a]=i.dependsOn,l=this.generateExpression(n,t,o),u=this.generateExpression(n,t,a);return`${l}.${u}`}if(i.opCode===An.Unary.SWIZZLE){const o=i.dependsOn[0];return`${this.generateExpression(n,t,o)}.${i.swizzle}`}if(i.dependsOn.length===2){const[o,a]=i.dependsOn,l=this.generateExpression(n,t,o),u=this.generateExpression(n,t,a);if(i.opCode===An.Binary.MODULO){const c=Dr(t,o),f=Dr(t,a);return c.baseType===Xt.FLOAT||f.baseType===Xt.FLOAT?`mod(${l}, ${u})`:`(${l} % ${u})`}const h=hm[i.opCode];return s?`(${l} ${h} ${u})`:`${l} ${h} ${u}`}if(i.opCode===An.Unary.LOGICAL_NOT||i.opCode===An.Unary.NEGATE||i.opCode===An.Unary.PLUS){const[o]=i.dependsOn,a=this.generateExpression(n,t,o);return`${hm[i.opCode]}${a}`}case Nt.PHI:if(i.identifier)return i.identifier;if(n.tempNames?.[r])return n.tempNames[r];{const o=i.dependsOn.filter(a=>a!==null);if(o.length>0)return this.generateExpression(n,t,o[0]);throw new Error("No valid inputs for node")}case Nt.ASSIGNMENT:eu("ASSIGNMENT nodes should not be used as expressions");default:eu(`${a1[i.nodeType]} code generation not implemented yet`)}},generateBlock(n,t,r){const i=t.cfg.blockTypes[n];(vv[i]||vv[qt.DEFAULT]).call(vv,n,t,r)}};var yv={},bv={},FC;function Rie(){return FC||(FC=1,(function(n){(function t(r){var i,s,o,a,l,u;function h(w){var E={},_,T;for(_ in w)w.hasOwnProperty(_)&&(T=w[_],typeof T=="object"&&T!==null?E[_]=h(T):E[_]=T);return E}function c(w,E){var _,T,C,F;for(T=w.length,C=0;T;)_=T>>>1,F=C+_,E(w[F])?T=_:(C=F+1,T-=_+1);return C}i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},o={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},a={},l={},u={},s={Break:a,Skip:l,Remove:u};function f(w,E){this.parent=w,this.key=E}f.prototype.replace=function(E){this.parent[this.key]=E},f.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function d(w,E,_,T){this.node=w,this.path=E,this.wrap=_,this.ref=T}function p(){}p.prototype.path=function(){var E,_,T,C,F,k;function D(N,M){if(Array.isArray(M))for(T=0,C=M.length;T<C;++T)N.push(M[T]);else N.push(M)}if(!this.__current.path)return null;for(F=[],E=2,_=this.__leavelist.length;E<_;++E)k=this.__leavelist[E],D(F,k.path);return D(F,this.__current.path),F},p.prototype.type=function(){var w=this.current();return w.type||this.__current.wrap},p.prototype.parents=function(){var E,_,T;for(T=[],E=1,_=this.__leavelist.length;E<_;++E)T.push(this.__leavelist[E].node);return T},p.prototype.current=function(){return this.__current.node},p.prototype.__execute=function(E,_){var T,C;return C=void 0,T=this.__current,this.__current=_,this.__state=null,E&&(C=E.call(this,_.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=T,C},p.prototype.notify=function(E){this.__state=E},p.prototype.skip=function(){this.notify(l)},p.prototype.break=function(){this.notify(a)},p.prototype.remove=function(){this.notify(u)},p.prototype.__initialize=function(w,E){this.visitor=E,this.root=w,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,E.fallback==="iteration"?this.__fallback=Object.keys:typeof E.fallback=="function"&&(this.__fallback=E.fallback),this.__keys=o,E.keys&&(this.__keys=Object.assign(Object.create(this.__keys),E.keys))};function m(w){return w==null?!1:typeof w=="object"&&typeof w.type=="string"}function g(w,E){return(w===i.ObjectExpression||w===i.ObjectPattern)&&E==="properties"}function v(w,E){for(var _=w.length-1;_>=0;--_)if(w[_].node===E)return!0;return!1}p.prototype.traverse=function(E,_){var T,C,F,k,D,N,M,U,R,W,ne,ge;for(this.__initialize(E,_),ge={},T=this.__worklist,C=this.__leavelist,T.push(new d(E,null,null,null)),C.push(new d(null,null,null,null));T.length;){if(F=T.pop(),F===ge){if(F=C.pop(),N=this.__execute(_.leave,F),this.__state===a||N===a)return;continue}if(F.node){if(N=this.__execute(_.enter,F),this.__state===a||N===a)return;if(T.push(ge),C.push(F),this.__state===l||N===l)continue;if(k=F.node,D=k.type||F.wrap,W=this.__keys[D],!W)if(this.__fallback)W=this.__fallback(k);else throw new Error("Unknown node type "+D+".");for(U=W.length;(U-=1)>=0;)if(M=W[U],ne=k[M],!!ne){if(Array.isArray(ne)){for(R=ne.length;(R-=1)>=0;)if(ne[R]&&!v(C,ne[R])){if(g(D,W[U]))F=new d(ne[R],[M,R],"Property",null);else if(m(ne[R]))F=new d(ne[R],[M,R],null,null);else continue;T.push(F)}}else if(m(ne)){if(v(C,ne))continue;T.push(new d(ne,M,null,null))}}}}},p.prototype.replace=function(E,_){var T,C,F,k,D,N,M,U,R,W,ne,ge,te;function J(ae){var xe,Z,G,ye;if(ae.ref.remove()){for(Z=ae.ref.key,ye=ae.ref.parent,xe=T.length;xe--;)if(G=T[xe],G.ref&&G.ref.parent===ye){if(G.ref.key<Z)break;--G.ref.key}}}for(this.__initialize(E,_),ne={},T=this.__worklist,C=this.__leavelist,ge={root:E},N=new d(E,null,null,new f(ge,"root")),T.push(N),C.push(N);T.length;){if(N=T.pop(),N===ne){if(N=C.pop(),D=this.__execute(_.leave,N),D!==void 0&&D!==a&&D!==l&&D!==u&&N.ref.replace(D),(this.__state===u||D===u)&&J(N),this.__state===a||D===a)return ge.root;continue}if(D=this.__execute(_.enter,N),D!==void 0&&D!==a&&D!==l&&D!==u&&(N.ref.replace(D),N.node=D),(this.__state===u||D===u)&&(J(N),N.node=null),this.__state===a||D===a)return ge.root;if(F=N.node,!!F&&(T.push(ne),C.push(N),!(this.__state===l||D===l))){if(k=F.type||N.wrap,R=this.__keys[k],!R)if(this.__fallback)R=this.__fallback(F);else throw new Error("Unknown node type "+k+".");for(M=R.length;(M-=1)>=0;)if(te=R[M],W=F[te],!!W)if(Array.isArray(W)){for(U=W.length;(U-=1)>=0;)if(W[U]){if(g(k,R[M]))N=new d(W[U],[te,U],"Property",new f(W,U));else if(m(W[U]))N=new d(W[U],[te,U],null,new f(W,U));else continue;T.push(N)}}else m(W)&&T.push(new d(W,te,null,new f(F,te)))}}return ge.root};function S(w,E){var _=new p;return _.traverse(w,E)}function y(w,E){var _=new p;return _.replace(w,E)}function x(w,E){var _;return _=c(E,function(C){return C.range[0]>w.range[0]}),w.extendedRange=[w.range[0],w.range[1]],_!==E.length&&(w.extendedRange[1]=E[_].range[0]),_-=1,_>=0&&(w.extendedRange[0]=E[_].range[1]),w}function b(w,E,_){var T=[],C,F,k,D;if(!w.range)throw new Error("attachComments needs range information");if(!_.length){if(E.length){for(k=0,F=E.length;k<F;k+=1)C=h(E[k]),C.extendedRange=[0,w.range[0]],T.push(C);w.leadingComments=T}return w}for(k=0,F=E.length;k<F;k+=1)T.push(x(h(E[k]),_));return D=0,S(w,{enter:function(N){for(var M;D<T.length&&(M=T[D],!(M.extendedRange[1]>N.range[0]));)M.extendedRange[1]===N.range[0]?(N.leadingComments||(N.leadingComments=[]),N.leadingComments.push(M),T.splice(D,1)):D+=1;if(D===T.length)return s.Break;if(T[D].extendedRange[0]>N.range[1])return s.Skip}}),D=0,S(w,{leave:function(N){for(var M;D<T.length&&(M=T[D],!(N.range[1]<M.extendedRange[0]));)N.range[1]===M.extendedRange[0]?(N.trailingComments||(N.trailingComments=[]),N.trailingComments.push(M),T.splice(D,1)):D+=1;if(D===T.length)return s.Break;if(T[D].extendedRange[0]>N.range[1])return s.Skip}}),w}return r.Syntax=i,r.traverse=S,r.replace=y,r.attachComments=b,r.VisitorKeys=o,r.VisitorOption=s,r.Controller=p,r.cloneEnvironment=function(){return t({})},r})(n)})(bv)),bv}var qc={},xv={exports:{}},kC;function Bie(){return kC||(kC=1,(function(){function n(a){if(a==null)return!1;switch(a.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function t(a){if(a==null)return!1;switch(a.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function r(a){if(a==null)return!1;switch(a.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(a){return r(a)||a!=null&&a.type==="FunctionDeclaration"}function s(a){switch(a.type){case"IfStatement":return a.alternate!=null?a.alternate:a.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return a.body}return null}function o(a){var l;if(a.type!=="IfStatement"||a.alternate==null)return!1;l=a.consequent;do{if(l.type==="IfStatement"&&l.alternate==null)return!0;l=s(l)}while(l);return!1}xv.exports={isExpression:n,isStatement:r,isIterationStatement:t,isSourceElement:i,isProblematicIfStatement:o,trailingStatement:s}})()),xv.exports}var _v={exports:{}},MC;function FM(){return MC||(MC=1,(function(){var n,t,r,i,s,o;t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function a(v){return 48<=v&&v<=57}function l(v){return 48<=v&&v<=57||97<=v&&v<=102||65<=v&&v<=70}function u(v){return v>=48&&v<=55}r=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function h(v){return v===32||v===9||v===11||v===12||v===160||v>=5760&&r.indexOf(v)>=0}function c(v){return v===10||v===13||v===8232||v===8233}function f(v){if(v<=65535)return String.fromCharCode(v);var S=String.fromCharCode(Math.floor((v-65536)/1024)+55296),y=String.fromCharCode((v-65536)%1024+56320);return S+y}for(i=new Array(128),o=0;o<128;++o)i[o]=o>=97&&o<=122||o>=65&&o<=90||o===36||o===95;for(s=new Array(128),o=0;o<128;++o)s[o]=o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===36||o===95;function d(v){return v<128?i[v]:t.NonAsciiIdentifierStart.test(f(v))}function p(v){return v<128?s[v]:t.NonAsciiIdentifierPart.test(f(v))}function m(v){return v<128?i[v]:n.NonAsciiIdentifierStart.test(f(v))}function g(v){return v<128?s[v]:n.NonAsciiIdentifierPart.test(f(v))}_v.exports={isDecimalDigit:a,isHexDigit:l,isOctalDigit:u,isWhiteSpace:h,isLineTerminator:c,isIdentifierStartES5:d,isIdentifierPartES5:p,isIdentifierStartES6:m,isIdentifierPartES6:g}})()),_v.exports}var wv={exports:{}},OC;function Uie(){return OC||(OC=1,(function(){var n=FM();function t(d){switch(d){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function r(d,p){return!p&&d==="yield"?!1:i(d,p)}function i(d,p){if(p&&t(d))return!0;switch(d.length){case 2:return d==="if"||d==="in"||d==="do";case 3:return d==="var"||d==="for"||d==="new"||d==="try";case 4:return d==="this"||d==="else"||d==="case"||d==="void"||d==="with"||d==="enum";case 5:return d==="while"||d==="break"||d==="catch"||d==="throw"||d==="const"||d==="yield"||d==="class"||d==="super";case 6:return d==="return"||d==="typeof"||d==="delete"||d==="switch"||d==="export"||d==="import";case 7:return d==="default"||d==="finally"||d==="extends";case 8:return d==="function"||d==="continue"||d==="debugger";case 10:return d==="instanceof";default:return!1}}function s(d,p){return d==="null"||d==="true"||d==="false"||r(d,p)}function o(d,p){return d==="null"||d==="true"||d==="false"||i(d,p)}function a(d){return d==="eval"||d==="arguments"}function l(d){var p,m,g;if(d.length===0||(g=d.charCodeAt(0),!n.isIdentifierStartES5(g)))return!1;for(p=1,m=d.length;p<m;++p)if(g=d.charCodeAt(p),!n.isIdentifierPartES5(g))return!1;return!0}function u(d,p){return(d-55296)*1024+(p-56320)+65536}function h(d){var p,m,g,v,S;if(d.length===0)return!1;for(S=n.isIdentifierStartES6,p=0,m=d.length;p<m;++p){if(g=d.charCodeAt(p),55296<=g&&g<=56319){if(++p,p>=m||(v=d.charCodeAt(p),!(56320<=v&&v<=57343)))return!1;g=u(g,v)}if(!S(g))return!1;S=n.isIdentifierPartES6}return!0}function c(d,p){return l(d)&&!s(d,p)}function f(d,p){return h(d)&&!o(d,p)}wv.exports={isKeywordES5:r,isKeywordES6:i,isReservedWordES5:s,isReservedWordES6:o,isRestrictedWord:a,isIdentifierNameES5:l,isIdentifierNameES6:h,isIdentifierES5:c,isIdentifierES6:f}})()),wv.exports}var PC;function Vie(){return PC||(PC=1,(function(){qc.ast=Bie(),qc.code=FM(),qc.keyword=Uie()})()),qc}var Yc={},Ev={},Ld={},Rd={},LC;function $ie(){if(LC)return Rd;LC=1;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Rd.encode=function(t){if(0<=t&&t<n.length)return n[t];throw new TypeError("Must be between 0 and 63: "+t)},Rd.decode=function(t){var r=65,i=90,s=97,o=122,a=48,l=57,u=43,h=47,c=26,f=52;return r<=t&&t<=i?t-r:s<=t&&t<=o?t-s+c:a<=t&&t<=l?t-a+f:t==u?62:t==h?63:-1},Rd}var RC;function kM(){if(RC)return Ld;RC=1;var n=$ie(),t=5,r=1<<t,i=r-1,s=r;function o(l){return l<0?(-l<<1)+1:(l<<1)+0}function a(l){var u=(l&1)===1,h=l>>1;return u?-h:h}return Ld.encode=function(u){var h="",c,f=o(u);do c=f&i,f>>>=t,f>0&&(c|=s),h+=n.encode(c);while(f>0);return h},Ld.decode=function(u,h,c){var f=u.length,d=0,p=0,m,g;do{if(h>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(g=n.decode(u.charCodeAt(h++)),g===-1)throw new Error("Invalid base64 digit: "+u.charAt(h-1));m=!!(g&s),g&=i,d=d+(g<<p),p+=t}while(m);c.value=a(d),c.rest=h},Ld}var Sv={},BC;function Mf(){return BC||(BC=1,(function(n){function t(b,w,E){if(w in b)return b[w];if(arguments.length===3)return E;throw new Error('"'+w+'" is a required argument.')}n.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function s(b){var w=b.match(r);return w?{scheme:w[1],auth:w[2],host:w[3],port:w[4],path:w[5]}:null}n.urlParse=s;function o(b){var w="";return b.scheme&&(w+=b.scheme+":"),w+="//",b.auth&&(w+=b.auth+"@"),b.host&&(w+=b.host),b.port&&(w+=":"+b.port),b.path&&(w+=b.path),w}n.urlGenerate=o;function a(b){var w=b,E=s(b);if(E){if(!E.path)return b;w=E.path}for(var _=n.isAbsolute(w),T=w.split(/\/+/),C,F=0,k=T.length-1;k>=0;k--)C=T[k],C==="."?T.splice(k,1):C===".."?F++:F>0&&(C===""?(T.splice(k+1,F),F=0):(T.splice(k,2),F--));return w=T.join("/"),w===""&&(w=_?"/":"."),E?(E.path=w,o(E)):w}n.normalize=a;function l(b,w){b===""&&(b="."),w===""&&(w=".");var E=s(w),_=s(b);if(_&&(b=_.path||"/"),E&&!E.scheme)return _&&(E.scheme=_.scheme),o(E);if(E||w.match(i))return w;if(_&&!_.host&&!_.path)return _.host=w,o(_);var T=w.charAt(0)==="/"?w:a(b.replace(/\/+$/,"")+"/"+w);return _?(_.path=T,o(_)):T}n.join=l,n.isAbsolute=function(b){return b.charAt(0)==="/"||r.test(b)};function u(b,w){b===""&&(b="."),b=b.replace(/\/$/,"");for(var E=0;w.indexOf(b+"/")!==0;){var _=b.lastIndexOf("/");if(_<0||(b=b.slice(0,_),b.match(/^([^\/]+:\/)?\/*$/)))return w;++E}return Array(E+1).join("../")+w.substr(b.length+1)}n.relative=u;var h=(function(){var b=Object.create(null);return!("__proto__"in b)})();function c(b){return b}function f(b){return p(b)?"$"+b:b}n.toSetString=h?c:f;function d(b){return p(b)?b.slice(1):b}n.fromSetString=h?c:d;function p(b){if(!b)return!1;var w=b.length;if(w<9||b.charCodeAt(w-1)!==95||b.charCodeAt(w-2)!==95||b.charCodeAt(w-3)!==111||b.charCodeAt(w-4)!==116||b.charCodeAt(w-5)!==111||b.charCodeAt(w-6)!==114||b.charCodeAt(w-7)!==112||b.charCodeAt(w-8)!==95||b.charCodeAt(w-9)!==95)return!1;for(var E=w-10;E>=0;E--)if(b.charCodeAt(E)!==36)return!1;return!0}function m(b,w,E){var _=v(b.source,w.source);return _!==0||(_=b.originalLine-w.originalLine,_!==0)||(_=b.originalColumn-w.originalColumn,_!==0||E)||(_=b.generatedColumn-w.generatedColumn,_!==0)||(_=b.generatedLine-w.generatedLine,_!==0)?_:v(b.name,w.name)}n.compareByOriginalPositions=m;function g(b,w,E){var _=b.generatedLine-w.generatedLine;return _!==0||(_=b.generatedColumn-w.generatedColumn,_!==0||E)||(_=v(b.source,w.source),_!==0)||(_=b.originalLine-w.originalLine,_!==0)||(_=b.originalColumn-w.originalColumn,_!==0)?_:v(b.name,w.name)}n.compareByGeneratedPositionsDeflated=g;function v(b,w){return b===w?0:b===null?1:w===null?-1:b>w?1:-1}function S(b,w){var E=b.generatedLine-w.generatedLine;return E!==0||(E=b.generatedColumn-w.generatedColumn,E!==0)||(E=v(b.source,w.source),E!==0)||(E=b.originalLine-w.originalLine,E!==0)||(E=b.originalColumn-w.originalColumn,E!==0)?E:v(b.name,w.name)}n.compareByGeneratedPositionsInflated=S;function y(b){return JSON.parse(b.replace(/^\)]}'[^\n]*\n/,""))}n.parseSourceMapInput=y;function x(b,w,E){if(w=w||"",b&&(b[b.length-1]!=="/"&&w[0]!=="/"&&(b+="/"),w=b+w),E){var _=s(E);if(!_)throw new Error("sourceMapURL could not be parsed");if(_.path){var T=_.path.lastIndexOf("/");T>=0&&(_.path=_.path.substring(0,T+1))}w=l(o(_),w)}return a(w)}n.computeSourceURL=x})(Sv)),Sv}var Cv={},UC;function MM(){if(UC)return Cv;UC=1;var n=Mf(),t=Object.prototype.hasOwnProperty,r=typeof Map<"u";function i(){this._array=[],this._set=r?new Map:Object.create(null)}return i.fromArray=function(o,a){for(var l=new i,u=0,h=o.length;u<h;u++)l.add(o[u],a);return l},i.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(o,a){var l=r?o:n.toSetString(o),u=r?this.has(o):t.call(this._set,l),h=this._array.length;(!u||a)&&this._array.push(o),u||(r?this._set.set(o,h):this._set[l]=h)},i.prototype.has=function(o){if(r)return this._set.has(o);var a=n.toSetString(o);return t.call(this._set,a)},i.prototype.indexOf=function(o){if(r){var a=this._set.get(o);if(a>=0)return a}else{var l=n.toSetString(o);if(t.call(this._set,l))return this._set[l]}throw new Error('"'+o+'" is not in the set.')},i.prototype.at=function(o){if(o>=0&&o<this._array.length)return this._array[o];throw new Error("No element indexed by "+o)},i.prototype.toArray=function(){return this._array.slice()},Cv.ArraySet=i,Cv}var Av={},VC;function jie(){if(VC)return Av;VC=1;var n=Mf();function t(i,s){var o=i.generatedLine,a=s.generatedLine,l=i.generatedColumn,u=s.generatedColumn;return a>o||a==o&&u>=l||n.compareByGeneratedPositionsInflated(i,s)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(s,o){this._array.forEach(s,o)},r.prototype.add=function(s){t(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Av.MappingList=r,Av}var $C;function OM(){if($C)return Ev;$C=1;var n=kM(),t=Mf(),r=MM().ArraySet,i=jie().MappingList;function s(o){o||(o={}),this._file=t.getArg(o,"file",null),this._sourceRoot=t.getArg(o,"sourceRoot",null),this._skipValidation=t.getArg(o,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new i,this._sourcesContents=null}return s.prototype._version=3,s.fromSourceMap=function(a){var l=a.sourceRoot,u=new s({file:a.file,sourceRoot:l});return a.eachMapping(function(h){var c={generated:{line:h.generatedLine,column:h.generatedColumn}};h.source!=null&&(c.source=h.source,l!=null&&(c.source=t.relative(l,c.source)),c.original={line:h.originalLine,column:h.originalColumn},h.name!=null&&(c.name=h.name)),u.addMapping(c)}),a.sources.forEach(function(h){var c=h;l!==null&&(c=t.relative(l,h)),u._sources.has(c)||u._sources.add(c);var f=a.sourceContentFor(h);f!=null&&u.setSourceContent(h,f)}),u},s.prototype.addMapping=function(a){var l=t.getArg(a,"generated"),u=t.getArg(a,"original",null),h=t.getArg(a,"source",null),c=t.getArg(a,"name",null);this._skipValidation||this._validateMapping(l,u,h,c),h!=null&&(h=String(h),this._sources.has(h)||this._sources.add(h)),c!=null&&(c=String(c),this._names.has(c)||this._names.add(c)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:u!=null&&u.line,originalColumn:u!=null&&u.column,source:h,name:c})},s.prototype.setSourceContent=function(a,l){var u=a;this._sourceRoot!=null&&(u=t.relative(this._sourceRoot,u)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(u)]=l):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(u)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(a,l,u){var h=l;if(l==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);h=a.file}var c=this._sourceRoot;c!=null&&(h=t.relative(c,h));var f=new r,d=new r;this._mappings.unsortedForEach(function(p){if(p.source===h&&p.originalLine!=null){var m=a.originalPositionFor({line:p.originalLine,column:p.originalColumn});m.source!=null&&(p.source=m.source,u!=null&&(p.source=t.join(u,p.source)),c!=null&&(p.source=t.relative(c,p.source)),p.originalLine=m.line,p.originalColumn=m.column,m.name!=null&&(p.name=m.name))}var g=p.source;g!=null&&!f.has(g)&&f.add(g);var v=p.name;v!=null&&!d.has(v)&&d.add(v)},this),this._sources=f,this._names=d,a.sources.forEach(function(p){var m=a.sourceContentFor(p);m!=null&&(u!=null&&(p=t.join(u,p)),c!=null&&(p=t.relative(c,p)),this.setSourceContent(p,m))},this)},s.prototype._validateMapping=function(a,l,u,h){if(l&&typeof l.line!="number"&&typeof l.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!l&&!u&&!h)){if(a&&"line"in a&&"column"in a&&l&&"line"in l&&"column"in l&&a.line>0&&a.column>=0&&l.line>0&&l.column>=0&&u)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:u,original:l,name:h}))}},s.prototype._serializeMappings=function(){for(var a=0,l=1,u=0,h=0,c=0,f=0,d="",p,m,g,v,S=this._mappings.toArray(),y=0,x=S.length;y<x;y++){if(m=S[y],p="",m.generatedLine!==l)for(a=0;m.generatedLine!==l;)p+=";",l++;else if(y>0){if(!t.compareByGeneratedPositionsInflated(m,S[y-1]))continue;p+=","}p+=n.encode(m.generatedColumn-a),a=m.generatedColumn,m.source!=null&&(v=this._sources.indexOf(m.source),p+=n.encode(v-f),f=v,p+=n.encode(m.originalLine-1-h),h=m.originalLine-1,p+=n.encode(m.originalColumn-u),u=m.originalColumn,m.name!=null&&(g=this._names.indexOf(m.name),p+=n.encode(g-c),c=g)),d+=p}return d},s.prototype._generateSourcesContent=function(a,l){return a.map(function(u){if(!this._sourcesContents)return null;l!=null&&(u=t.relative(l,u));var h=t.toSetString(u);return Object.prototype.hasOwnProperty.call(this._sourcesContents,h)?this._sourcesContents[h]:null},this)},s.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},Ev.SourceMapGenerator=s,Ev}var Kc={},Tv={},jC;function zie(){return jC||(jC=1,(function(n){n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2;function t(r,i,s,o,a,l){var u=Math.floor((i-r)/2)+r,h=a(s,o[u],!0);return h===0?u:h>0?i-u>1?t(u,i,s,o,a,l):l==n.LEAST_UPPER_BOUND?i<o.length?i:-1:u:u-r>1?t(r,u,s,o,a,l):l==n.LEAST_UPPER_BOUND?u:r<0?-1:r}n.search=function(i,s,o,a){if(s.length===0)return-1;var l=t(-1,s.length,i,s,o,a||n.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&o(s[l],s[l-1],!0)===0;)--l;return l}})(Tv)),Tv}var Iv={},zC;function Gie(){if(zC)return Iv;zC=1;function n(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function t(i,s){return Math.round(i+Math.random()*(s-i))}function r(i,s,o,a){if(o<a){var l=t(o,a),u=o-1;n(i,l,a);for(var h=i[a],c=o;c<a;c++)s(i[c],h)<=0&&(u+=1,n(i,u,c));n(i,u+1,c);var f=u+1;r(i,s,o,f-1),r(i,s,f+1,a)}}return Iv.quickSort=function(i,s){r(i,s,0,i.length-1)},Iv}var GC;function Hie(){if(GC)return Kc;GC=1;var n=Mf(),t=zie(),r=MM().ArraySet,i=kM(),s=Gie().quickSort;function o(h,c){var f=h;return typeof h=="string"&&(f=n.parseSourceMapInput(h)),f.sections!=null?new u(f,c):new a(f,c)}o.fromSourceMap=function(h,c){return a.fromSourceMap(h,c)},o.prototype._version=3,o.prototype.__generatedMappings=null,Object.defineProperty(o.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),o.prototype.__originalMappings=null,Object.defineProperty(o.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),o.prototype._charIsMappingSeparator=function(c,f){var d=c.charAt(f);return d===";"||d===","},o.prototype._parseMappings=function(c,f){throw new Error("Subclasses must implement _parseMappings")},o.GENERATED_ORDER=1,o.ORIGINAL_ORDER=2,o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.prototype.eachMapping=function(c,f,d){var p=f||null,m=d||o.GENERATED_ORDER,g;switch(m){case o.GENERATED_ORDER:g=this._generatedMappings;break;case o.ORIGINAL_ORDER:g=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;g.map(function(S){var y=S.source===null?null:this._sources.at(S.source);return y=n.computeSourceURL(v,y,this._sourceMapURL),{source:y,generatedLine:S.generatedLine,generatedColumn:S.generatedColumn,originalLine:S.originalLine,originalColumn:S.originalColumn,name:S.name===null?null:this._names.at(S.name)}},this).forEach(c,p)},o.prototype.allGeneratedPositionsFor=function(c){var f=n.getArg(c,"line"),d={source:n.getArg(c,"source"),originalLine:f,originalColumn:n.getArg(c,"column",0)};if(d.source=this._findSourceIndex(d.source),d.source<0)return[];var p=[],m=this._findMapping(d,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(m>=0){var g=this._originalMappings[m];if(c.column===void 0)for(var v=g.originalLine;g&&g.originalLine===v;)p.push({line:n.getArg(g,"generatedLine",null),column:n.getArg(g,"generatedColumn",null),lastColumn:n.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++m];else for(var S=g.originalColumn;g&&g.originalLine===f&&g.originalColumn==S;)p.push({line:n.getArg(g,"generatedLine",null),column:n.getArg(g,"generatedColumn",null),lastColumn:n.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++m]}return p},Kc.SourceMapConsumer=o;function a(h,c){var f=h;typeof h=="string"&&(f=n.parseSourceMapInput(h));var d=n.getArg(f,"version"),p=n.getArg(f,"sources"),m=n.getArg(f,"names",[]),g=n.getArg(f,"sourceRoot",null),v=n.getArg(f,"sourcesContent",null),S=n.getArg(f,"mappings"),y=n.getArg(f,"file",null);if(d!=this._version)throw new Error("Unsupported version: "+d);g&&(g=n.normalize(g)),p=p.map(String).map(n.normalize).map(function(x){return g&&n.isAbsolute(g)&&n.isAbsolute(x)?n.relative(g,x):x}),this._names=r.fromArray(m.map(String),!0),this._sources=r.fromArray(p,!0),this._absoluteSources=this._sources.toArray().map(function(x){return n.computeSourceURL(g,x,c)}),this.sourceRoot=g,this.sourcesContent=v,this._mappings=S,this._sourceMapURL=c,this.file=y}a.prototype=Object.create(o.prototype),a.prototype.consumer=o,a.prototype._findSourceIndex=function(h){var c=h;if(this.sourceRoot!=null&&(c=n.relative(this.sourceRoot,c)),this._sources.has(c))return this._sources.indexOf(c);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==h)return f;return-1},a.fromSourceMap=function(c,f){var d=Object.create(a.prototype),p=d._names=r.fromArray(c._names.toArray(),!0),m=d._sources=r.fromArray(c._sources.toArray(),!0);d.sourceRoot=c._sourceRoot,d.sourcesContent=c._generateSourcesContent(d._sources.toArray(),d.sourceRoot),d.file=c._file,d._sourceMapURL=f,d._absoluteSources=d._sources.toArray().map(function(E){return n.computeSourceURL(d.sourceRoot,E,f)});for(var g=c._mappings.toArray().slice(),v=d.__generatedMappings=[],S=d.__originalMappings=[],y=0,x=g.length;y<x;y++){var b=g[y],w=new l;w.generatedLine=b.generatedLine,w.generatedColumn=b.generatedColumn,b.source&&(w.source=m.indexOf(b.source),w.originalLine=b.originalLine,w.originalColumn=b.originalColumn,b.name&&(w.name=p.indexOf(b.name)),S.push(w)),v.push(w)}return s(d.__originalMappings,n.compareByOriginalPositions),d},a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}a.prototype._parseMappings=function(c,f){for(var d=1,p=0,m=0,g=0,v=0,S=0,y=c.length,x=0,b={},w={},E=[],_=[],T,C,F,k,D;x<y;)if(c.charAt(x)===";")d++,x++,p=0;else if(c.charAt(x)===",")x++;else{for(T=new l,T.generatedLine=d,k=x;k<y&&!this._charIsMappingSeparator(c,k);k++);if(C=c.slice(x,k),F=b[C],F)x+=C.length;else{for(F=[];x<k;)i.decode(c,x,w),D=w.value,x=w.rest,F.push(D);if(F.length===2)throw new Error("Found a source, but no line and column");if(F.length===3)throw new Error("Found a source and line, but no column");b[C]=F}T.generatedColumn=p+F[0],p=T.generatedColumn,F.length>1&&(T.source=v+F[1],v+=F[1],T.originalLine=m+F[2],m=T.originalLine,T.originalLine+=1,T.originalColumn=g+F[3],g=T.originalColumn,F.length>4&&(T.name=S+F[4],S+=F[4])),_.push(T),typeof T.originalLine=="number"&&E.push(T)}s(_,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=_,s(E,n.compareByOriginalPositions),this.__originalMappings=E},a.prototype._findMapping=function(c,f,d,p,m,g){if(c[d]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+c[d]);if(c[p]<0)throw new TypeError("Column must be greater than or equal to 0, got "+c[p]);return t.search(c,f,m,g)},a.prototype.computeColumnSpans=function(){for(var c=0;c<this._generatedMappings.length;++c){var f=this._generatedMappings[c];if(c+1<this._generatedMappings.length){var d=this._generatedMappings[c+1];if(f.generatedLine===d.generatedLine){f.lastGeneratedColumn=d.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},a.prototype.originalPositionFor=function(c){var f={generatedLine:n.getArg(c,"line"),generatedColumn:n.getArg(c,"column")},d=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(c,"bias",o.GREATEST_LOWER_BOUND));if(d>=0){var p=this._generatedMappings[d];if(p.generatedLine===f.generatedLine){var m=n.getArg(p,"source",null);m!==null&&(m=this._sources.at(m),m=n.computeSourceURL(this.sourceRoot,m,this._sourceMapURL));var g=n.getArg(p,"name",null);return g!==null&&(g=this._names.at(g)),{source:m,line:n.getArg(p,"originalLine",null),column:n.getArg(p,"originalColumn",null),name:g}}}return{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(c){return c==null}):!1},a.prototype.sourceContentFor=function(c,f){if(!this.sourcesContent)return null;var d=this._findSourceIndex(c);if(d>=0)return this.sourcesContent[d];var p=c;this.sourceRoot!=null&&(p=n.relative(this.sourceRoot,p));var m;if(this.sourceRoot!=null&&(m=n.urlParse(this.sourceRoot))){var g=p.replace(/^file:\/\//,"");if(m.scheme=="file"&&this._sources.has(g))return this.sourcesContent[this._sources.indexOf(g)];if((!m.path||m.path=="/")&&this._sources.has("/"+p))return this.sourcesContent[this._sources.indexOf("/"+p)]}if(f)return null;throw new Error('"'+p+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(c){var f=n.getArg(c,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var d={source:f,originalLine:n.getArg(c,"line"),originalColumn:n.getArg(c,"column")},p=this._findMapping(d,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(c,"bias",o.GREATEST_LOWER_BOUND));if(p>=0){var m=this._originalMappings[p];if(m.source===d.source)return{line:n.getArg(m,"generatedLine",null),column:n.getArg(m,"generatedColumn",null),lastColumn:n.getArg(m,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Kc.BasicSourceMapConsumer=a;function u(h,c){var f=h;typeof h=="string"&&(f=n.parseSourceMapInput(h));var d=n.getArg(f,"version"),p=n.getArg(f,"sections");if(d!=this._version)throw new Error("Unsupported version: "+d);this._sources=new r,this._names=new r;var m={line:-1,column:0};this._sections=p.map(function(g){if(g.url)throw new Error("Support for url field in sections not implemented.");var v=n.getArg(g,"offset"),S=n.getArg(v,"line"),y=n.getArg(v,"column");if(S<m.line||S===m.line&&y<m.column)throw new Error("Section offsets must be ordered and non-overlapping.");return m=v,{generatedOffset:{generatedLine:S+1,generatedColumn:y+1},consumer:new o(n.getArg(g,"map"),c)}})}return u.prototype=Object.create(o.prototype),u.prototype.constructor=o,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var h=[],c=0;c<this._sections.length;c++)for(var f=0;f<this._sections[c].consumer.sources.length;f++)h.push(this._sections[c].consumer.sources[f]);return h}}),u.prototype.originalPositionFor=function(c){var f={generatedLine:n.getArg(c,"line"),generatedColumn:n.getArg(c,"column")},d=t.search(f,this._sections,function(m,g){var v=m.generatedLine-g.generatedOffset.generatedLine;return v||m.generatedColumn-g.generatedOffset.generatedColumn}),p=this._sections[d];return p?p.consumer.originalPositionFor({line:f.generatedLine-(p.generatedOffset.generatedLine-1),column:f.generatedColumn-(p.generatedOffset.generatedLine===f.generatedLine?p.generatedOffset.generatedColumn-1:0),bias:c.bias}):{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(c){return c.consumer.hasContentsOfAllSources()})},u.prototype.sourceContentFor=function(c,f){for(var d=0;d<this._sections.length;d++){var p=this._sections[d],m=p.consumer.sourceContentFor(c,!0);if(m)return m}if(f)return null;throw new Error('"'+c+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(c){for(var f=0;f<this._sections.length;f++){var d=this._sections[f];if(d.consumer._findSourceIndex(n.getArg(c,"source"))!==-1){var p=d.consumer.generatedPositionFor(c);if(p){var m={line:p.line+(d.generatedOffset.generatedLine-1),column:p.column+(d.generatedOffset.generatedLine===p.line?d.generatedOffset.generatedColumn-1:0)};return m}}}return{line:null,column:null}},u.prototype._parseMappings=function(c,f){this.__generatedMappings=[],this.__originalMappings=[];for(var d=0;d<this._sections.length;d++)for(var p=this._sections[d],m=p.consumer._generatedMappings,g=0;g<m.length;g++){var v=m[g],S=p.consumer._sources.at(v.source);S=n.computeSourceURL(p.consumer.sourceRoot,S,this._sourceMapURL),this._sources.add(S),S=this._sources.indexOf(S);var y=null;v.name&&(y=p.consumer._names.at(v.name),this._names.add(y),y=this._names.indexOf(y));var x={source:S,generatedLine:v.generatedLine+(p.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(p.generatedOffset.generatedLine===v.generatedLine?p.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:y};this.__generatedMappings.push(x),typeof x.originalLine=="number"&&this.__originalMappings.push(x)}s(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),s(this.__originalMappings,n.compareByOriginalPositions)},Kc.IndexedSourceMapConsumer=u,Kc}var Dv={},HC;function Wie(){if(HC)return Dv;HC=1;var n=OM().SourceMapGenerator,t=Mf(),r=/(\r?\n)/,i=10,s="$$$isSourceNode$$$";function o(a,l,u,h,c){this.children=[],this.sourceContents={},this.line=a??null,this.column=l??null,this.source=u??null,this.name=c??null,this[s]=!0,h!=null&&this.add(h)}return o.fromStringWithSourceMap=function(l,u,h){var c=new o,f=l.split(r),d=0,p=function(){var y=b(),x=b()||"";return y+x;function b(){return d<f.length?f[d++]:void 0}},m=1,g=0,v=null;return u.eachMapping(function(y){if(v!==null)if(m<y.generatedLine)S(v,p()),m++,g=0;else{var x=f[d]||"",b=x.substr(0,y.generatedColumn-g);f[d]=x.substr(y.generatedColumn-g),g=y.generatedColumn,S(v,b),v=y;return}for(;m<y.generatedLine;)c.add(p()),m++;if(g<y.generatedColumn){var x=f[d]||"";c.add(x.substr(0,y.generatedColumn)),f[d]=x.substr(y.generatedColumn),g=y.generatedColumn}v=y},this),d<f.length&&(v&&S(v,p()),c.add(f.splice(d).join(""))),u.sources.forEach(function(y){var x=u.sourceContentFor(y);x!=null&&(h!=null&&(y=t.join(h,y)),c.setSourceContent(y,x))}),c;function S(y,x){if(y===null||y.source===void 0)c.add(x);else{var b=h?t.join(h,y.source):y.source;c.add(new o(y.originalLine,y.originalColumn,b,x,y.name))}}},o.prototype.add=function(l){if(Array.isArray(l))l.forEach(function(u){this.add(u)},this);else if(l[s]||typeof l=="string")l&&this.children.push(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},o.prototype.prepend=function(l){if(Array.isArray(l))for(var u=l.length-1;u>=0;u--)this.prepend(l[u]);else if(l[s]||typeof l=="string")this.children.unshift(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},o.prototype.walk=function(l){for(var u,h=0,c=this.children.length;h<c;h++)u=this.children[h],u[s]?u.walk(l):u!==""&&l(u,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(l){var u,h,c=this.children.length;if(c>0){for(u=[],h=0;h<c-1;h++)u.push(this.children[h]),u.push(l);u.push(this.children[h]),this.children=u}return this},o.prototype.replaceRight=function(l,u){var h=this.children[this.children.length-1];return h[s]?h.replaceRight(l,u):typeof h=="string"?this.children[this.children.length-1]=h.replace(l,u):this.children.push("".replace(l,u)),this},o.prototype.setSourceContent=function(l,u){this.sourceContents[t.toSetString(l)]=u},o.prototype.walkSourceContents=function(l){for(var u=0,h=this.children.length;u<h;u++)this.children[u][s]&&this.children[u].walkSourceContents(l);for(var c=Object.keys(this.sourceContents),u=0,h=c.length;u<h;u++)l(t.fromSetString(c[u]),this.sourceContents[c[u]])},o.prototype.toString=function(){var l="";return this.walk(function(u){l+=u}),l},o.prototype.toStringWithSourceMap=function(l){var u={code:"",line:1,column:0},h=new n(l),c=!1,f=null,d=null,p=null,m=null;return this.walk(function(g,v){u.code+=g,v.source!==null&&v.line!==null&&v.column!==null?((f!==v.source||d!==v.line||p!==v.column||m!==v.name)&&h.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:u.line,column:u.column},name:v.name}),f=v.source,d=v.line,p=v.column,m=v.name,c=!0):c&&(h.addMapping({generated:{line:u.line,column:u.column}}),f=null,c=!1);for(var S=0,y=g.length;S<y;S++)g.charCodeAt(S)===i?(u.line++,u.column=0,S+1===y?(f=null,c=!1):c&&h.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:u.line,column:u.column},name:v.name})):u.column++}),this.walkSourceContents(function(g,v){h.setSourceContent(g,v)}),{code:u.code,map:h}},Dv.SourceNode=o,Dv}var WC;function Xie(){return WC||(WC=1,Yc.SourceMapGenerator=OM().SourceMapGenerator,Yc.SourceMapConsumer=Hie().SourceMapConsumer,Yc.SourceNode=Wie().SourceNode),Yc}const qie="2.1.0",Yie={version:qie};var XC;function Kie(){return XC||(XC=1,(function(n){(function(){var t,r,i,s,o,a,l,u,h,c,f,d,p,m,g,v,S,y,x,b,w,E,_,T,C,F;o=Rie(),a=Vie(),t=o.Syntax;function k(O){return ve.Expression.hasOwnProperty(O.type)}function D(O){return ve.Statement.hasOwnProperty(O.type)}r={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},i={"??":r.Coalesce,"||":r.LogicalOR,"&&":r.LogicalAND,"|":r.BitwiseOR,"^":r.BitwiseXOR,"&":r.BitwiseAND,"==":r.Equality,"!=":r.Equality,"===":r.Equality,"!==":r.Equality,is:r.Equality,isnt:r.Equality,"<":r.Relational,">":r.Relational,"<=":r.Relational,">=":r.Relational,in:r.Relational,instanceof:r.Relational,"<<":r.BitwiseSHIFT,">>":r.BitwiseSHIFT,">>>":r.BitwiseSHIFT,"+":r.Additive,"-":r.Additive,"*":r.Multiplicative,"%":r.Multiplicative,"/":r.Multiplicative,"**":r.Exponentiation};var N=1,M=2,U=4,R=8,W=16,ne=32,ge=64,te=M|U,J=N|M,ae=N|M|U,xe=N,Z=U,G=N|U,ye=N,Q=N|ne,pe=0,$=N|W,re=N|R;function be(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Se(O,q){var z="";for(q|=0;q>0;q>>>=1,O+=O)q&1&&(z+=O);return z}function j(O){return/[\r\n]/g.test(O)}function X(O){var q=O.length;return q&&a.code.isLineTerminator(O.charCodeAt(q-1))}function ee(O,q){var z;for(z in q)q.hasOwnProperty(z)&&(O[z]=q[z]);return O}function Ae(O,q){var z,H;function de(je){return typeof je=="object"&&je instanceof Object&&!(je instanceof RegExp)}for(z in q)q.hasOwnProperty(z)&&(H=q[z],de(H)?de(O[z])?Ae(O[z],H):O[z]=Ae({},H):O[z]=H);return O}function we(O){var q,z,H,de,je;if(O!==O)throw new Error("Numeric literal whose value is NaN");if(O<0||O===0&&1/O<0)throw new Error("Numeric literal whose value is negative");if(O===1/0)return h?"null":c?"1e400":"1e+400";if(q=""+O,!c||q.length<3)return q;for(z=q.indexOf("."),!h&&q.charCodeAt(0)===48&&z===1&&(z=0,q=q.slice(1)),H=q,q=q.replace("e+","e"),de=0,(je=H.indexOf("e"))>0&&(de=+H.slice(je+1),H=H.slice(0,je)),z>=0&&(de-=H.length-z-1,H=+(H.slice(0,z)+H.slice(z+1))+""),je=0;H.charCodeAt(H.length+je-1)===48;)--je;return je!==0&&(de-=je,H=H.slice(0,je)),de!==0&&(H+="e"+de),(H.length<q.length||f&&O>1e12&&Math.floor(O)===O&&(H="0x"+O.toString(16)).length<q.length)&&+H===O&&(q=H),q}function he(O,q){return(O&-2)===8232?(q?"u":"\\u")+(O===8232?"2028":"2029"):O===10||O===13?(q?"":"\\")+(O===10?"n":"r"):String.fromCharCode(O)}function me(O){var q,z,H,de,je,He,tt,mt;if(z=O.toString(),O.source){if(q=z.match(/\/([^/]*)$/),!q)return z;for(H=q[1],z="",tt=!1,mt=!1,de=0,je=O.source.length;de<je;++de)He=O.source.charCodeAt(de),mt?(z+=he(He,mt),mt=!1):(tt?He===93&&(tt=!1):He===47?z+="\\":He===91&&(tt=!0),z+=he(He,mt),mt=He===92);return"/"+z+"/"+H}return z}function _e(O,q){var z;return O===8?"\\b":O===12?"\\f":O===9?"\\t":(z=O.toString(16).toUpperCase(),h||O>255?"\\u"+"0000".slice(z.length)+z:O===0&&!a.code.isDecimalDigit(q)?"\\0":O===11?"\\x0B":"\\x"+"00".slice(z.length)+z)}function De(O){if(O===92)return"\\\\";if(O===10)return"\\n";if(O===13)return"\\r";if(O===8232)return"\\u2028";if(O===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function Le(O){var q,z,H,de;for(de=d==="double"?'"':"'",q=0,z=O.length;q<z;++q)if(H=O.charCodeAt(q),H===39){de='"';break}else if(H===34){de="'";break}else H===92&&++q;return de+O+de}function B(O){var q="",z,H,de,je=0,He=0,tt,mt;for(z=0,H=O.length;z<H;++z){if(de=O.charCodeAt(z),de===39)++je;else if(de===34)++He;else if(de===47&&h)q+="\\";else if(a.code.isLineTerminator(de)||de===92){q+=De(de);continue}else if(!a.code.isIdentifierPartES5(de)&&(h&&de<32||!h&&!p&&(de<32||de>126))){q+=_e(de,O.charCodeAt(z+1));continue}q+=String.fromCharCode(de)}if(tt=!(d==="double"||d==="auto"&&He<je),mt=tt?"'":'"',!(tt?je:He))return mt+q+mt;for(O=q,q=mt,z=0,H=O.length;z<H;++z)de=O.charCodeAt(z),(de===39&&tt||de===34&&!tt)&&(q+="\\"),q+=String.fromCharCode(de);return q+mt}function Ue(O){var q,z,H,de="";for(q=0,z=O.length;q<z;++q)H=O[q],de+=Array.isArray(H)?Ue(H):H;return de}function Oe(O,q){if(!E)return Array.isArray(O)?Ue(O):O;if(q==null){if(O instanceof s)return O;q={}}return q.loc==null?new s(null,null,E,O,q.name||null):new s(q.loc.start.line,q.loc.start.column,E===!0?q.loc.source||null:E,O,q.name||null)}function Qe(){return g||" "}function We(O,q){var z,H,de,je;return z=Oe(O).toString(),z.length===0?[q]:(H=Oe(q).toString(),H.length===0?[O]:(de=z.charCodeAt(z.length-1),je=H.charCodeAt(0),(de===43||de===45)&&de===je||a.code.isIdentifierPartES5(de)&&a.code.isIdentifierPartES5(je)||de===47&&je===105?[O,Qe(),q]:a.code.isWhiteSpace(de)||a.code.isLineTerminator(de)||a.code.isWhiteSpace(je)||a.code.isLineTerminator(je)?[O,q]:[O,g,q]))}function ft(O){return[l,O]}function Ce(O){var q;q=l,l+=u,O(l),l=q}function Fe(O){var q;for(q=O.length-1;q>=0&&!a.code.isLineTerminator(O.charCodeAt(q));--q);return O.length-1-q}function Pe(O,q){var z,H,de,je,He,tt,mt,Qt;for(z=O.split(/\r\n|[\r\n]/),tt=Number.MAX_VALUE,H=1,de=z.length;H<de;++H){for(je=z[H],He=0;He<je.length&&a.code.isWhiteSpace(je.charCodeAt(He));)++He;tt>He&&(tt=He)}for(typeof q<"u"?(mt=l,z[1][tt]==="*"&&(q+=" "),l=q):(tt&1&&--tt,mt=l),H=1,de=z.length;H<de;++H)Qt=Oe(ft(z[H].slice(tt))),z[H]=E?Qt.join(""):Qt;return l=mt,z.join(`
`)}function $e(O,q){if(O.type==="Line"){if(X(O.value))return"//"+O.value;var z="//"+O.value;return T||(z+=`
`),z}return b.format.indent.adjustMultilineComment&&/[\n\r]/.test(O.value)?Pe("/*"+O.value+"*/",q):"/*"+O.value+"*/"}function Ve(O,q){var z,H,de,je,He,tt,mt,Qt,en,Bn,lr,Nr,gt,ei;if(O.leadingComments&&O.leadingComments.length>0){if(je=q,T){for(de=O.leadingComments[0],q=[],Qt=de.extendedRange,en=de.range,lr=_.substring(Qt[0],en[0]),ei=(lr.match(/\n/g)||[]).length,ei>0?(q.push(Se(`
`,ei)),q.push(ft($e(de)))):(q.push(lr),q.push($e(de))),Bn=en,z=1,H=O.leadingComments.length;z<H;z++)de=O.leadingComments[z],en=de.range,Nr=_.substring(Bn[1],en[0]),ei=(Nr.match(/\n/g)||[]).length,q.push(Se(`
`,ei)),q.push(ft($e(de))),Bn=en;gt=_.substring(en[1],Qt[1]),ei=(gt.match(/\n/g)||[]).length,q.push(Se(`
`,ei))}else for(de=O.leadingComments[0],q=[],y&&O.type===t.Program&&O.body.length===0&&q.push(`
`),q.push($e(de)),X(Oe(q).toString())||q.push(`
`),z=1,H=O.leadingComments.length;z<H;++z)de=O.leadingComments[z],mt=[$e(de)],X(Oe(mt).toString())||mt.push(`
`),q.push(ft(mt));q.push(ft(je))}if(O.trailingComments)if(T)de=O.trailingComments[0],Qt=de.extendedRange,en=de.range,lr=_.substring(Qt[0],en[0]),ei=(lr.match(/\n/g)||[]).length,ei>0?(q.push(Se(`
`,ei)),q.push(ft($e(de)))):(q.push(lr),q.push($e(de)));else for(He=!X(Oe(q).toString()),tt=Se(" ",Fe(Oe([l,q,u]).toString())),z=0,H=O.trailingComments.length;z<H;++z)de=O.trailingComments[z],He?(z===0?q=[q,u]:q=[q,tt],q.push($e(de,tt))):q=[q,ft($e(de))],z!==H-1&&!X(Oe(q).toString())&&(q=[q,`
`]);return q}function P(O,q,z){var H,de=0;for(H=O;H<q;H++)_[H]===`
`&&de++;for(H=1;H<de;H++)z.push(m)}function V(O,q,z){return q<z?["(",O,")"]:O}function ie(O){var q,z,H;for(H=O.split(/\r\n|\n/),q=1,z=H.length;q<z;q++)H[q]=m+l+H[q];return H}function fe(O,q){var z,H,de;return z=O[b.verbatim],typeof z=="string"?H=V(ie(z),r.Sequence,q):(H=ie(z.content),de=z.precedence!=null?z.precedence:r.Sequence,H=V(H,de,q)),Oe(H,O)}function ve(){}ve.prototype.maybeBlock=function(O,q){var z,H,de=this;return H=!b.comment||!O.leadingComments,O.type===t.BlockStatement&&H?[g,this.generateStatement(O,q)]:O.type===t.EmptyStatement&&H?";":(Ce(function(){z=[m,ft(de.generateStatement(O,q))]}),z)},ve.prototype.maybeBlockSuffix=function(O,q){var z=X(Oe(q).toString());return O.type===t.BlockStatement&&(!b.comment||!O.leadingComments)&&!z?[q,g]:z?[q,l]:[q,m,l]};function Ie(O){return Oe(O.name,O)}function Te(O,q){return O.async?"async"+(q?Qe():g):""}function qe(O){var q=O.generator&&!b.moz.starlessGenerator;return q?"*"+g:""}function et(O){var q=O.value,z="";return q.async&&(z+=Te(q,!O.computed)),q.generator&&(z+=qe(q)?"*":""),z}ve.prototype.generatePattern=function(O,q,z){return O.type===t.Identifier?Ie(O):this.generateExpression(O,q,z)},ve.prototype.generateFunctionParams=function(O){var q,z,H,de;if(de=!1,O.type===t.ArrowFunctionExpression&&!O.rest&&(!O.defaults||O.defaults.length===0)&&O.params.length===1&&O.params[0].type===t.Identifier)H=[Te(O,!0),Ie(O.params[0])];else{for(H=O.type===t.ArrowFunctionExpression?[Te(O,!1)]:[],H.push("("),O.defaults&&(de=!0),q=0,z=O.params.length;q<z;++q)de&&O.defaults[q]?H.push(this.generateAssignment(O.params[q],O.defaults[q],"=",r.Assignment,ae)):H.push(this.generatePattern(O.params[q],r.Assignment,ae)),q+1<z&&H.push(","+g);O.rest&&(O.params.length&&H.push(","+g),H.push("..."),H.push(Ie(O.rest))),H.push(")")}return H},ve.prototype.generateFunctionBody=function(O){var q,z;return q=this.generateFunctionParams(O),O.type===t.ArrowFunctionExpression&&(q.push(g),q.push("=>")),O.expression?(q.push(g),z=this.generateExpression(O.body,r.Assignment,ae),z.toString().charAt(0)==="{"&&(z=["(",z,")"]),q.push(z)):q.push(this.maybeBlock(O.body,re)),q},ve.prototype.generateIterationForStatement=function(O,q,z){var H=["for"+(q.await?Qe()+"await":"")+g+"("],de=this;return Ce(function(){q.left.type===t.VariableDeclaration?Ce(function(){H.push(q.left.kind+Qe()),H.push(de.generateStatement(q.left.declarations[0],pe))}):H.push(de.generateExpression(q.left,r.Call,ae)),H=We(H,O),H=[We(H,de.generateExpression(q.right,r.Assignment,ae)),")"]}),H.push(this.maybeBlock(q.body,z)),H},ve.prototype.generatePropertyKey=function(O,q){var z=[];return q&&z.push("["),z.push(this.generateExpression(O,r.Assignment,ae)),q&&z.push("]"),z},ve.prototype.generateAssignment=function(O,q,z,H,de){return r.Assignment<H&&(de|=N),V([this.generateExpression(O,r.Call,de),g+z+g,this.generateExpression(q,r.Assignment,de)],r.Assignment,H)},ve.prototype.semicolon=function(O){return!S&&O&ne?"":";"},ve.Statement={BlockStatement:function(O,q){var z,H,de=["{",m],je=this;return Ce(function(){O.body.length===0&&T&&(z=O.range,z[1]-z[0]>2&&(H=_.substring(z[0]+1,z[1]-1),H[0]===`
`&&(de=["{"]),de.push(H)));var He,tt,mt,Qt;for(Qt=ye,q&R&&(Qt|=W),He=0,tt=O.body.length;He<tt;++He)T&&(He===0&&(O.body[0].leadingComments&&(z=O.body[0].leadingComments[0].extendedRange,H=_.substring(z[0],z[1]),H[0]===`
`&&(de=["{"])),O.body[0].leadingComments||P(O.range[0],O.body[0].range[0],de)),He>0&&!O.body[He-1].trailingComments&&!O.body[He].leadingComments&&P(O.body[He-1].range[1],O.body[He].range[0],de)),He===tt-1&&(Qt|=ne),O.body[He].leadingComments&&T?mt=je.generateStatement(O.body[He],Qt):mt=ft(je.generateStatement(O.body[He],Qt)),de.push(mt),X(Oe(mt).toString())||T&&He<tt-1&&O.body[He+1].leadingComments||de.push(m),T&&He===tt-1&&(O.body[He].trailingComments||P(O.body[He].range[1],O.range[1],de))}),de.push(ft("}")),de},BreakStatement:function(O,q){return O.label?"break "+O.label.name+this.semicolon(q):"break"+this.semicolon(q)},ContinueStatement:function(O,q){return O.label?"continue "+O.label.name+this.semicolon(q):"continue"+this.semicolon(q)},ClassBody:function(O,q){var z=["{",m],H=this;return Ce(function(de){var je,He;for(je=0,He=O.body.length;je<He;++je)z.push(de),z.push(H.generateExpression(O.body[je],r.Sequence,ae)),je+1<He&&z.push(m)}),X(Oe(z).toString())||z.push(m),z.push(l),z.push("}"),z},ClassDeclaration:function(O,q){var z,H;return z=["class"],O.id&&(z=We(z,this.generateExpression(O.id,r.Sequence,ae))),O.superClass&&(H=We("extends",this.generateExpression(O.superClass,r.Unary,ae)),z=We(z,H)),z.push(g),z.push(this.generateStatement(O.body,Q)),z},DirectiveStatement:function(O,q){return b.raw&&O.raw?O.raw+this.semicolon(q):Le(O.directive)+this.semicolon(q)},DoWhileStatement:function(O,q){var z=We("do",this.maybeBlock(O.body,ye));return z=this.maybeBlockSuffix(O.body,z),We(z,["while"+g+"(",this.generateExpression(O.test,r.Sequence,ae),")"+this.semicolon(q)])},CatchClause:function(O,q){var z,H=this;return Ce(function(){var de;O.param?(z=["catch"+g+"(",H.generateExpression(O.param,r.Sequence,ae),")"],O.guard&&(de=H.generateExpression(O.guard,r.Sequence,ae),z.splice(2,0," if ",de))):z=["catch"]}),z.push(this.maybeBlock(O.body,ye)),z},DebuggerStatement:function(O,q){return"debugger"+this.semicolon(q)},EmptyStatement:function(O,q){return";"},ExportDefaultDeclaration:function(O,q){var z=["export"],H;return H=q&ne?Q:ye,z=We(z,"default"),D(O.declaration)?z=We(z,this.generateStatement(O.declaration,H)):z=We(z,this.generateExpression(O.declaration,r.Assignment,ae)+this.semicolon(q)),z},ExportNamedDeclaration:function(O,q){var z=["export"],H,de=this;return H=q&ne?Q:ye,O.declaration?We(z,this.generateStatement(O.declaration,H)):(O.specifiers&&(O.specifiers.length===0?z=We(z,"{"+g+"}"):O.specifiers[0].type===t.ExportBatchSpecifier?z=We(z,this.generateExpression(O.specifiers[0],r.Sequence,ae)):(z=We(z,"{"),Ce(function(je){var He,tt;for(z.push(m),He=0,tt=O.specifiers.length;He<tt;++He)z.push(je),z.push(de.generateExpression(O.specifiers[He],r.Sequence,ae)),He+1<tt&&z.push(","+m)}),X(Oe(z).toString())||z.push(m),z.push(l+"}")),O.source?z=We(z,["from"+g,this.generateExpression(O.source,r.Sequence,ae),this.semicolon(q)]):z.push(this.semicolon(q))),z)},ExportAllDeclaration:function(O,q){return["export"+g,"*"+g,"from"+g,this.generateExpression(O.source,r.Sequence,ae),this.semicolon(q)]},ExpressionStatement:function(O,q){var z,H;function de(tt){var mt;return tt.slice(0,5)!=="class"?!1:(mt=tt.charCodeAt(5),mt===123||a.code.isWhiteSpace(mt)||a.code.isLineTerminator(mt))}function je(tt){var mt;return tt.slice(0,8)!=="function"?!1:(mt=tt.charCodeAt(8),mt===40||a.code.isWhiteSpace(mt)||mt===42||a.code.isLineTerminator(mt))}function He(tt){var mt,Qt,en;if(tt.slice(0,5)!=="async"||!a.code.isWhiteSpace(tt.charCodeAt(5)))return!1;for(Qt=6,en=tt.length;Qt<en&&a.code.isWhiteSpace(tt.charCodeAt(Qt));++Qt);return Qt===en||tt.slice(Qt,Qt+8)!=="function"?!1:(mt=tt.charCodeAt(Qt+8),mt===40||a.code.isWhiteSpace(mt)||mt===42||a.code.isLineTerminator(mt))}return z=[this.generateExpression(O.expression,r.Sequence,ae)],H=Oe(z).toString(),H.charCodeAt(0)===123||de(H)||je(H)||He(H)||x&&q&W&&O.expression.type===t.Literal&&typeof O.expression.value=="string"?z=["(",z,")"+this.semicolon(q)]:z.push(this.semicolon(q)),z},ImportDeclaration:function(O,q){var z,H,de=this;return O.specifiers.length===0?["import",g,this.generateExpression(O.source,r.Sequence,ae),this.semicolon(q)]:(z=["import"],H=0,O.specifiers[H].type===t.ImportDefaultSpecifier&&(z=We(z,[this.generateExpression(O.specifiers[H],r.Sequence,ae)]),++H),O.specifiers[H]&&(H!==0&&z.push(","),O.specifiers[H].type===t.ImportNamespaceSpecifier?z=We(z,[g,this.generateExpression(O.specifiers[H],r.Sequence,ae)]):(z.push(g+"{"),O.specifiers.length-H===1?(z.push(g),z.push(this.generateExpression(O.specifiers[H],r.Sequence,ae)),z.push(g+"}"+g)):(Ce(function(je){var He,tt;for(z.push(m),He=H,tt=O.specifiers.length;He<tt;++He)z.push(je),z.push(de.generateExpression(O.specifiers[He],r.Sequence,ae)),He+1<tt&&z.push(","+m)}),X(Oe(z).toString())||z.push(m),z.push(l+"}"+g)))),z=We(z,["from"+g,this.generateExpression(O.source,r.Sequence,ae),this.semicolon(q)]),z)},VariableDeclarator:function(O,q){var z=q&N?ae:te;return O.init?[this.generateExpression(O.id,r.Assignment,z),g,"=",g,this.generateExpression(O.init,r.Assignment,z)]:this.generatePattern(O.id,r.Assignment,z)},VariableDeclaration:function(O,q){var z,H,de,je,He,tt=this;z=[O.kind],He=q&N?ye:pe;function mt(){for(je=O.declarations[0],b.comment&&je.leadingComments?(z.push(`
`),z.push(ft(tt.generateStatement(je,He)))):(z.push(Qe()),z.push(tt.generateStatement(je,He))),H=1,de=O.declarations.length;H<de;++H)je=O.declarations[H],b.comment&&je.leadingComments?(z.push(","+m),z.push(ft(tt.generateStatement(je,He)))):(z.push(","+g),z.push(tt.generateStatement(je,He)))}return O.declarations.length>1?Ce(mt):mt(),z.push(this.semicolon(q)),z},ThrowStatement:function(O,q){return[We("throw",this.generateExpression(O.argument,r.Sequence,ae)),this.semicolon(q)]},TryStatement:function(O,q){var z,H,de,je;if(z=["try",this.maybeBlock(O.block,ye)],z=this.maybeBlockSuffix(O.block,z),O.handlers)for(H=0,de=O.handlers.length;H<de;++H)z=We(z,this.generateStatement(O.handlers[H],ye)),(O.finalizer||H+1!==de)&&(z=this.maybeBlockSuffix(O.handlers[H].body,z));else{for(je=O.guardedHandlers||[],H=0,de=je.length;H<de;++H)z=We(z,this.generateStatement(je[H],ye)),(O.finalizer||H+1!==de)&&(z=this.maybeBlockSuffix(je[H].body,z));if(O.handler)if(Array.isArray(O.handler))for(H=0,de=O.handler.length;H<de;++H)z=We(z,this.generateStatement(O.handler[H],ye)),(O.finalizer||H+1!==de)&&(z=this.maybeBlockSuffix(O.handler[H].body,z));else z=We(z,this.generateStatement(O.handler,ye)),O.finalizer&&(z=this.maybeBlockSuffix(O.handler.body,z))}return O.finalizer&&(z=We(z,["finally",this.maybeBlock(O.finalizer,ye)])),z},SwitchStatement:function(O,q){var z,H,de,je,He,tt=this;if(Ce(function(){z=["switch"+g+"(",tt.generateExpression(O.discriminant,r.Sequence,ae),")"+g+"{"+m]}),O.cases)for(He=ye,de=0,je=O.cases.length;de<je;++de)de===je-1&&(He|=ne),H=ft(this.generateStatement(O.cases[de],He)),z.push(H),X(Oe(H).toString())||z.push(m);return z.push(ft("}")),z},SwitchCase:function(O,q){var z,H,de,je,He,tt=this;return Ce(function(){for(O.test?z=[We("case",tt.generateExpression(O.test,r.Sequence,ae)),":"]:z=["default:"],de=0,je=O.consequent.length,je&&O.consequent[0].type===t.BlockStatement&&(H=tt.maybeBlock(O.consequent[0],ye),z.push(H),de=1),de!==je&&!X(Oe(z).toString())&&z.push(m),He=ye;de<je;++de)de===je-1&&q&ne&&(He|=ne),H=ft(tt.generateStatement(O.consequent[de],He)),z.push(H),de+1!==je&&!X(Oe(H).toString())&&z.push(m)}),z},IfStatement:function(O,q){var z,H,de,je=this;return Ce(function(){z=["if"+g+"(",je.generateExpression(O.test,r.Sequence,ae),")"]}),de=q&ne,H=ye,de&&(H|=ne),O.alternate?(z.push(this.maybeBlock(O.consequent,ye)),z=this.maybeBlockSuffix(O.consequent,z),O.alternate.type===t.IfStatement?z=We(z,["else ",this.generateStatement(O.alternate,H)]):z=We(z,We("else",this.maybeBlock(O.alternate,H)))):z.push(this.maybeBlock(O.consequent,H)),z},ForStatement:function(O,q){var z,H=this;return Ce(function(){z=["for"+g+"("],O.init?O.init.type===t.VariableDeclaration?z.push(H.generateStatement(O.init,pe)):(z.push(H.generateExpression(O.init,r.Sequence,te)),z.push(";")):z.push(";"),O.test&&(z.push(g),z.push(H.generateExpression(O.test,r.Sequence,ae))),z.push(";"),O.update&&(z.push(g),z.push(H.generateExpression(O.update,r.Sequence,ae))),z.push(")")}),z.push(this.maybeBlock(O.body,q&ne?Q:ye)),z},ForInStatement:function(O,q){return this.generateIterationForStatement("in",O,q&ne?Q:ye)},ForOfStatement:function(O,q){return this.generateIterationForStatement("of",O,q&ne?Q:ye)},LabeledStatement:function(O,q){return[O.label.name+":",this.maybeBlock(O.body,q&ne?Q:ye)]},Program:function(O,q){var z,H,de,je,He;for(je=O.body.length,z=[y&&je>0?`
`:""],He=$,de=0;de<je;++de)!y&&de===je-1&&(He|=ne),T&&(de===0&&(O.body[0].leadingComments||P(O.range[0],O.body[de].range[0],z)),de>0&&!O.body[de-1].trailingComments&&!O.body[de].leadingComments&&P(O.body[de-1].range[1],O.body[de].range[0],z)),H=ft(this.generateStatement(O.body[de],He)),z.push(H),de+1<je&&!X(Oe(H).toString())&&(T&&O.body[de+1].leadingComments||z.push(m)),T&&de===je-1&&(O.body[de].trailingComments||P(O.body[de].range[1],O.range[1],z));return z},FunctionDeclaration:function(O,q){return[Te(O,!0),"function",qe(O)||Qe(),O.id?Ie(O.id):"",this.generateFunctionBody(O)]},ReturnStatement:function(O,q){return O.argument?[We("return",this.generateExpression(O.argument,r.Sequence,ae)),this.semicolon(q)]:["return"+this.semicolon(q)]},WhileStatement:function(O,q){var z,H=this;return Ce(function(){z=["while"+g+"(",H.generateExpression(O.test,r.Sequence,ae),")"]}),z.push(this.maybeBlock(O.body,q&ne?Q:ye)),z},WithStatement:function(O,q){var z,H=this;return Ce(function(){z=["with"+g+"(",H.generateExpression(O.object,r.Sequence,ae),")"]}),z.push(this.maybeBlock(O.body,q&ne?Q:ye)),z}},ee(ve.prototype,ve.Statement),ve.Expression={SequenceExpression:function(O,q,z){var H,de,je;for(r.Sequence<q&&(z|=N),H=[],de=0,je=O.expressions.length;de<je;++de)H.push(this.generateExpression(O.expressions[de],r.Assignment,z)),de+1<je&&H.push(","+g);return V(H,r.Sequence,q)},AssignmentExpression:function(O,q,z){return this.generateAssignment(O.left,O.right,O.operator,q,z)},ArrowFunctionExpression:function(O,q,z){return V(this.generateFunctionBody(O),r.ArrowFunction,q)},ConditionalExpression:function(O,q,z){return r.Conditional<q&&(z|=N),V([this.generateExpression(O.test,r.Coalesce,z),g+"?"+g,this.generateExpression(O.consequent,r.Assignment,z),g+":"+g,this.generateExpression(O.alternate,r.Assignment,z)],r.Conditional,q)},LogicalExpression:function(O,q,z){return O.operator==="??"&&(z|=ge),this.BinaryExpression(O,q,z)},BinaryExpression:function(O,q,z){var H,de,je,He,tt,mt;return He=i[O.operator],de=O.operator==="**"?r.Postfix:He,je=O.operator==="**"?He:He+1,He<q&&(z|=N),tt=this.generateExpression(O.left,de,z),mt=tt.toString(),mt.charCodeAt(mt.length-1)===47&&a.code.isIdentifierPartES5(O.operator.charCodeAt(0))?H=[tt,Qe(),O.operator]:H=We(tt,O.operator),tt=this.generateExpression(O.right,je,z),O.operator==="/"&&tt.toString().charAt(0)==="/"||O.operator.slice(-1)==="<"&&tt.toString().slice(0,3)==="!--"?(H.push(Qe()),H.push(tt)):H=We(H,tt),O.operator==="in"&&!(z&N)?["(",H,")"]:(O.operator==="||"||O.operator==="&&")&&z&ge?["(",H,")"]:V(H,He,q)},CallExpression:function(O,q,z){var H,de,je;for(H=[this.generateExpression(O.callee,r.Call,J)],O.optional&&H.push("?."),H.push("("),de=0,je=O.arguments.length;de<je;++de)H.push(this.generateExpression(O.arguments[de],r.Assignment,ae)),de+1<je&&H.push(","+g);return H.push(")"),z&M?V(H,r.Call,q):["(",H,")"]},ChainExpression:function(O,q,z){r.OptionalChaining<q&&(z|=M);var H=this.generateExpression(O.expression,r.OptionalChaining,z);return V(H,r.OptionalChaining,q)},NewExpression:function(O,q,z){var H,de,je,He,tt;if(de=O.arguments.length,tt=z&U&&!v&&de===0?G:xe,H=We("new",this.generateExpression(O.callee,r.New,tt)),!(z&U)||v||de>0){for(H.push("("),je=0,He=de;je<He;++je)H.push(this.generateExpression(O.arguments[je],r.Assignment,ae)),je+1<He&&H.push(","+g);H.push(")")}return V(H,r.New,q)},MemberExpression:function(O,q,z){var H,de;return H=[this.generateExpression(O.object,r.Call,z&M?J:xe)],O.computed?(O.optional&&H.push("?."),H.push("["),H.push(this.generateExpression(O.property,r.Sequence,z&M?ae:G)),H.push("]")):(!O.optional&&O.object.type===t.Literal&&typeof O.object.value=="number"&&(de=Oe(H).toString(),de.indexOf(".")<0&&!/[eExX]/.test(de)&&a.code.isDecimalDigit(de.charCodeAt(de.length-1))&&!(de.length>=2&&de.charCodeAt(0)===48)&&H.push(" ")),H.push(O.optional?"?.":"."),H.push(Ie(O.property))),V(H,r.Member,q)},MetaProperty:function(O,q,z){var H;return H=[],H.push(typeof O.meta=="string"?O.meta:Ie(O.meta)),H.push("."),H.push(typeof O.property=="string"?O.property:Ie(O.property)),V(H,r.Member,q)},UnaryExpression:function(O,q,z){var H,de,je,He,tt;return de=this.generateExpression(O.argument,r.Unary,ae),g===""?H=We(O.operator,de):(H=[O.operator],O.operator.length>2?H=We(H,de):(He=Oe(H).toString(),tt=He.charCodeAt(He.length-1),je=de.toString().charCodeAt(0),((tt===43||tt===45)&&tt===je||a.code.isIdentifierPartES5(tt)&&a.code.isIdentifierPartES5(je))&&H.push(Qe()),H.push(de))),V(H,r.Unary,q)},YieldExpression:function(O,q,z){var H;return O.delegate?H="yield*":H="yield",O.argument&&(H=We(H,this.generateExpression(O.argument,r.Yield,ae))),V(H,r.Yield,q)},AwaitExpression:function(O,q,z){var H=We(O.all?"await*":"await",this.generateExpression(O.argument,r.Await,ae));return V(H,r.Await,q)},UpdateExpression:function(O,q,z){return O.prefix?V([O.operator,this.generateExpression(O.argument,r.Unary,ae)],r.Unary,q):V([this.generateExpression(O.argument,r.Postfix,ae),O.operator],r.Postfix,q)},FunctionExpression:function(O,q,z){var H=[Te(O,!0),"function"];return O.id?(H.push(qe(O)||Qe()),H.push(Ie(O.id))):H.push(qe(O)||g),H.push(this.generateFunctionBody(O)),H},ArrayPattern:function(O,q,z){return this.ArrayExpression(O,q,z,!0)},ArrayExpression:function(O,q,z,H){var de,je,He=this;return O.elements.length?(je=H?!1:O.elements.length>1,de=["[",je?m:""],Ce(function(tt){var mt,Qt;for(mt=0,Qt=O.elements.length;mt<Qt;++mt)O.elements[mt]?(de.push(je?tt:""),de.push(He.generateExpression(O.elements[mt],r.Assignment,ae))):(je&&de.push(tt),mt+1===Qt&&de.push(",")),mt+1<Qt&&de.push(","+(je?m:g))}),je&&!X(Oe(de).toString())&&de.push(m),de.push(je?l:""),de.push("]"),de):"[]"},RestElement:function(O,q,z){return"..."+this.generatePattern(O.argument)},ClassExpression:function(O,q,z){var H,de;return H=["class"],O.id&&(H=We(H,this.generateExpression(O.id,r.Sequence,ae))),O.superClass&&(de=We("extends",this.generateExpression(O.superClass,r.Unary,ae)),H=We(H,de)),H.push(g),H.push(this.generateStatement(O.body,Q)),H},MethodDefinition:function(O,q,z){var H,de;return O.static?H=["static"+g]:H=[],O.kind==="get"||O.kind==="set"?de=[We(O.kind,this.generatePropertyKey(O.key,O.computed)),this.generateFunctionBody(O.value)]:de=[et(O),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)],We(H,de)},Property:function(O,q,z){return O.kind==="get"||O.kind==="set"?[O.kind,Qe(),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)]:O.shorthand?O.value.type==="AssignmentPattern"?this.AssignmentPattern(O.value,r.Sequence,ae):this.generatePropertyKey(O.key,O.computed):O.method?[et(O),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)]:[this.generatePropertyKey(O.key,O.computed),":"+g,this.generateExpression(O.value,r.Assignment,ae)]},ObjectExpression:function(O,q,z){var H,de,je,He=this;return O.properties.length?(H=O.properties.length>1,Ce(function(){je=He.generateExpression(O.properties[0],r.Sequence,ae)}),!H&&!j(Oe(je).toString())?["{",g,je,g,"}"]:(Ce(function(tt){var mt,Qt;if(de=["{",m,tt,je],H)for(de.push(","+m),mt=1,Qt=O.properties.length;mt<Qt;++mt)de.push(tt),de.push(He.generateExpression(O.properties[mt],r.Sequence,ae)),mt+1<Qt&&de.push(","+m)}),X(Oe(de).toString())||de.push(m),de.push(l),de.push("}"),de)):"{}"},AssignmentPattern:function(O,q,z){return this.generateAssignment(O.left,O.right,"=",q,z)},ObjectPattern:function(O,q,z){var H,de,je,He,tt,mt=this;if(!O.properties.length)return"{}";if(He=!1,O.properties.length===1)tt=O.properties[0],tt.type===t.Property&&tt.value.type!==t.Identifier&&(He=!0);else for(de=0,je=O.properties.length;de<je;++de)if(tt=O.properties[de],tt.type===t.Property&&!tt.shorthand){He=!0;break}return H=["{",He?m:""],Ce(function(Qt){var en,Bn;for(en=0,Bn=O.properties.length;en<Bn;++en)H.push(He?Qt:""),H.push(mt.generateExpression(O.properties[en],r.Sequence,ae)),en+1<Bn&&H.push(","+(He?m:g))}),He&&!X(Oe(H).toString())&&H.push(m),H.push(He?l:""),H.push("}"),H},ThisExpression:function(O,q,z){return"this"},Super:function(O,q,z){return"super"},Identifier:function(O,q,z){return Ie(O)},ImportDefaultSpecifier:function(O,q,z){return Ie(O.id||O.local)},ImportNamespaceSpecifier:function(O,q,z){var H=["*"],de=O.id||O.local;return de&&H.push(g+"as"+Qe()+Ie(de)),H},ImportSpecifier:function(O,q,z){var H=O.imported,de=[H.name],je=O.local;return je&&je.name!==H.name&&de.push(Qe()+"as"+Qe()+Ie(je)),de},ExportSpecifier:function(O,q,z){var H=O.local,de=[H.name],je=O.exported;return je&&je.name!==H.name&&de.push(Qe()+"as"+Qe()+Ie(je)),de},Literal:function(O,q,z){var H;if(O.hasOwnProperty("raw")&&w&&b.raw)try{if(H=w(O.raw).body[0].expression,H.type===t.Literal&&H.value===O.value)return O.raw}catch{}return O.regex?"/"+O.regex.pattern+"/"+O.regex.flags:typeof O.value=="bigint"?O.value.toString()+"n":O.bigint?O.bigint+"n":O.value===null?"null":typeof O.value=="string"?B(O.value):typeof O.value=="number"?we(O.value):typeof O.value=="boolean"?O.value?"true":"false":me(O.value)},GeneratorExpression:function(O,q,z){return this.ComprehensionExpression(O,q,z)},ComprehensionExpression:function(O,q,z){var H,de,je,He,tt=this;return H=O.type===t.GeneratorExpression?["("]:["["],b.moz.comprehensionExpressionStartsWithAssignment&&(He=this.generateExpression(O.body,r.Assignment,ae),H.push(He)),O.blocks&&Ce(function(){for(de=0,je=O.blocks.length;de<je;++de)He=tt.generateExpression(O.blocks[de],r.Sequence,ae),de>0||b.moz.comprehensionExpressionStartsWithAssignment?H=We(H,He):H.push(He)}),O.filter&&(H=We(H,"if"+g),He=this.generateExpression(O.filter,r.Sequence,ae),H=We(H,["(",He,")"])),b.moz.comprehensionExpressionStartsWithAssignment||(He=this.generateExpression(O.body,r.Assignment,ae),H=We(H,He)),H.push(O.type===t.GeneratorExpression?")":"]"),H},ComprehensionBlock:function(O,q,z){var H;return O.left.type===t.VariableDeclaration?H=[O.left.kind,Qe(),this.generateStatement(O.left.declarations[0],pe)]:H=this.generateExpression(O.left,r.Call,ae),H=We(H,O.of?"of":"in"),H=We(H,this.generateExpression(O.right,r.Sequence,ae)),["for"+g+"(",H,")"]},SpreadElement:function(O,q,z){return["...",this.generateExpression(O.argument,r.Assignment,ae)]},TaggedTemplateExpression:function(O,q,z){var H=J;z&M||(H=xe);var de=[this.generateExpression(O.tag,r.Call,H),this.generateExpression(O.quasi,r.Primary,Z)];return V(de,r.TaggedTemplate,q)},TemplateElement:function(O,q,z){return O.value.raw},TemplateLiteral:function(O,q,z){var H,de,je;for(H=["`"],de=0,je=O.quasis.length;de<je;++de)H.push(this.generateExpression(O.quasis[de],r.Primary,ae)),de+1<je&&(H.push("${"+g),H.push(this.generateExpression(O.expressions[de],r.Sequence,ae)),H.push(g+"}"));return H.push("`"),H},ModuleSpecifier:function(O,q,z){return this.Literal(O,q,z)},ImportExpression:function(O,q,z){return V(["import(",this.generateExpression(O.source,r.Assignment,ae),")"],r.Call,q)}},ee(ve.prototype,ve.Expression),ve.prototype.generateExpression=function(O,q,z){var H,de;return de=O.type||t.Property,b.verbatim&&O.hasOwnProperty(b.verbatim)?fe(O,q):(H=this[de](O,q,z),b.comment&&(H=Ve(O,H)),Oe(H,O))},ve.prototype.generateStatement=function(O,q){var z,H;return z=this[O.type](O,q),b.comment&&(z=Ve(O,z)),H=Oe(z).toString(),O.type===t.Program&&!y&&m===""&&H.charAt(H.length-1)===`
`&&(z=E?Oe(z).replaceRight(/\s+$/,""):H.replace(/\s+$/,"")),Oe(z,O)};function vt(O){var q;if(q=new ve,D(O))return q.generateStatement(O,ye);if(k(O))return q.generateExpression(O,r.Sequence,ae);throw new Error("Unknown node type: "+O.type)}function hn(O,q){var z=be(),H,de;return q!=null?(typeof q.indent=="string"&&(z.format.indent.style=q.indent),typeof q.base=="number"&&(z.format.indent.base=q.base),q=Ae(z,q),u=q.format.indent.style,typeof q.base=="string"?l=q.base:l=Se(u,q.format.indent.base)):(q=z,u=q.format.indent.style,l=Se(u,q.format.indent.base)),h=q.format.json,c=q.format.renumber,f=h?!1:q.format.hexadecimal,d=h?"double":q.format.quotes,p=q.format.escapeless,m=q.format.newline,g=q.format.space,q.format.compact&&(m=g=u=l=""),v=q.format.parentheses,S=q.format.semicolons,y=q.format.safeConcatenation,x=q.directive,w=h?null:q.parse,E=q.sourceMap,_=q.sourceCode,T=q.format.preserveBlankLines&&_!==null,b=q,E&&(n.browser?s=DO.sourceMap.SourceNode:s=Xie().SourceNode),H=vt(O),E?(de=H.toStringWithSourceMap({file:q.file,sourceRoot:q.sourceMapRoot}),q.sourceContent&&de.map.setSourceContent(q.sourceMap,q.sourceContent),q.sourceMapWithCode?de:de.map.toString()):(de={code:H.toString(),map:null},q.sourceMapWithCode?de:de.code)}C={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},F=be().format,n.version=Yie.version,n.generate=hn,n.attachComments=o.attachComments,n.Precedence=Ae({},r),n.browser=!1,n.FORMAT_MINIFY=C,n.FORMAT_DEFAULTS=F})()})(yv)),yv}var Zie=Kie();const Jie=u1(Zie);let Bd=0;function qC(n){switch(n){case"+":return"add";case"-":return"sub";case"*":return"mult";case"/":return"div";case"%":return"mod";case"==":case"===":return"equalTo";case"!=":case"!==":return"notEqual";case">":return"greaterThan";case">=":return"greaterEqual";case"<":return"lessThan";case"<=":return"lessEqual";case"&&":return"and";case"||":return"or"}}function Ls(n){return n.type==="CallExpression"&&(n.callee?.type==="Identifier"&&n.callee?.name.startsWith("uniform")||n.callee?.type==="MemberExpression"&&n.callee?.property.name.startsWith("uniform"))}function Qie(n){return n?.type==="CallExpression"&&(n.callee?.type==="Identifier"&&(n.callee?.name.startsWith("varying")||n.callee?.name.startsWith("shared"))||n.callee?.type==="MemberExpression"&&(n.callee?.property.name.startsWith("varying")||n.callee?.property.name.startsWith("shared")))}const Nv={UnaryExpression(n,t,r){if(r.some(Ls))return;const i=NM[n.operator],s=o=>{o.type="CallExpression",o.callee={type:"Identifier",name:`__p5.${i}`},o.arguments=[o.argument]};if(n.type==="MemberExpression"){const o=n.argument.property.name;[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].some(u=>[...o].every(h=>u.includes(h)))&&n.argument.type==="MemberExpression"?(n.type="MemberExpression",n.object={type:"CallExpression",callee:{type:"Identifier",name:`__p5.${i}`},arguments:[n.argument.object]},n.property={type:"Identifier",name:o}):s(n)}else s(n);delete n.argument,delete n.operator},BreakStatement(n,t,r){r.some(Ls)||(n.callee={type:"Identifier",name:"__p5.break"},n.arguments=[],n.type="CallExpression")},VariableDeclarator(n,t,r){if(!r.some(Ls)){if(Ls(n.init)){const i={type:"Literal",value:n.id.name};n.init.arguments.unshift(i)}if(Qie(n.init)){const i={type:"Literal",value:n.id.name};n.init.arguments.unshift(i),t.varyings[n.id.name]=i}}},Identifier(n,t,r){r.some(Ls)||t.varyings[n.name]&&!r.some(i=>i.type==="AssignmentExpression"&&i.left===n)&&(n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:n.name},property:{type:"Identifier",name:"getValue"}},arguments:[]})},ArrayExpression(n,t,r){if(r.some(Ls))return;const i=JSON.parse(JSON.stringify(n));n.type="CallExpression",n.callee={type:"Identifier",name:"__p5.strandsNode"},n.arguments=[i]},AssignmentExpression(n,t,r){if(!r.some(Ls)){if(n.operator!=="="){const i=qC(n.operator.replace("=","")),s={type:"CallExpression",callee:{type:"MemberExpression",object:n.left,property:{type:"Identifier",name:i}},arguments:[n.right]};n.operator="=",n.right=s}if(t.varyings[n.left.name])n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:n.left.name},property:{type:"Identifier",name:"bridge"}},arguments:[n.right]};else if(n.left.type==="MemberExpression"){let i=null;if(n.left.object.type==="Identifier"&&t.varyings[n.left.object.name]?i=n.left.object.name:n.left.object.type==="ExpressionStatement"&&n.left.object.expression?.type==="CallExpression"&&n.left.object.expression.callee?.type==="MemberExpression"&&n.left.object.expression.callee.property?.name==="getValue"&&n.left.object.expression.callee.object?.type==="Identifier"&&t.varyings[n.left.object.expression.callee.object.name]&&(i=n.left.object.expression.callee.object.name),i){const s=n.left.property.name;n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:i},property:{type:"Identifier",name:"bridgeSwizzle"}},arguments:[{type:"Literal",value:s},n.right]}}}}},BinaryExpression(n,t,r){if(r.some(Ls))return;if(["Literal","ArrayExpression","Identifier"].includes(n.left.type)){const s={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[n.left]};n.left=s}n.type="CallExpression",n.callee={type:"MemberExpression",object:n.left,property:{type:"Identifier",name:qC(n.operator)}},n.arguments=[n.right]},IfStatement(n,t,r){if(r.some(Ls))return;const i=n.test,s={type:"ArrowFunctionExpression",params:[],body:n.consequent.type==="BlockStatement"?n.consequent:{type:"BlockStatement",body:[n.consequent]}};let o={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsIf"},arguments:[i,s]},a;n.alternate?a={type:"ArrowFunctionExpression",params:[],body:n.alternate.type==="BlockStatement"?n.alternate:{type:"BlockStatement",body:[n.alternate]}}:a={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[]}},o={type:"CallExpression",callee:{type:"MemberExpression",object:o,property:{type:"Identifier",name:"Else"}},arguments:[a]};const l=new Set,u=h=>{if(h.type!=="BlockStatement")return;const c=new Set;for(const f of h.body)if(f.type==="VariableDeclaration")for(const d of f.declarations)d.id.type==="Identifier"&&c.add(d.id.name);for(const f of h.body)if(f.type==="ExpressionStatement"&&f.expression.type==="AssignmentExpression"){const d=f.expression.left;d.type==="Identifier"?c.has(d.name)||l.add(d.name):d.type==="MemberExpression"&&d.object.type==="Identifier"&&(c.has(d.object.name)||l.add(d.object.name))}else f.type==="BlockStatement"&&u(f)};if(u(s.body),u(a.body),l.size>0){const h=(d,p)=>{if(d.type==="BlockStatement"){const m=new Map,g=[];for(const y of p){const x=`__copy_${y}_${Bd++}`;m.set(y,x),g.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:x},init:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:y},property:{type:"Identifier",name:"copy"},computed:!1},arguments:[]}}],kind:"let"})}const v=y=>{if(!(!y||typeof y!="object")){y.type==="Identifier"&&m.has(y.name)?y.name=m.get(y.name):y.type==="MemberExpression"&&y.object.type==="Identifier"&&m.has(y.object.name)&&(y.object.name=m.get(y.object.name)),y.type==="AssignmentExpression"&&y.left.type==="Identifier"&&m.has(y.left.name)&&(y.right.type==="Literal"||y.right.type==="ArrayExpression")&&(y.right={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[y.right]});for(const x in y)y.hasOwnProperty(x)&&x!=="parent"&&(Array.isArray(y[x])?y[x].forEach(v):typeof y[x]=="object"&&v(y[x]))}};d.body.forEach(v),d.body.unshift(...g);const S={type:"ObjectExpression",properties:Array.from(p).map(y=>({type:"Property",key:{type:"Identifier",name:y},value:{type:"Identifier",name:m.get(y)},kind:"init",computed:!1,shorthand:!1}))};d.body.push({type:"ReturnStatement",argument:S})}};h(s.body,l),h(a.body,l);const c=`__block_${Bd++}`,f=[];for(const d of l)f.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:d},right:{type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[{type:"Identifier",name:d}]}}});f.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:c},init:o}],kind:"const"});for(const d of l)f.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:d},right:{type:"MemberExpression",object:{type:"Identifier",name:c},property:{type:"Identifier",name:d},computed:!1}}});n.type="BlockStatement",n.body=f}else n.type="ExpressionStatement",n.expression=o;delete n.test,delete n.consequent,delete n.alternate},UpdateExpression(n,t,r){if(r.some(Ls))return;let i;if(n.operator==="++")i="+";else if(n.operator==="--")i="-";else return;const s={type:"AssignmentExpression",operator:"=",left:n.argument,right:{type:"BinaryExpression",operator:i,left:n.argument,right:{type:"Literal",value:1}}};Object.assign(n,s),delete n.prefix,this.BinaryExpression(n.right,t,[...r,n]),this.AssignmentExpression(n,t,r)},ForStatement(n,t,r){if(r.some(Ls))return;let i;if(n.init&&n.init.type==="VariableDeclaration"){let p=n.init.declarations[0].init;p={body:[{type:"ExpressionStatement",expression:p}]}.body[0].expression,i={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:p}]}}}else i={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"Literal",value:0}}]}};let s=n.test||{type:"Literal",value:!0};if(n.init?.type==="VariableDeclaration"){const d=n.init.declarations[0].id.name;s=this.replaceIdentifierReferences(s,d,"loopVar")}s={body:[{type:"ExpressionStatement",expression:s}]}.body[0].expression;const a={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"}],body:s};let l;if(n.update){let d=n.update;if(n.init?.type==="VariableDeclaration"){const m=n.init.declarations[0].id.name;d=this.replaceIdentifierReferences(d,m,"loopVar")}d={body:[{type:"ExpressionStatement",expression:d}]}.body[0].expression,l={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:d}]}}}else l={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"Identifier",name:"loopVar"}}]}};let u=n.body.type==="BlockStatement"?n.body:{type:"BlockStatement",body:[n.body]};if(n.init?.type==="VariableDeclaration"){const d=n.init.declarations[0].id.name;u=this.replaceIdentifierReferences(u,d,"loopVar")}const h={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"},{type:"Identifier",name:"vars"}],body:u},c=new Set,f=(d,p=new Set)=>{if(d.type!=="BlockStatement")return;const m=new Set([...p]);for(const g of d.body)if(g.type==="VariableDeclaration")for(const v of g.declarations)v.id.type==="Identifier"&&m.add(v.id.name);for(const g of d.body)if(g.type==="ExpressionStatement"&&g.expression.type==="AssignmentExpression"){const v=g.expression.left;v.type==="Identifier"?m.has(v.name)||c.add(v.name):v.type==="MemberExpression"&&v.object.type==="Identifier"&&(m.has(v.object.name)||c.add(v.object.name))}else g.type==="BlockStatement"&&f(g,m)};if(f(h.body),c.size>0){((y,x)=>{if(y.type==="BlockStatement"){const b=new Map,w=[];for(const T of x){const C=`__copy_${T}_${Bd++}`;b.set(T,C),w.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:C},init:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:"vars"},property:{type:"Identifier",name:T},computed:!1},property:{type:"Identifier",name:"copy"},computed:!1},arguments:[]}}],kind:"let"})}const E=T=>{if(!(!T||typeof T!="object")){T.type==="Identifier"&&b.has(T.name)&&(T.name=b.get(T.name));for(const C in T)T.hasOwnProperty(C)&&C!=="parent"&&(Array.isArray(T[C])?T[C].forEach(E):typeof T[C]=="object"&&E(T[C]))}};y.body.forEach(E),y.body.unshift(...w);const _={type:"ObjectExpression",properties:Array.from(x).map(T=>({type:"Property",key:{type:"Identifier",name:T},value:{type:"Identifier",name:b.get(T)},kind:"init",computed:!1,shorthand:!1}))};y.body.push({type:"ReturnStatement",argument:_})}})(h.body,c);const p=`__block_${Bd++}`,m=[],g=[];for(const y of c)g.push({type:"Property",key:{type:"Identifier",name:y},value:{type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[{type:"Identifier",name:y}]},kind:"init",method:!1,shorthand:!1,computed:!1});const S={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsFor"},arguments:[i,a,l,h,{type:"ObjectExpression",properties:g}]};m.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:p},init:S}],kind:"const"});for(const y of c)m.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:y},right:{type:"MemberExpression",object:{type:"Identifier",name:p},property:{type:"Identifier",name:y},computed:!1}}});n.type="BlockStatement",n.body=m}else n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsFor"},arguments:[i,a,l,h,{type:"ObjectExpression",properties:[]}]};delete n.init,delete n.test,delete n.update},replaceIdentifierReferences(n,t,r){if(!n||typeof n!="object")return n;const i=s=>{if(!s||typeof s!="object")return s;if(s.type==="Identifier"&&s.name===t)return{...s,name:r};const o={...s};for(const a in s)s.hasOwnProperty(a)&&a!=="parent"&&(Array.isArray(s[a])?o[a]=s[a].map(i):typeof s[a]=="object"&&(o[a]=i(s[a])));return o};return i(n)}};function ese(n,t,r,i){const s=Vk(t,{ecmaVersion:2021,locations:r}),o={...Nv};delete o.IfStatement,delete o.ForStatement,$ne(s,o,void 0,{varyings:{}}),jne(s,{varyings:{}},{IfStatement(c,f,d){c.test&&d(c.test,f),c.consequent&&d(c.consequent,f),c.alternate&&d(c.alternate,f),Nv.IfStatement(c,f,[])},ForStatement(c,f,d){c.init&&d(c.init,f),c.test&&d(c.test,f),c.update&&d(c.update,f),c.body&&d(c.body,f),Nv.ForStatement(c,f,[])}});const l=Jie.generate(s),u=Object.keys(i),h=new Function("__p5",...u,l.slice(l.indexOf("{")+1,l.lastIndexOf("}")).replaceAll(";",""));return()=>h(n,...u.map(c=>i[c]))}function YC(){return{blockTypes:[],incomingEdges:[],outgoingEdges:[],blockInstructions:[],nextID:0,blockStack:[],blockOrder:[],blockConditions:{},currentBlock:-1}}function ji(n,t){n.blockStack.push(t),n.blockOrder.push(t),n.currentBlock=t}function jr(n){n.blockStack.pop();const t=n.blockStack.length;n.currentBlock=n.blockStack[t-1]}function Uu(n,t){n.blockStack.push(t),n.currentBlock=t}function er(n,t){const r=n.nextID++;return n.blockTypes[r]=t,n.incomingEdges[r]=[],n.outgoingEdges[r]=[],n.blockInstructions[r]=[],r}function Pn(n,t,r){n.outgoingEdges[t].push(r),n.incomingEdges[r].push(t)}function $n(n,t,r){r===void 0&&eu("undefined nodeID in `recordInBasicBlock()`"),t===void 0&&eu("undefined blockID in `recordInBasicBlock()"),n.blockInstructions[t]=n.blockInstructions[t]||[],n.blockInstructions[t].push(r)}function tse(n,t){const r=new Set,i=[];function s(o){if(!r.has(o)){r.add(o);for(let a of n[o].sort((l,u)=>u-l)||[])s(a);i.push(o)}}return s(t),i.reverse()}function nse(n){const{cfg:t,backend:r,vertexDeclarations:i,fragmentDeclarations:s}=n,o={uniforms:{}};for(const{name:a,typeInfo:l,defaultValue:u}of n.uniforms){const h=r.generateUniformDeclaration(a,l);o.uniforms[h]=u}for(const{hookType:a,rootNodeID:l,entryBlockID:u,shaderContext:h}of n.hooks){const c={indent:1,codeLines:[],write(m){this.codeLines.push("  ".repeat(this.indent)+m)},tempNames:{},declarations:[],nextTempID:0,visitedNodes:new Set,shaderContext:h,strandsContext:n},f=tse(t.outgoingEdges,u);for(const m of f)r.generateBlock(m,n,c);for(const m of n.globalAssignments)c.visitedNodes.has(m)||(r.generateAssignment(c,n.dag,m),c.visitedNodes.add(m));n.globalAssignments=[];const d=r.hookEntry(a);let p=a.returnType.properties?Fx(a.returnType):kg[a.returnType.typeName];r.generateReturnStatement(n,c,l,p),o[`${a.returnType.typeName} ${a.name}`]=[d,...c.codeLines,"}"].join(`
`)}if(n.sharedVariables)for(const[a,l]of n.sharedVariables)l.usedInVertex&&l.usedInFragment?(i.add(`OUT ${l.typeInfo.fnName} ${a};`),s.add(`IN ${l.typeInfo.fnName} ${a};`)):l.usedInVertex?i.add(`${l.typeInfo.fnName} ${a};`):l.usedInFragment&&s.add(`${l.typeInfo.fnName} ${a};`);return o.vertexDeclarations=[...i].join(`
`),o.fragmentDeclarations=[...s].join(`
`),o}const rse={acos:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],acosh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],asin:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],asinh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],atan:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],atanh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],cos:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],cosh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],degrees:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],radians:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],sin:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],sinh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],tan:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],tanh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],abs:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.FLOAT],returnType:Re.INT,isp5Function:!0}],ceil:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],clamp:[{params:[Re.FLOAT,Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1},{params:[Re.FLOAT,_n.float1,_n.float1],returnType:Re.FLOAT,isp5Function:!1},{params:[Re.INT,Re.INT,Re.INT],returnType:Re.INT,isp5Function:!1},{params:[Re.INT,_n.int1,_n.int1],returnType:Re.INT,isp5Function:!1}],dFdx:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],dFdy:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],exp:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],exp2:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],floor:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],fma:[{params:[Re.FLOAT,Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],fract:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],fwidth:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],inversesqrt:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],log:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],log2:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],max:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.FLOAT,_n.float1],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.INT,Re.INT],returnType:Re.INT,isp5Function:!0},{params:[Re.INT,_n.int1],returnType:Re.INT,isp5Function:!0}],min:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.FLOAT,_n.float1],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.INT,Re.INT],returnType:Re.INT,isp5Function:!0},{params:[Re.INT,_n.int1],returnType:Re.INT,isp5Function:!0}],mix:[{params:[Re.FLOAT,Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1},{params:[Re.FLOAT,Re.FLOAT,_n.float1],returnType:Re.FLOAT,isp5Function:!1},{params:[Re.FLOAT,Re.FLOAT,Re.BOOL],returnType:Re.FLOAT,isp5Function:!1}],mod:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.FLOAT,_n.float1],returnType:Re.FLOAT,isp5Function:!0}],pow:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],round:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],roundEven:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],sign:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1},{params:[Re.INT],returnType:Re.INT,isp5Function:!1}],smoothstep:[{params:[Re.FLOAT,Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1},{params:[_n.float1,_n.float1,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],sqrt:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],step:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],trunc:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],cross:[{params:[_n.float3,_n.float3],returnType:_n.float3,isp5Function:!0}],distance:[{params:[Re.FLOAT,Re.FLOAT],returnType:_n.float1,isp5Function:!0}],dot:[{params:[Re.FLOAT,Re.FLOAT],returnType:_n.float1,isp5Function:!0}],equal:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.BOOL,isp5Function:!1},{params:[Re.INT,Re.INT],returnType:Re.BOOL,isp5Function:!1},{params:[Re.BOOL,Re.BOOL],returnType:Re.BOOL,isp5Function:!1}],faceforward:[{params:[Re.FLOAT,Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],length:[{params:[Re.FLOAT],returnType:_n.float1,isp5Function:!1}],normalize:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],notEqual:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.BOOL,isp5Function:!1},{params:[Re.INT,Re.INT],returnType:Re.BOOL,isp5Function:!1},{params:[Re.BOOL,Re.BOOL],returnType:Re.BOOL,isp5Function:!1}],reflect:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],refract:[{params:[Re.FLOAT,Re.FLOAT,_n.float1],returnType:Re.FLOAT,isp5Function:!1}],texture:[{params:[_n.sampler2D,_n.float2],returnType:_n.float4,isp5Function:!0}],getTexture:[{params:[_n.sampler2D,_n.float2],returnType:_n.float4,isp5Function:!0}]},PM={...rse};class Zi{constructor(t,r,i){this.id=t,this.strandsContext=i,this.dimension=r;const s=this.strandsContext.dag,o=Dr(s,this.id);o&&o.identifier&&(this._originalIdentifier=o.identifier,this._originalBaseType=o.baseType,this._originalDimension=o.dimension)}copy(){return xn(this.id,this.dimension,this.strandsContext)}bridge(t){const{dag:r,cfg:i}=this.strandsContext,o=Dr(r,this.id)?.baseType??Xt.FLOAT;let a;if(t instanceof Zi?a=t.id:a=Fi(this.strandsContext,{baseType:o,dimension:this.dimension},t).id,this._originalIdentifier){const{id:l}=Ml(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier),u=Ln({nodeType:Nt.ASSIGNMENT,dependsOn:[l,a],phiBlocks:[]}),h=Dn(r,u);$n(i,i.currentBlock,h),this.strandsContext.globalAssignments.push(h);const c=Ln({nodeType:Nt.VARIABLE,baseType:this._originalBaseType,dimension:this._originalDimension,identifier:this._originalIdentifier}),f=Dn(r,c);this.id=f}else this.id=a;return this}bridgeSwizzle(t,r){const{dag:i,cfg:s}=this.strandsContext,a=Dr(i,this.id)?.baseType??Xt.FLOAT;let l;if(r instanceof Zi?l=r.id:l=Fi(this.strandsContext,{baseType:a,dimension:this.dimension},r).id,this._originalIdentifier){const{id:u}=Ml(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier),h=Ln({nodeType:Nt.OPERATION,opCode:An.Unary.SWIZZLE,baseType:this._originalBaseType,dimension:t.length,swizzle:t,dependsOn:[u]}),c=Dn(i,h),f=Ln({nodeType:Nt.ASSIGNMENT,dependsOn:[c,l],phiBlocks:[]}),d=Dn(i,f);$n(s,s.currentBlock,d),this.strandsContext.globalAssignments.push(d);const p=Ln({nodeType:Nt.VARIABLE,baseType:this._originalBaseType,dimension:this._originalDimension,identifier:this._originalIdentifier}),m=Dn(i,p);this.id=m}else this.id=l;return this}getValue(){if(this._originalIdentifier){const{id:t,dimension:r}=Ml(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier);return xn(t,r,this.strandsContext)}return this}}function xn(n,t,r,i){return new Proxy(new Zi(n,t,r),lse(n,t,r,i))}function ise(n,t,r){const{cfg:i,dag:s}=n;let{dimension:o,baseType:a}=t;o!==1&&eu("Created a scalar literal node with dimension > 1.");const l=Ln({nodeType:Nt.LITERAL,dimension:o,baseType:a,value:r}),u=Dn(s,l);return $n(i,i.currentBlock,u),{id:u,dimension:o}}function Ml(n,t,r){const{cfg:i,dag:s}=n,{dimension:o,baseType:a}=t,l=Ln({nodeType:Nt.VARIABLE,dimension:o,baseType:a,identifier:r}),u=Dn(s,l);return $n(i,i.currentBlock,u),{id:u,dimension:o}}function sse(n,t,r){const{dag:i,cfg:s}=n;let o,a;if(t instanceof Zi)a=t;else{const{id:h,dimension:c}=Fi(n,{baseType:Xt.FLOAT,dimension:null},t);a=xn(h,c,n)}o=[a.id];const l=Ln({nodeType:Nt.OPERATION,opCode:r,dependsOn:o,baseType:i.baseTypes[a.id],dimension:a.dimension}),u=Dn(i,l);return $n(s,s.currentBlock,u),{id:u,dimension:a.dimension}}function ose(n,t,r,i){const{dag:s,cfg:o}=n;let a;if(r[0]instanceof Zi&&r.length===1)a=r[0];else{const{id:g,dimension:v}=Fi(n,{baseType:Xt.FLOAT,dimension:null},r);a=xn(g,v,n)}let l=t.id,u=a.id;const h=fm(s,t.id),c=fm(s,a.id),f={node:null,toType:h};if(h.baseType===c.baseType&&h.baseType===Xt.DEFER){f.toType.baseType=Xt.FLOAT,h.dimension===c.dimension?f.toType.dimension=h.dimension:h.dimension===1&&c.dimension>1?f.toType.dimension=c.dimension:c.dimension===1&&h.dimension>1?f.toType.dimension=h.dimension:Yi("type error",`You have tried to perform a binary operation:
${h.baseType+h.dimension} ${hm[i]} ${c.baseType+c.dimension}
It's only possible to operate on two nodes with the same dimension, or a scalar value and a vector.`);const g=Fi(n,f.toType,t),v=Fi(n,f.toType,a);l=g.id,u=v.id}else if(h.baseType!==c.baseType||h.dimension!==c.dimension){h.dimension===1&&c.dimension>1?(f.node=t,f.toType=c):c.dimension===1&&h.dimension>1||h.priority>c.priority?(f.node=a,f.toType=h):c.priority>h.priority?(f.node=t,f.toType=c):Yi("type error",`A vector of length ${h.dimension} operated with a vector of length ${c.dimension} is not allowed.`);const g=Fi(n,f.toType,f.node);f.node===t?(t=xn(g.id,g.dimension,n),l=t.id):(a=xn(g.id,g.dimension,n),u=a.id)}const p=Ln({nodeType:Nt.OPERATION,opCode:i,dependsOn:[l,u],baseType:f.toType.baseType,dimension:f.toType.dimension}),m=Dn(s,p);return $n(o,o.currentBlock,m),{id:m,dimension:p.dimension}}function Fv(n,t,r,i){const{cfg:s,dag:o}=n;if(i.length===0)for(const u of t.properties){const h=u.dataType,c=Ln({nodeType:Nt.VARIABLE,baseType:h.baseType,dimension:h.dimension,identifier:`${r}.${u.name}`}),f=Dn(o,c);$n(s,s.currentBlock,f),i.push(f)}const a=Ln({nodeType:Nt.VARIABLE,dimension:t.properties.length,baseType:t.typeName,identifier:r,dependsOn:i}),l=Dn(o,a);return $n(s,s.currentBlock,l),{id:l,dimension:0,components:i}}function Mx(n,t,r){const i=Array.isArray(r)?r:[r],s=[];let{dimension:o,baseType:a}=t;const l=n.dag;let u=0,h=null;for(const f of i.flat(1/0))if(f instanceof Zi){const d=Dr(l,f.id);if(h=f.id,a=d.baseType,d.opCode===An.Nary.CONSTRUCTOR)for(const p of d.dependsOn)s.push(p);else s.push(f.id);u+=d.dimension;continue}else if(typeof f=="number"){const{id:d,dimension:p}=ise(n,{dimension:1,baseType:a},f);s.push(d),u+=p;continue}else Yi("type error",`You've tried to construct a scalar or vector type with a non-numeric value: ${f}`);o===null?o=u:o>u&&u===1?u=o:u!==1&&u!==o&&Yi("type error",`You've tried to construct a ${a+o} with ${u} components`);const c={dimension:o,baseType:a,priority:IM[a]};return{originalNodeID:h,mappedDependencies:s,inferredTypeInfo:c}}function Ox(n,t,r){const i=Ln({nodeType:Nt.OPERATION,opCode:An.Nary.CONSTRUCTOR,dimension:t.dimension,baseType:t.baseType,dependsOn:r});return Dn(n.dag,i)}function Fi(n,t,r){const i=n.cfg,{mappedDependencies:s,inferredTypeInfo:o}=Mx(n,t,r),a={baseType:t.baseType,dimension:o.dimension},l=Ox(n,a,s);return t.baseType!==Xt.DEFER&&$n(i,i.currentBlock,l),{id:l,dimension:a.dimension,components:s}}function ase(n,t,r){const{cfg:i,dag:s}=n,{identifer:o,properties:a}=t;r.length!==a.length&&Yi("type error",`You've tried to construct a ${t.typeName} struct with ${r.length} properties, but it expects ${a.length} properties.
The properties it expects are:
${a.map(c=>c.name+" "+c.DataType.baseType+c.DataType.dimension)}`);const l=[];for(let c=0;c<a.length;c++){const f=a[c],{originalNodeID:d,mappedDependencies:p}=Mx(n,f.dataType,r[c]);d?l.push(d):l.push(Ox(n,f.dataType,p))}const u=Ln({nodeType:Nt.OPERATION,opCode:An.Nary.CONSTRUCTOR,dimension:a.length,baseType:t.typeName,dependsOn:l}),h=Dn(s,u);return $n(i,i.currentBlock,h),{id:h,dimension:a.length,components:t.components}}function kv(n,t,r,{overloads:i}={}){const{cfg:s,dag:o}=n,a=i||PM[t],l=r.map(S=>Mx(n,_n.defer,S)),u=a.filter(S=>S.params.length===l.length);if(u.length===0){const S=new Set,y=[];a.forEach(b=>S.add(b.params.length)),S.forEach(b=>y.push(`${b}`));const x=y.join(", or ");Yi("parameter validation error",`Function '${t}' has ${a.length} variants which expect ${x} arguments, but ${l.length} arguments were provided.`)}const h=S=>S.dimension===null;let c=null,f=0,d=null,p=null;for(const S of u){let y=!0,x=0;for(let b=0;b<l.length;b++){const E=l[b].inferredTypeInfo,_=S.params[b];let T=_.dimension;h(_)?((p===null||p===1)&&(p=E.dimension),p!==E.dimension&&!(E.dimension===1&&p>=1)&&(y=!1),T=p):E.dimension>T&&(y=!1),E.baseType===_.baseType?x+=2:_.priority>E.priority&&(x+=1)}y&&(!c||x>f)&&(c=S,f=x,d={...S.returnType},h(d)&&(d.dimension=p))}c===null&&Yi("parameter validation",`No matching overload for ${t} was found!`);let m=[];for(let S=0;S<c.params.length;S++){const y=l[S],x={...c.params[S]};if(h(x)&&(x.dimension=p),y.originalNodeID&&Mie(y.inferredTypeInfo,x))m.push(y.originalNodeID);else{const b=Ox(n,x,y.mappedDependencies);$n(s,s.currentBlock,b),m.push(b)}}const g=Ln({nodeType:Nt.OPERATION,opCode:An.Nary.FUNCTION_CALL,identifier:t,dependsOn:m,baseType:d.baseType,dimension:d.dimension}),v=Dn(o,g);return $n(s,s.currentBlock,v),{id:v,dimension:d.dimension}}function KC(n,t){const{dag:r,cfg:i}=n,s=Ln({nodeType:Nt.STATEMENT,statementType:t}),o=Dn(r,s);return $n(i,i.currentBlock,o),o}function Mv(n,t,r){const{dag:i,cfg:s}=n,o=i.baseTypes[t.id],a=Ln({nodeType:Nt.OPERATION,baseType:o,dimension:r.length,opCode:An.Unary.SWIZZLE,dependsOn:[t.id],swizzle:r}),l=Dn(i,a);return $n(s,s.currentBlock,l),{id:l,dimension:r.length}}function lse(n,t,r,i){const s=[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].map(a=>a.slice(0,t));return{get(a,l,u){if(l in a)return Reflect.get(...arguments);for(const h of s)if([...l.toString()].every(c=>h.includes(c))){const c=[...l].map(d=>{const p=h.indexOf(d);return s[0][p]}).join(""),f=Mv(r,a,c);return xn(f.id,f.dimension,r)}},set(a,l,u,h){for(const c of s){const f=[...l];if(!(f.every(x=>c.includes(x))&&new Set(f).size===f.length&&a.dimension>=f.length))continue;const p=a.dimension,m=new Array(p);for(let x=0;x<p;x++){const{id:b,dimension:w}=Mv(r,a,"xyzw"[x]);m[x]=xn(b,w,r)}let g=[];if(u instanceof Zi)if(u.dimension===1)g=Array(f.length).fill(u);else if(u.dimension===f.length)for(let x=0;x<f.length;x++){const{id:b,dimension:w}=Mv(r,u,"xyzw"[x]);g.push(xn(b,w,r))}else Yi("type error",`Swizzle assignment: RHS vector does not match LHS vector (need ${f.length}, got ${u.dimension}).`);else if(Array.isArray(u)){const x=u.flat(1/0);x.length===1?g=Array(f.length).fill(x[0]):x.length===f.length?g=x:Yi("type error",`Swizzle assignment: RHS length ${x.length} does not match ${f.length}.`)}else typeof u=="number"?g=Array(f.length).fill(u):Yi("type error",`Unsupported RHS for swizzle assignment: ${u}`);for(let x=0;x<f.length;x++){const b=c.indexOf(f[x]);m[b]=g[x]}const S=Dr(r.dag,a.id)?.baseType??Xt.FLOAT,{id:y}=Fi(r,{baseType:S,dimension:p},m);return a.id=y,typeof i=="function"&&i(y),!0}return Reflect.set(...arguments)}}}function l1(n,t,r){const i=t.filter(h=>h.value.id!==null);if(i.length===0)throw new Error(`No valid inputs for phi node for variable ${r}`);const s=Dr(n.dag,i[0].value.id),o=s.dimension,a=s.baseType,l={nodeType:Nt.PHI,dimension:o,baseType:a,dependsOn:t.map(h=>h.value.id).filter(h=>h!==null),phiBlocks:t.map(h=>h.blockId)},u=Dn(n.dag,l);return $n(n.cfg,n.cfg.currentBlock,u),{id:u,dimension:o,baseType:a}}class use{constructor(t,r,i){this.branches=[{condition:r,branchCallback:i,blockType:qt.IF_BODY}],this.ctx=t}ElseIf(t,r){return this.branches.push({condition:t,branchCallback:r,blockType:qt.IF_BODY}),this}Else(t=()=>({})){this.branches.push({condition:null,branchCallback:t,blockType:qt.IF_BODY});const r=cse(this.ctx,this),i={};for(const[s,o]of Object.entries(r))i[s]=xn(o.id,o.dimension,this.ctx);return i}}function cse(n,t){const r=n.cfg,i=t.branches,s=er(r,qt.MERGE),o=[],a=[],l={},u={},h=er(r,qt.BRANCH);Pn(r,r.currentBlock,h),Pn(r,h,s);let c=h;for(let f=0;f<i.length;f++){const{condition:d,branchCallback:p,blockType:m}=i[f];if(d!==null){const b=er(r,qt.IF_COND);Pn(r,c,b),ji(r,b),r.blockConditions[b]=d.id,c=b,jr(r)}else{const b=er(r,qt.ELSE_COND);Pn(r,c,b),c=b}const g=er(r,qt.SCOPE_START);Pn(r,c,g);const v=er(r,m);Pn(r,g,v),ji(r,v);const S=p();for(const b in S)u[b]?u[b].push({value:S[b],blockId:v}):u[b]=[{value:S[b],blockId:v}];o.push(S);const y=er(r,qt.DEFAULT);Pn(r,r.currentBlock,y),a.push(y),jr(r);const x=er(r,qt.SCOPE_END);Pn(r,y,x),Pn(r,x,s),c=g}Uu(r,h);for(const f in u)l[f]=l1(n,u[f],f);jr(r);for(let f=0;f<o.length;f++){const d=o[f],p=a[f];Uu(r,p);for(const m in d)if(l[m]){const g=l[m].id,v=d[m].id,S={nodeType:Nt.ASSIGNMENT,dependsOn:[g,v],phiBlocks:[]},y=Dn(n.dag,S);$n(r,p,y)}jr(r)}return ji(r,s),l}class hse{constructor(t,r,i,s,o,a){this.strandsContext=t,this.initialCb=r,this.conditionCb=i,this.updateCb=s,this.bodyCb=o,this.initialVars=a}build(){const t=this.strandsContext.cfg,r=er(t,qt.MERGE),i=er(t,qt.BRANCH);Pn(t,t.currentBlock,i),Pn(t,i,r);const{initialVar:s,phiNode:o}=this.initializeLoopVariable(t,i);ji(t,t.currentBlock);const a=xn(o.id,o.dimension,this.strandsContext),l=this.conditionCb(a),u=this.updateCb(a);jr(t),this.loopIsBounded(s,l,u)?this.buildBoundedLoop(t,i,r,s,o,l,u):this.buildUnboundedLoop(t,i,r,s,o,l,u);const c=this.phiNodesForBody;Uu(t,i);for(const[d,p]of Object.entries(this.bodyResults))if(d!=="loopVar"&&c[d]){const m=c[d].id,g=Dr(this.strandsContext.dag,m);g.dependsOn.length>1&&(g.dependsOn[1]=p.id),g.phiInputs&&g.phiInputs.length>1&&(g.phiInputs[1].value=p)}jr(t),Uu(t,i);for(const[d,p]of Object.entries(this.initialVars))if(d!=="loopVar"&&c[d]){const m=c[d].id,g=p.id,v=Ln({nodeType:Nt.ASSIGNMENT,dependsOn:[m,g],phiBlocks:[]}),S=Dn(this.strandsContext.dag,v);$n(t,i,S)}jr(t),Uu(t,this.finalBodyBlock);for(const[d,p]of Object.entries(this.bodyResults))if(d!=="loopVar"&&c[d]){const m=c[d].id,g=p.id,v=Ln({nodeType:Nt.ASSIGNMENT,dependsOn:[m,g],phiBlocks:[]}),S=Dn(this.strandsContext.dag,v);$n(t,this.finalBodyBlock,S)}jr(t);const f={};for(const[d,p]of Object.entries(c))f[d]=xn(p.id,p.dimension,this.strandsContext);return ji(t,r),f}buildBoundedLoop(t,r,i,s,o,a,l){const u=er(t,qt.FOR);if(Pn(t,r,u),ji(t,u),s){const y=Ln({nodeType:Nt.ASSIGNMENT,dependsOn:[o.id,s.id],phiBlocks:[]}),x=Dn(this.strandsContext.dag,y);$n(t,u,x)}const h=Ln({nodeType:Nt.STATEMENT,statementType:zs.EXPRESSION,dependsOn:[a.id],phiBlocks:[]}),c=Dn(this.strandsContext.dag,h);$n(t,u,c);const f=Ln({nodeType:Nt.ASSIGNMENT,dependsOn:[o.id,l.id],phiBlocks:[]}),d=Dn(this.strandsContext.dag,f);$n(t,u,d),jr(t);const p=t.blockInstructions[u]||[],m=s?3:2;if(p.length!==m)throw new Error(`FOR block must have exactly ${m} statements, got ${p.length}`);const g=er(t,qt.SCOPE_START);Pn(t,u,g);const v=er(t,qt.DEFAULT);this.bodyBlock=v,Pn(t,g,v),this.executeBodyCallback(t,r,v,o);const S=er(t,qt.SCOPE_END);Pn(t,v,S),Pn(t,S,i)}buildUnboundedLoop(t,r,i,s,o,a,l){const u=er(t,qt.FOR);if(Pn(t,r,u),ji(t,u),s){const F=Ln({nodeType:Nt.ASSIGNMENT,dependsOn:[o.id,s.id],phiBlocks:[]}),k=Dn(this.strandsContext.dag,F);$n(t,u,k)}else{const F=Ln({nodeType:Nt.STATEMENT,statementType:zs.EMPTY,dependsOn:[],phiBlocks:[]}),k=Dn(this.strandsContext.dag,F);$n(t,u,k)}const h=Ln({nodeType:Nt.STATEMENT,statementType:zs.EMPTY,dependsOn:[],phiBlocks:[]}),c=Dn(this.strandsContext.dag,h);$n(t,u,c);const f=Ln({nodeType:Nt.STATEMENT,statementType:zs.EMPTY,dependsOn:[],phiBlocks:[]}),d=Dn(this.strandsContext.dag,f);$n(t,u,d),jr(t);const p=er(t,qt.SCOPE_START);Pn(t,u,p);const m=er(t,qt.DEFAULT);Pn(t,p,m),ji(t,m);const g=a,v=this.createLogicalNotNode(g),S=er(t,qt.IF_COND);Pn(t,m,S),t.blockConditions[S]=v.id;const y=er(t,qt.DEFAULT);Pn(t,S,y),ji(t,y);const x=Ln({nodeType:Nt.STATEMENT,statementType:zs.BREAK,dependsOn:[],phiBlocks:[]}),b=Dn(this.strandsContext.dag,x);$n(t,y,b),jr(t),Pn(t,y,i),jr(t);const w=er(t,qt.DEFAULT);this.bodyBlock=w,Pn(t,m,w),this.executeBodyCallback(t,r,w,o);const E=er(t,qt.DEFAULT);Pn(t,w,E),ji(t,E);const _=Ln({nodeType:Nt.ASSIGNMENT,dependsOn:[o.id,l.id],phiBlocks:[]}),T=Dn(this.strandsContext.dag,_);$n(t,E,T),jr(t);const C=er(t,qt.SCOPE_END);Pn(t,E,C),Pn(t,C,m),Pn(t,m,i)}initializeLoopVariable(t,r){ji(t,r);let i=this.initialCb();if(!(i instanceof Zi)){const{id:o,dimension:a}=Fi(this.strandsContext,{baseType:Xt.FLOAT,dimension:1},i);i=xn(o,a,this.strandsContext)}const s=l1(this.strandsContext,[{value:i,blockId:r},{value:i,blockId:r}],"loopVar");return jr(t),{initialVar:i,phiNode:s}}createLogicalNotNode(t){const r=Ln({nodeType:Nt.OPERATION,opCode:An.Unary.LOGICAL_NOT,baseType:Xt.BOOL,dimension:1,dependsOn:[t.id],phiBlocks:[],usedBy:[]}),i=Dn(this.strandsContext.dag,r);return xn(i,1,this.strandsContext)}executeBodyCallback(t,r,i,s){ji(t,i);const o={},a={};Uu(t,r);for(const[u,h]of Object.entries(this.initialVars))if(u!=="loopVar"){const c=l1(this.strandsContext,[{value:h,blockId:r},{value:h,blockId:i}],u);a[u]=c,o[u]=xn(c.id,c.dimension,this.strandsContext)}jr(t);const l=xn(s.id,s.dimension,this.strandsContext);this.bodyResults=this.bodyCb(l,o),this.phiNodesForBody=a,this.finalBodyBlock=t.currentBlock,jr(t)}loopIsBounded(t,r,i){if(!r)return!1;const s=Dr(this.strandsContext.dag,r.id);if(s.nodeType!==Nt.OPERATION||!s.dependsOn||s.dependsOn.length!==2)return!1;const o=xn(s.dependsOn[0],1,this.strandsContext),a=xn(s.dependsOn[1],1,this.strandsContext),l=this.nodeUsesOnlyLiterals(o),u=this.nodeUsesOnlyLiterals(a);return l||u}nodeUsesOnlyLiterals(t){const r=Dr(this.strandsContext.dag,t.id);switch(r.nodeType){case Nt.LITERAL:return!0;case Nt.VARIABLE:return!1;case Nt.PHI:return!1;case Nt.OPERATION:if(r.dependsOn)for(const i of r.dependsOn){const s=xn(i,1,this.strandsContext);if(!this.nodeUsesOnlyLiterals(s))return!1}return!0;default:return!1}}}var ZC=`// Based on https://github.com/stegu/webgl-noise/blob/22434e04d7753f7e949e8d724ab3da2864c17a0f/src/noise3D.glsl
// MIT licensed, adapted for p5.strands

vec3 mod289(vec3 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 mod289(vec4 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 permute(vec4 x) {
  return mod289(((x*34.0)+10.0)*x);
}

vec4 taylorInvSqrt(vec4 r)
{
  return 1.79284291400159 - 0.85373472095314 * r;
}

float baseNoise(vec3 v)
{
  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
  vec3 i  = floor(v + dot(v, C.yyy) );
  vec3 x0 =   v - i + dot(i, C.xxx) ;

  // Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min( g.xyz, l.zxy );
  vec3 i2 = max( g.xyz, l.zxy );

  //   x0 = x0 - 0.0 + 0.0 * C.xxx;
  //   x1 = x0 - i1  + 1.0 * C.xxx;
  //   x2 = x0 - i2  + 2.0 * C.xxx;
  //   x3 = x0 - 1.0 + 3.0 * C.xxx;
  vec3 x1 = x0 - i1 + C.xxx;
  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y

  // Permutations
  i = mod289(i);
  vec4 p = permute( permute( permute(
          i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
        + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
      + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

  // Gradients: 7x7 points over a square, mapped onto an octahedron.
  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
  float n_ = 0.142857142857; // 1.0/7.0
  vec3  ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

  vec4 x = x_ *ns.x + ns.yyyy;
  vec4 y = y_ *ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4( x.xy, y.xy );
  vec4 b1 = vec4( x.zw, y.zw );

  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;
  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;
  vec4 s0 = floor(b0)*2.0 + 1.0;
  vec4 s1 = floor(b1)*2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

  vec3 p0 = vec3(a0.xy,h.x);
  vec3 p1 = vec3(a0.zw,h.y);
  vec3 p2 = vec3(a1.xy,h.z);
  vec3 p3 = vec3(a1.zw,h.w);

  //Normalise gradients
  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

  // Mix final noise value
  vec4 m = max(0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
  m = m * m;
  return 105.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
        dot(p2,x2), dot(p3,x3) ) );
}

float noise(vec3 st) {
  float result = 0.0;
  float amplitude = 1.0;
  float frequency = 1.0;

  for (int i = 0; i < 4; i++) {
    result += amplitude * baseNoise(st * frequency);
    frequency *= 2.0;
    amplitude *= 0.5;
  }

  return result;
}
`;function fse(n,t,r){for(const{name:s,arity:o,opCode:a}of DM)o==="binary"&&(Zi.prototype[s]=function(...l){const{id:u,dimension:h}=ose(r,this,l,a);return xn(u,h,r)}),o==="unary"&&(n[s]=function(l){const{id:u,dimension:h}=sse(r,l,a);return xn(u,h,r)});t.discard=function(){KC(r,zs.DISCARD)},t.break=function(){KC(r,zs.BREAK)},n.break=t.break,t.instanceID=function(){const s=Ml(r,{baseType:Xt.INT,dimension:1},"gl_InstanceID");return xn(s.id,s.dimension,r)},n.strandsIf=function(s,o){return new use(r,s,o)},t.strandsIf=n.strandsIf,n.strandsFor=function(s,o,a,l,u){return new hse(r,s,o,a,l,u).build()},t.strandsFor=n.strandsFor,n.strandsNode=function(...s){if(s.length===1&&s[0]instanceof Zi)return s[0];s.length>4&&Yi("type error","It looks like you've tried to construct a p5.strands node implicitly, with more than 4 components. This is currently not supported.");const{id:o,dimension:a}=Fi(r,{baseType:Xt.FLOAT,dimension:null},s.flat());return xn(o,a,r)};for(const[s,o]of Object.entries(PM))if(o[0].isp5Function){const l=t[s];t[s]=function(...u){if(r.active){const{id:h,dimension:c}=kv(r,s,u);return xn(h,c,r)}else return l.apply(this,u)}}else t[s]=function(...l){if(r.active){const{id:u,dimension:h}=kv(r,s,l);return xn(u,h,r)}else n._friendlyError(`It looks like you've called ${s} outside of a shader's modify() function.`)};const i=t.noise;t.noise=function(...s){if(!r.active)return i.apply(this,s);r.vertexDeclarations.add(ZC),r.fragmentDeclarations.add(ZC);const o=s.map(h=>n.strandsNode(h));let a;o.length===3?a=[t.vec3(o[0],o[1],o[2])]:o.length===2?a=[t.vec3(o[0],o[1],0)]:o.length===1&&o[0].dimension<=3?o[0].dimension===3?a=o:o[0].dimension===2?a=[t.vec3(o[0],0)]:a=[t.vec3(o[0],0,0)]:n._friendlyError(`It looks like you've called noise() with ${s.length} arguments. It only supports 1D to 3D input.`);const{id:l,dimension:u}=kv(r,"noise",a,{overloads:[{params:[_n.float3],returnType:_n.float1}]});return xn(l,u,r)};for(const s in _n){if(s===Xt.DEFER)continue;const o=_n[s],a=[];let l;/^[ib]vec/.test(o.fnName)?(l=o.fnName.slice(0,2).toUpperCase()+o.fnName.slice(2).toLowerCase(),a.push(l.replace("Vec","Vector"))):(l=o.fnName.charAt(0).toUpperCase()+o.fnName.slice(1),l==="Sampler2D"?a.push("Texture"):/^vec/.test(o.fnName)&&a.push(l.replace("Vec","Vector"))),t[`uniform${l}`]=function(h,c){const{id:f,dimension:d}=Ml(r,o,h);return r.uniforms.push({name:h,typeInfo:o,defaultValue:c}),xn(f,d,r)},t[`shared${l}`]=function(h){const{id:c,dimension:f}=Ml(r,o,h);return r.sharedVariables||(r.sharedVariables=new Map),r.sharedVariables.set(h,{typeInfo:o,usedInVertex:!1,usedInFragment:!1,declared:!1}),xn(c,f,r)},t[`varying${l}`]=t[`shared${l}`];for(const h of a)t[`uniform${h}`]=t[`uniform${l}`],t[`varying${h}`]=t[`varying${l}`],t[`shared${h}`]=t[`shared${l}`];const u=t[o.fnName];t[o.fnName]=function(...h){if(r.active){const{id:c,dimension:f}=Fi(r,o,h);return xn(c,f,r)}else{if(u)return u.apply(this,h);n._friendlyError(`It looks like you've called ${o.fnName} outside of a shader's modify() function.`)}}}}function dse(n,t){const r=[],i=n.dag;for(const s of t)if(kx(s.type.typeName)){const o=Fx(s),{id:a,dimension:l}=Fv(n,o,s.name,[]),u=xn(a,l,n);for(let h=0;h<o.properties.length;h++){const c=o.properties[h];Object.defineProperty(u,c.name,{get(){const f=Dr(i,i.dependsOn[u.id][h]),d=p=>{const g=i.dependsOn[u.id].slice();g[h]=p;const v=Fv(n,o,s.name,g);u.id=v.id};return xn(f.id,f.dimension,n,d)},set(f){const p=[...i.dependsOn[u.id]];let m;f instanceof Zi?m=f.id:m=Fi(n,c.dataType,f).id,p[h]=m;const g=Fv(n,o,s.name,p);u.id=g.id}})}r.push(u)}else{const o=kg[s.type.typeName],{id:a,dimension:l}=Ml(n,o,s.name),u=xn(a,l,n);r.push(u)}return r}function Ov(n,t,r,i){if(!(r instanceof Zi))return Fi(n,t,r).id;const s=n.dag;let o=r.id;const a={baseType:s.baseTypes[o],dimension:s.dimensions[o]};return a.dimension!==t.dimension?a.dimension!==1?Yi("type error",`You have returned a vector with ${a.dimension} components in ${i} when a ${t.baseType+t.dimension} was expected!`):o=Fi(n,t,r).id:a.baseType!==t.baseType&&(o=Fi(n,t,r).id),o}function pse(n,t,r){const i=Object.fromEntries(Object.entries(r.hooks.vertex).map(([h,c])=>[h,{...c,shaderContext:"vertex"}])),s=Object.fromEntries(Object.entries(r.hooks.fragment).map(([h,c])=>[h,{...c,shaderContext:"fragment"}])),o={...i,...s},a=Object.keys(o).map(h=>r.hookTypes(h)),{cfg:l,dag:u}=n;for(const h of a){const c=function(f){const d=er(l,qt.FUNCTION);Pn(l,l.currentBlock,d),ji(l,d);const p=dse(n,h.parameters),m=f(...p),g=h.returnType;let v=null;if(kx(g.typeName)){const x=Fx(g);if(m instanceof Zi){const b=Dr(n.dag,m.id);b.baseType!==x.typeName&&Yi("type error",`You have returned a ${m.baseType} from ${h.name} when a ${x.typeName} was expected.`);const w=b.dependsOn.slice();for(let E=0;E<x.properties.length;E++){const _=x.properties[E].dataType,T=xn(b.dependsOn[E],u.dependsOn[m.id],n);w[E]=Ov(n,_,T,h.name)}u.dependsOn[m.id]=w,v=m.id}else{const b=x.properties,w=[];for(let _=0;_<b.length;_++){const T=b[_],C=T.name,F=m[C];F===void 0&&Yi("type error",`You've returned an incomplete struct from ${h.name}.
Expected: { ${g.properties.map(N=>N.name).join(", ")} }
Received: { ${Object.keys(m).join(", ")} }
All of the properties are required!`);const k=T.dataType,D=Ov(n,k,F,h.name);w.push(D)}v=ase(n,x,w).id}}else{const x=kg[g.typeName];v=Ov(n,x,m,h.name)}const S=`${h.returnType.typeName} ${h.name}`,y=o[S];n.hooks.push({hookType:h,entryBlockID:d,rootNodeID:v,shaderContext:y?.shaderContext}),jr(l)};n.windowOverrides[h.name]=window[h.name],n.fnOverrides[h.name]=t[h.name],window[h.name]=c,t[h.name]=c}}function LM(n,t){function r(a,l,{active:u=!1}={}){a.dag=DC(),a.cfg=YC(),a.uniforms=[],a.vertexDeclarations=new Set,a.fragmentDeclarations=new Set,a.hooks=[],a.globalAssignments=[],a.backend=l,a.active=u,a.previousFES=n.disableFriendlyErrors,a.windowOverrides={},a.fnOverrides={},u&&(n.disableFriendlyErrors=!0)}function i(a){a.dag=DC(),a.cfg=YC(),a.uniforms=[],a.vertexDeclarations=new Set,a.fragmentDeclarations=new Set,a.hooks=[],a.globalAssignments=[],a.active=!1,n.disableFriendlyErrors=a.previousFES;for(const l in a.windowOverrides)window[l]=a.windowOverrides[l];for(const l in a.fnOverrides)t[l]=a.fnOverrides[l]}const s={};r(s),fse(n,t,s);const o=n.Shader.prototype.modify;n.Shader.prototype.modify=function(a,l={}){if(a instanceof Function){r(s,oo,{active:!0}),pse(s,t,this);const u={srcLocations:!1};let h;{const d=`(${a.toString()})`;h=ese(n,d,u.srcLocations,l)}const c=er(s.cfg,qt.GLOBAL);ji(s.cfg,c),h(),jr(s.cfg);const f=nse(s);return i(s),o.call(this,f)}else return o.call(this,a)}}typeof p5<"u"&&p5.registerAddon(LM);function mse(n){uF(n,n.prototype),hx(n,n.prototype),rM(n,n.prototype),fx(n,n.prototype),iM(n,n.prototype),hF(n,n.prototype),Nie(n,n.prototype),WN(n,n.prototype),HN(n,n.prototype),jN(n,n.prototype),GN(n,n.prototype),YN(n,n.prototype),mF(n,n.prototype),zN(n,n.prototype),lx(n,n.prototype),dx(n,n.prototype),LM(n,n.prototype)}function gse(n){n.registerAddon(sM),n.registerAddon(AM)}const vse=()=>{if(typeof window._setupDone<"u"){console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import");return}if(!window.mocha){const n=new Event("p5Ready");window.dispatchEvent(n),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!zt.instance&&new zt}},yse=()=>new Promise((n,t)=>{document.readyState==="complete"?n():window.addEventListener("load",n,!1)}),bse=typeof IS_MINIFIED>"u"?tJ():Promise.resolve();vZ(zt);bZ(zt);xZ(zt);Hne(zt);Wne(zt);Xne(zt);Yne(zt);Kne(zt);Qne(zt);ere(zt);tre(zt);mse(zt);gse(zt);Promise.all([yse(),bse]).then(vse);const xse={__name:"ColumnarJoint",setup(n){const t=Xe(null),r=Xe(null);let i=null;function s(){i&&i.resetSketch()}function o(){i&&i.runSketch()}const a=l=>{let u=!1;const h=.5,c=48,f=36;let d=-1,p=null,m=new Array(c),g=new Array(c),v=new Array(c),S=Array.from({length:c},()=>new Array(f).fill(!1)),y=Array.from({length:c},()=>new Array(f).fill(0)),x=Array.from({length:c},()=>new Array(f).fill(0)),b=new Array(f),w=new Array(f),E=-1,_=0,T=0;function C(N){const U=(N||document.documentElement).clientWidth||694,R=(window.innerHeight-160)/h,W=Math.floor(Math.min(U,R)),ne=Math.floor(W*h);return{w:W,h:ne}}l.setup=()=>{l.frameRate(20);const{w:N,h:M}=C(r.value),U=l.createCanvas(N,M);r.value&&U.parent(r.value),U.id("myP5Canvas"),(async()=>{try{p=await l.loadImage("/img/sim/joint1.jpg")}catch{p=null}})();for(let R=0;R<f;R++){const W=l.map(R,0,f,0,l.TWO_PI);b[R]=.001*Math.cos(W),w[R]=.001*Math.sin(W)}S=Array.from({length:c},()=>new Array(f).fill(!1)),y=Array.from({length:c},()=>new Array(f).fill(0)),x=Array.from({length:c},()=>new Array(f).fill(0)),F()},l.windowResized=()=>{const{w:N,h:M}=C(r.value);l.resizeCanvas(N,M)};function F(){d=-1;for(let N=0;N<c;N++){m[N]=Math.round(l.random(96,160));for(let M=0;M<200;M++){const U=l.random(.01,.65),R=l.random(.01,.49);let W=!1;for(let ne=0;ne<N;ne++)if(N!==ne&&l.dist(U,R,g[ne],v[ne])<.06){W=!0;break}if(!W){g[N]=U,v[N]=R;break}}}k()}function k(){for(let N=0;N<c;N++)for(let M=0;M<f;M++)S[N][M]=!1,y[N][M]=g[N],x[N][M]=v[N]}l.draw=()=>{try{if(Array.isArray(l.touches)&&l.touches.length>1)return;l.background(233),l.strokeWeight(1),l.textSize(20),u&&d>=0&&d<200&&d++;for(let N=0;N<c;N++)for(let M=0;M<f;M++){if(S[N][M])continue;const U=g[N]+d*b[M],R=v[N]+d*w[M];let W=!1;for(let ne=0;ne<c;ne++)if(!(Math.abs(g[ne]-g[N])>.3)&&!(Math.abs(v[ne]-v[N])>.3)&&N!==ne&&l.dist(U,R,g[ne],v[ne])<d*.001){W=!0,S[N][M]=!0;break}W||(y[N][M]=U,x[N][M]=R)}l.noStroke();for(let N=0;N<c;N++){l.fill(m[N]),l.beginShape();for(let M=0;M<f;M++)l.vertex(l.width*y[N][M],l.width*x[N][M]);l.endShape(l.CLOSE)}l.fill(0);for(let N=0;N<c;N++)l.ellipse(l.width*g[N],l.width*v[N],l.width*.005,l.width*.005);p&&l.image(p,l.width*.66,0,l.width*.34,l.width*.5)}catch(N){console.error("[ColumnarJoint.draw] error:",N)}};const D=(N,M,U,R,W,ne)=>N>=U&&N<=U+W&&M>=R&&M<=R+ne;l.mousePressed=()=>{if(!D(l.mouseX,l.mouseY,0,0,l.width*.7,l.height))return;let N=999;E=-1;for(let M=0;M<c;M++){const U=l.dist(l.mouseX/l.width,l.mouseY/l.width,g[M],v[M]);U<N&&(N=U,E=M)}E>=0&&(_=l.mouseX/l.width-g[E],T=l.mouseY/l.width-v[E])},l.mouseDragged=()=>{if(!(E<0)){g[E]=l.mouseX/l.width-_,v[E]=l.mouseY/l.width-T,g[E]=l.constrain(g[E],.01,.65),v[E]=l.constrain(v[E],.01,.49),d=-1,u=!1;for(let N=0;N<f;N++)S[E][N]=!1,y[E][N]=g[E],x[E][N]=v[E];return!1}},l.mouseReleased=()=>{E=-1},l.touchStarted=()=>{l.mousePressed()},l.touchMoved=()=>{if(!(Array.isArray(l.touches)&&l.touches.length>1))return l.mouseDragged()},l.touchEnded=()=>{l.mouseReleased()},l.resetSketch=()=>{d=-1,u=!1,F(),l.loop()},l.runSketch=()=>{d<0&&(d=0,u=!0,l.loop())}};return xr(async()=>{await Ji(),r.value&&(i=new zt(a,r.value))}),fs(()=>{try{i?.remove()}catch(l){console.error("Error removing p5 instance:",l)}}),(l,u)=>(se(),ce("div",{class:"columnar-wrap",ref_key:"wrapRef",ref:t},[A("div",{class:"toolbar"},[A("button",{class:"btn",onClick:s}," "),A("button",{class:"btn primary",onClick:o},"Run"),u[0]||(u[0]=A("span",{class:"title"}," ",-1))]),A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512),u[1]||(u[1]=A("p",{class:"desc"},[At(" ()    . "),A("em",null,"Run"),At("                . ")],-1))],512))}},JC=wt(xse,[["__scopeId","data-v-e195bc9b"]]),_se={class:"states-of-matter-component"},wse={class:"simulation-layout"},Ese={class:"canvas-wrapper"},Sse={class:"controls-wrapper"},Cse={class:"controls-grid"},Ase={class:"control-group radio-group"},Tse={class:"checkbox-label"},Ise={class:"checkbox-label"},Dse={__name:"StatesOfMatterSimulation",setup(n){const t=Xe(null),r=Xe("gas"),i=Xe(!0),s=Xe(!0);let o=null;const a=l=>{let u=40,h=960,c=40,f=40,d=960,p=54,m=[],g=[],v=[],S=[];const y=C=>l.cos(l.radians(C)),x=C=>l.sin(l.radians(C)),b=(C,F)=>l.degrees(l.atan2(F,C)),w=(C,F)=>(C%F+F)%F;l.setup=()=>{const C=t.value.offsetWidth,F=C;l.createCanvas(C,F),l.frameRate(30),_(),E()};const E=()=>{const C=r.value;if(C!=="gas")for(let F=0;F<p;F++)S[F]>180&&(S[F]=l.int(l.random(40,140)));if(C==="solid")for(let F=0;F<p;F++)v[F]=4;if(C==="liquid")for(let F=0;F<p;F++)v[F]=4;if(C==="gas")for(let F=0;F<p;F++)v[F]=8},_=()=>{for(let C=0;C<p;C++)m[C]=l.random(u,h),g[C]=l.random(f,d),S[C]=l.round(l.random(360))};l.windowResized=()=>{const C=t.value.offsetWidth,F=C;l.resizeCanvas(C,F)},l.draw=()=>{if(l.touches.length>1)return;l.background(255),l.textAlign(l.CENTER,l.CENTER),l.push(),l.scale(l.width/1e3),i.value&&T(),l.noStroke();let C=l.color(255),F=l.color(128,255,255);if(l.fill(l.lerpColor(C,F,l.map(f,c,d,-1,1))),l.rect(u-20,f,h-u+40,d-f+40),l.noFill(),l.stroke(255,0,0),l.strokeWeight(3),r.value!=="gas"&&s.value)for(let k=0;k<p-1;k++)for(let D=k+1;D<p;D++)l.dist(m[k],g[k],m[D],g[D])<35&&l.line(m[k],g[k],m[D],g[D]);l.noStroke();for(let k=0;k<p;k++){let D=0,N=0;i.value&&r.value==="solid"&&(D=l.random(-1,1),N=l.random(-1,1)),l.fill(0,0,255),s.value?l.ellipse(m[k]+D,g[k]+N,28,28):l.ellipse(m[k]+D,g[k]+N,34,34)}l.noFill(),l.stroke(64),l.strokeWeight(40),l.rect(u-30,c-30,h-u+60,d-c+60),l.rect(u-30,c-30,h-u+60,d-c+60,40),l.pop()};function T(){let C=!1;const F=r.value;if(F==="gas")f=c;else{f=d;for(let D=0;D<p;D++)f=l.min(f,g[D]);if(f>=d-60&&F==="solid"){C=!0;for(let D=0;D<p-1;D++)for(let N=D+1;N<p;N++)if(m[N]<m[D]){let M=m[D];m[D]=m[N],m[N]=M,M=g[D],g[D]=g[N],g[N]=M}}if(!C){let D=0;for(let N=1;N<p;N++)g[N]<g[D]&&(D=N);S[D]=l.int(l.random(40,140))}f=l.min(f,d-60)}if(C)for(let D=0;D<p;D+=2){if(g[D+1]<g[D]){let R=m[D];m[D]=m[D+1],m[D+1]=R,R=g[D],g[D]=g[D+1],g[D+1]=R}let N=l.map(D,0,p-2,u+13,h-13),M=d-42,U=d-8;m[D+0]=l.lerp(m[D],N,.1),m[D+1]=l.lerp(m[D+1],N,.1),g[D+0]=l.lerp(g[D],M,.1),g[D+1]=l.lerp(g[D+1],U,.1)}let k=30;for(let D=0;D<p-1;D++)for(let N=D+1;N<p;N++){let M=m[D]+v[D]*y(S[D]),U=g[D]+v[D]*x(S[D]),R=m[N]+v[N]*y(S[N]),W=g[N]+v[N]*x(S[N]);if(l.dist(m[D],g[D],m[N],g[N])<k&&l.dist(m[D],g[D],m[N],g[N])>l.dist(M,U,R,W)){let ne=v[D]*y(S[D]),ge=v[D]*x(S[D]),te=v[N]*y(S[N]),J=v[N]*x(S[N]),ae=(ne+te)/2,xe=(ge+J)/2,Z=ne-ae,G=ge-xe,ye=te-ae,Q=J-xe,pe=l.dist(0,0,Z,G),$=l.dist(0,0,ye,Q),re=b(Z,G),be=b(ye,Q),Se=b(m[N]-m[D],g[N]-g[D]),j=b(m[D]-m[N],g[D]-g[N]);re=w(2*Se+180-re,360),be=w(2*j+180-be,360),ne=pe*y(re),ge=pe*x(re),te=$*y(be),J=$*x(be),ne+=ae,ge+=xe,te+=ae,J+=xe,F==="gas"&&(v[D]=l.dist(0,0,ne,ge),v[N]=l.dist(0,0,te,J)),S[D]=b(ne,ge),S[N]=b(te,J)}}for(let D=0;D<p;D++)C||(m[D]+=v[D]*y(S[D]),g[D]+=v[D]*x(S[D])),m[D]<u&&(m[D]=2*u-m[D],S[D]=w(180-S[D],360)),m[D]>h&&(m[D]=2*h-m[D],S[D]=w(180-S[D],360)),g[D]<f&&(g[D]=2*f-g[D],S[D]=360-S[D]),g[D]>d&&(g[D]=2*d-g[D],S[D]=360-S[D])}l.myCustomRedrawAccordingToState=()=>{E()}};return xr(()=>{o=new zt(a,t.value)}),ru(()=>{o&&o.remove()}),Wi(r,()=>{o&&o.myCustomRedrawAccordingToState()}),(l,u)=>(se(),ce("div",_se,[A("div",wse,[A("div",Ese,[A("div",{ref_key:"canvasContainer",ref:t},null,512)]),A("div",Sse,[u[10]||(u[10]=A("header",{class:"entry-header"},[A("h1",{class:"entry-title"}," ")],-1)),A("div",Cse,[A("div",Ase,[A("label",null,[sn(A("input",{type:"radio","onUpdate:modelValue":u[0]||(u[0]=h=>r.value=h),value:"solid"},null,512),[[Xs,r.value]]),u[5]||(u[5]=At("  ",-1))]),A("label",null,[sn(A("input",{type:"radio","onUpdate:modelValue":u[1]||(u[1]=h=>r.value=h),value:"liquid"},null,512),[[Xs,r.value]]),u[6]||(u[6]=At("  ",-1))]),A("label",null,[sn(A("input",{type:"radio","onUpdate:modelValue":u[2]||(u[2]=h=>r.value=h),value:"gas"},null,512),[[Xs,r.value]]),u[7]||(u[7]=At("  ",-1))])]),A("label",Tse,[sn(A("input",{type:"checkbox","onUpdate:modelValue":u[3]||(u[3]=h=>i.value=h)},null,512),[[Ll,i.value]]),u[8]||(u[8]=At(" Run ",-1))]),A("label",Ise,[sn(A("input",{type:"checkbox","onUpdate:modelValue":u[4]||(u[4]=h=>s.value=h)},null,512),[[Ll,s.value]]),u[9]||(u[9]=At("     ",-1))])]),u[11]||(u[11]=A("div",{class:"entry-content"},[A("h2",null," "),A("p",null,"    , ,     .  ,          .  ,    ,     ,      . ,         ,       ."),A("p",null,"   ,     .     ,    .         ,    .")],-1))])])]))}},ca=wt(Dse,[["__scopeId","data-v-10eeae8e"]]),Nse={class:"ecosystem-component"},Fse={class:"canvas-wrapper"},kse={class:"controls-bar"},Mse={class:"checkbox-label"},Ose={__name:"EcosystemSimulation",setup(n){const t=Xe(null),r=Xe(!0);let i=null;const s=c=>{let f,d,p,m=1.15,g=0,v=[],S=[],y=0,x=400,b=200,w=[],E=[],_=[],T=[],C=[],F=.002,k=0,D=600,N=300,M=[],U=[],R=[],W=[],ne=[],ge=.002,te=1,J=[],ae=[],xe=[];const Z=(ee,Ae)=>(ee%Ae+Ae)%Ae;c.setup=async()=>{const ee=t.value.offsetWidth,Ae=ee*.5;c.createCanvas(ee,Ae),c.frameRate(60);const we="/img/sim/";try{f=await c.loadImage(we+"ecosystem_herb.png"),console.log(" Herb image loaded")}catch{console.warn(" Herb image loading failed, using shape instead"),f=null}try{d=await c.loadImage(we+"ecosystem_hare.png"),console.log(" Hare image loaded")}catch{console.warn(" Hare image loading failed, using shape instead"),d=null}try{p=await c.loadImage(we+"ecosystem_wolf.png"),console.log(" Wolf image loaded")}catch{console.warn(" Wolf image loading failed, using shape instead"),p=null}c.imageMode(c.CENTER),c.addHare=()=>Q(),c.removeHare=()=>{y>0&&$(y-1)},c.addWolf=()=>re(),c.removeWolf=()=>{k>0&&Se(k-1)},c.clearGraph=()=>j();for(let he=0;he<50;he++)G();for(let he=0;he<30;he++)Q();for(let he=0;he<10;he++)re();j()},c.windowResized=()=>{const ee=t.value.offsetWidth,Ae=ee*.5;c.resizeCanvas(ee,Ae)};function G(){v[g]=c.random(m*.05,m*.95),S[g]=c.random(.05,.95),g++}function ye(ee){g--,v[ee]=v[g],S[ee]=S[g]}function Q(){w[y]=c.int(c.random(x*.25,x*.75)),E[y]=c.int(c.random(b*.25,b*.75)),_[y]=c.random(1)*m,T[y]=c.random(1),C[y]=c.random(c.TWO_PI),y++}function pe(ee){w[y]=x,E[y]=b*.5,_[y]=_[ee],T[y]=T[ee],C[y]=c.random(c.TWO_PI),y++}function $(ee){y--,w[ee]=w[y],E[ee]=E[y],_[ee]=_[y],T[ee]=T[y],C[ee]=C[y]}function re(){M[k]=c.int(c.random(D*.25,D*.75)),U[k]=c.int(c.random(N*.25,N*.75)),R[k]=c.random(1)*m,W[k]=c.random(1),ne[k]=c.random(c.TWO_PI),k++}function be(ee){M[k]=D,U[k]=N*.5,R[k]=R[ee],W[k]=W[ee],ne[k]=c.random(c.TWO_PI),k++}function Se(ee){k--,M[ee]=M[k],U[ee]=U[k],R[ee]=R[k],W[ee]=W[k],ne[ee]=ne[k]}function j(){J=[g*3],ae=[y],xe=[k]}function X(){if(g<2e3&&Z(c.frameCount,5)==0){let ee=c.random(m*.05,m*.95),Ae=c.random(.05,.95),we=999,he=999;for(let me=0;me<g;me++)we=c.abs(ee-v[me])+c.abs(Ae-S[me]),we<he&&(he=we);he>.05&&G()}for(let ee=0;ee<y;ee++){if(C[ee]+=c.random(-1,1),E[ee]<b*.7){let Ae=999,we=999,he=-1;for(let me=0;me<g;me++)Ae=c.abs(_[ee]-v[me])+c.abs(T[ee]-S[me]),Ae<we&&(we=Ae,he=me);he>=0&&(C[ee]=c.atan2(S[he]-T[ee],v[he]-_[ee]),we<.03&&(ye(he),E[ee]=b))}if(_[ee]+=F*c.cos(C[ee]),T[ee]+=F*c.sin(C[ee]),_[ee]=c.constrain(_[ee],m*.05,m*.95),T[ee]=c.constrain(T[ee],.05,.95),w[ee]--,w[ee]<=0){$(ee);continue}if(E[ee]--,E[ee]<=0){$(ee);continue}w[ee]==c.int(x*.2)&&E[ee]>b*.5&&pe(ee),w[ee]==c.int(x*.4)&&E[ee]>b*.5&&pe(ee),w[ee]==c.int(x*.5)&&E[ee]>b*.5&&pe(ee),w[ee]==c.int(x*.6)&&E[ee]>b*.5&&pe(ee),w[ee]==c.int(x*.8)&&E[ee]>b*.5&&pe(ee)}for(let ee=0;ee<k;ee++){if(ne[ee]+=c.random(-1,1),k<y/4&&U[ee]<N*.5){let Ae=999,we=999,he=-1;for(let me=0;me<y;me++)Ae=c.abs(R[ee]-_[me])+c.abs(W[ee]-T[me]),Ae<we&&(we=Ae,he=me);he>=0&&(ne[ee]=c.atan2(T[he]-W[ee],_[he]-R[ee]),we<.02&&($(he),U[ee]=N))}if(R[ee]+=ge*c.cos(ne[ee]),W[ee]+=ge*c.sin(ne[ee]),R[ee]=c.constrain(R[ee],m*.05,m*.95),W[ee]=c.constrain(W[ee],.05,.95),M[ee]--,M[ee]<=0){Se(ee);continue}if(U[ee]--,U[ee]<=0){Se(ee);continue}M[ee]==c.int(D*.4)&&be(ee),M[ee]==c.int(D*.6)&&be(ee)}Z(c.frameCount,30)==0&&(J.push(g*3),ae.push(y),xe.push(k),J.length>100&&(J.splice(0,1),ae.splice(0,1),xe.splice(0,1)),te=c.max(c.max(J),c.max(ae),c.max(xe)))}c.draw=()=>{if(c.touches.length>1)return;c.background(233),c.strokeWeight(c.width/500),c.textSize(c.width/40),c.textAlign(c.CENTER,c.CENTER),r.value&&X(),c.noStroke(),c.fill(233,222,191),c.rect(0,0,c.height*m,c.height);for(let me=0;me<g;me++)f&&f.width>0?c.image(f,v[me]*c.height,S[me]*c.height,c.width*.05,c.width*.05):(c.fill(34,139,34),c.circle(v[me]*c.height,S[me]*c.height,c.width*.03));for(let me=0;me<y;me++)d&&d.width>0?c.image(d,_[me]*c.height,T[me]*c.height,c.width*.05,c.width*.05):(c.fill(160,110,80),c.circle(_[me]*c.height,T[me]*c.height,c.width*.04)),c.fill(255,0,0),c.rect(_[me]*c.height-c.width*.025,T[me]*c.height+c.width*.02,c.map(w[me],0,x,0,c.width*.05),c.width*.004),c.fill(0,255,0),c.rect(_[me]*c.height-c.width*.025,T[me]*c.height+c.width*.025,c.map(E[me],0,b,0,c.width*.05),c.width*.004);for(let me=0;me<k;me++)p&&p.width>0?c.image(p,R[me]*c.height,W[me]*c.height,c.width*.05,c.width*.05):(c.fill(139,69,19),c.circle(R[me]*c.height,W[me]*c.height,c.width*.05)),c.fill(255,0,0),c.rect(R[me]*c.height-c.width*.025,W[me]*c.height+c.width*.025,c.map(M[me],0,D,0,c.width*.05),c.width*.004),c.fill(0,255,0),c.rect(R[me]*c.height-c.width*.025,W[me]*c.height+c.width*.03,c.map(U[me],0,N,0,c.width*.05),c.width*.004);c.fill(255),c.rect(c.height*m,0,c.width,c.height);let ee=c.width*.62,Ae=c.width,we=c.height*.5,he=c.height*.995;c.noFill(),c.stroke(0),c.line(ee,we,ee,he),c.line(ee,he,Ae,he),c.stroke(64,255,64),c._renderer.beginShape();for(let me=0;me<J.length;me++)c._renderer.vertex(c.map(me,0,100,ee,Ae),c.map(J[me],0,te,he,we));c._renderer.endShape(),c.line(ee+c.width*.1,c.height*.1,ee+c.width*.2,c.height*.1),f&&f.width>0?c.image(f,ee+c.width*.23,c.height*.1,c.width*.05,c.width*.05):(c.fill(34,139,34),c.circle(ee+c.width*.23,c.height*.1,c.width*.03)),c.stroke(90),c._renderer.beginShape();for(let me=0;me<ae.length;me++)c._renderer.vertex(c.map(me,0,100,ee,Ae),c.map(ae[me],0,te,he,we));c._renderer.endShape(),c.line(ee+c.width*.1,c.height*.23,ee+c.width*.2,c.height*.23),d&&d.width>0?c.image(d,ee+c.width*.23,c.height*.23,c.width*.05,c.width*.05):(c.fill(160,110,80),c.circle(ee+c.width*.23,c.height*.23,c.width*.04)),c.stroke(191,64,0),c._renderer.beginShape();for(let me=0;me<xe.length;me++)c._renderer.vertex(c.map(me,0,100,ee,Ae),c.map(xe[me],0,te,he,we));c._renderer.endShape(),c.line(ee+c.width*.1,c.height*.36,ee+c.width*.2,c.height*.36),p&&p.width>0?c.image(p,ee+c.width*.23,c.height*.36,c.width*.05,c.width*.05):(c.fill(139,69,19),c.circle(ee+c.width*.23,c.height*.36,c.width*.05)),c.fill(0),c.noStroke(),c.textAlign(c.LEFT,c.CENTER),c.text(c.int(g*3),ee+c.width*.26,c.height*.1),c.text(y,ee+c.width*.26,c.height*.23),c.text(k,ee+c.width*.26,c.height*.36)}};xr(()=>{try{i=new zt(s,t.value)}catch(c){console.error(" Failed to initialize p5.js:",c)}}),ru(()=>{if(i)try{i.remove()}catch(c){console.error("Error removing p5 instance:",c)}});const o=()=>{i&&i.addHare()},a=()=>{i&&i.removeHare()},l=()=>{i&&i.addWolf()},u=()=>{i&&i.removeWolf()},h=()=>{i&&i.clearGraph()};return(c,f)=>(se(),ce("div",Nse,[A("div",Fse,[A("div",{ref_key:"canvasContainer",ref:t,style:{"aspect-ratio":"2 / 1"}},null,512)]),A("div",kse,[A("button",{onClick:a}," -"),A("button",{onClick:o}," +"),A("button",{onClick:u}," -"),A("button",{onClick:l}," +"),A("label",Mse,[sn(A("input",{type:"checkbox","onUpdate:modelValue":f[0]||(f[0]=d=>r.value=d)},null,512),[[Ll,r.value]]),f[1]||(f[1]=At("  ",-1))]),A("button",{onClick:h}," ")]),f[2]||(f[2]=pi('<div class="text-content" data-v-d5c7d2c2><header class="entry-header" data-v-d5c7d2c2><h1 class="entry-title" data-v-d5c7d2c2></h1></header><div class="entry-content" data-v-d5c7d2c2><h2 data-v-d5c7d2c2> </h2><ul data-v-d5c7d2c2><li data-v-d5c7d2c2>    .    .  0   .</li><li data-v-d5c7d2c2>   () .    .  0   .</li><li data-v-d5c7d2c2>  :   50%  ,   20%, 40%, 50%, 60%, 80%   1 .</li><li data-v-d5c7d2c2>  :    ,   40%, 60%   1 . </li><li data-v-d5c7d2c2>        .</li></ul><h2 data-v-d5c7d2c2>  </h2><p data-v-d5c7d2c2>20             .    , ,    .<br data-v-d5c7d2c2>                .       30       .</p><p data-v-d5c7d2c2>            .              .<br data-v-d5c7d2c2>            .         .</p></div></div>',1))]))}},QC=wt(Ose,[["__scopeId","data-v-d5c7d2c2"]]),Pse={class:"toolbar"},Lse={class:"row"},Rse={class:"radio"},Bse={class:"radio"},Use={class:"row"},Vse={class:"check"},$se={class:"row"},jse={class:"val"},zse={__name:"MagnetField",setup(n){const t=Xe(null),r=Xe(null),i=Xe("bar"),s=Xe(!0),o=Xe(2);let a=null,l=-.3,u=0,h=!1,c=0,f=0;const d=[],p=[],m=[],g=[],v=[],S=[];let y=null,x=null;function b(E){d.length=0,p.length=0,m.length=0,g.length=0,v.length=0,S.length=0;const _=D=>{let N=0,M=0,U=0;for(let R=0;R<500;R++){if(D>10?(N=E.random(-350,350),M=E.random(-500,500),U=E.random(-350,350)):(N=E.random(-100,100),M=E.random(-100,100),U=E.random(-100,100)),E.mag(N,U)>350)continue;let W=!1;for(let ne=0;ne<d.length;ne++)E.dist(N,M,U,d[ne],p[ne],m[ne])<D&&(W=!0);if(!W)break}return{x:N,y:M,z:U}};for(let D=0;D<200;D++){const N=_(20);d.push(N.x),p.push(N.y),m.push(N.z)}for(let D=0;D<40;D++){const N=_(5);d.push(N.x),p.push(N.y+(D<20?200:-200)),m.push(N.z)}const T=[0,0],C=[-200,200],F=[0,0],k=[-1,1];for(let D=0;D<d.length;D++){let N=0,M=0,U=0;for(let W=0;W<T.length;W++){const ne=E.dist(d[D],p[D],m[D],T[W],C[W],F[W]);N+=k[W]/(ne*ne)*((d[D]-T[W])/Math.abs(ne)),M+=k[W]/(ne*ne)*((p[D]-C[W])/Math.abs(ne)),U+=k[W]/(ne*ne)*((m[D]-F[W])/Math.abs(ne))}const R=E.dist(0,0,0,N,M,U);g[D]=N/R*13,v[D]=M/R*13,S[D]=U/R*13}}function w(E){const _=()=>{const D=t.value,N=D?D.clientWidth:window.innerWidth,M=Math.floor(Math.min(N,Math.max(320,window.innerHeight-160)));return{w:M,h:M}};E.setup=async()=>{const D="/img/sim/";try{y=await E.loadImage(D+"bar_magnet_texture.png"),console.log("[MagnetField] bar texture loaded:",D+"bar_magnet_texture.png")}catch(R){console.error("[MagnetField] bar texture failed:",R),y=null}try{x=await E.loadImage(D+"earth_movements_map.png"),console.log("[MagnetField] earth texture loaded:",D+"earth_movements_map.png")}catch(R){console.error("[MagnetField] earth texture failed:",R),x=null}const{w:N,h:M}=_();E.createCanvas(N,M,E.WEBGL).parent(t.value),E.setAttributes("antialias",!0),b(E)},E.windowResized=()=>{const{w:D,h:N}=_();E.resizeCanvas(D,N)},E.draw=()=>{i.value==="bar"?E.background(233,255,233):E.background(222),s.value&&(u+=.01),E.push(),E.scale(E.width/1e3),E.rotateX(l),E.rotateY(u),i.value==="bar"?(E.push(),E.rotateZ(-E.HALF_PI),E.translate(-100,0,0),E.noStroke(),E.fill(255,0,0),E.box(200,50,24),E.translate(200,0,0),E.fill(0,0,255),E.box(200,50,24),y&&(E.translate(-100,0,13),E.texture(y),E.plane(400,50),E.translate(0,0,-26),E.texture(y),E.plane(400,50)),E.pop()):(E.push(),E.noStroke(),x?(E.textureMode(E.NORMAL),E.textureWrap(E.CLAMP),E.texture(x),E.sphere(200,64,64)):(E.fill(120,170,255),E.sphere(200,32,24)),E.pop()),E.strokeWeight(o.value),E.stroke(255,0,0);for(let D=0;D<d.length;D++)E.line(d[D],p[D],m[D],d[D]+g[D],p[D]+v[D],m[D]+S[D]);E.stroke(0,0,255);for(let D=0;D<d.length;D++)E.line(d[D],p[D],m[D],d[D]-g[D],p[D]-v[D],m[D]-S[D]);E.pop()};const T=()=>{k(E)&&(c=E.mouseX*1e3/E.width,f=E.mouseY*1e3/E.width,h=!0)},C=()=>{if(!(E.touches&&E.touches.length>1)&&h)return l+=.002*(f-E.mouseY*1e3/E.width),l=E.constrain(l,-E.HALF_PI,E.HALF_PI),u+=.002*(E.mouseX*1e3/E.width-c),c=E.mouseX*1e3/E.width,f=E.mouseY*1e3/E.width,!1},F=()=>{h=!1};E.touchStarted=T,E.touchMoved=C,E.touchEnded=F,E.mousePressed=T,E.mouseDragged=C,E.mouseReleased=F;function k(D){const N=D.mouseX,M=D.mouseY;return N>=0&&N<=D.width&&M>=0&&M<=D.height}}try{zt&&(zt.disableFriendlyErrors=!0),zt.prototype&&(zt.prototype.disableFriendlyErrors=!0)}catch{}return xr(()=>{const E=globalThis.nf;try{a=new zt(w)}finally{typeof E<"u"?globalThis.nf=E:delete globalThis.nf}}),fs(()=>{a&&(a.remove(),a=null)}),Wi(i,()=>{}),(E,_)=>(se(),ce("div",{class:"magnet-wrap",ref_key:"wrapRef",ref:r},[A("div",Pse,[A("div",Lse,[A("label",Rse,[sn(A("input",{type:"radio",value:"bar","onUpdate:modelValue":_[0]||(_[0]=T=>i.value=T)},null,512),[[Xs,i.value]]),_[4]||(_[4]=A("span",null,"",-1))]),A("label",Bse,[sn(A("input",{type:"radio",value:"earth","onUpdate:modelValue":_[1]||(_[1]=T=>i.value=T)},null,512),[[Xs,i.value]]),_[5]||(_[5]=A("span",null,"",-1))])]),A("div",Use,[A("label",Vse,[sn(A("input",{type:"checkbox","onUpdate:modelValue":_[2]||(_[2]=T=>s.value=T)},null,512),[[Ll,s.value]]),_[6]||(_[6]=A("span",null,"Auto Rotate",-1))])]),A("div",$se,[_[7]||(_[7]=A("span",{class:"label"}," ",-1)),sn(A("input",{type:"range",min:"1",max:"5",step:"0.1","onUpdate:modelValue":_[3]||(_[3]=T=>o.value=T)},null,512),[[nr,o.value,void 0,{number:!0}]]),A("span",jse,Be(o.value.toFixed(1)),1)])]),A("div",{class:"canvas-host",ref_key:"hostRef",ref:t},null,512),_[8]||(_[8]=A("p",{class:"helper"},"( )  .",-1))],512))}},eA=wt(zse,[["__scopeId","data-v-afb80f2e"]]),Gse={class:"material-selector"},Hse=["onClick"],Wse={__name:"ThermalConductivitySim",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe([{key:"copper",name:"",k:25,color:[184,115,51],colorStr:"rgb(184, 115, 51)"},{key:"aluminum",name:"",k:15,color:[192,192,192],colorStr:"rgb(192, 192, 192)"},{key:"iron",name:"",k:3.75,color:[60,60,60],colorStr:"rgb(60, 60, 60)"},{key:"steel",name:"",k:1,color:[210,210,210],colorStr:"rgb(210, 210, 210)"}]),o=Xe("steel");function a(){i&&i.resetSketch()}function l(){i&&i.runSketch()}function u(c){o.value=c,i&&i.setMaterial(c)}const h=c=>{let f=!1,d=20,p=0;const m=20,g=100,v=2e4;let S=v,y=[],x=[];const b={copper:{name:"",k:25,color:[184,115,51]},aluminum:{name:"",k:15,color:[192,192,192]},iron:{name:"",k:3.75,color:[60,60,60]},steel:{name:"",k:1,color:[210,210,210]}};let w=b.steel;const E=.7;let _=600,T=_*E;c.setup=()=>{const{canvasW:R,canvasH:W}=U(r.value);_=R,T=W,c.createCanvas(_,T).parent(r.value),c.pixelDensity(Math.min(2,window.devicePixelRatio||1)),c.noLoop(),c.redraw()},c.windowResized=()=>{const{canvasW:R,canvasH:W}=U(r.value);_=R,T=W,c.resizeCanvas(_,T),c.redraw()},c.draw=()=>{if(c.background(255),f){let R=c.millis()-p;d=c.map(R,0,S,m,g),d=c.constrain(d,m,g)}C(_/2,T*.95,f),F(_/2,T*.7,_*.5,T*.4),k(_/2,T*.7,_*.5,T*.4),d>m&&N(_/2,T*.7,_*.45,T*.38),d>=g&&M(_/2,T*.52,_*.45),D(_*.1,T*.8,_*.05,T*.6)};function C(R,W,ne){if(c.noStroke(),c.fill(100),c.rectMode(c.CENTER),c.rect(R,W,_*.6,T*.05,5),ne){c.fill(255,150,0,200);for(let ge=0;ge<5;ge++){let te=R+c.random(-_*.25,_*.25),J=W-T*.05+c.random(-T*.02,T*.02);c.ellipse(te,J,_*.03,T*.08)}c.fill(0,150,255,180);for(let ge=0;ge<3;ge++){let te=R+c.random(-_*.25,_*.25),J=W-T*.05+c.random(-T*.01,T*.01);c.ellipse(te,J,_*.02,T*.05)}}}function F(R,W,ne,ge){c.rectMode(c.CENTER),c.fill(80),c.noStroke(),c.rect(R-ne*.6,W-ge*.3,ne*.1,ge*.2,5),c.rect(R+ne*.6,W-ge*.3,ne*.1,ge*.2,5),c.fill(150),c.rect(R,W,ne,ge,10),c.fill(w.color),c.rect(R,W+ge*.45,ne,ge*.1,0,0,10,10)}function k(R,W,ne,ge){c.fill(0,150,255,100),c.noStroke(),c.rectMode(c.CENTER);let te=W+c.map(ge,0,ge,-ge*.05,ge*.3);c.rect(R,te,ne*.95,ge*.7,5,5,0,0)}function D(R,W,ne,ge){c.rectMode(c.CORNER),c.textAlign(c.CENTER,c.BOTTOM),c.fill(0),c.textSize(14),c.text(d.toFixed(1)+"C",R,W-ge-25),c.fill(255),c.stroke(100),c.strokeWeight(2),c.rect(R-ne/2,W-ge,ne,ge,10);let te=c.map(d,0,100,0,ge*.9);te=c.constrain(te,0,ge*.9),c.fill(255,0,0),c.noStroke(),c.rect(R-ne/2+5,W-te,ne-10,te,5),c.stroke(120),c.strokeWeight(1);let J=W-ge*.9,ae=W;c.line(R-ne,J,R-ne/2,J),c.line(R-ne,ae,R-ne/2,ae),c.textAlign(c.RIGHT,c.CENTER),c.fill(0),c.noStroke(),c.textSize(10),c.text("100",R-ne/2-5,J),c.text("0",R-ne/2-5,ae)}function N(R,W,ne,ge){c.rectMode(c.CENTER);let te=W-ge/2,J=W+ge/2,ae=0;if(d>80&&(ae=c.map(d,80,g,.1,1)),c.random(1)<ae&&f){let xe={x:R+c.random(-ne/2,ne/2),y:J-c.random(10),r:c.random(1,c.map(d,80,g,3,8)),speed:c.random(1,3)};y.push(xe)}c.fill(255,255,255,150),c.noStroke();for(let xe=y.length-1;xe>=0;xe--){let Z=y[xe];Z.y-=Z.speed,Z.x+=c.random(-.5,.5),c.ellipse(Z.x,Z.y,Z.r,Z.r),Z.y<te&&y.splice(xe,1)}}function M(R,W,ne){if(c.random(1)<.8&&f){let ge={x:R+c.random(-ne/2,ne/2),y:W,r:c.random(5,15),alpha:100,speedY:c.random(1,2)};x.push(ge)}c.noStroke();for(let ge=x.length-1;ge>=0;ge--){let te=x[ge];te.y-=te.speedY,te.alpha-=2,te.x+=c.random(-1,1),c.fill(200,200,200,te.alpha),c.ellipse(te.x,te.y,te.r,te.r),te.alpha<0&&x.splice(ge,1)}}function U(R){const ne=(R||document.documentElement).clientWidth||600,ge=Math.floor(ne),te=Math.floor(ge*E);return{canvasW:ge,canvasH:te}}c.setMaterial=R=>{w=b[R]||b.steel,S=v/w.k,c.resetSketch()},c.resetSketch=()=>{f=!1,d=m,y=[],x=[],c.noLoop(),c.redraw()},c.runSketch=()=>{f||(c.resetSketch(),f=!0,p=c.millis(),c.loop())}};return xr(async()=>{await Ji(),r.value&&(i=new zt(h,r.value),i&&i.setMaterial(o.value))}),fs(()=>{try{i?.remove()}catch(c){console.error("Error removing p5 instance:",c)}}),(c,f)=>(se(),ce("div",{class:"columnar-wrap",ref_key:"wrapRef",ref:t},[A("div",{class:"toolbar"},[A("button",{class:"btn",onClick:a},""),A("button",{class:"btn primary",onClick:l},"  (Run)"),f[0]||(f[0]=A("span",{class:"title"},"     ?",-1))]),A("div",Gse,[f[1]||(f[1]=A("strong",null,"  :",-1)),(se(!0),ce(at,null,Tt(s.value,d=>(se(),ce("button",{key:d.key,class:ht(["btn-mat",{active:o.value===d.key}]),style:Xn({"--mat-color":d.colorStr}),onClick:p=>u(d.key)},Be(d.name),15,Hse))),128))]),A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512),f[2]||(f[2]=A("p",{class:"desc"},[At("     . "),A("em",null,"Run"),At("   "),A("strong",null,"(k)"),At("      .      . ")],-1))],512))}},tA=wt(Wse,[["__scopeId","data-v-861b45ff"]]),Xse={class:"tool-selector"},qse=["onClick"],Yse={class:"tool-main"},Kse={class:"tool-step"},Zse={__name:"MixtureSeperation",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe([{key:"magnet",label:"",step:1},{key:"water",label:" ",step:2},{key:"filter",label:"",step:3},{key:"heat",label:"",step:4}]),o=Xe(null);function a(){o.value=null,i?.resetSketch?.()}function l(h){o.value=h,i?.applyTool?.(h)}const u=h=>{let c=0,f="  , ,       .",d="",p=!1,m=0;const g=8e3;let v=[];const S=1.3;let y=600,x=600,b,w,E,_,T;h.setup=()=>{const{canvasW:te,canvasH:J}=ge(r.value);y=te,x=J,h.createCanvas(y,x).parent(r.value),h.pixelDensity(Math.min(2,window.devicePixelRatio||1)),C(),F(),h.noLoop(),h.redraw()},h.windowResized=()=>{if(!r.value)return;const{canvasW:te,canvasH:J}=ge(r.value);y=te,x=J,h.resizeCanvas(y,x),C(),h.redraw()},h.draw=()=>{h.background(255),k(),D(b," "),D(E,c>=3?" /  ":" "),N(),M(),U(),R(),c>=2&&W(),c===4&&ne()};function C(){const te=y*.08;b={x:y*.26,y:x*.75,w:y*.28,h:x*.38},E={x:y*.74,y:x*.77,w:y*.26,h:x*.36},w={x:(b.x+E.x)/2,y:x*.55,w:y*.26,h:x*.08},_={x:te+y*.08,y:x*.55,w:y*.18,h:x*.1},T={x:E.x,y:x*.97,w:E.w*.9,h:x*.04}}function F(){v=[];const te={x:.1,y:.45,w:.8,h:.45},J=(ae,xe)=>{for(let Z=0;Z<xe;Z++)v.push({type:ae,container:"mixture",rx:te.x+h.random()*te.w,ry:te.y+h.random()*te.h})};J("iron",18),J("sand",18),J("salt",18)}function k(){const te=y*.06,J=x*.04,ae=y-te*2;let xe=J;h.textAlign(h.LEFT,h.TOP),h.rectMode(h.CORNER),h.fill(0),h.textSize(13),h.text("  ",te,xe),xe+=18,h.fill(80),h.textSize(12);const Z=x*.14;if(h.text(f,te,xe,ae,Z),xe+=Z+4,d){h.fill(120),h.textSize(11);const Q=x*.12;h.text(d,te,xe,ae,Q),xe+=Q+4}const G=x*.28,ye=16;h.textAlign(h.LEFT,h.CENTER),h.textSize(11),h.noStroke(),h.fill(60),h.ellipse(te+6,G,8,8),h.fill(0),h.text("( )",te+18,G),h.fill(194,145,86),h.ellipse(te+6,G+ye,8,8),h.fill(0),h.text("(  )",te+18,G+ye),h.fill(220),h.ellipse(te+6,G+ye*2,8,8),h.fill(0),h.text("( )",te+18,G+ye*2)}function D(te,J){const{x:ae,y:xe,w:Z,h:G}=te,ye=xe-G*.45,Q=xe+G*.45;h.push(),h.rectMode(h.CENTER),h.noFill(),h.stroke(120),h.strokeWeight(2),h.rect(ae,(ye+Q)/2,Z,G,10),h.noStroke(),h.fill(80),h.textAlign(h.CENTER,h.TOP),h.textSize(11),h.text(J,ae,Q+6),h.pop()}function N(){const te=_;h.push(),h.rectMode(h.CENTER),h.stroke(80),h.strokeWeight(2),h.fill(230),h.rect(te.x,te.y,te.w,te.h,12);const J=te.w*.7,ae=te.h*.8;h.noFill(),h.stroke(200,0,0),h.strokeWeight(4),h.arc(te.x,te.y+ae*.1,J,ae,h.PI,0),h.line(te.x-J/2,te.y,te.x-J/2,te.y-ae*.2),h.line(te.x+J/2,te.y,te.x+J/2,te.y-ae*.2),h.noStroke(),h.fill(0),h.textAlign(h.CENTER,h.BOTTOM),h.textSize(11),h.text("",te.x,te.y-ae*.6),h.pop()}function M(){const te=w;h.push(),h.rectMode(h.CENTER),h.noStroke(),h.fill(245),h.triangle(te.x-te.w/2,te.y,te.x+te.w/2,te.y,te.x,te.y+te.h),h.fill(255),h.stroke(180),h.strokeWeight(1),h.rect(te.x,te.y,te.w,te.h*.35,6),h.noStroke(),h.fill(0),h.textAlign(h.CENTER,h.BOTTOM),h.textSize(11),h.text("",te.x,te.y-te.h*.7),h.pop()}function U(){const te=T;if(h.push(),h.rectMode(h.CENTER),h.noStroke(),h.fill(100),h.rect(te.x,te.y,te.w,te.h,6),p){h.fill(255,150,0,200);for(let J=0;J<5;J++){const ae=te.x+h.random(-te.w*.4,te.w*.4),xe=te.y-te.h*.6+h.random(-3,3);h.ellipse(ae,xe,6,14)}h.fill(0,120,255,180);for(let J=0;J<3;J++){const ae=te.x+h.random(-te.w*.3,te.w*.3),xe=te.y-te.h*.5+h.random(-2,2);h.ellipse(ae,xe,4,10)}}h.fill(255),h.textAlign(h.CENTER,h.BOTTOM),h.textSize(11),h.text(" ",te.x,te.y-te.h*2.2),h.pop()}function R(){v.forEach(te=>{let J;te.container==="mixture"?J=b:te.container==="magnet"?J=_:te.container==="filter"?J=w:te.container==="solution"?J=E:J=b;const ae=J.w*.1,xe=J.h*.15,Z=J.x-J.w/2+ae,G=J.y-J.h/2+xe,ye=J.w-ae*2,Q=J.h-xe*2,pe=Z+te.rx*ye,$=G+te.ry*Q;if(te.type==="iron"?h.fill(60):te.type==="sand"?h.fill(194,145,86):te.type==="salt"?h.fill(230):h.fill(0),te.container==="solution"&&te.type==="salt")return;let re=6;te.type==="iron"&&(re=5),te.type==="salt"&&(re=5),h.noStroke(),h.ellipse(pe,$,re,re)})}function W(){const te=E,J=te.y-te.h*.25,ae=te.y+te.h*.4;(v.some(Z=>Z.container==="solution"&&Z.type==="salt")||c>=3)&&(h.push(),h.noStroke(),h.fill(0,150,255,80),h.rectMode(h.CORNERS),h.rect(te.x-te.w*.32,J,te.x+te.w*.32,ae,0,0,8,8),h.pop())}function ne(){const te=E,J=te.y+te.h*.4,ae=h.millis(),xe=h.constrain((ae-m)/g,0,1);h.push();const Z=Math.floor(h.map(xe,0,1,4,24));h.noStroke(),h.fill(240);for(let G=0;G<Z;G++){const ye=te.x-te.w*.28+h.random()*te.w*.56,Q=J-h.random()*6;h.rect(ye,Q,3,3)}h.fill(220,220,220,80);for(let G=0;G<8;G++){const ye=te.x+h.random(-te.w*.25,te.w*.25),Q=te.y-te.h*.1+h.random(-5,5);h.ellipse(ye,Q-xe*20,6,10)}h.pop(),xe>=1&&p&&(p=!1,f="  ,    !",d=" (, ,  , )    .",h.noLoop())}h.applyTool=te=>{const ae=["magnet","water","filter","heat"][c];if(te!==ae&&c<4){f=` '${{magnet:"",water:" ",filter:"",heat:""}[ae]}'   .`,d="",h.redraw();return}if(te==="magnet"&&c===0){v.forEach(xe=>{xe.type==="iron"&&xe.container==="mixture"&&(xe.container="magnet",xe.rx=.2+h.random()*.6,xe.ry=.2+h.random()*.6)}),f="   !",d="        .",c=1,h.redraw();return}if(te==="water"&&c===1){v.forEach(xe=>{xe.type==="salt"&&xe.container==="mixture"&&(xe.container="solution",xe.rx=.2+h.random()*.6,xe.ry=.3+h.random()*.4)}),f="       .",d="    ()     .",c=2,h.redraw();return}if(te==="filter"&&c===2){v.forEach(xe=>{xe.type==="sand"&&xe.container==="mixture"&&(xe.container="filter",xe.rx=.2+h.random()*.6,xe.ry=.3+h.random()*.4),xe.container==="solution"&&(xe.rx=.2+h.random()*.6,xe.ry=.3+h.random()*.4)}),f="    ,    .",d="    ,     .",c=3,h.redraw();return}if(te==="heat"&&c===3){p=!0,m=h.millis(),f="    .",d="  ,      .",c=4,h.loop();return}c>=4&&(f="  .     ?",d="",h.redraw())},h.resetSketch=()=>{c=0,p=!1,m=0,f="  , ,       .",d="",F(),h.noLoop(),h.redraw()};function ge(te){const ae=(te||document.documentElement).clientWidth||600,xe=Math.floor(ae),Z=Math.floor(xe*S);return{canvasW:xe,canvasH:Z}}};return xr(async()=>{await Ji(),r.value&&(i=new zt(u,r.value))}),fs(()=>{try{i?.remove(),i=null}catch(h){console.error("Error removing p5 instance:",h)}}),(h,c)=>(se(),ce("div",{class:"columnar-wrap",ref_key:"wrapRef",ref:t},[A("div",{class:"toolbar"},[A("button",{class:"btn",onClick:a},""),c[0]||(c[0]=A("span",{class:"title"},"  :   !",-1))]),A("div",Xse,[c[1]||(c[1]=A("strong",null," :",-1)),(se(!0),ce(at,null,Tt(s.value,f=>(se(),ce("button",{key:f.key,class:ht(["btn-tool",{active:o.value===f.key}]),onClick:d=>l(f.key)},[A("span",Yse,Be(f.label),1),A("span",Kse,Be(f.step)+"",1)],10,qse))),128))]),A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512),c[2]||(c[2]=A("p",{class:"desc"},[At("   "),A("strong",null,", , "),At("  . "),A("strong",null,"       "),At("     "),A("strong",null,""),At("     . ")],-1))],512))}},nA=wt(Zse,[["__scopeId","data-v-0c7c4b00"]]),Jse={class:"sim-control-card"},Qse={class:"control-row"},eoe={class:"control-options"},toe=["onClick"],noe={class:"control-row voltage-row"},roe={class:"slider-wrap"},ioe={class:"slider-level"},soe={class:"canvas-card"},ooe={__name:"ElectricShow",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe([{key:"tesla",label:" "},{key:"vandag",label:""},{key:"ladder",label:" "}]),o=Xe("tesla"),a=Xe(2),l=Ut(()=>a.value===1?"":a.value===2?"":"");function u(){i&&i.resetSketch&&i.resetSketch()}function h(){i&&i.fireOnce&&i.fireOnce()}function c(p){o.value=p,i&&i.setDevice&&i.setDevice(p)}function f(){i&&i.setLevel&&i.setLevel(a.value)}const d=p=>{let g=600,v=540,S="tesla",y=2,x=!1,b=0;const w=2500;let E,_,T="",C="";p.setup=()=>{const{canvasW:G,canvasH:ye}=Z(r.value);g=G,v=ye,p.createCanvas(g,v).parent(r.value),p.pixelDensity(Math.min(2,window.devicePixelRatio||1)),F(),p.noLoop(),p.redraw()},p.windowResized=()=>{if(!r.value)return;const{canvasW:G,canvasH:ye}=Z(r.value);g=G,v=ye,p.resizeCanvas(g,v),F(),p.redraw()};function F(){E={x:g*.22,y:v*.72},_={x:g*.78,y:v*.67}}p.draw=()=>{p.background(255),S==="tesla"?(T=" ",C="               ."):S==="vandag"?(T="",C="     ,       ."):(T=" ",C="        .     ."),k(),D(),N(),M(),x&&(ne(),p.millis()-b>w&&(x=!1,p.noLoop()))};function k(){p.push(),p.noStroke(),p.fill(240),p.rectMode(p.CORNER),p.rect(0,v*.8,g,v*.2),p.fill(209,213,219),p.rect(0,v*.86,g,v*.14),p.pop()}function D(){const G=g*.04,ye=v*.03,Q=g-G*2,pe=v*.18;p.push(),p.rectMode(p.CORNER),p.noStroke(),p.fill(232,244,255),p.rect(G,ye,Q,pe,12);const $=14,re=10;p.fill(37,47,63),p.textAlign(p.LEFT,p.TOP),p.textSize(13),p.text(T,G+$,ye+re),p.fill(75,85,99),p.textSize(11),p.text(C,G+$,ye+re+18,Q-$*2,pe-re*2),p.pop()}function N(){p.push(),p.rectMode(p.CENTER),p.ellipseMode(p.CENTER),p.fill(96,165,250),p.rect(E.x,E.y,g*.08,v*.16,10),p.fill(248,250,252),p.ellipse(E.x,E.y-v*.11,g*.06,g*.06),p.stroke(55,65,81),p.strokeWeight(2),p.line(E.x+g*.03,E.y-v*.04,E.x+g*.08,E.y-v*.14);const G=E.x+g*.11,ye=E.y-v*.2;p.noStroke(),p.fill(251,191,36),p.ellipse(G,ye,g*.06,g*.08),p.triangle(G,ye+g*.04,G-g*.01,ye+g*.06,G+g*.01,ye+g*.06),p.pop(),p.push(),p.rectMode(p.CENTER),p.stroke(75,85,99),p.strokeWeight(3),p.line(_.x,v*.4,_.x,v*.78),p.line(_.x-g*.04,v*.78,_.x+g*.04,v*.78),p.noStroke(),p.fill(251,146,60);const Q=_.x,pe=v*.42;p.beginShape(),p.vertex(Q-g*.015,pe),p.vertex(Q+g*.005,pe+v*.03),p.vertex(Q-g*.005,pe+v*.03),p.vertex(Q+g*.015,pe+v*.07),p.vertex(Q-g*.005,pe+v*.04),p.vertex(Q+g*.005,pe+v*.04),p.endShape(p.CLOSE),p.pop()}function M(){S==="tesla"?U():S==="vandag"?R():W()}function U(){const G=g*.5,ye=v*.8;p.push(),p.rectMode(p.CENTER),p.noStroke(),p.fill(156,163,175),p.rect(G,ye-v*.08,g*.09,v*.12,8),p.stroke(55,65,81),p.strokeWeight(2);for(let Q=0;Q<6;Q++){const pe=ye-v*.13+Q*v*.02;p.line(G-g*.035,pe,G+g*.035,pe)}p.noStroke(),p.fill(209,213,219),p.ellipse(G,ye-v*.19,g*.16,v*.05),p.pop()}function R(){const G=g*.5,ye=v*.8;p.push(),p.rectMode(p.CENTER),p.ellipseMode(p.CENTER),p.noStroke(),p.fill(148,163,184),p.rect(G,ye-v*.09,g*.06,v*.16,6),p.fill(229,231,235),p.ellipse(G,ye-v*.22,g*.16,g*.16),p.fill(243,244,246,180),p.ellipse(G-g*.03,ye-v*.235,g*.05,g*.04),p.pop()}function W(){const G=g*.5,ye=v*.26,Q=v*.78;p.push(),p.rectMode(p.CENTER),p.noFill(),p.stroke(75,85,99),p.strokeWeight(4),p.line(G-g*.05,Q,G-g*.02,ye),p.line(G+g*.05,Q,G+g*.02,ye),p.line(G-g*.05,Q,G+g*.05,Q),p.pop()}function ne(){let G=6;y===2&&(G=10),y===3&&(G=14);for(let ye=0;ye<G;ye++)S==="ladder"?ae():S==="vandag"?J():te()}function ge(){const G=y===1?120:y===2?180:230;p.stroke(96,165,250,G),p.strokeWeight(2+y*.5)}function te(){const G=g*.5,ye=v*.61,Q=.55+y*.1,$=Math.random()<Q?_:E,re=$.x+p.random(-g*.02,g*.02),be=$.y-v*.18+p.random(-v*.02,v*.02);xe(G,ye,re,be)}function J(){const G=g*.5,ye=v*.58,Q=g*.08,pe=p.random(-p.PI*.6,-p.PI*.1),$=G+Q*Math.cos(pe),re=ye+Q*Math.sin(pe),be=g*(.08+y*.03),Se=$+be*Math.cos(pe+p.random(-.3,.3)),j=re+be*Math.sin(pe+p.random(-.2,.2));xe($,re,Se,j)}function ae(){const G=v*.74,ye=v*.32,Q=(p.millis()-b)/w,pe=p.lerp(G,ye,p.constrain(Q*(.8+y*.1),0,1)),$=g*.5-g*.03,re=g*.5+g*.03,be=pe+v*.02,Se=pe-v*.02;xe($,be,re,Se)}function xe(G,ye,Q,pe){ge();const $=10;p.noFill(),p.beginShape();for(let re=0;re<=$;re++){const be=re/$;let Se=p.lerp(G,Q,be),j=p.lerp(ye,pe,be);const X=(1-Math.abs(.5-be)*2)*(10+y*6);Se+=p.random(-X,X),j+=p.random(-X,X),(re===0||re===$)&&(Se=re===0?G:Q,j=re===0?ye:pe),p.vertex(Se,j)}p.endShape()}p.setDevice=G=>{S=G||"tesla",p.redraw()},p.setLevel=G=>{y=G||2,p.redraw()},p.fireOnce=()=>{x=!0,b=p.millis(),p.loop()},p.resetSketch=()=>{x=!1,b=0,S="tesla",y=2,p.noLoop(),p.redraw()};function Z(G){const Q=(G||document.documentElement).clientWidth||600,pe=Math.floor(Q),$=Math.floor(pe*.9);return{canvasW:pe,canvasH:$}}};return xr(async()=>{await Ji(),r.value&&(i=new zt(d,r.value),i.setDevice&&i.setDevice(o.value),i.setLevel&&i.setLevel(a.value))}),fs(()=>{try{i?.remove(),i=null}catch(p){console.error("Error removing p5 instance:",p)}}),(p,m)=>(se(),ce("div",{class:"electric-sim",ref_key:"wrapRef",ref:t},[A("div",{class:"sim-header-card"},[m[1]||(m[1]=pi('<div class="header-left" data-v-c795b427><div class="icon-circle" data-v-c795b427><i class="bi bi-lightning-charge-fill" data-v-c795b427></i></div><div class="header-text" data-v-c795b427><div class="header-title" data-v-c795b427>  ?</div></div></div>',1)),A("div",{class:"header-actions"},[A("button",{class:"chip-btn",onClick:u},""),A("button",{class:"chip-btn primary",onClick:h}," ")])]),A("div",Jse,[A("div",Qse,[m[2]||(m[2]=A("span",{class:"control-label"}," ",-1)),A("div",eoe,[(se(!0),ce(at,null,Tt(s.value,g=>(se(),ce("button",{key:g.key,class:ht(["pill-btn",{active:o.value===g.key}]),onClick:v=>c(g.key)},Be(g.label),11,toe))),128))])]),A("div",noe,[m[3]||(m[3]=A("span",{class:"control-label"}," ",-1)),A("div",roe,[sn(A("input",{type:"range",min:"1",max:"3",step:"1","onUpdate:modelValue":m[0]||(m[0]=g=>a.value=g),onInput:f},null,544),[[nr,a.value,void 0,{number:!0}]]),A("span",ioe,Be(l.value),1)])])]),A("div",soe,[A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},rA=wt(ooe,[["__scopeId","data-v-c795b427"]]),aoe={class:"sim-control-card"},loe={class:"control-row"},uoe={class:"slider-wrap"},coe={class:"slider-level"},hoe={class:"control-row"},foe={class:"slider-wrap"},doe={class:"slider-level"},poe={class:"canvas-card"},moe={__name:"MagneticTrain",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe(3),o=Xe(3);function a(){i&&i.resetSketch&&i.resetSketch()}function l(){i&&i.runSimulation&&i.runSimulation()}function u(){i&&(i.setLevitationPower?.(s.value),i.setPropulsionPower?.(o.value))}const h=c=>{let d=600,p=260,m=3,g=3,v;const S=26,y={x:0,y:0,w:140,h:46,vx:0,vy:0};let x=!1,b=0;const w=55;c.setup=()=>{const U=r.value?.clientWidth||600;d=U,p=Math.max(220,Math.round(U*.42)),c.createCanvas(d,p).parent(r.value),c.pixelDensity(Math.min(2,window.devicePixelRatio||1)),E(),c.noLoop(),c.redraw()},c.windowResized=()=>{const U=r.value?.clientWidth||600;d=U,p=Math.max(220,Math.round(U*.42)),c.resizeCanvas(d,p),E(),c.redraw()};function E(){v=p*.66,y.x=d*.1,y.y=v-S/2-y.h/2-_(),y.vx=0,y.vy=0}function _(){return 6+m*4.5}c.draw=()=>{b+=c.deltaTime*.001,c.background(248),C(),F(),k(),T(),D(),N(),M()};function T(){const U=v-S/2-y.h/2-_(),R=.12,W=.18,ne=(U-y.y)*R;y.vy+=ne,y.vy*=1-W,y.y+=y.vy;const ge=1.2+m*.6;if(y.y+=Math.sin(b*2.4)*(ge*.15),x){const J=.006*g;y.vx+=J}else y.vx*=.9;const te=2+g*.3;y.vx>te&&(y.vx=te),y.vx*=.996,y.x+=y.vx,y.x>d+y.w&&(y.x=-150)}function C(){c.push(),c.noStroke(),c.fill(241,245,249),c.rect(0,0,d,v+40),c.fill(229,231,235),c.rect(0,v+24,d,p-(v+24)),c.pop()}function F(){c.push(),c.rectMode(c.CORNER),c.noStroke(),c.fill(148,163,184),c.rect(0,v-S/2,d,S,6),c.fill(75,85,99),c.rect(0,v-S/2-6,d,6,4),c.pop()}function k(){c.push(),c.rectMode(c.CENTER);const U=v+S*.1;for(let R=0;R<d+w;R+=w){const W=R+w*.5,ne=Math.abs(W-(y.x+y.w/2)),ge=120+g*8,te=ne<ge,J=Math.floor(W/w)%2===0;if(te){c.noStroke();const ae=c.map(ne,0,ge,1,.1,!0);c.fill(59,130,246,90*ae),c.ellipse(W,U-12,60,42)}c.stroke(148,163,184),c.strokeWeight(1.5),c.fill(248,250,252),c.rect(W,U,32,22,6),J?c.fill(59,130,246):c.fill(239,68,68),c.rect(W,U,32,8,4),c.noStroke(),c.fill(255),c.textAlign(c.CENTER,c.CENTER),c.textSize(9),c.text(J?"N":"S",W,U)}c.pop()}function D(){const U=y.x+y.w/2,R=y.y+y.h/2,W=v-S/2,ne=4+m;for(let ge=0;ge<ne;ge++){const te=(ge-ne/2)*8;c.push(),c.noFill();const J=40+ge*12;c.stroke(59,130,246,J),c.strokeWeight(1),c.beginShape();const ae=10+m*2;for(let xe=0;xe<=12;xe++){const Z=xe/12,G=U+te+(Z-.5)*26,ye=c.lerp(R,W,Z)-Math.sin(Z*c.PI)*ae;c.vertex(G,ye)}c.endShape(),c.pop()}}function N(){c.push(),c.rectMode(c.CORNER),c.ellipseMode(c.CENTER),c.noStroke(),c.fill(248,250,252),c.rect(y.x,y.y,y.w,y.h,10),c.fill(59,130,246),c.rect(y.x,y.y,y.w,10,10,10,0,0),c.fill(191,219,254);const U=y.y+18;for(let ge=0;ge<3;ge++){const te=y.x+18+ge*32;c.rect(te,U,22,14,4)}c.fill(148,163,184),c.rect(y.x+y.w-18,y.y+8,18,y.h-12,0,10,10,0);const R=y.y+y.h+6,W=40,ne=12;c.fill(59,130,246),c.rect(y.x+y.w*.3-W/2,R,W,ne,3),c.fill(239,68,68),c.rect(y.x+y.w*.7-W/2,R,W,ne,3),c.fill(255),c.textAlign(c.CENTER,c.CENTER),c.textSize(9),c.text("N",y.x+y.w*.3,R+ne/2),c.text("S",y.x+y.w*.7,R+ne/2),c.pop()}function M(){c.push(),c.textAlign(c.LEFT,c.TOP),c.textSize(12),c.fill(55,65,81);const U=12,R=10;c.noStroke(),c.fill(255,255,255,220),c.rect(U-8,R-6,210,54,8),c.fill(15,23,42),c.text(` ${m}:   `,U,R),c.text(` ${g}:  `,U,R+16),c.text("  .",U,R+32),c.pop()}c.runSimulation=()=>{x=!0,y.vx<.5&&(y.vx=.3+g*.15),c.loop()},c.resetSketch=()=>{x=!1,E(),c.noLoop(),c.redraw()},c.setLevitationPower=U=>{m=U||1,c.redraw()},c.setPropulsionPower=U=>{g=U||1,c.redraw()}};return xr(async()=>{await Ji(),r.value&&(i=new zt(h,r.value),i.setLevitationPower?.(s.value),i.setPropulsionPower?.(o.value))}),fs(()=>{try{i?.remove(),i=null}catch(c){console.error("Error removing p5 instance:",c)}}),(c,f)=>(se(),ce("div",{class:"maglev-sim",ref_key:"wrapRef",ref:t},[A("div",{class:"sim-header-card"},[f[2]||(f[2]=pi('<div class="header-left" data-v-fbe3f921><div class="icon-circle" data-v-fbe3f921><i class="bi bi-train-front" data-v-fbe3f921></i></div><div class="header-text" data-v-fbe3f921><div class="header-title" data-v-fbe3f921>  </div></div></div>',1)),A("div",{class:"header-actions"},[A("button",{class:"chip-btn",onClick:a},""),A("button",{class:"chip-btn primary",onClick:l}," ")])]),A("div",aoe,[A("div",loe,[f[3]||(f[3]=A("span",{class:"control-label"}," ",-1)),A("div",uoe,[sn(A("input",{type:"range",min:"1",max:"5","onUpdate:modelValue":f[0]||(f[0]=d=>s.value=d),onInput:u},null,544),[[nr,s.value,void 0,{number:!0}]]),A("span",coe,Be(s.value),1)])]),A("div",hoe,[f[4]||(f[4]=A("span",{class:"control-label"}," ",-1)),A("div",foe,[sn(A("input",{type:"range",min:"1",max:"5","onUpdate:modelValue":f[1]||(f[1]=d=>o.value=d),onInput:u},null,544),[[nr,o.value,void 0,{number:!0}]]),A("span",doe,Be(o.value),1)])])]),A("div",poe,[A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},iA=wt(moe,[["__scopeId","data-v-fbe3f921"]]),goe={class:"sim-control-card"},voe={class:"control-row"},yoe={class:"control-options"},boe=["onClick"],xoe={class:"control-row"},_oe={class:"control-options"},woe=["onClick"],Eoe={class:"control-row voltage-row"},Soe={class:"slider-wrap"},Coe={class:"slider-level"},Aoe={class:"canvas-card"},Toe="/Tshirt.png",Ioe={__name:"ElectroClothes",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe([{key:"wool",label:""},{key:"cotton",label:""},{key:"poly",label:""},{key:"silk",label:""}]),o=Xe([{key:"styro",label:""},{key:"plastic",label:""},{key:"metal",label:""}]),a=Xe("wool"),l=Xe("styro"),u=Xe(2),h=Ut(()=>u.value===1?"":u.value===2?"":"");function c(){u.value=2,d("wool"),p("styro"),i&&i.resetSketch&&i.resetSketch()}function f(){i&&i.rubOnce&&i.rubOnce()}function d(v){a.value=v,i&&i.setFabric&&i.setFabric(v)}function p(v){l.value=v,i&&i.setBlock&&i.setBlock(v)}function m(){i&&i.setLevel&&i.setLevel(u.value)}const g=v=>{let S=600,y=220,x="wool",b="styro",w=2,E="",_="",T=0,C=!1,F=0;const k=2e3;let D,N,M=null;v.setup=()=>{S=r.value?.clientWidth||600,y=330,v.createCanvas(S,y).parent(r.value),v.pixelDensity(Math.min(2,window.devicePixelRatio||1)),M=v.loadImage(Toe,pe=>{M=pe,console.log("tshirt loaded",pe.width,pe.height),v.redraw()},pe=>{console.error("tshirt load error",pe)}),N={x:S*.5,y:y*.64},D={x:S*.5,y:N.y-30/2-2-90/2},T=0,v.noLoop(),v.redraw()},v.draw=()=>{v.background(245),U(),R(),ne(),W(),C?te():T>0?(xe(),drawChargeAmountText()):ge(),C&&v.millis()-F>k&&(C=!1,v.noLoop(),v.redraw())};function U(){x==="wool"?(E="",_="      ."):x==="poly"?(E="",_="      ."):x==="cotton"?(E="",_="      ."):(E="",_="     .");const Z=S*.9,G=62,ye=S*.05,Q=14;v.push(),v.noStroke(),v.fill(230,243,255),v.rect(ye,Q,Z,G,10),v.fill(37,47,63),v.textSize(15),v.textAlign(v.LEFT,v.TOP),v.text(E,ye+14,Q+10),v.fill(75,85,99),v.textSize(12),v.text(_,ye+14,Q+32,Z-24,G-30),v.pop()}function R(){v.push(),v.noStroke(),v.fill(240),v.ellipse(D.x,D.y+10,S*.7,80)}function W(){if(!M||!M.width||!M.height)return;v.push();let Z=D.x,G=D.y;if(C){const re=(v.millis()-F)/k,be=v.sin(re*v.TWO_PI*6)*10;Z+=be}v.translate(Z,G),v.imageMode(v.CENTER);const Q=140/M.width,pe=M.width*Q,$=M.height*Q;v.image(M,0,0,pe,$),v.noStroke(),v.fill(49,49,56),v.textSize(13),v.textAlign(v.CENTER,v.TOP),v.text(E,0,0),v.pop()}function ne(){v.push(),v.rectMode(v.CENTER);const Z=b==="styro"?"":b==="plastic"?"":"";let G;b==="styro"?G=v.color(185,230,255):b==="plastic"?G=v.color(196,196,214):G=v.color(224,224,224),v.noStroke(),v.fill(209,213,219,140),v.ellipse(N.x,N.y+10,210,26),v.fill(G),v.rect(N.x,N.y,190,40,14),v.noFill(),v.stroke(148,163,184),v.strokeWeight(1.5),v.rect(N.x,N.y,190,40,14),v.noStroke(),v.fill(55,65,81),v.textSize(14),v.textAlign(v.CENTER,v.CENTER),v.text(Z,N.x,N.y),v.pop()}function ge(){v.push(),v.textSize(12),v.textAlign(v.CENTER,v.CENTER),v.noStroke();const Z=v.color(239,68,68,90),G=v.color(59,130,246,90),ye=v.color(255,255,255,150),Q=12;for(let pe=0;pe<3;pe++){let $=D.x+v.random(-40,40),re=D.y+v.random(-20,20);v.fill(Z),v.ellipse($-(Q/2+1),re,Q,Q),v.fill(ye),v.text("+",$-(Q/2+1),re+1),v.fill(G),v.ellipse($+(Q/2+1),re,Q,Q),v.fill(ye),v.text("",$+(Q/2+1),re+1)}for(let pe=0;pe<3;pe++){let $=N.x+v.random(-50,50),re=N.y+v.random(-10,10);v.fill(Z),v.ellipse($-(Q/2+1),re,Q,Q),v.fill(ye),v.text("+",$-(Q/2+1),re+1),v.fill(G),v.ellipse($+(Q/2+1),re,Q,Q),v.fill(ye),v.text("",$+(Q/2+1),re+1)}v.pop()}function te(){v.push();const{clothSign:Z,blockSign:G}=ae();if(G===0){v.pop();return}let ye,Q;const pe=D.y+40,$=N.y-20;Z===1?(ye=pe,Q=$):(ye=$,Q=pe);const be=v.color(59,130,246);be.setAlpha(200),v.noStroke(),v.textSize(18),v.textAlign(v.CENTER,v.CENTER);const Se=Math.floor(T/15)+3;for(let j=0;j<Se;j++){let X=(v.frameCount+j*3)%20/20,ee=v.sin(X*v.PI),Ae=D.x+v.random(-50,50),we=v.lerp(ye,Q,ee);v.fill(be),v.ellipse(Ae,we,22,22),v.fill(255),v.text("",Ae,we+1)}v.pop()}function J(){const Z={wool:1,poly:.85,cotton:.3,silk:.55},G={styro:1.1,plastic:.9,metal:.5},ye=[.7,1,1.3];return Math.floor(100*Z[x]*G[b]*ye[w-1])}function ae(){return b==="metal"?{clothSign:1,blockSign:0}:x==="cotton"||x==="silk"?{clothSign:-1,blockSign:1}:{clothSign:1,blockSign:-1}}function xe(){const{clothSign:Z,blockSign:G}=ae(),ye=Math.max(6,Math.floor(T/20)),Q=Math.floor(ye*.6),pe=ye-Q;v.push(),v.textAlign(v.CENTER,v.CENTER),v.textSize(18),v.noStroke();for(let $=0;$<Q;$++){const re=v.random(-v.PI*.2,v.PI*.2),be=70+v.random(-8,12),Se=D.x+be*Math.cos(re),j=D.y-10+be*Math.sin(re),X=Z>=0,ee=X?v.color(239,68,68):v.color(59,130,246);ee.setAlpha(230),v.fill(ee),v.ellipse(Se,j,22,22),v.fill(255),v.text(X?"+":"-",Se,j+1)}for(let $=0;$<pe&&G!==0;$++){const re=v.random(v.PI*.8,v.PI*1.2),be=80+v.random(-10,10),Se=N.x+be*Math.cos(re),j=N.y+be*Math.sin(re),X=G>=0,ee=X?v.color(239,68,68):v.color(59,130,246);ee.setAlpha(230),v.fill(ee),v.ellipse(Se,j,22,22),v.fill(255),v.text(X?"+":"",Se,j+1)}v.pop()}v.setFabric=Z=>{x=Z||"wool",T=0,v.redraw()},v.setBlock=Z=>{b=Z||"styro",T=0,v.redraw()},v.setLevel=Z=>{w=Z||2,T=0,v.redraw()},v.rubOnce=()=>{C||(C=!0,F=v.millis(),T=J(),v.loop())},v.resetSketch=()=>{C=!1,T=0,v.noLoop(),v.redraw()}};return xr(async()=>{await Ji(),r.value&&(i=new zt(g,r.value),i.setFabric&&i.setFabric(a.value),i.setBlock&&i.setBlock(l.value),i.setLevel&&i.setLevel(u.value))}),fs(()=>{try{i?.remove(),i=null}catch(v){console.error("Error removing p5 instance:",v)}}),(v,S)=>(se(),ce("div",{class:"static-sim",ref_key:"wrapRef",ref:t},[A("div",{class:"sim-header-card"},[S[1]||(S[1]=pi('<div class="header-left" data-v-ac5c7c8e><div class="icon-circle" data-v-ac5c7c8e><i class="bi bi-lightning-charge" data-v-ac5c7c8e></i></div><div class="header-text" data-v-ac5c7c8e><div class="header-title" data-v-ac5c7c8e>  <br data-v-ac5c7c8e>  ?</div></div></div>',1)),A("div",{class:"header-actions"},[A("button",{class:"chip-btn",onClick:c},""),A("button",{class:"chip-btn primary",onClick:f},"")])]),A("div",goe,[A("div",voe,[S[2]||(S[2]=A("span",{class:"control-label"}," ",-1)),A("div",yoe,[(se(!0),ce(at,null,Tt(s.value,y=>(se(),ce("button",{key:y.key,class:ht(["pill-btn",{active:a.value===y.key}]),onClick:x=>d(y.key)},Be(y.label),11,boe))),128))])]),A("div",xoe,[S[3]||(S[3]=A("span",{class:"control-label"}," ",-1)),A("div",_oe,[(se(!0),ce(at,null,Tt(o.value,y=>(se(),ce("button",{key:y.key,class:ht(["pill-btn",{active:l.value===y.key}]),onClick:x=>p(y.key)},Be(y.label),11,woe))),128))])]),A("div",Eoe,[S[4]||(S[4]=A("span",{class:"control-label"}," ",-1)),A("div",Soe,[sn(A("input",{type:"range",min:"1",max:"3",step:"1","onUpdate:modelValue":S[0]||(S[0]=y=>u.value=y),onInput:m},null,544),[[nr,u.value,void 0,{number:!0}]]),A("span",Coe,Be(h.value),1)])])]),A("div",Aoe,[A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},sA=wt(Ioe,[["__scopeId","data-v-ac5c7c8e"]]),Doe={class:"sim-control-card"},Noe={class:"control-row"},Foe={class:"slider-wrap"},koe={class:"slider-level"},Moe={class:"control-row"},Ooe={class:"slider-wrap"},Poe={class:"slider-level"},Loe={class:"canvas-card themed"},Roe={__name:"AlternatorShow",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe(3),o=Xe(2),a=Ut(()=>[" ","","",""," "][s.value-1]),l=Ut(()=>o.value+"");function u(){i?.resetSketch&&i.resetSketch()}function h(){i?.startGen&&i.startGen()}function c(){i?.setSpeed&&i.setSpeed(s.value)}function f(){i?.setTurns&&i.setTurns(o.value)}const d=p=>{let m=430,g=420,v=2,S=3,y=!1,x=0,b=0,w=[];const E=120;p.setup=()=>{m=r.value.clientWidth?Math.max(320,r.value.clientWidth):430,g=420,p.createCanvas(m,g).parent(r.value),p.pixelDensity(Math.min(2,window.devicePixelRatio||1)),w=[],p.noLoop(),p.redraw()},p.draw=()=>{p.clear(),_(),T(),y&&(x+=S*.045,x>p.TWO_PI&&(x-=p.TWO_PI),b=Math.sin(x)*(v*S*10),w.push(b),w.length>E&&w.shift(),p.loop())};function _(){const C=m*.25,F=g*.31;p.push(),p.stroke(180,194,220,50),p.strokeWeight(3),p.fill(255,84,84),p.rect(C-44,F-28,38,44,13),p.fill(70,155,234),p.rect(C+44,F-28,38,44,13),p.noStroke(),p.fill("#fff"),p.textAlign(p.CENTER,p.CENTER),p.textSize(15),p.textStyle(p.BOLD),p.text("N",C-25,F-3),p.text("S",C+63,F-3),p.pop(),p.push(),p.translate(C,F);for(let W=0;W<v+2;W++){p.stroke(232-W*7,115+W*15,65+W*2,195),p.strokeWeight(6);let ne=19+W*5.2;p.noFill(),p.arc(0,0,ne*2,ne*2,x-p.HALF_PI-.64,x-p.HALF_PI+.64)}p.noStroke(),p.fill(253,236,110),p.ellipse(0,0,36,36),p.pop();const k=Math.sin(x);let D=k>0?"+":"-",N=k>0?"-":"+";p.push(),p.textAlign(p.CENTER,p.CENTER),p.textSize(20),p.fill(D==="+"?"#FBBF24":"#4FA5F6"),p.text(D,C-52,F),p.fill(N==="+"?"#FBBF24":"#4FA5F6"),p.text(N,C+53,F),p.pop(),p.push(),p.stroke(190,184,98,120),p.strokeWeight(2.6),p.line(C,F,C,F-42),p.noStroke(),p.fill(245,213,97),p.ellipse(C,F-42,13,13),p.pop(),p.push(),p.translate(C,F),p.rotate(x),p.fill(250,220,95,170),p.ellipse(0,0,14,14),p.pop();const M=m*.75,U=F,R=Math.abs(b);p.push(),p.noStroke(),p.fill(250,212,42,114+R*1.18),p.ellipse(M,U,68+R*.21,68+R*.18),p.fill("#FFD321"),p.ellipse(M,U,42,42),p.fill("#FEF5C0"),p.ellipse(M,U,23,23),p.stroke("#FFDF81"),p.strokeWeight(3.9),p.noFill(),p.arc(M,U,16,16,-.2,.8),p.arc(M,U,18,18,2.1,2.8),p.noStroke(),p.fill("#FFEEC5"),p.ellipse(M,U+20,15,14),p.fill("#DADADD"),p.rect(M-7,U+12,14,10,5),p.pop(),p.push(),p.fill("#FBA33C"),p.textAlign(p.CENTER,p.CENTER),p.textSize(15.7),p.text(" : "+Math.floor(R),M,U+38),p.pop()}function T(){const C=m*.91,F=95,k=(m-C)/2,D=g*.62;p.push(),p.textAlign(p.CENTER,p.BOTTOM),p.textSize(13.3),p.fill("#548FEC"),p.text("   ",k+C/2,D-12),p.pop(),p.push(),p.stroke("#E5EDFA"),p.strokeWeight(2),p.fill(249,252,255,245),p.rect(k,D,C,F,16),p.pop(),p.push(),p.textAlign(p.LEFT,p.CENTER),p.textSize(13.3),p.fill("#7DB6FD"),p.text("+",k+10,D+19),p.fill("#AAA7CE"),p.text("-",k+10,D+F-19),p.pop(),p.push(),p.stroke("#E0EAFD"),p.strokeWeight(1.7),p.line(k+18,D+F/2,k+C-18,D+F/2),p.pop(),p.push(),p.drawingContext.save(),p.drawingContext.beginPath(),p.drawingContext.rect(k+14,D+6,C-28,F-12),p.drawingContext.clip(),p.stroke("#41a8fff0"),p.strokeWeight(4),p.noFill(),p.beginShape();for(let W=0;W<w.length;W++){let ne=k+21+W*((C-42)/E),ge=D+F/2-w[W]*.35;ge=p.constrain(ge,D+7,D+F-7),p.vertex(ne,ge)}p.endShape();let N=x%p.TWO_PI/p.TWO_PI,M=Math.floor(N*(w.length-3)),U=k+21+M*((C-42)/E),R=D+F/2-w[M]*.35;R=p.constrain(R,D+7,D+F-7),p.noStroke(),p.fill("#FBBF24"),p.ellipse(U,R,20,20),p.stroke("#FFDE7B"),p.strokeWeight(2),p.line(U,D+F/2,U,R),p.drawingContext.restore(),p.pop()}p.setSpeed=C=>{S=C||3,p.redraw()},p.setTurns=C=>{v=C||2,p.redraw()},p.startGen=()=>{y=!0,p.loop()},p.resetSketch=()=>{y=!1,S=3,v=2,x=0,w=[],b=0,p.noLoop(),p.redraw()}};return xr(async()=>{await Ji(),r.value&&(i=new zt(d,r.value),i.setSpeed&&i.setSpeed(s.value),i.setTurns&&i.setTurns(o.value))}),fs(()=>{try{i?.remove(),i=null}catch{}}),(p,m)=>(se(),ce("div",{class:"acgen-sim",ref_key:"wrapRef",ref:t},[A("div",{class:"sim-header-card"},[m[4]||(m[4]=pi('<div class="header-left" data-v-78a74b39><div class="icon-circle" data-v-78a74b39><i class="bi bi-lightbulb-fill" data-v-78a74b39></i></div><div class="header-text" data-v-78a74b39><div class="header-title" data-v-78a74b39>    (+) (-) . </div><div class="header-note" data-v-78a74b39>  N    +, S  - . <span class="caption-accent" data-v-78a74b39>      !</span></div></div></div>',1)),A("div",{class:"header-actions"},[A("button",{class:"action-btn secondary",onClick:u},[...m[2]||(m[2]=[A("i",{class:"bi bi-arrow-repeat"},null,-1),A("span",null,"",-1)])]),A("button",{class:"action-btn primary",onClick:h},[...m[3]||(m[3]=[A("i",{class:"bi bi-lightning-fill"},null,-1),A("span",null," ",-1)])])])]),A("div",Doe,[A("div",Noe,[m[5]||(m[5]=A("span",{class:"control-label"},"  ",-1)),A("div",Foe,[sn(A("input",{type:"range",min:"1",max:"5","onUpdate:modelValue":m[0]||(m[0]=g=>s.value=g),onInput:c},null,544),[[nr,s.value,void 0,{number:!0}]]),A("span",koe,Be(a.value),1)])]),A("div",Moe,[m[6]||(m[6]=A("span",{class:"control-label"},"  ",-1)),A("div",Ooe,[sn(A("input",{type:"range",min:"1",max:"4","onUpdate:modelValue":m[1]||(m[1]=g=>o.value=g),onInput:f},null,544),[[nr,o.value,void 0,{number:!0}]]),A("span",Poe,Be(l.value),1)])])]),A("div",Loe,[A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},Zc=wt(Roe,[["__scopeId","data-v-78a74b39"]]),Boe={name:"ViewDetailWithModal",components:{LocationSection:dW,ReviewSection:fX,ReviewModal:DX,ConfirmDeleteModal:I5,ActivityRecommender:iq,ColumnarJoint:JC,StatesOfMatter:ca,Ecosystem:QC,MagnetField:eA,ThermalConductivity:tA,ElectricShow:rA,MagneticTrain:iA,ElectroClothes:sA,AlternatorShow:Zc},props:{exhibitionInformation:{type:Object,default:()=>({})},exhibition:{type:Object,default:()=>({})},placeInformation:{type:Object,default:()=>({})},place:{type:Object,default:()=>({})},isPlace:{type:Boolean,default:!1},targetId:{type:[Number,String],required:!0},targetType:{type:String,required:!0},photoReviewCount:{type:Number,default:0}},data(){return{showReviewModal:!1,showSimulation:!1,reviewText:"",selectedRating:5,uploadedFiles:[],editingReviewId:null,showConfirmDeleteModal:!1,pendingDeleteReviewId:null,isDeleting:!1,loading:!0,error:null}},computed:{isFormValid(){return this.reviewText.trim().length>0&&this.selectedRating>0},isLoggedIn(){return!!gi().user},currentUserId(){return gi().user?.userId??null},simulationMap(){return{:{" ":rA,:eA," ":ca," ":ca," ":ca,"  ":ca,"  ":ca},:{" ":iA},:{" ":sA},:{" ":Zc," ":Zc," ":Zc," ":Zc},:{:JC,:QC},:{" ":tA,:nA},:{"  ":ca,:nA},:{"  ":ca}}},currentSimulationComponent(){const n=this.isPlace?this.place:this.exhibition;if(!n||!n.title||n.title==="  ...")return null;const t=n.title,r=n.subCategories;if(!r||r.length===0)return console.log(`[Sim Match] '${t}'  .`),null;const i=this.simulationMap[t];if(!i)return console.log(`[Sim Match] '${t}'   .`),null;const s=Array.isArray(r)?r.map(o=>(o||"").replace(/[{}"]/g,"")):typeof r=="string"?r.split(",").map(o=>o.trim().replace(/[{}"]/g,"")):[];for(const o of s){const a=o;if(i[a])return console.log(`[Sim Match] ! '${t}' -> '${a}'`),i[a]}return console.log(`[Sim Match] '${t}'() , [${s.join(", ")}]    .`),null}},methods:{showModal(){if(!this.isLoggedIn){this.$router.push("/login");return}this.showReviewModal=!0,this.editingReviewId=null,this.reviewText="",this.selectedRating=5,this.uploadedFiles=[]},closeModal(){this.showReviewModal=!1,this.reviewText="",this.selectedRating=5,this.uploadedFiles=[]},handleFiles(n){const t=Array.from(n),r=5-this.uploadedFiles.length;t.length>r&&ct.emit("show-global-alert",{message:` 5    .  ${r} .`,type:"error"});const i=t.slice(0,r);this.uploadedFiles.push(...i),console.log("   :",this.uploadedFiles)},handleRemoveFile(n){this.uploadedFiles.splice(n,1),console.log(" .  :",this.uploadedFiles)},handleEditReview(n){this.editingReviewId=n.reviewId,this.reviewText=n.content,this.selectedRating=n.rating,this.uploadedFiles=[],this.showReviewModal=!0},async submitReview(){if(this.loading=!0,this.error=null,this.isLoggedIn?.value??this.isLoggedIn,!this.isLoggedIn){this.error="  .    .",this.loading=!1,this.$router.push("/login");return}const n=new FormData,t={targetId:this.targetId,targetType:this.targetType,content:this.reviewText,rating:this.selectedRating,authorId:this.currentUserId};n.append("dto",new Blob([JSON.stringify(t)],{type:"application/json"})),this.uploadedFiles&&this.uploadedFiles.length>0&&this.uploadedFiles.forEach(r=>{n.append("files",r)});try{const r={transformRequest:[(i,s)=>(i instanceof FormData&&delete s["Content-Type"],i)]};this.editingReviewId?(await cn.put(`/api/reviews/${this.editingReviewId}/upload`,n,r),ct.emit("show-global-alert",{message:"  .",type:"success"}),this.$emit("review-posted")):(await cn.post("/api/reviews/upload",n,r),ct.emit("show-global-alert",{message:"  .",type:"success"}),this.$emit("review-posted")),this.closeModal(),await this.$refs.reviewSectionRef?.fetchReviews()}catch(r){console.error("  :",r);const i=r?.response?.data||` ${this.editingReviewId?"":""} .`;ct.emit("show-global-alert",{message:i,type:"error"})}finally{this.loading=!1}},handleRequestDelete({reviewId:n}){this.pendingDeleteReviewId=n,this.showConfirmDeleteModal=!0},handleDeleteReview(n){this.deletingReviewId=n,this.showConfirmDeleteModal=!0},cancelDelete(){this.showConfirmDeleteModal=!1,this.pendingDeleteReviewId=null},async confirmDelete(){if(this.pendingDeleteReviewId){this.isDeleting=!0;try{await cn.delete(`api/reviews/${this.pendingDeleteReviewId}/delete`),ct.emit("show-global-alert",{message:" .",type:"success"}),this.showConfirmDeleteModal=!1,this.pendingDeleteReviewId=null,this.$refs.reviewSectionRef&&this.$refs.reviewSectionRef.fetchReviews(),this.$emit("review-deleted")}catch(n){console.error("  :",n),ct.emit("show-global-alert",{message:"  .",type:"error"}),this.showConfirmDeleteModal=!1,this.pendingDeleteReviewId=null}finally{this.isDeleting=!1}}}}},Uoe={class:"view-detail-page"},Voe={key:0,class:"simulation-accordion"},$oe=["aria-expanded"],joe={key:0,class:"simulation-content-wrapper"},zoe={class:"simulation-inner"},Goe={class:"simulation-content"},Hoe={key:3,class:"activity-section-wrapper"};function Woe(n,t,r,i,s,o){const a=Pt("LocationSection"),l=Pt("ActivityRecommender"),u=Pt("ReviewSection"),h=Pt("ReviewModal"),c=Pt("ConfirmDeleteModal");return se(),ce("div",Uoe,[o.currentSimulationComponent?(se(),ce("div",Voe,[A("button",{type:"button",class:ht(["btn-simulation-toggle",{"is-open":s.showSimulation}]),onClick:t[0]||(t[0]=f=>s.showSimulation=!s.showSimulation),"aria-expanded":s.showSimulation},[t[3]||(t[3]=A("i",{class:"bi bi-flask"},null,-1)),t[4]||(t[4]=A("span",null,"  ",-1)),A("i",{class:ht(["bi",s.showSimulation?"bi-chevron-up":"bi-chevron-down"])},null,2)],10,$oe),lt($s,{name:"slide-fade"},{default:Hr(()=>[s.showSimulation?(se(),ce("div",joe,[A("div",zoe,[A("div",Goe,[(se(),Kt(k1(o.currentSimulationComponent)))])])])):rt("",!0)]),_:1})])):rt("",!0),r.isPlace?(se(),Kt(a,{key:1,placeInformation:r.placeInformation,class:"mt-3"},null,8,["placeInformation"])):(se(),Kt(a,{key:2,exhibitionInformation:r.exhibitionInformation,class:"mt-3"},null,8,["exhibitionInformation"])),t[6]||(t[6]=A("hr",{class:"divider"},null,-1)),r.isPlace?(se(),ce("div",Hoe,[t[5]||(t[5]=A("hr",{class:"divider"},null,-1)),lt(l,{"place-id":r.targetId,"place-main-category":r.place.mainCategory,"place-sub-categories":r.place.subCategories,"place-grade-tag":r.place.gradeTag},null,8,["place-id","place-main-category","place-sub-categories","place-grade-tag"])])):rt("",!0),lt(u,{ref:"reviewSectionRef","target-id":r.targetId,"target-type":r.targetType,"current-user-id":o.currentUserId,rating:r.isPlace?r.place.rating||0:r.exhibition.rating||0,"review-count":r.isPlace?r.place.reviewCount||0:r.exhibition.reviewCount||0,"photo-review-count":r.photoReviewCount||0,"is-place":r.isPlace,onShowModal:o.showModal,onEditReview:o.handleEditReview,onRequestDelete:o.handleRequestDelete},null,8,["target-id","target-type","current-user-id","rating","review-count","photo-review-count","is-place","onShowModal","onEditReview","onRequestDelete"]),s.showReviewModal?(se(),Kt(h,{key:4,reviewText:s.reviewText,selectedRating:s.selectedRating,uploadedFiles:s.uploadedFiles,isFormValid:o.isFormValid,"onUpdate:reviewText":t[1]||(t[1]=f=>s.reviewText=f),"onUpdate:selectedRating":t[2]||(t[2]=f=>s.selectedRating=f),onClose:o.closeModal,onSubmit:o.submitReview,isEditing:!!s.editingReviewId,onFilesSelected:o.handleFiles,onRemoveFile:o.handleRemoveFile},null,8,["reviewText","selectedRating","uploadedFiles","isFormValid","onClose","onSubmit","isEditing","onFilesSelected","onRemoveFile"])):rt("",!0),lt(c,{show:s.showConfirmDeleteModal,message:" ?",onConfirm:o.confirmDelete,onClose:o.cancelDelete},null,8,["show","onConfirm","onClose"])])}const Xoe=wt(Boe,[["render",Woe],["__scopeId","data-v-fb29c961"]]),qoe={name:"RecommendationCTA",props:{title:{type:String,default:"  ?"},subtitleLine1:{type:String,default:"  "},subtitleLine2:{type:String,default:"     !"},primaryText:{type:String,default:" "},secondaryText:{type:String,default:" "},showDivider:{type:Boolean,default:!0},inset:{type:Boolean,default:!0},primaryLoading:{type:Boolean,default:!1},secondaryLoading:{type:Boolean,default:!1},primaryDisabled:{type:Boolean,default:!1},secondaryDisabled:{type:Boolean,default:!1}},emits:["save-route","request-new"]},Yoe={class:"cta-inner"},Koe={class:"cta-title"},Zoe={key:0,class:"cta-divider"},Joe={class:"cta-sub"},Qoe={class:"cta-actions"},eae=["disabled"],tae=["disabled"];function nae(n,t,r,i,s,o){return se(),ce("div",{class:ht(["cta-wrap",{inset:r.inset}])},[A("div",Yoe,[A("div",Koe,Be(r.title),1),r.showDivider?(se(),ce("div",Zoe)):rt("",!0),A("div",Joe,[A("span",null,Be(r.subtitleLine1),1),t[2]||(t[2]=A("br",null,null,-1)),A("span",null,Be(r.subtitleLine2),1)]),A("div",Qoe,[A("button",{class:"btn btn-primary",type:"button",disabled:r.primaryDisabled||r.primaryLoading,onClick:t[0]||(t[0]=a=>n.$emit("save-route"))},[t[3]||(t[3]=A("i",{class:"bi bi-heart"},null,-1)),A("span",null,Be(r.primaryText),1)],8,eae),A("button",{class:"btn btn-secondary",type:"button",disabled:r.secondaryDisabled||r.secondaryLoading,onClick:t[1]||(t[1]=a=>n.$emit("request-new"))},[t[4]||(t[4]=A("i",{class:"bi bi-arrow-clockwise"},null,-1)),A("span",null,Be(r.secondaryText),1)],8,tae)])])],2)}const rae=wt(qoe,[["render",nae],["__scopeId","data-v-578878dc"]]),iae={name:"CourseExhibitionCard",components:{PillTag:Ts,HashTag:ja},props:{item:{type:Object,required:!0}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t},formattedExhibitions(){return!this.item.exhibitionList||!Array.isArray(this.item.exhibitionList)?[]:this.item.exhibitionList.map(n=>n.split(" - ")[0]||n)},exhibitionCount(){return this.formattedExhibitions.length},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)}},methods:{getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]},createMarkerSvg(n,t){const r=`
        <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
              fill="${t}" stroke="#fff" stroke-width="2"/>
          <circle cx="12" cy="12" r="8" fill="#fff"/>
          <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
              font-size="10" font-weight="bold" fill="${t}">${n}</text>
        </svg>
      `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)}}},sae={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},oae={class:"timeline-marker-wrapper"},aae={class:"content-card"},lae={class:"card-body"},uae={class:"card-image"},cae=["src"],hae={class:"card-text"},fae={class:"d-flex align-items-center justify-content-left gap-1"},dae={class:"place-name"},pae={class:"d-flex gap-1"},mae={class:"d-flex gap-1"},gae={key:0,class:"more-tags"},vae={class:"exhibition-section"},yae={class:"exhibition-header"},bae={class:"exhibition-count"},xae={class:"exhibition-list"},_ae={class:"exhibition-number"},wae={class:"exhibition-name"};function Eae(n,t,r,i,s,o){const a=Pt("PillTag"),l=Pt("HashTag");return se(),ce("div",sae,[A("div",oae,[A("div",{class:"timeline-marker-svg",style:Xn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[0]||(t[0]=A("div",{class:"timeline-line"},null,-1))]),A("div",aae,[A("div",lae,[A("div",uae,[A("img",{src:o.computedImageUrl,alt:" "},null,8,cae)]),A("div",hae,[A("div",fae,[A("h5",dae,Be(r.item.title),1)]),A("div",pae,[lt(a,{text:r.item.subject,type:"subject"},null,8,["text"]),lt(a,{text:r.item.grade.replace(" ","")},null,8,["text"])]),A("div",mae,[(se(!0),ce(at,null,Tt(o.visibleHashtags,u=>(se(),Kt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(se(),ce("span",gae," +"+Be(o.remainingHashtagsCount),1)):rt("",!0)])])]),t[3]||(t[3]=A("hr",{class:"hr"},null,-1)),A("div",vae,[A("div",yae,[t[1]||(t[1]=A("i",{class:"bi bi-palette-fill"},null,-1)),t[2]||(t[2]=A("span",{class:"exhibition-title"}," ",-1)),A("span",bae,"("+Be(o.exhibitionCount)+")",1)]),A("div",xae,[(se(!0),ce(at,null,Tt(o.formattedExhibitions,(u,h)=>(se(),ce("div",{key:h,class:"exhibition-item"},[A("span",_ae,Be(h+1),1),A("span",wae,Be(u),1)]))),128))])])])])}const Sae=wt(iae,[["render",Eae],["__scopeId","data-v-b200cf93"]]),Cae={name:"CoursePlaceCard",components:{PillTag:Ts,HashTag:ja},props:{item:{type:Object,required:!0}},emits:["edit","delete"],methods:{onEdit(){this.$emit("edit",this.item.id)},onDelete(){this.$emit("delete",this.item.id)},onImageLoaded(){console.log(`    (${this.item.number} - ${this.item.title})`)},onImageError(){console.error(`    (${this.item.number} - ${this.item.title}): ${this.item.imageUrl}`)},createMarkerSvg(n,t){const r=`
        <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
              fill="${t}" stroke="#fff" stroke-width="2"/>
          <circle cx="12" cy="12" r="8" fill="#fff"/>
          <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
              font-size="10" font-weight="bold" fill="${t}">${n}</text>
        </svg>
      `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)},getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)}}},Aae={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},Tae={class:"timeline-marker-wrapper"},Iae={class:"content-card"},Dae={class:"card-body"},Nae={class:"card-image"},Fae=["src"],kae={class:"card-text"},Mae={class:"d-flex align-items-center justify-content-left gap-1"},Oae={class:"place-name"},Pae={class:"d-flex gap-1"},Lae={class:"d-flex gap-1"},Rae={key:0,class:"more-tags"},Bae={class:"location-label"},Uae={class:"address"};function Vae(n,t,r,i,s,o){const a=Pt("PillTag"),l=Pt("HashTag");return se(),ce("div",Aae,[A("div",Tae,[A("div",{class:"timeline-marker-svg",style:Xn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[2]||(t[2]=A("div",{class:"timeline-line"},null,-1))]),A("div",Iae,[A("div",Dae,[A("div",Nae,[A("img",{src:o.computedImageUrl,alt:" ",onLoad:t[0]||(t[0]=(...u)=>o.onImageLoaded&&o.onImageLoaded(...u)),onError:t[1]||(t[1]=(...u)=>o.onImageError&&o.onImageError(...u))},null,40,Fae)]),A("div",kae,[A("div",Mae,[A("h5",Oae,Be(r.item.title),1)]),A("div",Pae,[lt(a,{text:r.item.subject,type:"subject"},null,8,["text"]),lt(a,{text:(r.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),A("div",Lae,[(se(!0),ce(at,null,Tt(o.visibleHashtags,u=>(se(),Kt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(se(),ce("span",Rae," +"+Be(o.remainingHashtagsCount),1)):rt("",!0)])])]),t[4]||(t[4]=A("hr",{class:"hr"},null,-1)),A("span",Bae,[t[3]||(t[3]=At("  ",-1)),A("span",Uae,Be(r.item.place),1)])])])}const $ae=wt(Cae,[["render",Vae],["__scopeId","data-v-11513708"]]),jae={name:"CourseRecommended",components:{CourseMap:Db,AiRecommendCourseExhibitionCard:Sae,AiRecommendCoursePlaceCard:$ae,RecommendationCTA:rae},emits:["save-recommended-course","request-new-course"],props:{courseItems:{type:Array,required:!0},type:{type:String,default:"AI  "},isLoading:{type:Boolean,default:!1}},methods:{fetchNewCourse(){console.log("  "),this.$emit("request-new-course")},saveCurrentRoute(){console.log("   (CourseRecommend)"),this.$emit("save-recommended-course",this.courseItems)},goToVirtualTour(){const n=this.courseItems.map(t=>({id:t.id,title:t.title,sceneId:t.sceneId}));Mg.push({name:"virtualTour",state:{items:n}})}}},zae={class:"course-container"},Gae={class:"map-section"},Hae={key:0,class:"d-flex justify-content-center align-items-center mb-3 mt-3"},Wae={class:"timeline-list"},Xae={class:"list-wrapper"},qae={key:0},Yae={key:1};function Kae(n,t,r,i,s,o){const a=Pt("CourseMap"),l=Pt("AiRecommendCourseExhibitionCard"),u=Pt("AiRecommendCoursePlaceCard"),h=Pt("RecommendationCTA");return se(),ce(at,null,[A("div",zae,[A("div",Gae,[lt(a,{items:r.courseItems,pageType:r.type},null,8,["items","pageType"])]),r.type==="exhibition"?(se(),ce("div",Hae,[A("button",{class:"btn virtual-tour-btn",onClick:t[0]||(t[0]=(...c)=>o.goToVirtualTour&&o.goToVirtualTour(...c))},[...t[1]||(t[1]=[A("i",{class:"bi bi-compass me-2"},null,-1),At("    ",-1)])])])):rt("",!0),A("div",Wae,[t[2]||(t[2]=A("h5",{class:"list-title"}," ",-1)),A("div",Xae,[r.type==="exhibition"?(se(),ce("div",qae,[(se(!0),ce(at,null,Tt(r.courseItems,c=>(se(),Kt(l,{key:c.id,item:c,courseType:""},null,8,["item"]))),128))])):(se(),ce("div",Yae,[(se(!0),ce(at,null,Tt(r.courseItems,c=>(se(),Kt(u,{key:c.id,item:c},null,8,["item"]))),128))]))])])]),lt(h,{onRequestNew:o.fetchNewCourse,"secondary-loading":r.isLoading,"secondary-disabled":r.isLoading,onSaveRoute:o.saveCurrentRoute},null,8,["onRequestNew","secondary-loading","secondary-disabled","onSaveRoute"])],64)}const Zae=wt(jae,[["render",Kae],["__scopeId","data-v-df61943e"]]),Pv={default:{firstScene:"hall_1_entrance",autoLoad:!0,sceneFadeDuration:1e3},scenes:{hall_1_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/changhall1.jpg",hotSpots:[{pitch:-2.1,yaw:132.9,type:"scene",text:"  ()",sceneId:"hall_1_ex1"},{pitch:-30,yaw:90,type:"info",text:"  . "}]},hall_1_ex1:{title:":  ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex1.jpg",hotSpots:[{pitch:-.6,yaw:37.7,type:"scene",text:" ()",sceneId:"hall_1_ex2"},{pitch:-2.5,yaw:-150,type:"scene",text:" ()",sceneId:"hall_1_entrance"}]},hall_1_ex2:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:" ()",sceneId:"hall_1_ex3"},{pitch:0,yaw:160,type:"scene",text:"  ()",sceneId:"hall_1_ex1"}]},hall_1_ex3:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex3.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"  ()",sceneId:"hall_2_entrance"},{pitch:0,yaw:160,type:"scene",text:" ()",sceneId:"hall_1_ex2"}]},hall_2_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/flat_panorama.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:" ()",sceneId:"hall_2_ex1"},{pitch:-2.5,yaw:-150,type:"scene",text:"  ()",sceneId:"hall_1_ex3"},{pitch:-30,yaw:90,type:"info",text:"  . "}]},hall_2_ex1:{},hall_2_ex2:{},hall_2_ex3:{},hall_2_ex4:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"  ()",sceneId:"hall_3_entrance"},{pitch:-2.5,yaw:-150,type:"scene",text:"  ()",sceneId:"hall_2_ex3"}]},hall_3_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/flat_panorama.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:",  ()",sceneId:"hall_3_ex1"},{pitch:-2.5,yaw:-150,type:"scene",text:"  ()",sceneId:"hall_2_ex4"},{pitch:-30,yaw:90,type:"info",text:"  . "}]},hall_3_ex1:{},hall_3_ex2:{},hall_3_ex3:{},hall_4_entrance:{},hall_5_entrance:{},hall_6_entrance:{},hall_7_entrance:{},hall_8_entrance:{},hall_9_entrance:{},hall_10_entrance:{},hall_11_entrance:{},hall_12_entrance:{},hall_13_entrance:{},hall_14_entrance:{}}},Jae={default:{firstScene:"hall_1_entrance",autoLoad:!0,sceneFadeDuration:1e3},scenes:{hall_1_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/changhall1.jpg",hotSpots:[{pitch:-2.1,yaw:132.9,type:"scene",text:"1.  ( )",sceneId:"hall_1_ex1"},{pitch:-30,yaw:90,type:"info",text:"  . "}]},hall_1_ex1:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img1.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"2.   ()",sceneId:"hall_1_ex2"},{pitch:-2.5,yaw:-150,type:"scene",text:" ()",sceneId:"hall_1_entrance"}]},hall_1_ex2:{title:":  ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"3.   ()",sceneId:"hall_1_ex3"},{pitch:0,yaw:160,type:"scene",text:"1.  ()",sceneId:"hall_1_ex1"}]},hall_1_ex3:{title:":  ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img1.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"4.   ()",sceneId:"hall_1_ex4"},{pitch:0,yaw:160,type:"scene",text:"2.   ()",sceneId:"hall_1_ex2"}]},hall_1_ex4:{title:":  ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex1.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"5.  ()",sceneId:"hall_1_ex5"},{pitch:0,yaw:160,type:"scene",text:"3.   ()",sceneId:"hall_1_ex3"}]},hall_1_ex5:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"6.  ()",sceneId:"hall_1_ex6"},{pitch:0,yaw:160,type:"scene",text:"4.   ()",sceneId:"hall_1_ex4"}]},hall_1_ex6:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img1.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"7.  ()",sceneId:"hall_1_ex7"},{pitch:0,yaw:160,type:"scene",text:"5.  ()",sceneId:"hall_1_ex5"}]},hall_1_ex7:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"8. (AR) ()",sceneId:"hall_1_ex8"},{pitch:0,yaw:160,type:"scene",text:"6.  ()",sceneId:"hall_1_ex6"}]},hall_1_ex8:{title:": (AR)",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"9.  ()",sceneId:"hall_1_ex9"},{pitch:0,yaw:160,type:"scene",text:"7.  ()",sceneId:"hall_1_ex7"}]},hall_1_ex9:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex3.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"10.  ()",sceneId:"hall_1_ex10"},{pitch:0,yaw:160,type:"scene",text:"8. (AR) ()",sceneId:"hall_1_ex8"}]},hall_1_ex10:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img1.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:" ()",sceneId:"hall_14_entrance"},{pitch:0,yaw:160,type:"scene",text:"9.  ()",sceneId:"hall_1_ex9"}]},hall_14_entrance:{title:":  ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:" ()",sceneId:"hall_3_entrance"},{pitch:-2.5,yaw:-150,type:"scene",text:" ()",sceneId:"hall_1_ex10"},{pitch:-30,yaw:90,type:"info",text:"  . "}]},hall_3_entrance:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/flat_panorama.jpg",hotSpots:[{pitch:-2.5,yaw:-150,type:"scene",text:"  ()",sceneId:"hall_14_entrance"},{pitch:-10,yaw:0,type:"scene",text:" ()",sceneId:"hall_1_entrance"},{pitch:-30,yaw:90,type:"info",text:"  . "}]}}};function oA(n){if(!n||typeof n!="string")return null;const t=n.trim().toLowerCase();return t.includes("")?"hall_1_ex1":t.includes(" ")?"hall_1_ex2":t.includes(" ")?"hall_1_ex3":t.includes(" ")?"hall_1_ex4":t.includes("")?"hall_1_ex5":t.includes("")?"hall_1_ex6":t.includes("")?"hall_1_ex7":t.includes("")||t.includes("ar")?"hall_1_ex8":t.includes("")?"hall_1_ex9":t.includes("")?"hall_1_ex10":t.includes("")||t.includes("")?"hall_14_entrance":t.includes("")?"hall_1_entrance":t.includes("")?"hall_2_entrance":t.includes("")||t.includes("")?"hall_3_entrance":t.includes("")?"hall_4_entrance":t.includes("")?"hall_5_entrance":t.includes(" ")?"hall_6_entrance":t.includes(" ")?"hall_7_entrance":t.includes("")?"hall_8_entrance":t.includes("")?"hall_9_entrance":t.includes("")?"hall_10_entrance":t.includes("")?"hall_11_entrance":t.includes("")?"hall_12_entrance":t.includes("")?"hall_13_entrance":(console.warn(`[sceneId ] "${t}"    null `),null)}function Qae(n){if(!n||n.length===0)return console.log("[getMasterConfig] tourItems  ' A' () ."),Pv;const t=new Set(n.map(r=>r.sceneId));return t.has("hall_14_entrance")||t.has("hall_1_ex10")||t.has("hall_1_ex1")?(console.log("[getMasterConfig] ' B' ( )  . ' B'  ."),Jae):t.has("hall_2_entrance")?(console.log("[getMasterConfig] ' A' ( )  . ' A'  ."),Pv):(console.log("[getMasterConfig]     . ' A' () ."),Pv)}const ele={name:"PlaceDetailsView",components:{ExhibitionHeader:DH,InfoSection:ZH,TabSection:nW,CourseRecommend:Zae,ContentDetailView:Xoe},beforeRouteLeave(n,t,r){if(this.isTourRoute(n))return this.saveCourseCache(),sessionStorage.setItem("pdv:tabAfterBack","recommend"),sessionStorage.setItem("pdv:courseCacheKey",this.cacheKey),sessionStorage.setItem("pdv:returnTo",JSON.stringify({type:this.pageType,id:this.currentId,query:this.$route.query})),r();this.clearCourseCache(),r()},activated(){this.restoreTabIfCameBack()},setup(){const n=gi(),{isLoggedIn:t,currentUserId:r}=As(n);return{isLoggedIn:t,currentUserId:r}},computed:{computedIsFavorite(){return this.isWished},cacheKey(){return`course-cache:${this.pageType}:${this.currentId}`},progressSteps(){return this.pageType==="science_place"?this.sciencePlaceProgressSteps:this.exhibitionProgressSteps},loadingMessages(){return this.pageType==="science_place"?this.sciencePlaceLoadingMessages:this.exhibitionLoadingMessages},tips(){return this.pageType==="science_place"?this.sciencePlaceTips:this.exhibitionTips},progressPercentage(){const n=this.progressSteps.length,t=this.currentStepIndex+1;return Math.min(Math.round(t/n*100),100)}},data(){return{courseRerenderKey:0,currentId:null,pageType:null,currentTab:"detail",isWished:!1,isLoading:!1,exhibition:{title:"  ...",rating:0,reviewCount:0,mainCategory:"",subCategories:[],gradeTag:"",type:"",description:"",mainImage:"https://via.placeholder.com/600x400",photoReviewCount:0,exhibitionList:[],visited:!1,liked:!1},exhibitionInformation:{exhibitionLocation:"",operationPeriod:"",operationHours:"",entranceFee:"",lat:0,lng:0,scienceCenterName:"",hallId:0},place:{title:"  ...",rating:0,reviewCount:0,mainCategory:"",subCategories:[],gradeTag:"",type:"",description:"",mainImage:"https://via.placeholder.com/600x400",photoReviewCount:0,visited:!1,liked:!1},placeInformation:{placeAddress:"",operationPeriod:"",operationHours:"",entranceFee:"",lat:0,lng:0},courseItems:[],hasLoadedRecommendations:!1,isRecommending:!1,weatherInfo:null,exhibitionProgressSteps:[" ","  "," "," "],exhibitionLoadingMessages:["    ","    ","    ","   "],exhibitionTips:[" AI    ","     ","       "],sciencePlaceProgressSteps:[" "," ","  "," "," "],sciencePlaceLoadingMessages:["      ","     ","    ","     ","     "],sciencePlaceTips:["      ","       ","      "," AI       "],currentStepIndex:0,currentMessageIndex:0,currentTipIndex:0,stepInterval:null,tipInterval:null}},created(){const n=this.$route.params.id;this.currentId=n;const t=this.$route.path.startsWith("/place/");this.pageType=t?"science_place":"exhibition",t?this.fetchPlaceData(n):this.fetchExhibitionData(n),console.log("[PlaceDetailsView] currentUserId:",this.currentUserId)},mounted(){this.restoreTabIfCameBack(),this._onPageShow=()=>this.restoreTabIfCameBack(),window.addEventListener("pageshow",this._onPageShow)},watch:{"$route.params.id"(n,t){if(t&&n&&n!==t){const r=`course-cache:${this.pageType}:${t}`;this.clearCourseCache(r),this.hasLoadedRecommendations=!1,this.currentId=n;const i=this.$route.path.startsWith("/place/");this.pageType=i?"science_place":"exhibition",i?this.fetchPlaceData(n):this.fetchExhibitionData(n)}},currentUserId(n,t){n&&!t&&this.currentId?this.pageType==="exhibition"?this.fetchExhibitionData(this.currentId):this.pageType==="science_place"&&this.fetchPlaceData(this.currentId):!n&&t&&(this.isWished=!1)}},beforeUnmount(){this.clearLoadingIntervals(),this._onPageShow&&window.removeEventListener("pageshow",this._onPageShow)},methods:{async handleSaveRecommendedCourse(n){if(console.log("[Parent] save received, items =",Array.isArray(n)?n.length:n),!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>this.$router.push({name:"login"})});return}if(!Array.isArray(n)||n.length===0){ct.emit("show-global-alert",{message:"   .",type:"error"});return}try{const r=`AI : ${(this.pageType==="science_place"?this.place:this.exhibition).title||""}`,i=this.currentId,s=n.map(l=>({exhibitionId:this.pageType!=="science_place"?l.id:null,placeId:this.pageType==="science_place"?l.id:null,sequence:l.number,itemType:l.type==="exhibition"?"exhibition":"science_place",categoryName:l.subject,gradeName:l.grade,subCategories:l.hashtags})),o={scheduleName:r,sourceId:i,sourceCourseType:this.pageType==="science_place"?"ai_course":"inner_course",items:s,userId:this.currentUserId};console.log("[Parent] POST /api/schedules/save-recommended",o);const a=await cn.post("/api/schedules/save-recommended",o);a.status===200?ct.emit("show-global-alert",{message:'  " " .',type:"success"}):ct.emit("show-global-alert",{message:`    : ${a.statusText}`,type:"error"})}catch(t){console.error("save error",t);const r=t.response?.data||t.message;ct.emit("show-global-alert",{message:`   : ${r}`,type:"error"})}},isTourRoute(n){const t=(n?.name||"").toString().toLowerCase(),r=(n?.path||"").toString().toLowerCase();return t==="virtualtour"||t==="tour"||t.includes("virtual")||t.includes("tour")||/virtual|tour|vr|webgl/.test(r)},async restoreTabIfCameBack(){if(sessionStorage.getItem("pdv:tabAfterBack")==="recommend"){this.currentTab="recommend";const t=sessionStorage.getItem("pdv:courseCacheKey");t&&t===this.cacheKey?!this.loadCourseCache()&&!this.hasLoadedRecommendations&&(this.hasLoadedRecommendations=!1,this.fetchRecommendedCourse()):this.hasLoadedRecommendations||this.fetchRecommendedCourse(),sessionStorage.removeItem("pdv:tabAfterBack"),sessionStorage.removeItem("pdv:courseCacheKey")}},loadCourseCache(){try{const n=sessionStorage.getItem(this.cacheKey);if(!n)return!1;const{items:t}=JSON.parse(n);return!Array.isArray(t)||t.length===0?!1:(this.courseItems=t,this.hasLoadedRecommendations=!0,this.courseRerenderKey=Date.now(),console.log("   :",this.courseItems),!0)}catch(n){return console.warn("   :",n),!1}},saveCourseCache(){try{const n={items:this.courseItems};sessionStorage.setItem(this.cacheKey,JSON.stringify(n)),console.log("    :",this.cacheKey)}catch(n){console.warn("   :",n)}},clearCourseCache(n=this.cacheKey){try{sessionStorage.removeItem(n),console.log("   :",n)}catch(t){console.warn("   :",t)}},parseWeatherInfo(n){if(!n)return null;let t="",r="   .   !";return n.includes("")?(t="",r="  .    !"):n.includes("")?(t="",r="  .    !"):n.includes("")?(t="",r=" .       !"):n.includes("")&&(t="",r="    !"),{icon:t,description:n,recommendation:r}},mapExhibitionDTO(n){const t=n.exhibitionHallName??" ",r=this.$route.query.mainCategoryTags??"",i=this.$route.query.subCategoryTags,s=this.$route.query.gradeTags;let o=[];typeof i=="string"?o=i.split(",").map(a=>a.trim()).filter(Boolean):Array.isArray(i)&&(o=i.map(a=>String(a).trim()).filter(Boolean)),this.exhibition={title:t,rating:n.averageRating??0,reviewCount:n.totalReviews??0,mainCategory:r,subCategories:o,gradeTag:s,type:n.type??"exhibition",description:n.description??"",mainImage:n.mainImageUrl||"https://via.placeholder.com/600x400",photoReviewCount:n.totalPhotoReviews??0,exhibitionList:n.exhibitionList,visited:n.visited??!1,liked:n.liked??!1},this.isWished=n.liked??!1,this.exhibitionInformation={exhibitionLocation:n.location??" ",operationPeriod:this.formatPeriod(n.startDate,n.endDate),operationHours:n.openingHours??" ",entranceFee:this.formatFee(n.admissionFee),lat:n.latitude,lng:n.longitude,scienceCenterName:(n.location||"").split(" ")[0]||"",hallId:n.hallId}},mapPlaceDTO(n){const t=n.placeName??" ",r=this.$route.query.mainCategoryTags??"",i=this.$route.query.subCategoryTags,s=this.$route.query.gradeTags;let o=[];typeof i=="string"?o=i.split(",").map(a=>a.trim()).filter(Boolean):Array.isArray(i)&&(o=i.map(a=>String(a).trim()).filter(Boolean)),this.place={title:t,rating:n.averageRating??0,reviewCount:n.totalReviews??0,mainCategory:r,subCategories:o,gradeTag:s,description:n.description??"",mainImage:n.mainImageUrl||"https://via.placeholder.com/600x400",photoReviewCount:n.totalPhotoReviews??0,type:n.type??"science_place",visited:n.visited??!1,liked:n.liked??!1},this.isWished=n.liked??!1,this.placeInformation={placeAddress:n.addressDetail??" ",operationPeriod:this.formatPeriod(null,null),operationHours:n.openingHours??" ",entranceFee:n.admissionFee??" ",lat:n.latitude,lng:n.longitude}},formatPeriod(n,t){return!n&&!t?" ":n&&!t?`${n} ~  `:!n&&t?`~ ${t}`:`${n} ~ ${t}`},formatFee(n){return n==null?" ":n===0?"":`${n.toLocaleString("ko-KR")}`},async fetchExhibitionData(n){try{const r=(await cn.get("/api/exhibitions",{params:{exhibitionId:n,userId:this.currentUserId,mainCategoryTags:this.$route.query.mainCategoryTags??"",gradeTags:this.$route.query.gradeTags}})).data;if(!r||Object.keys(r).length===0){console.warn("   .");return}this.mapExhibitionDTO(r)}catch(t){console.error("   :",t),ct.emit("show-global-alert",{message:"   .",type:"error"})}},async fetchPlaceData(n){try{const r=(await cn.get("/api/place",{params:{placeId:n,userId:this.currentUserId}})).data;if(!r||Object.keys(r).length===0){console.warn("   .");return}this.mapPlaceDTO(r)}catch(t){console.error("   :",t),ct.emit("show-global-alert",{message:"   .",type:"error"})}},refreshData(){this.pageType==="exhibition"?this.fetchExhibitionData(this.currentId):this.pageType==="science_place"&&this.fetchPlaceData(this.currentId)},handleReviewPosted(){this.refreshData()},handleReviewDeleted(){this.refreshData()},handleTabChange(n){if(this.currentTab=n,n==="recommend"){if(this.loadCourseCache())return;this.hasLoadedRecommendations||this.fetchRecommendedCourse()}},startLoadingAnimation(){this.currentStepIndex=0,this.currentMessageIndex=0;const n=this.pageType==="science_place"?700:1200;this.stepInterval=setInterval(()=>{this.currentStepIndex<this.progressSteps.length-1&&(this.currentStepIndex++,this.currentMessageIndex++)},n),this.currentTipIndex=0,this.tipInterval=setInterval(()=>{this.currentTipIndex=(this.currentTipIndex+1)%this.tips.length},2500)},clearLoadingIntervals(){this.stepInterval&&(clearInterval(this.stepInterval),this.stepInterval=null),this.tipInterval&&(clearInterval(this.tipInterval),this.tipInterval=null)},async fetchRecommendedCourse(){console.log(" AI   ..."),this.isRecommending=!0,this.startLoadingAnimation(),await this.$nextTick();try{const n="/api/recommend/course",t={type:this.pageType,currentId:this.currentId,mainCategoryTags:this.$route.query.mainCategoryTags,subCategoryTags:this.$route.query.subCategoryTags,gradeTags:this.$route.query.gradeTags},[r]=await Promise.all([cn.get(n,{params:t}),new Promise(c=>setTimeout(c,3500))]),i=r.data;let s=[],o=null;i.recommendations?(s=i.recommendations,o=i.weatherInfo):s=i,this.pageType==="science_place"&&o?this.weatherInfo=this.parseWeatherInfo(o):this.weatherInfo=null;const a=this.pageType==="science_place"?this.place:this.exhibition,l=this.pageType==="science_place"?this.placeInformation:this.exhibitionInformation,u={id:this.currentId,number:1,imageUrl:a.mainImage||"https://via.placeholder.com/60x60",title:a.title||" ",subject:a.mainCategory||" ",grade:a.gradeTag||"  ",hashtags:Array.isArray(a.subCategories)?a.subCategories:a.subCategories?[a.subCategories]:[],type:a.type,place:l.placeAddress||l.exhibitionLocation||"  ",exhibitionList:a.exhibitionList,lat:l.lat||0,lng:l.lng||0,sceneId:oA(a.title)},h=s.map((c,f)=>({id:c.placeId,number:f+2,imageUrl:c.imageUrl||"https://via.placeholder.com/60x60",title:c.placeName,subject:c.subjectName,grade:c.gradeName,hashtags:c.hashtags,place:c.address||"  ",exhibitionList:c.exhibitionList,lat:c.latitude,lng:c.longitude,type:c.type,sceneId:oA(c.placeName)}));this.courseItems=[u,...h],this.hasLoadedRecommendations=!0,this.saveCourseCache(),this.courseRerenderKey=Date.now()}catch(n){console.error("AI    :",n),this.hasLoadedRecommendations=!0,ct.emit("show-global-alert",{message:"AI    .  .",type:"error"})}finally{setTimeout(()=>{this.clearLoadingIntervals(),this.isRecommending=!1,this.currentStepIndex=0,this.currentMessageIndex=0,console.log(" fetchRecommendedCourse . isRecommending:",this.isRecommending)},300)}},async handleToggleFavorite(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}if(this.isLoading)return;const n=this.pageType==="exhibition",t=this.isWished,r=n?this.exhibition:this.place,i={targetId:this.currentId,targetType:this.pageType,mainCategory:r.mainCategory,gradeTag:r.gradeTag};try{t?(await cn.delete("/api/wishlist",{data:i}),this.isWished=!1,ct.emit("show-global-alert",{message:"  .",type:"success"})):(await cn.post("/api/wishlist",i),console.log("[wishlist] add payload:",i),this.isWished=!0,ct.emit("show-global-alert",{message:"  .",type:"success"}))}catch(s){const o=s.response?.status;if(o===409){ct.emit("show-global-alert",{message:"  .  .",type:"error"});try{await cn.delete("/api/wishlist",{data:i}),this.isWished=!1,ct.emit("show-global-alert",{message:" .",type:"success"})}catch(a){console.error("409    :",a),ct.emit("show-global-alert",{message:"   . (   .)",type:"error"})}}else o===403?ct.emit("show-global-alert",{message:"   .",type:"error"}):(console.error("   :",s),ct.emit("show-global-alert",{message:"  .   .",type:"error"}))}finally{this.isLoading=!1}},async handleVisitAuthentication(){console.log("PlaceDetailView:   ");try{if(this.pageType==="exhibition"?this.exhibition.visited:this.place.visited){ct.emit("show-global-alert",{message:"  .",type:"error"});return}if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>this.$router.push({name:"login"})});return}const t=this.pageType,r=this.currentId;if(!t||!r)throw new Error(" (targetId/targetType)   .");const i=await this.getUserCoordinates(),s={userId:this.currentUserId,targetType:t,targetId:r,latitude:i.latitude,longitude:i.longitude},o=await cn.post("/api/stamps",s);ct.emit("show-global-alert",{message:"  !",type:"success"}),console.log(" :",o.data),this.pageType==="exhibition"?this.exhibition.visited=!0:this.pageType==="science_place"&&(this.place.visited=!0)}catch(n){const t=n.response?.data?.error||n.response?.data||n.message;String(t).includes("GPS")?alert(`GPS : ${t}`):ct.emit("show-global-alert",{message:`${t}`,type:"error"}),console.error("   :",n)}},getUserCoordinates(){return console.log("GPS:     "),new Promise((n,t)=>{if(!navigator.geolocation){console.error("GPS: Geolocation  ."),t(new Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(r=>{const i={latitude:r.coords.latitude,longitude:r.coords.longitude};console.log("GPS    ()",i),n(i)},r=>{console.error("GPS   :",r.code,r.message),t(r)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}}},tle={class:"exhibition-detail-page"},nle={class:"header"},rle={class:"scroll-content"},ile={key:0},sle={key:0},ole={key:1},ale={key:0,class:"recommend-loading-container"},lle={class:"loading-content"},ule={class:"loading-message"},cle={class:"progress-bar-container"},hle={class:"progress-bar"},fle={class:"progress-text"},dle={class:"progress-steps"},ple={class:"step-dot"},mle={class:"bi bi-check-lg",key:"check"},gle={class:"step-number",key:"number"},vle={class:"step-label"},yle={class:"skeleton-cards"},ble={class:"card-header"},xle={class:"card-number"},_le={class:"number-text"},wle={class:"tip-text"},Ele={key:1},Sle={key:0},Cle={key:1},Ale={key:0,class:"recommend-loading-container"},Tle={class:"loading-content"},Ile={class:"loading-message"},Dle={class:"progress-bar-container"},Nle={class:"progress-bar"},Fle={class:"progress-text"},kle={class:"progress-steps"},Mle={class:"step-dot"},Ole={class:"bi bi-check-lg",key:"check"},Ple={class:"step-number",key:"number"},Lle={class:"step-label"},Rle={class:"skeleton-cards"},Ble={class:"card-header"},Ule={class:"card-number"},Vle={class:"number-text"},$le={class:"tip-text"},jle={key:1},zle={key:0,class:"weather-info-card"},Gle={class:"weather-header"},Hle={class:"weather-icon"},Wle={class:"weather-text"},Xle={class:"weather-recommendation"},qle={key:2,class:"loading-container"};function Yle(n,t,r,i,s,o){const a=Pt("ExhibitionHeader"),l=Pt("InfoSection"),u=Pt("TabSection"),h=Pt("ContentDetailView"),c=Pt("CourseRecommend");return se(),ce("div",tle,[A("div",nle,[s.pageType==="exhibition"?(se(),Kt(a,{key:0,pageTitle:" ",isFavorite:o.computedIsFavorite,onToggleFavorite:o.handleToggleFavorite},null,8,["isFavorite","onToggleFavorite"])):s.pageType==="science_place"?(se(),Kt(a,{key:1,pageTitle:" ",isFavorite:o.computedIsFavorite,onToggleFavorite:o.handleToggleFavorite},null,8,["isFavorite","onToggleFavorite"])):(se(),Kt(a,{key:2,pageTitle:" ..."}))]),A("div",rle,[s.pageType==="exhibition"?(se(),ce("div",ile,[lt(l,{exhibition:s.exhibition,imageTag:" ",mainCategory:s.exhibition.mainCategory,subCategories:s.exhibition.subCategories,gradeTag:s.exhibition.gradeTag,onAuthenticateVisit:o.handleVisitAuthentication},null,8,["exhibition","mainCategory","subCategories","gradeTag","onAuthenticateVisit"]),t[5]||(t[5]=A("hr",{class:"divider"},null,-1)),(se(),Kt(u,{key:s.currentTab,isPlace:!1,activeTab:s.currentTab,onUpdateTab:o.handleTabChange},null,8,["activeTab","onUpdateTab"])),s.currentTab==="detail"?(se(),ce("div",sle,[lt(h,{exhibitionInformation:s.exhibitionInformation,exhibition:s.exhibition,isPlace:!1,"target-id":s.currentId,"target-type":s.pageType,onReviewPosted:o.handleReviewPosted,onReviewDeleted:o.handleReviewDeleted,"photo-review-count":s.exhibition.photoReviewCount},null,8,["exhibitionInformation","exhibition","target-id","target-type","onReviewPosted","onReviewDeleted","photo-review-count"])])):s.currentTab==="recommend"?(se(),ce("div",ole,[s.isRecommending?(se(),ce("div",ale,[A("div",lle,[t[4]||(t[4]=pi('<div class="ai-icon-section" data-v-c50c8991><div class="ai-icon-wrapper" data-v-c50c8991><div class="ai-icon-bg" data-v-c50c8991><span class="ai-icon" data-v-c50c8991></span></div><div class="pulse-ring" data-v-c50c8991></div><div class="pulse-ring-delayed" data-v-c50c8991></div></div></div>',1)),A("div",ule,[t[0]||(t[0]=A("h3",{class:"main-title"},"AI    ",-1)),lt($s,{name:"fade",mode:"out-in"},{default:Hr(()=>[(se(),ce("p",{class:"sub-message",key:s.currentMessageIndex},Be(o.loadingMessages[s.currentMessageIndex]),1))]),_:1})]),A("div",cle,[A("div",hle,[A("div",{class:"progress-fill",style:Xn({width:o.progressPercentage+"%"})},null,4)]),A("p",fle,Be(o.progressPercentage)+"%",1)]),A("div",dle,[t[1]||(t[1]=A("div",{class:"step-connector"},null,-1)),(se(!0),ce(at,null,Tt(o.progressSteps,(f,d)=>(se(),ce("div",{class:ht(["step-item",{active:s.currentStepIndex>=d,completed:s.currentStepIndex>d}]),key:d},[A("div",ple,[lt($s,{name:"check-fade",mode:"out-in"},{default:Hr(()=>[s.currentStepIndex>d?(se(),ce("i",mle)):(se(),ce("span",gle,Be(d+1),1))]),_:2},1024)]),A("span",vle,Be(f),1)],2))),128))]),A("div",yle,[(se(),ce(at,null,Tt(3,f=>A("div",{key:f,class:"skeleton-card",style:Xn({animationDelay:`${f*.15}s`})},[A("div",ble,[A("div",xle,[A("span",_le,Be(f),1)])]),t[2]||(t[2]=pi('<div class="card-body" data-v-c50c8991><div class="skeleton-image" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></div><div class="skeleton-info" data-v-c50c8991><div class="skeleton-title" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></div><div class="skeleton-location" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></div><div class="skeleton-tags" data-v-c50c8991><span class="skeleton-tag" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></span><span class="skeleton-tag" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></span><span class="skeleton-tag" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></span></div></div></div>',1))],4)),64))]),lt($s,{name:"fade",mode:"out-in"},{default:Hr(()=>[(se(),ce("div",{class:"loading-tip",key:s.currentTipIndex},[t[3]||(t[3]=A("span",{class:"tip-icon"},"",-1)),A("span",wle,Be(o.tips[s.currentTipIndex]),1)]))]),_:1})])])):(se(),Kt(c,{key:s.courseRerenderKey,"course-items":s.courseItems,type:s.pageType,"is-loading":s.isRecommending,onRequestNewCourse:o.fetchRecommendedCourse,onSaveRecommendedCourse:o.handleSaveRecommendedCourse},null,8,["course-items","type","is-loading","onRequestNewCourse","onSaveRecommendedCourse"]))])):rt("",!0)])):s.pageType==="science_place"?(se(),ce("div",Ele,[lt(l,{exhibition:s.place,imageTag:" ",mainCategory:s.place.mainCategory,subCategories:s.place.subCategories,gradeTag:s.place.gradeTag,onAuthenticateVisit:o.handleVisitAuthentication},null,8,["exhibition","mainCategory","subCategories","gradeTag","onAuthenticateVisit"]),t[13]||(t[13]=A("hr",{class:"divider"},null,-1)),lt(u,{isPlace:!0,activeTab:s.currentTab,onUpdateTab:o.handleTabChange},null,8,["activeTab","onUpdateTab"]),s.currentTab==="detail"?(se(),ce("div",Sle,[lt(h,{placeInformation:s.placeInformation,place:s.place,"target-id":s.currentId,"target-type":s.pageType,isPlace:!0,onReviewPosted:o.handleReviewPosted,onReviewDeleted:o.handleReviewDeleted,"photo-review-count":s.place.photoReviewCount},null,8,["placeInformation","place","target-id","target-type","onReviewPosted","onReviewDeleted","photo-review-count"])])):s.currentTab==="recommend"?(se(),ce("div",Cle,[s.isRecommending?(se(),ce("div",Ale,[A("div",Tle,[t[10]||(t[10]=pi('<div class="ai-icon-section" data-v-c50c8991><div class="ai-icon-wrapper" data-v-c50c8991><div class="ai-icon-bg" data-v-c50c8991><span class="ai-icon" data-v-c50c8991></span></div><div class="pulse-ring" data-v-c50c8991></div><div class="pulse-ring-delayed" data-v-c50c8991></div></div></div>',1)),A("div",Ile,[t[6]||(t[6]=A("h3",{class:"main-title"},"AI      ",-1)),lt($s,{name:"fade",mode:"out-in"},{default:Hr(()=>[(se(),ce("p",{class:"sub-message",key:s.currentMessageIndex},Be(o.loadingMessages[s.currentMessageIndex]),1))]),_:1})]),A("div",Dle,[A("div",Nle,[A("div",{class:"progress-fill",style:Xn({width:o.progressPercentage+"%"})},null,4)]),A("p",Fle,Be(o.progressPercentage)+"%",1)]),A("div",kle,[t[7]||(t[7]=A("div",{class:"step-connector"},null,-1)),(se(!0),ce(at,null,Tt(o.progressSteps,(f,d)=>(se(),ce("div",{class:ht(["step-item",{active:s.currentStepIndex>=d,completed:s.currentStepIndex>d}]),key:d},[A("div",Mle,[lt($s,{name:"check-fade",mode:"out-in"},{default:Hr(()=>[s.currentStepIndex>d?(se(),ce("i",Ole)):(se(),ce("span",Ple,Be(d+1),1))]),_:2},1024)]),A("span",Lle,Be(f),1)],2))),128))]),A("div",Rle,[(se(),ce(at,null,Tt(3,f=>A("div",{key:f,class:"skeleton-card",style:Xn({animationDelay:`${f*.15}s`})},[A("div",Ble,[A("div",Ule,[A("span",Vle,Be(f),1)])]),t[8]||(t[8]=pi('<div class="card-body" data-v-c50c8991><div class="skeleton-image" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></div><div class="skeleton-info" data-v-c50c8991><div class="skeleton-title" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></div><div class="skeleton-location" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></div><div class="skeleton-tags" data-v-c50c8991><span class="skeleton-tag" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></span><span class="skeleton-tag" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></span><span class="skeleton-tag" data-v-c50c8991><div class="shimmer" data-v-c50c8991></div></span></div></div></div>',1))],4)),64))]),lt($s,{name:"fade",mode:"out-in"},{default:Hr(()=>[(se(),ce("div",{class:"loading-tip",key:s.currentTipIndex},[t[9]||(t[9]=A("span",{class:"tip-icon"},"",-1)),A("span",$le,Be(o.tips[s.currentTipIndex]),1)]))]),_:1})])])):(se(),ce("div",jle,[s.weatherInfo?(se(),ce("div",zle,[A("div",Gle,[A("span",Hle,Be(s.weatherInfo.icon),1),A("div",Wle,[t[11]||(t[11]=A("h4",null,"  ",-1)),A("p",null,Be(s.weatherInfo.description),1)])]),A("div",Xle,[t[12]||(t[12]=A("i",{class:"bi bi-lightbulb-fill"},null,-1)),A("span",null,Be(s.weatherInfo.recommendation),1)])])):rt("",!0),lt(c,{"course-items":s.courseItems,type:s.pageType,"is-loading":s.isRecommending,onRequestNewCourse:o.fetchRecommendedCourse,onSaveRecommendedCourse:o.handleSaveRecommendedCourse},null,8,["course-items","type","is-loading","onRequestNewCourse","onSaveRecommendedCourse"])]))])):rt("",!0)])):(se(),ce("div",qle,[...t[14]||(t[14]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"mt-3"},"  ...",-1)])]))])])}const aA=wt(ele,[["render",Yle],["__scopeId","data-v-c50c8991"]]),Kle={class:"image-container"},Zle={key:0,class:"card-badge"},Jle=["src","alt"],Qle={class:"content-frame d-flex flex-column flex-grow-1 gap-2 min-w-0"},eue={class:"d-flex justify-content-between align-items-center gap-1"},tue={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},nue={key:0,class:"bi bi-heart-fill fs-5",style:{color:"red"}},rue={key:1,class:"bi bi-plus fs-4"},iue={class:"text-frame d-flex flex-column gap-1 min-w-0"},sue={class:"d-flex align-items-center gap-1 min-w-0"},oue={class:"fw-bold m-0 text-truncate flex-grow-1 min-w-0"},aue={class:"d-flex flex-row align-items-center gap-2 min-w-0"},lue={class:"text-truncate flex-grow-1 min-w-0"},uue={class:"hashtag-container"},cue={key:0,class:"more-tags"},hue="https://storage.googleapis.com/science_book/",Lv=2,fue={__name:"PlaceCard2",props:{item:{type:Object,required:!0},iconType:{type:String,default:"add"}},emits:["add","toggle-favorite","item-click"],setup(n,{emit:t}){const r=t,i=n,s=Ut(()=>{const c=i.item.imageUrl;return c&&!c.startsWith("http")?hue+c:c}),o=Ut(()=>i.item.hashtags?.slice(0,Lv)||[]),a=Ut(()=>i.item.hashtags?.length>Lv),l=Ut(()=>i.item.hashtags?.length-Lv||0),u=()=>{i.iconType==="heart"?r("toggle-favorite"):r("add")},h=()=>{r("item-click")};return(c,f)=>(se(),ce("div",{class:"place-card d-flex flex-row bg-white align-items-center px-3 py-3 rounded-4 shadow gap-3",style:{"font-family":"'SUIT' , sans-serif"},onClick:h},[A("div",Kle,[n.item.badgeLabel?(se(),ce("div",Zle,Be(n.item.badgeLabel),1)):rt("",!0),A("img",{src:s.value,alt:n.item.title,class:"map-thumbnail"},null,8,Jle)]),A("div",Qle,[A("div",eue,[A("div",tue,[lt(Ts,{text:n.item.subject||"",type:"subject"},null,8,["text"]),lt(Ts,{text:(n.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),A("button",{class:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center btn-add flex-shrink-0",onClick:br(u,["stop"])},[i.iconType==="heart"?(se(),ce("i",nue)):(se(),ce("i",rue))])]),A("div",iue,[A("div",sue,[A("h5",oue,Be(n.item.title||""),1)]),A("div",aue,[A("span",lue,Be(n.item.place||""),1)]),A("div",uue,[(se(!0),ce(at,null,Tt(o.value,d=>(se(),Kt(ja,{key:d,text:d},null,8,["text"]))),128)),a.value?(se(),ce("span",cue," +"+Be(l.value),1)):rt("",!0)])])])]))}},RM=wt(fue,[["__scopeId","data-v-90d485a5"]]),due={name:"PlaceList",components:{PlaceCard2:RM,FilterModal:q1},data(){return{selectedTab:"",isModalOpen:!1,allFetchedItems:[],isSearching:!1}},computed:{filteredItems(){return this.selectedTab===""?this.allFetchedItems.filter(n=>n.itemType==="exhibition"):this.allFetchedItems.filter(n=>n.itemType==="science_place")},...$4(Dp,["selectedGrade","selectedSubject"])},methods:{...j4(Dp,["setFilter"]),changeTab(n){this.selectedTab=n,this.$router.replace({query:{tab:n}})},goToDetail(n){console.log("  :",n.title);const t={mainCategoryTags:this.selectedSubject,subCategoryTags:n.hashtags,gradeTags:this.selectedGrade};n.itemType==="exhibition"?(console.log(`   (ID: ${n.id}):`,n.title),this.$router.push({path:`/exhibition/${n.id}`,query:t})):(console.log(`   (ID: ${n.id}):`,n.title),this.$router.push({path:`/place/${n.id}`,query:t}))},handleItemClick(n){this.goToDetail(n)},goBack(){this.$router.back()},handleFilterComplete(n){console.log("  :",n),this.setFilter(n.grade,n.subject),this.isModalOpen=!1,this.performSearch()},async performSearch(){console.log("  ( ):",{subject:this.selectedSubject,grade:this.selectedGrade}),this.isSearching=!0,this.allFetchedItems=[];const n={searchType:"all",subject:this.selectedSubject,grade:this.selectedGrade};try{const t=await cn.get("/api/content/search",{params:n});if(t.data&&Array.isArray(t.data)){const r=t.data.map(i=>(i.id||(i.id=`temp_${i.itemType}_${Date.now()}_${Math.random().toString(36).substr(2,5)}`),i.itemType==="exhibition"?{...i,badgeLabel:""}:i));this.allFetchedItems=r,console.log("API   (): ",this.allFetchedItems.length,"")}else console.error("API   .",t.data),this.allFetchedItems=[]}catch(t){console.error("API    ",t.response?t.response.data:t.message),ct.emit("show-global-alert",{message:"    .",type:"error"}),this.allFetchedItems=[]}finally{this.isSearching=!1}}},created(){this.$route.query.tab===""?this.selectedTab="":this.selectedTab="",this.performSearch()}},pue={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},mue={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},gue={class:"header-left",style:{flex:"1"}},vue={class:"header-right d-flex justify-content-end",style:{flex:"1"}},yue={class:"segmented-control-wrapper flex-shrink-0"},bue={class:"segmented-control"},xue={class:"user-like-course"},_ue={key:0,class:"text-center p-5 text-muted w-100 status-message"},wue={key:1,class:"text-center p-5 text-muted w-100 status-message"},Eue={class:"text-sm mt-2",style:{"font-size":"0.9rem",color:"#888"}};function Sue(n,t,r,i,s,o){const a=Pt("PlaceCard2"),l=Pt("FilterModal");return se(),ce("div",pue,[A("div",mue,[A("div",gue,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...u)=>o.goBack&&o.goBack(...u))})]),t[5]||(t[5]=A("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center","font-size":"16px"}},"   ",-1)),A("div",vue,[A("i",{class:"bi bi-sliders filter-icon",style:{cursor:"pointer"},onClick:t[1]||(t[1]=br(u=>s.isModalOpen=!0,["prevent"]))})])]),A("div",yue,[A("div",bue,[A("button",{type:"button",class:ht(["spec-button",{active:s.selectedTab===""}]),onClick:t[2]||(t[2]=u=>o.changeTab(""))},"",2),A("button",{type:"button",class:ht(["spec-button",{active:s.selectedTab===""}]),onClick:t[3]||(t[3]=u=>o.changeTab(""))}," ",2)])]),A("div",xue,[s.isSearching?(se(),ce("div",_ue,[...t[6]||(t[6]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"mt-2 text-muted"}," ...",-1)])])):o.filteredItems.length===0?(se(),ce("div",wue,[A("div",null," '"+Be(s.selectedTab)+"'    . ",1),A("div",Eue,"  : "+Be(n.selectedSubject)+" / : "+Be(n.selectedGrade.replace(" ","")),1)])):(se(!0),ce(at,{key:2},Tt(o.filteredItems,(u,h)=>(se(),Kt(a,{key:u.id||h,item:u,onAdd:c=>o.goToDetail(u),onItemClick:c=>o.handleItemClick(u)},null,8,["item","onAdd","onItemClick"]))),128))]),s.isModalOpen?(se(),Kt(l,{key:0,showLocationOptions:!1,initialSubject:n.selectedSubject,initialGrade:n.selectedGrade,onClose:t[4]||(t[4]=u=>s.isModalOpen=!1),onComplete:o.handleFilterComplete},null,8,["initialSubject","initialGrade","onComplete"])):rt("",!0)])}const Cue=wt(due,[["render",Sue],["__scopeId","data-v-925c4f32"]]),Aue={name:"PhotosHeader",methods:{goBack(){this.$router.back()}}},Tue={class:"header"};function Iue(n,t,r,i,s,o){return se(),ce("header",Tue,[A("button",{class:"back-btn",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[1]||(t[1]=[A("i",{class:"bi bi-arrow-left"},null,-1)])]),t[2]||(t[2]=A("h1",{class:"page-title"}," ",-1)),t[3]||(t[3]=A("div",{class:"header-placeholder"},null,-1))])}const Due=wt(Aue,[["render",Iue],["__scopeId","data-v-19819e51"]]),Nue="https://science-book-backend-392637347057.asia-northeast3.run.app",Fue={name:"ReviewPhotoGridView",components:{PhotoReviewHeader:Due,PhotoModal:D5},props:{targetType:{type:String,required:!0},targetId:{type:[String,Number],required:!0}},data(){return{photos:[],isLoading:!0,photoModal:{visible:!1,images:[],startIndex:0}}},created(){this.targetId&&this.targetType?this.fetchReviewPhotos():(console.error("targetId  targetType props  ."),ct.emit("show-global-alert",{message:" .",type:"error"}),this.isLoading=!1)},methods:{async fetchReviewPhotos(){this.isLoading=!0;const n=`${Nue}/api/reviews/target/${this.targetType}/${this.targetId}/photos`;try{const t=await kn.get(n);this.photos=t.data,console.log(` [ReviewPhotoGridView] ${this.targetType}/${this.targetId}  ${t.data.length}  .`)}catch(t){console.error("     :",t),ct.emit("show-global-alert",{message:"  .",type:"error"}),this.photos=[]}finally{this.isLoading=!1}},openModal(n){this.photoModal.images=this.photos,this.photoModal.startIndex=n,this.photoModal.visible=!0}}},kue={class:"photo-grid-page"},Mue={class:"scroll-content"},Oue={key:0,class:"loading-container"},Pue={key:1,class:"photo-grid-container"},Lue=["onClick"],Rue=["src"];function Bue(n,t,r,i,s,o){const a=Pt("PhotoReviewHeader"),l=Pt("PhotoModal");return se(),ce("div",kue,[lt(a),A("div",Mue,[s.isLoading?(se(),ce("div",Oue,[...t[1]||(t[1]=[A("p",null,"  ...",-1)])])):s.photos.length>0?(se(),ce("div",Pue,[(se(!0),ce(at,null,Tt(s.photos,(u,h)=>(se(),ce("div",{key:h,class:"photo-item",onClick:c=>o.openModal(h)},[A("img",{src:u,alt:" "},null,8,Rue)],8,Lue))),128))])):rt("",!0)]),lt(l,{show:s.photoModal.visible,images:s.photoModal.images,startIndex:s.photoModal.startIndex,onClose:t[0]||(t[0]=u=>s.photoModal.visible=!1)},null,8,["show","images","startIndex"])])}const Uue=wt(Fue,[["render",Bue],["__scopeId","data-v-dd62abcc"]]),Vue="https://science-book-backend-392637347057.asia-northeast3.run.app",$ue=`${Vue}/api/user`,jue={name:"LoginForm",data(){return{id:"",password:"",isPasswordVisible:!1,errorMessage:""}},computed:{isFormValid(){return this.id.length>0&&this.password.length>0}},methods:{togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible},async handleLogin(){if(!this.id||!this.password){this.errorMessage="   .";return}this.errorMessage="";const n=gi(),t={loginId:this.id,password:this.password};console.log("  :",t);try{const r=await kn.post(`${$ue}/login`,t);r.status===200&&(n.login(r.data),console.log(" . Pinia authStore :",n.$state),this.$router.replace("/home"))}catch(r){console.error("  :",r),r.response&&r.response.status===401?this.errorMessage=r.response.data||"   .":this.errorMessage="    ."}}}},zue={class:"login-container"},Gue={class:"login-form"},Hue={class:"form-group"},Wue={class:"form-group"},Xue={class:"input-with-icon"},que=["type"],Yue={key:0,class:"bi bi-eye"},Kue={key:1,class:"bi bi-eye-slash"},Zue={key:0,class:"error-message"},Jue={class:"signup-link-wrapper"};function Que(n,t,r,i,s,o){const a=Pt("router-link");return se(),ce("div",zue,[A("div",Gue,[t[9]||(t[9]=A("header",{class:"header"},[A("h2",null,"")],-1)),A("form",{onSubmit:t[3]||(t[3]=br((...l)=>o.handleLogin&&o.handleLogin(...l),["prevent"])),novalidate:""},[A("div",Hue,[t[4]||(t[4]=A("label",{for:"id"},"",-1)),sn(A("input",{type:"text",id:"id","onUpdate:modelValue":t[0]||(t[0]=l=>s.id=l),placeholder:" ",required:"",class:"text-input"},null,512),[[nr,s.id]])]),A("div",Wue,[t[5]||(t[5]=A("label",{for:"password"},"",-1)),A("div",Xue,[sn(A("input",{type:s.isPasswordVisible?"text":"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=l=>s.password=l),placeholder:" ",required:"",class:"text-input"},null,8,que),[[Mm,s.password]]),A("span",{onClick:t[2]||(t[2]=(...l)=>o.togglePasswordVisibility&&o.togglePasswordVisibility(...l)),class:"password-toggle-icon"},[s.isPasswordVisible?(se(),ce("i",Yue)):(se(),ce("i",Kue))])])]),s.errorMessage?(se(),ce("div",Zue,Be(s.errorMessage),1)):rt("",!0),t[6]||(t[6]=A("button",{type:"submit",class:"submit-button"},"",-1))],32),A("p",Jue,[t[8]||(t[8]=At("   ? ",-1)),lt(a,{to:"/signup"},{default:Hr(()=>[...t[7]||(t[7]=[At("",-1)])]),_:1})])])])}const ece=wt(jue,[["render",Que],["__scopeId","data-v-07d16f2c"]]),tce="https://science-book-backend-392637347057.asia-northeast3.run.app",Rv=`${tce}/api/user`,nce={name:"SignupForm",debounceTimer:null,data(){return{id:"",password:"",username:"",email:"",phone:"",isIdChecked:!1,isIdDuplicate:!0,idCheckLoading:!1,passwordVisible:{password:!1},isPasswordFocused:!1,passwordCriteria:{length:!1,number:!1,specialChar:!1},isEmailDuplicate:!0,isEmailChecking:!1,isEmailCheckedOnce:!1,showSuccessModal:!1}},computed:{isEmailValid(){return/\S+@\S+\.\S+/.test(this.email)},isFormValid(){return this.id&&!this.isIdDuplicate&&this.isIdChecked&&this.email&&this.isEmailValid&&!this.isEmailDuplicate&&this.isEmailCheckedOnce&&this.username&&this.phone&&this.passwordCriteria.length&&this.passwordCriteria.number&&this.passwordCriteria.specialChar}},methods:{togglePasswordVisibility(n){this.passwordVisible[n]=!this.passwordVisible[n],this.$nextTick(()=>{const t=document.getElementById(n);t&&(t.type=this.passwordVisible[n]?"text":"password")})},handlePasswordFocus(){this.isPasswordFocused=!0},handlePasswordBlur(){setTimeout(()=>{this.isPasswordFocused=!1},200)},checkPasswordValidity(){this.passwordCriteria.length=this.password.length>=8&&this.password.length<=16,this.passwordCriteria.number=/[0-9]/.test(this.password),this.passwordCriteria.specialChar=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(this.password)},async checkIdDuplicate(){if(!this.id||this.id.length<4){ct.emit("show-global-alert",{message:" 4   .",type:"error"}),this.isIdChecked=!1,this.idCheckLoading=!1,this.isIdDuplicate=!0;return}this.idCheckLoading=!0;try{const t=(await kn.get(`${Rv}/check-id/${this.id}`)).data;this.isIdChecked=!0,this.isIdDuplicate=t,console.log(t?" ":"  ")}catch(n){console.error("   :",n),ct.emit("show-global-alert",{message:"     .",type:"error"}),this.isIdDuplicate=!0}finally{this.idCheckLoading=!1}},resetIdCheckStatus(){this.isIdChecked=!1,this.isIdDuplicate=!0},checkEmailDuplicateWithDebounce(){const n=this.email.trim();if(this.isEmailCheckedOnce=!0,this.isEmailDuplicate=!0,n.length===0||!this.isEmailValid){this.$options.debounceTimer&&clearTimeout(this.$options.debounceTimer),this.isEmailChecking=!1;return}this.$options.debounceTimer&&clearTimeout(this.$options.debounceTimer),this.isEmailChecking=!0,this.$options.debounceTimer=setTimeout(async()=>{try{const r=(await kn.get(`${Rv}/check-email/${n}`)).data;this.isEmailDuplicate=r}catch(t){console.error("   :",t),this.isEmailDuplicate=!0}finally{this.isEmailChecking=!1}},500)},formatPhoneNumber(){let t=this.phone.replace(/[^0-9]/g,"");t.length>11&&(t=t.substring(0,11));let r="";t.length<4?r=t:t.length<8?r=t.substring(0,3)+"-"+t.substring(3):r=t.substring(0,3)+"-"+t.substring(3,7)+"-"+t.substring(7,11),this.phone=r},async handleSubmit(){if(!this.isFormValid){ct.emit("show-global-alert",{message:"      ,      .",type:"error"});return}const n={loginId:this.id,password:this.password,name:this.username,email:this.email,phoneNumber:this.phone};console.log(" :",n);try{const t=await kn.post(`${Rv}/signup`,n);t.status===201?(console.log(" :",t.data),this.showSuccessModal=!0):ct.emit("show-global-alert",{message:" . ( : "+t.status+")",type:"error"})}catch(t){console.error("  :",t),t.response&&t.response.data?ct.emit("show-global-alert",{message:"    : "+t.response.data,type:"error"}):ct.emit("show-global-alert",{message:"       .",type:"error"})}},navigateToLogin(){this.showSuccessModal=!1,this.$router.replace({name:"login"})}}},rce={class:"signup-container"},ice={class:"form-group"},sce={class:"input-with-button"},oce=["disabled"],ace={key:0},lce={key:1},uce={class:"form-group"},cce={class:"input-with-icon"},hce=["type"],fce={key:0,class:"bi bi-eye"},dce={key:1,class:"bi bi-eye-slash"},pce={key:0,class:"password-validation-list"},mce={class:"form-group"},gce={class:"form-group"},vce={key:0,class:"validation-message invalid"},yce={key:0},bce={key:1},xce={key:2},_ce={class:"form-group"},wce=["disabled"],Ece={class:"login-link-wrapper"},Sce={key:0,class:"modal-overlay"},Cce={class:"modal-content"};function Ace(n,t,r,i,s,o){const a=Pt("router-link");return se(),ce(at,null,[A("div",rce,[t[26]||(t[26]=A("header",{class:"header"},[A("h2",null,"")],-1)),A("form",{onSubmit:t[13]||(t[13]=br((...l)=>o.handleSubmit&&o.handleSubmit(...l),["prevent"])),class:"signup-form"},[A("div",ice,[t[15]||(t[15]=A("label",{for:"id"}," *",-1)),A("div",sce,[sn(A("input",{type:"text",id:"id","onUpdate:modelValue":t[0]||(t[0]=l=>s.id=l),placeholder:" ",required:"",class:"text-input",onInput:t[1]||(t[1]=(...l)=>o.resetIdCheckStatus&&o.resetIdCheckStatus(...l))},null,544),[[nr,s.id]]),A("button",{type:"button",class:"check-button",onClick:t[2]||(t[2]=(...l)=>o.checkIdDuplicate&&o.checkIdDuplicate(...l)),disabled:!s.id},"",8,oce)]),s.isIdChecked&&!s.idCheckLoading?(se(),ce("div",{key:0,class:ht({"validation-message":!0,valid:!s.isIdDuplicate,invalid:s.isIdDuplicate})},[s.isIdDuplicate?(se(),ce("span",ace,"   .")):(se(),ce("span",lce,"  !"))],2)):rt("",!0)]),A("div",uce,[t[19]||(t[19]=A("label",{for:"password"}," *",-1)),A("div",cce,[sn(A("input",{type:s.passwordVisible.password?"text":"password",id:"password","onUpdate:modelValue":t[3]||(t[3]=l=>s.password=l),onInput:t[4]||(t[4]=(...l)=>o.checkPasswordValidity&&o.checkPasswordValidity(...l)),onFocus:t[5]||(t[5]=(...l)=>o.handlePasswordFocus&&o.handlePasswordFocus(...l)),onBlur:t[6]||(t[6]=(...l)=>o.handlePasswordBlur&&o.handlePasswordBlur(...l)),placeholder:", ,   8~16",required:"",class:"text-input"},null,40,hce),[[Mm,s.password]]),A("span",{class:"password-toggle-icon",onClick:t[7]||(t[7]=l=>o.togglePasswordVisibility("password"))},[s.passwordVisible.password?(se(),ce("i",fce)):(se(),ce("i",dce))])]),s.isPasswordFocused?(se(),ce("div",pce,[A("div",{class:ht(["validation-item",{valid:s.passwordCriteria.length}])},[A("i",{class:ht(["validation-icon",s.passwordCriteria.length?"bi-check-circle-fill":"bi-x-circle-fill"])},null,2),t[16]||(t[16]=At(" 8 ~ 16  ",-1))],2),A("div",{class:ht(["validation-item",{valid:s.passwordCriteria.number}])},[A("i",{class:ht(["validation-icon",s.passwordCriteria.number?"bi-check-circle-fill":"bi-x-circle-fill"])},null,2),t[17]||(t[17]=At("  1  ",-1))],2),A("div",{class:ht(["validation-item",{valid:s.passwordCriteria.specialChar}])},[A("i",{class:ht(["validation-icon",s.passwordCriteria.specialChar?"bi-check-circle-fill":"bi-x-circle-fill"])},null,2),t[18]||(t[18]=At("  1  ",-1))],2)])):rt("",!0)]),A("div",mce,[t[20]||(t[20]=A("label",{for:"username"},"  *",-1)),sn(A("input",{type:"text",id:"username","onUpdate:modelValue":t[8]||(t[8]=l=>s.username=l),placeholder:"  ",required:"",class:"text-input"},null,512),[[nr,s.username]])]),A("div",gce,[t[21]||(t[21]=A("label",{for:"email"}," *",-1)),sn(A("input",{type:"email",id:"email","onUpdate:modelValue":t[9]||(t[9]=l=>s.email=l),placeholder:" ",required:"",class:"text-input",onInput:t[10]||(t[10]=(...l)=>o.checkEmailDuplicateWithDebounce&&o.checkEmailDuplicateWithDebounce(...l))},null,544),[[nr,s.email]]),s.email.length>0&&!o.isEmailValid?(se(),ce("div",vce,"    . ")):rt("",!0),o.isEmailValid&&s.isEmailCheckedOnce?(se(),ce("div",{key:1,class:ht({"validation-message":!0,"checking-status":s.isEmailChecking,valid:!s.isEmailDuplicate&&!s.isEmailChecking,invalid:s.isEmailDuplicate&&!s.isEmailChecking})},[s.isEmailChecking?(se(),ce("span",yce,"  ...")):s.isEmailDuplicate?(se(),ce("span",bce,"   .")):(se(),ce("span",xce,"  !"))],2)):rt("",!0)]),A("div",_ce,[t[22]||(t[22]=A("label",{for:"phone"},"  *",-1)),sn(A("input",{type:"tel",id:"phone","onUpdate:modelValue":t[11]||(t[11]=l=>s.phone=l),placeholder:"  ",required:"",class:"text-input",onInput:t[12]||(t[12]=(...l)=>o.formatPhoneNumber&&o.formatPhoneNumber(...l))},null,544),[[nr,s.phone]])]),t[25]||(t[25]=A("p",{class:"terms-text"},"    ,       . ",-1)),A("button",{type:"submit",class:"submit-button",disabled:!o.isFormValid},"",8,wce),A("p",Ece,[t[24]||(t[24]=At("   ? ",-1)),lt(a,{to:{name:"login"},replace:""},{default:Hr(()=>[...t[23]||(t[23]=[At("",-1)])]),_:1})])],32)]),s.showSuccessModal?(se(),ce("div",Sce,[A("div",Cce,[t[27]||(t[27]=A("h3",null," ",-1)),A("p",null,Be(s.username)+", !",1),t[28]||(t[28]=A("p",null,"    .",-1)),A("button",{onClick:t[14]||(t[14]=(...l)=>o.navigateToLogin&&o.navigateToLogin(...l)),class:"modal-button"},"  ")])])):rt("",!0)],64)}const Tce=wt(nce,[["render",Ace],["__scopeId","data-v-40b62fd7"]]),Ice={name:"LikePlace",components:{PlaceCard2:RM},setup(){const n=gi(),{isLoggedIn:t,currentUserId:r}=As(n);return{isLoggedIn:t,currentUserId:r}},data(){return{allWishlistItems:[],displayedItems:[],isSearching:!1}},computed:{},methods:{async handleRemoveFavorite(n){console.log(`[ ] ${n.title} (ID: ${n.id}, Type: ${n.itemType})`),ct.emit("show-global-confirm",{message:"   ?",onConfirm:async()=>{console.log("[ ]  . API ");try{await cn.delete("/api/wishlist",{data:{targetId:n.id,targetType:n.itemType}}),this.displayedItems=this.displayedItems.filter(t=>t.id!==n.id),this.allWishlistItems=this.allWishlistItems.filter(t=>t.id!==n.id),ct.emit("show-global-alert",{message:"  .",type:"success"})}catch(t){console.error("  :",t),ct.emit("show-global-alert",{message:t.response?.data?.message||" .  .",type:"error"})}}})},goToDetail(n){const t={mainCategoryTags:n.subject,subCategoryTags:n.hashtags,gradeTags:n.grade},r=n.itemType==="exhibition"?"/exhibition":"/place";this.$router.push({path:`${r}/${n.id}`,query:t})},handleItemClick(n){this.goToDetail(n)},goBack(){this.$router.back()},async performSearch(){if(console.log("performSearch  "),!this.isLoggedIn){console.warn("      ."),ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.isSearching=!0,this.allWishlistItems=[],this.displayedItems=[];try{console.log(":__: API  : /api/wishlist/my-list");const n=await cn.get("/api/wishlist/my-list");if(console.log(":__: API  :",n),console.log(":__: response.data:",n.data),n.data&&Array.isArray(n.data)){const t=n.data.map(r=>{let i=null;return r.targetType==="exhibition"&&(i=""),{id:r.targetId,title:r.title,imageUrl:r.mainImageUrl,subject:r.mainCategory,grade:r.gradeTag,hashtags:r.subCategories,type:r.type,place:r.place,itemType:r.targetType,badgeLabel:i}});console.log("API   (): ",t.length,""),this.displayedItems=t,console.log(`[ ]  ${this.displayedItems.length}`)}else console.error("API   .",n.data),this.allWishlistItems=[],this.displayedItems=[]}catch(n){console.error("     ",n.response?n.response.data:n.message),ct.emit("show-global-alert",{message:"     .",type:"error"}),this.allWishlistItems=[],this.displayedItems=[]}finally{this.isSearching=!1}}},created(){this.$route.query.tab===""?this.selectedTab="":this.selectedTab="",this.performSearch()}},Dce={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},Nce={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},Fce={class:"header-left",style:{flex:"1"}},kce={class:"user-like-course"},Mce={key:0,class:"text-center p-5 text-muted w-100",style:{"margin-top":"20px"}},Oce={key:1,class:"text-center p-5 text-muted w-100",sytle:"margin-top: 20px;"};function Pce(n,t,r,i,s,o){const a=Pt("PlaceCard2");return se(),ce("div",Dce,[A("div",Nce,[A("div",Fce,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...l)=>o.goBack&&o.goBack(...l))})]),t[1]||(t[1]=A("div",{class:"header-center fw-bold fs-6",style:{flex:"1","text-align":"center"}},"   ",-1)),t[2]||(t[2]=A("div",{class:"header-right",style:{flex:"1","text-align":"right"}},null,-1))]),A("div",kce,[s.isSearching?(se(),ce("div",Mce,"  ... ")):s.displayedItems.length===0?(se(),ce("div",Oce,[...t[3]||(t[3]=[A("div",null,"  .",-1)])])):(se(!0),ce(at,{key:2},Tt(s.displayedItems,l=>(se(),Kt(a,{key:l.id,item:l,iconType:"heart",onAdd:u=>o.goToDetail(l),onToggleFavorite:u=>o.handleRemoveFavorite(l),onItemClick:u=>o.handleItemClick(l)},null,8,["item","onAdd","onToggleFavorite","onItemClick"]))),128))])])}const Lce=wt(Ice,[["render",Pce],["__scopeId","data-v-3ea81970"]]),Rce={name:"NoticeView",data(){return{notices:[],loading:!0,error:null,apiBaseUrl:"https://science-book-backend-392637347057.asia-northeast3.run.app/api/admin"}},mounted(){this.fetchNotices()},methods:{async fetchNotices(){this.loading=!0,this.error=null;try{const n=await fetch(`${this.apiBaseUrl}/notices`);n.ok?(this.notices=await n.json(),this.notices.sort((t,r)=>new Date(r.createdAt)-new Date(t.createdAt))):(this.error="   .",console.error("  :",n.status))}catch(n){this.error="  .",console.error("  :",n)}finally{this.loading=!1}},goBack(){this.$router.back()},goToNoticeDetail(n){this.$router.push({name:"NoticeDetail",params:{id:n}})},formatDate(n){const t=new Date(n),r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}.${i}.${s}`}}},Bce={id:"notice-page"},Uce={class:"header-section"},Vce={class:"content-wrapper"},$ce={key:0,class:"loading-state"},jce={key:1,class:"notice-list"},zce=["onClick"],Gce={class:"notice-item-content"},Hce={class:"notice-item-title"},Wce={class:"notice-item-meta"},Xce={class:"meta-date"},qce={class:"meta-views"},Yce={key:0,class:"empty-state"},Kce={key:2,class:"alert alert-danger error-alert",role:"alert"};function Zce(n,t,r,i,s,o){return se(),ce("div",Bce,[A("div",Uce,[A("button",{class:"btn-back",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[1]||(t[1]=[A("i",{class:"bi bi-arrow-left"},null,-1)])]),t[2]||(t[2]=A("h1",{class:"header-title"},"",-1)),t[3]||(t[3]=A("div",{class:"header-spacer"},null,-1))]),A("div",Vce,[s.loading?(se(),ce("div",$ce,[...t[4]||(t[4]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"}," ...")],-1)])])):(se(),ce("div",jce,[(se(!0),ce(at,null,Tt(s.notices,a=>(se(),ce("div",{key:a.id,class:"notice-item",onClick:l=>o.goToNoticeDetail(a.id)},[A("div",Gce,[A("h2",Hce,Be(a.title),1),A("div",Wce,[A("span",Xce,Be(o.formatDate(a.createdAt)),1),t[5]||(t[5]=A("span",{class:"meta-dot"},"",-1)),A("span",qce," "+Be(a.views),1)])]),t[6]||(t[6]=A("i",{class:"bi bi-chevron-right notice-chevron"},null,-1))],8,zce))),128)),s.notices.length===0?(se(),ce("div",Yce,[...t[7]||(t[7]=[A("div",{class:"empty-icon-circle"},[A("i",{class:"bi bi-bell-slash"})],-1),A("p",null,"  .",-1)])])):rt("",!0)])),s.error?(se(),ce("div",Kce,Be(s.error),1)):rt("",!0)])])}const Jce=wt(Rce,[["render",Zce],["__scopeId","data-v-d8a37aae"]]),Qce={name:"NoticeDetailView",data(){return{notice:null,loading:!0,error:null,apiBaseUrl:"https://science-book-backend-392637347057.asia-northeast3.run.app/api/admin"}},created(){this.loadNotice()},methods:{async loadNotice(){const n=parseInt(this.$route.params.id);this.loading=!0,this.error=null;try{const t=await fetch(`${this.apiBaseUrl}/notices/${n}`);t.ok?this.notice=await t.json():t.status===404?this.error="   .":(this.error="   .",console.error("  :",t.status))}catch(t){this.error="  .",console.error("  :",t)}finally{this.loading=!1}},goBack(){this.$router.back()},formatDate(n){const t=new Date(n),r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}.${i}.${s}`}},watch:{"$route.params.id"(){this.loadNotice()}}},ehe={id:"notice-detail-page"},the={class:"header-section"},nhe={class:"content-wrapper"},rhe={key:0,class:"text-center py-5"},ihe={key:1,class:"notice-detail-container"},she={class:"notice-header-section"},ohe={class:"notice-detail-title"},ahe={class:"notice-meta-info"},lhe={class:"meta-item"},uhe={class:"meta-item"},che={class:"notice-content-section"},hhe={class:"notice-content"},fhe={key:2,class:"empty-state"},dhe={key:3,class:"alert alert-danger mt-4",role:"alert"};function phe(n,t,r,i,s,o){return se(),ce("div",ehe,[A("div",the,[A("button",{class:"btn-back",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[1]||(t[1]=[A("i",{class:"bi bi-arrow-left"},null,-1)])]),t[2]||(t[2]=A("h1",{class:"header-title"},"",-1)),t[3]||(t[3]=A("div",{class:"header-spacer"},null,-1))]),A("div",nhe,[s.loading?(se(),ce("div",rhe,[...t[4]||(t[4]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"}," ...")],-1)])])):s.notice?(se(),ce("div",ihe,[A("div",she,[A("h1",ohe,Be(s.notice.title),1),A("div",ahe,[A("div",lhe,[t[5]||(t[5]=A("i",{class:"bi bi-calendar3"},null,-1)),A("span",null,Be(o.formatDate(s.notice.createdAt)),1)]),t[7]||(t[7]=A("div",{class:"meta-divider"},null,-1)),A("div",uhe,[t[6]||(t[6]=A("i",{class:"bi bi-eye"},null,-1)),A("span",null," "+Be(s.notice.views),1)])])]),A("div",che,[A("div",hhe,Be(s.notice.content),1)])])):(se(),ce("div",fhe,[...t[8]||(t[8]=[A("i",{class:"bi bi-exclamation-circle"},null,-1),A("p",null,"   .",-1)])])),s.error?(se(),ce("div",dhe,Be(s.error),1)):rt("",!0)])])}const mhe=wt(Qce,[["render",phe],["__scopeId","data-v-6aa313a2"]]),ghe="/stamp.png",vhe={name:"StampView",setup(){const n=gi(),{currentUserId:t}=As(n),r=bc(),i=Xe(""),s=Xe(!0),o=Xe([]),a=39,l=Ut(()=>{const g=i.value===""?"exhibition":"science_place";return o.value.filter(v=>v.targetType===g)}),u=Ut(()=>a),h=Ut(()=>o.value.length),c=Ut(()=>u.value===0?0:h.value/u.value*100),f=()=>{r.back()},d=g=>{i.value=g},p=async()=>{s.value=!0;try{const g=await cn.get(`/api/stamps/user/${t.value}`);o.value=g.data.map(v=>({...v,collected:!0})),console.log("[StampView] API  (  ):",o.value)}catch(g){console.error("[StampView]     :",g),g.response&&g.response.status===401&&alert("   . (401)")}finally{s.value=!1}},m=()=>{console.log("   !"),r.push("/list")};return xr(()=>{t.value?p():(alert("  ."),r.push("/login"))}),{selectedTab:i,isLoading:s,filteredStamps:l,collectedStampsCount:h,progressPercent:c,totalStampsCount:u,Math,goBack:f,selectTab:d,goToList:m}}},yhe={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},bhe={class:"stamp-header"},xhe={class:"content-container"},_he={class:"progress-card"},whe={class:"progress-main"},Ehe={class:"progress-count"},She={class:"count-number"},Che={class:"count-total"},Ahe={class:"count-caption"},The=["aria-valuenow"],Ihe={class:"segmented-control-wrapper"},Dhe={class:"segmented-control"},Nhe={class:"stamp-grid-wrapper"},Fhe={key:0,class:"loading-spinner"},khe={key:1,class:"stamp-grid"},Mhe=["title"],Ohe={key:2,class:"empty-grid-message"};function Phe(n,t,r,i,s,o){return se(),ce("div",yhe,[A("div",bhe,[A("button",{class:"header-back-btn",type:"button",onClick:t[0]||(t[0]=(...a)=>i.goBack&&i.goBack(...a))},[...t[4]||(t[4]=[A("i",{class:"bi bi-arrow-left"},null,-1)])]),t[5]||(t[5]=A("div",{class:"header-title"}," ",-1)),t[6]||(t[6]=A("div",{class:"header-right-space"},null,-1))]),A("div",xhe,[A("div",_he,[t[7]||(t[7]=A("div",{class:"progress-chip-row"},[A("span",{class:"progress-chip"},[A("i",{class:"bi bi-patch-check-fill"}),A("span",null,"  ")])],-1)),A("div",whe,[A("div",Ehe,[A("span",She,Be(i.collectedStampsCount),1),A("span",Che,"/ "+Be(i.totalStampsCount),1)]),A("div",Ahe,"   "+Be(Math.round(i.progressPercent))+"%  ",1)]),A("div",{class:"progress-track",role:"progressbar","aria-valuenow":i.progressPercent,"aria-valuemin":"0","aria-valuemax":"100"},[A("div",{class:"progress-fill",style:Xn({width:i.progressPercent+"%"})},null,4)],8,The)]),A("div",Ihe,[A("div",Dhe,[A("button",{type:"button",class:ht(["spec-button",{active:i.selectedTab===""}]),onClick:t[1]||(t[1]=a=>i.selectTab(""))},[...t[8]||(t[8]=[A("i",{class:"bi bi-easel2-fill"},null,-1),A("span",null," ",-1)])],2),A("button",{type:"button",class:ht(["spec-button",{active:i.selectedTab===""}]),onClick:t[2]||(t[2]=a=>i.selectTab(""))},[...t[9]||(t[9]=[A("i",{class:"bi bi-binoculars-fill"},null,-1),A("span",null," ",-1)])],2)])]),A("div",Nhe,[i.isLoading?(se(),ce("div",Fhe,[...t[10]||(t[10]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"loading-text"},"   ...",-1)])])):i.filteredStamps.length>0?(se(),ce("div",khe,[(se(!0),ce(at,null,Tt(i.filteredStamps,a=>(se(),ce("div",{key:a.id,class:ht(["stamp-item",{collected:a.collected,uncollected:!a.collected}])},[A("div",{class:"stamp-name",title:a.targetName},Be(a.targetName),9,Mhe),t[11]||(t[11]=A("div",{class:"stamp-circle"},[A("img",{src:ghe,alt:"",class:"stamp-image"})],-1))],2))),128))])):(se(),ce("div",Ohe,[t[12]||(t[12]=A("i",{class:"bi bi-emoji-frown empty-icon"},null,-1)),t[13]||(t[13]=A("p",{class:"empty-text"},[At("   ! "),A("br"),At("   ? ")],-1)),A("button",{class:"btn btn-primary mt-5",onClick:t[3]||(t[3]=a=>i.goToList())},"  ")]))])])])}const Lhe=wt(vhe,[["render",Phe],["__scopeId","data-v-1d22394e"]]);window.libpannellum=(function(n,t,r){function i(c){function f(Z,G){return Z.level==1&&G.level!=1?-1:G.level==1&&Z.level!=1?1:G.timestamp-Z.timestamp}function d(Z,G){return Z.level!=G.level?Z.level-G.level:Z.diff-G.diff}function p(Z,G,ye,Q,pe,$){this.vertices=Z,this.side=G,this.level=ye,this.x=Q,this.y=pe,this.path=$.replace("%s",G).replace("%l",ye).replace("%x",Q).replace("%y",pe)}function m(Z,G,ye,Q,pe){var $,Se=G.vertices;$=x(Z,Se.slice(0,3));var re=x(Z,Se.slice(3,6)),be=x(Z,Se.slice(6,9)),Se=x(Z,Se.slice(9,12)),j=$[0]+re[0]+be[0]+Se[0];if(j==-4||j==4?$=!1:(j=$[1]+re[1]+be[1]+Se[1],$=j==-4||j==4?!1:$[2]+re[2]+be[2]+Se[2]!=4),$){for($=G.vertices,re=$[0]+$[3]+$[6]+$[9],be=$[1]+$[4]+$[7]+$[10],Se=$[2]+$[5]+$[8]+$[11],j=Math.sqrt(re*re+be*be+Se*Se),Se=Math.asin(Se/j),re=Math.atan2(be,re)-Q,re+=re>Math.PI?-2*Math.PI:re<-Math.PI?2*Math.PI:0,re=Math.abs(re),G.diff=Math.acos(Math.sin(ye)*Math.sin(Se)+Math.cos(ye)*Math.cos(Se)*Math.cos(re)),re=!1,be=0;be<E.nodeCache.length;be++)if(E.nodeCache[be].path==G.path){re=!0,E.nodeCache[be].timestamp=E.nodeCacheTimestamp++,E.nodeCache[be].diff=G.diff,E.currentNodes.push(E.nodeCache[be]);break}if(re||(G.timestamp=E.nodeCacheTimestamp++,E.currentNodes.push(G),E.nodeCache.push(G)),G.level<E.level){var Se=M.cubeResolution*Math.pow(2,G.level-M.maxLevel),re=Math.ceil(Se*M.invTileResolution)-1,be=Se%M.tileResolution*2,X=2*Se%M.tileResolution;X===0&&(X=M.tileResolution),be===0&&(be=2*M.tileResolution),j=.5,(G.x==re||G.y==re)&&(j=1-M.tileResolution/(M.tileResolution+X));var ee=1-j,Se=[],Ae=j,we=j,he=j,me=ee,_e=ee,De=ee;for(X<M.tileResolution&&(G.x==re&&G.y!=re?(_e=we=.5,(G.side=="d"||G.side=="u")&&(De=he=.5)):G.x!=re&&G.y==re&&(me=Ae=.5,G.side=="l"||G.side=="r")&&(De=he=.5)),be<=M.tileResolution&&(G.x==re&&(Ae=0,me=1,G.side=="l"||G.side=="r")&&(he=0,De=1),G.y==re&&(we=0,_e=1,G.side=="d"||G.side=="u")&&(he=0,De=1)),X=[$[0],$[1],$[2],$[0]*Ae+$[3]*me,$[1]*j+$[4]*ee,$[2]*he+$[5]*De,$[0]*Ae+$[6]*me,$[1]*we+$[7]*_e,$[2]*he+$[8]*De,$[0]*j+$[9]*ee,$[1]*we+$[10]*_e,$[2]*he+$[11]*De],X=new p(X,G.side,G.level+1,2*G.x,2*G.y,M.fullpath),Se.push(X),G.x==re&&be<=M.tileResolution||(X=[$[0]*Ae+$[3]*me,$[1]*j+$[4]*ee,$[2]*he+$[5]*De,$[3],$[4],$[5],$[3]*j+$[6]*ee,$[4]*we+$[7]*_e,$[5]*he+$[8]*De,$[0]*Ae+$[6]*me,$[1]*we+$[7]*_e,$[2]*he+$[8]*De],X=new p(X,G.side,G.level+1,2*G.x+1,2*G.y,M.fullpath),Se.push(X)),G.x==re&&be<=M.tileResolution||G.y==re&&be<=M.tileResolution||(X=[$[0]*Ae+$[6]*me,$[1]*we+$[7]*_e,$[2]*he+$[8]*De,$[3]*j+$[6]*ee,$[4]*we+$[7]*_e,$[5]*he+$[8]*De,$[6],$[7],$[8],$[9]*Ae+$[6]*me,$[10]*j+$[7]*ee,$[11]*he+$[8]*De],X=new p(X,G.side,G.level+1,2*G.x+1,2*G.y+1,M.fullpath),Se.push(X)),G.y==re&&be<=M.tileResolution||(X=[$[0]*j+$[9]*ee,$[1]*we+$[10]*_e,$[2]*he+$[11]*De,$[0]*Ae+$[6]*me,$[1]*we+$[7]*_e,$[2]*he+$[8]*De,$[9]*Ae+$[6]*me,$[10]*j+$[7]*ee,$[11]*he+$[8]*De,$[9],$[10],$[11]],X=new p(X,G.side,G.level+1,2*G.x,2*G.y+1,M.fullpath),Se.push(X)),G=0;G<Se.length;G++)m(Z,Se[G],ye,Q)}}}function g(){return[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1]}function v(Z,G,ye){var Q=Math.sin(G);if(G=Math.cos(G),ye=="x")return[Z[0],G*Z[1]+Q*Z[2],G*Z[2]-Q*Z[1],Z[3],G*Z[4]+Q*Z[5],G*Z[5]-Q*Z[4],Z[6],G*Z[7]+Q*Z[8],G*Z[8]-Q*Z[7]];if(ye=="y")return[G*Z[0]-Q*Z[2],Z[1],G*Z[2]+Q*Z[0],G*Z[3]-Q*Z[5],Z[4],G*Z[5]+Q*Z[3],G*Z[6]-Q*Z[8],Z[7],G*Z[8]+Q*Z[6]];if(ye=="z")return[G*Z[0]+Q*Z[1],G*Z[1]-Q*Z[0],Z[2],G*Z[3]+Q*Z[4],G*Z[4]-Q*Z[3],Z[5],G*Z[6]+Q*Z[7],G*Z[7]-Q*Z[6],Z[8]]}function S(Z){return[Z[0],Z[4],Z[8],Z[12],Z[1],Z[5],Z[9],Z[13],Z[2],Z[6],Z[10],Z[14],Z[3],Z[7],Z[11],Z[15]]}function y(Z){xe(Z,Z.path+"."+M.extension,function(G,ye){Z.texture=G,Z.textureLoaded=ye?2:1},J.crossOrigin)}function x(Z,G){var pe=[Z[0]*G[0]+Z[1]*G[1]+Z[2]*G[2],Z[4]*G[0]+Z[5]*G[1]+Z[6]*G[2],Z[11]+Z[8]*G[0]+Z[9]*G[1]+Z[10]*G[2],1/(Z[12]*G[0]+Z[13]*G[1]+Z[14]*G[2])],ye=pe[0]*pe[3],Q=pe[1]*pe[3],pe=pe[2]*pe[3],$=[0,0,0];return-1>ye&&($[0]=-1),1<ye&&($[0]=1),-1>Q&&($[1]=-1),1<Q&&($[1]=1),(-1>pe||1<pe)&&($[2]=1),$}function b(){console.log("Reducing canvas size due to error 1286!"),w.width=Math.round(w.width/2),w.height=Math.round(w.height/2)}var w=t.createElement("canvas");w.style.width=w.style.height="100%",c.appendChild(w);var E,_,T,C,F,k,D,N,M,U,R,W,ne,ge,te,J;this.init=function(Z,G,ye,Q,pe,$,re,be){function Se(me){if(X){var _e=me*me*4,De=new Uint8ClampedArray(_e),Le=be.backgroundColor?be.backgroundColor:[0,0,0];Le[0]*=255,Le[1]*=255,Le[2]*=255;for(var B=0;B<_e;B++)De[B++]=Le[0],De[B++]=Le[1],De[B++]=Le[2];for(me=new ImageData(De,me,me),j=0;6>j;j++)M[j].width==0&&(M[j]=me)}}if(G===r&&(G="equirectangular"),G!="equirectangular"&&G!="cubemap"&&G!="multires")throw console.log("Error: invalid image type specified!"),{type:"config error"};if(U=G,M=Z,R=ye,J=be||{},E){if(T&&(_.detachShader(E,T),_.deleteShader(T)),C&&(_.detachShader(E,C),_.deleteShader(C)),_.bindBuffer(_.ARRAY_BUFFER,null),_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,null),E.texture&&_.deleteTexture(E.texture),E.nodeCache)for(Z=0;Z<E.nodeCache.length;Z++)_.deleteTexture(E.nodeCache[Z].texture);_.deleteProgram(E),E=r}N=r;var j,X=!1,ee;if(U=="cubemap")for(j=0;6>j;j++)0<M[j].width?(ee===r&&(ee=M[j].width),ee!=M[j].width&&console.log("Cube faces have inconsistent widths: "+ee+" vs. "+M[j].width)):X=!0;if(U=="cubemap"&&(ee&ee-1)!==0&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(_||(_=w.getContext("experimental-webgl",{alpha:!1,depth:!1})),_&&_.getError()==1286&&b()),!_&&(U=="multires"&&M.hasOwnProperty("fallbackPath")||U=="cubemap")&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||navigator.appVersion.indexOf("MSIE 10")!==-1)){k&&c.removeChild(k),k=t.createElement("div"),k.className="pnlm-world",Q=M.basePath?M.basePath+M.fallbackPath:M.fallbackPath;var Ae="frblud".split(""),we=0;pe=function(){var _e=t.createElement("canvas");_e.className="pnlm-face pnlm-"+Ae[this.side]+"face",k.appendChild(_e);var De=_e.getContext("2d");_e.style.width=this.width+4+"px",_e.style.height=this.height+4+"px",_e.width=this.width+4,_e.height=this.height+4,De.drawImage(this,2,2);var Le=De.getImageData(0,0,_e.width,_e.height),B=Le.data,Ue,Oe;for(Ue=2;Ue<_e.width-2;Ue++)for(Oe=0;4>Oe;Oe++)B[4*(Ue+_e.width)+Oe]=B[4*(Ue+2*_e.width)+Oe],B[4*(Ue+_e.width*(_e.height-2))+Oe]=B[4*(Ue+_e.width*(_e.height-3))+Oe];for(Ue=2;Ue<_e.height-2;Ue++)for(Oe=0;4>Oe;Oe++)B[4*(Ue*_e.width+1)+Oe]=B[4*(Ue*_e.width+2)+Oe],B[4*((Ue+1)*_e.width-2)+Oe]=B[4*((Ue+1)*_e.width-3)+Oe];for(Oe=0;4>Oe;Oe++)B[4*(_e.width+1)+Oe]=B[4*(2*_e.width+2)+Oe],B[4*(2*_e.width-2)+Oe]=B[4*(3*_e.width-3)+Oe],B[4*(_e.width*(_e.height-2)+1)+Oe]=B[4*(_e.width*(_e.height-3)+2)+Oe],B[4*(_e.width*(_e.height-1)-2)+Oe]=B[4*(_e.width*(_e.height-2)-3)+Oe];for(Ue=1;Ue<_e.width-1;Ue++)for(Oe=0;4>Oe;Oe++)B[4*Ue+Oe]=B[4*(Ue+_e.width)+Oe],B[4*(Ue+_e.width*(_e.height-1))+Oe]=B[4*(Ue+_e.width*(_e.height-2))+Oe];for(Ue=1;Ue<_e.height-1;Ue++)for(Oe=0;4>Oe;Oe++)B[Ue*_e.width*4+Oe]=B[4*(Ue*_e.width+1)+Oe],B[4*((Ue+1)*_e.width-1)+Oe]=B[4*((Ue+1)*_e.width-2)+Oe];for(Oe=0;4>Oe;Oe++)B[Oe]=B[4*(_e.width+1)+Oe],B[4*(_e.width-1)+Oe]=B[4*(2*_e.width-2)+Oe],B[_e.width*(_e.height-1)*4+Oe]=B[4*(_e.width*(_e.height-2)+1)+Oe],B[4*(_e.width*_e.height-1)+Oe]=B[4*(_e.width*(_e.height-1)-2)+Oe];De.putImageData(Le,0,0),he.call(this)};var he=function(){0<this.width?(F===r&&(F=this.width),F!=this.width&&console.log("Fallback faces have inconsistent widths: "+F+" vs. "+this.width)):X=!0,we++,we==6&&(F=this.width,c.appendChild(k),re())},X=!1;for(j=0;6>j;j++)$=new Image,$.crossOrigin=J.crossOrigin?J.crossOrigin:"anonymous",$.side=j,$.onload=pe,$.onerror=he,$.src=U=="multires"?Q.replace("%s",Ae[j])+"."+M.extension:M[j].src;Se(F)}else{if(!_)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};for(U=="cubemap"&&Se(ee),M.fullpath=M.basePath?M.basePath+M.path:M.path,M.invTileResolution=1/M.tileResolution,Z=g(),D=[],j=0;6>j;j++)D[j]=Z.slice(12*j,12*j+12),Z=g();if(Z=0,U=="equirectangular"){if(Z=_.getParameter(_.MAX_TEXTURE_SIZE),Math.max(M.width/2,M.height)>Z)throw console.log("Error: The image is too big; it's "+M.width+"px wide, but this device's maximum supported size is "+2*Z+"px."),{type:"webgl size error",width:M.width,maxWidth:2*Z}}else if(U=="cubemap"&&ee>_.getParameter(_.MAX_CUBE_MAP_TEXTURE_SIZE))throw console.log("Error: The image is too big; it's "+ee+"px wide, but this device's maximum supported size is "+Z+"px."),{type:"webgl size error",width:ee,maxWidth:Z};if(be===r||be.horizonPitch===r&&be.horizonRoll===r||(N=[be.horizonPitch==r?0:be.horizonPitch,be.horizonRoll==r?0:be.horizonRoll]),ee=_.TEXTURE_2D,_.viewport(0,0,_.drawingBufferWidth,_.drawingBufferHeight),_.getShaderPrecisionFormat&&(G=_.getShaderPrecisionFormat(_.FRAGMENT_SHADER,_.HIGH_FLOAT))&&1>G.precision&&(a=a.replace("highp","mediump")),T=_.createShader(_.VERTEX_SHADER),G=s,U=="multires"&&(G=o),_.shaderSource(T,G),_.compileShader(T),C=_.createShader(_.FRAGMENT_SHADER),G=u,U=="cubemap"?(ee=_.TEXTURE_CUBE_MAP,G=l):U=="multires"&&(G=h),_.shaderSource(C,G),_.compileShader(C),E=_.createProgram(),_.attachShader(E,T),_.attachShader(E,C),_.linkProgram(E),_.getShaderParameter(T,_.COMPILE_STATUS)||console.log(_.getShaderInfoLog(T)),_.getShaderParameter(C,_.COMPILE_STATUS)||console.log(_.getShaderInfoLog(C)),_.getProgramParameter(E,_.LINK_STATUS)||console.log(_.getProgramInfoLog(E)),_.useProgram(E),E.drawInProgress=!1,G=be.backgroundColor?be.backgroundColor:[0,0,0],_.clearColor(G[0],G[1],G[2],1),_.clear(_.COLOR_BUFFER_BIT),E.texCoordLocation=_.getAttribLocation(E,"a_texCoord"),_.enableVertexAttribArray(E.texCoordLocation),U!="multires"?(W||(W=_.createBuffer()),_.bindBuffer(_.ARRAY_BUFFER,W),_.bufferData(_.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),_.STATIC_DRAW),_.vertexAttribPointer(E.texCoordLocation,2,_.FLOAT,!1,0,0),E.aspectRatio=_.getUniformLocation(E,"u_aspectRatio"),_.uniform1f(E.aspectRatio,_.drawingBufferWidth/_.drawingBufferHeight),E.psi=_.getUniformLocation(E,"u_psi"),E.theta=_.getUniformLocation(E,"u_theta"),E.f=_.getUniformLocation(E,"u_f"),E.h=_.getUniformLocation(E,"u_h"),E.v=_.getUniformLocation(E,"u_v"),E.vo=_.getUniformLocation(E,"u_vo"),E.rot=_.getUniformLocation(E,"u_rot"),_.uniform1f(E.h,Q/(2*Math.PI)),_.uniform1f(E.v,pe/Math.PI),_.uniform1f(E.vo,$/Math.PI*2),U=="equirectangular"&&(E.backgroundColor=_.getUniformLocation(E,"u_backgroundColor"),_.uniform4fv(E.backgroundColor,G.concat([1]))),E.texture=_.createTexture(),_.bindTexture(ee,E.texture),U=="cubemap"?(_.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[1]),_.texImage2D(_.TEXTURE_CUBE_MAP_NEGATIVE_X,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[3]),_.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_Y,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[4]),_.texImage2D(_.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[5]),_.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_Z,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[0]),_.texImage2D(_.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[2])):M.width<=Z?(_.uniform1i(_.getUniformLocation(E,"u_splitImage"),0),_.texImage2D(ee,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M)):(_.uniform1i(_.getUniformLocation(E,"u_splitImage"),1),Q=t.createElement("canvas"),Q.width=M.width/2,Q.height=M.height,Q=Q.getContext("2d"),Q.drawImage(M,0,0),pe=Q.getImageData(0,0,M.width/2,M.height),_.texImage2D(ee,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,pe),E.texture2=_.createTexture(),_.activeTexture(_.TEXTURE1),_.bindTexture(ee,E.texture2),_.uniform1i(_.getUniformLocation(E,"u_image1"),1),Q.drawImage(M,-M.width/2,0),pe=Q.getImageData(0,0,M.width/2,M.height),_.texImage2D(ee,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,pe),_.texParameteri(ee,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(ee,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(ee,_.TEXTURE_MIN_FILTER,_.LINEAR),_.texParameteri(ee,_.TEXTURE_MAG_FILTER,_.LINEAR),_.activeTexture(_.TEXTURE0)),_.texParameteri(ee,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(ee,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(ee,_.TEXTURE_MIN_FILTER,_.LINEAR),_.texParameteri(ee,_.TEXTURE_MAG_FILTER,_.LINEAR)):(E.vertPosLocation=_.getAttribLocation(E,"a_vertCoord"),_.enableVertexAttribArray(E.vertPosLocation),ne||(ne=_.createBuffer()),ge||(ge=_.createBuffer()),te||(te=_.createBuffer()),_.bindBuffer(_.ARRAY_BUFFER,ge),_.bufferData(_.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),_.STATIC_DRAW),_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,te),_.bufferData(_.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),_.STATIC_DRAW),E.perspUniform=_.getUniformLocation(E,"u_perspMatrix"),E.cubeUniform=_.getUniformLocation(E,"u_cubeMatrix"),E.level=-1,E.currentNodes=[],E.nodeCache=[],E.nodeCacheTimestamp=0),Q=_.getError(),Q!==0)throw console.log("Error: Something went wrong with WebGL!",Q),{type:"webgl error"};re()}},this.destroy=function(){if(c!==r&&(w!==r&&c.contains(w)&&c.removeChild(w),k!==r&&c.contains(k)&&c.removeChild(k)),_){var Z=_.getExtension("WEBGL_lose_context");Z&&Z.loseContext()}},this.resize=function(){var Z=n.devicePixelRatio||1;w.width=w.clientWidth*Z,w.height=w.clientHeight*Z,_&&(_.getError()==1286&&b(),_.viewport(0,0,_.drawingBufferWidth,_.drawingBufferHeight),U!="multires"&&_.uniform1f(E.aspectRatio,w.clientWidth/w.clientHeight))},this.resize(),this.setPose=function(Z,G){N=[Z,G]},this.render=function(Z,G,ye,Q){var pe,$=0;if(Q===r&&(Q={}),Q.roll&&($=Q.roll),N!==r){pe=N[0];var re=N[1],be=Z,Se=G,j=Math.cos(re)*Math.sin(Z)*Math.sin(pe)+Math.cos(Z)*(Math.cos(pe)*Math.cos(G)+Math.sin(re)*Math.sin(pe)*Math.sin(G)),X=-Math.sin(Z)*Math.sin(re)+Math.cos(Z)*Math.cos(re)*Math.sin(G);Z=Math.cos(re)*Math.cos(pe)*Math.sin(Z)+Math.cos(Z)*(-Math.cos(G)*Math.sin(pe)+Math.cos(pe)*Math.sin(re)*Math.sin(G)),Z=Math.asin(Math.max(Math.min(Z,1),-1)),G=Math.atan2(X,j),pe=[Math.cos(be)*(Math.sin(re)*Math.sin(pe)*Math.cos(Se)-Math.cos(pe)*Math.sin(Se)),Math.cos(be)*Math.cos(re)*Math.cos(Se),Math.cos(be)*(Math.cos(pe)*Math.sin(re)*Math.cos(Se)+Math.sin(Se)*Math.sin(pe))],re=[-Math.cos(Z)*Math.sin(G),Math.cos(Z)*Math.cos(G)],re=Math.acos(Math.max(Math.min((pe[0]*re[0]+pe[1]*re[1])/(Math.sqrt(pe[0]*pe[0]+pe[1]*pe[1]+pe[2]*pe[2])*Math.sqrt(re[0]*re[0]+re[1]*re[1])),1),-1)),0>pe[2]&&(re=2*Math.PI-re),$+=re}if(_||U!="multires"&&U!="cubemap"){if(U!="multires")ye=2*Math.atan(Math.tan(.5*ye)/(_.drawingBufferWidth/_.drawingBufferHeight)),ye=1/Math.tan(.5*ye),_.uniform1f(E.psi,G),_.uniform1f(E.theta,Z),_.uniform1f(E.rot,$),_.uniform1f(E.f,ye),R===!0&&U=="equirectangular"&&(_.bindTexture(_.TEXTURE_2D,E.texture),_.texImage2D(_.TEXTURE_2D,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M)),_.drawArrays(_.TRIANGLES,0,6);else{for(pe=_.drawingBufferWidth/_.drawingBufferHeight,re=2*Math.atan(Math.tan(ye/2)*_.drawingBufferHeight/_.drawingBufferWidth),re=1/Math.tan(re/2),pe=[re/pe,0,0,0,0,re,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],re=1;re<M.maxLevel&&_.drawingBufferWidth>M.tileResolution*Math.pow(2,re-1)*Math.tan(ye/2)*.707;)re++;if(E.level=re,re=[1,0,0,0,1,0,0,0,1],re=v(re,-$,"z"),re=v(re,-Z,"x"),re=v(re,G,"y"),re=[re[0],re[1],re[2],0,re[3],re[4],re[5],0,re[6],re[7],re[8],0,0,0,0,1],_.uniformMatrix4fv(E.perspUniform,!1,new Float32Array(S(pe))),_.uniformMatrix4fv(E.cubeUniform,!1,new Float32Array(S(re))),$=[pe[0]*re[0],pe[0]*re[1],pe[0]*re[2],0,pe[5]*re[4],pe[5]*re[5],pe[5]*re[6],0,pe[10]*re[8],pe[10]*re[9],pe[10]*re[10],pe[11],-re[8],-re[9],-re[10],0],E.nodeCache.sort(f),200<E.nodeCache.length&&E.nodeCache.length>E.currentNodes.length+50)for(pe=E.nodeCache.splice(200,E.nodeCache.length-200),re=0;re<pe.length;re++)_.deleteTexture(pe[re].texture);for(E.currentNodes=[],re="fbudlr".split(""),pe=0;6>pe;pe++)be=new p(D[pe],re[pe],1,0,0,M.fullpath),m($,be,Z,G);for(E.currentNodes.sort(d),Z=ae.length-1;0<=Z;Z--)E.currentNodes.indexOf(ae[Z].node)===-1&&(ae[Z].node.textureLoad=!1,ae.splice(Z,1));if(ae.length===0){for(Z=0;Z<E.currentNodes.length;Z++)if(G=E.currentNodes[Z],!G.texture&&!G.textureLoad){G.textureLoad=!0,setTimeout(y,0,G);break}}if(!E.drawInProgress){for(E.drawInProgress=!0,_.clear(_.COLOR_BUFFER_BIT),Z=0;Z<E.currentNodes.length;Z++)1<E.currentNodes[Z].textureLoaded&&(_.bindBuffer(_.ARRAY_BUFFER,ne),_.bufferData(_.ARRAY_BUFFER,new Float32Array(E.currentNodes[Z].vertices),_.STATIC_DRAW),_.vertexAttribPointer(E.vertPosLocation,3,_.FLOAT,!1,0,0),_.bindBuffer(_.ARRAY_BUFFER,ge),_.vertexAttribPointer(E.texCoordLocation,2,_.FLOAT,!1,0,0),_.bindTexture(_.TEXTURE_2D,E.currentNodes[Z].texture),_.drawElements(_.TRIANGLES,6,_.UNSIGNED_SHORT,0));E.drawInProgress=!1}}if(Q.returnImage!==r)return w.toDataURL("image/png")}else for(pe=F/2,Q={f:"translate3d(-"+(pe+2)+"px, -"+(pe+2)+"px, -"+pe+"px)",b:"translate3d("+(pe+2)+"px, -"+(pe+2)+"px, "+pe+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(pe+2)+"px, -"+pe+"px, "+(pe+2)+"px) rotateX(270deg)",d:"translate3d(-"+(pe+2)+"px, "+pe+"px, -"+(pe+2)+"px) rotateX(90deg)",l:"translate3d(-"+pe+"px, -"+(pe+2)+"px, "+(pe+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+pe+"px, -"+(pe+2)+"px, -"+(pe+2)+"px) rotateY(270deg)"},ye=1/Math.tan(ye/2),ye=ye*w.clientWidth/2+"px",G="perspective("+ye+") translateZ("+ye+") rotateX("+Z+"rad) rotateY("+G+"rad) ",ye=Object.keys(Q),Z=0;6>Z;Z++)($=k.querySelector(".pnlm-"+ye[Z]+"face"))&&($.style.webkitTransform=G+Q[ye[Z]],$.style.transform=G+Q[ye[Z]])},this.isLoading=function(){if(_&&U=="multires"){for(var Z=0;Z<E.currentNodes.length;Z++)if(!E.currentNodes[Z].textureLoaded)return!0}return!1},this.getCanvas=function(){return w};var ae=[],xe=(function(){function Z(){var re=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin=pe||"anonymous";var be=function(){if(0<re.image.width&&0<re.image.height){var Se=re.image;_.bindTexture(_.TEXTURE_2D,re.texture),_.texImage2D(_.TEXTURE_2D,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,Se),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.LINEAR),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.LINEAR),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.bindTexture(_.TEXTURE_2D,null),re.callback(re.texture,!0)}else re.callback(re.texture,!1);ae.length?(Se=ae.shift(),re.loadTexture(Se.src,Se.texture,Se.callback)):Q[ye++]=re};this.image.addEventListener("load",be),this.image.addEventListener("error",be)}function G(re,be,Se,j){this.node=re,this.src=be,this.texture=Se,this.callback=j}var ye=4,Q={},pe;Z.prototype.loadTexture=function(re,be,Se){this.texture=be,this.callback=Se,this.image.src=re};for(var $=0;$<ye;$++)Q[$]=new Z;return function(re,be,Se,j){return pe=j,j=_.createTexture(),ye?Q[--ye].loadTexture(be,j,Se):ae.push(new G(re,be,j,Se)),j}})()}var s="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",o="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",a=`precision highp float;
uniform float u_aspectRatio;
uniform float u_psi;
uniform float u_theta;
uniform float u_f;
uniform float u_h;
uniform float u_v;
uniform float u_vo;
uniform float u_rot;
const float PI = 3.14159265358979323846264;
uniform sampler2D u_image0;
uniform sampler2D u_image1;
uniform bool u_splitImage;
uniform samplerCube u_imageCube;
varying vec2 v_texCoord;
uniform vec4 u_backgroundColor;
void main() {
float x = v_texCoord.x * u_aspectRatio;
float y = v_texCoord.y;
float sinrot = sin(u_rot);
float cosrot = cos(u_rot);
float rot_x = x * cosrot - y * sinrot;
float rot_y = x * sinrot + y * cosrot;
float sintheta = sin(u_theta);
float costheta = cos(u_theta);
float a = u_f * costheta - rot_y * sintheta;
float root = sqrt(rot_x * rot_x + a * a);
float lambda = atan(rot_x / root, a / root) + u_psi;
float phi = atan((rot_y * costheta + u_f * sintheta) / root);`,l=a+`float cosphi = cos(phi);
gl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));
}`,u=a+`lambda = mod(lambda + PI, PI * 2.0) - PI;
vec2 coord = vec2(lambda / PI, phi / (PI / 2.0));
if(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)
gl_FragColor = u_backgroundColor;
else {
if(u_splitImage) {
if(coord.x < 0.0)
gl_FragColor = texture2D(u_image0, vec2((coord.x + u_h) / u_h, (-coord.y + u_v + u_vo) / (u_v * 2.0)));
else
gl_FragColor = texture2D(u_image1, vec2((coord.x + u_h) / u_h - 1.0, (-coord.y + u_v + u_vo) / (u_v * 2.0)));
} else {
gl_FragColor = texture2D(u_image0, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));
}
}
}`,h="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(c,f,d,p){return new i(c)}}})(window,document);window.pannellum=(function(n,t,r){function i(s,o){function a(){var K=t.createElement("div");if(K.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",K.getElementsByTagName("i").length==1)c();else{q=B.hfov,z=B.pitch;var le;if(B.type=="cubemap"){for(ve=[],K=0;6>K;K++)ve.push(new Image),ve[K].crossOrigin=B.crossOrigin;gt.load.lbox.style.display="block",gt.load.lbar.style.display="none"}else if(B.type=="multires")K=JSON.parse(JSON.stringify(B.multiRes)),B.basePath&&B.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(B.multiRes.basePath)?K.basePath=B.basePath+B.multiRes.basePath:B.multiRes.basePath?K.basePath=B.multiRes.basePath:B.basePath&&(K.basePath=B.basePath),ve=K;else if(B.dynamic===!0)ve=B.panorama;else{if(B.panorama===r){c(B.strings.noPanoramaError);return}ve=new Image}if(B.type=="cubemap")for(var Ee=6,Ke=function(){Ee--,Ee===0&&u()},nt=function(Oi){var Fr=t.createElement("a");Fr.href=Oi.target.src,Fr.textContent=Fr.href,c(B.strings.fileAccessError.replace("%s",Fr.outerHTML))},K=0;K<ve.length;K++)le=B.cubeMap[K],le=="null"?(console.log("Will use background instead of missing cubemap face "+K),Ke()):(B.basePath&&!l(le)&&(le=B.basePath+le),ve[K].onload=Ke,ve[K].onerror=nt,ve[K].src=me(le));else if(B.type=="multires")u();else if(le="",B.basePath&&(le=B.basePath),B.dynamic!==!0){le=l(B.panorama)?B.panorama:le+B.panorama,ve.onload=function(){n.URL.revokeObjectURL(this.src),u()};var ut=new XMLHttpRequest;ut.onloadend=function(){if(ut.status!=200){var It=t.createElement("a");It.href=le,It.textContent=It.href,c(B.strings.fileAccessError.replace("%s",It.outerHTML))}h(this.response),gt.load.msg.innerHTML=""},ut.onprogress=function(It){if(It.lengthComputable){gt.load.lbarFill.style.width=It.loaded/It.total*100+"%";var Oi,Fr;1e6<It.total?(Oi="MB",Fr=(It.loaded/1e6).toFixed(2),It=(It.total/1e6).toFixed(2)):1e3<It.total?(Oi="kB",Fr=(It.loaded/1e3).toFixed(1),It=(It.total/1e3).toFixed(1)):(Oi="B",Fr=It.loaded,It=It.total),gt.load.msg.innerHTML=Fr+" / "+It+" "+Oi}else gt.load.lbox.style.display="block",gt.load.lbar.style.display="none"};try{ut.open("GET",le,!0)}catch{c(B.strings.malformedURLError)}ut.responseType="blob",ut.setRequestHeader("Accept","image/*,*/*;q=0.9"),ut.withCredentials=B.crossOrigin==="use-credentials",ut.send()}B.draggable&&en.classList.add("pnlm-grab"),en.classList.remove("pnlm-grabbing"),He=B.dynamicUpdate===!0,B.dynamic&&He&&(ve=B.panorama,u())}}function l(K){return/^(?:[a-z]+:)?\/\//i.test(K)||K[0]=="/"||K.slice(0,5)=="blob:"}function u(){Ue||(Ue=new libpannellum.renderer(Bn)),fe||(fe=!0,lr.addEventListener("mousedown",p,!1),t.addEventListener("mousemove",v,!1),t.addEventListener("mouseup",S,!1),B.mouseZoom&&(en.addEventListener("mousewheel",T,!1),en.addEventListener("DOMMouseScroll",T,!1)),B.doubleClickZoom&&lr.addEventListener("dblclick",m,!1),s.addEventListener("mozfullscreenchange",re,!1),s.addEventListener("webkitfullscreenchange",re,!1),s.addEventListener("msfullscreenchange",re,!1),s.addEventListener("fullscreenchange",re,!1),n.addEventListener("resize",U,!1),n.addEventListener("orientationchange",U,!1),B.disableKeyboardCtrl||(s.addEventListener("keydown",C,!1),s.addEventListener("keyup",k,!1),s.addEventListener("blur",F,!1)),t.addEventListener("mouseleave",S,!1),t.documentElement.style.pointerAction===""&&t.documentElement.style.touchAction===""?(lr.addEventListener("pointerdown",w,!1),lr.addEventListener("pointermove",E,!1),lr.addEventListener("pointerup",_,!1),lr.addEventListener("pointerleave",_,!1)):(lr.addEventListener("touchstart",y,!1),lr.addEventListener("touchmove",x,!1),lr.addEventListener("touchend",b,!1)),n.navigator.pointerEnabled&&(s.style.touchAction="none")),J(),Se(B.hfov),setTimeout(function(){},500)}function h(K){var le=new FileReader;le.addEventListener("loadend",function(){var Ee=le.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var Ke=Ee.indexOf("");(0>Ke||65536<Ke)&&c(B.strings.iOS8WebGLError)}if(Ke=Ee.indexOf("<x:xmpmeta"),-1<Ke&&B.ignoreGPanoXMP!==!0){var nt=Ee.substring(Ke,Ee.indexOf("</x:xmpmeta>")+12),kr=function(xo){var ts;return 0<=nt.indexOf(xo+'="')?(ts=nt.substring(nt.indexOf(xo+'="')+xo.length+2),ts=ts.substring(0,ts.indexOf('"'))):0<=nt.indexOf(xo+">")&&(ts=nt.substring(nt.indexOf(xo+">")+xo.length+1),ts=ts.substring(0,ts.indexOf("<"))),ts!==r?Number(ts):null},Ee=kr("GPano:FullPanoWidthPixels"),Ke=kr("GPano:CroppedAreaImageWidthPixels"),ut=kr("GPano:FullPanoHeightPixels"),It=kr("GPano:CroppedAreaImageHeightPixels"),Oi=kr("GPano:CroppedAreaTopPixels"),Fr=kr("GPano:PoseHeadingDegrees"),Vr=kr("GPano:PosePitchDegrees"),kr=kr("GPano:PoseRollDegrees");Ee!==null&&Ke!==null&&ut!==null&&It!==null&&Oi!==null&&(0>je.indexOf("haov")&&(B.haov=Ke/Ee*360),0>je.indexOf("vaov")&&(B.vaov=It/ut*180),0>je.indexOf("vOffset")&&(B.vOffset=-180*((Oi+It/2)/ut-.5)),Fr!==null&&0>je.indexOf("northOffset")&&(B.northOffset=Fr,B.compass!==!1&&(B.compass=!0)),Vr!==null&&kr!==null&&(0>je.indexOf("horizonPitch")&&(B.horizonPitch=Vr),0>je.indexOf("horizonRoll")&&(B.horizonRoll=kr)))}ve.src=n.URL.createObjectURL(K)}),le.readAsBinaryString!==r?le.readAsBinaryString(K):le.readAsText(K)}function c(K){K===r&&(K=B.strings.genericWebGLError),gt.errorMsg.innerHTML="<p>"+K+"</p>",kt.load.style.display="none",gt.load.box.style.display="none",gt.errorMsg.style.display="table",ie=!0,V=r,Bn.style.display="none",De("error",K)}function f(K){var le=d(K);Nr.style.left=le.x+"px",Nr.style.top=le.y+"px",clearTimeout(f.t1),clearTimeout(f.t2),Nr.style.display="block",Nr.style.opacity=1,f.t1=setTimeout(function(){Nr.style.opacity=0},2e3),f.t2=setTimeout(function(){Nr.style.display="none"},2500),K.preventDefault()}function d(K){var le=s.getBoundingClientRect(),Ee={};return Ee.x=(K.clientX||K.pageX)-le.left,Ee.y=(K.clientY||K.pageY)-le.top,Ee}function p(K){if(K.preventDefault(),s.focus(),V&&B.draggable){var le=d(K);if(B.hotSpotDebug){var Ee=g(K);console.log("Pitch: "+Ee[0]+", Yaw: "+Ee[1]+", Center Pitch: "+B.pitch+", Center Yaw: "+B.yaw+", HFOV: "+B.hfov)}j(),Ae(),B.roll=0,Te.hfov=0,Qe=!0,We=Date.now(),ft=le.x,Ce=le.y,Pe=B.yaw,$e=B.pitch,en.classList.add("pnlm-grabbing"),en.classList.remove("pnlm-grab"),De("mousedown",K),R()}}function m(K){B.minHfov===B.hfov?Le.setHfov(q,1e3):(K=g(K),Le.lookAt(K[0],K[1],B.minHfov,1e3))}function g(K){var nt=d(K);K=Ue.getCanvas();var ut=K.clientWidth,It=K.clientHeight;K=nt.x/ut*2-1;var It=(1-nt.y/It*2)*It/ut,le=1/Math.tan(B.hfov*Math.PI/360),Ee=Math.sin(B.pitch*Math.PI/180),Ke=Math.cos(B.pitch*Math.PI/180),nt=le*Ke-It*Ee,ut=Math.sqrt(K*K+nt*nt),It=180*Math.atan((It*Ke+le*Ee)/ut)/Math.PI;return K=180*Math.atan2(K/ut,nt/ut)/Math.PI+B.yaw,-180>K&&(K+=360),180<K&&(K-=360),[It,K]}function v(K){if(Qe&&V){We=Date.now();var Ee=Ue.getCanvas(),le=Ee.clientWidth,Ee=Ee.clientHeight;K=d(K);var Ke=180*(Math.atan(ft/le*2-1)-Math.atan(K.x/le*2-1))/Math.PI*B.hfov/90+Pe;Te.yaw=(Ke-B.yaw)%360*.2,B.yaw=Ke,le=360*Math.atan(Math.tan(B.hfov/360*Math.PI)*Ee/le)/Math.PI,le=180*(Math.atan(K.y/Ee*2-1)-Math.atan(Ce/Ee*2-1))/Math.PI*le/90+$e,Te.pitch=.2*(le-B.pitch),B.pitch=le}}function S(K){Qe&&(Qe=!1,15<Date.now()-We&&(Te.pitch=Te.yaw=0),en.classList.add("pnlm-grab"),en.classList.remove("pnlm-grabbing"),We=Date.now(),De("mouseup",K))}function y(K){if(V&&B.draggable){j(),Ae(),B.roll=0,Te.hfov=0;var le=d(K.targetTouches[0]);if(ft=le.x,Ce=le.y,K.targetTouches.length==2){var Ee=d(K.targetTouches[1]);ft+=.5*(Ee.x-le.x),Ce+=.5*(Ee.y-le.y),Fe=Math.sqrt((le.x-Ee.x)*(le.x-Ee.x)+(le.y-Ee.y)*(le.y-Ee.y))}Qe=!0,We=Date.now(),Pe=B.yaw,$e=B.pitch,De("touchstart",K),R()}}function x(K){if(B.draggable&&(K.preventDefault(),V&&(We=Date.now()),Qe&&V)){var le=d(K.targetTouches[0]),Ee=le.x,Ke=le.y;K.targetTouches.length==2&&Fe!=-1&&(K=d(K.targetTouches[1]),Ee+=.5*(K.x-le.x),Ke+=.5*(K.y-le.y),le=Math.sqrt((le.x-K.x)*(le.x-K.x)+(le.y-K.y)*(le.y-K.y)),Se(B.hfov+.1*(Fe-le)),Fe=le),le=B.hfov/360*B.touchPanSpeedCoeffFactor,Ee=(ft-Ee)*le+Pe,Te.yaw=(Ee-B.yaw)%360*.2,B.yaw=Ee,Ke=(Ke-Ce)*le+$e,Te.pitch=.2*(Ke-B.pitch),B.pitch=Ke}}function b(){Qe=!1,150<Date.now()-We&&(Te.pitch=Te.yaw=0),Fe=-1,We=Date.now(),De("touchend",event)}function w(K){K.pointerType=="touch"&&V&&B.draggable&&(vi.push(K.pointerId),fr.push({clientX:K.clientX,clientY:K.clientY}),K.targetTouches=fr,y(K),K.preventDefault())}function E(K){if(K.pointerType=="touch"&&B.draggable){for(var le=0;le<vi.length;le++)if(K.pointerId==vi[le]){fr[le].clientX=K.clientX,fr[le].clientY=K.clientY,K.targetTouches=fr,x(K),K.preventDefault();break}}}function _(K){if(K.pointerType=="touch"){for(var le=!1,Ee=0;Ee<vi.length;Ee++)K.pointerId==vi[Ee]&&(vi[Ee]=r),vi[Ee]&&(le=!0);le||(vi=[],fr=[],b()),K.preventDefault()}}function T(K){V&&(B.mouseZoom!="fullscreenonly"||P)&&(K.preventDefault(),j(),We=Date.now(),K.wheelDeltaY?(Se(B.hfov-.05*K.wheelDeltaY),Te.hfov=0>K.wheelDelta?1:-1):K.wheelDelta?(Se(B.hfov-.05*K.wheelDelta),Te.hfov=0>K.wheelDelta?1:-1):K.detail&&(Se(B.hfov+1.5*K.detail),Te.hfov=0<K.detail?1:-1),R())}function C(K){j(),We=Date.now(),Ae(),B.roll=0;var le=K.which||K.keycode;0>B.capturedKeyNumbers.indexOf(le)||(K.preventDefault(),le==27?P&&$():D(le,!0))}function F(){for(var K=0;10>K;K++)Ve[K]=!1}function k(K){var le=K.which||K.keycode;0>B.capturedKeyNumbers.indexOf(le)||(K.preventDefault(),D(le,!1))}function D(K,le){var Ee=!1;switch(K){case 109:case 189:case 17:case 173:Ve[0]!=le&&(Ee=!0),Ve[0]=le;break;case 107:case 187:case 16:case 61:Ve[1]!=le&&(Ee=!0),Ve[1]=le;break;case 38:Ve[2]!=le&&(Ee=!0),Ve[2]=le;break;case 87:Ve[6]!=le&&(Ee=!0),Ve[6]=le;break;case 40:Ve[3]!=le&&(Ee=!0),Ve[3]=le;break;case 83:Ve[7]!=le&&(Ee=!0),Ve[7]=le;break;case 37:Ve[4]!=le&&(Ee=!0),Ve[4]=le;break;case 65:Ve[8]!=le&&(Ee=!0),Ve[8]=le;break;case 39:Ve[5]!=le&&(Ee=!0),Ve[5]=le;break;case 68:Ve[9]!=le&&(Ee=!0),Ve[9]=le}Ee&&le&&(Ie=typeof performance<"u"&&performance.now()?performance.now():Date.now(),R())}function N(){if(V){var K=!1,le=B.pitch,Ee=B.yaw,Ke=B.hfov,nt;nt=typeof performance<"u"&&performance.now()?performance.now():Date.now(),Ie===r&&(Ie=nt);var ut=(nt-Ie)*B.hfov/1700,ut=Math.min(ut,1);if(Ve[0]&&B.keyboardZoom===!0&&(Se(B.hfov+(.8*Te.hfov+.5)*ut),K=!0),Ve[1]&&B.keyboardZoom===!0&&(Se(B.hfov+(.8*Te.hfov-.2)*ut),K=!0),(Ve[2]||Ve[6])&&(B.pitch+=(.8*Te.pitch+.2)*ut,K=!0),(Ve[3]||Ve[7])&&(B.pitch+=(.8*Te.pitch-.2)*ut,K=!0),(Ve[4]||Ve[8])&&(B.yaw+=(.8*Te.yaw-.2)*ut,K=!0),(Ve[5]||Ve[9])&&(B.yaw+=(.8*Te.yaw+.2)*ut,K=!0),K&&(We=Date.now()),B.autoRotate){if(.001<nt-Ie){var K=(nt-Ie)/1e3,It=(Te.yaw/K*ut-.2*B.autoRotate)*K,It=(0<-B.autoRotate?1:-1)*Math.min(Math.abs(B.autoRotate*K),Math.abs(It));B.yaw+=It}B.autoRotateStopDelay&&(B.autoRotateStopDelay-=nt-Ie,0>=B.autoRotateStopDelay&&(B.autoRotateStopDelay=!1,O=B.autoRotate,B.autoRotate=0))}H.pitch&&(M("pitch"),le=B.pitch),H.yaw&&(M("yaw"),Ee=B.yaw),H.hfov&&(M("hfov"),Ke=B.hfov),0<ut&&!B.autoRotate&&(K=1-B.friction,Ve[4]||Ve[5]||Ve[8]||Ve[9]||H.yaw||(B.yaw+=Te.yaw*ut*K),Ve[2]||Ve[3]||Ve[6]||Ve[7]||H.pitch||(B.pitch+=Te.pitch*ut*K),Ve[0]||Ve[1]||H.hfov||Se(B.hfov+Te.hfov*ut*K)),Ie=nt,0<ut&&(Te.yaw=.8*Te.yaw+(B.yaw-Ee)/ut*.2,Te.pitch=.8*Te.pitch+(B.pitch-le)/ut*.2,Te.hfov=.8*Te.hfov+(B.hfov-Ke)/ut*.2,le=B.autoRotate?Math.abs(B.autoRotate):5,Te.yaw=Math.min(le,Math.max(Te.yaw,-le)),Te.pitch=Math.min(le,Math.max(Te.pitch,-le)),Te.hfov=Math.min(le,Math.max(Te.hfov,-le))),Ve[0]&&Ve[1]&&(Te.hfov=0),(Ve[2]||Ve[6])&&(Ve[3]||Ve[7])&&(Te.pitch=0),(Ve[4]||Ve[8])&&(Ve[5]||Ve[9])&&(Te.yaw=0)}}function M(K){var le=H[K],Ee=Math.min(1,Math.max((Date.now()-le.startTime)/1e3/(le.duration/1e3),0)),Ee=le.startPosition+B.animationTimingFunction(Ee)*(le.endPosition-le.startPosition);(le.endPosition>le.startPosition&&Ee>=le.endPosition||le.endPosition<le.startPosition&&Ee<=le.endPosition||le.endPosition===le.startPosition)&&(Ee=le.endPosition,Te[K]=0,delete H[K]),B[K]=Ee}function U(){re("resize")}function R(){qe||(qe=!0,W())}function W(){if(!mt)if(ne(),hn&&clearTimeout(hn),Qe||et===!0)requestAnimationFrame(W);else if(Ve[0]||Ve[1]||Ve[2]||Ve[3]||Ve[4]||Ve[5]||Ve[6]||Ve[7]||Ve[8]||Ve[9]||B.autoRotate||H.pitch||H.yaw||H.hfov||.01<Math.abs(Te.yaw)||.01<Math.abs(Te.pitch)||.01<Math.abs(Te.hfov))N(),0<=B.autoRotateInactivityDelay&&O&&Date.now()-We>B.autoRotateInactivityDelay&&!B.autoRotate&&(B.autoRotate=O,Le.lookAt(z,r,q,3e3)),requestAnimationFrame(W);else if(Ue&&(Ue.isLoading()||B.dynamic===!0&&He))requestAnimationFrame(W);else{De("animatefinished",{pitch:Le.getPitch(),yaw:Le.getYaw(),hfov:Le.getHfov()}),qe=!1,Ie=r;var K=B.autoRotateInactivityDelay-(Date.now()-We);0<K?hn=setTimeout(function(){B.autoRotate=O,Le.lookAt(z,r,q,3e3),R()},K):0<=B.autoRotateInactivityDelay&&O&&(B.autoRotate=O,Le.lookAt(z,r,q,3e3),R())}}function ne(){var K;if(V){var le=Ue.getCanvas();B.autoRotate!==!1&&(360<B.yaw?B.yaw-=360:-360>B.yaw&&(B.yaw+=360)),K=B.yaw;var Ee=0;if(B.avoidShowingBackground){var Ke=B.hfov/2,nt=180*Math.atan2(Math.tan(Ke/180*Math.PI),le.width/le.height)/Math.PI;B.vaov>B.haov?Math.min(Math.cos((B.pitch-Ke)/180*Math.PI),Math.cos((B.pitch+Ke)/180*Math.PI)):Ee=Ke*(1-Math.min(Math.cos((B.pitch-nt)/180*Math.PI),Math.cos((B.pitch+nt)/180*Math.PI)))}var Ke=B.maxYaw-B.minYaw,nt=-180,ut=180;360>Ke&&(nt=B.minYaw+B.hfov/2+Ee,ut=B.maxYaw-B.hfov/2-Ee,Ke<B.hfov&&(nt=ut=(nt+ut)/2),B.yaw=Math.max(nt,Math.min(ut,B.yaw))),B.autoRotate===!1&&(360<B.yaw?B.yaw-=360:-360>B.yaw&&(B.yaw+=360)),B.autoRotate!==!1&&K!=B.yaw&&Ie!==r&&(B.autoRotate*=-1),K=2*Math.atan(Math.tan(B.hfov/180*Math.PI*.5)/(le.width/le.height))/Math.PI*180,le=B.minPitch+K/2,Ee=B.maxPitch-K/2,B.maxPitch-B.minPitch<K&&(le=Ee=(le+Ee)/2),isNaN(le)&&(le=-90),isNaN(Ee)&&(Ee=90),B.pitch=Math.max(le,Math.min(Ee,B.pitch)),Ue.render(B.pitch*Math.PI/180,B.yaw*Math.PI/180,B.hfov*Math.PI/180,{roll:B.roll*Math.PI/180}),B.hotSpots.forEach(ye),B.compass&&(Ga.style.transform="rotate("+(-B.yaw-B.northOffset)+"deg)",Ga.style.webkitTransform="rotate("+(-B.yaw-B.northOffset)+"deg)")}}function ge(K,le,Ee,Ke){this.w=K,this.x=le,this.y=Ee,this.z=Ke}function te(K){var le;le=K.alpha;var Ee=K.beta;K=K.gamma,Ee=[Ee?Ee*Math.PI/180/2:0,K?K*Math.PI/180/2:0,le?le*Math.PI/180/2:0],le=[Math.cos(Ee[0]),Math.cos(Ee[1]),Math.cos(Ee[2])],Ee=[Math.sin(Ee[0]),Math.sin(Ee[1]),Math.sin(Ee[2])],le=new ge(le[0]*le[1]*le[2]-Ee[0]*Ee[1]*Ee[2],Ee[0]*le[1]*le[2]-le[0]*Ee[1]*Ee[2],le[0]*Ee[1]*le[2]+Ee[0]*le[1]*Ee[2],le[0]*le[1]*Ee[2]+Ee[0]*Ee[1]*le[2]),le=le.multiply(new ge(Math.sqrt(.5),-Math.sqrt(.5),0,0)),Ee=n.orientation?-n.orientation*Math.PI/180/2:0,le=le.multiply(new ge(Math.cos(Ee),0,-Math.sin(Ee),0)).toEulerAngles(),typeof et=="number"&&10>et?et+=1:et===10?(vt=le[2]/Math.PI*180+B.yaw,et=!0,requestAnimationFrame(W)):(B.pitch=le[0]/Math.PI*180,B.roll=-le[1]/Math.PI*180,B.yaw=-le[2]/Math.PI*180+vt)}function J(){try{var K={};B.horizonPitch!==r&&(K.horizonPitch=B.horizonPitch*Math.PI/180),B.horizonRoll!==r&&(K.horizonRoll=B.horizonRoll*Math.PI/180),B.backgroundColor!==r&&(K.backgroundColor=B.backgroundColor),Ue.init(ve,B.type,B.dynamic,B.haov*Math.PI/180,B.vaov*Math.PI/180,B.vOffset*Math.PI/180,ae,K),B.dynamic!==!0&&(ve=r)}catch(le){if(le.type=="webgl error"||le.type=="no webgl")c();else if(le.type=="webgl size error")c(B.strings.textureSizeError.replace("%s",le.width).replace("%s",le.maxWidth));else throw c(B.strings.unknownError),le}}function ae(){if(B.sceneFadeDuration&&Ue.fadeImg!==r){Ue.fadeImg.style.opacity=0;var K=Ue.fadeImg;delete Ue.fadeImg,setTimeout(function(){Bn.removeChild(K),De("scenechangefadedone")},B.sceneFadeDuration)}Ga.style.display=B.compass?"inline":"none",Z(),gt.load.box.style.display="none",Oe!==r&&(Bn.removeChild(Oe),Oe=r),V=!0,De("load"),R()}function xe(K){K.pitch=Number(K.pitch)||0,K.yaw=Number(K.yaw)||0;var le=t.createElement("div");le.className="pnlm-hotspot-base",le.className=K.cssClass?le.className+(" "+K.cssClass):le.className+(" pnlm-hotspot pnlm-sprite pnlm-"+he(K.type));var Ee=t.createElement("span");K.text&&(Ee.innerHTML=he(K.text));var Ke;if(K.video){Ke=t.createElement("video");var nt=K.video;B.basePath&&!l(nt)&&(nt=B.basePath+nt),Ke.src=me(nt),Ke.controls=!0,Ke.style.width=K.width+"px",Bn.appendChild(le),Ee.appendChild(Ke)}else if(K.image){nt=K.image,B.basePath&&!l(nt)&&(nt=B.basePath+nt),Ke=t.createElement("a"),Ke.href=me(K.URL?K.URL:nt,!0),Ke.target="_blank",Ee.appendChild(Ke);var ut=t.createElement("img");ut.src=me(nt),ut.style.width=K.width+"px",ut.style.paddingTop="5px",Bn.appendChild(le),Ke.appendChild(ut),Ee.style.maxWidth="initial"}else if(K.URL){if(Ke=t.createElement("a"),Ke.href=me(K.URL,!0),K.attributes)for(nt in K.attributes)Ke.setAttribute(nt,K.attributes[nt]);else Ke.target="_blank";Bn.appendChild(Ke),le.className+=" pnlm-pointer",Ee.className+=" pnlm-pointer",Ke.appendChild(le)}else K.sceneId&&(le.onclick=le.ontouchend=function(){return le.clicked||(le.clicked=!0,ee(K.sceneId,K.targetPitch,K.targetYaw,K.targetHfov)),!1},le.className+=" pnlm-pointer",Ee.className+=" pnlm-pointer"),Bn.appendChild(le);K.createTooltipFunc?K.createTooltipFunc(le,K.createTooltipArgs):(K.text||K.video||K.image)&&(le.classList.add("pnlm-tooltip"),le.appendChild(Ee),Ee.style.width=Ee.scrollWidth-20+"px",Ee.style.marginLeft=-(Ee.scrollWidth-le.offsetWidth)/2+"px",Ee.style.marginTop=-Ee.scrollHeight-12+"px"),K.clickHandlerFunc&&(le.addEventListener("click",function(It){K.clickHandlerFunc(It,K.clickHandlerArgs)},"false"),le.className+=" pnlm-pointer",Ee.className+=" pnlm-pointer"),K.div=le}function Z(){tt||(B.hotSpots?(B.hotSpots=B.hotSpots.sort(function(K,le){return K.pitch<le.pitch}),B.hotSpots.forEach(xe)):B.hotSpots=[],tt=!0,B.hotSpots.forEach(ye))}function G(){var K=B.hotSpots;if(tt=!1,delete B.hotSpots,K)for(var le=0;le<K.length;le++){var Ee=K[le].div;if(Ee){for(;Ee.parentNode&&Ee.parentNode!=Bn;)Ee=Ee.parentNode;Bn.removeChild(Ee)}delete K[le].div}}function ye(K){var le=Math.sin(K.pitch*Math.PI/180),Ee=Math.cos(K.pitch*Math.PI/180),Ke=Math.sin(B.pitch*Math.PI/180),nt=Math.cos(B.pitch*Math.PI/180),ut=Math.cos((-K.yaw+B.yaw)*Math.PI/180),It=le*Ke+Ee*ut*nt;if(90>=K.yaw&&-90<K.yaw&&0>=It||(90<K.yaw||-90>=K.yaw)&&0>=It)K.div.style.visibility="hidden";else{var Oi=Math.sin((-K.yaw+B.yaw)*Math.PI/180),Fr=Math.tan(B.hfov*Math.PI/360);K.div.style.visibility="visible";var kr=Ue.getCanvas(),Vr=kr.clientWidth,kr=kr.clientHeight,le=[-Vr/Fr*Oi*Ee/It/2,-Vr/Fr*(le*nt-Ee*ut*Ke)/It/2],Ee=Math.sin(B.roll*Math.PI/180),Ke=Math.cos(B.roll*Math.PI/180),le=[le[0]*Ke-le[1]*Ee,le[0]*Ee+le[1]*Ke];le[0]+=(Vr-K.div.offsetWidth)/2,le[1]+=(kr-K.div.offsetHeight)/2,Vr="translate("+le[0]+"px, "+le[1]+"px) translateZ(9999px) rotate("+B.roll+"deg)",K.scale&&(Vr+=" scale("+q/B.hfov/It+")"),K.div.style.webkitTransform=Vr,K.div.style.MozTransform=Vr,K.div.style.transform=Vr}}function Q(K){B={};var le,Ee,Ke="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");je=[];for(le in Qt)Qt.hasOwnProperty(le)&&(B[le]=Qt[le]);for(le in o.default)if(o.default.hasOwnProperty(le))if(le=="strings")for(Ee in o.default.strings)o.default.strings.hasOwnProperty(Ee)&&(B.strings[Ee]=he(o.default.strings[Ee]));else B[le]=o.default[le],0<=Ke.indexOf(le)&&je.push(le);if(K!==null&&K!==""&&o.scenes&&o.scenes[K]){var nt=o.scenes[K];for(le in nt)if(nt.hasOwnProperty(le))if(le=="strings")for(Ee in nt.strings)nt.strings.hasOwnProperty(Ee)&&(B.strings[Ee]=he(nt.strings[Ee]));else B[le]=nt[le],0<=Ke.indexOf(le)&&je.push(le);B.scene=K}for(le in o)if(o.hasOwnProperty(le))if(le=="strings")for(Ee in o.strings)o.strings.hasOwnProperty(Ee)&&(B.strings[Ee]=he(o.strings[Ee]));else B[le]=o[le],0<=Ke.indexOf(le)&&je.push(le)}function pe(K){if((K=K||!1)&&"preview"in B){var le=B.preview;B.basePath&&!l(le)&&(le=B.basePath+le),Oe=t.createElement("div"),Oe.className="pnlm-preview-img",Oe.style.backgroundImage="url('"+me(le).replace(/"/g,"%22").replace(/'/g,"%27")+"')",Bn.appendChild(Oe)}var le=B.title,Ee=B.author;K&&("previewTitle"in B&&(B.title=B.previewTitle),"previewAuthor"in B&&(B.author=B.previewAuthor)),B.hasOwnProperty("title")||(gt.title.innerHTML=""),B.hasOwnProperty("author")||(gt.author.innerHTML=""),B.hasOwnProperty("title")||B.hasOwnProperty("author")||(gt.container.style.display="none"),kt.load.innerHTML="<p>"+B.strings.loadButtonLabel+"</p>",gt.load.boxp.innerHTML=B.strings.loadingLabel;for(var Ke in B)if(B.hasOwnProperty(Ke))switch(Ke){case"title":gt.title.innerHTML=he(B[Ke]),gt.container.style.display="inline";break;case"author":var nt=he(B[Ke]);B.authorURL&&(nt=t.createElement("a"),nt.href=me(B.authorURL,!0),nt.target="_blank",nt.innerHTML=he(B[Ke]),nt=nt.outerHTML),gt.author.innerHTML=B.strings.bylineLabel.replace("%s",nt),gt.container.style.display="inline";break;case"fallback":nt=t.createElement("a"),nt.href=me(B[Ke],!0),nt.target="_blank",nt.textContent="Click here to view this panorama in an alternative viewer.";var ut=t.createElement("p");ut.textContent="Your browser does not support WebGL.",ut.appendChild(t.createElement("br")),ut.appendChild(nt),gt.errorMsg.innerHTML="",gt.errorMsg.appendChild(ut);break;case"hfov":Se(Number(B[Ke]));break;case"autoLoad":B[Ke]===!0&&Ue===r&&(gt.load.box.style.display="inline",kt.load.style.display="none",a());break;case"showZoomCtrl":kt.zoom.style.display=B[Ke]&&B.showControls!=!1?"block":"none";break;case"showFullscreenCtrl":kt.fullscreen.style.display=B[Ke]&&B.showControls!=!1&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?"block":"none";break;case"hotSpotDebug":ei.style.display=B[Ke]?"block":"none";break;case"showControls":B[Ke]||(kt.orientation.style.display="none",kt.zoom.style.display="none",kt.fullscreen.style.display="none");break;case"orientationOnByDefault":B[Ke]&&we()}K&&(le?B.title=le:delete B.title,Ee?B.author=Ee:delete B.author)}function $(){if(V&&!ie)if(P)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.msRequestFullscreen?s.msRequestFullscreen():s.webkitRequestFullScreen()}catch{}}function re(K){t.fullscreenElement||t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(kt.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),P=!0):(kt.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),P=!1),K!=="resize"&&De("fullscreenchange",P),Ue.resize(),Se(B.hfov),R()}function be(K){var le=B.minHfov;if(B.type=="multires"&&Ue&&!B.multiResMinHfov&&(le=Math.min(le,Ue.getCanvas().width/(B.multiRes.cubeResolution/90*.9))),le>B.maxHfov)return console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),B.hfov;var Ee=B.hfov,Ee=K<le?le:K>B.maxHfov?B.maxHfov:K;return B.avoidShowingBackground&&Ue&&(K=Ue.getCanvas(),Ee=Math.min(Ee,360*Math.atan(Math.tan((B.maxPitch-B.minPitch)/360*Math.PI)/K.height*K.width)/Math.PI)),Ee}function Se(K){B.hfov=be(K),De("zoomchange",B.hfov)}function j(){H={},O=B.autoRotate?B.autoRotate:O,B.autoRotate=!1}function X(){ie&&(gt.load.box.style.display="none",gt.errorMsg.style.display="none",ie=!1,Bn.style.display="block",De("errorcleared")),V=!1,kt.load.style.display="none",gt.load.box.style.display="inline",a()}function ee(K,le,Ee,Ke,nt){V||(nt=!0),V=!1,H={};var ut,It;if(B.sceneFadeDuration&&!nt&&(ut=Ue.render(B.pitch*Math.PI/180,B.yaw*Math.PI/180,B.hfov*Math.PI/180,{returnImage:!0}),ut!==r)){nt=new Image,nt.className="pnlm-fade-img",nt.style.transition="opacity "+B.sceneFadeDuration/1e3+"s",nt.style.width="100%",nt.style.height="100%",nt.onload=function(){ee(K,le,Ee,Ke,!0)},nt.src=ut,Bn.appendChild(nt),Ue.fadeImg=nt;return}nt=le==="same"?B.pitch:le,ut=Ee==="same"?B.yaw:Ee==="sameAzimuth"?B.yaw+(B.northOffset||0)-(o.scenes[K].northOffset||0):Ee,It=Ke==="same"?B.hfov:Ke,G(),Q(K),Te.yaw=Te.pitch=Te.hfov=0,pe(),nt!==r&&(B.pitch=nt),ut!==r&&(B.yaw=ut),It!==r&&(B.hfov=It),De("scenechange",K),X()}function Ae(){n.removeEventListener("deviceorientation",te),kt.orientation.classList.remove("pnlm-orientation-button-active"),et=!1}function we(){typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(K){K=="granted"&&(et=1,n.addEventListener("deviceorientation",te),kt.orientation.classList.add("pnlm-orientation-button-active"))}):(et=1,n.addEventListener("deviceorientation",te),kt.orientation.classList.add("pnlm-orientation-button-active"))}function he(K){return o.escapeHTML?String(K).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split(`
`).join("<br>"):String(K).split(`
`).join("<br>")}function me(K,le){try{var Ee=decodeURIComponent(_e(K)).replace(/[^\w:]/g,"").toLowerCase()}catch{return"about:blank"}return Ee.indexOf("javascript:")===0||Ee.indexOf("vbscript:")===0?(console.log("Script URL removed."),"about:blank"):le&&Ee.indexOf("data:")===0?(console.log("Data URI removed from link."),"about:blank"):K}function _e(K){return K.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(le,Ee){return Ee=Ee.toLowerCase(),Ee==="colon"?":":Ee.charAt(0)==="#"?Ee.charAt(1)==="x"?String.fromCharCode(parseInt(Ee.substring(2),16)):String.fromCharCode(+Ee.substring(1)):""})}function De(K){if(K in de)for(var le=de[K].length;0<le;le--)de[K][de[K].length-le].apply(null,[].slice.call(arguments,1))}var Le=this,B,Ue,Oe,Qe=!1,We=Date.now(),ft=0,Ce=0,Fe=-1,Pe=0,$e=0,Ve=Array(10),P=!1,V,ie=!1,fe=!1,ve,Ie,Te={yaw:0,pitch:0,hfov:0},qe=!1,et=!1,vt=0,hn,O=0,q,z,H={},de={},je=[],He=!1,tt=!1,mt=!1,Qt={hfov:100,minHfov:50,multiResMinHfov:!1,maxHfov:120,pitch:0,minPitch:r,maxPitch:r,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:r,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,dynamicUpdate:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],avoidShowingBackground:!1,animationTimingFunction:function(K){return .5>K?2*K*K:-1+(4-2*K)*K},draggable:!0,disableKeyboardCtrl:!1,crossOrigin:"anonymous",touchPanSpeedCoeffFactor:1,capturedKeyNumbers:[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189],friction:.15,strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."}};s=typeof s=="string"?t.getElementById(s):s,s.classList.add("pnlm-container"),s.tabIndex=0;var en=t.createElement("div");en.className="pnlm-ui",s.appendChild(en);var Bn=t.createElement("div");Bn.className="pnlm-render-container",s.appendChild(Bn);var lr=t.createElement("div");lr.className="pnlm-dragfix",en.appendChild(lr);var Nr=t.createElement("span");Nr.className="pnlm-about-msg",Nr.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.5.6',en.appendChild(Nr),lr.addEventListener("contextmenu",f);var gt={},ei=t.createElement("div");ei.className="pnlm-sprite pnlm-hot-spot-debug-indicator",en.appendChild(ei),gt.container=t.createElement("div"),gt.container.className="pnlm-panorama-info",gt.title=t.createElement("div"),gt.title.className="pnlm-title-box",gt.container.appendChild(gt.title),gt.author=t.createElement("div"),gt.author.className="pnlm-author-box",gt.container.appendChild(gt.author),en.appendChild(gt.container),gt.load={},gt.load.box=t.createElement("div"),gt.load.box.className="pnlm-load-box",gt.load.boxp=t.createElement("p"),gt.load.box.appendChild(gt.load.boxp),gt.load.lbox=t.createElement("div"),gt.load.lbox.className="pnlm-lbox",gt.load.lbox.innerHTML='<div class="pnlm-loading"></div>',gt.load.box.appendChild(gt.load.lbox),gt.load.lbar=t.createElement("div"),gt.load.lbar.className="pnlm-lbar",gt.load.lbarFill=t.createElement("div"),gt.load.lbarFill.className="pnlm-lbar-fill",gt.load.lbar.appendChild(gt.load.lbarFill),gt.load.box.appendChild(gt.load.lbar),gt.load.msg=t.createElement("p"),gt.load.msg.className="pnlm-lmsg",gt.load.box.appendChild(gt.load.msg),en.appendChild(gt.load.box),gt.errorMsg=t.createElement("div"),gt.errorMsg.className="pnlm-error-msg pnlm-info-box",en.appendChild(gt.errorMsg);var kt={};kt.container=t.createElement("div"),kt.container.className="pnlm-controls-container",en.appendChild(kt.container),kt.load=t.createElement("div"),kt.load.className="pnlm-load-button",kt.load.addEventListener("click",function(){pe(),X()}),en.appendChild(kt.load),kt.zoom=t.createElement("div"),kt.zoom.className="pnlm-zoom-controls pnlm-controls",kt.zoomIn=t.createElement("div"),kt.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",kt.zoomIn.addEventListener("click",function(){V&&(Se(B.hfov-5),R())}),kt.zoom.appendChild(kt.zoomIn),kt.zoomOut=t.createElement("div"),kt.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",kt.zoomOut.addEventListener("click",function(){V&&(Se(B.hfov+5),R())}),kt.zoom.appendChild(kt.zoomOut),kt.container.appendChild(kt.zoom),kt.fullscreen=t.createElement("div"),kt.fullscreen.addEventListener("click",$),kt.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&kt.container.appendChild(kt.fullscreen),kt.orientation=t.createElement("div"),kt.orientation.addEventListener("click",function(K){et?Ae():we()}),kt.orientation.addEventListener("mousedown",function(K){K.stopPropagation()}),kt.orientation.addEventListener("touchstart",function(K){K.stopPropagation()}),kt.orientation.addEventListener("pointerdown",function(K){K.stopPropagation()}),kt.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var Nc=!1;n.DeviceOrientationEvent&&location.protocol=="https:"&&0<=navigator.userAgent.toLowerCase().indexOf("mobi")&&(kt.container.appendChild(kt.orientation),Nc=!0);var Ga=t.createElement("div");Ga.className="pnlm-compass pnlm-controls pnlm-control",en.appendChild(Ga),o.firstScene?Q(o.firstScene):o.default&&o.default.firstScene?Q(o.default.firstScene):Q(null),pe(!0);var vi=[],fr=[];ge.prototype.multiply=function(K){return new ge(this.w*K.w-this.x*K.x-this.y*K.y-this.z*K.z,this.x*K.w+this.w*K.x+this.y*K.z-this.z*K.y,this.y*K.w+this.w*K.y+this.z*K.x-this.x*K.z,this.z*K.w+this.w*K.z+this.x*K.y-this.y*K.x)},ge.prototype.toEulerAngles=function(){var K=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),le=Math.asin(2*(this.w*this.y-this.z*this.x)),Ee=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z));return[K,le,Ee]},this.isLoaded=function(){return!!V},this.getPitch=function(){return B.pitch},this.setPitch=function(K,le,Ee,Ke){return We=Date.now(),1e-6>=Math.abs(K-B.pitch)?(typeof Ee=="function"&&Ee(Ke),this):((le=le==r?1e3:Number(le))?(H.pitch={startTime:Date.now(),startPosition:B.pitch,endPosition:K,duration:le},typeof Ee=="function"&&setTimeout(function(){Ee(Ke)},le)):B.pitch=K,R(),this)},this.getPitchBounds=function(){return[B.minPitch,B.maxPitch]},this.setPitchBounds=function(K){return B.minPitch=Math.max(-90,Math.min(K[0],90)),B.maxPitch=Math.max(-90,Math.min(K[1],90)),this},this.getYaw=function(){return(B.yaw+540)%360-180},this.setYaw=function(K,le,Ee,Ke){return We=Date.now(),1e-6>=Math.abs(K-B.yaw)?(typeof Ee=="function"&&Ee(Ke),this):(le=le==r?1e3:Number(le),K=(K+180)%360-180,le?(180<B.yaw-K?K+=360:180<K-B.yaw&&(K-=360),H.yaw={startTime:Date.now(),startPosition:B.yaw,endPosition:K,duration:le},typeof Ee=="function"&&setTimeout(function(){Ee(Ke)},le)):B.yaw=K,R(),this)},this.getYawBounds=function(){return[B.minYaw,B.maxYaw]},this.setYawBounds=function(K){return B.minYaw=Math.max(-360,Math.min(K[0],360)),B.maxYaw=Math.max(-360,Math.min(K[1],360)),this},this.getHfov=function(){return B.hfov},this.setHfov=function(K,le,Ee,Ke){return We=Date.now(),1e-6>=Math.abs(K-B.hfov)?(typeof Ee=="function"&&Ee(Ke),this):((le=le==r?1e3:Number(le))?(H.hfov={startTime:Date.now(),startPosition:B.hfov,endPosition:be(K),duration:le},typeof Ee=="function"&&setTimeout(function(){Ee(Ke)},le)):Se(K),R(),this)},this.getHfovBounds=function(){return[B.minHfov,B.maxHfov]},this.setHfovBounds=function(K){return B.minHfov=Math.max(0,K[0]),B.maxHfov=Math.max(0,K[1]),this},this.lookAt=function(K,le,Ee,Ke,nt,ut){return Ke=Ke==r?1e3:Number(Ke),K!==r&&1e-6<Math.abs(K-B.pitch)&&(this.setPitch(K,Ke,nt,ut),nt=r),le!==r&&1e-6<Math.abs(le-B.yaw)&&(this.setYaw(le,Ke,nt,ut),nt=r),Ee!==r&&1e-6<Math.abs(Ee-B.hfov)&&(this.setHfov(Ee,Ke,nt,ut),nt=r),typeof nt=="function"&&nt(ut),this},this.getNorthOffset=function(){return B.northOffset},this.setNorthOffset=function(K){return B.northOffset=Math.min(360,Math.max(0,K)),R(),this},this.getHorizonRoll=function(){return B.horizonRoll},this.setHorizonRoll=function(K){return B.horizonRoll=Math.min(90,Math.max(-90,K)),Ue.setPose(B.horizonPitch*Math.PI/180,B.horizonRoll*Math.PI/180),R(),this},this.getHorizonPitch=function(){return B.horizonPitch},this.setHorizonPitch=function(K){return B.horizonPitch=Math.min(90,Math.max(-90,K)),Ue.setPose(B.horizonPitch*Math.PI/180,B.horizonRoll*Math.PI/180),R(),this},this.startAutoRotate=function(K,le){return K=K||O||1,le=le===r?z:le,B.autoRotate=K,Le.lookAt(le,r,q,3e3),R(),this},this.stopAutoRotate=function(){return O=B.autoRotate?B.autoRotate:O,B.autoRotate=!1,B.autoRotateInactivityDelay=-1,this},this.stopMovement=function(){j(),Te={yaw:0,pitch:0,hfov:0}},this.getRenderer=function(){return Ue},this.setUpdate=function(K){return He=K===!0,Ue===r?u():R(),this},this.mouseEventToCoords=function(K){return g(K)},this.loadScene=function(K,le,Ee,Ke){return V!==!1&&ee(K,le,Ee,Ke),this},this.getScene=function(){return B.scene},this.addScene=function(K,le){return o.scenes[K]=le,this},this.removeScene=function(K){return B.scene===K||!o.scenes.hasOwnProperty(K)?!1:(delete o.scenes[K],!0)},this.toggleFullscreen=function(){return $(),this},this.getConfig=function(){return B},this.getContainer=function(){return s},this.addHotSpot=function(K,le){if(le===r&&B.scene===r)B.hotSpots.push(K);else{var Ee=le!==r?le:B.scene;if(o.scenes.hasOwnProperty(Ee))o.scenes[Ee].hasOwnProperty("hotSpots")||(o.scenes[Ee].hotSpots=[],Ee==B.scene&&(B.hotSpots=o.scenes[Ee].hotSpots)),o.scenes[Ee].hotSpots.push(K);else throw"Invalid scene ID!"}return(le===r||B.scene==le)&&(xe(K),V&&ye(K)),this},this.removeHotSpot=function(K,le){if(le===r||B.scene==le){if(!B.hotSpots)return!1;for(var Ee=0;Ee<B.hotSpots.length;Ee++)if(B.hotSpots[Ee].hasOwnProperty("id")&&B.hotSpots[Ee].id===K){for(var Ke=B.hotSpots[Ee].div;Ke.parentNode!=Bn;)Ke=Ke.parentNode;return Bn.removeChild(Ke),delete B.hotSpots[Ee].div,B.hotSpots.splice(Ee,1),!0}}else if(o.scenes.hasOwnProperty(le)){if(!o.scenes[le].hasOwnProperty("hotSpots"))return!1;for(Ee=0;Ee<o.scenes[le].hotSpots.length;Ee++)if(o.scenes[le].hotSpots[Ee].hasOwnProperty("id")&&o.scenes[le].hotSpots[Ee].id===K)return o.scenes[le].hotSpots.splice(Ee,1),!0}else return!1},this.resize=function(){Ue&&U()},this.isLoaded=function(){return V},this.isOrientationSupported=function(){return Nc||!1},this.stopOrientation=function(){Ae()},this.startOrientation=function(){Nc&&we()},this.isOrientationActive=function(){return!!et},this.on=function(K,le){return de[K]=de[K]||[],de[K].push(le),this},this.off=function(K,le){if(!K)return de={},this;if(le){var Ee=de[K].indexOf(le);0<=Ee&&de[K].splice(Ee,1),de[K].length==0&&delete de[K]}else delete de[K];return this},this.destroy=function(){mt=!0,clearTimeout(hn),Ue&&Ue.destroy(),fe&&(t.removeEventListener("mousemove",v,!1),t.removeEventListener("mouseup",S,!1),s.removeEventListener("mozfullscreenchange",re,!1),s.removeEventListener("webkitfullscreenchange",re,!1),s.removeEventListener("msfullscreenchange",re,!1),s.removeEventListener("fullscreenchange",re,!1),n.removeEventListener("resize",U,!1),n.removeEventListener("orientationchange",U,!1),s.removeEventListener("keydown",C,!1),s.removeEventListener("keyup",k,!1),s.removeEventListener("blur",F,!1),t.removeEventListener("mouseleave",S,!1)),s.innerHTML="",s.classList.remove("pnlm-container")}}return{viewer:function(s,o){return new i(s,o)}}})(window,document);const Rhe={__name:"VirtualTour",props:{config:{type:Object,required:!0}},emits:["scene-changed","hotspot-click"],setup(n,{expose:t,emit:r}){const i=n,s=r,o=Xe(null),a=Xe(null);function l(h){const c=typeof structuredClone=="function"?structuredClone(h):JSON.parse(JSON.stringify(h)),f=c.scenes||{};return Object.keys(f).forEach(d=>{(f[d].hotSpots||[]).forEach(m=>{m.type==="scene"&&(m.cssClass=((m.cssClass||"")+" nav-hotspot").trim(),m.createTooltipArgs={text:m.text},m.createTooltipFunc=function(g,v){g.classList.add("nh-wrap"),g.innerHTML=`
            <div class="nh-btn" role="button" aria-label="${(v?.text||"").replace(/"/g,"&quot;")}">
              <span class="nh-icon"></span>
              ${v?.text?`<span class="nh-chip">${v.text}</span>`:""}
            </div>
          `}),m.type==="info"&&(m.clickHandlerFunc=g=>{console.log("[VirtualTour] Info Hotspot Clicked (Handler):",m),s("hotspot-click",{hotspot:m})})})}),c}function u(){o.value?.resize()}return xr(()=>{if(!a.value)return;const h=l(i.config);o.value=window.pannellum.viewer(a.value,h),o.value.on("load",()=>{const c=o.value.getScene();s("scene-changed",c)}),window.addEventListener("resize",u)}),t({loadScene(h){o.value?.loadScene(h)}}),ru(()=>{window.removeEventListener("resize",u),o.value&&(o.value.destroy(),o.value=null)}),(h,c)=>(se(),ce("div",{id:"panorama-container",ref_key:"panoramaContainer",ref:a},null,512))}},Bhe={class:"tour-page-layout"},Uhe={class:"main-content"},Vhe={__name:"TourView",setup(n){const t=Xe(null),r=bc(),i=Xe([]);try{const c=sessionStorage.getItem("pdv:courseCacheKey");if(c){const f=sessionStorage.getItem(c);if(f){const d=JSON.parse(f);d&&Array.isArray(d.items)&&(i.value=d.items)}}}catch(c){console.error("     :",c),i.value=[]}console.log("  (TourView) ()   :",i.value);const s=Ut(()=>{console.log("    . :",i.value);const c=Qae(i.value),f=new Set(i.value.map(m=>m.sceneId).filter(Boolean)),d=i.value.map(m=>m.sceneId).find(m=>f.has(m)),p={...c,default:{...c.default,firstScene:d||c.default.firstScene}};return console.log("       :",p),p}),o=Xe(s.value.default.firstScene);function a(c){o.value=c,console.log(" [TourView]  :",c)}function l({hotspot:c}){if(!(c?.text||"").includes("  "))return;sessionStorage.setItem("pdv:returnFromTour","1");const d=sessionStorage.getItem("pdv:returnTo");if(d){const{type:p,id:m,query:g}=JSON.parse(d),v=p==="science_place"?"PlaceDetail":"ExhibitionDetail";r.replace({name:v,params:{id:m},query:g})}else r.replace({name:"Home"})}function u(){r.back()}const h=Ut(()=>!i.value||i.value.length===0?!1:i.value.some(c=>c.sceneId&&c.sceneId.endsWith("_entrance")));return Ut(()=>{const c=o.value||"";return h.value?c.startsWith("hall_1")?(console.log(" [TourView] activeZone  ( ): hall_1_entrance"),"hall_1_entrance"):c.startsWith("hall_2")?(console.log(" [TourView] activeZone  ( ): hall_2_entrance"),"hall_2_entrance"):c.startsWith("hall_3")?(console.log(" [TourView] activeZone  ( ): hall_3_entrance"),"hall_3_entrance"):(console.log(" [TourView] activeZone  ( ): (  )"),""):(console.log(` [TourView] activeZone  ( ): ${c}`),c)}),(c,f)=>(se(),ce("div",Bhe,[A("div",{class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},[A("div",{class:"header-left",style:{flex:"1"}},[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:u})]),f[0]||(f[0]=A("div",{class:"header-center fw-bold fs-6",style:{flex:"1","text-align":"center"}},"   ",-1)),f[1]||(f[1]=A("div",{class:"header-right",style:{flex:"1"}},null,-1))]),A("div",Uhe,[lt(Rhe,{ref_key:"virtualTourRef",ref:t,config:s.value,onSceneChanged:a,onHotspotClick:l},null,8,["config"])])]))}},$he=wt(Vhe,[["__scopeId","data-v-effe566f"]]),jhe={class:"experiment-container d-flex flex-column h-100 bg-white"},zhe={class:"experiment-header d-flex justify-content-between align-items-center p-3 border-bottom bg-white"},Ghe={class:"mb-0 fw-bold fs-6 flex-grow-1 text-center truncate"},Hhe={class:"experiment-content flex-grow-1 position-relative"},Whe={key:0,class:"loading-overlay"},Xhe=["src"],qhe={__name:"ExperimentView",setup(n){const t=q8(),r=bc(),i=Xe(""),s=Xe(" "),o=Xe(!0);xr(()=>{i.value=t.query.url||"",s.value=t.query.title||" ",i.value||r.replace("/home")});const a=()=>{o.value=!1},l=()=>{r.back()},u=()=>{i.value&&window.open(i.value,"_blank","noopener,noreferrer")};return(h,c)=>(se(),ce("div",jhe,[A("div",zhe,[A("button",{onClick:l,class:"btn p-0 border-0","aria-label":" "},[...c[0]||(c[0]=[A("i",{class:"bi bi-chevron-left fs-5"},null,-1)])]),A("h5",Ghe,Be(s.value),1),A("button",{onClick:u,class:"btn btn-outline-primary btn-sm",title:"  ","aria-label":"  "},[...c[1]||(c[1]=[A("i",{class:"bi bi-box-arrow-up-right"},null,-1)])])]),A("div",Hhe,[o.value?(se(),ce("div",Whe,[...c[2]||(c[2]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"mt-3 text-muted small"},"   ...",-1)])])):rt("",!0),sn(A("iframe",{src:i.value,frameborder:"0",width:"100%",height:"100%",allowfullscreen:"",onLoad:a},"   iframe  . ",40,Xhe),[[Qu,!o.value]])])]))}},Yhe=wt(qhe,[["__scopeId","data-v-8e33f210"]]),Mg=X8({history:A8("/"),routes:[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:YU},{path:"/signup",name:"signup",component:Tce},{path:"/login",name:"login",component:ece},{path:"/map",name:"Map",component:L9},{path:"/list",name:"PlaceList",component:Cue},{path:"/mypage",name:"Mypage",component:T7},{path:"/account",name:"AccountView",component:K7},{path:"/aitutor",name:"AiTutor",component:iV},{path:"/usercourselist",name:"UserLikeCourseList",component:a$},{path:"/indoormap",name:"IndoorMapView",component:LV},{path:"/coursedetail/:courseId",name:"UserLikeCourseDetail",component:SH},{path:"/exhibition/:id",name:"ExhibitionDetail",component:aA},{path:"/place/:id",name:"PlaceDetail",component:aA},{path:"/photos/:targetType/:targetId",name:"AllPhotos",component:Uue,props:!0},{path:"/likePlace",name:"LikePlace",component:Lce,props:!0},{path:"/notice",name:"Notice",component:Jce},{path:"/notice/:id",name:"NoticeDetail",component:mhe},{path:"/stamp",name:"stamp",component:Lhe},{path:"/virtualTour",name:"virtualTour",component:$he},{path:"/experiment",name:"ExperimentView",component:Yhe}]}),Of=Tp(B6);Of.config.globalProperties.$alert=n=>{let t="",r="success";typeof n=="string"?t=n:typeof n=="object"&&n!==null&&(t=n.message||"",r=n.type||"success"),ct.emit("show-global-alert",{message:t,type:r})};Of.use(EI());const BM=EI();BM.use($O);Of.use(BM);Of.use(Mg);Of.mount("#app");
