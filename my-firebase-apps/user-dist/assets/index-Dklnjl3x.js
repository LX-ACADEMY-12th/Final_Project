(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var NO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function d1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function mm(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var r=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),r}var $d={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var kO=$d.exports,ow;function FO(){return ow||(ow=1,(function(n,t){(function(r,i){n.exports=i()})(kO,function(){const r=new Map,i={set(te,k,U){r.has(te)||r.set(te,new Map);const fe=r.get(te);fe.has(k)||fe.size===0?fe.set(k,U):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(fe.keys())[0]}.`)},get:(te,k)=>r.has(te)&&r.get(te).get(k)||null,remove(te,k){if(!r.has(te))return;const U=r.get(te);U.delete(k),U.size===0&&r.delete(te)}},s="transitionend",o=te=>(te&&window.CSS&&window.CSS.escape&&(te=te.replace(/#([^\s"#']+)/g,(k,U)=>`#${CSS.escape(U)}`)),te),a=te=>te==null?`${te}`:Object.prototype.toString.call(te).match(/\s([a-z]+)/i)[1].toLowerCase(),l=te=>{te.dispatchEvent(new Event(s))},u=te=>!(!te||typeof te!="object")&&(te.jquery!==void 0&&(te=te[0]),te.nodeType!==void 0),h=te=>u(te)?te.jquery?te[0]:te:typeof te=="string"&&te.length>0?document.querySelector(o(te)):null,c=te=>{if(!u(te)||te.getClientRects().length===0)return!1;const k=getComputedStyle(te).getPropertyValue("visibility")==="visible",U=te.closest("details:not([open])");if(!U)return k;if(U!==te){const fe=te.closest("summary");if(fe&&fe.parentNode!==U||fe===null)return!1}return k},f=te=>!te||te.nodeType!==Node.ELEMENT_NODE||!!te.classList.contains("disabled")||(te.disabled!==void 0?te.disabled:te.hasAttribute("disabled")&&te.getAttribute("disabled")!=="false"),p=te=>{if(!document.documentElement.attachShadow)return null;if(typeof te.getRootNode=="function"){const k=te.getRootNode();return k instanceof ShadowRoot?k:null}return te instanceof ShadowRoot?te:te.parentNode?p(te.parentNode):null},d=()=>{},g=te=>{te.offsetHeight},m=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,v=[],w=()=>document.documentElement.dir==="rtl",y=te=>{var k;k=()=>{const U=m();if(U){const fe=te.NAME,Le=U.fn[fe];U.fn[fe]=te.jQueryInterface,U.fn[fe].Constructor=te,U.fn[fe].noConflict=()=>(U.fn[fe]=Le,te.jQueryInterface)}},document.readyState==="loading"?(v.length||document.addEventListener("DOMContentLoaded",()=>{for(const U of v)U()}),v.push(k)):k()},_=(te,k=[],U=te)=>typeof te=="function"?te.call(...k):U,x=(te,k,U=!0)=>{if(!U)return void _(te);const fe=(He=>{if(!He)return 0;let{transitionDuration:Qe,transitionDelay:at}=window.getComputedStyle(He);const _t=Number.parseFloat(Qe),wt=Number.parseFloat(at);return _t||wt?(Qe=Qe.split(",")[0],at=at.split(",")[0],1e3*(Number.parseFloat(Qe)+Number.parseFloat(at))):0})(k)+5;let Le=!1;const Re=({target:He})=>{He===k&&(Le=!0,k.removeEventListener(s,Re),_(te))};k.addEventListener(s,Re),setTimeout(()=>{Le||l(k)},fe)},C=(te,k,U,fe)=>{const Le=te.length;let Re=te.indexOf(k);return Re===-1?!U&&fe?te[Le-1]:te[0]:(Re+=U?1:-1,fe&&(Re=(Re+Le)%Le),te[Math.max(0,Math.min(Re,Le-1))])},E=/[^.]*(?=\..*)\.|.*/,S=/\..*/,D=/::\d+$/,A={};let N=1;const F={mouseenter:"mouseover",mouseleave:"mouseout"},T=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function I(te,k){return k&&`${k}::${N++}`||te.uidEvent||N++}function M(te){const k=I(te);return te.uidEvent=k,A[k]=A[k]||{},A[k]}function L(te,k,U=null){return Object.values(te).find(fe=>fe.callable===k&&fe.delegationSelector===U)}function B(te,k,U){const fe=typeof k=="string",Le=fe?U:k||U;let Re=he(te);return T.has(Re)||(Re=te),[fe,Le,Re]}function $(te,k,U,fe,Le){if(typeof k!="string"||!te)return;let[Re,He,Qe]=B(k,U,fe);k in F&&(He=(Ht=>function(jt){if(!jt.relatedTarget||jt.relatedTarget!==jt.delegateTarget&&!jt.delegateTarget.contains(jt.relatedTarget))return Ht.call(this,jt)})(He));const at=M(te),_t=at[Qe]||(at[Qe]={}),wt=L(_t,He,Re?U:null);if(wt)return void(wt.oneOff=wt.oneOff&&Le);const pt=I(He,k.replace(E,"")),nn=Re?(function(Ut,Ht,jt){return function Wt(Pn){const Wn=Ut.querySelectorAll(Ht);for(let{target:on}=Pn;on&&on!==this;on=on.parentNode)for(const Cn of Wn)if(Cn===on)return J(Pn,{delegateTarget:on}),Wt.oneOff&&V.off(Ut,Pn.type,Ht,jt),jt.apply(on,[Pn])}})(te,U,He):(function(Ut,Ht){return function jt(Wt){return J(Wt,{delegateTarget:Ut}),jt.oneOff&&V.off(Ut,Wt.type,Ht),Ht.apply(Ut,[Wt])}})(te,He);nn.delegationSelector=Re?U:null,nn.callable=He,nn.oneOff=Le,nn.uidEvent=pt,_t[pt]=nn,te.addEventListener(Qe,nn,Re)}function q(te,k,U,fe,Le){const Re=L(k[U],fe,Le);Re&&(te.removeEventListener(U,Re,!!Le),delete k[U][Re.uidEvent])}function Z(te,k,U,fe){const Le=k[U]||{};for(const[Re,He]of Object.entries(Le))Re.includes(fe)&&q(te,k,U,He.callable,He.delegationSelector)}function he(te){return te=te.replace(S,""),F[te]||te}const V={on(te,k,U,fe){$(te,k,U,fe,!1)},one(te,k,U,fe){$(te,k,U,fe,!0)},off(te,k,U,fe){if(typeof k!="string"||!te)return;const[Le,Re,He]=B(k,U,fe),Qe=He!==k,at=M(te),_t=at[He]||{},wt=k.startsWith(".");if(Re===void 0){if(wt)for(const pt of Object.keys(at))Z(te,at,pt,k.slice(1));for(const[pt,nn]of Object.entries(_t)){const Ut=pt.replace(D,"");Qe&&!k.includes(Ut)||q(te,at,He,nn.callable,nn.delegationSelector)}}else{if(!Object.keys(_t).length)return;q(te,at,He,Re,Le?U:null)}},trigger(te,k,U){if(typeof k!="string"||!te)return null;const fe=m();let Le=null,Re=!0,He=!0,Qe=!1;k!==he(k)&&fe&&(Le=fe.Event(k,U),fe(te).trigger(Le),Re=!Le.isPropagationStopped(),He=!Le.isImmediatePropagationStopped(),Qe=Le.isDefaultPrevented());const at=J(new Event(k,{bubbles:Re,cancelable:!0}),U);return Qe&&at.preventDefault(),He&&te.dispatchEvent(at),at.defaultPrevented&&Le&&Le.preventDefault(),at}};function J(te,k={}){for(const[U,fe]of Object.entries(k))try{te[U]=fe}catch{Object.defineProperty(te,U,{configurable:!0,get:()=>fe})}return te}function ge(te){if(te==="true")return!0;if(te==="false")return!1;if(te===Number(te).toString())return Number(te);if(te===""||te==="null")return null;if(typeof te!="string")return te;try{return JSON.parse(decodeURIComponent(te))}catch{return te}}function W(te){return te.replace(/[A-Z]/g,k=>`-${k.toLowerCase()}`)}const z={setDataAttribute(te,k,U){te.setAttribute(`data-bs-${W(k)}`,U)},removeDataAttribute(te,k){te.removeAttribute(`data-bs-${W(k)}`)},getDataAttributes(te){if(!te)return{};const k={},U=Object.keys(te.dataset).filter(fe=>fe.startsWith("bs")&&!fe.startsWith("bsConfig"));for(const fe of U){let Le=fe.replace(/^bs/,"");Le=Le.charAt(0).toLowerCase()+Le.slice(1),k[Le]=ge(te.dataset[fe])}return k},getDataAttribute:(te,k)=>ge(te.getAttribute(`data-bs-${W(k)}`))};class de{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(k){return k=this._mergeConfigObj(k),k=this._configAfterMerge(k),this._typeCheckConfig(k),k}_configAfterMerge(k){return k}_mergeConfigObj(k,U){const fe=u(U)?z.getDataAttribute(U,"config"):{};return{...this.constructor.Default,...typeof fe=="object"?fe:{},...u(U)?z.getDataAttributes(U):{},...typeof k=="object"?k:{}}}_typeCheckConfig(k,U=this.constructor.DefaultType){for(const[fe,Le]of Object.entries(U)){const Re=k[fe],He=u(Re)?"element":a(Re);if(!new RegExp(Le).test(He))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${fe}" provided type "${He}" but expected type "${Le}".`)}}}class K extends de{constructor(k,U){super(),(k=h(k))&&(this._element=k,this._config=this._getConfig(U),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),V.off(this._element,this.constructor.EVENT_KEY);for(const k of Object.getOwnPropertyNames(this))this[k]=null}_queueCallback(k,U,fe=!0){x(k,U,fe)}_getConfig(k){return k=this._mergeConfigObj(k,this._element),k=this._configAfterMerge(k),this._typeCheckConfig(k),k}static getInstance(k){return i.get(h(k),this.DATA_KEY)}static getOrCreateInstance(k,U={}){return this.getInstance(k)||new this(k,typeof U=="object"?U:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(k){return`${k}${this.EVENT_KEY}`}}const ue=te=>{let k=te.getAttribute("data-bs-target");if(!k||k==="#"){let U=te.getAttribute("href");if(!U||!U.includes("#")&&!U.startsWith("."))return null;U.includes("#")&&!U.startsWith("#")&&(U=`#${U.split("#")[1]}`),k=U&&U!=="#"?U.trim():null}return k?k.split(",").map(U=>o(U)).join(","):null},G={find:(te,k=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(k,te)),findOne:(te,k=document.documentElement)=>Element.prototype.querySelector.call(k,te),children:(te,k)=>[].concat(...te.children).filter(U=>U.matches(k)),parents(te,k){const U=[];let fe=te.parentNode.closest(k);for(;fe;)U.push(fe),fe=fe.parentNode.closest(k);return U},prev(te,k){let U=te.previousElementSibling;for(;U;){if(U.matches(k))return[U];U=U.previousElementSibling}return[]},next(te,k){let U=te.nextElementSibling;for(;U;){if(U.matches(k))return[U];U=U.nextElementSibling}return[]},focusableChildren(te){const k=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(U=>`${U}:not([tabindex^="-"])`).join(",");return this.find(k,te).filter(U=>!f(U)&&c(U))},getSelectorFromElement(te){const k=ue(te);return k&&G.findOne(k)?k:null},getElementFromSelector(te){const k=ue(te);return k?G.findOne(k):null},getMultipleElementsFromSelector(te){const k=ue(te);return k?G.find(k):[]}},se=(te,k="hide")=>{const U=`click.dismiss${te.EVENT_KEY}`,fe=te.NAME;V.on(document,U,`[data-bs-dismiss="${fe}"]`,function(Le){if(["A","AREA"].includes(this.tagName)&&Le.preventDefault(),f(this))return;const Re=G.getElementFromSelector(this)||this.closest(`.${fe}`);te.getOrCreateInstance(Re)[k]()})},ye=".bs.alert",Ee=`close${ye}`,H=`closed${ye}`;class Q extends K{static get NAME(){return"alert"}close(){if(V.trigger(this._element,Ee).defaultPrevented)return;this._element.classList.remove("show");const k=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,k)}_destroyElement(){this._element.remove(),V.trigger(this._element,H),this.dispose()}static jQueryInterface(k){return this.each(function(){const U=Q.getOrCreateInstance(this);if(typeof k=="string"){if(U[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError(`No method named "${k}"`);U[k](this)}})}}se(Q,"close"),y(Q);const re='[data-bs-toggle="button"]';class Ce extends K{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(k){return this.each(function(){const U=Ce.getOrCreateInstance(this);k==="toggle"&&U[k]()})}}V.on(document,"click.bs.button.data-api",re,te=>{te.preventDefault();const k=te.target.closest(re);Ce.getOrCreateInstance(k).toggle()}),y(Ce);const _e=".bs.swipe",Se=`touchstart${_e}`,Te=`touchmove${_e}`,De=`touchend${_e}`,be=`pointerdown${_e}`,xe=`pointerup${_e}`,R={endCallback:null,leftCallback:null,rightCallback:null},Oe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Fe extends de{constructor(k,U){super(),this._element=k,k&&Fe.isSupported()&&(this._config=this._getConfig(U),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return R}static get DefaultType(){return Oe}static get NAME(){return"swipe"}dispose(){V.off(this._element,_e)}_start(k){this._supportPointerEvents?this._eventIsPointerPenTouch(k)&&(this._deltaX=k.clientX):this._deltaX=k.touches[0].clientX}_end(k){this._eventIsPointerPenTouch(k)&&(this._deltaX=k.clientX-this._deltaX),this._handleSwipe(),_(this._config.endCallback)}_move(k){this._deltaX=k.touches&&k.touches.length>1?0:k.touches[0].clientX-this._deltaX}_handleSwipe(){const k=Math.abs(this._deltaX);if(k<=40)return;const U=k/this._deltaX;this._deltaX=0,U&&_(U>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(V.on(this._element,be,k=>this._start(k)),V.on(this._element,xe,k=>this._end(k)),this._element.classList.add("pointer-event")):(V.on(this._element,Se,k=>this._start(k)),V.on(this._element,Te,k=>this._move(k)),V.on(this._element,De,k=>this._end(k)))}_eventIsPointerPenTouch(k){return this._supportPointerEvents&&(k.pointerType==="pen"||k.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Je=".bs.carousel",We=".data-api",ft="ArrowLeft",Ae="ArrowRight",Pe="next",Be="prev",je="left",$e="right",P=`slide${Je}`,j=`slid${Je}`,oe=`keydown${Je}`,pe=`mouseenter${Je}`,ve=`mouseleave${Je}`,Ne=`dragstart${Je}`,Ie=`load${Je}${We}`,Xe=`click${Je}${We}`,tt="carousel",bt="active",hn=".active",O=".carousel-item",ee=hn+O,X={[ft]:$e,[Ae]:je},Y={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},me={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ze extends K{constructor(k,U){super(k,U),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=G.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===tt&&this.cycle()}static get Default(){return Y}static get DefaultType(){return me}static get NAME(){return"carousel"}next(){this._slide(Pe)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(Be)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?V.one(this._element,j,()=>this.cycle()):this.cycle())}to(k){const U=this._getItems();if(k>U.length-1||k<0)return;if(this._isSliding)return void V.one(this._element,j,()=>this.to(k));const fe=this._getItemIndex(this._getActive());if(fe===k)return;const Le=k>fe?Pe:Be;this._slide(Le,U[k])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(k){return k.defaultInterval=k.interval,k}_addEventListeners(){this._config.keyboard&&V.on(this._element,oe,k=>this._keydown(k)),this._config.pause==="hover"&&(V.on(this._element,pe,()=>this.pause()),V.on(this._element,ve,()=>this._maybeEnableCycle())),this._config.touch&&Fe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const U of G.find(".carousel-item img",this._element))V.on(U,Ne,fe=>fe.preventDefault());const k={leftCallback:()=>this._slide(this._directionToOrder(je)),rightCallback:()=>this._slide(this._directionToOrder($e)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Fe(this._element,k)}_keydown(k){if(/input|textarea/i.test(k.target.tagName))return;const U=X[k.key];U&&(k.preventDefault(),this._slide(this._directionToOrder(U)))}_getItemIndex(k){return this._getItems().indexOf(k)}_setActiveIndicatorElement(k){if(!this._indicatorsElement)return;const U=G.findOne(hn,this._indicatorsElement);U.classList.remove(bt),U.removeAttribute("aria-current");const fe=G.findOne(`[data-bs-slide-to="${k}"]`,this._indicatorsElement);fe&&(fe.classList.add(bt),fe.setAttribute("aria-current","true"))}_updateInterval(){const k=this._activeElement||this._getActive();if(!k)return;const U=Number.parseInt(k.getAttribute("data-bs-interval"),10);this._config.interval=U||this._config.defaultInterval}_slide(k,U=null){if(this._isSliding)return;const fe=this._getActive(),Le=k===Pe,Re=U||C(this._getItems(),fe,Le,this._config.wrap);if(Re===fe)return;const He=this._getItemIndex(Re),Qe=pt=>V.trigger(this._element,pt,{relatedTarget:Re,direction:this._orderToDirection(k),from:this._getItemIndex(fe),to:He});if(Qe(P).defaultPrevented||!fe||!Re)return;const at=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(He),this._activeElement=Re;const _t=Le?"carousel-item-start":"carousel-item-end",wt=Le?"carousel-item-next":"carousel-item-prev";Re.classList.add(wt),g(Re),fe.classList.add(_t),Re.classList.add(_t),this._queueCallback(()=>{Re.classList.remove(_t,wt),Re.classList.add(bt),fe.classList.remove(bt,wt,_t),this._isSliding=!1,Qe(j)},fe,this._isAnimated()),at&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return G.findOne(ee,this._element)}_getItems(){return G.find(O,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(k){return w()?k===je?Be:Pe:k===je?Pe:Be}_orderToDirection(k){return w()?k===Be?je:$e:k===Be?$e:je}static jQueryInterface(k){return this.each(function(){const U=ze.getOrCreateInstance(this,k);if(typeof k!="number"){if(typeof k=="string"){if(U[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError(`No method named "${k}"`);U[k]()}}else U.to(k)})}}V.on(document,Xe,"[data-bs-slide], [data-bs-slide-to]",function(te){const k=G.getElementFromSelector(this);if(!k||!k.classList.contains(tt))return;te.preventDefault();const U=ze.getOrCreateInstance(k),fe=this.getAttribute("data-bs-slide-to");return fe?(U.to(fe),void U._maybeEnableCycle()):z.getDataAttribute(this,"slide")==="next"?(U.next(),void U._maybeEnableCycle()):(U.prev(),void U._maybeEnableCycle())}),V.on(window,Ie,()=>{const te=G.find('[data-bs-ride="carousel"]');for(const k of te)ze.getOrCreateInstance(k)}),y(ze);const qe=".bs.collapse",nt=`show${qe}`,gt=`shown${qe}`,en=`hide${qe}`,tn=`hidden${qe}`,Vn=`click${qe}.data-api`,ur="show",Or="collapse",vt="collapsing",ii=`:scope .${Or} .${Or}`,Mt='[data-bs-toggle="collapse"]',Nc={parent:null,toggle:!0},za={parent:"(null|element)",toggle:"boolean"};class xi extends K{constructor(k,U){super(k,U),this._isTransitioning=!1,this._triggerArray=[];const fe=G.find(Mt);for(const Le of fe){const Re=G.getSelectorFromElement(Le),He=G.find(Re).filter(Qe=>Qe===this._element);Re!==null&&He.length&&this._triggerArray.push(Le)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Nc}static get DefaultType(){return za}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let k=[];if(this._config.parent&&(k=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Le=>Le!==this._element).map(Le=>xi.getOrCreateInstance(Le,{toggle:!1}))),k.length&&k[0]._isTransitioning||V.trigger(this._element,nt).defaultPrevented)return;for(const Le of k)Le.hide();const U=this._getDimension();this._element.classList.remove(Or),this._element.classList.add(vt),this._element.style[U]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const fe=`scroll${U[0].toUpperCase()+U.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(vt),this._element.classList.add(Or,ur),this._element.style[U]="",V.trigger(this._element,gt)},this._element,!0),this._element.style[U]=`${this._element[fe]}px`}hide(){if(this._isTransitioning||!this._isShown()||V.trigger(this._element,en).defaultPrevented)return;const k=this._getDimension();this._element.style[k]=`${this._element.getBoundingClientRect()[k]}px`,g(this._element),this._element.classList.add(vt),this._element.classList.remove(Or,ur);for(const U of this._triggerArray){const fe=G.getElementFromSelector(U);fe&&!this._isShown(fe)&&this._addAriaAndCollapsedClass([U],!1)}this._isTransitioning=!0,this._element.style[k]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(vt),this._element.classList.add(Or),V.trigger(this._element,tn)},this._element,!0)}_isShown(k=this._element){return k.classList.contains(ur)}_configAfterMerge(k){return k.toggle=!!k.toggle,k.parent=h(k.parent),k}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const k=this._getFirstLevelChildren(Mt);for(const U of k){const fe=G.getElementFromSelector(U);fe&&this._addAriaAndCollapsedClass([U],this._isShown(fe))}}_getFirstLevelChildren(k){const U=G.find(ii,this._config.parent);return G.find(k,this._config.parent).filter(fe=>!U.includes(fe))}_addAriaAndCollapsedClass(k,U){if(k.length)for(const fe of k)fe.classList.toggle("collapsed",!U),fe.setAttribute("aria-expanded",U)}static jQueryInterface(k){const U={};return typeof k=="string"&&/show|hide/.test(k)&&(U.toggle=!1),this.each(function(){const fe=xi.getOrCreateInstance(this,U);if(typeof k=="string"){if(fe[k]===void 0)throw new TypeError(`No method named "${k}"`);fe[k]()}})}}V.on(document,Vn,Mt,function(te){(te.target.tagName==="A"||te.delegateTarget&&te.delegateTarget.tagName==="A")&&te.preventDefault();for(const k of G.getMultipleElementsFromSelector(this))xi.getOrCreateInstance(k,{toggle:!1}).toggle()}),y(xi);var pr="top",ne="bottom",ce="right",we="left",Ke="auto",rt=[pr,ne,ce,we],ct="start",Dt="end",Ri="clippingParents",Pr="viewport",Gr="popper",Lr="reference",Rg=rt.reduce(function(te,k){return te.concat([k+"-"+ct,k+"-"+Dt])},[]),Bg=[].concat(rt,[Ke]).reduce(function(te,k){return te.concat([k,k+"-"+ct,k+"-"+Dt])},[]),xo="beforeRead",rs="read",Bx="afterRead",Ux="beforeMain",Vx="main",$x="afterMain",jx="beforeWrite",zx="write",Gx="afterWrite",Hx=[xo,rs,Bx,Ux,Vx,$x,jx,zx,Gx];function Js(te){return te?(te.nodeName||"").toLowerCase():null}function is(te){if(te==null)return window;if(te.toString()!=="[object Window]"){var k=te.ownerDocument;return k&&k.defaultView||window}return te}function Ga(te){return te instanceof is(te).Element||te instanceof Element}function ps(te){return te instanceof is(te).HTMLElement||te instanceof HTMLElement}function Ug(te){return typeof ShadowRoot<"u"&&(te instanceof is(te).ShadowRoot||te instanceof ShadowRoot)}const Vg={name:"applyStyles",enabled:!0,phase:"write",fn:function(te){var k=te.state;Object.keys(k.elements).forEach(function(U){var fe=k.styles[U]||{},Le=k.attributes[U]||{},Re=k.elements[U];ps(Re)&&Js(Re)&&(Object.assign(Re.style,fe),Object.keys(Le).forEach(function(He){var Qe=Le[He];Qe===!1?Re.removeAttribute(He):Re.setAttribute(He,Qe===!0?"":Qe)}))})},effect:function(te){var k=te.state,U={popper:{position:k.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(k.elements.popper.style,U.popper),k.styles=U,k.elements.arrow&&Object.assign(k.elements.arrow.style,U.arrow),function(){Object.keys(k.elements).forEach(function(fe){var Le=k.elements[fe],Re=k.attributes[fe]||{},He=Object.keys(k.styles.hasOwnProperty(fe)?k.styles[fe]:U[fe]).reduce(function(Qe,at){return Qe[at]="",Qe},{});ps(Le)&&Js(Le)&&(Object.assign(Le.style,He),Object.keys(Re).forEach(function(Qe){Le.removeAttribute(Qe)}))})}},requires:["computeStyles"]};function Qs(te){return te.split("-")[0]}var Ha=Math.max,Pf=Math.min,cu=Math.round;function $g(){var te=navigator.userAgentData;return te!=null&&te.brands&&Array.isArray(te.brands)?te.brands.map(function(k){return k.brand+"/"+k.version}).join(" "):navigator.userAgent}function Wx(){return!/^((?!chrome|android).)*safari/i.test($g())}function hu(te,k,U){k===void 0&&(k=!1),U===void 0&&(U=!1);var fe=te.getBoundingClientRect(),Le=1,Re=1;k&&ps(te)&&(Le=te.offsetWidth>0&&cu(fe.width)/te.offsetWidth||1,Re=te.offsetHeight>0&&cu(fe.height)/te.offsetHeight||1);var He=(Ga(te)?is(te):window).visualViewport,Qe=!Wx()&&U,at=(fe.left+(Qe&&He?He.offsetLeft:0))/Le,_t=(fe.top+(Qe&&He?He.offsetTop:0))/Re,wt=fe.width/Le,pt=fe.height/Re;return{width:wt,height:pt,top:_t,right:at+wt,bottom:_t+pt,left:at,x:at,y:_t}}function jg(te){var k=hu(te),U=te.offsetWidth,fe=te.offsetHeight;return Math.abs(k.width-U)<=1&&(U=k.width),Math.abs(k.height-fe)<=1&&(fe=k.height),{x:te.offsetLeft,y:te.offsetTop,width:U,height:fe}}function qx(te,k){var U=k.getRootNode&&k.getRootNode();if(te.contains(k))return!0;if(U&&Ug(U)){var fe=k;do{if(fe&&te.isSameNode(fe))return!0;fe=fe.parentNode||fe.host}while(fe)}return!1}function _o(te){return is(te).getComputedStyle(te)}function VF(te){return["table","td","th"].indexOf(Js(te))>=0}function ia(te){return((Ga(te)?te.ownerDocument:te.document)||window.document).documentElement}function Lf(te){return Js(te)==="html"?te:te.assignedSlot||te.parentNode||(Ug(te)?te.host:null)||ia(te)}function Xx(te){return ps(te)&&_o(te).position!=="fixed"?te.offsetParent:null}function kc(te){for(var k=is(te),U=Xx(te);U&&VF(U)&&_o(U).position==="static";)U=Xx(U);return U&&(Js(U)==="html"||Js(U)==="body"&&_o(U).position==="static")?k:U||(function(fe){var Le=/firefox/i.test($g());if(/Trident/i.test($g())&&ps(fe)&&_o(fe).position==="fixed")return null;var Re=Lf(fe);for(Ug(Re)&&(Re=Re.host);ps(Re)&&["html","body"].indexOf(Js(Re))<0;){var He=_o(Re);if(He.transform!=="none"||He.perspective!=="none"||He.contain==="paint"||["transform","perspective"].indexOf(He.willChange)!==-1||Le&&He.willChange==="filter"||Le&&He.filter&&He.filter!=="none")return Re;Re=Re.parentNode}return null})(te)||k}function zg(te){return["top","bottom"].indexOf(te)>=0?"x":"y"}function Fc(te,k,U){return Ha(te,Pf(k,U))}function Yx(te){return Object.assign({},{top:0,right:0,bottom:0,left:0},te)}function Kx(te,k){return k.reduce(function(U,fe){return U[fe]=te,U},{})}const Zx={name:"arrow",enabled:!0,phase:"main",fn:function(te){var k,U=te.state,fe=te.name,Le=te.options,Re=U.elements.arrow,He=U.modifiersData.popperOffsets,Qe=Qs(U.placement),at=zg(Qe),_t=[we,ce].indexOf(Qe)>=0?"height":"width";if(Re&&He){var wt=(function(Ln,Fn){return Yx(typeof(Ln=typeof Ln=="function"?Ln(Object.assign({},Fn.rects,{placement:Fn.placement})):Ln)!="number"?Ln:Kx(Ln,rt))})(Le.padding,U),pt=jg(Re),nn=at==="y"?pr:we,Ut=at==="y"?ne:ce,Ht=U.rects.reference[_t]+U.rects.reference[at]-He[at]-U.rects.popper[_t],jt=He[at]-U.rects.reference[at],Wt=kc(Re),Pn=Wt?at==="y"?Wt.clientHeight||0:Wt.clientWidth||0:0,Wn=Ht/2-jt/2,on=wt[nn],Cn=Pn-pt[_t]-wt[Ut],rn=Pn/2-pt[_t]/2+Wn,vn=Fc(on,rn,Cn),kn=at;U.modifiersData[fe]=((k={})[kn]=vn,k.centerOffset=vn-rn,k)}},effect:function(te){var k=te.state,U=te.options.element,fe=U===void 0?"[data-popper-arrow]":U;fe!=null&&(typeof fe!="string"||(fe=k.elements.popper.querySelector(fe)))&&qx(k.elements.popper,fe)&&(k.elements.arrow=fe)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fu(te){return te.split("-")[1]}var $F={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jx(te){var k,U=te.popper,fe=te.popperRect,Le=te.placement,Re=te.variation,He=te.offsets,Qe=te.position,at=te.gpuAcceleration,_t=te.adaptive,wt=te.roundOffsets,pt=te.isFixed,nn=He.x,Ut=nn===void 0?0:nn,Ht=He.y,jt=Ht===void 0?0:Ht,Wt=typeof wt=="function"?wt({x:Ut,y:jt}):{x:Ut,y:jt};Ut=Wt.x,jt=Wt.y;var Pn=He.hasOwnProperty("x"),Wn=He.hasOwnProperty("y"),on=we,Cn=pr,rn=window;if(_t){var vn=kc(U),kn="clientHeight",Ln="clientWidth";vn===is(U)&&_o(vn=ia(U)).position!=="static"&&Qe==="absolute"&&(kn="scrollHeight",Ln="scrollWidth"),(Le===pr||(Le===we||Le===ce)&&Re===Dt)&&(Cn=ne,jt-=(pt&&vn===rn&&rn.visualViewport?rn.visualViewport.height:vn[kn])-fe.height,jt*=at?1:-1),Le!==we&&(Le!==pr&&Le!==ne||Re!==Dt)||(on=ce,Ut-=(pt&&vn===rn&&rn.visualViewport?rn.visualViewport.width:vn[Ln])-fe.width,Ut*=at?1:-1)}var Fn,wr=Object.assign({position:Qe},_t&&$F),ss=wt===!0?(function(Os,_i){var gs=Os.x,vs=Os.y,mr=_i.devicePixelRatio||1;return{x:cu(gs*mr)/mr||0,y:cu(vs*mr)/mr||0}})({x:Ut,y:jt},is(U)):{x:Ut,y:jt};return Ut=ss.x,jt=ss.y,at?Object.assign({},wr,((Fn={})[Cn]=Wn?"0":"",Fn[on]=Pn?"0":"",Fn.transform=(rn.devicePixelRatio||1)<=1?"translate("+Ut+"px, "+jt+"px)":"translate3d("+Ut+"px, "+jt+"px, 0)",Fn)):Object.assign({},wr,((k={})[Cn]=Wn?jt+"px":"",k[on]=Pn?Ut+"px":"",k.transform="",k))}const Gg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(te){var k=te.state,U=te.options,fe=U.gpuAcceleration,Le=fe===void 0||fe,Re=U.adaptive,He=Re===void 0||Re,Qe=U.roundOffsets,at=Qe===void 0||Qe,_t={placement:Qs(k.placement),variation:fu(k.placement),popper:k.elements.popper,popperRect:k.rects.popper,gpuAcceleration:Le,isFixed:k.options.strategy==="fixed"};k.modifiersData.popperOffsets!=null&&(k.styles.popper=Object.assign({},k.styles.popper,Jx(Object.assign({},_t,{offsets:k.modifiersData.popperOffsets,position:k.options.strategy,adaptive:He,roundOffsets:at})))),k.modifiersData.arrow!=null&&(k.styles.arrow=Object.assign({},k.styles.arrow,Jx(Object.assign({},_t,{offsets:k.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:at})))),k.attributes.popper=Object.assign({},k.attributes.popper,{"data-popper-placement":k.placement})},data:{}};var Rf={passive:!0};const Hg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(te){var k=te.state,U=te.instance,fe=te.options,Le=fe.scroll,Re=Le===void 0||Le,He=fe.resize,Qe=He===void 0||He,at=is(k.elements.popper),_t=[].concat(k.scrollParents.reference,k.scrollParents.popper);return Re&&_t.forEach(function(wt){wt.addEventListener("scroll",U.update,Rf)}),Qe&&at.addEventListener("resize",U.update,Rf),function(){Re&&_t.forEach(function(wt){wt.removeEventListener("scroll",U.update,Rf)}),Qe&&at.removeEventListener("resize",U.update,Rf)}},data:{}};var jF={left:"right",right:"left",bottom:"top",top:"bottom"};function Bf(te){return te.replace(/left|right|bottom|top/g,function(k){return jF[k]})}var zF={start:"end",end:"start"};function Qx(te){return te.replace(/start|end/g,function(k){return zF[k]})}function Wg(te){var k=is(te);return{scrollLeft:k.pageXOffset,scrollTop:k.pageYOffset}}function qg(te){return hu(ia(te)).left+Wg(te).scrollLeft}function Xg(te){var k=_o(te),U=k.overflow,fe=k.overflowX,Le=k.overflowY;return/auto|scroll|overlay|hidden/.test(U+Le+fe)}function e_(te){return["html","body","#document"].indexOf(Js(te))>=0?te.ownerDocument.body:ps(te)&&Xg(te)?te:e_(Lf(te))}function Mc(te,k){var U;k===void 0&&(k=[]);var fe=e_(te),Le=fe===((U=te.ownerDocument)==null?void 0:U.body),Re=is(fe),He=Le?[Re].concat(Re.visualViewport||[],Xg(fe)?fe:[]):fe,Qe=k.concat(He);return Le?Qe:Qe.concat(Mc(Lf(He)))}function Yg(te){return Object.assign({},te,{left:te.x,top:te.y,right:te.x+te.width,bottom:te.y+te.height})}function t_(te,k,U){return k===Pr?Yg((function(fe,Le){var Re=is(fe),He=ia(fe),Qe=Re.visualViewport,at=He.clientWidth,_t=He.clientHeight,wt=0,pt=0;if(Qe){at=Qe.width,_t=Qe.height;var nn=Wx();(nn||!nn&&Le==="fixed")&&(wt=Qe.offsetLeft,pt=Qe.offsetTop)}return{width:at,height:_t,x:wt+qg(fe),y:pt}})(te,U)):Ga(k)?(function(fe,Le){var Re=hu(fe,!1,Le==="fixed");return Re.top=Re.top+fe.clientTop,Re.left=Re.left+fe.clientLeft,Re.bottom=Re.top+fe.clientHeight,Re.right=Re.left+fe.clientWidth,Re.width=fe.clientWidth,Re.height=fe.clientHeight,Re.x=Re.left,Re.y=Re.top,Re})(k,U):Yg((function(fe){var Le,Re=ia(fe),He=Wg(fe),Qe=(Le=fe.ownerDocument)==null?void 0:Le.body,at=Ha(Re.scrollWidth,Re.clientWidth,Qe?Qe.scrollWidth:0,Qe?Qe.clientWidth:0),_t=Ha(Re.scrollHeight,Re.clientHeight,Qe?Qe.scrollHeight:0,Qe?Qe.clientHeight:0),wt=-He.scrollLeft+qg(fe),pt=-He.scrollTop;return _o(Qe||Re).direction==="rtl"&&(wt+=Ha(Re.clientWidth,Qe?Qe.clientWidth:0)-at),{width:at,height:_t,x:wt,y:pt}})(ia(te)))}function n_(te){var k,U=te.reference,fe=te.element,Le=te.placement,Re=Le?Qs(Le):null,He=Le?fu(Le):null,Qe=U.x+U.width/2-fe.width/2,at=U.y+U.height/2-fe.height/2;switch(Re){case pr:k={x:Qe,y:U.y-fe.height};break;case ne:k={x:Qe,y:U.y+U.height};break;case ce:k={x:U.x+U.width,y:at};break;case we:k={x:U.x-fe.width,y:at};break;default:k={x:U.x,y:U.y}}var _t=Re?zg(Re):null;if(_t!=null){var wt=_t==="y"?"height":"width";switch(He){case ct:k[_t]=k[_t]-(U[wt]/2-fe[wt]/2);break;case Dt:k[_t]=k[_t]+(U[wt]/2-fe[wt]/2)}}return k}function du(te,k){k===void 0&&(k={});var U=k,fe=U.placement,Le=fe===void 0?te.placement:fe,Re=U.strategy,He=Re===void 0?te.strategy:Re,Qe=U.boundary,at=Qe===void 0?Ri:Qe,_t=U.rootBoundary,wt=_t===void 0?Pr:_t,pt=U.elementContext,nn=pt===void 0?Gr:pt,Ut=U.altBoundary,Ht=Ut!==void 0&&Ut,jt=U.padding,Wt=jt===void 0?0:jt,Pn=Yx(typeof Wt!="number"?Wt:Kx(Wt,rt)),Wn=nn===Gr?Lr:Gr,on=te.rects.popper,Cn=te.elements[Ht?Wn:nn],rn=(function(_i,gs,vs,mr){var eo=gs==="clippingParents"?(function($n){var wi=Mc(Lf($n)),ys=["absolute","fixed"].indexOf(_o($n).position)>=0&&ps($n)?kc($n):$n;return Ga(ys)?wi.filter(function(oa){return Ga(oa)&&qx(oa,ys)&&Js(oa)!=="body"}):[]})(_i):[].concat(gs),to=[].concat(eo,[vs]),gu=to[0],Hr=to.reduce(function($n,wi){var ys=t_(_i,wi,mr);return $n.top=Ha(ys.top,$n.top),$n.right=Pf(ys.right,$n.right),$n.bottom=Pf(ys.bottom,$n.bottom),$n.left=Ha(ys.left,$n.left),$n},t_(_i,gu,mr));return Hr.width=Hr.right-Hr.left,Hr.height=Hr.bottom-Hr.top,Hr.x=Hr.left,Hr.y=Hr.top,Hr})(Ga(Cn)?Cn:Cn.contextElement||ia(te.elements.popper),at,wt,He),vn=hu(te.elements.reference),kn=n_({reference:vn,element:on,placement:Le}),Ln=Yg(Object.assign({},on,kn)),Fn=nn===Gr?Ln:vn,wr={top:rn.top-Fn.top+Pn.top,bottom:Fn.bottom-rn.bottom+Pn.bottom,left:rn.left-Fn.left+Pn.left,right:Fn.right-rn.right+Pn.right},ss=te.modifiersData.offset;if(nn===Gr&&ss){var Os=ss[Le];Object.keys(wr).forEach(function(_i){var gs=[ce,ne].indexOf(_i)>=0?1:-1,vs=[pr,ne].indexOf(_i)>=0?"y":"x";wr[_i]+=Os[vs]*gs})}return wr}function GF(te,k){k===void 0&&(k={});var U=k,fe=U.placement,Le=U.boundary,Re=U.rootBoundary,He=U.padding,Qe=U.flipVariations,at=U.allowedAutoPlacements,_t=at===void 0?Bg:at,wt=fu(fe),pt=wt?Qe?Rg:Rg.filter(function(Ht){return fu(Ht)===wt}):rt,nn=pt.filter(function(Ht){return _t.indexOf(Ht)>=0});nn.length===0&&(nn=pt);var Ut=nn.reduce(function(Ht,jt){return Ht[jt]=du(te,{placement:jt,boundary:Le,rootBoundary:Re,padding:He})[Qs(jt)],Ht},{});return Object.keys(Ut).sort(function(Ht,jt){return Ut[Ht]-Ut[jt]})}const r_={name:"flip",enabled:!0,phase:"main",fn:function(te){var k=te.state,U=te.options,fe=te.name;if(!k.modifiersData[fe]._skip){for(var Le=U.mainAxis,Re=Le===void 0||Le,He=U.altAxis,Qe=He===void 0||He,at=U.fallbackPlacements,_t=U.padding,wt=U.boundary,pt=U.rootBoundary,nn=U.altBoundary,Ut=U.flipVariations,Ht=Ut===void 0||Ut,jt=U.allowedAutoPlacements,Wt=k.options.placement,Pn=Qs(Wt),Wn=at||(Pn!==Wt&&Ht?(function($n){if(Qs($n)===Ke)return[];var wi=Bf($n);return[Qx($n),wi,Qx(wi)]})(Wt):[Bf(Wt)]),on=[Wt].concat(Wn).reduce(function($n,wi){return $n.concat(Qs(wi)===Ke?GF(k,{placement:wi,boundary:wt,rootBoundary:pt,padding:_t,flipVariations:Ht,allowedAutoPlacements:jt}):wi)},[]),Cn=k.rects.reference,rn=k.rects.popper,vn=new Map,kn=!0,Ln=on[0],Fn=0;Fn<on.length;Fn++){var wr=on[Fn],ss=Qs(wr),Os=fu(wr)===ct,_i=[pr,ne].indexOf(ss)>=0,gs=_i?"width":"height",vs=du(k,{placement:wr,boundary:wt,rootBoundary:pt,altBoundary:nn,padding:_t}),mr=_i?Os?ce:we:Os?ne:pr;Cn[gs]>rn[gs]&&(mr=Bf(mr));var eo=Bf(mr),to=[];if(Re&&to.push(vs[ss]<=0),Qe&&to.push(vs[mr]<=0,vs[eo]<=0),to.every(function($n){return $n})){Ln=wr,kn=!1;break}vn.set(wr,to)}if(kn)for(var gu=function($n){var wi=on.find(function(ys){var oa=vn.get(ys);if(oa)return oa.slice(0,$n).every(function(qf){return qf})});if(wi)return Ln=wi,"break"},Hr=Ht?3:1;Hr>0&&gu(Hr)!=="break";Hr--);k.placement!==Ln&&(k.modifiersData[fe]._skip=!0,k.placement=Ln,k.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function i_(te,k,U){return U===void 0&&(U={x:0,y:0}),{top:te.top-k.height-U.y,right:te.right-k.width+U.x,bottom:te.bottom-k.height+U.y,left:te.left-k.width-U.x}}function s_(te){return[pr,ce,ne,we].some(function(k){return te[k]>=0})}const o_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(te){var k=te.state,U=te.name,fe=k.rects.reference,Le=k.rects.popper,Re=k.modifiersData.preventOverflow,He=du(k,{elementContext:"reference"}),Qe=du(k,{altBoundary:!0}),at=i_(He,fe),_t=i_(Qe,Le,Re),wt=s_(at),pt=s_(_t);k.modifiersData[U]={referenceClippingOffsets:at,popperEscapeOffsets:_t,isReferenceHidden:wt,hasPopperEscaped:pt},k.attributes.popper=Object.assign({},k.attributes.popper,{"data-popper-reference-hidden":wt,"data-popper-escaped":pt})}},a_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(te){var k=te.state,U=te.options,fe=te.name,Le=U.offset,Re=Le===void 0?[0,0]:Le,He=Bg.reduce(function(wt,pt){return wt[pt]=(function(nn,Ut,Ht){var jt=Qs(nn),Wt=[we,pr].indexOf(jt)>=0?-1:1,Pn=typeof Ht=="function"?Ht(Object.assign({},Ut,{placement:nn})):Ht,Wn=Pn[0],on=Pn[1];return Wn=Wn||0,on=(on||0)*Wt,[we,ce].indexOf(jt)>=0?{x:on,y:Wn}:{x:Wn,y:on}})(pt,k.rects,Re),wt},{}),Qe=He[k.placement],at=Qe.x,_t=Qe.y;k.modifiersData.popperOffsets!=null&&(k.modifiersData.popperOffsets.x+=at,k.modifiersData.popperOffsets.y+=_t),k.modifiersData[fe]=He}},Kg={name:"popperOffsets",enabled:!0,phase:"read",fn:function(te){var k=te.state,U=te.name;k.modifiersData[U]=n_({reference:k.rects.reference,element:k.rects.popper,placement:k.placement})},data:{}},l_={name:"preventOverflow",enabled:!0,phase:"main",fn:function(te){var k=te.state,U=te.options,fe=te.name,Le=U.mainAxis,Re=Le===void 0||Le,He=U.altAxis,Qe=He!==void 0&&He,at=U.boundary,_t=U.rootBoundary,wt=U.altBoundary,pt=U.padding,nn=U.tether,Ut=nn===void 0||nn,Ht=U.tetherOffset,jt=Ht===void 0?0:Ht,Wt=du(k,{boundary:at,rootBoundary:_t,padding:pt,altBoundary:wt}),Pn=Qs(k.placement),Wn=fu(k.placement),on=!Wn,Cn=zg(Pn),rn=Cn==="x"?"y":"x",vn=k.modifiersData.popperOffsets,kn=k.rects.reference,Ln=k.rects.popper,Fn=typeof jt=="function"?jt(Object.assign({},k.rects,{placement:k.placement})):jt,wr=typeof Fn=="number"?{mainAxis:Fn,altAxis:Fn}:Object.assign({mainAxis:0,altAxis:0},Fn),ss=k.modifiersData.offset?k.modifiersData.offset[k.placement]:null,Os={x:0,y:0};if(vn){if(Re){var _i,gs=Cn==="y"?pr:we,vs=Cn==="y"?ne:ce,mr=Cn==="y"?"height":"width",eo=vn[Cn],to=eo+Wt[gs],gu=eo-Wt[vs],Hr=Ut?-Ln[mr]/2:0,$n=Wn===ct?kn[mr]:Ln[mr],wi=Wn===ct?-Ln[mr]:-kn[mr],ys=k.elements.arrow,oa=Ut&&ys?jg(ys):{width:0,height:0},qf=k.modifiersData["arrow#persistent"]?k.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X_=qf[gs],Y_=qf[vs],Xf=Fc(0,kn[mr],oa[mr]),wO=on?kn[mr]/2-Hr-Xf-X_-wr.mainAxis:$n-Xf-X_-wr.mainAxis,EO=on?-kn[mr]/2+Hr+Xf+Y_+wr.mainAxis:wi+Xf+Y_+wr.mainAxis,c0=k.elements.arrow&&kc(k.elements.arrow),SO=c0?Cn==="y"?c0.clientTop||0:c0.clientLeft||0:0,K_=(_i=ss?.[Cn])!=null?_i:0,CO=eo+EO-K_,Z_=Fc(Ut?Pf(to,eo+wO-K_-SO):to,eo,Ut?Ha(gu,CO):gu);vn[Cn]=Z_,Os[Cn]=Z_-eo}if(Qe){var J_,AO=Cn==="x"?pr:we,TO=Cn==="x"?ne:ce,Qa=vn[rn],Yf=rn==="y"?"height":"width",Q_=Qa+Wt[AO],ew=Qa-Wt[TO],h0=[pr,we].indexOf(Pn)!==-1,tw=(J_=ss?.[rn])!=null?J_:0,nw=h0?Q_:Qa-kn[Yf]-Ln[Yf]-tw+wr.altAxis,rw=h0?Qa+kn[Yf]+Ln[Yf]-tw-wr.altAxis:ew,iw=Ut&&h0?(function(IO,DO,f0){var sw=Fc(IO,DO,f0);return sw>f0?f0:sw})(nw,Qa,rw):Fc(Ut?nw:Q_,Qa,Ut?rw:ew);vn[rn]=iw,Os[rn]=iw-Qa}k.modifiersData[fe]=Os}},requiresIfExists:["offset"]};function HF(te,k,U){U===void 0&&(U=!1);var fe,Le,Re=ps(k),He=ps(k)&&(function(pt){var nn=pt.getBoundingClientRect(),Ut=cu(nn.width)/pt.offsetWidth||1,Ht=cu(nn.height)/pt.offsetHeight||1;return Ut!==1||Ht!==1})(k),Qe=ia(k),at=hu(te,He,U),_t={scrollLeft:0,scrollTop:0},wt={x:0,y:0};return(Re||!Re&&!U)&&((Js(k)!=="body"||Xg(Qe))&&(_t=(fe=k)!==is(fe)&&ps(fe)?{scrollLeft:(Le=fe).scrollLeft,scrollTop:Le.scrollTop}:Wg(fe)),ps(k)?((wt=hu(k,!0)).x+=k.clientLeft,wt.y+=k.clientTop):Qe&&(wt.x=qg(Qe))),{x:at.left+_t.scrollLeft-wt.x,y:at.top+_t.scrollTop-wt.y,width:at.width,height:at.height}}function WF(te){var k=new Map,U=new Set,fe=[];function Le(Re){U.add(Re.name),[].concat(Re.requires||[],Re.requiresIfExists||[]).forEach(function(He){if(!U.has(He)){var Qe=k.get(He);Qe&&Le(Qe)}}),fe.push(Re)}return te.forEach(function(Re){k.set(Re.name,Re)}),te.forEach(function(Re){U.has(Re.name)||Le(Re)}),fe}var u_={placement:"bottom",modifiers:[],strategy:"absolute"};function c_(){for(var te=arguments.length,k=new Array(te),U=0;U<te;U++)k[U]=arguments[U];return!k.some(function(fe){return!(fe&&typeof fe.getBoundingClientRect=="function")})}function Uf(te){te===void 0&&(te={});var k=te,U=k.defaultModifiers,fe=U===void 0?[]:U,Le=k.defaultOptions,Re=Le===void 0?u_:Le;return function(He,Qe,at){at===void 0&&(at=Re);var _t,wt,pt={placement:"bottom",orderedModifiers:[],options:Object.assign({},u_,Re),modifiersData:{},elements:{reference:He,popper:Qe},attributes:{},styles:{}},nn=[],Ut=!1,Ht={state:pt,setOptions:function(Wt){var Pn=typeof Wt=="function"?Wt(pt.options):Wt;jt(),pt.options=Object.assign({},Re,pt.options,Pn),pt.scrollParents={reference:Ga(He)?Mc(He):He.contextElement?Mc(He.contextElement):[],popper:Mc(Qe)};var Wn,on,Cn=(function(rn){var vn=WF(rn);return Hx.reduce(function(kn,Ln){return kn.concat(vn.filter(function(Fn){return Fn.phase===Ln}))},[])})((Wn=[].concat(fe,pt.options.modifiers),on=Wn.reduce(function(rn,vn){var kn=rn[vn.name];return rn[vn.name]=kn?Object.assign({},kn,vn,{options:Object.assign({},kn.options,vn.options),data:Object.assign({},kn.data,vn.data)}):vn,rn},{}),Object.keys(on).map(function(rn){return on[rn]})));return pt.orderedModifiers=Cn.filter(function(rn){return rn.enabled}),pt.orderedModifiers.forEach(function(rn){var vn=rn.name,kn=rn.options,Ln=kn===void 0?{}:kn,Fn=rn.effect;if(typeof Fn=="function"){var wr=Fn({state:pt,name:vn,instance:Ht,options:Ln});nn.push(wr||function(){})}}),Ht.update()},forceUpdate:function(){if(!Ut){var Wt=pt.elements,Pn=Wt.reference,Wn=Wt.popper;if(c_(Pn,Wn)){pt.rects={reference:HF(Pn,kc(Wn),pt.options.strategy==="fixed"),popper:jg(Wn)},pt.reset=!1,pt.placement=pt.options.placement,pt.orderedModifiers.forEach(function(Fn){return pt.modifiersData[Fn.name]=Object.assign({},Fn.data)});for(var on=0;on<pt.orderedModifiers.length;on++)if(pt.reset!==!0){var Cn=pt.orderedModifiers[on],rn=Cn.fn,vn=Cn.options,kn=vn===void 0?{}:vn,Ln=Cn.name;typeof rn=="function"&&(pt=rn({state:pt,options:kn,name:Ln,instance:Ht})||pt)}else pt.reset=!1,on=-1}}},update:(_t=function(){return new Promise(function(Wt){Ht.forceUpdate(),Wt(pt)})},function(){return wt||(wt=new Promise(function(Wt){Promise.resolve().then(function(){wt=void 0,Wt(_t())})})),wt}),destroy:function(){jt(),Ut=!0}};if(!c_(He,Qe))return Ht;function jt(){nn.forEach(function(Wt){return Wt()}),nn=[]}return Ht.setOptions(at).then(function(Wt){!Ut&&at.onFirstUpdate&&at.onFirstUpdate(Wt)}),Ht}}var qF=Uf(),XF=Uf({defaultModifiers:[Hg,Kg,Gg,Vg]}),Zg=Uf({defaultModifiers:[Hg,Kg,Gg,Vg,a_,r_,l_,Zx,o_]});const h_=Object.freeze(Object.defineProperty({__proto__:null,afterMain:$x,afterRead:Bx,afterWrite:Gx,applyStyles:Vg,arrow:Zx,auto:Ke,basePlacements:rt,beforeMain:Ux,beforeRead:xo,beforeWrite:jx,bottom:ne,clippingParents:Ri,computeStyles:Gg,createPopper:Zg,createPopperBase:qF,createPopperLite:XF,detectOverflow:du,end:Dt,eventListeners:Hg,flip:r_,hide:o_,left:we,main:Vx,modifierPhases:Hx,offset:a_,placements:Bg,popper:Gr,popperGenerator:Uf,popperOffsets:Kg,preventOverflow:l_,read:rs,reference:Lr,right:ce,start:ct,top:pr,variationPlacements:Rg,viewport:Pr,write:zx},Symbol.toStringTag,{value:"Module"})),f_="dropdown",Wa=".bs.dropdown",Jg=".data-api",YF="ArrowUp",d_="ArrowDown",KF=`hide${Wa}`,ZF=`hidden${Wa}`,JF=`show${Wa}`,QF=`shown${Wa}`,p_=`click${Wa}${Jg}`,m_=`keydown${Wa}${Jg}`,eM=`keyup${Wa}${Jg}`,pu="show",qa='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',tM=`${qa}.${pu}`,Vf=".dropdown-menu",nM=w()?"top-end":"top-start",rM=w()?"top-start":"top-end",iM=w()?"bottom-end":"bottom-start",sM=w()?"bottom-start":"bottom-end",oM=w()?"left-start":"right-start",aM=w()?"right-start":"left-start",lM={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},uM={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ms extends K{constructor(k,U){super(k,U),this._popper=null,this._parent=this._element.parentNode,this._menu=G.next(this._element,Vf)[0]||G.prev(this._element,Vf)[0]||G.findOne(Vf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return lM}static get DefaultType(){return uM}static get NAME(){return f_}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const k={relatedTarget:this._element};if(!V.trigger(this._element,JF,k).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const U of[].concat(...document.body.children))V.on(U,"mouseover",d);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(pu),this._element.classList.add(pu),V.trigger(this._element,QF,k)}}hide(){if(f(this._element)||!this._isShown())return;const k={relatedTarget:this._element};this._completeHide(k)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(k){if(!V.trigger(this._element,KF,k).defaultPrevented){if("ontouchstart"in document.documentElement)for(const U of[].concat(...document.body.children))V.off(U,"mouseover",d);this._popper&&this._popper.destroy(),this._menu.classList.remove(pu),this._element.classList.remove(pu),this._element.setAttribute("aria-expanded","false"),z.removeDataAttribute(this._menu,"popper"),V.trigger(this._element,ZF,k)}}_getConfig(k){if(typeof(k=super._getConfig(k)).reference=="object"&&!u(k.reference)&&typeof k.reference.getBoundingClientRect!="function")throw new TypeError(`${f_.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return k}_createPopper(){if(h_===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let k=this._element;this._config.reference==="parent"?k=this._parent:u(this._config.reference)?k=h(this._config.reference):typeof this._config.reference=="object"&&(k=this._config.reference);const U=this._getPopperConfig();this._popper=Zg(k,this._menu,U)}_isShown(){return this._menu.classList.contains(pu)}_getPlacement(){const k=this._parent;if(k.classList.contains("dropend"))return oM;if(k.classList.contains("dropstart"))return aM;if(k.classList.contains("dropup-center"))return"top";if(k.classList.contains("dropdown-center"))return"bottom";const U=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return k.classList.contains("dropup")?U?rM:nM:U?sM:iM}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:k}=this._config;return typeof k=="string"?k.split(",").map(U=>Number.parseInt(U,10)):typeof k=="function"?U=>k(U,this._element):k}_getPopperConfig(){const k={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(z.setDataAttribute(this._menu,"popper","static"),k.modifiers=[{name:"applyStyles",enabled:!1}]),{...k,..._(this._config.popperConfig,[void 0,k])}}_selectMenuItem({key:k,target:U}){const fe=G.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Le=>c(Le));fe.length&&C(fe,U,k===d_,!fe.includes(U)).focus()}static jQueryInterface(k){return this.each(function(){const U=Ms.getOrCreateInstance(this,k);if(typeof k=="string"){if(U[k]===void 0)throw new TypeError(`No method named "${k}"`);U[k]()}})}static clearMenus(k){if(k.button===2||k.type==="keyup"&&k.key!=="Tab")return;const U=G.find(tM);for(const fe of U){const Le=Ms.getInstance(fe);if(!Le||Le._config.autoClose===!1)continue;const Re=k.composedPath(),He=Re.includes(Le._menu);if(Re.includes(Le._element)||Le._config.autoClose==="inside"&&!He||Le._config.autoClose==="outside"&&He||Le._menu.contains(k.target)&&(k.type==="keyup"&&k.key==="Tab"||/input|select|option|textarea|form/i.test(k.target.tagName)))continue;const Qe={relatedTarget:Le._element};k.type==="click"&&(Qe.clickEvent=k),Le._completeHide(Qe)}}static dataApiKeydownHandler(k){const U=/input|textarea/i.test(k.target.tagName),fe=k.key==="Escape",Le=[YF,d_].includes(k.key);if(!Le&&!fe||U&&!fe)return;k.preventDefault();const Re=this.matches(qa)?this:G.prev(this,qa)[0]||G.next(this,qa)[0]||G.findOne(qa,k.delegateTarget.parentNode),He=Ms.getOrCreateInstance(Re);if(Le)return k.stopPropagation(),He.show(),void He._selectMenuItem(k);He._isShown()&&(k.stopPropagation(),He.hide(),Re.focus())}}V.on(document,m_,qa,Ms.dataApiKeydownHandler),V.on(document,m_,Vf,Ms.dataApiKeydownHandler),V.on(document,p_,Ms.clearMenus),V.on(document,eM,Ms.clearMenus),V.on(document,p_,qa,function(te){te.preventDefault(),Ms.getOrCreateInstance(this).toggle()}),y(Ms);const g_="backdrop",v_="show",y_=`mousedown.bs.${g_}`,cM={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},hM={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class b_ extends de{constructor(k){super(),this._config=this._getConfig(k),this._isAppended=!1,this._element=null}static get Default(){return cM}static get DefaultType(){return hM}static get NAME(){return g_}show(k){if(!this._config.isVisible)return void _(k);this._append();const U=this._getElement();this._config.isAnimated&&g(U),U.classList.add(v_),this._emulateAnimation(()=>{_(k)})}hide(k){this._config.isVisible?(this._getElement().classList.remove(v_),this._emulateAnimation(()=>{this.dispose(),_(k)})):_(k)}dispose(){this._isAppended&&(V.off(this._element,y_),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const k=document.createElement("div");k.className=this._config.className,this._config.isAnimated&&k.classList.add("fade"),this._element=k}return this._element}_configAfterMerge(k){return k.rootElement=h(k.rootElement),k}_append(){if(this._isAppended)return;const k=this._getElement();this._config.rootElement.append(k),V.on(k,y_,()=>{_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(k){x(k,this._getElement(),this._config.isAnimated)}}const $f=".bs.focustrap",fM=`focusin${$f}`,dM=`keydown.tab${$f}`,x_="backward",pM={autofocus:!0,trapElement:null},mM={autofocus:"boolean",trapElement:"element"};class __ extends de{constructor(k){super(),this._config=this._getConfig(k),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return pM}static get DefaultType(){return mM}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),V.off(document,$f),V.on(document,fM,k=>this._handleFocusin(k)),V.on(document,dM,k=>this._handleKeydown(k)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,V.off(document,$f))}_handleFocusin(k){const{trapElement:U}=this._config;if(k.target===document||k.target===U||U.contains(k.target))return;const fe=G.focusableChildren(U);fe.length===0?U.focus():this._lastTabNavDirection===x_?fe[fe.length-1].focus():fe[0].focus()}_handleKeydown(k){k.key==="Tab"&&(this._lastTabNavDirection=k.shiftKey?x_:"forward")}}const w_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",E_=".sticky-top",jf="padding-right",S_="margin-right";class Qg{constructor(){this._element=document.body}getWidth(){const k=document.documentElement.clientWidth;return Math.abs(window.innerWidth-k)}hide(){const k=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,jf,U=>U+k),this._setElementAttributes(w_,jf,U=>U+k),this._setElementAttributes(E_,S_,U=>U-k)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,jf),this._resetElementAttributes(w_,jf),this._resetElementAttributes(E_,S_)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(k,U,fe){const Le=this.getWidth();this._applyManipulationCallback(k,Re=>{if(Re!==this._element&&window.innerWidth>Re.clientWidth+Le)return;this._saveInitialAttribute(Re,U);const He=window.getComputedStyle(Re).getPropertyValue(U);Re.style.setProperty(U,`${fe(Number.parseFloat(He))}px`)})}_saveInitialAttribute(k,U){const fe=k.style.getPropertyValue(U);fe&&z.setDataAttribute(k,U,fe)}_resetElementAttributes(k,U){this._applyManipulationCallback(k,fe=>{const Le=z.getDataAttribute(fe,U);Le!==null?(z.removeDataAttribute(fe,U),fe.style.setProperty(U,Le)):fe.style.removeProperty(U)})}_applyManipulationCallback(k,U){if(u(k))U(k);else for(const fe of G.find(k,this._element))U(fe)}}const ms=".bs.modal",gM=`hide${ms}`,vM=`hidePrevented${ms}`,C_=`hidden${ms}`,A_=`show${ms}`,yM=`shown${ms}`,bM=`resize${ms}`,xM=`click.dismiss${ms}`,_M=`mousedown.dismiss${ms}`,wM=`keydown.dismiss${ms}`,EM=`click${ms}.data-api`,T_="modal-open",I_="show",e0="modal-static",SM={backdrop:!0,focus:!0,keyboard:!0},CM={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Xa extends K{constructor(k,U){super(k,U),this._dialog=G.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Qg,this._addEventListeners()}static get Default(){return SM}static get DefaultType(){return CM}static get NAME(){return"modal"}toggle(k){return this._isShown?this.hide():this.show(k)}show(k){this._isShown||this._isTransitioning||V.trigger(this._element,A_,{relatedTarget:k}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(T_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(k)))}hide(){this._isShown&&!this._isTransitioning&&(V.trigger(this._element,gM).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(I_),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){V.off(window,ms),V.off(this._dialog,ms),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new b_({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new __({trapElement:this._element})}_showElement(k){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const U=G.findOne(".modal-body",this._dialog);U&&(U.scrollTop=0),g(this._element),this._element.classList.add(I_),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,V.trigger(this._element,yM,{relatedTarget:k})},this._dialog,this._isAnimated())}_addEventListeners(){V.on(this._element,wM,k=>{k.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),V.on(window,bM,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),V.on(this._element,_M,k=>{V.one(this._element,xM,U=>{this._element===k.target&&this._element===U.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(T_),this._resetAdjustments(),this._scrollBar.reset(),V.trigger(this._element,C_)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(V.trigger(this._element,vM).defaultPrevented)return;const k=this._element.scrollHeight>document.documentElement.clientHeight,U=this._element.style.overflowY;U==="hidden"||this._element.classList.contains(e0)||(k||(this._element.style.overflowY="hidden"),this._element.classList.add(e0),this._queueCallback(()=>{this._element.classList.remove(e0),this._queueCallback(()=>{this._element.style.overflowY=U},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const k=this._element.scrollHeight>document.documentElement.clientHeight,U=this._scrollBar.getWidth(),fe=U>0;if(fe&&!k){const Le=w()?"paddingLeft":"paddingRight";this._element.style[Le]=`${U}px`}if(!fe&&k){const Le=w()?"paddingRight":"paddingLeft";this._element.style[Le]=`${U}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(k,U){return this.each(function(){const fe=Xa.getOrCreateInstance(this,k);if(typeof k=="string"){if(fe[k]===void 0)throw new TypeError(`No method named "${k}"`);fe[k](U)}})}}V.on(document,EM,'[data-bs-toggle="modal"]',function(te){const k=G.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&te.preventDefault(),V.one(k,A_,fe=>{fe.defaultPrevented||V.one(k,C_,()=>{c(this)&&this.focus()})});const U=G.findOne(".modal.show");U&&Xa.getInstance(U).hide(),Xa.getOrCreateInstance(k).toggle(this)}),se(Xa),y(Xa);const wo=".bs.offcanvas",D_=".data-api",AM=`load${wo}${D_}`,N_="show",k_="showing",F_="hiding",M_=".offcanvas.show",TM=`show${wo}`,IM=`shown${wo}`,DM=`hide${wo}`,O_=`hidePrevented${wo}`,P_=`hidden${wo}`,NM=`resize${wo}`,kM=`click${wo}${D_}`,FM=`keydown.dismiss${wo}`,MM={backdrop:!0,keyboard:!0,scroll:!1},OM={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Eo extends K{constructor(k,U){super(k,U),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return MM}static get DefaultType(){return OM}static get NAME(){return"offcanvas"}toggle(k){return this._isShown?this.hide():this.show(k)}show(k){this._isShown||V.trigger(this._element,TM,{relatedTarget:k}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Qg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(k_),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(N_),this._element.classList.remove(k_),V.trigger(this._element,IM,{relatedTarget:k})},this._element,!0))}hide(){this._isShown&&(V.trigger(this._element,DM).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(F_),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(N_,F_),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Qg().reset(),V.trigger(this._element,P_)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const k=!!this._config.backdrop;return new b_({className:"offcanvas-backdrop",isVisible:k,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:k?()=>{this._config.backdrop!=="static"?this.hide():V.trigger(this._element,O_)}:null})}_initializeFocusTrap(){return new __({trapElement:this._element})}_addEventListeners(){V.on(this._element,FM,k=>{k.key==="Escape"&&(this._config.keyboard?this.hide():V.trigger(this._element,O_))})}static jQueryInterface(k){return this.each(function(){const U=Eo.getOrCreateInstance(this,k);if(typeof k=="string"){if(U[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError(`No method named "${k}"`);U[k](this)}})}}V.on(document,kM,'[data-bs-toggle="offcanvas"]',function(te){const k=G.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&te.preventDefault(),f(this))return;V.one(k,P_,()=>{c(this)&&this.focus()});const U=G.findOne(M_);U&&U!==k&&Eo.getInstance(U).hide(),Eo.getOrCreateInstance(k).toggle(this)}),V.on(window,AM,()=>{for(const te of G.find(M_))Eo.getOrCreateInstance(te).show()}),V.on(window,NM,()=>{for(const te of G.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(te).position!=="fixed"&&Eo.getOrCreateInstance(te).hide()}),se(Eo),y(Eo);const L_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},PM=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),LM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,RM=(te,k)=>{const U=te.nodeName.toLowerCase();return k.includes(U)?!PM.has(U)||!!LM.test(te.nodeValue):k.filter(fe=>fe instanceof RegExp).some(fe=>fe.test(U))},BM={allowList:L_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},UM={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},VM={entry:"(string|element|function|null)",selector:"(string|element)"};class $M extends de{constructor(k){super(),this._config=this._getConfig(k)}static get Default(){return BM}static get DefaultType(){return UM}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(k=>this._resolvePossibleFunction(k)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(k){return this._checkContent(k),this._config.content={...this._config.content,...k},this}toHtml(){const k=document.createElement("div");k.innerHTML=this._maybeSanitize(this._config.template);for(const[Le,Re]of Object.entries(this._config.content))this._setContent(k,Re,Le);const U=k.children[0],fe=this._resolvePossibleFunction(this._config.extraClass);return fe&&U.classList.add(...fe.split(" ")),U}_typeCheckConfig(k){super._typeCheckConfig(k),this._checkContent(k.content)}_checkContent(k){for(const[U,fe]of Object.entries(k))super._typeCheckConfig({selector:U,entry:fe},VM)}_setContent(k,U,fe){const Le=G.findOne(fe,k);Le&&((U=this._resolvePossibleFunction(U))?u(U)?this._putElementInTemplate(h(U),Le):this._config.html?Le.innerHTML=this._maybeSanitize(U):Le.textContent=U:Le.remove())}_maybeSanitize(k){return this._config.sanitize?(function(U,fe,Le){if(!U.length)return U;if(Le&&typeof Le=="function")return Le(U);const Re=new window.DOMParser().parseFromString(U,"text/html"),He=[].concat(...Re.body.querySelectorAll("*"));for(const Qe of He){const at=Qe.nodeName.toLowerCase();if(!Object.keys(fe).includes(at)){Qe.remove();continue}const _t=[].concat(...Qe.attributes),wt=[].concat(fe["*"]||[],fe[at]||[]);for(const pt of _t)RM(pt,wt)||Qe.removeAttribute(pt.nodeName)}return Re.body.innerHTML})(k,this._config.allowList,this._config.sanitizeFn):k}_resolvePossibleFunction(k){return _(k,[void 0,this])}_putElementInTemplate(k,U){if(this._config.html)return U.innerHTML="",void U.append(k);U.textContent=k.textContent}}const jM=new Set(["sanitize","allowList","sanitizeFn"]),t0="fade",zf="show",zM=".tooltip-inner",R_=".modal",B_="hide.bs.modal",Oc="hover",n0="focus",r0="click",GM={AUTO:"auto",TOP:"top",RIGHT:w()?"left":"right",BOTTOM:"bottom",LEFT:w()?"right":"left"},HM={allowList:L_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},WM={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ya extends K{constructor(k,U){if(h_===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(k,U),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return HM}static get DefaultType(){return WM}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),V.off(this._element.closest(R_),B_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const k=V.trigger(this._element,this.constructor.eventName("show")),U=(p(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(k.defaultPrevented||!U)return;this._disposePopper();const fe=this._getTipElement();this._element.setAttribute("aria-describedby",fe.getAttribute("id"));const{container:Le}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Le.append(fe),V.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(fe),fe.classList.add(zf),"ontouchstart"in document.documentElement)for(const Re of[].concat(...document.body.children))V.on(Re,"mouseover",d);this._queueCallback(()=>{V.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!V.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(zf),"ontouchstart"in document.documentElement)for(const k of[].concat(...document.body.children))V.off(k,"mouseover",d);this._activeTrigger[r0]=!1,this._activeTrigger[n0]=!1,this._activeTrigger[Oc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),V.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(k){const U=this._getTemplateFactory(k).toHtml();if(!U)return null;U.classList.remove(t0,zf),U.classList.add(`bs-${this.constructor.NAME}-auto`);const fe=(Le=>{do Le+=Math.floor(1e6*Math.random());while(document.getElementById(Le));return Le})(this.constructor.NAME).toString();return U.setAttribute("id",fe),this._isAnimated()&&U.classList.add(t0),U}setContent(k){this._newContent=k,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(k){return this._templateFactory?this._templateFactory.changeContent(k):this._templateFactory=new $M({...this._config,content:k,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[zM]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(k){return this.constructor.getOrCreateInstance(k.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(t0)}_isShown(){return this.tip&&this.tip.classList.contains(zf)}_createPopper(k){const U=_(this._config.placement,[this,k,this._element]),fe=GM[U.toUpperCase()];return Zg(this._element,k,this._getPopperConfig(fe))}_getOffset(){const{offset:k}=this._config;return typeof k=="string"?k.split(",").map(U=>Number.parseInt(U,10)):typeof k=="function"?U=>k(U,this._element):k}_resolvePossibleFunction(k){return _(k,[this._element,this._element])}_getPopperConfig(k){const U={placement:k,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:fe=>{this._getTipElement().setAttribute("data-popper-placement",fe.state.placement)}}]};return{...U,..._(this._config.popperConfig,[void 0,U])}}_setListeners(){const k=this._config.trigger.split(" ");for(const U of k)if(U==="click")V.on(this._element,this.constructor.eventName("click"),this._config.selector,fe=>{const Le=this._initializeOnDelegatedTarget(fe);Le._activeTrigger[r0]=!(Le._isShown()&&Le._activeTrigger[r0]),Le.toggle()});else if(U!=="manual"){const fe=U===Oc?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Le=U===Oc?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");V.on(this._element,fe,this._config.selector,Re=>{const He=this._initializeOnDelegatedTarget(Re);He._activeTrigger[Re.type==="focusin"?n0:Oc]=!0,He._enter()}),V.on(this._element,Le,this._config.selector,Re=>{const He=this._initializeOnDelegatedTarget(Re);He._activeTrigger[Re.type==="focusout"?n0:Oc]=He._element.contains(Re.relatedTarget),He._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},V.on(this._element.closest(R_),B_,this._hideModalHandler)}_fixTitle(){const k=this._element.getAttribute("title");k&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",k),this._element.setAttribute("data-bs-original-title",k),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(k,U){clearTimeout(this._timeout),this._timeout=setTimeout(k,U)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(k){const U=z.getDataAttributes(this._element);for(const fe of Object.keys(U))jM.has(fe)&&delete U[fe];return k={...U,...typeof k=="object"&&k?k:{}},k=this._mergeConfigObj(k),k=this._configAfterMerge(k),this._typeCheckConfig(k),k}_configAfterMerge(k){return k.container=k.container===!1?document.body:h(k.container),typeof k.delay=="number"&&(k.delay={show:k.delay,hide:k.delay}),typeof k.title=="number"&&(k.title=k.title.toString()),typeof k.content=="number"&&(k.content=k.content.toString()),k}_getDelegateConfig(){const k={};for(const[U,fe]of Object.entries(this._config))this.constructor.Default[U]!==fe&&(k[U]=fe);return k.selector=!1,k.trigger="manual",k}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(k){return this.each(function(){const U=Ya.getOrCreateInstance(this,k);if(typeof k=="string"){if(U[k]===void 0)throw new TypeError(`No method named "${k}"`);U[k]()}})}}y(Ya);const qM=".popover-header",XM=".popover-body",YM={...Ya.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},KM={...Ya.DefaultType,content:"(null|string|element|function)"};class Gf extends Ya{static get Default(){return YM}static get DefaultType(){return KM}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[qM]:this._getTitle(),[XM]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(k){return this.each(function(){const U=Gf.getOrCreateInstance(this,k);if(typeof k=="string"){if(U[k]===void 0)throw new TypeError(`No method named "${k}"`);U[k]()}})}}y(Gf);const i0=".bs.scrollspy",ZM=`activate${i0}`,U_=`click${i0}`,JM=`load${i0}.data-api`,mu="active",s0="[href]",V_=".nav-link",QM=`${V_}, .nav-item > ${V_}, .list-group-item`,eO={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},tO={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Pc extends K{constructor(k,U){super(k,U),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return eO}static get DefaultType(){return tO}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const k of this._observableSections.values())this._observer.observe(k)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(k){return k.target=h(k.target)||document.body,k.rootMargin=k.offset?`${k.offset}px 0px -30%`:k.rootMargin,typeof k.threshold=="string"&&(k.threshold=k.threshold.split(",").map(U=>Number.parseFloat(U))),k}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(V.off(this._config.target,U_),V.on(this._config.target,U_,s0,k=>{const U=this._observableSections.get(k.target.hash);if(U){k.preventDefault();const fe=this._rootElement||window,Le=U.offsetTop-this._element.offsetTop;if(fe.scrollTo)return void fe.scrollTo({top:Le,behavior:"smooth"});fe.scrollTop=Le}}))}_getNewObserver(){const k={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(U=>this._observerCallback(U),k)}_observerCallback(k){const U=He=>this._targetLinks.get(`#${He.target.id}`),fe=He=>{this._previousScrollData.visibleEntryTop=He.target.offsetTop,this._process(U(He))},Le=(this._rootElement||document.documentElement).scrollTop,Re=Le>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Le;for(const He of k){if(!He.isIntersecting){this._activeTarget=null,this._clearActiveClass(U(He));continue}const Qe=He.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Re&&Qe){if(fe(He),!Le)return}else Re||Qe||fe(He)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const k=G.find(s0,this._config.target);for(const U of k){if(!U.hash||f(U))continue;const fe=G.findOne(decodeURI(U.hash),this._element);c(fe)&&(this._targetLinks.set(decodeURI(U.hash),U),this._observableSections.set(U.hash,fe))}}_process(k){this._activeTarget!==k&&(this._clearActiveClass(this._config.target),this._activeTarget=k,k.classList.add(mu),this._activateParents(k),V.trigger(this._element,ZM,{relatedTarget:k}))}_activateParents(k){if(k.classList.contains("dropdown-item"))G.findOne(".dropdown-toggle",k.closest(".dropdown")).classList.add(mu);else for(const U of G.parents(k,".nav, .list-group"))for(const fe of G.prev(U,QM))fe.classList.add(mu)}_clearActiveClass(k){k.classList.remove(mu);const U=G.find(`${s0}.${mu}`,k);for(const fe of U)fe.classList.remove(mu)}static jQueryInterface(k){return this.each(function(){const U=Pc.getOrCreateInstance(this,k);if(typeof k=="string"){if(U[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError(`No method named "${k}"`);U[k]()}})}}V.on(window,JM,()=>{for(const te of G.find('[data-bs-spy="scroll"]'))Pc.getOrCreateInstance(te)}),y(Pc);const Ka=".bs.tab",nO=`hide${Ka}`,rO=`hidden${Ka}`,iO=`show${Ka}`,sO=`shown${Ka}`,oO=`click${Ka}`,aO=`keydown${Ka}`,lO=`load${Ka}`,uO="ArrowLeft",$_="ArrowRight",cO="ArrowUp",j_="ArrowDown",o0="Home",z_="End",Za="active",G_="fade",a0="show",H_=".dropdown-toggle",l0=`:not(${H_})`,W_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',u0=`.nav-link${l0}, .list-group-item${l0}, [role="tab"]${l0}, ${W_}`,hO=`.${Za}[data-bs-toggle="tab"], .${Za}[data-bs-toggle="pill"], .${Za}[data-bs-toggle="list"]`;class Ja extends K{constructor(k){super(k),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),V.on(this._element,aO,U=>this._keydown(U)))}static get NAME(){return"tab"}show(){const k=this._element;if(this._elemIsActive(k))return;const U=this._getActiveElem(),fe=U?V.trigger(U,nO,{relatedTarget:k}):null;V.trigger(k,iO,{relatedTarget:U}).defaultPrevented||fe&&fe.defaultPrevented||(this._deactivate(U,k),this._activate(k,U))}_activate(k,U){k&&(k.classList.add(Za),this._activate(G.getElementFromSelector(k)),this._queueCallback(()=>{k.getAttribute("role")==="tab"?(k.removeAttribute("tabindex"),k.setAttribute("aria-selected",!0),this._toggleDropDown(k,!0),V.trigger(k,sO,{relatedTarget:U})):k.classList.add(a0)},k,k.classList.contains(G_)))}_deactivate(k,U){k&&(k.classList.remove(Za),k.blur(),this._deactivate(G.getElementFromSelector(k)),this._queueCallback(()=>{k.getAttribute("role")==="tab"?(k.setAttribute("aria-selected",!1),k.setAttribute("tabindex","-1"),this._toggleDropDown(k,!1),V.trigger(k,rO,{relatedTarget:U})):k.classList.remove(a0)},k,k.classList.contains(G_)))}_keydown(k){if(![uO,$_,cO,j_,o0,z_].includes(k.key))return;k.stopPropagation(),k.preventDefault();const U=this._getChildren().filter(Le=>!f(Le));let fe;if([o0,z_].includes(k.key))fe=U[k.key===o0?0:U.length-1];else{const Le=[$_,j_].includes(k.key);fe=C(U,k.target,Le,!0)}fe&&(fe.focus({preventScroll:!0}),Ja.getOrCreateInstance(fe).show())}_getChildren(){return G.find(u0,this._parent)}_getActiveElem(){return this._getChildren().find(k=>this._elemIsActive(k))||null}_setInitialAttributes(k,U){this._setAttributeIfNotExists(k,"role","tablist");for(const fe of U)this._setInitialAttributesOnChild(fe)}_setInitialAttributesOnChild(k){k=this._getInnerElement(k);const U=this._elemIsActive(k),fe=this._getOuterElement(k);k.setAttribute("aria-selected",U),fe!==k&&this._setAttributeIfNotExists(fe,"role","presentation"),U||k.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(k,"role","tab"),this._setInitialAttributesOnTargetPanel(k)}_setInitialAttributesOnTargetPanel(k){const U=G.getElementFromSelector(k);U&&(this._setAttributeIfNotExists(U,"role","tabpanel"),k.id&&this._setAttributeIfNotExists(U,"aria-labelledby",`${k.id}`))}_toggleDropDown(k,U){const fe=this._getOuterElement(k);if(!fe.classList.contains("dropdown"))return;const Le=(Re,He)=>{const Qe=G.findOne(Re,fe);Qe&&Qe.classList.toggle(He,U)};Le(H_,Za),Le(".dropdown-menu",a0),fe.setAttribute("aria-expanded",U)}_setAttributeIfNotExists(k,U,fe){k.hasAttribute(U)||k.setAttribute(U,fe)}_elemIsActive(k){return k.classList.contains(Za)}_getInnerElement(k){return k.matches(u0)?k:G.findOne(u0,k)}_getOuterElement(k){return k.closest(".nav-item, .list-group-item")||k}static jQueryInterface(k){return this.each(function(){const U=Ja.getOrCreateInstance(this);if(typeof k=="string"){if(U[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError(`No method named "${k}"`);U[k]()}})}}V.on(document,oO,W_,function(te){["A","AREA"].includes(this.tagName)&&te.preventDefault(),f(this)||Ja.getOrCreateInstance(this).show()}),V.on(window,lO,()=>{for(const te of G.find(hO))Ja.getOrCreateInstance(te)}),y(Ja);const sa=".bs.toast",fO=`mouseover${sa}`,dO=`mouseout${sa}`,pO=`focusin${sa}`,mO=`focusout${sa}`,gO=`hide${sa}`,vO=`hidden${sa}`,yO=`show${sa}`,bO=`shown${sa}`,q_="hide",Hf="show",Wf="showing",xO={animation:"boolean",autohide:"boolean",delay:"number"},_O={animation:!0,autohide:!0,delay:5e3};class Lc extends K{constructor(k,U){super(k,U),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return _O}static get DefaultType(){return xO}static get NAME(){return"toast"}show(){V.trigger(this._element,yO).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(q_),g(this._element),this._element.classList.add(Hf,Wf),this._queueCallback(()=>{this._element.classList.remove(Wf),V.trigger(this._element,bO),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(V.trigger(this._element,gO).defaultPrevented||(this._element.classList.add(Wf),this._queueCallback(()=>{this._element.classList.add(q_),this._element.classList.remove(Wf,Hf),V.trigger(this._element,vO)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Hf),super.dispose()}isShown(){return this._element.classList.contains(Hf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(k,U){switch(k.type){case"mouseover":case"mouseout":this._hasMouseInteraction=U;break;case"focusin":case"focusout":this._hasKeyboardInteraction=U}if(U)return void this._clearTimeout();const fe=k.relatedTarget;this._element===fe||this._element.contains(fe)||this._maybeScheduleHide()}_setListeners(){V.on(this._element,fO,k=>this._onInteraction(k,!0)),V.on(this._element,dO,k=>this._onInteraction(k,!1)),V.on(this._element,pO,k=>this._onInteraction(k,!0)),V.on(this._element,mO,k=>this._onInteraction(k,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(k){return this.each(function(){const U=Lc.getOrCreateInstance(this,k);if(typeof k=="string"){if(U[k]===void 0)throw new TypeError(`No method named "${k}"`);U[k](this)}})}}return se(Lc),y(Lc),{Alert:Q,Button:Ce,Carousel:ze,Collapse:xi,Dropdown:Ms,Modal:Xa,Offcanvas:Eo,Popover:Gf,ScrollSpy:Pc,Tab:Ja,Toast:Lc,Tooltip:Ya}})})($d)),$d.exports}FO();const MO=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,OO=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,PO=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function LO(n,t){if(n==="__proto__"||n==="constructor"&&t&&typeof t=="object"&&"prototype"in t){RO(n);return}return t}function RO(n){console.warn(`[destr] Dropping "${n}" key to prevent prototype pollution.`)}function BO(n,t={}){if(typeof n!="string")return n;if(n[0]==='"'&&n[n.length-1]==='"'&&n.indexOf("\\")===-1)return n.slice(1,-1);const r=n.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!PO.test(n)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return n}try{if(MO.test(n)||OO.test(n)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(n,LO)}return JSON.parse(n)}catch(i){if(t.strict)throw i;return n}}function UO(n,t){if(n==null)return;let r=n;for(let i=0;i<t.length;i++){if(r==null||r[t[i]]==null)return;r=r[t[i]]}return r}function p1(n,t,r){if(r.length===0)return t;const i=r[0];return r.length>1&&(t=p1(typeof n!="object"||n===null||!Object.prototype.hasOwnProperty.call(n,i)?Number.isInteger(Number(r[1]))?[]:{}:n[i],t,Array.prototype.slice.call(r,1))),Number.isInteger(Number(i))&&Array.isArray(n)?n.slice()[i]:Object.assign({},n,{[i]:t})}function uA(n,t){if(n==null||t.length===0)return n;if(t.length===1){if(n==null)return n;if(Number.isInteger(t[0])&&Array.isArray(n))return Array.prototype.slice.call(n,0).splice(t[0],1);const r={};for(const i in n)r[i]=n[i];return delete r[t[0]],r}if(n[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(n))return Array.prototype.concat.call([],n);const r={};for(const i in n)r[i]=n[i];return r}return p1(n,uA(n[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function cA(n,t){return t.map(r=>r.split(".")).map(r=>[r,UO(n,r)]).filter(r=>r[1]!==void 0).reduce((r,i)=>p1(r,i[1],i[0]),{})}function hA(n,t){return t.map(r=>r.split(".")).reduce((r,i)=>uA(r,i),n)}function aw(n,{storage:t,serializer:r,key:i,debug:s,pick:o,omit:a,beforeHydrate:l,afterHydrate:u},h,c=!0){try{c&&l?.(h);const f=t.getItem(i);if(f){const p=r.deserialize(f),d=o?cA(p,o):p,g=a?hA(d,a):d;n.$patch(g)}c&&u?.(h)}catch(f){s&&console.error("[pinia-plugin-persistedstate]",f)}}function lw(n,{storage:t,serializer:r,key:i,debug:s,pick:o,omit:a}){try{const l=o?cA(n,o):n,u=a?hA(l,a):l,h=r.serialize(u);t.setItem(i,h)}catch(l){s&&console.error("[pinia-plugin-persistedstate]",l)}}function VO(n,t,r){const{pinia:i,store:s,options:{persist:o=r}}=n;if(!o)return;if(!(s.$id in i.state.value)){const u=i._s.get(s.$id.replace("__hot:",""));u&&Promise.resolve().then(()=>u.$persist());return}const l=(Array.isArray(o)?o:o===!0?[{}]:[o]).map(t);s.$hydrate=({runHooks:u=!0}={})=>{l.forEach(h=>{aw(s,h,n,u)})},s.$persist=()=>{l.forEach(u=>{lw(s.$state,u)})},l.forEach(u=>{aw(s,u,n),s.$subscribe((h,c)=>lw(c,u),{detached:!0})})}function $O(n={}){return function(t){VO(t,r=>({key:(n.key?n.key:i=>i)(r.key??t.store.$id),debug:r.debug??n.debug??!1,serializer:r.serializer??n.serializer??{serialize:i=>JSON.stringify(i),deserialize:i=>BO(i)},storage:r.storage??n.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),n.auto??!1)}}var jO=$O();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Kr(n){const t=Object.create(null);for(const r of n.split(","))t[r]=1;return r=>r in t}const un={},xl=[],Yr=()=>{},ml=()=>!1,Ba=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),gm=n=>n.startsWith("onUpdate:"),ln=Object.assign,vm=(n,t)=>{const r=n.indexOf(t);r>-1&&n.splice(r,1)},zO=Object.prototype.hasOwnProperty,En=(n,t)=>zO.call(n,t),mt=Array.isArray,_l=n=>nu(n)==="[object Map]",Ua=n=>nu(n)==="[object Set]",jv=n=>nu(n)==="[object Date]",fA=n=>nu(n)==="[object RegExp]",Pt=n=>typeof n=="function",$t=n=>typeof n=="string",Pi=n=>typeof n=="symbol",Sn=n=>n!==null&&typeof n=="object",ym=n=>(Sn(n)||Pt(n))&&Pt(n.then)&&Pt(n.catch),m1=Object.prototype.toString,nu=n=>m1.call(n),dA=n=>nu(n).slice(8,-1),hf=n=>nu(n)==="[object Object]",bm=n=>$t(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Vo=Kr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pA=Kr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),xm=n=>{const t=Object.create(null);return(r=>t[r]||(t[r]=n(r)))},GO=/-\w/g,Kn=xm(n=>n.replace(GO,t=>t.slice(1).toUpperCase())),HO=/\B([A-Z])/g,pi=xm(n=>n.replace(HO,"-$1").toLowerCase()),Va=xm(n=>n.charAt(0).toUpperCase()+n.slice(1)),wl=xm(n=>n?`on${Va(n)}`:""),ui=(n,t)=>!Object.is(n,t),El=(n,...t)=>{for(let r=0;r<n.length;r++)n[r](...t)},g1=(n,t,r,i=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:i,value:r})},Ah=n=>{const t=parseFloat(n);return isNaN(t)?n:t},Th=n=>{const t=$t(n)?Number(n):NaN;return isNaN(t)?n:t};let uw;const ff=()=>uw||(uw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),WO=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function qO(n){return WO.test(n)?`__props.${n}`:`__props[${JSON.stringify(n)}]`}function XO(n,t){return n+JSON.stringify(t,(r,i)=>typeof i=="function"?i.toString():i)}const YO={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},KO={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},ZO={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},JO={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},QO={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},eP="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",v1=Kr(eP),tP=v1,cw=2;function mA(n,t=0,r=n.length){if(t=Math.max(0,Math.min(t,n.length)),r=Math.max(0,Math.min(r,n.length)),t>r)return"";let i=n.split(/(\r?\n)/);const s=i.filter((l,u)=>u%2===1);i=i.filter((l,u)=>u%2===0);let o=0;const a=[];for(let l=0;l<i.length;l++)if(o+=i[l].length+(s[l]&&s[l].length||0),o>=t){for(let u=l-cw;u<=l+cw||r>o;u++){if(u<0||u>=i.length)continue;const h=u+1;a.push(`${h}${" ".repeat(Math.max(3-String(h).length,0))}|  ${i[u]}`);const c=i[u].length,f=s[u]&&s[u].length||0;if(u===l){const p=t-(o-(c+f)),d=Math.max(1,r>o?c-p:r-t);a.push("   |  "+" ".repeat(p)+"^".repeat(d))}else if(u>l){if(r>o){const p=Math.max(Math.min(r-o,c),1);a.push("   |  "+"^".repeat(p))}o+=c+f}}break}return a.join(`
`)}function Gn(n){if(mt(n)){const t={};for(let r=0;r<n.length;r++){const i=n[r],s=$t(i)?y1(i):Gn(i);if(s)for(const o in s)t[o]=s[o]}return t}else if($t(n)||Sn(n))return n}const nP=/;(?![^(]*\))/g,rP=/:([^]+)/,iP=/\/\*[^]*?\*\//g;function y1(n){const t={};return n.replace(iP,"").split(nP).forEach(r=>{if(r){const i=r.split(rP);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function sP(n){if(!n)return"";if($t(n))return n;let t="";for(const r in n){const i=n[r];if($t(i)||typeof i=="number"){const s=r.startsWith("--")?r:pi(r);t+=`${s}:${i};`}}return t}function st(n){let t="";if($t(n))t=n;else if(mt(n))for(let r=0;r<n.length;r++){const i=st(n[r]);i&&(t+=i+" ")}else if(Sn(n))for(const r in n)n[r]&&(t+=r+" ");return t.trim()}function gA(n){if(!n)return null;let{class:t,style:r}=n;return t&&!$t(t)&&(n.class=st(t)),r&&(n.style=Gn(r)),n}const oP="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",aP="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",lP="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",uP="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",vA=Kr(oP),yA=Kr(aP),bA=Kr(lP),xA=Kr(uP),_A="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wA=Kr(_A),cP=Kr(_A+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function b1(n){return!!n||n===""}const hP=/[>/="'\u0009\u000a\u000c\u0020]/,d0={};function fP(n){if(d0.hasOwnProperty(n))return d0[n];const t=hP.test(n);return t&&console.error(`unsafe attribute name: ${n}`),d0[n]=!t}const dP={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},pP=Kr("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),mP=Kr("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),gP=Kr("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function vP(n){if(n==null)return!1;const t=typeof n;return t==="string"||t==="number"||t==="boolean"}const yP=/["'&<>]/;function bP(n){const t=""+n,r=yP.exec(t);if(!r)return t;let i="",s,o,a=0;for(o=r.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}a!==o&&(i+=t.slice(a,o)),a=o+1,i+=s}return a!==o?i+t.slice(a,o):i}const xP=/^-?>|<!--|-->|--!>|<!-$/g;function _P(n){return n.replace(xP,"")}const EA=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function wP(n,t){return n.replace(EA,r=>t?r==='"'?'\\\\\\"':`\\\\${r}`:`\\${r}`)}function EP(n,t){if(n.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<n.length;i++)r=Ho(n[i],t[i]);return r}function Ho(n,t){if(n===t)return!0;let r=jv(n),i=jv(t);if(r||i)return r&&i?n.getTime()===t.getTime():!1;if(r=Pi(n),i=Pi(t),r||i)return n===t;if(r=mt(n),i=mt(t),r||i)return r&&i?EP(n,t):!1;if(r=Sn(n),i=Sn(t),r||i){if(!r||!i)return!1;const s=Object.keys(n).length,o=Object.keys(t).length;if(s!==o)return!1;for(const a in n){const l=n.hasOwnProperty(a),u=t.hasOwnProperty(a);if(l&&!u||!l&&u||!Ho(n[a],t[a]))return!1}}return String(n)===String(t)}function df(n,t){return n.findIndex(r=>Ho(r,t))}const SA=n=>!!(n&&n.__v_isRef===!0),ke=n=>$t(n)?n:n==null?"":mt(n)||Sn(n)&&(n.toString===m1||!Pt(n.toString))?SA(n)?ke(n.value):JSON.stringify(n,CA,2):String(n),CA=(n,t)=>SA(t)?CA(n,t.value):_l(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,s],o)=>(r[p0(i,o)+" =>"]=s,r),{})}:Ua(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>p0(r))}:Pi(t)?p0(t):Sn(t)&&!mt(t)&&!hf(t)?String(t):t,p0=(n,t="")=>{var r;return Pi(n)?`Symbol(${(r=n.description)!=null?r:t})`:n};function AA(n){return n==null?"initial":typeof n=="string"?n===""?" ":n:String(n)}const SP=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:xl,EMPTY_OBJ:un,NO:ml,NOOP:Yr,PatchFlagNames:KO,PatchFlags:YO,ShapeFlags:ZO,SlotFlags:JO,camelize:Kn,capitalize:Va,cssVarNameEscapeSymbolsRE:EA,def:g1,escapeHtml:bP,escapeHtmlComment:_P,extend:ln,genCacheKey:XO,genPropsAccessExp:qO,generateCodeFrame:mA,getEscapedCssVarName:wP,getGlobalThis:ff,hasChanged:ui,hasOwn:En,hyphenate:pi,includeBooleanAttr:b1,invokeArrayFns:El,isArray:mt,isBooleanAttr:cP,isBuiltInDirective:pA,isDate:jv,isFunction:Pt,isGloballyAllowed:v1,isGloballyWhitelisted:tP,isHTMLTag:vA,isIntegerKey:bm,isKnownHtmlAttr:pP,isKnownMathMLAttr:gP,isKnownSvgAttr:mP,isMap:_l,isMathMLTag:bA,isModelListener:gm,isObject:Sn,isOn:Ba,isPlainObject:hf,isPromise:ym,isRegExp:fA,isRenderableAttrValue:vP,isReservedProp:Vo,isSSRSafeAttrName:fP,isSVGTag:yA,isSet:Ua,isSpecialBooleanAttr:wA,isString:$t,isSymbol:Pi,isVoidTag:xA,looseEqual:Ho,looseIndexOf:df,looseToNumber:Ah,makeMap:Kr,normalizeClass:st,normalizeCssVarValue:AA,normalizeProps:gA,normalizeStyle:Gn,objectToString:m1,parseStringStyle:y1,propsToAttrMap:dP,remove:vm,slotFlagsText:QO,stringifyStyle:sP,toDisplayString:ke,toHandlerKey:wl,toNumber:Th,toRawType:dA,toTypeString:nu},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ai;class x1{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ai,!t&&ai&&(this.index=(ai.scopes||(ai.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=ai;try{return ai=this,t()}finally{ai=r}}}on(){++this._on===1&&(this.prevScope=ai,ai=this)}off(){this._on>0&&--this._on===0&&(ai=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function _1(n){return new x1(n)}function w1(){return ai}function TA(n,t=!1){ai&&ai.cleanups.push(n)}let Xn;const m0=new WeakSet;class Ih{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ai&&ai.active&&ai.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,m0.has(this)&&(m0.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||DA(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,hw(this),NA(this);const t=Xn,r=Hs;Xn=this,Hs=!0;try{return this.fn()}finally{kA(this),Xn=t,Hs=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)C1(t);this.deps=this.depsTail=void 0,hw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?m0.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zv(this)&&this.run()}get dirty(){return zv(this)}}let IA=0,sh,oh;function DA(n,t=!1){if(n.flags|=8,t){n.next=oh,oh=n;return}n.next=sh,sh=n}function E1(){IA++}function S1(){if(--IA>0)return;if(oh){let t=oh;for(oh=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let n;for(;sh;){let t=sh;for(sh=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){n||(n=i)}t=r}}if(n)throw n}function NA(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function kA(n){let t,r=n.depsTail,i=r;for(;i;){const s=i.prevDep;i.version===-1?(i===r&&(r=s),C1(i),CP(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}n.deps=t,n.depsTail=r}function zv(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(FA(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function FA(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Dh)||(n.globalVersion=Dh,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!zv(n))))return;n.flags|=2;const t=n.dep,r=Xn,i=Hs;Xn=n,Hs=!0;try{NA(n);const s=n.fn(n._value);(t.version===0||ui(s,n._value))&&(n.flags|=128,n._value=s,t.version++)}catch(s){throw t.version++,s}finally{Xn=r,Hs=i,kA(n),n.flags&=-3}}function C1(n,t=!1){const{dep:r,prevSub:i,nextSub:s}=n;if(i&&(i.nextSub=s,n.prevSub=void 0),s&&(s.prevSub=i,n.nextSub=void 0),r.subs===n&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)C1(o,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function CP(n){const{prevDep:t,nextDep:r}=n;t&&(t.nextDep=r,n.prevDep=void 0),r&&(r.prevDep=t,n.nextDep=void 0)}function AP(n,t){n.effect instanceof Ih&&(n=n.effect.fn);const r=new Ih(n);t&&ln(r,t);try{r.run()}catch(s){throw r.stop(),s}const i=r.run.bind(r);return i.effect=r,i}function TP(n){n.effect.stop()}let Hs=!0;const MA=[];function Wo(){MA.push(Hs),Hs=!1}function qo(){const n=MA.pop();Hs=n===void 0?!0:n}function hw(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const r=Xn;Xn=void 0;try{t()}finally{Xn=r}}}let Dh=0;class IP{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _m{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Xn||!Hs||Xn===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Xn)r=this.activeLink=new IP(Xn,this),Xn.deps?(r.prevDep=Xn.depsTail,Xn.depsTail.nextDep=r,Xn.depsTail=r):Xn.deps=Xn.depsTail=r,OA(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Xn.depsTail,r.nextDep=void 0,Xn.depsTail.nextDep=r,Xn.depsTail=r,Xn.deps===r&&(Xn.deps=i)}return r}trigger(t){this.version++,Dh++,this.notify(t)}notify(t){E1();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{S1()}}}function OA(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)OA(i)}const r=n.dep.subs;r!==n&&(n.prevSub=r,r&&(r.nextSub=n)),n.dep.subs=n}}const pp=new WeakMap,Sl=Symbol(""),Gv=Symbol(""),Nh=Symbol("");function ci(n,t,r){if(Hs&&Xn){let i=pp.get(n);i||pp.set(n,i=new Map);let s=i.get(r);s||(i.set(r,s=new _m),s.map=i,s.key=r),s.track()}}function Oo(n,t,r,i,s,o){const a=pp.get(n);if(!a){Dh++;return}const l=u=>{u&&u.trigger()};if(E1(),t==="clear")a.forEach(l);else{const u=mt(n),h=u&&bm(r);if(u&&r==="length"){const c=Number(i);a.forEach((f,p)=>{(p==="length"||p===Nh||!Pi(p)&&p>=c)&&l(f)})}else switch((r!==void 0||a.has(void 0))&&l(a.get(r)),h&&l(a.get(Nh)),t){case"add":u?h&&l(a.get("length")):(l(a.get(Sl)),_l(n)&&l(a.get(Gv)));break;case"delete":u||(l(a.get(Sl)),_l(n)&&l(a.get(Gv)));break;case"set":_l(n)&&l(a.get(Sl));break}}S1()}function DP(n,t){const r=pp.get(n);return r&&r.get(t)}function vu(n){const t=mn(n);return t===n?t:(ci(t,"iterate",Nh),hs(n)?t:t.map(Qr))}function wm(n){return ci(n=mn(n),"iterate",Nh),n}const NP={__proto__:null,[Symbol.iterator](){return g0(this,Symbol.iterator,Qr)},concat(...n){return vu(this).concat(...n.map(t=>mt(t)?vu(t):t))},entries(){return g0(this,"entries",n=>(n[1]=Qr(n[1]),n))},every(n,t){return So(this,"every",n,t,void 0,arguments)},filter(n,t){return So(this,"filter",n,t,r=>r.map(Qr),arguments)},find(n,t){return So(this,"find",n,t,Qr,arguments)},findIndex(n,t){return So(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return So(this,"findLast",n,t,Qr,arguments)},findLastIndex(n,t){return So(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return So(this,"forEach",n,t,void 0,arguments)},includes(...n){return v0(this,"includes",n)},indexOf(...n){return v0(this,"indexOf",n)},join(n){return vu(this).join(n)},lastIndexOf(...n){return v0(this,"lastIndexOf",n)},map(n,t){return So(this,"map",n,t,void 0,arguments)},pop(){return Rc(this,"pop")},push(...n){return Rc(this,"push",n)},reduce(n,...t){return fw(this,"reduce",n,t)},reduceRight(n,...t){return fw(this,"reduceRight",n,t)},shift(){return Rc(this,"shift")},some(n,t){return So(this,"some",n,t,void 0,arguments)},splice(...n){return Rc(this,"splice",n)},toReversed(){return vu(this).toReversed()},toSorted(n){return vu(this).toSorted(n)},toSpliced(...n){return vu(this).toSpliced(...n)},unshift(...n){return Rc(this,"unshift",n)},values(){return g0(this,"values",Qr)}};function g0(n,t,r){const i=wm(n),s=i[t]();return i!==n&&!hs(n)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.done||(o.value=r(o.value)),o}),s}const kP=Array.prototype;function So(n,t,r,i,s,o){const a=wm(n),l=a!==n&&!hs(n),u=a[t];if(u!==kP[t]){const f=u.apply(n,o);return l?Qr(f):f}let h=r;a!==n&&(l?h=function(f,p){return r.call(this,Qr(f),p,n)}:r.length>2&&(h=function(f,p){return r.call(this,f,p,n)}));const c=u.call(a,h,i);return l&&s?s(c):c}function fw(n,t,r,i){const s=wm(n);let o=r;return s!==n&&(hs(n)?r.length>3&&(o=function(a,l,u){return r.call(this,a,l,u,n)}):o=function(a,l,u){return r.call(this,a,Qr(l),u,n)}),s[t](o,...i)}function v0(n,t,r){const i=mn(n);ci(i,"iterate",Nh);const s=i[t](...r);return(s===-1||s===!1)&&Cm(r[0])?(r[0]=mn(r[0]),i[t](...r)):s}function Rc(n,t,r=[]){Wo(),E1();const i=mn(n)[t].apply(n,r);return S1(),qo(),i}const FP=Kr("__proto__,__v_isRef,__isVue"),PA=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Pi));function MP(n){Pi(n)||(n=String(n));const t=mn(this);return ci(t,"has",n),t.hasOwnProperty(n)}class LA{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){if(r==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return o;if(r==="__v_raw")return i===(s?o?jA:$A:o?VA:UA).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=mt(t);if(!s){let u;if(a&&(u=NP[r]))return u;if(r==="hasOwnProperty")return MP}const l=Reflect.get(t,r,or(t)?t:i);if((Pi(r)?PA.has(r):FP(r))||(s||ci(t,"get",r),o))return l;if(or(l)){const u=a&&bm(r)?l:l.value;return s&&Sn(u)?mp(u):u}return Sn(l)?s?mp(l):vc(l):l}}class RA extends LA{constructor(t=!1){super(!1,t)}set(t,r,i,s){let o=t[r];if(!this._isShallow){const u=Xo(o);if(!hs(i)&&!Xo(i)&&(o=mn(o),i=mn(i)),!mt(t)&&or(o)&&!or(i))return u||(o.value=i),!0}const a=mt(t)&&bm(r)?Number(r)<t.length:En(t,r),l=Reflect.set(t,r,i,or(t)?t:s);return t===mn(s)&&(a?ui(i,o)&&Oo(t,"set",r,i):Oo(t,"add",r,i)),l}deleteProperty(t,r){const i=En(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&i&&Oo(t,"delete",r,void 0),s}has(t,r){const i=Reflect.has(t,r);return(!Pi(r)||!PA.has(r))&&ci(t,"has",r),i}ownKeys(t){return ci(t,"iterate",mt(t)?"length":Sl),Reflect.ownKeys(t)}}class BA extends LA{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const OP=new RA,PP=new BA,LP=new RA(!0),RP=new BA(!0),Hv=n=>n,Kf=n=>Reflect.getPrototypeOf(n);function BP(n,t,r){return function(...i){const s=this.__v_raw,o=mn(s),a=_l(o),l=n==="entries"||n===Symbol.iterator&&a,u=n==="keys"&&a,h=s[n](...i),c=r?Hv:t?gp:Qr;return!t&&ci(o,"iterate",u?Gv:Sl),{next(){const{value:f,done:p}=h.next();return p?{value:f,done:p}:{value:l?[c(f[0]),c(f[1])]:c(f),done:p}},[Symbol.iterator](){return this}}}}function Zf(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function UP(n,t){const r={get(s){const o=this.__v_raw,a=mn(o),l=mn(s);n||(ui(s,l)&&ci(a,"get",s),ci(a,"get",l));const{has:u}=Kf(a),h=t?Hv:n?gp:Qr;if(u.call(a,s))return h(o.get(s));if(u.call(a,l))return h(o.get(l));o!==a&&o.get(s)},get size(){const s=this.__v_raw;return!n&&ci(mn(s),"iterate",Sl),s.size},has(s){const o=this.__v_raw,a=mn(o),l=mn(s);return n||(ui(s,l)&&ci(a,"has",s),ci(a,"has",l)),s===l?o.has(s):o.has(s)||o.has(l)},forEach(s,o){const a=this,l=a.__v_raw,u=mn(l),h=t?Hv:n?gp:Qr;return!n&&ci(u,"iterate",Sl),l.forEach((c,f)=>s.call(o,h(c),h(f),a))}};return ln(r,n?{add:Zf("add"),set:Zf("set"),delete:Zf("delete"),clear:Zf("clear")}:{add(s){!t&&!hs(s)&&!Xo(s)&&(s=mn(s));const o=mn(this);return Kf(o).has.call(o,s)||(o.add(s),Oo(o,"add",s,s)),this},set(s,o){!t&&!hs(o)&&!Xo(o)&&(o=mn(o));const a=mn(this),{has:l,get:u}=Kf(a);let h=l.call(a,s);h||(s=mn(s),h=l.call(a,s));const c=u.call(a,s);return a.set(s,o),h?ui(o,c)&&Oo(a,"set",s,o):Oo(a,"add",s,o),this},delete(s){const o=mn(this),{has:a,get:l}=Kf(o);let u=a.call(o,s);u||(s=mn(s),u=a.call(o,s)),l&&l.call(o,s);const h=o.delete(s);return u&&Oo(o,"delete",s,void 0),h},clear(){const s=mn(this),o=s.size!==0,a=s.clear();return o&&Oo(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=BP(s,n,t)}),r}function Em(n,t){const r=UP(n,t);return(i,s,o)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(En(r,s)&&s in i?r:i,s,o)}const VP={get:Em(!1,!1)},$P={get:Em(!1,!0)},jP={get:Em(!0,!1)},zP={get:Em(!0,!0)},UA=new WeakMap,VA=new WeakMap,$A=new WeakMap,jA=new WeakMap;function GP(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function HP(n){return n.__v_skip||!Object.isExtensible(n)?0:GP(dA(n))}function vc(n){return Xo(n)?n:Sm(n,!1,OP,VP,UA)}function A1(n){return Sm(n,!1,LP,$P,VA)}function mp(n){return Sm(n,!0,PP,jP,$A)}function WP(n){return Sm(n,!0,RP,zP,jA)}function Sm(n,t,r,i,s){if(!Sn(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const o=HP(n);if(o===0)return n;const a=s.get(n);if(a)return a;const l=new Proxy(n,o===2?i:r);return s.set(n,l),l}function Ws(n){return Xo(n)?Ws(n.__v_raw):!!(n&&n.__v_isReactive)}function Xo(n){return!!(n&&n.__v_isReadonly)}function hs(n){return!!(n&&n.__v_isShallow)}function Cm(n){return n?!!n.__v_raw:!1}function mn(n){const t=n&&n.__v_raw;return t?mn(t):n}function Am(n){return!En(n,"__v_skip")&&Object.isExtensible(n)&&g1(n,"__v_skip",!0),n}const Qr=n=>Sn(n)?vc(n):n,gp=n=>Sn(n)?mp(n):n;function or(n){return n?n.__v_isRef===!0:!1}function Ue(n){return zA(n,!1)}function T1(n){return zA(n,!0)}function zA(n,t){return or(n)?n:new qP(n,t)}class qP{constructor(t,r){this.dep=new _m,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:mn(t),this._value=r?t:Qr(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,i=this.__v_isShallow||hs(t)||Xo(t);t=i?t:mn(t),ui(t,r)&&(this._rawValue=t,this._value=i?t:Qr(t),this.dep.trigger())}}function XP(n){n.dep&&n.dep.trigger()}function hi(n){return or(n)?n.value:n}function YP(n){return Pt(n)?n():hi(n)}const KP={get:(n,t,r)=>t==="__v_raw"?n:hi(Reflect.get(n,t,r)),set:(n,t,r,i)=>{const s=n[t];return or(s)&&!or(r)?(s.value=r,!0):Reflect.set(n,t,r,i)}};function I1(n){return Ws(n)?n:new Proxy(n,KP)}class ZP{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new _m,{get:i,set:s}=t(r.track.bind(r),r.trigger.bind(r));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function GA(n){return new ZP(n)}function HA(n){const t=mt(n)?new Array(n.length):{};for(const r in n)t[r]=qA(n,r);return t}class JP{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return DP(mn(this._object),this._key)}}class QP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function WA(n,t,r){return or(n)?n:Pt(n)?new QP(n):Sn(n)&&arguments.length>1?qA(n,t,r):Ue(n)}function qA(n,t,r){const i=n[t];return or(i)?i:new JP(n,t,r)}class eL{constructor(t,r,i){this.fn=t,this.setter=r,this._value=void 0,this.dep=new _m(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Dh-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Xn!==this)return DA(this,!0),!0}get value(){const t=this.dep.track();return FA(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function tL(n,t,r=!1){let i,s;return Pt(n)?i=n:(i=n.get,s=n.set),new eL(i,s,r)}const nL={GET:"get",HAS:"has",ITERATE:"iterate"},rL={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Jf={},vp=new WeakMap;let fa;function iL(){return fa}function XA(n,t=!1,r=fa){if(r){let i=vp.get(r);i||vp.set(r,i=[]),i.push(n)}}function sL(n,t,r=un){const{immediate:i,deep:s,once:o,scheduler:a,augmentJob:l,call:u}=r,h=x=>s?x:hs(x)||s===!1||s===0?Po(x,1):Po(x);let c,f,p,d,g=!1,m=!1;if(or(n)?(f=()=>n.value,g=hs(n)):Ws(n)?(f=()=>h(n),g=!0):mt(n)?(m=!0,g=n.some(x=>Ws(x)||hs(x)),f=()=>n.map(x=>{if(or(x))return x.value;if(Ws(x))return h(x);if(Pt(x))return u?u(x,2):x()})):Pt(n)?t?f=u?()=>u(n,2):n:f=()=>{if(p){Wo();try{p()}finally{qo()}}const x=fa;fa=c;try{return u?u(n,3,[d]):n(d)}finally{fa=x}}:f=Yr,t&&s){const x=f,C=s===!0?1/0:s;f=()=>Po(x(),C)}const v=w1(),w=()=>{c.stop(),v&&v.active&&vm(v.effects,c)};if(o&&t){const x=t;t=(...C)=>{x(...C),w()}}let y=m?new Array(n.length).fill(Jf):Jf;const _=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const C=c.run();if(s||g||(m?C.some((E,S)=>ui(E,y[S])):ui(C,y))){p&&p();const E=fa;fa=c;try{const S=[C,y===Jf?void 0:m&&y[0]===Jf?[]:y,d];y=C,u?u(t,3,S):t(...S)}finally{fa=E}}}else c.run()};return l&&l(_),c=new Ih(f),c.scheduler=a?()=>a(_,!1):_,d=x=>XA(x,!1,c),p=c.onStop=()=>{const x=vp.get(c);if(x){if(u)u(x,4);else for(const C of x)C();vp.delete(c)}},t?i?_(!0):y=c.run():a?a(_.bind(null,!0),!0):c.run(),w.pause=c.pause.bind(c),w.resume=c.resume.bind(c),w.stop=w,w}function Po(n,t=1/0,r){if(t<=0||!Sn(n)||n.__v_skip||(r=r||new Map,(r.get(n)||0)>=t))return n;if(r.set(n,t),t--,or(n))Po(n.value,t,r);else if(mt(n))for(let i=0;i<n.length;i++)Po(n[i],t,r);else if(Ua(n)||_l(n))n.forEach(i=>{Po(i,t,r)});else if(hf(n)){for(const i in n)Po(n[i],t,r);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&Po(n[i],t,r)}return n}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const YA=[];function oL(n){YA.push(n)}function aL(){YA.pop()}function lL(n,t){}const uL={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},cL={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function yc(n,t,r,i){try{return i?n(...i):n()}catch(s){ru(s,t,r)}}function As(n,t,r,i){if(Pt(n)){const s=yc(n,t,r,i);return s&&ym(s)&&s.catch(o=>{ru(o,t,r)}),s}if(mt(n)){const s=[];for(let o=0;o<n.length;o++)s.push(As(n[o],t,r,i));return s}}function ru(n,t,r,i=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||un;if(t){let l=t.parent;const u=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${r}`;for(;l;){const c=l.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](n,u,h)===!1)return}l=l.parent}if(o){Wo(),yc(o,null,10,[n,u,h]),qo();return}}hL(n,r,s,i,a)}function hL(n,t,r,i=!0,s=!1){if(s)throw n;console.error(n)}const Ii=[];let ao=-1;const $u=[];let da=null,Du=0;const KA=Promise.resolve();let yp=null;function Fr(n){const t=yp||KA;return n?t.then(this?n.bind(this):n):t}function fL(n){let t=ao+1,r=Ii.length;for(;t<r;){const i=t+r>>>1,s=Ii[i],o=Fh(s);o<n||o===n&&s.flags&2?t=i+1:r=i}return t}function D1(n){if(!(n.flags&1)){const t=Fh(n),r=Ii[Ii.length-1];!r||!(n.flags&2)&&t>=Fh(r)?Ii.push(n):Ii.splice(fL(t),0,n),n.flags|=1,ZA()}}function ZA(){yp||(yp=KA.then(JA))}function kh(n){mt(n)?$u.push(...n):da&&n.id===-1?da.splice(Du+1,0,n):n.flags&1||($u.push(n),n.flags|=1),ZA()}function dw(n,t,r=ao+1){for(;r<Ii.length;r++){const i=Ii[r];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;Ii.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function bp(n){if($u.length){const t=[...new Set($u)].sort((r,i)=>Fh(r)-Fh(i));if($u.length=0,da){da.push(...t);return}for(da=t,Du=0;Du<da.length;Du++){const r=da[Du];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}da=null,Du=0}}const Fh=n=>n.id==null?n.flags&2?-1:1/0:n.id;function JA(n){try{for(ao=0;ao<Ii.length;ao++){const t=Ii[ao];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),yc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ao<Ii.length;ao++){const t=Ii[ao];t&&(t.flags&=-2)}ao=-1,Ii.length=0,bp(),yp=null,(Ii.length||$u.length)&&JA()}}let Nu,Qf=[];function QA(n,t){var r,i;Nu=n,Nu?(Nu.enabled=!0,Qf.forEach(({event:s,args:o})=>Nu.emit(s,...o)),Qf=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{QA(o,t)}),setTimeout(()=>{Nu||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Qf=[])},3e3)):Qf=[]}let ni=null,Tm=null;function Mh(n){const t=ni;return ni=n,Tm=n&&n.type.__scopeId||null,t}function dL(n){Tm=n}function pL(){Tm=null}const mL=n=>Sr;function Sr(n,t=ni,r){if(!t||n._n)return n;const i=(...s)=>{i._d&&Lh(-1);const o=Mh(t);let a;try{a=n(...s)}finally{Mh(o),i._d&&Lh(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Bt(n,t){if(ni===null)return n;const r=vf(ni),i=n.dirs||(n.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,u=un]=t[s];o&&(Pt(o)&&(o={mounted:o,updated:o}),o.deep&&Po(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return n}function lo(n,t,r,i){const s=n.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];o&&(l.oldValue=o[a].value);let u=l.dir[i];u&&(Wo(),As(u,r,8,[n.el,l,n,t]),qo())}}const eT=Symbol("_vte"),tT=n=>n.__isTeleport,ah=n=>n&&(n.disabled||n.disabled===""),pw=n=>n&&(n.defer||n.defer===""),mw=n=>typeof SVGElement<"u"&&n instanceof SVGElement,gw=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,Wv=(n,t)=>{const r=n&&n.to;return $t(r)?t?t(r):null:r},nT={name:"Teleport",__isTeleport:!0,process(n,t,r,i,s,o,a,l,u,h){const{mc:c,pc:f,pbc:p,o:{insert:d,querySelector:g,createText:m,createComment:v}}=h,w=ah(t.props);let{shapeFlag:y,children:_,dynamicChildren:x}=t;if(n==null){const C=t.el=m(""),E=t.anchor=m("");d(C,r,i),d(E,r,i);const S=(A,N)=>{y&16&&c(_,A,N,s,o,a,l,u)},D=()=>{const A=t.target=Wv(t.props,g),N=rT(A,t,m,d);A&&(a!=="svg"&&mw(A)?a="svg":a!=="mathml"&&gw(A)&&(a="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(A),w||(S(A,N),jd(t,!1)))};w&&(S(r,E),jd(t,!0)),pw(t.props)?(t.el.__isMounted=!1,Ur(()=>{D(),delete t.el.__isMounted},o)):D()}else{if(pw(t.props)&&n.el.__isMounted===!1){Ur(()=>{nT.process(n,t,r,i,s,o,a,l,u,h)},o);return}t.el=n.el,t.targetStart=n.targetStart;const C=t.anchor=n.anchor,E=t.target=n.target,S=t.targetAnchor=n.targetAnchor,D=ah(n.props),A=D?r:E,N=D?C:S;if(a==="svg"||mw(E)?a="svg":(a==="mathml"||gw(E))&&(a="mathml"),x?(p(n.dynamicChildren,x,A,s,o,a,l),$1(n,t,!0)):u||f(n,t,A,N,s,o,a,l,!1),w)D?t.props&&n.props&&t.props.to!==n.props.to&&(t.props.to=n.props.to):ed(t,r,C,h,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const F=t.target=Wv(t.props,g);F&&ed(t,F,null,h,0)}else D&&ed(t,E,S,h,1);jd(t,w)}},remove(n,t,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetStart:h,targetAnchor:c,target:f,props:p}=n;if(f&&(s(h),s(c)),o&&s(u),a&16){const d=o||!ah(p);for(let g=0;g<l.length;g++){const m=l[g];i(m,t,r,d,!!m.dynamicChildren)}}},move:ed,hydrate:gL};function ed(n,t,r,{o:{insert:i},m:s},o=2){o===0&&i(n.targetAnchor,t,r);const{el:a,anchor:l,shapeFlag:u,children:h,props:c}=n,f=o===2;if(f&&i(a,t,r),(!f||ah(c))&&u&16)for(let p=0;p<h.length;p++)s(h[p],t,r,2);f&&i(l,t,r)}function gL(n,t,r,i,s,o,{o:{nextSibling:a,parentNode:l,querySelector:u,insert:h,createText:c}},f){function p(m,v,w,y){v.anchor=f(a(m),v,l(m),r,i,s,o),v.targetStart=w,v.targetAnchor=y}const d=t.target=Wv(t.props,u),g=ah(t.props);if(d){const m=d._lpa||d.firstChild;if(t.shapeFlag&16)if(g)p(n,t,m,m&&a(m));else{t.anchor=a(n);let v=m;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,d._lpa=t.targetAnchor&&a(t.targetAnchor);break}}v=a(v)}t.targetAnchor||rT(d,t,c,h),f(m&&a(m),t,d,r,i,s,o)}jd(t,g)}else g&&t.shapeFlag&16&&p(n,t,n,a(n));return t.anchor&&a(t.anchor)}const vL=nT;function jd(n,t){const r=n.ctx;if(r&&r.ut){let i,s;for(t?(i=n.el,s=n.anchor):(i=n.targetStart,s=n.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",r.uid),i=i.nextSibling;r.ut()}}function rT(n,t,r,i){const s=t.targetStart=r(""),o=t.targetAnchor=r("");return s[eT]=o,n&&(i(s,n),i(o,n)),o}const Fo=Symbol("_leaveCb"),td=Symbol("_enterCb");function N1(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return On(()=>{n.isMounted=!0}),Mr(()=>{n.isUnmounting=!0}),n}const bs=[Function,Array],k1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bs,onEnter:bs,onAfterEnter:bs,onEnterCancelled:bs,onBeforeLeave:bs,onLeave:bs,onAfterLeave:bs,onLeaveCancelled:bs,onBeforeAppear:bs,onAppear:bs,onAfterAppear:bs,onAppearCancelled:bs},iT=n=>{const t=n.subTree;return t.component?iT(t.component):t},yL={name:"BaseTransition",props:k1,setup(n,{slots:t}){const r=ts(),i=N1();return()=>{const s=t.default&&Im(t.default(),!0);if(!s||!s.length)return;const o=sT(s),a=mn(n),{mode:l}=a;if(i.isLeaving)return y0(o);const u=vw(o);if(!u)return y0(o);let h=Zu(u,a,i,r,f=>h=f);u.type!==Cr&&Yo(u,h);let c=r.subTree&&vw(r.subTree);if(c&&c.type!==Cr&&!js(c,u)&&iT(r).type!==Cr){let f=Zu(c,a,i,r);if(Yo(c,f),l==="out-in"&&u.type!==Cr)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,c=void 0},y0(o);l==="in-out"&&u.type!==Cr?f.delayLeave=(p,d,g)=>{const m=aT(i,c);m[String(c.key)]=c,p[Fo]=()=>{d(),p[Fo]=void 0,delete h.delayedLeave,c=void 0},h.delayedLeave=()=>{g(),delete h.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function sT(n){let t=n[0];if(n.length>1){for(const r of n)if(r.type!==Cr){t=r;break}}return t}const oT=yL;function aT(n,t){const{leavingVNodes:r}=n;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function Zu(n,t,r,i,s){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:h,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:p,onLeave:d,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:v,onAppear:w,onAfterAppear:y,onAppearCancelled:_}=t,x=String(n.key),C=aT(r,n),E=(A,N)=>{A&&As(A,i,9,N)},S=(A,N)=>{const F=N[1];E(A,N),mt(A)?A.every(T=>T.length<=1)&&F():A.length<=1&&F()},D={mode:a,persisted:l,beforeEnter(A){let N=u;if(!r.isMounted)if(o)N=v||u;else return;A[Fo]&&A[Fo](!0);const F=C[x];F&&js(n,F)&&F.el[Fo]&&F.el[Fo](),E(N,[A])},enter(A){let N=h,F=c,T=f;if(!r.isMounted)if(o)N=w||h,F=y||c,T=_||f;else return;let I=!1;const M=A[td]=L=>{I||(I=!0,L?E(T,[A]):E(F,[A]),D.delayedLeave&&D.delayedLeave(),A[td]=void 0)};N?S(N,[A,M]):M()},leave(A,N){const F=String(n.key);if(A[td]&&A[td](!0),r.isUnmounting)return N();E(p,[A]);let T=!1;const I=A[Fo]=M=>{T||(T=!0,N(),M?E(m,[A]):E(g,[A]),A[Fo]=void 0,C[F]===n&&delete C[F])};C[F]=n,d?S(d,[A,I]):I()},clone(A){const N=Zu(A,t,r,i,s);return s&&s(N),N}};return D}function y0(n){if(mf(n))return n=fo(n),n.children=null,n}function vw(n){if(!mf(n))return tT(n.type)&&n.children?sT(n.children):n;if(n.component)return n.component.subTree;const{shapeFlag:t,children:r}=n;if(r){if(t&16)return r[0];if(t&32&&Pt(r.default))return r.default()}}function Yo(n,t){n.shapeFlag&6&&n.component?(n.transition=t,Yo(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function Im(n,t=!1,r){let i=[],s=0;for(let o=0;o<n.length;o++){let a=n[o];const l=r==null?a.key:String(r)+String(a.key!=null?a.key:o);a.type===it?(a.patchFlag&128&&s++,i=i.concat(Im(a.children,t,l))):(t||a.type!==Cr)&&i.push(l!=null?fo(a,{key:l}):a)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function pf(n,t){return Pt(n)?ln({name:n.name},t,{setup:n}):n}function bL(){const n=ts();return n?(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++:""}function F1(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function xL(n){const t=ts(),r=T1(null);if(t){const s=t.refs===un?t.refs={}:t.refs;Object.defineProperty(s,n,{enumerable:!0,get:()=>r.value,set:o=>r.value=o})}return r}const xp=new WeakMap;function ju(n,t,r,i,s=!1){if(mt(n)){n.forEach((g,m)=>ju(g,t&&(mt(t)?t[m]:t),r,i,s));return}if(Ta(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&ju(n,t,r,i.component.subTree);return}const o=i.shapeFlag&4?vf(i.component):i.el,a=s?null:o,{i:l,r:u}=n,h=t&&t.r,c=l.refs===un?l.refs={}:l.refs,f=l.setupState,p=mn(f),d=f===un?ml:g=>En(p,g);if(h!=null&&h!==u){if(yw(t),$t(h))c[h]=null,d(h)&&(f[h]=null);else if(or(h)){h.value=null;const g=t;g.k&&(c[g.k]=null)}}if(Pt(u))yc(u,l,12,[a,c]);else{const g=$t(u),m=or(u);if(g||m){const v=()=>{if(n.f){const w=g?d(u)?f[u]:c[u]:u.value;if(s)mt(w)&&vm(w,o);else if(mt(w))w.includes(o)||w.push(o);else if(g)c[u]=[o],d(u)&&(f[u]=c[u]);else{const y=[o];u.value=y,n.k&&(c[n.k]=y)}}else g?(c[u]=a,d(u)&&(f[u]=a)):m&&(u.value=a,n.k&&(c[n.k]=a))};if(a){const w=()=>{v(),xp.delete(n)};w.id=-1,xp.set(n,w),Ur(w,r)}else yw(n),v()}}}function yw(n){const t=xp.get(n);t&&(t.flags|=8,xp.delete(n))}let bw=!1;const yu=()=>{bw||(console.error("Hydration completed but contains mismatches."),bw=!0)},_L=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",wL=n=>n.namespaceURI.includes("MathML"),nd=n=>{if(n.nodeType===1){if(_L(n))return"svg";if(wL(n))return"mathml"}},Ou=n=>n.nodeType===8;function EL(n){const{mt:t,p:r,o:{patchProp:i,createText:s,nextSibling:o,parentNode:a,remove:l,insert:u,createComment:h}}=n,c=(_,x)=>{if(!x.hasChildNodes()){r(null,_,x),bp(),x._vnode=_;return}f(x.firstChild,_,null,null,null),bp(),x._vnode=_},f=(_,x,C,E,S,D=!1)=>{D=D||!!x.dynamicChildren;const A=Ou(_)&&_.data==="[",N=()=>m(_,x,C,E,S,A),{type:F,ref:T,shapeFlag:I,patchFlag:M}=x;let L=_.nodeType;x.el=_,M===-2&&(D=!1,x.dynamicChildren=null);let B=null;switch(F){case Ia:L!==3?x.children===""?(u(x.el=s(""),a(_),_),B=_):B=N():(_.data!==x.children&&(yu(),_.data=x.children),B=o(_));break;case Cr:y(_)?(B=o(_),w(x.el=_.content.firstChild,_,C)):L!==8||A?B=N():B=o(_);break;case Al:if(A&&(_=o(_),L=_.nodeType),L===1||L===3){B=_;const $=!x.children.length;for(let q=0;q<x.staticCount;q++)$&&(x.children+=B.nodeType===1?B.outerHTML:B.data),q===x.staticCount-1&&(x.anchor=B),B=o(B);return A?o(B):B}else N();break;case it:A?B=g(_,x,C,E,S,D):B=N();break;default:if(I&1)(L!==1||x.type.toLowerCase()!==_.tagName.toLowerCase())&&!y(_)?B=N():B=p(_,x,C,E,S,D);else if(I&6){x.slotScopeIds=S;const $=a(_);if(A?B=v(_):Ou(_)&&_.data==="teleport start"?B=v(_,_.data,"teleport end"):B=o(_),t(x,$,null,C,E,nd($),D),Ta(x)&&!x.type.__asyncResolved){let q;A?(q=lt(it),q.anchor=B?B.previousSibling:$.lastChild):q=_.nodeType===3?Ct(""):lt("div"),q.el=_,x.component.subTree=q}}else I&64?L!==8?B=N():B=x.type.hydrate(_,x,C,E,S,D,n,d):I&128&&(B=x.type.hydrate(_,x,C,E,nd(a(_)),S,D,n,f))}return T!=null&&ju(T,null,E,x),B},p=(_,x,C,E,S,D)=>{D=D||!!x.dynamicChildren;const{type:A,props:N,patchFlag:F,shapeFlag:T,dirs:I,transition:M}=x,L=A==="input"||A==="option";if(L||F!==-1){I&&lo(x,null,C,"created");let B=!1;if(y(_)){B=FT(null,M)&&C&&C.vnode.props&&C.vnode.props.appear;const q=_.content.firstChild;if(B){const Z=q.getAttribute("class");Z&&(q.$cls=Z),M.beforeEnter(q)}w(q,_,C),x.el=_=q}if(T&16&&!(N&&(N.innerHTML||N.textContent))){let q=d(_.firstChild,x,_,C,E,S,D);for(;q;){rd(_,1)||yu();const Z=q;q=q.nextSibling,l(Z)}}else if(T&8){let q=x.children;q[0]===`
`&&(_.tagName==="PRE"||_.tagName==="TEXTAREA")&&(q=q.slice(1)),_.textContent!==q&&(rd(_,0)||yu(),_.textContent=x.children)}if(N){if(L||!D||F&48){const q=_.tagName.includes("-");for(const Z in N)(L&&(Z.endsWith("value")||Z==="indeterminate")||Ba(Z)&&!Vo(Z)||Z[0]==="."||q)&&i(_,Z,null,N[Z],void 0,C)}else if(N.onClick)i(_,"onClick",null,N.onClick,void 0,C);else if(F&4&&Ws(N.style))for(const q in N.style)N.style[q]}let $;($=N&&N.onVnodeBeforeMount)&&Gi($,C,x),I&&lo(x,null,C,"beforeMount"),(($=N&&N.onVnodeMounted)||I||B)&&$T(()=>{$&&Gi($,C,x),B&&M.enter(_),I&&lo(x,null,C,"mounted")},E)}return _.nextSibling},d=(_,x,C,E,S,D,A)=>{A=A||!!x.dynamicChildren;const N=x.children,F=N.length;for(let T=0;T<F;T++){const I=A?N[T]:N[T]=qi(N[T]),M=I.type===Ia;_?(M&&!A&&T+1<F&&qi(N[T+1]).type===Ia&&(u(s(_.data.slice(I.children.length)),C,o(_)),_.data=I.children),_=f(_,I,E,S,D,A)):M&&!I.children?u(I.el=s(""),C):(rd(C,1)||yu(),r(null,I,C,null,E,S,nd(C),D))}return _},g=(_,x,C,E,S,D)=>{const{slotScopeIds:A}=x;A&&(S=S?S.concat(A):A);const N=a(_),F=d(o(_),x,N,C,E,S,D);return F&&Ou(F)&&F.data==="]"?o(x.anchor=F):(yu(),u(x.anchor=h("]"),N,F),F)},m=(_,x,C,E,S,D)=>{if(rd(_.parentElement,1)||yu(),x.el=null,D){const F=v(_);for(;;){const T=o(_);if(T&&T!==F)l(T);else break}}const A=o(_),N=a(_);return l(_),r(null,x,N,A,C,E,nd(N),S),C&&(C.vnode.el=x.el,Mm(C,x.el)),A},v=(_,x="[",C="]")=>{let E=0;for(;_;)if(_=o(_),_&&Ou(_)&&(_.data===x&&E++,_.data===C)){if(E===0)return o(_);E--}return _},w=(_,x,C)=>{const E=x.parentNode;E&&E.replaceChild(_,x);let S=C;for(;S;)S.vnode.el===x&&(S.vnode.el=S.subTree.el=_),S=S.parent},y=_=>_.nodeType===1&&_.tagName==="TEMPLATE";return[c,f]}const xw="data-allow-mismatch",SL={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function rd(n,t){if(t===0||t===1)for(;n&&!n.hasAttribute(xw);)n=n.parentElement;const r=n&&n.getAttribute(xw);if(r==null)return!1;if(r==="")return!0;{const i=r.split(",");return t===0&&i.includes("children")?!0:i.includes(SL[t])}}const CL=ff().requestIdleCallback||(n=>setTimeout(n,1)),AL=ff().cancelIdleCallback||(n=>clearTimeout(n)),TL=(n=1e4)=>t=>{const r=CL(t,{timeout:n});return()=>AL(r)};function IL(n){const{top:t,left:r,bottom:i,right:s}=n.getBoundingClientRect(),{innerHeight:o,innerWidth:a}=window;return(t>0&&t<o||i>0&&i<o)&&(r>0&&r<a||s>0&&s<a)}const DL=n=>(t,r)=>{const i=new IntersectionObserver(s=>{for(const o of s)if(o.isIntersecting){i.disconnect(),t();break}},n);return r(s=>{if(s instanceof Element){if(IL(s))return t(),i.disconnect(),!1;i.observe(s)}}),()=>i.disconnect()},NL=n=>t=>{if(n){const r=matchMedia(n);if(r.matches)t();else return r.addEventListener("change",t,{once:!0}),()=>r.removeEventListener("change",t)}},kL=(n=[])=>(t,r)=>{$t(n)&&(n=[n]);let i=!1;const s=a=>{i||(i=!0,o(),t(),a.target.dispatchEvent(new a.constructor(a.type,a)))},o=()=>{r(a=>{for(const l of n)a.removeEventListener(l,s)})};return r(a=>{for(const l of n)a.addEventListener(l,s,{once:!0})}),o};function FL(n,t){if(Ou(n)&&n.data==="["){let r=1,i=n.nextSibling;for(;i;){if(i.nodeType===1){if(t(i)===!1)break}else if(Ou(i))if(i.data==="]"){if(--r===0)break}else i.data==="["&&r++;i=i.nextSibling}}else t(n)}const Ta=n=>!!n.type.__asyncLoader;function ML(n){Pt(n)&&(n={loader:n});const{loader:t,loadingComponent:r,errorComponent:i,delay:s=200,hydrate:o,timeout:a,suspensible:l=!0,onError:u}=n;let h=null,c,f=0;const p=()=>(f++,h=null,d()),d=()=>{let g;return h||(g=h=t().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),u)return new Promise((v,w)=>{u(m,()=>v(p()),()=>w(m),f+1)});throw m}).then(m=>g!==h&&h?h:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),c=m,m)))};return pf({name:"AsyncComponentWrapper",__asyncLoader:d,__asyncHydrate(g,m,v){let w=!1;(m.bu||(m.bu=[])).push(()=>w=!0);const y=()=>{w||v()},_=o?()=>{const x=o(y,C=>FL(g,C));x&&(m.bum||(m.bum=[])).push(x)}:y;c?_():d().then(()=>!m.isUnmounted&&_())},get __asyncResolved(){return c},setup(){const g=ti;if(F1(g),c)return()=>b0(c,g);const m=_=>{h=null,ru(_,g,13,!i)};if(l&&g.suspense||Ju)return d().then(_=>()=>b0(_,g)).catch(_=>(m(_),()=>i?lt(i,{error:_}):null));const v=Ue(!1),w=Ue(),y=Ue(!!s);return s&&setTimeout(()=>{y.value=!1},s),a!=null&&setTimeout(()=>{if(!v.value&&!w.value){const _=new Error(`Async component timed out after ${a}ms.`);m(_),w.value=_}},a),d().then(()=>{v.value=!0,g.parent&&mf(g.parent.vnode)&&g.parent.update()}).catch(_=>{m(_),w.value=_}),()=>{if(v.value&&c)return b0(c,g);if(w.value&&i)return lt(i,{error:w.value});if(r&&!y.value)return lt(r)}}})}function b0(n,t){const{ref:r,props:i,children:s,ce:o}=t.vnode,a=lt(n,i,s);return a.ref=r,a.ce=o,delete t.vnode.ce,a}const mf=n=>n.type.__isKeepAlive,OL={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:t}){const r=ts(),i=r.ctx;if(!i.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const s=new Map,o=new Set;let a=null;const l=r.suspense,{renderer:{p:u,m:h,um:c,o:{createElement:f}}}=i,p=f("div");i.activate=(y,_,x,C,E)=>{const S=y.component;h(y,_,x,0,l),u(S.vnode,y,_,x,S,l,C,y.slotScopeIds,E),Ur(()=>{S.isDeactivated=!1,S.a&&El(S.a);const D=y.props&&y.props.onVnodeMounted;D&&Gi(D,S.parent,y)},l)},i.deactivate=y=>{const _=y.component;wp(_.m),wp(_.a),h(y,p,null,1,l),Ur(()=>{_.da&&El(_.da);const x=y.props&&y.props.onVnodeUnmounted;x&&Gi(x,_.parent,y),_.isDeactivated=!0},l)};function d(y){x0(y),c(y,r,l,!0)}function g(y){s.forEach((_,x)=>{const C=ry(_.type);C&&!y(C)&&m(x)})}function m(y){const _=s.get(y);_&&(!a||!js(_,a))?d(_):a&&x0(a),s.delete(y),o.delete(y)}ri(()=>[n.include,n.exclude],([y,_])=>{y&&g(x=>Jc(y,x)),_&&g(x=>!Jc(_,x))},{flush:"post",deep:!0});let v=null;const w=()=>{v!=null&&(Ep(r.subTree.type)?Ur(()=>{s.set(v,id(r.subTree))},r.subTree.suspense):s.set(v,id(r.subTree)))};return On(w),Nm(w),Mr(()=>{s.forEach(y=>{const{subTree:_,suspense:x}=r,C=id(_);if(y.type===C.type&&y.key===C.key){x0(C);const E=C.component.da;E&&Ur(E,x);return}d(y)})}),()=>{if(v=null,!t.default)return a=null;const y=t.default(),_=y[0];if(y.length>1)return a=null,y;if(!Ko(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return a=null,_;let x=id(_);if(x.type===Cr)return a=null,x;const C=x.type,E=ry(Ta(x)?x.type.__asyncResolved||{}:C),{include:S,exclude:D,max:A}=n;if(S&&(!E||!Jc(S,E))||D&&E&&Jc(D,E))return x.shapeFlag&=-257,a=x,_;const N=x.key==null?C:x.key,F=s.get(N);return x.el&&(x=fo(x),_.shapeFlag&128&&(_.ssContent=x)),v=N,F?(x.el=F.el,x.component=F.component,x.transition&&Yo(x,x.transition),x.shapeFlag|=512,o.delete(N),o.add(N)):(o.add(N),A&&o.size>parseInt(A,10)&&m(o.values().next().value)),x.shapeFlag|=256,a=x,Ep(_.type)?_:x}}},lT=OL;function Jc(n,t){return mt(n)?n.some(r=>Jc(r,t)):$t(n)?n.split(",").includes(t):fA(n)?(n.lastIndex=0,n.test(t)):!1}function M1(n,t){cT(n,"a",t)}function uT(n,t){cT(n,"da",t)}function cT(n,t,r=ti){const i=n.__wdc||(n.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(Dm(t,i,r),r){let s=r.parent;for(;s&&s.parent;)mf(s.parent.vnode)&&PL(i,t,r,s),s=s.parent}}function PL(n,t,r,i){const s=Dm(t,n,i,!0);iu(()=>{vm(i[t],s)},r)}function x0(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function id(n){return n.shapeFlag&128?n.ssContent:n}function Dm(n,t,r=ti,i=!1){if(r){const s=r[n]||(r[n]=[]),o=t.__weh||(t.__weh=(...a)=>{Wo();const l=Pl(r),u=As(t,r,n,a);return l(),qo(),u});return i?s.unshift(o):s.push(o),o}}const ea=n=>(t,r=ti)=>{(!Ju||n==="sp")&&Dm(n,(...i)=>t(...i),r)},hT=ea("bm"),On=ea("m"),O1=ea("bu"),Nm=ea("u"),Mr=ea("bum"),iu=ea("um"),fT=ea("sp"),dT=ea("rtg"),pT=ea("rtc");function mT(n,t=ti){Dm("ec",n,t)}const P1="components",LL="directives";function Rt(n,t){return L1(P1,n,!0,t)||n}const gT=Symbol.for("v-ndc");function km(n){return $t(n)?L1(P1,n,!1)||n:n||gT}function RL(n){return L1(LL,n)}function L1(n,t,r=!0,i=!1){const s=ni||ti;if(s){const o=s.type;if(n===P1){const l=ry(o,!1);if(l&&(l===t||l===Kn(t)||l===Va(Kn(t))))return o}const a=_w(s[n]||o[n],t)||_w(s.appContext[n],t);return!a&&i?o:a}}function _w(n,t){return n&&(n[t]||n[Kn(t)]||n[Va(Kn(t))])}function At(n,t,r,i){let s;const o=r&&r[i],a=mt(n);if(a||$t(n)){const l=a&&Ws(n);let u=!1,h=!1;l&&(u=!hs(n),h=Xo(n),n=wm(n)),s=new Array(n.length);for(let c=0,f=n.length;c<f;c++)s[c]=t(u?h?gp(Qr(n[c])):Qr(n[c]):n[c],c,void 0,o&&o[c])}else if(typeof n=="number"){s=new Array(n);for(let l=0;l<n;l++)s[l]=t(l+1,l,void 0,o&&o[l])}else if(Sn(n))if(n[Symbol.iterator])s=Array.from(n,(l,u)=>t(l,u,void 0,o&&o[u]));else{const l=Object.keys(n);s=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const c=l[u];s[u]=t(n[c],c,u,o&&o[u])}}else s=[];return r&&(r[i]=s),s}function BL(n,t){for(let r=0;r<t.length;r++){const i=t[r];if(mt(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.key?(...s)=>{const o=i.fn(...s);return o&&(o.key=i.key),o}:i.fn)}return n}function UL(n,t,r={},i,s){if(ni.ce||ni.parent&&Ta(ni.parent)&&ni.parent.ce){const h=Object.keys(r).length>0;return t!=="default"&&(r.name=t),ie(),Zt(it,null,[lt("slot",r,i&&i())],h?-2:64)}let o=n[t];o&&o._c&&(o._d=!1),ie();const a=o&&R1(o(r)),l=r.key||a&&a.key,u=Zt(it,{key:(l&&!Pi(l)?l:`_${t}`)+(!a&&i?"_fb":"")},a||(i?i():[]),a&&n._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function R1(n){return n.some(t=>Ko(t)?!(t.type===Cr||t.type===it&&!R1(t.children)):!0)?n:null}function VL(n,t){const r={};for(const i in n)r[t&&/[A-Z]/.test(i)?`on:${i}`:wl(i)]=n[i];return r}const qv=n=>n?XT(n)?vf(n):qv(n.parent):null,lh=ln(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>qv(n.parent),$root:n=>qv(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>B1(n),$forceUpdate:n=>n.f||(n.f=()=>{D1(n.update)}),$nextTick:n=>n.n||(n.n=Fr.bind(n.proxy)),$watch:n=>vR.bind(n)}),_0=(n,t)=>n!==un&&!n.__isScriptSetup&&En(n,t),Xv={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:i,data:s,props:o,accessCache:a,type:l,appContext:u}=n;let h;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return s[t];case 4:return r[t];case 3:return o[t]}else{if(_0(i,t))return a[t]=1,i[t];if(s!==un&&En(s,t))return a[t]=2,s[t];if((h=n.propsOptions[0])&&En(h,t))return a[t]=3,o[t];if(r!==un&&En(r,t))return a[t]=4,r[t];Yv&&(a[t]=0)}}const c=lh[t];let f,p;if(c)return t==="$attrs"&&ci(n.attrs,"get",""),c(n);if((f=l.__cssModules)&&(f=f[t]))return f;if(r!==un&&En(r,t))return a[t]=4,r[t];if(p=u.config.globalProperties,En(p,t))return p[t]},set({_:n},t,r){const{data:i,setupState:s,ctx:o}=n;return _0(s,t)?(s[t]=r,!0):i!==un&&En(i,t)?(i[t]=r,!0):En(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(o[t]=r,!0)},has({_:{data:n,setupState:t,accessCache:r,ctx:i,appContext:s,propsOptions:o,type:a}},l){let u,h;return!!(r[l]||n!==un&&l[0]!=="$"&&En(n,l)||_0(t,l)||(u=o[0])&&En(u,l)||En(i,l)||En(lh,l)||En(s.config.globalProperties,l)||(h=a.__cssModules)&&h[l])},defineProperty(n,t,r){return r.get!=null?n._.accessCache[t]=0:En(r,"value")&&this.set(n,t,r.value,null),Reflect.defineProperty(n,t,r)}},$L=ln({},Xv,{get(n,t){if(t!==Symbol.unscopables)return Xv.get(n,t,n)},has(n,t){return t[0]!=="_"&&!v1(t)}});function jL(){return null}function zL(){return null}function GL(n){}function HL(n){}function WL(){return null}function qL(){}function XL(n,t){return null}function YL(){return vT().slots}function KL(){return vT().attrs}function vT(n){const t=ts();return t.setupContext||(t.setupContext=ZT(t))}function Oh(n){return mt(n)?n.reduce((t,r)=>(t[r]=null,t),{}):n}function ZL(n,t){const r=Oh(n);for(const i in t){if(i.startsWith("__skip"))continue;let s=r[i];s?mt(s)||Pt(s)?s=r[i]={type:s,default:t[i]}:s.default=t[i]:s===null&&(s=r[i]={default:t[i]}),s&&t[`__skip_${i}`]&&(s.skipFactory=!0)}return r}function JL(n,t){return!n||!t?n||t:mt(n)&&mt(t)?n.concat(t):ln({},Oh(n),Oh(t))}function QL(n,t){const r={};for(const i in n)t.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>n[i]});return r}function eR(n){const t=ts();let r=n();return ey(),ym(r)&&(r=r.catch(i=>{throw Pl(t),i})),[r,()=>Pl(t)]}let Yv=!0;function tR(n){const t=B1(n),r=n.proxy,i=n.ctx;Yv=!1,t.beforeCreate&&ww(t.beforeCreate,n,"bc");const{data:s,computed:o,methods:a,watch:l,provide:u,inject:h,created:c,beforeMount:f,mounted:p,beforeUpdate:d,updated:g,activated:m,deactivated:v,beforeDestroy:w,beforeUnmount:y,destroyed:_,unmounted:x,render:C,renderTracked:E,renderTriggered:S,errorCaptured:D,serverPrefetch:A,expose:N,inheritAttrs:F,components:T,directives:I,filters:M}=t;if(h&&nR(h,i,null),a)for(const $ in a){const q=a[$];Pt(q)&&(i[$]=q.bind(r))}if(s){const $=s.call(r,r);Sn($)&&(n.data=vc($))}if(Yv=!0,o)for(const $ in o){const q=o[$],Z=Pt(q)?q.bind(r,r):Pt(q.get)?q.get.bind(r,r):Yr,he=!Pt(q)&&Pt(q.set)?q.set.bind(r):Yr,V=dt({get:Z,set:he});Object.defineProperty(i,$,{enumerable:!0,configurable:!0,get:()=>V.value,set:J=>V.value=J})}if(l)for(const $ in l)yT(l[$],i,r,$);if(u){const $=Pt(u)?u.call(r):u;Reflect.ownKeys($).forEach(q=>{uh(q,$[q])})}c&&ww(c,n,"c");function B($,q){mt(q)?q.forEach(Z=>$(Z.bind(r))):q&&$(q.bind(r))}if(B(hT,f),B(On,p),B(O1,d),B(Nm,g),B(M1,m),B(uT,v),B(mT,D),B(pT,E),B(dT,S),B(Mr,y),B(iu,x),B(fT,A),mt(N))if(N.length){const $=n.exposed||(n.exposed={});N.forEach(q=>{Object.defineProperty($,q,{get:()=>r[q],set:Z=>r[q]=Z,enumerable:!0})})}else n.exposed||(n.exposed={});C&&n.render===Yr&&(n.render=C),F!=null&&(n.inheritAttrs=F),T&&(n.components=T),I&&(n.directives=I),A&&F1(n)}function nR(n,t,r=Yr){mt(n)&&(n=Kv(n));for(const i in n){const s=n[i];let o;Sn(s)?"default"in s?o=fs(s.from||i,s.default,!0):o=fs(s.from||i):o=fs(s),or(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[i]=o}}function ww(n,t,r){As(mt(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,r)}function yT(n,t,r,i){let s=i.includes(".")?RT(r,i):()=>r[i];if($t(n)){const o=t[n];Pt(o)&&ri(s,o)}else if(Pt(n))ri(s,n.bind(r));else if(Sn(n))if(mt(n))n.forEach(o=>yT(o,t,r,i));else{const o=Pt(n.handler)?n.handler.bind(r):t[n.handler];Pt(o)&&ri(s,o,n)}}function B1(n){const t=n.type,{mixins:r,extends:i}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=n.appContext,l=o.get(t);let u;return l?u=l:!s.length&&!r&&!i?u=t:(u={},s.length&&s.forEach(h=>_p(u,h,a,!0)),_p(u,t,a)),Sn(t)&&o.set(t,u),u}function _p(n,t,r,i=!1){const{mixins:s,extends:o}=t;o&&_p(n,o,r,!0),s&&s.forEach(a=>_p(n,a,r,!0));for(const a in t)if(!(i&&a==="expose")){const l=rR[a]||r&&r[a];n[a]=l?l(n[a],t[a]):t[a]}return n}const rR={data:Ew,props:Sw,emits:Sw,methods:Qc,computed:Qc,beforeCreate:Ei,created:Ei,beforeMount:Ei,mounted:Ei,beforeUpdate:Ei,updated:Ei,beforeDestroy:Ei,beforeUnmount:Ei,destroyed:Ei,unmounted:Ei,activated:Ei,deactivated:Ei,errorCaptured:Ei,serverPrefetch:Ei,components:Qc,directives:Qc,watch:sR,provide:Ew,inject:iR};function Ew(n,t){return t?n?function(){return ln(Pt(n)?n.call(this,this):n,Pt(t)?t.call(this,this):t)}:t:n}function iR(n,t){return Qc(Kv(n),Kv(t))}function Kv(n){if(mt(n)){const t={};for(let r=0;r<n.length;r++)t[n[r]]=n[r];return t}return n}function Ei(n,t){return n?[...new Set([].concat(n,t))]:t}function Qc(n,t){return n?ln(Object.create(null),n,t):t}function Sw(n,t){return n?mt(n)&&mt(t)?[...new Set([...n,...t])]:ln(Object.create(null),Oh(n),Oh(t??{})):t}function sR(n,t){if(!n)return t;if(!t)return n;const r=ln(Object.create(null),n);for(const i in t)r[i]=Ei(n[i],t[i]);return r}function bT(){return{app:null,config:{isNativeTag:ml,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let oR=0;function aR(n,t){return function(i,s=null){Pt(i)||(i=ln({},i)),s!=null&&!Sn(s)&&(s=null);const o=bT(),a=new WeakSet,l=[];let u=!1;const h=o.app={_uid:oR++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:QT,get config(){return o.config},set config(c){},use(c,...f){return a.has(c)||(c&&Pt(c.install)?(a.add(c),c.install(h,...f)):Pt(c)&&(a.add(c),c(h,...f))),h},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),h},component(c,f){return f?(o.components[c]=f,h):o.components[c]},directive(c,f){return f?(o.directives[c]=f,h):o.directives[c]},mount(c,f,p){if(!u){const d=h._ceVNode||lt(i,s);return d.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),f&&t?t(d,c):n(d,c,p),u=!0,h._container=c,c.__vue_app__=h,vf(d.component)}},onUnmount(c){l.push(c)},unmount(){u&&(As(l,h._instance,16),n(null,h._container),delete h._container.__vue_app__)},provide(c,f){return o.provides[c]=f,h},runWithContext(c){const f=Cl;Cl=h;try{return c()}finally{Cl=f}}};return h}}let Cl=null;function uh(n,t){if(ti){let r=ti.provides;const i=ti.parent&&ti.parent.provides;i===r&&(r=ti.provides=Object.create(i)),r[n]=t}}function fs(n,t,r=!1){const i=ts();if(i||Cl){let s=Cl?Cl._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return r&&Pt(t)?t.call(i&&i.proxy):t}}function xT(){return!!(ts()||Cl)}const _T={},wT=()=>Object.create(_T),ET=n=>Object.getPrototypeOf(n)===_T;function lR(n,t,r,i=!1){const s={},o=wT();n.propsDefaults=Object.create(null),ST(n,t,s,o);for(const a in n.propsOptions[0])a in s||(s[a]=void 0);r?n.props=i?s:A1(s):n.type.props?n.props=s:n.props=o,n.attrs=o}function uR(n,t,r,i){const{props:s,attrs:o,vnode:{patchFlag:a}}=n,l=mn(s),[u]=n.propsOptions;let h=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=n.vnode.dynamicProps;for(let f=0;f<c.length;f++){let p=c[f];if(Fm(n.emitsOptions,p))continue;const d=t[p];if(u)if(En(o,p))d!==o[p]&&(o[p]=d,h=!0);else{const g=Kn(p);s[g]=Zv(u,l,g,d,n,!1)}else d!==o[p]&&(o[p]=d,h=!0)}}}else{ST(n,t,s,o)&&(h=!0);let c;for(const f in l)(!t||!En(t,f)&&((c=pi(f))===f||!En(t,c)))&&(u?r&&(r[f]!==void 0||r[c]!==void 0)&&(s[f]=Zv(u,l,f,void 0,n,!0)):delete s[f]);if(o!==l)for(const f in o)(!t||!En(t,f))&&(delete o[f],h=!0)}h&&Oo(n.attrs,"set","")}function ST(n,t,r,i){const[s,o]=n.propsOptions;let a=!1,l;if(t)for(let u in t){if(Vo(u))continue;const h=t[u];let c;s&&En(s,c=Kn(u))?!o||!o.includes(c)?r[c]=h:(l||(l={}))[c]=h:Fm(n.emitsOptions,u)||(!(u in i)||h!==i[u])&&(i[u]=h,a=!0)}if(o){const u=mn(r),h=l||un;for(let c=0;c<o.length;c++){const f=o[c];r[f]=Zv(s,u,f,h[f],n,!En(h,f))}}return a}function Zv(n,t,r,i,s,o){const a=n[r];if(a!=null){const l=En(a,"default");if(l&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Pt(u)){const{propsDefaults:h}=s;if(r in h)i=h[r];else{const c=Pl(s);i=h[r]=u.call(null,t),c()}}else i=u;s.ce&&s.ce._setProp(r,i)}a[0]&&(o&&!l?i=!1:a[1]&&(i===""||i===pi(r))&&(i=!0))}return i}const cR=new WeakMap;function CT(n,t,r=!1){const i=r?cR:t.propsCache,s=i.get(n);if(s)return s;const o=n.props,a={},l=[];let u=!1;if(!Pt(n)){const c=f=>{u=!0;const[p,d]=CT(f,t,!0);ln(a,p),d&&l.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!o&&!u)return Sn(n)&&i.set(n,xl),xl;if(mt(o))for(let c=0;c<o.length;c++){const f=Kn(o[c]);Cw(f)&&(a[f]=un)}else if(o)for(const c in o){const f=Kn(c);if(Cw(f)){const p=o[c],d=a[f]=mt(p)||Pt(p)?{type:p}:ln({},p),g=d.type;let m=!1,v=!0;if(mt(g))for(let w=0;w<g.length;++w){const y=g[w],_=Pt(y)&&y.name;if(_==="Boolean"){m=!0;break}else _==="String"&&(v=!1)}else m=Pt(g)&&g.name==="Boolean";d[0]=m,d[1]=v,(m||En(d,"default"))&&l.push(f)}}const h=[a,l];return Sn(n)&&i.set(n,h),h}function Cw(n){return n[0]!=="$"&&!Vo(n)}const U1=n=>n==="_"||n==="_ctx"||n==="$stable",V1=n=>mt(n)?n.map(qi):[qi(n)],hR=(n,t,r)=>{if(t._n)return t;const i=Sr((...s)=>V1(t(...s)),r);return i._c=!1,i},AT=(n,t,r)=>{const i=n._ctx;for(const s in n){if(U1(s))continue;const o=n[s];if(Pt(o))t[s]=hR(s,o,i);else if(o!=null){const a=V1(o);t[s]=()=>a}}},TT=(n,t)=>{const r=V1(t);n.slots.default=()=>r},IT=(n,t,r)=>{for(const i in t)(r||!U1(i))&&(n[i]=t[i])},fR=(n,t,r)=>{const i=n.slots=wT();if(n.vnode.shapeFlag&32){const s=t._;s?(IT(i,t,r),r&&g1(i,"_",s,!0)):AT(t,i)}else t&&TT(n,t)},dR=(n,t,r)=>{const{vnode:i,slots:s}=n;let o=!0,a=un;if(i.shapeFlag&32){const l=t._;l?r&&l===1?o=!1:IT(s,t,r):(o=!t.$stable,AT(t,s)),a=t}else t&&(TT(n,t),a={default:1});if(o)for(const l in s)!U1(l)&&a[l]==null&&delete s[l]},Ur=$T;function DT(n){return kT(n)}function NT(n){return kT(n,EL)}function kT(n,t){const r=ff();r.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:a,createText:l,createComment:u,setText:h,setElementText:c,parentNode:f,nextSibling:p,setScopeId:d=Yr,insertStaticContent:g}=n,m=(H,Q,re,Ce=null,_e=null,Se=null,Te=void 0,De=null,be=!!Q.dynamicChildren)=>{if(H===Q)return;H&&!js(H,Q)&&(Ce=K(H),J(H,_e,Se,!0),H=null),Q.patchFlag===-2&&(be=!1,Q.dynamicChildren=null);const{type:xe,ref:R,shapeFlag:Oe}=Q;switch(xe){case Ia:v(H,Q,re,Ce);break;case Cr:w(H,Q,re,Ce);break;case Al:H==null&&y(Q,re,Ce,Te);break;case it:T(H,Q,re,Ce,_e,Se,Te,De,be);break;default:Oe&1?C(H,Q,re,Ce,_e,Se,Te,De,be):Oe&6?I(H,Q,re,Ce,_e,Se,Te,De,be):(Oe&64||Oe&128)&&xe.process(H,Q,re,Ce,_e,Se,Te,De,be,se)}R!=null&&_e?ju(R,H&&H.ref,Se,Q||H,!Q):R==null&&H&&H.ref!=null&&ju(H.ref,null,Se,H,!0)},v=(H,Q,re,Ce)=>{if(H==null)i(Q.el=l(Q.children),re,Ce);else{const _e=Q.el=H.el;Q.children!==H.children&&h(_e,Q.children)}},w=(H,Q,re,Ce)=>{H==null?i(Q.el=u(Q.children||""),re,Ce):Q.el=H.el},y=(H,Q,re,Ce)=>{[H.el,H.anchor]=g(H.children,Q,re,Ce,H.el,H.anchor)},_=({el:H,anchor:Q},re,Ce)=>{let _e;for(;H&&H!==Q;)_e=p(H),i(H,re,Ce),H=_e;i(Q,re,Ce)},x=({el:H,anchor:Q})=>{let re;for(;H&&H!==Q;)re=p(H),s(H),H=re;s(Q)},C=(H,Q,re,Ce,_e,Se,Te,De,be)=>{Q.type==="svg"?Te="svg":Q.type==="math"&&(Te="mathml"),H==null?E(Q,re,Ce,_e,Se,Te,De,be):A(H,Q,_e,Se,Te,De,be)},E=(H,Q,re,Ce,_e,Se,Te,De)=>{let be,xe;const{props:R,shapeFlag:Oe,transition:Fe,dirs:Je}=H;if(be=H.el=a(H.type,Se,R&&R.is,R),Oe&8?c(be,H.children):Oe&16&&D(H.children,be,null,Ce,_e,w0(H,Se),Te,De),Je&&lo(H,null,Ce,"created"),S(be,H,H.scopeId,Te,Ce),R){for(const ft in R)ft!=="value"&&!Vo(ft)&&o(be,ft,null,R[ft],Se,Ce);"value"in R&&o(be,"value",null,R.value,Se),(xe=R.onVnodeBeforeMount)&&Gi(xe,Ce,H)}Je&&lo(H,null,Ce,"beforeMount");const We=FT(_e,Fe);We&&Fe.beforeEnter(be),i(be,Q,re),((xe=R&&R.onVnodeMounted)||We||Je)&&Ur(()=>{xe&&Gi(xe,Ce,H),We&&Fe.enter(be),Je&&lo(H,null,Ce,"mounted")},_e)},S=(H,Q,re,Ce,_e)=>{if(re&&d(H,re),Ce)for(let Se=0;Se<Ce.length;Se++)d(H,Ce[Se]);if(_e){let Se=_e.subTree;if(Q===Se||Ep(Se.type)&&(Se.ssContent===Q||Se.ssFallback===Q)){const Te=_e.vnode;S(H,Te,Te.scopeId,Te.slotScopeIds,_e.parent)}}},D=(H,Q,re,Ce,_e,Se,Te,De,be=0)=>{for(let xe=be;xe<H.length;xe++){const R=H[xe]=De?pa(H[xe]):qi(H[xe]);m(null,R,Q,re,Ce,_e,Se,Te,De)}},A=(H,Q,re,Ce,_e,Se,Te)=>{const De=Q.el=H.el;let{patchFlag:be,dynamicChildren:xe,dirs:R}=Q;be|=H.patchFlag&16;const Oe=H.props||un,Fe=Q.props||un;let Je;if(re&&el(re,!1),(Je=Fe.onVnodeBeforeUpdate)&&Gi(Je,re,Q,H),R&&lo(Q,H,re,"beforeUpdate"),re&&el(re,!0),(Oe.innerHTML&&Fe.innerHTML==null||Oe.textContent&&Fe.textContent==null)&&c(De,""),xe?N(H.dynamicChildren,xe,De,re,Ce,w0(Q,_e),Se):Te||q(H,Q,De,null,re,Ce,w0(Q,_e),Se,!1),be>0){if(be&16)F(De,Oe,Fe,re,_e);else if(be&2&&Oe.class!==Fe.class&&o(De,"class",null,Fe.class,_e),be&4&&o(De,"style",Oe.style,Fe.style,_e),be&8){const We=Q.dynamicProps;for(let ft=0;ft<We.length;ft++){const Ae=We[ft],Pe=Oe[Ae],Be=Fe[Ae];(Be!==Pe||Ae==="value")&&o(De,Ae,Pe,Be,_e,re)}}be&1&&H.children!==Q.children&&c(De,Q.children)}else!Te&&xe==null&&F(De,Oe,Fe,re,_e);((Je=Fe.onVnodeUpdated)||R)&&Ur(()=>{Je&&Gi(Je,re,Q,H),R&&lo(Q,H,re,"updated")},Ce)},N=(H,Q,re,Ce,_e,Se,Te)=>{for(let De=0;De<Q.length;De++){const be=H[De],xe=Q[De],R=be.el&&(be.type===it||!js(be,xe)||be.shapeFlag&198)?f(be.el):re;m(be,xe,R,null,Ce,_e,Se,Te,!0)}},F=(H,Q,re,Ce,_e)=>{if(Q!==re){if(Q!==un)for(const Se in Q)!Vo(Se)&&!(Se in re)&&o(H,Se,Q[Se],null,_e,Ce);for(const Se in re){if(Vo(Se))continue;const Te=re[Se],De=Q[Se];Te!==De&&Se!=="value"&&o(H,Se,De,Te,_e,Ce)}"value"in re&&o(H,"value",Q.value,re.value,_e)}},T=(H,Q,re,Ce,_e,Se,Te,De,be)=>{const xe=Q.el=H?H.el:l(""),R=Q.anchor=H?H.anchor:l("");let{patchFlag:Oe,dynamicChildren:Fe,slotScopeIds:Je}=Q;Je&&(De=De?De.concat(Je):Je),H==null?(i(xe,re,Ce),i(R,re,Ce),D(Q.children||[],re,R,_e,Se,Te,De,be)):Oe>0&&Oe&64&&Fe&&H.dynamicChildren?(N(H.dynamicChildren,Fe,re,_e,Se,Te,De),(Q.key!=null||_e&&Q===_e.subTree)&&$1(H,Q,!0)):q(H,Q,re,R,_e,Se,Te,De,be)},I=(H,Q,re,Ce,_e,Se,Te,De,be)=>{Q.slotScopeIds=De,H==null?Q.shapeFlag&512?_e.ctx.activate(Q,re,Ce,Te,be):M(Q,re,Ce,_e,Se,Te,be):L(H,Q,be)},M=(H,Q,re,Ce,_e,Se,Te)=>{const De=H.component=qT(H,Ce,_e);if(mf(H)&&(De.ctx.renderer=se),YT(De,!1,Te),De.asyncDep){if(_e&&_e.registerDep(De,B,Te),!H.el){const be=De.subTree=lt(Cr);w(null,be,Q,re),H.placeholder=be.el}}else B(De,H,Q,re,_e,Se,Te)},L=(H,Q,re)=>{const Ce=Q.component=H.component;if(SR(H,Q,re))if(Ce.asyncDep&&!Ce.asyncResolved){$(Ce,Q,re);return}else Ce.next=Q,Ce.update();else Q.el=H.el,Ce.vnode=Q},B=(H,Q,re,Ce,_e,Se,Te)=>{const De=()=>{if(H.isMounted){let{next:Oe,bu:Fe,u:Je,parent:We,vnode:ft}=H;{const $e=MT(H);if($e){Oe&&(Oe.el=ft.el,$(H,Oe,Te)),$e.asyncDep.then(()=>{H.isUnmounted||De()});return}}let Ae=Oe,Pe;el(H,!1),Oe?(Oe.el=ft.el,$(H,Oe,Te)):Oe=ft,Fe&&El(Fe),(Pe=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&Gi(Pe,We,Oe,ft),el(H,!0);const Be=zd(H),je=H.subTree;H.subTree=Be,m(je,Be,f(je.el),K(je),H,_e,Se),Oe.el=Be.el,Ae===null&&Mm(H,Be.el),Je&&Ur(Je,_e),(Pe=Oe.props&&Oe.props.onVnodeUpdated)&&Ur(()=>Gi(Pe,We,Oe,ft),_e)}else{let Oe;const{el:Fe,props:Je}=Q,{bm:We,m:ft,parent:Ae,root:Pe,type:Be}=H,je=Ta(Q);if(el(H,!1),We&&El(We),!je&&(Oe=Je&&Je.onVnodeBeforeMount)&&Gi(Oe,Ae,Q),el(H,!0),Fe&&Ee){const $e=()=>{H.subTree=zd(H),Ee(Fe,H.subTree,H,_e,null)};je&&Be.__asyncHydrate?Be.__asyncHydrate(Fe,H,$e):$e()}else{Pe.ce&&Pe.ce._def.shadowRoot!==!1&&Pe.ce._injectChildStyle(Be);const $e=H.subTree=zd(H);m(null,$e,re,Ce,H,_e,Se),Q.el=$e.el}if(ft&&Ur(ft,_e),!je&&(Oe=Je&&Je.onVnodeMounted)){const $e=Q;Ur(()=>Gi(Oe,Ae,$e),_e)}(Q.shapeFlag&256||Ae&&Ta(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&H.a&&Ur(H.a,_e),H.isMounted=!0,Q=re=Ce=null}};H.scope.on();const be=H.effect=new Ih(De);H.scope.off();const xe=H.update=be.run.bind(be),R=H.job=be.runIfDirty.bind(be);R.i=H,R.id=H.uid,be.scheduler=()=>D1(R),el(H,!0),xe()},$=(H,Q,re)=>{Q.component=H;const Ce=H.vnode.props;H.vnode=Q,H.next=null,uR(H,Q.props,Ce,re),dR(H,Q.children,re),Wo(),dw(H),qo()},q=(H,Q,re,Ce,_e,Se,Te,De,be=!1)=>{const xe=H&&H.children,R=H?H.shapeFlag:0,Oe=Q.children,{patchFlag:Fe,shapeFlag:Je}=Q;if(Fe>0){if(Fe&128){he(xe,Oe,re,Ce,_e,Se,Te,De,be);return}else if(Fe&256){Z(xe,Oe,re,Ce,_e,Se,Te,De,be);return}}Je&8?(R&16&&de(xe,_e,Se),Oe!==xe&&c(re,Oe)):R&16?Je&16?he(xe,Oe,re,Ce,_e,Se,Te,De,be):de(xe,_e,Se,!0):(R&8&&c(re,""),Je&16&&D(Oe,re,Ce,_e,Se,Te,De,be))},Z=(H,Q,re,Ce,_e,Se,Te,De,be)=>{H=H||xl,Q=Q||xl;const xe=H.length,R=Q.length,Oe=Math.min(xe,R);let Fe;for(Fe=0;Fe<Oe;Fe++){const Je=Q[Fe]=be?pa(Q[Fe]):qi(Q[Fe]);m(H[Fe],Je,re,null,_e,Se,Te,De,be)}xe>R?de(H,_e,Se,!0,!1,Oe):D(Q,re,Ce,_e,Se,Te,De,be,Oe)},he=(H,Q,re,Ce,_e,Se,Te,De,be)=>{let xe=0;const R=Q.length;let Oe=H.length-1,Fe=R-1;for(;xe<=Oe&&xe<=Fe;){const Je=H[xe],We=Q[xe]=be?pa(Q[xe]):qi(Q[xe]);if(js(Je,We))m(Je,We,re,null,_e,Se,Te,De,be);else break;xe++}for(;xe<=Oe&&xe<=Fe;){const Je=H[Oe],We=Q[Fe]=be?pa(Q[Fe]):qi(Q[Fe]);if(js(Je,We))m(Je,We,re,null,_e,Se,Te,De,be);else break;Oe--,Fe--}if(xe>Oe){if(xe<=Fe){const Je=Fe+1,We=Je<R?Q[Je].el:Ce;for(;xe<=Fe;)m(null,Q[xe]=be?pa(Q[xe]):qi(Q[xe]),re,We,_e,Se,Te,De,be),xe++}}else if(xe>Fe)for(;xe<=Oe;)J(H[xe],_e,Se,!0),xe++;else{const Je=xe,We=xe,ft=new Map;for(xe=We;xe<=Fe;xe++){const oe=Q[xe]=be?pa(Q[xe]):qi(Q[xe]);oe.key!=null&&ft.set(oe.key,xe)}let Ae,Pe=0;const Be=Fe-We+1;let je=!1,$e=0;const P=new Array(Be);for(xe=0;xe<Be;xe++)P[xe]=0;for(xe=Je;xe<=Oe;xe++){const oe=H[xe];if(Pe>=Be){J(oe,_e,Se,!0);continue}let pe;if(oe.key!=null)pe=ft.get(oe.key);else for(Ae=We;Ae<=Fe;Ae++)if(P[Ae-We]===0&&js(oe,Q[Ae])){pe=Ae;break}pe===void 0?J(oe,_e,Se,!0):(P[pe-We]=xe+1,pe>=$e?$e=pe:je=!0,m(oe,Q[pe],re,null,_e,Se,Te,De,be),Pe++)}const j=je?pR(P):xl;for(Ae=j.length-1,xe=Be-1;xe>=0;xe--){const oe=We+xe,pe=Q[oe],ve=Q[oe+1],Ne=oe+1<R?ve.el||ve.placeholder:Ce;P[xe]===0?m(null,pe,re,Ne,_e,Se,Te,De,be):je&&(Ae<0||xe!==j[Ae]?V(pe,re,Ne,2):Ae--)}}},V=(H,Q,re,Ce,_e=null)=>{const{el:Se,type:Te,transition:De,children:be,shapeFlag:xe}=H;if(xe&6){V(H.component.subTree,Q,re,Ce);return}if(xe&128){H.suspense.move(Q,re,Ce);return}if(xe&64){Te.move(H,Q,re,se);return}if(Te===it){i(Se,Q,re);for(let Oe=0;Oe<be.length;Oe++)V(be[Oe],Q,re,Ce);i(H.anchor,Q,re);return}if(Te===Al){_(H,Q,re);return}if(Ce!==2&&xe&1&&De)if(Ce===0)De.beforeEnter(Se),i(Se,Q,re),Ur(()=>De.enter(Se),_e);else{const{leave:Oe,delayLeave:Fe,afterLeave:Je}=De,We=()=>{H.ctx.isUnmounted?s(Se):i(Se,Q,re)},ft=()=>{Se._isLeaving&&Se[Fo](!0),Oe(Se,()=>{We(),Je&&Je()})};Fe?Fe(Se,We,ft):ft()}else i(Se,Q,re)},J=(H,Q,re,Ce=!1,_e=!1)=>{const{type:Se,props:Te,ref:De,children:be,dynamicChildren:xe,shapeFlag:R,patchFlag:Oe,dirs:Fe,cacheIndex:Je}=H;if(Oe===-2&&(_e=!1),De!=null&&(Wo(),ju(De,null,re,H,!0),qo()),Je!=null&&(Q.renderCache[Je]=void 0),R&256){Q.ctx.deactivate(H);return}const We=R&1&&Fe,ft=!Ta(H);let Ae;if(ft&&(Ae=Te&&Te.onVnodeBeforeUnmount)&&Gi(Ae,Q,H),R&6)z(H.component,re,Ce);else{if(R&128){H.suspense.unmount(re,Ce);return}We&&lo(H,null,Q,"beforeUnmount"),R&64?H.type.remove(H,Q,re,se,Ce):xe&&!xe.hasOnce&&(Se!==it||Oe>0&&Oe&64)?de(xe,Q,re,!1,!0):(Se===it&&Oe&384||!_e&&R&16)&&de(be,Q,re),Ce&&ge(H)}(ft&&(Ae=Te&&Te.onVnodeUnmounted)||We)&&Ur(()=>{Ae&&Gi(Ae,Q,H),We&&lo(H,null,Q,"unmounted")},re)},ge=H=>{const{type:Q,el:re,anchor:Ce,transition:_e}=H;if(Q===it){W(re,Ce);return}if(Q===Al){x(H);return}const Se=()=>{s(re),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(H.shapeFlag&1&&_e&&!_e.persisted){const{leave:Te,delayLeave:De}=_e,be=()=>Te(re,Se);De?De(H.el,Se,be):be()}else Se()},W=(H,Q)=>{let re;for(;H!==Q;)re=p(H),s(H),H=re;s(Q)},z=(H,Q,re)=>{const{bum:Ce,scope:_e,job:Se,subTree:Te,um:De,m:be,a:xe}=H;wp(be),wp(xe),Ce&&El(Ce),_e.stop(),Se&&(Se.flags|=8,J(Te,H,Q,re)),De&&Ur(De,Q),Ur(()=>{H.isUnmounted=!0},Q)},de=(H,Q,re,Ce=!1,_e=!1,Se=0)=>{for(let Te=Se;Te<H.length;Te++)J(H[Te],Q,re,Ce,_e)},K=H=>{if(H.shapeFlag&6)return K(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const Q=p(H.anchor||H.el),re=Q&&Q[eT];return re?p(re):Q};let ue=!1;const G=(H,Q,re)=>{H==null?Q._vnode&&J(Q._vnode,null,null,!0):m(Q._vnode||null,H,Q,null,null,null,re),Q._vnode=H,ue||(ue=!0,dw(),bp(),ue=!1)},se={p:m,um:J,m:V,r:ge,mt:M,mc:D,pc:q,pbc:N,n:K,o:n};let ye,Ee;return t&&([ye,Ee]=t(se)),{render:G,hydrate:ye,createApp:aR(G,ye)}}function w0({type:n,props:t},r){return r==="svg"&&n==="foreignObject"||r==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function el({effect:n,job:t},r){r?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function FT(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function $1(n,t,r=!1){const i=n.children,s=t.children;if(mt(i)&&mt(s))for(let o=0;o<i.length;o++){const a=i[o];let l=s[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[o]=pa(s[o]),l.el=a.el),!r&&l.patchFlag!==-2&&$1(a,l)),l.type===Ia&&l.patchFlag!==-1&&(l.el=a.el),l.type===Cr&&!l.el&&(l.el=a.el)}}function pR(n){const t=n.slice(),r=[0];let i,s,o,a,l;const u=n.length;for(i=0;i<u;i++){const h=n[i];if(h!==0){if(s=r[r.length-1],n[s]<h){t[i]=s,r.push(i);continue}for(o=0,a=r.length-1;o<a;)l=o+a>>1,n[r[l]]<h?o=l+1:a=l;h<n[r[o]]&&(o>0&&(t[i]=r[o-1]),r[o]=i)}}for(o=r.length,a=r[o-1];o-- >0;)r[o]=a,a=t[a];return r}function MT(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:MT(t)}function wp(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const OT=Symbol.for("v-scx"),PT=()=>fs(OT);function mR(n,t){return gf(n,null,t)}function gR(n,t){return gf(n,null,{flush:"post"})}function LT(n,t){return gf(n,null,{flush:"sync"})}function ri(n,t,r){return gf(n,t,r)}function gf(n,t,r=un){const{immediate:i,deep:s,flush:o,once:a}=r,l=ln({},r),u=t&&i||!t&&o!=="post";let h;if(Ju){if(o==="sync"){const d=PT();h=d.__watcherHandles||(d.__watcherHandles=[])}else if(!u){const d=()=>{};return d.stop=Yr,d.resume=Yr,d.pause=Yr,d}}const c=ti;l.call=(d,g,m)=>As(d,c,g,m);let f=!1;o==="post"?l.scheduler=d=>{Ur(d,c&&c.suspense)}:o!=="sync"&&(f=!0,l.scheduler=(d,g)=>{g?d():D1(d)}),l.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const p=sL(n,t,l);return Ju&&(h?h.push(p):u&&p()),p}function vR(n,t,r){const i=this.proxy,s=$t(n)?n.includes(".")?RT(i,n):()=>i[n]:n.bind(i,i);let o;Pt(t)?o=t:(o=t.handler,r=t);const a=Pl(this),l=gf(s,o.bind(i),r);return a(),l}function RT(n,t){const r=t.split(".");return()=>{let i=n;for(let s=0;s<r.length&&i;s++)i=i[r[s]];return i}}function yR(n,t,r=un){const i=ts(),s=Kn(t),o=pi(t),a=BT(n,s),l=GA((u,h)=>{let c,f=un,p;return LT(()=>{const d=n[s];ui(c,d)&&(c=d,h())}),{get(){return u(),r.get?r.get(c):c},set(d){const g=r.set?r.set(d):d;if(!ui(g,c)&&!(f!==un&&ui(d,f)))return;const m=i.vnode.props;m&&(t in m||s in m||o in m)&&(`onUpdate:${t}`in m||`onUpdate:${s}`in m||`onUpdate:${o}`in m)||(c=d,h()),i.emit(`update:${t}`,g),ui(d,g)&&ui(d,f)&&!ui(g,p)&&h(),f=d,p=g}}});return l[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?a||un:l,done:!1}:{done:!0}}}},l}const BT=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${Kn(t)}Modifiers`]||n[`${pi(t)}Modifiers`];function bR(n,t,...r){if(n.isUnmounted)return;const i=n.vnode.props||un;let s=r;const o=t.startsWith("update:"),a=o&&BT(i,t.slice(7));a&&(a.trim&&(s=r.map(c=>$t(c)?c.trim():c)),a.number&&(s=r.map(Ah)));let l,u=i[l=wl(t)]||i[l=wl(Kn(t))];!u&&o&&(u=i[l=wl(pi(t))]),u&&As(u,n,6,s);const h=i[l+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,As(h,n,6,s)}}const xR=new WeakMap;function UT(n,t,r=!1){const i=r?xR:t.emitsCache,s=i.get(n);if(s!==void 0)return s;const o=n.emits;let a={},l=!1;if(!Pt(n)){const u=h=>{const c=UT(h,t,!0);c&&(l=!0,ln(a,c))};!r&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!o&&!l?(Sn(n)&&i.set(n,null),null):(mt(o)?o.forEach(u=>a[u]=null):ln(a,o),Sn(n)&&i.set(n,a),a)}function Fm(n,t){return!n||!Ba(t)?!1:(t=t.slice(2).replace(/Once$/,""),En(n,t[0].toLowerCase()+t.slice(1))||En(n,pi(t))||En(n,t))}function zd(n){const{type:t,vnode:r,proxy:i,withProxy:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:h,renderCache:c,props:f,data:p,setupState:d,ctx:g,inheritAttrs:m}=n,v=Mh(n);let w,y;try{if(r.shapeFlag&4){const x=s||i,C=x;w=qi(h.call(C,x,c,f,d,p,g)),y=l}else{const x=t;w=qi(x.length>1?x(f,{attrs:l,slots:a,emit:u}):x(f,null)),y=t.props?l:wR(l)}}catch(x){ch.length=0,ru(x,n,1),w=lt(Cr)}let _=w;if(y&&m!==!1){const x=Object.keys(y),{shapeFlag:C}=_;x.length&&C&7&&(o&&x.some(gm)&&(y=ER(y,o)),_=fo(_,y,!1,!0))}return r.dirs&&(_=fo(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&Yo(_,r.transition),w=_,Mh(v),w}function _R(n,t=!0){let r;for(let i=0;i<n.length;i++){const s=n[i];if(Ko(s)){if(s.type!==Cr||s.children==="v-if"){if(r)return;r=s}}else return}return r}const wR=n=>{let t;for(const r in n)(r==="class"||r==="style"||Ba(r))&&((t||(t={}))[r]=n[r]);return t},ER=(n,t)=>{const r={};for(const i in n)(!gm(i)||!(i.slice(9)in t))&&(r[i]=n[i]);return r};function SR(n,t,r){const{props:i,children:s,component:o}=n,{props:a,children:l,patchFlag:u}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return i?Aw(i,a,h):!!a;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const p=c[f];if(a[p]!==i[p]&&!Fm(h,p))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?Aw(i,a,h):!0:!!a;return!1}function Aw(n,t,r){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(t[o]!==n[o]&&!Fm(r,o))return!0}return!1}function Mm({vnode:n,parent:t},r){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=t.vnode).el=r,t=t.parent;else break}}const Ep=n=>n.__isSuspense;let Jv=0;const CR={name:"Suspense",__isSuspense:!0,process(n,t,r,i,s,o,a,l,u,h){if(n==null)TR(t,r,i,s,o,a,l,u,h);else{if(o&&o.deps>0&&!n.suspense.isInFallback){t.suspense=n.suspense,t.suspense.vnode=t,t.el=n.el;return}IR(n,t,r,i,s,a,l,u,h)}},hydrate:DR,normalize:NR},AR=CR;function Ph(n,t){const r=n.props&&n.props[t];Pt(r)&&r()}function TR(n,t,r,i,s,o,a,l,u){const{p:h,o:{createElement:c}}=u,f=c("div"),p=n.suspense=VT(n,s,i,t,f,r,o,a,l,u);h(null,p.pendingBranch=n.ssContent,f,null,i,p,o,a),p.deps>0?(Ph(n,"onPending"),Ph(n,"onFallback"),h(null,n.ssFallback,t,r,i,null,o,a),zu(p,n.ssFallback)):p.resolve(!1,!0)}function IR(n,t,r,i,s,o,a,l,{p:u,um:h,o:{createElement:c}}){const f=t.suspense=n.suspense;f.vnode=t,t.el=n.el;const p=t.ssContent,d=t.ssFallback,{activeBranch:g,pendingBranch:m,isInFallback:v,isHydrating:w}=f;if(m)f.pendingBranch=p,js(m,p)?(u(m,p,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0?f.resolve():v&&(w||(u(g,d,r,i,s,null,o,a,l),zu(f,d)))):(f.pendingId=Jv++,w?(f.isHydrating=!1,f.activeBranch=m):h(m,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),v?(u(null,p,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0?f.resolve():(u(g,d,r,i,s,null,o,a,l),zu(f,d))):g&&js(g,p)?(u(g,p,r,i,s,f,o,a,l),f.resolve(!0)):(u(null,p,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0&&f.resolve()));else if(g&&js(g,p))u(g,p,r,i,s,f,o,a,l),zu(f,p);else if(Ph(t,"onPending"),f.pendingBranch=p,p.shapeFlag&512?f.pendingId=p.component.suspenseId:f.pendingId=Jv++,u(null,p,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0)f.resolve();else{const{timeout:y,pendingId:_}=f;y>0?setTimeout(()=>{f.pendingId===_&&f.fallback(d)},y):y===0&&f.fallback(d)}}function VT(n,t,r,i,s,o,a,l,u,h,c=!1){const{p:f,m:p,um:d,n:g,o:{parentNode:m,remove:v}}=h;let w;const y=kR(n);y&&t&&t.pendingBranch&&(w=t.pendingId,t.deps++);const _=n.props?Th(n.props.timeout):void 0,x=o,C={vnode:n,parent:t,parentComponent:r,namespace:a,container:i,hiddenContainer:s,deps:0,pendingId:Jv++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(E=!1,S=!1){const{vnode:D,activeBranch:A,pendingBranch:N,pendingId:F,effects:T,parentComponent:I,container:M}=C;let L=!1;C.isHydrating?C.isHydrating=!1:E||(L=A&&N.transition&&N.transition.mode==="out-in",L&&(A.transition.afterLeave=()=>{F===C.pendingId&&(p(N,M,o===x?g(A):o,0),kh(T))}),A&&(m(A.el)===M&&(o=g(A)),d(A,I,C,!0)),L||p(N,M,o,0)),zu(C,N),C.pendingBranch=null,C.isInFallback=!1;let B=C.parent,$=!1;for(;B;){if(B.pendingBranch){B.effects.push(...T),$=!0;break}B=B.parent}!$&&!L&&kh(T),C.effects=[],y&&t&&t.pendingBranch&&w===t.pendingId&&(t.deps--,t.deps===0&&!S&&t.resolve()),Ph(D,"onResolve")},fallback(E){if(!C.pendingBranch)return;const{vnode:S,activeBranch:D,parentComponent:A,container:N,namespace:F}=C;Ph(S,"onFallback");const T=g(D),I=()=>{C.isInFallback&&(f(null,E,N,T,A,null,F,l,u),zu(C,E))},M=E.transition&&E.transition.mode==="out-in";M&&(D.transition.afterLeave=I),C.isInFallback=!0,d(D,A,null,!0),M||I()},move(E,S,D){C.activeBranch&&p(C.activeBranch,E,S,D),C.container=E},next(){return C.activeBranch&&g(C.activeBranch)},registerDep(E,S,D){const A=!!C.pendingBranch;A&&C.deps++;const N=E.vnode.el;E.asyncDep.catch(F=>{ru(F,E,0)}).then(F=>{if(E.isUnmounted||C.isUnmounted||C.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:T}=E;ty(E,F,!1),N&&(T.el=N);const I=!N&&E.subTree.el;S(E,T,m(N||E.subTree.el),N?null:g(E.subTree),C,a,D),I&&v(I),Mm(E,T.el),A&&--C.deps===0&&C.resolve()})},unmount(E,S){C.isUnmounted=!0,C.activeBranch&&d(C.activeBranch,r,E,S),C.pendingBranch&&d(C.pendingBranch,r,E,S)}};return C}function DR(n,t,r,i,s,o,a,l,u){const h=t.suspense=VT(t,i,r,n.parentNode,document.createElement("div"),null,s,o,a,l,!0),c=u(n,h.pendingBranch=t.ssContent,r,h,o,a);return h.deps===0&&h.resolve(!1,!0),c}function NR(n){const{shapeFlag:t,children:r}=n,i=t&32;n.ssContent=Tw(i?r.default:r),n.ssFallback=i?Tw(r.fallback):lt(Cr)}function Tw(n){let t;if(Pt(n)){const r=Ol&&n._c;r&&(n._d=!1,ie()),n=n(),r&&(n._d=!0,t=vi,jT())}return mt(n)&&(n=_R(n)),n=qi(n),t&&!n.dynamicChildren&&(n.dynamicChildren=t.filter(r=>r!==n)),n}function $T(n,t){t&&t.pendingBranch?mt(n)?t.effects.push(...n):t.effects.push(n):kh(n)}function zu(n,t){n.activeBranch=t;const{vnode:r,parentComponent:i}=n;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;r.el=s,i&&i.subTree===r&&(i.vnode.el=s,Mm(i,s))}function kR(n){const t=n.props&&n.props.suspensible;return t!=null&&t!==!1}const it=Symbol.for("v-fgt"),Ia=Symbol.for("v-txt"),Cr=Symbol.for("v-cmt"),Al=Symbol.for("v-stc"),ch=[];let vi=null;function ie(n=!1){ch.push(vi=n?null:[])}function jT(){ch.pop(),vi=ch[ch.length-1]||null}let Ol=1;function Lh(n,t=!1){Ol+=n,n<0&&vi&&t&&(vi.hasOnce=!0)}function zT(n){return n.dynamicChildren=Ol>0?vi||xl:null,jT(),Ol>0&&vi&&vi.push(n),n}function le(n,t,r,i,s,o){return zT(b(n,t,r,i,s,o,!0))}function Zt(n,t,r,i,s){return zT(lt(n,t,r,i,s,!0))}function Ko(n){return n?n.__v_isVNode===!0:!1}function js(n,t){return n.type===t.type&&n.key===t.key}function FR(n){}const GT=({key:n})=>n??null,Gd=({ref:n,ref_key:t,ref_for:r})=>(typeof n=="number"&&(n=""+n),n!=null?$t(n)||or(n)||Pt(n)?{i:ni,r:n,k:t,f:!!r}:n:null);function b(n,t=null,r=null,i=0,s=null,o=n===it?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&GT(t),ref:t&&Gd(t),scopeId:Tm,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ni};return l?(j1(u,r),o&128&&n.normalize(u)):r&&(u.shapeFlag|=$t(r)?8:16),Ol>0&&!a&&vi&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&vi.push(u),u}const lt=MR;function MR(n,t=null,r=null,i=0,s=null,o=!1){if((!n||n===gT)&&(n=Cr),Ko(n)){const l=fo(n,t,!0);return r&&j1(l,r),Ol>0&&!o&&vi&&(l.shapeFlag&6?vi[vi.indexOf(n)]=l:vi.push(l)),l.patchFlag=-2,l}if(VR(n)&&(n=n.__vccOpts),t){t=HT(t);let{class:l,style:u}=t;l&&!$t(l)&&(t.class=st(l)),Sn(u)&&(Cm(u)&&!mt(u)&&(u=ln({},u)),t.style=Gn(u))}const a=$t(n)?1:Ep(n)?128:tT(n)?64:Sn(n)?4:Pt(n)?2:0;return b(n,t,r,i,s,a,o,!0)}function HT(n){return n?Cm(n)||ET(n)?ln({},n):n:null}function fo(n,t,r=!1,i=!1){const{props:s,ref:o,patchFlag:a,children:l,transition:u}=n,h=t?WT(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:n.type,props:h,key:h&&GT(h),ref:t&&t.ref?r&&o?mt(o)?o.concat(Gd(t)):[o,Gd(t)]:Gd(t):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==it?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:u,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&fo(n.ssContent),ssFallback:n.ssFallback&&fo(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return u&&i&&Yo(c,u.clone(c)),c}function Ct(n=" ",t=0){return lt(Ia,null,n,t)}function _r(n,t){const r=lt(Al,null,n);return r.staticCount=t,r}function et(n="",t=!1){return t?(ie(),Zt(Cr,null,n)):lt(Cr,null,n)}function qi(n){return n==null||typeof n=="boolean"?lt(Cr):mt(n)?lt(it,null,n.slice()):Ko(n)?pa(n):lt(Ia,null,String(n))}function pa(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:fo(n)}function j1(n,t){let r=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(mt(t))r=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),j1(n,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!ET(t)?t._ctx=ni:s===3&&ni&&(ni.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Pt(t)?(t={default:t,_ctx:ni},r=32):(t=String(t),i&64?(r=16,t=[Ct(t)]):r=8);n.children=t,n.shapeFlag|=r}function WT(...n){const t={};for(let r=0;r<n.length;r++){const i=n[r];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=st([t.class,i.class]));else if(s==="style")t.style=Gn([t.style,i.style]);else if(Ba(s)){const o=t[s],a=i[s];a&&o!==a&&!(mt(o)&&o.includes(a))&&(t[s]=o?[].concat(o,a):a)}else s!==""&&(t[s]=i[s])}return t}function Gi(n,t,r,i=null){As(n,t,7,[r,i])}const OR=bT();let PR=0;function qT(n,t,r){const i=n.type,s=(t?t.appContext:n.appContext)||OR,o={uid:PR++,vnode:n,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new x1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:CT(i,s),emitsOptions:UT(i,s),emit:null,emitted:null,propsDefaults:un,inheritAttrs:i.inheritAttrs,ctx:un,data:un,props:un,attrs:un,slots:un,refs:un,setupState:un,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=bR.bind(null,o),n.ce&&n.ce(o),o}let ti=null;const ts=()=>ti||ni;let Sp,Qv;{const n=ff(),t=(r,i)=>{let s;return(s=n[r])||(s=n[r]=[]),s.push(i),o=>{s.length>1?s.forEach(a=>a(o)):s[0](o)}};Sp=t("__VUE_INSTANCE_SETTERS__",r=>ti=r),Qv=t("__VUE_SSR_SETTERS__",r=>Ju=r)}const Pl=n=>{const t=ti;return Sp(n),n.scope.on(),()=>{n.scope.off(),Sp(t)}},ey=()=>{ti&&ti.scope.off(),Sp(null)};function XT(n){return n.vnode.shapeFlag&4}let Ju=!1;function YT(n,t=!1,r=!1){t&&Qv(t);const{props:i,children:s}=n.vnode,o=XT(n);lR(n,i,o,t),fR(n,s,r||t);const a=o?LR(n,t):void 0;return t&&Qv(!1),a}function LR(n,t){const r=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Xv);const{setup:i}=r;if(i){Wo();const s=n.setupContext=i.length>1?ZT(n):null,o=Pl(n),a=yc(i,n,0,[n.props,s]),l=ym(a);if(qo(),o(),(l||n.sp)&&!Ta(n)&&F1(n),l){if(a.then(ey,ey),t)return a.then(u=>{ty(n,u,t)}).catch(u=>{ru(u,n,0)});n.asyncDep=a}else ty(n,a,t)}else KT(n,t)}function ty(n,t,r){Pt(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Sn(t)&&(n.setupState=I1(t)),KT(n,r)}let Cp,ny;function RR(n){Cp=n,ny=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,$L))}}const BR=()=>!Cp;function KT(n,t,r){const i=n.type;if(!n.render){if(!t&&Cp&&!i.render){const s=i.template||B1(n).template;if(s){const{isCustomElement:o,compilerOptions:a}=n.appContext.config,{delimiters:l,compilerOptions:u}=i,h=ln(ln({isCustomElement:o,delimiters:l},a),u);i.render=Cp(s,h)}}n.render=i.render||Yr,ny&&ny(n)}{const s=Pl(n);Wo();try{tR(n)}finally{qo(),s()}}}const UR={get(n,t){return ci(n,"get",""),n[t]}};function ZT(n){const t=r=>{n.exposed=r||{}};return{attrs:new Proxy(n.attrs,UR),slots:n.slots,emit:n.emit,expose:t}}function vf(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(I1(Am(n.exposed)),{get(t,r){if(r in t)return t[r];if(r in lh)return lh[r](n)},has(t,r){return r in t||r in lh}})):n.proxy}function ry(n,t=!0){return Pt(n)?n.displayName||n.name:n.name||t&&n.__name}function VR(n){return Pt(n)&&"__vccOpts"in n}const dt=(n,t)=>tL(n,t,Ju);function Om(n,t,r){try{Lh(-1);const i=arguments.length;return i===2?Sn(t)&&!mt(t)?Ko(t)?lt(n,null,[t]):lt(n,t):lt(n,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Ko(r)&&(r=[r]),lt(n,t,r))}finally{Lh(1)}}function $R(){}function jR(n,t,r,i){const s=r[i];if(s&&JT(s,n))return s;const o=t();return o.memo=n.slice(),o.cacheIndex=i,r[i]=o}function JT(n,t){const r=n.memo;if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(ui(r[i],t[i]))return!1;return Ol>0&&vi&&vi.push(n),!0}const QT="3.5.22",zR=Yr,GR=cL,HR=Nu,WR=QA,qR={createComponentInstance:qT,setupComponent:YT,renderComponentRoot:zd,setCurrentRenderingInstance:Mh,isVNode:Ko,normalizeVNode:qi,getComponentPublicInstance:vf,ensureValidVNode:R1,pushWarningContext:oL,popWarningContext:aL},XR=qR,YR=null,KR=null,ZR=null;/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let iy;const Iw=typeof window<"u"&&window.trustedTypes;if(Iw)try{iy=Iw.createPolicy("vue",{createHTML:n=>n})}catch{}const eI=iy?n=>iy.createHTML(n):n=>n,JR="http://www.w3.org/2000/svg",QR="http://www.w3.org/1998/Math/MathML",ko=typeof document<"u"?document:null,Dw=ko&&ko.createElement("template"),e4={insert:(n,t,r)=>{t.insertBefore(n,r||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,r,i)=>{const s=t==="svg"?ko.createElementNS(JR,n):t==="mathml"?ko.createElementNS(QR,n):r?ko.createElement(n,{is:r}):ko.createElement(n);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>ko.createTextNode(n),createComment:n=>ko.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ko.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,r,i,s,o){const a=r?r.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===o||!(s=s.nextSibling)););else{Dw.innerHTML=eI(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const l=Dw.content;if(i==="svg"||i==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},aa="transition",Bc="animation",Qu=Symbol("_vtc"),tI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nI=ln({},k1,tI),t4=n=>(n.displayName="Transition",n.props=nI,n),Xi=t4((n,{slots:t})=>Om(oT,rI(n),t)),tl=(n,t=[])=>{mt(n)?n.forEach(r=>r(...t)):n&&n(...t)},Nw=n=>n?mt(n)?n.some(t=>t.length>1):n.length>1:!1;function rI(n){const t={};for(const T in n)T in tI||(t[T]=n[T]);if(n.css===!1)return t;const{name:r="v",type:i,duration:s,enterFromClass:o=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:u=o,appearActiveClass:h=a,appearToClass:c=l,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=n,g=n4(s),m=g&&g[0],v=g&&g[1],{onBeforeEnter:w,onEnter:y,onEnterCancelled:_,onLeave:x,onLeaveCancelled:C,onBeforeAppear:E=w,onAppear:S=y,onAppearCancelled:D=_}=t,A=(T,I,M,L)=>{T._enterCancelled=L,ca(T,I?c:l),ca(T,I?h:a),M&&M()},N=(T,I)=>{T._isLeaving=!1,ca(T,f),ca(T,d),ca(T,p),I&&I()},F=T=>(I,M)=>{const L=T?S:y,B=()=>A(I,T,M);tl(L,[I,B]),kw(()=>{ca(I,T?u:o),so(I,T?c:l),Nw(L)||Fw(I,i,m,B)})};return ln(t,{onBeforeEnter(T){tl(w,[T]),so(T,o),so(T,a)},onBeforeAppear(T){tl(E,[T]),so(T,u),so(T,h)},onEnter:F(!1),onAppear:F(!0),onLeave(T,I){T._isLeaving=!0;const M=()=>N(T,I);so(T,f),T._enterCancelled?(so(T,p),sy(T)):(sy(T),so(T,p)),kw(()=>{T._isLeaving&&(ca(T,f),so(T,d),Nw(x)||Fw(T,i,v,M))}),tl(x,[T,M])},onEnterCancelled(T){A(T,!1,void 0,!0),tl(_,[T])},onAppearCancelled(T){A(T,!0,void 0,!0),tl(D,[T])},onLeaveCancelled(T){N(T),tl(C,[T])}})}function n4(n){if(n==null)return null;if(Sn(n))return[E0(n.enter),E0(n.leave)];{const t=E0(n);return[t,t]}}function E0(n){return Th(n)}function so(n,t){t.split(/\s+/).forEach(r=>r&&n.classList.add(r)),(n[Qu]||(n[Qu]=new Set)).add(t)}function ca(n,t){t.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const r=n[Qu];r&&(r.delete(t),r.size||(n[Qu]=void 0))}function kw(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let r4=0;function Fw(n,t,r,i){const s=n._endId=++r4,o=()=>{s===n._endId&&i()};if(r!=null)return setTimeout(o,r);const{type:a,timeout:l,propCount:u}=iI(n,t);if(!a)return i();const h=a+"end";let c=0;const f=()=>{n.removeEventListener(h,p),o()},p=d=>{d.target===n&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},l+1),n.addEventListener(h,p)}function iI(n,t){const r=window.getComputedStyle(n),i=g=>(r[g]||"").split(", "),s=i(`${aa}Delay`),o=i(`${aa}Duration`),a=Mw(s,o),l=i(`${Bc}Delay`),u=i(`${Bc}Duration`),h=Mw(l,u);let c=null,f=0,p=0;t===aa?a>0&&(c=aa,f=a,p=o.length):t===Bc?h>0&&(c=Bc,f=h,p=u.length):(f=Math.max(a,h),c=f>0?a>h?aa:Bc:null,p=c?c===aa?o.length:u.length:0);const d=c===aa&&/\b(?:transform|all)(?:,|$)/.test(i(`${aa}Property`).toString());return{type:c,timeout:f,propCount:p,hasTransform:d}}function Mw(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((r,i)=>Ow(r)+Ow(n[i])))}function Ow(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function sy(n){return(n?n.ownerDocument:document).body.offsetHeight}function i4(n,t,r){const i=n[Qu];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):r?n.setAttribute("class",t):n.className=t}const Ap=Symbol("_vod"),sI=Symbol("_vsh"),Ll={name:"show",beforeMount(n,{value:t},{transition:r}){n[Ap]=n.style.display==="none"?"":n.style.display,r&&t?r.beforeEnter(n):Uc(n,t)},mounted(n,{value:t},{transition:r}){r&&t&&r.enter(n)},updated(n,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(n),Uc(n,!0),i.enter(n)):i.leave(n,()=>{Uc(n,!1)}):Uc(n,t))},beforeUnmount(n,{value:t}){Uc(n,t)}};function Uc(n,t){n.style.display=t?n[Ap]:"none",n[sI]=!t}function s4(){Ll.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const oI=Symbol("");function o4(n){const t=ts();if(!t)return;const r=t.ut=(s=n(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>Tp(o,s))},i=()=>{const s=n(t.proxy);t.ce?Tp(t.ce,s):oy(t.subTree,s),r(s)};O1(()=>{kh(i)}),On(()=>{ri(i,Yr,{flush:"post"});const s=new MutationObserver(i);s.observe(t.subTree.el.parentNode,{childList:!0}),iu(()=>s.disconnect())})}function oy(n,t){if(n.shapeFlag&128){const r=n.suspense;n=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{oy(r.activeBranch,t)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Tp(n.el,t);else if(n.type===it)n.children.forEach(r=>oy(r,t));else if(n.type===Al){let{el:r,anchor:i}=n;for(;r&&(Tp(r,t),r!==i);)r=r.nextSibling}}function Tp(n,t){if(n.nodeType===1){const r=n.style;let i="";for(const s in t){const o=AA(t[s]);r.setProperty(`--${s}`,o),i+=`--${s}: ${o};`}r[oI]=i}}const a4=/(?:^|;)\s*display\s*:/;function l4(n,t,r){const i=n.style,s=$t(r);let o=!1;if(r&&!s){if(t)if($t(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();r[l]==null&&Hd(i,l,"")}else for(const a in t)r[a]==null&&Hd(i,a,"");for(const a in r)a==="display"&&(o=!0),Hd(i,a,r[a])}else if(s){if(t!==r){const a=i[oI];a&&(r+=";"+a),i.cssText=r,o=a4.test(r)}}else t&&n.removeAttribute("style");Ap in n&&(n[Ap]=o?i.display:"",n[sI]&&(i.display="none"))}const Pw=/\s*!important$/;function Hd(n,t,r){if(mt(r))r.forEach(i=>Hd(n,t,i));else if(r==null&&(r=""),t.startsWith("--"))n.setProperty(t,r);else{const i=u4(n,t);Pw.test(r)?n.setProperty(pi(i),r.replace(Pw,""),"important"):n[i]=r}}const Lw=["Webkit","Moz","ms"],S0={};function u4(n,t){const r=S0[t];if(r)return r;let i=Kn(t);if(i!=="filter"&&i in n)return S0[t]=i;i=Va(i);for(let s=0;s<Lw.length;s++){const o=Lw[s]+i;if(o in n)return S0[t]=o}return t}const Rw="http://www.w3.org/1999/xlink";function Bw(n,t,r,i,s,o=wA(t)){i&&t.startsWith("xlink:")?r==null?n.removeAttributeNS(Rw,t.slice(6,t.length)):n.setAttributeNS(Rw,t,r):r==null||o&&!b1(r)?n.removeAttribute(t):n.setAttribute(t,o?"":Pi(r)?String(r):r)}function Uw(n,t,r,i,s){if(t==="innerHTML"||t==="textContent"){r!=null&&(n[t]=t==="innerHTML"?eI(r):r);return}const o=n.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?n.getAttribute("value")||"":n.value,u=r==null?n.type==="checkbox"?"on":"":String(r);(l!==u||!("_value"in n))&&(n.value=u),r==null&&n.removeAttribute(t),n._value=r;return}let a=!1;if(r===""||r==null){const l=typeof n[t];l==="boolean"?r=b1(r):r==null&&l==="string"?(r="",a=!0):l==="number"&&(r=0,a=!0)}try{n[t]=r}catch{}a&&n.removeAttribute(s||t)}function Lo(n,t,r,i){n.addEventListener(t,r,i)}function c4(n,t,r,i){n.removeEventListener(t,r,i)}const Vw=Symbol("_vei");function h4(n,t,r,i,s=null){const o=n[Vw]||(n[Vw]={}),a=o[t];if(i&&a)a.value=i;else{const[l,u]=f4(t);if(i){const h=o[t]=m4(i,s);Lo(n,l,h,u)}else a&&(c4(n,l,a,u),o[t]=void 0)}}const $w=/(?:Once|Passive|Capture)$/;function f4(n){let t;if($w.test(n)){t={};let i;for(;i=n.match($w);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):pi(n.slice(2)),t]}let C0=0;const d4=Promise.resolve(),p4=()=>C0||(d4.then(()=>C0=0),C0=Date.now());function m4(n,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;As(g4(i,r.value),t,5,[i])};return r.value=n,r.attached=p4(),r}function g4(n,t){if(mt(t)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const jw=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,v4=(n,t,r,i,s,o)=>{const a=s==="svg";t==="class"?i4(n,i,a):t==="style"?l4(n,r,i):Ba(t)?gm(t)||h4(n,t,r,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):y4(n,t,i,a))?(Uw(n,t,i),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Bw(n,t,i,a,o,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!$t(i))?Uw(n,Kn(t),i,o,t):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),Bw(n,t,i,a))};function y4(n,t,r,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in n&&jw(t)&&Pt(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return jw(t)&&$t(r)?!1:t in n}const zw={};function aI(n,t,r){let i=pf(n,t);hf(i)&&(i=ln({},i,t));class s extends Pm{constructor(a){super(i,a,r)}}return s.def=i,s}const b4=((n,t)=>aI(n,t,bI)),x4=typeof HTMLElement<"u"?HTMLElement:class{};class Pm extends x4{constructor(t,r={},i=Dp){super(),this._def=t,this._props=r,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==Dp?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow(ln({},t.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Pm){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._inheritParentContext(t))}_inheritParentContext(t=this._parent){t&&this._app&&Object.setPrototypeOf(this._app._context.provides,t._instance.provides)}disconnectedCallback(){this._connected=!1,Fr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(t){for(const r of t)this._setAttr(r.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const t=(i,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:o,styles:a}=i;let l;if(o&&!mt(o))for(const u in o){const h=o[u];(h===Number||h&&h.type===Number)&&(u in this._props&&(this._props[u]=Th(this._props[u])),(l||(l=Object.create(null)))[Kn(u)]=!0)}this._numberProps=l,this._resolveProps(i),this.shadowRoot&&this._applyStyles(a),this._mount(i)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(i=>{i.configureApp=this._def.configureApp,t(this._def=i,!0)}):t(this._def)}_mount(t){this._app=this._createApp(t),this._inheritParentContext(),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const i in r)En(this,i)||Object.defineProperty(this,i,{get:()=>hi(r[i])})}_resolveProps(t){const{props:r}=t,i=mt(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s]);for(const s of i.map(Kn))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(o){this._setProp(s,o,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const r=this.hasAttribute(t);let i=r?this.getAttribute(t):zw;const s=Kn(t);r&&this._numberProps&&this._numberProps[s]&&(i=Th(i)),this._setProp(s,i,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,r,i=!0,s=!1){if(r!==this._props[t]&&(r===zw?delete this._props[t]:(this._props[t]=r,t==="key"&&this._app&&(this._app._ceVNode.key=r)),s&&this._instance&&this._update(),i)){const o=this._ob;o&&(this._processMutations(o.takeRecords()),o.disconnect()),r===!0?this.setAttribute(pi(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(pi(t),r+""):r||this.removeAttribute(pi(t)),o&&o.observe(this,{attributes:!0})}}_update(){const t=this._createVNode();this._app&&(t.appContext=this._app._context),yI(t,this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const r=lt(this._def,ln(t,this._props));return this._instance||(r.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const s=(o,a)=>{this.dispatchEvent(new CustomEvent(o,hf(a[0])?ln({detail:a},a[0]):{detail:a}))};i.emit=(o,...a)=>{s(o,a),pi(o)!==o&&s(pi(o),a)},this._setParent()}),r}_applyStyles(t,r){if(!t)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const i=this._nonce;for(let s=t.length-1;s>=0;s--){const o=document.createElement("style");i&&o.setAttribute("nonce",i),o.textContent=t[s],this.shadowRoot.prepend(o)}}_parseSlots(){const t=this._slots={};let r;for(;r=this.firstChild;){const i=r.nodeType===1&&r.getAttribute("slot")||"default";(t[i]||(t[i]=[])).push(r),this.removeChild(r)}}_renderSlots(){const t=this._getSlots(),r=this._instance.type.__scopeId;for(let i=0;i<t.length;i++){const s=t[i],o=s.getAttribute("name")||"default",a=this._slots[o],l=s.parentNode;if(a)for(const u of a){if(r&&u.nodeType===1){const h=r+"-s",c=document.createTreeWalker(u,1);u.setAttribute(h,"");let f;for(;f=c.nextNode();)f.setAttribute(h,"")}l.insertBefore(u,s)}else for(;s.firstChild;)l.insertBefore(s.firstChild,s);l.removeChild(s)}}_getSlots(){const t=[this];return this._teleportTargets&&t.push(...this._teleportTargets),t.reduce((r,i)=>(r.push(...Array.from(i.querySelectorAll("slot"))),r),[])}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function lI(n){const t=ts(),r=t&&t.ce;return r||null}function _4(){const n=lI();return n&&n.shadowRoot}function w4(n="$style"){{const t=ts();if(!t)return un;const r=t.type.__cssModules;if(!r)return un;const i=r[n];return i||un}}const uI=new WeakMap,cI=new WeakMap,Ip=Symbol("_moveCb"),Gw=Symbol("_enterCb"),E4=n=>(delete n.props.mode,n),S4=E4({name:"TransitionGroup",props:ln({},nI,{tag:String,moveClass:String}),setup(n,{slots:t}){const r=ts(),i=N1();let s,o;return Nm(()=>{if(!s.length)return;const a=n.moveClass||`${n.name||"v"}-move`;if(!I4(s[0].el,r.vnode.el,a)){s=[];return}s.forEach(C4),s.forEach(A4);const l=s.filter(T4);sy(r.vnode.el),l.forEach(u=>{const h=u.el,c=h.style;so(h,a),c.transform=c.webkitTransform=c.transitionDuration="";const f=h[Ip]=p=>{p&&p.target!==h||(!p||p.propertyName.endsWith("transform"))&&(h.removeEventListener("transitionend",f),h[Ip]=null,ca(h,a))};h.addEventListener("transitionend",f)}),s=[]}),()=>{const a=mn(n),l=rI(a);let u=a.tag||it;if(s=[],o)for(let h=0;h<o.length;h++){const c=o[h];c.el&&c.el instanceof Element&&(s.push(c),Yo(c,Zu(c,l,i,r)),uI.set(c,c.el.getBoundingClientRect()))}o=t.default?Im(t.default()):[];for(let h=0;h<o.length;h++){const c=o[h];c.key!=null&&Yo(c,Zu(c,l,i,r))}return lt(u,null,o)}}}),hI=S4;function C4(n){const t=n.el;t[Ip]&&t[Ip](),t[Gw]&&t[Gw]()}function A4(n){cI.set(n,n.el.getBoundingClientRect())}function T4(n){const t=uI.get(n),r=cI.get(n),i=t.left-r.left,s=t.top-r.top;if(i||s){const o=n.el.style;return o.transform=o.webkitTransform=`translate(${i}px,${s}px)`,o.transitionDuration="0s",n}}function I4(n,t,r){const i=n.cloneNode(),s=n[Qu];s&&s.forEach(l=>{l.split(/\s+/).forEach(u=>u&&i.classList.remove(u))}),r.split(/\s+/).forEach(l=>l&&i.classList.add(l)),i.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(i);const{hasTransform:a}=iI(i);return o.removeChild(i),a}const ka=n=>{const t=n.props["onUpdate:modelValue"]||!1;return mt(t)?r=>El(t,r):t};function D4(n){n.target.composing=!0}function Hw(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ss=Symbol("_assign"),bn={created(n,{modifiers:{lazy:t,trim:r,number:i}},s){n[Ss]=ka(s);const o=i||s.props&&s.props.type==="number";Lo(n,t?"change":"input",a=>{if(a.target.composing)return;let l=n.value;r&&(l=l.trim()),o&&(l=Ah(l)),n[Ss](l)}),r&&Lo(n,"change",()=>{n.value=n.value.trim()}),t||(Lo(n,"compositionstart",D4),Lo(n,"compositionend",Hw),Lo(n,"change",Hw))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:r,modifiers:{lazy:i,trim:s,number:o}},a){if(n[Ss]=ka(a),n.composing)return;const l=(o||n.type==="number")&&!/^0\d/.test(n.value)?Ah(n.value):n.value,u=t??"";l!==u&&(document.activeElement===n&&n.type!=="range"&&(i&&t===r||s&&n.value.trim()===u)||(n.value=u))}},Rl={deep:!0,created(n,t,r){n[Ss]=ka(r),Lo(n,"change",()=>{const i=n._modelValue,s=ec(n),o=n.checked,a=n[Ss];if(mt(i)){const l=df(i,s),u=l!==-1;if(o&&!u)a(i.concat(s));else if(!o&&u){const h=[...i];h.splice(l,1),a(h)}}else if(Ua(i)){const l=new Set(i);o?l.add(s):l.delete(s),a(l)}else a(dI(n,o))})},mounted:Ww,beforeUpdate(n,t,r){n[Ss]=ka(r),Ww(n,t,r)}};function Ww(n,{value:t,oldValue:r},i){n._modelValue=t;let s;if(mt(t))s=df(t,i.props.value)>-1;else if(Ua(t))s=t.has(i.props.value);else{if(t===r)return;s=Ho(t,dI(n,!0))}n.checked!==s&&(n.checked=s)}const qs={created(n,{value:t},r){n.checked=Ho(t,r.props.value),n[Ss]=ka(r),Lo(n,"change",()=>{n[Ss](ec(n))})},beforeUpdate(n,{value:t,oldValue:r},i){n[Ss]=ka(i),t!==r&&(n.checked=Ho(t,i.props.value))}},fI={deep:!0,created(n,{value:t,modifiers:{number:r}},i){const s=Ua(t);Lo(n,"change",()=>{const o=Array.prototype.filter.call(n.options,a=>a.selected).map(a=>r?Ah(ec(a)):ec(a));n[Ss](n.multiple?s?new Set(o):o:o[0]),n._assigning=!0,Fr(()=>{n._assigning=!1})}),n[Ss]=ka(i)},mounted(n,{value:t}){qw(n,t)},beforeUpdate(n,t,r){n[Ss]=ka(r)},updated(n,{value:t}){n._assigning||qw(n,t)}};function qw(n,t){const r=n.multiple,i=mt(t);if(!(r&&!i&&!Ua(t))){for(let s=0,o=n.options.length;s<o;s++){const a=n.options[s],l=ec(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=t.some(h=>String(h)===String(l)):a.selected=df(t,l)>-1}else a.selected=t.has(l);else if(Ho(ec(a),t)){n.selectedIndex!==s&&(n.selectedIndex=s);return}}!r&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function ec(n){return"_value"in n?n._value:n.value}function dI(n,t){const r=t?"_trueValue":"_falseValue";return r in n?n[r]:t}const Lm={created(n,t,r){sd(n,t,r,null,"created")},mounted(n,t,r){sd(n,t,r,null,"mounted")},beforeUpdate(n,t,r,i){sd(n,t,r,i,"beforeUpdate")},updated(n,t,r,i){sd(n,t,r,i,"updated")}};function pI(n,t){switch(n){case"SELECT":return fI;case"TEXTAREA":return bn;default:switch(t){case"checkbox":return Rl;case"radio":return qs;default:return bn}}}function sd(n,t,r,i,s){const a=pI(n.tagName,r.props&&r.props.type)[s];a&&a(n,t,r,i)}function N4(){bn.getSSRProps=({value:n})=>({value:n}),qs.getSSRProps=({value:n},t)=>{if(t.props&&Ho(t.props.value,n))return{checked:!0}},Rl.getSSRProps=({value:n},t)=>{if(mt(n)){if(t.props&&df(n,t.props.value)>-1)return{checked:!0}}else if(Ua(n)){if(t.props&&n.has(t.props.value))return{checked:!0}}else if(n)return{checked:!0}},Lm.getSSRProps=(n,t)=>{if(typeof t.type!="string")return;const r=pI(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(n,t)}}const k4=["ctrl","shift","alt","meta"],F4={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>k4.some(r=>n[`${r}Key`]&&!t.includes(r))},hr=(n,t)=>{const r=n._withMods||(n._withMods={}),i=t.join(".");return r[i]||(r[i]=((s,...o)=>{for(let a=0;a<t.length;a++){const l=F4[t[a]];if(l&&l(s,t))return}return n(s,...o)}))},M4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},z1=(n,t)=>{const r=n._withKeys||(n._withKeys={}),i=t.join(".");return r[i]||(r[i]=(s=>{if(!("key"in s))return;const o=pi(s.key);if(t.some(a=>a===o||M4[a]===o))return n(s)}))},mI=ln({patchProp:v4},e4);let hh,Xw=!1;function gI(){return hh||(hh=DT(mI))}function vI(){return hh=Xw?hh:NT(mI),Xw=!0,hh}const yI=((...n)=>{gI().render(...n)}),O4=((...n)=>{vI().hydrate(...n)}),Dp=((...n)=>{const t=gI().createApp(...n),{mount:r}=t;return t.mount=i=>{const s=_I(i);if(!s)return;const o=t._component;!Pt(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=r(s,!1,xI(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t}),bI=((...n)=>{const t=vI().createApp(...n),{mount:r}=t;return t.mount=i=>{const s=_I(i);if(s)return r(s,!0,xI(s))},t});function xI(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function _I(n){return $t(n)?document.querySelector(n):n}let Yw=!1;const P4=()=>{Yw||(Yw=!0,N4(),s4())},L4=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:oT,BaseTransitionPropsValidators:k1,Comment:Cr,DeprecationTypes:ZR,EffectScope:x1,ErrorCodes:uL,ErrorTypeStrings:GR,Fragment:it,KeepAlive:lT,ReactiveEffect:Ih,Static:Al,Suspense:AR,Teleport:vL,Text:Ia,TrackOpTypes:nL,Transition:Xi,TransitionGroup:hI,TriggerOpTypes:rL,VueElement:Pm,assertNumber:lL,callWithAsyncErrorHandling:As,callWithErrorHandling:yc,camelize:Kn,capitalize:Va,cloneVNode:fo,compatUtils:KR,computed:dt,createApp:Dp,createBlock:Zt,createCommentVNode:et,createElementBlock:le,createElementVNode:b,createHydrationRenderer:NT,createPropsRestProxy:QL,createRenderer:DT,createSSRApp:bI,createSlots:BL,createStaticVNode:_r,createTextVNode:Ct,createVNode:lt,customRef:GA,defineAsyncComponent:ML,defineComponent:pf,defineCustomElement:aI,defineEmits:zL,defineExpose:GL,defineModel:qL,defineOptions:HL,defineProps:jL,defineSSRCustomElement:b4,defineSlots:WL,devtools:HR,effect:AP,effectScope:_1,getCurrentInstance:ts,getCurrentScope:w1,getCurrentWatcher:iL,getTransitionRawChildren:Im,guardReactiveProps:HT,h:Om,handleError:ru,hasInjectionContext:xT,hydrate:O4,hydrateOnIdle:TL,hydrateOnInteraction:kL,hydrateOnMediaQuery:NL,hydrateOnVisible:DL,initCustomFormatter:$R,initDirectivesForSSR:P4,inject:fs,isMemoSame:JT,isProxy:Cm,isReactive:Ws,isReadonly:Xo,isRef:or,isRuntimeOnly:BR,isShallow:hs,isVNode:Ko,markRaw:Am,mergeDefaults:ZL,mergeModels:JL,mergeProps:WT,nextTick:Fr,normalizeClass:st,normalizeProps:gA,normalizeStyle:Gn,onActivated:M1,onBeforeMount:hT,onBeforeUnmount:Mr,onBeforeUpdate:O1,onDeactivated:uT,onErrorCaptured:mT,onMounted:On,onRenderTracked:pT,onRenderTriggered:dT,onScopeDispose:TA,onServerPrefetch:fT,onUnmounted:iu,onUpdated:Nm,onWatcherCleanup:XA,openBlock:ie,popScopeId:pL,provide:uh,proxyRefs:I1,pushScopeId:dL,queuePostFlushCb:kh,reactive:vc,readonly:mp,ref:Ue,registerRuntimeCompiler:RR,render:yI,renderList:At,renderSlot:UL,resolveComponent:Rt,resolveDirective:RL,resolveDynamicComponent:km,resolveFilter:YR,resolveTransitionHooks:Zu,setBlockTracking:Lh,setDevtoolsHook:WR,setTransitionHooks:Yo,shallowReactive:A1,shallowReadonly:WP,shallowRef:T1,ssrContextKey:OT,ssrUtils:XR,stop:TP,toDisplayString:ke,toHandlerKey:wl,toHandlers:VL,toRaw:mn,toRef:WA,toRefs:HA,toValue:YP,transformVNodeArgs:FR,triggerRef:XP,unref:hi,useAttrs:KL,useCssModule:w4,useCssVars:o4,useHost:lI,useId:bL,useModel:yR,useSSRContext:PT,useShadowRoot:_4,useSlots:YL,useTemplateRef:xL,useTransitionState:N1,vModelCheckbox:Rl,vModelDynamic:Lm,vModelRadio:qs,vModelSelect:fI,vModelText:bn,vShow:Ll,version:QT,warn:zR,watch:ri,watchEffect:mR,watchPostEffect:gR,watchSyncEffect:LT,withAsyncContext:eR,withCtx:Sr,withDefaults:XL,withDirectives:Bt,withKeys:z1,withMemo:jR,withModifiers:hr,withScopeId:mL},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let wI;const Rm=n=>wI=n,EI=Symbol();function ay(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var fh;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(fh||(fh={}));function SI(){const n=_1(!0),t=n.run(()=>Ue({}));let r=[],i=[];const s=Am({install(o){Rm(s),s._a=o,o.provide(EI,s),o.config.globalProperties.$pinia=s,i.forEach(a=>r.push(a)),i=[]},use(o){return this._a?r.push(o):i.push(o),this},_p:r,_a:null,_e:n,_s:new Map,state:t});return s}const CI=()=>{};function Kw(n,t,r,i=CI){n.push(t);const s=()=>{const o=n.indexOf(t);o>-1&&(n.splice(o,1),i())};return!r&&w1()&&TA(s),s}function bu(n,...t){n.slice().forEach(r=>{r(...t)})}const R4=n=>n(),Zw=Symbol(),A0=Symbol();function ly(n,t){n instanceof Map&&t instanceof Map?t.forEach((r,i)=>n.set(i,r)):n instanceof Set&&t instanceof Set&&t.forEach(n.add,n);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],s=n[r];ay(s)&&ay(i)&&n.hasOwnProperty(r)&&!or(i)&&!Ws(i)?n[r]=ly(s,i):n[r]=i}return n}const B4=Symbol();function U4(n){return!ay(n)||!Object.prototype.hasOwnProperty.call(n,B4)}const{assign:ha}=Object;function V4(n){return!!(or(n)&&n.effect)}function $4(n,t,r,i){const{state:s,actions:o,getters:a}=t,l=r.state.value[n];let u;function h(){l||(r.state.value[n]=s?s():{});const c=HA(r.state.value[n]);return ha(c,o,Object.keys(a||{}).reduce((f,p)=>(f[p]=Am(dt(()=>{Rm(r);const d=r._s.get(n);return a[p].call(d,d)})),f),{}))}return u=AI(n,h,t,r,i,!0),u}function AI(n,t,r={},i,s,o){let a;const l=ha({actions:{}},r),u={deep:!0};let h,c,f=[],p=[],d;const g=i.state.value[n];!o&&!g&&(i.state.value[n]={}),Ue({});let m;function v(D){let A;h=c=!1,typeof D=="function"?(D(i.state.value[n]),A={type:fh.patchFunction,storeId:n,events:d}):(ly(i.state.value[n],D),A={type:fh.patchObject,payload:D,storeId:n,events:d});const N=m=Symbol();Fr().then(()=>{m===N&&(h=!0)}),c=!0,bu(f,A,i.state.value[n])}const w=o?function(){const{state:A}=r,N=A?A():{};this.$patch(F=>{ha(F,N)})}:CI;function y(){a.stop(),f=[],p=[],i._s.delete(n)}const _=(D,A="")=>{if(Zw in D)return D[A0]=A,D;const N=function(){Rm(i);const F=Array.from(arguments),T=[],I=[];function M($){T.push($)}function L($){I.push($)}bu(p,{args:F,name:N[A0],store:C,after:M,onError:L});let B;try{B=D.apply(this&&this.$id===n?this:C,F)}catch($){throw bu(I,$),$}return B instanceof Promise?B.then($=>(bu(T,$),$)).catch($=>(bu(I,$),Promise.reject($))):(bu(T,B),B)};return N[Zw]=!0,N[A0]=A,N},x={_p:i,$id:n,$onAction:Kw.bind(null,p),$patch:v,$reset:w,$subscribe(D,A={}){const N=Kw(f,D,A.detached,()=>F()),F=a.run(()=>ri(()=>i.state.value[n],T=>{(A.flush==="sync"?c:h)&&D({storeId:n,type:fh.direct,events:d},T)},ha({},u,A)));return N},$dispose:y},C=vc(x);i._s.set(n,C);const S=(i._a&&i._a.runWithContext||R4)(()=>i._e.run(()=>(a=_1()).run(()=>t({action:_}))));for(const D in S){const A=S[D];if(or(A)&&!V4(A)||Ws(A))o||(g&&U4(A)&&(or(A)?A.value=g[D]:ly(A,g[D])),i.state.value[n][D]=A);else if(typeof A=="function"){const N=_(A,D);S[D]=N,l.actions[D]=A}}return ha(C,S),ha(mn(C),S),Object.defineProperty(C,"$state",{get:()=>i.state.value[n],set:D=>{v(A=>{ha(A,D)})}}),i._p.forEach(D=>{ha(C,a.run(()=>D({store:C,app:i._a,pinia:i,options:l})))}),g&&o&&r.hydrate&&r.hydrate(C.$state,g),h=!0,c=!0,C}/*! #__NO_SIDE_EFFECTS__ */function TI(n,t,r){let i;const s=typeof t=="function";i=s?r:t;function o(a,l){const u=xT();return a=a||(u?fs(EI,null):null),a&&Rm(a),a=wI,a._s.has(n)||(s?AI(n,t,i,a):$4(n,i,a)),a._s.get(n)}return o.$id=n,o}function j4(n,t){return Array.isArray(t)?t.reduce((r,i)=>(r[i]=function(){return n(this.$pinia)[i]},r),{}):Object.keys(t).reduce((r,i)=>(r[i]=function(){const s=n(this.$pinia),o=t[i];return typeof o=="function"?o.call(this,s):s[o]},r),{})}function z4(n,t){return Array.isArray(t)?t.reduce((r,i)=>(r[i]=function(...s){return n(this.$pinia)[i](...s)},r),{}):Object.keys(t).reduce((r,i)=>(r[i]=function(...s){return n(this.$pinia)[t[i]](...s)},r),{})}function Ts(n){const t=mn(n),r={};for(const i in t){const s=t[i];s.effect?r[i]=dt({get:()=>n[i],set(o){n[i]=o}}):(or(s)||Ws(s))&&(r[i]=WA(n,i))}return r}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const ku=typeof document<"u";function II(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function G4(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&II(n.default)}const Dn=Object.assign;function T0(n,t){const r={};for(const i in t){const s=t[i];r[i]=Ks(s)?s.map(n):n(s)}return r}const dh=()=>{},Ks=Array.isArray;function Jw(n,t){const r={};for(const i in n)r[i]=i in t?t[i]:n[i];return r}const DI=/#/g,H4=/&/g,W4=/\//g,q4=/=/g,X4=/\?/g,NI=/\+/g,Y4=/%5B/g,K4=/%5D/g,kI=/%5E/g,Z4=/%60/g,FI=/%7B/g,J4=/%7C/g,MI=/%7D/g,Q4=/%20/g;function G1(n){return n==null?"":encodeURI(""+n).replace(J4,"|").replace(Y4,"[").replace(K4,"]")}function e8(n){return G1(n).replace(FI,"{").replace(MI,"}").replace(kI,"^")}function uy(n){return G1(n).replace(NI,"%2B").replace(Q4,"+").replace(DI,"%23").replace(H4,"%26").replace(Z4,"`").replace(FI,"{").replace(MI,"}").replace(kI,"^")}function t8(n){return uy(n).replace(q4,"%3D")}function n8(n){return G1(n).replace(DI,"%23").replace(X4,"%3F")}function r8(n){return n8(n).replace(W4,"%2F")}function Rh(n){if(n==null)return null;try{return decodeURIComponent(""+n)}catch{}return""+n}const i8=/\/$/,s8=n=>n.replace(i8,"");function I0(n,t,r="/"){let i,s={},o="",a="";const l=t.indexOf("#");let u=t.indexOf("?");return u=l>=0&&u>l?-1:u,u>=0&&(i=t.slice(0,u),o=t.slice(u,l>0?l:t.length),s=n(o.slice(1))),l>=0&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=u8(i??t,r),{fullPath:i+o+a,path:i,query:s,hash:Rh(a)}}function o8(n,t){const r=t.query?n(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Qw(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function a8(n,t,r){const i=t.matched.length-1,s=r.matched.length-1;return i>-1&&i===s&&tc(t.matched[i],r.matched[s])&&OI(t.params,r.params)&&n(t.query)===n(r.query)&&t.hash===r.hash}function tc(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function OI(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(!l8(n[r],t[r]))return!1;return!0}function l8(n,t){return Ks(n)?e2(n,t):Ks(t)?e2(t,n):n===t}function e2(n,t){return Ks(t)?n.length===t.length&&n.every((r,i)=>r===t[i]):n.length===1&&n[0]===t}function u8(n,t){if(n.startsWith("/"))return n;if(!n)return t;const r=t.split("/"),i=n.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=r.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+i.slice(a).join("/")}const la={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let cy=(function(n){return n.pop="pop",n.push="push",n})({}),D0=(function(n){return n.back="back",n.forward="forward",n.unknown="",n})({});function c8(n){if(!n)if(ku){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),s8(n)}const h8=/^[^#]+#/;function f8(n,t){return n.replace(h8,"#")+t}function d8(n,t){const r=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:t.behavior,left:i.left-r.left-(t.left||0),top:i.top-r.top-(t.top||0)}}const Bm=()=>({left:window.scrollX,top:window.scrollY});function p8(n){let t;if("el"in n){const r=n.el,i=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;t=d8(s,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function t2(n,t){return(history.state?history.state.position-t:-1)+n}const hy=new Map;function m8(n,t){hy.set(n,t)}function g8(n){const t=hy.get(n);return hy.delete(n),t}function v8(n){return typeof n=="string"||n&&typeof n=="object"}function PI(n){return typeof n=="string"||typeof n=="symbol"}let yr=(function(n){return n[n.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",n[n.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",n[n.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",n[n.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",n[n.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",n})({});const LI=Symbol("");yr.MATCHER_NOT_FOUND+"",yr.NAVIGATION_GUARD_REDIRECT+"",yr.NAVIGATION_ABORTED+"",yr.NAVIGATION_CANCELLED+"",yr.NAVIGATION_DUPLICATED+"";function nc(n,t){return Dn(new Error,{type:n,[LI]:!0},t)}function Co(n,t){return n instanceof Error&&LI in n&&(t==null||!!(n.type&t))}const y8=["params","query","hash"];function b8(n){if(typeof n=="string")return n;if(n.path!=null)return n.path;const t={};for(const r of y8)r in n&&(t[r]=n[r]);return JSON.stringify(t,null,2)}function x8(n){const t={};if(n===""||n==="?")return t;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(NI," "),o=s.indexOf("="),a=Rh(o<0?s:s.slice(0,o)),l=o<0?null:Rh(s.slice(o+1));if(a in t){let u=t[a];Ks(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function n2(n){let t="";for(let r in n){const i=n[r];if(r=t8(r),i==null){i!==void 0&&(t+=(t.length?"&":"")+r);continue}(Ks(i)?i.map(s=>s&&uy(s)):[i&&uy(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+r,s!=null&&(t+="="+s))})}return t}function _8(n){const t={};for(const r in n){const i=n[r];i!==void 0&&(t[r]=Ks(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const w8=Symbol(""),r2=Symbol(""),Um=Symbol(""),H1=Symbol(""),fy=Symbol("");function Vc(){let n=[];function t(i){return n.push(i),()=>{const s=n.indexOf(i);s>-1&&n.splice(s,1)}}function r(){n=[]}return{add:t,list:()=>n.slice(),reset:r}}function ma(n,t,r,i,s,o=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,u)=>{const h=p=>{p===!1?u(nc(yr.NAVIGATION_ABORTED,{from:r,to:t})):p instanceof Error?u(p):v8(p)?u(nc(yr.NAVIGATION_GUARD_REDIRECT,{from:t,to:p})):(a&&i.enterCallbacks[s]===a&&typeof p=="function"&&a.push(p),l())},c=o(()=>n.call(i&&i.instances[s],t,r,h));let f=Promise.resolve(c);n.length<3&&(f=f.then(h)),f.catch(p=>u(p))})}function N0(n,t,r,i,s=o=>o()){const o=[];for(const a of n)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(II(u)){const h=(u.__vccOpts||u)[t];h&&o.push(ma(h,r,i,a,l,s))}else{let h=u();o.push(()=>h.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const f=G4(c)?c.default:c;a.mods[l]=c,a.components[l]=f;const p=(f.__vccOpts||f)[t];return p&&ma(p,r,i,a,l,s)()}))}}return o}function E8(n,t){const r=[],i=[],s=[],o=Math.max(t.matched.length,n.matched.length);for(let a=0;a<o;a++){const l=t.matched[a];l&&(n.matched.find(h=>tc(h,l))?i.push(l):r.push(l));const u=n.matched[a];u&&(t.matched.find(h=>tc(h,u))||s.push(u))}return[r,i,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let S8=()=>location.protocol+"//"+location.host;function RI(n,t){const{pathname:r,search:i,hash:s}=t,o=n.indexOf("#");if(o>-1){let a=s.includes(n.slice(o))?n.slice(o).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Qw(l,"")}return Qw(r,n)+i+s}function C8(n,t,r,i){let s=[],o=[],a=null;const l=({state:p})=>{const d=RI(n,location),g=r.value,m=t.value;let v=0;if(p){if(r.value=d,t.value=p,a&&a===g){a=null;return}v=m?p.position-m.position:0}else i(d);s.forEach(w=>{w(r.value,g,{delta:v,type:cy.pop,direction:v?v>0?D0.forward:D0.back:D0.unknown})})};function u(){a=r.value}function h(p){s.push(p);const d=()=>{const g=s.indexOf(p);g>-1&&s.splice(g,1)};return o.push(d),d}function c(){if(document.visibilityState==="hidden"){const{history:p}=window;if(!p.state)return;p.replaceState(Dn({},p.state,{scroll:Bm()}),"")}}function f(){for(const p of o)p();o=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:u,listen:h,destroy:f}}function i2(n,t,r,i=!1,s=!1){return{back:n,current:t,forward:r,replaced:i,position:window.history.length,scroll:s?Bm():null}}function A8(n){const{history:t,location:r}=window,i={value:RI(n,r)},s={value:t.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,h,c){const f=n.indexOf("#"),p=f>-1?(r.host&&document.querySelector("base")?n:n.slice(f))+u:S8()+n+u;try{t[c?"replaceState":"pushState"](h,"",p),s.value=h}catch(d){console.error(d),r[c?"replace":"assign"](p)}}function a(u,h){o(u,Dn({},t.state,i2(s.value.back,u,s.value.forward,!0),h,{position:s.value.position}),!0),i.value=u}function l(u,h){const c=Dn({},s.value,t.state,{forward:u,scroll:Bm()});o(c.current,c,!0),o(u,Dn({},i2(i.value,u,null),{position:c.position+1},h),!1),i.value=u}return{location:i,state:s,push:l,replace:a}}function T8(n){n=c8(n);const t=A8(n),r=C8(n,t.state,t.location,t.replace);function i(o,a=!0){a||r.pauseListeners(),history.go(o)}const s=Dn({location:"",base:n,go:i,createHref:f8.bind(null,n)},t,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}let gl=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.Group=2]="Group",n})({});var Rr=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.ParamRegExp=2]="ParamRegExp",n[n.ParamRegExpEnd=3]="ParamRegExpEnd",n[n.EscapeNext=4]="EscapeNext",n})(Rr||{});const I8={type:gl.Static,value:""},D8=/[a-zA-Z0-9_]/;function N8(n){if(!n)return[[]];if(n==="/")return[[I8]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(d){throw new Error(`ERR (${r})/"${h}": ${d}`)}let r=Rr.Static,i=r;const s=[];let o;function a(){o&&s.push(o),o=[]}let l=0,u,h="",c="";function f(){h&&(r===Rr.Static?o.push({type:gl.Static,value:h}):r===Rr.Param||r===Rr.ParamRegExp||r===Rr.ParamRegExpEnd?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:gl.Param,value:h,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),h="")}function p(){h+=u}for(;l<n.length;){if(u=n[l++],u==="\\"&&r!==Rr.ParamRegExp){i=r,r=Rr.EscapeNext;continue}switch(r){case Rr.Static:u==="/"?(h&&f(),a()):u===":"?(f(),r=Rr.Param):p();break;case Rr.EscapeNext:p(),r=i;break;case Rr.Param:u==="("?r=Rr.ParamRegExp:D8.test(u)?p():(f(),r=Rr.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case Rr.ParamRegExp:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=Rr.ParamRegExpEnd:c+=u;break;case Rr.ParamRegExpEnd:f(),r=Rr.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--,c="";break;default:t("Unknown state");break}}return r===Rr.ParamRegExp&&t(`Unfinished custom RegExp for param "${h}"`),f(),a(),s}const s2="[^/]+?",k8={sensitive:!1,strict:!1,start:!0,end:!0};var Ai=(function(n){return n[n._multiplier=10]="_multiplier",n[n.Root=90]="Root",n[n.Segment=40]="Segment",n[n.SubSegment=30]="SubSegment",n[n.Static=40]="Static",n[n.Dynamic=20]="Dynamic",n[n.BonusCustomRegExp=10]="BonusCustomRegExp",n[n.BonusWildcard=-50]="BonusWildcard",n[n.BonusRepeatable=-20]="BonusRepeatable",n[n.BonusOptional=-8]="BonusOptional",n[n.BonusStrict=.7000000000000001]="BonusStrict",n[n.BonusCaseSensitive=.25]="BonusCaseSensitive",n})(Ai||{});const F8=/[.+*?^${}()[\]/\\]/g;function M8(n,t){const r=Dn({},k8,t),i=[];let s=r.start?"^":"";const o=[];for(const h of n){const c=h.length?[]:[Ai.Root];r.strict&&!h.length&&(s+="/");for(let f=0;f<h.length;f++){const p=h[f];let d=Ai.Segment+(r.sensitive?Ai.BonusCaseSensitive:0);if(p.type===gl.Static)f||(s+="/"),s+=p.value.replace(F8,"\\$&"),d+=Ai.Static;else if(p.type===gl.Param){const{value:g,repeatable:m,optional:v,regexp:w}=p;o.push({name:g,repeatable:m,optional:v});const y=w||s2;if(y!==s2){d+=Ai.BonusCustomRegExp;try{`${y}`}catch(x){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+x.message)}}let _=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(_=v&&h.length<2?`(?:/${_})`:"/"+_),v&&(_+="?"),s+=_,d+=Ai.Dynamic,v&&(d+=Ai.BonusOptional),m&&(d+=Ai.BonusRepeatable),y===".*"&&(d+=Ai.BonusWildcard)}c.push(d)}i.push(c)}if(r.strict&&r.end){const h=i.length-1;i[h][i[h].length-1]+=Ai.BonusStrict}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,r.sensitive?"":"i");function l(h){const c=h.match(a),f={};if(!c)return null;for(let p=1;p<c.length;p++){const d=c[p]||"",g=o[p-1];f[g.name]=d&&g.repeatable?d.split("/"):d}return f}function u(h){let c="",f=!1;for(const p of n){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const d of p)if(d.type===gl.Static)c+=d.value;else if(d.type===gl.Param){const{value:g,repeatable:m,optional:v}=d,w=g in h?h[g]:"";if(Ks(w)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=Ks(w)?w.join("/"):w;if(!y)if(v)p.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);c+=y}}return c||"/"}return{re:a,score:i,keys:o,parse:l,stringify:u}}function O8(n,t){let r=0;for(;r<n.length&&r<t.length;){const i=t[r]-n[r];if(i)return i;r++}return n.length<t.length?n.length===1&&n[0]===Ai.Static+Ai.Segment?-1:1:n.length>t.length?t.length===1&&t[0]===Ai.Static+Ai.Segment?1:-1:0}function BI(n,t){let r=0;const i=n.score,s=t.score;for(;r<i.length&&r<s.length;){const o=O8(i[r],s[r]);if(o)return o;r++}if(Math.abs(s.length-i.length)===1){if(o2(i))return 1;if(o2(s))return-1}return s.length-i.length}function o2(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const P8={strict:!1,end:!0,sensitive:!1};function L8(n,t,r){const i=M8(N8(n.path),r),s=Dn(i,{record:n,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function R8(n,t){const r=[],i=new Map;t=Jw(P8,t);function s(f){return i.get(f)}function o(f,p,d){const g=!d,m=l2(f);m.aliasOf=d&&d.record;const v=Jw(t,f),w=[m];if("alias"in f){const x=typeof f.alias=="string"?[f.alias]:f.alias;for(const C of x)w.push(l2(Dn({},m,{components:d?d.record.components:m.components,path:C,aliasOf:d?d.record:m})))}let y,_;for(const x of w){const{path:C}=x;if(p&&C[0]!=="/"){const E=p.record.path,S=E[E.length-1]==="/"?"":"/";x.path=p.record.path+(C&&S+C)}if(y=L8(x,p,v),d?d.alias.push(y):(_=_||y,_!==y&&_.alias.push(y),g&&f.name&&!u2(y)&&a(f.name)),UI(y)&&u(y),m.children){const E=m.children;for(let S=0;S<E.length;S++)o(E[S],y,d&&d.children[S])}d=d||y}return _?()=>{a(_)}:dh}function a(f){if(PI(f)){const p=i.get(f);p&&(i.delete(f),r.splice(r.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{const p=r.indexOf(f);p>-1&&(r.splice(p,1),f.record.name&&i.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return r}function u(f){const p=V8(f,r);r.splice(p,0,f),f.record.name&&!u2(f)&&i.set(f.record.name,f)}function h(f,p){let d,g={},m,v;if("name"in f&&f.name){if(d=i.get(f.name),!d)throw nc(yr.MATCHER_NOT_FOUND,{location:f});v=d.record.name,g=Dn(a2(p.params,d.keys.filter(_=>!_.optional).concat(d.parent?d.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),f.params&&a2(f.params,d.keys.map(_=>_.name))),m=d.stringify(g)}else if(f.path!=null)m=f.path,d=r.find(_=>_.re.test(m)),d&&(g=d.parse(m),v=d.record.name);else{if(d=p.name?i.get(p.name):r.find(_=>_.re.test(p.path)),!d)throw nc(yr.MATCHER_NOT_FOUND,{location:f,currentLocation:p});v=d.record.name,g=Dn({},p.params,f.params),m=d.stringify(g)}const w=[];let y=d;for(;y;)w.unshift(y.record),y=y.parent;return{name:v,path:m,params:g,matched:w,meta:U8(w)}}n.forEach(f=>o(f));function c(){r.length=0,i.clear()}return{addRoute:o,resolve:h,removeRoute:a,clearRoutes:c,getRoutes:l,getRecordMatcher:s}}function a2(n,t){const r={};for(const i of t)i in n&&(r[i]=n[i]);return r}function l2(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:B8(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function B8(n){const t={},r=n.props||!1;if("component"in n)t.default=r;else for(const i in n.components)t[i]=typeof r=="object"?r[i]:r;return t}function u2(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function U8(n){return n.reduce((t,r)=>Dn(t,r.meta),{})}function V8(n,t){let r=0,i=t.length;for(;r!==i;){const o=r+i>>1;BI(n,t[o])<0?i=o:r=o+1}const s=$8(n);return s&&(i=t.lastIndexOf(s,i-1)),i}function $8(n){let t=n;for(;t=t.parent;)if(UI(t)&&BI(n,t)===0)return t}function UI({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function c2(n){const t=fs(Um),r=fs(H1),i=dt(()=>{const u=hi(n.to);return t.resolve(u)}),s=dt(()=>{const{matched:u}=i.value,{length:h}=u,c=u[h-1],f=r.matched;if(!c||!f.length)return-1;const p=f.findIndex(tc.bind(null,c));if(p>-1)return p;const d=h2(u[h-2]);return h>1&&h2(c)===d&&f[f.length-1].path!==d?f.findIndex(tc.bind(null,u[h-2])):p}),o=dt(()=>s.value>-1&&W8(r.params,i.value.params)),a=dt(()=>s.value>-1&&s.value===r.matched.length-1&&OI(r.params,i.value.params));function l(u={}){if(H8(u)){const h=t[hi(n.replace)?"replace":"push"](hi(n.to)).catch(dh);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:i,href:dt(()=>i.value.href),isActive:o,isExactActive:a,navigate:l}}function j8(n){return n.length===1?n[0]:n}const z8=pf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:c2,setup(n,{slots:t}){const r=vc(c2(n)),{options:i}=fs(Um),s=dt(()=>({[f2(n.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[f2(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&j8(t.default(r));return n.custom?o:Om("a",{"aria-current":r.isExactActive?n.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},o)}}}),G8=z8;function H8(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function W8(n,t){for(const r in t){const i=t[r],s=n[r];if(typeof i=="string"){if(i!==s)return!1}else if(!Ks(s)||s.length!==i.length||i.some((o,a)=>o!==s[a]))return!1}return!0}function h2(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const f2=(n,t,r)=>n??t??r,q8=pf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:r}){const i=fs(fy),s=dt(()=>n.route||i.value),o=fs(r2,0),a=dt(()=>{let h=hi(o);const{matched:c}=s.value;let f;for(;(f=c[h])&&!f.components;)h++;return h}),l=dt(()=>s.value.matched[a.value]);uh(r2,dt(()=>a.value+1)),uh(w8,l),uh(fy,s);const u=Ue();return ri(()=>[u.value,l.value,n.name],([h,c,f],[p,d,g])=>{c&&(c.instances[f]=h,d&&d!==c&&h&&h===p&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),h&&c&&(!d||!tc(c,d)||!p)&&(c.enterCallbacks[f]||[]).forEach(m=>m(h))},{flush:"post"}),()=>{const h=s.value,c=n.name,f=l.value,p=f&&f.components[c];if(!p)return d2(r.default,{Component:p,route:h});const d=f.props[c],g=d?d===!0?h.params:typeof d=="function"?d(h):d:null,v=Om(p,Dn({},g,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return d2(r.default,{Component:v,route:h})||v}}});function d2(n,t){if(!n)return null;const r=n(t);return r.length===1?r[0]:r}const VI=q8;function X8(n){const t=R8(n.routes,n),r=n.parseQuery||x8,i=n.stringifyQuery||n2,s=n.history,o=Vc(),a=Vc(),l=Vc(),u=T1(la);let h=la;ku&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=T0.bind(null,K=>""+K),f=T0.bind(null,r8),p=T0.bind(null,Rh);function d(K,ue){let G,se;return PI(K)?(G=t.getRecordMatcher(K),se=ue):se=K,t.addRoute(se,G)}function g(K){const ue=t.getRecordMatcher(K);ue&&t.removeRoute(ue)}function m(){return t.getRoutes().map(K=>K.record)}function v(K){return!!t.getRecordMatcher(K)}function w(K,ue){if(ue=Dn({},ue||u.value),typeof K=="string"){const Q=I0(r,K,ue.path),re=t.resolve({path:Q.path},ue),Ce=s.createHref(Q.fullPath);return Dn(Q,re,{params:p(re.params),hash:Rh(Q.hash),redirectedFrom:void 0,href:Ce})}let G;if(K.path!=null)G=Dn({},K,{path:I0(r,K.path,ue.path).path});else{const Q=Dn({},K.params);for(const re in Q)Q[re]==null&&delete Q[re];G=Dn({},K,{params:f(Q)}),ue.params=f(ue.params)}const se=t.resolve(G,ue),ye=K.hash||"";se.params=c(p(se.params));const Ee=o8(i,Dn({},K,{hash:e8(ye),path:se.path})),H=s.createHref(Ee);return Dn({fullPath:Ee,hash:ye,query:i===n2?_8(K.query):K.query||{}},se,{redirectedFrom:void 0,href:H})}function y(K){return typeof K=="string"?I0(r,K,u.value.path):Dn({},K)}function _(K,ue){if(h!==K)return nc(yr.NAVIGATION_CANCELLED,{from:ue,to:K})}function x(K){return S(K)}function C(K){return x(Dn(y(K),{replace:!0}))}function E(K,ue){const G=K.matched[K.matched.length-1];if(G&&G.redirect){const{redirect:se}=G;let ye=typeof se=="function"?se(K,ue):se;return typeof ye=="string"&&(ye=ye.includes("?")||ye.includes("#")?ye=y(ye):{path:ye},ye.params={}),Dn({query:K.query,hash:K.hash,params:ye.path!=null?{}:K.params},ye)}}function S(K,ue){const G=h=w(K),se=u.value,ye=K.state,Ee=K.force,H=K.replace===!0,Q=E(G,se);if(Q)return S(Dn(y(Q),{state:typeof Q=="object"?Dn({},ye,Q.state):ye,force:Ee,replace:H}),ue||G);const re=G;re.redirectedFrom=ue;let Ce;return!Ee&&a8(i,se,G)&&(Ce=nc(yr.NAVIGATION_DUPLICATED,{to:re,from:se}),V(se,se,!0,!1)),(Ce?Promise.resolve(Ce):N(re,se)).catch(_e=>Co(_e)?Co(_e,yr.NAVIGATION_GUARD_REDIRECT)?_e:he(_e):q(_e,re,se)).then(_e=>{if(_e){if(Co(_e,yr.NAVIGATION_GUARD_REDIRECT))return S(Dn({replace:H},y(_e.to),{state:typeof _e.to=="object"?Dn({},ye,_e.to.state):ye,force:Ee}),ue||re)}else _e=T(re,se,!0,H,ye);return F(re,se,_e),_e})}function D(K,ue){const G=_(K,ue);return G?Promise.reject(G):Promise.resolve()}function A(K){const ue=W.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(K):K()}function N(K,ue){let G;const[se,ye,Ee]=E8(K,ue);G=N0(se.reverse(),"beforeRouteLeave",K,ue);for(const Q of se)Q.leaveGuards.forEach(re=>{G.push(ma(re,K,ue))});const H=D.bind(null,K,ue);return G.push(H),de(G).then(()=>{G=[];for(const Q of o.list())G.push(ma(Q,K,ue));return G.push(H),de(G)}).then(()=>{G=N0(ye,"beforeRouteUpdate",K,ue);for(const Q of ye)Q.updateGuards.forEach(re=>{G.push(ma(re,K,ue))});return G.push(H),de(G)}).then(()=>{G=[];for(const Q of Ee)if(Q.beforeEnter)if(Ks(Q.beforeEnter))for(const re of Q.beforeEnter)G.push(ma(re,K,ue));else G.push(ma(Q.beforeEnter,K,ue));return G.push(H),de(G)}).then(()=>(K.matched.forEach(Q=>Q.enterCallbacks={}),G=N0(Ee,"beforeRouteEnter",K,ue,A),G.push(H),de(G))).then(()=>{G=[];for(const Q of a.list())G.push(ma(Q,K,ue));return G.push(H),de(G)}).catch(Q=>Co(Q,yr.NAVIGATION_CANCELLED)?Q:Promise.reject(Q))}function F(K,ue,G){l.list().forEach(se=>A(()=>se(K,ue,G)))}function T(K,ue,G,se,ye){const Ee=_(K,ue);if(Ee)return Ee;const H=ue===la,Q=ku?history.state:{};G&&(se||H?s.replace(K.fullPath,Dn({scroll:H&&Q&&Q.scroll},ye)):s.push(K.fullPath,ye)),u.value=K,V(K,ue,G,H),he()}let I;function M(){I||(I=s.listen((K,ue,G)=>{if(!z.listening)return;const se=w(K),ye=E(se,z.currentRoute.value);if(ye){S(Dn(ye,{replace:!0,force:!0}),se).catch(dh);return}h=se;const Ee=u.value;ku&&m8(t2(Ee.fullPath,G.delta),Bm()),N(se,Ee).catch(H=>Co(H,yr.NAVIGATION_ABORTED|yr.NAVIGATION_CANCELLED)?H:Co(H,yr.NAVIGATION_GUARD_REDIRECT)?(S(Dn(y(H.to),{force:!0}),se).then(Q=>{Co(Q,yr.NAVIGATION_ABORTED|yr.NAVIGATION_DUPLICATED)&&!G.delta&&G.type===cy.pop&&s.go(-1,!1)}).catch(dh),Promise.reject()):(G.delta&&s.go(-G.delta,!1),q(H,se,Ee))).then(H=>{H=H||T(se,Ee,!1),H&&(G.delta&&!Co(H,yr.NAVIGATION_CANCELLED)?s.go(-G.delta,!1):G.type===cy.pop&&Co(H,yr.NAVIGATION_ABORTED|yr.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),F(se,Ee,H)}).catch(dh)}))}let L=Vc(),B=Vc(),$;function q(K,ue,G){he(K);const se=B.list();return se.length?se.forEach(ye=>ye(K,ue,G)):console.error(K),Promise.reject(K)}function Z(){return $&&u.value!==la?Promise.resolve():new Promise((K,ue)=>{L.add([K,ue])})}function he(K){return $||($=!K,M(),L.list().forEach(([ue,G])=>K?G(K):ue()),L.reset()),K}function V(K,ue,G,se){const{scrollBehavior:ye}=n;if(!ku||!ye)return Promise.resolve();const Ee=!G&&g8(t2(K.fullPath,0))||(se||!G)&&history.state&&history.state.scroll||null;return Fr().then(()=>ye(K,ue,Ee)).then(H=>H&&p8(H)).catch(H=>q(H,K,ue))}const J=K=>s.go(K);let ge;const W=new Set,z={currentRoute:u,listening:!0,addRoute:d,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:m,resolve:w,options:n,push:x,replace:C,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:o.add,beforeResolve:a.add,afterEach:l.add,onError:B.add,isReady:Z,install(K){K.component("RouterLink",G8),K.component("RouterView",VI),K.config.globalProperties.$router=z,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>hi(u)}),ku&&!ge&&u.value===la&&(ge=!0,x(s.location).catch(se=>{}));const ue={};for(const se in la)Object.defineProperty(ue,se,{get:()=>u.value[se],enumerable:!0});K.provide(Um,z),K.provide(H1,A1(ue)),K.provide(fy,u);const G=K.unmount;W.add(K),K.unmount=function(){W.delete(K),W.size<1&&(h=la,I&&I(),I=null,u.value=la,ge=!1,$=!1),G()}}};function de(K){return K.reduce((ue,G)=>ue.then(()=>A(G)),Promise.resolve())}return z}function bc(){return fs(Um)}function Y8(n){return fs(H1)}function $I(n,t){return function(){return n.apply(t,arguments)}}const{toString:K8}=Object.prototype,{getPrototypeOf:W1}=Object,{iterator:Vm,toStringTag:jI}=Symbol,$m=(n=>t=>{const r=K8.call(t);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Zs=n=>(n=n.toLowerCase(),t=>$m(t)===n),jm=n=>t=>typeof t===n,{isArray:xc}=Array,rc=jm("undefined");function yf(n){return n!==null&&!rc(n)&&n.constructor!==null&&!rc(n.constructor)&&Ki(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const zI=Zs("ArrayBuffer");function Z8(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&zI(n.buffer),t}const J8=jm("string"),Ki=jm("function"),GI=jm("number"),bf=n=>n!==null&&typeof n=="object",Q8=n=>n===!0||n===!1,Wd=n=>{if($m(n)!=="object")return!1;const t=W1(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(jI in n)&&!(Vm in n)},e6=n=>{if(!bf(n)||yf(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},t6=Zs("Date"),n6=Zs("File"),r6=Zs("Blob"),i6=Zs("FileList"),s6=n=>bf(n)&&Ki(n.pipe),o6=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Ki(n.append)&&((t=$m(n))==="formdata"||t==="object"&&Ki(n.toString)&&n.toString()==="[object FormData]"))},a6=Zs("URLSearchParams"),[l6,u6,c6,h6]=["ReadableStream","Request","Response","Headers"].map(Zs),f6=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xf(n,t,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),xc(n))for(i=0,s=n.length;i<s;i++)t.call(null,n[i],i,n);else{if(yf(n))return;const o=r?Object.getOwnPropertyNames(n):Object.keys(n),a=o.length;let l;for(i=0;i<a;i++)l=o[i],t.call(null,n[l],l,n)}}function HI(n,t){if(yf(n))return null;t=t.toLowerCase();const r=Object.keys(n);let i=r.length,s;for(;i-- >0;)if(s=r[i],t===s.toLowerCase())return s;return null}const vl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,WI=n=>!rc(n)&&n!==vl;function dy(){const{caseless:n,skipUndefined:t}=WI(this)&&this||{},r={},i=(s,o)=>{const a=n&&HI(r,o)||o;Wd(r[a])&&Wd(s)?r[a]=dy(r[a],s):Wd(s)?r[a]=dy({},s):xc(s)?r[a]=s.slice():(!t||!rc(s))&&(r[a]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&xf(arguments[s],i);return r}const d6=(n,t,r,{allOwnKeys:i}={})=>(xf(t,(s,o)=>{r&&Ki(s)?n[o]=$I(s,r):n[o]=s},{allOwnKeys:i}),n),p6=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),m6=(n,t,r,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),r&&Object.assign(n.prototype,r)},g6=(n,t,r,i)=>{let s,o,a;const l={};if(t=t||{},n==null)return t;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)a=s[o],(!i||i(a,n,t))&&!l[a]&&(t[a]=n[a],l[a]=!0);n=r!==!1&&W1(n)}while(n&&(!r||r(n,t))&&n!==Object.prototype);return t},v6=(n,t,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=t.length;const i=n.indexOf(t,r);return i!==-1&&i===r},y6=n=>{if(!n)return null;if(xc(n))return n;let t=n.length;if(!GI(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=n[t];return r},b6=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&W1(Uint8Array)),x6=(n,t)=>{const i=(n&&n[Vm]).call(n);let s;for(;(s=i.next())&&!s.done;){const o=s.value;t.call(n,o[0],o[1])}},_6=(n,t)=>{let r;const i=[];for(;(r=n.exec(t))!==null;)i.push(r);return i},w6=Zs("HTMLFormElement"),E6=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,s){return i.toUpperCase()+s}),p2=(({hasOwnProperty:n})=>(t,r)=>n.call(t,r))(Object.prototype),S6=Zs("RegExp"),qI=(n,t)=>{const r=Object.getOwnPropertyDescriptors(n),i={};xf(r,(s,o)=>{let a;(a=t(s,o,n))!==!1&&(i[o]=a||s)}),Object.defineProperties(n,i)},C6=n=>{qI(n,(t,r)=>{if(Ki(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=n[r];if(Ki(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},A6=(n,t)=>{const r={},i=s=>{s.forEach(o=>{r[o]=!0})};return xc(n)?i(n):i(String(n).split(t)),r},T6=()=>{},I6=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function D6(n){return!!(n&&Ki(n.append)&&n[jI]==="FormData"&&n[Vm])}const N6=n=>{const t=new Array(10),r=(i,s)=>{if(bf(i)){if(t.indexOf(i)>=0)return;if(yf(i))return i;if(!("toJSON"in i)){t[s]=i;const o=xc(i)?[]:{};return xf(i,(a,l)=>{const u=r(a,s+1);!rc(u)&&(o[l]=u)}),t[s]=void 0,o}}return i};return r(n,0)},k6=Zs("AsyncFunction"),F6=n=>n&&(bf(n)||Ki(n))&&Ki(n.then)&&Ki(n.catch),XI=((n,t)=>n?setImmediate:t?((r,i)=>(vl.addEventListener("message",({source:s,data:o})=>{s===vl&&o===r&&i.length&&i.shift()()},!1),s=>{i.push(s),vl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ki(vl.postMessage)),M6=typeof queueMicrotask<"u"?queueMicrotask.bind(vl):typeof process<"u"&&process.nextTick||XI,O6=n=>n!=null&&Ki(n[Vm]),Ge={isArray:xc,isArrayBuffer:zI,isBuffer:yf,isFormData:o6,isArrayBufferView:Z8,isString:J8,isNumber:GI,isBoolean:Q8,isObject:bf,isPlainObject:Wd,isEmptyObject:e6,isReadableStream:l6,isRequest:u6,isResponse:c6,isHeaders:h6,isUndefined:rc,isDate:t6,isFile:n6,isBlob:r6,isRegExp:S6,isFunction:Ki,isStream:s6,isURLSearchParams:a6,isTypedArray:b6,isFileList:i6,forEach:xf,merge:dy,extend:d6,trim:f6,stripBOM:p6,inherits:m6,toFlatObject:g6,kindOf:$m,kindOfTest:Zs,endsWith:v6,toArray:y6,forEachEntry:x6,matchAll:_6,isHTMLForm:w6,hasOwnProperty:p2,hasOwnProp:p2,reduceDescriptors:qI,freezeMethods:C6,toObjectSet:A6,toCamelCase:E6,noop:T6,toFiniteNumber:I6,findKey:HI,global:vl,isContextDefined:WI,isSpecCompliantForm:D6,toJSONObject:N6,isAsyncFn:k6,isThenable:F6,setImmediate:XI,asap:M6,isIterable:O6};function Qt(n,t,r,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}Ge.inherits(Qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ge.toJSONObject(this.config),code:this.code,status:this.status}}});const YI=Qt.prototype,KI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{KI[n]={value:n}});Object.defineProperties(Qt,KI);Object.defineProperty(YI,"isAxiosError",{value:!0});Qt.from=(n,t,r,i,s,o)=>{const a=Object.create(YI);Ge.toFlatObject(n,a,function(c){return c!==Error.prototype},h=>h!=="isAxiosError");const l=n&&n.message?n.message:"Error",u=t==null&&n?n.code:t;return Qt.call(a,l,u,r,i,s),n&&a.cause==null&&Object.defineProperty(a,"cause",{value:n,configurable:!0}),a.name=n&&n.name||"Error",o&&Object.assign(a,o),a};const P6=null;function py(n){return Ge.isPlainObject(n)||Ge.isArray(n)}function ZI(n){return Ge.endsWith(n,"[]")?n.slice(0,-2):n}function m2(n,t,r){return n?n.concat(t).map(function(s,o){return s=ZI(s),!r&&o?"["+s+"]":s}).join(r?".":""):t}function L6(n){return Ge.isArray(n)&&!n.some(py)}const R6=Ge.toFlatObject(Ge,{},null,function(t){return/^is[A-Z]/.test(t)});function zm(n,t,r){if(!Ge.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,r=Ge.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!Ge.isUndefined(v[m])});const i=r.metaTokens,s=r.visitor||c,o=r.dots,a=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Ge.isSpecCompliantForm(t);if(!Ge.isFunction(s))throw new TypeError("visitor must be a function");function h(g){if(g===null)return"";if(Ge.isDate(g))return g.toISOString();if(Ge.isBoolean(g))return g.toString();if(!u&&Ge.isBlob(g))throw new Qt("Blob is not supported. Use a Buffer instead.");return Ge.isArrayBuffer(g)||Ge.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,m,v){let w=g;if(g&&!v&&typeof g=="object"){if(Ge.endsWith(m,"{}"))m=i?m:m.slice(0,-2),g=JSON.stringify(g);else if(Ge.isArray(g)&&L6(g)||(Ge.isFileList(g)||Ge.endsWith(m,"[]"))&&(w=Ge.toArray(g)))return m=ZI(m),w.forEach(function(_,x){!(Ge.isUndefined(_)||_===null)&&t.append(a===!0?m2([m],x,o):a===null?m:m+"[]",h(_))}),!1}return py(g)?!0:(t.append(m2(v,m,o),h(g)),!1)}const f=[],p=Object.assign(R6,{defaultVisitor:c,convertValue:h,isVisitable:py});function d(g,m){if(!Ge.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),Ge.forEach(g,function(w,y){(!(Ge.isUndefined(w)||w===null)&&s.call(t,w,Ge.isString(y)?y.trim():y,m,p))===!0&&d(w,m?m.concat(y):[y])}),f.pop()}}if(!Ge.isObject(n))throw new TypeError("data must be an object");return d(n),t}function g2(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function q1(n,t){this._pairs=[],n&&zm(n,this,t)}const JI=q1.prototype;JI.append=function(t,r){this._pairs.push([t,r])};JI.toString=function(t){const r=t?function(i){return t.call(this,i,g2)}:g2;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function B6(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function QI(n,t,r){if(!t)return n;const i=r&&r.encode||B6;Ge.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(t,r):o=Ge.isURLSearchParams(t)?t.toString():new q1(t,r).toString(i),o){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class v2{constructor(){this.handlers=[]}use(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ge.forEach(this.handlers,function(i){i!==null&&t(i)})}}const eD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U6=typeof URLSearchParams<"u"?URLSearchParams:q1,V6=typeof FormData<"u"?FormData:null,$6=typeof Blob<"u"?Blob:null,j6={isBrowser:!0,classes:{URLSearchParams:U6,FormData:V6,Blob:$6},protocols:["http","https","file","blob","url","data"]},X1=typeof window<"u"&&typeof document<"u",my=typeof navigator=="object"&&navigator||void 0,z6=X1&&(!my||["ReactNative","NativeScript","NS"].indexOf(my.product)<0),G6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",H6=X1&&window.location.href||"http://localhost",W6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:X1,hasStandardBrowserEnv:z6,hasStandardBrowserWebWorkerEnv:G6,navigator:my,origin:H6},Symbol.toStringTag,{value:"Module"})),mi={...W6,...j6};function q6(n,t){return zm(n,new mi.classes.URLSearchParams,{visitor:function(r,i,s,o){return mi.isNode&&Ge.isBuffer(r)?(this.append(i,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function X6(n){return Ge.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Y6(n){const t={},r=Object.keys(n);let i;const s=r.length;let o;for(i=0;i<s;i++)o=r[i],t[o]=n[o];return t}function tD(n){function t(r,i,s,o){let a=r[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=o>=r.length;return a=!a&&Ge.isArray(s)?s.length:a,u?(Ge.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!l):((!s[a]||!Ge.isObject(s[a]))&&(s[a]=[]),t(r,i,s[a],o)&&Ge.isArray(s[a])&&(s[a]=Y6(s[a])),!l)}if(Ge.isFormData(n)&&Ge.isFunction(n.entries)){const r={};return Ge.forEachEntry(n,(i,s)=>{t(X6(i),s,r,0)}),r}return null}function K6(n,t,r){if(Ge.isString(n))try{return(t||JSON.parse)(n),Ge.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(n)}const _f={transitional:eD,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const i=r.getContentType()||"",s=i.indexOf("application/json")>-1,o=Ge.isObject(t);if(o&&Ge.isHTMLForm(t)&&(t=new FormData(t)),Ge.isFormData(t))return s?JSON.stringify(tD(t)):t;if(Ge.isArrayBuffer(t)||Ge.isBuffer(t)||Ge.isStream(t)||Ge.isFile(t)||Ge.isBlob(t)||Ge.isReadableStream(t))return t;if(Ge.isArrayBufferView(t))return t.buffer;if(Ge.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return q6(t,this.formSerializer).toString();if((l=Ge.isFileList(t))||i.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return zm(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),K6(t)):t}],transformResponse:[function(t){const r=this.transitional||_f.transitional,i=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ge.isResponse(t)||Ge.isReadableStream(t))return t;if(t&&Ge.isString(t)&&(i&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?Qt.from(l,Qt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mi.classes.FormData,Blob:mi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ge.forEach(["delete","get","head","post","put","patch"],n=>{_f.headers[n]={}});const Z6=Ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),J6=n=>{const t={};let r,i,s;return n&&n.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!r||t[r]&&Z6[r])&&(r==="set-cookie"?t[r]?t[r].push(i):t[r]=[i]:t[r]=t[r]?t[r]+", "+i:i)}),t},y2=Symbol("internals");function $c(n){return n&&String(n).trim().toLowerCase()}function qd(n){return n===!1||n==null?n:Ge.isArray(n)?n.map(qd):String(n)}function Q6(n){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(n);)t[i[1]]=i[2];return t}const eB=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function k0(n,t,r,i,s){if(Ge.isFunction(i))return i.call(this,t,r);if(s&&(t=r),!!Ge.isString(t)){if(Ge.isString(i))return t.indexOf(i)!==-1;if(Ge.isRegExp(i))return i.test(t)}}function tB(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,i)=>r.toUpperCase()+i)}function nB(n,t){const r=Ge.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+r,{value:function(s,o,a){return this[i].call(this,t,s,o,a)},configurable:!0})})}let Zi=class{constructor(t){t&&this.set(t)}set(t,r,i){const s=this;function o(l,u,h){const c=$c(u);if(!c)throw new Error("header name must be a non-empty string");const f=Ge.findKey(s,c);(!f||s[f]===void 0||h===!0||h===void 0&&s[f]!==!1)&&(s[f||u]=qd(l))}const a=(l,u)=>Ge.forEach(l,(h,c)=>o(h,c,u));if(Ge.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(Ge.isString(t)&&(t=t.trim())&&!eB(t))a(J6(t),r);else if(Ge.isObject(t)&&Ge.isIterable(t)){let l={},u,h;for(const c of t){if(!Ge.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[h=c[0]]=(u=l[h])?Ge.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}a(l,r)}else t!=null&&o(r,t,i);return this}get(t,r){if(t=$c(t),t){const i=Ge.findKey(this,t);if(i){const s=this[i];if(!r)return s;if(r===!0)return Q6(s);if(Ge.isFunction(r))return r.call(this,s,i);if(Ge.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=$c(t),t){const i=Ge.findKey(this,t);return!!(i&&this[i]!==void 0&&(!r||k0(this,this[i],i,r)))}return!1}delete(t,r){const i=this;let s=!1;function o(a){if(a=$c(a),a){const l=Ge.findKey(i,a);l&&(!r||k0(i,i[l],l,r))&&(delete i[l],s=!0)}}return Ge.isArray(t)?t.forEach(o):o(t),s}clear(t){const r=Object.keys(this);let i=r.length,s=!1;for(;i--;){const o=r[i];(!t||k0(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const r=this,i={};return Ge.forEach(this,(s,o)=>{const a=Ge.findKey(i,o);if(a){r[a]=qd(s),delete r[o];return}const l=t?tB(o):String(o).trim();l!==o&&delete r[o],r[l]=qd(s),i[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ge.forEach(this,(i,s)=>{i!=null&&i!==!1&&(r[s]=t&&Ge.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const i=new this(t);return r.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[y2]=this[y2]={accessors:{}}).accessors,s=this.prototype;function o(a){const l=$c(a);i[l]||(nB(s,a),i[l]=!0)}return Ge.isArray(t)?t.forEach(o):o(t),this}};Zi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ge.reduceDescriptors(Zi.prototype,({value:n},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[r]=i}}});Ge.freezeMethods(Zi);function F0(n,t){const r=this||_f,i=t||r,s=Zi.from(i.headers);let o=i.data;return Ge.forEach(n,function(l){o=l.call(r,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function nD(n){return!!(n&&n.__CANCEL__)}function _c(n,t,r){Qt.call(this,n??"canceled",Qt.ERR_CANCELED,t,r),this.name="CanceledError"}Ge.inherits(_c,Qt,{__CANCEL__:!0});function rD(n,t,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?n(r):t(new Qt("Request failed with status code "+r.status,[Qt.ERR_BAD_REQUEST,Qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function rB(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function iB(n,t){n=n||10;const r=new Array(n),i=new Array(n);let s=0,o=0,a;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),c=i[o];a||(a=h),r[s]=u,i[s]=h;let f=o,p=0;for(;f!==s;)p+=r[f++],f=f%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),h-a<t)return;const d=c&&h-c;return d?Math.round(p*1e3/d):void 0}}function sB(n,t){let r=0,i=1e3/t,s,o;const a=(h,c=Date.now())=>{r=c,s=null,o&&(clearTimeout(o),o=null),n(...h)};return[(...h)=>{const c=Date.now(),f=c-r;f>=i?a(h,c):(s=h,o||(o=setTimeout(()=>{o=null,a(s)},i-f)))},()=>s&&a(s)]}const Np=(n,t,r=3)=>{let i=0;const s=iB(50,250);return sB(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,u=a-i,h=s(u),c=a<=l;i=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&c?(l-a)/h:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};n(f)},r)},b2=(n,t)=>{const r=n!=null;return[i=>t[0]({lengthComputable:r,total:n,loaded:i}),t[1]]},x2=n=>(...t)=>Ge.asap(()=>n(...t)),oB=mi.hasStandardBrowserEnv?((n,t)=>r=>(r=new URL(r,mi.origin),n.protocol===r.protocol&&n.host===r.host&&(t||n.port===r.port)))(new URL(mi.origin),mi.navigator&&/(msie|trident)/i.test(mi.navigator.userAgent)):()=>!0,aB=mi.hasStandardBrowserEnv?{write(n,t,r,i,s,o){const a=[n+"="+encodeURIComponent(t)];Ge.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Ge.isString(i)&&a.push("path="+i),Ge.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lB(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function uB(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function iD(n,t,r){let i=!lB(t);return n&&(i||r==!1)?uB(n,t):t}const _2=n=>n instanceof Zi?{...n}:n;function Bl(n,t){t=t||{};const r={};function i(h,c,f,p){return Ge.isPlainObject(h)&&Ge.isPlainObject(c)?Ge.merge.call({caseless:p},h,c):Ge.isPlainObject(c)?Ge.merge({},c):Ge.isArray(c)?c.slice():c}function s(h,c,f,p){if(Ge.isUndefined(c)){if(!Ge.isUndefined(h))return i(void 0,h,f,p)}else return i(h,c,f,p)}function o(h,c){if(!Ge.isUndefined(c))return i(void 0,c)}function a(h,c){if(Ge.isUndefined(c)){if(!Ge.isUndefined(h))return i(void 0,h)}else return i(void 0,c)}function l(h,c,f){if(f in t)return i(h,c);if(f in n)return i(void 0,h)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(h,c,f)=>s(_2(h),_2(c),f,!0)};return Ge.forEach(Object.keys({...n,...t}),function(c){const f=u[c]||s,p=f(n[c],t[c],c);Ge.isUndefined(p)&&f!==l||(r[c]=p)}),r}const sD=n=>{const t=Bl({},n);let{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=Zi.from(a),t.url=QI(iD(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ge.isFormData(r)){if(mi.hasStandardBrowserEnv||mi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Ge.isFunction(r.getHeaders)){const u=r.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([c,f])=>{h.includes(c.toLowerCase())&&a.set(c,f)})}}if(mi.hasStandardBrowserEnv&&(i&&Ge.isFunction(i)&&(i=i(t)),i||i!==!1&&oB(t.url))){const u=s&&o&&aB.read(o);u&&a.set(s,u)}return t},cB=typeof XMLHttpRequest<"u",hB=cB&&function(n){return new Promise(function(r,i){const s=sD(n);let o=s.data;const a=Zi.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=s,c,f,p,d,g;function m(){d&&d(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function w(){if(!v)return;const _=Zi.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:n,request:v};rD(function(S){r(S),m()},function(S){i(S),m()},C),v=null}"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(w)},v.onabort=function(){v&&(i(new Qt("Request aborted",Qt.ECONNABORTED,n,v)),v=null)},v.onerror=function(x){const C=x&&x.message?x.message:"Network Error",E=new Qt(C,Qt.ERR_NETWORK,n,v);E.event=x||null,i(E),v=null},v.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||eD;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),i(new Qt(x,C.clarifyTimeoutError?Qt.ETIMEDOUT:Qt.ECONNABORTED,n,v)),v=null},o===void 0&&a.setContentType(null),"setRequestHeader"in v&&Ge.forEach(a.toJSON(),function(x,C){v.setRequestHeader(C,x)}),Ge.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),h&&([p,g]=Np(h,!0),v.addEventListener("progress",p)),u&&v.upload&&([f,d]=Np(u),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",d)),(s.cancelToken||s.signal)&&(c=_=>{v&&(i(!_||_.type?new _c(null,n,v):_),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const y=rB(s.url);if(y&&mi.protocols.indexOf(y)===-1){i(new Qt("Unsupported protocol "+y+":",Qt.ERR_BAD_REQUEST,n));return}v.send(o||null)})},fB=(n,t)=>{const{length:r}=n=n?n.filter(Boolean):[];if(t||r){let i=new AbortController,s;const o=function(h){if(!s){s=!0,l();const c=h instanceof Error?h:this.reason;i.abort(c instanceof Qt?c:new _c(c instanceof Error?c.message:c))}};let a=t&&setTimeout(()=>{a=null,o(new Qt(`timeout ${t} of ms exceeded`,Qt.ETIMEDOUT))},t);const l=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),n=null)};n.forEach(h=>h.addEventListener("abort",o));const{signal:u}=i;return u.unsubscribe=()=>Ge.asap(l),u}},dB=function*(n,t){let r=n.byteLength;if(r<t){yield n;return}let i=0,s;for(;i<r;)s=i+t,yield n.slice(i,s),i=s},pB=async function*(n,t){for await(const r of mB(n))yield*dB(r,t)},mB=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:r,value:i}=await t.read();if(r)break;yield i}}finally{await t.cancel()}},w2=(n,t,r,i)=>{const s=pB(n,t);let o=0,a,l=u=>{a||(a=!0,i&&i(u))};return new ReadableStream({async pull(u){try{const{done:h,value:c}=await s.next();if(h){l(),u.close();return}let f=c.byteLength;if(r){let p=o+=f;r(p)}u.enqueue(new Uint8Array(c))}catch(h){throw l(h),h}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},E2=64*1024,{isFunction:od}=Ge,gB=(({Request:n,Response:t})=>({Request:n,Response:t}))(Ge.global),{ReadableStream:S2,TextEncoder:C2}=Ge.global,A2=(n,...t)=>{try{return!!n(...t)}catch{return!1}},vB=n=>{n=Ge.merge.call({skipUndefined:!0},gB,n);const{fetch:t,Request:r,Response:i}=n,s=t?od(t):typeof fetch=="function",o=od(r),a=od(i);if(!s)return!1;const l=s&&od(S2),u=s&&(typeof C2=="function"?(g=>m=>g.encode(m))(new C2):async g=>new Uint8Array(await new r(g).arrayBuffer())),h=o&&l&&A2(()=>{let g=!1;const m=new r(mi.origin,{body:new S2,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!m}),c=a&&l&&A2(()=>Ge.isReadableStream(new i("").body)),f={stream:c&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(m,v)=>{let w=m&&m[g];if(w)return w.call(m);throw new Qt(`Response type '${g}' is not supported`,Qt.ERR_NOT_SUPPORT,v)})});const p=async g=>{if(g==null)return 0;if(Ge.isBlob(g))return g.size;if(Ge.isSpecCompliantForm(g))return(await new r(mi.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Ge.isArrayBufferView(g)||Ge.isArrayBuffer(g))return g.byteLength;if(Ge.isURLSearchParams(g)&&(g=g+""),Ge.isString(g))return(await u(g)).byteLength},d=async(g,m)=>{const v=Ge.toFiniteNumber(g.getContentLength());return v??p(m)};return async g=>{let{url:m,method:v,data:w,signal:y,cancelToken:_,timeout:x,onDownloadProgress:C,onUploadProgress:E,responseType:S,headers:D,withCredentials:A="same-origin",fetchOptions:N}=sD(g),F=t||fetch;S=S?(S+"").toLowerCase():"text";let T=fB([y,_&&_.toAbortSignal()],x),I=null;const M=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let L;try{if(E&&h&&v!=="get"&&v!=="head"&&(L=await d(D,w))!==0){let V=new r(m,{method:"POST",body:w,duplex:"half"}),J;if(Ge.isFormData(w)&&(J=V.headers.get("content-type"))&&D.setContentType(J),V.body){const[ge,W]=b2(L,Np(x2(E)));w=w2(V.body,E2,ge,W)}}Ge.isString(A)||(A=A?"include":"omit");const B=o&&"credentials"in r.prototype,$={...N,signal:T,method:v.toUpperCase(),headers:D.normalize().toJSON(),body:w,duplex:"half",credentials:B?A:void 0};I=o&&new r(m,$);let q=await(o?F(I,N):F(m,$));const Z=c&&(S==="stream"||S==="response");if(c&&(C||Z&&M)){const V={};["status","statusText","headers"].forEach(z=>{V[z]=q[z]});const J=Ge.toFiniteNumber(q.headers.get("content-length")),[ge,W]=C&&b2(J,Np(x2(C),!0))||[];q=new i(w2(q.body,E2,ge,()=>{W&&W(),M&&M()}),V)}S=S||"text";let he=await f[Ge.findKey(f,S)||"text"](q,g);return!Z&&M&&M(),await new Promise((V,J)=>{rD(V,J,{data:he,headers:Zi.from(q.headers),status:q.status,statusText:q.statusText,config:g,request:I})})}catch(B){throw M&&M(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Qt("Network Error",Qt.ERR_NETWORK,g,I),{cause:B.cause||B}):Qt.from(B,B&&B.code,g,I)}}},yB=new Map,oD=n=>{let t=n?n.env:{};const{fetch:r,Request:i,Response:s}=t,o=[i,s,r];let a=o.length,l=a,u,h,c=yB;for(;l--;)u=o[l],h=c.get(u),h===void 0&&c.set(u,h=l?new Map:vB(t)),c=h;return h};oD();const gy={http:P6,xhr:hB,fetch:{get:oD}};Ge.forEach(gy,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const T2=n=>`- ${n}`,bB=n=>Ge.isFunction(n)||n===null||n===!1,aD={getAdapter:(n,t)=>{n=Ge.isArray(n)?n:[n];const{length:r}=n;let i,s;const o={};for(let a=0;a<r;a++){i=n[a];let l;if(s=i,!bB(i)&&(s=gy[(l=String(i)).toLowerCase()],s===void 0))throw new Qt(`Unknown adapter '${l}'`);if(s&&(Ge.isFunction(s)||(s=s.get(t))))break;o[l||"#"+a]=s}if(!s){const a=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?`since :
`+a.map(T2).join(`
`):" "+T2(a[0]):"as no adapter specified";throw new Qt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:gy};function M0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new _c(null,n)}function I2(n){return M0(n),n.headers=Zi.from(n.headers),n.data=F0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),aD.getAdapter(n.adapter||_f.adapter,n)(n).then(function(i){return M0(n),i.data=F0.call(n,n.transformResponse,i),i.headers=Zi.from(i.headers),i},function(i){return nD(i)||(M0(n),i&&i.response&&(i.response.data=F0.call(n,n.transformResponse,i.response),i.response.headers=Zi.from(i.response.headers))),Promise.reject(i)})}const lD="1.12.2",Gm={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Gm[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const D2={};Gm.transitional=function(t,r,i){function s(o,a){return"[Axios v"+lD+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return(o,a,l)=>{if(t===!1)throw new Qt(s(a," has been removed"+(r?" in "+r:"")),Qt.ERR_DEPRECATED);return r&&!D2[a]&&(D2[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,l):!0}};Gm.spelling=function(t){return(r,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function xB(n,t,r){if(typeof n!="object")throw new Qt("options must be an object",Qt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const o=i[s],a=t[o];if(a){const l=n[o],u=l===void 0||a(l,o,n);if(u!==!0)throw new Qt("option "+o+" must be "+u,Qt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Qt("Unknown option "+o,Qt.ERR_BAD_OPTION)}}const Xd={assertOptions:xB,validators:Gm},no=Xd.validators;let Tl=class{constructor(t){this.defaults=t||{},this.interceptors={request:new v2,response:new v2}}async request(t,r){try{return await this._request(t,r)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Bl(this.defaults,r);const{transitional:i,paramsSerializer:s,headers:o}=r;i!==void 0&&Xd.assertOptions(i,{silentJSONParsing:no.transitional(no.boolean),forcedJSONParsing:no.transitional(no.boolean),clarifyTimeoutError:no.transitional(no.boolean)},!1),s!=null&&(Ge.isFunction(s)?r.paramsSerializer={serialize:s}:Xd.assertOptions(s,{encode:no.function,serialize:no.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Xd.assertOptions(r,{baseUrl:no.spelling("baseURL"),withXsrfToken:no.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&Ge.merge(o.common,o[r.method]);o&&Ge.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),r.headers=Zi.concat(a,o);const l=[];let u=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(u=u&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const h=[];this.interceptors.response.forEach(function(m){h.push(m.fulfilled,m.rejected)});let c,f=0,p;if(!u){const g=[I2.bind(this),void 0];for(g.unshift(...l),g.push(...h),p=g.length,c=Promise.resolve(r);f<p;)c=c.then(g[f++],g[f++]);return c}p=l.length;let d=r;for(;f<p;){const g=l[f++],m=l[f++];try{d=g(d)}catch(v){m.call(this,v);break}}try{c=I2.call(this,d)}catch(g){return Promise.reject(g)}for(f=0,p=h.length;f<p;)c=c.then(h[f++],h[f++]);return c}getUri(t){t=Bl(this.defaults,t);const r=iD(t.baseURL,t.url,t.allowAbsoluteUrls);return QI(r,t.params,t.paramsSerializer)}};Ge.forEach(["delete","get","head","options"],function(t){Tl.prototype[t]=function(r,i){return this.request(Bl(i||{},{method:t,url:r,data:(i||{}).data}))}});Ge.forEach(["post","put","patch"],function(t){function r(i){return function(o,a,l){return this.request(Bl(l||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Tl.prototype[t]=r(),Tl.prototype[t+"Form"]=r(!0)});let _B=class uD{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(l=>{i.subscribe(l),o=l}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},t(function(o,a,l){i.reason||(i.reason=new _c(o,a,l),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=i=>{t.abort(i)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new uD(function(s){t=s}),cancel:t}}};function wB(n){return function(r){return n.apply(null,r)}}function EB(n){return Ge.isObject(n)&&n.isAxiosError===!0}const vy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vy).forEach(([n,t])=>{vy[t]=n});function cD(n){const t=new Tl(n),r=$I(Tl.prototype.request,t);return Ge.extend(r,Tl.prototype,t,{allOwnKeys:!0}),Ge.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return cD(Bl(n,s))},r}const Mn=cD(_f);Mn.Axios=Tl;Mn.CanceledError=_c;Mn.CancelToken=_B;Mn.isCancel=nD;Mn.VERSION=lD;Mn.toFormData=zm;Mn.AxiosError=Qt;Mn.Cancel=Mn.CanceledError;Mn.all=function(t){return Promise.all(t)};Mn.spread=wB;Mn.isAxiosError=EB;Mn.mergeConfig=Bl;Mn.AxiosHeaders=Zi;Mn.formToJSON=n=>tD(Ge.isHTMLForm(n)?new FormData(n):n);Mn.getAdapter=aD.getAdapter;Mn.HttpStatusCode=vy;Mn.default=Mn;const{Axios:kpe,AxiosError:Fpe,CanceledError:Mpe,isCancel:Ope,CancelToken:Ppe,VERSION:Lpe,all:Rpe,Cancel:Bpe,isAxiosError:Upe,spread:Vpe,toFormData:$pe,AxiosHeaders:jpe,HttpStatusCode:zpe,formToJSON:Gpe,getAdapter:Hpe,mergeConfig:Wpe}=Mn,hD="https://science-book-backend-392637347057.asia-northeast3.run.app",cn=Mn.create({baseURL:hD});cn.interceptors.request.use(n=>{let r=bi().accessToken;if(!r){const i=localStorage.getItem("auth");if(i)try{r=JSON.parse(i).accessToken,console.log("[Axios Interceptor] localStorage accessToken ")}catch(s){console.error("[Axios Interceptor] localStorage  :",s)}}return r?(n.headers.Authorization=`Bearer ${r}`,console.log("[Axios Interceptor] Authorization  ")):console.warn("[Axios Interceptor] accessToken ."),n.data instanceof FormData?delete n.headers["Content-Type"]:n.headers["Content-Type"]||(n.headers["Content-Type"]="application/json"),n},n=>Promise.reject(n));cn.interceptors.response.use(n=>n,async n=>{const t=n.config,i=["/api/content/search","/api/reviews","/api/reviews/target","/api/reviews/photos-summary","/api/places/search","/api/halls","/api/centers","/api/place","/api/exhibitions","/api/recommend/course","/api/notices"].some(s=>t.url?.includes(s));if(n.response?.status===401&&!t._retry){if(i)return console.warn("[Axios] Public API 401  -   "),Promise.reject(n);t._retry=!0;const s=bi();if(!s.refreshToken)return console.error("[Axios]   .  ."),s.logout(),window.location.href="/login",Promise.reject(n);try{console.log("[Axios]      ...");const a=(await Mn.post(`${hD}/api/token/refresh`,{refreshToken:s.refreshToken})).data.accessToken;return console.log("[Axios]     "),s.refreshAccessToken(a),t.headers.Authorization=`Bearer ${a}`,console.log("[Axios]   "),cn(t)}catch(o){return console.error("[Axios]    :",o),s.logout(),window.location.href="/login",Promise.reject(o)}}return n.response?console.error(`[Axios Error] ${n.response.status}: ${n.response.statusText}`):n.request?console.error("[Axios Error]   ."):console.error("[Axios Error]",n.message),Promise.reject(n)});const bi=TI("auth",()=>{const n=Ue(null),t=Ue(null),r=Ue(null),i=dt(()=>!!n.value),s=dt(()=>n.value?.userId||null);function o(c){console.log("[authStore]  :",c);const f={userId:c.userId,loginId:c.loginId,name:c.name,email:c.email,phoneNumber:c.phoneNumber,gender:c.gender,region:c.region,childGrade:c.childGrade,profileImageUrl:c.profileImageUrl};n.value=f,t.value=c.accessToken,r.value=c.refreshToken}function a(){console.log("[authStore] "),n.value=null,t.value=null,r.value=null}function l(c){console.log("[authStore]   "),t.value=c}async function u(){if(!(!i.value||!n.value)){console.log("[authStore]   URL  ...");try{const c=await cn.get("/api/user/profile-url");c.data&&c.data.url?(n.value.profileImageUrl=c.data.url,console.log("[authStore]  URL  .")):n.value.profileImageUrl=null}catch(c){console.error("[authStore]  URL  :",c),c.response?.status===404&&(n.value.profileImageUrl=null)}}}async function h(c){console.log("[authStore]    :");try{const p=(await cn.put("/api/user/update",c)).data;if(typeof p!="object"||p===null)throw console.error("[authStore]    :",p),new Error("   .  DTO  .");return n.value={...n.value,...p},console.log("     Pinia   :",n.value),!0}catch(f){throw console.error("[authStore] updateUser  :",f),f}}return{user:n,accessToken:t,refreshToken:r,isLoggedIn:i,currentUserId:s,login:o,logout:a,refreshAccessToken:l,refreshProfileUrl:u,updateUser:h}},{persist:{paths:["user","refreshToken"]}});let ad=null,jc=!1,yy=!1;function Y1(){return yy&&window.kakao&&window.kakao.maps?Promise.resolve(window.kakao):(jc&&ad||(jc=!0,ad=new Promise((n,t)=>{const r=document.createElement("script");r.src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=393e7d34a09647cafa9505110be7b527&libraries=services&autoload=false",r.async=!0,r.defer=!0,r.onload=()=>{window.kakao&&window.kakao.maps?window.kakao.maps.load(()=>{console.log("    "),yy=!0,jc=!1,n(window.kakao)}):(jc=!1,t(new Error("   ")))},r.onerror=()=>{jc=!1,t(new Error("   "))},document.head.appendChild(r)})),ad)}function fD(){return yy&&window.kakao&&window.kakao.maps}const yt=(n,t)=>{const r=n.__vccOpts||n;for(const[i,s]of t)r[i]=s;return r},SB={name:"CustomAlert",props:{show:{type:Boolean,default:!1},message:{type:String,default:""},type:{type:String,default:"success"}},emits:["close"],computed:{iconClass(){return this.type==="error"?"bi-exclamation-triangle-fill error-icon":"bi-check-circle-fill success-icon"}}},CB={key:0,class:"alert-overlay"},AB={class:"alert-box"},TB=["innerHTML"];function IB(n,t,r,i,s,o){return r.show?(ie(),le("div",CB,[b("div",AB,[b("i",{class:st(["icon bi",o.iconClass])},null,2),b("p",{class:"message",innerHTML:r.message.replace(/\n/g,"<br>")},null,8,TB),b("button",{class:"confirm-btn",onClick:t[0]||(t[0]=a=>n.$emit("close"))},"")])])):et("",!0)}const dD=yt(SB,[["render",IB],["__scopeId","data-v-6ae32949"]]),DB={name:"CustomConfirm",props:{show:{type:Boolean,default:!1},message:{type:String,default:" ."},msg:{type:String,default:""}},emits:["cancel","confirm"]},NB={key:0,class:"confirm-overlay"},kB={class:"confirm-box"},FB=["innerHTML"],MB={class:"button-group"};function OB(n,t,r,i,s,o){return r.show?(ie(),le("div",NB,[b("div",kB,[b("p",{class:"message",innerHTML:r.message.replace(/\n/g,"<br>")},null,8,FB),b("div",MB,[b("button",{class:"btn-cancel",onClick:t[0]||(t[0]=a=>n.$emit("cancel"))},""),b("button",{class:"btn-confirm",onClick:t[1]||(t[1]=a=>n.$emit("confirm"))},ke(r.msg),1)])])])):et("",!0)}const pD=yt(DB,[["render",OB],["__scopeId","data-v-1ba216e4"]]);function PB(n){return{all:n=n||new Map,on:function(t,r){var i=n.get(t);i?i.push(r):n.set(t,[r])},off:function(t,r){var i=n.get(t);i&&(r?i.splice(i.indexOf(r)>>>0,1):n.set(t,[]))},emit:function(t,r){var i=n.get(t);i&&i.slice().map(function(s){s(r)}),(i=n.get("*"))&&i.slice().map(function(s){s(t,r)})}}}const ht=PB(),LB={id:"app-container"},RB={name:"App",components:{CustomAlert:dD,CustomConfirmAlert:pD},data(){return{alert:{show:!1,message:"",type:"success"},confirm:{show:!1,message:"",msg:"",onConfirm:null,onCancel:null}}},methods:{showAlert(n){console.log(" [App.vue]   :",n),this.alert.message=n.message,this.alert.type=n.type,this.alert.show=!0},closeAlert(){this.alert.show=!1},showConfirm(n){console.log(" [App.vue]   :",n),this.confirm.message=n.message,this.confirm.onConfirm=n.onConfirm||null,this.confirm.onCancel=n.onCancel||null,this.confirm.msg=n.msg||"",this.confirm.show=!0},handleConfirm(){this.confirm.onConfirm&&this.confirm.onConfirm(),this.closeConfirm()},handleCancel(){this.confirm.onCancel&&this.confirm.onCancel(),this.closeConfirm()},closeConfirm(){this.confirm.show=!1,this.confirm.onConfirm=null,this.confirm.onCancel=null}},created(){ht.on("show-global-alert",this.showAlert),ht.on("show-global-confirm",this.showConfirm)},beforeUnmount(){ht.off("show-global-alert",this.showAlert),ht.off("show-global-confirm",this.showConfirm)}},BB=Object.assign(RB,{setup(n){const t=bi();return console.log("App.vue onMounted:   (setup)"),On(async()=>{t.refreshProfileUrl();try{await Y1(),console.log("    ")}catch(r){console.error("    :",r)}}),(r,i)=>(ie(),le("div",LB,[lt(hi(VI),null,{default:Sr(({Component:s})=>[(ie(),Zt(lT,{include:"MapComponent"},[(ie(),Zt(km(s)))],1024))]),_:1}),lt(dD,{show:r.alert.show,message:r.alert.message,type:r.alert.type,onClose:r.closeAlert},null,8,["show","message","type","onClose"]),lt(pD,{show:r.confirm.show,message:r.confirm.message,msg:r.confirm.msg,onConfirm:r.handleConfirm,onCancel:r.handleCancel},null,8,["show","message","msg","onConfirm","onCancel"])]))}}),UB=yt(BB,[["__scopeId","data-v-d0f54bff"]]),VB={class:"position-absolute bg-white border-top d-flex flex-row justify-content-center align-items-center p-0",style:{width:"100%",height:"63px",left:"0",bottom:"0px","z-index":"1030"}},$B={__name:"BottomNavbar",props:{selectedNavItem:String},emits:["navigate"],setup(n){return(t,r)=>(ie(),le("nav",VB,[b("a",{class:st(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[0]||(r[0]=i=>t.$emit("navigate",""))},[...r[5]||(r[5]=[b("i",{class:"bi bi-house"},null,-1),b("span",null,"",-1)])],2),b("a",{class:st(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[1]||(r[1]=i=>t.$emit("navigate",""))},[...r[6]||(r[6]=[b("i",{class:"bi bi-list-ul"},null,-1),b("span",null,"",-1)])],2),b("a",{class:st(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[2]||(r[2]=i=>t.$emit("navigate",""))},[...r[7]||(r[7]=[b("i",{class:"bi bi-map"},null,-1),b("span",null,"",-1)])],2),b("a",{class:st(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[3]||(r[3]=i=>t.$emit("navigate",""))},[...r[8]||(r[8]=[b("i",{class:"bi bi-journal-bookmark"},null,-1),b("span",null,"",-1)])],2),b("a",{class:st(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[4]||(r[4]=i=>t.$emit("navigate",""))},[...r[9]||(r[9]=[b("i",{class:"bi bi-person"},null,-1),b("span",null,"",-1)])],2)]))}},K1=yt($B,[["__scopeId","data-v-c89e957e"]]),jB={class:"modal-sheet d-flex flex-column",style:{"font-family":"'SUIT', sans-serif"}},zB={class:"p-3 d-flex align-items-center flex-shrink-0 rounded-top",style:{"background-color":"#4A7CEC"}},GB={class:"modal-body flex-grow-1 overflow-auto p-4"},HB={class:"row g-3"},WB=["onClick"],qB={class:"row g-3"},XB=["onClick"],YB={class:"btn-group w-100 mb-3",role:"group"},KB={key:0},ZB={class:"row g-3"},JB=["onClick"],QB={key:1},e9={__name:"FilterModal",props:{showLocationOptions:{type:Boolean,default:!0},initialLocationType:{type:String,default:"all"},initialRadius:{type:Number,default:5},initialRegion:{type:String,default:""},initialSubject:String,initialGrade:String},emits:["close","complete"],setup(n,{emit:t}){const r=n,i=t,s=Ue(r.initialLocationType),o=Ue(r.initialRadius),a=Ue(r.initialRegion),l=Ue(r.initialSubject),u=Ue(r.initialGrade),h=Ue(["","","",""]),c=Ue([" 3"," 4"," 5"," 6"]),f=Ue([3,5,10,30]),p=()=>{const d={subject:l.value,grade:u.value};if(r.showLocationOptions){let g=null,m="";s.value==="radius"?g=o.value:s.value==="region"&&(m=typeof a.value=="string"?a.value.trim():""),d.locationType=s.value,d.radius=g,d.region=m}i("complete",d)};return(d,g)=>(ie(),le("div",null,[b("div",{class:"modal-backdrop fade show",onClick:g[0]||(g[0]=m=>d.$emit("close"))}),b("div",jB,[b("div",zB,[g[6]||(g[6]=b("i",{class:"bi bi-person-circle fs-2 me-3",style:{color:"white"}},null,-1)),g[7]||(g[7]=b("div",{class:"flex-grow-1"},[b("h5",{class:"fw-bold m-0 fs-6 text-white"}," "),b("small",{class:"text-white"},"  .")],-1)),b("button",{class:"btn-close btn-close-white fs-5",onClick:g[1]||(g[1]=m=>d.$emit("close"))})]),b("div",GB,[g[13]||(g[13]=b("h6",{class:"fw-bold mb-3"},"",-1)),b("div",HB,[(ie(!0),le(it,null,At(h.value,m=>(ie(),le("div",{class:"col-6",key:m},[b("button",{type:"button",class:st(["filter-btn",{active:l.value===m}]),onClick:v=>l.value=m},ke(m),11,WB)]))),128))]),g[14]||(g[14]=b("h6",{class:"fw-bold mb-3 mt-4 pt-2"},"",-1)),b("div",qB,[(ie(!0),le(it,null,At(c.value,m=>(ie(),le("div",{class:"col-6",key:m},[b("button",{type:"button",class:st(["filter-btn",{active:u.value===m}]),onClick:v=>u.value=m},ke(m),11,XB)]))),128))]),n.showLocationOptions?(ie(),le(it,{key:0},[g[12]||(g[12]=b("h6",{class:"fw-bold mb-3 mt-4 pt-2"}," ",-1)),b("div",YB,[Bt(b("input",{type:"radio",class:"btn-check",name:"locationType",id:"locTypeAll",autocomplete:"off",value:"all","onUpdate:modelValue":g[2]||(g[2]=m=>s.value=m),checked:""},null,512),[[qs,s.value]]),g[8]||(g[8]=b("label",{class:"btn btn-outline-primary",for:"locTypeAll"}," ",-1)),Bt(b("input",{type:"radio",class:"btn-check",name:"locationType",id:"locTypeRadius",autocomplete:"off",value:"radius","onUpdate:modelValue":g[3]||(g[3]=m=>s.value=m)},null,512),[[qs,s.value]]),g[9]||(g[9]=b("label",{class:"btn btn-outline-primary",for:"locTypeRadius"}," ",-1)),Bt(b("input",{type:"radio",class:"btn-check",name:"locationType",id:"locTypeRegion",autocomplete:"off",value:"region","onUpdate:modelValue":g[4]||(g[4]=m=>s.value=m)},null,512),[[qs,s.value]])]),s.value==="radius"?(ie(),le("div",KB,[g[10]||(g[10]=b("h6",{class:"fw-bold mb-3"}," ",-1)),b("div",ZB,[(ie(!0),le(it,null,At(f.value,m=>(ie(),le("div",{class:"col-6",key:m},[b("button",{type:"button",class:st(["filter-btn",{active:o.value===m}]),onClick:v=>o.value=m},ke(m)+"km  ",11,JB)]))),128))])])):et("",!0),s.value==="region"?(ie(),le("div",QB,[g[11]||(g[11]=b("h6",{class:"fw-bold mb-3"}," ",-1)),Bt(b("input",{type:"text",class:"form-control",placeholder:":  ,  ","onUpdate:modelValue":g[5]||(g[5]=m=>a.value=m)},null,512),[[bn,a.value]])])):et("",!0)],64)):et("",!0)]),b("div",{class:"modal-footer p-3 border-top flex-shrink-0"},[b("button",{class:"btn btn-lg w-100 rounded-3 py-3 fw-bold",onClick:p,style:{"background-color":"#4A7CEC","border-color":"#4A7CEC",color:"white"}},"  ")])])]))}},Z1=yt(e9,[["__scopeId","data-v-6627ec53"]]),t9={__name:"PillTag",props:{text:String,type:{type:String,default:"grade"}},setup(n){const t=n,r={:{bg:"#C9F0FF",text:"#007AFF"},:{bg:"#E0D6FF",text:"#582DE8"},:{bg:"#FFD6E8",text:"#D9006C"},:{bg:"#A6FFD9",text:"#008A50"},:{bg:"#333333",text:"#FFFFFF"},default:{bg:"#EFEFEF",text:"#555"}},i=dt(()=>{let s;return t.type==="subject"?s=r[t.text]||r.default:s=r.default,{"background-color":s.bg,color:s.text}});return(s,o)=>(ie(),le("span",{class:"badge rounded-pill pill-tag",style:Gn([{"font-family":"'SUIT', sans-serif"},i.value])},ke(n.text),5))}},Is=yt(t9,[["__scopeId","data-v-8a7e6ef1"]]),n9={class:"hashtag-badge bg-light text-secondary fw-normal px-2 py-1",style:{"font-family":"'SUIT', sans-serif","font-size":"0.7rem"}},r9={__name:"HashTag",props:{text:{type:String,required:!0}},setup(n){const t=n,r=dt(()=>(t.text||"").replace(/[{}"]/g,""));return(i,s)=>(ie(),le("span",n9," #"+ke(r.value),1))}},$a=yt(r9,[["__scopeId","data-v-43ec427c"]]),i9={class:"image-container"},s9={key:0,class:"card-badge"},o9=["src","alt"],a9={class:"content-frame d-flex flex-column flex-grow-1 gap-2 min-w-0"},l9={class:"d-flex justify-content-between align-items-center gap-1"},u9={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},c9={class:"text-frame d-flex flex-column gap-1 min-w-0"},h9={class:"d-flex align-items-center gap-1 min-w-0"},f9={class:"fw-bold m-0 text-truncate flex-grow-1 min-w-0"},d9={class:"d-flex flex-row align-items-center gap-2 min-w-0"},p9={class:"text-truncate flex-grow-1 min-w-0"},m9={class:"hashtag-container"},g9={key:0,class:"more-tags"},v9="https://storage.googleapis.com/science_book/",O0=2,y9={__name:"PlaceCard",props:{item:{type:Object,required:!0}},emits:["add","item-click"],setup(n,{emit:t}){const r=t,i=n,s=dt(()=>{const c=i.item.mainImageUrl||i.item.imageUrl;return c&&!c.startsWith("http")?v9+c:c}),o=dt(()=>i.item.hashtags?.slice(0,O0)||[]),a=dt(()=>i.item.hashtags?.length>O0),l=dt(()=>i.item.hashtags?.length-O0||0),u=()=>{r("add",i.item)},h=()=>{r("item-click")};return(c,f)=>(ie(),le("div",{class:"place-card d-flex flex-row bg-white align-items-center px-3 py-3 rounded-4 shadow gap-3",style:{"font-family":"'SUIT' , sans-serif"},onClick:h},[b("div",i9,[n.item.badgeLabel?(ie(),le("div",s9,ke(n.item.badgeLabel),1)):et("",!0),b("img",{src:s.value,alt:n.item.title,class:"map-thumbnail"},null,8,o9)]),b("div",a9,[b("div",l9,[b("div",u9,[lt(Is,{text:n.item.subject||"",type:"subject"},null,8,["text"]),lt(Is,{text:(n.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),b("button",{class:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center btn-add flex-shrink-0",onClick:hr(u,["stop"])},[...f[0]||(f[0]=[b("i",{class:"bi bi-plus fs-4"},null,-1)])])]),b("div",c9,[b("div",h9,[b("h5",f9,ke(n.item.title||""),1)]),b("div",d9,[b("span",p9,ke(n.item.place||""),1)]),b("div",m9,[(ie(!0),le(it,null,At(o.value,p=>(ie(),Zt($a,{key:p,text:p},null,8,["text"]))),128)),a.value?(ie(),le("span",g9," +"+ke(l.value),1)):et("",!0)])])])]))}},b9=yt(y9,[["__scopeId","data-v-2e9e1ac3"]]),kp=TI("curriculum",()=>{const n=Ue(localStorage.getItem("selectedGrade")||" 3"),t=Ue(localStorage.getItem("selectedSubject")||"");function r(i,s){n.value=i,t.value=s,localStorage.setItem("selectedGrade",i),localStorage.setItem("selectedSubject",s)}return{selectedGrade:n,selectedSubject:t,setFilter:r}}),x9={class:"vh-100 position-relative overflow-hidden bg-light",style:{"font-family":"'SUIT', sans-serif"}},_9={class:"position-absolute d-flex align-items-center p-3 bg-white rounded-4 shadow map-top-bar"},w9={class:"rounded-circle d-flex align-items-center justify-content-center flex-shrink-0 profile-avatar-wrapper"},E9=["src"],S9={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#888",class:"bi bi-person-fill",viewBox:"0 0 16 16"},C9={class:"flex-grow-1",style:{"font-family":"'SUIT', sans-serif"}},A9={class:"fw-bold map-username"},T9={class:"position-absolute d-flex flex-row map-tabs-wrapper"},I9={class:"position-absolute map-carousel-wrapper"},D9={class:"card-carousel"},N9={class:"d-flex flex-row align-items-center card-row-inner"},k9={key:0,class:"text-center p-5 text-muted w-100"},F9={key:1,class:"text-center p-5 text-muted w-100"},M9={key:0,class:"text-sm mt-2"},O9={key:0,class:"map-loading-overlay"},P9={name:"MapComponent"},L9=Object.assign(P9,{setup(n){const t=bc(),r=Ue(null),i={lat:36.3504119,lng:127.3845475},s=bi(),{user:o}=Ts(s),a=kp(),{selectedGrade:l,selectedSubject:u}=Ts(a),h=Ue(""),c=Ue(""),f=Ue(!1),p=Ue(null),d=Ue(null),g=Ue([]),m=Ue(null),v=Ue(null),w=Ue([]),y=Ue([]),_="28242ddd7cda15c60301eff5cada6efc",x=new window.kakao.maps.Size(32,37),C={offset:new window.kakao.maps.Point(16,37)},E=new window.kakao.maps.MarkerImage("/museum.png",x,C),S=new window.kakao.maps.MarkerImage("/experiment.png",x,C),D=dt(()=>o.value?.name?`${o.value.name} `:" "),A=Ue("all"),N=Ue(5),F=Ue(""),T=Ue(null),I=Ue(!1),M=Ue([]),L=dt(()=>{const be=M.value;return h.value===""?be.filter(xe=>xe.itemType==="exhibition"):be.filter(xe=>xe.itemType==="science_place")});t.currentRoute.value.query.tab===""&&(h.value=""),M1(()=>{c.value="",q.value=!1});const $=be=>{h.value=be,r.value=null,t.replace({query:{tab:be}})},q=Ue(!1),Z=be=>{q.value=!0,H(),Ee(),h.value===""?t.push({path:`/exhibition/${be.id}`,query:{mainCategoryTags:u.value,subCategoryTags:be.hashtags,gradeTags:l.value}}):t.push({path:`/place/${be.id}`,query:{mainCategoryTags:u.value,subCategoryTags:be.hashtags,gradeTags:l.value}})},he=be=>{r.value=be.id,_e(be.lat,be.lng),Ee(),setTimeout(()=>{ge(be),K(be)},500)},V=(be,xe)=>{if(!d.value)return;const R=new window.kakao.maps.LatLng(be,xe);d.value.setCenter(R);const Oe=d.value.getProjection(),Fe=Oe.pointFromCoords(R),Je=95,We=new window.kakao.maps.Point(Fe.x,Fe.y-Je),ft=Oe.coordsFromPoint(We);d.value.panTo(ft)},J=async()=>{if(T.value=i,d.value){V(T.value.lat,T.value.lng),setTimeout(()=>{d.value.setLevel(3,{animate:{duration:300}})},300),m.value&&m.value.setMap(null);const be=`
      <div class="current-location-wrapper">
        <div class="current-location-dot"></div>
        <div class="current-location-pulse"></div>
      </div>
    `,xe=new window.kakao.maps.CustomOverlay({position:new window.kakao.maps.LatLng(T.value.lat,T.value.lng),content:be});xe.setMap(d.value),m.value=xe}await Ce(),ht.emit("show-global-alert",{message:"  ( ) .",type:"success"})},ge=be=>{const xe=window.kakao?.maps?.Animation?.BOUNCE;if(!xe){console.warn("Kakao maps Animation    BOUNCE    .");return}g.value.forEach(R=>{const Oe=R.getPosition();Oe.getLat()===be.lat&&Oe.getLng()===be.lng&&(R.setAnimation(xe),setTimeout(()=>{R.setAnimation(null)},2e3))})},W=()=>(console.log("GPS:     "),new Promise((be,xe)=>{if(!navigator.geolocation){const R=new Error("Geolocation not supported");console.error("GPS: Geolocation  ."),xe(R);return}navigator.geolocation.getCurrentPosition(R=>{const Oe={lat:R.coords.latitude,lng:R.coords.longitude};T.value=Oe,console.log("    ():",Oe),be(Oe)},R=>{console.error("GPS   :",R.code,R.message),xe(R)},{enableHighAccuracy:!0,timeout:5e4,maximumAge:0})})),z=async()=>{try{if(await W(),T.value&&d.value){V(T.value.lat,T.value.lng),setTimeout(()=>{d.value.setLevel(3,{animate:{duration:300}})},300),m.value&&m.value.setMap(null);const be=`
        <div class="current-location-wrapper">
          <div class="current-location-dot"></div>
          <div class="current-location-pulse"></div>
        </div>
      `,xe=new window.kakao.maps.CustomOverlay({position:new window.kakao.maps.LatLng(T.value.lat,T.value.lng),content:be});xe.setMap(d.value),m.value=xe}}catch(be){console.error("  :",be)}},de=(be,xe)=>{if(d.value){const R=new window.kakao.maps.LatLng(be,xe);d.value.panTo(R),setTimeout(()=>{d.value.setLevel(4,{animate:{duration:300}})},300)}},K=async be=>{if(q.value){console.log("    .");return}if(!T.value){ht.emit("show-global-alert",{message:"  .",type:"error"});return}Ee();const xe={lat:T.value.lat,lng:T.value.lng},R={lat:be.lat,lng:be.lng};if(!d.value||!window.kakao?.maps||q.value){console.warn("  DOM    .");return}try{const{path:Oe,bounds:Fe}=await ue(xe,R);if(q.value||!d.value){console.log("      .");return}Oe.length>0&&(G(Oe),se(xe,R),d.value.setBounds(Fe))}catch(Oe){q.value||(console.error(" :",Oe),ht.emit("show-global-alert",{message:"   .",type:"error"}))}},ue=async(be,xe)=>{const R="https://apis-navi.kakaomobility.com/v1/directions",Oe={origin:`${be.lng},${be.lat}`,destination:`${xe.lng},${xe.lat}`,priority:"RECOMMEND"};try{const Fe=await Mn.get(R,{params:Oe,headers:{Authorization:`KakaoAK ${_}`}});if(Fe.data&&Fe.data.routes&&Fe.data.routes.length>0){const We=Fe.data.routes[0].sections,ft=[],Ae=new window.kakao.maps.LatLngBounds;return We.forEach(Pe=>{Pe.roads.forEach(Be=>{for(let je=0;je<Be.vertexes.length;je+=2){const $e=Be.vertexes[je],P=Be.vertexes[je+1],j=new window.kakao.maps.LatLng(P,$e);ft.push(j),Ae.extend(j)}})}),{path:ft,bounds:Ae}}else throw new Error("API     .")}catch(Fe){throw console.error("Kakao Navi API  :",Fe),Fe.response&&console.error("Kakao Navi API  :",Fe.response.data),Fe}},G=be=>{w.value.length>0&&w.value.forEach(Oe=>Oe.setMap(null)),w.value=[];const xe=new window.kakao.maps.Polyline({path:be,strokeWeight:6,strokeColor:"#4A7CEC",strokeOpacity:.9,strokeStyle:"solid"});xe.setMap(d.value),w.value.push(xe);const R=new window.kakao.maps.Polyline({path:be,strokeWeight:3,strokeColor:"#FFFFFF",strokeOpacity:1,strokeStyle:"dashed"});R.setMap(d.value),w.value.push(R)},se=(be,xe)=>{y.value.forEach(R=>R.setMap(null)),y.value=[]},ye=()=>{g.value.forEach(be=>be.setMap(null)),g.value=[],v.value&&(v.value.setMap(null),v.value=null)},Ee=()=>{w.value&&Array.isArray(w.value)&&w.value.forEach(be=>be.setMap(null)),w.value=[],y.value.forEach(be=>be.setMap(null)),y.value=[]},H=()=>{g.value.forEach(be=>be.setMap(null)),g.value=[],v.value&&(v.value.setMap(null),v.value=null),w.value&&Array.isArray(w.value)&&w.value.forEach(be=>be.setMap(null)),w.value=[],y.value.forEach(be=>be.setMap(null)),y.value=[]},Q=be=>{d.value&&(ye(),be.length&&be.forEach(xe=>{if(xe.lat===null||xe.lng===null||isNaN(Number(xe.lat))||isNaN(Number(xe.lng))){console.warn("[NaN Error]    :",xe);return}const R=xe.itemType==="exhibition"?E:S,Oe=new window.kakao.maps.LatLng(xe.lat,xe.lng),Fe=new window.kakao.maps.Marker({position:Oe,title:xe.title,image:R});Fe.setMap(d.value),g.value.push(Fe),window.kakao.maps.event.addListener(Fe,"mouseover",()=>{v.value&&v.value.setMap(null);const Je=`
    <div class="info-window">
     <div class="info-title">${xe.title}</div>
     <div class="info-line info-rating">
      <span class="star">::</span>
      <span>${xe.rating||"N/A"}  (${xe.reviewCount||0})</span>
     </div>
     <div class="info-line">
      <span class="icon"><i class="bi bi-info-circle-fill"></i></span>
      <span>${xe.subject||" "}</span>
     </div>
     <div class="info-line">
      <span class="icon"><i class="bi bi-info-circle-fill"></i></span>
      <span>${xe.grade||" "}</span>
     </div>
    </div>
   `,We=new window.kakao.maps.CustomOverlay({map:d.value,position:Oe,content:Je,xAnchor:.5,yAnchor:1.5,zIndex:3});v.value=We}),window.kakao.maps.event.addListener(Fe,"mouseout",()=>{v.value&&(v.value.setMap(null),v.value=null)}),window.kakao.maps.event.addListener(Fe,"click",()=>{de(xe.lat,xe.lng),r.value=xe.id;const Je=document.getElementById(`card-${xe.id}`);Je&&Je.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})})}))},re=Ue(!1),Ce=async()=>{re.value=!0,r.value=null,console.log("==== API    ===="),I.value=!0,M.value=[],d.value&&H();const be={searchType:A.value,subject:u.value,grade:l.value};try{if(A.value==="radius")if(T.value||await W(),T.value)be.lat=T.value.lat,be.lng=T.value.lng,be.radius=N.value;else throw new Error("    (  )");else A.value==="region"&&(F.value?be.region=F.value:(console.warn("    .   ."),be.searchType="all"));const xe=await cn.get("/api/content/search",{params:be});if(xe.data&&Array.isArray(xe.data)){const R=xe.data.map(Oe=>Oe.itemType==="exhibition"?{...Oe,badgeLabel:""}:Oe);M.value=R}else console.error("API   :",xe.data),M.value=[]}catch(xe){console.error("API    :",xe.response?xe.response.data:xe.message),ht.emit("show-global-alert",{message:"    ."+(xe.message.includes("")?"  .":""),type:"error"}),M.value=[]}finally{setTimeout(()=>{re.value=!1},300),I.value=!1}},_e=(be,xe,R=300)=>{if(!d.value)return;const Oe=new window.kakao.maps.LatLng(be,xe);d.value.panTo(Oe)};On(async()=>{if(window.kakao&&window.kakao.maps){const be={center:new window.kakao.maps.LatLng(37.566826,126.9786567),level:7};d.value=new window.kakao.maps.Map(p.value,be),window.kakao.maps.event.addListener(d.value,"click",()=>{r.value=null,Ee()});try{if(await W(),T.value&&d.value){const xe=new window.kakao.maps.LatLng(T.value.lat,T.value.lng);d.value.setCenter(xe),d.value.setLevel(7),m.value&&m.value.setMap(null);const R='<div class="current-location-dot"></div>';m.value=new window.kakao.maps.CustomOverlay({position:xe,content:R}),m.value.setMap(d.value)}}catch(xe){console.warn("   :",xe.message),d.value.setCenter(new window.kakao.maps.LatLng(37.566826,126.9786567))}await Ce()}else console.error("Kakao Maps API   .")}),ri(L,be=>{d.value&&Se().then(()=>{if(Q(be),be.length>0){const xe=new window.kakao.maps.LatLngBounds;let R=!1;be.forEach(Oe=>{Oe.lat!==null&&Oe.lng!==null&&!isNaN(Number(Oe.lat))&&!isNaN(Number(Oe.lng))&&(xe.extend(new window.kakao.maps.LatLng(Oe.lat,Oe.lng)),R=!0)}),T.value&&(xe.extend(new window.kakao.maps.LatLng(T.value.lat,T.value.lng)),R=!0),R?be.length===1&&!T.value?de(be[0].lat,be[0].lng):be.length>0&&d.value.setBounds(xe):console.warn(" :         .")}})});const Se=()=>new Promise(be=>{g.value.forEach((xe,R)=>{setTimeout(()=>{xe.setMap(null)},R*20)}),setTimeout(()=>{g.value=[],be()},g.value.length*20+100)}),Te=be=>{A.value=be.locationType,N.value=be.radius,F.value=be.region,a.setFilter(be.grade,be.subject),f.value=!1,Ce()},De=be=>{c.value=be,be===""?t.push("/home"):be===""?t.push("/list"):be===""?t.push("/map"):be===""?t.push("/usercourselist"):be===""&&t.push("/mypage")};return(be,xe)=>(ie(),le("div",x9,[b("div",{ref_key:"mapContainer",ref:p,class:"map-placeholder map-full-screen"},null,512),b("div",_9,[b("div",w9,[hi(o)?.profileImageUrl?(ie(),le("img",{key:0,src:hi(o).profileImageUrl,alt:"",class:"profile-image-cover"},null,8,E9)):(ie(),le("svg",S9,[...xe[4]||(xe[4]=[b("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6"},null,-1)])]))]),b("div",C9,[xe[5]||(xe[5]=b("div",{class:"text-secondary map-greeting"},"",-1)),b("div",A9,ke(D.value),1)]),b("button",{class:"btn btn-primary rounded-3 d-flex align-items-center justify-content-center flex-shrink-0 search-btn",onClick:xe[0]||(xe[0]=hr(R=>f.value=!0,["prevent"]))},[...xe[6]||(xe[6]=[b("i",{class:"bi bi-search fs-5"},null,-1)])])]),b("div",T9,[b("button",{type:"button",class:st(["spec-button shadow-sm",{active:h.value===""}]),onClick:xe[1]||(xe[1]=R=>$(""))},"",2),b("button",{type:"button",class:st(["spec-button shadow-sm",{active:h.value===""}]),onClick:xe[2]||(xe[2]=R=>$(""))}," ",2)]),b("div",{class:"position-absolute d-flex flex-column map-control-buttons"},[b("button",{class:"btn btn-warning btn-circle shadow-sm d-flex flex-column p-0 justify-content-center align-items-center demo-btn",onClick:J},[...xe[7]||(xe[7]=[b("i",{class:"bi bi-geo-alt",style:{"font-size":"1rem","line-height":"1"}},null,-1),b("span",{style:{"font-size":"0.6rem","margin-top":"2px"}}," ",-1)])]),b("button",{class:"btn btn-dark btn-circle shadow-sm d-flex flex-column p-0 justify-content-center align-items-center",onClick:z},[...xe[8]||(xe[8]=[b("i",{class:"bi bi-bullseye",style:{"font-size":"1rem","line-height":"1"}},null,-1),b("span",{style:{"font-size":"0.6rem","margin-top":"2px"}},"",-1)])])]),b("div",I9,[b("div",D9,[b("div",N9,[I.value?(ie(),le("div",k9,"  ... ")):L.value.length===0?(ie(),le("div",F9,[xe[10]||(xe[10]=b("div",null,"  .",-1)),A.value==="radius"?(ie(),le("div",M9,[Ct(" : "+ke(T.value?`${T.value.lat.toFixed(4)},
              ${T.value.lng.toFixed(4)}`:""),1),xe[9]||(xe[9]=b("br",null,null,-1)),Ct(" : "+ke(N.value)+"km / : "+ke(hi(u))+" / : "+ke(hi(l)),1)])):et("",!0)])):(ie(!0),le(it,{key:2},At(L.value,R=>(ie(),Zt(b9,{key:R.id,item:R,onAdd:Oe=>Z(R),id:`card-${R.id}`,class:st({"active-card":R.id===r.value}),onItemClick:Oe=>he(R)},null,8,["item","onAdd","id","class","onItemClick"]))),128))])])]),f.value?(ie(),Zt(Z1,{key:0,initialLocationType:A.value,initialRadius:N.value,initialRegion:F.value,initialSubject:hi(u),initialGrade:hi(l),onClose:xe[3]||(xe[3]=R=>f.value=!1),onComplete:Te},null,8,["initialLocationType","initialRadius","initialRegion","initialSubject","initialGrade"])):et("",!0),lt(K1,{selectedNavItem:c.value,onNavigate:De,class:"bottom-navbar-fixed"},null,8,["selectedNavItem"]),lt(Xi,{name:"fade"},{default:Sr(()=>[re.value?(ie(),le("div",O9,[...xe[11]||(xe[11]=[b("div",{class:"spinner"},null,-1)])])):et("",!0)]),_:1})]))}}),R9=yt(L9,[["__scopeId","data-v-152d875d"]]),ld={" 3":{"1":{:[{title:" ",description:" , , ,   .",simulationComponent:null}],:[],:[{title:"  ",description:" ,  "},{title:" ",description:" ,  ,   ,     ,     "},{title:"  ",description:"    "}],:[]},"2":{:[{title:" ",description:" ,  ,  ,  "}],:[{title:" ",description:" ,  ,  ,  "}],:[{title:"  ",description:"  :   "}],:[{title:"",description:" ,   , ,   , ,  "}]}}," 4":{"1":{:[{title:" ",description:"    ,    ,  , ",simulationComponent:"MagnetField"}],:[{title:" ",description:" ,  ,  ,  ",simulationComponent:"StatesOfMatter"}],:[{title:"  ",description:", ,  "},{title:"  ",description:", ,  "}],:[{title:"",description:"  ,  , ,   ",simulationComponent:"ColumnarJoint"}]},"2":{:[],:[{title:" ",description:" ,  ,  ,  "}],:[{title:" ",description:"   ,    ,  ",simulationComponent:"Ecosystem"}],:[{title:"",description:"  ,   , ,  "},{title:"  ",description:null}]}}," 5":{"1":{:[{title:" ",description:" ,   ,  ,  "}],:[{title:" ",description:", ,  ,   ,  "}],:[{title:"  ",description:" ,    , , , ,    "}],:[{title:" ",description:", ,  ,   "}]},"2":{:[{title:"",description:",  , "}],:[{title:" ",description:" "}],:[{title:" ",description:" ,  "}],:[{title:"",description:" , , , ,  "}]}}," 6":{"1":{:[{title:" ",description:" , ,  "}],:[{title:" ",description:" , ,  ,  "}],:[{title:"  ",description:", , ,   "}],:[{title:"",description:"   ,   ,   "}]},"2":{:[{title:" ",description:" ,   ,,  "}],:[{title:" ",description:",  "}],:[{title:" ",description:"   ,    ,  "}],:[{title:"",description:"  ,   "}]}}},B9={class:"border rounded-4 shadow-sm p-3",style:{"flex-shrink":"0",width:"340px"}},U9={class:"image-container"},V9={key:0,class:"card-badge"},$9=["src","alt"],j9={class:"content-frame d-flex flex-column flex-grow-1 gap-2 min-w-0"},z9={class:"d-flex justify-content-between align-items-center gap-1"},G9={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},H9={class:"text-frame d-flex flex-column gap-1 min-w-0"},W9={class:"d-flex align-items-center gap-1 min-w-0"},q9={class:"fw-bold m-0 text-truncate flex-grow-1 min-w-0"},X9={class:"d-flex flex-row align-items-center gap-2 min-w-0"},Y9={class:"text-truncate flex-grow-1 min-w-0"},K9={class:"hashtag-container"},Z9={key:0,class:"more-tags"},J9={class:"mt-3"},Q9={key:0},e7={class:"d-flex gap-3"},t7={class:"flex-shrink: 0"},n7=["src"],r7={class:"flex-grow-1 min-w-0 overflow-hidden"},i7={class:"fw-bold"},s7={class:"d-flex align-items-center mb-2",style:{color:"#FFC107"}},o7={class:"text-truncate"},a7={key:0,class:"d-flex gap-2 mt-2"},l7=["src"],u7={key:1,class:"text-secondary text-center p-4",style:{"font-size":"0.9rem","background-color":"#f8f9fa","border-radius":"8px"}},N2="https://storage.googleapis.com/science_book/",P0=2,c7={__name:"PlaceReviewCard",props:{item:{type:Object,required:!0}},emits:["add","item-click"],setup(n,{emit:t}){const r=n,i=t,s=dt(()=>{const f=r.item.mainImageUrl||r.item.imageUrl;return f&&!f.startsWith("http")?N2+f:f}),o=dt(()=>r.item.latestReview?.photoUrls?r.item.latestReview.photoUrls.map(f=>f&&!f.startsWith("http")?N2+f:f):[]),a=dt(()=>r.item.hashtags?.slice(0,P0)||[]),l=dt(()=>r.item.hashtags?.length>P0),u=dt(()=>r.item.hashtags?.length-P0||0),h=()=>{i("item-click",r.item)},c=()=>{i("add",r.item)};return(f,p)=>(ie(),le("div",B9,[b("div",{class:"place-card d-flex flex-row bg-white align-items-center rounded-4 gap-3",style:{"font-family":"'SUIT' , sans-serif"},onClick:h},[b("div",U9,[n.item.badgeLabel?(ie(),le("div",V9,ke(n.item.badgeLabel),1)):et("",!0),b("img",{src:s.value,alt:n.item.title,class:"map-thumbnail"},null,8,$9)]),b("div",j9,[b("div",z9,[b("div",G9,[lt(Is,{text:n.item.subject||"",type:"subject"},null,8,["text"]),lt(Is,{text:(n.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),b("button",{class:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center btn-add flex-shrink-0 ps-4",onClick:hr(c,["stop"])},[...p[0]||(p[0]=[b("i",{class:"bi bi-plus fs-4"},null,-1)])])]),b("div",H9,[b("div",W9,[b("h5",q9,ke(n.item.title||""),1)]),b("div",X9,[b("span",Y9,ke(n.item.place||""),1)]),b("div",K9,[(ie(!0),le(it,null,At(a.value,d=>(ie(),Zt($a,{key:d,text:d},null,8,["text"]))),128)),l.value?(ie(),le("span",Z9," +"+ke(u.value),1)):et("",!0)])])])]),b("div",J9,[p[1]||(p[1]=b("h6",{class:"fw-bold small mb-2"}," ",-1)),n.item.latestReview?(ie(),le("div",Q9,[b("div",e7,[b("div",t7,[b("img",{src:n.item.latestReview.authorProfileImageUrl||"https://placehold.co/48x48/e0e0e0/333?text=U",class:"rounded-circle",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,n7)]),b("div",r7,[b("div",i7,ke(n.item.latestReview.authorName)+"",1),b("div",s7,[(ie(),le(it,null,At(5,d=>b("i",{key:d,class:st(["bi",d<=n.item.latestReview.rating?"bi-star-fill":"bi-star"]),style:Gn({color:d<=n.item.latestReview.rating?"#FFC107":"#e0e0e0"})},null,6)),64))]),b("p",o7,'"'+ke(n.item.latestReview.content)+'"',1)])]),o.value.length>0?(ie(),le("div",a7,[(ie(),le(it,null,At(5,d=>b("div",{key:d,class:"rounded-3 d-flex align-items-center justify-content-center text-secondary",style:{"background-color":"#e0e0e0",height:"60px","flex-basis":"0","flex-grow":"1",overflow:"hidden"}},[o.value[d-1]?(ie(),le("img",{key:0,src:o.value[d-1],alt:" ",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,l7)):et("",!0)])),64))])):et("",!0)])):(ie(),le("div",u7,"   . "))])]))}},h7=yt(c7,[["__scopeId","data-v-b581bd80"]]),su=Math.PI,J1="2.1.1",Ul="p2d",f7="p2d-hdr",Fa="webgl",Dr="webgl2",mD="default",by="simple",xy="full",gD="crosshair",vD="pointer",yD="move",bD="text",xD="wait",ol=su/2,_y=su,d7=su/4,p7=su*2,Ti=su*2,al=su/180,ll=180/su,ds="corner",Bh="corners",Uh="radius",Fp="right",_D="left",Wi="center",m7="top",wy="bottom",wD="alphabetic",Mp=0,ic=1,g7=3,v7=2,Il=4,Hm=6,Vh=5,ph="quads",$h="quad_strip",y7="tess",Gu=7,Xs=8,jh="close",Vl="open",Op="chord",zh="pie",Q1="square",eb="butt",Da="round",tb="bevel",nb="miter",ED="auto",b7="Alt",x7="Backspace",_7="Control",w7="Delete",E7="ArrowDown",S7="Enter",C7="Escape",A7="ArrowLeft",T7="Alt",I7="Enter",D7="ArrowRight",N7="Shift",k7="Tab",F7="ArrowUp",ki="source-over",$l="destination-out",Gh="lighter",Wm="darken",qm="lighten",SD="difference",Xm="subtract",Ym="exclusion",Km="multiply",Zm="screen",Jm="copy",rb="overlay",ib="hard-light",sb="soft-light",ob="color-dodge",ab="color-burn",Qm="threshold",lb="gray",ub="opaque",cb="invert",eg="posterize",hb="dilate",fb="erode",sc="blur",uo="normal",M7="italic",O7="bold",P7="bold italic",L7="CHAR",CD="WORD",R7="#000000",B7=1.25,U7="middle",Ey="linear",V7="quadratic",$7="bezier",j7="curve",z7="stroke",Pp="fill",Lp="texture",G7="immediate",tg="image",AD="nearest",Sy="repeat",Cy="clamp",Ay="mirror",TD="flat",ID="smooth",H7="landscape",W7="portrait",DD="#000000",ND="#FFFFFF",kD="grid",FD="axes",q7="label",X7="fallback",MD="contain",OD="cover",ya="unsigned-byte",mh="unsigned-int",$i="float",Fu="half-float",Hu=Symbol("include"),Pu=Symbol("exclude"),Ty=Symbol("join");var Ma=Object.freeze({__proto__:null,ADD:Gh,ALT:b7,ARROW:mD,AUTO:ED,AXES:FD,BACKSPACE:x7,BASELINE:wD,BEVEL:tb,BEZIER:$7,BLEND:ki,BLUR:sc,BOLD:O7,BOLDITALIC:P7,BOTTOM:wy,BURN:ab,CENTER:Wi,CHAR:L7,CHORD:Op,CLAMP:Cy,CLOSE:jh,CONTAIN:MD,CONTROL:_7,CORNER:ds,CORNERS:Bh,COVER:OD,CROSS:gD,CURVE:j7,DARKEST:Wm,DEG_TO_RAD:al,DELETE:w7,DIFFERENCE:SD,DILATE:hb,DODGE:ob,DOWN_ARROW:E7,EMPTY_PATH:Gu,ENTER:S7,ERODE:fb,ESCAPE:C7,EXCLUDE:Pu,EXCLUSION:Ym,FALLBACK:X7,FILL:Pp,FLAT:TD,FLOAT:$i,FULL:xy,GRAY:lb,GRID:kD,HALF_FLOAT:Fu,HALF_PI:ol,HAND:vD,HARD_LIGHT:ib,IMAGE:tg,IMMEDIATE:G7,INCLUDE:Hu,INVERT:cb,ITALIC:M7,JOIN:Ty,LABEL:q7,LANDSCAPE:H7,LEFT:_D,LEFT_ARROW:A7,LIGHTEST:qm,LINEAR:Ey,LINES:ic,LINE_LOOP:v7,LINE_STRIP:g7,MIRROR:Ay,MITER:nb,MOVE:yD,MULTIPLY:Km,NEAREST:AD,NORMAL:uo,OPAQUE:ub,OPEN:Vl,OPTION:T7,OVERLAY:rb,P2D:Ul,P2DHDR:f7,PATH:Xs,PI:_y,PIE:zh,POINTS:Mp,PORTRAIT:W7,POSTERIZE:eg,PROJECT:Q1,QUADRATIC:V7,QUADS:ph,QUAD_STRIP:$h,QUARTER_PI:d7,RADIUS:Uh,RAD_TO_DEG:ll,REMOVE:$l,REPEAT:Sy,REPLACE:Jm,RETURN:I7,RIGHT:Fp,RIGHT_ARROW:D7,ROUND:Da,SCREEN:Zm,SHIFT:N7,SIMPLE:by,SMOOTH:ID,SOFT_LIGHT:sb,SQUARE:eb,STROKE:z7,SUBTRACT:Xm,TAB:k7,TAU:p7,TESS:y7,TEXT:bD,TEXTURE:Lp,THRESHOLD:Qm,TOP:m7,TRIANGLES:Il,TRIANGLE_FAN:Hm,TRIANGLE_STRIP:Vh,TWO_PI:Ti,UNSIGNED_BYTE:ya,UNSIGNED_INT:mh,UP_ARROW:F7,VERSION:J1,WAIT:xD,WEBGL:Fa,WEBGL2:Dr,WORD:CD,_CTX_MIDDLE:U7,_DEFAULT_FILL:ND,_DEFAULT_LEADMULT:B7,_DEFAULT_STROKE:DD,_DEFAULT_TEXT_FILL:R7});function db(n,t){t.applyMatrix=function(...r){let i=r[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(r[0])||i?this._renderer.applyMatrix(...r[0]):this._renderer.applyMatrix(...r),this},t.resetMatrix=function(){return this._renderer.resetMatrix(),this},t.rotate=function(r,i){return this._renderer.rotate(this._toRadians(r),i),this},t.rotateX=function(r){return this._assert3d("rotateX"),this._renderer.rotateX(this._toRadians(r)),this},t.rotateY=function(r){return this._assert3d("rotateY"),this._renderer.rotateY(this._toRadians(r)),this},t.rotateZ=function(r){return this._assert3d("rotateZ"),this._renderer.rotateZ(this._toRadians(r)),this},t.scale=function(r,i,s){if(r instanceof n.Vector){const o=r;r=o.x,i=o.y,s=o.z}else if(Array.isArray(r)){const o=r;r=o[0],i=o[1],s=o[2]||1}return isNaN(i)?i=s=r:isNaN(s)&&(s=1),this._renderer.scale(r,i,s),this},t.shearX=function(r){const i=this._toRadians(r);return this._renderer.applyMatrix(1,0,Math.tan(i),1,0,0),this},t.shearY=function(r){const i=this._toRadians(r);return this._renderer.applyMatrix(1,Math.tan(i),0,1,0,0),this},t.translate=function(r,i,s){return this._renderer.isP3D?this._renderer.translate(r,i,s):this._renderer.translate(r,i),this},t.push=function(){this._renderer.push()},t.pop=function(){this._renderer.pop()}}typeof p5<"u"&&db(p5,p5.prototype);function PD(n,t){t.noLoop=function(){this._loop=!1},t.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.isLooping=function(){return this._loop},t.redraw=async function(r){if(this._inUserDraw||!this._setupDone)return;let i=parseInt(r);(isNaN(i)||i<1)&&(i=1);const s=this._isGlobal?window:this;if(typeof s.draw=="function"){typeof s.setup>"u"&&s.scale(s._pixelDensity,s._pixelDensity);for(let o=0;o<i;o++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),this._renderer.isP3D&&this._renderer._update(),this.frameCount=s.frameCount+1,await this._runLifecycleHook("predraw"),this._inUserDraw=!0;try{await s.draw()}finally{this._inUserDraw=!1}await this._runLifecycleHook("postdraw")}}}}typeof p5<"u"&&PD(p5,p5.prototype);function LD(n,t,r){const i=[mD,gD,vD,yD,bD,xD];t._frameRate=0,t._lastFrameTime=window.performance.now(),t._targetFrameRate=60;const s=window.print;let o=!1;r.presetup=function(){const c=["resize"];for(const f of c)window.addEventListener(f,this[`_on${f}`].bind(this),{passive:!1,signal:this._removeSignal})},t.print=function(...c){c.length?console.log(...c):o||(s(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(o=!0))},t.frameCount=0,t.deltaTime=0,t.focused=document.hasFocus(),t.cursor=function(c,f,p){let d="auto";const g=this._curElement.elt;if(i.includes(c))d=c;else if(typeof c=="string"){let m="";f&&p&&typeof f=="number"&&typeof p=="number"&&(m=`${f} ${p}`),c.substring(0,7)==="http://"||c.substring(0,8)==="https://"?d=`url(${c}) ${m}, auto`:/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?d=`url(${c}) ${m}, auto`:d=c}g.style.cursor=d},t.frameRate=function(c){return typeof c!="number"||c<0?this._frameRate:(this._targetFrameRate=c,c===0&&(this._frameRate=c),this)},t.getFrameRate=function(){return this.frameRate()},t.setFrameRate=function(c){return this.frameRate(c)},t.getTargetFrameRate=function(){return this._targetFrameRate},t.noCursor=function(){this._curElement.elt.style.cursor="none"},t.webglVersion=Ul,t.displayWidth=screen.width,t.displayHeight=screen.height,t.windowWidth=0,t.windowHeight=0,t._onresize=function(c){this.windowWidth=a(),this.windowHeight=l();let f;typeof this._customActions.windowResized=="function"&&(f=this._customActions.windowResized(c),f!==void 0&&!f&&c.preventDefault())};function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function l(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}t._updateWindowSize=function(){this.windowWidth=a(),this.windowHeight=l()},Object.defineProperty(t,"width",{get(){return this._renderer.width}}),Object.defineProperty(t,"height",{get(){return this._renderer.height}}),t.fullscreen=function(c){if(typeof c>"u")return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;c?u(document.documentElement):h()},t.pixelDensity=function(c){let f;return typeof c=="number"?(c!==this._renderer._pixelDensity&&(this._renderer._pixelDensity=c),f=this,this.resizeCanvas(this.width,this.height,!0)):f=this._renderer._pixelDensity,f},t.displayDensity=()=>window.devicePixelRatio;function u(c){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}function h(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}t.getURL=()=>location.href,t.getURLPath=()=>location.pathname.split("/").filter(c=>c!==""),t.getURLParams=function(){const c=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim;let f;const p={};for(;(f=c.exec(location.search))!=null;)f.index===c.lastIndex&&c.lastIndex++,p[f[1]]=f[2];return p},t.worldToScreen=function(c){return typeof c=="number"&&(c=this.createVector(...arguments)),this._renderer.getWorldToScreenMatrix().multiplyAndNormalizePoint(c)},t.screenToWorld=function(c){typeof c=="number"&&(c=this.createVector(...arguments));const f=this._renderer.getWorldToScreenMatrix();if(c.dimensions===2){let g=f.mat4[14]/f.mat4[15];c=this.createVector(c.x,c.y,g)}return f.invert(f).multiplyAndNormalizePoint(c)}}typeof p5<"u"&&LD(p5,p5.prototype);function $r(n,t){let r=n.length;Array.isArray(n[0])||(n=[n]),Array.isArray(t[0])||(t=t.map(a=>[a]));let i=t[0].length,s=t[0].map((a,l)=>t.map(u=>u[l])),o=n.map(a=>s.map(l=>{let u=0;if(!Array.isArray(a)){for(let h of l)u+=a*h;return u}for(let h=0;h<a.length;h++)u+=a[h]*(l[h]||0);return u}));return r===1&&(o=o[0]),i===1?o.map(a=>a[0]):o}function RD(n){return Wu(n)==="string"}function Wu(n){return(Object.prototype.toString.call(n).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function Iy(n,{precision:t,unit:r}){return Dy(n)?"none":Y7(n,t)+(r??"")}function Dy(n){return Number.isNaN(n)||n instanceof Number&&n?.none}function Y7(n,t){if(n===0)return 0;let r=~~n,i=0;r&&t&&(i=~~Math.log10(Math.abs(r))+1);const s=10**(t-i);return Math.floor(n*s+.5)/s}const K7={deg:1,grad:.9,rad:180/Math.PI,turn:360};function Z7(n){if(!n)return;n=n.trim();const t=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/,i=/%|deg|g?rad|turn$/,s=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g;let o=n.match(t);if(o){let a=[];return o[2].replace(s,(l,u)=>{let h=u.match(i),c=u;if(h){let f=h[0],p=c.slice(0,-f.length);f==="%"?(c=new Number(p/100),c.type="<percentage>"):(c=new Number(p*K7[f]),c.type="<angle>",c.unit=f)}else r.test(c)?(c=new Number(c),c.type="<number>"):c==="none"&&(c=new Number(NaN),c.none=!0);l.startsWith("/")&&(c=c instanceof Number?c:new Number(c),c.alpha=!0),typeof c=="object"&&c instanceof Number&&(c.raw=u),a.push(c)}),{name:o[1].toLowerCase(),rawName:o[1],rawArgs:o[2],args:a}}}function J7(n){return n[n.length-1]}function Rp(n,t,r){return isNaN(n)?t:isNaN(t)?n:n+(t-n)*r}function Q7(n,t,r){return(r-n)/(t-n)}function BD(n,t,r){return Rp(t[0],t[1],Q7(n[0],n[1],r))}function eU(n){return n.map(t=>t.split("|").map(r=>{r=r.trim();let i=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(i){let s=new String(i[1]);return s.range=[+i[2],+i[3]],s}return r}))}function tU(n,t,r){return Math.max(Math.min(r,t),n)}function pb(n,t){return Math.sign(n)===Math.sign(t)?n:-n}function Ro(n,t){return pb(Math.abs(n)**t,n)}function UD(n,t){return t===0?0:n/t}function nU(n,t,r=0,i=n.length){for(;r<i;){const s=r+i>>1;n[s]<t?r=s+1:i=s}return r}class rU{add(t,r,i){if(typeof arguments[0]!="string"){for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1]);return}(Array.isArray(t)?t:[t]).forEach(function(s){this[s]=this[s]||[],r&&this[s][i?"unshift":"push"](r)},this)}run(t,r){this[t]=this[t]||[],this[t].forEach(function(i){i.call(r&&r.context?r.context:r,r)})}}const Bp=new rU,Bo={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Ny(n){return Array.isArray(n)?n:Bo[n]}function Up(n,t,r,i={}){if(n=Ny(n),t=Ny(t),!n||!t)throw new TypeError(`Missing white point to convert ${n?"":"from"}${!n&&!t?"/":""}${t?"":"to"}`);if(n===t)return r;let s={W1:n,W2:t,XYZ:r,options:i};if(Bp.run("chromatic-adaptation-start",s),s.M||(s.W1===Bo.D65&&s.W2===Bo.D50?s.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:s.W1===Bo.D50&&s.W2===Bo.D65&&(s.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),Bp.run("chromatic-adaptation-end",s),s.M)return $r(s.M,s.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const jl={gamut_mapping:"css",precision:5,deltaE:"76",verbose:"production".toLowerCase()!=="test",warn:function(t){this.verbose&&globalThis?.console?.warn?.(t)}},iU=new Set(["<number>","<percentage>","<angle>"]);function k2(n,t,r,i){return Object.entries(n.coords).map(([o,a],l)=>{let u=t.coordGrammar[l],h=i[l],c=h?.type,f;if(h.none?f=u.find(g=>iU.has(g)):f=u.find(g=>g==c),!f){let g=a.name||o;throw new TypeError(`${c??h.raw} not allowed for ${g} in ${r}()`)}let p=f.range;c==="<percentage>"&&(p||=[0,1]);let d=a.range||a.refRange;return p&&d&&(i[l]=BD(p,d,i[l])),f})}function VD(n,{meta:t}={}){let r={str:String(n)?.trim()};if(Bp.run("parse-start",r),r.color)return r.color;if(r.parsed=Z7(r.str),r.parsed){let i=r.parsed.name;if(i==="color"){let s=r.parsed.args.shift(),o=s.startsWith("--")?s.substring(2):`--${s}`,a=[s,o],l=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let c of Ft.all){let f=c.getFormat("color");if(f&&(a.includes(f.id)||f.ids?.filter(p=>a.includes(p)).length)){const p=Object.keys(c.coords).map((g,m)=>r.parsed.args[m]||0);let d;return f.coordGrammar&&(d=k2(c,f,"color",p)),t&&Object.assign(t,{formatId:"color",types:d}),f.id.startsWith("--")&&!s.startsWith("--")&&jl.warn(`${c.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${f.id}) instead of color(${s}).`),s.startsWith("--")&&!f.id.startsWith("--")&&jl.warn(`${c.name} is a standard space and supported in the CSS spec. Use color(${f.id}) instead of prefixed color(${s}).`),{spaceId:c.id,coords:p,alpha:l}}}let u="",h=s in Ft.registry?s:o;if(h in Ft.registry){let c=Ft.registry[h].formats?.color?.id;c&&(u=`Did you mean color(${c})?`)}throw new TypeError(`Cannot parse color(${s}). `+(u||"Missing a plugin?"))}else for(let s of Ft.all){let o=s.getFormat(i);if(o&&o.type==="function"){let a=1;(o.lastAlpha||J7(r.parsed.args).alpha)&&(a=r.parsed.args.pop());let l=r.parsed.args,u;return o.coordGrammar&&(u=k2(s,o,i,l)),t&&Object.assign(t,{formatId:o.name,types:u}),{spaceId:s.id,coords:l,alpha:a}}}}else for(let i of Ft.all)for(let s in i.formats){let o=i.formats[s];if(o.type!=="custom"||o.test&&!o.test(r.str))continue;let a=o.parse(r.str);if(a)return a.alpha??=1,t&&(t.formatId=s),a}throw new TypeError(`Could not parse ${n} as a color. Missing a plugin?`)}function ar(n){if(Array.isArray(n))return n.map(ar);if(!n)throw new TypeError("Empty color reference");RD(n)&&(n=VD(n));let t=n.space||n.spaceId;return t instanceof Ft||(n.space=Ft.get(t)),n.alpha===void 0&&(n.alpha=1),n}const sU=75e-6;class Ft{constructor(t){this.id=t.id,this.name=t.name,this.base=t.base?Ft.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let r=t.coords??this.base.coords;for(let s in r)"name"in r[s]||(r[s].name=s);this.coords=r;let i=t.white??this.base.white??"D65";this.white=Ny(i),this.formats=t.formats??{};for(let s in this.formats){let o=this.formats[s];o.type||="function",o.name||=s}this.formats.color?.id||(this.formats.color={...this.formats.color??{},id:t.cssId||this.id}),t.gamutSpace?this.gamutSpace=t.gamutSpace==="self"?this:Ft.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(s,o)=>!0),this.referred=t.referred,Object.defineProperty(this,"path",{value:oU(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),Bp.run("colorspace-init-end",this)}inGamut(t,{epsilon:r=sU}={}){if(!this.equals(this.gamutSpace))return t=this.to(this.gamutSpace,t),this.gamutSpace.inGamut(t,{epsilon:r});let i=Object.values(this.coords);return t.every((s,o)=>{let a=i[o];if(a.type!=="angle"&&a.range){if(Number.isNaN(s))return!0;let[l,u]=a.range;return(l===void 0||s>=l-r)&&(u===void 0||s<=u+r)}return!0})}get isUnbounded(){return Object.values(this.coords).every(t=>!("range"in t))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let t in this.coords)if(this.coords[t].type==="angle")return!0;return!1}getFormat(t){if(typeof t=="object")return t=F2(t,this),t;let r;return t==="default"?r=Object.values(this.formats)[0]:r=this.formats[t],r?(r=F2(r,this),r):null}equals(t){return t?this===t||this.id===t||this.id===t.id:!1}to(t,r){if(arguments.length===1){const l=ar(t);[t,r]=[l.space,l.coords]}if(t=Ft.get(t),this.equals(t))return r;r=r.map(l=>Number.isNaN(l)?0:l);let i=this.path,s=t.path,o,a;for(let l=0;l<i.length&&i[l].equals(s[l]);l++)o=i[l],a=l;if(!o)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let l=i.length-1;l>a;l--)r=i[l].toBase(r);for(let l=a+1;l<s.length;l++)r=s[l].fromBase(r);return r}from(t,r){if(arguments.length===1){const i=ar(t);[t,r]=[i.space,i.coords]}return t=Ft.get(t),t.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let r in this.coords){let i=this.coords[r],s=i.range||i.refRange;t.push(s?.min??0)}return t}static registry={};static get all(){return[...new Set(Object.values(Ft.registry))]}static register(t,r){if(arguments.length===1&&(r=arguments[0],t=r.id),r=this.get(r),this.registry[t]&&this.registry[t]!==r)throw new Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=r,arguments.length===1&&r.aliases)for(let i of r.aliases)this.register(i,r);return r}static get(t,...r){if(!t||t instanceof Ft)return t;if(Wu(t)==="string"){let s=Ft.registry[t.toLowerCase()];if(!s)throw new TypeError(`No color space found with id = "${t}"`);return s}if(r.length)return Ft.get(...r);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,r){let i=Wu(t),s,o;if(i==="string"?t.includes(".")?[s,o]=t.split("."):[s,o]=[,t]:Array.isArray(t)?[s,o]=t:(s=t.space,o=t.coordId),s=Ft.get(s),s||(s=r),!s)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(i=Wu(o),i==="number"||i==="string"&&o>=0){let u=Object.entries(s.coords)[o];if(u)return{space:s,id:u[0],index:o,...u[1]}}s=Ft.get(s);let a=o.toLowerCase(),l=0;for(let u in s.coords){let h=s.coords[u];if(u.toLowerCase()===a||h.name?.toLowerCase()===a)return{space:s,id:u,index:l,...h};l++}throw new TypeError(`No "${o}" coordinate found in ${s.name}. Its coordinates are: ${Object.keys(s.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}function oU(n){let t=[n];for(let r=n;r=r.base;)t.push(r);return t}function F2(n,{coords:t}={}){if(n.coords&&!n.coordGrammar){n.type||="function",n.name||="color",n.coordGrammar=eU(n.coords);let r=Object.entries(t).map(([i,s],o)=>{let a=n.coordGrammar[o][0],l=s.range||s.refRange,u=a.range,h="";return a=="<percentage>"?(u=[0,100],h="%"):a=="<angle>"&&(h="deg"),{fromRange:l,toRange:u,suffix:h}});n.serializeCoords=(i,s)=>i.map((o,a)=>{let{fromRange:l,toRange:u,suffix:h}=r[a];return l&&u&&(o=BD(l,u,o)),o=Iy(o,{precision:s,unit:h}),o})}return n}const $o=new Ft({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class ng extends Ft{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=$o),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??=r=>{let i=$r(t.toXYZ_M,r);return this.white!==this.base.white&&(i=Up(this.white,this.base.white,i)),i},t.fromBase??=r=>(r=Up(this.base.white,this.white,r),$r(t.fromXYZ_M,r))),t.referred??="display",super(t)}}function $D(n,t){return n=ar(n),!t||n.space.equals(t)?n.coords.slice():(t=Ft.get(t),t.from(n))}function xa(n,t){n=ar(n);let{space:r,index:i}=Ft.resolveCoord(t,n.space);return $D(n,r)[i]}function jD(n,t,r){return n=ar(n),t=Ft.get(t),n.coords=t.to(n.space,r),n}jD.returns="color";function Hh(n,t,r){if(n=ar(n),arguments.length===2&&Wu(arguments[1])==="object"){let i=arguments[1];for(let s in i)Hh(n,s,i[s])}else{typeof r=="function"&&(r=r(xa(n,t)));let{space:i,index:s}=Ft.resolveCoord(t,n.space),o=$D(n,i);o[s]=r,jD(n,i,o)}return n}Hh.returns="color";const aU=new Ft({id:"xyz-d50",name:"XYZ D50",white:"D50",base:$o,fromBase:n=>Up($o.white,"D50",n),toBase:n=>Up("D50",$o.white,n)}),lU=216/24389,M2=24/116,ud=24389/27;let L0=Bo.D50;const Gs=new Ft({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:L0,base:aU,fromBase(n){let r=n.map((i,s)=>i/L0[s]).map(i=>i>lU?Math.cbrt(i):(ud*i+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(n){let t=[];return t[1]=(n[0]+16)/116,t[0]=n[1]/500+t[1],t[2]=t[1]-n[2]/200,[t[0]>M2?Math.pow(t[0],3):(116*t[0]-16)/ud,n[0]>8?Math.pow((n[0]+16)/116,3):n[0]/ud,t[2]>M2?Math.pow(t[2],3):(116*t[2]-16)/ud].map((i,s)=>i*L0[s])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function ta(n){return(n%360+360)%360}function uU(n,t){if(n==="raw")return t;let[r,i]=t.map(ta),s=i-r;return n==="increasing"?s<0&&(i+=360):n==="decreasing"?s>0&&(r+=360):n==="longer"?-180<s&&s<180&&(s>0?r+=360:i+=360):n==="shorter"&&(s>180?r+=360:s<-180&&(i+=360)),[r,i]}const oc=new Ft({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Gs,fromBase(n){let[t,r,i]=n,s;const o=.02;return Math.abs(r)<o&&Math.abs(i)<o?s=NaN:s=Math.atan2(i,r)*180/Math.PI,[t,Math.sqrt(r**2+i**2),ta(s)]},toBase(n){let[t,r,i]=n;return r<0&&(r=0),isNaN(i)&&(i=0),[t,r*Math.cos(i*Math.PI/180),r*Math.sin(i*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),O2=25**7,Vp=Math.PI,P2=180/Vp,xu=Vp/180;function L2(n){const t=n*n;return t*t*t*n}function zD(n,t,{kL:r=1,kC:i=1,kH:s=1}={}){[n,t]=ar([n,t]);let[o,a,l]=Gs.from(n),u=oc.from(Gs,[o,a,l])[1],[h,c,f]=Gs.from(t),p=oc.from(Gs,[h,c,f])[1];u<0&&(u=0),p<0&&(p=0);let d=(u+p)/2,g=L2(d),m=.5*(1-Math.sqrt(g/(g+O2))),v=(1+m)*a,w=(1+m)*c,y=Math.sqrt(v**2+l**2),_=Math.sqrt(w**2+f**2),x=v===0&&l===0?0:Math.atan2(l,v),C=w===0&&f===0?0:Math.atan2(f,w);x<0&&(x+=2*Vp),C<0&&(C+=2*Vp),x*=P2,C*=P2;let E=h-o,S=_-y,D=C-x,A=x+C,N=Math.abs(D),F;y*_===0?F=0:N<=180?F=D:D>180?F=D-360:D<-180?F=D+360:jl.warn("the unthinkable has happened");let T=2*Math.sqrt(_*y)*Math.sin(F*xu/2),I=(o+h)/2,M=(y+_)/2,L=L2(M),B;y*_===0?B=A:N<=180?B=A/2:A<360?B=(A+360)/2:B=(A-360)/2;let $=(I-50)**2,q=1+.015*$/Math.sqrt(20+$),Z=1+.045*M,he=1;he-=.17*Math.cos((B-30)*xu),he+=.24*Math.cos(2*B*xu),he+=.32*Math.cos((3*B+6)*xu),he-=.2*Math.cos((4*B-63)*xu);let V=1+.015*M*he,J=30*Math.exp(-1*((B-275)/25)**2),ge=2*Math.sqrt(L/(L+O2)),W=-1*Math.sin(2*J*xu)*ge,z=(E/(r*q))**2;return z+=(S/(i*Z))**2,z+=(T/(s*V))**2,z+=W*(S/(i*Z))*(T/(s*V)),Math.sqrt(z)}const cU=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],hU=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],fU=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],dU=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],zl=new Ft({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:$o,fromBase(n){let r=$r(cU,n).map(i=>Math.cbrt(i));return $r(fU,r)},toBase(n){let r=$r(dU,n).map(i=>i**3);return $r(hU,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function ky(n,t){[n,t]=ar([n,t]);let[r,i,s]=zl.from(n),[o,a,l]=zl.from(t),u=r-o,h=i-a,c=s-l;return Math.sqrt(u**2+h**2+c**2)}const pU=75e-6;function qu(n,t,{epsilon:r=pU}={}){n=ar(n),t||(t=n.space),t=Ft.get(t);let i=n.coords;return t!==n.space&&(i=t.from(n)),t.inGamut(i,{epsilon:r})}function Wh(n){return{space:n.space,coords:n.coords.slice(),alpha:n.alpha}}function mU(n,t,r="lab"){r=Ft.get(r);let i=r.from(n),s=r.from(t);return Math.sqrt(i.reduce((o,a,l)=>{let u=s[l];return isNaN(a)||isNaN(u)?o:o+(u-a)**2},0))}function gU(n,t){return mU(n,t,"lab")}const vU=Math.PI,R2=vU/180;function yU(n,t,{l:r=2,c:i=1}={}){[n,t]=ar([n,t]);let[s,o,a]=Gs.from(n),[,l,u]=oc.from(Gs,[s,o,a]),[h,c,f]=Gs.from(t),p=oc.from(Gs,[h,c,f])[1];l<0&&(l=0),p<0&&(p=0);let d=s-h,g=l-p,m=o-c,v=a-f,w=m**2+v**2-g**2,y=.511;s>=16&&(y=.040975*s/(1+.01765*s));let _=.0638*l/(1+.0131*l)+.638,x;Number.isNaN(u)&&(u=0),u>=164&&u<=345?x=.56+Math.abs(.2*Math.cos((u+168)*R2)):x=.36+Math.abs(.4*Math.cos((u+35)*R2));let C=Math.pow(l,4),E=Math.sqrt(C/(C+1900)),S=_*(E*x+1-E),D=(d/(r*y))**2;return D+=(g/(i*_))**2,D+=w/S**2,Math.sqrt(D)}const B2=203,GD=new Ft({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:$o,fromBase(n){return n.map(t=>Math.max(t*B2,0))},toBase(n){return n.map(t=>Math.max(t/B2,0))}}),cd=1.15,hd=.66,U2=2610/2**14,bU=2**14/2610,V2=3424/2**12,$2=2413/2**7,j2=2392/2**7,xU=1.7*2523/2**5,z2=2**5/(1.7*2523),fd=-.56,R0=16295499532821565e-27,_U=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],wU=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],EU=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],SU=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],CU=new Ft({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:GD,fromBase(n){let[t,r,i]=n,s=cd*t-(cd-1)*i,o=hd*r-(hd-1)*t,l=$r(_U,[s,o,i]).map(function(p){let d=V2+$2*(p/1e4)**U2,g=1+j2*(p/1e4)**U2;return(d/g)**xU}),[u,h,c]=$r(EU,l);return[(1+fd)*u/(1+fd*u)-R0,h,c]},toBase(n){let[t,r,i]=n,s=(t+R0)/(1+fd-fd*(t+R0)),a=$r(SU,[s,r,i]).map(function(p){let d=V2-p**z2,g=j2*p**z2-$2;return 1e4*(d/g)**bU}),[l,u,h]=$r(wU,a),c=(l+(cd-1)*h)/cd,f=(u+(hd-1)*c)/hd;return[c,f,h]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),G2=new Ft({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:CU,fromBase(n){let[t,r,i]=n,s;const o=2e-4;return Math.abs(r)<o&&Math.abs(i)<o?s=NaN:s=Math.atan2(i,r)*180/Math.PI,[t,Math.sqrt(r**2+i**2),ta(s)]},toBase(n){return[n[0],n[1]*Math.cos(n[2]*Math.PI/180),n[1]*Math.sin(n[2]*Math.PI/180)]}});function AU(n,t){[n,t]=ar([n,t]);let[r,i,s]=G2.from(n),[o,a,l]=G2.from(t),u=r-o,h=i-a;Number.isNaN(s)&&Number.isNaN(l)?(s=0,l=0):Number.isNaN(s)?s=l:Number.isNaN(l)&&(l=s);let c=s-l,f=2*Math.sqrt(i*a)*Math.sin(c/2*(Math.PI/180));return Math.sqrt(u**2+h**2+f**2)}const HD=3424/4096,WD=2413/128,qD=2392/128,H2=2610/16384,TU=2523/32,IU=16384/2610,W2=32/2523,DU=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],NU=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],kU=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],FU=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],q2=new Ft({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:GD,fromBase(n){let t=$r(DU,n);return MU(t)},toBase(n){let t=OU(n);return $r(FU,t)}});function MU(n){let t=n.map(function(r){let i=HD+WD*(r/1e4)**H2,s=1+qD*(r/1e4)**H2;return(i/s)**TU});return $r(NU,t)}function OU(n){return $r(kU,n).map(function(i){let s=Math.max(i**W2-HD,0),o=WD-qD*i**W2;return 1e4*(s/o)**IU})}function PU(n,t){[n,t]=ar([n,t]);let[r,i,s]=q2.from(n),[o,a,l]=q2.from(t);return 720*Math.sqrt((r-o)**2+.25*(i-a)**2+(s-l)**2)}const LU=Bo.D65,XD=.42,X2=1/XD,B0=2*Math.PI,YD=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],RU=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],BU=[[460,451,288],[460,-891,-261],[460,-220,-6300]],UU={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},fl={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},VU=180/Math.PI,Y2=Math.PI/180;function KD(n,t){return n.map(i=>{const s=Ro(t*Math.abs(i)*.01,XD);return 400*pb(s,i)/(s+27.13)})}function $U(n,t){const r=100/t*27.13**X2;return n.map(i=>{const s=Math.abs(i);return pb(r*Ro(s/(400-s),X2),i)})}function jU(n){let t=ta(n);t<=fl.h[0]&&(t+=360);const r=nU(fl.h,t)-1,[i,s]=fl.h.slice(r,r+2),[o,a]=fl.e.slice(r,r+2),l=fl.H[r],u=(t-i)/o;return l+100*u/(u+(s-t)/a)}function zU(n){let t=(n%400+400)%400;const r=Math.floor(.01*t);t=t%100;const[i,s]=fl.h.slice(r,r+2),[o,a]=fl.e.slice(r,r+2);return ta((t*(a*i-o*s)-100*i*a)/(t*(a-o)-100*a))}function ZD(n,t,r,i,s){const o={};o.discounting=s,o.refWhite=n,o.surround=i;const a=n.map(m=>m*100);o.la=t,o.yb=r;const l=a[1],u=$r(YD,a);i=UU[o.surround];const h=i[0];o.c=i[1],o.nc=i[2];const f=(1/(5*o.la+1))**4;o.fl=f*o.la+.1*(1-f)*(1-f)*Math.cbrt(5*o.la),o.flRoot=o.fl**.25,o.n=o.yb/l,o.z=1.48+Math.sqrt(o.n),o.nbb=.725*o.n**-.2,o.ncb=o.nbb;const p=Math.max(Math.min(h*(1-1/3.6*Math.exp((-o.la-42)/92)),1),0);o.dRgb=u.map(m=>Rp(1,l/m,p)),o.dRgbInv=o.dRgb.map(m=>1/m);const d=u.map((m,v)=>m*o.dRgb[v]),g=KD(d,o.fl);return o.aW=o.nbb*(2*g[0]+g[1]+.05*g[2]),o}const K2=ZD(LU,64/Math.PI*.2,20,"average",!1);function Fy(n,t){if(!(n.J!==void 0^n.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(n.C!==void 0^n.M!==void 0^n.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(n.h!==void 0^n.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(n.J===0||n.Q===0)return[0,0,0];let r=0;n.h!==void 0?r=ta(n.h)*Y2:r=zU(n.H)*Y2;const i=Math.cos(r),s=Math.sin(r);let o=0;n.J!==void 0?o=Ro(n.J,1/2)*.1:n.Q!==void 0&&(o=.25*t.c*n.Q/((t.aW+4)*t.flRoot));let a=0;n.C!==void 0?a=n.C/o:n.M!==void 0?a=n.M/t.flRoot/o:n.s!==void 0&&(a=4e-4*n.s**2*(t.aW+4)/t.c);const l=Ro(a*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),u=.25*(Math.cos(r+2)+3.8),h=t.aW*Ro(o,2/t.c/t.z),c=5e4/13*t.nc*t.ncb*u,f=h/t.nbb,p=23*(f+.305)*UD(l,23*c+l*(11*i+108*s)),d=p*i,g=p*s,m=$U($r(BU,[f,d,g]).map(v=>v*1/1403),t.fl);return $r(RU,m.map((v,w)=>v*t.dRgbInv[w])).map(v=>v/100)}function JD(n,t){const r=n.map(_=>_*100),i=KD($r(YD,r).map((_,x)=>_*t.dRgb[x]),t.fl),s=i[0]+(-12*i[1]+i[2])/11,o=(i[0]+i[1]-2*i[2])/9,a=(Math.atan2(o,s)%B0+B0)%B0,l=.25*(Math.cos(a+2)+3.8),u=5e4/13*t.nc*t.ncb*UD(l*Math.sqrt(s**2+o**2),i[0]+i[1]+1.05*i[2]+.305),h=Ro(u,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),c=t.nbb*(2*i[0]+i[1]+.05*i[2]),f=Ro(c/t.aW,.5*t.c*t.z),p=100*Ro(f,2),d=4/t.c*f*(t.aW+4)*t.flRoot,g=h*f,m=g*t.flRoot,v=ta(a*VU),w=jU(v),y=50*Ro(t.c*h/(t.aW+4),1/2);return{J:p,C:g,h:v,s:y,Q:d,M:m,H:w}}new Ft({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:$o,fromBase(n){const t=JD(n,K2);return[t.J,t.M,t.h]},toBase(n){return Fy({J:n[0],M:n[1],h:n[2]},K2)}});const GU=Bo.D65,HU=216/24389,QD=24389/27;function WU(n){return 116*(n>HU?Math.cbrt(n):(QD*n+16)/116)-16}function My(n){return n>8?Math.pow((n+16)/116,3):n/QD}function qU(n,t){let[r,i,s]=n,o=[],a=0;if(s===0)return[0,0,0];let l=My(s);s>0?a=.00379058511492914*s**2+.608983189401032*s+.9155088574762233:a=9514440756550361e-21*s**2+.08693057439788597*s-21.928975842194614;const u=2e-12,h=15;let c=0,f=1/0;for(;c<=h;){o=Fy({J:a,C:i,h:r},t);const p=Math.abs(o[1]-l);if(p<f){if(p<=u)return o;f=p}a=a-(o[1]-l)*a/(2*o[1]),c+=1}return Fy({J:a,C:i,h:r},t)}function XU(n,t){const r=WU(n[1]);if(r===0)return[0,0,0];const i=JD(n,mb);return[ta(i.h),i.C,r]}const mb=ZD(GU,200/Math.PI*My(50),My(50)*100,"average",!1),$p=new Ft({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:$o,fromBase(n){return XU(n)},toBase(n){return qU(n,mb)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),YU=Math.PI/180,Z2=[1,.007,.0228];function J2(n){n[1]<0&&(n=$p.fromBase($p.toBase(n)));const t=Math.log(Math.max(1+Z2[2]*n[1]*mb.flRoot,1))/Z2[2],r=n[0]*YU,i=t*Math.cos(r),s=t*Math.sin(r);return[n[2],i,s]}function KU(n,t){[n,t]=ar([n,t]);let[r,i,s]=J2($p.from(n)),[o,a,l]=J2($p.from(t));return Math.sqrt((r-o)**2+(i-a)**2+(s-l)**2)}const Q2={deltaE76:gU,deltaECMC:yU,deltaE2000:zD,deltaEJz:AU,deltaEITP:PU,deltaEOK:ky,deltaEHCT:KU};function ZU(n){const t=n?Math.floor(Math.log10(Math.abs(n))):0;return Math.max(parseFloat(`1e${t-2}`),1e-6)}const eE={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Gl(n,{method:t=jl.gamut_mapping,space:r=void 0,deltaEMethod:i="",jnd:s=2,blackWhiteClamp:o={}}={}){if(n=ar(n),RD(arguments[1])?r=arguments[1]:r||(r=n.space),r=Ft.get(r),qu(n,r,{epsilon:0}))return n;let a;if(t==="css")a=JU(n,{space:r});else{if(t!=="clip"&&!qu(n,r)){Object.prototype.hasOwnProperty.call(eE,t)&&({method:t,jnd:s,deltaEMethod:i,blackWhiteClamp:o}=eE[t]);let l=zD;if(i!==""){for(let h in Q2)if("deltae"+i.toLowerCase()===h.toLowerCase()){l=Q2[h];break}}let u=Gl(sn(n,r),{method:"clip",space:r});if(l(n,u)>s){if(Object.keys(o).length===3){let y=Ft.resolveCoord(o.channel),_=xa(sn(n,y.space),y.id);if(Dy(_)&&(_=0),_>=o.max)return sn({space:"xyz-d65",coords:Bo.D65},n.space);if(_<=o.min)return sn({space:"xyz-d65",coords:[0,0,0]},n.space)}let h=Ft.resolveCoord(t),c=h.space,f=h.id,p=sn(n,c);p.coords.forEach((y,_)=>{Dy(y)&&(p.coords[_]=0)});let g=(h.range||h.refRange)[0],m=ZU(s),v=g,w=xa(p,f);for(;w-v>m;){let y=Wh(p);y=Gl(y,{space:r,method:"clip"}),l(p,y)-s<m?v=xa(p,f):w=xa(p,f),Hh(p,f,(v+w)/2)}a=sn(p,r)}else a=u}else a=sn(n,r);if(t==="clip"||!qu(a,r,{epsilon:0})){let l=Object.values(r.coords).map(u=>u.range||[]);a.coords=a.coords.map((u,h)=>{let[c,f]=l[h];return c!==void 0&&(u=Math.max(c,u)),f!==void 0&&(u=Math.min(u,f)),u})}}return r!==n.space&&(a=sn(a,n.space)),n.coords=a.coords,n}Gl.returns="color";const tE={WHITE:{space:zl,coords:[1,0,0]},BLACK:{space:zl,coords:[0,0,0]}};function JU(n,{space:t}={}){n=ar(n),t||(t=n.space),t=Ft.get(t);const s=Ft.get("oklch");if(t.isUnbounded)return sn(n,t);const o=sn(n,s);let a=o.coords[0];if(a>=1){const g=sn(tE.WHITE,t);return g.alpha=n.alpha,sn(g,t)}if(a<=0){const g=sn(tE.BLACK,t);return g.alpha=n.alpha,sn(g,t)}if(qu(o,t,{epsilon:0}))return sn(o,t);function l(g){const m=sn(g,t),v=Object.values(t.coords);return m.coords=m.coords.map((w,y)=>{if("range"in v[y]){const[_,x]=v[y].range;return tU(_,w,x)}return w}),m}let u=0,h=o.coords[1],c=!0,f=Wh(o),p=l(f),d=ky(p,f);if(d<.02)return p;for(;h-u>1e-4;){const g=(u+h)/2;if(f.coords[1]=g,c&&qu(f,t,{epsilon:0}))u=g;else if(p=l(f),d=ky(p,f),d<.02){if(.02-d<1e-4)break;c=!1,u=g}else h=g}return p}function sn(n,t,{inGamut:r}={}){n=ar(n),t=Ft.get(t);let i=t.from(n),s={space:t,coords:i,alpha:n.alpha};return r&&(s=Gl(s,r===!0?void 0:r)),s}sn.returns="color";function QU(n,{precision:t=jl.precision,format:r="default",inGamut:i=!0,...s}={}){let o;n=ar(n);let a=r;r=n.space.getFormat(r)??n.space.getFormat("default")??Ft.DEFAULT_FORMAT;let l=n.coords.slice();if(i||=r.toGamut,i&&!qu(n)&&(l=Gl(Wh(n),i===!0?void 0:i).coords),r.type==="custom")if(s.precision=t,r.serialize)o=r.serialize(l,n.alpha,s);else throw new TypeError(`format ${a} can only be used to parse colors, not for serialization`);else{let u=r.name||"color";r.serializeCoords?l=r.serializeCoords(l,t):t!==null&&(l=l.map(p=>Iy(p,{precision:t})));let h=[...l];if(u==="color"){let p=r.id||r.ids?.[0]||n.space.id;h.unshift(p)}let c=n.alpha;t!==null&&(c=Iy(c,{precision:t}));let f=n.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${c}`;o=`${u}(${h.join(r.commas?", ":" ")}${f})`}return o}const eV=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],tV=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],nV=new ng({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:eV,fromXYZ_M:tV}),rV=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],iV=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],sV=new ng({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:rV,fromXYZ_M:iV}),nE={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let rE=Array(3).fill("<percentage> | <number>[0, 255]"),iE=Array(3).fill("<number>[0, 255]");const ac=new ng({id:"srgb",name:"sRGB",base:sV,fromBase:n=>n.map(t=>{let r=t<0?-1:1,i=t*r;return i>.0031308?r*(1.055*i**(1/2.4)-.055):12.92*t}),toBase:n=>n.map(t=>{let r=t<0?-1:1,i=t*r;return i<=.04045?t/12.92:r*((i+.055)/1.055)**2.4}),formats:{rgb:{coords:rE},rgb_number:{name:"rgb",commas:!0,coords:iE,noAlpha:!0},color:{},rgba:{coords:rE,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:iE},hex:{type:"custom",toGamut:!0,test:n=>/^#([a-f0-9]{3,4}){1,2}$/i.test(n),parse(n){n.length<=5&&(n=n.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return n.replace(/[a-f0-9]{2}/gi,r=>{t.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(n,t,{collapse:r=!0}={})=>{t<1&&n.push(t),n=n.map(o=>Math.round(o*255));let i=r&&n.every(o=>o%17===0);return"#"+n.map(o=>i?(o/17).toString(16):o.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:n=>/^[a-z]+$/i.test(n),parse(n){n=n.toLowerCase();let t={spaceId:"srgb",coords:null,alpha:1};if(n==="transparent"?(t.coords=nE.black,t.alpha=0):t.coords=nE[n],t.coords)return t}}}}),sE=new ng({id:"p3",cssId:"display-p3",name:"P3",base:nV,fromBase:ac.fromBase,toBase:ac.toBase});function oE(n){return xa(n,[$o,"y"])}function aE(n,t){n=ar(n),t=ar(t);let r=Math.max(oE(n),0),i=Math.max(oE(t),0);return i>r&&([r,i]=[i,r]),(r+.05)/(i+.05)}const oV=.56,aV=.57,lV=.62,uV=.65,lE=.022,cV=1.414,hV=.1,fV=5e-4,dV=1.14,uE=.027,pV=1.14;function cE(n){return n>=lE?n:n+(lE-n)**cV}function _u(n){let t=n<0?-1:1,r=Math.abs(n);return t*Math.pow(r,2.4)}function hE(n,t){t=ar(t),n=ar(n);let r,i,s,o,a,l;t=sn(t,"srgb"),[o,a,l]=t.coords;let u=_u(o)*.2126729+_u(a)*.7151522+_u(l)*.072175;n=sn(n,"srgb"),[o,a,l]=n.coords;let h=_u(o)*.2126729+_u(a)*.7151522+_u(l)*.072175,c=cE(u),f=cE(h),p=f>c;return Math.abs(f-c)<fV?i=0:p?(r=f**oV-c**aV,i=r*dV):(r=f**uV-c**lV,i=r*pV),Math.abs(i)<hV?s=0:i>0?s=i-uE:s=i+uE,s*100}function e5(n,t,r={}){if(mV(n)){let[u,h]=[n,t];return e5(...u.rangeArgs.colors,{...u.rangeArgs.options,...h})}let{space:i,outputSpace:s,progression:o,premultiplied:a}=r;n=ar(n),t=ar(t),n=Wh(n),t=Wh(t);let l={colors:[n,t],options:r};if(i?i=Ft.get(i):i=Ft.registry[jl.interpolationSpace]||n.space,s=s?Ft.get(s):i,n=sn(n,i),t=sn(t,i),n=Gl(n),t=Gl(t),i.coords.h&&i.coords.h.type==="angle"){let u=r.hue=r.hue||"shorter",h=[i,"h"],[c,f]=[xa(n,h),xa(t,h)];isNaN(c)&&!isNaN(f)?c=f:isNaN(f)&&!isNaN(c)&&(f=c),[c,f]=uU(u,[c,f]),Hh(n,h,c),Hh(t,h,f)}return a&&(n.coords=n.coords.map(u=>u*n.alpha),t.coords=t.coords.map(u=>u*t.alpha)),Object.assign(u=>{u=o?o(u):u;let h=n.coords.map((p,d)=>{let g=t.coords[d];return Rp(p,g,u)}),c=Rp(n.alpha,t.alpha,u),f={space:i,coords:h,alpha:c};return a&&(f.coords=f.coords.map(p=>p/c)),s!==i&&(f=sn(f,s)),f},{rangeArgs:l})}function mV(n){return Wu(n)==="function"&&!!n.rangeArgs}jl.interpolationSpace="lab";const Oy=new Ft({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:ac,fromBase:n=>{let t=Math.max(...n),r=Math.min(...n),[i,s,o]=n,[a,l,u]=[NaN,0,(r+t)/2],h=t-r;if(h!==0){switch(l=u===0||u===1?0:(t-u)/Math.min(u,1-u),t){case i:a=(s-o)/h+(s<o?6:0);break;case s:a=(o-i)/h+2;break;case o:a=(i-s)/h+4}a=a*60}return l<0&&(a+=180,l=Math.abs(l)),a>=360&&(a-=360),[a,l*100,u*100]},toBase:n=>{let[t,r,i]=n;t=t%360,t<0&&(t+=360),r/=100,i/=100;function s(o){let a=(o+t/30)%12,l=r*Math.min(i,1-i);return i-l*Math.max(-1,Math.min(a-3,9-a,1))}return[s(0),s(8),s(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),gV=new Ft({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Oy,fromBase(n){let[t,r,i]=n;r/=100,i/=100;let s=i+r*Math.min(i,1-i);return[t,s===0?0:200*(1-i/s),100*s]},toBase(n){let[t,r,i]=n;r/=100,i/=100;let s=i*(1-r/2);return[t,s===0||s===1?0:(i-s)/Math.min(s,1-s)*100,s*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),fE=new Ft({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:gV,fromBase(n){let[t,r,i]=n;return[t,i*(100-r)/100,100-i]},toBase(n){let[t,r,i]=n;r/=100,i/=100;let s=r+i;if(s>=1){let l=r/s;return[t,0,l*100]}let o=1-i,a=o===0?0:1-r/o;return[t,a*100,o*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),dE=new Ft({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:zl,fromBase(n){let[t,r,i]=n,s;const o=2e-4;return Math.abs(r)<o&&Math.abs(i)<o?s=NaN:s=Math.atan2(i,r)*180/Math.PI,[t,Math.sqrt(r**2+i**2),ta(s)]},toBase(n){let[t,r,i]=n,s,o;return isNaN(i)?(s=0,o=0):(s=r*Math.cos(i*Math.PI/180),o=r*Math.sin(i*Math.PI/180)),[t,s,o]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});var pE=new Ft({id:"hsb",name:"HSB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},b:{range:[0,100],name:"Brightness"}},base:ac,fromBase:n=>{const t=Math.max(...n),r=t-Math.min(...n);let[i,s,o]=n,a,l;return r===0?(a=0,l=0):(l=r/t,i===t?a=(s-o)/r:s===t?a=2+(o-i)/r:o===t&&(a=4+(i-s)/r),a<0?a+=6:a>=6&&(a-=6)),[a/6*360,l*100,t*100]},toBase:mE,formats:{default:{type:"custom",serialize:(n,t)=>{const r=mE(n);let i=`rgb(${Math.round(r[0]*100*100)/100}% ${Math.round(r[1]*100*100)/100}% ${Math.round(r[2]*100*100)/100}%`;return t<1&&(i+=` / ${t}`),i+=")",i}},hsb:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsba:{coords:["<number> | <angle>","<percentage>","<percentage>"],commans:!0,lastAlpha:!0}}});function mE(n){const t=n[0]/360*6,r=n[1]/100,i=n[2]/100;let s=[];if(r===0)s=[i,i,i];else{const o=Math.floor(t),a=i*(1-r),l=i*(1-r*(t-o)),u=i*(1-r*(1+o-t));let h,c,f;o===1?(h=l,c=i,f=a):o===2?(h=a,c=i,f=u):o===3?(h=a,c=l,f=i):o===4?(h=u,c=a,f=i):o===5?(h=i,c=a,f=l):(h=i,c=u,f=a),s=[h,c,f]}return s}const jn=(n,t,r,i,s,o)=>{let a=(n-t)/(r-t)*(s-i)+i;return o&&(a=Math.max(a,Math.min(i,s)),a=Math.min(a,Math.max(i,s))),a},gE={};class xt{_color;mode;static colorMap={};static#e={};static#t={};static addColorMode(t,r){Ft.register(r),xt.colorMap[t]=r.id,xt.#e[t]=Object.values(r.coords).reduce((i,s)=>(i.push(s.refRange||s.range),i),[]),xt.#e[t].push([0,1]),xt.#t[t]=r.fromGray}constructor(t,r,i,{clamp:s=!1}={}){if(this.mode=r||Yn,t instanceof xt){const o=r?xt.colorMap[r]:xt.colorMap[t.mode];this._color=sn(t._color,o),this.mode=o}else if(typeof t=="object"&&!Array.isArray(t)&&t!==null){const o=r?xt.colorMap[r]:t.spaceId;this._color=sn(t,o),this.mode=r||Object.entries(xt.colorMap).find(([a,l])=>l===this._color.spaceId)}else if(typeof t[0]=="string")try{this._color=VD(t[0]);const[o]=Object.entries(xt.colorMap).find(([a,l])=>l===this._color.spaceId);this.mode=o,this._color=sn(this._color,this._color.spaceId)}catch{throw new Error("Invalid color string")}else{let o;if(i)if(t.length===4)o=xt.mapColorRange(t,this.mode,i,s);else if(t.length===3)o=xt.mapColorRange([t[0],t[1],t[2]],this.mode,i,s),o.push(1);else if(t.length===2){xt.#t[this.mode]?o=xt.#t[this.mode](t[0],i,s):o=xt.mapColorRange([t[0],t[0],t[0]],this.mode,i,s);const h=Array.isArray(i[i.length-1])?i[i.length-1]:[0,i[i.length-1]];o.push(jn(t[1],h[0],h[1],0,1,s))}else if(t.length===1)xt.#t[this.mode]?o=xt.#t[this.mode](t[0],i,s):o=xt.mapColorRange([t[0],t[0],t[0]],this.mode,i,s),o.push(1);else throw new Error("Invalid color");else o=t;const a=xt.colorMap[this.mode]||console.error("Invalid color mode"),l=o.slice(0,3),u={space:a,coords:l,alpha:o[3]};this._color=sn(u,a)}}static mapColorRange(t,r,i,s){const o=i.map(l=>Array.isArray(l)?l:[0,l]),a=xt.#e[r];return t.map((l,u)=>jn(l,o[u][0],o[u][1],a[u][0],a[u][1],s))}static unmapColorRange(t,r,i){const s=i.map(a=>Array.isArray(a)?a:[0,a]),o=xt.#e[r];return t.map((a,l)=>jn(a,o[l][0],o[l][1],s[l][0],s[l][1]))}#n(t){return new xt(this._color,t)}get _array(){return this._getRGBA()}array(){return this._array}lerp(t,r,i){let s=-1;for(;(s+1<this._color.space.path.length||s+1<t._color.space.path.length)&&this._color.space.path[s+1]===t._color.space.path[s+1];)s+=1;if(s===-1)throw new Error("Cannot lerp colors. No common color space found");const o=e5(this._color,t._color,{space:this._color.space.path[s].id})(r);return new xt(o,i||this.mode)}toString(t){const r=`${this._color.space.id}-${this._color.coords.join(",")}-${this._color.alpha}-${t}`;let i=gE[r];return i||(i=QU(this._color,{format:t}),gE[r]=i),i}contrast(t,r="WCAG21"){if(r!=="all"){let i,s;switch(r){case"WCAG21":i=aE(this._color,t._color),s=4.5;break;case"APCA":i=Math.abs(hE(this._color,t._color)),s=75;break;default:return null}return i>=s}else{const i=aE(this._color,t._color),s=hE(this._color,t._color);return{WCAG21:{value:i,passedMinimum:i>=4.5,passedAAA:i>=7},APCA:{value:s,passedMinimum:Math.abs(s)>=75}}}}setRed(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=xt.#e[Yn][0],s=jn(t,r[0],r[1],i[0],i[1]);if(this.mode===Yn||this.mode===Di)this._color.coords[0]=s;else{const o=this._color.space.id,a=sn(this._color,"srgb");a.coords[0]=s,this._color=sn(a,o)}}setGreen(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=xt.#e[Yn][1],s=jn(t,r[0],r[1],i[0],i[1]);if(this.mode===Yn||this.mode===Di)this._color.coords[1]=s;else{const o=this._color.space.id,a=sn(this._color,"srgb");a.coords[1]=s,this._color=sn(a,o)}}setBlue(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=xt.#e[Yn][2],s=jn(t,r[0],r[1],i[0],i[1]);if(this.mode===Yn||this.mode===Di)this._color.coords[2]=s;else{const o=this._color.space.id,a=sn(this._color,"srgb");a.coords[2]=s,this._color=sn(a,o)}}setAlpha(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=xt.#e[this.mode][3],s=jn(t,r[0],r[1],i[0],i[1]);this._color.alpha=s}_getRGBA(t=[1,1,1,1]){const r=xt.#e[Yn];let i=structuredClone(sn(this._color,"srgb").coords);i.push(this._color.alpha);const s=t.map(o=>Array.isArray(o)?o:[0,o]);return i=i.map((o,a)=>jn(o,r[a][0],r[a][1],s[a][0],s[a][1])),i}_getMode(){return this.mode}_getRed(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Yn||this.mode===Di){const r=xt.#e[this.mode][0];return jn(this._color.coords[0],r[0],r[1],t[0],t[1])}else{const r=xt.#e[Yn][0];return jn(sn(this._color,"srgb").coords[0],r[0],r[1],t[0],t[1])}}_getGreen(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Yn||this.mode===Di){const r=xt.#e[this.mode][1];return jn(this._color.coords[1],r[0],r[1],t[0],t[1])}else{const r=xt.#e[Yn][1];return jn(sn(this._color,"srgb").coords[1],r[0],r[1],t[0],t[1])}}_getBlue(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Yn||this.mode===Di){const r=xt.#e[this.mode][2];return jn(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=xt.#e[Yn][2];return jn(sn(this._color,"srgb").coords[2],r[0],r[1],t[0],t[1])}}_getAlpha(t=[0,1]){Array.isArray(t)||(t=[0,t]);const r=xt.#e[this.mode][3];return jn(this._color.alpha,r[0],r[1],t[0],t[1])}_getHue(t=[0,360]){if(Array.isArray(t)||(t=[0,t]),this.mode===Fi||this.mode===ei){const r=xt.#e[this.mode][0];return jn(this._color.coords[0],r[0],r[1],t[0],t[1])}else{const r=xt.#e[ei][0];return jn(sn(this._color,"hsl").coords[0],r[0],r[1],t[0],t[1])}}_getSaturation(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Fi||this.mode===ei){const r=xt.#e[this.mode][1];return jn(this._color.coords[1],r[0],r[1],t[0],t[1])}else{const r=xt.#e[ei][1];return jn(sn(this._color,"hsl").coords[1],r[0],r[1],t[0],t[1])}}_getBrightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Fi){const r=xt.#e[this.mode][2];return jn(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=xt.#e[Fi][2];return jn(sn(this._color,"hsb").coords[2],r[0],r[1],t[0],t[1])}}_getLightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===ei){const r=xt.#e[this.mode][2];return jn(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=xt.#e[ei][2];return jn(sn(this._color,"hsl").coords[2],r[0],r[1],t[0],t[1])}}}function t5(n,t,r){n.Color=xt,ac.fromGray=sE.fromGray=function(i,s,o){const a=s.map(u=>Array.isArray(u)?u:[0,u]),l=jn(i,a[2][0],a[2][1],0,1,o);return[l,l,l]},pE.fromGray=Oy.fromGray=function(i,s,o){const a=s.map(u=>Array.isArray(u)?u:[0,u]);return[0,0,jn(i,a[2][0],a[2][1],0,100,o)]},fE.fromGray=function(i,s,o){const a=s.map(f=>Array.isArray(f)?f:[0,f]),l=Math.abs(a[1][0]-a[1][1])/2+Math.abs(a[2][0]-a[2][1])/2,u=jn(i,0,l,0,100);let h,c;return u<50?(c=u,h=100-u):u>=50&&(h=u,c=100-u),[0,h,c]},Gs.fromGray=oc.fromGray=zl.fromGray=dE.fromGray=function(i,s,o){const a=s.map(u=>Array.isArray(u)?u:[0,u]);return[jn(i,a[0][0],a[0][1],0,100,o),0,0]},n.Color.addColorMode(Yn,ac),n.Color.addColorMode(Di,sE),n.Color.addColorMode(Fi,pE),n.Color.addColorMode(ei,Oy),n.Color.addColorMode(Xu,fE),n.Color.addColorMode(qh,Gs),n.Color.addColorMode(Dl,oc),n.Color.addColorMode(Xh,zl),n.Color.addColorMode(Nl,dE),r.presetup=function(){const i=this,s=["Red","Green","Blue","Alpha"];for(let a in s){const l=s[a],u=n.Color.prototype["set"+l];n.Color.prototype["set"+l]=function(h,c){return c=c||i?._renderer?.states?.colorMaxes?.[Yn][a],u.call(this,h,c)}}function o(a,l){const u=n.Color.prototype["_get"+a];n.Color.prototype["_get"+a]=function(h){if(Object.keys(l).includes(this.mode))h=h||i?._renderer?.states?.colorMaxes?.[this.mode][l[this.mode]];else{const c=Object.keys(l)[0];h=h||i?._renderer?.states?.colorMaxes?.[c][l[c]]}return u.call(this,h)}}o("Red",{[Yn]:0,[Di]:0}),o("Green",{[Yn]:1,[Di]:1}),o("Blue",{[Yn]:2,[Di]:2}),o("Alpha",{[Yn]:3,[Di]:3,[Fi]:3,[ei]:3,[Xu]:3,[qh]:3,[Dl]:3,[Xh]:3,[Nl]:3}),o("Hue",{[ei]:0,[Fi]:0,[Xu]:0,[Dl]:2,[Nl]:2}),o("Saturation",{[ei]:1,[Fi]:1}),o("Brightness",{[Fi]:2}),o("Lightness",{[ei]:2})}}typeof p5<"u"&&t5(p5,p5.prototype);const Yn="rgb",Di="rgbhdr",Fi="hsb",ei="hsl",Xu="hwb",qh="lab",Dl="lch",Xh="oklab",Nl="oklch",Yd="rgba";function gb(n,t){t.RGB=Yn,t.RGBHDR=Di,t.HSB=Fi,t.HSL=ei,t.HWB=Xu,t.LAB=qh,t.LCH=Dl,t.OKLAB=Xh,t.OKLCH=Nl,t.RGBA=Yd,n.Renderer.states.colorMode=Yn,n.Renderer.states.colorMaxes={[Yn]:[255,255,255,255],[Di]:[255,255,255,255],[Fi]:[360,100,100,1],[ei]:[360,100,100,1],[Xu]:[360,100,100,1],[qh]:[100,[-125,125],[-125,125],1],[Dl]:[100,150,360,1],[Xh]:[100,[-125,125],[-125,125],1],[Nl]:[100,150,360,1],clone:function(){const r={...this};for(const i in r)r[i]instanceof Array&&(r[i]=[...r[i]]);return r}},t.color=function(...r){if(r[0]instanceof xt)return r[0];const i=Array.isArray(r[0])?r[0]:r;return new xt(i,this._renderer.states.colorMode,this._renderer.states.colorMaxes[this._renderer.states.colorMode],{clamp:!0})},t.red=function(r){return this.color(r)._getRed()},t.green=function(r){return this.color(r)._getGreen()},t.blue=function(r){return this.color(r)._getBlue()},t.alpha=function(r){return this.color(r)._getAlpha()},t.hue=function(r){let i=ei,s=0;return this._renderer.states.colorMode===Fi||this._renderer.states.colorMode===ei?i=this._renderer.states.colorMode:(this._renderer.states.colorMode===Dl||this._renderer.states.colorMode===Nl)&&(i=this._renderer.states.colorMode,s=2),this.color(r)._getHue(this._renderer.states.colorMaxes[i][s])},t.saturation=function(r){const i=this._renderer.states.colorMode===Fi?Fi:ei;return this.color(r)._getSaturation(this._renderer.states.colorMaxes[i][1])},t.brightness=function(r){return this.color(r)._getBrightness(this._renderer.states.colorMaxes.hsb[2])},t.lightness=function(r){return this.color(r)._getLightness(this._renderer.states.colorMaxes.hsl[2])},t.lerpColor=function(r,i,s){return r.lerp(i,s,this._renderer.states.colorMode)},t.paletteLerp=function(r,i){const s=r[0];if(i<s[1])return this.color(s[0]);for(let o=1;o<r.length;o++){const a=r[o];if(i<a[1]){const l=r[o-1];return this.lerpColor(this.color(l[0]),this.color(a[0]),(i-l[1])/(a[1]-l[1]))}}return this.color(r[r.length-1][0])}}typeof p5<"u"&&gb(p5,p5.prototype);class _a{constructor(t){if(t)this.DOM=t;else{const r=document.implementation.createDocument(null,"doc");this.DOM=r.createElement("root")}}getParent(){return new _a(this.DOM.parentElement)}getName(){return this.DOM.tagName}setName(t){const r=this.DOM.innerHTML,i=this.DOM.attributes,o=document.implementation.createDocument(null,"default").createElement(t);o.innerHTML=r;for(let a=0;a<i.length;a++)o.setAttribute(i[a].nodeName,i[a].nodeValue);this.DOM=o}hasChildren(){return this.DOM.children.length>0}listChildren(){const t=[];for(let r=0;r<this.DOM.childNodes.length;r++)t.push(this.DOM.childNodes[r].nodeName);return t}getChildren(t){return vE(t?this.DOM.getElementsByTagName(t):this.DOM.children)}getChild(t){if(typeof t=="string"){for(const r of this.DOM.children)if(r.tagName===t)return new _a(r)}else return new _a(this.DOM.children[t])}addChild(t){t instanceof _a&&this.DOM.appendChild(t.DOM)}removeChild(t){let r=-1;if(typeof t=="string"){for(let i=0;i<this.DOM.children.length;i++)if(this.DOM.children[i].tagName===t){r=i;break}}else r=t;r!==-1&&this.DOM.removeChild(this.DOM.children[r])}getAttributeCount(){return this.DOM.attributes.length}listAttributes(){const t=[];for(const r of this.DOM.attributes)t.push(r.nodeName);return t}hasAttribute(t){const r={};for(const i of this.DOM.attributes)r[i.nodeName]=i.nodeValue;return!!r[t]}getNum(t,r){const i={};for(const s of this.DOM.attributes)i[s.nodeName]=s.nodeValue;return Number(i[t])||r||0}getString(t,r){const i={};for(const s of this.DOM.attributes)i[s.nodeName]=s.nodeValue;return i[t]?String(i[t]):r||null}setAttribute(t,r){this.DOM.setAttribute(t,r)}getContent(t){let r;return r=this.DOM.textContent,r=r.replace(/\s\s+/g,","),r||t||null}setContent(t){this.DOM.children.length||(this.DOM.textContent=t)}serialize(){return new XMLSerializer().serializeToString(this.DOM)}}function vE(n){const t=[];for(let r=0;r<n.length;r++)t.push(new _a(n[r]));return t}function n5(n,t){n.XML=_a}typeof p5<"u"&&n5(p5,p5.prototype);class wa{constructor(t,r){this.file=t,this._pInst=r;const i=t.type.split("/");this.type=i[0],this.subtype=i[1],this.name=t.name,this.size=t.size,this.data=void 0}static _createLoader(t,r){const i=new FileReader;return i.onload=function(s){const o=new wa(t);if(o.file.type==="application/json")o.data=JSON.parse(s.target.result);else if(o.file.type==="text/xml"){const l=new DOMParser().parseFromString(s.target.result,"text/xml");o.data=new _a(l.documentElement)}else o.data=s.target.result;r(o)},i}static _load(t,r){if(/^text\//.test(t.type)||t.type==="application/json")wa._createLoader(t,r).readAsText(t);else if(!/^(video|audio)\//.test(t.type))wa._createLoader(t,r).readAsDataURL(t);else{const i=new wa(t);i.data=URL.createObjectURL(t),r(i)}}}function r5(n,t){n.File=wa}typeof p5<"u"&&r5(p5,p5.prototype);let Vr=class Br{width;height;elt;constructor(t,r){this.elt=t,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}remove(){if(this.stop){this.stop();const r=this.elt.srcObject;r!==null&&r.getTracks().forEach(s=>{s.stop()})}let t=this._pInst;if(t&&!t._elements&&t._pInst&&(t=t._pInst),t&&t._elements){const r=t._elements.indexOf(this);r!==-1&&t._elements.splice(r,1)}for(let r in this._events)this.elt.removeEventListener(r,this._events[r]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)}parent(t){return typeof t>"u"?this.elt.parentNode:(typeof t=="string"?(t[0]==="#"&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof Br&&(t=t.elt),t.appendChild(this.elt),this)}child(t){return typeof t>"u"?this.elt.childNodes:(typeof t=="string"?(t[0]==="#"&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof Br&&(t=t.elt),t instanceof HTMLElement&&this.elt.appendChild(t),this)}html(...t){return t.length===0?this.elt.innerHTML:t[1]?(this.elt.insertAdjacentHTML("beforeend",t[0]),this):(this.elt.innerHTML=t[0],this)}id(t){return typeof t>"u"?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}class(t){return typeof t>"u"?this.elt.className:(this.elt.className=t,this)}addClass(t){return this.elt.className?this.hasClass(t)||(this.elt.className=this.elt.className+" "+t):this.elt.className=t,this}removeClass(t){return this.elt.classList.remove(t),this}hasClass(t){return this.elt.classList.contains(t)}toggleClass(t){return this.elt.classList.contains(t)?this.elt.classList.remove(t):this.elt.classList.add(t),this}center(t){const r=this.elt.style.display,i=this.elt.style.display==="none",s=this.parent().style.display==="none",o={x:this.elt.offsetLeft,y:this.elt.offsetTop};i&&this.show(),s&&this.parent().show(),this.elt.style.display="block",this.position(0,0);const a=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),l=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return t==="both"||t===void 0?this.position(a/2+this.parent().offsetLeft,l/2+this.parent().offsetTop):t==="horizontal"?this.position(a/2+this.parent().offsetLeft,o.y):t==="vertical"&&this.position(o.x,l/2+this.parent().offsetTop),this.style("display",r),i&&this.hide(),s&&this.parent().hide(),this}position(...t){if(t.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};{let r="absolute";return(t[2]==="static"||t[2]==="fixed"||t[2]==="relative"||t[2]==="sticky"||t[2]==="initial"||t[2]==="inherit")&&(r=t[2]),this.elt.style.position=r,this.elt.style.left=t[0]+"px",this.elt.style.top=t[1]+"px",this.x=t[0],this.y=t[1],this}}show(){return this.elt.style.display="block",this}hide(){return this.elt.style.display="none",this}size(t,r){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};{let i=t,s=r;const o=ED;if(i!==o||s!==o){if(i===o?i=r*this.width/this.height:s===o&&(s=t*this.height/this.width),this.elt instanceof HTMLCanvasElement){const a={},l=this.elt.getContext("2d");let u;for(u in l)a[u]=l[u];this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",s*this._pInst._pixelDensity),this.elt.style.width=i+"px",this.elt.style.height=s+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity);for(u in a)this.elt.getContext("2d")[u]=a[u]}else this.elt.style.width=i+"px",this.elt.style.height=s+"px",this.elt.width=i,this.elt.height=s;this.width=i,this.height=s,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst.width=i,this._pInst.height=s)}return this}}style(t,r){const i=this;if(r instanceof xt&&(r=r.toString()),typeof r>"u"){if(t.indexOf(":")===-1)return window.getComputedStyle(i.elt).getPropertyValue(t);{const s=t.split(";");for(let o=0;o<s.length;o++){const a=s[o].split(":");a[0]&&a[1]&&(this.elt.style[a[0].trim()]=a[1].trim())}}}else if(this.elt.style[t]=r,t==="width"||t==="height"||t==="left"||t==="top"){let a=window.getComputedStyle(i.elt).getPropertyValue(t).replace(/[^\d.]/g,"");this[t]=Math.round(parseFloat(a,10))}return this}_translate(...t){this.elt.style.position="absolute";let r="";return this.elt.style.transform&&(r=this.elt.style.transform.replace(/translate3d\(.*\)/g,""),r=r.replace(/translate[X-Z]?\(.*\)/g,"")),t.length===2?this.elt.style.transform="translate("+t[0]+"px, "+t[1]+"px)":t.length>2&&(this.elt.style.transform="translate3d("+t[0]+"px,"+t[1]+"px,"+t[2]+"px)",t.length===3?this.elt.parentElement.style.perspective="1000px":this.elt.parentElement.style.perspective=t[3]+"px"),this.elt.style.transform+=r,this}_rotate(...t){let r="";return this.elt.style.transform&&(r=this.elt.style.transform.replace(/rotate3d\(.*\)/g,""),r=r.replace(/rotate[X-Z]?\(.*\)/g,"")),t.length===1?this.elt.style.transform="rotate("+t[0]+"deg)":t.length===2?this.elt.style.transform="rotate("+t[0]+"deg, "+t[1]+"deg)":t.length===3&&(this.elt.style.transform="rotateX("+t[0]+"deg)",this.elt.style.transform+="rotateY("+t[1]+"deg)",this.elt.style.transform+="rotateZ("+t[2]+"deg)"),this.elt.style.transform+=r,this}attribute(t,r){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio")){if(typeof r>"u")return this.elt.firstChild.getAttribute(t);for(let i=0;i<this.elt.childNodes.length;i++)this.elt.childNodes[i].setAttribute(t,r)}else return typeof r>"u"?this.elt.getAttribute(t):(this.elt.setAttribute(t,r),this)}removeAttribute(t){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(let r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].removeAttribute(t);return this.elt.removeAttribute(t),this}value(...t){return t.length>0?(this.elt.value=t[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value}mousePressed(t){const r=function(i){return this._pInst.mouseIsPressed=!0,this._pInst._activePointers.set(i.pointerId,i),this._pInst._setMouseButton(i),this._pInst._updatePointerCoords(i),t.call(this,i)};return Br._adjustListener("pointerdown",r,this),this}doubleClicked(t){return Br._adjustListener("dblclick",t,this),this}mouseWheel(t){return Br._adjustListener("wheel",t,this),this}mouseReleased(t){return Br._adjustListener("pointerup",t,this),this}mouseClicked(t){return Br._adjustListener("click",t,this),this}mouseMoved(t){return Br._adjustListener("pointermove",t,this),this}mouseOver(t){return Br._adjustListener("pointerover",t,this),this}mouseOut(t){return Br._adjustListener("pointerout",t,this),this}dragOver(t){return Br._adjustListener("dragover",t,this),this}dragLeave(t){return Br._adjustListener("dragleave",t,this),this}changed(t){return Br._adjustListener("change",t,this),this}input(t){return Br._adjustListener("input",t,this),this}drop(t,r){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;const i=function(s){s.preventDefault()};this.elt.addEventListener("dragover",i),this.elt.addEventListener("dragleave",i)}Br._attachListener("drop",function(i){i.preventDefault(),typeof r=="function"&&r.call(this,i);const s=i.dataTransfer.files;for(const o of s)wa._load(o,t)},this)}else console.log("The File APIs are not fully supported in this browser.");return this}draggable(t){let r="ontouchstart"in window,i=0,s=0,o=0,a=0,l,u=r?"touchstart":"mousedown",h=r?"touchend":"mouseup",c=r?"touchmove":"mousemove";t===void 0?(t=this.elt,l=t):t!==this.elt&&t.elt!==this.elt&&(t=t.elt,l=this.elt),l.addEventListener(u,f,!1),l.style.cursor="move";function f(g){if(g=g||window.event,r){const m=g.changedTouches;o=parseInt(m[0].clientX),a=parseInt(m[0].clientY)}else o=parseInt(g.clientX),a=parseInt(g.clientY);return document.addEventListener(h,d,!1),document.addEventListener(c,p,!1),!1}function p(g){if(g=g||window.event,r){const m=g.changedTouches;i=o-parseInt(m[0].clientX),s=a-parseInt(m[0].clientY),o=parseInt(m[0].clientX),a=parseInt(m[0].clientY)}else i=o-parseInt(g.clientX),s=a-parseInt(g.clientY),o=parseInt(g.clientX),a=parseInt(g.clientY);t.style.left=t.offsetLeft-i+"px",t.style.top=t.offsetTop-s+"px"}function d(){document.removeEventListener(h,d,!1),document.removeEventListener(c,p,!1)}return this}static _adjustListener(t,r,i){return r===!1?Br._detachListener(t,i):Br._attachListener(t,r,i),this}static _attachListener(t,r,i){i._events[t]&&Br._detachListener(t,i);const s=r.bind(i);i.elt.addEventListener(t,s,{capture:!1,signal:i._pInst._removeSignal}),i._events[t]=s}static _detachListener(t,r){const i=r._events[t];r.elt.removeEventListener(t,i,!1),r._events[t]=null}};function i5(n,t){n.Element=Vr}typeof p5<"u"&&i5(p5,p5.prototype);const An={_toPixels(n){if(n instanceof ImageData)return n.data;if(n.getContext("2d"))return n.getContext("2d").getImageData(0,0,n.width,n.height).data;if(n.getContext("webgl")){const t=n.getContext("webgl"),r=t.drawingBufferWidth*t.drawingBufferHeight*4,i=new Uint8Array(r);return t.readPixels(0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,i),i}},_getARGB(n,t){const r=t*4;return n[r+3]<<24&4278190080|n[r]<<16&16711680|n[r+1]<<8&65280|n[r+2]&255},_setPixels(n,t){let r=0;for(let i=0,s=n.length;i<s;i++)r=i*4,n[r+0]=(t[i]&16711680)>>>16,n[r+1]=(t[i]&65280)>>>8,n[r+2]=t[i]&255,n[r+3]=(t[i]&4278190080)>>>24},_toImageData(n){return n instanceof ImageData?n:n.getContext("2d").getImageData(0,0,n.width,n.height)},_createImageData(n,t){return An._tmpCanvas=document.createElement("canvas"),An._tmpCtx=An._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(n,t)},apply(n,t,r){const i=n.getContext("2d"),s=i.getImageData(0,0,n.width,n.height),o=t(s,r);o instanceof ImageData?i.putImageData(o,0,0,0,0,n.width,n.height):i.putImageData(s,0,0,0,0,n.width,n.height)},threshold(n,t=.5){const r=An._toPixels(n),i=Math.floor(t*255);for(let s=0;s<r.length;s+=4){const o=r[s],a=r[s+1],l=r[s+2],u=.2126*o+.7152*a+.0722*l;let h;u>=i?h=255:h=0,r[s]=r[s+1]=r[s+2]=h}},gray(n){const t=An._toPixels(n);for(let r=0;r<t.length;r+=4){const i=t[r],s=t[r+1],o=t[r+2],a=.2126*i+.7152*s+.0722*o;t[r]=t[r+1]=t[r+2]=a}},opaque(n){const t=An._toPixels(n);for(let r=0;r<t.length;r+=4)t[r+3]=255;return t},invert(n){const t=An._toPixels(n);for(let r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},posterize(n,t=4){const r=An._toPixels(n);if(t<2||t>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");const i=t-1;for(let s=0;s<r.length;s+=4){const o=r[s],a=r[s+1],l=r[s+2];r[s]=(o*t>>8)*255/i,r[s+1]=(a*t>>8)*255/i,r[s+2]=(l*t>>8)*255/i}},dilate(n){const t=An._toPixels(n);let r=0;const i=t.length?t.length/4:0,s=new Int32Array(i);let o,a,l,u,h,c,f,p,d,g,m,v,w,y,_,x,C;for(;r<i;)for(o=r,a=r+n.width;r<a;)l=u=An._getARGB(t,r),f=r-1,c=r+1,p=r-n.width,d=r+n.width,f<o&&(f=r),c>=a&&(c=r),p<0&&(p=0),d>=i&&(d=r),v=An._getARGB(t,p),m=An._getARGB(t,f),w=An._getARGB(t,d),g=An._getARGB(t,c),h=77*(l>>16&255)+151*(l>>8&255)+28*(l&255),_=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),y=77*(g>>16&255)+151*(g>>8&255)+28*(g&255),x=77*(v>>16&255)+151*(v>>8&255)+28*(v&255),C=77*(w>>16&255)+151*(w>>8&255)+28*(w&255),_>h&&(u=m,h=_),y>h&&(u=g,h=y),x>h&&(u=v,h=x),C>h&&(u=w,h=C),s[r++]=u;An._setPixels(t,s)},erode(n){const t=An._toPixels(n);let r=0;const i=t.length?t.length/4:0,s=new Int32Array(i);let o,a,l,u,h,c,f,p,d,g,m,v,w,y,_,x,C;for(;r<i;)for(o=r,a=r+n.width;r<a;)l=u=An._getARGB(t,r),f=r-1,c=r+1,p=r-n.width,d=r+n.width,f<o&&(f=r),c>=a&&(c=r),p<0&&(p=0),d>=i&&(d=r),v=An._getARGB(t,p),m=An._getARGB(t,f),w=An._getARGB(t,d),g=An._getARGB(t,c),h=77*(l>>16&255)+151*(l>>8&255)+28*(l&255),_=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),y=77*(g>>16&255)+151*(g>>8&255)+28*(g&255),x=77*(v>>16&255)+151*(v>>8&255)+28*(v&255),C=77*(w>>16&255)+151*(w>>8&255)+28*(w&255),_<h&&(u=m,h=_),y<h&&(u=g,h=y),x<h&&(u=v,h=x),C<h&&(u=w,h=C),s[r++]=u;An._setPixels(t,s)},blur(n,t){yV(n,t)}};let gh,Lu,Ru,dl;function vV(n){let t=n*3.5|0;if(t=t<1?1:t<248?t:248,gh!==t){gh=t,Lu=1+gh<<1,Ru=new Int32Array(Lu),dl=new Array(Lu);for(let a=0;a<Lu;a++)dl[a]=new Int32Array(256);let r,i,s,o;for(let a=1,l=t-1;a<t;a++){Ru[t+a]=Ru[l]=i=l*l,s=dl[t+a],o=dl[l--];for(let u=0;u<256;u++)s[u]=o[u]=i*u}r=Ru[t]=t*t,s=dl[t];for(let a=0;a<256;a++)s[a]=r*a}}function yV(n,t){const r=An._toPixels(n),i=n.width,s=n.height,o=i*s,a=new Int32Array(o);for(let N=0;N<o;N++)a[N]=An._getARGB(r,N);let l,u,h,c,f,p,d,g,m,v;const w=new Int32Array(o),y=new Int32Array(o),_=new Int32Array(o),x=new Int32Array(o);let C=0;vV(t);let E,S,D,A;for(S=0;S<s;S++){for(E=0;E<i;E++){if(c=h=u=f=l=0,p=E-gh,p<0)v=-p,p=0;else{if(p>=i)break;v=0}for(D=v;D<Lu&&!(p>=i);D++){const N=a[p+C];A=dl[D],f+=A[(N&-16777216)>>>24],u+=A[(N&16711680)>>16],h+=A[(N&65280)>>8],c+=A[N&255],l+=Ru[D],p++}d=C+E,w[d]=f/l,y[d]=u/l,_[d]=h/l,x[d]=c/l}C+=i}for(C=0,g=-gh,m=g*i,S=0;S<s;S++){for(E=0;E<i;E++){if(c=h=u=f=l=0,g<0)v=d=-g,p=E;else{if(g>=s)break;v=0,d=g,p=E+m}for(D=v;D<Lu&&!(d>=s);D++)A=dl[D],f+=A[w[p]],u+=A[y[p]],h+=A[_[p]],c+=A[x[p]],l+=Ru[D],d++,p+=i;a[E+C]=f/l<<24|u/l<<16|h/l<<8|c/l}C+=i,m+=i,g++}An._setPixels(r,a)}const yE=function(n,t){return n!==0&&(this.x=this.x%n),t!==0&&(this.y=this.y%t),this},U0=function(n,t,r){return n!==0&&(this.x=this.x%n),t!==0&&(this.y=this.y%t),r!==0&&(this.z=this.z%r),this};class Me{constructor(...t){let r=t;typeof t[0]=="function"&&(this.isPInst=!0,this._fromRadians=t[0],this._toRadians=t[1],r=t.slice(2));let i=r.length;i===0?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=i,this._values=r)}get values(){return this._values}set values(t){let r=t.length;r===0?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=r,this._values=t.slice())}get x(){return this._values[0]||0}getValue(t){if(t<this._values.length)return this._values[t];p5._friendlyError("The index parameter is trying to set a value outside the bounds of the vector","p5.Vector.setValue")}setValue(t,r){t<this._values.length?this._values[t]=r:p5._friendlyError("The index parameter is trying to set a value outside the bounds of the vector","p5.Vector.setValue")}get y(){return this._values[1]||0}get z(){return this._values[2]||0}get w(){return this._values[3]||0}set x(t){this._values.length>1&&(this._values[0]=t)}set y(t){this._values.length>1&&(this._values[1]=t)}set z(t){this._values.length>2&&(this._values[2]=t)}set w(t){this._values.length>3&&(this._values[3]=t)}toString(){return`vector[${this._values.join(", ")}]`}set(...t){return t[0]instanceof Me?this._values=t[0].values.slice():Array.isArray(t[0])?this._values=t[0].map(r=>r||0):this._values=t.map(r=>r||0),this.dimensions=this._values.length,this}copy(){return this.isPInst?new Me(this._fromRadians,this._toRadians,...this._values):new Me(...this._values)}add(...t){return t[0]instanceof Me?t=t[0].values:Array.isArray(t[0])&&(t=t[0]),t.forEach((r,i)=>{this._values[i]=(this._values[i]||0)+(r||0)}),this}rem(t,r,i){if(t instanceof Me){if([t.x,t.y,t.z].every(Number.isFinite)){const s=parseFloat(t.x),o=parseFloat(t.y),a=parseFloat(t.z);return U0.call(this,s,o,a)}}else if(Array.isArray(t)){if(t.every(s=>Number.isFinite(s))){if(t.length===2)return yE.call(this,t[0],t[1]);if(t.length===3)return U0.call(this,t[0],t[1],t[2])}}else if(arguments.length===1){if(Number.isFinite(arguments[0])&&arguments[0]!==0)return this.x=this.x%arguments[0],this.y=this.y%arguments[0],this.z=this.z%arguments[0],this}else if(arguments.length===2){const s=[...arguments];if(s.every(o=>Number.isFinite(o))&&s.length===2)return yE.call(this,s[0],s[1])}else if(arguments.length===3){const s=[...arguments];if(s.every(o=>Number.isFinite(o))&&s.length===3)return U0.call(this,s[0],s[1],s[2])}}sub(...t){return t[0]instanceof Me?t[0].values.forEach((r,i)=>{this._values[i]-=r||0}):Array.isArray(t[0])?t[0].forEach((r,i)=>{this._values[i]-=r||0}):t.forEach((r,i)=>{this._values[i]-=r||0}),this}mult(...t){if(t.length===1&&t[0]instanceof Me){const r=t[0],i=Math.min(this._values.length,r.values.length);for(let s=0;s<i;s++)if(Number.isFinite(r.values[s])&&typeof r.values[s]=="number")this._values[s]*=r.values[s];else return console.warn("p5.Vector.prototype.mult:","v contains components that are either undefined or not finite numbers"),this}else if(t.length===1&&Array.isArray(t[0])){const r=t[0],i=Math.min(this._values.length,r.length);for(let s=0;s<i;s++)if(Number.isFinite(r[s])&&typeof r[s]=="number")this._values[s]*=r[s];else return console.warn("p5.Vector.prototype.mult:","arr contains elements that are either undefined or not finite numbers"),this}else if(t.length===1&&typeof t[0]=="number"&&Number.isFinite(t[0]))for(let r=0;r<this._values.length;r++)this._values[r]*=t[0];return this}div(...t){if(t.length===0)return this;if(t.length===1&&t[0]instanceof Me){const r=t[0];if(r._values.every(i=>Number.isFinite(i)&&typeof i=="number")){if(r._values.some(i=>i===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((i,s)=>i/r._values[s])}else console.warn("p5.Vector.prototype.div:","vector contains components that are either undefined or not finite numbers");return this}if(t.length===1&&Array.isArray(t[0])){const r=t[0];if(r.every(i=>Number.isFinite(i)&&typeof i=="number")){if(r.some(i=>i===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((i,s)=>i/r[s])}else console.warn("p5.Vector.prototype.div:","array contains components that are either undefined or not finite numbers");return this}if(t.every(r=>Number.isFinite(r)&&typeof r=="number")){if(t.some(r=>r===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((r,i)=>r/t[0])}else console.warn("p5.Vector.prototype.div:","arguments contain components that are either undefined or not finite numbers");return this}mag(){return Math.sqrt(this.magSq())}magSq(){return this._values.reduce((t,r)=>t+r*r,0)}dot(...t){return t[0]instanceof Me?this.dot(...t[0]._values):this._values.reduce((r,i,s)=>r+i*(t[s]||0),0)}cross(t){const r=this.y*t.z-this.z*t.y,i=this.z*t.x-this.x*t.z,s=this.x*t.y-this.y*t.x;return this.isPInst?new Me(this._fromRadians,this._toRadians,r,i,s):new Me(r,i,s)}dist(t){return t.copy().sub(this).mag()}normalize(){const t=this.mag();return t!==0&&this.mult(1/t),this}limit(t){const r=this.magSq();return r>t*t&&this.div(Math.sqrt(r)).mult(t),this}setMag(t){return this.normalize().mult(t)}heading(){const t=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(t):t}setHeading(t){this.isPInst&&(t=this._toRadians(t));let r=this.mag();return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this}rotate(t){let r=this.heading()+t;this.isPInst&&(r=this._toRadians(r));const i=this.mag();return this.x=Math.cos(r)*i,this.y=Math.sin(r)*i,this}angleBetween(t){if(this.magSq()*t.magSq()===0)return NaN;const i=this.cross(t);let s=Math.atan2(i.mag(),this.dot(t))*Math.sign(i.z||1);return this.isPInst&&(s=this._fromRadians(s)),s}lerp(t,r,i,s){return t instanceof Me?this.lerp(t.x,t.y,t.z,r):(this.x+=(t-this.x)*s||0,this.y+=(r-this.y)*s||0,this.z+=(i-this.z)*s||0,this)}slerp(t,r){if(r===0)return this;if(r===1)return this.set(t);const i=this.mag(),s=t.mag();if(i*s===0)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;const a=this.cross(t),l=a.mag(),u=Math.atan2(l,this.dot(t));if(l>0)a.x/=l,a.y/=l,a.z/=l;else{if(u<Math.PI*.5)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;this.z===0&&t.z===0?a.set(0,0,1):this.x!==0?a.set(this.y,-this.x,0).normalize():a.set(1,0,0)}const h=a.cross(this),c=1-r+r*s/i,f=c*Math.cos(r*u),p=c*Math.sin(r*u);return this.x=this.x*f+h.x*p,this.y=this.y*f+h.y*p,this.z=this.z*f+h.z*p,this}reflect(t){const r=Me.normalize(t);return this.sub(r.mult(2*this.dot(r)))}array(){return[this.x||0,this.y||0,this.z||0]}equals(...t){let r;t[0]instanceof Me?r=t[0]._values:Array.isArray(t[0])?r=t[0]:r=t;for(let i=0;i<this._values.length;i++)if(this._values[i]!==(r[i]||0))return!1;return!0}clampToZero(){for(let t=0;t<this._values.length;t++)this._values[t]=this._clampToZero(this._values[t]);return this}_clampToZero(t){return Math.abs((t||0)-0)<=Number.EPSILON?0:t}static fromAngle(t,r){return typeof r>"u"&&(r=1),new Me(r*Math.cos(t),r*Math.sin(t))}static fromAngles(t,r,i){typeof i>"u"&&(i=1);const s=Math.cos(r),o=Math.sin(r),a=Math.cos(t),l=Math.sin(t);return new Me(i*l*o,-i*a,i*l*s)}static random2D(){return this.fromAngle(Math.random()*Ti)}static random3D(){const t=Math.random()*Ti,r=Math.random()*2-1,i=Math.sqrt(1-r*r),s=i*Math.cos(t),o=i*Math.sin(t);return new Me(s,o,r)}static copy(t){return t.copy(t)}static add(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),i.add(r),i}static rem(t,r){if(t instanceof Me&&r instanceof Me){let i=t.copy();return i.rem(r),i}}static sub(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),i.sub(r),i}static mult(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),i.mult(r),i}static rotate(t,r,i){return arguments.length===2?i=t.copy():(i instanceof Me||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),i.set(t)),i.rotate(r),i}static div(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),i.div(r),i}static dot(t,r){return t.dot(r)}static cross(t,r){return t.cross(r)}static dist(t,r){return t.dist(r)}static lerp(t,r,i,s){return s?s.set(t):(s=t.copy(),arguments.length===4&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),s.lerp(r,i),s}static slerp(t,r,i,s){return s?s.set(t):(s=t.copy(),arguments.length===4&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),s.slerp(r,i),s}static mag(t){return t.mag()}static magSq(t){return t.magSq()}static normalize(t,r){return arguments.length<2?r=t.copy():(r instanceof Me||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),r.set(t)),r.normalize()}static limit(t,r,i){return arguments.length<3?i=t.copy():(i instanceof Me||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),i.set(t)),i.limit(r)}static setMag(t,r,i){return arguments.length<3?i=t.copy():(i instanceof Me||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),i.set(t)),i.setMag(r)}static heading(t){return t.heading()}static angleBetween(t,r){return t.angleBetween(r)}static reflect(t,r,i){return arguments.length<3?i=t.copy():(i instanceof Me||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),i.set(t)),i.reflect(r)}static array(t){return t.array()}static equals(t,r){let i;return t instanceof Me?i=t:t instanceof Array?i=new Me().set(t):p5._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),i.equals(r)}}function s5(n,t){n.Vector=Me}typeof p5<"u"&&s5(p5,p5.prototype);function o5(n){let t=0;for(let r=1;r<n.length;r++)t+=n[r-1].position.dist(n[r].position);return t}class a5{constructor(t){for(const[r,i]of Object.entries(t))this[r]=i}}class ks{vertices;_shape=null;_primitivesIndex=null;_contoursIndex=null;isClosing=!1;constructor(...t){if(this.constructor===ks)throw new Error("ShapePrimitive is an abstract class: it cannot be instantiated.");if(t.length>0)this.vertices=t;else throw new Error("At least one vertex must be passed to the constructor.")}get vertexCount(){return this.vertices.length}get vertexCapacity(){throw new Error("Getter vertexCapacity must be implemented.")}get _firstInterpolatedVertex(){return this.startVertex()}get canOverrideAnchor(){return!1}accept(t){throw new Error("Method accept() must be implemented.")}addToShape(t){let r=t.at(-1);if(r.primitives.length===0)r.primitives.push(this);else{let s=t.at(-1,-1),o=s instanceof this.constructor,a=s.vertexCapacity-s.vertexCount,l,u;o&&a>0?(l=this.vertices.splice(0,a),u=this.vertices,s.vertices.push(...l),u.length>0&&r.primitives.push(this)):r.primitives.push(this)}if(this.vertices.length>0){let s=t.at(-1);this._primitivesIndex=s.primitives.length-1,this._contoursIndex=t.contours.length-1,this._shape=t}return t.at(-1,-1)}get _nextPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex+1):null}get _belongsToShape(){return this._shape!==null}handlesClose(){return!1}close(t){throw new Error("Unimplemented!")}}class l5{#e;primitives;constructor(t=Xs){this.#e=t,this.primitives=[]}get kind(){const t=this.primitives.length===0,r=this.#e===Xs;return t&&r?Gu:this.#e}accept(t){for(const r of this.primitives)r.accept(t)}}class Kd extends ks{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitAnchor(this)}getEndVertex(){return this.vertices[0]}}class Hl extends ks{constructor(...t){if(super(...t),this.constructor===Hl)throw new Error("Segment is an abstract class: it cannot be instantiated.")}get _previousPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex-1):null}getStartVertex(){return this._previousPrimitive.getEndVertex()}getEndVertex(){return this.vertices.at(-1)}}class u5 extends Hl{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitLineSegment(this)}}class c5 extends Hl{#e;#t;constructor(t,...r){super(...r);let i=Array.isArray(t)?t[0]:t;this.#e=i,this.#t=i}get order(){return this.#e}get vertexCapacity(){return this.#t}#n;hullLength(){return this.#n===void 0&&(this.#n=o5([this.getStartVertex(),...this.vertices])),this.#n}accept(t){t.visitBezierSegment(this)}}class h5 extends Hl{#e=1/0;_splineProperties={ends:Hu,tightness:0};get vertexCapacity(){return this.#e}accept(t){t.visitSplineSegment(this)}get _comesAfterSegment(){return this._previousPrimitive instanceof Hl}get canOverrideAnchor(){return this._splineProperties.ends===Pu}get _firstInterpolatedVertex(){return this._splineProperties.ends===Pu?this._comesAfterSegment?this.vertices[1]:this.vertices[0]:this.getStartVertex()}get _chainedToSegment(){if(this._belongsToShape&&this._comesAfterSegment){let t=this._firstInterpolatedVertex.position;return this.getStartVertex().position.equals(t)}else return!1}addToShape(t){const r=super.addToShape(t);if(this._splineProperties.ends=t._splineProperties.ends,this._splineProperties.tightness=t._splineProperties.tightness,this._splineProperties.ends!==Pu)return r;let i=!this._belongsToShape,s=t.at(-1,-1),o=(a,l)=>`Spline does not start where previous path segment ends:
      second spline vertex at (${a})
      expected to be at (${l}).`;if(i&&s.vertices.length===2&&s._comesAfterSegment&&!s._chainedToSegment){let a=s._firstInterpolatedVertex.position,l=s.getStartVertex().position;console.warn(o(a.array(),l.array()))}return r}getEndVertex(){return this._splineProperties.ends===Hu?super.getEndVertex():this._splineProperties.ends===Pu?this.vertices.at(-2):this.getStartVertex()}getControlPoints(){let t=[];this._comesAfterSegment&&t.push(this.getStartVertex()),t.push(this.getStartVertex());for(const i of this.vertices)t.push(i);const r=this.getStartVertex();return this._splineProperties.ends===Hu?(t.unshift(r),t.push(this.vertices.at(-1))):this._splineProperties.ends===Ty&&(t.unshift(this.vertices.at(-1)),t.push(r,this.vertices.at(0))),t}handlesClose(){return this._belongsToShape?this._shape.at(this._contoursIndex).primitives.length===2&&this._primitivesIndex===1:!1}close(){this._splineProperties.ends=Ty}}class f5 extends ks{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitPoint(this)}}class d5 extends ks{#e=2;get vertexCapacity(){return this.#e}accept(t){t.visitLine(this)}}class m5 extends ks{#e=3;get vertexCapacity(){return this.#e}accept(t){t.visitTriangle(this)}}class g5 extends ks{#e=4;get vertexCapacity(){return this.#e}accept(t){t.visitQuad(this)}}class v5 extends ks{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitTriangleFan(this)}}class y5 extends ks{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitTriangleStrip(this)}}class b5 extends ks{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitQuadStrip(this)}}class bV{creators;constructor(){let t=new Map;t.set(`vertex-${Gu}`,(...r)=>new Kd(...r)),t.set(`vertex-${Xs}`,(...r)=>new u5(...r)),t.set(`vertex-${Mp}`,(...r)=>new f5(...r)),t.set(`vertex-${ic}`,(...r)=>new d5(...r)),t.set(`vertex-${Il}`,(...r)=>new m5(...r)),t.set(`vertex-${ph}`,(...r)=>new g5(...r)),t.set(`vertex-${Hm}`,(...r)=>new v5(...r)),t.set(`vertex-${Vh}`,(...r)=>new y5(...r)),t.set(`vertex-${$h}`,(...r)=>new b5(...r)),t.set(`bezierVertex-${Gu}`,(r,...i)=>new Kd(...i)),t.set(`bezierVertex-${Xs}`,(r,...i)=>new c5(r,...i)),t.set(`splineVertex-${Gu}`,(...r)=>new Kd(...r)),t.set(`splineVertex-${Xs}`,(...r)=>new h5(...r)),this.creators=t}get(t,r){const i=`${t}-${r}`;return this.creators.get(i)}set(t,r,i){const s=`${t}-${r}`;this.creators.set(s,i)}clear(){this.creators.clear()}}class x5{#e;#t;#n;#i=3;kind=null;contours=[];_splineProperties={tightness:0,ends:Hu};userVertexProperties=null;constructor(t,r=new bV){this.#t=t,this.#e=t,this.#n=r;for(const i in this.#e)i!=="position"&&i!=="textureCoordinates"&&(this[i]=function(s){this.#e[i]=s})}serializeToArray(t){if(t==null)return[];if(t instanceof Number)return[t];if(t instanceof Array)return t;if(t.array instanceof Function)return t.array();throw new Error(`Can't convert ${t} to array!`)}vertexToArray(t){const r=[];for(const i in this.#e){if(this.userVertexProperties&&i in this.userVertexProperties)continue;const s=t[i];r.push(...this.serializeToArray(s))}for(const i in this.userVertexProperties)i in t?r.push(...this.serializeToArray(t[i])):r.push(...new Array(this.userVertexProperties[i]).fill(0));return r}hydrateValue(t,r){if(r===null)return null;if(r instanceof Number)return t.shift();if(r instanceof Array){const i=[];for(let s=0;s<r.length;s++)i.push(t.shift());return i}else{if(r instanceof Me)return new Me(t.shift(),t.shift(),t.shift());if(r instanceof xt){const i=[t.shift(),t.shift(),t.shift(),t.shift()];return new xt(i)}}}arrayToVertex(t){const r={},i=[...t];for(const s in this.#e){if(this.userVertexProperties&&s in this.userVertexProperties)continue;const o=this.#e[s];r[s]=this.hydrateValue(i,o)}for(const s in this.userVertexProperties){const o=this.#e[s];r[s]=this.hydrateValue(i,o)}return r}arrayScale(t,r){return t.map(i=>i*r)}arraySum(t,...r){return t.map((i,s)=>{let o=i;for(let a=0;a<r.length;a++)o+=r[a][s];return o})}arrayMinus(t,r){return t.map((i,s)=>i-r[s])}evaluateCubicBezier([t,r,i,s],o){return this.arraySum(this.arrayScale(t,Math.pow(1-o,3)),this.arrayScale(r,3*Math.pow(1-o,2)*o),this.arrayScale(i,3*(1-o)*Math.pow(o,2)),this.arrayScale(s,Math.pow(o,3)))}evaluateQuadraticBezier([t,r,i],s){return this.arraySum(this.arrayScale(t,Math.pow(1-s,2)),this.arrayScale(r,2*(1-s)*s),this.arrayScale(i,s*s))}catmullRomToBezier(t,r){let i=1-r,s=[];for(let o=0;o+3<t.length;o++){const[a,l,u,h]=t.slice(o,o+4),c=this.arraySum(l,this.arrayScale(this.arrayMinus(u,a),i/6)),f=this.arraySum(u,this.arrayScale(this.arrayMinus(l,h),i/6)),p=u;s.push([c,f,p])}return s}at(t,r,i){let s,o;switch(s=this.contours.at(t),arguments.length){case 1:return s;case 2:return s.primitives.at(r);case 3:return o=s.primitives.at(r),o.vertices.at(i)}}reset(){this.#e={...this.#t},this.kind=null,this.contours=[],this.userVertexProperties=null}vertexProperty(t,r){this.userVertexProperties=this.userVertexProperties||{};const i=this.vertexPropertyKey(t),s=Array.isArray(r)?r:[r];this.userVertexProperties[i]||(this.userVertexProperties[i]=s.length),this.#e[i]=s}vertexPropertyName(t){return t.replace(/Src$/,"")}vertexPropertyKey(t){return t+"Src"}bezierOrder(...t){this.#i=t}splineProperty(t,r){this._splineProperties[t]=r}splineProperties(t){if(t)for(const r in t)this.splineProperty(r,t[r]);else return this._splineProperties}#s(t,r){return this.#e.position=t,r!==void 0&&(this.#e.textureCoordinates=r),new a5(this.#e)}#o(t,r,...i){let s=this.#n.get(t,r);return t==="bezierVertex"?s(this.#i,...i):s(...i)}#r(t,r,i){let s=t,o=this.at(-1).kind,a=this.#s(r,i);return this.#o(s,o,a).addToShape(this)}vertex(t,r,{isClosing:i=!1}={}){const s=this.#r("vertex",t,r);s.isClosing=i}bezierVertex(t,r){this.#r("bezierVertex",t,r)}splineVertex(t,r){this.#r("splineVertex",t,r)}arcVertex(t,r){this.#r("arcVertex",t,r)}beginContour(t=Xs){this.at(-1)?.kind===Gu&&this.contours.pop(),this.contours.push(new l5(t))}endContour(t=Vl,r=this.contours.length-1){const i=this.at(r);if(t===jh){const s=i.kind===Xs,o=this.at(r,0,0),a=Object.hasOwn(o,"position"),l=this.at(r,-1);if(s&&a)if(l.handlesClose())l.close(o);else{const u=this.contours.splice(r+1,this.contours.length-r-1),h=this.#e;this.#e={...h};for(const c in o)["position","textureCoordinates"].includes(c)||(this.#e[c]=o[c]);this.vertex(o.position,o.textureCoordinates,{isClosing:!0}),this.#e=h,this.contours.push(...u)}}}beginShape(t=Xs){this.kind=t,this.beginContour(t)}endShape(t=Vl){t===jh&&this.endContour(t,0)}accept(t){for(const r of this.contours)r.accept(t)}}class wc{constructor(){if(this.constructor===wc)throw new Error("PrimitiveVisitor is an abstract class: it cannot be instantiated.")}visitAnchor(t){throw new Error("Method visitAnchor() has not been implemented.")}visitLineSegment(t){throw new Error("Method visitLineSegment() has not been implemented.")}visitBezierSegment(t){throw new Error("Method visitBezierSegment() has not been implemented.")}visitSplineSegment(t){throw new Error("Method visitSplineSegment() has not been implemented.")}visitArcSegment(t){throw new Error("Method visitArcSegment() has not been implemented.")}visitPoint(t){throw new Error("Method visitPoint() has not been implemented.")}visitLine(t){throw new Error("Method visitLine() has not been implemented.")}visitTriangle(t){throw new Error("Method visitTriangle() has not been implemented.")}visitQuad(t){throw new Error("Method visitQuad() has not been implemented.")}visitTriangleFan(t){throw new Error("Method visitTriangleFan() has not been implemented.")}visitTriangleStrip(t){throw new Error("Method visitTriangleStrip() has not been implemented.")}visitQuadStrip(t){throw new Error("Method visitQuadStrip() has not been implemented.")}}class _5 extends wc{path=new Path2D;strokeWeight;constructor({strokeWeight:t}){super(),this.strokeWeight=t}visitAnchor(t){let r=t.getEndVertex();this.path.moveTo(r.position.x,r.position.y)}visitLineSegment(t){if(t.isClosing)this.path.closePath();else{let r=t.getEndVertex();this.path.lineTo(r.position.x,r.position.y)}}visitBezierSegment(t){let[r,i,s]=t.vertices;switch(t.order){case 2:this.path.quadraticCurveTo(r.position.x,r.position.y,i.position.x,i.position.y);break;case 3:this.path.bezierCurveTo(r.position.x,r.position.y,i.position.x,i.position.y,s.position.x,s.position.y);break}}visitSplineSegment(t){const r=t._shape;if(t._splineProperties.ends===Pu&&!t._comesAfterSegment){let o=t._firstInterpolatedVertex;this.path.moveTo(o.position.x,o.position.y)}const i=t.getControlPoints().map(o=>r.vertexToArray(o));let s=r.catmullRomToBezier(i,t._splineProperties.tightness).map(o=>o.map(a=>r.arrayToVertex(a)));for(const o of s){const a=o.flatMap(l=>[l.position.x,l.position.y]);this.path.bezierCurveTo(...a)}}visitPoint(t){const{x:r,y:i}=t.vertices[0].position;this.path.moveTo(r,i),this.path.lineTo(r+1e-5,i)}visitLine(t){const{x:r,y:i}=t.vertices[0].position,{x:s,y:o}=t.vertices[1].position;this.path.moveTo(r,i),this.path.lineTo(s,o)}visitTriangle(t){const[r,i,s]=t.vertices;this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.closePath()}visitQuad(t){const[r,i,s,o]=t.vertices;this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}visitTriangleFan(t){const[r,...i]=t.vertices;for(let s=0;s<i.length-1;s++){const o=i[s],a=i[s+1];this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.closePath()}}visitTriangleStrip(t){for(let r=0;r<t.vertices.length-2;r++){const i=t.vertices[r],s=t.vertices[r+1],o=t.vertices[r+2];this.path.moveTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}}visitQuadStrip(t){for(let r=0;r<t.vertices.length-3;r+=2){const i=t.vertices[r],s=t.vertices[r+1],o=t.vertices[r+2],a=t.vertices[r+3];this.path.moveTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}}}class w5 extends wc{contours=[];curveDetail;constructor({curveDetail:t=1}={}){super(),this.curveDetail=t}lastContour(){return this.contours[this.contours.length-1]}visitAnchor(t){this.contours.push([]);const r=t._nextPrimitive;r?.canOverrideAnchor?this.lastContour().push(r._firstInterpolatedVertex):this.lastContour().push(t.getEndVertex())}visitLineSegment(t){this.lastContour().push(t.getEndVertex())}visitBezierSegment(t){const r=this.lastContour(),i=Math.max(1,Math.ceil(t.hullLength()*this.curveDetail)),s=[t.getStartVertex(),...t.vertices].map(o=>t._shape.vertexToArray(o));for(let o=0;o<i;o++){const a=(o+1)/i;r.push(t._shape.arrayToVertex(t.order===3?t._shape.evaluateCubicBezier(s,a):t._shape.evaluateQuadraticBezier(s,a)))}}visitSplineSegment(t){const r=t._shape,i=this.lastContour(),s=t.getControlPoints().map(l=>r.vertexToArray(l));let o=r.catmullRomToBezier(s,t._splineProperties.tightness),a=r.vertexToArray(t._firstInterpolatedVertex);for(const l of o){const u=[a,...l],h=Math.max(1,Math.ceil(o5(u.map(c=>r.arrayToVertex(c)))*this.curveDetail));for(let c=0;c<h;c++){const f=(c+1)/h;i.push(r.arrayToVertex(r.evaluateCubicBezier(u,f)))}a=l[2]}}visitPoint(t){this.contours.push(t.vertices.slice())}visitLine(t){this.contours.push(t.vertices.slice())}visitTriangle(t){this.contours.push(t.vertices.slice())}visitQuad(t){this.contours.push(t.vertices.slice())}visitTriangleFan(t){this.contours.push(t.vertices.slice())}visitTriangleStrip(t){this.contours.push(t.vertices.slice())}visitQuadStrip(t){this.contours.push(t.vertices.slice())}}class xV extends wc{constructor(){super()}}function vb(n,t){n.Shape=x5,n.Contour=l5,n.ShapePrimitive=ks,n.Vertex=a5,n.Anchor=Kd,n.Segment=Hl,n.LineSegment=u5,n.BezierSegment=c5,n.SplineSegment=h5,n.Point=f5,n.Line=d5,n.Triangle=m5,n.Quad=g5,n.TriangleFan=v5,n.TriangleStrip=y5,n.QuadStrip=b5,n.PrimitiveVisitor=wc,n.PrimitiveToPath2DConverter=_5,n.PrimitiveToVerticesConverter=w5,n.PointAtLengthGetter=xV,t.bezierOrder=function(r){return this._renderer.bezierOrder(r)},t.splineVertex=function(...r){let i=0,s=0,o=0,a=0,l=0;r.length===2?[i,s]=r:r.length===4?[i,s,a,l]=r:r.length===3?[i,s,o]=r:r.length===5&&([i,s,o,a,l]=r),this._renderer.splineVertex(i,s,o,a,l)},t.splineProperty=function(r,i){return this._renderer.splineProperty(r,i)},t.splineProperties=function(r){return this._renderer.splineProperties(r)},t.vertex=function(r,i){let s,o,a;s=o=a=0,arguments.length===3?s=arguments[2]:arguments.length===4?(o=arguments[2],a=arguments[3]):arguments.length===5&&(s=arguments[2],o=arguments[3],a=arguments[4]),this._renderer.vertex(r,i,s,o,a)},t.beginContour=function(r){this._renderer.beginContour(r)},t.endContour=function(r=Vl){this._renderer.endContour(r)}}typeof p5<"u"&&vb(p5,p5.prototype);class _V{#e={};constructor(t){for(const r in t)this[r]=t[r]}setValue(t,r){t in this.#e||(this.#e[t]=this[t]),this[t]=r}getDiff(){const t=this.#e;return this.#e={},t}getModified(){return this.#e}applyDiff(t){for(const r in this.#e)this[r]=this.#e[r];this.#e=t}}var Zd={exports:{}},wV=Zd.exports,bE;function EV(){return bE||(bE=1,(function(n){/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var t=t||(function(r){if(!(typeof r>"u"||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var i=r.document,s=function(){return r.URL||r.webkitURL||r},o=i.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in o,l=function(_){var x=new MouseEvent("click");_.dispatchEvent(x)},u=/constructor/i.test(r.HTMLElement)||r.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(_){(r.setImmediate||r.setTimeout)(function(){throw _},0)},f="application/octet-stream",p=1e3*40,d=function(_){var x=function(){typeof _=="string"?s().revokeObjectURL(_):_.remove()};setTimeout(x,p)},g=function(_,x,C){x=[].concat(x);for(var E=x.length;E--;){var S=_["on"+x[E]];if(typeof S=="function")try{S.call(_,C||_)}catch(D){c(D)}}},m=function(_){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\uFEFF",_],{type:_.type}):_},v=function(_,x,C){C||(_=m(_));var E=this,S=_.type,D=S===f,A,N=function(){g(E,"writestart progress write writeend".split(" "))},F=function(){if((h||D&&u)&&r.FileReader){var T=new FileReader;T.onloadend=function(){var M=h?T.result:T.result.replace(/^data:[^;]*;/,"data:attachment/file;"),L=r.open(M,"_blank");L||(r.location.href=M),M=void 0,E.readyState=E.DONE,N()},T.readAsDataURL(_),E.readyState=E.INIT;return}if(A||(A=s().createObjectURL(_)),D)r.location.href=A;else{var I=r.open(A,"_blank");I||(r.location.href=A)}E.readyState=E.DONE,N(),d(A)};if(E.readyState=E.INIT,a){A=s().createObjectURL(_),setTimeout(function(){o.href=A,o.download=x,l(o),N(),d(A),E.readyState=E.DONE});return}F()},w=v.prototype,y=function(_,x,C){return new v(_,x||_.name||"download",C)};return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(_,x,C){return x=x||_.name||"download",C||(_=m(_)),navigator.msSaveOrOpenBlob(_,x)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,y)}})(typeof self<"u"&&self||typeof window<"u"&&window||wV.content);n.exports&&(n.exports.saveAs=t)})(Zd)),Zd.exports}var SV=EV();function Yh(n,t,r){const s=jp(t,r)[0];let o=n;o instanceof Blob||(o=new Blob([n])),SV.saveAs(o,s)}function jp(n,t){(!t||t===!0||t==="true")&&(t=""),n||(n="untitled");let r="";return n&&n.includes(".")&&(r=n.split(".").pop()),t&&r!==t&&(r=t,n=`${n}.${r}`),[n,r]}let Oa=class Py{constructor(t,r){this.width=t,this.height=r,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this._pixelsState=this,this._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}pixelDensity(t){return typeof t<"u"?(t<=0&&(t=1),this._pixelDensity=t,this.width/=t,this.height/=t,this):this._pixelDensity}_animateGif(t){const r=this.gifProperties,i=t._lastRealFrameTime||window.performance.now();if(r.lastChangeTime===0&&(r.lastChangeTime=i),r.playing){r.timeDisplayed=i-r.lastChangeTime;const s=r.frames[r.displayIndex].delay;if(r.timeDisplayed>=s){const o=Math.floor(r.timeDisplayed/s);if(r.timeDisplayed=0,r.lastChangeTime=i,r.displayIndex+=o,r.loopCount=Math.floor(r.displayIndex/r.numFrames),r.loopLimit!==null&&r.loopCount>=r.loopLimit)r.playing=!1;else{const a=r.displayIndex%r.numFrames;this.drawingContext.putImageData(r.frames[a].image,0,0),r.displayIndex=a,this.setModified(!0)}}}}loadPixels(){const t=this._pixelsState,r=this._pixelDensity,i=this.width*r,s=this.height*r,o=this.drawingContext.getImageData(0,0,i,s);t.imageData=o,this.pixels=t.pixels=o.data,this.setModified(!0)}updatePixels(t,r,i,s){const o=this._pixelsState,a=this._pixelDensity;t===void 0&&r===void 0&&i===void 0&&s===void 0&&(t=0,r=0,i=this.width,s=this.height),t*=a,r*=a,i*=a,s*=a,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=o.imageData),this.drawingContext.putImageData(o.imageData,t,r,0,0,i,s),this.setModified(!0)}get(t,r,i,s){const o=this._pixelsState,a=this._pixelDensity,l=this.canvas;if(typeof t>"u"&&typeof r>"u")t=r=0,i=o.width,s=o.height;else if(t*=a,r*=a,typeof i>"u"&&typeof s>"u")return t<0||r<0||t>=l.width||r>=l.height?[0,0,0,0]:this._getPixel(t,r);const u=new Py(i*a,s*a);return u.pixelDensity(a),u.canvas.getContext("2d").drawImage(l,t,r,i*a,s*a,0,0,i*a,s*a),u}_getPixel(t,r){let i,s;return i=this.drawingContext.getImageData(t,r,1,1).data,s=0,[i[s+0],i[s+1],i[s+2],i[s+3]]}set(t,r,i){t=Math.floor(t),r=Math.floor(r);const s=this._pixelsState;if(i instanceof Py)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,i.width,i.height),this.drawingContext.drawImage(i.canvas,t,r),this.drawingContext.restore();else{let o=0,a=0,l=0,u=0,h=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(s.imageData||s.loadPixels(),typeof i=="number")h<s.pixels.length&&(o=i,a=i,l=i,u=255);else if(Array.isArray(i)){if(i.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");h<s.pixels.length&&(o=i[0],a=i[1],l=i[2],u=i[3])}else i instanceof p5.Color&&h<s.pixels.length&&([o,a,l,u]=i._getRGBA([255,255,255,255]));for(let c=0;c<this._pixelDensity;c++)for(let f=0;f<this._pixelDensity;f++)h=4*((r*this._pixelDensity+f)*this.width*this._pixelDensity+(t*this._pixelDensity+c)),s.pixels[h]=o,s.pixels[h+1]=a,s.pixels[h+2]=l,s.pixels[h+3]=u}this.setModified(!0)}resize(t,r){t===0&&r===0?(t=this.canvas.width,r=this.canvas.height):t===0?t=this.canvas.width*r/this.canvas.height:r===0&&(r=this.canvas.height*t/this.canvas.width),t=Math.floor(t),r=Math.floor(r);const i=document.createElement("canvas");if(i.width=t,i.height=r,this.gifProperties){const s=this.gifProperties,o=(a,l)=>{let u=0;for(let h=0;h<l.height;h++)for(let c=0;c<l.width;c++){const f=Math.floor(c*a.width/l.width);let d=(Math.floor(h*a.height/l.height)*a.width+f)*4;l.data[u++]=a.data[d++],l.data[u++]=a.data[d++],l.data[u++]=a.data[d++],l.data[u++]=a.data[d++]}};for(let a=0;a<s.numFrames;a++){const l=this.drawingContext.createImageData(t,r);o(s.frames[a].image,l),s.frames[a].image=l}}i.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,i.width,i.height),this.canvas.width=this.width=t,this.canvas.height=this.height=r,this.drawingContext.drawImage(i,0,0,t,r,0,0,t,r),this.pixels.length>0&&this.loadPixels(),this.setModified(!0)}copy(...t){let r,i,s,o,a,l,u,h,c;if(t.length===9)r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8];else if(t.length===8)r=this,i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],u=t[5],h=t[6],c=t[7];else throw new Error("Signature not supported");this._copyHelper(this,r,i,s,o,a,l,u,h,c)}_copyHelper(t,r,i,s,o,a,l,u,h,c){const f=r.canvas.width/r.width;let p=0,d=0;r._renderer&&r._renderer.isP3D&&(p=r.width/2,d=r.height/2),t._renderer&&t._renderer.isP3D?(t.push(),t.resetMatrix(),t.noLights(),t.blendMode(t.BLEND),t.imageMode(t.CORNER),t._renderer.image(r,i+p,s+d,o,a,l,u,h,c),t.pop()):t.drawingContext.drawImage(r.canvas,f*(i+p),f*(s+d),f*o,f*a,l,u,h,c)}mask(t){t===void 0&&(t=this);const r=this.drawingContext.globalCompositeOperation;let i=this._pixelDensity,s=1;t instanceof Nt&&(s=t._pInst._renderer._pixelDensity);const o=[t,0,0,s*t.width,s*t.height,0,0,i*this.width,i*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(let a=0;a<this.gifProperties.frames.length;a++)this.drawingContext.putImageData(this.gifProperties.frames[a].image,0,0),this.copy(...o),this.gifProperties.frames[a].image=this.drawingContext.getImageData(0,0,i*this.width,i*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy(...o);this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}filter(t,r){An.apply(this.canvas,An[t],r),this.setModified(!0)}blend(...t){const r=this.drawingContext.globalCompositeOperation,i=t[t.length-1],s=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=i,this.copy(...s),this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}setModified(t){this._modified=t}isModified(){return this._modified}save(t,r){if(this.gifProperties)CV(this,t);else{let i=this.canvas;r=r||jp(t,r)[1]||"png";let s;switch(r){default:s="image/png";break;case"webp":s="image/webp";break;case"jpeg":case"jpg":s="image/jpeg";break}i.toBlob(o=>{Yh(o,t,r)},s)}}async toBlob(){return new Promise(t=>{this.canvas.toBlob(t)})}reset(){if(this.gifProperties){const t=this.gifProperties;t.playing=!0,t.timeSinceStart=0,t.timeDisplayed=0,t.lastChangeTime=0,t.loopCount=0,t.displayIndex=0,this.drawingContext.putImageData(t.frames[0].image,0,0)}}getCurrentFrame(){if(this.gifProperties){const t=this.gifProperties;return t.displayIndex%t.numFrames}}setFrame(t){if(this.gifProperties){const r=this.gifProperties;t<r.numFrames&&t>=0?(r.timeDisplayed=0,r.lastChangeTime=0,r.displayIndex=t,this.drawingContext.putImageData(r.frames[t].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}}numFrames(){if(this.gifProperties)return this.gifProperties.numFrames}play(){this.gifProperties&&(this.gifProperties.playing=!0)}pause(){this.gifProperties&&(this.gifProperties.playing=!1)}delay(t,r){if(this.gifProperties){const i=this.gifProperties;if(r<i.numFrames&&r>=0)i.frames[r].delay=t;else for(const s of i.frames)s.delay=t}}};function CV(n,t){const r=n.gifProperties;let i=r.loopLimit;i===1?i=null:i===null&&(i=0);const s=new Uint8Array(n.width*n.height*r.numFrames),o=[],a={};for(let y=0;y<r.numFrames;y++){const _=new Set,x=r.frames[y].image.data,C=x.length,E=new Uint32Array(n.width*n.height);for(let D=0,A=0;D<C;D+=4,A++){const N=x[D+0],F=x[D+1],T=x[D+2],I=N<<16|F<<8|T<<0;_.add(I),E[A]=I}const S=[..._].sort().toString();a[S]===void 0?a[S]={freq:1,frames:[y]}:(a[S].freq+=1,a[S].frames.push(y)),o.push(E)}let l=[];const u=Object.keys(a).sort(function(y,_){return a[_].freq-a[y].freq}),h=u[0].split(",").map(y=>parseInt(y));l=l.concat(a[h].frames);const c=new Set(h);for(let y=1;y<u.length;y++){const x=u[y].split(",").map(C=>parseInt(C)).filter(C=>!c.has(C));if(h.length+x.length<=256){for(let C=0;C<x.length;C++)h.push(x[C]),c.add(x[C]);l=l.concat(a[u[y]].frames)}}l=new Set(l);const f={};for(let y=0;y<h.length;y++)f[h[y]]||(f[h[y]]=y);let p=1;for(;p<h.length;)p<<=1;h.length=p;const d={loop:i,palette:new Uint32Array(h)},g=new omggif.GifWriter(s,n.width,n.height,d);let m={};for(let y=0;y<r.numFrames;y++){const _=!l.has(y),x=_?[]:h,C=new Uint8Array(n.width*n.height),E={},S=new Set;o[y].forEach((N,F)=>{_?(E[N]===void 0&&(E[N]=x.length,x.push(N)),C[F]=E[N]):C[F]=f[N],y>0&&o[y-1][F]!==N&&S.add(N)});const D={},A=x.filter(N=>!S.has(N));if(A.length>0){const N=A[0],F=_?E[N]:f[N];if(y>0){for(let T=0;T<o[y].length;T++)o[y-1][T]===o[y][T]&&(C[T]=F);D.transparent=F,m.frameOpts.disposal=1}}if(D.delay=r.frames[y].delay/10,_){let N=1;for(;N<x.length;)N<<=1;x.length=N,D.palette=new Uint32Array(x)}y>0&&g.addFrame(0,0,n.width,n.height,m.pixelPaletteIndex,m.frameOpts),m={pixelPaletteIndex:C,frameOpts:D}}m.frameOpts.disposal=1,g.addFrame(0,0,n.width,n.height,m.pixelPaletteIndex,m.frameOpts);const v="gif",w=new Blob([s.slice(0,g.end())],{type:"image/gif"});Yh(w,t,v)}function E5(n,t){n.Image=Oa}typeof p5<"u"&&E5(p5,p5.prototype);class yb{constructor(t={}){for(const r in t)this[r]=t[r]}clone(){return new yb(this)}}class Nt{static states={strokeColor:null,strokeSet:!1,fillColor:null,fillSet:!1,tint:null,imageMode:ds,rectMode:ds,ellipseMode:Wi,strokeWeight:1,textFont:{family:"sans-serif"},textLeading:15,leadingSet:!1,textSize:12,textAlign:_D,textBaseline:wD,bezierOrder:3,splineProperties:new yb({ends:Hu,tightness:0}),textWrap:CD,fontStyle:uo,fontStretch:uo,fontWeight:uo,lineHeight:uo,fontVariant:uo,direction:"inherit"};constructor(t,r,i,s){this._pInst=t,this._isMainCanvas=s,this.pixels=[],this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this.width=r,this.height=i,this._events={},s&&(this._isMainCanvas=!0),this.states=new _V(Nt.states),this.states.strokeColor=new xt([0,0,0]),this.states.fillColor=new xt([1,1,1]),this._pushPopStack=[],this._pushPopDepth=0,this._clipping=!1,this._clipInvert=!1,this._currentShape=void 0}get currentShape(){return this._currentShape||(this._currentShape=new x5(this.getCommonVertexProperties())),this._currentShape}remove(){}pixelDensity(t){let r;return typeof t=="number"?(t!==this._pixelDensity&&(this._pixelDensity=t),r=this,this.resize(this.width,this.height)):r=this._pixelDensity,r}push(){this._pushPopDepth++,this._pushPopStack.push(this.states.getDiff())}pop(){this._pushPopDepth--;const t=this._pushPopStack.pop()||{},r=this.states.getModified();this.states.applyDiff(t),this.updateShapeVertexProperties(r),this.updateShapeProperties(r)}bezierOrder(t){if(t===void 0)return this.states.bezierOrder;this.states.setValue("bezierOrder",t),this.updateShapeProperties()}bezierVertex(t,r,i=0,s=0,o=0){const a=new Me(t,r,i),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new Me(s,o):void 0;this.currentShape.bezierVertex(a,l)}splineProperty(t,r){if(r===void 0)return this.states.splineProperties[t];this.states.setValue("splineProperties",this.states.splineProperties.clone()),this.states.splineProperties[t]=r,this.updateShapeProperties()}splineProperties(t){if(t)for(const r in t)this.splineProperty(r,t[r]);else return{...this.states.splineProperties}}splineVertex(t,r,i=0,s=0,o=0){const a=new Me(t,r,i),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new Me(s,o):void 0;this.currentShape.splineVertex(a,l)}curveDetail(t){if(t===void 0)return this.states.curveDetail;this.states.setValue("curveDetail",t)}beginShape(...t){this.currentShape.reset(),this.updateShapeVertexProperties(),this.currentShape.beginShape(...t)}endShape(...t){this.currentShape.endShape(...t),this.drawShape(this.currentShape)}beginContour(t){this.currentShape.beginContour(t)}endContour(t){this.currentShape.endContour(t)}drawShape(t,r){throw new Error("Unimplemented")}vertex(t,r,i=0,s=0,o=0){const a=new Me(t,r,i),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new Me(s,o):void 0;this.currentShape.vertex(a,l)}bezier(t,r,i,s,o,a,l,u){const h=this._pInst.bezierOrder();return this._pInst.bezierOrder(h),this._pInst.beginShape(),this._pInst.bezierVertex(t,r),this._pInst.bezierVertex(i,s),this._pInst.bezierVertex(o,a),this._pInst.bezierVertex(l,u),this._pInst.endShape(),this}spline(...t){if(t.length===8){const[r,i,s,o,a,l,u,h]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,i),this._pInst.splineVertex(s,o),this._pInst.splineVertex(a,l),this._pInst.splineVertex(u,h),this._pInst.endShape()}else if(t.length===12){const[r,i,s,o,a,l,u,h,c,f,p,d]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,i,s),this._pInst.splineVertex(o,a,l),this._pInst.splineVertex(u,h,c),this._pInst.splineVertex(f,p,d),this._pInst.endShape()}return this}beginClip(t={}){if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=t.invert}endClip(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}resize(t,r){this.width=t,this.height=r}get(t,r,i,s){const o=this._pixelDensity,a=this.canvas;if(typeof t>"u"&&typeof r>"u")t=r=0,i=this.width,s=this.height;else if(t*=o,r*=o,typeof i>"u"&&typeof s>"u")return t<0||r<0||t>=a.width||r>=a.height?[0,0,0,0]:this._getPixel(t,r);const l=new Oa(i*o,s*o);return l.pixelDensity(o),l.canvas.getContext("2d").drawImage(a,t,r,i*o,s*o,0,0,i*o,s*o),l}scale(t,r){}fill(...t){this.states.setValue("fillSet",!0),this.states.setValue("fillColor",this._pInst.color(...t)),this.updateShapeVertexProperties()}noFill(){this.states.setValue("fillColor",null)}strokeWeight(t){if(t===void 0)return this.states.strokeWeight;this.states.setValue("strokeWeight",t)}stroke(...t){this.states.setValue("strokeSet",!0),this.states.setValue("strokeColor",this._pInst.color(...t)),this.updateShapeVertexProperties()}noStroke(){this.states.setValue("strokeColor",null)}getCommonVertexProperties(){return{}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!1}}updateShapeProperties(t){if(!t||t.bezierOrder||t.splineProperties){const r=this.currentShape;r.bezierOrder(this.states.bezierOrder),r.splineProperty("ends",this.states.splineProperties.ends),r.splineProperty("tightness",this.states.splineProperties.tightness)}}updateShapeVertexProperties(t){const r=this.getCommonVertexProperties();if(!t||Object.keys(t).some(i=>i in r)){const i=this.currentShape;for(const s in r)i[s](r[s])}}_applyDefaults(){return this}}function AV(n,t){n.Renderer=Nt}const V0="video",xE="audio";class TV{constructor(t,r,i,s){this.callback=t,this.time=r,this.id=i,this.val=s}}class yl extends Vr{constructor(t,r){super(t,r);const i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],this.pixels=[],this._pixelsState=this,this._pixelDensity=1,this._modified=!1,this._frameOnCanvas=-1,Object.defineProperty(i,"src",{get(){const s=i.elt.children[0].src,o=i.elt.src===window.location.href?"":i.elt.src;return s===window.location.href?o:s},set(s){for(let a=0;a<i.elt.children.length;a++)i.elt.removeChild(i.elt.children[a]);const o=document.createElement("source");o.src=s,t.appendChild(o),i.elt.src=s,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}}play(){this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0);let t;return this.elt.readyState>1?t=this.elt.play():(this.elt.load(),t=this.elt.play()),t&&t.catch&&t.catch(r=>{r.name==="NotAllowedError"?typeof IS_MINIFIED>"u"?p5._friendlyAutoplayError(this.src):console.error(r):console.error("Media play method encountered an unexpected error",r)}),this}stop(){return this.elt.pause(),this.elt.currentTime=0,this}pause(){return this.elt.pause(),this}loop(){return this.elt.setAttribute("loop",!0),this.play(),this}noLoop(){return this.elt.removeAttribute("loop"),this}_setupAutoplayFailDetection(){const t=setTimeout(()=>{typeof IS_MINIFIED>"u"?p5._friendlyAutoplayError(this.src):console.error(e)},500);this.elt.addEventListener("play",()=>clearTimeout(t),{passive:!0,once:!0})}autoplay(t){const r=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",t),t&&!r){const i=()=>this._setupAutoplayFailDetection();this.elt.readyState===4?i():this.elt.addEventListener("canplay",i,{passive:!0,once:!0})}return this}volume(t){if(typeof t>"u")return this.elt.volume;this.elt.volume=t}speed(t){if(typeof t>"u")return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=t:this.presetPlaybackRate=t}time(t){return typeof t<"u"&&(this.elt.currentTime=t),this.elt.currentTime}duration(){return this.elt.duration}_ensureCanvas(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));const t=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&t&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}loadPixels(...t){return this._ensureCanvas(),p5.Renderer2D.prototype.loadPixels.apply(this,t)}updatePixels(t,r,i,s){return this.loadedmetadata&&(this._ensureCanvas(),p5.Renderer2D.prototype.updatePixels.call(this,t,r,i,s)),this.setModified(!0),this}get(...t){return this._ensureCanvas(),p5.Renderer2D.prototype.get.apply(this,t)}_getPixel(...t){return this.loadPixels(),p5.Renderer2D.prototype._getPixel.apply(this,t)}set(t,r,i){this.loadedmetadata&&(this._ensureCanvas(),p5.Renderer2D.prototype.set.call(this,t,r,i),this.setModified(!0))}copy(...t){this._ensureCanvas(),p5.prototype.copy.apply(this,t)}mask(...t){this.loadPixels(),this.setModified(!0),p5.Image.prototype.mask.apply(this,t)}isModified(){return this._modified}setModified(t){this._modified=t}onended(t){return this._onended=t,this}_getAudioContext(){}_getSoundOut(){}connect(t){let r,i;if(this._getAudioContext()&&this._getSoundOut())r=this._getAudioContext(),i=this._getSoundOut().input;else try{r=t.context,i=r.destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=r.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),t?t.input?this.audioSourceNode.connect(t.input):this.audioSourceNode.connect(t):this.audioSourceNode.connect(i)}disconnect(){if(this.audioSourceNode)this.audioSourceNode.disconnect();else throw"nothing to disconnect"}showControls(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}hideControls(){this.elt.controls=!1}addCue(t,r,i){const s=this._cueIDCounter++,o=new TV(r,t,s,i);return this._cues.push(o),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),s}removeCue(t){for(let r=0;r<this._cues.length;r++)this._cues[r].id===t&&(console.log(t),this._cues.splice(r,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}clearCues(){this._cues=[],this.elt.ontimeupdate=null}_onTimeUpdate(){const t=this.time();for(let r=0;r<this._cues.length;r++){const i=this._cues[r].time,s=this._cues[r].val;this._prevTime<i&&i<=t&&this._cues[r].callback(s)}this._prevTime=t}}function S5(n,t){function r(s,o,a){(o._userNode?o._userNode:document.body).appendChild(s);const u=a?new yl(s,o):new Vr(s,o);return o._elements.push(u),u}function i(s,o,a,l){const u=document.createElement(o);a=a||"",typeof a=="string"&&(a=[a]);for(const c of a){const f=document.createElement("source");f.setAttribute("src",c),u.appendChild(f)}const h=r(u,s,!0);if(h.loadedmetadata=!1,u.addEventListener("loadedmetadata",()=>{h.width=u.videoWidth,h.height=u.videoHeight,h.elt.width===0&&(h.elt.width=u.videoWidth),h.elt.height===0&&(h.elt.height=u.videoHeight),h.presetPlaybackRate&&(h.elt.playbackRate=h.presetPlaybackRate,delete h.presetPlaybackRate),h.loadedmetadata=!0}),typeof l=="function"){const c=()=>{l(h),u.removeEventListener("canplaythrough",c)};u.addEventListener("canplaythrough",c)}return h}t.createVideo=function(s,o){return i(this,V0,s,o)},t.createAudio=function(s,o){return i(this,xE,s,o)},t.VIDEO=V0,t.AUDIO=xE,navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(s){const o=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return o?new Promise(function(a,l){o.call(navigator,s,a,l)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.createCapture=function(...s){if(!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia))throw new DOMException("getUserMedia not supported in this browser");let o=!0,a=!0,l,u,h=!1;for(const d of s)d===t.VIDEO?a=!1:d===t.AUDIO?o=!1:typeof d=="object"?(d.flipped!==void 0&&(h=d.flipped,delete d.flipped),l=Object.assign({},l,d)):typeof d=="function"&&(u=d);l=Object.assign({},{video:o,audio:a},l);const f=document.createElement(V0);f.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(l).then(function(d){try{"srcObject"in f?f.srcObject=d:f.src=window.URL.createObjectURL(d)}catch{f.src=d}}).catch(d=>{d.name==="NotFoundError"&&n._friendlyError("No webcam found on this device","createCapture"),d.name==="NotAllowedError"&&n._friendlyError("Access to the camera was denied","createCapture"),console.error(d)});const p=r(f,this,!0);return p.loadedmetadata=!1,f.addEventListener("loadedmetadata",function(){f.play(),f.width?(p.width=f.width,p.height=f.height,h&&(p.elt.style.transform="scaleX(-1)")):(p.width=p.elt.width=f.videoWidth,p.height=p.elt.height=f.videoHeight),p.loadedmetadata=!0,u&&u(f.srcObject)}),p.flipped=h,p},n.MediaElement=yl,yl.prototype._getSoundOut=function(){return n.soundOut},yl.prototype._getAudioContext=function(){if(typeof t.getAudioContext=="function")return t.getAudioContext()}}typeof p5<"u"&&S5(p5,p5.prototype);function IV(n,t,r,i,s){let o;return s===ds?o={x:n,y:t,w:Math.abs(r),h:Math.abs(i)}:s===Bh?o={x:Math.min(n,r),y:Math.min(t,i),w:Math.abs(r-n),h:Math.abs(i-t)}:s===Uh?(r=Math.abs(r),i=Math.abs(i),o={x:n-r,y:t-i,w:2*r,h:2*i}):s===Wi&&(r=Math.abs(r),i=Math.abs(i),o={x:n-r*.5,y:t-i*.5,w:r,h:i}),o}var Jd={modeAdjust:IV};function bb(n,t){t._normalizeArcAngles=(r,i,s,o,a)=>{let u;return r=r-Ti*Math.floor(r/Ti),i=i-Ti*Math.floor(i/Ti),u=Math.min(Math.abs(r-i),Ti-Math.abs(r-i)),a&&(r<=ol?r=Math.atan(s/o*Math.tan(r)):r>ol&&r<=3*ol?r=Math.atan(s/o*Math.tan(r))+_y:r=Math.atan(s/o*Math.tan(r))+Ti,i<=ol?i=Math.atan(s/o*Math.tan(i)):i>ol&&i<=3*ol?i=Math.atan(s/o*Math.tan(i))+_y:i=Math.atan(s/o*Math.tan(i))+Ti),r>i&&(i+=Ti),{start:r,stop:i,correspondToSamePoint:u<1e-5}},t.arc=function(r,i,s,o,a,l,u,h){if(!this._renderer.states.strokeColor&&!this._renderer.states.fillColor)return this;if(a===l)return this;a=this._toRadians(a),l=this._toRadians(l);const c=Jd.modeAdjust(r,i,s,o,this._renderer.states.ellipseMode),f=this._normalizeArcAngles(a,l,c.w,c.h,!0);return f.correspondToSamePoint?this._renderer.ellipse([c.x,c.y,c.w,c.h,h]):(this._renderer.arc(c.x,c.y,c.w,c.h,f.start,f.stop,u,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[c.x,c.y,c.w,c.h,f.start,f.stop,u])),this},t.ellipse=function(r,i,s,o,a){return this._renderEllipse(...arguments)},t.circle=function(...r){const i=r.slice(0,2);return i.push(r[2],r[2]),this._renderEllipse(...i)},t._renderEllipse=function(r,i,s,o,a){if(!this._renderer.states.strokeColor&&!this._renderer.states.fillColor)return this;typeof o>"u"&&(o=s);const l=Jd.modeAdjust(r,i,s,o,this._renderer.states.ellipseMode);return this._renderer.ellipse([l.x,l.y,l.w,l.h,a]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[l.x,l.y,l.w,l.h]),this},t.line=function(...r){return this._renderer.states.strokeColor&&this._renderer.line(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",r),this},t.point=function(...r){return this._renderer.states.strokeColor&&(r.length===1&&r[0]instanceof n.Vector?this._renderer.point.call(this._renderer,r[0].x,r[0].y,r[0].z):(this._renderer.point(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",r))),this},t.quad=function(...r){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&(this._renderer.isP3D&&r.length<12?this._renderer.quad.call(this._renderer,r[0],r[1],0,r[2],r[3],0,r[4],r[5],0,r[6],r[7],0,r[8],r[9]):(this._renderer.quad(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",r))),this},t.rect=function(...r){return this._renderRect(...r)},t.square=function(r,i,s,o,a,l,u){return this._renderRect.call(this,r,i,s,s,o,a,l,u)},t._renderRect=function(){if(this._renderer.states.strokeColor||this._renderer.states.fillColor){arguments.length===3&&(arguments[3]=arguments[2]);const r=Jd.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer.states.rectMode);this._renderer.states.rectMode===ds&&(r.w=arguments[2],r.h=arguments[3]);const i=[r.x,r.y,r.w,r.h];for(let s=4;s<arguments.length;s++)i[s]=arguments[s];this._renderer.rect(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[r.x,r.y,r.w,r.h])}return this},t.triangle=function(...r){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&this._renderer.triangle(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",r),this}}typeof p5<"u"&&bb(p5,p5.prototype);function xb(n,t){t.ellipseMode=function(r){return(r===ds||r===Bh||r===Uh||r===Wi)&&this._renderer.states.setValue("ellipseMode",r),this},t.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},t.rectMode=function(r){return(r===ds||r===Bh||r===Uh||r===Wi)&&this._renderer.states.setValue("rectMode",r),this},t.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},t.strokeCap=function(r){return(r===Da||r===eb||r===Q1)&&this._renderer.strokeCap(r),this},t.strokeJoin=function(r){return(r===Da||r===tb||r===nb)&&this._renderer.strokeJoin(r),this},t.strokeWeight=function(r){return this._renderer.strokeWeight(r),this}}typeof p5<"u"&&xb(p5,p5.prototype);function _b(n,t){t.bezier=function(...r){return!this._renderer.states.strokeColor&&!this._renderer.states.fillColor?this:(this._renderer.bezier(...r),this)},t.bezierPoint=function(r,i,s,o,a){const l=1-a;return Math.pow(l,3)*r+3*Math.pow(l,2)*a*i+3*l*Math.pow(a,2)*s+Math.pow(a,3)*o},t.bezierTangent=function(r,i,s,o,a){const l=1-a;return 3*o*Math.pow(a,2)-3*s*Math.pow(a,2)+6*s*l*a-6*i*l*a+3*i*Math.pow(l,2)-3*r*Math.pow(l,2)},t.spline=function(...r){return!this._renderer.states.strokeColor&&!this._renderer.states.fillColor?this:(this._renderer.spline(...r),this)},t.splinePoint=function(r,i,s,o,a){const l=this._renderer.states.splineProperties.tightness,u=a*a*a,h=a*a,c=(l-1)/2*u+(1-l)*h+(l-1)/2*a,f=(l+3)/2*u+(-5-l)/2*h+1,p=(-3-l)/2*u+(l+2)*h+(1-l)/2*a,d=(1-l)/2*u+(l-1)/2*h;return r*c+i*f+s*p+o*d},t.splineTangent=function(r,i,s,o,a){const l=this._renderer.states.splineProperties.tightness,u=a*a*3,h=a*2,c=(l-1)/2*u+(1-l)*h+(l-1)/2,f=(l+3)/2*u+(-5-l)/2*h,p=(-3-l)/2*u+(l+2)*h+(1-l)/2,d=(1-l)/2*u+(l-1)/2*h;return r*c+i*f+s*p+o*d}}typeof p5<"u"&&_b(p5,p5.prototype);function wb(n,t){t.beginShape=function(r){this._renderer.beginShape(...arguments)},t.bezierVertex=function(...r){this._renderer.bezierVertex(...r)},t.endShape=function(r,i=1){i<1&&(console.log(" p5.js says: You can not have less than one instance"),i=1),this._renderer.endShape(r,i)},t.normal=function(r,i,s){return this._assert3d("normal"),this._renderer.normal(...arguments),this},t.vertexProperty=function(r,i){this._renderer.vertexProperty(r,i)}}typeof p5<"u"&&wb(p5,p5.prototype);function Eb(n,t){t.beginClip=function(r={}){this._renderer.beginClip(r)},t.endClip=function(){this._renderer.endClip()},t.clip=function(r,i){this._renderer.beginClip(i),r(),this._renderer.endClip(i)},t.background=function(...r){return this._renderer.background(...r),this},t.clear=function(...r){const i=r[0]||0,s=r[1]||0,o=r[2]||0,a=r[3]||0;return this._renderer.clear(i,s,o,a),this},t.colorMode=function(r,i,s,o,a){if([Yn,Di,Fi,ei,Xu,qh,Dl,Xh,Nl].includes(r)){this._renderer.states.setValue("colorMode",r),this._renderer.states.setValue("colorMaxes",this._renderer.states.colorMaxes.clone());const l=this._renderer.states.colorMaxes[r];arguments.length===2?(l[0]=i,l[1]=i,l[2]=i,l[3]=i):arguments.length===4?(l[0]=i,l[1]=s,l[2]=o):arguments.length===5&&(l[0]=i,l[1]=s,l[2]=o,l[3]=a)}return this._renderer.states.colorMode},t.fill=function(...r){return this._renderer.fill(...r),this},t.noFill=function(){return this._renderer.noFill(),this},t.noStroke=function(){return this._renderer.states.setValue("strokeColor",null),this},t.stroke=function(...r){return this._renderer.stroke(...r),this},t.erase=function(r=255,i=255){return this._renderer.erase(r,i),this},t.noErase=function(){return this._renderer.noErase(),this},t.blendMode=function(r){r===uo&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=ki),this._renderer.blendMode(r)}}typeof p5<"u"&&Eb(p5,p5.prototype);var dd={},_E;function DV(){if(_E)return dd;_E=1;function n(s,o,a,h){var u=0,h=h===void 0?{}:h,c=h.loop===void 0?null:h.loop,f=h.palette===void 0?null:h.palette;if(o<=0||a<=0||o>65535||a>65535)throw new Error("Width/Height invalid.");function p(x){var C=x.length;if(C<2||C>256||C&C-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return C}s[u++]=71,s[u++]=73,s[u++]=70,s[u++]=56,s[u++]=57,s[u++]=97;var d=0,g=0;if(f!==null){for(var m=p(f);m>>=1;)++d;if(m=1<<d,--d,h.background!==void 0){if(g=h.background,g>=m)throw new Error("Background index out of range.");if(g===0)throw new Error("Background index explicitly passed as 0.")}}if(s[u++]=o&255,s[u++]=o>>8&255,s[u++]=a&255,s[u++]=a>>8&255,s[u++]=(f!==null?128:0)|d,s[u++]=g,s[u++]=0,f!==null)for(var v=0,w=f.length;v<w;++v){var y=f[v];s[u++]=y>>16&255,s[u++]=y>>8&255,s[u++]=y&255}if(c!==null){if(c<0||c>65535)throw new Error("Loop count invalid.");s[u++]=33,s[u++]=255,s[u++]=11,s[u++]=78,s[u++]=69,s[u++]=84,s[u++]=83,s[u++]=67,s[u++]=65,s[u++]=80,s[u++]=69,s[u++]=50,s[u++]=46,s[u++]=48,s[u++]=3,s[u++]=1,s[u++]=c&255,s[u++]=c>>8&255,s[u++]=0}var _=!1;this.addFrame=function(x,C,E,S,D,A){if(_===!0&&(--u,_=!1),A=A===void 0?{}:A,x<0||C<0||x>65535||C>65535)throw new Error("x/y invalid.");if(E<=0||S<=0||E>65535||S>65535)throw new Error("Width/Height invalid.");if(D.length<E*S)throw new Error("Not enough pixels for the frame size.");var N=!0,F=A.palette;if(F==null&&(N=!1,F=f),F==null)throw new Error("Must supply either a local or global palette.");for(var T=p(F),I=0;T>>=1;)++I;T=1<<I;var M=A.delay===void 0?0:A.delay,L=A.disposal===void 0?0:A.disposal;if(L<0||L>3)throw new Error("Disposal out of range.");var B=!1,$=0;if(A.transparent!==void 0&&A.transparent!==null&&(B=!0,$=A.transparent,$<0||$>=T))throw new Error("Transparent color index.");if((L!==0||B||M!==0)&&(s[u++]=33,s[u++]=249,s[u++]=4,s[u++]=L<<2|(B===!0?1:0),s[u++]=M&255,s[u++]=M>>8&255,s[u++]=$,s[u++]=0),s[u++]=44,s[u++]=x&255,s[u++]=x>>8&255,s[u++]=C&255,s[u++]=C>>8&255,s[u++]=E&255,s[u++]=E>>8&255,s[u++]=S&255,s[u++]=S>>8&255,s[u++]=N===!0?128|I-1:0,N===!0)for(var q=0,Z=F.length;q<Z;++q){var he=F[q];s[u++]=he>>16&255,s[u++]=he>>8&255,s[u++]=he&255}return u=t(s,u,I<2?2:I,D),u},this.end=function(){return _===!1&&(s[u++]=59,_=!0),u},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(x){s=x},this.getOutputBufferPosition=function(){return u},this.setOutputBufferPosition=function(x){u=x}}function t(s,o,a,l){s[o++]=a;var u=o++,h=1<<a,c=h-1,f=h+1,p=f+1,d=a+1,g=0,m=0;function v(A){for(;g>=A;)s[o++]=m&255,m>>=8,g-=8,o===u+256&&(s[u]=255,u=o++)}function w(A){m|=A<<g,g+=d,v(8)}var y=l[0]&c,_={};w(h);for(var x=1,C=l.length;x<C;++x){var E=l[x]&c,S=y<<8|E,D=_[S];if(D===void 0){for(m|=y<<g,g+=d;g>=8;)s[o++]=m&255,m>>=8,g-=8,o===u+256&&(s[u]=255,u=o++);p===4096?(w(h),p=f+1,d=a+1,_={}):(p>=1<<d&&++d,_[S]=p++),y=E}else y=D}return w(y),w(f),v(1),u+1===o?s[u]=0:(s[u]=o-u-1,s[o++]=0),o}function r(s){var o=0;if(s[o++]!==71||s[o++]!==73||s[o++]!==70||s[o++]!==56||(s[o++]+1&253)!==56||s[o++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=s[o++]|s[o++]<<8,l=s[o++]|s[o++]<<8,u=s[o++],h=u>>7,c=u&7,f=1<<c+1;s[o++],s[o++];var p=null,d=null;h&&(p=o,d=f,o+=f*3);var g=!0,m=[],v=0,w=null,y=0,_=null;for(this.width=a,this.height=l;g&&o<s.length;)switch(s[o++]){case 33:switch(s[o++]){case 255:if(s[o]!==11||s[o+1]==78&&s[o+2]==69&&s[o+3]==84&&s[o+4]==83&&s[o+5]==67&&s[o+6]==65&&s[o+7]==80&&s[o+8]==69&&s[o+9]==50&&s[o+10]==46&&s[o+11]==48&&s[o+12]==3&&s[o+13]==1&&s[o+16]==0)o+=14,_=s[o++]|s[o++]<<8,o++;else for(o+=12;;){var x=s[o++];if(!(x>=0))throw Error("Invalid block size");if(x===0)break;o+=x}break;case 249:if(s[o++]!==4||s[o+4]!==0)throw new Error("Invalid graphics extension block.");var C=s[o++];v=s[o++]|s[o++]<<8,w=s[o++],(C&1)===0&&(w=null),y=C>>2&7,o++;break;case 254:for(;;){var x=s[o++];if(!(x>=0))throw Error("Invalid block size");if(x===0)break;o+=x}break;default:throw new Error("Unknown graphic control label: 0x"+s[o-1].toString(16))}break;case 44:var E=s[o++]|s[o++]<<8,S=s[o++]|s[o++]<<8,D=s[o++]|s[o++]<<8,A=s[o++]|s[o++]<<8,N=s[o++],F=N>>7,T=N>>6&1,I=N&7,M=1<<I+1,L=p,B=d,$=!1;if(F){var $=!0;L=o,B=M,o+=M*3}var q=o;for(o++;;){var x=s[o++];if(!(x>=0))throw Error("Invalid block size");if(x===0)break;o+=x}m.push({x:E,y:S,width:D,height:A,has_local_palette:$,palette_offset:L,palette_size:B,data_offset:q,data_length:o-q,transparent_index:w,interlaced:!!T,delay:v,disposal:y});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+s[o-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return _},this.frameInfo=function(Z){if(Z<0||Z>=m.length)throw new Error("Frame index out of range.");return m[Z]},this.decodeAndBlitFrameBGRA=function(Z,he){var V=this.frameInfo(Z),J=V.width*V.height,ge=new Uint8Array(J);i(s,V.data_offset,ge,J);var W=V.palette_offset,z=V.transparent_index;z===null&&(z=256);var de=V.width,K=a-de,ue=de,G=(V.y*a+V.x)*4,se=((V.y+V.height)*a+V.x)*4,ye=G,Ee=K*4;V.interlaced===!0&&(Ee+=a*4*7);for(var H=8,Q=0,re=ge.length;Q<re;++Q){var Ce=ge[Q];if(ue===0&&(ye+=Ee,ue=de,ye>=se&&(Ee=K*4+a*4*(H-1),ye=G+(de+K)*(H<<1),H>>=1)),Ce===z)ye+=4;else{var _e=s[W+Ce*3],Se=s[W+Ce*3+1],Te=s[W+Ce*3+2];he[ye++]=Te,he[ye++]=Se,he[ye++]=_e,he[ye++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(Z,he){var V=this.frameInfo(Z),J=V.width*V.height,ge=new Uint8Array(J);i(s,V.data_offset,ge,J);var W=V.palette_offset,z=V.transparent_index;z===null&&(z=256);var de=V.width,K=a-de,ue=de,G=(V.y*a+V.x)*4,se=((V.y+V.height)*a+V.x)*4,ye=G,Ee=K*4;V.interlaced===!0&&(Ee+=a*4*7);for(var H=8,Q=0,re=ge.length;Q<re;++Q){var Ce=ge[Q];if(ue===0&&(ye+=Ee,ue=de,ye>=se&&(Ee=K*4+a*4*(H-1),ye=G+(de+K)*(H<<1),H>>=1)),Ce===z)ye+=4;else{var _e=s[W+Ce*3],Se=s[W+Ce*3+1],Te=s[W+Ce*3+2];he[ye++]=_e,he[ye++]=Se,he[ye++]=Te,he[ye++]=255}--ue}}}function i(s,o,a,l){for(var u=s[o++],h=1<<u,c=h+1,f=c+1,p=u+1,d=(1<<p)-1,g=0,m=0,v=0,w=s[o++],y=new Int32Array(4096),_=null;;){for(;g<16&&w!==0;)m|=s[o++]<<g,g+=8,w===1?w=s[o++]:--w;if(g<p)break;var x=m&d;if(m>>=p,g-=p,x===h){f=c+1,p=u+1,d=(1<<p)-1,_=null;continue}else if(x===c)break;for(var C=x<f?x:_,E=0,S=C;S>h;)S=y[S]>>8,++E;var D=S,A=v+E+(C!==x?1:0);if(A>l){console.log("Warning, gif stream longer than expected.");return}a[v++]=D,v+=E;var N=v;for(C!==x&&(a[v++]=D),S=C;E--;)S=y[S],a[--N]=S&255,S>>=8;_!==null&&f<4096&&(y[f++]=_<<8|D,f>=d+1&&p<12&&(++p,d=d<<1|1)),_=x}return v!==l&&console.log("Warning, gif stream shorter than expected."),a}try{dd.GifWriter=n,dd.GifReader=r}catch{}return dd}var C5=DV();function NV(n,t,r=i=>i){const i=Object.create(null);if(i.options=t||{},i.reviver=r,i.value="",i.entry=[],i.output=[],i.col=1,i.row=1,i.options.delimiter=i.options.delimiter===void 0?'"':t.delimiter,i.options.delimiter.length>1||i.options.delimiter.length===0)throw Error(`CSVError: delimiter must be one character [${i.options.separator}]`);if(i.options.separator=i.options.separator===void 0?",":t.separator,i.options.separator.length>1||i.options.separator.length===0)throw Error(`CSVError: separator must be one character [${i.options.separator}]`);const s=new RegExp(`${Bu(i.options.delimiter)}|${Bu(i.options.separator)}|\r
|
|\r|[^${Bu(i.options.delimiter)}${Bu(i.options.separator)}\r
]+`,"y"),o=/^(\r\n|\n|\r)$/;let a=[],l="",u=0;for(;(a=s.exec(n))!==null;)switch(l=a[0],u){case 0:switch(!0){case l===i.options.delimiter:u=3;break;case l===i.options.separator:u=0,nl(i);break;case o.test(l):u=0,nl(i),pd(i);break;default:i.value+=l,u=2;break}break;case 2:switch(!0){case l===i.options.separator:u=0,nl(i);break;case o.test(l):u=0,nl(i),pd(i);break;default:throw u=4,Error(`CSVError: Illegal state [row:${i.row}, col:${i.col}]`)}break;case 3:switch(!0){case l===i.options.delimiter:u=4;break;default:u=3,i.value+=l;break}break;case 4:switch(!0){case l===i.options.delimiter:u=3,i.value+=l;break;case l===i.options.separator:u=0,nl(i);break;case o.test(l):u=0,nl(i),pd(i);break;default:throw Error(`CSVError: Illegal state [row:${i.row}, col:${i.col}]`)}break}return i.entry.length!==0&&(nl(i),pd(i)),i.output}function kV(n,t={},r=i=>i){const i=Object.create(null);if(i.options=t,i.options.eof=i.options.eof!==void 0?i.options.eof:!0,i.row=1,i.col=1,i.output="",i.options.delimiter=i.options.delimiter===void 0?'"':t.delimiter,i.options.delimiter.length>1||i.options.delimiter.length===0)throw Error(`CSVError: delimiter must be one character [${i.options.separator}]`);if(i.options.separator=i.options.separator===void 0?",":t.separator,i.options.separator.length>1||i.options.separator.length===0)throw Error(`CSVError: separator must be one character [${i.options.separator}]`);const s=new RegExp(`${Bu(i.options.delimiter)}|${Bu(i.options.separator)}|\r
|
|\r`);return n.forEach((o,a)=>{let l="";switch(i.col=1,o.forEach((u,h)=>{typeof u=="string"&&(u=u.replace(new RegExp(i.options.delimiter,"g"),`${i.options.delimiter}${i.options.delimiter}`),u=s.test(u)?`${i.options.delimiter}${u}${i.options.delimiter}`:u),l+=r(u,i.row,i.col),h!==o.length-1&&(l+=i.options.separator),i.col++}),!0){case i.options.eof:case(!i.options.eof&&a!==n.length-1):i.output+=`${l}
`;break;default:i.output+=`${l}`;break}i.row++}),i.output}function nl(n){const t=n.options.typed?FV(n.value):n.value;n.entry.push(n.reviver(t,n.row,n.col)),n.value="",n.col++}function pd(n){n.output.push(n.entry),n.entry=[],n.row++,n.col=1}function FV(n){const t=/.\./;switch(!0){case n==="true":case n==="false":return n==="true";case t.test(n):return parseFloat(n);case isFinite(n):return parseInt(n);default:return n}}function Bu(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var MV={trailer:59};function A5(n=256){let t=0,r=new Uint8Array(n);return{get buffer(){return r.buffer},reset(){t=0},bytesView(){return r.subarray(0,t)},bytes(){return r.slice(0,t)},writeByte(s){i(t+1),r[t]=s,t++},writeBytes(s,o=0,a=s.length){i(t+a);for(let l=0;l<a;l++)r[t++]=s[l+o]},writeBytesView(s,o=0,a=s.byteLength){i(t+a),r.set(s.subarray(o,o+a),t),t+=a}};function i(s){var o=r.length;if(o>=s)return;var a=1024*1024;s=Math.max(s,o*(o<a?2:1.125)>>>0),o!=0&&(s=Math.max(s,256));let l=r;r=new Uint8Array(s),t>0&&r.set(l.subarray(0,t),0)}}var $0=12,wE=5003,OV=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function PV(n,t,r,i,s=A5(512),o=new Uint8Array(256),a=new Int32Array(wE),l=new Int32Array(wE)){let u=a.length,h=Math.max(2,i);o.fill(0),l.fill(0),a.fill(-1);let c=0,f=0,p=h+1,d=p,g=!1,m=d,v=(1<<m)-1,w=1<<p-1,y=w+1,_=w+2,x=0,C=r[0],E=0;for(let A=u;A<65536;A*=2)++E;E=8-E,s.writeByte(h),D(w);let S=r.length;for(let A=1;A<S;A++)e:{let N=r[A],F=(N<<$0)+C,T=N<<E^C;if(a[T]===F){C=l[T];break e}let I=T===0?1:u-T;for(;a[T]>=0;)if(T-=I,T<0&&(T+=u),a[T]===F){C=l[T];break e}D(C),C=N,_<1<<$0?(l[T]=_++,a[T]=F):(a.fill(-1),_=w+2,g=!0,D(w))}return D(C),D(y),s.writeByte(0),s.bytesView();function D(A){for(c&=OV[f],f>0?c|=A<<f:c=A,f+=m;f>=8;)o[x++]=c&255,x>=254&&(s.writeByte(x),s.writeBytesView(o,0,x),x=0),c>>=8,f-=8;if((_>v||g)&&(g?(m=d,v=(1<<m)-1,g=!1):(++m,v=m===$0?1<<m:(1<<m)-1)),A==y){for(;f>0;)o[x++]=c&255,x>=254&&(s.writeByte(x),s.writeBytesView(o,0,x),x=0),c>>=8,f-=8;x>0&&(s.writeByte(x),s.writeBytesView(o,0,x),x=0)}}}var LV=PV;function RV(n,t,r){return n<<8&63488|t<<2&992|r>>3}function BV(n,t,r,i){return n>>4|t&240|(r&240)<<4|(i&240)<<8}function UV(n,t,r){return n>>4<<8|t&240|r>>4}function md(n,t,r){return n<t?t:n>r?r:n}function Qd(n){return n*n}function EE(n,t,r){var i=0,s=1e100;let o=n[t],a=o.cnt;o.ac;let l=o.rc,u=o.gc,h=o.bc;for(var c=o.fw;c!=0;c=n[c].fw){let p=n[c],d=p.cnt,g=a*d/(a+d);if(!(g>=s)){var f=0;f+=g*Qd(p.rc-l),!(f>=s)&&(f+=g*Qd(p.gc-u),!(f>=s)&&(f+=g*Qd(p.bc-h),!(f>=s)&&(s=f,i=c)))}}o.err=s,o.nn=i}function j0(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function VV(n,t){let r=t==="rgb444"?4096:65536,i=new Array(r),s=n.length;if(t==="rgba4444")for(let o=0;o<s;++o){let a=n[o],l=a>>24&255,u=a>>16&255,h=a>>8&255,c=a&255,f=BV(c,h,u,l),p=f in i?i[f]:i[f]=j0();p.rc+=c,p.gc+=h,p.bc+=u,p.ac+=l,p.cnt++}else if(t==="rgb444")for(let o=0;o<s;++o){let a=n[o],l=a>>16&255,u=a>>8&255,h=a&255,c=UV(h,u,l),f=c in i?i[c]:i[c]=j0();f.rc+=h,f.gc+=u,f.bc+=l,f.cnt++}else for(let o=0;o<s;++o){let a=n[o],l=a>>16&255,u=a>>8&255,h=a&255,c=RV(h,u,l),f=c in i?i[c]:i[c]=j0();f.rc+=h,f.gc+=u,f.bc+=l,f.cnt++}return i}function $V(n,t,r={}){let{format:i="rgb565",clearAlpha:s=!0,clearAlphaColor:o=0,clearAlphaThreshold:a=0,oneBitAlpha:l=!1}=r;if(!n||!n.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(n instanceof Uint8Array)&&!(n instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");let u=new Uint32Array(n.buffer),h=r.useSqrt!==!1,c=i==="rgba4444",f=VV(u,i),p=f.length,d=p-1,g=new Uint32Array(p+1);for(var m=0,v=0;v<p;++v){let M=f[v];if(M!=null){var w=1/M.cnt;c&&(M.ac*=w),M.rc*=w,M.gc*=w,M.bc*=w,f[m++]=M}}Qd(t)/m<.022&&(h=!1);for(var v=0;v<m-1;++v)f[v].fw=v+1,f[v+1].bk=v,h&&(f[v].cnt=Math.sqrt(f[v].cnt));h&&(f[v].cnt=Math.sqrt(f[v].cnt));var y,_,x;for(v=0;v<m;++v){EE(f,v);var C=f[v].err;for(_=++g[0];_>1&&(x=_>>1,!(f[y=g[x]].err<=C));_=x)g[_]=y;g[_]=v}var E=m-t;for(v=0;v<E;){for(var S;;){var D=g[1];if(S=f[D],S.tm>=S.mtm&&f[S.nn].mtm<=S.tm)break;S.mtm==d?D=g[1]=g[g[0]--]:(EE(f,D),S.tm=v);var C=f[D].err;for(_=1;(x=_+_)<=g[0]&&(x<g[0]&&f[g[x]].err>f[g[x+1]].err&&x++,!(C<=f[y=g[x]].err));_=x)g[_]=y;g[_]=D}var A=f[S.nn],N=S.cnt,F=A.cnt,w=1/(N+F);c&&(S.ac=w*(N*S.ac+F*A.ac)),S.rc=w*(N*S.rc+F*A.rc),S.gc=w*(N*S.gc+F*A.gc),S.bc=w*(N*S.bc+F*A.bc),S.cnt+=A.cnt,S.mtm=++v,f[A.bk].fw=A.fw,f[A.fw].bk=A.bk,A.mtm=d}let T=[];var I=0;for(v=0;;++I){let M=md(Math.round(f[v].rc),0,255),L=md(Math.round(f[v].gc),0,255),B=md(Math.round(f[v].bc),0,255),$=255;c&&($=md(Math.round(f[v].ac),0,255),l&&($=$<=(typeof l=="number"?l:127)?0:255),s&&$<=a&&(M=L=B=o,$=0));let q=c?[M,L,B,$]:[M,L,B];if(jV(T,q)||T.push(q),(v=f[v].fw)==0)break}return T}function jV(n,t){for(let r=0;r<n.length;r++){let i=n[r],s=i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2],o=i.length>=4&&t.length>=4?i[3]===t[3]:!0;if(s&&o)return!0}return!1}function zV(n,t){var r=0,i;for(i=0;i<n.length;i++){let s=n[i]-t[i];r+=s*s}return r}function GV(n,t,r=zV){let i=1/0,s=-1;for(let o=0;o<n.length;o++){let a=n[o],l=r(t,a);l<i&&(i=l,s=o)}return s}function HV(n={}){let{initialCapacity:t=4096,auto:r=!0}=n,i=A5(t),s=5003,o=new Uint8Array(256),a=new Int32Array(s),l=new Int32Array(s),u=!1;return{reset(){i.reset(),u=!1},finish(){i.writeByte(MV.trailer)},bytes(){return i.bytes()},bytesView(){return i.bytesView()},get buffer(){return i.buffer},get stream(){return i},writeHeader:h,writeFrame(c,f,p,d={}){let{transparent:g=!1,transparentIndex:m=0,delay:v=0,palette:w=null,repeat:y=0,colorDepth:_=8,dispose:x=-1}=d,C=!1;if(r?u||(C=!0,h(),u=!0):C=!!d.first,f=Math.max(0,Math.floor(f)),p=Math.max(0,Math.floor(p)),C){if(!w)throw new Error("First frame must include a { palette } option");qV(i,f,p,w,_),SE(i,w),y>=0&&XV(i,y)}let E=Math.round(v/10);WV(i,x,E,g,m);let S=!!w&&!C;YV(i,f,p,S?w:null),S&&SE(i,w),KV(i,c,f,p,_,o,a,l)}};function h(){T5(i,"GIF89a")}}function WV(n,t,r,i,s){n.writeByte(33),n.writeByte(249),n.writeByte(4),s<0&&(s=0,i=!1);var o,a;i?(o=1,a=2):(o=0,a=0),t>=0&&(a=t&7),a<<=2,n.writeByte(0|a|0|o),Ea(n,r),n.writeByte(s||0),n.writeByte(0)}function qV(n,t,r,i,s=8){let o=1,a=0,l=Sb(i.length)-1,u=o<<7|s-1<<4|a<<3|l;Ea(n,t),Ea(n,r),n.writeBytes([u,0,0])}function XV(n,t){n.writeByte(33),n.writeByte(255),n.writeByte(11),T5(n,"NETSCAPE2.0"),n.writeByte(3),n.writeByte(1),Ea(n,t),n.writeByte(0)}function SE(n,t){let r=1<<Sb(t.length);for(let i=0;i<r;i++){let s=[0,0,0];i<t.length&&(s=t[i]),n.writeByte(s[0]),n.writeByte(s[1]),n.writeByte(s[2])}}function YV(n,t,r,i){if(n.writeByte(44),Ea(n,0),Ea(n,0),Ea(n,t),Ea(n,r),i){let s=0,o=0,a=Sb(i.length)-1;n.writeByte(128|s|o|0|a)}else n.writeByte(0)}function KV(n,t,r,i,s=8,o,a,l){LV(r,i,t,s,n,o,a,l)}function Ea(n,t){n.writeByte(t&255),n.writeByte(t>>8&255)}function T5(n,t){for(var r=0;r<t.length;r++)n.writeByte(t.charCodeAt(r))}function Sb(n){return Math.max(Math.ceil(Math.log2(n)),1)}function Cb(n,t){t.blend=function(...i){this._renderer?this._renderer.blend(...i):n.Renderer2D.prototype.blend.apply(this,i)},t.copy=function(...i){let s,o,a,l,u,h,c,f,p;if(i.length===9)s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],c=i[6],f=i[7],p=i[8];else if(i.length===8)s=this,o=i[0],a=i[1],l=i[2],u=i[3],h=i[4],c=i[5],f=i[6],p=i[7];else throw new Error("Signature not supported");t._copyHelper(this,s,o,a,l,u,h,c,f,p)},t._copyHelper=(i,s,o,a,l,u,h,c,f,p)=>{const d=s.canvas.width/s.width;let g=0,m=0;s._renderer&&s._renderer.isP3D&&(g=s.width/2,m=s.height/2),i._renderer&&i._renderer.isP3D?(i.push(),i.resetMatrix(),i.noLights(),i.blendMode(i.BLEND),i.imageMode(i.CORNER),i._renderer.image(s,o+g,a+m,l,u,h,c,f,p),i.pop()):i.drawingContext.drawImage(s.canvas,d*(o+g),d*(a+m),d*l,d*u,h,c,f,p)},t.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},t.filter=function(...i){let{shader:s,operation:o,value:a,useWebGL:l}=r(...i);if(this._renderer.isP3D&&s){this._renderer.filter(s);return}if(!l&&!this._renderer.isP3D){this.canvas!==void 0?An.apply(this.canvas,An[o],a):An.apply(this.elt,An[o],a);return}!l&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?this._renderer.filter(o,a):(s?this._renderer.filterRenderer.setOperation(o,a,s):this._renderer.filterRenderer.setOperation(o,a),this._renderer.filterRenderer.applyFilter())};function r(...i){let s={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return i[0]instanceof n.Shader?(s.shader=i[0],s):(s.operation=i[0],i.length>1&&typeof i[1]=="number"&&(s.value=i[1]),i[i.length-1]===!1&&(s.useWebGL=!1),s)}t.get=function(i,s,o,a){return this._renderer.get(...arguments)},t.loadPixels=function(...i){this._renderer.loadPixels()},t.set=function(i,s,o){this._renderer.set(i,s,o)},t.updatePixels=function(i,s,o,a){this.pixels.length!==0&&this._renderer.updatePixels(i,s,o,a)}}typeof p5<"u"&&Cb(p5,p5.prototype);class Ab{#e=null;constructor(...t){if(this.constructor===Ab)throw new Error("Class is of abstract type and can't be instantiated")}}const z0=n=>{if(Math.sqrt(n.length)%1!==0)throw new Error("Array length must be a perfect square.");return!0};let Do=Array,ul=n=>Array.isArray(n);typeof Float32Array<"u"&&(Do=Float32Array,ul=n=>Array.isArray(n)||n instanceof Float32Array);class Un extends Ab{matrix;#e;constructor(...t){if(super(...t),ul(t[0])&&z0(t[0])){const r=Math.sqrt(t[0].length);this.#e=r,this.matrix=Do.from(t[0])}else typeof t[0]=="number"&&(this.#e=Number(t[0]),this.matrix=this.#t(t[0]));return this}get mat3(){if(this.#e===3)return this.matrix}get mat4(){if(this.#e===4)return this.matrix}add(t){if(this.matrix.length!==t.matrix.length)throw new Error("Matrices must be of the same dimension to add.");for(let r=0;r<this.matrix.length;r++)this.matrix[r]+=t.matrix[r];return this}setElement(t,r){return t>=0&&t<this.matrix.length&&(this.matrix[t]=r),this}reset(){return this.matrix=this.#t(this.#e),this}set(t){let r=Do.from([...arguments]);return t instanceof Un?r=Do.from(t.matrix):ul(t)&&(r=Do.from(t)),r.length!==this.matrix.length?(p5._friendlyError(`Expected same dimensions values but received different ${r.length}.`,"p5.Matrix.set"),this):(this.matrix=r,this)}get(){return new Un(this.matrix)}copy(){return new Un(this.matrix)}clone(){return this.copy()}diagonal(){const t=[];for(let r=0;r<this.#e;r++)t.push(this.matrix[r*(this.#e+1)]);return t}row(t){const r=[];for(let i=0;i<this.#e;i++)r.push(this.matrix[i*this.#e+t]);return new Me(...r)}column(t){const r=[];for(let i=0;i<this.#e;i++)r.push(this.matrix[t*this.#e+i]);return new Me(...r)}transpose(t){return this.#e===4?this.#r(t):this.#e===3?this.#a(t):this.#o(t)}mult(t){let r;return t===this||t===this.matrix?r=this.copy().matrix:t instanceof Un?r=t.matrix:ul(t)&&z0(t)?r=t:z0(Array.from(arguments))&&(r=Array.from(arguments)),this.#e===4&&r.length===16?this.#n(r):this.#e===3&&r.length===9?this.#s(r):this.#i(r)}multiplyVec(t,r){r===void 0&&(r=t.copy());for(let i=0;i<this.#e;i++)r.values[i]=this.row(i).dot(t);return r}invert(t){if(this.#e===4)return this.#l(t);if(this.#e===3)return this.#u(t);throw new Error("Invert is not implemented for N>4 at the moment, we are working on it")}createSubMatrix3x3(){if(this.#e===4){const t=new Un(3);return t.mat3[0]=this.matrix[0],t.mat3[1]=this.matrix[1],t.mat3[2]=this.matrix[2],t.mat3[3]=this.matrix[4],t.mat3[4]=this.matrix[5],t.mat3[5]=this.matrix[6],t.mat3[6]=this.matrix[8],t.mat3[7]=this.matrix[9],t.mat3[8]=this.matrix[10],t}else throw new Error("Matrix dimension must be 4 to create a 3x3 submatrix.")}inverseTranspose4x4({mat4:t}){if(this.#e!==3)throw new Error("This function only works with 33 matrices.");this.matrix[0]=t[0],this.matrix[1]=t[1],this.matrix[2]=t[2],this.matrix[3]=t[4],this.matrix[4]=t[5],this.matrix[5]=t[6],this.matrix[6]=t[8],this.matrix[7]=t[9],this.matrix[8]=t[10];const r=this.invert();if(r)r.transpose(this.matrix);else for(let i=0;i<9;i++)this.matrix[i]=0;return this}apply(t){let r;if(t===this||t===this.matrix)r=this.copy().matrix;else if(t instanceof Un)r=t.matrix;else if(ul(t))r=t;else if(arguments.length===16)r=arguments;else return;const i=this.matrix,s=i[0],o=i[4],a=i[8],l=i[12];i[0]=r[0]*s+r[1]*o+r[2]*a+r[3]*l,i[4]=r[4]*s+r[5]*o+r[6]*a+r[7]*l,i[8]=r[8]*s+r[9]*o+r[10]*a+r[11]*l,i[12]=r[12]*s+r[13]*o+r[14]*a+r[15]*l;const u=i[1],h=i[5],c=i[9],f=i[13];i[1]=r[0]*u+r[1]*h+r[2]*c+r[3]*f,i[5]=r[4]*u+r[5]*h+r[6]*c+r[7]*f,i[9]=r[8]*u+r[9]*h+r[10]*c+r[11]*f,i[13]=r[12]*u+r[13]*h+r[14]*c+r[15]*f;const p=i[2],d=i[6],g=i[10],m=i[14];i[2]=r[0]*p+r[1]*d+r[2]*g+r[3]*m,i[6]=r[4]*p+r[5]*d+r[6]*g+r[7]*m,i[10]=r[8]*p+r[9]*d+r[10]*g+r[11]*m,i[14]=r[12]*p+r[13]*d+r[14]*g+r[15]*m;const v=i[3],w=i[7],y=i[11],_=i[15];return i[3]=r[0]*v+r[1]*w+r[2]*y+r[3]*_,i[7]=r[4]*v+r[5]*w+r[6]*y+r[7]*_,i[11]=r[8]*v+r[9]*w+r[10]*y+r[11]*_,i[15]=r[12]*v+r[13]*w+r[14]*y+r[15]*_,this}scale(t,r,i){return t instanceof Me?(r=t.y,i=t.z,t=t.x):t instanceof Array&&(r=t[1],i=t[2],t=t[0]),this.matrix[0]*=t,this.matrix[1]*=t,this.matrix[2]*=t,this.matrix[3]*=t,this.matrix[4]*=r,this.matrix[5]*=r,this.matrix[6]*=r,this.matrix[7]*=r,this.matrix[8]*=i,this.matrix[9]*=i,this.matrix[10]*=i,this.matrix[11]*=i,this}rotate4x4(t,r,i,s){r instanceof Me?(i=r.y,s=r.z,r=r.x):r instanceof Array&&(i=r[1],s=r[2],r=r[0]);const o=Math.sqrt(r*r+i*i+s*s);r*=1/o,i*=1/o,s*=1/o;const a=this.matrix[0],l=this.matrix[1],u=this.matrix[2],h=this.matrix[3],c=this.matrix[4],f=this.matrix[5],p=this.matrix[6],d=this.matrix[7],g=this.matrix[8],m=this.matrix[9],v=this.matrix[10],w=this.matrix[11],y=Math.sin(t),_=Math.cos(t),x=1-_,C=r*r*x+_,E=i*r*x+s*y,S=s*r*x-i*y,D=r*i*x-s*y,A=i*i*x+_,N=s*i*x+r*y,F=r*s*x+i*y,T=i*s*x-r*y,I=s*s*x+_;return this.matrix[0]=a*C+c*E+g*S,this.matrix[1]=l*C+f*E+m*S,this.matrix[2]=u*C+p*E+v*S,this.matrix[3]=h*C+d*E+w*S,this.matrix[4]=a*D+c*A+g*N,this.matrix[5]=l*D+f*A+m*N,this.matrix[6]=u*D+p*A+v*N,this.matrix[7]=h*D+d*A+w*N,this.matrix[8]=a*F+c*T+g*I,this.matrix[9]=l*F+f*T+m*I,this.matrix[10]=u*F+p*T+v*I,this.matrix[11]=h*F+d*T+w*I,this}translate(t){const r=t[0],i=t[1],s=t[2]||0;return this.matrix[12]+=this.matrix[0]*r+this.matrix[4]*i+this.matrix[8]*s,this.matrix[13]+=this.matrix[1]*r+this.matrix[5]*i+this.matrix[9]*s,this.matrix[14]+=this.matrix[2]*r+this.matrix[6]*i+this.matrix[10]*s,this.matrix[15]+=this.matrix[3]*r+this.matrix[7]*i+this.matrix[11]*s,this}rotateX(t){this.rotate4x4(t,1,0,0)}rotateY(t){this.rotate4x4(t,0,1,0)}rotateZ(t){this.rotate4x4(t,0,0,1)}perspective(t,r,i,s){const o=1/Math.tan(t/2),a=1/(i-s);return this.matrix[0]=o/r,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=o,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=(s+i)*a,this.matrix[11]=-1,this.matrix[12]=0,this.matrix[13]=0,this.matrix[14]=2*s*i*a,this.matrix[15]=0,this}ortho(t,r,i,s,o,a){const l=1/(t-r),u=1/(i-s),h=1/(o-a);return this.matrix[0]=-2*l,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=-2*u,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=2*h,this.matrix[11]=0,this.matrix[12]=(t+r)*l,this.matrix[13]=(s+i)*u,this.matrix[14]=(a+o)*h,this.matrix[15]=1,this}multiplyVec4(t,r,i,s){const o=new Array(4),a=this.matrix;return o[0]=a[0]*t+a[4]*r+a[8]*i+a[12]*s,o[1]=a[1]*t+a[5]*r+a[9]*i+a[13]*s,o[2]=a[2]*t+a[6]*r+a[10]*i+a[14]*s,o[3]=a[3]*t+a[7]*r+a[11]*i+a[15]*s,o}multiplyPoint({x:t,y:r,z:i}){const s=this.multiplyVec4(t,r,i,1);return new Me(s[0],s[1],s[2])}multiplyAndNormalizePoint({x:t,y:r,z:i}){const s=this.multiplyVec4(t,r,i,1);return s[0]/=s[3],s[1]/=s[3],s[2]/=s[3],new Me(s[0],s[1],s[2])}multiplyDirection({x:t,y:r,z:i}){const s=this.multiplyVec4(t,r,i,0);return new Me(s[0],s[1],s[2])}multiplyVec3(t,r){return r===void 0&&(r=t.copy()),r.x=this.row(0).dot(t),r.y=this.row(1).dot(t),r.z=this.row(2).dot(t),r}#t(t){if(t===3)return new Do([1,0,0,0,1,0,0,0,1]);if(t===4)return new Do([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);const r=new Do(t*t).fill(0);for(let i=0;i<t;i++)r[i*t+i]=1;return r}#n(t){let r=this.matrix[0],i=this.matrix[1],s=this.matrix[2],o=this.matrix[3];return this.matrix[0]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[1]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[2]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[3]=r*t[3]+i*t[7]+s*t[11]+o*t[15],r=this.matrix[4],i=this.matrix[5],s=this.matrix[6],o=this.matrix[7],this.matrix[4]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[5]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[6]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[7]=r*t[3]+i*t[7]+s*t[11]+o*t[15],r=this.matrix[8],i=this.matrix[9],s=this.matrix[10],o=this.matrix[11],this.matrix[8]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[9]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[10]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[11]=r*t[3]+i*t[7]+s*t[11]+o*t[15],r=this.matrix[12],i=this.matrix[13],s=this.matrix[14],o=this.matrix[15],this.matrix[12]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[13]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[14]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[15]=r*t[3]+i*t[7]+s*t[11]+o*t[15],this}#i(t){if(t.length!==this.matrix.length)throw new Error("Matrices must be of the same dimension to multiply.");const r=new Do(this.matrix.length).fill(0);for(let i=0;i<this.#e;i++)for(let s=0;s<this.#e;s++)for(let o=0;o<this.#e;o++)r[i*this.#e+s]+=this.matrix[i*this.#e+o]*t[o*this.#e+s];return this.matrix=r,this}#s(t){let r=this.mat3[0],i=this.mat3[1],s=this.mat3[2];return this.mat3[0]=r*t[0]+i*t[3]+s*t[6],this.mat3[1]=r*t[1]+i*t[4]+s*t[7],this.mat3[2]=r*t[2]+i*t[5]+s*t[8],r=this.mat3[3],i=this.mat3[4],s=this.mat3[5],this.mat3[3]=r*t[0]+i*t[3]+s*t[6],this.mat3[4]=r*t[1]+i*t[4]+s*t[7],this.mat3[5]=r*t[2]+i*t[5]+s*t[8],r=this.mat3[6],i=this.mat3[7],s=this.mat3[8],this.mat3[6]=r*t[0]+i*t[3]+s*t[6],this.mat3[7]=r*t[1]+i*t[4]+s*t[7],this.mat3[8]=r*t[2]+i*t[5]+s*t[8],this}#o(){const t=this.#e;for(let r=0;r<t;r++)for(let i=0;i<t;i++)this.matrix[r*t+i]=this.matrix[i*t+r];return this}#r(t){console.log("====> 4x4");let r,i,s,o,a,l;return t instanceof Un?(r=t.matrix[1],i=t.matrix[2],s=t.matrix[3],o=t.matrix[6],a=t.matrix[7],l=t.matrix[11],this.matrix[0]=t.matrix[0],this.matrix[1]=t.matrix[4],this.matrix[2]=t.matrix[8],this.matrix[3]=t.matrix[12],this.matrix[4]=r,this.matrix[5]=t.matrix[5],this.matrix[6]=t.matrix[9],this.matrix[7]=t.matrix[13],this.matrix[8]=i,this.matrix[9]=o,this.matrix[10]=t.matrix[10],this.matrix[11]=t.matrix[14],this.matrix[12]=s,this.matrix[13]=a,this.matrix[14]=l,this.matrix[15]=t.matrix[15]):ul(t)&&(r=t[1],i=t[2],s=t[3],o=t[6],a=t[7],l=t[11],this.matrix[0]=t[0],this.matrix[1]=t[4],this.matrix[2]=t[8],this.matrix[3]=t[12],this.matrix[4]=r,this.matrix[5]=t[5],this.matrix[6]=t[9],this.matrix[7]=t[13],this.matrix[8]=i,this.matrix[9]=o,this.matrix[10]=t[10],this.matrix[11]=t[14],this.matrix[12]=s,this.matrix[13]=a,this.matrix[14]=l,this.matrix[15]=t[15]),this}#a(t){t===void 0&&(t=this.mat3);const r=t[1],i=t[2],s=t[5];return this.mat3[0]=t[0],this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=r,this.mat3[4]=t[4],this.mat3[5]=t[7],this.mat3[6]=i,this.mat3[7]=s,this.mat3[8]=t[8],this}#l(t){let r,i,s,o,a,l,u,h,c,f,p,d,g,m,v,w;t instanceof Un?(r=t.matrix[0],i=t.matrix[1],s=t.matrix[2],o=t.matrix[3],a=t.matrix[4],l=t.matrix[5],u=t.matrix[6],h=t.matrix[7],c=t.matrix[8],f=t.matrix[9],p=t.matrix[10],d=t.matrix[11],g=t.matrix[12],m=t.matrix[13],v=t.matrix[14],w=t.matrix[15]):ul(t)&&(r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],f=t[9],p=t[10],d=t[11],g=t[12],m=t[13],v=t[14],w=t[15]);const y=r*l-i*a,_=r*u-s*a,x=r*h-o*a,C=i*u-s*l,E=i*h-o*l,S=s*h-o*u,D=c*m-f*g,A=c*v-p*g,N=c*w-d*g,F=f*v-p*m,T=f*w-d*m,I=p*w-d*v;let M=y*I-_*T+x*F+C*N-E*A+S*D;return M?(M=1/M,this.matrix[0]=(l*I-u*T+h*F)*M,this.matrix[1]=(s*T-i*I-o*F)*M,this.matrix[2]=(m*S-v*E+w*C)*M,this.matrix[3]=(p*E-f*S-d*C)*M,this.matrix[4]=(u*N-a*I-h*A)*M,this.matrix[5]=(r*I-s*N+o*A)*M,this.matrix[6]=(v*x-g*S-w*_)*M,this.matrix[7]=(c*S-p*x+d*_)*M,this.matrix[8]=(a*T-l*N+h*D)*M,this.matrix[9]=(i*N-r*T-o*D)*M,this.matrix[10]=(g*E-m*x+w*y)*M,this.matrix[11]=(f*x-c*E-d*y)*M,this.matrix[12]=(l*A-a*F-u*D)*M,this.matrix[13]=(r*F-i*A+s*D)*M,this.matrix[14]=(m*_-g*C-v*y)*M,this.matrix[15]=(c*C-f*_+p*y)*M,this):null}#u(){const t=this.mat3[0],r=this.mat3[1],i=this.mat3[2],s=this.mat3[3],o=this.mat3[4],a=this.mat3[5],l=this.mat3[6],u=this.mat3[7],h=this.mat3[8],c=h*o-a*u,f=-h*s+a*l,p=u*s-o*l;let d=t*c+r*f+i*p;return d?(d=1/d,this.mat3[0]=c*d,this.mat3[1]=(-h*r+i*u)*d,this.mat3[2]=(a*r-i*o)*d,this.mat3[3]=f*d,this.mat3[4]=(h*t-i*l)*d,this.mat3[5]=(-a*t+i*s)*d,this.mat3[6]=p*d,this.mat3[7]=(-u*t+r*l)*d,this.mat3[8]=(o*t-r*s)*d,this):null}#c(){if(this.#e!==4)throw new Error("Determinant is only implemented for 4x4 matrices. We are working on it.");const t=this.matrix[0]*this.matrix[5]-this.matrix[1]*this.matrix[4],r=this.matrix[0]*this.matrix[6]-this.matrix[2]*this.matrix[4],i=this.matrix[0]*this.matrix[7]-this.matrix[3]*this.matrix[4],s=this.matrix[1]*this.matrix[6]-this.matrix[2]*this.matrix[5],o=this.matrix[1]*this.matrix[7]-this.matrix[3]*this.matrix[5],a=this.matrix[2]*this.matrix[7]-this.matrix[3]*this.matrix[6],l=this.matrix[8]*this.matrix[13]-this.matrix[9]*this.matrix[12],u=this.matrix[8]*this.matrix[14]-this.matrix[10]*this.matrix[12],h=this.matrix[8]*this.matrix[15]-this.matrix[11]*this.matrix[12],c=this.matrix[9]*this.matrix[14]-this.matrix[10]*this.matrix[13],f=this.matrix[9]*this.matrix[15]-this.matrix[11]*this.matrix[13],p=this.matrix[10]*this.matrix[15]-this.matrix[11]*this.matrix[14];return t*p-r*f+i*c+s*h-o*u+a*l}}function I5(n,t){n.Matrix=Un}typeof p5<"u"&&I5(p5,p5.prototype);class pl{constructor(t=128){this.length=0,this.data=new Float32Array(t),this.initialLength=t}dataArray(){return this.subArray(0,this.length)}clear(){this.length=0}rescale(){if(this.length<this.data.length/2){const t=1<<Math.ceil(Math.log2(this.length)),r=new Float32Array(t);r.set(this.data.subarray(0,this.length),0),this.data=r}}reset(){this.clear(),this.data=new Float32Array(this.initialLength)}push(...t){this.ensureLength(this.length+t.length),this.data.set(t,this.length),this.length+=t.length}slice(t,r){return this.data.slice(t,Math.min(r,this.length))}subArray(t,r){return this.data.subarray(t,Math.min(r,this.length))}ensureLength(t){for(;this.data.length<t;){const r=new Float32Array(this.data.length*2);r.set(this.data,0),this.data=r}}}function D5(n,t){n.DataArray=pl}typeof p5<"u"&&D5(p5,p5.prototype);class qr{constructor(t,r,i,s){this.renderer=s,this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new pl,this.lineTangentsIn=new pl,this.lineTangentsOut=new pl,this.lineSides=new pl,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.userVertexProperties={},this.lineVertexColors=new pl,this.detailX=t!==void 0?t:1,this.detailY=r!==void 0?r:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.gid=`_p5_Geometry_${qr.nextId}`,qr.nextId++,i instanceof Function&&i.call(this)}calculateBoundingBox(){if(this.boundingBoxCache)return this.boundingBoxCache;let t=new Me(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),r=new Me(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE);for(let o=0;o<this.vertices.length;o++){let a=this.vertices[o];t.x=Math.min(t.x,a.x),t.y=Math.min(t.y,a.y),t.z=Math.min(t.z,a.z),r.x=Math.max(r.x,a.x),r.y=Math.max(r.y,a.y),r.z=Math.max(r.z,a.z)}let i=new Me(r.x-t.x,r.y-t.y,r.z-t.z),s=new Me((t.x+r.x)/2,(t.y+r.y)/2,(t.z+r.z)/2);return this.boundingBoxCache={min:t,max:r,size:i,offset:s},this.boundingBoxCache}reset(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0;for(const t in this.userVertexProperties)this.userVertexProperties[t].delete();this.userVertexProperties={},this.dirtyFlags={}}hasFillTransparency(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(let t=0;t<this.vertexColors.length;t+=4)if(this.vertexColors[t+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}hasStrokeTransparency(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(let t=0;t<this.lineVertexColors.length;t+=4)if(this.lineVertexColors[t+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}clearColors(){return this.vertexColors=[],this}saveObj(t="model.obj"){let r="";if(this.vertices.forEach(s=>{r+=`v ${s.x} ${s.y} ${s.z}
`}),this.uvs&&this.uvs.length>0)for(let s=0;s<this.uvs.length;s+=2)r+=`vt ${this.uvs[s]} ${this.uvs[s+1]}
`;this.vertexNormals&&this.vertexNormals.length>0&&this.vertexNormals.forEach(s=>{r+=`vn ${s.x} ${s.y} ${s.z}
`}),this.faces.forEach(s=>{let o="f";s.forEach(a=>{o+=" ",o+=a+1,(this.vertexNormals.length>0||this.uvs.length>0)&&(o+="/",this.uvs.length>0&&(o+=a+1),o+="/",this.vertexNormals.length>0&&(o+=a+1))}),r+=o+`
`});const i=new Blob([r],{type:"text/plain"});Yh(i,t,"obj")}saveStl(t="model.stl",{binary:r=!1}={}){let i,s=t.substring(0,t.lastIndexOf(".")),o=[];for(let l of this.faces){const u=Me.sub(this.vertices[l[1]],this.vertices[l[0]]),h=Me.sub(this.vertices[l[2]],this.vertices[l[0]]),c=u.y*h.z-u.z*h.y,f=u.z*h.x-u.x*h.z,p=u.x*h.y-u.y*h.x;o.push(new Me(c,f,p).normalize())}if(r){let l=80;const u=this.faces.length*2+this.faces.length*3*4*4+80+4,h=new ArrayBuffer(u);i=new DataView(h),i.setUint32(l,this.faces.length,!0),l+=4;for(const[c,f]of Object.entries(this.faces)){const p=o[c];i.setFloat32(l,p.x,!0),l+=4,i.setFloat32(l,p.y,!0),l+=4,i.setFloat32(l,p.z,!0),l+=4;for(let d of f){const g=this.vertices[d];i.setFloat32(l,g.x,!0),l+=4,i.setFloat32(l,g.y,!0),l+=4,i.setFloat32(l,g.z,!0),l+=4}i.setUint16(l,0,!0),l+=2}}else{i="solid "+s+`
`;for(const[l,u]of Object.entries(this.faces)){const h=o[l];i+=" facet norm "+h.x+" "+h.y+" "+h.z+`
`,i+=`  outer loop
`;for(let c of u){const f=this.vertices[c];i+="   vertex "+f.x+" "+f.y+" "+f.z+`
`}i+=`  endloop
`,i+=` endfacet
`}i+="endsolid "+s+`
`}const a=new Blob([i],{type:"text/plain"});Yh(a,t,"stl")}flipU(){this.uvs=this.uvs.flat().map((t,r)=>r%2===0?1-t:t)}flipV(){this.uvs=this.uvs.flat().map((t,r)=>r%2===0?t:1-t)}computeFaces(){this.faces.length=0;const t=this.detailX+1;let r,i,s,o;for(let a=0;a<this.detailY;a++)for(let l=0;l<this.detailX;l++)r=a*t+l,i=a*t+l+1,s=(a+1)*t+l+1,o=(a+1)*t+l,this.faces.push([r,i,o]),this.faces.push([o,i,s]);return this}_getFaceNormal(t){const r=this.faces[t],i=this.vertices[r[0]],s=this.vertices[r[1]],o=this.vertices[r[2]],a=Me.sub(s,i),l=Me.sub(o,i),u=Me.cross(a,l),h=Me.mag(u);let c=h/(Me.mag(a)*Me.mag(l));return c===0||isNaN(c)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),u):(c>1&&(c=1),u.mult(Math.asin(c)/h))}computeNormals(t=TD,{roundToPrecision:r=3}={}){const i=this.vertexNormals;let s=this.vertices;const o=this.faces;let a;if(t===ID){const l={},u=[],h=Math.pow(10,r),c=p=>Math.round(p*h)/h,f=p=>`${c(p.x)},${c(p.y)},${c(p.z)}`;for(let p=0;p<s.length;p++){const d=s[p],g=f(d);l[g]===void 0&&(l[g]=u.length,u.push(d))}o.forEach(p=>{for(let d=0;d<3;++d){const g=p[d],m=s[g],v=f(m);p[d]=l[v]}}),this.edges.forEach(p=>{for(let d=0;d<2;++d){const g=p[d],m=s[g],v=f(m);p[d]=l[v]}}),this.vertices=s=u}for(i.length=0,a=0;a<s.length;++a)i.push(new Me);for(o.forEach((l,u)=>{const h=this._getFaceNormal(u);for(let c=0;c<3;++c){const f=l[c];i[f].add(h)}}),a=0;a<s.length;++a)i[a].normalize();return this}averageNormals(){for(let t=0;t<=this.detailY;t++){const r=this.detailX+1;let i=Me.add(this.vertexNormals[t*r],this.vertexNormals[t*r+this.detailX]);i=Me.div(i,2),this.vertexNormals[t*r]=i,this.vertexNormals[t*r+this.detailX]=i}return this}averagePoleNormals(){let t=new Me(0,0,0);for(let r=0;r<this.detailX;r++)t.add(this.vertexNormals[r]);t=Me.div(t,this.detailX);for(let r=0;r<this.detailX;r++)this.vertexNormals[r]=t;t=new Me(0,0,0);for(let r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)t.add(this.vertexNormals[r]);t=Me.div(t,this.detailX);for(let r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)this.vertexNormals[r]=t;return this}_makeTriangleEdges(){this.edges.length=0;for(let t=0;t<this.faces.length;t++)this.edges.push([this.faces[t][0],this.faces[t][1]]),this.edges.push([this.faces[t][1],this.faces[t][2]]),this.edges.push([this.faces[t][2],this.faces[t][0]]);return this}makeEdgesFromFaces(){this._makeTriangleEdges()}_edgesToVertices(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();const t=new Map,r=new Set;let i;for(let s=0;s<this.edges.length;s++){const o=this.edges[s-1],a=this.edges[s],l=this.vertices[a[0]],u=this.vertices[a[1]],h=this.vertexStrokeColors.length>0&&o?this.vertexStrokeColors.slice(o[1]*4,(o[1]+1)*4):[0,0,0,0],c=this.vertexStrokeColors.length>0?this.vertexStrokeColors.slice(a[0]*4,(a[0]+1)*4):[0,0,0,0],f=this.vertexStrokeColors.length>0?this.vertexStrokeColors.slice(a[1]*4,(a[1]+1)*4):[0,0,0,0],p=u.copy().sub(l).normalize(),d=p.magSq()>0;if(d&&this._addSegment(l,u,c,f,p),!this.renderer?._simpleLines){if(s>0&&o[1]===a[0])r.has(a[0])||(r.add(a[0]),t.delete(a[0]),i&&d&&p.dot(i)<1-1e-8&&this._addJoin(l,i,p,c));else{if(d&&!r.has(a[0])){const g=t.get(a[0]);g?(this._addJoin(l,g.dir,p,c),t.delete(a[0]),r.add(a[0])):t.set(a[0],{point:l,dir:p.copy().mult(-1),color:c})}if(i&&!r.has(o[1])){const g=t.get(o[1]);g?(this._addJoin(this.vertices[o[1]],i,g.dir.copy().mult(-1),h),t.delete(o[1]),r.add(o[1])):t.set(o[1],{point:this.vertices[o[1]],dir:i,color:h}),i=void 0}}if(s===this.edges.length-1&&!r.has(a[1])){const g=t.get(a[1]);g?(this._addJoin(u,p,g.dir.copy().mult(-1),f),t.delete(a[1]),r.add(a[1])):t.set(a[1],{point:u,dir:p,color:f})}d&&(i=p)}}for(const{point:s,dir:o,color:a}of t.values())this._addCap(s,o,a);return this}_addSegment(t,r,i,s,o){const a=t.array(),l=r.array(),u=o.array();this.lineSides.push(1,1,-1,1,-1,-1);for(const h of[this.lineTangentsIn,this.lineTangentsOut])for(let c=0;c<6;c++)h.push(...u);return this.lineVertices.push(...a,...l,...a,...l,...l,...a),this.renderer?._simpleLines||this.lineVertexColors.push(...i,...s,...i,...s,...s,...i),this}_addCap(t,r,i){const s=t.array(),o=r.array(),a=[0,0,0];for(let l=0;l<6;l++)this.lineVertices.push(...s),this.lineTangentsIn.push(...o),this.lineTangentsOut.push(...a),this.lineVertexColors.push(...i);return this.lineSides.push(-1,2,-2,1,2,-1),this}_addJoin(t,r,i,s){const o=t.array(),a=r.array(),l=i.array();for(let u=0;u<12;u++)this.lineVertices.push(...o),this.lineTangentsIn.push(...a),this.lineTangentsOut.push(...l),this.lineVertexColors.push(...s);return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}normalize(){if(this.vertices.length>0){const t=this.vertices[0].copy(),r=this.vertices[0].copy();for(let l=0;l<this.vertices.length;l++)t.x=Math.max(t.x,this.vertices[l].x),r.x=Math.min(r.x,this.vertices[l].x),t.y=Math.max(t.y,this.vertices[l].y),r.y=Math.min(r.y,this.vertices[l].y),t.z=Math.max(t.z,this.vertices[l].z),r.z=Math.min(r.z,this.vertices[l].z);const i=Me.lerp(t,r,.5),s=Me.sub(t,r),a=200/Math.max(Math.max(s.x,s.y),s.z);for(let l=0;l<this.vertices.length;l++)this.vertices[l].sub(i),this.vertices[l].mult(a)}return this}vertexProperty(t,r,i){let s;this.userVertexProperties[t]||(s=this.userVertexProperties[t]=this._userVertexPropertyHelper(t,r,i)),s=this.userVertexProperties[t],i?s.pushDirect(r):(s.setCurrentData(r),s.pushCurrentData())}_userVertexPropertyHelper(t,r,i){const s=this,o=this.userVertexProperties[t]={name:t,dataSize:i||(r.length?r.length:1),geometry:s,getName(){return this.name},getCurrentData(){return this.currentData===void 0&&(this.currentData=new Array(this.getDataSize()).fill(0)),this.currentData},getDataSize(){return this.dataSize},getSrcName(){return this.name.concat("Src")},getDstName(){return this.name.concat("Buffer")},getSrcArray(){const a=this.getSrcName();return this.geometry[a]},setCurrentData(a){a.length&&a.length,this.currentData=a},pushCurrentData(){const a=this.getCurrentData();this.pushDirect(a)},pushDirect(a){a.length?this.getSrcArray().push(...a):this.getSrcArray().push(a)},resetSrcArray(){this.geometry[this.getSrcName()]=[]},delete(){const a=this.getSrcName();delete this.geometry[a],delete this}};return this[o.getSrcName()]=[],this.userVertexProperties[t]}}qr.nextId=0;function N5(n,t){n.Geometry=qr}typeof p5<"u"&&N5(p5,p5.prototype);class Kh{constructor(t){this.renderer=t,t._pInst.push(),this.identityMatrix=new Un(4),t.states.setValue("uModelMatrix",new Un(4)),this.geometry=new qr(void 0,void 0,void 0,this.renderer),this.geometry.gid=`_p5_GeometryBuilder_${Kh.nextGeometryId}`,Kh.nextGeometryId++,this.hasTransform=!1}transformVertices(t){return this.hasTransform?t.map(r=>this.renderer.states.uModelMatrix.multiplyPoint(r)):t}transformNormals(t){return this.hasTransform?t.map(r=>this.renderer.scratchMat3.multiplyVec(r)):t}addGeometry(t){this.hasTransform=!this.renderer.states.uModelMatrix.mat4.every((l,u)=>l===this.identityMatrix.mat4[u]),this.hasTransform&&this.renderer.scratchMat3.inverseTranspose4x4(this.renderer.states.uModelMatrix);let r=this.geometry.vertices.length;this.geometry.vertices.push(...this.transformVertices(t.vertices)),this.geometry.vertexNormals.push(...this.transformNormals(t.vertexNormals)),this.geometry.uvs.push(...t.uvs);const i=t.userVertexProperties,s=this.geometry.userVertexProperties,o=this.geometry.vertices.length-t.vertices.length;for(const l in s){if(l in i)continue;const u=s[l],c=u.getDataSize()*t.vertices.length,f=Array(c).fill(0);u.pushDirect(f)}for(const l in i){const u=i[l],h=u.getSrcArray(),c=u.getDataSize();if(o>0&&!(l in s)){const f=c*o,p=Array(f).fill(0);this.geometry.vertexProperty(l,p,c)}this.geometry.vertexProperty(l,h,c)}this.renderer.states.fillColor&&this.geometry.faces.push(...t.faces.map(l=>l.map(u=>u+r))),this.renderer.states.strokeColor&&this.geometry.edges.push(...t.edges.map(l=>l.map(u=>u+r)));const a=[...t.vertexColors];for(;a.length<t.vertices.length*4;)a.push(...this.renderer.states.curFillColor);this.geometry.vertexColors.push(...a)}addImmediate(t,r,{validateFaces:i=!1}={}){const s=[];if(this.renderer.states.fillColor){if(r===Vh||r===$h)for(let o=2;o<t.vertices.length;o++)o%2===0?s.push([o,o-1,o-2]):s.push([o,o-2,o-1]);else if(r===Hm)for(let o=2;o<t.vertices.length;o++)s.push([0,o-1,o]);else if(r===Il)for(let o=0;o<t.vertices.length;o+=3)(!i||t.vertices[o].copy().sub(t.vertices[o+1]).cross(t.vertices[o].copy().sub(t.vertices[o+2])).magSq()>0)&&s.push([o,o+1,o+2])}this.addGeometry(Object.assign({},t,{faces:s}))}addRetained(t){this.addGeometry(t)}finish(){return this.renderer._pInst.pop(),this.geometry}}Kh.nextGeometryId=0;class Yu{constructor(t,r,i,s){this.w=t,this.vec=new Me(r,i,s)}static fromAxisAngle(t,r,i,s){const o=Math.cos(t/2),a=new Me(r,i,s).normalize().mult(Math.sin(t/2));return new Yu(o,a.x,a.y,a.z)}conjugate(){return new Yu(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}multiply(t){return new Yu(this.w*t.w-this.vec.x*t.vec.x-this.vec.y*t.vec.y-this.vec.z-t.vec.z,this.w*t.vec.x+this.vec.x*t.w+this.vec.y*t.vec.z-this.vec.z*t.vec.y,this.w*t.vec.y-this.vec.x*t.vec.z+this.vec.y*t.w+this.vec.z*t.vec.x,this.w*t.vec.z+this.vec.x*t.vec.y-this.vec.y*t.vec.x+this.vec.z*t.w)}rotateVector(t){return Me.mult(t,this.w*this.w-this.vec.dot(this.vec)).add(Me.mult(this.vec,2*t.dot(this.vec))).add(Me.mult(this.vec,2*this.w).cross(t)).clampToZero()}rotateBy(t){return t.multiply(this).multiply(t.conjugate()).vec.clampToZero()}}function k5(n,t){n.Quat=Yu}typeof p5<"u"&&k5(p5,p5.prototype);class Ci{constructor(t,r,i,s,o,a){this.size=t,this.src=r,this.dst=i,this.attr=s,this._renderer=o,this.map=a}_prepareBuffer(t,r){const i=r.attributes,s=this._renderer.GL,o=this._renderer._getOrMakeCachedBuffers(t),a=i[this.attr];if(!a)return;let l=o[this.dst];const u=t[this.src];if(u&&u.length>0){const h=!l;if(h&&(o[this.dst]=l=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,l),h||t.dirtyFlags[this.src]!==!1){const c=this.map,f=c?c(u):u;this._renderer._bindBuffer(l,s.ARRAY_BUFFER,f),t.dirtyFlags[this.src]=!1}r.enableAttrib(a,this.size)}else{const h=a.location;if(h===-1||!this._renderer.registerEnabled.has(h))return;s.disableVertexAttribArray(h),this._renderer.registerEnabled.delete(h)}}}function F5(n,t){n.RenderBuffer=Ci}typeof p5<"u"&&F5(p5,p5.prototype);var ep={exports:{}},CE=ep.exports,AE;function ZV(){return AE||(AE=1,(function(n){var t;function r(P,j){return P.b===j.b&&P.a===j.a}function i(P,j){return P.b<j.b||P.b===j.b&&P.a<=j.a}function s(P,j,oe){var pe=j.b-P.b,ve=oe.b-j.b;return 0<pe+ve?pe<ve?j.a-P.a+pe/(pe+ve)*(P.a-oe.a):j.a-oe.a+ve/(pe+ve)*(oe.a-P.a):0}function o(P,j,oe){var pe=j.b-P.b,ve=oe.b-j.b;return 0<pe+ve?(j.a-oe.a)*pe+(j.a-P.a)*ve:0}function a(P,j){return P.a<j.a||P.a===j.a&&P.b<=j.b}function l(P,j,oe){var pe=j.a-P.a,ve=oe.a-j.a;return 0<pe+ve?pe<ve?j.b-P.b+pe/(pe+ve)*(P.b-oe.b):j.b-oe.b+ve/(pe+ve)*(oe.b-P.b):0}function u(P,j,oe){var pe=j.a-P.a,ve=oe.a-j.a;return 0<pe+ve?(j.b-oe.b)*pe+(j.b-P.b)*ve:0}function h(P){return i(P.b.a,P.a)}function c(P){return i(P.a,P.b.a)}function f(P,j,oe,pe){return P=0>P?0:P,oe=0>oe?0:oe,P<=oe?oe===0?(j+pe)/2:j+P/(P+oe)*(pe-j):pe+oe/(P+oe)*(j-pe)}function p(P){var j=w(P.b);return _(j,P.c),_(j.b,P.c),x(j,P.a),j}function d(P,j){var oe=!1,pe=!1;P!==j&&(j.a!==P.a&&(pe=!0,E(j.a,P.a)),j.d!==P.d&&(oe=!0,S(j.d,P.d)),y(j,P),pe||(_(j,P.a),P.a.c=P),oe||(x(j,P.d),P.d.a=P))}function g(P){var j=P.b,oe=!1;P.d!==P.b.d&&(oe=!0,S(P.d,P.b.d)),P.c===P?E(P.a,null):(P.b.d.a=_e(P),P.a.c=P.c,y(P,_e(P)),oe||x(P,P.d)),j.c===j?(E(j.a,null),S(j.d,null)):(P.d.a=_e(j),j.a.c=j.c,y(j,_e(j))),C(P)}function m(P){var j=w(P),oe=j.b;return y(j,P.e),j.a=P.b.a,_(oe,j.a),j.d=oe.d=P.d,j=j.b,y(P.b,_e(P.b)),y(P.b,j),P.b.a=j.a,j.b.a.c=j.b,j.b.d=P.b.d,j.f=P.f,j.b.f=P.b.f,j}function v(P,j){var oe=!1,pe=w(P),ve=pe.b;return j.d!==P.d&&(oe=!0,S(j.d,P.d)),y(pe,P.e),y(ve,j),pe.a=P.b.a,ve.a=j.a,pe.d=ve.d=P.d,P.d.a=ve,oe||x(pe,P.d),pe}function w(P){var j=new Ce,oe=new Ce,pe=P.b.h;return oe.h=pe,pe.b.h=j,j.h=P,P.b.h=oe,j.b=oe,j.c=j,j.e=oe,oe.b=j,oe.c=oe,oe.e=j}function y(P,j){var oe=P.c,pe=j.c;oe.b.e=j,pe.b.e=P,P.c=pe,j.c=oe}function _(P,j){var oe=j.f,pe=new Te(j,oe);oe.e=pe,j.f=pe,oe=pe.c=P;do oe.a=pe,oe=oe.c;while(oe!==P)}function x(P,j){var oe=j.d,pe=new re(j,oe);oe.b=pe,j.d=pe,pe.a=P,pe.c=j.c,oe=P;do oe.d=pe,oe=oe.e;while(oe!==P)}function C(P){var j=P.h;P=P.b.h,j.b.h=P,P.b.h=j}function E(P,j){var oe=P.c,pe=oe;do pe.a=j,pe=pe.c;while(pe!==oe);oe=P.f,pe=P.e,pe.f=oe,oe.e=pe}function S(P,j){var oe=P.a,pe=oe;do pe.d=j,pe=pe.e;while(pe!==oe);oe=P.d,pe=P.b,pe.d=oe,oe.b=pe}function D(P){var j=0;return Math.abs(P[1])>Math.abs(P[0])&&(j=1),Math.abs(P[2])>Math.abs(P[j])&&(j=2),j}var A=4*1e150;function N(P,j){P.f+=j.f,P.b.f+=j.b.f}function F(P,j,oe){return P=P.a,j=j.a,oe=oe.a,j.b.a===P?oe.b.a===P?i(j.a,oe.a)?0>=o(oe.b.a,j.a,oe.a):0<=o(j.b.a,oe.a,j.a):0>=o(oe.b.a,P,oe.a):oe.b.a===P?0<=o(j.b.a,P,j.a):(j=s(j.b.a,P,j.a),P=s(oe.b.a,P,oe.a),j>=P)}function T(P){P.a.i=null;var j=P.e;j.a.c=j.c,j.c.a=j.a,P.e=null}function I(P,j){g(P.a),P.c=!1,P.a=j,j.i=P}function M(P){var j=P.a.a;do P=$e(P);while(P.a.a===j);return P.c&&(j=v(je(P).a.b,P.a.e),I(P,j),P=$e(P)),P}function L(P,j,oe){var pe=new Be;return pe.a=oe,pe.e=G(P.f,j.e,pe),oe.i=pe}function B(P,j){switch(P.s){case 100130:return(j&1)!==0;case 100131:return j!==0;case 100132:return 0<j;case 100133:return 0>j;case 100134:return 2<=j||-2>=j}return!1}function $(P){var j=P.a,oe=j.d;oe.c=P.d,oe.a=j,T(P)}function q(P,j,oe){for(P=j,j=j.a;P!==oe;){P.c=!1;var pe=je(P),ve=pe.a;if(ve.a!==j.a){if(!pe.c){$(P);break}ve=v(j.c.b,ve.b),I(pe,ve)}j.c!==ve&&(d(_e(ve),ve),d(j,ve)),$(P),j=pe.a,P=pe}return j}function Z(P,j,oe,pe,ve,Ne){var Ie=!0;do L(P,j,oe.b),oe=oe.c;while(oe!==pe);for(ve===null&&(ve=je(j).a.b.c);pe=je(j),oe=pe.a.b,oe.a===ve.a;)oe.c!==ve&&(d(_e(oe),oe),d(_e(ve),oe)),pe.f=j.f-oe.f,pe.d=B(P,pe.f),j.b=!0,!Ie&&ge(P,j)&&(N(oe,ve),T(j),g(ve)),Ie=!1,j=pe,ve=oe;j.b=!0,Ne&&z(P,j)}function he(P,j,oe,pe,ve){var Ne=[j.g[0],j.g[1],j.g[2]];j.d=null,j.d=P.o&&P.o(Ne,oe,pe,P.c)||null,j.d===null&&(ve?P.n||(Q(P,100156),P.n=!0):j.d=oe[0])}function V(P,j,oe){var pe=[null,null,null,null];pe[0]=j.a.d,pe[1]=oe.a.d,he(P,j.a,pe,[.5,.5,0,0],!1),d(j,oe)}function J(P,j,oe,pe,ve){var Ne=Math.abs(j.b-P.b)+Math.abs(j.a-P.a),Ie=Math.abs(oe.b-P.b)+Math.abs(oe.a-P.a),Xe=ve+1;pe[ve]=.5*Ie/(Ne+Ie),pe[Xe]=.5*Ne/(Ne+Ie),P.g[0]+=pe[ve]*j.g[0]+pe[Xe]*oe.g[0],P.g[1]+=pe[ve]*j.g[1]+pe[Xe]*oe.g[1],P.g[2]+=pe[ve]*j.g[2]+pe[Xe]*oe.g[2]}function ge(P,j){var oe=je(j),pe=j.a,ve=oe.a;if(i(pe.a,ve.a)){if(0<o(ve.b.a,pe.a,ve.a))return!1;if(!r(pe.a,ve.a))m(ve.b),d(pe,_e(ve)),j.b=oe.b=!0;else if(pe.a!==ve.a){var oe=P.e,Ne=pe.a.h;if(0<=Ne){var oe=oe.b,Ie=oe.d,Xe=oe.e,tt=oe.c,bt=tt[Ne];Ie[bt]=Ie[oe.a],tt[Ie[bt]]=bt,bt<=--oe.a&&(1>=bt||i(Xe[Ie[bt>>1]],Xe[Ie[bt]])?Ae(oe,bt):Pe(oe,bt)),Xe[Ne]=null,tt[Ne]=oe.b,oe.b=Ne}else for(oe.c[-(Ne+1)]=null;0<oe.a&&oe.c[oe.d[oe.a-1]]===null;)--oe.a;V(P,_e(ve),pe)}}else{if(0>o(pe.b.a,ve.a,pe.a))return!1;$e(j).b=j.b=!0,m(pe.b),d(_e(ve),pe)}return!0}function W(P,j){var oe=je(j),pe=j.a,ve=oe.a,Ne=pe.a,Ie=ve.a,Xe=pe.b.a,tt=ve.b.a,bt=new Te;if(o(Xe,P.a,Ne),o(tt,P.a,Ie),Ne===Ie||Math.min(Ne.a,Xe.a)>Math.max(Ie.a,tt.a))return!1;if(i(Ne,Ie)){if(0<o(tt,Ne,Ie))return!1}else if(0>o(Xe,Ie,Ne))return!1;var hn=Xe,O=Ne,ee=tt,X=Ie,Y,me;if(i(hn,O)||(Y=hn,hn=O,O=Y),i(ee,X)||(Y=ee,ee=X,X=Y),i(hn,ee)||(Y=hn,hn=ee,ee=Y,Y=O,O=X,X=Y),i(ee,O)?i(O,X)?(Y=s(hn,ee,O),me=s(ee,O,X),0>Y+me&&(Y=-Y,me=-me),bt.b=f(Y,ee.b,me,O.b)):(Y=o(hn,ee,O),me=-o(hn,X,O),0>Y+me&&(Y=-Y,me=-me),bt.b=f(Y,ee.b,me,X.b)):bt.b=(ee.b+O.b)/2,a(hn,O)||(Y=hn,hn=O,O=Y),a(ee,X)||(Y=ee,ee=X,X=Y),a(hn,ee)||(Y=hn,hn=ee,ee=Y,Y=O,O=X,X=Y),a(ee,O)?a(O,X)?(Y=l(hn,ee,O),me=l(ee,O,X),0>Y+me&&(Y=-Y,me=-me),bt.a=f(Y,ee.a,me,O.a)):(Y=u(hn,ee,O),me=-u(hn,X,O),0>Y+me&&(Y=-Y,me=-me),bt.a=f(Y,ee.a,me,X.a)):bt.a=(ee.a+O.a)/2,i(bt,P.a)&&(bt.b=P.a.b,bt.a=P.a.a),hn=i(Ne,Ie)?Ne:Ie,i(hn,bt)&&(bt.b=hn.b,bt.a=hn.a),r(bt,Ne)||r(bt,Ie))return ge(P,j),!1;if(!r(Xe,P.a)&&0<=o(Xe,P.a,bt)||!r(tt,P.a)&&0>=o(tt,P.a,bt)){if(tt===P.a)return m(pe.b),d(ve.b,pe),j=M(j),pe=je(j).a,q(P,je(j),oe),Z(P,j,_e(pe),pe,pe,!0),!0;if(Xe===P.a){m(ve.b),d(pe.e,_e(ve)),Ne=oe=j,Ie=Ne.a.b.a;do Ne=$e(Ne);while(Ne.a.b.a===Ie);return j=Ne,Ne=je(j).a.b.c,oe.a=_e(ve),ve=q(P,oe,null),Z(P,j,ve.c,pe.b.c,Ne,!0),!0}return 0<=o(Xe,P.a,bt)&&($e(j).b=j.b=!0,m(pe.b),pe.a.b=P.a.b,pe.a.a=P.a.a),0>=o(tt,P.a,bt)&&(j.b=oe.b=!0,m(ve.b),ve.a.b=P.a.b,ve.a.a=P.a.a),!1}return m(pe.b),m(ve.b),d(_e(ve),pe),pe.a.b=bt.b,pe.a.a=bt.a,pe.a.h=xe(P.e,pe.a),pe=pe.a,ve=[0,0,0,0],bt=[Ne.d,Xe.d,Ie.d,tt.d],pe.g[0]=pe.g[1]=pe.g[2]=0,J(pe,Ne,Xe,ve,0),J(pe,Ie,tt,ve,2),he(P,pe,bt,ve,!0),$e(j).b=j.b=oe.b=!0,!1}function z(P,j){for(var oe=je(j);;){for(;oe.b;)j=oe,oe=je(oe);if(!j.b&&(oe=j,j=$e(j),j===null||!j.b))break;j.b=!1;var pe=j.a,ve=oe.a,Ne;if(Ne=pe.b.a!==ve.b.a)e:{Ne=j;var Ie=je(Ne),Xe=Ne.a,tt=Ie.a,bt=void 0;if(i(Xe.b.a,tt.b.a)){if(0>o(Xe.b.a,tt.b.a,Xe.a)){Ne=!1;break e}$e(Ne).b=Ne.b=!0,bt=m(Xe),d(tt.b,bt),bt.d.c=Ne.d}else{if(0<o(tt.b.a,Xe.b.a,tt.a)){Ne=!1;break e}Ne.b=Ie.b=!0,bt=m(tt),d(Xe.e,tt.b),bt.b.d.c=Ne.d}Ne=!0}if(Ne&&(oe.c?(T(oe),g(ve),oe=je(j),ve=oe.a):j.c&&(T(j),g(pe),j=$e(oe),pe=j.a)),pe.a!==ve.a){if(pe.b.a===ve.b.a||j.c||oe.c||pe.b.a!==P.a&&ve.b.a!==P.a)ge(P,j);else if(W(P,j))break}pe.a===ve.a&&pe.b.a===ve.b.a&&(N(ve,pe),T(j),g(pe),j=$e(oe))}}function de(P,j){P.a=j;for(var oe=j.c;oe.i===null;)if(oe=oe.c,oe===j.c){var oe=P,pe=j,Ie=new Be;Ie.a=pe.c.b;var ve=oe.f,Xe=ve.a;do Xe=Xe.a;while(Xe.b!==null&&!ve.c(ve.b,Ie,Xe.b));var ve=Xe.b,Ne=je(ve),Ie=ve.a,Xe=Ne.a;if(o(Ie.b.a,pe,Ie.a)===0)Ie=ve.a,r(Ie.a,pe)||r(Ie.b.a,pe)||(m(Ie.b),ve.c&&(g(Ie.c),ve.c=!1),d(pe.c,Ie),de(oe,pe));else{var tt=i(Xe.b.a,Ie.b.a)?ve:Ne,Ne=void 0;ve.d||tt.c?(tt===ve?Ne=v(pe.c.b,Ie.e):Ne=v(Xe.b.c.b,pe.c).b,tt.c?I(tt,Ne):(Ie=oe,ve=L(oe,ve,Ne),ve.f=$e(ve).f+ve.a.f,ve.d=B(Ie,ve.f)),de(oe,pe)):Z(oe,ve,pe.c,pe.c,null,!0)}return}if(oe=M(oe.i),Ie=je(oe),ve=Ie.a,Ie=q(P,Ie,null),Ie.c===ve){var ve=Ie,Ie=ve.c,Xe=je(oe),Ne=oe.a,tt=Xe.a,bt=!1;Ne.b.a!==tt.b.a&&W(P,oe),r(Ne.a,P.a)&&(d(_e(Ie),Ne),oe=M(oe),Ie=je(oe).a,q(P,je(oe),Xe),bt=!0),r(tt.a,P.a)&&(d(ve,_e(tt)),ve=q(P,Xe,null),bt=!0),bt?Z(P,oe,ve.c,Ie,Ie,!0):(i(tt.a,Ne.a)?pe=_e(tt):pe=Ne,pe=v(ve.c.b,pe),Z(P,oe,pe,pe.c,pe.c,!1),pe.b.i.c=!0,z(P,oe))}else Z(P,oe,Ie.c,ve,ve,!0)}function K(P,j){var oe=new Be,pe=p(P.b);pe.a.b=A,pe.a.a=j,pe.b.a.b=-A,pe.b.a.a=j,P.a=pe.b.a,oe.a=pe,oe.f=0,oe.d=!1,oe.c=!1,oe.h=!0,oe.b=!1,pe=P.f,pe=G(pe,pe.a,oe),oe.e=pe}function ue(P){this.a=new se,this.b=P,this.c=F}function G(P,j,oe){do j=j.c;while(j.b!==null&&!P.c(P.b,j.b,oe));return P=new se(oe,j.a,j),j.a.c=P,j.a=P}function se(P,j,oe){this.b=P||null,this.a=j||this,this.c=oe||this}function ye(){this.d=Ee,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var Ee=0;t=ye.prototype,t.x=function(){H(this,Ee)},t.B=function(P,j){switch(P){case 100142:return;case 100140:switch(j){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=j;return}break;case 100141:this.m=!!j;return;default:Q(this,100900);return}Q(this,100901)},t.y=function(P){switch(P){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Q(this,100900)}return!1},t.A=function(P,j,oe){this.j[0]=P,this.j[1]=j,this.j[2]=oe},t.z=function(P,j){var oe=j||null;switch(P){case 100100:case 100106:this.h=oe;break;case 100104:case 100110:this.l=oe;break;case 100101:case 100107:this.k=oe;break;case 100102:case 100108:this.i=oe;break;case 100103:case 100109:this.p=oe;break;case 100105:case 100111:this.o=oe;break;case 100112:this.r=oe;break;default:Q(this,100900)}},t.C=function(P,j){var oe=!1,pe=[0,0,0];H(this,2);for(var ve=0;3>ve;++ve){var Ne=P[ve];-1e150>Ne&&(Ne=-1e150,oe=!0),1e150<Ne&&(Ne=1e150,oe=!0),pe[ve]=Ne}oe&&Q(this,100155),oe=this.q,oe===null?(oe=p(this.b),d(oe,oe.b)):(m(oe),oe=oe.e),oe.a.d=j,oe.a.g[0]=pe[0],oe.a.g[1]=pe[1],oe.a.g[2]=pe[2],oe.f=1,oe.b.f=-1,this.q=oe},t.u=function(P){H(this,Ee),this.d=1,this.b=new Se,this.c=P},t.t=function(){H(this,1),this.d=2,this.q=null},t.v=function(){H(this,2),this.d=1},t.w=function(){H(this,1),this.d=Ee;var P=this.j[0],j=this.j[1],oe=this.j[2],pe=!1,ve=[P,j,oe];if(P===0&&j===0&&oe===0){for(var j=[-2*1e150,-2*1e150,-2*1e150],Ne=[2*1e150,2*1e150,2*1e150],oe=[],Ie=[],pe=this.b.c,P=pe.e;P!==pe;P=P.e)for(var Xe=0;3>Xe;++Xe){var tt=P.g[Xe];tt<Ne[Xe]&&(Ne[Xe]=tt,Ie[Xe]=P),tt>j[Xe]&&(j[Xe]=tt,oe[Xe]=P)}if(P=0,j[1]-Ne[1]>j[0]-Ne[0]&&(P=1),j[2]-Ne[2]>j[P]-Ne[P]&&(P=2),Ne[P]>=j[P])ve[0]=0,ve[1]=0,ve[2]=1;else{for(j=0,Ne=Ie[P],oe=oe[P],Ie=[0,0,0],Ne=[Ne.g[0]-oe.g[0],Ne.g[1]-oe.g[1],Ne.g[2]-oe.g[2]],Xe=[0,0,0],P=pe.e;P!==pe;P=P.e)Xe[0]=P.g[0]-oe.g[0],Xe[1]=P.g[1]-oe.g[1],Xe[2]=P.g[2]-oe.g[2],Ie[0]=Ne[1]*Xe[2]-Ne[2]*Xe[1],Ie[1]=Ne[2]*Xe[0]-Ne[0]*Xe[2],Ie[2]=Ne[0]*Xe[1]-Ne[1]*Xe[0],tt=Ie[0]*Ie[0]+Ie[1]*Ie[1]+Ie[2]*Ie[2],tt>j&&(j=tt,ve[0]=Ie[0],ve[1]=Ie[1],ve[2]=Ie[2]);0>=j&&(ve[0]=ve[1]=ve[2]=0,ve[D(Ne)]=1)}pe=!0}for(Ie=D(ve),P=this.b.c,j=(Ie+1)%3,oe=(Ie+2)%3,Ie=0<ve[Ie]?1:-1,ve=P.e;ve!==P;ve=ve.e)ve.b=ve.g[j],ve.a=Ie*ve.g[oe];if(pe){for(ve=0,pe=this.b.a,P=pe.b;P!==pe;P=P.b)if(j=P.a,!(0>=j.f))do ve+=(j.a.b-j.b.a.b)*(j.a.a+j.b.a.a),j=j.e;while(j!==P.a);if(0>ve)for(ve=this.b.c,pe=ve.e;pe!==ve;pe=pe.e)pe.a=-pe.a}for(this.n=!1,ve=this.b.b,P=ve.h;P!==ve;P=pe)pe=P.h,j=P.e,r(P.a,P.b.a)&&P.e.e!==P&&(V(this,j,P),g(P),P=j,j=P.e),j.e===P&&(j!==P&&((j===pe||j===pe.b)&&(pe=pe.h),g(j)),(P===pe||P===pe.b)&&(pe=pe.h),g(P));for(this.e=ve=new De,pe=this.b.c,P=pe.e;P!==pe;P=P.e)P.h=xe(ve,P);for(be(ve),this.f=new ue(this),K(this,-A),K(this,A);(ve=R(this.e))!==null;){for(;;){e:if(P=this.e,P.a===0)pe=We(P.b);else if(pe=P.c[P.d[P.a-1]],P.b.a!==0&&(P=We(P.b),i(P,pe))){pe=P;break e}if(pe===null||!r(pe,ve))break;pe=R(this.e),V(this,ve.c,pe.c)}de(this,ve)}for(this.a=this.f.a.a.b.a.a,ve=0;(pe=this.f.a.a.b)!==null;)pe.h||++ve,T(pe);for(this.f=null,ve=this.e,ve.b=null,ve.d=null,this.e=ve.c=null,ve=this.b,P=ve.a.b;P!==ve.a;P=pe)pe=P.b,P=P.a,P.e.e===P&&(N(P.c,P),g(P));if(!this.n){if(ve=this.b,this.m)for(P=ve.b.h;P!==ve.b;P=pe)pe=P.h,P.b.d.c!==P.d.c?P.f=P.d.c?1:-1:g(P);else for(P=ve.a.b;P!==ve.a;P=pe)if(pe=P.b,P.c){for(P=P.a;i(P.b.a,P.a);P=P.c.b);for(;i(P.a,P.b.a);P=P.e);for(j=P.c.b,oe=void 0;P.e!==j;)if(i(P.b.a,j.a)){for(;j.e!==P&&(h(j.e)||0>=o(j.a,j.b.a,j.e.b.a));)oe=v(j.e,j),j=oe.b;j=j.c.b}else{for(;j.e!==P&&(c(P.c.b)||0<=o(P.b.a,P.a,P.c.b.a));)oe=v(P,P.c.b),P=oe.b;P=P.e}for(;j.e.e!==P;)oe=v(j.e,j),j=oe.b}if(this.h||this.i||this.k||this.l)if(this.m){for(ve=this.b,pe=ve.a.b;pe!==ve.a;pe=pe.b)if(pe.c){this.h&&this.h(2,this.c),P=pe.a;do this.k&&this.k(P.a.d,this.c),P=P.e;while(P!==pe.a);this.i&&this.i(this.c)}}else{for(ve=this.b,pe=!!this.l,P=!1,j=-1,oe=ve.a.d;oe!==ve.a;oe=oe.d)if(oe.c){P||(this.h&&this.h(4,this.c),P=!0),Ie=oe.a;do pe&&(Ne=Ie.b.d.c?0:1,j!==Ne&&(j=Ne,this.l&&this.l(!!j,this.c))),this.k&&this.k(Ie.a.d,this.c),Ie=Ie.e;while(Ie!==oe.a)}P&&this.i&&this.i(this.c)}if(this.r){for(ve=this.b,P=ve.a.b;P!==ve.a;P=pe)if(pe=P.b,!P.c){j=P.a,oe=j.e,Ie=void 0;do Ie=oe,oe=Ie.e,Ie.d=null,Ie.b.d===null&&(Ie.c===Ie?E(Ie.a,null):(Ie.a.c=Ie.c,y(Ie,_e(Ie))),Ne=Ie.b,Ne.c===Ne?E(Ne.a,null):(Ne.a.c=Ne.c,y(Ne,_e(Ne))),C(Ie));while(Ie!==j);j=P.d,P=P.b,P.d=j,j.b=P}this.r(this.b),this.c=this.b=null;return}}this.b=this.c=null};function H(P,j){if(P.d!==j)for(;P.d!==j;)if(P.d<j)switch(P.d){case Ee:Q(P,100151),P.u(null);break;case 1:Q(P,100152),P.t()}else switch(P.d){case 2:Q(P,100154),P.v();break;case 1:Q(P,100153),P.w()}}function Q(P,j){P.p&&P.p(j,P.c)}function re(P,j){this.b=P||this,this.d=j||this,this.a=null,this.c=!1}function Ce(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function _e(P){return P.b.e}function Se(){this.c=new Te,this.a=new re,this.b=new Ce,this.d=new Ce,this.b.b=this.d,this.d.b=this.b}function Te(P,j){this.e=P||this,this.f=j||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function De(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Oe}function be(P){P.d=[];for(var j=0;j<P.a;j++)P.d[j]=j;P.d.sort((function(oe){return function(pe,ve){return i(oe[pe],oe[ve])?1:-1}})(P.c)),P.e=!0,Je(P.b)}function xe(P,j){if(P.e){var oe=P.b,pe=++oe.a;2*pe>oe.f&&(oe.f*=2,oe.c=Fe(oe.c,oe.f+1));var ve;return oe.b===0?ve=pe:(ve=oe.b,oe.b=oe.c[oe.b]),oe.e[ve]=j,oe.c[ve]=pe,oe.d[pe]=ve,oe.h&&Pe(oe,pe),ve}return oe=P.a++,P.c[oe]=j,-(oe+1)}function R(P){if(P.a===0)return ft(P.b);var j=P.c[P.d[P.a-1]];if(P.b.a!==0&&i(We(P.b),j))return ft(P.b);do--P.a;while(0<P.a&&P.c[P.d[P.a-1]]===null);return j}function Oe(){this.d=Fe([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Fe(P,j){for(var oe=Array(j),pe=0;pe<P.length;pe++)oe[pe]=P[pe];for(;pe<j;pe++)oe[pe]=0;return oe}function Je(P){for(var j=P.a;1<=j;--j)Ae(P,j);P.h=!0}function We(P){return P.e[P.d[1]]}function ft(P){var j=P.d,oe=P.e,pe=P.c,ve=j[1],Ne=oe[ve];return 0<P.a&&(j[1]=j[P.a],pe[j[1]]=1,oe[ve]=null,pe[ve]=P.b,P.b=ve,0<--P.a&&Ae(P,1)),Ne}function Ae(P,j){for(var oe=P.d,pe=P.e,ve=P.c,Ne=j,Ie=oe[Ne];;){var Xe=Ne<<1;Xe<P.a&&i(pe[oe[Xe+1]],pe[oe[Xe]])&&(Xe+=1);var tt=oe[Xe];if(Xe>P.a||i(pe[Ie],pe[tt])){oe[Ne]=Ie,ve[Ie]=Ne;break}oe[Ne]=tt,ve[tt]=Ne,Ne=Xe}}function Pe(P,j){for(var oe=P.d,pe=P.e,ve=P.c,Ne=j,Ie=oe[Ne];;){var Xe=Ne>>1,tt=oe[Xe];if(Xe===0||i(pe[tt],pe[Ie])){oe[Ne]=Ie,ve[Ie]=Ne;break}oe[Ne]=tt,ve[tt]=Ne,Ne=Xe}}function Be(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function je(P){return P.e.c.b}function $e(P){return P.e.a.b}CE.libtess={GluTesselator:ye,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ye.prototype.gluDeleteTess=ye.prototype.x,ye.prototype.gluTessProperty=ye.prototype.B,ye.prototype.gluGetTessProperty=ye.prototype.y,ye.prototype.gluTessNormal=ye.prototype.A,ye.prototype.gluTessCallback=ye.prototype.z,ye.prototype.gluTessVertex=ye.prototype.C,ye.prototype.gluTessBeginPolygon=ye.prototype.u,ye.prototype.gluTessBeginContour=ye.prototype.t,ye.prototype.gluTessEndContour=ye.prototype.v,ye.prototype.gluTessEndPolygon=ye.prototype.w,n.exports=CE.libtess})(ep)),ep.exports}var JV=ZV();const Ao=d1(JV),M5={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},TE=Object.values(M5).reduce((n,t)=>n+t);class QV{constructor(t){this.renderer=t,this.shapeMode=Xs,this.geometry=new qr(void 0,void 0,void 0,this.renderer),this.geometry.gid="__IMMEDIATE_MODE_GEOMETRY__",this.contourIndices=[],this._useUserVertexProperties=void 0,this._bezierVertex=[],this._quadraticVertex=[],this._curveVertex=[],this.isProcessingVertices=!1,this._tessy=this._initTessy(),this.tessyVertexSize=TE,this.bufferStrides={...M5}}constructFromContours(t,r){this._useUserVertexProperties&&this._resetUserVertexProperties(),this.geometry.reset(),this.contourIndices=[],this.shapeMode=t.contours[0].kind;const i=!!this.renderer.states.strokeColor,s={};if(t.userVertexProperties){this._useUserVertexProperties=!0;for(const o in t.userVertexProperties){const a=t.vertexPropertyName(o),l=this.geometry._userVertexPropertyHelper(a,[],t.userVertexProperties[o]);s[o]=l,this.tessyVertexSize+=l.getDataSize(),this.bufferStrides[l.getSrcName()]=l.getDataSize(),this.renderer.buffers.user.push(new Ci(l.getDataSize(),l.getSrcName(),l.getDstName(),a,this.renderer))}}else this._useUserVertexProperties=!1;for(const o of r){this.contourIndices.push(this.geometry.vertices.length);for(const a of o){if(this.shapeMode===ph&&this.geometry.vertices.length%6===3)for(const l in this.bufferStrides){const u=this.bufferStrides[l],h=this.geometry[l];h.push(...h.slice(h.length-3*u,h.length-2*u),...h.slice(h.length-u,h.length))}this.geometry.vertices.push(a.position),this.geometry.vertexNormals.push(a.normal||new Me(0,0,0)),this.geometry.uvs.push(a.textureCoordinates.x,a.textureCoordinates.y),this.renderer.states.fillColor?this.geometry.vertexColors.push(...a.fill.array()):this.geometry.vertexColors.push(0,0,0,0),this.renderer.states.strokeColor?this.geometry.vertexStrokeColors.push(...a.stroke.array()):this.geometry.vertexStrokeColors.push(0,0,0,0);for(const l in s){const u=s[l];l in a&&u.setCurrentData(a[l]),u.pushCurrentData()}}}i&&(this.geometry.edges=this._calculateEdges(this.shapeMode,this.geometry.vertices)),i&&!this.renderer.geometryBuilder&&this.geometry._edgesToVertices(),this.shapeMode===Xs?(this.isProcessingVertices=!0,this._tesselateShape(),this.isProcessingVertices=!1):this.shapeMode===$h?this.shapeMode=Vh:this.shapeMode===ph&&(this.shapeMode=Il),this.renderer.states.textureMode===tg&&this.renderer.states._tex!==null&&this.renderer.states._tex.width>0&&this.renderer.states._tex.height>0&&(this.geometry.uvs=this.geometry.uvs.map((o,a)=>a%2===0?o/this.renderer.states._tex.width:o/this.renderer.states._tex.height))}_resetUserVertexProperties(){const t=this.geometry.userVertexProperties;for(const r in t){const i=t[r];delete this.bufferStrides[r],i.delete()}this._useUserVertexProperties=!1,this.tessyVertexSize=TE,this.geometry.userVertexProperties={}}_calculateEdges(t,r){const i=[];let s=0;const o=this.contourIndices.slice();let a=-1;switch(t){case Vh:for(s=0;s<r.length-2;s++)i.push([s,s+1]),i.push([s,s+2]);i.push([s,s+1]);break;case Hm:for(s=1;s<r.length-1;s++)i.push([0,s]),i.push([s,s+1]);i.push([0,r.length-1]);break;case Il:for(s=0;s<r.length-2;s=s+3)i.push([s,s+1]),i.push([s+1,s+2]),i.push([s+2,s]);break;case ic:for(s=0;s<r.length-1;s=s+2)i.push([s,s+1]);break;case ph:for(s=0;s<r.length-5;s+=6)i.push([s,s+1]),i.push([s+1,s+2]),i.push([s+2,s+5]),i.push([s+5,s]);break;case $h:for(s=0;s<r.length-2;s+=2)i.push([s,s+1]),i.push([s+1,s+3]),i.push([s,s+2]);i.push([s,s+1]);break;default:for(s=0;s<r.length;s++)s===o[0]?a=o.shift():r[a]&&r[s].equals(r[a])?i.push([s-1,a]):i.push([s-1,s]);break}return i}_tesselateShape(){const t=[];for(let o=0;o<this.geometry.vertices.length;o++){this.contourIndices.length>0&&this.contourIndices[0]===o&&(this.contourIndices.shift(),t.push([])),t[t.length-1].push(this.geometry.vertices[o].x,this.geometry.vertices[o].y,this.geometry.vertices[o].z,this.geometry.uvs[o*2],this.geometry.uvs[o*2+1],this.geometry.vertexColors[o*4],this.geometry.vertexColors[o*4+1],this.geometry.vertexColors[o*4+2],this.geometry.vertexColors[o*4+3],this.geometry.vertexNormals[o].x,this.geometry.vertexNormals[o].y,this.geometry.vertexNormals[o].z);for(const a in this.geometry.userVertexProperties){const l=this.geometry.userVertexProperties[a],u=o*l.getDataSize(),h=u+l.getDataSize(),c=l.getSrcArray().slice(u,h);t[t.length-1].push(...c)}}const r=this._triangulate(t);if(r.length===0)return;this.shapeMode=Il;const i=this.geometry.vertices;this.geometry.vertices=[],this.geometry.vertexNormals=[],this.geometry.uvs=[];for(const o in this.geometry.userVertexProperties)this.geometry.userVertexProperties[o].resetSrcArray();const s=[];for(let o=0,a=r.length;o<a;o=o+this.tessyVertexSize){s.push(...r.slice(o+5,o+9)),this.geometry.vertexNormals.push(new Me(...r.slice(o+9,o+12)));{let l=12;for(const u in this.geometry.userVertexProperties){const h=this.geometry.userVertexProperties[u],c=h.getDataSize(),f=o+l,p=f+c;h.setCurrentData(r.slice(f,p)),h.pushCurrentData(),l+=c}}this.geometry.vertices.push(new Me(...r.slice(o,o+3))),this.geometry.uvs.push(...r.slice(o+3,o+5))}if(this.renderer.geometryBuilder){const o=new Map;this.geometry.edges=this.geometry.edges.map(a=>a.map(l=>{if(!o.has(l)){const u=i[l];let h=this.geometry.vertices.findIndex(c=>u.x===c.x&&u.y===c.y&&u.z===c.z);if(h===-1){let c=1/0,f=0;for(let p=0;p<this.geometry.vertices.length;p++){const d=this.geometry.vertices[p],g=u.x-d.x,m=u.y-d.y,v=u.z-d.z,w=g*g+m*m+v*v;w<c&&(c=w,f=p)}h=f}o.set(l,h)}return o.get(l)}))}this.geometry.vertexColors=s}_initTessy(){function t(l,u){for(const h of l)u.push(h)}function r(l){l!==Ao.primitiveType.GL_TRIANGLES&&console.log(`expected TRIANGLES but got type: ${l}`)}function i(l){console.log("error callback"),console.log(`error number: ${l}`)}const s=(l,u,h)=>{const c=new Array(this.tessyVertexSize).fill(0);for(let f=0;f<h.length;f++)for(let p=0;p<c.length;p++)h[f]===0||!u[f]||(c[p]+=u[f][p]*h[f]);return c};function o(l){}const a=new Ao.GluTesselator;return a.gluTessCallback(Ao.gluEnum.GLU_TESS_VERTEX_DATA,t),a.gluTessCallback(Ao.gluEnum.GLU_TESS_BEGIN,r),a.gluTessCallback(Ao.gluEnum.GLU_TESS_ERROR,i),a.gluTessCallback(Ao.gluEnum.GLU_TESS_COMBINE,s),a.gluTessCallback(Ao.gluEnum.GLU_TESS_EDGE_FLAG,o),a.gluTessProperty(Ao.gluEnum.GLU_TESS_WINDING_RULE,Ao.windingRule.GLU_TESS_WINDING_NONZERO),a}_triangulate(t){const r=t[0]?t[0][2]:void 0;let i=!0;for(const o of t)for(let a=0;a<o.length;a+=this.tessyVertexSize)if(o[a+2]!==r){i=!1;break}i?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);const s=[];this._tessy.gluTessBeginPolygon(s);for(const o of t){this._tessy.gluTessBeginContour();for(let a=0;a<o.length;a+=this.tessyVertexSize){const l=o.slice(a,a+this.tessyVertexSize);this._tessy.gluTessVertex(l,l)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),s}}class e${constructor(t){this.renderer=t,this.cache={}}numCached(){return Object.keys(this.cache).length}isCached(t){return this.cache[t]!==void 0}getGeometryByID(t){return this.cache[t]?.geometry}getCached(t){return this.getCachedID(t.gid)}getCachedID(t){return this.cache[t]}ensureCached(t){const r=t.gid;if(!r)throw new Error("The p5.Geometry you passed in has no gid property!");if(this.isCached(t.gid))return this.getCached(t);const i=this.renderer.GL;if(this.freeBuffers(r),Object.keys(this.cache).length>1e3){const a=Object.keys(this.cache)[0];this.freeBuffers(a)}const s={};this.cache[r]=s,s.geometry=t;let o=s.indexBuffer;if(t.faces.length){o||(o=s.indexBuffer=i.createBuffer());const a=t.faces.flat(),l=a.some(h=>h>65535);let u=l?Uint32Array:Uint16Array;this.renderer._bindBuffer(o,i.ELEMENT_ARRAY_BUFFER,a,u),s.indexBufferType=l?i.UNSIGNED_INT:i.UNSIGNED_SHORT}else o&&(i.deleteBuffer(o),s.indexBuffer=null);return s}freeBuffers(t){const r=this.cache[t];if(!r)return;delete this.cache[t];const i=this.renderer.GL;r.indexBuffer&&i.deleteBuffer(r.indexBuffer);function s(o){for(const a of o)r[a.dst]&&(i.deleteBuffer(r[a.dst]),r[a.dst]=null)}s(this.renderer.buffers.stroke),s(this.renderer.buffers.fill),s(this.renderer.buffers.user)}}const zp={[sc]:3,[eg]:4,[Qm]:.5};function Tb(n,t){const r=t.DEGREES="degrees",i=t.RADIANS="radians";t._angleMode=i,t.acos=function(s){return this._fromRadians(Math.acos(s))},t.asin=function(s){return this._fromRadians(Math.asin(s))},t.atan=function(s){return this._fromRadians(Math.atan(s))},t.atan2=function(s,o){return this._fromRadians(Math.atan2(s,o))},t.cos=function(s){return Math.cos(this._toRadians(s))},t.sin=function(s){return Math.sin(this._toRadians(s))},t.tan=function(s){return Math.tan(this._toRadians(s))},t.degrees=s=>s*ll,t.radians=s=>s*al,t.angleMode=function(s){if(typeof s>"u")return this._angleMode;if(s===r||s===i){const o=this._angleMode;if(s===o)return;s===i?(this.pRotationX=this.pRotationX*al,this.pRotationY=this.pRotationY*al,this.pRotationZ=this.pRotationZ*al):(this.pRotationX=this.pRotationX*ll,this.pRotationY=this.pRotationY*ll,this.pRotationZ=this.pRotationZ*ll),this._angleMode=s}},t._toRadians=function(s){return this._angleMode===r?s*al:s},t._toDegrees=function(s){return this._angleMode===i?s*ll:s},t._fromRadians=function(s){return this._angleMode===r?s*ll:s},t._fromDegrees=function(s){return this._angleMode===i?s*al:s}}typeof p5<"u"&&Tb(p5,p5.prototype);function Ib(n,t){t.createImage=function(r,i){return new n.Image(r,i)},t.saveCanvas=function(...r){let i,s,o,a;if(r[0]instanceof HTMLCanvasElement)i=r[0],r.shift();else if(r[0]instanceof Vr)i=r[0].elt,r.shift();else if(r[0]instanceof Vs){const u=r[0];a=this.createGraphics(u.width,u.height),a.pixelDensity(u.pixelDensity()),u.loadPixels(),a.loadPixels(),a.pixels.set(u.pixels),a.updatePixels(),i=a._renderer.canvas,r.shift()}else i=this._curElement&&this._curElement.elt;r.length>=1&&(s=r[0]),r.length>=2&&(o=r[1]),o=o||t._checkFileExtension(s,o)[1]||"png";let l;switch(o){default:l="image/png";break;case"webp":l="image/webp";break;case"jpeg":case"jpg":l="image/jpeg";break}i.toBlob(u=>{t.downloadFile(u,s,o),a&&a.remove()},l)},t.encodeAndDownloadGif=function(r,i){const s=r.gifProperties;let o=s.loopLimit;o===1?o=null:o===null&&(o=0);const a=new Uint8Array(r.width*r.height*s.numFrames),l=[],u={};for(let x=0;x<s.numFrames;x++){const C=new Set,E=s.frames[x].image.data,S=E.length,D=new Uint32Array(r.width*r.height);for(let N=0,F=0;N<S;N+=4,F++){const T=E[N+0],I=E[N+1],M=E[N+2],L=T<<16|I<<8|M<<0;C.add(L),D[F]=L}const A=[...C].sort().toString();u[A]===void 0?u[A]={freq:1,frames:[x]}:(u[A].freq+=1,u[A].frames.push(x)),l.push(D)}let h=[];const c=Object.keys(u).sort(function(x,C){return u[C].freq-u[x].freq}),f=c[0].split(",").map(x=>parseInt(x));h=h.concat(u[f].frames);const p=new Set(f);for(let x=1;x<c.length;x++){const E=c[x].split(",").map(S=>parseInt(S)).filter(S=>!p.has(S));if(f.length+E.length<=256){for(let S=0;S<E.length;S++)f.push(E[S]),p.add(E[S]);h=h.concat(u[c[x]].frames)}}h=new Set(h);const d={};for(let x=0;x<f.length;x++)d[f[x]]||(d[f[x]]=x);let g=1;for(;g<f.length;)g<<=1;f.length=g;const m={loop:o,palette:new Uint32Array(f)},v=new C5.GifWriter(a,r.width,r.height,m);let w={};for(let x=0;x<s.numFrames;x++){const C=!h.has(x),E=C?[]:f,S=new Uint8Array(r.width*r.height),D={},A=new Set;l[x].forEach((T,I)=>{C?(D[T]===void 0&&(D[T]=E.length,E.push(T)),S[I]=D[T]):S[I]=d[T],x>0&&l[x-1][I]!==T&&A.add(T)});const N={},F=E.filter(T=>!A.has(T));if(F.length>0){const T=F[0],I=C?D[T]:d[T];if(x>0){for(let M=0;M<l[x].length;M++)l[x-1][M]===l[x][M]&&(S[M]=I);N.transparent=I,w.frameOpts.disposal=1}}if(N.delay=s.frames[x].delay/10,C){let T=1;for(;T<E.length;)T<<=1;E.length=T,N.palette=new Uint32Array(E)}x>0&&v.addFrame(0,0,r.width,r.height,w.pixelPaletteIndex,w.frameOpts),w={pixelPaletteIndex:S,frameOpts:N}}w.frameOpts.disposal=1,v.addFrame(0,0,r.width,r.height,w.pixelPaletteIndex,w.frameOpts);const y="gif",_=new Blob([a.slice(0,v.end())],{type:"image/gif"});t.downloadFile(_,i,y)},t.saveFrames=function(r,i,s,o,a){let l=s||3;l=Math.max(Math.min(l,15),0),l=l*1e3;let u=o||15;u=Math.max(Math.min(u,22),0);let h=0;const c=t._makeFrame,f=this._curElement.elt;let p=[];const d=setInterval(()=>{p.push(c(r+h,i,f)),h++},1e3/u);setTimeout(()=>{if(clearInterval(d),a)a(p);else for(const g of p)t.downloadFile(g.imageData,g.filename,g.ext);p=[]},l+.01)},t._makeFrame=function(r,i,s){let o;this?o=this._curElement.elt:o=s;let a;if(!i)i="png",a="image/png";else switch(i.toLowerCase()){case"png":a="image/png";break;case"jpeg":a="image/jpeg";break;case"jpg":a="image/jpeg";break;default:a="image/png";break}const l="image/octet-stream";let u=o.toDataURL(a);u=u.replace(a,l);const h={};return h.imageData=u,h.filename=r,h.ext=i,h}}typeof p5<"u"&&Ib(p5,p5.prototype);class IE extends Error{status;response;ok}async function us(n,t){try{const r=await fetch(n);if(r.ok){let i;switch(t){case"json":i=await r.json();break;case"text":i=await r.text();break;case"arrayBuffer":i=await r.arrayBuffer();break;case"blob":i=await r.blob();break;case"bytes":if(r.bytes)i=await r.bytes();else{const s=await r.arrayBuffer();i=new Uint8Array(s)}break;default:throw new Error("Unsupported response type")}return{data:i,headers:r.headers}}else{const i=new IE(r.statusText);throw i.status=r.status,i.response=r,i.ok=!1,i}}catch(r){throw r instanceof TypeError?console.log("You may have encountered a CORS error"):r instanceof IE?console.log("You have encountered a HTTP error"):r instanceof SyntaxError&&console.log("There is an error parsing the response to requested data structure"),r}}function O5(n,t){t.loadJSON=async function(i,s,o){try{const{data:a}=await us(i,"json");return s?s(a):a}catch(a){if(n._friendlyFileLoadError(5,i),o)return o(a);throw a}},t.loadStrings=async function(i,s,o){try{let{data:a}=await us(i,"text");return a=a.split(/\r?\n/),s?s(a):a}catch(a){if(n._friendlyFileLoadError(3,i),o)return o(a);throw a}},t.loadTable=async function(i,s,o,a,l){typeof arguments[arguments.length-1]=="function"&&(typeof arguments[arguments.length-2]=="function"?(a=arguments[arguments.length-2],l=arguments[arguments.length-1]):a=arguments[arguments.length-1]),typeof s!="string"&&(s=","),typeof o=="function"&&(o=!1);try{let{data:u}=await us(i,"text"),h=new n.Table;return u=NV(u,{separator:s}),o?h.columns=u.shift():h.columns=Array(u[0].length).fill(null),u.forEach(c=>{const f=new n.TableRow(c);h.addRow(f)}),a?a(h):h}catch(u){if(n._friendlyFileLoadError(2,i),l)return l(u);throw u}},t.loadXML=async function(i,s,o){try{const a=new DOMParser;let{data:l}=await us(i,"text");const u=a.parseFromString(l,"application/xml");return l=new n.XML(u),s?s(l):l}catch(a){if(n._friendlyFileLoadError(1,i),o)return o(a);throw a}},t.loadBytes=async function(i,s,o){try{let{data:a}=await us(i,"arrayBuffer");return a=new Uint8Array(a),s?s(a):a}catch(a){if(n._friendlyFileLoadError(6,i),o)return o(a);throw a}},t.loadBlob=async function(i,s,o){try{const{data:a}=await us(i,"blob");return s?s(a):a}catch(a){if(o)return o(a);throw a}},t.httpGet=async function(i,s="text",o,a){return typeof s=="function"&&(a=o,o=s,s="text"),this.httpDo(i,"GET",s,o,a)},t.httpPost=async function(i,s,o="text",a,l){typeof s=="function"?(a=s,l=o,s=void 0,o="text"):typeof o=="function"&&(l=a,a=o,o="text");let u=s,h="text/plain";s instanceof n.XML?(u=s.serialize(),h="application/xml"):s instanceof n.Image?(u=await s.toBlob(),h="image/png"):typeof s=="object"&&(u=JSON.stringify(s),h="application/json");const c={method:"POST",body:u,headers:{"Content-Type":h}};u&&(c.body=u);const f=new Request(i,c);return this.httpDo(f,"POST",o,a,l)},t.httpDo=async function(i,s,o,a,l){if(typeof o=="function"&&(l=a,a=o,o=void 0),!o)switch(typeof i=="string"?i.split(".").pop():i.url.split(".").pop()){case"json":o="json";break;case"jpg":case"jpeg":case"png":case"webp":case"gif":o="blob";break;case"xml":case"txt":default:o="text"}const u=new Request(i,{method:s});try{const{data:h}=await us(u,o);return a?a(h):h}catch(h){if(l)return l(h);throw h}},t._pWriters=[],t.createWriter=function(i,s){let o;for(const a in t._pWriters)if(t._pWriters[a].name===i)return o=new n.PrintWriter(i+this.millis(),s),t._pWriters.push(o),o;return o=new n.PrintWriter(i,s),t._pWriters.push(o),o},n.PrintWriter=function(i,s){let o=this;this.name=i,this.content="",this.write=function(a){this.content+=a},this.print=function(a){this.content+=`${a}
`},this.clear=function(){this.content=""},this.close=function(){const a=[];a.push(this.content),t.writeFile(a,i,s);for(const l in t._pWriters)t._pWriters[l].name===this.name&&t._pWriters.splice(l,1);o.clear(),o={}}},t.save=function(i,s,o){const a=arguments,l=this._curElement?this._curElement.elt:this.elt;if(a.length===0){t.saveCanvas(l);return}else if(a[0]instanceof Nt||a[0]instanceof lc){t.saveCanvas(a[0].canvas,a[1],a[2]);return}else if(a.length===1&&typeof a[0]=="string")t.saveCanvas(l,a[0]);else switch(jp(a[1],a[2])[1]){case"json":t.saveJSON(a[0],a[1],a[2]);return;case"txt":t.saveStrings(a[0],a[1],a[2]);return;default:a[0]instanceof Array?t.saveStrings(a[0],a[1],a[2]):a[0]instanceof n.Table?t.saveTable(a[0],a[1],a[2]):a[0]instanceof n.Image?t.saveCanvas(a[0].canvas,a[1]):a[0]instanceof n.SoundFile&&t.saveSound(a[0],a[1],a[2],a[3])}},t.saveJSON=function(i,s,o){let a;o?a=JSON.stringify(i):a=JSON.stringify(i,void 0,2),this.saveStrings(a.split(`
`),s,"json")},t.saveStrings=function(i,s,o,a){const l=o||"txt",u=new n.PrintWriter(s,l);for(let h of i)a?u.write(h+`\r
`):u.write(h+`
`);u.close(),u.clear()};function r(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}t.saveTable=function(i,s,o){let a;o===void 0?(a=s.substring(s.lastIndexOf(".")+1,s.length),a===s&&(a="csv")):a=o;const l=this.createWriter(s,a),u=i.columns;let h=",";if(a==="tsv"&&(h="	"),a!=="html"){const c=i.toString(h);l.write(c)}else{l.print("<html>"),l.print("<head>");let c='  <meta http-equiv="content-type" content';if(c+='="text/html;charset=utf-8" />',l.print(c),l.print("</head>"),l.print("<body>"),l.print("  <table>"),u[0]!=="0"){l.print("    <tr>");for(let f=0;f<u.length;f++){const p=r(u[f]);l.print(`      <td>${p}`),l.print("      </td>")}l.print("    </tr>")}for(let f=0;f<i.rows.length;f++){l.print("    <tr>");for(let p=0;p<i.columns.length;p++){const d=i.rows[f].getString(p),g=r(d);l.print(`      <td>${g}`),l.print("      </td>")}l.print("    </tr>")}l.print("  </table>"),l.print("</body>"),l.print("</html>")}l.close(),l.clear()},t.writeFile=function(i,s,o){let a="application/octet-stream";t._isSafari()&&(a="text/plain");const l=new Blob(i,{type:a});t.downloadFile(l,s,o)},t.downloadFile=Yh,t._checkFileExtension=jp,t._isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}typeof p5<"u"&&O5(p5,p5.prototype);function Db(n,t){t.loadImage=async function(h,c,f){try{let p=new n.Image(1,1,this);const d=new Request(h,{method:"GET",mode:"cors"}),{data:g,headers:m}=await us(d,"bytes"),v=m.get("content-type");if(v===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),v&&v.includes("image/gif"))await s(g,p);else{const w=new Blob([g]),y=await createImageBitmap(w);p.width=p.canvas.width=y.width,p.height=p.canvas.height=y.height,p.drawingContext.drawImage(y,0,0)}return p.modified=!0,c?c(p):p}catch(p){if(n._friendlyFileLoadError(0,h),typeof f=="function")return f(p);throw p}},t.saveGif=async function(h,c,f={delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar",reset:!0}){if(typeof h!="string")throw TypeError("fileName parameter must be a string");if(typeof c!="number")throw TypeError("Duration parameter must be a number");const p=f&&f.delay||0,d=f&&f.units||"seconds",g=f&&f.silent||!1,m=f&&f.notificationDuration||0,v=f&&f.notificationID||"progressBar",w=f&&f.reset!==void 0?f.reset:!0;if(typeof p!="number")throw TypeError("Delay parameter must be a number");if(d!=="seconds"&&d!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');if(typeof g!="boolean")throw TypeError("Silent parameter must be a boolean");if(typeof m!="number")throw TypeError("Notification duration parameter must be a number");if(typeof v!="string")throw TypeError("Notification ID parameter must be a string");this._recording=!0;let y=this._targetFrameRate;(y===1/0||y===void 0||y===0)&&(y=60);let _=1/y*1e3;_=_<20?20:_;const x=d==="seconds"?c*y:c,C=d==="seconds"?p*y:p;let E,S;w?(E=C,this.frameCount=E,S=x+C):(E=this.frameCount+C,S=E+x);const D=this._renderer._pixelDensity;this.pixelDensity(1);let A=[];document.getElementById(v)!==null&&document.getElementById(v).remove();let N;g||(N=this.createP(""),N.id(v),N.style("font-size","16px"),N.style("font-family","Montserrat"),N.style("background-color","#ffffffa0"),N.style("padding","8px"),N.style("border-radius","10px"),N.position(0,0));let F,T;for(this._renderer instanceof n.RendererGL&&(T=this.drawingContext,F=new Uint8Array(T.drawingBufferWidth*T.drawingBufferHeight*4)),this.noLoop(),await new Promise(requestAnimationFrame);E<S;){this.redraw(),await new Promise(requestAnimationFrame);let J;this._renderer instanceof n.RendererGL?(F=new Uint8Array(T.drawingBufferWidth*T.drawingBufferHeight*4),T.readPixels(0,0,T.drawingBufferWidth,T.drawingBufferHeight,T.RGBA,T.UNSIGNED_BYTE,F),J=r(F,this.width,this.height)):J=this.drawingContext.getImageData(0,0,this.width,this.height).data,A.push(J),E++,g||N.html("Saved frame <b>"+A.length.toString()+"</b> out of "+x.toString()),await new Promise(ge=>setTimeout(ge,0))}g||N.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(D);const I=HV(),M=i(A),L={},B=J=>{const ge=J.length/4,W=new Uint8Array(ge);for(let z=0;z<ge;z++){const de=J[z*4]<<24|J[z*4+1]<<16|J[z*4+2]<<8|J[z*4+3];L[de]===void 0&&(L[de]=GV(M,J.slice(z*4,(z+1)*4))),W[z]=L[de]}return W},$=M.length-1;let q=[];for(let J=0;J<A.length;J++){const ge=B(A[J]),W=ge.slice();if(J===0)I.writeFrame(ge,this.width,this.height,{palette:M,delay:_,dispose:1});else{for(let z=0;z<ge.length;z++)ge[z]===q[z]&&(ge[z]=$);I.writeFrame(ge,this.width,this.height,{delay:_,transparent:!0,transparentIndex:$,dispose:1})}q=W,g||N.html("Rendered frame <b>"+J.toString()+"</b> out of "+x.toString()),await new Promise(z=>setTimeout(z,0))}I.finish();const Z=I.bytesView(),he="gif",V=new Blob([Z],{type:"image/gif"});A=[],this._recording=!1,this.loop(),g||(N.html("Done. Downloading your gif!"),m>0&&setTimeout(()=>N.remove(),m*1e3)),t.downloadFile(V,h,he)};function r(h,c,f){const p=parseInt(f/2),d=c*4,g=new Uint8Array(c*4);for(let m=0;m<p;++m){const v=m*d,w=(f-m-1)*d;g.set(h.subarray(v,v+d)),h.copyWithin(v,w,w+d),h.set(g,w)}return h}function i(h){let c=new Uint8Array(h.length*h[0].length);for(let p=0;p<h.length;p++)c.set(h[p],p*h[0].length);let f=$V(c,256,{format:"rgba4444",oneBitAlpha:!0});return f.length===256?f[f.length-1]=[Math.random()*255,Math.random()*255,Math.random()*255,0]:f.push([Math.random()*255,Math.random()*255,Math.random()*255,0]),f}async function s(h,c){const f=new C5.GifReader(h);c.width=c.canvas.width=f.width,c.height=c.canvas.height=f.height;const p=[],d=f.numFrames();let g=new Uint8ClampedArray(c.width*c.height*4);const m=(w,y)=>{try{y.decodeAndBlitFrameRGBA(w,g)}catch(_){throw n._friendlyFileLoadError(8,c.src),_}};for(let w=0;w<d;w++){const y=f.frameInfo(w),_=c.drawingContext.getImageData(0,0,c.width,c.height);g=_.data.slice(),m(w,f);const x=new ImageData(g,c.width,c.height);c.drawingContext.putImageData(x,0,0);let C=y.delay;C===0&&(C=10),p.push({image:c.drawingContext.getImageData(0,0,c.width,c.height),delay:C*10}),y.disposal===2?c.drawingContext.clearRect(y.x,y.y,y.width,y.height):y.disposal===3&&c.drawingContext.putImageData(_,0,0,y.x,y.y,y.width,y.height)}let v=f.loopCount();return v===null?v=1:v===0&&(v=null),c.drawingContext.putImageData(p[0].image,0,0),p.length>1&&(c.gifProperties={displayIndex:0,loopLimit:v,loopCount:0,frames:p,numFrames:d,playing:!0,timeDisplayed:0,lastChangeTime:0}),c}function o(h,c,f,p,d,g,m,v){const w=Math.max(m/d,v/g),[y,_]=[m/w,v/w];let x=f,C=p;return h===Wi?x+=(d-y)/2:h===Fp&&(x+=d-y),c===Wi?C+=(g-_)/2:c===wy&&(C+=g-_),{x,y:C,w:y,h:_}}function a(h,c,f,p,d,g,m,v){const w=Math.max(f/m,p/v),[y,_]=[f/w,p/w];let x=d,C=g;return h===Wi?x+=(m-y)/2:h===Fp&&(x+=m-y),c===Wi?C+=(v-_)/2:c===wy&&(C+=v-_),{x,y:C,w:y,h:_}}function l(h,c,f,p,d,g,m,v,w,y,_){if(h===OD){const{x,y:C,w:E,h:S}=a(c,f,g,m,v,w,y,_);v=x,w=C,y=E,_=S}if(h===MD){const{x,y:C,w:E,h:S}=o(c,f,p,d,g,m,y,_);p=x,d=C,g=E,m=S}return{sx:v,sy:w,sw:y,sh:_,dx:p,dy:d,dw:g,dh:m}}function u(h,c){return h>0&&h<c?h:c}t.image=function(h,c,f,p,d,g,m,v,w,y,_,x){let C=h.width,E=h.height;x=x||Wi,_=_||Wi,h.elt&&(C=C!==void 0?C:h.elt.width,E=E!==void 0?E:h.elt.height),h.elt&&h.elt.videoWidth&&!h.canvas&&(C=C!==void 0?C:h.elt.videoWidth,E=E!==void 0?E:h.elt.videoHeight);let S=c,D=f,A=p||C,N=d||E,F=g||0,T=m||0,I=v!==void 0?v:C,M=w!==void 0?w:E;I=u(I,C),M=u(M,E);let L=1;h.elt&&!h.canvas&&h.elt.style.width&&(h.elt.videoWidth&&!p?L=h.elt.videoWidth:L=h.elt.width,L/=parseInt(h.elt.style.width,10)),F*=L,T*=L,M*=L,I*=L;let B=Jd.modeAdjust(S,D,A,N,this._renderer.states.imageMode);B=l(y,_,x,B.x,B.y,B.w,B.h,F,T,I,M),this._renderer.image(h,B.sx,B.sy,B.sw,B.sh,B.dx,B.dy,B.dw,B.dh)},t.tint=function(...h){const c=this.color(...h);this._renderer.states.setValue("tint",c._getRGBA([255,255,255,255]))},t.noTint=function(){this._renderer.states.setValue("tint",null)},t.imageMode=function(h){(h===ds||h===Bh||h===Wi)&&this._renderer.states.setValue("imageMode",h)}}typeof p5<"u"&&Db(p5,p5.prototype);class Wl{constructor(t){this._renderer=t,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new Un(4),this.projMatrix=new Un(4),this.yScale=1}perspective(t,r,i,s){this.cameraType=arguments.length>0?"custom":"default",typeof t>"u"?(t=this.defaultCameraFOV,this.cameraFOV=t):this.cameraFOV=this._renderer._pInst._toRadians(t),typeof r>"u"&&(r=this.defaultAspectRatio),typeof i>"u"&&(i=this.defaultCameraNear),typeof s>"u"&&(s=this.defaultCameraFar),i<=1e-4&&(i=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),s<i&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=r,this.cameraNear=i,this.cameraFar=s,this.projMatrix=new Un(4);const o=1/Math.tan(this.cameraFOV/2),a=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(o/r,0,0,0,0,-o*this.yScale,0,0,0,0,(s+i)*a,-1,0,0,2*s*i*a,0),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix))}ortho(t,r,i,s,o,a){const l=this.fbo||this._renderer;t===void 0&&(t=-l.width/2),r===void 0&&(r=+l.width/2),i===void 0&&(i=-l.height/2),s===void 0&&(s=+l.height/2),o===void 0&&(o=0),a===void 0&&(a=Math.max(l.width,l.height)+800),this.cameraNear=o,this.cameraFar=a;const u=r-t,h=s-i,c=a-o,f=2/u,p=2/h*this.yScale,d=-2/c,g=-(r+t)/u,m=-(s+i)/h,v=-(a+o)/c;this.projMatrix=new Un(4),this.projMatrix.set(f,0,0,0,0,-p,0,0,0,0,d,0,g,m,v,1),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType="custom"}frustum(t,r,i,s,o,a){t===void 0&&(t=-this._renderer.width*.05),r===void 0&&(r=+this._renderer.width*.05),i===void 0&&(i=+this._renderer.height*.05),s===void 0&&(s=-this._renderer.height*.05),o===void 0&&(o=this.defaultCameraNear),a===void 0&&(a=this.defaultCameraFar),this.cameraNear=o,this.cameraFar=a;const l=r-t,u=s-i,h=a-o,c=+(2*o)/l,f=+(2*o)/u*this.yScale,p=-(2*a*o)/h,d=(r+t)/l,g=(s+i)/u,m=-(a+o)/h;this.projMatrix=new Un(4),this.projMatrix.set(c,0,0,0,0,-f,0,0,d,g,m,-1,0,0,p,0),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType="custom"}_rotateView(t,r,i,s){let o=this.centerX,a=this.centerY,l=this.centerZ;o-=this.eyeX,a-=this.eyeY,l-=this.eyeZ;const u=new Un(4);u.rotate4x4(this._renderer._pInst._toRadians(t),r,i,s);const h=[o*u.mat4[0]+a*u.mat4[4]+l*u.mat4[8],o*u.mat4[1]+a*u.mat4[5]+l*u.mat4[9],o*u.mat4[2]+a*u.mat4[6]+l*u.mat4[10]];h[0]+=this.eyeX,h[1]+=this.eyeY,h[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,h[0],h[1],h[2],this.upX,this.upY,this.upZ)}roll(t){const r=this._getLocalAxes(),s=Yu.fromAxisAngle(this._renderer._pInst._toRadians(t),r.z[0],r.z[1],r.z[2]).rotateVector(new Me(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,s.x,s.y,s.z)}pan(t){const r=this._getLocalAxes();this._rotateView(t,r.y[0],r.y[1],r.y[2])}tilt(t){const r=this._getLocalAxes();this._rotateView(t,r.x[0],r.x[1],r.x[2])}lookAt(t,r,i){this.camera(this.eyeX,this.eyeY,this.eyeZ,t,r,i,this.upX,this.upY,this.upZ)}camera(t,r,i,s,o,a,l,u,h){typeof t>"u"&&(t=this.defaultEyeX,r=this.defaultEyeY,i=this.defaultEyeZ,s=t,o=r,a=0,l=0,u=1,h=0),this.eyeX=t,this.eyeY=r,this.eyeZ=i,typeof s<"u"&&(this.centerX=s,this.centerY=o,this.centerZ=a),typeof l<"u"&&(this.upX=l,this.upY=u,this.upZ=h);const c=this._getLocalAxes();this.cameraMatrix.set(c.x[0],c.y[0],c.z[0],0,c.x[1],c.y[1],c.z[1],0,c.x[2],c.y[2],c.z[2],0,0,0,0,1);const f=-t,p=-r,d=-i;return this.cameraMatrix.translate([f,p,d]),this._isActive()&&(this._renderer.states.setValue("uViewMatrix",this._renderer.states.uViewMatrix.clone()),this._renderer.states.uViewMatrix.set(this.cameraMatrix)),this}move(t,r,i){const s=this._getLocalAxes(),o=[s.x[0]*t,s.x[1]*t,s.x[2]*t],a=[s.y[0]*r,s.y[1]*r,s.y[2]*r],l=[s.z[0]*i,s.z[1]*i,s.z[2]*i];this.camera(this.eyeX+o[0]+a[0]+l[0],this.eyeY+o[1]+a[1]+l[1],this.eyeZ+o[2]+a[2]+l[2],this.centerX+o[0]+a[0]+l[0],this.centerY+o[1]+a[1]+l[1],this.centerZ+o[2]+a[2]+l[2],this.upX,this.upY,this.upZ)}setPosition(t,r,i){const s=t-this.eyeX,o=r-this.eyeY,a=i-this.eyeZ;this.camera(t,r,i,this.centerX+s,this.centerY+o,this.centerZ+a,this.upX,this.upY,this.upZ)}set(t){const r=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];for(const i of r)this[i]=t[i];this.cameraMatrix=t.cameraMatrix.copy(),this.projMatrix=t.projMatrix.copy(),this._isActive()&&(this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.setValue("uViewMatrix",this._renderer.states.uViewMatrix.clone()),this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this._renderer.states.uViewMatrix.set(this.cameraMatrix),this._renderer.states.uPMatrix.set(this.projMatrix))}slerp(t,r,i){if(i===0){this.set(t);return}else if(i===1){this.set(r);return}this.projMatrix.mat4[15]!==0&&(this.projMatrix.setElement(0,t.projMatrix.mat4[0]*Math.pow(r.projMatrix.mat4[0]/t.projMatrix.mat4[0],i)),this.projMatrix.setElement(5,t.projMatrix.mat4[5]*Math.pow(r.projMatrix.mat4[5]/t.projMatrix.mat4[5],i)),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4=this.projMatrix.mat4.slice()));const s=new Me(t.eyeX,t.eyeY,t.eyeZ),o=new Me(r.eyeX,r.eyeY,r.eyeZ),a=new Me(t.centerX,t.centerY,t.centerZ),l=new Me(r.centerX,r.centerY,r.centerZ),u=Me.dist(s,a),h=Me.dist(o,l),c=u*Math.pow(h/u,i),f=Me.sub(s,o),p=s.copy().sub(o).sub(a).add(l),d=p.magSq();let g=1;d>1e-6&&(g=Me.dot(f,p)/d,g=Math.max(0,Math.min(g,1)));const m=Me.lerp(Me.lerp(s,a,g),Me.lerp(o,l,g),i),v=t.cameraMatrix.createSubMatrix3x3(),w=r.cameraMatrix.createSubMatrix3x3(),y=v.row(2),_=w.row(2),x=v.row(1),C=w.row(1),E=new Me,S=new Me,D=new Me,A=new Me,N=w.mult(v.copy().transpose()),F=N.diagonal();let T=.5*(F[0]+F[1]+F[2]-1);if(1-T<1e-7){E.set(Me.lerp(y,_,i)).normalize(),D.set(E).mult(g*c).add(m),A.set(E).mult((g-1)*c).add(m),S.set(Me.lerp(x,C,i)).normalize(),this.camera(D.x,D.y,D.z,A.x,A.y,A.z,S.x,S.y,S.z);return}let I,M,L,B,$=1/(1-T);const q=Math.max(F[0],F[1],F[2]),Z=N.mat3[1]+N.mat3[3],he=N.mat3[2]+N.mat3[6],V=N.mat3[5]+N.mat3[7];q===F[0]?(I=Math.sqrt((F[0]-T)*$),$/=I,M=.5*Z*$,L=.5*he*$,B=.5*(N.mat3[7]-N.mat3[5])/I):q===F[1]?(M=Math.sqrt((F[1]-T)*$),$/=M,L=.5*V*$,I=.5*Z*$,B=.5*(N.mat3[2]-N.mat3[6])/M):(L=Math.sqrt((F[2]-T)*$),$/=L,I=.5*he*$,M=.5*V*$,B=.5*(N.mat3[3]-N.mat3[1])/L);const J=i*Math.atan2(B,T),ge=Math.cos(J),W=Math.sin(J),z=1-ge,de=I*M,K=M*L,ue=L*I,G=new Un([ge+z*I*I,z*de+W*L,z*ue-W*M,z*de-W*L,ge+z*M*M,z*K+W*I,z*ue+W*M,z*K-W*I,ge+z*L*L]);G.multiplyVec(y,E),D.set(E).mult(g*c).add(m),A.set(E).mult((g-1)*c).add(m),G.multiplyVec(x,S),this.camera(D.x,D.y,D.z,A.x,A.y,A.z,S.x,S.y,S.z)}_computeCameraDefaultSettings(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=this.defaultEyeZ*.1,this.defaultCameraFar=this.defaultEyeZ*10}_setDefaultCamera(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}_resize(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}copy(){const t=new Wl(this._renderer);return t.cameraFOV=this.cameraFOV,t.aspectRatio=this.aspectRatio,t.eyeX=this.eyeX,t.eyeY=this.eyeY,t.eyeZ=this.eyeZ,t.centerX=this.centerX,t.centerY=this.centerY,t.centerZ=this.centerZ,t.upX=this.upX,t.upY=this.upY,t.upZ=this.upZ,t.cameraNear=this.cameraNear,t.cameraFar=this.cameraFar,t.cameraType=this.cameraType,t.useLinePerspective=this.useLinePerspective,t.cameraMatrix=this.cameraMatrix.copy(),t.projMatrix=this.projMatrix.copy(),t.yScale=this.yScale,t}clone(){return this.copy()}_getLocalAxes(){let t=this.eyeX-this.centerX,r=this.eyeY-this.centerY,i=this.eyeZ-this.centerZ;const s=Math.sqrt(t*t+r*r+i*i);s!==0&&(t/=s,r/=s,i/=s);let o=this.upX,a=this.upY,l=this.upZ,u=a*i-l*r,h=-o*i+l*t,c=o*r-a*t;o=r*c-i*h,a=-t*c+i*u,l=t*h-r*u;const f=Math.sqrt(u*u+h*h+c*c);f!==0&&(u/=f,h/=f,c/=f);const p=Math.sqrt(o*o+a*a+l*l);return p!==0&&(o/=p,a/=p,l/=p),{x:[u,h,c],y:[o,a,l],z:[t,r,i]}}_orbit(t,r,i){const s=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ;let l=Math.hypot(s,o,a);const u=new Me(s,o,a).normalize(),h=new Me(this.upX,this.upY,this.upZ).normalize(),c=Me.cross(h,u).normalize(),f=Me.cross(c,h);l*=Math.pow(10,i),l<this.cameraNear&&(l=this.cameraNear),l>this.cameraFar&&(l=this.cameraFar);const p=Math.acos(Math.max(-1,Math.min(1,Me.dot(u,h))))+r,d=t;(p<=0||p>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),h.mult(Math.cos(p)),f.mult(Math.cos(d)*Math.sin(p)),c.mult(Math.sin(d)*Math.sin(p)),u.set(h).add(f).add(c),this.eyeX=l*u.x+this.centerX,this.eyeY=l*u.y+this.centerY,this.eyeZ=l*u.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}_orbitFree(t,r,i){const s=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ;let l=Math.hypot(s,o,a);const u=new Me(s,o,a).normalize(),h=new Me(this.upX,this.upY,this.upZ),c=Me.cross(h,u).normalize(),f=Me.cross(u,c),p=Math.atan2(r,t);f.mult(Math.sin(p)),c.mult(Math.cos(p)).add(f);const d=Math.sqrt(t*t+r*r),g=Me.cross(u,c);l*=Math.pow(10,i),l<this.cameraNear&&(l=this.cameraNear),l>this.cameraFar&&(l=this.cameraFar);const m=Math.cos(d),v=Math.sin(d),w=h.dot(u),y=h.dot(c),_=w*m+y*v,x=-w*v+y*m,C=h.dot(g);h.x=_*u.x+x*c.x+C*g.x,h.y=_*u.y+x*c.y+C*g.y,h.z=_*u.z+x*c.z+C*g.z,c.mult(-v),u.mult(m).add(c).mult(l),this.camera(u.x+this.centerX,u.y+this.centerY,u.z+this.centerZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}_isActive(){return this===this._renderer.states.curCamera}}function P5(n,t){t.camera=function(...r){return this._assert3d("camera"),this._renderer.camera(...r),this},t.perspective=function(...r){return this._assert3d("perspective"),this._renderer.perspective(...r),this},t.linePerspective=function(r){if(!(this._renderer instanceof Lt))throw new Error("linePerspective() must be called in WebGL mode.");return this._renderer.linePerspective(r)},t.ortho=function(...r){return this._assert3d("ortho"),this._renderer.ortho(...r),this},t.frustum=function(...r){return this._assert3d("frustum"),this._renderer.frustum(...r),this},t.createCamera=function(){return this._assert3d("createCamera"),this._renderer.createCamera()},t.setCamera=function(r){this._renderer.setCamera(r)},n.Camera=Wl,Lt.prototype.camera=function(...r){this.states.curCamera.camera(...r)},Lt.prototype.perspective=function(...r){this.states.curCamera.perspective(...r)},Lt.prototype.linePerspective=function(r){if(r!==void 0)this.states.curCamera.useLinePerspective=r;else return this.states.curCamera.useLinePerspective},Lt.prototype.ortho=function(...r){this.states.curCamera.ortho(...r)},Lt.prototype.frustum=function(...r){this.states.curCamera.frustum(...r)},Lt.prototype.createCamera=function(){const r=new Wl(this);return r._computeCameraDefaultSettings(),r._setDefaultCamera(),r},Lt.prototype.setCamera=function(r){this.states.setValue("curCamera",r),this.states.setValue("uPMatrix",this.states.uPMatrix.clone()),this.states.uPMatrix.set(r.projMatrix),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(r.cameraMatrix)}}typeof p5<"u"&&P5(p5,p5.prototype);class Xr{constructor(t,r,i,s={}){this._renderer=t,this._vertSrc=r,this._fragSrc=i,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:s.uniforms||{},declarations:s.declarations,helpers:s.helpers||{},vertex:s.vertex||{},fragment:s.fragment||{},modified:{vertex:s.modified&&s.modified.vertex||{},fragment:s.modified&&s.modified.fragment||{}}}}hookTypes(t){let r=this._vertSrc,i=this.hooks.vertex[t];if(i||(i=this.hooks.fragment[t],r=this._fragSrc),!i)throw new Error(`Can't find hook ${t}!`);const s=t.split(/\s+/g),o=s.pop(),a=s.pop(),l=[...s],u=/\(([^\)]*)\)/.exec(i);if(!u)throw new Error(`Couldn't find function parameters in hook body:
${i}`);const h=f=>{const p=new RegExp(`struct\\s+${f}\\s*{([^}]*)}`).exec(r);if(!p)return;const d=[];for(const g of p[1].split(";")){const m=g.trim().split(/\s+|,/g),v=m.shift(),w=[...m],y=h(v);for(const _ of w)d.push({name:_,type:{typeName:v,qualifiers:[],properties:y}})}return d},c=u[1].split(",").map(f=>{const p=f.trim().split(/\s+/g),d=p.pop(),g=p.pop(),m=[...p],v=h(g);return{name:d,type:{typeName:g,qualifiers:m,properties:v}}});return{name:o,returnType:{typeName:a,qualifiers:l,properties:h(a)},parameters:c}}shaderSrc(t,r){const i="void main";let[s,o]=t.split(i),a="",l="";for(const u in this.hooks.uniforms)a+=`uniform ${u};
`;this.hooks.declarations&&(a+=this.hooks.declarations+`
`),this.hooks[r].declarations&&(a+=this.hooks[r].declarations+`
`);for(const u in this.hooks.helpers)a+=`${u}${this.hooks.helpers[u]}
`;for(const u in this.hooks[r]){if(u==="declarations")continue;const[h,c]=u.split(" ");this.hooks.modified[r][u]&&(l+="#define AUGMENTED_HOOK_"+c+`
`),a+=h+" HOOK_"+c+this.hooks[r][u]+`
`}return s.indexOf("#define HOOK_DEFINES")!==-1&&(s=s.replace("#define HOOK_DEFINES",`
`+l+`
`),l=""),s+`
`+l+a+i+o}version(){const t=/#version (.+)$/.exec(this.vertSrc());return t?t[1]:"100 es"}vertSrc(){return this.shaderSrc(this._vertSrc,"vertex")}fragSrc(){return this.shaderSrc(this._fragSrc,"fragment")}inspectHooks(){console.log("==== Vertex shader hooks: ====");for(const t in this.hooks.vertex)console.log((this.hooks.modified.vertex[t]?"[MODIFIED] ":"")+t+this.hooks.vertex[t]);console.log(""),console.log("==== Fragment shader hooks: ====");for(const t in this.hooks.fragment)console.log((this.hooks.modified.fragment[t]?"[MODIFIED] ":"")+t+this.hooks.fragment[t]);console.log(""),console.log("==== Helper functions: ====");for(const t in this.hooks.helpers)console.log(t+this.hooks.helpers[t])}modify(t){const r={vertex:{},fragment:{},helpers:{}};for(const o in t)o!=="declarations"&&o!=="uniforms"&&(o==="vertexDeclarations"?r.vertex.declarations=(r.vertex.declarations||"")+`
`+t[o]:o==="fragmentDeclarations"?r.fragment.declarations=(r.fragment.declarations||"")+`
`+t[o]:this.hooks.vertex[o]?r.vertex[o]=t[o]:this.hooks.fragment[o]?r.fragment[o]=t[o]:r.helpers[o]=t[o]);const i=Object.assign({},this.hooks.modified.vertex),s=Object.assign({},this.hooks.modified.fragment);for(const o in r.vertex||{})o!=="declarations"&&(i[o]=!0);for(const o in r.fragment||{})o!=="declarations"&&(s[o]=!0);return new Xr(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(t.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,t.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,r.fragment||{}),vertex:Object.assign({},this.hooks.vertex,r.vertex||{}),helpers:Object.assign({},this.hooks.helpers,r.helpers||{}),modified:{vertex:i,fragment:s}})}init(){if(this._glProgram===0){const t=this._renderer.GL;if(this._vertShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertShader,this.vertSrc()),t.compileShader(this._vertShader),!t.getShaderParameter(this._vertShader,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(this._vertShader);if(typeof IS_MINIFIED<"u")console.error(r);else throw p5._friendlyError(`Yikes! An error occurred compiling the vertex shader:${r}`),r;return null}if(this._fragShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragShader,this.fragSrc()),t.compileShader(this._fragShader),!t.getShaderParameter(this._fragShader,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(this._fragShader);if(typeof IS_MINIFIED<"u")console.error(r);else throw p5._friendlyError(`Darn! An error occurred compiling the fragment shader:${r}`),r;return null}this._glProgram=t.createProgram(),t.attachShader(this._glProgram,this._vertShader),t.attachShader(this._glProgram,this._fragShader),t.linkProgram(this._glProgram),t.getProgramParameter(this._glProgram,t.LINK_STATUS)||p5._friendlyError(`Snap! Error linking shader program: ${t.getProgramInfoLog(this._glProgram)}`),this._loadAttributes(),this._loadUniforms()}return this}setDefaultUniforms(){for(const t in this.hooks.uniforms){const[,r]=t.split(" "),i=this.hooks.uniforms[t];let s;i instanceof Function?s=i():s=i,s!=null&&this.setUniform(r,s)}}copyToContext(t){const r=new Xr(t._renderer,this._vertSrc,this._fragSrc);return r.ensureCompiledOnContext(t._renderer),r}ensureCompiledOnContext(t){if(this._glProgram!==0&&this._renderer!==t)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=t?._renderer?.filterRenderer?._renderer||t,this.init())}_loadAttributes(){if(this._loadedAttributes)return;this.attributes={};const t=this._renderer.GL,r=t.getProgramParameter(this._glProgram,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;++i){const s=t.getActiveAttrib(this._glProgram,i),o=s.name,a=t.getAttribLocation(this._glProgram,o),l={};l.name=o,l.location=a,l.index=i,l.type=s.type,l.size=s.size,this.attributes[o]=l}this._loadedAttributes=!0}_loadUniforms(){if(this._loadedUniforms)return;const t=this._renderer.GL,r=t.getProgramParameter(this._glProgram,t.ACTIVE_UNIFORMS);let i=0;for(let s=0;s<r;++s){const o=t.getActiveUniform(this._glProgram,s),a={};a.location=t.getUniformLocation(this._glProgram,o.name),a.size=o.size;let l=o.name;o.size>1&&(l=l.substring(0,l.indexOf("[0]"))),a.name=l,a.type=o.type,a._cachedData=void 0,a.type===t.SAMPLER_2D&&(a.samplerIndex=i,i++,this.samplers.push(a)),a.isArray=o.size>1||a.type===t.FLOAT_MAT3||a.type===t.FLOAT_MAT4||a.type===t.FLOAT_VEC2||a.type===t.FLOAT_VEC3||a.type===t.FLOAT_VEC4||a.type===t.INT_VEC2||a.type===t.INT_VEC4||a.type===t.INT_VEC3,this.uniforms[l]=a}this._loadedUniforms=!0}compile(){}bindShader(){this.init(),this._bound||(this.useProgram(),this._bound=!0)}unbindShader(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}bindTextures(){const t=this._renderer.GL,r=this._renderer._getEmptyTexture();for(const i of this.samplers){let s=i.texture;s===void 0&&(i.texture=s=r),t.activeTexture(t.TEXTURE0+i.samplerIndex),s.bindTexture(),s.update(),t.uniform1i(i.location,i.samplerIndex)}}updateTextures(){for(const t of this.samplers){const r=t.texture;r&&r.update()}}unbindTextures(){const t=this._renderer.GL,r=this._renderer._getEmptyTexture();for(const i of this.samplers)i.texture?.isFramebufferTexture&&(t.activeTexture(t.TEXTURE0+i.samplerIndex),r.bindTexture(),t.uniform1i(i.location,i.samplerIndex))}useProgram(){const t=this._renderer.GL;return this._renderer._curShader!==this&&(t.useProgram(this._glProgram),this._renderer._curShader=this),this}setUniform(t,r){this.init();const i=this.uniforms[t];if(!i)return;const s=this._renderer.GL;if(i.isArray){if(i._cachedData&&this._renderer._arraysEqual(i._cachedData,r))return;i._cachedData=r.slice(0)}else{if(i._cachedData&&i._cachedData===r)return;Array.isArray(r)?i._cachedData=r.slice(0):i._cachedData=r}const o=i.location;switch(this.useProgram(),i.type){case s.BOOL:r===!0?s.uniform1i(o,1):s.uniform1i(o,0);break;case s.INT:i.size>1?r.length&&s.uniform1iv(o,r):s.uniform1i(o,r);break;case s.FLOAT:i.size>1?r.length&&s.uniform1fv(o,r):s.uniform1f(o,r);break;case s.FLOAT_MAT3:s.uniformMatrix3fv(o,!1,r);break;case s.FLOAT_MAT4:s.uniformMatrix4fv(o,!1,r);break;case s.FLOAT_VEC2:i.size>1?r.length&&s.uniform2fv(o,r):s.uniform2f(o,r[0],r[1]);break;case s.FLOAT_VEC3:i.size>1?r.length&&s.uniform3fv(o,r):s.uniform3f(o,r[0],r[1],r[2]);break;case s.FLOAT_VEC4:i.size>1?r.length&&s.uniform4fv(o,r):s.uniform4f(o,r[0],r[1],r[2],r[3]);break;case s.INT_VEC2:i.size>1?r.length&&s.uniform2iv(o,r):s.uniform2i(o,r[0],r[1]);break;case s.INT_VEC3:i.size>1?r.length&&s.uniform3iv(o,r):s.uniform3i(o,r[0],r[1],r[2]);break;case s.INT_VEC4:i.size>1?r.length&&s.uniform4iv(o,r):s.uniform4i(o,r[0],r[1],r[2],r[3]);break;case s.SAMPLER_2D:if(typeof r=="number"){if(r<s.TEXTURE0||r>s.TEXTURE31||r!==Math.ceil(r))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;s.activeTexture(r),s.uniform1i(o,r)}else s.activeTexture(s.TEXTURE0+i.samplerIndex),i.texture=r instanceof Zo?r:this._renderer.getTexture(r),s.uniform1i(o,i.samplerIndex),i.texture.src.gifProperties&&i.texture.src._animateGif(this._renderer._pInst);break;case s.SAMPLER_CUBE:case s.SAMPLER_3D:case s.SAMPLER_2D_SHADOW:case s.SAMPLER_2D_ARRAY:case s.SAMPLER_2D_ARRAY_SHADOW:case s.SAMPLER_CUBE_SHADOW:case s.INT_SAMPLER_2D:case s.INT_SAMPLER_3D:case s.INT_SAMPLER_CUBE:case s.INT_SAMPLER_2D_ARRAY:case s.UNSIGNED_INT_SAMPLER_2D:case s.UNSIGNED_INT_SAMPLER_3D:case s.UNSIGNED_INT_SAMPLER_CUBE:case s.UNSIGNED_INT_SAMPLER_2D_ARRAY:if(typeof r!="number")break;if(r<s.TEXTURE0||r>s.TEXTURE31||r!==Math.ceil(r)){console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture.");break}s.activeTexture(r),s.uniform1i(o,r);break}return this}enableAttrib(t,r,i,s,o,a){if(t){typeof IS_MINIFIED>"u"&&this.attributes[t.name]!==t&&console.warn(`The attribute "${t.name}"passed to enableAttrib does not belong to this shader.`);const l=t.location;if(l!==-1){const u=this._renderer.GL;this._renderer.registerEnabled.has(l)||(u.enableVertexAttribArray(l),this._renderer.registerEnabled.add(l)),this._renderer.GL.vertexAttribPointer(l,r,i||u.FLOAT,s||!1,o||0,a||0)}}return this}disableRemainingAttributes(){for(const t of this._renderer.registerEnabled.values())Object.keys(this.attributes).some(r=>this.attributes[r].location===t)||(this._renderer.GL.disableVertexAttribArray(t),this._renderer.registerEnabled.delete(t))}}function Nb(n,t){n.Shader=Xr}typeof p5<"u"&&Nb(p5,p5.prototype);var L5=`precision highp int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

IN vec3 aPosition;
IN vec2 aTexCoord;
OUT vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // project to 3D space
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,DE=`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,Ly=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif

#ifdef FRAGMENT_SHADER
vec4 getTexture(in sampler2D content, vec2 coord) {
  vec4 color = TEXTURE(content, coord);
  color.rgb /= color.a;
  return color;
}
#endif
`,t$=`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

#define HOOK_DEFINES

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
uniform mat3 uModelNormalMatrix;
uniform mat3 uCameraNormalMatrix;
#else
uniform mat4 uModelViewMatrix;
uniform mat3 uNormalMatrix;
#endif
uniform mat4 uProjectionMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

struct Vertex {
  vec3 position;
  vec3 normal;
  vec2 texCoord;
  vec4 color;
};

void main(void) {
  HOOK_beforeVertex();

  Vertex inputs;
  inputs.position = aPosition;
  inputs.normal = aNormal;
  inputs.texCoord = aTexCoord;
  inputs.color = (uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor;
#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uModelNormalMatrix * inputs.normal;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uCameraNormalMatrix * inputs.normal;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uNormalMatrix * inputs.normal;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = HOOK_getCameraInputs(inputs);
#endif

  // Pass varyings to fragment shader
  vVertTexCoord = inputs.texCoord;
  vVertexNormal = normalize(inputs.normal);
  vColor = inputs.color;

  gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);

  HOOK_afterVertex();
}
`,n$=`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,r$=`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,i$=`#define PI 3.141592

precision highp float;
  
uniform sampler2D uEnvMap;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    vec4 newTexColor = texture2D(uEnvMap, suv.xy);
    gl_FragColor = newTexColor;
}
`,s$=`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = ((uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor);
}
`,o$=`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,a$=`precision highp int;

#define HOOK_DEFINES

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
uniform mat3 uModelNormalMatrix;
uniform mat3 uCameraNormalMatrix;
#else
uniform mat4 uModelViewMatrix;
uniform mat3 uNormalMatrix;
#endif
uniform mat4 uProjectionMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

struct Vertex {
  vec3 position;
  vec3 normal;
  vec2 texCoord;
  vec4 color;
};

void main(void) {
  HOOK_beforeVertex();

  Vertex inputs;
  inputs.position = aPosition;
  inputs.normal = aNormal;
  inputs.texCoord = aTexCoord;
  inputs.color = (uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor;
#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uModelNormalMatrix * inputs.normal;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uCameraNormalMatrix * inputs.normal;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uNormalMatrix * inputs.normal;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = HOOK_getCameraInputs(inputs);
#endif

  // Pass varyings to fragment shader
  vViewPosition = inputs.position;
  vTexCoord = inputs.texCoord;
  vNormal = inputs.normal;
  vColor = inputs.color;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }

  gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);
  HOOK_afterVertex();
}
`,l$=`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      ? TEXTURE(uSampler, vTexCoord) * (vec4(uTint.rgb/255., 1.) * uTint.a/255.)
      : vColor;
  if (isTexture && inputs.color.a > 0.0) {
    // Textures come in with premultiplied alpha. Temporarily unpremultiply it
    // so hooks users don't have to think about premultiplied alpha.
    inputs.color.rgb /= inputs.color.a;
  }
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  OUT_COLOR.rgb *= OUT_COLOR.a; // Premultiply alpha before rendering
  HOOK_afterFragment();
}
`,u$=`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5));
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,c$=`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,h$=`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

#define HOOK_DEFINES

precision highp int;
precision highp float;

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
#else
uniform mat4 uModelViewMatrix;
#endif

uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform bool uSimpleLines;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec3 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

struct StrokeVertex {
  vec3 position;
  vec3 tangentIn;
  vec3 tangentOut;
  vec4 color;
  float weight;
};

void main() {
  HOOK_beforeVertex();

  if (!uSimpleLines) {
      // Caps have one of either the in or out tangent set to 0
      vCap = (aTangentIn == vec3(0.)) != (aTangentOut == vec3(0.)) ? 1. : 0.;

      // Joins have two unique, defined tangents
      vJoin = (
          aTangentIn != vec3(0.) &&
          aTangentOut != vec3(0.) &&
          aTangentIn != aTangentOut
      ) ? 1. : 0.;
  }

  StrokeVertex inputs;
  inputs.position = aPosition.xyz;
  inputs.color = uUseLineColor ? aVertexColor : uMaterialColor;
  inputs.weight = uStrokeWeight;
  inputs.tangentIn = aTangentIn;
  inputs.tangentOut = aTangentOut;

#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uModelMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uModelMatrix * vec4(aTangentOut, 0.)).xyz;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uViewMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uViewMatrix * vec4(aTangentOut, 0.)).xyz;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uModelViewMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uModelViewMatrix * vec4(aTangentOut, 0.)).xyz;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = hook_getCameraInputs(inputs);
#endif

  vec4 posp = vec4(inputs.position, 1.);
  vec4 posqIn = vec4(inputs.position + inputs.tangentIn, 1.);
  vec4 posqOut = vec4(inputs.position + inputs.tangentOut, 1.);
  vStrokeWeight = inputs.weight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(0., -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1. && !uSimpleLines) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * inputs.weight / 2.),
          tangentIn,
          c + (side * normalOut * inputs.weight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * inputs.weight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * inputs.weight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * inputs.weight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * inputs.weight / 2.));
    } else {
      vMaxDist = inputs.weight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      inputs.weight * 0.5;
    vMaxDist = inputs.weight / 2.;
  }

  vCenter = p.xy;
  vPosition = vCenter + offset;
  vColor = inputs.color;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  HOOK_afterVertex();
}
`,f$=`precision highp int;
precision highp float;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,d$=`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,p$=`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,m$=`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,g$=`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,v$=`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`,R5=`precision highp float;

uniform sampler2D tex0;
uniform vec2 canvasSize;
uniform vec2 texelSize;

IN vec2 vTexCoord;

struct FilterInputs {
  vec2 texCoord;
  vec2 canvasSize;
  vec2 texelSize;
};

void main(void) {
  FilterInputs inputs;
  inputs.texCoord = vTexCoord;
  inputs.canvasSize = canvasSize;
  inputs.texelSize = texelSize;
  OUT_COLOR = HOOK_getColor(inputs, tex0);
  OUT_COLOR.rgb *= outColor.a;
}
`,B5=`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`,U5=`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`,V5=`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`,$5=`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`,j5=`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`,z5=`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`,G5=`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`,H5=`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`,W5=`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`;const q5={},X5={};let Gp="";const kb=function(n,t){Gp+=`#define STROKE_CAP_${n} ${t}
`,q5[Ma[n]]=t},Fb=function(n,t){Gp+=`#define STROKE_JOIN_${n} ${t}
`,X5[Ma[n]]=t};kb("ROUND",0);kb("PROJECT",1);kb("SQUARE",2);Fb("ROUND",0);Fb("MITER",1);Fb("BEVEL",2);const er={normalVert:t$,normalFrag:n$,basicFrag:r$,sphereMappingFrag:i$,lightVert:DE+s$,lightTextureFrag:o$,phongVert:a$,phongFrag:DE+l$,fontVert:u$,fontFrag:c$,lineVert:Gp+h$,lineFrag:Gp+f$,pointVert:d$,pointFrag:p$,imageLightVert:m$,imageLightDiffusedFrag:g$,imageLightSpecularFrag:v$,filterBaseVert:L5,filterBaseFrag:R5};let y$=er.sphereMappingFrag;for(const n in er)er[n]=Ly+er[n];const b$={[lb]:B5,[fb]:U5,[hb]:V5,[sc]:$5,[eg]:j5,[ub]:z5,[cb]:G5,[Qm]:H5};class Lt extends Nt{constructor(t,r,i,s,o,a){super(t,r,i,s),this.canvas=this.elt=o||document.createElement("canvas"),this._setAttributeDefaults(t),this._initContext(),this.GL=this.drawingContext,this._isMainCanvas?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display="none",this.elt.id="defaultCanvas0",this.elt.classList.add("p5Canvas"),this.wrappedElt=new Vr(this.elt,this._pInst);for(const u of Object.getOwnPropertyNames(Vr.prototype))u!=="constructor"&&u[0]!=="_"&&Object.defineProperty(this,u,{get(){return this.wrappedElt[u]}});const l=this._adjustDimensions(r,i);if(r=l.adjustedWidth,i=l.adjustedHeight,this.width=r,this.height=i,this.elt.width=r*this._pixelDensity,this.elt.height=i*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${i}px`,this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(document.getElementsByTagName("main").length===0){let u=document.createElement("main");document.body.appendChild(u)}document.getElementsByTagName("main")[0].appendChild(this.elt)}this.isP3D=!0,this.geometryBuilder=void 0,this.states.uModelMatrix=new Un(4),this.states.uViewMatrix=new Un(4),this.states.uPMatrix=new Un(4),this.states.curCamera=new Wl(this),this.states.uPMatrix.set(this.states.curCamera.projMatrix),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.enableLighting=!1,this.states.ambientLightColors=[],this.states.specularColors=[1,1,1],this.states.directionalLightDirections=[],this.states.directionalLightDiffuseColors=[],this.states.directionalLightSpecularColors=[],this.states.pointLightPositions=[],this.states.pointLightDiffuseColors=[],this.states.pointLightSpecularColors=[],this.states.spotLightPositions=[],this.states.spotLightDirections=[],this.states.spotLightDiffuseColors=[],this.states.spotLightSpecularColors=[],this.states.spotLightAngle=[],this.states.spotLightConc=[],this.states.activeImageLight=null,this.states.curFillColor=[1,1,1,1],this.states.curAmbientColor=[1,1,1,1],this.states.curSpecularColor=[0,0,0,0],this.states.curEmissiveColor=[0,0,0,0],this.states.curStrokeColor=[0,0,0,1],this.states.curBlendMode=ki,this.states._hasSetAmbient=!1,this.states._useSpecularMaterial=!1,this.states._useEmissiveMaterial=!1,this.states._useNormalMaterial=!1,this.states._useShininess=1,this.states._useMetalness=0,this.states.tint=[255,255,255,255],this.states.constantAttenuation=1,this.states.linearAttenuation=0,this.states.quadraticAttenuation=0,this.states._currentNormal=new Me(0,0,1),this.states.drawMode=Pp,this.states._tex=null,this.states.textureMode=tg,this.states.textureWrapX=Cy,this.states.textureWrapY=Cy,this._isErasing=!1,this._simpleLines=!1,this._clipDepths=[],this._isClipApplied=!1,this._stencilTestOn=!1,this.mixedAmbientLight=[],this.mixedSpecularColor=[],this.diffusedTextures=new Map,this.specularTextures=new Map,this.preEraseBlend=void 0,this._cachedBlendMode=void 0,this._cachedFillStyle=[1,1,1,1],this._cachedStrokeStyle=[0,0,0,1],this.webglVersion===Dr?this.blendExt=this.GL:this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useLineColor=!1,this._useVertexColor=!1,this.registerEnabled=new Set,this.states.curCamera._computeCameraDefaultSettings(),this.states.curCamera._setDefaultCamera(),this.filterCamera=new Wl(this),this.filterCamera._computeCameraDefaultSettings(),this.filterCamera._setDefaultCamera(),this.prevTouches=[],this.zoomVelocity=0,this.rotateVelocity=new Me(0,0),this.moveVelocity=new Me(0,0),this.executeZoom=!1,this.executeRotateAndMove=!1,this._drawingFilter=!1,this._drawingImage=!1,this.specularShader=void 0,this.sphereMapping=void 0,this.diffusedShader=void 0,this._baseFilterShader=void 0,this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.states.userFillShader=void 0,this.states.userStrokeShader=void 0,this.states.userPointShader=void 0,this.states.userImageShader=void 0,this.states.curveDetail=1/4,this.shapeBuilder=new QV(this),this.buffers={fill:[new Ci(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new Ci(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new Ci(4,"vertexColors","colorBuffer","aVertexColor",this),new Ci(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new Ci(2,"uvs","uvBuffer","aTexCoord",this,u=>u.flat())],stroke:[new Ci(4,"lineVertexColors","lineColorBuffer","aVertexColor",this),new Ci(3,"lineVertices","lineVerticesBuffer","aPosition",this),new Ci(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this),new Ci(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this),new Ci(1,"lineSides","lineSidesBuffer","aSide",this)],text:[new Ci(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new Ci(2,"uvs","uvBuffer","aTexCoord",this,u=>u.flat())],point:this.GL.createBuffer(),user:[]},this.geometryBufferCache=new e$(this),this.curStrokeCap=Da,this.curStrokeJoin=Da,this.textures=new Map,this.framebuffers=new Set,this.activeFramebuffers=[],this.states.filterShader=void 0,this.filterLayer=void 0,this.filterLayerTemp=void 0,this.defaultFilterShaders={},this.fontInfos={},this._curShader=void 0,this.drawShapeCount=1,this.scratchMat3=new Un(3),this._userEnabledStencil=!1,this._internalEnable=this.drawingContext.enable,this._internalDisable=this.drawingContext.disable,this.drawingContext.enable=u=>(u===this.drawingContext.STENCIL_TEST&&(this._clipping||(this._userEnabledStencil=!0)),this._internalEnable.call(this.drawingContext,u)),this.drawingContext.disable=u=>(u===this.drawingContext.STENCIL_TEST&&(this._userEnabledStencil=!1),this._internalDisable.call(this.drawingContext,u)),this._validateFaces=!1}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}beginGeometry(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new Kh(this),this.geometryBuilder.prevFillColor=this.states.fillColor,this.fill(new xt([-1,-1,-1,-1]))}endGeometry(){if(!this.geometryBuilder)throw new Error("Make sure you call beginGeometry() before endGeometry()!");const t=this.geometryBuilder.finish();return this.geometryBuilder.prevFillColor?this.fill(this.geometryBuilder.prevFillColor):this.noFill(),this.geometryBuilder=void 0,t}buildGeometry(t){return this.beginGeometry(),t(),this.endGeometry()}beginShape(...t){super.beginShape(...t)}curveDetail(t){if(t===void 0)return this.states.curveDetail;this.states.setValue("curveDetail",t)}drawShape(t){const r=new w5({curveDetail:this.states.curveDetail});t.accept(r),this.shapeBuilder.constructFromContours(t,r.contours),this.geometryBuilder?this.geometryBuilder.addImmediate(this.shapeBuilder.geometry,this.shapeBuilder.shapeMode,{validateFaces:this._validateFaces}):(this.states.fillColor||this.states.strokeColor)&&(this.shapeBuilder.shapeMode===Mp?this._drawPoints(this.shapeBuilder.geometry.vertices,this.buffers.point):this._drawGeometry(this.shapeBuilder.geometry,{mode:this.shapeBuilder.shapeMode,count:this.drawShapeCount})),this.drawShapeCount=1}endShape(t,r){this.drawShapeCount=r,super.endShape(t,r)}vertexProperty(...t){this.currentShape.vertexProperty(...t)}normal(t,r,i){t instanceof Me?this.states.setValue("_currentNormal",t):this.states.setValue("_currentNormal",new Me(t,r,i)),this.updateShapeVertexProperties()}model(t,r=1){t.vertices.length>0&&(this.geometryBuilder?this.geometryBuilder.addRetained(t):(this.geometryInHash(t.gid)||(t._edgesToVertices(),this._getOrMakeCachedBuffers(t)),this._drawGeometry(t,{count:r})))}_drawGeometry(t,{mode:r=Il,count:i=1}={}){for(const s in t.userVertexProperties){const o=t.userVertexProperties[s];this.buffers.user.push(new Ci(o.getDataSize(),o.getSrcName(),o.getDstName(),o.getName(),this))}this.states.fillColor&&t.vertices.length>=3&&![ic,Mp].includes(r)&&this._drawFills(t,{mode:r,count:i}),this.states.strokeColor&&t.lineVertices.length>=1&&this._drawStrokes(t,{count:i}),this.buffers.user=[]}_drawGeometryScaled(t,r,i,s){let o=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone());try{this.states.uModelMatrix.scale(r,i,s),this.geometryBuilder?this.geometryBuilder.addRetained(t):this._drawGeometry(t)}finally{this.states.setValue("uModelMatrix",o)}}_drawFills(t,{count:r,mode:i}={}){this._useVertexColor=t.vertexColors.length>0;const s=!this._drawingFilter&&this.states.userFillShader?this.states.userFillShader:this._getFillShader();s.bindShader(),this._setGlobalUniforms(s),this._setFillUniforms(s),s.bindTextures();for(const o of this.buffers.fill)o._prepareBuffer(t,s);this._prepareUserAttributes(t,s),s.disableRemainingAttributes(),this._applyColorBlend(this.states.curFillColor,t.hasFillTransparency()),this._drawBuffers(t,{mode:i,count:r}),s.unbindShader()}_drawStrokes(t,{count:r}={}){const i=this.GL;this._useLineColor=t.vertexStrokeColors.length>0;const s=this._getStrokeShader();s.bindShader(),this._setGlobalUniforms(s),this._setStrokeUniforms(s),s.bindTextures();for(const o of this.buffers.stroke)o._prepareBuffer(t,s);if(this._prepareUserAttributes(t,s),s.disableRemainingAttributes(),this._applyColorBlend(this.states.curStrokeColor,t.hasStrokeTransparency()),r===1)i.drawArrays(i.TRIANGLES,0,t.lineVertices.length/3);else try{i.drawArraysInstanced(i.TRIANGLES,0,t.lineVertices.length/3,r)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}s.unbindShader()}_drawPoints(t,r){const i=this.GL,s=this._getPointShader();s.bindShader(),this._setGlobalUniforms(s),this._setPointUniforms(s),s.bindTextures(),this._bindBuffer(r,i.ARRAY_BUFFER,this._vToNArray(t),Float32Array,i.STATIC_DRAW),s.enableAttrib(s.attributes.aPosition,3),this._applyColorBlend(this.states.curStrokeColor),i.drawArrays(i.Points,0,t.length),s.unbindShader()}_prepareUserAttributes(t,r){for(const i of this.buffers.user){if(!this._pInst.constructor.disableFriendlyErrors){const s=t.userVertexProperties[i.attr];if(s){const o=s.getSrcArray().length/s.getDataSize();o>t.vertices.length?this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property '${s.getName()}' with more values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,"vertexProperty()"):o<t.vertices.length&&this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property '${s.getName()}' with fewer values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,"vertexProperty()")}}i._prepareBuffer(t,r)}}_drawBuffers(t,{mode:r=this.GL.TRIANGLES,count:i}){const s=this.GL,o=this.geometryBufferCache.getCached(t);if(o)if(o.indexBuffer){if(this._bindBuffer(o.indexBuffer,s.ELEMENT_ARRAY_BUFFER),this._pInst.webglVersion!==Dr&&o.indexBufferType===s.UNSIGNED_INT&&!s.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");if(i===1)s.drawElements(s.TRIANGLES,t.faces.length*3,o.indexBufferType,0);else try{s.drawElementsInstanced(s.TRIANGLES,t.faces.length*3,o.indexBufferType,0,i)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}}else if(i===1)s.drawArrays(r,0,t.vertices.length);else try{s.drawArraysInstanced(r,0,t.vertices.length,i)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}}_getOrMakeCachedBuffers(t){return this.geometryBufferCache.ensureCached(t)}_setAttributeDefaults(t){const i={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};t._glAttributes===null?t._glAttributes=i:t._glAttributes=Object.assign(i,t._glAttributes)}_initContext(){if(this._pInst._glAttributes?.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?Dr:Fa,this._pInst.webglVersion=this.webglVersion,this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");{const t=this.drawingContext;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}}_getMaxTextureSize(){const t=this.drawingContext;return t.getParameter(t.MAX_TEXTURE_SIZE)}_adjustDimensions(t,r){this._maxTextureSize||(this._maxTextureSize=this._getMaxTextureSize());let i=this._maxTextureSize,s=Math.floor(i/this._pixelDensity),o=Math.min(t,s),a=Math.min(r,s);return(o!==t||a!==r)&&console.warn(`Warning: The requested width/height exceeds hardware limits. Adjusting dimensions to width: ${o}, height: ${a}.`),{adjustedWidth:o,adjustedHeight:a}}_resetContext(t,r){const i=this.width,s=this.height,o=this.canvas.id,a=this._pInst instanceof lc,l={position:this.canvas.style.position,top:this.canvas.style.top,left:this.canvas.style.left};if(a){const h=this._pInst;h.canvas.parentNode.removeChild(h.canvas),h.canvas=document.createElement("canvas"),(h._pInst._userNode||document.body).appendChild(h.canvas),Vr.call(h,h.canvas,h._pInst),h.width=i,h.height=s}else{let h=this.canvas;h&&h.parentNode.removeChild(h),h=document.createElement("canvas"),h.id=o,this._pInst._userNode?this._pInst._userNode.appendChild(h):document.body.appendChild(h),this._pInst.canvas=h,this.canvas=h,this.canvas.style.position=l.position,this.canvas.style.top=l.top,this.canvas.style.left=l.left}const u=new Lt(this._pInst,i,s,!a,this._pInst.canvas);this._pInst._renderer=u,u._applyDefaults(),typeof r=="function"&&setTimeout(()=>{r.apply(window._renderer,t)},0)}_update(){this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.setValue("ambientLightColors",[]),this.states.setValue("specularColors",[1,1,1]),this.states.setValue("directionalLightDirections",[]),this.states.setValue("directionalLightDiffuseColors",[]),this.states.setValue("directionalLightSpecularColors",[]),this.states.setValue("pointLightPositions",[]),this.states.setValue("pointLightDiffuseColors",[]),this.states.setValue("pointLightSpecularColors",[]),this.states.setValue("spotLightPositions",[]),this.states.setValue("spotLightDirections",[]),this.states.setValue("spotLightDiffuseColors",[]),this.states.setValue("spotLightSpecularColors",[]),this.states.setValue("spotLightAngle",[]),this.states.setValue("spotLightConc",[]),this.states.setValue("enableLighting",!1),this.states.setValue("tint",[255,255,255,255]),this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)}background(...t){const r=this._pInst.color(...t);this.clear(...r._getRGBA())}get uModelMatrix(){return this.states.uModelMatrix}get uViewMatrix(){return this.states.uViewMatrix}get uPMatrix(){return this.states.uPMatrix}get uMVMatrix(){const t=this.uModelMatrix.copy();return t.mult(this.uViewMatrix),t}getWorldToScreenMatrix(){const t=this.states.uModelMatrix,r=this.states.uViewMatrix,i=this.states.uPMatrix,s=new Un(4);return s.scale(this.width,this.height,1),s.translate([.5,.5,.5]),s.scale(.5,-.5,.5),t.copy().mult(r).mult(i).mult(s)}fill(...t){super.fill(...t);const r=this.states.fillColor;this.states.setValue("curFillColor",r._array),this.states.setValue("drawMode",Pp),this.states.setValue("_useNormalMaterial",!1),this.states.setValue("_tex",null)}stroke(...t){super.stroke(...t),this.states.setValue("curStrokeColor",this.states.strokeColor._array)}getCommonVertexProperties(){return{...super.getCommonVertexProperties(),stroke:this.states.strokeColor,fill:this.states.fillColor,normal:this.states._currentNormal}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!0}}strokeCap(t){this.curStrokeCap=t}strokeJoin(t){this.curStrokeJoin=t}getFilterLayer(){return this.filterLayer||(this.filterLayer=new Vs(this)),this.filterLayer}getFilterLayerTemp(){return this.filterLayerTemp||(this.filterLayerTemp=new Vs(this)),this.filterLayerTemp}matchSize(t,r){(t.width!==r.width||t.height!==r.height)&&t.resize(r.width,r.height),t.pixelDensity()!==r.pixelDensity()&&t.pixelDensity(r.pixelDensity())}filter(...t){let r=this.getFilterLayer(),i,s;typeof t[0]=="string"?(s=t[0],i=s in zp&&t[1]===void 0?zp[s]:t[1],s in this.defaultFilterShaders||(this.defaultFilterShaders[s]=new Xr(r.renderer,W5,b$[s])),this.states.setValue("filterShader",this.defaultFilterShaders[s])):this.states.setValue("filterShader",t[0]);const o=this.activeFramebuffer()||this;this.matchSize(r,o),r.draw(()=>this.clear());let a=[1/(o.width*o.pixelDensity()),1/(o.height*o.pixelDensity())];if(s===sc){const l=this.getFilterLayerTemp();this.matchSize(l,o),this.push(),this.states.setValue("strokeColor",null),this.blendMode(ki),this.shader(this.states.filterShader),this.states.filterShader.setUniform("texelSize",a),this.states.filterShader.setUniform("canvasSize",[o.width,o.height]),this.states.filterShader.setUniform("radius",Math.max(1,i)),l.draw(()=>{this.states.filterShader.setUniform("direction",[1,0]),this.states.filterShader.setUniform("tex0",o),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(o.width,o.height)}),r.draw(()=>{this.states.filterShader.setUniform("direction",[0,1]),this.states.filterShader.setUniform("tex0",l),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(o.width,o.height)}),this.pop()}else r.draw(()=>{this.states.setValue("strokeColor",null),this.blendMode(ki),this.shader(this.states.filterShader),this.states.filterShader.setUniform("tex0",o),this.states.filterShader.setUniform("texelSize",a),this.states.filterShader.setUniform("canvasSize",[o.width,o.height]),this.states.filterShader.setUniform("filterParameter",i),this.noLights(),this.plane(o.width,o.height)});this.push(),this.states.setValue("strokeColor",null),this.clear(),this.push(),this.states.setValue("imageMode",ds),this.blendMode(ki),o.filterCamera._resize(),this.setCamera(o.filterCamera),this.resetMatrix(),this._drawingFilter=!0,this.image(r,0,0,r.width,r.height,-o.width/2,-o.height/2,o.width,o.height),this._drawingFilter=!1,this.clearDepth(),this.pop(),this.pop()}pixelDensity(t){return t?this._pInst.pixelDensity(t):this._pInst.pixelDensity()}blendMode(t){t===Wm||t===qm||t===Gh||t===ki||t===Xm||t===Zm||t===Ym||t===Jm||t===Km||t===$l?this.states.setValue("curBlendMode",t):(t===ab||t===rb||t===ib||t===sb||t===ob)&&console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}erase(t,r){this._isErasing||(this.preEraseBlend=this.states.curBlendMode,this._isErasing=!0,this.blendMode($l),this._cachedFillStyle=this.states.curFillColor.slice(),this.states.setValue("curFillColor",[1,1,1,t/255]),this._cachedStrokeStyle=this.states.curStrokeColor.slice(),this.states.setValue("curStrokeColor",[1,1,1,r/255]))}noErase(){this._isErasing&&(this.states.setValue("curFillColor",this._cachedFillStyle.slice()),this.states.setValue("curStrokeColor",this._cachedStrokeStyle.slice()),this.states.setValue("curBlendMode",this.preEraseBlend),this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}drawTarget(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}beginClip(t={}){super.beginClip(t),this.drawTarget()._isClipApplied=!0;const r=this.GL;r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),this._internalEnable.call(r,r.STENCIL_TEST),this._stencilTestOn=!0,r.stencilFunc(r.ALWAYS,1,255),r.stencilOp(r.KEEP,r.KEEP,r.REPLACE),r.disable(r.DEPTH_TEST),this.push(),this.resetShader(),this.states.fillColor&&this.fill(0,0),this.states.strokeColor&&this.stroke(0,0)}endClip(){this.pop();const t=this.GL;t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.stencilFunc(this._clipInvert?t.EQUAL:t.NOTEQUAL,0,255),t.enable(t.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),super.endClip()}_clearClip(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),this._clipDepths.length>0&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}_getPixel(t,r){const i=this.GL;return K5(i,null,t,r,i.RGBA,i.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}loadPixels(){if(this._pInst._glAttributes.preserveDrawingBuffer!==!0){console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.");return}const t=this._pixelDensity,r=this.GL;this.pixels=Ry(this.pixels,r,null,0,0,this.width*t,this.height*t,r.RGBA,r.UNSIGNED_BYTE,this.height*t)}updatePixels(){const t=this._getTempFramebuffer();t.pixels=this.pixels,t.updatePixels(),this.push(),this.resetMatrix(),this.clear(),this.states.setValue("imageMode",ds),this.image(t,0,0,t.width,t.height,-t.width/2,-t.height/2,t.width,t.height),this.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}_getTempFramebuffer(){return this._tempFramebuffer||(this._tempFramebuffer=new Vs(this,{format:ya,useDepth:this._pInst._glAttributes.depth,depthFormat:mh,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}geometryInHash(t){return this.geometryBufferCache.isCached(t)}viewport(t,r){this._viewport=[0,0,t,r],this.GL.viewport(0,0,t,r)}resize(t,r){super.resize(t,r);const i={};for(const o in this.drawingContext){const a=this.drawingContext[o];typeof a!="object"&&typeof a!="function"&&(i[o]=a)}const s=this._adjustDimensions(t,r);t=s.adjustedWidth,r=s.adjustedHeight,this.width=t,this.height=r,this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this.states.curCamera._resize(),typeof this.pixels<"u"&&(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4));for(const o of this.framebuffers)o._canvasSizeChanged();for(const o in i)try{this.drawingContext[o]=i[o]}catch{}}clear(...t){const r=t[0]||0,i=t[1]||0,s=t[2]||0;let o=t[3]||0;const a=this.activeFramebuffer();a&&a.format===ya&&!a.antialias&&o===0&&(o=1e-10),this.GL.clearColor(r*o,i*o,s*o,o),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}clearDepth(t=1){this.GL.clearDepth(t),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}applyMatrix(t,r,i,s,o,a){this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),arguments.length===16?Un.prototype.apply.apply(this.states.uModelMatrix,arguments):this.states.uModelMatrix.apply([t,r,0,0,i,s,0,0,0,0,1,0,o,a,0,1])}translate(t,r,i){return t instanceof Me&&(i=t.z,r=t.y,t=t.x),this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.translate([t,r,i]),this}scale(t,r,i){return this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.scale(t,r,i),this}rotate(t,r){return typeof r>"u"?this.rotateZ(t):(this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),Un.prototype.rotate4x4.apply(this.states.uModelMatrix,arguments),this)}rotateX(t){return this.rotate(t,1,0,0),this}rotateY(t){return this.rotate(t,0,1,0),this}rotateZ(t){return this.rotate(t,0,0,1),this}pop(...t){this._clipDepths.length>0&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&(this._clearClip(),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)),super.pop(...t),this._applyStencilTestIfClipping()}_applyStencilTestIfClipping(){const t=this.drawTarget();t._isClipApplied!==this._stencilTestOn&&(t._isClipApplied?(this._internalEnable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!1))}resetMatrix(){return this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this}_getStrokeShader(){const t=this.states.userStrokeShader;return t||this._getLineShader()}_getSphereMapping(t){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(y$)),this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),this.scratchMat3.invert(this.scratchMat3),this.sphereMapping.setUniform("uFovY",this.states.curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this.states.curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.scratchMat3.mat3),this.sphereMapping.setUniform("uEnvMap",t),this.sphereMapping}_getFillShader(){return this._drawingImage?this.states.userImageShader&&!this._drawingFilter?this.states.userImageShader:this._getLightShader():this.states.userFillShader?this.states.userFillShader:this.states._useNormalMaterial?this._getNormalShader():this.states.enableLighting||this.states._tex?this._getLightShader():this._getColorShader()}_getPointShader(){const t=this.states.userPointShader;return!t||!t.isPointShader()?this._getPointShader():t}baseMaterialShader(){if(!this._pInst._glAttributes.perPixelLighting)throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.");return this._getLightShader()}_getLightShader(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new Xr(this,this._webGL2CompatibilityPrefix("vert","highp")+er.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+er.phongFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new Xr(this,this._webGL2CompatibilityPrefix("vert","highp")+er.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+er.lightTextureFrag)),this._defaultLightShader}baseNormalShader(){return this._getNormalShader()}_getNormalShader(){return this._defaultNormalShader||(this._defaultNormalShader=new Xr(this,this._webGL2CompatibilityPrefix("vert","mediump")+er.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+er.normalFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}baseColorShader(){return this._getColorShader()}_getColorShader(){return this._defaultColorShader||(this._defaultColorShader=new Xr(this,this._webGL2CompatibilityPrefix("vert","mediump")+er.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+er.basicFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}pointShader(){return this._getPointShader()}_getPointShader(){return this._defaultPointShader||(this._defaultPointShader=new Xr(this,this._webGL2CompatibilityPrefix("vert","mediump")+er.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+er.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}baseStrokeShader(){return this._getLineShader()}_getLineShader(){return this._defaultLineShader||(this._defaultLineShader=new Xr(this,this._webGL2CompatibilityPrefix("vert","mediump")+er.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+er.lineFrag,{vertex:{"void beforeVertex":"() {}","StrokeVertex getObjectInputs":"(StrokeVertex inputs) { return inputs; }","StrokeVertex getWorldInputs":"(StrokeVertex inputs) { return inputs; }","StrokeVertex getCameraInputs":"(StrokeVertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}_getFontShader(){return this._defaultFontShader||(this.webglVersion===Fa&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new Xr(this,this._webGL2CompatibilityPrefix("vert","highp")+er.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+er.fontFrag)),this._defaultFontShader}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new Xr(this,this._webGL2CompatibilityPrefix("vert","highp")+er.filterBaseVert,this._webGL2CompatibilityPrefix("frag","highp")+er.filterBaseFrag,{vertex:{},fragment:{"vec4 getColor":`(FilterInputs inputs, in sampler2D canvasContent) {
                return getTexture(canvasContent, inputs.texCoord);
              }`}})),this._baseFilterShader}_webGL2CompatibilityPrefix(t,r){let i="";return this.webglVersion===Dr&&(i+=`#version 300 es
#define WEBGL2
`),t==="vert"?i+=`#define VERTEX_SHADER
`:t==="frag"&&(i+=`#define FRAGMENT_SHADER
`),r&&(i+=`precision ${r} float;
`),i}_getEmptyTexture(){if(!this._emptyTexture){const t=new Oa(1,1);t.set(0,0,255),this._emptyTexture=new Zo(this,t)}return this._emptyTexture}getTexture(t){let r=t;r instanceof Vs&&(r=r.color);const i=this.textures.get(r);if(i)return i;const s=new Zo(this,r);return this.textures.set(r,s),s}getDiffusedTexture(t){if(this.diffusedTextures.get(t)!=null)return this.diffusedTextures.get(t);let r,i=200,s=i,o=Math.floor(i*(t.height/t.width));return r=new Vs(this,{width:s,height:o,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(er.imageLightVert,er.imageLightDiffusedFrag)),r.draw(()=>{this.shader(this.diffusedShader),this.diffusedShader.setUniform("environmentMap",t),this.states.setValue("strokeColor",null),this.noLights(),this.plane(s,o)}),this.diffusedTextures.set(t,r),r}getSpecularTexture(t){if(this.specularTextures.get(t)!=null)return this.specularTextures.get(t);const r=512;let i;const s=[],o=new Vs(this,{width:r,height:r,density:1});let a=Math.log(r)/Math.log(2);this.specularShader||(this.specularShader=this._pInst.createShader(er.imageLightVert,er.imageLightSpecularFrag));for(let l=r;l>=1;l/=2){o.resize(l,l);let h=1-Math.log(l)/Math.log(2)/a;o.draw(()=>{this.shader(this.specularShader),this.clear(),this.specularShader.setUniform("environmentMap",t),this.specularShader.setUniform("roughness",h),this.states.setValue("strokeColor",null),this.noLights(),this.plane(l,l)}),s.push(o.get().drawingContext.getImageData(0,0,l,l))}return o.remove(),i=new J5(this,s,{}),this.specularTextures.set(t,i),i}activeFramebuffer(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}createFramebuffer(t){return new Vs(this,t)}_setGlobalUniforms(t){const r=this.states.uModelMatrix,i=this.states.uViewMatrix,s=this.states.uPMatrix,o=r.copy().mult(i);if(t.setUniform("uPerspective",this.states.curCamera.useLinePerspective?1:0),t.setUniform("uViewMatrix",i.mat4),t.setUniform("uProjectionMatrix",s.mat4),t.setUniform("uModelMatrix",r.mat4),t.setUniform("uModelViewMatrix",o.mat4),t.uniforms.uModelViewProjectionMatrix){const a=o.copy();a.mult(s),t.setUniform("uModelViewProjectionMatrix",a.mat4)}t.uniforms.uNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(o),t.setUniform("uNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uModelNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(this.states.uModelMatrix),t.setUniform("uModelNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uCameraNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform("uCameraNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uCameraRotation&&(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform("uCameraRotation",this.scratchMat3.mat3)),t.setUniform("uViewport",this._viewport)}_setStrokeUniforms(t){t.setUniform("uSimpleLines",this._simpleLines),t.setUniform("uUseLineColor",this._useLineColor),t.setUniform("uMaterialColor",this.states.curStrokeColor),t.setUniform("uStrokeWeight",this.states.strokeWeight),t.setUniform("uStrokeCap",q5[this.curStrokeCap]),t.setUniform("uStrokeJoin",X5[this.curStrokeJoin])}_setFillUniforms(t){this.mixedSpecularColor=[...this.states.curSpecularColor];const r=this._getEmptyTexture();this.states._useMetalness>0&&(this.mixedSpecularColor=this.mixedSpecularColor.map((l,u)=>this.states.curFillColor[u]*this.states._useMetalness+l*(1-this.states._useMetalness))),t.setUniform("uUseVertexColor",this._useVertexColor),t.setUniform("uMaterialColor",this.states.curFillColor),t.setUniform("isTexture",!!this.states._tex),t.setUniform("uSampler",this.states._tex||r),t.setUniform("uTint",this.states.tint),t.setUniform("uHasSetAmbient",this.states._hasSetAmbient),t.setUniform("uAmbientMatColor",this.states.curAmbientColor),t.setUniform("uSpecularMatColor",this.mixedSpecularColor),t.setUniform("uEmissiveMatColor",this.states.curEmissiveColor),t.setUniform("uSpecular",this.states._useSpecularMaterial),t.setUniform("uEmissive",this.states._useEmissiveMaterial),t.setUniform("uShininess",this.states._useShininess),t.setUniform("uMetallic",this.states._useMetalness),this._setImageLightUniforms(t),t.setUniform("uUseLighting",this.states.enableLighting);const i=this.states.pointLightDiffuseColors.length/3;t.setUniform("uPointLightCount",i),t.setUniform("uPointLightLocation",this.states.pointLightPositions),t.setUniform("uPointLightDiffuseColors",this.states.pointLightDiffuseColors),t.setUniform("uPointLightSpecularColors",this.states.pointLightSpecularColors);const s=this.states.directionalLightDiffuseColors.length/3;t.setUniform("uDirectionalLightCount",s),t.setUniform("uLightingDirection",this.states.directionalLightDirections),t.setUniform("uDirectionalDiffuseColors",this.states.directionalLightDiffuseColors),t.setUniform("uDirectionalSpecularColors",this.states.directionalLightSpecularColors);const o=this.states.ambientLightColors.length/3;this.mixedAmbientLight=[...this.states.ambientLightColors],this.states._useMetalness>0&&(this.mixedAmbientLight=this.mixedAmbientLight.map(l=>{let u=l-this.states._useMetalness;return Math.max(0,u)})),t.setUniform("uAmbientLightCount",o),t.setUniform("uAmbientColor",this.mixedAmbientLight);const a=this.states.spotLightDiffuseColors.length/3;t.setUniform("uSpotLightCount",a),t.setUniform("uSpotLightAngle",this.states.spotLightAngle),t.setUniform("uSpotLightConc",this.states.spotLightConc),t.setUniform("uSpotLightDiffuseColors",this.states.spotLightDiffuseColors),t.setUniform("uSpotLightSpecularColors",this.states.spotLightSpecularColors),t.setUniform("uSpotLightLocation",this.states.spotLightPositions),t.setUniform("uSpotLightDirection",this.states.spotLightDirections),t.setUniform("uConstantAttenuation",this.states.constantAttenuation),t.setUniform("uLinearAttenuation",this.states.linearAttenuation),t.setUniform("uQuadraticAttenuation",this.states.quadraticAttenuation)}_setImageLightUniforms(t){if(t.setUniform("uUseImageLight",this.states.activeImageLight!=null),this.states.activeImageLight){let r=this.getDiffusedTexture(this.states.activeImageLight);t.setUniform("environmentMapDiffused",r);let i=this.getSpecularTexture(this.states.activeImageLight);t.setUniform("environmentMapSpecular",i)}}_setPointUniforms(t){t.setUniform("uMaterialColor",this.states.curStrokeColor),t.setUniform("uPointSize",this.states.strokeWeight*this._pixelDensity)}_bindBuffer(t,r,i,s,o){if(r||(r=this.GL.ARRAY_BUFFER),this.GL.bindBuffer(r,t),i!==void 0){let a=i;i instanceof pl?a=i.dataArray():a instanceof(s||Float32Array)||(a=new(s||Float32Array)(a)),this.GL.bufferData(r,a,o||this.GL.STATIC_DRAW)}}_arraysEqual(t,r){return t.length!==r.length?!1:t.every((s,o)=>s===r[o])}_isTypedArray(t){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(r=>t instanceof r)}_vToNArray(t){return t.flatMap(r=>[r.x,r.y,r.z])}}function Y5(n,t){n.RendererGL=Lt,t.setAttributes=function(r,i){if(typeof this._glAttributes>"u"){console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");return}let s=!0;if(typeof i<"u"?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[r]!==i&&(this._glAttributes[r]=i,s=!1)):r instanceof Object&&this._glAttributes!==r&&(this._glAttributes=r,s=!1),!(!this._renderer.isP3D||s)){if(!this._setupDone&&this._renderer.geometryBufferCache.numCached()>0){n._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");return}this._renderer._resetContext(),this._renderer.states.curCamera&&(this._renderer.states.curCamera._renderer=this._renderer)}},t._assert3d=function(r){if(!this._renderer.isP3D)throw new Error(`${r}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)},n.renderers[Fa]=n.RendererGL,n.renderers[Dr]=n.RendererGL}function Ry(n,t,r,i,s,o,a,l,u,h){const c=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,r);const f=l===t.RGBA?4:3,p=o*a*f,d=u===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if((!(n instanceof d)||n.length!==p)&&(n=new d(p)),t.readPixels(i,h?h-s-a:s,o,a,l,u,n),t.bindFramebuffer(t.FRAMEBUFFER,c),h){const g=Math.floor(a/2),m=new d(o*f);for(let v=0;v<g;v++){const w=v*o*4,y=(a-v-1)*o*4;m.set(n.subarray(w,w+o*4)),n.copyWithin(w,y,y+o*4),n.set(m,y)}}return n}function K5(n,t,r,i,s,o,a){const l=n.getParameter(n.FRAMEBUFFER_BINDING);n.bindFramebuffer(n.FRAMEBUFFER,t);const u=s===n.RGBA?4:3,h=o===n.UNSIGNED_BYTE?Uint8Array:Float32Array,c=new h(u);return n.readPixels(r,a?a-i-1:i,1,1,s,o,c),n.bindFramebuffer(n.FRAMEBUFFER,l),Array.from(c)}typeof p5<"u"&&Y5(p5,p5.prototype);function Mb(n,t){t.strokeMode=function(i){if(i===void 0)return this._renderer._simpleLines?by:xy;if(i===by)this._renderer._simpleLines=!0;else if(i===xy)this._renderer._simpleLines=!1;else throw Error("no such parameter")},t.buildGeometry=function(i){return this._renderer.buildGeometry(i)},t.freeGeometry=function(i){this._renderer.geometryBufferCache.freeBuffers(i.gid)},t.plane=function(i=50,s=i,o=1,a=1){return this._assert3d("plane"),this._renderer.plane(i,s,o,a),this},t.box=function(i,s,o,a,l){return this._assert3d("box"),this._renderer.box(i,s,o,a,l),this},t.sphere=function(i=50,s=24,o=16){return this._assert3d("sphere"),this._renderer.sphere(i,s,o),this},t.cylinder=function(i=50,s=i,o=24,a=1,l=!0,u=!0){return this._assert3d("cylinder"),this._renderer.cylinder(i,s,o,a,l,u),this},t.cone=function(i=50,s=i,o=24,a=1,l=!0){return this._assert3d("cone"),this._renderer.cone(i,s,o,a,l),this},t.ellipsoid=function(i=50,s=i,o=i,a=24,l=16){return this._assert3d("ellipsoid"),this._renderer.ellipsoid(i,s,o,a,l),this},t.torus=function(i,s,o,a){return this._assert3d("torus"),this._renderer.torus(i,s,o,a),this},Lt.prototype.point=function(i,s,o=0){const a=[];return a.push(new Me(i,s,o)),this._drawPoints(a,this.buffers.point),this},Lt.prototype.triangle=function(i){const s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],c="tri";if(!this.geometryInHash(c)){const p=function(){const g=[];g.push(new Me(0,0,0)),g.push(new Me(1,0,0)),g.push(new Me(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=g,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]},d=new qr(1,1,p,this);d._edgesToVertices(),d.computeNormals(),d.gid=c,this.geometryBufferCache.ensureCached(d)}const f=this.states.uModelMatrix.copy();try{const p=Math.sign(s*l-a*o+a*h-u*l+u*o-s*h),d=new Un([a-s,l-o,0,0,u-s,h-o,0,0,0,0,p,0,s,o,0,1]).mult(this.states.uModelMatrix);this.states.setValue("uModelMatrix",d),this.model(this.geometryBufferCache.getGeometryByID(c))}finally{this.states.setValue("uModelMatrix",f)}return this},Lt.prototype.ellipse=function(i){this.arc(i[0],i[1],i[2],i[3],0,Ti,Vl,i[4])},Lt.prototype.arc=function(...i){const s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],c=i[6],f=i[7]||25;let p,d;if(Math.abs(h-u)>=Ti?(p="ellipse",d=`${p}|${f}|`):(p="arc",d=`${p}|${u}|${h}|${c}|${f}|`),!this.geometryInHash(d)){const m=function(){if(u.toFixed(10)!==h.toFixed(10)){(c===zh||typeof c>"u")&&(this.vertices.push(new Me(.5,.5,0)),this.uvs.push([.5,.5]));for(let w=0;w<=f;w++){const y=w/f,_=(h-u)*y+u,x=.5+Math.cos(_)/2,C=.5+Math.sin(_)/2;this.vertices.push(new Me(x,C,0)),this.uvs.push([x,C]),w<f-1&&(this.faces.push([0,w+1,w+2]),this.edges.push([w+1,w+2]))}switch(c){case zh:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case Op:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case Vl:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}},v=new qr(f,1,m,this);v.computeNormals(),f<=50?v._edgesToVertices(v):this.states.strokeColor&&console.log(`Cannot apply a stroke to an ${p} with more than 50 detail`),v.gid=d,this.geometryBufferCache.ensureCached(v)}const g=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone());try{this.states.uModelMatrix.translate([s,o,0]),this.states.uModelMatrix.scale(a,l,1),this.model(this.geometryBufferCache.getGeometryByID(d))}finally{this.states.setValue("uModelMatrix",g)}return this},Lt.prototype.rect=function(i){const s=i[0],o=i[1],a=i[2],l=i[3];if(typeof i[4]>"u"){const u=this._pInst._glAttributes.perPixelLighting,h=i[4]||(u?1:24),c=i[5]||(u?1:16),f=`rect|${h}|${c}`;if(!this.geometryInHash(f)){const d=function(){for(let m=0;m<=this.detailY;m++){const v=m/this.detailY;for(let w=0;w<=this.detailX;w++){const y=w/this.detailX,_=new Me(y,v,0);this.vertices.push(_),this.uvs.push(y,v)}}h>0&&c>0&&(this.edges=[[0,h],[h,(h+1)*(c+1)-1],[(h+1)*(c+1)-1,(h+1)*c],[(h+1)*c,0]])},g=new qr(h,c,d,this);g.computeFaces().computeNormals()._edgesToVertices(),g.gid=f,this.geometryBufferCache.ensureCached(g)}const p=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.copy());try{this.states.uModelMatrix.translate([s,o,0]),this.states.uModelMatrix.scale(a,l,1),this.model(this.geometryBufferCache.getGeometryByID(f))}finally{this.states.setValue("uModelMatrix",p)}}else{let u=i[4],h=typeof i[5]>"u"?u:i[5],c=typeof i[6]>"u"?h:i[6],f=typeof i[7]>"u"?c:i[7],p=s,d=o,g=a,m=l;if(g+=p,m+=d,p>g){const D=p;p=g,g=D}if(d>m){const D=d;d=m,m=D}const v=Math.min((g-p)/2,(m-d)/2);u>v&&(u=v),h>v&&(h=v),c>v&&(c=v),f>v&&(f=v);let w=p,y=d,_=g,x=m;const C=this.states.textureMode;this.states.setValue("textureMode",uo);const E=this.bezierOrder();this.bezierOrder(2),this.beginShape();const S=(D,A)=>[D,A,0,(D-w)/a,(A-y)/l];h!==0?(this.vertex(...S(_-h,y)),this.bezierVertex(...S(_,y)),this.bezierVertex(...S(_,y+h))):this.vertex(...S(_,y)),c!==0?(this.vertex(...S(_,x-c)),this.bezierVertex(...S(_,x)),this.bezierVertex(...S(_-c,x))):this.vertex(...S(_,x)),f!==0?(this.vertex(...S(w+f,x)),this.bezierVertex(...S(w,x)),this.bezierVertex(...S(w,x-f))):this.vertex(...S(w,x)),u!==0?(this.vertex(...S(w,y+u)),this.bezierVertex(...S(w,y)),this.bezierVertex(...S(w+u,y))):this.vertex(...S(w,y)),this.endShape(jh),this.states.setValue("textureMode",C),this.bezierOrder(E)}return this},Lt.prototype.quad=function(i,s,o,a,l,u,h,c,f,p,d,g,m=2,v=2){const w=`quad|${i}|${s}|${o}|${a}|${l}|${u}|${h}|${c}|${f}|${p}|${d}|${g}|${m}|${v}`;if(!this.geometryInHash(w)){const y=new qr(m,v,function(){let x=1/(this.detailX-1),C=1/(this.detailY-1);for(let E=0;E<this.detailY;E++)for(let S=0;S<this.detailX;S++){let D=S*x,A=E*C,N=(1-A)*i+A*p,F=(1-A)*s+A*d,T=(1-A)*o+A*g,I=(1-A)*a+A*h,M=(1-A)*l+A*c,L=(1-A)*u+A*f,B=(1-D)*N+D*I,$=(1-D)*F+D*M,q=(1-D)*T+D*L;this.vertices.push(new Me(B,$,q)),this.uvs.push([D,A])}},this);y.faces=[];for(let x=0;x<v-1;x++)for(let C=0;C<m-1;C++){let E=C+x*m,S=C+1+x*m,D=C+1+(x+1)*m,A=C+(x+1)*m;y.faces.push([E,S,D]),y.faces.push([E,D,A])}y.computeNormals(),y.edges.length=0;const _=[0,2,3,1];for(let x=0;x<_.length;x++){const C=_[x],E=_[(x+1)%_.length];y.edges.push([C,E])}y._edgesToVertices(),y.gid=w,this.geometryBufferCache.ensureCached(y)}return this.model(this.geometryBufferCache.getGeometryByID(w)),this},Lt.prototype.bezier=function(i,s,o,a,l,u,h,c,f,p,d,g){arguments.length===8&&(d=c,p=h,c=u,h=l,l=a,a=o,o=u=f=g=0),this.bezierOrder(),this.bezierOrder(3),this.beginShape(),this.vertex(i,s,o),this.bezierVertex(a,l,u),this.bezierVertex(h,c,f),this.bezierVertex(p,d,g),this.endShape()},Lt.prototype.curve=function(i,s,o,a,l,u,h,c,f,p,d,g){arguments.length===8&&(p=h,d=c,h=l,c=a,a=o,l=a,o=u=f=g=0),this.beginShape(),this.splineVertex(i,s,o),this.splineVertex(a,l,u),this.splineVertex(h,c,f),this.splineVertex(p,d,g),this.endShape()},Lt.prototype.line=function(...i){return i.length===6?(this.beginShape(ic),this.vertex(i[0],i[1],i[2]),this.vertex(i[3],i[4],i[5]),this.endShape()):i.length===4&&(this.beginShape(ic),this.vertex(i[0],i[1],0),this.vertex(i[2],i[3],0),this.endShape()),this},Lt.prototype.image=function(i,s,o,a,l,u,h,c,f){this._isErasing&&this.blendMode(this._cachedBlendMode),this.push(),this.noLights(),this.states.setValue("strokeColor",null),this.texture(i),this.states.setValue("textureMode",uo);let p=0;s<=i.width&&(p=s/i.width);let d=1;s+a<=i.width&&(d=(s+a)/i.width);let g=0;o<=i.height&&(g=o/i.height);let m=1;o+l<=i.height&&(m=(o+l)/i.height),this._drawingImage=!0,this.beginShape(),this.vertex(u,h,0,p,g),this.vertex(u+c,h,0,d,g),this.vertex(u+c,h+f,0,d,m),this.vertex(u,h+f,0,p,m),this.endShape(jh),this._drawingImage=!1,this.pop(),this._isErasing&&this.blendMode($l)};const r=function(i,s,o,a,l,u,h){i=i<=0?1:i,s=s<0?0:s,o=o<=0?i:o,a=a<3?3:a,l=l<1?1:l,u=u===void 0?!0:u,h=h===void 0?s!==0:h;const c=u?-2:0,f=l+(h?2:0),p=Math.atan2(i-s,o),d=Math.sin(p),g=Math.cos(p);let m,v,w;for(m=c;m<=f;++m){let _=m/l,x=o*_,C;for(m<0?(x=0,_=0,C=i):m>l?(x=o,_=1,C=s):C=i+(s-i)*_,(m===-2||m===l+2)&&(C=0),x-=o/2,v=0;v<a;++v){const E=v/(a-1),S=2*Math.PI*E,D=Math.sin(S),A=Math.cos(S);this.vertices.push(new Me(D*C,x,A*C));let N;m<0?N=new Me(0,-1,0):m>l&&s?N=new Me(0,1,0):N=new Me(D*g,d,A*g),this.vertexNormals.push(N),this.uvs.push(E,_)}}let y=0;if(u){for(w=0;w<a;++w){const _=(w+1)%a;this.faces.push([y+w,y+a+_,y+a+w])}y+=a*2}for(m=0;m<l;++m){for(v=0;v<a;++v){const _=(v+1)%a;this.faces.push([y+v,y+_,y+a+_]),this.faces.push([y+v,y+a+_,y+a+v])}y+=a}if(h)for(y+=a,v=0;v<a;++v)this.faces.push([y+v,y+(v+1)%a,y+a])};Lt.prototype.plane=function(i=50,s=i,o=1,a=1){const l=`plane|${o}|${a}`;if(!this.geometryInHash(l)){const u=function(){let c,f,p;for(let d=0;d<=this.detailY;d++){f=d/this.detailY;for(let g=0;g<=this.detailX;g++)c=g/this.detailX,p=new Me(c-.5,f-.5,0),this.vertices.push(p),this.uvs.push(c,f)}},h=new qr(o,a,u,this);h.computeFaces().computeNormals(),o<=1&&a<=1?h._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),h.gid=l,this.geometryBufferCache.ensureCached(h)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(l),i,s,1)},Lt.prototype.box=function(i=50,s=i,o=s,a,l){const u=this.attributes&&this.attributes.perPixelLighting;typeof a>"u"&&(a=u?1:4),typeof l>"u"&&(l=u?1:4);const h=`box|${a}|${l}`;if(!this.geometryInHash(h)){const c=function(){const p=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],p.forEach((d,g)=>{const m=g*4;for(let v=0;v<4;v++){const w=d[v],y=new Me(((w&1)*2-1)/2,((w&2)-1)/2,((w&4)/2-1)/2);this.vertices.push(y),this.uvs.push(v&1,(v&2)/2)}this.faces.push([m,m+1,m+2]),this.faces.push([m+2,m+1,m+3])})},f=new qr(a,l,c,this);f.computeNormals(),a<=4&&l<=4?f._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),f.gid=h,this.geometryBufferCache.ensureCached(f)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(h),i,s,o)},Lt.prototype.sphere=function(i=50,s=24,o=16){this.ellipsoid(i,i,i,s,o)},Lt.prototype.ellipsoid=function(i=50,s=i,o=i,a=24,l=16){const u=`ellipsoid|${a}|${l}`;if(!this.geometryInHash(u)){const h=function(){for(let f=0;f<=this.detailY;f++){const p=f/this.detailY,d=Math.PI*p-Math.PI/2,g=Math.cos(d),m=Math.sin(d);for(let v=0;v<=this.detailX;v++){const w=v/this.detailX,y=2*Math.PI*w,_=Math.cos(y),x=Math.sin(y),C=new n.Vector(g*x,m,g*_);this.vertices.push(C),this.vertexNormals.push(C),this.uvs.push(w,p)}}},c=new qr(a,l,h,this);c.computeFaces(),a<=24&&l<=24?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),c.gid=u,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),i,s,o)},Lt.prototype.cylinder=function(i=50,s=i,o=24,a=1,l=!0,u=!0){const h=`cylinder|${o}|${a}|${l}|${u}`;if(!this.geometryInHash(h)){const c=new n.Geometry(o,a,function(){r.call(this,1,1,1,o,a,l,u)},this);o<=24&&a<=16?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),c.gid=h,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(h),i,s,i)},Lt.prototype.cone=function(i=50,s=i,o=24,a=1,l=!0){const u=`cone|${o}|${a}|${l}`;if(!this.geometryInHash(u)){const h=new qr(o,a,function(){r.call(this,1,0,1,o,a,l,!1)},this);o<=24&&a<=16?h._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),h.gid=u,this.geometryBufferCache.ensureCached(h)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),i,s,i)},Lt.prototype.torus=function(i=50,s=10,o=24,a=16){if(i===0||s===0)return;const l=(s/i).toPrecision(4),u=`torus|${l}|${o}|${a}`;if(!this.geometryInHash(u)){const h=function(){for(let f=0;f<=this.detailY;f++){const p=f/this.detailY,d=2*Math.PI*p,g=Math.cos(d),m=Math.sin(d),v=1+l*g;for(let w=0;w<=this.detailX;w++){const y=w/this.detailX,_=2*Math.PI*y,x=Math.cos(_),C=Math.sin(_),E=new Me(v*x,v*C,l*m),S=new Me(g*x,g*C,m);this.vertices.push(E),this.vertexNormals.push(S),this.uvs.push(y,p)}}},c=new qr(o,a,h,this);c.computeFaces(),o<=24&&a<=16?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),c.gid=u,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),i,i,i)},t.curveDetail=function(i){if(!(this._renderer instanceof Lt))throw new Error("curveDetail() only works in WebGL mode. Did you mean to call createCanvas(width, height, WEBGL)?");return this._renderer.curveDetail(i)}}typeof p5<"u"&&Mb(p5,p5.prototype);function Ob(n,t){t.ambientLight=function(r,i,s,o){return this._assert3d("ambientLight"),this._renderer.ambientLight(...arguments),this},t.specularColor=function(r,i,s){return this._assert3d("specularColor"),this._renderer.specularColor(...arguments),this},t.directionalLight=function(r,i,s,o,a,l){return this._assert3d("directionalLight"),this._renderer.directionalLight(...arguments),this},t.pointLight=function(r,i,s,o,a,l){return this._assert3d("pointLight"),this._renderer.pointLight(...arguments),this},t.imageLight=function(r){this._renderer.imageLight(r)},t.panorama=function(r){this.filter(this._renderer._getSphereMapping(r))},t.lights=function(){return this._assert3d("lights"),this._renderer.lights(),this},t.lightFalloff=function(r,i,s){return this._assert3d("lightFalloff"),this._renderer.lightFalloff(r,i,s),this},t.spotLight=function(r,i,s,o,a,l,u,h,c,f,p){return this._assert3d("spotLight"),this._renderer.spotLight(...arguments),this},t.noLights=function(...r){return this._assert3d("noLights"),this._renderer.noLights(),this},Lt.prototype.ambientLight=function(r,i,s,o){const a=this._pInst.color(...arguments);this.states.setValue("ambientLightColors",[...this.states.ambientLightColors]),this.states.ambientLightColors.push(a._array[0],a._array[1],a._array[2]),this.states.setValue("enableLighting",!0)},Lt.prototype.specularColor=function(r,i,s){const o=this._pInst.color(...arguments);this.states.setValue("specularColors",[o._array[0],o._array[1],o._array[2]])},Lt.prototype.directionalLight=function(r,i,s,o,a,l){let u;r instanceof xt?u=r:u=this._pInst.color(r,i,s);let h,c,f;const p=arguments[arguments.length-1];typeof p=="number"?(h=arguments[arguments.length-3],c=arguments[arguments.length-2],f=arguments[arguments.length-1]):(h=p.x,c=p.y,f=p.z);const d=Math.sqrt(h*h+c*c+f*f);this.states.setValue("directionalLightDirections",[...this.states.directionalLightDirections]),this.states.directionalLightDirections.push(h/d,c/d,f/d),this.states.setValue("directionalLightDiffuseColors",[...this.states.directionalLightDiffuseColors]),this.states.directionalLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),this.states.setValue("directionalLightSpecularColors",[...this.states.directionalLightSpecularColors]),Array.prototype.push.apply(this.states.directionalLightSpecularColors,this.states.specularColors),this.states.setValue("enableLighting",!0)},Lt.prototype.pointLight=function(r,i,s,o,a,l){let u;r instanceof xt?u=r:u=this._pInst.color(r,i,s);let h,c,f;const p=arguments[arguments.length-1];typeof p=="number"?(h=arguments[arguments.length-3],c=arguments[arguments.length-2],f=arguments[arguments.length-1]):(h=p.x,c=p.y,f=p.z),this.states.setValue("pointLightPositions",[...this.states.pointLightPositions]),this.states.pointLightPositions.push(h,c,f),this.states.setValue("pointLightDiffuseColors",[...this.states.pointLightDiffuseColors]),this.states.pointLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),this.states.setValue("pointLightSpecularColors",[...this.states.pointLightSpecularColors]),Array.prototype.push.apply(this.states.pointLightSpecularColors,this.states.specularColors),this.states.setValue("enableLighting",!0)},Lt.prototype.imageLight=function(r){this.states.setValue("activeImageLight",r),this.states.setValue("enableLighting",!0)},Lt.prototype.lights=function(){const r=this._pInst.color("rgb(128,128,128)");this.ambientLight(r),this.directionalLight(r,0,0,-1)},Lt.prototype.lightFalloff=function(r,i,s){r<0&&(r=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),r===0&&i===0&&s===0&&(r=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this.states.setValue("constantAttenuation",r),this.states.setValue("linearAttenuation",i),this.states.setValue("quadraticAttenuation",s)},Lt.prototype.spotLight=function(r,i,s,o,a,l,u,h,c,f,p){let d,g,m;const v=arguments.length;switch(v){case 11:case 10:d=this._pInst.color(r,i,s),g=new Me(o,a,l),m=new Me(u,h,c);break;case 9:r instanceof xt?(d=r,g=new Me(i,s,o),m=new Me(a,l,u),f=h,p=c):o instanceof Me?(d=this._pInst.color(r,i,s),g=o,m=new Me(a,l,u),f=h,p=c):u instanceof Me?(d=this._pInst.color(r,i,s),g=new Me(o,a,l),m=u,f=h,p=c):(d=this._pInst.color(r,i,s),g=new Me(o,a,l),m=new Me(u,h,c));break;case 8:r instanceof xt?(d=r,g=new Me(i,s,o),m=new Me(a,l,u),f=h):o instanceof Me?(d=this._pInst.color(r,i,s),g=o,m=new Me(a,l,u),f=h):(d=this._pInst.color(r,i,s),g=new Me(o,a,l),m=u,f=h);break;case 7:r instanceof xt&&i instanceof Me?(d=r,g=i,m=new Me(s,o,a),f=l,p=u):r instanceof xt&&a instanceof Me?(d=r,g=new Me(i,s,o),m=a,f=l,p=u):o instanceof Me&&a instanceof Me?(d=this._pInst.color(r,i,s),g=o,m=a,f=l,p=u):r instanceof xt?(d=r,g=new Me(i,s,o),m=new Me(a,l,u)):o instanceof Me?(d=this._pInst.color(r,i,s),g=o,m=new Me(a,l,u)):(d=this._pInst.color(r,i,s),g=new Me(o,a,l),m=u);break;case 6:o instanceof Me&&a instanceof Me?(d=this._pInst.color(r,i,s),g=o,m=a,f=l):r instanceof xt&&a instanceof Me?(d=r,g=new Me(i,s,o),m=a,f=l):r instanceof xt&&i instanceof Me&&(d=r,g=i,m=new Me(s,o,a),f=l);break;case 5:r instanceof xt&&i instanceof Me&&s instanceof Me?(d=r,g=i,m=s,f=o,p=a):o instanceof Me&&a instanceof Me?(d=this._pInst.color(r,i,s),g=o,m=a):r instanceof xt&&a instanceof Me?(d=r,g=new Me(i,s,o),m=a):r instanceof xt&&i instanceof Me&&(d=r,g=i,m=new Me(s,o,a));break;case 4:d=r,g=i,m=s,f=o;break;case 3:d=r,g=i,m=s;break;default:console.warn(`Sorry, input for spotlight() is not in prescribed format. Too ${v<3?"few":"many"} arguments were provided`);return}this.states.setValue("spotLightDiffuseColors",[d._array[0],d._array[1],d._array[2]]),this.states.setValue("spotLightSpecularColors",[...this.states.specularColors]),this.states.setValue("spotLightPositions",[g.x,g.y,g.z]),m.normalize(),this.states.setValue("spotLightDirections",[m.x,m.y,m.z]),f===void 0&&(f=Math.PI/3),p!==void 0&&p<1?(p=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):p===void 0&&(p=100),f=this._pInst._toRadians(f),this.states.setValue("spotLightAngle",[Math.cos(f)]),this.states.setValue("spotLightConc",[p]),this.states.setValue("enableLighting",!0)},Lt.prototype.noLights=function(){this.states.setValue("activeImageLight",null),this.states.setValue("enableLighting",!1),this.states.setValue("ambientLightColors",[]),this.states.setValue("specularColors",[1,1,1]),this.states.setValue("directionalLightDirections",[]),this.states.setValue("directionalLightDiffuseColors",[]),this.states.setValue("directionalLightSpecularColors",[]),this.states.setValue("pointLightPositions",[]),this.states.setValue("pointLightDiffuseColors",[]),this.states.setValue("pointLightSpecularColors",[]),this.states.setValue("spotLightPositions",[]),this.states.setValue("spotLightDirections",[]),this.states.setValue("spotLightDiffuseColors",[]),this.states.setValue("spotLightSpecularColors",[]),this.states.setValue("spotLightAngle",[]),this.states.setValue("spotLightConc",[]),this.states.setValue("constantAttenuation",1),this.states.setValue("linearAttenuation",0),this.states.setValue("quadraticAttenuation",0),this.states.setValue("_useShininess",1),this.states.setValue("_useMetalness",0)}}typeof p5<"u"&&Ob(p5,p5.prototype);function Z5(n,t){t.loadShader=async function(r,i,s,o){const a=new Xr;try{return a._vertSrc=(await us(r,"text")).data,a._fragSrc=(await us(i,"text")).data,s?s(a):a}catch(l){if(o)return o(l);throw l}},t.createShader=function(r,i,s){return new Xr(this._renderer,r,i,s)},t.loadFilterShader=async function(r,i,s){try{const a=await(await this.loadStrings(r)).join(`
`),l=this.createFilterShader(a,!0);return i&&i(l),l}catch(o){s?s(o):console.error(o)}},t.createFilterShader=function(r,i=!1){let a=r.includes("#version 300 es")?`#version 300 es
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;

      in vec3 aPosition;
      in vec2 aTexCoord;
      out vec2 vTexCoord;

      void main() {
        // transferring texcoords for the frag shader
        vTexCoord = aTexCoord;

        // copy position with a fourth coordinate for projection (1.0 is normal)
        vec4 positionVec4 = vec4(aPosition, 1.0);

        // project to 3D space
        gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
      }
    `:`
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;

      attribute vec3 aPosition;
      // texcoords only come from p5 to vertex shader
      // so pass texcoords on to the fragment shader in a varying variable
      attribute vec2 aTexCoord;
      varying vec2 vTexCoord;

      void main() {
        // transferring texcoords for the frag shader
        vTexCoord = aTexCoord;

        // copy position with a fourth coordinate for projection (1.0 is normal)
        vec4 positionVec4 = vec4(aPosition, 1.0);

        // project to 3D space
        gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
      }
    `;const l=new Xr(this._renderer,a,r);return i||(this._renderer.GL?l.ensureCompiledOnContext(this._renderer):l.ensureCompiledOnContext(this)),l},t.shader=function(r){return this._assert3d("shader"),this._renderer.shader(r),this},t.strokeShader=function(r){return this._assert3d("strokeShader"),this._renderer.strokeShader(r),this},t.imageShader=function(r){return this._assert3d("imageShader"),this._renderer.imageShader(r),this},t.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},t.baseFilterShader=function(){return(this._renderer.filterRenderer||this._renderer).baseFilterShader()},t.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},t.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},t.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},t.resetShader=function(){return this._renderer.resetShader(),this},t.texture=function(r){return this._assert3d("texture"),r.gifProperties&&r._animateGif(this),this._renderer.texture(r),this},t.textureMode=function(r){r!==tg&&r!==uo?console.warn(`You tried to set ${r} textureMode only supports IMAGE & NORMAL `):this._renderer.states.setValue("textureMode",r)},t.textureWrap=function(r,i=r){this._renderer.states.setValue("textureWrapX",r),this._renderer.states.setValue("textureWrapY",i);for(const s of this._renderer.textures.values())s.setWrapMode(r,i)},t.normalMaterial=function(...r){return this._assert3d("normalMaterial"),this._renderer.normalMaterial(...r),this},t.ambientMaterial=function(r,i,s){this._assert3d("ambientMaterial");const o=t.color.apply(this,arguments);return this._renderer.states.setValue("_hasSetAmbient",!0),this._renderer.states.setValue("curAmbientColor",o._array),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this._renderer.states.fillColor||this._renderer.states.setValue("fillColor",new xt([1,1,1])),this},t.emissiveMaterial=function(r,i,s,o){this._assert3d("emissiveMaterial");const a=t.color.apply(this,arguments);return this._renderer.states.setValue("curEmissiveColor",a._array),this._renderer.states.setValue("_useEmissiveMaterial",!0),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this},t.specularMaterial=function(r,i,s,o){this._assert3d("specularMaterial");const a=t.color.apply(this,arguments);return this._renderer.states.setValue("curSpecularColor",a._array),this._renderer.states.setValue("_useSpecularMaterial",!0),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this},t.shininess=function(r){return this._assert3d("shininess"),this._renderer.shininess(r),this},t.metalness=function(r){return this._assert3d("metalness"),this._renderer.metalness(r),this},Lt.prototype._applyColorBlend=function(r,i){const s=this.GL,o=this.states.drawMode===Lp,a=i||this.states.userFillShader||this.states.userStrokeShader||this.states.userPointShader||o||this.states.curBlendMode!==ki||r[r.length-1]<1||this._isErasing;return a!==this._isBlending&&(a||this.states.curBlendMode!==ki&&this.states.curBlendMode!==Gh?s.enable(s.BLEND):s.disable(s.BLEND),s.depthMask(!0),this._isBlending=a),this._applyBlendMode(),r},Lt.prototype._applyBlendMode=function(){if(this._cachedBlendMode===this.states.curBlendMode)return;const r=this.GL;switch(this.states.curBlendMode){case ki:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Gh:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case $l:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case Km:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case Zm:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case Ym:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case Jm:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case Xm:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Wm:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case qm:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.");break}this._cachedBlendMode=this.states.curBlendMode},Lt.prototype.shader=function(r){this.states.setValue("userFillShader",r),this.states.setValue("_useNormalMaterial",!1),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Lt.prototype.strokeShader=function(r){this.states.setValue("userStrokeShader",r),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Lt.prototype.imageShader=function(r){this.states.setValue("userImageShader",r),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Lt.prototype.resetShader=function(){this.states.setValue("userFillShader",null),this.states.setValue("userStrokeShader",null),this.states.setValue("userImageShader",null)},Lt.prototype.texture=function(r){this.states.setValue("drawMode",Lp),this.states.setValue("_useNormalMaterial",!1),this.states.setValue("_tex",r),this.states.setValue("fillColor",new xt([1,1,1]))},Lt.prototype.normalMaterial=function(...r){this.states.setValue("drawMode",Pp),this.states.setValue("_useSpecularMaterial",!1),this.states.setValue("_useEmissiveMaterial",!1),this.states.setValue("_useNormalMaterial",!0),this.states.setValue("curFillColor",[1,1,1,1]),this.states.setValue("fillColor",new xt([1,1,1])),this.states.setValue("strokeColor",null)},Lt.prototype.shininess=function(r){r<1&&(r=1),this.states.setValue("_useShininess",r)},Lt.prototype.metalness=function(r){const i=1-Math.exp(-r/100);this.states.setValue("_useMetalness",i)}}typeof p5<"u"&&loading(p5,p5.prototype);class lc{constructor(t,r,i,s,o){const a=i||Ul;return this._pInst=s,this._renderer=new tp[a](this,t,r,!1,o),this._initializeInstanceVariables(this),this._renderer._applyDefaults(),this}get elt(){return this.canvas}get deltaTime(){return this._pInst.deltaTime}get canvas(){return this._renderer?.canvas}get drawingContext(){return this._renderer.drawingContext}get width(){return this._renderer?.width}get height(){return this._renderer?.height}get pixels(){return this._renderer?.pixels}pixelDensity(t){let r;return typeof t=="number"?(t!==this._renderer._pixelDensity&&(this._renderer._pixelDensity=t),r=this,this.resizeCanvas(this.width,this.height,!0)):r=this._renderer._pixelDensity,r}resizeCanvas(t,r){this._renderer.resize(t,r)}reset(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}remove(){this._renderer.remove(),this._renderer=void 0}createFramebuffer(t){return new Vs(this._renderer,t)}_assert3d(t){if(!this._renderer.isP3D)throw new Error(`${t}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={}}}function x$(n,t){n.Graphics=lc,bb(n,n.Graphics.prototype),xb(n,n.Graphics.prototype),_b(n,n.Graphics.prototype),wb(n,n.Graphics.prototype),vb(n,n.Graphics.prototype),Eb(n,n.Graphics.prototype),Db(n,n.Graphics.prototype),Ib(n,n.Graphics.prototype),Cb(n,n.Graphics.prototype),db(n,n.Graphics.prototype),Mb(n,n.Graphics.prototype),Ob(n,n.Graphics.prototype),Z5(n,n.Graphics.prototype),gb(n,n.Graphics.prototype),Tb(n,n.Graphics.prototype)}class Zo{constructor(t,r,i){this._renderer=t;const s=this._renderer.GL;i=i||{},this.src=r,this.glTex=void 0,this.glTarget=s.TEXTURE_2D,this.glFormat=i.format||s.RGBA,this.mipmaps=!1,this.glMinFilter=i.minFilter||s.LINEAR,this.glMagFilter=i.magFilter||s.LINEAR,this.glWrapS=i.wrapS||s.CLAMP_TO_EDGE,this.glWrapT=i.wrapT||s.CLAMP_TO_EDGE,this.glDataType=i.dataType||s.UNSIGNED_BYTE;const o=Q5(t);this.glFormat===s.HALF_FLOAT&&!o.halfFloat&&(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=s.FLOAT),this.glFormat===s.HALF_FLOAT&&(this.glMinFilter===s.LINEAR||this.glMagFilter===s.LINEAR)&&!o.halfFloatLinear&&(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.NEAREST),this.glMagFilter===s.LINEAR&&(this.glMagFilter=s.NEAREST)),this.glFormat===s.FLOAT&&!o.float&&(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=s.UNSIGNED_BYTE),this.glFormat===s.FLOAT&&(this.glMinFilter===s.LINEAR||this.glMagFilter===s.LINEAR)&&!o.floatLinear&&(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.NEAREST),this.glMagFilter===s.LINEAR&&(this.glMagFilter=s.NEAREST)),this.isSrcMediaElement=!1,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=typeof Vr<"u"&&r instanceof Vr&&!(r instanceof lc)&&!(r instanceof Nt),this.isSrcP5Image=r instanceof Oa,this.isSrcP5Graphics=r instanceof lc,this.isSrcP5Renderer=r instanceof Nt,this.isImageData=typeof ImageData<"u"&&r instanceof ImageData,this.isFramebufferTexture=r instanceof Hp;const a=this._getTextureDataFromSource();return this.width=a.width,this.height=a.height,this.init(a),this}remove(){this.glTex&&(this._renderer.GL.deleteTexture(this.glTex),this.glTex=void 0)}_getTextureDataFromSource(){let t;return this.isFramebufferTexture?t=this.src.rawTexture():this.isSrcP5Image?t=this.src.canvas:this.isSrcMediaElement||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),t=this.src.elt):this.isSrcP5Graphics||this.isSrcP5Renderer?t=this.src.canvas:this.isImageData&&(t=this.src),t}init(t){const r=this._renderer.GL;if(this.isFramebufferTexture||(this.glTex=r.createTexture()),this.glWrapS=this._renderer.states.textureWrapX,this.glWrapT=this._renderer.states.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),!this.isFramebufferTexture)if(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){const i=new Uint8Array([1,1,1,1]);r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,i)}else r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,t)}update(){const t=this.src;if(t.width===0||t.height===0)return!1;if(this.isFramebufferTexture)return this.src.update(),!1;const r=this._getTextureDataFromSource();let i=!1;const s=this._renderer.GL;return r.width!==this.width||r.height!==this.height?(i=!0,this.width=r.width||t.width,this.height=r.height||t.height,this.isSrcP5Image?t.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&t.setModified&&t.setModified(!0)):this.isSrcP5Image?t.isModified()&&(i=!0,t.setModified(!1)):this.isSrcMediaElement?t.isModified()?(i=!0,t.setModified(!1)):t.loadedmetadata&&this._videoPrevUpdateTime!==t.time()&&(this._videoPrevUpdateTime=t.time(),i=!0):this.isImageData?t._dirty&&(t._dirty=!1,i=!0):i=!0,i&&(this.bindTexture(),s.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,r)),i}bindTexture(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}unbindTexture(){this._renderer.GL.bindTexture(this.glTarget,null)}getTexture(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}setInterpolation(t,r){const i=this._renderer.GL;this.glMinFilter=this.glFilter(t),this.glMagFilter=this.glFilter(r),this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}glFilter(t){const r=this._renderer.GL;return t===AD?r.NEAREST:r.LINEAR}setWrapMode(t,r){const i=this._renderer.GL,s=c=>(c&c-1)===0,o=this._getTextureDataFromSource();let a,l;o.naturalWidth&&o.naturalHeight?(a=o.naturalWidth,l=o.naturalHeight):(a=this.width,l=this.height);const u=s(a),h=s(l);t===Sy?this._renderer.webglVersion===Dr||u&&h?this.glWrapS=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):t===Ay?this._renderer.webglVersion===Dr||u&&h?this.glWrapS=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):this.glWrapS=i.CLAMP_TO_EDGE,r===Sy?this._renderer.webglVersion===Dr||u&&h?this.glWrapT=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):r===Ay?this._renderer.webglVersion===Dr||u&&h?this.glWrapT=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):this.glWrapT=i.CLAMP_TO_EDGE,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.glWrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}class J5 extends Zo{constructor(t,r,i){super(t,r,i);const s=this._renderer.GL;this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.LINEAR_MIPMAP_LINEAR)}glFilter(t){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}_getTextureDataFromSource(){return this.src}init(t){const r=this._renderer.GL;this.glTex=r.createTexture(),this.bindTexture();for(let i=0;i<t.length;i++)r.texImage2D(this.glTarget,i,this.glFormat,this.glFormat,this.glDataType,t[i]);this.glMinFilter=r.LINEAR_MIPMAP_LINEAR,r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}update(){}}function Pb(n,t){n.Texture=Zo,n.MipmapTexture=J5}function Q5({GL:n,webglVersion:t}){const r=n,i=t===Dr?r.getExtension("EXT_color_buffer_float")&&r.getExtension("EXT_float_blend"):r.getExtension("OES_texture_float"),s=i&&r.getExtension("OES_texture_float_linear"),o=t===Dr?r.getExtension("EXT_color_buffer_float"):r.getExtension("OES_texture_half_float"),a=o&&r.getExtension("OES_texture_half_float_linear");return{float:i,floatLinear:s,halfFloat:o,halfFloatLinear:a}}typeof p5<"u"&&Pb(p5,p5.prototype);const wu=(n,t,r)=>Math.max(Math.min(n,r),t);class eN extends Wl{constructor(t){super(t.renderer),this.fbo=t,this.yScale=-1}_computeCameraDefaultSettings(){super._computeCameraDefaultSettings(),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}class Hp{constructor(t,r){this.framebuffer=t,this.property=r}get width(){return this.framebuffer.width*this.framebuffer.density}get height(){return this.framebuffer.height*this.framebuffer.density}update(){this.framebuffer._update(this.property)}rawTexture(){return this.framebuffer[this.property]}}class Vs{constructor(t,r={}){this.renderer=t,this.renderer.framebuffers.add(this),this._isClipApplied=!1,this.dirty={colorTexture:!1,depthTexture:!1},this.pixels=[],this.format=r.format||ya,this.channels=r.channels||(this.renderer._pInst._glAttributes.alpha?Yd:Yn),this.useDepth=r.depth===void 0?!0:r.depth,this.depthFormat=r.depthFormat||$i,this.textureFiltering=r.textureFiltering||Ey,r.antialias===void 0?this.antialiasSamples=this.renderer._pInst._glAttributes.antialias?2:0:typeof r.antialias=="number"?this.antialiasSamples=r.antialias:this.antialiasSamples=r.antialias?2:0,this.antialias=this.antialiasSamples>0,this.antialias&&this.renderer.webglVersion!==Dr&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=r.density||this.renderer._pixelDensity;const i=this.renderer.GL;if(this.gl=i,r.width&&r.height){const o=this.renderer._adjustDimensions(r.width,r.height);this.width=o.adjustedWidth,this.height=o.adjustedHeight,this._autoSized=!1}else r.width===void 0!=(r.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=this.renderer.width,this.height=this.renderer.height,this._autoSized=!0;if(this._checkIfFormatsAvailable(),r.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(r.stencil===void 0?!0:r.stencil),this.framebuffer=i.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=i.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();const s=this.renderer.states.curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.renderer.states.setValue("curCamera",s),this.draw(()=>this.renderer.clear())}resize(t,r){this._autoSized=!1;const i=this.renderer._adjustDimensions(t,r);t=i.adjustedWidth,r=i.adjustedHeight,this.width=t,this.height=r,this._handleResize()}pixelDensity(t){if(t)this._autoSized=!1,this.density=t,this._handleResize();else return this.density}autoSized(t){if(t===void 0)return this._autoSized;this._autoSized=t,this._handleResize()}_checkIfFormatsAvailable(){const t=this.gl;this.useDepth&&this.renderer.webglVersion===Fa&&!t.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.renderer.webglVersion===Fa&&this.depthFormat===$i&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=mh),[ya,$i,Fu].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=ya),this.useDepth&&![mh,$i].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=$i);const r=Q5(this.renderer);!r.float&&this.format===$i&&(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=ya),this.useDepth&&!r.float&&this.depthFormat===$i&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=mh),!r.halfFloat&&this.format===Fu&&(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=ya),this.channels===Yn&&[$i,Fu].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=Yd)}_recreateTextures(){const t=this.gl;this._updateSize();const r=t.getParameter(t.TEXTURE_BINDING_2D),i=t.getParameter(t.FRAMEBUFFER_BINDING),s=t.createTexture();if(!s)throw new Error("Unable to create color texture");t.bindTexture(t.TEXTURE_2D,s);const o=this._glColorFormat();if(t.texImage2D(t.TEXTURE_2D,0,o.internalFormat,this.width*this.density,this.height*this.density,0,o.format,o.type,null),this.colorTexture=s,t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),this.useDepth){const l=t.createTexture();if(!l)throw new Error("Unable to create depth texture");const u=this._glDepthFormat();t.bindTexture(t.TEXTURE_2D,l),t.texImage2D(t.TEXTURE_2D,0,u.internalFormat,this.width*this.density,this.height*this.density,0,u.format,u.type,null),t.framebufferTexture2D(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.TEXTURE_2D,l,0),this.depthTexture=l}if(this.antialias){if(this.colorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.colorRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),o.internalFormat,this.width*this.density,this.height*this.density),this.useDepth){const l=this._glDepthFormat();this.depthRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.depthRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),l.internalFormat,this.width*this.density,this.height*this.density)}t.bindFramebuffer(t.FRAMEBUFFER,this.aaFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&t.framebufferRenderbuffer(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depthRenderbuffer)}if(this.useDepth){this.depth=new Hp(this,"depthTexture");const l=t.NEAREST;this.depthP5Texture=new Zo(this.renderer,this.depth,{minFilter:l,magFilter:l}),this.renderer.textures.set(this.depth,this.depthP5Texture)}this.color=new Hp(this,"colorTexture");const a=this.textureFiltering===Ey?t.LINEAR:t.NEAREST;this.colorP5Texture=new Zo(this.renderer,this.color,{minFilter:a,magFilter:a}),this.renderer.textures.set(this.color,this.colorP5Texture),t.bindTexture(t.TEXTURE_2D,r),t.bindFramebuffer(t.FRAMEBUFFER,i)}_glColorFormat(){let t,r,i;const s=this.gl;return this.format===$i?t=s.FLOAT:this.format===Fu?t=this.renderer.webglVersion===Dr?s.HALF_FLOAT:s.getExtension("OES_texture_half_float").HALF_FLOAT_OES:t=s.UNSIGNED_BYTE,this.channels===Yd?r=s.RGBA:r=s.RGB,this.renderer.webglVersion===Dr?i={[s.FLOAT]:{[s.RGBA]:s.RGBA32F},[s.HALF_FLOAT]:{[s.RGBA]:s.RGBA16F},[s.UNSIGNED_BYTE]:{[s.RGBA]:s.RGBA8,[s.RGB]:s.RGB8}}[t][r]:this.format===Fu?i=s.RGBA:i=r,{internalFormat:i,format:r,type:t}}_glDepthFormat(){let t,r,i;const s=this.gl;return this.useStencil?this.depthFormat===$i?t=s.FLOAT_32_UNSIGNED_INT_24_8_REV:this.renderer.webglVersion===Dr?t=s.UNSIGNED_INT_24_8:t=s.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===$i?t=s.FLOAT:t=s.UNSIGNED_INT,this.useStencil?r=s.DEPTH_STENCIL:r=s.DEPTH_COMPONENT,this.useStencil?this.depthFormat===$i?i=s.DEPTH32F_STENCIL8:this.renderer.webglVersion===Dr?i=s.DEPTH24_STENCIL8:i=s.DEPTH_STENCIL:this.renderer.webglVersion===Dr?this.depthFormat===$i?i=s.DEPTH_COMPONENT32F:i=s.DEPTH_COMPONENT24:i=s.DEPTH_COMPONENT,{internalFormat:i,format:r,type:t}}_updateSize(){this._autoSized&&(this.width=this.renderer.width,this.height=this.renderer.height,this.density=this.renderer._pixelDensity)}_canvasSizeChanged(){this._autoSized&&this._handleResize()}_handleResize(){const t=this.color,r=this.depth,i=this.colorRenderbuffer,s=this.depthRenderbuffer;this._deleteTexture(t),r&&this._deleteTexture(r);const o=this.gl;i&&o.deleteRenderbuffer(i),s&&o.deleteRenderbuffer(s),this._recreateTextures(),this.defaultCamera._resize()}createCamera(){const t=new eN(this);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),t}_deleteTexture(t){this.gl.deleteTexture(t.rawTexture()),this.renderer.textures.delete(t)}remove(){const t=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),t.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&t.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&t.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&t.deleteRenderbuffer(this.colorRenderbuffer),this.renderer.framebuffers.delete(this)}begin(){this.prevFramebuffer=this.renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.renderer.activeFramebuffers.push(this),this._beforeBegin(),this.renderer.push(),this.renderer.states.setValue("curCamera",this.defaultCamera),this.renderer.states.setValue("uPMatrix",this.renderer.states.uPMatrix.clone()),this.renderer.states.uPMatrix.set(this.defaultCamera.projMatrix),this.renderer.states.setValue("uViewMatrix",this.renderer.states.uViewMatrix.clone()),this.renderer.states.uViewMatrix.set(this.defaultCamera.cameraMatrix),this.renderer.resetMatrix(),this.renderer.states.uViewMatrix.set(this.renderer.states.curCamera.cameraMatrix),this.renderer.states.uModelMatrix.reset(),this.renderer._applyStencilTestIfClipping()}_framebufferToBind(){return this.antialias?this.aaFramebuffer:this.framebuffer}_update(t){if(this.dirty[t]&&this.antialias){const r=this.gl;r.bindFramebuffer(r.READ_FRAMEBUFFER,this.aaFramebuffer),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.framebuffer);const i={colorTexture:[r.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]};this.useDepth&&(i.depthTexture=[r.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);const[s,o]=i[t];r.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,s,o),this.dirty[t]=!1;const a=this.renderer.activeFramebuffer();a?r.bindFramebuffer(r.FRAMEBUFFER,a._framebufferToBind()):r.bindFramebuffer(r.FRAMEBUFFER,null)}}_beforeBegin(){const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebufferToBind()),this.renderer.viewport(this.width*this.density,this.height*this.density)}_beforeEnd(){this.antialias&&(this.dirty={colorTexture:!0,depthTexture:!0})}end(){const t=this.gl;if(this.renderer.pop(),this.renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(t.bindFramebuffer(t.FRAMEBUFFER,null),this.renderer.viewport(this.renderer._origViewport.width,this.renderer._origViewport.height)),this.renderer._applyStencilTestIfClipping()}draw(t){this.begin(),t(),this.end()}loadPixels(){this._update("colorTexture");const t=this.gl,r=this.renderer.activeFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer);const i=this._glColorFormat();this.pixels=Ry(this.pixels,t,this.framebuffer,0,0,this.width*this.density,this.height*this.density,i.format,i.type),r?t.bindFramebuffer(t.FRAMEBUFFER,r._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null)}get(t,r,i,s){this._update("colorTexture");const o=this._glColorFormat();if(t===void 0&&r===void 0)t=0,r=0,i=this.width,s=this.height;else if(i===void 0&&s===void 0)return(t<0||r<0||t>=this.width||r>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),t=wu(t,0,this.width-1),r=wu(r,0,this.height-1)),K5(this.gl,this.framebuffer,t*this.density,r*this.density,o.format,o.type);t=wu(t,0,this.width-1),r=wu(r,0,this.height-1),i=wu(i,1,this.width-t),s=wu(s,1,this.height-r);const a=Ry(void 0,this.gl,this.framebuffer,t*this.density,r*this.density,i*this.density,s*this.density,o.format,o.type),l=new Uint8ClampedArray(i*s*this.density*this.density*4);l.fill(255);const u=o.type===this.gl.RGB?3:4;for(let c=0;c<s*this.density;c++)for(let f=0;f<i*this.density;f++)for(let p=0;p<4;p++){const d=(c*i*this.density+f)*4+p;if(p<u){const g=u===4?d:(c*i*this.density+f)*u+p;l[d]=a[g]}}const h=new Oa(i*this.density,s*this.density);return h.imageData=h.canvas.getContext("2d").createImageData(h.width,h.height),h.imageData.data.set(l),h.pixels=h.imageData.data,h.updatePixels(),this.density!==1&&h.resize(i,s),h}updatePixels(){const t=this.gl;this.colorP5Texture.bindTexture();const r=this._glColorFormat(),i=r.format===t.RGBA?4:3,s=this.width*this.height*this.density*this.density*i,o=r.type===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof o)||this.pixels.length!==s)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");t.texImage2D(t.TEXTURE_2D,0,r.internalFormat,this.width*this.density,this.height*this.density,0,r.format,r.type,this.pixels),this.colorP5Texture.unbindTexture(),this.dirty.colorTexture=!1;const a=this.renderer.activeFramebuffer();this.antialias?(this.begin(),this.renderer.push(),this.renderer.states.setValue("imageMode",ds),this.renderer.setCamera(this.filterCamera),this.renderer.resetMatrix(),this.renderer.states.setValue("strokeColor",null),this.renderer.clear(),this.renderer._drawingFilter=!0,this.renderer.image(this,0,0,this.width,this.height,-this.renderer.width/2,-this.renderer.height/2,this.renderer.width,this.renderer.height),this.renderer._drawingFilter=!1,this.renderer.pop(),this.useDepth&&(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),this.end()):(t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this.useDepth&&(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),a?t.bindFramebuffer(t.FRAMEBUFFER,a._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null))}}function tN(n,t){n.FramebufferCamera=eN,n.FramebufferTexture=Hp,n.Framebuffer=Vs}typeof p5<"u"&&tN(p5,p5.prototype);let tp;function nN(n,t){tp=n.renderers={},t.createCanvas=function(r,i,s,...o){let a=Ul;return Reflect.ownKeys(tp).includes(s)?a=s:o.unshift(s),this._renderer&&this._renderer.remove(),this._renderer=new tp[a](this,r,i,!0,...o),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer),this._renderer._applyDefaults(),Object.hasOwn(this,"pixels")||Object.defineProperty(this,"pixels",{get(){return this._renderer?.pixels}}),this._renderer},t.resizeCanvas=function(r,i,s){this._renderer&&(this._renderer.resize(r,i),s||this.redraw()),this._addAccsOutput()&&this._updateAccsOutput()},t.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},t.createGraphics=function(r,i,...s){return s[0]instanceof HTMLCanvasElement&&(s[1]=s[0],s[0]=Ul),new n.Graphics(r,i,s[0],this,s[1])},t.createFramebuffer=function(r){return new Vs(this._renderer,r)},t.clearDepth=function(r){this._assert3d("clearDepth"),this._renderer.clearDepth(r)}}typeof p5<"u"&&nN(p5,p5.prototype);class _${constructor(t){this.pInst=t,this.canvas=document.createElement("canvas"),this.canvas.width=t.width,this.canvas.height=t.height;let r=Dr;if(this.gl=this.canvas.getContext("webgl2"),this.gl||(r=Fa,this.gl=this.canvas.getContext("webgl")),!this.gl){console.error("WebGL not supported, cannot apply filter.");return}this._renderer={GL:this.gl,registerEnabled:new Set,_curShader:null,_emptyTexture:null,webglVersion:r,states:{textureWrapX:this.gl.CLAMP_TO_EDGE,textureWrapY:this.gl.CLAMP_TO_EDGE},_arraysEqual:(i,s)=>JSON.stringify(i)===JSON.stringify(s),_getEmptyTexture:()=>{if(!this._emptyTexture){const i=new Oa(1,1);i.set(0,0,255),this._emptyTexture=new Zo(this._renderer,i)}return this._emptyTexture}},this._baseFilterShader=void 0,this.filterShaderSources={[sc]:$5,[cb]:G5,[Qm]:H5,[fb]:U5,[lb]:B5,[hb]:V5,[eg]:j5,[ub]:z5},this.filterShaders={},this.operation=null,this.filterParameter=1,this.customShader=null,this._shader=null,this.vertexBuffer=this.gl.createBuffer(),this.texcoordBuffer=this.gl.createBuffer(),this.vertices=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.texcoords=new Float32Array([0,1,1,1,0,0,1,0]),this._bindBufferData(this.vertexBuffer,this.gl.ARRAY_BUFFER,this.vertices),this._bindBufferData(this.texcoordBuffer,this.gl.ARRAY_BUFFER,this.texcoords)}_webGL2CompatibilityPrefix(t,r){let i="";return this._renderer.webglVersion===Dr&&(i+=`#version 300 es
#define WEBGL2
`),t==="vert"?i+=`#define VERTEX_SHADER
`:t==="frag"&&(i+=`#define FRAGMENT_SHADER
`),r&&(i+=`precision ${r} float;
`),i}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new Xr(this._renderer,this._webGL2CompatibilityPrefix("vert","highp")+Ly+L5,this._webGL2CompatibilityPrefix("frag","highp")+Ly+R5,{vertex:{},fragment:{"vec4 getColor":`(FilterInputs inputs, in sampler2D canvasContent) {
              return getTexture(canvasContent, inputs.texCoord);
            }`}})),this._baseFilterShader}setOperation(t,r,i=null){this.operation=t,this.filterParameter=r,t in zp&&r===void 0&&(this.filterParameter=zp[t]),this.customShader=i,this._initializeShader()}_initializeShader(){if(this.customShader){this._shader=this.customShader;return}if(!this.operation){console.error("No operation set for FilterRenderer2D, cannot initialize shader.");return}if(this.filterShaders[this.operation]){this._shader=this.filterShaders[this.operation];return}const t=this.filterShaderSources[this.operation];if(!t){console.error("No shader available for this operation:",this.operation);return}const r=new Xr(this._renderer,W5,t);this.filterShaders[this.operation]=r,this._shader=r}_bindBufferData(t,r,i){const s=this.gl;s.bindBuffer(r,t),s.bufferData(r,i,s.STATIC_DRAW)}get canvasTexture(){return this._canvasTexture||(this._canvasTexture=new Zo(this._renderer,this.pInst.wrappedElt)),this._canvasTexture}_renderPass(){const t=this.gl;this._shader.bindShader();const r=this.pInst.pixelDensity?this.pInst.pixelDensity():1,i=[1/(this.pInst.width*r),1/(this.pInst.height*r)],s=this.canvasTexture;this._shader.setUniform("tex0",s),this._shader.setUniform("texelSize",i),this._shader.setUniform("canvasSize",[this.pInst.width,this.pInst.height]),this._shader.setUniform("radius",Math.max(1,this.filterParameter)),this._shader.setUniform("filterParameter",this.filterParameter),this._shader.setDefaultUniforms(),this.pInst.states.setValue("rectMode",ds),this.pInst.states.setValue("imageMode",ds),this.pInst.blendMode(ki),this.pInst.resetMatrix();const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this._shader.setUniform("uModelViewMatrix",o),this._shader.setUniform("uProjectionMatrix",o),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this._shader.enableAttrib(this._shader.attributes.aPosition,2),t.bindBuffer(t.ARRAY_BUFFER,this.texcoordBuffer),this._shader.enableAttrib(this._shader.attributes.aTexCoord,2),this._shader.bindTextures(),this._shader.disableRemainingAttributes(),t.drawArrays(t.TRIANGLE_STRIP,0,4),this._shader.unbindShader()}applyFilter(){if(!this._shader){console.error("Cannot apply filter: shader not initialized.");return}this.pInst.push(),this.pInst.resetMatrix(),this.operation===sc&&!this.customShader?(this._shader.setUniform("direction",[1,0]),this._renderPass(),this.pInst.clear(),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height),this._shader.setUniform("direction",[0,1]),this._renderPass(),this.pInst.clear(),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height)):(this._renderPass(),this.pInst.clear(),this.pInst.blendMode(ki),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height)),this.pInst.pop()}}const ro="rgba(0,0,0,0)";class G0 extends Nt{constructor(t,r,i,s,o,a={}){super(t,r,i,s),this.canvas=this.elt=o||document.createElement("canvas"),s?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display="none",this.elt.id="defaultCanvas0",this.elt.classList.add("p5Canvas");for(const l of Object.getOwnPropertyNames(Vr.prototype))l!=="constructor"&&l[0]!=="_"&&Object.defineProperty(this,l,{get(){return this.wrappedElt[l]}});if(this.elt.width=r*this._pixelDensity,this.elt.height=i*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${i}px`,this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(document.getElementsByTagName("main").length===0){let l=document.createElement("main");document.body.appendChild(l)}document.getElementsByTagName("main")[0].appendChild(this.elt)}this.drawingContext=this.canvas.getContext("2d",a),a.colorSpace==="display-p3"&&(this.states.colorMode=Di),this.scale(this._pixelDensity,this._pixelDensity),this.wrappedElt=new Vr(this.elt,this._pInst),this.clipPath=null}get filterRenderer(){return this._filterRenderer||(this._filterRenderer=new _$(this)),this._filterRenderer}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}getFilterGraphicsLayer(){if(!this.filterGraphicsLayer){const t=this._pInst;this.filterGraphicsLayer=new lc(this.width,this.height,Fa,t)}return(this.filterGraphicsLayer.width!==this.width||this.filterGraphicsLayer.height!==this.height)&&this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}_applyDefaults(){this.states.setValue("_cachedFillStyle",void 0),this.states.setValue("_cachedStrokeStyle",void 0),this._cachedBlendMode=ki,this._setFill(ND),this._setStroke(DD),this.drawingContext.lineCap=Da,this.drawingContext.font="normal 12px sans-serif"}resize(t,r){super.resize(t,r);const i={};for(const s in this.drawingContext){const o=this.drawingContext[s];typeof o!="object"&&typeof o!="function"&&(i[s]=o)}this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this.drawingContext.scale(this._pixelDensity,this._pixelDensity);for(const s in i)try{this.drawingContext[s]=i[s]}catch{}}background(...t){if(this.push(),this.resetMatrix(),t[0]instanceof Oa)if(t[1]>=0){const r=t[0];this.drawingContext.globalAlpha=t[1]/255,this._pInst.image(r,0,0,this.width,this.height)}else this._pInst.image(t[0],0,0,this.width,this.height);else{const r=this._pInst.color(...t);this._pInst._addAccsOutput?.()&&this._pInst._accsBackground?.(r._getRGBA([255,255,255,255]));const i=r.toString();this._setFill(i),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._isErasing&&this._pInst.erase()}this.pop()}clear(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}fill(...t){super.fill(...t);const r=this.states.fillColor;this._setFill(r.toString()),this._pInst._addAccsOutput?.()&&this._pInst._accsCanvasColors?.("fill",r._getRGBA([255,255,255,255]))}stroke(...t){super.stroke(...t);const r=this.states.strokeColor;this._setStroke(r.toString()),this._pInst._addAccsOutput?.()&&this._pInst._accsCanvasColors?.("stroke",r._getRGBA([255,255,255,255]))}erase(t,r){if(!this._isErasing){this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle);const i=this._pInst.color(255,t).toString();this.drawingContext.fillStyle=i,this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle);const s=this._pInst.color(255,r).toString();this.drawingContext.strokeStyle=s;const o=this._cachedBlendMode;this.blendMode($l),this._cachedBlendMode=o,this._isErasing=!0}}noErase(){this._isErasing&&(this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}drawShape(t){const r=new _5({strokeWeight:this.states.strokeWeight});t.accept(r),this._clipping?(this.clipPath.addPath(r.path),this.clipPath.closePath()):(this.states.fillColor&&this.drawingContext.fill(r.path),this.states.strokeColor&&this.drawingContext.stroke(r.path))}beginClip(t={}){super.beginClip(t),this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle);const r=this._pInst.color(255,0).toString();this.drawingContext.fillStyle=r,this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle);const i=this._pInst.color(255,0).toString();this.drawingContext.strokeStyle=i;const s=this._cachedBlendMode;this.blendMode(ki),this._cachedBlendMode=s,this.clipPath=new Path2D,this._clipInvert&&(this.clipPath.moveTo(-2*this.width,-2*this.height),this.clipPath.lineTo(-2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,-2*this.height),this.clipPath.closePath())}endClip(){this.drawingContext.clip(this.clipPath),this.clipPath=null,super.endClip(),this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}image(t,r,i,s,o,a,l,u,h){let c;t.gifProperties&&t._animateGif(this._pInst);try{t instanceof yl&&t._ensureCanvas(),this.states.tint&&t.canvas&&(c=this._getTintedImageCanvas(t)),c||(c=t.canvas||t.elt);let f=1;t.width&&t.width>0&&(f=c.width/t.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(c,f*r,f*i,f*s,f*o,a,l,u,h),this._isErasing&&this._pInst.erase()}catch(f){if(f.name!=="NS_ERROR_NOT_AVAILABLE")throw f}}_getTintedImageCanvas(t){if(!t.canvas)return t;t.tintCanvas||(t.tintCanvas=document.createElement("canvas")),t.tintCanvas.width!==t.canvas.width&&(t.tintCanvas.width=t.canvas.width),t.tintCanvas.height!==t.canvas.height&&(t.tintCanvas.height=t.canvas.height);const r=t.tintCanvas.getContext("2d");return r.save(),r.clearRect(0,0,t.canvas.width,t.canvas.height),this.states.tint[0]<255||this.states.tint[1]<255||this.states.tint[2]<255?(r.drawImage(t.canvas,0,0),r.globalCompositeOperation="luminosity",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="color",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="multiply",r.fillStyle=`rgb(${this.states.tint.slice(0,3).join(", ")})`,r.fillRect(0,0,t.canvas.width,t.canvas.height),r.globalCompositeOperation="destination-in",r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0)):(r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0)),r.restore(),t.tintCanvas}blendMode(t){if(t===Xm)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else if(t===ki||t===$l||t===Wm||t===qm||t===SD||t===Km||t===Ym||t===Zm||t===Jm||t===rb||t===ib||t===sb||t===ob||t===ab||t===Gh)this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t;else throw new Error(`Mode ${t} not recognized.`)}blend(...t){const r=this.drawingContext.globalCompositeOperation,i=t[t.length-1],s=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=i,Ot.prototype.copy.apply(this,s),this.drawingContext.globalCompositeOperation=r}_getPixel(t,r){let i,s;return i=this.drawingContext.getImageData(t,r,1,1).data,s=0,[i[s+0],i[s+1],i[s+2],i[s+3]]}loadPixels(){const t=this._pixelDensity,r=this.width*t,i=this.height*t,s=this.drawingContext.getImageData(0,0,r,i);this.imageData=s,this.pixels=s.data}set(t,r,i){if(t=Math.floor(t),r=Math.floor(r),i instanceof Oa)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,i.width,i.height),this.drawingContext.drawImage(i.canvas,t,r),this.drawingContext.restore();else{let s=0,o=0,a=0,l=0,u=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(this.imageData||this.loadPixels(),typeof i=="number")u<this.pixels.length&&(s=i,o=i,a=i,l=255);else if(Array.isArray(i)){if(i.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");u<this.pixels.length&&(s=i[0],o=i[1],a=i[2],l=i[3])}else i instanceof Ot.Color&&u<this.pixels.length&&([s,o,a,l]=i._getRGBA([255,255,255,255]));for(let h=0;h<this._pixelDensity;h++)for(let c=0;c<this._pixelDensity;c++)u=4*((r*this._pixelDensity+c)*this.width*this._pixelDensity+(t*this._pixelDensity+h)),this.pixels[u]=s,this.pixels[u+1]=o,this.pixels[u+2]=a,this.pixels[u+3]=l}}updatePixels(t,r,i,s){const o=this._pixelDensity;t===void 0&&r===void 0&&i===void 0&&s===void 0&&(t=0,r=0,i=this.width,s=this.height),t*=o,r*=o,i*=o,s*=o,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=this.imageData),this.drawingContext.putImageData(this.imageData,0,0,t,r,i,s)}arc(t,r,i,s,o,a,l){const u=this.clipPa||this.drawingContext,h=t+i/2,c=r+s/2,f=i/2,p=s/2,d=!(l===Op||l===Vl||(a-o)%Ti===0);return this.states.fillColor&&(this._clipping||u.beginPath(),u.ellipse(h,c,f,p,0,o,a),d&&u.lineTo(h,c),u.closePath(),this._clipping||u.fill()),this.states.strokeColor&&(this._clipping||u.beginPath(),u.ellipse(h,c,f,p,0,o,a),l===zh&&d&&u.lineTo(h,c),(l===zh||l===Op)&&u.closePath(),this._clipping||u.stroke()),this}ellipse(t){const r=this.clipPath||this.drawingContext,i=!!this.states.fillColor,s=this.states.strokeColor,o=parseFloat(t[0]),a=parseFloat(t[1]),l=parseFloat(t[2]),u=parseFloat(t[3]);if(i&&!s){if(this._getFill()===ro)return this}else if(!i&&s&&this._getStroke()===ro)return this;const h=o+l/2,c=a+u/2,f=l/2,p=u/2;this._clipping||r.beginPath(),r.ellipse(h,c,f,p,0,0,2*Math.PI),r.closePath(),!this._clipping&&i&&r.fill(),!this._clipping&&s&&r.stroke()}line(t,r,i,s){const o=this.clipPath||this.drawingContext;if(this.states.strokeColor){if(this._getStroke()===ro)return this}else return this;return this._clipping||o.beginPath(),o.moveTo(t,r),o.lineTo(i,s),o.stroke(),this}point(t,r){const i=this.clipPath||this.drawingContext;if(this.states.strokeColor){if(this._getStroke()===ro)return this}else return this;const s=this._getStroke(),o=this._getFill();this._clipping||this._setFill(s),this._clipping||i.beginPath(),i.arc(t,r,i.lineWidth/2,0,Ti,!1),this._clipping||(i.fill(),this._setFill(o))}quad(t,r,i,s,o,a,l,u){const h=this.clipPath||this.drawingContext,c=!!this.states.fillColor,f=this.states.strokeColor;if(c&&!f){if(this._getFill()===ro)return this}else if(!c&&f&&this._getStroke()===ro)return this;return this._clipping||h.beginPath(),h.moveTo(t,r),h.lineTo(i,s),h.lineTo(o,a),h.lineTo(l,u),h.closePath(),!this._clipping&&c&&h.fill(),!this._clipping&&f&&h.stroke(),this}rect(t){const r=t[0],i=t[1],s=t[2],o=t[3];let a=t[4],l=t[5],u=t[6],h=t[7];const c=this.clipPath||this.drawingContext,f=!!this.states.fillColor,p=this.states.strokeColor;if(f&&!p){if(this._getFill()===ro)return this}else if(!f&&p&&this._getStroke()===ro)return this;if(this._clipping||c.beginPath(),typeof a>"u")c.rect(r,i,s,o);else{typeof l>"u"&&(l=a),typeof u>"u"&&(u=l),typeof h>"u"&&(h=u);const d=Math.abs(s),g=Math.abs(o),m=d/2,v=g/2;d<2*a&&(a=m),g<2*a&&(a=v),d<2*l&&(l=m),g<2*l&&(l=v),d<2*u&&(u=m),g<2*u&&(u=v),d<2*h&&(h=m),g<2*h&&(h=v),c.roundRect(r,i,s,o,[a,l,u,h])}return!this._clipping&&this.states.fillColor&&c.fill(),!this._clipping&&this.states.strokeColor&&c.stroke(),this}triangle(t){const r=this.clipPath||this.drawingContext,i=!!this.states.fillColor,s=this.states.strokeColor,o=t[0],a=t[1],l=t[2],u=t[3],h=t[4],c=t[5];if(i&&!s){if(this._getFill()===ro)return this}else if(!i&&s&&this._getStroke()===ro)return this;this._clipping||r.beginPath(),r.moveTo(o,a),r.lineTo(l,u),r.lineTo(h,c),r.closePath(),!this._clipping&&i&&r.fill(),!this._clipping&&s&&r.stroke()}strokeCap(t){return(t===Da||t===eb||t===Q1)&&(this.drawingContext.lineCap=t),this}strokeJoin(t){return(t===Da||t===tb||t===nb)&&(this.drawingContext.lineJoin=t),this}strokeWeight(t){return super.strokeWeight(t),typeof t>"u"||t===0?this.drawingContext.lineWidth=1e-4:this.drawingContext.lineWidth=t,this}_getFill(){return this.states._cachedFillStyle||this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle),this.states._cachedFillStyle}_setFill(t){t!==this.states._cachedFillStyle&&(this.drawingContext.fillStyle=t,this.states.setValue("_cachedFillStyle",t))}_getStroke(){return this.states._cachedStrokeStyle||this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle),this.states._cachedStrokeStyle}_setStroke(t){t!==this.states._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this.states.setValue("_cachedStrokeStyle",t))}applyMatrix(t,r,i,s,o,a){this.drawingContext.transform(t,r,i,s,o,a)}getWorldToScreenMatrix(){let t=new DOMMatrix().scale(1/this._pixelDensity).multiply(this.drawingContext.getTransform());return new Un(t.toFloat32Array())}resetMatrix(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this}rotate(t){this.drawingContext.rotate(t)}scale(t,r){return this.drawingContext.scale(t,r),this}translate(t,r){return t instanceof Ot.Vector&&(r=t.y,t=t.x),this.drawingContext.translate(t,r),this}push(){return this.drawingContext.save(),super.push()}pop(t){this.drawingContext.restore(),super.pop(t)}}function w$(n,t){n.Renderer2D=G0,n.renderers[Ul]=G0,n.renderers["p2d-hdr"]=new Proxy(G0,{construct(r,[i,s,o,a,l]){return new r(i,s,o,a,l,{colorSpace:"display-p3"})}})}let Ot=class Tr{static VERSION=J1;static instance=null;static lifecycleHooks={presetup:[],postsetup:[],predraw:[],postdraw:[],remove:[]};static _checkForUserDefinedFunctions=()=>{};static _friendlyFileLoadError=()=>{};constructor(t,r){if(Tr.decorations.size>0){for(const[a,l]of Tr.decorations)for(const u in Tr.prototype)typeof Tr.prototype[u]=="function"&&a.some(h=>{if(typeof h=="string")return h===u;if(h instanceof RegExp)return h.test(u)})&&(Tr.prototype[u]=l(Tr.prototype[u],{kind:"method",name:u,access:{},static:!1,private:!1,addInitializer(h){}}));Tr.decorations.clear()}this.hitCriticalError=!1,this._setupDone=!1,this._userNode=r,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._events={},this._removeAbortController=new AbortController,this._removeSignal=this._removeAbortController.signal,this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._updateWindowSize();const i=E$(this);if(t)t(this),Tr._checkForUserDefinedFunctions(this);else{if(this._isGlobal=!0,window.hitCriticalError)return;Tr.instance=this;for(const l of Object.getOwnPropertyNames(Tr.prototype))l[0]!=="_"&&i(l);const a=["constructor","length"];for(const l in this)if(this.hasOwnProperty(l)){if(l[0]==="_"||a.includes(l))continue;i(l)}}const s=()=>{this.focused=!0},o=()=>{this.focused=!1};window.addEventListener("focus",s),window.addEventListener("blur",o),Tr.lifecycleHooks.remove.push(function(){window.removeEventListener("focus",s),window.removeEventListener("blur",o)}),document.readyState==="complete"?this.#t():(this._startListener=this.#t.bind(this),window.addEventListener("load",this._startListener,!1))}get pixels(){return this._renderer.pixels}get drawingContext(){return this._renderer.drawingContext}static registerAddon(t){const r={};t(Tr,Tr.prototype,r);const i=Object.keys(Tr.lifecycleHooks);for(const s of i)typeof r[s]=="function"&&Tr.lifecycleHooks[s].push(r[s])}static decorations=new Map;static decorateHelper(t,r){let i=t;Array.isArray(t)||(i=[t]),Tr.decorations.set(i,r)}#e={};_customActions=new Proxy({},{get:(t,r)=>{if(!this.#e[r]){const i=this._isGlobal?window:this;typeof i[r]=="function"&&(this.#e[r]=i[r].bind(this))}return this.#e[r]}});async#t(){this.hitCriticalError||(this._userNode&&typeof this._userNode=="string"&&(this._userNode=document.getElementById(this._userNode)),await this.#n(),!this.hitCriticalError&&(this._recording||this._draw()))}async#n(){if(await this._runLifecycleHook("presetup"),this.hitCriticalError)return;this.createCanvas(100,100,Ul),this._millisStart=window.performance.now();const t=this._isGlobal?window:this;if(typeof t.setup=="function"&&await t.setup(),this.hitCriticalError)return;const r=document.getElementsByTagName("canvas");for(const i of r)i.style.touchAction="none",i.dataset.hidden==="true"&&(i.style.visibility="",delete i.dataset.hidden);this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),this._setupDone=!0,(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),await this._runLifecycleHook("postsetup"),this._millisStart=window.performance.now()}async _draw(t){if(this.hitCriticalError)return;const r=t||window.performance.now(),i=r-this._lastTargetFrameTime,s=1e3/this._targetFrameRate;(!this._loop||i>=s-5)&&(this.deltaTime=r-this._lastRealFrameTime,this._frameRate=1e3/this.deltaTime,await this.redraw(),this._lastTargetFrameTime=Math.max(this._lastTargetFrameTime+s,r),this._lastRealFrameTime=r,typeof this._updateMouseCoords<"u"&&(this._updateMouseCoords(),this.movedX=0,this.movedY=0)),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw.bind(this)))}async remove(){if(this._startListener&&window.removeEventListener("load",this._startListener,!1),this._curElement){this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId),this._removeAbortController.abort();for(const t of this._elements)t.elt&&t.elt.parentNode&&t.elt.parentNode.removeChild(t.elt);await this._runLifecycleHook("remove")}if(this._isGlobal){for(const t in Tr.prototype)try{delete window[t]}catch{window[t]=void 0}for(const t in this)if(this.hasOwnProperty(t))try{delete window[t]}catch{window[t]=void 0}Tr.instance=null}}async _runLifecycleHook(t){await Promise.all(Tr.lifecycleHooks[t].map(r=>r.call(this)))}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={},this._downKeyCodes={}}};function E$(n){return function(r){if(r==="constructor")return;const i=Object.getOwnPropertyDescriptor(n,r),s=Object.getOwnPropertyDescriptor(Ot.prototype,r),o=i&&i.get||s&&s.get;let a=!1,l=!1,u;if(!o){const h=Ot.prototype[r];a=typeof h=="function",!a&&Ma[r]!==void 0&&(l=!0,u=h)}if(a){const h=Ot.prototype[r].bind(n);Object.defineProperty(window,r,{configurable:!0,enumerable:!0,value:h})}else if(l)Object.defineProperty(window,r,{configurable:!0,enumerable:!0,value:u});else if(o||!a){let h=null,c=null,f=null;Object.defineProperty(window,r,{configurable:!0,enumerable:!0,get:()=>{const p=n[r];return f===null?(f=typeof p=="function",f?(h=p,c=p.bind(n),c):p):f?(p!==h&&(h=p,c=p.bind(n)),c):p}})}}}for(const n in Ma)Ot.prototype[n]=Ma[n];Ot.registerAddon(db);Ot.registerAddon(PD);Ot.registerAddon(LD);Ot.registerAddon(nN);Ot.registerAddon(AV);Ot.registerAddon(w$);Ot.registerAddon(x$);function S$(n){n.registerAddon(bb),n.registerAddon(xb),n.registerAddon(_b),n.registerAddon(wb),n.registerAddon(vb)}function rN(n,t){const r="_Description",i="_fallbackDesc",s="_fallbackTable",o="_fte_",a="_Label",l="_labelDesc",u="_labelTable",h="_lte_";t.describe=function(p,d){if(typeof p!="string")return;const g=this.canvas.id;p=c(p),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==p&&(this.descriptions.fallback.innerHTML=p):this._describeHTML("fallback",p),d===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==p&&(this.descriptions.label.innerHTML=p):this._describeHTML("label",p))},t.describeElement=function(p,d,g){if(typeof d!="string"||typeof p!="string")return;const m=this.canvas.id;d=c(d);let v=f(p);p=p.replace(/[^a-zA-Z0-9]/g,"");let w=`<th scope="row">${v}</th><td>${d}</td>`;this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[p]?this.descriptions.fallbackElements[p].innerHTML!==w&&(this.descriptions.fallbackElements[p].innerHTML=w):this._describeElementHTML("fallback",p,w),g===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[p]?this.descriptions.labelElements[p].innerHTML!==w&&(this.descriptions.labelElements[p].innerHTML=w):this._describeElementHTML("label",p,w))};function c(p){if(p==="label"||p==="fallback")throw new Error("description should not be LABEL or FALLBACK");return!p.endsWith(".")&&!p.endsWith(";")&&!p.endsWith(",")&&!p.endsWith("?")&&!p.endsWith("!")&&(p=p+"."),p}t._describeHTML=function(p,d){const g=this.canvas.id;if(p==="fallback"){if(this.dummyDOM.querySelector(`#${g+r}`))this.dummyDOM.querySelector("#"+g+s).insertAdjacentHTML("beforebegin",`<p id="${g+i}"></p>`);else{let m=`<div id="${g}${r}" role="region" aria-label="Canvas Description"><p id="${g}${i}"></p></div>`;this.dummyDOM.querySelector(`#${g}accessibleOutput`)?this.dummyDOM.querySelector(`#${g}accessibleOutput`).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector(`#${g}`).innerHTML=m}this.descriptions.fallback=this.dummyDOM.querySelector(`#${g}${i}`),this.descriptions.fallback.innerHTML=d;return}else if(p==="label"){if(this.dummyDOM.querySelector(`#${g+a}`))this.dummyDOM.querySelector(`#${g+u}`)&&this.dummyDOM.querySelector(`#${g+u}`).insertAdjacentHTML("beforebegin",`<p id="${g}${l}"></p>`);else{let m=`<div id="${g}${a}" class="p5Label"><p id="${g}${l}"></p></div>`;this.dummyDOM.querySelector(`#${g}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${g}accessibleOutputLabel`).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",m)}this.descriptions.label=this.dummyDOM.querySelector("#"+g+l),this.descriptions.label.innerHTML=d;return}};function f(p){if(p==="label"||p==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p=p+":"),p}t._describeElementHTML=function(p,d,g){const m=this.canvas.id;if(p==="fallback"){if(this.dummyDOM.querySelector(`#${m+r}`))this.dummyDOM.querySelector("#"+m+s)||this.dummyDOM.querySelector("#"+m+i).insertAdjacentHTML("afterend",`<table id="${m}${s}"><caption>Canvas elements and their descriptions</caption></table>`);else{let w=`<div id="${m}${r}" role="region" aria-label="Canvas Description"><table id="${m}${s}"><caption>Canvas elements and their descriptions</caption></table></div>`;this.dummyDOM.querySelector(`#${m}accessibleOutput`)?this.dummyDOM.querySelector(`#${m}accessibleOutput`).insertAdjacentHTML("beforebegin",w):this.dummyDOM.querySelector("#"+m).innerHTML=w}let v=document.createElement("tr");v.id=m+o+d,this.dummyDOM.querySelector("#"+m+s).appendChild(v),this.descriptions.fallbackElements[d]=this.dummyDOM.querySelector(`#${m}${o}${d}`),this.descriptions.fallbackElements[d].innerHTML=g;return}else if(p==="label"){if(this.dummyDOM.querySelector(`#${m+a}`))this.dummyDOM.querySelector(`#${m+u}`)||this.dummyDOM.querySelector("#"+m+l).insertAdjacentHTML("afterend",`<table id="${m+u}"></table>`);else{let w=`<div id="${m}${a}" class="p5Label"><table id="${m}${u}"></table></div>`;this.dummyDOM.querySelector(`#${m}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${m}accessibleOutputLabel`).insertAdjacentHTML("beforebegin",w):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",w)}let v=document.createElement("tr");v.id=m+h+d,this.dummyDOM.querySelector("#"+m+u).appendChild(v),this.descriptions.labelElements[d]=this.dummyDOM.querySelector(`#${m}${h}${d}`),this.descriptions.labelElements[d].innerHTML=g}}}typeof p5<"u"&&rN(p5,p5.prototype);function iN(n,t){t._updateGridOutput=function(o){if(this._renderer&&this._renderer instanceof n.RendererGL){this._didOutputGridWebGLMessage||(this._didOutputGridWebGLMessage=!0,console.error("gridOutput() does not yet work in WebGL mode."));return}if(!this.dummyDOM.querySelector(`#${o}_summary`))return;let a=this._accessibleOutputs[o],l=s(o,this.ingredients.shapes),u=i(l.numShapes,this.ingredients.colors.background,this.width,this.height),h=r(o,this.ingredients.shapes);u!==a.summary.innerHTML&&(a.summary.innerHTML=u),h!==a.map.innerHTML&&(a.map.innerHTML=h),l.details!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=l.details),this._accessibleOutputs[o]=a};function r(o,a){let l=0,u="",h=Array.from(Array(10),()=>Array(10));for(let c in a)for(let f in a[c]){let p;c!=="line"?p=`<a href="#${o}shape${l}">${a[c][f].color} ${c}</a>`:p=`<a href="#${o}shape${l}">${a[c][f].color} ${c} midpoint</a>`,a[c][f].loc.locY<h.length&&a[c][f].loc.locX<h[a[c][f].loc.locY].length&&(h[a[c][f].loc.locY][a[c][f].loc.locX]?h[a[c][f].loc.locY][a[c][f].loc.locX]=h[a[c][f].loc.locY][a[c][f].loc.locX]+"  "+p:h[a[c][f].loc.locY][a[c][f].loc.locX]=p,l++)}for(let c in h){let f="<tr>";for(let p in h[c])f=f+"<td>",h[c][p]!==void 0&&(f=f+h[c][p]),f=f+"</td>";u=u+f+"</tr>"}return u}function i(o,a,l,u){let h=`${a} canvas, ${l} by ${u} pixels, contains ${o[0]}`;return o[0]===1?h=`${h} shape: ${o[1]}`:h=`${h} shapes: ${o[1]}`,h}function s(o,a){let l="",u="",h=0;for(let c in a){let f=0;for(let p in a[c]){let d=`<li id="${o}shape${h}">${a[c][p].color} ${c},`;c==="line"?d=d+` location = ${a[c][p].pos}, length = ${a[c][p].length} pixels`:(d=d+` location = ${a[c][p].pos}`,c!=="point"&&(d=d+`, area = ${a[c][p].area} %`),d=d+"</li>"),l=l+d,f++,h++}f>1?u=`${u} ${f} ${c}s`:u=`${u} ${f} ${c}`}return{numShapes:[h,u],details:l}}}typeof p5<"u"&&iN(p5,p5.prototype);function sN(n,t){t._updateTextOutput=function(o){if(this._renderer&&this._renderer instanceof n.RendererGL){this._didOutputTextWebGLMessage||(this._didOutputTextWebGLMessage=!0,console.error("textOutput() does not yet work in WebGL mode."));return}if(!this.dummyDOM.querySelector(`#${o}_summary`))return;let a=this._accessibleOutputs[o],l=s(o,this.ingredients.shapes),u=r(l.numShapes,this.ingredients.colors.background,this.width,this.height),h=i(o,this.ingredients.shapes);u!==a.summary.innerHTML&&(a.summary.innerHTML=u),l.listShapes!==a.list.innerHTML&&(a.list.innerHTML=l.listShapes),h!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=h),this._accessibleOutputs[o]=a};function r(o,a,l,u){let h=`Your output is a, ${l} by ${u} pixels, ${a} canvas containing the following`;return o===1?h=`${h} shape:`:h=`${h} ${o} shapes:`,h}function i(o,a){let l="",u=0;for(let h in a)for(let c in a[h]){let f=`<tr id="${o}shape${u}"><th>${a[h][c].color} ${h}</th>`;h==="line"?f=f+`<td>location = ${a[h][c].pos}</td><td>length = ${a[h][c].length} pixels</td></tr>`:(f=f+`<td>location = ${a[h][c].pos}</td>`,h!=="point"&&(f=f+`<td> area = ${a[h][c].area}%</td>`),f=f+"</tr>"),l=l+f,u++}return l}function s(o,a){let l="",u=0;for(let h in a)for(let c in a[h]){let f=`<li><a href="#${o}shape${u}">${a[h][c].color} ${h}</a>`;h==="line"?f=f+`, ${a[h][c].pos}, ${a[h][c].length} pixels long.</li>`:(f=f+`, at ${a[h][c].pos}`,h!=="point"&&(f=f+`, covering ${a[h][c].area}% of the canvas`),f=f+".</li>"),l=l+f,u++}return{numShapes:u,listShapes:l}}}typeof p5<"u"&&sN(p5,p5.prototype);function oN(n,t){t.textOutput=function(s){this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),s===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},t.gridOutput=function(s){this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),s===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},t._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},t._createOutput=function(s,o){let a=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode);let l,u,h,c="";o==="Fallback"?(l=a+s,u=a+"accessibleOutput",this.dummyDOM.querySelector(`#${u}`)||(this.dummyDOM.querySelector(`#${a}_Description`)?this.dummyDOM.querySelector(`#${a}_Description`).insertAdjacentHTML("afterend",`<div id="${u}" role="region" aria-label="Canvas Outputs"></div>`):this.dummyDOM.querySelector(`#${a}`).innerHTML=`<div id="${u}" role="region" aria-label="Canvas Outputs"></div>`)):o==="Label"&&(c=o,l=a+s+o,u=a+"accessibleOutput"+o,this.dummyDOM.querySelector(`#${u}`)||(this.dummyDOM.querySelector(`#${a}_Label`)?this.dummyDOM.querySelector(`#${a}_Label`).insertAdjacentHTML("afterend",`<div id="${u}"></div>`):this.dummyDOM.querySelector(`#${a}`).insertAdjacentHTML("afterend",`<div id="${u}"></div>`))),this._accessibleOutputs[l]={},s==="textOutput"?(c=`#${a}gridOutput${c}`,h=`<div id="${l}">Text Output<div id="${l}Summary" aria-label="text output summary"><p id="${l}_summary"></p><ul id="${l}_list"></ul></div><table id="${l}_shapeDetails" summary="text output shape details"></table></div>`,this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector(`#${u}`).innerHTML=h,this._accessibleOutputs[l].list=this.dummyDOM.querySelector(`#${l}_list`)):s==="gridOutput"&&(c=`#${a}textOutput${c}`,h=`<div id="${l}">Grid Output<p id="${l}_summary" aria-label="grid output summary"><table id="${l}_map" summary="grid output content"></table><ul id="${l}_shapeDetails" aria-label="grid output shape details"></ul></div>`,this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("afterend",h):this.dummyDOM.querySelector(`#${u}`).innerHTML=h,this._accessibleOutputs[l].map=this.dummyDOM.querySelector(`#${l}_map`)),this._accessibleOutputs[l].shapeDetails=this.dummyDOM.querySelector(`#${l}_shapeDetails`),this._accessibleOutputs[l].summary=this.dummyDOM.querySelector(`#${l}_summary`)},t._updateAccsOutput=function(){let s=this.canvas.id;(JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes||this.ingredients.colors.background!==this.ingredients.pBackground)&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(s+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(s+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(s+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(s+"gridOutputLabel"))},t._accsBackground=function(s){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==s&&(this.ingredients.colors.backgroundRGBA=s,this.ingredients.colors.background=this._rgbColorName(s))},t._accsCanvasColors=function(s,o){s==="fill"?this.ingredients.colors.fillRGBA!==o&&(this.ingredients.colors.fillRGBA=o,this.ingredients.colors.fill=this._rgbColorName(o)):s==="stroke"&&this.ingredients.colors.strokeRGBA!==o&&(this.ingredients.colors.strokeRGBA=o,this.ingredients.colors.stroke=this._rgbColorName(o))},t._accsOutput=function(s,o){s==="ellipse"&&o[2]===o[3]?s="circle":s==="rectangle"&&o[2]===o[3]&&(s="square");let a={},l=!0,u=r(s,o);if(s==="line"){a.color=this.ingredients.colors.stroke,a.length=Math.round(Math.hypot(o[2]-o[0],o[3]-o[1]));let h=this._getPos(o[0],[1]),c=this._getPos(o[2],[3]);a.loc=i(u,this.width,this.height),h===c?a.pos=`at ${h}`:a.pos=`from ${h} to ${c}`}else s==="point"?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=this._getArea(s,o)),a.pos=this._getPos(...u),a.loc=i(u,this.width,this.height);if(!this.ingredients.shapes[s])this.ingredients.shapes[s]=[a];else{for(let h in this.ingredients.shapes[s])JSON.stringify(this.ingredients.shapes[s][h])===JSON.stringify(a)&&(l=!1);l===!0&&this.ingredients.shapes[s].push(a)}};function r(s,o){let a,l;return s==="rectangle"||s==="ellipse"||s==="arc"||s==="circle"||s==="square"?(a=Math.round(o[0]+o[2]/2),l=Math.round(o[1]+o[3]/2)):s==="triangle"?(a=(o[0]+o[2]+o[4])/3,l=(o[1]+o[3]+o[5])/3):s==="quadrilateral"?(a=(o[0]+o[2]+o[4]+o[6])/4,l=(o[1]+o[3]+o[5]+o[7])/4):s==="line"?(a=(o[0]+o[2])/2,l=(o[1]+o[3])/2):(a=o[0],l=o[1]),[a,l]}t._getPos=function(s,o){const{x:a,y:l}=this.worldToScreen(new n.Vector(s,o)),u=this.width,h=this.height;return a<.4*u?l<.4*h?"top left":l>.6*h?"bottom left":"mid left":a>.6*u?l<.4*h?"top right":l>.6*h?"bottom right":"mid right":l<.4*h?"top middle":l>.6*h?"bottom middle":"middle"};function i(s,o,a){let h=Math.floor(s[0]/o*10),c=Math.floor(s[1]/a*10);return h===10&&(h=h-1),c===10&&(c=c-1),{locX:h,locY:c}}t._getArea=function(s,o){let a=0;if(s==="arc"){const m=((o[5]-o[4])%(Math.PI*2)+Math.PI*2)%(Math.PI*2);if(a=m*o[2]*o[3]/8,o[6]==="open"||o[6]==="chord"){const v=o[0],w=o[1],y=o[0]+o[2]/2*Math.cos(o[4]).toFixed(2),_=o[1]+o[3]/2*Math.sin(o[4]).toFixed(2),x=o[0]+o[2]/2*Math.cos(o[5]).toFixed(2),C=o[1]+o[3]/2*Math.sin(o[5]).toFixed(2),E=Math.abs(v*(_-C)+y*(C-w)+x*(w-_))/2;m>Math.PI?a=a+E:a=a-E}}else s==="ellipse"||s==="circle"?a=3.14*o[2]/2*o[3]/2:s==="line"||s==="point"?a=0:s==="quadrilateral"?a=Math.abs((o[6]+o[0])*(o[7]-o[1])+(o[0]+o[2])*(o[1]-o[3])+(o[2]+o[4])*(o[3]-o[5])+(o[4]+o[6])*(o[5]-o[7]))/2:s==="rectangle"||s==="square"?a=o[2]*o[3]:s==="triangle"&&(a=Math.abs(o[0]*(o[3]-o[5])+o[2]*(o[5]-o[1])+o[4]*(o[1]-o[3]))/2);const l=this.width*this._renderer._pixelDensity,u=this.height*this._renderer._pixelDensity,h=[new DOMPoint(0,0),new DOMPoint(l,0),new DOMPoint(l,u),new DOMPoint(0,u)],f=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),p=h.map(m=>m.matrixTransform(f)),d=Math.abs((p[3].x+p[0].x)*(p[3].y-p[0].y)+(p[0].x+p[1].x)*(p[0].y-p[1].y)+(p[1].x+p[2].x)*(p[1].y-p[2].y)+(p[2].x+p[3].x)*(p[2].y-p[3].y))/2;return Math.round(a*100/d)}}typeof p5<"u"&&oN(p5,p5.prototype);Ot.ColorConversion={_hsbaToHSLA(n){const t=n[0];let r=n[1];const i=n[2],s=(2-r)*i/2;return s!==0&&(s===1?r=0:s<.5?r=r/(2-r):r=r*i/(2-s*2)),[t,r,s,n[3]]},_hsbaToRGBA(n){const t=n[0]*6,r=n[1],i=n[2];let s=[];if(r===0)s=[i,i,i,n[3]];else{const o=Math.floor(t),a=i*(1-r),l=i*(1-r*(t-o)),u=i*(1-r*(1+o-t));let h,c,f;o===1?(h=l,c=i,f=a):o===2?(h=a,c=i,f=u):o===3?(h=a,c=l,f=i):o===4?(h=u,c=a,f=i):o===5?(h=i,c=a,f=l):(h=i,c=u,f=a),s=[h,c,f,n[3]]}return s},_hslaToHSBA(n){const t=n[0];let r=n[1];const i=n[2];let s;return i<.5?s=(1+r)*i:s=i+r-i*r,r=2*(s-i)/s,[t,r,s,n[3]]},_hslaToRGBA(n){const t=n[0]*6,r=n[1],i=n[2];let s=[];if(r===0)s=[i,i,i,n[3]];else{let o;i<.5?o=(1+r)*i:o=i+r-i*r;const a=2*i-o,l=(u,h,c)=>(u<0?u+=6:u>=6&&(u-=6),u<1?h+(c-h)*u:u<3?c:u<4?h+(c-h)*(4-u):h);s=[l(t+2,a,o),l(t,a,o),l(t-2,a,o),n[3]]}return s},_rgbaToHSBA(n){const t=n[0],r=n[1],i=n[2],s=Math.max(t,r,i),o=s-Math.min(t,r,i);let a,l;return o===0?(a=0,l=0):(l=o/s,t===s?a=(r-i)/o:r===s?a=2+(i-t)/o:i===s&&(a=4+(t-r)/o),a<0?a+=6:a>=6&&(a-=6)),[a/6,l,s,n[3]]},_rgbaToHSLA(n){const t=n[0],r=n[1],i=n[2],s=Math.max(t,r,i),o=Math.min(t,r,i),a=s+o,l=s-o;let u,h;return l===0?(u=0,h=0):(a<1?h=l/a:h=l/(2-a),t===s?u=(r-i)/l:r===s?u=2+(i-t)/l:i===s&&(u=4+(t-r)/l),u<0?u+=6:u>=6&&(u-=6)),[u/6,h,a/2,n[3]]}};var C$=Ot.ColorConversion;function aN(n,t){let r;const i=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],s=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];function o(a){let l;if(a[0]!==0){a[0]=Math.round(a[0]*100);let u=a[0].toString().split("");const h=u.length-1;u[h]=parseInt(u[h]),u[h]<2.5?u[h]=0:u[h]>=2.5&&u[h]<7.5&&(u[h]=5),u.length===2?(u[0]=parseInt(u[0]),u[h]>=7.5&&(u[h]=0,u[0]=u[0]+1),a[0]=u[0]*10+u[1]):u[h]>=7.5?a[0]=10:a[0]=u[h]}a[2]=a[2]/255;for(let u=a.length-1;u>=1;u--)a[u]<=.25?a[u]=0:a[u]>.25&&a[u]<.75?a[u]=.5:a[u]=1;if(a[0]===0&&a[1]===0&&a[2]===1){for(let u=2;u>=0;u--)r[u]=Math.round(r[u]*1e4)/1e4;for(let u=0;u<i.length;u++)if(i[u].h===r[0]&&i[u].s===r[1]&&i[u].b===r[2]){l=i[u].name;break}else l="white"}else for(let u=0;u<s.length;u++)if(s[u].h===a[0]&&s[u].s===a[1]&&s[u].b===a[2]){l=s[u].name;break}return l}t._rgbColorName=function(a){let l=C$._rgbaToHSBA(a);return r=l,o([l[0],l[1],l[2]])}}typeof p5<"u"&&aN(p5,p5.prototype);function A$(n){n.registerAddon(rN),n.registerAddon(iN),n.registerAddon(sN),n.registerAddon(oN),n.registerAddon(aN)}function T$(n){n.registerAddon(gb),n.registerAddon(t5),n.registerAddon(Eb)}function Ys(n){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(n)}function I$(n,t){if(Ys(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t);if(Ys(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function lN(n){var t=I$(n,"string");return Ys(t)=="symbol"?t:t+""}function D$(n,t,r){return(t=lN(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function fi(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&i.push.apply(i,Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),i.forEach(function(s){D$(n,s,r[s])})}return n}function go(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function NE(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,lN(i.key),i)}}function vo(n,t,r){return t&&NE(n.prototype,t),r&&NE(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function ql(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Zh(n,t){if(t&&(Ys(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ql(n)}function uc(n){return uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uc(n)}function By(n,t){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},By(n,t)}function rg(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&By(n,t)}var N$={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},k$=(function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};go(this,n),this.init(t,r)}return vo(n,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=r||N$,this.options=i,this.debug=i.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,i,s,o){return o&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(s).concat(this.prefix," ").concat(r[0])),this.logger[i](r))}},{key:"create",value:function(r){return new n(this.logger,fi({},{prefix:"".concat(this.prefix,":").concat(r,":")},this.options))}}]),n})(),Uo=new k$,Pa=(function(){function n(){go(this,n),this.observers={}}return vo(n,[{key:"on",value:function(r,i){var s=this;return r.split(" ").forEach(function(o){s.observers[o]=s.observers[o]||[],s.observers[o].push(i)}),this}},{key:"off",value:function(r,i){if(this.observers[r]){if(!i){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(s){return s!==i})}}},{key:"emit",value:function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(this.observers[r]){var a=[].concat(this.observers[r]);a.forEach(function(u){u.apply(void 0,s)})}if(this.observers["*"]){var l=[].concat(this.observers["*"]);l.forEach(function(u){u.apply(u,[r].concat(s))})}}}]),n})();function zc(){var n,t,r=new Promise(function(i,s){n=i,t=s});return r.resolve=n,r.reject=t,r}function kE(n){return n==null?"":""+n}function F$(n,t,r){n.forEach(function(i){t[i]&&(r[i]=t[i])})}function Lb(n,t,r){function i(l){return l&&l.indexOf("###")>-1?l.replace(/###/g,"."):l}function s(){return!n||typeof n=="string"}for(var o=typeof t!="string"?[].concat(t):t.split(".");o.length>1;){if(s())return{};var a=i(o.shift());!n[a]&&r&&(n[a]=new r),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={}}return s()?{}:{obj:n,k:i(o.shift())}}function FE(n,t,r){var i=Lb(n,t,Object),s=i.obj,o=i.k;s[o]=r}function M$(n,t,r,i){var s=Lb(n,t,Object),o=s.obj,a=s.k;o[a]=o[a]||[],o[a].push(r)}function Wp(n,t){var r=Lb(n,t),i=r.obj,s=r.k;if(i)return i[s]}function ME(n,t,r){var i=Wp(n,r);return i!==void 0?i:Wp(t,r)}function uN(n,t,r){for(var i in t)i!=="__proto__"&&i!=="constructor"&&(i in n?typeof n[i]=="string"||n[i]instanceof String||typeof t[i]=="string"||t[i]instanceof String?r&&(n[i]=t[i]):uN(n[i],t[i],r):n[i]=t[i]);return n}function Eu(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var O$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function P$(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,function(t){return O$[t]}):n}var ig=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,L$=(function(n){rg(t,n);function t(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return go(this,t),i=Zh(this,uc(t).call(this)),ig&&Pa.call(ql(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i}return vo(t,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=[i,s];return o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split(".")),Wp(this.data,u)}},{key:"addResource",value:function(i,s,o,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=this.options.keySeparator;u===void 0&&(u=".");var h=[i,s];o&&(h=h.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(h=i.split("."),a=s,s=h[1]),this.addNamespaces(s),FE(this.data,h,a),l.silent||this.emit("added",i,s,o,a)}},{key:"addResources",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in o)(typeof o[l]=="string"||Object.prototype.toString.apply(o[l])==="[object Array]")&&this.addResource(i,s,l,o[l],{silent:!0});a.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},h=[i,s];i.indexOf(".")>-1&&(h=i.split("."),a=o,o=s,s=h[1]),this.addNamespaces(s);var c=Wp(this.data,h)||{};a?uN(c,o,l):c=fi({},c,o),FE(this.data,h,c),u.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?fi({},{},this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"toJSON",value:function(){return this.data}}]),t})(Pa),cN={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,i,s,o){var a=this;return t.forEach(function(l){a.processors[l]&&(r=a.processors[l].process(r,i,s,o))}),r}},OE={},PE=(function(n){rg(t,n);function t(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return go(this,t),i=Zh(this,uc(t).call(this)),ig&&Pa.call(ql(i)),F$(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,ql(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Uo.create("translator"),i}return vo(t,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS;if(o&&i.indexOf(o)>-1){var u=i.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:i,namespaces:l};var h=i.split(o);(o!==a||o===a&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),i=h.join(a)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,o){var a=this;if(Ys(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],s),h=u.key,c=u.namespaces,f=c[c.length-1],p=s.lng||this.language,d=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(d){var g=s.nsSeparator||this.options.nsSeparator;return f+g+h}return h}var m=this.resolve(i,s),v=m&&m.res,w=m&&m.usedKey||h,y=m&&m.exactUsedKey||h,_=Object.prototype.toString.apply(v),x=["[object Number]","[object Function]","[object RegExp]"],C=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,S=typeof v!="string"&&typeof v!="boolean"&&typeof v!="number";if(E&&v&&S&&x.indexOf(_)<0&&!(typeof C=="string"&&_==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,v,s):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");if(l){var D=_==="[object Array]",A=D?[]:{},N=D?y:w;for(var F in v)if(Object.prototype.hasOwnProperty.call(v,F)){var T="".concat(N).concat(l).concat(F);A[F]=this.translate(T,fi({},s,{joinArrays:!1,ns:c})),A[F]===T&&(A[F]=v[F])}v=A}}else if(E&&typeof C=="string"&&_==="[object Array]")v=v.join(C),v&&(v=this.extendTranslation(v,i,s,o));else{var I=!1,M=!1,L=s.count!==void 0&&typeof s.count!="string",B=t.hasDefaultValue(s),$=L?this.pluralResolver.getSuffix(p,s.count):"",q=s["defaultValue".concat($)]||s.defaultValue;!this.isValidLookup(v)&&B&&(I=!0,v=q),this.isValidLookup(v)||(M=!0,v=h);var Z=B&&q!==v&&this.options.updateMissing;if(M||I||Z){if(this.logger.log(Z?"updateKey":"missingKey",p,f,h,Z?q:v),l){var he=this.resolve(h,fi({},s,{keySeparator:!1}));he&&he.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var V=[],J=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&J&&J[0])for(var ge=0;ge<J.length;ge++)V.push(J[ge]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(s.lng||this.language):V.push(s.lng||this.language);var W=function(de,K,ue){a.options.missingKeyHandler?a.options.missingKeyHandler(de,f,K,Z?ue:v,Z,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(de,f,K,Z?ue:v,Z,s),a.emit("missingKey",de,f,K,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&L?V.forEach(function(z){a.pluralResolver.getSuffixes(z).forEach(function(de){W([z],h+de,s["defaultValue".concat(de)]||q)})}):W(V,h,q))}v=this.extendTranslation(v,i,s,m,o),M&&v===h&&this.options.appendNamespaceToMissingKey&&(v="".concat(f,":").concat(h)),M&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(i,s,o,a,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,o,a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(fi({},o,{interpolation:fi({},this.options.interpolation,o.interpolation)}));var h=o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,c;if(h){var f=i.match(this.interpolator.nestingRegexp);c=f&&f.length}var p=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(p=fi({},this.options.interpolation.defaultVariables,p)),i=this.interpolator.interpolate(i,p,o.lng||this.language,o),h){var d=i.match(this.interpolator.nestingRegexp),g=d&&d.length;c<g&&(o.nest=!1)}o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var w=arguments.length,y=new Array(w),_=0;_<w;_++)y[_]=arguments[_];return l&&l[0]===y[0]&&!o.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(y[0]," in key: ").concat(s[0])),null):u.translate.apply(u,y.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var m=o.postProcess||this.options.postProcess,v=typeof m=="string"?[m]:m;return i!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(i=cN.handle(v,i,s,this.options&&this.options.postProcessPassResolved?fi({i18nResolved:a},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,l,u,h,c;return typeof i=="string"&&(i=[i]),i.forEach(function(f){if(!s.isValidLookup(a)){var p=s.extractFromKey(f,o),d=p.key;l=d;var g=p.namespaces;s.options.fallbackNS&&(g=g.concat(s.options.fallbackNS));var m=o.count!==void 0&&typeof o.count!="string",v=o.context!==void 0&&typeof o.context=="string"&&o.context!=="",w=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);g.forEach(function(y){s.isValidLookup(a)||(c=y,!OE["".concat(w[0],"-").concat(y)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(c)&&(OE["".concat(w[0],"-").concat(y)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(w.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(function(_){if(!s.isValidLookup(a)){h=_;var x=d,C=[x];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(C,d,_,y,o);else{var E;m&&(E=s.pluralResolver.getSuffix(_,o.count)),m&&v&&C.push(x+E),v&&C.push(x+="".concat(s.options.contextSeparator).concat(o.context)),m&&C.push(x+=E)}for(var S;S=C.pop();)s.isValidLookup(a)||(u=S,a=s.getResource(_,y,S,o))}}))})}}),{res:a,usedKey:l,exactUsedKey:u,usedLng:h,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,a):this.resourceStore.getResource(i,s,o,a)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),t})(Pa);function H0(n){return n.charAt(0).toUpperCase()+n.slice(1)}var R$=(function(){function n(t){go(this,n),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Uo.create("languageUtils")}return vo(n,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var i=r.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var i=r.split("-");return this.formatLanguageCode(i[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var i=["hans","hant","latn","cyrl","cans","mong","arab"],s=r.split("-");return this.options.lowerCaseLng?s=s.map(function(o){return o.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=H0(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=H0(s[1].toLowerCase())),i.indexOf(s[2].toLowerCase())>-1&&(s[2]=H0(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isWhitelisted",value:function(r){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(r)}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var i=this;if(!r)return null;var s;return r.forEach(function(o){if(!s){var a=i.formatLanguageCode(o);(!i.options.supportedLngs||i.isSupportedCode(a))&&(s=a)}}),!s&&this.options.supportedLngs&&r.forEach(function(o){if(!s){var a=i.getLanguagePartFromCode(o);if(i.isSupportedCode(a))return s=a;s=i.options.supportedLngs.find(function(l){if(l.indexOf(a)===0)return l})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(r,i){if(!r)return[];if(typeof r=="function"&&(r=r(i)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!i)return r.default||[];var s=r[i];return s||(s=r[this.getScriptPartFromCode(i)]),s||(s=r[this.formatLanguageCode(i)]),s||(s=r[this.getLanguagePartFromCode(i)]),s||(s=r.default),s||[]}},{key:"toResolveHierarchy",value:function(r,i){var s=this,o=this.getFallbackCodes(i||this.options.fallbackLng||[],r),a=[],l=function(h){h&&(s.isSupportedCode(h)?a.push(h):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(h)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(r))):typeof r=="string"&&l(this.formatLanguageCode(r)),o.forEach(function(u){a.indexOf(u)<0&&l(s.formatLanguageCode(u))}),a}}]),n})(),B$=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],U$={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};function V$(){var n={};return B$.forEach(function(t){t.lngs.forEach(function(r){n[r]={numbers:t.nr,plurals:U$[t.fc]}})}),n}var $$=(function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};go(this,n),this.languageUtils=t,this.options=r,this.logger=Uo.create("pluralResolver"),this.rules=V$()}return vo(n,[{key:"addRule",value:function(r,i){this.rules[r]=i}},{key:"getRule",value:function(r){return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var i=this.getRule(r);return i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,i){return this.getSuffixes(r).map(function(s){return i+s})}},{key:"getSuffixes",value:function(r){var i=this,s=this.getRule(r);return s?s.numbers.map(function(o){return i.getSuffix(r,o)}):[]}},{key:"getSuffix",value:function(r,i){var s=this,o=this.getRule(r);if(o){var a=o.noAbs?o.plurals(i):o.plurals(Math.abs(i)),l=o.numbers[a];this.options.simplifyPluralSuffix&&o.numbers.length===2&&o.numbers[0]===1&&(l===2?l="plural":l===1&&(l=""));var u=function(){return s.options.prepend&&l.toString()?s.options.prepend+l.toString():l.toString()};return this.options.compatibilityJSON==="v1"?l===1?"":typeof l=="number"?"_plural_".concat(l.toString()):u():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&o.numbers.length===2&&o.numbers[0]===1?u():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}return this.logger.warn("no plural rule found for: ".concat(r)),""}}]),n})(),j$=(function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};go(this,n),this.logger=Uo.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return vo(n,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var i=r.interpolation;this.escape=i.escape!==void 0?i.escape:P$,this.escapeValue=i.escapeValue!==void 0?i.escapeValue:!0,this.useRawValueToEscape=i.useRawValueToEscape!==void 0?i.useRawValueToEscape:!1,this.prefix=i.prefix?Eu(i.prefix):i.prefixEscaped||"{{",this.suffix=i.suffix?Eu(i.suffix):i.suffixEscaped||"}}",this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||",",this.unescapePrefix=i.unescapeSuffix?"":i.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":i.unescapeSuffix||"",this.nestingPrefix=i.nestingPrefix?Eu(i.nestingPrefix):i.nestingPrefixEscaped||Eu("$t("),this.nestingSuffix=i.nestingSuffix?Eu(i.nestingSuffix):i.nestingSuffixEscaped||Eu(")"),this.nestingOptionsSeparator=i.nestingOptionsSeparator?i.nestingOptionsSeparator:i.nestingOptionsSeparator||",",this.maxReplaces=i.maxReplaces?i.maxReplaces:1e3,this.alwaysFormat=i.alwaysFormat!==void 0?i.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var i="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(i,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(r,i,s,o){var a=this,l,u,h,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(v){return v.replace(/\$/g,"$$$$")}var p=function(w){if(w.indexOf(a.formatSeparator)<0){var y=ME(i,c,w);return a.alwaysFormat?a.format(y,void 0,s):y}var _=w.split(a.formatSeparator),x=_.shift().trim(),C=_.join(a.formatSeparator).trim();return a.format(ME(i,c,x),C,s,o)};this.resetRegExp();var d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,g=o&&o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(w){return f(w)}},{regex:this.regexp,safeValue:function(w){return a.escapeValue?f(a.escape(w)):f(w)}}];return m.forEach(function(v){for(h=0;l=v.regex.exec(r);){if(u=p(l[1].trim()),u===void 0)if(typeof d=="function"){var w=d(r,l,o);u=typeof w=="string"?w:""}else if(g){u=l[0];continue}else a.logger.warn("missed to pass in variable ".concat(l[1]," for interpolating ").concat(r)),u="";else typeof u!="string"&&!a.useRawValueToEscape&&(u=kE(u));if(r=r.replace(l[0],v.safeValue(u)),v.regex.lastIndex=0,h++,h>=a.maxReplaces)break}}),r}},{key:"nest",value:function(r,i){var s=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,l,u=fi({},o);u.applyPostProcessor=!1,delete u.defaultValue;function h(d,g){var m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;var v=d.split(new RegExp("".concat(m,"[ ]*{"))),w="{".concat(v[1]);d=v[0],w=this.interpolate(w,u),w=w.replace(/'/g,'"');try{u=JSON.parse(w),g&&(u=fi({},g,u))}catch(y){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),y),"".concat(d).concat(m).concat(w)}return delete u.defaultValue,d}for(;a=this.nestingRegexp.exec(r);){var c=[],f=!1;if(a[0].includes(this.formatSeparator)&&!/{.*}/.test(a[1])){var p=a[1].split(this.formatSeparator).map(function(d){return d.trim()});a[1]=p.shift(),c=p,f=!0}if(l=i(h.call(this,a[1].trim(),u),u),l&&a[0]===r&&typeof l!="string")return l;typeof l!="string"&&(l=kE(l)),l||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(r)),l=""),f&&(l=c.reduce(function(d,g){return s.format(d,g,o.lng,o)},l.trim())),r=r.replace(a[0],l),this.regexp.lastIndex=0}return r}}]),n})();function z$(n,t){for(var r=n.indexOf(t);r!==-1;)n.splice(r,1),r=n.indexOf(t)}var G$=(function(n){rg(t,n);function t(r,i,s){var o,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return go(this,t),o=Zh(this,uc(t).call(this)),ig&&Pa.call(ql(o)),o.backend=r,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=a,o.logger=Uo.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,a.backend,a),o}return vo(t,[{key:"queueLoad",value:function(i,s,o,a){var l=this,u=[],h=[],c=[],f=[];return i.forEach(function(p){var d=!0;s.forEach(function(g){var m="".concat(p,"|").concat(g);!o.reload&&l.store.hasResourceBundle(p,g)?l.state[m]=2:l.state[m]<0||(l.state[m]===1?h.indexOf(m)<0&&h.push(m):(l.state[m]=1,d=!1,h.indexOf(m)<0&&h.push(m),u.indexOf(m)<0&&u.push(m),f.indexOf(g)<0&&f.push(g)))}),d||c.push(p)}),(u.length||h.length)&&this.queue.push({pending:h,loaded:{},errors:[],callback:a}),{toLoad:u,pending:h,toLoadLanguages:c,toLoadNamespaces:f}}},{key:"loaded",value:function(i,s,o){var a=i.split("|"),l=a[0],u=a[1];s&&this.emit("failedLoading",l,u,s),o&&this.store.addResourceBundle(l,u,o),this.state[i]=s?-1:2;var h={};this.queue.forEach(function(c){M$(c.loaded,[l],u),z$(c.pending,i),s&&c.errors.push(s),c.pending.length===0&&!c.done&&(Object.keys(c.loaded).forEach(function(f){h[f]||(h[f]=[]),c.loaded[f].length&&c.loaded[f].forEach(function(p){h[f].indexOf(p)<0&&h[f].push(p)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,s,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,h=arguments.length>5?arguments[5]:void 0;return i.length?this.backend[o](i,s,function(c,f){if(c&&f&&l<5){setTimeout(function(){a.read.call(a,i,s,o,l+1,u*2,h)},u);return}h(c,f)}):h(null,{})}},{key:"prepareLoading",value:function(i,s){var o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,a,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(h){o.loadOne(h)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=i.split("|"),l=a[0],u=a[1];this.read(l,u,"read",void 0,void 0,function(h,c){h&&s.logger.warn("".concat(o,"loading namespace ").concat(u," for language ").concat(l," failed"),h),!h&&c&&s.logger.log("".concat(o,"loaded namespace ").concat(u," for language ").concat(l),c),s.loaded(i,h,c)})}},{key:"saveMissing",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}o==null||o===""||(this.backend&&this.backend.create&&this.backend.create(i,s,o,a,null,fi({},u,{isUpdate:l})),!(!i||!i[0])&&this.store.addResource(i[0],s,o,a))}}]),t})(Pa);function H$(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(Ys(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),Ys(t[2])==="object"||Ys(t[3])==="object"){var i=t[3]||t[2];Object.keys(i).forEach(function(s){r[s]=i[s]})}return r},interpolation:{escapeValue:!0,format:function(t,r,i,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function LE(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.whitelist&&(n.whitelist&&n.whitelist.indexOf("cimode")<0&&(n.whitelist=n.whitelist.concat(["cimode"])),n.supportedLngs=n.whitelist),n.nonExplicitWhitelist&&(n.nonExplicitSupportedLngs=n.nonExplicitWhitelist),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function gd(){}var W$=(function(n){rg(t,n);function t(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(go(this,t),r=Zh(this,uc(t).call(this)),ig&&Pa.call(ql(r)),r.options=LE(i),r.services={},r.logger=Uo,r.modules={external:[]},s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),Zh(r,ql(r));setTimeout(function(){r.init(i,s)},0)}return r}return vo(t,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),s.whitelist&&!s.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),s.nonExplicitWhitelist&&!s.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=fi({},H$(),this.options,LE(s)),this.format=this.options.interpolation.format,o||(o=gd);function a(g){return g?typeof g=="function"?new g:g:null}if(!this.options.isClone){this.modules.logger?Uo.init(a(this.modules.logger),this.options):Uo.init(null,this.options);var l=new R$(this.options);this.store=new L$(this.options.resources,this.options);var u=this.services;u.logger=Uo,u.resourceStore=this.store,u.languageUtils=l,u.pluralResolver=new $$(l,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u.interpolator=new j$(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new G$(a(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(g){for(var m=arguments.length,v=new Array(m>1?m-1:0),w=1;w<m;w++)v[w-1]=arguments[w];i.emit.apply(i,[g].concat(v))}),this.modules.languageDetector&&(u.languageDetector=a(this.modules.languageDetector),u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=a(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new PE(this.services,this.options),this.translator.on("*",function(g){for(var m=arguments.length,v=new Array(m>1?m-1:0),w=1;w<m;w++)v[w-1]=arguments[w];i.emit.apply(i,[g].concat(v))}),this.modules.external.forEach(function(g){g.init&&g.init(i)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach(function(g){i[g]=function(){var m;return(m=i.store)[g].apply(m,arguments)}});var f=["addResource","addResources","addResourceBundle","removeResourceBundle"];f.forEach(function(g){i[g]=function(){var m;return(m=i.store)[g].apply(m,arguments),i}});var p=zc(),d=function(){var m=function(w,y){i.isInitialized&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),p.resolve(y),o(w,y)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return m(null,i.t.bind(i));i.changeLanguage(i.options.lng,m)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),p}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gd,a=o,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return a();var u=[],h=function(p){if(p){var d=s.services.languageUtils.toResolveHierarchy(p);d.forEach(function(g){u.indexOf(g)<0&&u.push(g)})}};if(l)h(l);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(f){return h(f)})}this.options.preload&&this.options.preload.forEach(function(f){return h(f)}),this.services.backendConnector.load(u,this.options.ns,a)}else a(null)}},{key:"reloadResources",value:function(i,s,o){var a=zc();return i||(i=this.languages),s||(s=this.options.ns),o||(o=gd),this.services.backendConnector.reload(i,s,function(l){a.resolve(),o(l)}),a}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&cN.addPostProcessor(i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var a=zc();this.emit("languageChanging",i);var l=function(c,f){f?(o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f),o.translator.changeLanguage(f),o.isLanguageChangingTo=void 0,o.emit("languageChanged",f),o.logger.log("languageChanged",f)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),s&&s(c,function(){return o.t.apply(o,arguments)})},u=function(c){var f=typeof c=="string"?c:o.services.languageUtils.getBestMatchFromCodes(c);f&&(o.language||(o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f)),o.translator.language||o.translator.changeLanguage(f),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage(f)),o.loadResources(f,function(p){l(p,f)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(u):u(i),a}},{key:"getFixedT",value:function(i,s){var o=this,a=function l(u,h){var c;if(Ys(h)!=="object"){for(var f=arguments.length,p=new Array(f>2?f-2:0),d=2;d<f;d++)p[d-2]=arguments[d];c=o.options.overloadTranslationOptionHandler([u,h].concat(p))}else c=fi({},h);return c.lng=c.lng||l.lng,c.lngs=c.lngs||l.lngs,c.ns=c.ns||l.ns,o.t(u,c)};return typeof i=="string"?a.lng=i:a.lngs=i,a.ns=s,a}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var h=function(p,d){var g=s.services.backendConnector.state["".concat(p,"|").concat(d)];return g===-1||g===2};if(o.precheck){var c=o.precheck(this,h);if(c!==void 0)return c}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||h(a,i)&&(!l||h(u,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,a=zc();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){o.options.ns.indexOf(l)<0&&o.options.ns.push(l)}),this.loadResources(function(l){a.resolve(),s&&s(l)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=zc();typeof i=="string"&&(i=[i]);var a=this.options.preload||[],l=i.filter(function(u){return a.indexOf(u)<0});return l.length?(this.options.preload=a.concat(l),this.loadResources(function(u){o.resolve(),s&&s(u)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.languages&&this.languages.length>0?this.languages[0]:this.language),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return s.indexOf(this.services.languageUtils.getLanguagePartFromCode(i))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new t(i,s)}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gd,a=fi({},this.options,s,{isClone:!0}),l=new t(a),u=["store","services","language"];return u.forEach(function(h){l[h]=i[h]}),l.services=fi({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new PE(l.services,l.options),l.translator.on("*",function(h){for(var c=arguments.length,f=new Array(c>1?c-1:0),p=1;p<c;p++)f[p-1]=arguments[p];l.emit.apply(l,[h].concat(f))}),l.init(a,o),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}}]),t})(Pa),hN=new W$,fN=[],q$=fN.forEach,X$=fN.slice;function Y$(n){return q$.call(X$.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n}var RE={create:function(t,r,i,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/"},a;if(i){var l=new Date;l.setTime(l.getTime()+i*60*1e3),a="; expires="+l.toUTCString()}else a="";s=s?"domain="+s+";":"",o=Object.keys(o).reduce(function(u,h){return u+";"+h.replace(/([A-Z])/g,function(c){return"-"+c.toLowerCase()})+"="+o[h]},""),document.cookie=t+"="+encodeURIComponent(r)+a+";"+s+o},read:function(t){for(var r=t+"=",i=document.cookie.split(";"),s=0;s<i.length;s++){for(var o=i[s];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(r)===0)return o.substring(r.length,o.length)}return null},remove:function(t){this.create(t,"",-1)}},K$={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var i=RE.read(t.lookupCookie);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&RE.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},Z$={name:"querystring",lookup:function(t){var r;if(typeof window<"u")for(var i=window.location.search.substring(1),s=i.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("=");if(a>0){var l=s[o].substring(0,a);l===t.lookupQuerystring&&(r=s[o].substring(a+1))}}return r}},qp;try{qp=window!=="undefined"&&window.localStorage!==null;var BE="i18next.translate.boo";window.localStorage.setItem(BE,"foo"),window.localStorage.removeItem(BE)}catch{qp=!1}var J$={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&qp){var i=window.localStorage.getItem(t.lookupLocalStorage);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&qp&&window.localStorage.setItem(r.lookupLocalStorage,t)}},Xp;try{Xp=window!=="undefined"&&window.sessionStorage!==null;var UE="i18next.translate.boo";window.sessionStorage.setItem(UE,"foo"),window.sessionStorage.removeItem(UE)}catch{Xp=!1}var Q$={name:"sessionStorage",lookup:function(t){var r;if(t.lookupsessionStorage&&Xp){var i=window.sessionStorage.getItem(t.lookupsessionStorage);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupsessionStorage&&Xp&&window.sessionStorage.setItem(r.lookupsessionStorage,t)}},ej={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)r.push(navigator.languages[i]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},tj={name:"htmlTag",lookup:function(t){var r,i=t.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(r=i.getAttribute("lang")),r}},nj={name:"path",lookup:function(t){var r;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof i[t.lookupFromPathIndex]!="string")return;r=i[t.lookupFromPathIndex].replace("/","")}else r=i[0].replace("/","")}return r}},rj={name:"subdomain",lookup:function(t){var r;if(typeof window<"u"){var i=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);i instanceof Array&&(typeof t.lookupFromSubdomainIndex=="number"?r=i[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):r=i[0].replace("http://","").replace("https://","").replace(".",""))}return r}};function ij(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0,checkForSimilarInWhitelist:!1}}var dN=(function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};go(this,n),this.type="languageDetector",this.detectors={},this.init(t,r)}return vo(n,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=Y$(i,this.options||{},ij()),this.options.checkForSimilarInWhitelist&&(this.options.checkWhitelist=!0),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(K$),this.addDetector(Z$),this.addDetector(J$),this.addDetector(Q$),this.addDetector(ej),this.addDetector(tj),this.addDetector(nj),this.addDetector(rj)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var i=this;r||(r=this.options.order);var s=[];r.forEach(function(l){if(i.detectors[l]){var u=i.detectors[l].lookup(i.options);u&&typeof u=="string"&&(u=[u]),u&&(s=s.concat(u))}});var o;if(s.forEach(function(l){if(!o){var u=i.services.languageUtils.formatLanguageCode(l);(!i.options.checkWhitelist||i.services.languageUtils.isWhitelisted(u))&&(o=u),!o&&i.options.checkForSimilarInWhitelist&&(o=i.getSimilarInWhitelist(u))}}),!o){var a=this.i18nOptions.fallbackLng;typeof a=="string"&&(a=[a]),a||(a=[]),Object.prototype.toString.apply(a)==="[object Array]"?o=a[0]:o=a[0]||a.default&&a.default[0]}return o}},{key:"cacheUserLanguage",value:function(r,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||i.forEach(function(o){s.detectors[o]&&s.detectors[o].cacheUserLanguage(r,s.options)}))}},{key:"getSimilarInWhitelist",value:function(r){var i=this;if(this.i18nOptions.whitelist){if(r.includes("-")){var s=r.split("-")[0],o=this.services.languageUtils.formatLanguageCode(s);if(this.services.languageUtils.isWhitelisted(o))return o;r=o}var a=this.i18nOptions.whitelist.find(function(l){var u=i.services.languageUtils.formatLanguageCode(l);if(u.startsWith(r))return u});if(a)return a}}}]),n})();dN.type="languageDetector";var sj={autoplay:`The media that tried to play (with '{{src}}') wasn't allowed to by this browser, most likely due to the browser's autoplay policy.

+ More info: {{url}}`,checkUserDefinedFns:"It seems that you may have accidentally written {{name}} instead of {{actualName}}. Please correct it if it's not intentional.",fileLoadError:{bytes:"It looks like there was a problem loading your file. {{suggestion}}",font:"It looks like there was a problem loading your font. {{suggestion}}",gif:"There was some trouble loading your GIF. Make sure that your GIF is using 87a or 89a encoding.",image:"It looks like there was a problem loading your image. {{suggestion}}",json:"It looks like there was a problem loading your JSON file. {{suggestion}}",large:"If your large file isn't fetched successfully, we recommend splitting the file into smaller segments and fetching those.",strings:"It looks like there was a problem loading your text file. {{suggestion}}",suggestion:`Try checking if the file path ({{filePath}}) is correct, hosting the file online, or running a local server.

+ More info: {{url}}`,table:"It looks like there was a problem loading your table file. {{suggestion}}",xml:"It looks like there was a problem loading your XML file. {{suggestion}}"},friendlyParamError:{type_EMPTY_VAR:`{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received an empty variable instead. If not intentional, this is often a problem with scope.

+ More info: {{url}}`,type_TOO_FEW_ARGUMENTS:"{{location}} {{func}}() was expecting at least {{minParams}} arguments, but received only {{argCount}}.",type_TOO_MANY_ARGUMENTS:"{{location}} {{func}}() was expecting no more than {{maxParams}} arguments, but received {{argCount}}.",type_WRONG_TYPE:"{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received {{argType}} instead."},globalErrors:{reference:{cannotAccess:`
{{location}} "{{symbol}}" is used before declaration. Make sure you have declared the variable before using it.

+ More info: {{url}}`,notDefined:`
{{location}} "{{symbol}}" is not defined in the current scope. If you have defined it in your code, you should check its scope, spelling, and letter-casing (JavaScript is case-sensitive).

+ More info: {{url}}`},stackSubseq:`[{{location}}] 
	 Called from line {{line}} in {{func}}()
`,stackTop:`[{{location}}] 
	 Error at line {{line}} in {{func}}()
`,syntax:{badReturnOrYield:`
Syntax Error - return lies outside of a function. Make sure youre not missing any brackets, so that return lies inside a function.

+ More info: {{url}}`,invalidToken:`
Syntax Error - Found a symbol that JavaScript doesn't recognize or didn't expect at it's place.

+ More info: {{url}}`,missingInitializer:`
Syntax Error - A const variable is declared but not initialized. In JavaScript, an initializer for a const is required. A value must be specified in the same statement in which the variable is declared. Check the line number in the error and assign the const variable a value.

+ More info: {{url}}`,redeclaredVariable:`
Syntax Error - "{{symbol}}" is being redeclared. JavaScript doesn't allow declaring a variable more than once. Check the line number in error for redeclaration of the variable.

+ More info: {{url}}`,unexpectedToken:`
Syntax Error - Symbol present at a place that wasn't expected.
Usually this is due to a typo. Check the line number in the error for anything missing/extra.

+ More info: {{url}}`},type:{constAssign:`
{{location}} A const variable is being re-assigned. In javascript, re-assigning a value to a constant is not allowed. If you want to re-assign new values to a variable, make sure it is declared as var or let.

+ More info: {{url}}`,notfunc:`
{{location}} "{{symbol}}" could not be called as a function.
Check the spelling, letter-casing (JavaScript is case-sensitive) and its type.

+ More info: {{url}}`,notfuncObj:`
{{location}} "{{symbol}}" could not be called as a function.
Verify whether "{{obj}}" has "{{symbol}}" in it and check the spelling, letter-casing (JavaScript is case-sensitive) and its type.

+ More info: {{url}}`,readFromNull:`
{{location}} The property of null can't be read. In javascript the value null indicates that an object has no value.

+ More info: {{url}}`,readFromUndefined:`
{{location}} Cannot read property of undefined. Check the line number in error and make sure the variable which is being operated is not undefined.

 + More info: {{url}}`}},libraryError:'{{location}} An error with message "{{error}}" occurred inside the p5js library when {{func}} was called. If not stated otherwise, it might be an issue with the arguments passed to {{func}}.',location:"[{{file}}, line {{line}}]",misspelling:'{{location}} It seems that you may have accidentally written "{{name}}" instead of "{{actualName}}". Please correct it to {{actualName}} if you wish to use the {{type}} from p5.js.',misspelling_plural:`{{location}} It seems that you may have accidentally written "{{name}}".
You may have meant one of the following: 
{{suggestions}}`,misusedTopLevel:`Did you just try to use p5.js's {{symbolName}} {{symbolType}}? If so, you may want to move it into your sketch's setup() function.

+ More info: {{url}}`,preloadDisabled:"The preload() function has been removed in p5.js 2.0. Please load assets in setup() using async / await keywords or callbacks instead. See https://github.com/processing/p5.js-compatibility for more information about 2.0 and compatibility, or https://dev.to/limzykenneth/asynchronous-p5js-20-458f for more information about promises and async/await.",positions:{p_1:"first",p_10:"tenth",p_11:"eleventh",p_12:"twelfth",p_2:"second",p_3:"third",p_4:"fourth",p_5:"fifth",p_6:"sixth",p_7:"seventh",p_8:"eighth",p_9:"ninth"},pre:`
 p5.js says: {{message}}`,sketchReaderErrors:{reservedConst:`you have used a p5.js reserved variable "{{symbol}}" make sure you change the variable name to something else.

+ More info: {{url}}`,reservedFunc:`you have used a p5.js reserved function "{{symbol}}" make sure you change the function name to something else.

+ More info: {{url}}`},welcome:"Welcome! This is your friendly debugger. To turn me off, switch to using p5.min.js.",wrongPreload:'{{location}} An error with message "{{error}}" occurred inside the p5js library when "{{func}}" was called. If not stated otherwise, it might be due to "{{func}}" being called from preload. Nothing besides load calls (loadImage, loadJSON, loadFont, loadStrings, etc.) should be inside the preload function.'},oj={fes:sj},vh={en:{translation:oj}};const aj=["en","es","ko","zh","hi","ja"];if(typeof IS_MINIFIED>"u"&&typeof P5_DEV_BUILD<"u"){let n=require("../../translations/dev");for(const t of Object.keys(n)){const r=t.split("_"),i=r.slice(0,r.length-1).join("-"),s=r[r.length-1];vh[i]=vh[i]||{},vh[i][s]=n[t]}}class pN{constructor(t,r){this.init(t,r)}fetchWithTimeout(t,r,i=2e3){return Promise.race([fetch(t,r),new Promise((s,o)=>setTimeout(()=>o(new Error("timeout")),i))])}init(t,r={}){this.services=t,this.options=r}read(t,r,i){const s=this.options.loadPath;if(t===this.options.fallback)i(null,vh[t][r]);else if(aj.includes(t)){const o=this.services.interpolator.interpolate(s,{lng:t,ns:r});this.loadUrl(o,i)}else i("Not found",!1)}loadUrl(t,r){this.fetchWithTimeout(t).then(i=>{if(!i.ok)throw new Error(`failed loading ${t}`);return i.json()},()=>{throw new Error(`failed loading ${t}`)}).then(i=>r(null,i)).catch(r)}}pN.type="backend";let Gt=(n,t)=>{console.debug("p5.js translator called before translations were loaded"),hN.t(n,t)};const lj=()=>hN.use(dN).use(pN).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:`https://cdn.jsdelivr.net/npm/p5@${J1.replace(/^(\d+\.\d+)\.\d+.*$/,"$1")}/translations/{{lng}}/{{ns}}.json`},partialBundledLanguages:!0,resources:vh}).then(t=>{Gt=t},t=>console.debug(`Translations failed to load (${t})`)),uj={ReferenceError:[{msg:"{{}} is not defined",type:"NOTDEFINED",browser:"all"},{msg:"Can't find variable: {{}}",type:"NOTDEFINED",browser:"Safari"},{msg:"Cannot access '{{.}}' before initialization",type:"CANNOTACCESS",browser:"Chrome"},{msg:"can't access lexical declaration '{{.}}' before initialization",type:"CANNOTACCESS",browser:"Firefox"}],SyntaxError:[{msg:"illegal character",type:"INVALIDTOKEN",browser:"Firefox"},{msg:"Invalid character",type:"INVALIDTOKEN",browser:"Safari"},{msg:"Invalid or unexpected token",type:"INVALIDTOKEN",browser:"Chrome"},{msg:"Unexpected token '{{.}}'",type:"UNEXPECTEDTOKEN",browser:"Chrome"},{msg:"expected {{.}}, got '{{.}}'",type:"UNEXPECTEDTOKEN",browser:"Chrome"},{msg:"Identifier '{{.}}' has already been declared",type:"REDECLAREDVARIABLE",browser:"Chrome"},{msg:"redeclaration of {} {{.}}",type:"REDECLAREDVARIABLE",browser:"Firefox"},{msg:"Missing initializer in const declaration",type:"MISSINGINITIALIZER",browser:"Chrome"},{msg:"missing = in const declaration",type:"MISSINGINITIALIZER",browser:"Firefox"},{msg:"Illegal return statement",type:"BADRETURNORYIELD",browser:"Chrome"},{msg:"return not in function",type:"BADRETURNORYIELD",browser:"Firefox"}],TypeError:[{msg:"{{.}} is not a function",type:"NOTFUNC",browser:"all"},{msg:"Cannot read {{.}} null",type:"READNULL",browser:"Chrome"},{msg:"{{.}} is null",type:"READNULL",browser:"Firefox"},{msg:"Cannot read {{.}} undefined",type:"READUDEFINED",browser:"Chrome"},{msg:"{{.}} is undefined",type:"READUDEFINED",browser:"Firefox"},{msg:"Assignment to constant variable",type:"CONSTASSIGN",browser:"Chrome"},{msg:"invalid assignment to const '{{.}}'",type:"CONSTASSIGN",browser:"Firefox"}]};function mN(n,t){const r=["#2D7BB6","#EE9900","#4DB200","#C83C00"];let i=null,s=null;const o=2;class a extends Error{}if(typeof IS_MINIFIED<"u")n._friendlyError=n._checkForUserDefinedFunctions=n._fesErrorMonitor=()=>{};else{const h={},c=h.toString,f=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"];for(let C=0;C<f.length;C++)h[`[object ${f[C]}]`]=f[C].toLowerCase();const p=C=>C==null?`${C}`:typeof C=="object"||typeof C=="function"?h[c.call(C)]||"object":typeof C,d=["setup","draw","deviceMoved","deviceTurned","deviceShaken","doubleClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","mouseClicked","mouseWheel","touchStarted","touchMoved","touchEnded","keyPressed","keyReleased","keyTyped","windowResized"],g=(C,E)=>{let S="";if(E==null||E.substring(0,4)==="load")S=C;else{const D=E.split("."),A=D.length>1?`${D[0]}.${D[1]}`:"p5",N=D.length===1?E:D.slice(2).join("/");N.startsWith("p5.")?S=`${C} (https://p5js.org/reference/${A}.${N})`:S=`${C} (https://p5js.org/reference/${A}/${N})`}return S};n._report=(C,E,S)=>{const D=n._fesLogger==null?console.log.bind(console):n._fesLogger;p(S)==="undefined"?S="#B40033":p(S)==="number"&&(S=r[S]),C=g(C,E);const A=Gt("fes.pre",{message:C});D(A)},n._error=(C,E,S)=>{throw n._report(E,S),C.hitCriticalError=!0,new a("Stopping sketch to prevent more errors")},n._friendlyError=function(C,E,S){n.disableFriendlyErrors||n._report(C,E,S)},n._friendlyAutoplayError=function(C){const E=Gt("fes.autoplay",{src:C,url:"https://developer.mozilla.org/docs/Web/Media/Autoplay_guide"});console.log(Gt("fes.pre",{message:E}))};const m=(C,E)=>{const S=C.length,D=E.length;if(S===0)return E;if(D===0)return C;let A=[],N=[];for(let F=0;F<D+1;F++)N[F]=F;A=N;for(let F=1;F<S+1;F++){N=[];for(let T=0;T<D+1;T++)if(T===0)N[T]=F;else{let I=C[F-1],M=E[T-1],L=999999,B=I.toLowerCase()===M.toLowerCase()?0:1;L=L>B+A[T-1]?B+A[T-1]:L,L=L>1+N[T-1]?1+N[T-1]:L,L=L>1+A[T]?1+A[T]:L,N[T]=L}A=N}return N[D]};n.isPreloadSupported=function(){return!1};const v=C=>{if(n.disableFriendlyErrors)return;C=C instanceof n?C:window;const S=d;C.preload&&!n.isPreloadSupported()&&n._error(C,Gt("fes.preloadDisabled"));const D={};S.forEach(A=>{D[A.toLowerCase()]=A});for(const A of Object.keys(C)){const N=A.toLowerCase();if(D.hasOwnProperty(N)&&!C[D[N]]&&typeof C[A]=="function"){const F=Gt("fes.checkUserDefinedFns",{name:A,actualName:D[N]});n._friendlyError(F,D[N])}}},w=(C,E)=>{i||s();const S={};let D=999999;if(i.forEach(N=>{let F=m(C,N.name);S[F]?S[F].push(N):S[F]=[N],F<D&&(D=F)}),D>Math.min(o,C.length))return!1;const A=S[D].filter(N=>N.name!==C);if(A.length!==0){const N=n._getErrorStackParser().parse(E);let F;N&&N[0]&&N[0].fileName&&N[0].lineNumber&&N[0].columnNumber&&(F={location:`${N[0].fileName}:${N[0].lineNumber}:${N[0].columnNumber}`,file:N[0].fileName.split("/").slice(-1),line:N[0].lineNumber});let T;if(A.length===1)T=Gt("fes.misspelling",{name:C,actualName:A[0].name,type:A[0].type,location:F?Gt("fes.location",F):"",count:A.length});else{const I=A.map(M=>{const L=" "+M.name+(M.type==="function"?"()":"");return g(L,M.name)}).join(`
`);T=Gt("fes.misspelling",{name:C,suggestions:I,location:F?Gt("fes.location",F):"",count:A.length})}return n._friendlyError(T,A.length===1?A[0].name:void 0),!0}return!1},y=C=>{const E=n._fesLogger&&typeof n._fesLogger=="function"?n._fesLogger:console.log.bind(console);if(C.length>1){let S="";C.forEach((D,A)=>{const N=`${D.fileName}:${D.lineNumber}:${D.columnNumber}`;let F,T={func:D.functionName,line:D.lineNumber,location:N,file:D.fileName.split("/").slice(-1)};A===0?F=Gt("fes.globalErrors.stackTop",T):F=Gt("fes.globalErrors.stackSubseq",T),S+=F}),E(S)}},_=(C,E)=>{if(!E)return[!1,null];E.forEach(F=>{F.functionName=F.functionName||""});let S=!1,D,A,N;try{throw new Error}catch(F){D=n._getErrorStackParser().parse(F)[0].fileName}for(let F=E.length-1;F>=0;F--){let T=E[F].functionName.split(".");if(d.includes(T[T.length-1])){if(A=E.slice(0,F+1),N=T[T.length-1],E[0].fileName===D){S=!0;break}break}}if(A||(A=E),S){if(A=A.map((I,M)=>(I.frameIndex=M,I)).filter(I=>I.fileName!==D),A.length===0)return[!0,null];const F=E[A[0].frameIndex-1].functionName.split(".").slice(-1)[0];let T;if(A[0].fileName&&A[0].lineNumber&&A[0].columnNumber&&(T={location:`${A[0].fileName}:${A[0].lineNumber}:${A[0].columnNumber}`,file:A[0].fileName.split("/").slice(-1),line:A[0].lineNumber},n._fesLogCache[T.location]))return[!0,null];N==="preload"&&t._preloadMethods[F]==null?n._friendlyError(Gt("fes.wrongPreload",{func:F,location:T?Gt("fes.location",T):"",error:C.message}),"preload"):n._friendlyError(Gt("fes.libraryError",{func:F,location:T?Gt("fes.location",T):"",error:C.message}),F),A&&A.length&&y(A)}return[S,A]},x=C=>{if(n.disableFriendlyErrors||C&&(C instanceof a||C.reason instanceof a))return;let E;if(C instanceof Error)E=C;else if(C instanceof ErrorEvent)E=C.error;else if(C instanceof PromiseRejectionEvent&&(E=C.reason,!(E instanceof Error)))return;if(!E)return;let S=n._getErrorStackParser().parse(E),[D,A]=_(E,S);if(D)return;const N=uj[E.name];if(!N)return;let F;for(const I of N){let M=I.msg;M=M.replace(new RegExp("{{}}","g"),"([a-zA-Z0-9_]+)"),M=M.replace(new RegExp("{{.}}","g"),"(.+)"),M=M.replace(new RegExp("{}","g"),"(?:[a-zA-Z0-9_]+)");let L=E.message.match(M);if(L){F=Object.assign({},I),F.match=L;break}}if(!F)return;let T;switch(S&&S[0].fileName&&S[0].lineNumber&&S[0].columnNumber&&(T={location:`${S[0].fileName}:${S[0].lineNumber}:${S[0].columnNumber}`,file:S[0].fileName.split("/").slice(-1),line:A[0].lineNumber}),E.name){case"SyntaxError":{switch(F.type){case"INVALIDTOKEN":{n._friendlyError(Gt("fes.globalErrors.syntax.invalidToken",{url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Illegal_character#What_went_wrong"}));break}case"UNEXPECTEDTOKEN":{n._friendlyError(Gt("fes.globalErrors.syntax.unexpectedToken",{url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Unexpected_token#What_went_wrong"}));break}case"REDECLAREDVARIABLE":{let I=F.match[1];n._friendlyError(Gt("fes.globalErrors.syntax.redeclaredVariable",{symbol:I,url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Redeclared_parameter#what_went_wrong"}));break}case"MISSINGINITIALIZER":{n._friendlyError(Gt("fes.globalErrors.syntax.missingInitializer",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Missing_initializer_in_const#what_went_wrong"}));break}case"BADRETURNORYIELD":{n._friendlyError(Gt("fes.globalErrors.syntax.badReturnOrYield",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Bad_return_or_yield#what_went_wrong"}));break}}break}case"ReferenceError":{switch(F.type){case"NOTDEFINED":{let I=F.match[1];if(I&&w(I,E))break;n._friendlyError(Gt("fes.globalErrors.reference.notDefined",{url:"https://p5js.org/examples/data-variable-scope.html",symbol:I,location:T?Gt("fes.location",T):""})),A&&y(A);break}case"CANNOTACCESS":{let I=F.match[1];n._friendlyError(Gt("fes.globalErrors.reference.cannotAccess",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_lexical_declaration_before_init#what_went_wrong",symbol:I,location:T?Gt("fes.location",T):""})),A&&y(A);break}}break}case"TypeError":switch(F.type){case"NOTFUNC":{let M=F.match[1].split("."),B={url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Not_a_function#What_went_wrong",symbol:M[M.length-1],obj:M.slice(0,M.length-1).join("."),location:T?Gt("fes.location",T):""};M.length>1?n._friendlyError(Gt("fes.globalErrors.type.notfuncObj",B)):n._friendlyError(Gt("fes.globalErrors.type.notfunc",B)),A&&y(A);break}case"READNULL":{let I=F.match[1];n._friendlyError(Gt("fes.globalErrors.type.readFromNull",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong",symbol:I,location:T?Gt("fes.location",T):""})),A&&y(A);break}case"READUDEFINED":{let I=F.match[1];n._friendlyError(Gt("fes.globalErrors.type.readFromUndefined",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong",symbol:I,location:T?Gt("fes.location",T):""})),A&&y(A);break}case"CONSTASSIGN":{n._friendlyError(Gt("fes.globalErrors.type.constAssign",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_const_assignment#what_went_wrong",location:T?Gt("fes.location",T):""})),A&&y(A);break}}}};n._fesErrorMonitor=x,n._checkForUserDefinedFunctions=v,n._fesLogger=null,n._fesLogCache={},window.addEventListener("load",v,!1),window.addEventListener("error",n._fesErrorMonitor,!1),window.addEventListener("unhandledrejection",n._fesErrorMonitor,!1)}i=null;const l="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";s=()=>{const h={},c=f=>Object.getOwnPropertyNames(f).filter(p=>p[0]==="_"||p in h?!1:(h[p]=!0,!0)).map(p=>{let d;return typeof f[p]=="function"?d="function":p===p.toUpperCase()?d="constant":d="variable",{name:p,type:d}});i=[].concat(c(t),c(Ma)),i.sort((f,p)=>p.name.length-f.name.length)};const u=(h,c)=>{c||(c=console.log.bind(console)),i||s(),i.some(f=>{if(h.message&&h.message.match(`\\W?${f.name}\\W`)!==null){const p=f.type==="function"?`${f.name}()`:f.name;return c(typeof IS_MINIFIED<"u"?`Did you just try to use p5.js's ${p} ${f.type}? If so, you may want to move it into your sketch's setup() function.

For more details, see: ${l}`:Gt("fes.misusedTopLevel",{symbolName:p,symbolType:f.type,url:l})),!0}})};t._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",()=>{window.removeEventListener("error",u,!1)}))}typeof p5<"u"&&mN(p5,p5.prototype);function cj(){let n=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(s){if(typeof s.stacktrace<"u"||typeof s["opera#sourceloc"]<"u")return this.parseOpera(s);if(s.stack&&s.stack.match(t))return this.parseV8OrIE(s);if(s.stack)return this.parseFFOrSafari(s)},extractLocation:function(s){if(s.indexOf(":")===-1)return[s];let a=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s.replace(/[()]/g,""));return[a[1],a[2]||void 0,a[3]||void 0]},parseV8OrIE:function(s){return s.stack.split(`
`).filter(function(a){return!!a.match(t)},this).map(function(a){a.indexOf("(eval ")>-1&&(a=a.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));let l=a.replace(/^\s+/,"").replace(/\(eval code/g,"("),u=l.match(/ (\((.+):(\d+):(\d+)\)$)/);l=u?l.replace(u[0],""):l;let h=l.split(/\s+/).slice(1),c=this.extractLocation(u?u[1]:h.pop()),f=h.join(" ")||void 0,p=["eval","<anonymous>"].indexOf(c[0])>-1?void 0:c[0];return{functionName:f,fileName:p,lineNumber:c[1],columnNumber:c[2],source:a}},this)},parseFFOrSafari:function(s){return s.stack.split(`
`).filter(function(a){return!a.match(r)},this).map(function(a){if(a.indexOf(" > eval")>-1&&(a=a.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),a.indexOf("@")===-1&&a.indexOf(":")===-1)return{functionName:a};{let l=/((.*".+"[^@]*)?[^@]*)(?:@)/,u=a.match(l),h=u&&u[1]?u[1]:void 0,c=this.extractLocation(a.replace(l,""));return{functionName:h,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:a}}},this)},parseOpera:function(s){return!s.stacktrace||s.message.indexOf(`
`)>-1&&s.message.split(`
`).length>s.stacktrace.split(`
`).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){let o=/Line (\d+).*script (?:in )?(\S+)/i,a=s.message.split(`
`),l=[];for(let u=2,h=a.length;u<h;u+=2){let c=o.exec(a[u]);c&&l.push({fileName:c[2],lineNumber:c[1],source:a[u]})}return l},parseOpera10:function(s){let o=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=s.stacktrace.split(`
`),l=[];for(let u=0,h=a.length;u<h;u+=2){let c=o.exec(a[u]);c&&l.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:a[u]})}return l},parseOpera11:function(s){return s.stack.split(`
`).filter(function(a){return!!a.match(n)&&!a.match(/^Error created at/)},this).map(function(a){let l=a.split("@"),u=this.extractLocation(l.pop()),h=l.shift()||"",c=h.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,f;h.match(/\(([^)]*)\)/)&&(f=h.replace(/^[^(]+\(([^)]*)\)$/,"$1"));let p=f===void 0||f==="[arguments not available]"?void 0:f.split(",");return{functionName:c,args:p,fileName:u[0],lineNumber:u[1],columnNumber:u[2],source:a}},this)}}}function gN(n,t){n._getErrorStackParser=function(){return new cj}}typeof p5<"u"&&gN(p5,p5.prototype);function Ye(n,t,r){function i(l,u){var h;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(h=l._zod).traits??(h.traits=new Set),l._zod.traits.add(n),t(l,u);for(const c in a.prototype)c in l||Object.defineProperty(l,c,{value:a.prototype[c].bind(l)});l._zod.constr=a,l._zod.def=u}const s=r?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:n});function a(l){var u;const h=r?.Parent?new o:this;i(h,l),(u=h._zod).deferred??(u.deferred=[]);for(const c of h._zod.deferred)c();return h}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>r?.Parent&&l instanceof r.Parent?!0:l?._zod?.traits?.has(n)}),Object.defineProperty(a,"name",{value:n}),a}class Jh extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const vN={};function Xl(n){return vN}function hj(n){const t=Object.values(n).filter(i=>typeof i=="number");return Object.entries(n).filter(([i,s])=>t.indexOf(+i)===-1).map(([i,s])=>s)}function fj(n,t){return typeof t=="bigint"?t.toString():t}function yN(n){return{get value(){{const t=n();return Object.defineProperty(this,"value",{value:t}),t}}}}function Rb(n){return n==null}function Bb(n){const t=n.startsWith("^")?1:0,r=n.endsWith("$")?n.length-1:n.length;return n.slice(t,r)}function dj(n,t){const r=(n.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,s=r>i?r:i,o=Number.parseInt(n.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return o%a/10**s}function sr(n,t,r){Object.defineProperty(n,t,{get(){{const i=r();return n[t]=i,i}},set(i){Object.defineProperty(n,t,{value:i})},configurable:!0})}function Ub(n,t,r){Object.defineProperty(n,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Gc(n){return JSON.stringify(n)}const bN=Error.captureStackTrace?Error.captureStackTrace:(...n)=>{};function Uy(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const pj=yN(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Vy(n){if(Uy(n)===!1)return!1;const t=n.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Uy(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const mj=new Set(["string","number","symbol"]);function wf(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ou(n,t,r){const i=new n._zod.constr(t??n._zod.def);return(!t||r?.parent)&&(i._zod.parent=n),i}function It(n){const t=n;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function gj(n){return Object.keys(n).filter(t=>n[t]._zod.optin==="optional"&&n[t]._zod.optout==="optional")}const vj={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function yj(n,t){const r={},i=n._zod.def;for(const s in t){if(!(s in i.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(r[s]=i.shape[s])}return ou(n,{...n._zod.def,shape:r,checks:[]})}function bj(n,t){const r={...n._zod.def.shape},i=n._zod.def;for(const s in t){if(!(s in i.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete r[s]}return ou(n,{...n._zod.def,shape:r,checks:[]})}function xj(n,t){if(!Vy(t))throw new Error("Invalid input to extend: expected a plain object");const r={...n._zod.def,get shape(){const i={...n._zod.def.shape,...t};return Ub(this,"shape",i),i},checks:[]};return ou(n,r)}function _j(n,t){return ou(n,{...n._zod.def,get shape(){const r={...n._zod.def.shape,...t._zod.def.shape};return Ub(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function wj(n,t,r){const i=t._zod.def.shape,s={...i};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=n?new n({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)s[o]=n?new n({type:"optional",innerType:i[o]}):i[o];return ou(t,{...t._zod.def,shape:s,checks:[]})}function Ej(n,t,r){const i=t._zod.def.shape,s={...i};if(r)for(const o in r){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=new n({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new n({type:"nonoptional",innerType:i[o]});return ou(t,{...t._zod.def,shape:s,checks:[]})}function yh(n,t=0){for(let r=t;r<n.issues.length;r++)if(n.issues[r]?.continue!==!0)return!0;return!1}function sg(n,t){return t.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(n),r})}function vd(n){return typeof n=="string"?n:n?.message}function Yl(n,t,r){const i={...n,path:n.path??[]};if(!n.message){const s=vd(n.inst?._zod.def?.error?.(n))??vd(t?.error?.(n))??vd(r.customError?.(n))??vd(r.localeError?.(n))??"Invalid input";i.message=s}return delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function Vb(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function Qh(...n){const[t,r,i]=n;return typeof t=="string"?{message:t,code:"custom",input:r,inst:i}:{...t}}const xN=(n,t)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:t,enumerable:!1}),Object.defineProperty(n,"message",{get(){return JSON.stringify(t,fj,2)},enumerable:!0}),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},_N=Ye("$ZodError",xN),og=Ye("$ZodError",xN,{Parent:Error});function Sj(n,t=r=>r.message){const r={},i=[];for(const s of n.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:r}}function Cj(n,t){const r=t||function(o){return o.message},i={_errors:[]},s=o=>{for(const a of o.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>s({issues:l}));else if(a.code==="invalid_key")s({issues:a.issues});else if(a.code==="invalid_element")s({issues:a.issues});else if(a.path.length===0)i._errors.push(r(a));else{let l=i,u=0;for(;u<a.path.length;){const h=a.path[u];u===a.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(r(a))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return s(n),i}const wN=n=>(t,r,i,s)=>{const o=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new Jh;if(a.issues.length){const l=new(s?.Err??n)(a.issues.map(u=>Yl(u,o,Xl())));throw bN(l,s?.callee),l}return a.value},VE=wN(og),EN=n=>async(t,r,i,s)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new(s?.Err??n)(a.issues.map(u=>Yl(u,o,Xl())));throw bN(l,s?.callee),l}return a.value},$E=EN(og),SN=n=>(t,r,i)=>{const s=i?{...i,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new Jh;return o.issues.length?{success:!1,error:new(n??_N)(o.issues.map(a=>Yl(a,s,Xl())))}:{success:!0,data:o.value}},Aj=SN(og),CN=n=>async(t,r,i)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new n(o.issues.map(a=>Yl(a,s,Xl())))}:{success:!0,data:o.value}},Tj=CN(og),Ij=/^[cC][^\s-]{8,}$/,Dj=/^[0-9a-z]+$/,Nj=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,kj=/^[0-9a-vA-V]{20}$/,Fj=/^[A-Za-z0-9]{27}$/,Mj=/^[a-zA-Z0-9_-]{21}$/,Oj=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Pj=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,jE=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Lj=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Rj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Bj(){return new RegExp(Rj,"u")}const Uj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Vj=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,$j=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,jj=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zj=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,AN=/^[A-Za-z0-9_-]*$/,Gj=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,Hj=/^\+(?:[0-9]){6,14}[0-9]$/,TN="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Wj=new RegExp(`^${TN}$`);function IN(n){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${t}`:n.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${n.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function qj(n){return new RegExp(`^${IN(n)}$`)}function Xj(n){const t=IN({precision:n.precision}),r=["Z"];n.local&&r.push(""),n.offset&&r.push("([+-]\\d{2}:\\d{2})");const i=`${t}(?:${r.join("|")})`;return new RegExp(`^${TN}T(?:${i})$`)}const Yj=n=>{const t=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Kj=/^\d+$/,Zj=/^-?\d+(?:\.\d+)?/i,Jj=/true|false/i,Qj=/^[^A-Z]*$/,ez=/^[^a-z]*$/,ns=Ye("$ZodCheck",(n,t)=>{var r;n._zod??(n._zod={}),n._zod.def=t,(r=n._zod).onattach??(r.onattach=[])}),DN={number:"number",bigint:"bigint",object:"date"},NN=Ye("$ZodCheckLessThan",(n,t)=>{ns.init(n,t);const r=DN[typeof t.value];n._zod.onattach.push(i=>{const s=i._zod.bag,o=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),n._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:r,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:n,continue:!t.abort})}}),kN=Ye("$ZodCheckGreaterThan",(n,t)=>{ns.init(n,t);const r=DN[typeof t.value];n._zod.onattach.push(i=>{const s=i._zod.bag,o=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),n._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:r,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:n,continue:!t.abort})}}),tz=Ye("$ZodCheckMultipleOf",(n,t)=>{ns.init(n,t),n._zod.onattach.push(r=>{var i;(i=r._zod.bag).multipleOf??(i.multipleOf=t.value)}),n._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):dj(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:n,continue:!t.abort})}}),nz=Ye("$ZodCheckNumberFormat",(n,t)=>{ns.init(n,t),t.format=t.format||"float64";const r=t.format?.includes("int"),i=r?"int":"number",[s,o]=vj[t.format];n._zod.onattach.push(a=>{const l=a._zod.bag;l.format=t.format,l.minimum=s,l.maximum=o,r&&(l.pattern=Kj)}),n._zod.check=a=>{const l=a.value;if(r){if(!Number.isInteger(l)){a.issues.push({expected:i,format:t.format,code:"invalid_type",input:l,inst:n});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:i,continue:!t.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:i,continue:!t.abort});return}}l<s&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:s,inclusive:!0,inst:n,continue:!t.abort}),l>o&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inst:n})}}),rz=Ye("$ZodCheckMaxLength",(n,t)=>{var r;ns.init(n,t),(r=n._zod.def).when??(r.when=i=>{const s=i.value;return!Rb(s)&&s.length!==void 0}),n._zod.onattach.push(i=>{const s=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(i._zod.bag.maximum=t.maximum)}),n._zod.check=i=>{const s=i.value;if(s.length<=t.maximum)return;const a=Vb(s);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:n,continue:!t.abort})}}),iz=Ye("$ZodCheckMinLength",(n,t)=>{var r;ns.init(n,t),(r=n._zod.def).when??(r.when=i=>{const s=i.value;return!Rb(s)&&s.length!==void 0}),n._zod.onattach.push(i=>{const s=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(i._zod.bag.minimum=t.minimum)}),n._zod.check=i=>{const s=i.value;if(s.length>=t.minimum)return;const a=Vb(s);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:n,continue:!t.abort})}}),sz=Ye("$ZodCheckLengthEquals",(n,t)=>{var r;ns.init(n,t),(r=n._zod.def).when??(r.when=i=>{const s=i.value;return!Rb(s)&&s.length!==void 0}),n._zod.onattach.push(i=>{const s=i._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),n._zod.check=i=>{const s=i.value,o=s.length;if(o===t.length)return;const a=Vb(s),l=o>t.length;i.issues.push({origin:a,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:n,continue:!t.abort})}}),ag=Ye("$ZodCheckStringFormat",(n,t)=>{var r,i;ns.init(n,t),n._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=n._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:n,continue:!t.abort})}):(i=n._zod).check??(i.check=()=>{})}),oz=Ye("$ZodCheckRegex",(n,t)=>{ag.init(n,t),n._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:n,continue:!t.abort})}}),az=Ye("$ZodCheckLowerCase",(n,t)=>{t.pattern??(t.pattern=Qj),ag.init(n,t)}),lz=Ye("$ZodCheckUpperCase",(n,t)=>{t.pattern??(t.pattern=ez),ag.init(n,t)}),uz=Ye("$ZodCheckIncludes",(n,t)=>{ns.init(n,t);const r=wf(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=i,n._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(i)}),n._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:n,continue:!t.abort})}}),cz=Ye("$ZodCheckStartsWith",(n,t)=>{ns.init(n,t);const r=new RegExp(`^${wf(t.prefix)}.*`);t.pattern??(t.pattern=r),n._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),n._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:n,continue:!t.abort})}}),hz=Ye("$ZodCheckEndsWith",(n,t)=>{ns.init(n,t);const r=new RegExp(`.*${wf(t.suffix)}$`);t.pattern??(t.pattern=r),n._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),n._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:n,continue:!t.abort})}}),fz=Ye("$ZodCheckOverwrite",(n,t)=>{ns.init(n,t),n._zod.check=r=>{r.value=t.tx(r.value)}});class dz{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),s=Math.min(...i.map(a=>a.length-a.trimStart().length)),o=i.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of o)this.content.push(a)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...r,s.join(`
`))}}const pz={major:4,minor:0,patch:0},Hn=Ye("$ZodType",(n,t)=>{var r;n??(n={}),n._zod.def=t,n._zod.bag=n._zod.bag||{},n._zod.version=pz;const i=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&i.unshift(n);for(const s of i)for(const o of s._zod.onattach)o(n);if(i.length===0)(r=n._zod).deferred??(r.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const s=(o,a,l)=>{let u=yh(o),h;for(const c of a){if(c._zod.def.when){if(!c._zod.def.when(o))continue}else if(u)continue;const f=o.issues.length,p=c._zod.check(o);if(p instanceof Promise&&l?.async===!1)throw new Jh;if(h||p instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await p,o.issues.length!==f&&(u||(u=yh(o,f)))});else{if(o.issues.length===f)continue;u||(u=yh(o,f))}}return h?h.then(()=>o):o};n._zod.run=(o,a)=>{const l=n._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new Jh;return l.then(u=>s(u,i,a))}return s(l,i,a)}}n["~standard"]={validate:s=>{try{const o=Aj(n,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Tj(n,s).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),$b=Ye("$ZodString",(n,t)=>{Hn.init(n,t),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??Yj(n._zod.bag),n._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:n}),r}}),lr=Ye("$ZodStringFormat",(n,t)=>{ag.init(n,t),$b.init(n,t)}),mz=Ye("$ZodGUID",(n,t)=>{t.pattern??(t.pattern=Pj),lr.init(n,t)}),gz=Ye("$ZodUUID",(n,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=jE(i))}else t.pattern??(t.pattern=jE());lr.init(n,t)}),vz=Ye("$ZodEmail",(n,t)=>{t.pattern??(t.pattern=Lj),lr.init(n,t)}),yz=Ye("$ZodURL",(n,t)=>{lr.init(n,t),n._zod.check=r=>{try{const i=r.value,s=new URL(i),o=s.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Gj.source,input:r.value,inst:n,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:n,continue:!t.abort})),!i.endsWith("/")&&o.endsWith("/")?r.value=o.slice(0,-1):r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:n,continue:!t.abort})}}}),bz=Ye("$ZodEmoji",(n,t)=>{t.pattern??(t.pattern=Bj()),lr.init(n,t)}),xz=Ye("$ZodNanoID",(n,t)=>{t.pattern??(t.pattern=Mj),lr.init(n,t)}),_z=Ye("$ZodCUID",(n,t)=>{t.pattern??(t.pattern=Ij),lr.init(n,t)}),wz=Ye("$ZodCUID2",(n,t)=>{t.pattern??(t.pattern=Dj),lr.init(n,t)}),Ez=Ye("$ZodULID",(n,t)=>{t.pattern??(t.pattern=Nj),lr.init(n,t)}),Sz=Ye("$ZodXID",(n,t)=>{t.pattern??(t.pattern=kj),lr.init(n,t)}),Cz=Ye("$ZodKSUID",(n,t)=>{t.pattern??(t.pattern=Fj),lr.init(n,t)}),Az=Ye("$ZodISODateTime",(n,t)=>{t.pattern??(t.pattern=Xj(t)),lr.init(n,t)}),Tz=Ye("$ZodISODate",(n,t)=>{t.pattern??(t.pattern=Wj),lr.init(n,t)}),Iz=Ye("$ZodISOTime",(n,t)=>{t.pattern??(t.pattern=qj(t)),lr.init(n,t)}),Dz=Ye("$ZodISODuration",(n,t)=>{t.pattern??(t.pattern=Oj),lr.init(n,t)}),Nz=Ye("$ZodIPv4",(n,t)=>{t.pattern??(t.pattern=Uj),lr.init(n,t),n._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),kz=Ye("$ZodIPv6",(n,t)=>{t.pattern??(t.pattern=Vj),lr.init(n,t),n._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),n._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:n,continue:!t.abort})}}}),Fz=Ye("$ZodCIDRv4",(n,t)=>{t.pattern??(t.pattern=$j),lr.init(n,t)}),Mz=Ye("$ZodCIDRv6",(n,t)=>{t.pattern??(t.pattern=jj),lr.init(n,t),n._zod.check=r=>{const[i,s]=r.value.split("/");try{if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:n,continue:!t.abort})}}});function FN(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const Oz=Ye("$ZodBase64",(n,t)=>{t.pattern??(t.pattern=zj),lr.init(n,t),n._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),n._zod.check=r=>{FN(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:n,continue:!t.abort})}});function Pz(n){if(!AN.test(n))return!1;const t=n.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return FN(r)}const Lz=Ye("$ZodBase64URL",(n,t)=>{t.pattern??(t.pattern=AN),lr.init(n,t),n._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),n._zod.check=r=>{Pz(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:n,continue:!t.abort})}}),Rz=Ye("$ZodE164",(n,t)=>{t.pattern??(t.pattern=Hj),lr.init(n,t)});function Bz(n,t=null){try{const r=n.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const s=JSON.parse(atob(i));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Uz=Ye("$ZodJWT",(n,t)=>{lr.init(n,t),n._zod.check=r=>{Bz(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:n,continue:!t.abort})}}),MN=Ye("$ZodNumber",(n,t)=>{Hn.init(n,t),n._zod.pattern=n._zod.bag.pattern??Zj,n._zod.parse=(r,i)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:n,...o?{received:o}:{}}),r}}),Vz=Ye("$ZodNumber",(n,t)=>{nz.init(n,t),MN.init(n,t)}),$z=Ye("$ZodBoolean",(n,t)=>{Hn.init(n,t),n._zod.pattern=Jj,n._zod.parse=(r,i)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:n}),r}}),jz=Ye("$ZodAny",(n,t)=>{Hn.init(n,t),n._zod.parse=r=>r}),$y=Ye("$ZodUnknown",(n,t)=>{Hn.init(n,t),n._zod.parse=r=>r}),zz=Ye("$ZodNever",(n,t)=>{Hn.init(n,t),n._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:n}),r)});function zE(n,t,r){n.issues.length&&t.issues.push(...sg(r,n.issues)),t.value[r]=n.value}const ON=Ye("$ZodArray",(n,t)=>{Hn.init(n,t),n._zod.parse=(r,i)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:n}),r;r.value=Array(s.length);const o=[];for(let a=0;a<s.length;a++){const l=s[a],u=t.element._zod.run({value:l,issues:[]},i);u instanceof Promise?o.push(u.then(h=>zE(h,r,a))):zE(u,r,a)}return o.length?Promise.all(o).then(()=>r):r}});function yd(n,t,r){n.issues.length&&t.issues.push(...sg(r,n.issues)),t.value[r]=n.value}function GE(n,t,r,i){n.issues.length?i[r]===void 0?r in i?t.value[r]=void 0:t.value[r]=n.value:t.issues.push(...sg(r,n.issues)):n.value===void 0?r in i&&(t.value[r]=void 0):t.value[r]=n.value}const Gz=Ye("$ZodObject",(n,t)=>{Hn.init(n,t);const r=yN(()=>{const f=Object.keys(t.shape);for(const d of f)if(!(t.shape[d]instanceof Hn))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const p=gj(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(p)}});sr(n._zod,"propValues",()=>{const f=t.shape,p={};for(const d in f){const g=f[d]._zod;if(g.values){p[d]??(p[d]=new Set);for(const m of g.values)p[d].add(m)}}return p});const i=f=>{const p=new dz(["shape","payload","ctx"]),d=r.value,g=y=>{const _=Gc(y);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};p.write("const input = payload.value;");const m=Object.create(null);let v=0;for(const y of d.keys)m[y]=`key_${v++}`;p.write("const newResult = {}");for(const y of d.keys)if(d.optionalKeys.has(y)){const _=m[y];p.write(`const ${_} = ${g(y)};`);const x=Gc(y);p.write(`
        if (${_}.issues.length) {
          if (input[${x}] === undefined) {
            if (${x} in input) {
              newResult[${x}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${_}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${x}, ...iss.path] : [${x}],
              }))
            );
          }
        } else if (${_}.value === undefined) {
          if (${x} in input) newResult[${x}] = undefined;
        } else {
          newResult[${x}] = ${_}.value;
        }
        `)}else{const _=m[y];p.write(`const ${_} = ${g(y)};`),p.write(`
          if (${_}.issues.length) payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Gc(y)}, ...iss.path] : [${Gc(y)}]
          })));`),p.write(`newResult[${Gc(y)}] = ${_}.value`)}p.write("payload.value = newResult;"),p.write("return payload;");const w=p.compile();return(y,_)=>w(f,y,_)};let s;const o=Uy,a=!vN.jitless,u=a&&pj.value,h=t.catchall;let c;n._zod.parse=(f,p)=>{c??(c=r.value);const d=f.value;if(!o(d))return f.issues.push({expected:"object",code:"invalid_type",input:d,inst:n}),f;const g=[];if(a&&u&&p?.async===!1&&p.jitless!==!0)s||(s=i(t.shape)),f=s(f,p);else{f.value={};const _=c.shape;for(const x of c.keys){const C=_[x],E=C._zod.run({value:d[x],issues:[]},p),S=C._zod.optin==="optional"&&C._zod.optout==="optional";E instanceof Promise?g.push(E.then(D=>S?GE(D,f,x,d):yd(D,f,x))):S?GE(E,f,x,d):yd(E,f,x)}}if(!h)return g.length?Promise.all(g).then(()=>f):f;const m=[],v=c.keySet,w=h._zod,y=w.def.type;for(const _ of Object.keys(d)){if(v.has(_))continue;if(y==="never"){m.push(_);continue}const x=w.run({value:d[_],issues:[]},p);x instanceof Promise?g.push(x.then(C=>yd(C,f,_))):yd(x,f,_)}return m.length&&f.issues.push({code:"unrecognized_keys",keys:m,input:d,inst:n}),g.length?Promise.all(g).then(()=>f):f}});function HE(n,t,r,i){for(const s of n)if(s.issues.length===0)return t.value=s.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:n.map(s=>s.issues.map(o=>Yl(o,i,Xl())))}),t}const Hz=Ye("$ZodUnion",(n,t)=>{Hn.init(n,t),sr(n._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),sr(n._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),sr(n._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),sr(n._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${r.map(i=>Bb(i.source)).join("|")})$`)}}),n._zod.parse=(r,i)=>{let s=!1;const o=[];for(const a of t.options){const l=a._zod.run({value:r.value,issues:[]},i);if(l instanceof Promise)o.push(l),s=!0;else{if(l.issues.length===0)return l;o.push(l)}}return s?Promise.all(o).then(a=>HE(a,r,n,i)):HE(o,r,n,i)}}),Wz=Ye("$ZodIntersection",(n,t)=>{Hn.init(n,t),n._zod.parse=(r,i)=>{const s=r.value,o=t.left._zod.run({value:s,issues:[]},i),a=t.right._zod.run({value:s,issues:[]},i);return o instanceof Promise||a instanceof Promise?Promise.all([o,a]).then(([u,h])=>WE(r,u,h)):WE(r,o,a)}});function jy(n,t){if(n===t)return{valid:!0,data:n};if(n instanceof Date&&t instanceof Date&&+n==+t)return{valid:!0,data:n};if(Vy(n)&&Vy(t)){const r=Object.keys(t),i=Object.keys(n).filter(o=>r.indexOf(o)!==-1),s={...n,...t};for(const o of i){const a=jy(n[o],t[o]);if(!a.valid)return{valid:!1,mergeErrorPath:[o,...a.mergeErrorPath]};s[o]=a.data}return{valid:!0,data:s}}if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<n.length;i++){const s=n[i],o=t[i],a=jy(s,o);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function WE(n,t,r){if(t.issues.length&&n.issues.push(...t.issues),r.issues.length&&n.issues.push(...r.issues),yh(n))return n;const i=jy(t.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return n.value=i.data,n}const jb=Ye("$ZodTuple",(n,t)=>{Hn.init(n,t);const r=t.items,i=r.length-[...r].reverse().findIndex(s=>s._zod.optin!=="optional");n._zod.parse=(s,o)=>{const a=s.value;if(!Array.isArray(a))return s.issues.push({input:a,inst:n,expected:"tuple",code:"invalid_type"}),s;s.value=[];const l=[];if(!t.rest){const h=a.length>r.length,c=a.length<i-1;if(h||c)return s.issues.push({input:a,inst:n,origin:"array",...h?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length}}),s}let u=-1;for(const h of r){if(u++,u>=a.length&&u>=i)continue;const c=h._zod.run({value:a[u],issues:[]},o);c instanceof Promise?l.push(c.then(f=>bd(f,s,u))):bd(c,s,u)}if(t.rest){const h=a.slice(r.length);for(const c of h){u++;const f=t.rest._zod.run({value:c,issues:[]},o);f instanceof Promise?l.push(f.then(p=>bd(p,s,u))):bd(f,s,u)}}return l.length?Promise.all(l).then(()=>s):s}});function bd(n,t,r){n.issues.length&&t.issues.push(...sg(r,n.issues)),t.value[r]=n.value}const qz=Ye("$ZodEnum",(n,t)=>{Hn.init(n,t);const r=hj(t.entries);n._zod.values=new Set(r),n._zod.pattern=new RegExp(`^(${r.filter(i=>mj.has(typeof i)).map(i=>typeof i=="string"?wf(i):i.toString()).join("|")})$`),n._zod.parse=(i,s)=>{const o=i.value;return n._zod.values.has(o)||i.issues.push({code:"invalid_value",values:r,input:o,inst:n}),i}}),Xz=Ye("$ZodLiteral",(n,t)=>{Hn.init(n,t),n._zod.values=new Set(t.values),n._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?wf(r):r?r.toString():String(r)).join("|")})$`),n._zod.parse=(r,i)=>{const s=r.value;return n._zod.values.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:n}),r}}),Yz=Ye("$ZodTransform",(n,t)=>{Hn.init(n,t),n._zod.parse=(r,i)=>{const s=t.transform(r.value,r);if(i.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(r.value=a,r));if(s instanceof Promise)throw new Jh;return r.value=s,r}}),Kz=Ye("$ZodOptional",(n,t)=>{Hn.init(n,t),n._zod.optin="optional",n._zod.optout="optional",sr(n._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),sr(n._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Bb(r.source)})?$`):void 0}),n._zod.parse=(r,i)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(r,i):r.value===void 0?r:t.innerType._zod.run(r,i)}),Zz=Ye("$ZodNullable",(n,t)=>{Hn.init(n,t),sr(n._zod,"optin",()=>t.innerType._zod.optin),sr(n._zod,"optout",()=>t.innerType._zod.optout),sr(n._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Bb(r.source)}|null)$`):void 0}),sr(n._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),n._zod.parse=(r,i)=>r.value===null?r:t.innerType._zod.run(r,i)}),Jz=Ye("$ZodDefault",(n,t)=>{Hn.init(n,t),n._zod.optin="optional",sr(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(r,i)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(o=>qE(o,t)):qE(s,t)}});function qE(n,t){return n.value===void 0&&(n.value=t.defaultValue),n}const Qz=Ye("$ZodPrefault",(n,t)=>{Hn.init(n,t),n._zod.optin="optional",sr(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(r,i)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,i))}),eG=Ye("$ZodNonOptional",(n,t)=>{Hn.init(n,t),sr(n._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),n._zod.parse=(r,i)=>{const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(o=>XE(o,n)):XE(s,n)}});function XE(n,t){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:t}),n}const tG=Ye("$ZodCatch",(n,t)=>{Hn.init(n,t),n._zod.optin="optional",sr(n._zod,"optout",()=>t.innerType._zod.optout),sr(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(r,i)=>{const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(a=>Yl(a,i,Xl()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>Yl(o,i,Xl()))},input:r.value}),r.issues=[]),r)}}),nG=Ye("$ZodPipe",(n,t)=>{Hn.init(n,t),sr(n._zod,"values",()=>t.in._zod.values),sr(n._zod,"optin",()=>t.in._zod.optin),sr(n._zod,"optout",()=>t.out._zod.optout),n._zod.parse=(r,i)=>{const s=t.in._zod.run(r,i);return s instanceof Promise?s.then(o=>YE(o,t,i)):YE(s,t,i)}});function YE(n,t,r){return yh(n)?n:t.out._zod.run({value:n.value,issues:n.issues},r)}const rG=Ye("$ZodReadonly",(n,t)=>{Hn.init(n,t),sr(n._zod,"propValues",()=>t.innerType._zod.propValues),sr(n._zod,"values",()=>t.innerType._zod.values),sr(n._zod,"optin",()=>t.innerType._zod.optin),sr(n._zod,"optout",()=>t.innerType._zod.optout),n._zod.parse=(r,i)=>{const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(KE):KE(s)}});function KE(n){return n.value=Object.freeze(n.value),n}const iG=Ye("$ZodCustom",(n,t)=>{ns.init(n,t),Hn.init(n,t),n._zod.parse=(r,i)=>r,n._zod.check=r=>{const i=r.value,s=t.fn(i);if(s instanceof Promise)return s.then(o=>ZE(o,r,i,n));ZE(s,r,i,n)}});function ZE(n,t,r,i){if(!n){const s={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(s.params=i._zod.def.params),t.issues.push(Qh(s))}}class sG{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const i=r[0];if(this._map.set(t,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const i={...this.get(r)??{}};return delete i.id,{...i,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function oG(){return new sG}const xd=oG();function aG(n,t){return new n({type:"string",...It(t)})}function lG(n,t){return new n({type:"string",format:"email",check:"string_format",abort:!1,...It(t)})}function JE(n,t){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...It(t)})}function uG(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...It(t)})}function cG(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...It(t)})}function hG(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...It(t)})}function fG(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...It(t)})}function dG(n,t){return new n({type:"string",format:"url",check:"string_format",abort:!1,...It(t)})}function pG(n,t){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...It(t)})}function mG(n,t){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...It(t)})}function gG(n,t){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...It(t)})}function vG(n,t){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...It(t)})}function yG(n,t){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...It(t)})}function bG(n,t){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...It(t)})}function xG(n,t){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...It(t)})}function _G(n,t){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...It(t)})}function wG(n,t){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...It(t)})}function EG(n,t){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...It(t)})}function SG(n,t){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...It(t)})}function CG(n,t){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...It(t)})}function AG(n,t){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...It(t)})}function TG(n,t){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...It(t)})}function IG(n,t){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...It(t)})}function DG(n,t){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...It(t)})}function NG(n,t){return new n({type:"string",format:"date",check:"string_format",...It(t)})}function kG(n,t){return new n({type:"string",format:"time",check:"string_format",precision:null,...It(t)})}function FG(n,t){return new n({type:"string",format:"duration",check:"string_format",...It(t)})}function MG(n,t){return new n({type:"number",checks:[],...It(t)})}function OG(n,t){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...It(t)})}function PG(n,t){return new n({type:"boolean",...It(t)})}function LG(n){return new n({type:"any"})}function zy(n){return new n({type:"unknown"})}function RG(n,t){return new n({type:"never",...It(t)})}function QE(n,t){return new NN({check:"less_than",...It(t),value:n,inclusive:!1})}function W0(n,t){return new NN({check:"less_than",...It(t),value:n,inclusive:!0})}function eS(n,t){return new kN({check:"greater_than",...It(t),value:n,inclusive:!1})}function q0(n,t){return new kN({check:"greater_than",...It(t),value:n,inclusive:!0})}function tS(n,t){return new tz({check:"multiple_of",...It(t),value:n})}function PN(n,t){return new rz({check:"max_length",...It(t),maximum:n})}function Yp(n,t){return new iz({check:"min_length",...It(t),minimum:n})}function LN(n,t){return new sz({check:"length_equals",...It(t),length:n})}function BG(n,t){return new oz({check:"string_format",format:"regex",...It(t),pattern:n})}function UG(n){return new az({check:"string_format",format:"lowercase",...It(n)})}function VG(n){return new lz({check:"string_format",format:"uppercase",...It(n)})}function $G(n,t){return new uz({check:"string_format",format:"includes",...It(t),includes:n})}function jG(n,t){return new cz({check:"string_format",format:"starts_with",...It(t),prefix:n})}function zG(n,t){return new hz({check:"string_format",format:"ends_with",...It(t),suffix:n})}function Ef(n){return new fz({check:"overwrite",tx:n})}function GG(n){return Ef(t=>t.normalize(n))}function HG(){return Ef(n=>n.trim())}function WG(){return Ef(n=>n.toLowerCase())}function qG(){return Ef(n=>n.toUpperCase())}function RN(n,t,r){return new n({type:"array",element:t,...It(r)})}function XG(n,t,r,i){const s=r instanceof Hn,o=s?i:r,a=s?r:null;return new n({type:"tuple",items:t,rest:a,...It(o)})}function YG(n,t,r){const i=It(r);return i.abort??(i.abort=!0),new n({type:"custom",check:"custom",fn:t,...i})}function KG(n,t,r){return new n({type:"custom",check:"custom",fn:t,...It(r)})}class ZG{constructor(t){this._def=t,this.def=t}implement(t){if(typeof t!="function")throw new Error("implement() must be called with a function");const r=((...i)=>{const s=this._def.input?VE(this._def.input,i,void 0,{callee:r}):i;if(!Array.isArray(s))throw new Error("Invalid arguments schema: not an array or tuple schema.");const o=t(...s);return this._def.output?VE(this._def.output,o,void 0,{callee:r}):o});return r}implementAsync(t){if(typeof t!="function")throw new Error("implement() must be called with a function");const r=(async(...i)=>{const s=this._def.input?await $E(this._def.input,i,void 0,{callee:r}):i;if(!Array.isArray(s))throw new Error("Invalid arguments schema: not an array or tuple schema.");const o=await t(...s);return this._def.output?$E(this._def.output,o,void 0,{callee:r}):o});return r}input(...t){const r=this.constructor;return Array.isArray(t[0])?new r({type:"function",input:new jb({type:"tuple",items:t[0],rest:t[1]}),output:this._def.output}):new r({type:"function",input:t[0],output:this._def.output})}output(t){const r=this.constructor;return new r({type:"function",input:this._def.input,output:t})}}function nS(n){return new ZG({type:"function",input:Array.isArray(n?.input)?XG(jb,n?.input):RN(ON,zy($y)),output:zy($y)})}const JG=Ye("ZodISODateTime",(n,t)=>{Az.init(n,t),dr.init(n,t)});function QG(n){return DG(JG,n)}const eH=Ye("ZodISODate",(n,t)=>{Tz.init(n,t),dr.init(n,t)});function tH(n){return NG(eH,n)}const nH=Ye("ZodISOTime",(n,t)=>{Iz.init(n,t),dr.init(n,t)});function rH(n){return kG(nH,n)}const iH=Ye("ZodISODuration",(n,t)=>{Dz.init(n,t),dr.init(n,t)});function sH(n){return FG(iH,n)}const oH=(n,t)=>{_N.init(n,t),n.name="ZodError",Object.defineProperties(n,{format:{value:r=>Cj(n,r)},flatten:{value:r=>Sj(n,r)},addIssue:{value:r=>n.issues.push(r)},addIssues:{value:r=>n.issues.push(...r)},isEmpty:{get(){return n.issues.length===0}}})},lg=Ye("ZodError",oH,{Parent:Error}),aH=wN(lg),lH=EN(lg),uH=SN(lg),cH=CN(lg),fr=Ye("ZodType",(n,t)=>(Hn.init(n,t),n.def=t,Object.defineProperty(n,"_def",{value:t}),n.check=(...r)=>n.clone({...t,checks:[...t.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),n.clone=(r,i)=>ou(n,r,i),n.brand=()=>n,n.register=((r,i)=>(r.add(n,i),n)),n.parse=(r,i)=>aH(n,r,i,{callee:n.parse}),n.safeParse=(r,i)=>uH(n,r,i),n.parseAsync=async(r,i)=>lH(n,r,i,{callee:n.parseAsync}),n.safeParseAsync=async(r,i)=>cH(n,r,i),n.spa=n.safeParseAsync,n.refine=(r,i)=>n.check(iW(r,i)),n.superRefine=r=>n.check(sW(r)),n.overwrite=r=>n.check(Ef(r)),n.optional=()=>uS(n),n.nullable=()=>cS(n),n.nullish=()=>uS(cS(n)),n.nonoptional=r=>ZH(n,r),n.array=()=>Gy(n),n.or=r=>Hy([n,r]),n.and=r=>$H(n,r),n.transform=r=>hS(n,HH(r)),n.default=r=>XH(n,r),n.prefault=r=>KH(n,r),n.catch=r=>QH(n,r),n.pipe=r=>hS(n,r),n.readonly=()=>nW(n),n.describe=r=>{const i=n.clone();return xd.add(i,{description:r}),i},Object.defineProperty(n,"description",{get(){return xd.get(n)?.description},configurable:!0}),n.meta=(...r)=>{if(r.length===0)return xd.get(n);const i=n.clone();return xd.add(i,r[0]),i},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),BN=Ye("_ZodString",(n,t)=>{$b.init(n,t),fr.init(n,t);const r=n._zod.bag;n.format=r.format??null,n.minLength=r.minimum??null,n.maxLength=r.maximum??null,n.regex=(...i)=>n.check(BG(...i)),n.includes=(...i)=>n.check($G(...i)),n.startsWith=(...i)=>n.check(jG(...i)),n.endsWith=(...i)=>n.check(zG(...i)),n.min=(...i)=>n.check(Yp(...i)),n.max=(...i)=>n.check(PN(...i)),n.length=(...i)=>n.check(LN(...i)),n.nonempty=(...i)=>n.check(Yp(1,...i)),n.lowercase=i=>n.check(UG(i)),n.uppercase=i=>n.check(VG(i)),n.trim=()=>n.check(HG()),n.normalize=(...i)=>n.check(GG(...i)),n.toLowerCase=()=>n.check(WG()),n.toUpperCase=()=>n.check(qG())}),hH=Ye("ZodString",(n,t)=>{$b.init(n,t),BN.init(n,t),n.email=r=>n.check(lG(dH,r)),n.url=r=>n.check(dG(pH,r)),n.jwt=r=>n.check(IG(DH,r)),n.emoji=r=>n.check(pG(mH,r)),n.guid=r=>n.check(JE(rS,r)),n.uuid=r=>n.check(uG(_d,r)),n.uuidv4=r=>n.check(cG(_d,r)),n.uuidv6=r=>n.check(hG(_d,r)),n.uuidv7=r=>n.check(fG(_d,r)),n.nanoid=r=>n.check(mG(gH,r)),n.guid=r=>n.check(JE(rS,r)),n.cuid=r=>n.check(gG(vH,r)),n.cuid2=r=>n.check(vG(yH,r)),n.ulid=r=>n.check(yG(bH,r)),n.base64=r=>n.check(CG(AH,r)),n.base64url=r=>n.check(AG(TH,r)),n.xid=r=>n.check(bG(xH,r)),n.ksuid=r=>n.check(xG(_H,r)),n.ipv4=r=>n.check(_G(wH,r)),n.ipv6=r=>n.check(wG(EH,r)),n.cidrv4=r=>n.check(EG(SH,r)),n.cidrv6=r=>n.check(SG(CH,r)),n.e164=r=>n.check(TG(IH,r)),n.datetime=r=>n.check(QG(r)),n.date=r=>n.check(tH(r)),n.time=r=>n.check(rH(r)),n.duration=r=>n.check(sH(r))});function fH(n){return aG(hH,n)}const dr=Ye("ZodStringFormat",(n,t)=>{lr.init(n,t),BN.init(n,t)}),dH=Ye("ZodEmail",(n,t)=>{vz.init(n,t),dr.init(n,t)}),rS=Ye("ZodGUID",(n,t)=>{mz.init(n,t),dr.init(n,t)}),_d=Ye("ZodUUID",(n,t)=>{gz.init(n,t),dr.init(n,t)}),pH=Ye("ZodURL",(n,t)=>{yz.init(n,t),dr.init(n,t)}),mH=Ye("ZodEmoji",(n,t)=>{bz.init(n,t),dr.init(n,t)}),gH=Ye("ZodNanoID",(n,t)=>{xz.init(n,t),dr.init(n,t)}),vH=Ye("ZodCUID",(n,t)=>{_z.init(n,t),dr.init(n,t)}),yH=Ye("ZodCUID2",(n,t)=>{wz.init(n,t),dr.init(n,t)}),bH=Ye("ZodULID",(n,t)=>{Ez.init(n,t),dr.init(n,t)}),xH=Ye("ZodXID",(n,t)=>{Sz.init(n,t),dr.init(n,t)}),_H=Ye("ZodKSUID",(n,t)=>{Cz.init(n,t),dr.init(n,t)}),wH=Ye("ZodIPv4",(n,t)=>{Nz.init(n,t),dr.init(n,t)}),EH=Ye("ZodIPv6",(n,t)=>{kz.init(n,t),dr.init(n,t)}),SH=Ye("ZodCIDRv4",(n,t)=>{Fz.init(n,t),dr.init(n,t)}),CH=Ye("ZodCIDRv6",(n,t)=>{Mz.init(n,t),dr.init(n,t)}),AH=Ye("ZodBase64",(n,t)=>{Oz.init(n,t),dr.init(n,t)}),TH=Ye("ZodBase64URL",(n,t)=>{Lz.init(n,t),dr.init(n,t)}),IH=Ye("ZodE164",(n,t)=>{Rz.init(n,t),dr.init(n,t)}),DH=Ye("ZodJWT",(n,t)=>{Uz.init(n,t),dr.init(n,t)}),UN=Ye("ZodNumber",(n,t)=>{MN.init(n,t),fr.init(n,t),n.gt=(i,s)=>n.check(eS(i,s)),n.gte=(i,s)=>n.check(q0(i,s)),n.min=(i,s)=>n.check(q0(i,s)),n.lt=(i,s)=>n.check(QE(i,s)),n.lte=(i,s)=>n.check(W0(i,s)),n.max=(i,s)=>n.check(W0(i,s)),n.int=i=>n.check(sS(i)),n.safe=i=>n.check(sS(i)),n.positive=i=>n.check(eS(0,i)),n.nonnegative=i=>n.check(q0(0,i)),n.negative=i=>n.check(QE(0,i)),n.nonpositive=i=>n.check(W0(0,i)),n.multipleOf=(i,s)=>n.check(tS(i,s)),n.step=(i,s)=>n.check(tS(i,s)),n.finite=()=>n;const r=n._zod.bag;n.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),n.isFinite=!0,n.format=r.format??null});function iS(n){return MG(UN,n)}const NH=Ye("ZodNumberFormat",(n,t)=>{Vz.init(n,t),UN.init(n,t)});function sS(n){return OG(NH,n)}const kH=Ye("ZodBoolean",(n,t)=>{$z.init(n,t),fr.init(n,t)});function FH(n){return PG(kH,n)}const MH=Ye("ZodAny",(n,t)=>{jz.init(n,t),fr.init(n,t)});function X0(){return LG(MH)}const OH=Ye("ZodUnknown",(n,t)=>{$y.init(n,t),fr.init(n,t)});function oS(){return zy(OH)}const PH=Ye("ZodNever",(n,t)=>{zz.init(n,t),fr.init(n,t)});function LH(n){return RG(PH,n)}const RH=Ye("ZodArray",(n,t)=>{ON.init(n,t),fr.init(n,t),n.element=t.element,n.min=(r,i)=>n.check(Yp(r,i)),n.nonempty=r=>n.check(Yp(1,r)),n.max=(r,i)=>n.check(PN(r,i)),n.length=(r,i)=>n.check(LN(r,i)),n.unwrap=()=>n.element});function Gy(n,t){return RN(RH,n,t)}const BH=Ye("ZodObject",(n,t)=>{Gz.init(n,t),fr.init(n,t),sr(n,"shape",()=>t.shape),n.keyof=()=>jH(Object.keys(n._zod.def.shape)),n.catchall=r=>n.clone({...n._zod.def,catchall:r}),n.passthrough=()=>n.clone({...n._zod.def,catchall:oS()}),n.loose=()=>n.clone({...n._zod.def,catchall:oS()}),n.strict=()=>n.clone({...n._zod.def,catchall:LH()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=r=>xj(n,r),n.merge=r=>_j(n,r),n.pick=r=>yj(n,r),n.omit=r=>bj(n,r),n.partial=(...r)=>wj(jN,n,r[0]),n.required=(...r)=>Ej(zN,n,r[0])});function UH(n,t){const r={type:"object",get shape(){return Ub(this,"shape",{...n}),this.shape},...It(t)};return new BH(r)}const VN=Ye("ZodUnion",(n,t)=>{Hz.init(n,t),fr.init(n,t),n.options=t.options});function Hy(n,t){return new VN({type:"union",options:n,...It(t)})}const VH=Ye("ZodIntersection",(n,t)=>{Wz.init(n,t),fr.init(n,t)});function $H(n,t){return new VH({type:"intersection",left:n,right:t})}const $N=Ye("ZodTuple",(n,t)=>{jb.init(n,t),fr.init(n,t),n.rest=r=>n.clone({...n._zod.def,rest:r})});function aS(n,t,r){const i=t instanceof Hn,s=i?r:t,o=i?t:null;return new $N({type:"tuple",items:n,rest:o,...It(s)})}const Wy=Ye("ZodEnum",(n,t)=>{qz.init(n,t),fr.init(n,t),n.enum=t.entries,n.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));n.extract=(i,s)=>{const o={};for(const a of i)if(r.has(a))o[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Wy({...t,checks:[],...It(s),entries:o})},n.exclude=(i,s)=>{const o={...t.entries};for(const a of i)if(r.has(a))delete o[a];else throw new Error(`Key ${a} not found in enum`);return new Wy({...t,checks:[],...It(s),entries:o})}});function jH(n,t){const r=Array.isArray(n)?Object.fromEntries(n.map(i=>[i,i])):n;return new Wy({type:"enum",entries:r,...It(t)})}const zH=Ye("ZodLiteral",(n,t)=>{Xz.init(n,t),fr.init(n,t),n.values=new Set(t.values),Object.defineProperty(n,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function lS(n,t){return new zH({type:"literal",values:Array.isArray(n)?n:[n],...It(t)})}const GH=Ye("ZodTransform",(n,t)=>{Yz.init(n,t),fr.init(n,t),n._zod.parse=(r,i)=>{r.addIssue=o=>{if(typeof o=="string")r.issues.push(Qh(o,r.value,t));else{const a=o;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=n),a.continue??(a.continue=!0),r.issues.push(Qh(a))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(o=>(r.value=o,r)):(r.value=s,r)}});function HH(n){return new GH({type:"transform",transform:n})}const jN=Ye("ZodOptional",(n,t)=>{Kz.init(n,t),fr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function uS(n){return new jN({type:"optional",innerType:n})}const WH=Ye("ZodNullable",(n,t)=>{Zz.init(n,t),fr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function cS(n){return new WH({type:"nullable",innerType:n})}const qH=Ye("ZodDefault",(n,t)=>{Jz.init(n,t),fr.init(n,t),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function XH(n,t){return new qH({type:"default",innerType:n,get defaultValue(){return typeof t=="function"?t():t}})}const YH=Ye("ZodPrefault",(n,t)=>{Qz.init(n,t),fr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function KH(n,t){return new YH({type:"prefault",innerType:n,get defaultValue(){return typeof t=="function"?t():t}})}const zN=Ye("ZodNonOptional",(n,t)=>{eG.init(n,t),fr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function ZH(n,t){return new zN({type:"nonoptional",innerType:n,...It(t)})}const JH=Ye("ZodCatch",(n,t)=>{tG.init(n,t),fr.init(n,t),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function QH(n,t){return new JH({type:"catch",innerType:n,catchValue:typeof t=="function"?t:()=>t})}const eW=Ye("ZodPipe",(n,t)=>{nG.init(n,t),fr.init(n,t),n.in=t.in,n.out=t.out});function hS(n,t){return new eW({type:"pipe",in:n,out:t})}const tW=Ye("ZodReadonly",(n,t)=>{rG.init(n,t),fr.init(n,t)});function nW(n){return new tW({type:"readonly",innerType:n})}const zb=Ye("ZodCustom",(n,t)=>{iG.init(n,t),fr.init(n,t)});function rW(n){const t=new ns({check:"custom"});return t._zod.check=n,t}function fS(n,t){return YG(zb,n??(()=>!0),t)}function iW(n,t={}){return KG(zb,n,t)}function sW(n){const t=rW(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(Qh(i,r.value,t._zod.def));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(Qh(s))}},n(r.value,r)));return t}function dS(n,t={error:`Input not instance of ${n.name}`}){const r=new zb({type:"custom",check:"custom",fn:i=>i instanceof n,abort:!0,...It(t)});return r._zod.bag.Class=n,r}var oW={describe:{overloads:[["String","FALLBACK|LABEL?"]]},describeElement:{overloads:[["String","String","FALLBACK|LABEL?"]]},textOutput:{overloads:[["FALLBACK|LABEL?"]]},gridOutput:{overloads:[["FALLBACK|LABEL?"]]},remove:{overloads:[[]]},p5:{overloads:[["Object","String|HTMLElement"]]},color:{overloads:[["Number","Number?"],["Number","Number","Number","Number?"],["String"],["Number[]"],["p5.Color"]]},red:{overloads:[["p5.Color|Number[]|String"]]},green:{overloads:[["p5.Color|Number[]|String"]]},blue:{overloads:[["p5.Color|Number[]|String"]]},alpha:{overloads:[["p5.Color|Number[]|String"]]},hue:{overloads:[["p5.Color|Number[]|String"]]},saturation:{overloads:[["p5.Color|Number[]|String"]]},brightness:{overloads:[["p5.Color|Number[]|String"]]},lightness:{overloads:[["p5.Color|Number[]|String"]]},lerpColor:{overloads:[["p5.Color","p5.Color","Number"]]},paletteLerp:{overloads:[["[p5.Color|String|Number|Number[], Number][]","Number"]]},beginClip:{overloads:[["Object?"]]},endClip:{overloads:[[]]},clip:{overloads:[["Function","Object?"]]},background:{overloads:[["p5.Color"],["String","Number?"],["Number","Number?"],["Number","Number","Number","Number?"],["Number[]"],["p5.Image","Number?"]]},clear:{overloads:[["Number?","Number?","Number?","Number?"],[]]},colorMode:{overloads:[["RGB|HSB|HSL|RGBHDR|HWB|LAB|LCH|OKLAB|OKLCH","Number?"],["RGB|HSB|HSL|RGBHDR|HWB|LAB|LCH|OKLAB|OKLCH","Number","Number","Number","Number?"],[]]},fill:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},noFill:{overloads:[[]]},noStroke:{overloads:[[]]},stroke:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},erase:{overloads:[["Number?","Number?"]]},noErase:{overloads:[[]]},blendMode:{overloads:[["BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|REMOVE|SUBTRACT"]]},print:{overloads:[["Any"],["String|Number|Array"]]},cursor:{overloads:[["ARROW|CROSS|HAND|MOVE|TEXT|WAIT|String","Number?","Number?"]]},frameRate:{overloads:[["Number"],[]]},getTargetFrameRate:{overloads:[[]]},noCursor:{overloads:[[]]},windowResized:{overloads:[["Event?"]]},fullscreen:{overloads:[["Boolean?"]]},pixelDensity:{overloads:[["Number?"],[]]},displayDensity:{overloads:[[]]},getURL:{overloads:[[]]},getURLPath:{overloads:[[]]},getURLParams:{overloads:[[]]},worldToScreen:{overloads:[["Number|p5.Vector","Number","Number?"]]},screenToWorld:{overloads:[["Number|p5.Vector","Number","Number?"]]},setup:{overloads:[[]]},draw:{overloads:[[]]},registerAddon:{overloads:[["Function"]]},createCanvas:{overloads:[["Number?","Number?","P2D|WEBGL|P2DHDR?","HTMLCanvasElement?"],["Number?","Number?","HTMLCanvasElement?"]]},resizeCanvas:{overloads:[["Number","Number","Boolean?"]]},noCanvas:{overloads:[[]]},createGraphics:{overloads:[["Number","Number","P2D|WEBGL?","HTMLCanvasElement?"],["Number","Number","HTMLCanvasElement?"]]},createFramebuffer:{overloads:[["Object?"]]},clearDepth:{overloads:[["Number?"]]},noLoop:{overloads:[[]]},loop:{overloads:[[]]},isLooping:{overloads:[[]]},redraw:{overloads:[["Integer?"]]},applyMatrix:{overloads:[["Number[]"],["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},resetMatrix:{overloads:[[]]},rotate:{overloads:[["Number","p5.Vector|Number[]?"]]},rotateX:{overloads:[["Number"]]},rotateY:{overloads:[["Number"]]},rotateZ:{overloads:[["Number"]]},scale:{overloads:[["Number|p5.Vector|Number[]","Number?","Number?"],["p5.Vector|Number[]"]]},shearX:{overloads:[["Number"]]},shearY:{overloads:[["Number"]]},translate:{overloads:[["Number","Number","Number?"],["p5.Vector"]]},push:{overloads:[[]]},pop:{overloads:[[]]},storeItem:{overloads:[["String","String|Number|Boolean|Object|Array"]]},getItem:{overloads:[["String"]]},clearStorage:{overloads:[[]]},removeItem:{overloads:[["String"]]},select:{overloads:[["String","String|p5.Element|HTMLElement?"]]},selectAll:{overloads:[["String","String|p5.Element|HTMLElement?"]]},createElement:{overloads:[["String","String?"]]},removeElements:{overloads:[[]]},addElement:{overloads:[[]]},createDiv:{overloads:[["String?"]]},createP:{overloads:[["String?"]]},createSpan:{overloads:[["String?"]]},createImg:{overloads:[["String","String"],["String","String","String?","Function?"]]},createA:{overloads:[["String","String","String?"]]},createSlider:{overloads:[["Number","Number","Number?","Number?"]]},createButton:{overloads:[["String","String?"]]},createCheckbox:{overloads:[["String?","Boolean?"]]},createSelect:{overloads:[["Boolean?"],["Object"]]},createRadio:{overloads:[["Object?"],["String?"],[]]},createColorPicker:{overloads:[["String|p5.Color?"]]},createInput:{overloads:[["String?","String?"],["String?"]]},createFileInput:{overloads:[["Function","Boolean?"]]},createVideo:{overloads:[["String|String[]?","Function?"]]},createAudio:{overloads:[["String|String[]?","Function?"]]},createCapture:{overloads:[["AUDIO|VIDEO|Object?","Object?","Function?"]]},setMoveThreshold:{overloads:[["Number"]]},setShakeThreshold:{overloads:[["Number"]]},deviceMoved:{overloads:[[]]},deviceTurned:{overloads:[[]]},deviceShaken:{overloads:[[]]},keyPressed:{overloads:[["KeyboardEvent?"]]},keyReleased:{overloads:[["KeyboardEvent?"]]},keyTyped:{overloads:[["KeyboardEvent?"]]},keyIsDown:{overloads:[["Number|String"]]},mouseMoved:{overloads:[["MouseEvent?"]]},mouseDragged:{overloads:[["MouseEvent?"]]},mousePressed:{overloads:[["MouseEvent?"]]},mouseReleased:{overloads:[["MouseEvent?"]]},mouseClicked:{overloads:[["MouseEvent?"]]},doubleClicked:{overloads:[["MouseEvent?"]]},mouseWheel:{overloads:[["WheelEvent?"]]},requestPointerLock:{overloads:[[]]},exitPointerLock:{overloads:[[]]},createImage:{overloads:[["Integer","Integer"]]},saveCanvas:{overloads:[["p5.Framebuffer|p5.Element|HTMLCanvasElement","String?","String?"],["String?","String?"]]},saveFrames:{overloads:[["String","String","Number","Number","function(Array)?"]]},loadImage:{overloads:[["String|Request","function(p5.Image)?","function(Event)?"]]},saveGif:{overloads:[["String","Number","Object?"]]},image:{overloads:[["p5.Image|p5.Element|p5.Texture|p5.Framebuffer|p5.FramebufferTexture|p5.Renderer|p5.Graphics","Number","Number","Number?","Number?"],["p5.Image|p5.Element|p5.Texture|p5.Framebuffer|p5.FramebufferTexture","Number","Number","Number","Number","Number","Number","Number?","Number?","CONTAIN|COVER?","LEFT|RIGHT|CENTER?","TOP|BOTTOM|CENTER?"]]},tint:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},noTint:{overloads:[[]]},imageMode:{overloads:[["CORNER|CORNERS|CENTER"]]},blend:{overloads:[["p5.Image","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"]]},copy:{overloads:[["p5.Image|p5.Element","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"]]},filter:{overloads:[["THRESHOLD|GRAY|OPAQUE|INVERT|POSTERIZE|BLUR|ERODE|DILATE|BLUR","Number?","Boolean?"],["p5.Shader"]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]},loadPixels:{overloads:[[]]},set:{overloads:[["Number","Number","Number|Number[]|Object"]]},updatePixels:{overloads:[["Number?","Number?","Number?","Number?"],[]]},loadJSON:{overloads:[["String|Request","Function?","Function?"]]},loadStrings:{overloads:[["String|Request","Function?","Function?"]]},loadTable:{overloads:[["String|Request","String?","String?","Function?","Function?"]]},loadXML:{overloads:[["String|Request","Function?","Function?"]]},loadBytes:{overloads:[["String|Request","Function?","Function?"]]},loadBlob:{overloads:[["String|Request","Function?","Function?"]]},httpGet:{overloads:[["String|Request","String?","Function?","Function?"],["String|Request","Function","Function?"]]},httpPost:{overloads:[["String|Request","Object|Boolean?","String?","Function?","Function?"],["String|Request","Object|Boolean","Function?","Function?"],["String|Request","Function?","Function?"]]},httpDo:{overloads:[["String|Request","String?","String?","Object?","Function?","Function?"],["String|Request","Function?","Function?"]]},createWriter:{overloads:[["String","String?"]]},write:{overloads:[["String|Number|Array"]]},close:{overloads:[[]]},save:{overloads:[["Object|String?","String?","Boolean|String?"]]},saveJSON:{overloads:[["Array|Object","String","Boolean?"]]},saveStrings:{overloads:[["String[]","String","String?","Boolean?"]]},saveTable:{overloads:[["p5.Table","String","String?"]]},setContent:{overloads:[["String"]]},abs:{overloads:[["Number"]]},ceil:{overloads:[["Number"]]},constrain:{overloads:[["Number","Number","Number"]]},dist:{overloads:[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number"]]},exp:{overloads:[["Number"]]},floor:{overloads:[["Number"]]},lerp:{overloads:[["Number","Number","Number"]]},log:{overloads:[["Number"]]},mag:{overloads:[["Number","Number"]]},map:{overloads:[["Number","Number","Number","Number","Number","Boolean?"]]},max:{overloads:[["Number","Number"],["Number[]"]]},min:{overloads:[["Number","Number"],["Number[]"]]},norm:{overloads:[["Number","Number","Number"]]},pow:{overloads:[["Number","Number"]]},round:{overloads:[["Number","Number?"]]},sq:{overloads:[["Number"]]},sqrt:{overloads:[["Number"]]},fract:{overloads:[["Number"]]},createVector:{overloads:[["...Number[]"]]},noise:{overloads:[["Number","Number?","Number?"]]},noiseDetail:{overloads:[["Number","Number"]]},noiseSeed:{overloads:[["Number"]]},randomSeed:{overloads:[["Number"]]},random:{overloads:[["Number?","Number?"],["Array"]]},randomGaussian:{overloads:[["Number?","Number?"]]},acos:{overloads:[["Number"]]},asin:{overloads:[["Number"]]},atan:{overloads:[["Number"]]},atan2:{overloads:[["Number","Number"]]},cos:{overloads:[["Number"]]},sin:{overloads:[["Number"]]},tan:{overloads:[["Number"]]},degrees:{overloads:[["Number"]]},radians:{overloads:[["Number"]]},angleMode:{overloads:[["RADIANS|DEGREES"],[]]},arc:{overloads:[["Number","Number","Number","Number","Number","Number","CHORD|PIE|OPEN?","Integer?"]]},ellipse:{overloads:[["Number","Number","Number","Number?"],["Number","Number","Number","Number","Integer?"]]},circle:{overloads:[["Number","Number","Number"]]},line:{overloads:[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number"]]},point:{overloads:[["Number","Number","Number?"],["p5.Vector"]]},quad:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number","Integer?","Integer?"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Integer?","Integer?"]]},rect:{overloads:[["Number","Number","Number","Number?","Number?","Number?","Number?","Number?"],["Number","Number","Number","Number","Integer?","Integer?"]]},square:{overloads:[["Number","Number","Number","Number?","Number?","Number?","Number?"]]},triangle:{overloads:[["Number","Number","Number","Number","Number","Number"]]},ellipseMode:{overloads:[["CENTER|RADIUS|CORNER|CORNERS"]]},noSmooth:{overloads:[[]]},rectMode:{overloads:[["CENTER|RADIUS|CORNER|CORNERS"]]},smooth:{overloads:[[]]},strokeCap:{overloads:[["ROUND|SQUARE|PROJECT"]]},strokeJoin:{overloads:[["MITER|BEVEL|ROUND"]]},strokeWeight:{overloads:[["Number"]]},bezier:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},bezierPoint:{overloads:[["Number","Number","Number","Number","Number"]]},bezierTangent:{overloads:[["Number","Number","Number","Number","Number"]]},spline:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},splinePoint:{overloads:[["Number","Number","Number","Number","Number"]]},splineTangent:{overloads:[["Number","Number","Number","Number","Number"]]},bezierOrder:{overloads:[["Number"],[]]},splineVertex:{overloads:[["Number","Number"],["Number","Number","Number?"],["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},splineProperty:{overloads:[["String",null],["String"]]},splineProperties:{overloads:[["Object"],[]]},vertex:{overloads:[["Number","Number"],["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},beginContour:{overloads:[[]]},endContour:{overloads:[["OPEN|CLOSE?"]]},beginShape:{overloads:[["POINTS|LINES|TRIANGLES|TRIANGLE_FAN|TRIANGLE_STRIP|QUADS|QUAD_STRIP|PATH?"]]},bezierVertex:{overloads:[["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},endShape:{overloads:[["CLOSE?","Integer?"]]},normal:{overloads:[["p5.Vector"],["Number","Number","Number"]]},vertexProperty:{overloads:[["String","Number|Number[]"]]},getWorldInputs:{overloads:[["Function"]]},combineColors:{overloads:[["Function"]]},getPixelInputs:{overloads:[["Function"]]},getFinalColor:{overloads:[["Function"]]},getColor:{overloads:[["Function"]]},getObjectInputs:{overloads:[["Function"]]},getCameraInputs:{overloads:[["Function"]]},loadFont:{overloads:[["String","String?","Object?","Function?","Function?"],["String","Function?","Function?"]]},text:{overloads:[["String|Object|Array|Number|Boolean","Number","Number","Number?","Number?"]]},textAlign:{overloads:[["LEFT|CENTER|RIGHT?","TOP|BOTTOM|CENTER|BASELINE?"]]},textAscent:{overloads:[["String?"]]},textDescent:{overloads:[["String?"]]},textLeading:{overloads:[["Number?"]]},textFont:{overloads:[["p5.Font|String|Object?","Number?"]]},textSize:{overloads:[["Number"],[]]},textStyle:{overloads:[["NORMAL|ITALIC|BOLD|BOLDITALIC"],[]]},textWidth:{overloads:[["String"]]},textWrap:{overloads:[["WORD|CHAR"],[]]},textBounds:{overloads:[["String","Number","Number","Number?","Number?"]]},textDirection:{overloads:[["String"],[]]},textProperty:{overloads:[["String",null],["String"]]},textProperties:{overloads:[["Object"],[]]},fontBounds:{overloads:[["String","Number","Number","Number?","Number?"]]},fontWidth:{overloads:[["String"]]},fontAscent:{overloads:[[]]},fontDescent:{overloads:[[]]},textWeight:{overloads:[["Number"],[]]},float:{overloads:[["String"],["String[]"]]},int:{overloads:[["String|Boolean|Number"],["Array"]]},str:{overloads:[["String|Boolean|Number"]]},boolean:{overloads:[["String|Boolean|Number"],["Array"]]},byte:{overloads:[["String|Boolean|Number"],["Array"]]},char:{overloads:[["String|Number"],["Array"]]},unchar:{overloads:[["String"],["String[]"]]},hex:{overloads:[["Number","Number?"],["Number[]","Number?"]]},unhex:{overloads:[["String"],["String[]"]]},day:{overloads:[[]]},hour:{overloads:[[]]},minute:{overloads:[[]]},millis:{overloads:[[]]},month:{overloads:[[]]},second:{overloads:[[]]},year:{overloads:[[]]},nf:{overloads:[["Number|String","Integer|String?","Integer|String?"],["Number[]","Integer|String?","Integer|String?"]]},nfc:{overloads:[["Number|String","Integer|String?"],["Number[]","Integer|String?"]]},nfp:{overloads:[["Number","Integer?","Integer?"],["Number[]","Integer?","Integer?"]]},nfs:{overloads:[["Number","Integer?","Integer?"],["Array","Integer?","Integer?"]]},splitTokens:{overloads:[["String","String?"]]},shuffle:{overloads:[["Array","Boolean?"]]},strokeMode:{overloads:[["String"]]},buildGeometry:{overloads:[["Function"]]},freeGeometry:{overloads:[["p5.Geometry"]]},plane:{overloads:[["Number?","Number?","Integer?","Integer?"]]},box:{overloads:[["Number?","Number?","Number?","Integer?","Integer?"]]},sphere:{overloads:[["Number?","Integer?","Integer?"]]},cylinder:{overloads:[["Number?","Number?","Integer?","Integer?","Boolean?","Boolean?"]]},cone:{overloads:[["Number?","Number?","Integer?","Integer?","Boolean?"]]},ellipsoid:{overloads:[["Number?","Number?","Number?","Integer?","Integer?"]]},torus:{overloads:[["Number?","Number?","Integer?","Integer?"]]},curveDetail:{overloads:[["Number"]]},orbitControl:{overloads:[["Number?","Number?","Number?","Object?"]]},debugMode:{overloads:[[],["GRID|AXES"],["GRID|AXES","Number?","Number?","Number?","Number?","Number?"],["GRID|AXES","Number?","Number?","Number?","Number?"],["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},noDebugMode:{overloads:[[]]},ambientLight:{overloads:[["Number","Number","Number","Number?"],["Number","Number?"],["String"],["Number[]"],["p5.Color"]]},specularColor:{overloads:[["Number","Number","Number"],["Number"],["String"],["Number[]"],["p5.Color"]]},directionalLight:{overloads:[["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","p5.Vector"],["p5.Color|Number[]|String","Number","Number","Number"],["p5.Color|Number[]|String","p5.Vector"]]},pointLight:{overloads:[["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","p5.Vector"],["p5.Color|Number[]|String","Number","Number","Number"],["p5.Color|Number[]|String","p5.Vector"]]},imageLight:{overloads:[["p5.Image"]]},panorama:{overloads:[["p5.Image"]]},lights:{overloads:[[]]},lightFalloff:{overloads:[["Number","Number","Number"]]},spotLight:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number?","Number?"],["p5.Color|Number[]|String","p5.Vector","p5.Vector","Number?","Number?"],["Number","Number","Number","p5.Vector","p5.Vector","Number?","Number?"],["p5.Color|Number[]|String","Number","Number","Number","p5.Vector","Number?","Number?"],["p5.Color|Number[]|String","p5.Vector","Number","Number","Number","Number?","Number?"],["Number","Number","Number","Number","Number","Number","p5.Vector","Number?","Number?"],["Number","Number","Number","p5.Vector","Number","Number","Number","Number?","Number?"],["p5.Color|Number[]|String","Number","Number","Number","Number","Number","Number","Number?","Number?"]]},noLights:{overloads:[[]]},loadModel:{overloads:[["String|Request","String?","Boolean?","function(p5.Geometry)?","function(Event)?"],["String|Request","String?","function(p5.Geometry)?","function(Event)?"],["String|Request","Object?"]]},model:{overloads:[["p5.Geometry","Number?"]]},createModel:{overloads:[["String","String?","Boolean?","function(p5.Geometry)?","function(Event)?"],["String","String?","function(p5.Geometry)?","function(Event)?"],["String","String?","Object?"]]},loadShader:{overloads:[["String|Request","String|Request","Function?","Function?"]]},createShader:{overloads:[["String","String","Object?"]]},loadFilterShader:{overloads:[["String","Function?","Function?"]]},createFilterShader:{overloads:[["String"]]},shader:{overloads:[["p5.Shader"]]},strokeShader:{overloads:[["p5.Shader"]]},imageShader:{overloads:[["p5.Shader"]]},baseMaterialShader:{overloads:[[]]},baseFilterShader:{overloads:[[]]},baseNormalShader:{overloads:[[]]},baseColorShader:{overloads:[[]]},baseStrokeShader:{overloads:[[]]},resetShader:{overloads:[[]]},texture:{overloads:[["p5.Image|p5.MediaElement|p5.Graphics|p5.Texture|p5.Framebuffer|p5.FramebufferTexture"]]},textureMode:{overloads:[["IMAGE|NORMAL"]]},textureWrap:{overloads:[["CLAMP|REPEAT|MIRROR","CLAMP|REPEAT|MIRROR?"]]},normalMaterial:{overloads:[[]]},ambientMaterial:{overloads:[["Number","Number","Number"],["Number"],["p5.Color|Number[]|String"]]},emissiveMaterial:{overloads:[["Number","Number","Number","Number?"],["Number"],["p5.Color|Number[]|String"]]},specularMaterial:{overloads:[["Number","Number?"],["Number","Number","Number","Number?"],["p5.Color|Number[]|String"]]},shininess:{overloads:[["Number"]]},metalness:{overloads:[["Number"]]},roll:{overloads:[["Number"]]},camera:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},perspective:{overloads:[["Number?","Number?","Number?","Number?"]]},linePerspective:{overloads:[["Boolean"],[]]},ortho:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},frustum:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},createCamera:{overloads:[[]]},setCamera:{overloads:[["p5.Camera"]]},saveObj:{overloads:[["String?"]]},saveStl:{overloads:[["String?","Object?"]]},fromAxisAngle:{overloads:[["Number?","Number?","Number?","Number?"]]},mult:{overloads:[["p5.Quat?"]]},rotateBy:{overloads:[["p5.Quat?"]]},setAttributes:{overloads:[["String","Boolean"],["Object"]]}},aW={p5:oW,"p5.Color":{toString:{overloads:[["String?"]]},contrast:{overloads:[["Color"]]},setRed:{overloads:[["Number"]]},setGreen:{overloads:[["Number"]]},setBlue:{overloads:[["Number"]]},setAlpha:{overloads:[["Number"]]}},"p5.Graphics":{reset:{overloads:[[]]},remove:{overloads:[[]]},createFramebuffer:{overloads:[["Object?"]]}},"p5.Element":{remove:{overloads:[[]]},parent:{overloads:[["String|p5.Element|Object"],[]]},child:{overloads:[[],["String|p5.Element?"]]},html:{overloads:[[],["String?","Boolean?"]]},id:{overloads:[["String"],[]]},class:{overloads:[["String"],[]]},addClass:{overloads:[["String"]]},removeClass:{overloads:[["String"]]},hasClass:{overloads:[[null]]},toggleClass:{overloads:[[null]]},center:{overloads:[["String?"]]},position:{overloads:[[],["Number?","Number?","String?"]]},show:{overloads:[[]]},hide:{overloads:[[]]},size:{overloads:[[],["Number|AUTO?","Number|AUTO?"]]},style:{overloads:[["String"],["String","String|p5.Color"]]},attribute:{overloads:[[],["String","String"]]},removeAttribute:{overloads:[["String"]]},value:{overloads:[[],["String|Number"]]},mousePressed:{overloads:[["Function|Boolean"]]},doubleClicked:{overloads:[["Function|Boolean"]]},mouseWheel:{overloads:[["Function|Boolean"]]},mouseReleased:{overloads:[["Function|Boolean"]]},mouseClicked:{overloads:[["Function|Boolean"]]},mouseMoved:{overloads:[["Function|Boolean"]]},mouseOver:{overloads:[["Function|Boolean"]]},mouseOut:{overloads:[["Function|Boolean"]]},dragOver:{overloads:[["Function|Boolean"]]},dragLeave:{overloads:[["Function|Boolean"]]},changed:{overloads:[["Function|Boolean"]]},input:{overloads:[["Function|Boolean"]]},drop:{overloads:[["Function","Function?"]]},draggable:{overloads:[["p5.Element?"]]}},"p5.MediaElement":{play:{overloads:[[]]},stop:{overloads:[[]]},pause:{overloads:[[]]},loop:{overloads:[[]]},noLoop:{overloads:[[]]},autoplay:{overloads:[["Boolean?"]]},volume:{overloads:[[],["Number"]]},speed:{overloads:[[],["Number"]]},time:{overloads:[["Number?"]]},duration:{overloads:[[]]},onended:{overloads:[["Function"]]},connect:{overloads:[["AudioNode|Object"]]},disconnect:{overloads:[[]]},showControls:{overloads:[[]]},hideControls:{overloads:[[]]},addCue:{overloads:[["Number","Function","Object?"]]},removeCue:{overloads:[["Number"]]},clearCues:{overloads:[[]]}},"p5.Image":{pixelDensity:{overloads:[["Number?"]]},loadPixels:{overloads:[[]]},updatePixels:{overloads:[["Integer?","Integer?","Integer?","Integer?"]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]},set:{overloads:[["Number","Number","Number|Number[]|Object"]]},resize:{overloads:[["Number","Number"]]},copy:{overloads:[["p5.Image|p5.Element","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"]]},mask:{overloads:[["p5.Image"]]},filter:{overloads:[["THRESHOLD|GRAY|OPAQUE|INVERT|POSTERIZE|ERODE|DILATE|BLUR","Number?"]]},blend:{overloads:[["p5.Image","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"]]},save:{overloads:[["String","String?"]]},reset:{overloads:[[]]},getCurrentFrame:{overloads:[[]]},setFrame:{overloads:[["Number"]]},numFrames:{overloads:[[]]},play:{overloads:[[]]},pause:{overloads:[[]]},delay:{overloads:[["Number","Number?"]]}},"p5.Table":{addRow:{overloads:[["p5.TableRow?"]]},removeRow:{overloads:[["Integer"]]},getRow:{overloads:[["Integer"]]},getRows:{overloads:[[]]},findRow:{overloads:[["String","Integer|String"]]},findRows:{overloads:[["String","Integer|String"]]},matchRow:{overloads:[["String|RegExp","String|Integer"]]},matchRows:{overloads:[["String","String|Integer?"]]},getColumn:{overloads:[["String|Number"]]},clearRows:{overloads:[[]]},addColumn:{overloads:[["String?"]]},getColumnCount:{overloads:[[]]},getRowCount:{overloads:[[]]},removeTokens:{overloads:[["String","String|Integer?"]]},trim:{overloads:[["String|Integer?"]]},removeColumn:{overloads:[["String|Integer"]]},set:{overloads:[["Integer","String|Integer","String|Number"]]},setNum:{overloads:[["Integer","String|Integer","Number"]]},setString:{overloads:[["Integer","String|Integer","String"]]},get:{overloads:[["Integer","String|Integer"]]},getNum:{overloads:[["Integer","String|Integer"]]},getString:{overloads:[["Integer","String|Integer"]]},getObject:{overloads:[["String?"]]},getArray:{overloads:[[]]}},"p5.TableRow":{set:{overloads:[["String|Integer","String|Number"]]},setNum:{overloads:[["String|Integer","Number|String"]]},setString:{overloads:[["String|Integer","String|Number|Boolean|Object"]]},get:{overloads:[["String|Integer"]]},getNum:{overloads:[["String|Integer"]]},getString:{overloads:[["String|Integer"]]}},"p5.XML":{getParent:{overloads:[[]]},getName:{overloads:[[]]},setName:{overloads:[["String"]]},hasChildren:{overloads:[[]]},listChildren:{overloads:[[]]},getChildren:{overloads:[["String?"]]},getChild:{overloads:[["String|Integer"]]},addChild:{overloads:[["p5.XML"]]},removeChild:{overloads:[["String|Integer"]]},getAttributeCount:{overloads:[[]]},listAttributes:{overloads:[[]]},hasAttribute:{overloads:[["String"]]},getNum:{overloads:[["String","Number?"]]},getString:{overloads:[["String","Number?"]]},setAttribute:{overloads:[["String","Number|String|Boolean"]]},getContent:{overloads:[["String?"]]},serialize:{overloads:[[]]}},"p5.Vector":{getValue:{overloads:[["Number"]]},setValue:{overloads:[["Number","Number"]]},set:{overloads:[["Number?","Number?","Number?"],["p5.Vector|Number[]"]]},copy:{overloads:[[]]},add:{overloads:[["Number|Array","Number?","Number?"],["p5.Vector|Number[]"]]},rem:{overloads:[["Number","Number","Number"],["p5.Vector|Number[]"]]},sub:{overloads:[["Number","Number?","Number?"],["p5.Vector|Number[]"]]},mult:{overloads:[["Number"],["Number","Number","Number?"],["Number[]"],["p5.Vector"]]},div:{overloads:[["Number"],["Number","Number","Number?"],["Number[]"],["p5.Vector"]]},mag:{overloads:[[]]},magSq:{overloads:[[]]},dot:{overloads:[["Number","Number?","Number?"],["p5.Vector"]]},cross:{overloads:[["p5.Vector"]]},dist:{overloads:[["p5.Vector"]]},normalize:{overloads:[[]]},limit:{overloads:[["Number"]]},setMag:{overloads:[["Number"]]},heading:{overloads:[[]]},setHeading:{overloads:[["Number"]]},rotate:{overloads:[["Number"]]},angleBetween:{overloads:[["p5.Vector"]]},lerp:{overloads:[["Number","Number","Number","Number"],["p5.Vector","Number"]]},slerp:{overloads:[["p5.Vector","Number"]]},reflect:{overloads:[["p5.Vector"]]},array:{overloads:[[]]},equals:{overloads:[["Number?","Number?","Number?"],["p5.Vector|Array"]]},clampToZero:{overloads:[[]]},fromAngle:{overloads:[["Number","Number?"]]},fromAngles:{overloads:[["Number","Number","Number?"]]},random2D:{overloads:[[]]},random3D:{overloads:[[]]}},"p5.Font":{textToPaths:{overloads:[["String","Number","Number","Number?","Number?"]]},textToPoints:{overloads:[["String","Number","Number","Object?"]]},textToContours:{overloads:[["String","Number","Number","Object?"]]},textToModel:{overloads:[["String","Number","Number","Number","Number","Object?"]]}},"p5.Camera":{perspective:{overloads:[["Number?","Number?","Number?","Number?"]]},ortho:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},frustum:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},pan:{overloads:[["Number"]]},tilt:{overloads:[["Number"]]},lookAt:{overloads:[["Number","Number","Number"]]},camera:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},move:{overloads:[["Number","Number","Number"]]},setPosition:{overloads:[["Number","Number","Number"]]},set:{overloads:[["p5.Camera"]]},slerp:{overloads:[["p5.Camera","p5.Camera","Number"]]}},"p5.Framebuffer":{resize:{overloads:[["Number","Number"]]},pixelDensity:{overloads:[["Number?"]]},autoSized:{overloads:[["Boolean?"]]},createCamera:{overloads:[[]]},remove:{overloads:[[]]},begin:{overloads:[[]]},end:{overloads:[[]]},draw:{overloads:[["Function"]]},loadPixels:{overloads:[[]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]}},"p5.Geometry":{calculateBoundingBox:{overloads:[[]]},clearColors:{overloads:[[]]},flipU:{overloads:[[]]},computeFaces:{overloads:[[]]},computeNormals:{overloads:[["FLAT|SMOOTH?","Object?"]]},makeEdgesFromFaces:{overloads:[[]]},normalize:{overloads:[[]]},vertexProperty:{overloads:[["String","Number|Number[]","Number?"]]},flipV:{overloads:[[]]}},"p5.Shader":{version:{overloads:[[]]},inspectHooks:{overloads:[[]]},modify:{overloads:[["Function","Object?"],["Object?"]]},copyToContext:{overloads:[["p5|p5.Graphics"]]},setUniform:{overloads:[["String","Boolean|Number|Number[]|p5.Image|p5.Graphics|p5.MediaElement|p5.Texture"]]}}};function GN(n,t,r){let i=new Map;const s=Object.keys(n).reduce((y,_)=>(_.match(/^[A-Z]/)&&!_.match(/^[A-Z][A-Z0-9]*$/)&&n[_]instanceof Function&&(y[_]=n[_]),y),{});function o(){for(let y of Object.keys(n))typeof n[y]=="function"&&y[0]!==y[0].toLowerCase()&&(s[y]=n[y])}const a={};for(const[y,_]of Object.entries(Ma))a[y]=_;const l={Any:X0(),Array:Gy(X0()),Boolean:FH(),Function:nS(),Integer:iS().int(),Number:iS(),Object:UH({}),String:fH()},u=["AudioNode","HTMLCanvasElement","HTMLElement","KeyboardEvent","MouseEvent","RegExp","TouchEvent","UIEvent","WheelEvent"];function h(y){return y.reduce((_,x)=>(_[x]=fS(C=>C instanceof globalThis[x],{message:`Expected a ${x}`}),_),{})}const c=h(u);Object.assign(l,c);const f=["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth"];function p(y){const _=y.lastIndexOf("."),x=y.slice(_+1),C=y.slice(0,_!==-1?_:0)||"p5";return{funcName:x,funcClass:C}}function d(y){let _=0;for(let x=0;x<y.length;x++)if(y[x]==="[")_++;else if(y[x]==="]"&&(_--,_<0))return!1;return _===0}const g=function(y){const{funcName:_,funcClass:x}=p(y);let C=aW[x][_];if(!C)return;let E=[];C.hasOwnProperty("overloads")&&(E=C.overloads);const S=F=>{if(!F)return X0();let T;if(F in a)T=lS(a[F]);else if(F.match(/^[A-Z][A-Z0-9]*$/)&&F in t)T=lS(t[F]);else if(F.startsWith("function"))T=nS();else if(/^p5\.[a-zA-Z0-9]+$/.exec(F)||F==="p5"){const I=F.substring(F.indexOf(".")+1);T=dS(s[I])}else if(l[F])T=l[F];else if(F.startsWith("[")&&F.endsWith("]")&&d(F.slice(1,-1)))T=aS(F.slice(1,-1).split(/, */g).map(I=>S(I)));else if(F.match(/^[A-Z]/)&&F in window)T=dS(window[F]);else if(F.includes("|")&&F.split("|").every(I=>d(I))){const I=F.split("|");T=Hy(I.map(M=>S(M)).filter(M=>M!==void 0))}else if(F.endsWith("[]"))T=Gy(S(F.slice(0,-2)));else throw new Error(`Unsupported type '${F}' in parameter validation. Please report this issue.`);return T},D=F=>{const T=F?.endsWith("?");F=F?.replace(/\?$/,"");const I=F?.startsWith("...")&&F?.endsWith("[]");F=F?.replace(/^\.\.\.(.+)\[\]$/,"$1");let M=S(F);return M.def.type==="function"&&(M=fS(L=>L instanceof Function)),T&&(M=M.optional()),{schema:M,rest:I}},A=F=>{if(!F.some(M=>M?.endsWith("?")))return[F];const T=F.filter(M=>M===null||!M.endsWith("?")).length,I=[];for(let M=T;M<=F.length;M++)I.push(F.slice(0,M));return I},N=E.flatMap(F=>A(F).map(I=>{const M=I.map($=>D($)).filter($=>$.schema!==void 0);let L;M.at(-1)?.rest&&(L=M.pop());let B=aS(M.map($=>$.schema));return L&&(B=B.rest(L.schema)),B}));return N.length===1?N[0]:Hy(N)},m=function(y,_){if(!(y instanceof VN))return y;const x=D=>{let A=1/0;if(!(D instanceof $N))return console.warn("Schema below is not a tuple: "),printZodSchema(D),A;const N=_.length,F=D.def.items,T=F.length,I=F.filter(M=>!M.isOptional()).length;N>=I&&N<=T?A=0:A=Math.abs(N<I?I-N:N-T)*4;for(let M=0;M<Math.min(F.length,_.length);M++){const L=F[M],B=_[M];L.safeParse(B).success||A++}return A};let C=y.def.options[0],E=1/0;return y.def.options.forEach(D=>{const A=x(D);A<E&&(C=D,E=A)}),C},v=function(y,_,x){let C=" p5.js says: ",E=!1,S=y.issues[0];const D=(F,T,I)=>{const M=I?`at the ${f[I]} parameter`:"",L=F?`, but received ${F}`:"";return`Expected ${T} ${M}${L}`},A=F=>{const T=new Set;let I;if(F.errors.forEach(M=>{const L=M[0];if(L){if(I||(I=L.message),L.code==="invalid_type")I=L.message.split(", received ")[1],T.add(L.expected);else if(L.code==="invalid_value")T.add("constant (please refer to documentation for allowed values)"),I=x[F.path[0]];else if(L.code==="custom"){const B=L.message.match(/Input not instance of (\w+)/);B&&T.add(B[1]),I=void 0}}}),T.size>0){F.path?.length>0&&x[F.path[0]]instanceof Promise&&(C+="Did you mean to put `await` before a loading function? An unexpected Promise was found. ",E=!0);const M=Array.from(T).join(" or "),L=F.path.join(".");C+=D(I,M,L)}return C};switch(S.code){case"invalid_union":{A(S);break}case"too_small":{const F=S.minimum;C+=`Expected at least ${F} argument${F>1?"s":""}, but received fewer`;break}case"invalid_type":{C+=D(S.message.split(", received ")[1],S.expected,S.path.join("."));break}case"too_big":{const F=S.maximum;C+=`Expected at most ${F} argument${F>1?"s":""}, but received more`;break}default:console.log("Zod error object",S)}C+=` in ${_}().`;const N=F=>{const{funcName:T,funcClass:I}=p(F);return`https://p5js.org/reference/${I}/${T}`};if(S.code==="too_big"||S.code==="too_small"){const F=N(_);C+=` For more information, see ${F}.`}return E?n._error(this,C):console.log(C),C},w=function(y,_){if(n.disableFriendlyErrors)return;if(Array.isArray(_)||(_=Array.from(_)),Array.isArray(_)&&_.length>0&&_.every(C=>C===void 0))return{success:!1,error:` p5.js says: All arguments for ${y}() are undefined. There is likely an error in the code.`};let x=i.get(y);if(!x){if(x=g(y),!x)return;i.set(y,x)}try{return{success:!0,data:x.parse(_)}}catch{const S=m(x,_).safeParse(_).error;return{success:!1,error:v(S,y,_)}}};t._validate=w,n.decorateHelper(/^(?!_).+$/,function(y,{name:_}){return function(...x){return!n.disableFriendlyErrors&&!n.disableParameterValidator&&w(_,x),y.call(this,...x)}}),r.presetup=function(){o()}}typeof p5<"u"&&GN(p5,p5.prototype);var lW=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],HN=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],uW="-----------------------------------------------------------------------------------------------------------------------------------------------------",WN="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Y0={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},K0="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",cW={5:K0,"5module":K0+" export import",6:K0+" const class extends export import super"},hW=/^in(stanceof)?$/,fW=new RegExp("["+WN+"]"),dW=new RegExp("["+WN+uW+"]");function qy(n,t){for(var r=65536,i=0;i<t.length;i+=2){if(r+=t[i],r>n)return!1;if(r+=t[i+1],r>=n)return!0}return!1}function po(n,t){return n<65?n===36:n<91?!0:n<97?n===95:n<123?!0:n<=65535?n>=170&&fW.test(String.fromCharCode(n)):t===!1?!1:qy(n,HN)}function La(n,t){return n<48?n===36:n<58?!0:n<65?!1:n<91?!0:n<97?n===95:n<123?!0:n<=65535?n>=170&&dW.test(String.fromCharCode(n)):t===!1?!1:qy(n,HN)||qy(n,lW)}var xn=function(t,r){r===void 0&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function xs(n,t){return new xn(n,{beforeExpr:!0,binop:t})}var _s={beforeExpr:!0},Bi={startsExpr:!0},Gb={};function yn(n,t){return t===void 0&&(t={}),t.keyword=n,Gb[n]=new xn(n,t)}var ae={num:new xn("num",Bi),regexp:new xn("regexp",Bi),string:new xn("string",Bi),name:new xn("name",Bi),privateId:new xn("privateId",Bi),eof:new xn("eof"),bracketL:new xn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new xn("]"),braceL:new xn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new xn("}"),parenL:new xn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new xn(")"),comma:new xn(",",_s),semi:new xn(";",_s),colon:new xn(":",_s),dot:new xn("."),question:new xn("?",_s),questionDot:new xn("?."),arrow:new xn("=>",_s),template:new xn("template"),invalidTemplate:new xn("invalidTemplate"),ellipsis:new xn("...",_s),backQuote:new xn("`",Bi),dollarBraceL:new xn("${",{beforeExpr:!0,startsExpr:!0}),eq:new xn("=",{beforeExpr:!0,isAssign:!0}),assign:new xn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new xn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new xn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:xs("||",1),logicalAND:xs("&&",2),bitwiseOR:xs("|",3),bitwiseXOR:xs("^",4),bitwiseAND:xs("&",5),equality:xs("==/!=/===/!==",6),relational:xs("</>/<=/>=",7),bitShift:xs("<</>>/>>>",8),plusMin:new xn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:xs("%",10),star:xs("*",10),slash:xs("/",10),starstar:new xn("**",{beforeExpr:!0}),coalesce:xs("??",1),_break:yn("break"),_case:yn("case",_s),_catch:yn("catch"),_continue:yn("continue"),_debugger:yn("debugger"),_default:yn("default",_s),_do:yn("do",{isLoop:!0,beforeExpr:!0}),_else:yn("else",_s),_finally:yn("finally"),_for:yn("for",{isLoop:!0}),_function:yn("function",Bi),_if:yn("if"),_return:yn("return",_s),_switch:yn("switch"),_throw:yn("throw",_s),_try:yn("try"),_var:yn("var"),_const:yn("const"),_while:yn("while",{isLoop:!0}),_with:yn("with"),_new:yn("new",{beforeExpr:!0,startsExpr:!0}),_this:yn("this",Bi),_super:yn("super",Bi),_class:yn("class",Bi),_extends:yn("extends",_s),_export:yn("export"),_import:yn("import",Bi),_null:yn("null",Bi),_true:yn("true",Bi),_false:yn("false",Bi),_in:yn("in",{beforeExpr:!0,binop:7}),_instanceof:yn("instanceof",{beforeExpr:!0,binop:7}),_typeof:yn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:yn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:yn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Qi=/\r\n?|\n|\u2028|\u2029/,pW=new RegExp(Qi.source,"g");function Ec(n){return n===10||n===13||n===8232||n===8233}function qN(n,t,r){r===void 0&&(r=n.length);for(var i=t;i<r;i++){var s=n.charCodeAt(i);if(Ec(s))return i<r-1&&s===13&&n.charCodeAt(i+1)===10?i+2:i+1}return-1}var XN=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,di=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,YN=Object.prototype,mW=YN.hasOwnProperty,gW=YN.toString,Sc=Object.hasOwn||(function(n,t){return mW.call(n,t)}),pS=Array.isArray||(function(n){return gW.call(n)==="[object Array]"}),mS=Object.create(null);function Sa(n){return mS[n]||(mS[n]=new RegExp("^(?:"+n.replace(/ /g,"|")+")$"))}function Jo(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}var vW=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ef=function(t,r){this.line=t,this.column=r};ef.prototype.offset=function(t){return new ef(this.line,this.column+t)};var ug=function(t,r,i){this.start=r,this.end=i,t.sourceFile!==null&&(this.source=t.sourceFile)};function KN(n,t){for(var r=1,i=0;;){var s=qN(n,i,t);if(s<0)return new ef(r,t-i);++r,i=s}}var Xy={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},gS=!1;function yW(n){var t={};for(var r in Xy)t[r]=n&&Sc(n,r)?n[r]:Xy[r];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!gS&&typeof console=="object"&&console.warn&&(gS=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!n||n.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),pS(t.onToken)){var i=t.onToken;t.onToken=function(s){return i.push(s)}}return pS(t.onComment)&&(t.onComment=bW(t,t.onComment)),t}function bW(n,t){return function(r,i,s,o,a,l){var u={type:r?"Block":"Line",value:i,start:s,end:o};n.locations&&(u.loc=new ug(this,a,l)),n.ranges&&(u.range=[s,o]),t.push(u)}}var tf=1,Cc=2,Hb=4,ZN=8,Wb=16,JN=32,cg=64,QN=128,au=256,Sf=512,hg=tf|Cc|au;function qb(n,t){return Cc|(n?Hb:0)|(t?ZN:0)}var Kp=0,Xb=1,na=2,ek=3,tk=4,nk=5,jr=function(t,r,i){this.options=t=yW(t),this.sourceFile=t.sourceFile,this.keywords=Sa(cW[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var s="";t.allowReserved!==!0&&(s=Y0[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(s+=" await")),this.reservedWords=Sa(s);var o=(s?s+" ":"")+Y0.strict;this.reservedWordsStrict=Sa(o),this.reservedWordsStrictBind=Sa(o+" "+Y0.strictBind),this.input=String(r),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Qi).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=ae.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(tf),this.regexpState=null,this.privateNameStack=[]},yo={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};jr.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};yo.inFunction.get=function(){return(this.currentVarScope().flags&Cc)>0};yo.inGenerator.get=function(){return(this.currentVarScope().flags&ZN)>0};yo.inAsync.get=function(){return(this.currentVarScope().flags&Hb)>0};yo.canAwait.get=function(){for(var n=this.scopeStack.length-1;n>=0;n--){var t=this.scopeStack[n],r=t.flags;if(r&(au|Sf))return!1;if(r&Cc)return(r&Hb)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};yo.allowSuper.get=function(){var n=this.currentThisScope(),t=n.flags;return(t&cg)>0||this.options.allowSuperOutsideMethod};yo.allowDirectSuper.get=function(){return(this.currentThisScope().flags&QN)>0};yo.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};yo.allowNewDotTarget.get=function(){for(var n=this.scopeStack.length-1;n>=0;n--){var t=this.scopeStack[n],r=t.flags;if(r&(au|Sf)||r&Cc&&!(r&Wb))return!0}return!1};yo.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&au)>0};jr.extend=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var i=this,s=0;s<t.length;s++)i=t[s](i);return i};jr.parse=function(t,r){return new this(r,t).parse()};jr.parseExpressionAt=function(t,r,i){var s=new this(i,t,r);return s.nextToken(),s.parseExpression()};jr.tokenizer=function(t,r){return new this(r,t)};Object.defineProperties(jr.prototype,yo);var Li=jr.prototype,xW=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Li.strictDirective=function(n){if(this.options.ecmaVersion<5)return!1;for(;;){di.lastIndex=n,n+=di.exec(this.input)[0].length;var t=xW.exec(this.input.slice(n));if(!t)return!1;if((t[1]||t[2])==="use strict"){di.lastIndex=n+t[0].length;var r=di.exec(this.input),i=r.index+r[0].length,s=this.input.charAt(i);return s===";"||s==="}"||Qi.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(i+1)==="=")}n+=t[0].length,di.lastIndex=n,n+=di.exec(this.input)[0].length,this.input[n]===";"&&n++}};Li.eat=function(n){return this.type===n?(this.next(),!0):!1};Li.isContextual=function(n){return this.type===ae.name&&this.value===n&&!this.containsEsc};Li.eatContextual=function(n){return this.isContextual(n)?(this.next(),!0):!1};Li.expectContextual=function(n){this.eatContextual(n)||this.unexpected()};Li.canInsertSemicolon=function(){return this.type===ae.eof||this.type===ae.braceR||Qi.test(this.input.slice(this.lastTokEnd,this.start))};Li.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Li.semicolon=function(){!this.eat(ae.semi)&&!this.insertSemicolon()&&this.unexpected()};Li.afterTrailingComma=function(n,t){if(this.type===n)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Li.expect=function(n){this.eat(n)||this.unexpected()};Li.unexpected=function(n){this.raise(n??this.start,"Unexpected token")};var fg=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Li.checkPatternErrors=function(n,t){if(n){n.trailingComma>-1&&this.raiseRecoverable(n.trailingComma,"Comma is not permitted after the rest element");var r=t?n.parenthesizedAssign:n.parenthesizedBind;r>-1&&this.raiseRecoverable(r,t?"Assigning to rvalue":"Parenthesized pattern")}};Li.checkExpressionErrors=function(n,t){if(!n)return!1;var r=n.shorthandAssign,i=n.doubleProto;if(!t)return r>=0||i>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")};Li.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Li.isSimpleAssignTarget=function(n){return n.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(n.expression):n.type==="Identifier"||n.type==="MemberExpression"};var St=jr.prototype;St.parseTopLevel=function(n){var t=Object.create(null);for(n.body||(n.body=[]);this.type!==ae.eof;){var r=this.parseStatement(null,!0,t);n.body.push(r)}if(this.inModule)for(var i=0,s=Object.keys(this.undefinedExports);i<s.length;i+=1){var o=s[i];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(n.body),this.next(),n.sourceType=this.options.sourceType,this.finishNode(n,"Program")};var Yb={kind:"loop"},_W={kind:"switch"};St.isLet=function(n){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;di.lastIndex=this.pos;var t=di.exec(this.input),r=this.pos+t[0].length,i=this.input.charCodeAt(r);if(i===91||i===92)return!0;if(n)return!1;if(i===123||i>55295&&i<56320)return!0;if(po(i,!0)){for(var s=r+1;La(i=this.input.charCodeAt(s),!0);)++s;if(i===92||i>55295&&i<56320)return!0;var o=this.input.slice(r,s);if(!hW.test(o))return!0}return!1};St.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;di.lastIndex=this.pos;var n=di.exec(this.input),t=this.pos+n[0].length,r;return!Qi.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(La(r=this.input.charCodeAt(t+8))||r>55295&&r<56320))};St.isUsingKeyword=function(n,t){if(this.options.ecmaVersion<17||!this.isContextual(n?"await":"using"))return!1;di.lastIndex=this.pos;var r=di.exec(this.input),i=this.pos+r[0].length;if(Qi.test(this.input.slice(this.pos,i)))return!1;if(n){var s=i+5,o;if(this.input.slice(i,s)!=="using"||s===this.input.length||La(o=this.input.charCodeAt(s))||o>55295&&o<56320)return!1;di.lastIndex=s;var a=di.exec(this.input);if(a&&Qi.test(this.input.slice(s,s+a[0].length)))return!1}if(t){var l=i+2,u;if(this.input.slice(i,l)==="of"&&(l===this.input.length||!La(u=this.input.charCodeAt(l))&&!(u>55295&&u<56320)))return!1}var h=this.input.charCodeAt(i);return po(h,!0)||h===92};St.isAwaitUsing=function(n){return this.isUsingKeyword(!0,n)};St.isUsing=function(n){return this.isUsingKeyword(!1,n)};St.parseStatement=function(n,t,r){var i=this.type,s=this.startNode(),o;switch(this.isLet(n)&&(i=ae._var,o="let"),i){case ae._break:case ae._continue:return this.parseBreakContinueStatement(s,i.keyword);case ae._debugger:return this.parseDebuggerStatement(s);case ae._do:return this.parseDoStatement(s);case ae._for:return this.parseForStatement(s);case ae._function:return n&&(this.strict||n!=="if"&&n!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!n);case ae._class:return n&&this.unexpected(),this.parseClass(s,!0);case ae._if:return this.parseIfStatement(s);case ae._return:return this.parseReturnStatement(s);case ae._switch:return this.parseSwitchStatement(s);case ae._throw:return this.parseThrowStatement(s);case ae._try:return this.parseTryStatement(s);case ae._const:case ae._var:return o=o||this.value,n&&o!=="var"&&this.unexpected(),this.parseVarStatement(s,o);case ae._while:return this.parseWhileStatement(s);case ae._with:return this.parseWithStatement(s);case ae.braceL:return this.parseBlock(!0,s);case ae.semi:return this.parseEmptyStatement(s);case ae._export:case ae._import:if(this.options.ecmaVersion>10&&i===ae._import){di.lastIndex=this.pos;var a=di.exec(this.input),l=this.pos+a[0].length,u=this.input.charCodeAt(l);if(u===40||u===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===ae._import?this.parseImport(s):this.parseExport(s,r);default:if(this.isAsyncFunction())return n&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!n);var h=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(h)return t&&this.options.sourceType==="script"&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),h==="await using"&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(s,!1,h),this.semicolon(),this.finishNode(s,"VariableDeclaration");var c=this.value,f=this.parseExpression();return i===ae.name&&f.type==="Identifier"&&this.eat(ae.colon)?this.parseLabeledStatement(s,c,f,n):this.parseExpressionStatement(s,f)}};St.parseBreakContinueStatement=function(n,t){var r=t==="break";this.next(),this.eat(ae.semi)||this.insertSemicolon()?n.label=null:this.type!==ae.name?this.unexpected():(n.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var s=this.labels[i];if((n.label==null||s.name===n.label.name)&&(s.kind!=null&&(r||s.kind==="loop")||n.label&&r))break}return i===this.labels.length&&this.raise(n.start,"Unsyntactic "+t),this.finishNode(n,r?"BreakStatement":"ContinueStatement")};St.parseDebuggerStatement=function(n){return this.next(),this.semicolon(),this.finishNode(n,"DebuggerStatement")};St.parseDoStatement=function(n){return this.next(),this.labels.push(Yb),n.body=this.parseStatement("do"),this.labels.pop(),this.expect(ae._while),n.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(ae.semi):this.semicolon(),this.finishNode(n,"DoWhileStatement")};St.parseForStatement=function(n){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Yb),this.enterScope(0),this.expect(ae.parenL),this.type===ae.semi)return t>-1&&this.unexpected(t),this.parseFor(n,null);var r=this.isLet();if(this.type===ae._var||this.type===ae._const||r){var i=this.startNode(),s=r?"let":this.value;return this.next(),this.parseVar(i,!0,s),this.finishNode(i,"VariableDeclaration"),this.parseForAfterInit(n,i,t)}var o=this.isContextual("let"),a=!1,l=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(l){var u=this.startNode();return this.next(),l==="await using"&&this.next(),this.parseVar(u,!0,l),this.finishNode(u,"VariableDeclaration"),this.parseForAfterInit(n,u,t)}var h=this.containsEsc,c=new fg,f=this.start,p=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===ae._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===ae._in&&this.unexpected(t),n.await=!0):a&&this.options.ecmaVersion>=8&&(p.start===f&&!h&&p.type==="Identifier"&&p.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(n.await=!1)),o&&a&&this.raise(p.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(p,!1,c),this.checkLValPattern(p),this.parseForIn(n,p)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(n,p))};St.parseForAfterInit=function(n,t,r){return(this.type===ae._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&t.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===ae._in?r>-1&&this.unexpected(r):n.await=r>-1),this.parseForIn(n,t)):(r>-1&&this.unexpected(r),this.parseFor(n,t))};St.parseFunctionStatement=function(n,t,r){return this.next(),this.parseFunction(n,bh|(r?0:Yy),!1,t)};St.parseIfStatement=function(n){return this.next(),n.test=this.parseParenExpression(),n.consequent=this.parseStatement("if"),n.alternate=this.eat(ae._else)?this.parseStatement("if"):null,this.finishNode(n,"IfStatement")};St.parseReturnStatement=function(n){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(ae.semi)||this.insertSemicolon()?n.argument=null:(n.argument=this.parseExpression(),this.semicolon()),this.finishNode(n,"ReturnStatement")};St.parseSwitchStatement=function(n){this.next(),n.discriminant=this.parseParenExpression(),n.cases=[],this.expect(ae.braceL),this.labels.push(_W),this.enterScope(0);for(var t,r=!1;this.type!==ae.braceR;)if(this.type===ae._case||this.type===ae._default){var i=this.type===ae._case;t&&this.finishNode(t,"SwitchCase"),n.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(ae.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(n,"SwitchStatement")};St.parseThrowStatement=function(n){return this.next(),Qi.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),n.argument=this.parseExpression(),this.semicolon(),this.finishNode(n,"ThrowStatement")};var wW=[];St.parseCatchClauseParam=function(){var n=this.parseBindingAtom(),t=n.type==="Identifier";return this.enterScope(t?JN:0),this.checkLValPattern(n,t?tk:na),this.expect(ae.parenR),n};St.parseTryStatement=function(n){if(this.next(),n.block=this.parseBlock(),n.handler=null,this.type===ae._catch){var t=this.startNode();this.next(),this.eat(ae.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),n.handler=this.finishNode(t,"CatchClause")}return n.finalizer=this.eat(ae._finally)?this.parseBlock():null,!n.handler&&!n.finalizer&&this.raise(n.start,"Missing catch or finally clause"),this.finishNode(n,"TryStatement")};St.parseVarStatement=function(n,t,r){return this.next(),this.parseVar(n,!1,t,r),this.semicolon(),this.finishNode(n,"VariableDeclaration")};St.parseWhileStatement=function(n){return this.next(),n.test=this.parseParenExpression(),this.labels.push(Yb),n.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(n,"WhileStatement")};St.parseWithStatement=function(n){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),n.object=this.parseParenExpression(),n.body=this.parseStatement("with"),this.finishNode(n,"WithStatement")};St.parseEmptyStatement=function(n){return this.next(),this.finishNode(n,"EmptyStatement")};St.parseLabeledStatement=function(n,t,r,i){for(var s=0,o=this.labels;s<o.length;s+=1){var a=o[s];a.name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var l=this.type.isLoop?"loop":this.type===ae._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var h=this.labels[u];if(h.statementStart===n.start)h.statementStart=this.start,h.kind=l;else break}return this.labels.push({name:t,kind:l,statementStart:this.start}),n.body=this.parseStatement(i?i.indexOf("label")===-1?i+"label":i:"label"),this.labels.pop(),n.label=r,this.finishNode(n,"LabeledStatement")};St.parseExpressionStatement=function(n,t){return n.expression=t,this.semicolon(),this.finishNode(n,"ExpressionStatement")};St.parseBlock=function(n,t,r){for(n===void 0&&(n=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(ae.braceL),n&&this.enterScope(0);this.type!==ae.braceR;){var i=this.parseStatement(null);t.body.push(i)}return r&&(this.strict=!1),this.next(),n&&this.exitScope(),this.finishNode(t,"BlockStatement")};St.parseFor=function(n,t){return n.init=t,this.expect(ae.semi),n.test=this.type===ae.semi?null:this.parseExpression(),this.expect(ae.semi),n.update=this.type===ae.parenR?null:this.parseExpression(),this.expect(ae.parenR),n.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(n,"ForStatement")};St.parseForIn=function(n,t){var r=this.type===ae._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!r||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"),n.left=t,n.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(ae.parenR),n.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(n,r?"ForInStatement":"ForOfStatement")};St.parseVar=function(n,t,r,i){for(n.declarations=[],n.kind=r;;){var s=this.startNode();if(this.parseVarId(s,r),this.eat(ae.eq)?s.init=this.parseMaybeAssign(t):!i&&r==="const"&&!(this.type===ae._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!i&&(r==="using"||r==="await using")&&this.options.ecmaVersion>=17&&this.type!==ae._in&&!this.isContextual("of")?this.raise(this.lastTokEnd,"Missing initializer in "+r+" declaration"):!i&&s.id.type!=="Identifier"&&!(t&&(this.type===ae._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):s.init=null,n.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(ae.comma))break}return n};St.parseVarId=function(n,t){n.id=t==="using"||t==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(n.id,t==="var"?Xb:na,!1)};var bh=1,Yy=2,rk=4;St.parseFunction=function(n,t,r,i,s){this.initFunction(n),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===ae.star&&t&Yy&&this.unexpected(),n.generator=this.eat(ae.star)),this.options.ecmaVersion>=8&&(n.async=!!i),t&bh&&(n.id=t&rk&&this.type!==ae.name?null:this.parseIdent(),n.id&&!(t&Yy)&&this.checkLValSimple(n.id,this.strict||n.generator||n.async?this.treatFunctionsAsVar?Xb:na:ek));var o=this.yieldPos,a=this.awaitPos,l=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(qb(n.async,n.generator)),t&bh||(n.id=this.type===ae.name?this.parseIdent():null),this.parseFunctionParams(n),this.parseFunctionBody(n,r,!1,s),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=l,this.finishNode(n,t&bh?"FunctionDeclaration":"FunctionExpression")};St.parseFunctionParams=function(n){this.expect(ae.parenL),n.params=this.parseBindingList(ae.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};St.parseClass=function(n,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(n,t),this.parseClassSuper(n);var i=this.enterClassBody(),s=this.startNode(),o=!1;for(s.body=[],this.expect(ae.braceL);this.type!==ae.braceR;){var a=this.parseClassElement(n.superClass!==null);a&&(s.body.push(a),a.type==="MethodDefinition"&&a.kind==="constructor"?(o&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),o=!0):a.key&&a.key.type==="PrivateIdentifier"&&EW(i,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=r,this.next(),n.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(n,t?"ClassDeclaration":"ClassExpression")};St.parseClassElement=function(n){if(this.eat(ae.semi))return null;var t=this.options.ecmaVersion,r=this.startNode(),i="",s=!1,o=!1,a="method",l=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(ae.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===ae.star?l=!0:i="static"}if(r.static=l,!i&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===ae.star)&&!this.canInsertSemicolon()?o=!0:i="async"),!i&&(t>=9||!o)&&this.eat(ae.star)&&(s=!0),!i&&!o&&!s){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=u:i=u)}if(i?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=i,this.finishNode(r.key,"Identifier")):this.parseClassElementName(r),t<13||this.type===ae.parenL||a!=="method"||s||o){var h=!r.static&&Zp(r,"constructor"),c=h&&n;h&&a!=="method"&&this.raise(r.key.start,"Constructor can't have get/set modifier"),r.kind=h?"constructor":a,this.parseClassMethod(r,s,o,c)}else this.parseClassField(r);return r};St.isClassElementNameStart=function(){return this.type===ae.name||this.type===ae.privateId||this.type===ae.num||this.type===ae.string||this.type===ae.bracketL||this.type.keyword};St.parseClassElementName=function(n){this.type===ae.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),n.computed=!1,n.key=this.parsePrivateIdent()):this.parsePropertyName(n)};St.parseClassMethod=function(n,t,r,i){var s=n.key;n.kind==="constructor"?(t&&this.raise(s.start,"Constructor can't be a generator"),r&&this.raise(s.start,"Constructor can't be an async method")):n.static&&Zp(n,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var o=n.value=this.parseMethod(t,r,i);return n.kind==="get"&&o.params.length!==0&&this.raiseRecoverable(o.start,"getter should have no params"),n.kind==="set"&&o.params.length!==1&&this.raiseRecoverable(o.start,"setter should have exactly one param"),n.kind==="set"&&o.params[0].type==="RestElement"&&this.raiseRecoverable(o.params[0].start,"Setter cannot use rest params"),this.finishNode(n,"MethodDefinition")};St.parseClassField=function(n){return Zp(n,"constructor")?this.raise(n.key.start,"Classes can't have a field named 'constructor'"):n.static&&Zp(n,"prototype")&&this.raise(n.key.start,"Classes can't have a static field named 'prototype'"),this.eat(ae.eq)?(this.enterScope(Sf|cg),n.value=this.parseMaybeAssign(),this.exitScope()):n.value=null,this.semicolon(),this.finishNode(n,"PropertyDefinition")};St.parseClassStaticBlock=function(n){n.body=[];var t=this.labels;for(this.labels=[],this.enterScope(au|cg);this.type!==ae.braceR;){var r=this.parseStatement(null);n.body.push(r)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(n,"StaticBlock")};St.parseClassId=function(n,t){this.type===ae.name?(n.id=this.parseIdent(),t&&this.checkLValSimple(n.id,na,!1)):(t===!0&&this.unexpected(),n.id=null)};St.parseClassSuper=function(n){n.superClass=this.eat(ae._extends)?this.parseExprSubscripts(null,!1):null};St.enterClassBody=function(){var n={declared:Object.create(null),used:[]};return this.privateNameStack.push(n),n.declared};St.exitClassBody=function(){var n=this.privateNameStack.pop(),t=n.declared,r=n.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,s=i===0?null:this.privateNameStack[i-1],o=0;o<r.length;++o){var a=r[o];Sc(t,a.name)||(s?s.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}};function EW(n,t){var r=t.key.name,i=n[r],s="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(s=(t.static?"s":"i")+t.kind),i==="iget"&&s==="iset"||i==="iset"&&s==="iget"||i==="sget"&&s==="sset"||i==="sset"&&s==="sget"?(n[r]="true",!1):i?!0:(n[r]=s,!1)}function Zp(n,t){var r=n.computed,i=n.key;return!r&&(i.type==="Identifier"&&i.name===t||i.type==="Literal"&&i.value===t)}St.parseExportAllDeclaration=function(n,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(n.exported=this.parseModuleExportName(),this.checkExport(t,n.exported,this.lastTokStart)):n.exported=null),this.expectContextual("from"),this.type!==ae.string&&this.unexpected(),n.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(n,"ExportAllDeclaration")};St.parseExport=function(n,t){if(this.next(),this.eat(ae.star))return this.parseExportAllDeclaration(n,t);if(this.eat(ae._default))return this.checkExport(t,"default",this.lastTokStart),n.declaration=this.parseExportDefaultDeclaration(),this.finishNode(n,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())n.declaration=this.parseExportDeclaration(n),n.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,n.declaration.declarations):this.checkExport(t,n.declaration.id,n.declaration.id.start),n.specifiers=[],n.source=null,this.options.ecmaVersion>=16&&(n.attributes=[]);else{if(n.declaration=null,n.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==ae.string&&this.unexpected(),n.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause());else{for(var r=0,i=n.specifiers;r<i.length;r+=1){var s=i[r];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type==="Literal"&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}n.source=null,this.options.ecmaVersion>=16&&(n.attributes=[])}this.semicolon()}return this.finishNode(n,"ExportNamedDeclaration")};St.parseExportDeclaration=function(n){return this.parseStatement(null)};St.parseExportDefaultDeclaration=function(){var n;if(this.type===ae._function||(n=this.isAsyncFunction())){var t=this.startNode();return this.next(),n&&this.next(),this.parseFunction(t,bh|rk,!1,n)}else if(this.type===ae._class){var r=this.startNode();return this.parseClass(r,"nullableID")}else{var i=this.parseMaybeAssign();return this.semicolon(),i}};St.checkExport=function(n,t,r){n&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),Sc(n,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),n[t]=!0)};St.checkPatternExport=function(n,t){var r=t.type;if(r==="Identifier")this.checkExport(n,t,t.start);else if(r==="ObjectPattern")for(var i=0,s=t.properties;i<s.length;i+=1){var o=s[i];this.checkPatternExport(n,o)}else if(r==="ArrayPattern")for(var a=0,l=t.elements;a<l.length;a+=1){var u=l[a];u&&this.checkPatternExport(n,u)}else r==="Property"?this.checkPatternExport(n,t.value):r==="AssignmentPattern"?this.checkPatternExport(n,t.left):r==="RestElement"&&this.checkPatternExport(n,t.argument)};St.checkVariableExport=function(n,t){if(n)for(var r=0,i=t;r<i.length;r+=1){var s=i[r];this.checkPatternExport(n,s.id)}};St.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};St.parseExportSpecifier=function(n){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(n,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};St.parseExportSpecifiers=function(n){var t=[],r=!0;for(this.expect(ae.braceL);!this.eat(ae.braceR);){if(r)r=!1;else if(this.expect(ae.comma),this.afterTrailingComma(ae.braceR))break;t.push(this.parseExportSpecifier(n))}return t};St.parseImport=function(n){return this.next(),this.type===ae.string?(n.specifiers=wW,n.source=this.parseExprAtom()):(n.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),n.source=this.type===ae.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(n,"ImportDeclaration")};St.parseImportSpecifier=function(){var n=this.startNode();return n.imported=this.parseModuleExportName(),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLValSimple(n.local,na),this.finishNode(n,"ImportSpecifier")};St.parseImportDefaultSpecifier=function(){var n=this.startNode();return n.local=this.parseIdent(),this.checkLValSimple(n.local,na),this.finishNode(n,"ImportDefaultSpecifier")};St.parseImportNamespaceSpecifier=function(){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLValSimple(n.local,na),this.finishNode(n,"ImportNamespaceSpecifier")};St.parseImportSpecifiers=function(){var n=[],t=!0;if(this.type===ae.name&&(n.push(this.parseImportDefaultSpecifier()),!this.eat(ae.comma)))return n;if(this.type===ae.star)return n.push(this.parseImportNamespaceSpecifier()),n;for(this.expect(ae.braceL);!this.eat(ae.braceR);){if(t)t=!1;else if(this.expect(ae.comma),this.afterTrailingComma(ae.braceR))break;n.push(this.parseImportSpecifier())}return n};St.parseWithClause=function(){var n=[];if(!this.eat(ae._with))return n;this.expect(ae.braceL);for(var t={},r=!0;!this.eat(ae.braceR);){if(r)r=!1;else if(this.expect(ae.comma),this.afterTrailingComma(ae.braceR))break;var i=this.parseImportAttribute(),s=i.key.type==="Identifier"?i.key.name:i.key.value;Sc(t,s)&&this.raiseRecoverable(i.key.start,"Duplicate attribute key '"+s+"'"),t[s]=!0,n.push(i)}return n};St.parseImportAttribute=function(){var n=this.startNode();return n.key=this.type===ae.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(ae.colon),this.type!==ae.string&&this.unexpected(),n.value=this.parseExprAtom(),this.finishNode(n,"ImportAttribute")};St.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===ae.string){var n=this.parseLiteral(this.value);return vW.test(n.value)&&this.raise(n.start,"An export name cannot include a lone surrogate."),n}return this.parseIdent(!0)};St.adaptDirectivePrologue=function(n){for(var t=0;t<n.length&&this.isDirectiveCandidate(n[t]);++t)n[t].directive=n[t].expression.raw.slice(1,-1)};St.isDirectiveCandidate=function(n){return this.options.ecmaVersion>=5&&n.type==="ExpressionStatement"&&n.expression.type==="Literal"&&typeof n.expression.value=="string"&&(this.input[n.start]==='"'||this.input[n.start]==="'")};var Fs=jr.prototype;Fs.toAssignable=function(n,t,r){if(this.options.ecmaVersion>=6&&n)switch(n.type){case"Identifier":this.inAsync&&n.name==="await"&&this.raise(n.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":n.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];this.toAssignable(o,t),o.type==="RestElement"&&(o.argument.type==="ArrayPattern"||o.argument.type==="ObjectPattern")&&this.raise(o.argument.start,"Unexpected token")}break;case"Property":n.kind!=="init"&&this.raise(n.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(n.value,t);break;case"ArrayExpression":n.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(n.elements,t);break;case"SpreadElement":n.type="RestElement",this.toAssignable(n.argument,t),n.argument.type==="AssignmentPattern"&&this.raise(n.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":n.operator!=="="&&this.raise(n.left.end,"Only '=' operator can be used for specifying default value."),n.type="AssignmentPattern",delete n.operator,this.toAssignable(n.left,t);break;case"ParenthesizedExpression":this.toAssignable(n.expression,t,r);break;case"ChainExpression":this.raiseRecoverable(n.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(n.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return n};Fs.toAssignableList=function(n,t){for(var r=n.length,i=0;i<r;i++){var s=n[i];s&&this.toAssignable(s,t)}if(r){var o=n[r-1];this.options.ecmaVersion===6&&t&&o&&o.type==="RestElement"&&o.argument.type!=="Identifier"&&this.unexpected(o.argument.start)}return n};Fs.parseSpread=function(n){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,n),this.finishNode(t,"SpreadElement")};Fs.parseRestBinding=function(){var n=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==ae.name&&this.unexpected(),n.argument=this.parseBindingAtom(),this.finishNode(n,"RestElement")};Fs.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case ae.bracketL:var n=this.startNode();return this.next(),n.elements=this.parseBindingList(ae.bracketR,!0,!0),this.finishNode(n,"ArrayPattern");case ae.braceL:return this.parseObj(!0)}return this.parseIdent()};Fs.parseBindingList=function(n,t,r,i){for(var s=[],o=!0;!this.eat(n);)if(o?o=!1:this.expect(ae.comma),t&&this.type===ae.comma)s.push(null);else{if(r&&this.afterTrailingComma(n))break;if(this.type===ae.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),s.push(a),this.type===ae.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(n);break}else s.push(this.parseAssignableListItem(i))}return s};Fs.parseAssignableListItem=function(n){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Fs.parseBindingListItem=function(n){return n};Fs.parseMaybeDefault=function(n,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(ae.eq))return r;var i=this.startNodeAt(n,t);return i.left=r,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")};Fs.checkLValSimple=function(n,t,r){t===void 0&&(t=Kp);var i=t!==Kp;switch(n.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(n.name)&&this.raiseRecoverable(n.start,(i?"Binding ":"Assigning to ")+n.name+" in strict mode"),i&&(t===na&&n.name==="let"&&this.raiseRecoverable(n.start,"let is disallowed as a lexically bound name"),r&&(Sc(r,n.name)&&this.raiseRecoverable(n.start,"Argument name clash"),r[n.name]=!0),t!==nk&&this.declareName(n.name,t,n.start));break;case"ChainExpression":this.raiseRecoverable(n.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(n.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(n.start,"Binding parenthesized expression"),this.checkLValSimple(n.expression,t,r);default:this.raise(n.start,(i?"Binding":"Assigning to")+" rvalue")}};Fs.checkLValPattern=function(n,t,r){switch(t===void 0&&(t=Kp),n.type){case"ObjectPattern":for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];this.checkLValInnerPattern(o,t,r)}break;case"ArrayPattern":for(var a=0,l=n.elements;a<l.length;a+=1){var u=l[a];u&&this.checkLValInnerPattern(u,t,r)}break;default:this.checkLValSimple(n,t,r)}};Fs.checkLValInnerPattern=function(n,t,r){switch(t===void 0&&(t=Kp),n.type){case"Property":this.checkLValInnerPattern(n.value,t,r);break;case"AssignmentPattern":this.checkLValPattern(n.left,t,r);break;case"RestElement":this.checkLValPattern(n.argument,t,r);break;default:this.checkLValPattern(n,t,r)}};var Bs=function(t,r,i,s,o){this.token=t,this.isExpr=!!r,this.preserveSpace=!!i,this.override=s,this.generator=!!o},ir={b_stat:new Bs("{",!1),b_expr:new Bs("{",!0),b_tmpl:new Bs("${",!1),p_stat:new Bs("(",!1),p_expr:new Bs("(",!0),q_tmpl:new Bs("`",!0,!0,function(n){return n.tryReadTemplateToken()}),f_stat:new Bs("function",!1),f_expr:new Bs("function",!0),f_expr_gen:new Bs("function",!0,!1,null,!0),f_gen:new Bs("function",!1,!1,null,!0)},Ac=jr.prototype;Ac.initialContext=function(){return[ir.b_stat]};Ac.curContext=function(){return this.context[this.context.length-1]};Ac.braceIsBlock=function(n){var t=this.curContext();return t===ir.f_expr||t===ir.f_stat?!0:n===ae.colon&&(t===ir.b_stat||t===ir.b_expr)?!t.isExpr:n===ae._return||n===ae.name&&this.exprAllowed?Qi.test(this.input.slice(this.lastTokEnd,this.start)):n===ae._else||n===ae.semi||n===ae.eof||n===ae.parenR||n===ae.arrow?!0:n===ae.braceL?t===ir.b_stat:n===ae._var||n===ae._const||n===ae.name?!1:!this.exprAllowed};Ac.inGeneratorContext=function(){for(var n=this.context.length-1;n>=1;n--){var t=this.context[n];if(t.token==="function")return t.generator}return!1};Ac.updateContext=function(n){var t,r=this.type;r.keyword&&n===ae.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,n):this.exprAllowed=r.beforeExpr};Ac.overrideContext=function(n){this.curContext()!==n&&(this.context[this.context.length-1]=n)};ae.parenR.updateContext=ae.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var n=this.context.pop();n===ir.b_stat&&this.curContext().token==="function"&&(n=this.context.pop()),this.exprAllowed=!n.isExpr};ae.braceL.updateContext=function(n){this.context.push(this.braceIsBlock(n)?ir.b_stat:ir.b_expr),this.exprAllowed=!0};ae.dollarBraceL.updateContext=function(){this.context.push(ir.b_tmpl),this.exprAllowed=!0};ae.parenL.updateContext=function(n){var t=n===ae._if||n===ae._for||n===ae._with||n===ae._while;this.context.push(t?ir.p_stat:ir.p_expr),this.exprAllowed=!0};ae.incDec.updateContext=function(){};ae._function.updateContext=ae._class.updateContext=function(n){n.beforeExpr&&n!==ae._else&&!(n===ae.semi&&this.curContext()!==ir.p_stat)&&!(n===ae._return&&Qi.test(this.input.slice(this.lastTokEnd,this.start)))&&!((n===ae.colon||n===ae.braceL)&&this.curContext()===ir.b_stat)?this.context.push(ir.f_expr):this.context.push(ir.f_stat),this.exprAllowed=!1};ae.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};ae.backQuote.updateContext=function(){this.curContext()===ir.q_tmpl?this.context.pop():this.context.push(ir.q_tmpl),this.exprAllowed=!1};ae.star.updateContext=function(n){if(n===ae._function){var t=this.context.length-1;this.context[t]===ir.f_expr?this.context[t]=ir.f_expr_gen:this.context[t]=ir.f_gen}this.exprAllowed=!0};ae.name.updateContext=function(n){var t=!1;this.options.ecmaVersion>=6&&n!==ae.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var zt=jr.prototype;zt.checkPropClash=function(n,t,r){if(!(this.options.ecmaVersion>=9&&n.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(n.computed||n.method||n.shorthand))){var i=n.key,s;switch(i.type){case"Identifier":s=i.name;break;case"Literal":s=String(i.value);break;default:return}var o=n.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&o==="init"&&(t.proto&&(r?r.doubleProto<0&&(r.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);return}s="$"+s;var a=t[s];if(a){var l;o==="init"?l=this.strict&&a.init||a.get||a.set:l=a.init||a[o],l&&this.raiseRecoverable(i.start,"Redefinition of property")}else a=t[s]={init:!1,get:!1,set:!1};a[o]=!0}};zt.parseExpression=function(n,t){var r=this.start,i=this.startLoc,s=this.parseMaybeAssign(n,t);if(this.type===ae.comma){var o=this.startNodeAt(r,i);for(o.expressions=[s];this.eat(ae.comma);)o.expressions.push(this.parseMaybeAssign(n,t));return this.finishNode(o,"SequenceExpression")}return s};zt.parseMaybeAssign=function(n,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(n);this.exprAllowed=!1}var i=!1,s=-1,o=-1,a=-1;t?(s=t.parenthesizedAssign,o=t.trailingComma,a=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new fg,i=!0);var l=this.start,u=this.startLoc;(this.type===ae.parenL||this.type===ae.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=n==="await");var h=this.parseMaybeConditional(n,t);if(r&&(h=r.call(this,h,l,u)),this.type.isAssign){var c=this.startNodeAt(l,u);return c.operator=this.value,this.type===ae.eq&&(h=this.toAssignable(h,!1,t)),i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=h.start&&(t.shorthandAssign=-1),this.type===ae.eq?this.checkLValPattern(h):this.checkLValSimple(h),c.left=h,this.next(),c.right=this.parseMaybeAssign(n),a>-1&&(t.doubleProto=a),this.finishNode(c,"AssignmentExpression")}else i&&this.checkExpressionErrors(t,!0);return s>-1&&(t.parenthesizedAssign=s),o>-1&&(t.trailingComma=o),h};zt.parseMaybeConditional=function(n,t){var r=this.start,i=this.startLoc,s=this.parseExprOps(n,t);if(this.checkExpressionErrors(t))return s;if(this.eat(ae.question)){var o=this.startNodeAt(r,i);return o.test=s,o.consequent=this.parseMaybeAssign(),this.expect(ae.colon),o.alternate=this.parseMaybeAssign(n),this.finishNode(o,"ConditionalExpression")}return s};zt.parseExprOps=function(n,t){var r=this.start,i=this.startLoc,s=this.parseMaybeUnary(t,!1,!1,n);return this.checkExpressionErrors(t)||s.start===r&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,r,i,-1,n)};zt.parseExprOp=function(n,t,r,i,s){var o=this.type.binop;if(o!=null&&(!s||this.type!==ae._in)&&o>i){var a=this.type===ae.logicalOR||this.type===ae.logicalAND,l=this.type===ae.coalesce;l&&(o=ae.logicalAND.binop);var u=this.value;this.next();var h=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),h,c,o,s),p=this.buildBinary(t,r,n,f,u,a||l);return(a&&this.type===ae.coalesce||l&&(this.type===ae.logicalOR||this.type===ae.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,r,i,s)}return n};zt.buildBinary=function(n,t,r,i,s,o){i.type==="PrivateIdentifier"&&this.raise(i.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(n,t);return a.left=r,a.operator=s,a.right=i,this.finishNode(a,o?"LogicalExpression":"BinaryExpression")};zt.parseMaybeUnary=function(n,t,r,i){var s=this.start,o=this.startLoc,a;if(this.isContextual("await")&&this.canAwait)a=this.parseAwait(i),t=!0;else if(this.type.prefix){var l=this.startNode(),u=this.type===ae.incDec;l.operator=this.value,l.prefix=!0,this.next(),l.argument=this.parseMaybeUnary(null,!0,u,i),this.checkExpressionErrors(n,!0),u?this.checkLValSimple(l.argument):this.strict&&l.operator==="delete"&&ik(l.argument)?this.raiseRecoverable(l.start,"Deleting local variable in strict mode"):l.operator==="delete"&&Ky(l.argument)?this.raiseRecoverable(l.start,"Private fields can not be deleted"):t=!0,a=this.finishNode(l,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===ae.privateId)(i||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),a=this.parsePrivateIdent(),this.type!==ae._in&&this.unexpected();else{if(a=this.parseExprSubscripts(n,i),this.checkExpressionErrors(n))return a;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(s,o);h.operator=this.value,h.prefix=!1,h.argument=a,this.checkLValSimple(a),this.next(),a=this.finishNode(h,"UpdateExpression")}}if(!r&&this.eat(ae.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(s,o,a,this.parseMaybeUnary(null,!1,!1,i),"**",!1);else return a};function ik(n){return n.type==="Identifier"||n.type==="ParenthesizedExpression"&&ik(n.expression)}function Ky(n){return n.type==="MemberExpression"&&n.property.type==="PrivateIdentifier"||n.type==="ChainExpression"&&Ky(n.expression)||n.type==="ParenthesizedExpression"&&Ky(n.expression)}zt.parseExprSubscripts=function(n,t){var r=this.start,i=this.startLoc,s=this.parseExprAtom(n,t);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var o=this.parseSubscripts(s,r,i,!1,t);return n&&o.type==="MemberExpression"&&(n.parenthesizedAssign>=o.start&&(n.parenthesizedAssign=-1),n.parenthesizedBind>=o.start&&(n.parenthesizedBind=-1),n.trailingComma>=o.start&&(n.trailingComma=-1)),o};zt.parseSubscripts=function(n,t,r,i,s){for(var o=this.options.ecmaVersion>=8&&n.type==="Identifier"&&n.name==="async"&&this.lastTokEnd===n.end&&!this.canInsertSemicolon()&&n.end-n.start===5&&this.potentialArrowAt===n.start,a=!1;;){var l=this.parseSubscript(n,t,r,i,o,a,s);if(l.optional&&(a=!0),l===n||l.type==="ArrowFunctionExpression"){if(a){var u=this.startNodeAt(t,r);u.expression=l,l=this.finishNode(u,"ChainExpression")}return l}n=l}};zt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(ae.arrow)};zt.parseSubscriptAsyncArrow=function(n,t,r,i){return this.parseArrowExpression(this.startNodeAt(n,t),r,!0,i)};zt.parseSubscript=function(n,t,r,i,s,o,a){var l=this.options.ecmaVersion>=11,u=l&&this.eat(ae.questionDot);i&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(ae.bracketL);if(h||u&&this.type!==ae.parenL&&this.type!==ae.backQuote||this.eat(ae.dot)){var c=this.startNodeAt(t,r);c.object=n,h?(c.property=this.parseExpression(),this.expect(ae.bracketR)):this.type===ae.privateId&&n.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!h,l&&(c.optional=u),n=this.finishNode(c,"MemberExpression")}else if(!i&&this.eat(ae.parenL)){var f=new fg,p=this.yieldPos,d=this.awaitPos,g=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(ae.parenR,this.options.ecmaVersion>=8,!1,f);if(s&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=p,this.awaitPos=d,this.awaitIdentPos=g,this.parseSubscriptAsyncArrow(t,r,m,a);this.checkExpressionErrors(f,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,this.awaitIdentPos=g||this.awaitIdentPos;var v=this.startNodeAt(t,r);v.callee=n,v.arguments=m,l&&(v.optional=u),n=this.finishNode(v,"CallExpression")}else if(this.type===ae.backQuote){(u||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var w=this.startNodeAt(t,r);w.tag=n,w.quasi=this.parseTemplate({isTagged:!0}),n=this.finishNode(w,"TaggedTemplateExpression")}return n};zt.parseExprAtom=function(n,t,r){this.type===ae.slash&&this.readRegexp();var i,s=this.potentialArrowAt===this.start;switch(this.type){case ae._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===ae.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==ae.dot&&this.type!==ae.bracketL&&this.type!==ae.parenL&&this.unexpected(),this.finishNode(i,"Super");case ae._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case ae.name:var o=this.start,a=this.startLoc,l=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(ae._function))return this.overrideContext(ir.f_expr),this.parseFunction(this.startNodeAt(o,a),0,!1,!0,t);if(s&&!this.canInsertSemicolon()){if(this.eat(ae.arrow))return this.parseArrowExpression(this.startNodeAt(o,a),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===ae.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(ae.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(o,a),[u],!0,t)}return u;case ae.regexp:var h=this.value;return i=this.parseLiteral(h.value),i.regex={pattern:h.pattern,flags:h.flags},i;case ae.num:case ae.string:return this.parseLiteral(this.value);case ae._null:case ae._true:case ae._false:return i=this.startNode(),i.value=this.type===ae._null?null:this.type===ae._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case ae.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(s,t);return n&&(n.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(n.parenthesizedAssign=c),n.parenthesizedBind<0&&(n.parenthesizedBind=c)),f;case ae.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(ae.bracketR,!0,!0,n),this.finishNode(i,"ArrayExpression");case ae.braceL:return this.overrideContext(ir.b_expr),this.parseObj(!1,n);case ae._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case ae._class:return this.parseClass(this.startNode(),!1);case ae._new:return this.parseNew();case ae.backQuote:return this.parseTemplate();case ae._import:return this.options.ecmaVersion>=11?this.parseExprImport(r):this.unexpected();default:return this.parseExprAtomDefault()}};zt.parseExprAtomDefault=function(){this.unexpected()};zt.parseExprImport=function(n){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===ae.parenL&&!n)return this.parseDynamicImport(t);if(this.type===ae.dot){var r=this.startNodeAt(t.start,t.loc&&t.loc.start);return r.name="import",t.meta=this.finishNode(r,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};zt.parseDynamicImport=function(n){if(this.next(),n.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(ae.parenR)?n.options=null:(this.expect(ae.comma),this.afterTrailingComma(ae.parenR)?n.options=null:(n.options=this.parseMaybeAssign(),this.eat(ae.parenR)||(this.expect(ae.comma),this.afterTrailingComma(ae.parenR)||this.unexpected())));else if(!this.eat(ae.parenR)){var t=this.start;this.eat(ae.comma)&&this.eat(ae.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(n,"ImportExpression")};zt.parseImportMeta=function(n){this.next();var t=this.containsEsc;return n.property=this.parseIdent(!0),n.property.name!=="meta"&&this.raiseRecoverable(n.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(n.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(n.start,"Cannot use 'import.meta' outside a module"),this.finishNode(n,"MetaProperty")};zt.parseLiteral=function(n){var t=this.startNode();return t.value=n,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.value!=null?t.value.toString():t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};zt.parseParenExpression=function(){this.expect(ae.parenL);var n=this.parseExpression();return this.expect(ae.parenR),n};zt.shouldParseArrow=function(n){return!this.canInsertSemicolon()};zt.parseParenAndDistinguishExpression=function(n,t){var r=this.start,i=this.startLoc,s,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,l=this.startLoc,u=[],h=!0,c=!1,f=new fg,p=this.yieldPos,d=this.awaitPos,g;for(this.yieldPos=0,this.awaitPos=0;this.type!==ae.parenR;)if(h?h=!1:this.expect(ae.comma),o&&this.afterTrailingComma(ae.parenR,!0)){c=!0;break}else if(this.type===ae.ellipsis){g=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===ae.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var m=this.lastTokEnd,v=this.lastTokEndLoc;if(this.expect(ae.parenR),n&&this.shouldParseArrow(u)&&this.eat(ae.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=d,this.parseParenArrowList(r,i,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),g&&this.unexpected(g),this.checkExpressionErrors(f,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,u.length>1?(s=this.startNodeAt(a,l),s.expressions=u,this.finishNodeAt(s,"SequenceExpression",m,v)):s=u[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var w=this.startNodeAt(r,i);return w.expression=s,this.finishNode(w,"ParenthesizedExpression")}else return s};zt.parseParenItem=function(n){return n};zt.parseParenArrowList=function(n,t,r,i){return this.parseArrowExpression(this.startNodeAt(n,t),r,!1,i)};var SW=[];zt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var n=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===ae.dot){var t=this.startNodeAt(n.start,n.loc&&n.loc.start);t.name="new",n.meta=this.finishNode(t,"Identifier"),this.next();var r=this.containsEsc;return n.property=this.parseIdent(!0),n.property.name!=="target"&&this.raiseRecoverable(n.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(n.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(n.start,"'new.target' can only be used in functions and class static block"),this.finishNode(n,"MetaProperty")}var i=this.start,s=this.startLoc;return n.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,s,!0,!1),this.eat(ae.parenL)?n.arguments=this.parseExprList(ae.parenR,this.options.ecmaVersion>=8,!1):n.arguments=SW,this.finishNode(n,"NewExpression")};zt.parseTemplateElement=function(n){var t=n.isTagged,r=this.startNode();return this.type===ae.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),r.tail=this.type===ae.backQuote,this.finishNode(r,"TemplateElement")};zt.parseTemplate=function(n){n===void 0&&(n={});var t=n.isTagged;t===void 0&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(r.quasis=[i];!i.tail;)this.type===ae.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(ae.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(ae.braceR),r.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")};zt.isAsyncProp=function(n){return!n.computed&&n.key.type==="Identifier"&&n.key.name==="async"&&(this.type===ae.name||this.type===ae.num||this.type===ae.string||this.type===ae.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===ae.star)&&!Qi.test(this.input.slice(this.lastTokEnd,this.start))};zt.parseObj=function(n,t){var r=this.startNode(),i=!0,s={};for(r.properties=[],this.next();!this.eat(ae.braceR);){if(i)i=!1;else if(this.expect(ae.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(ae.braceR))break;var o=this.parseProperty(n,t);n||this.checkPropClash(o,s,t),r.properties.push(o)}return this.finishNode(r,n?"ObjectPattern":"ObjectExpression")};zt.parseProperty=function(n,t){var r=this.startNode(),i,s,o,a;if(this.options.ecmaVersion>=9&&this.eat(ae.ellipsis))return n?(r.argument=this.parseIdent(!1),this.type===ae.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(r.argument=this.parseMaybeAssign(!1,t),this.type===ae.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(n||t)&&(o=this.start,a=this.startLoc),n||(i=this.eat(ae.star)));var l=this.containsEsc;return this.parsePropertyName(r),!n&&!l&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(r)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(ae.star),this.parsePropertyName(r)):s=!1,this.parsePropertyValue(r,n,i,s,o,a,t,l),this.finishNode(r,"Property")};zt.parseGetterSetter=function(n){var t=n.key.name;this.parsePropertyName(n),n.value=this.parseMethod(!1),n.kind=t;var r=n.kind==="get"?0:1;if(n.value.params.length!==r){var i=n.value.start;n.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else n.kind==="set"&&n.value.params[0].type==="RestElement"&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params")};zt.parsePropertyValue=function(n,t,r,i,s,o,a,l){(r||i)&&this.type===ae.colon&&this.unexpected(),this.eat(ae.colon)?(n.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),n.kind="init"):this.options.ecmaVersion>=6&&this.type===ae.parenL?(t&&this.unexpected(),n.method=!0,n.value=this.parseMethod(r,i),n.kind="init"):!t&&!l&&this.options.ecmaVersion>=5&&!n.computed&&n.key.type==="Identifier"&&(n.key.name==="get"||n.key.name==="set")&&this.type!==ae.comma&&this.type!==ae.braceR&&this.type!==ae.eq?((r||i)&&this.unexpected(),this.parseGetterSetter(n)):this.options.ecmaVersion>=6&&!n.computed&&n.key.type==="Identifier"?((r||i)&&this.unexpected(),this.checkUnreserved(n.key),n.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t?n.value=this.parseMaybeDefault(s,o,this.copyNode(n.key)):this.type===ae.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),n.value=this.parseMaybeDefault(s,o,this.copyNode(n.key))):n.value=this.copyNode(n.key),n.kind="init",n.shorthand=!0):this.unexpected()};zt.parsePropertyName=function(n){if(this.options.ecmaVersion>=6){if(this.eat(ae.bracketL))return n.computed=!0,n.key=this.parseMaybeAssign(),this.expect(ae.bracketR),n.key;n.computed=!1}return n.key=this.type===ae.num||this.type===ae.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};zt.initFunction=function(n){n.id=null,this.options.ecmaVersion>=6&&(n.generator=n.expression=!1),this.options.ecmaVersion>=8&&(n.async=!1)};zt.parseMethod=function(n,t,r){var i=this.startNode(),s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=n),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(qb(t,i.generator)|cg|(r?QN:0)),this.expect(ae.parenL),i.params=this.parseBindingList(ae.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(i,"FunctionExpression")};zt.parseArrowExpression=function(n,t,r,i){var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(qb(r,!1)|Wb),this.initFunction(n),this.options.ecmaVersion>=8&&(n.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,n.params=this.toAssignableList(t,!0),this.parseFunctionBody(n,!0,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(n,"ArrowFunctionExpression")};zt.parseFunctionBody=function(n,t,r,i){var s=t&&this.type!==ae.braceL,o=this.strict,a=!1;if(s)n.body=this.parseMaybeAssign(i),n.expression=!0,this.checkParams(n,!1);else{var l=this.options.ecmaVersion>=7&&!this.isSimpleParamList(n.params);(!o||l)&&(a=this.strictDirective(this.end),a&&l&&this.raiseRecoverable(n.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(n,!o&&!a&&!t&&!r&&this.isSimpleParamList(n.params)),this.strict&&n.id&&this.checkLValSimple(n.id,nk),n.body=this.parseBlock(!1,void 0,a&&!o),n.expression=!1,this.adaptDirectivePrologue(n.body.body),this.labels=u}this.exitScope()};zt.isSimpleParamList=function(n){for(var t=0,r=n;t<r.length;t+=1){var i=r[t];if(i.type!=="Identifier")return!1}return!0};zt.checkParams=function(n,t){for(var r=Object.create(null),i=0,s=n.params;i<s.length;i+=1){var o=s[i];this.checkLValInnerPattern(o,Xb,t?null:r)}};zt.parseExprList=function(n,t,r,i){for(var s=[],o=!0;!this.eat(n);){if(o)o=!1;else if(this.expect(ae.comma),t&&this.afterTrailingComma(n))break;var a=void 0;r&&this.type===ae.comma?a=null:this.type===ae.ellipsis?(a=this.parseSpread(i),i&&this.type===ae.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),s.push(a)}return s};zt.checkUnreserved=function(n){var t=n.start,r=n.end,i=n.name;if(this.inGenerator&&i==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&hg)&&i==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(i==="arguments"||i==="await")&&this.raise(t,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,r).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(i)&&(!this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))}};zt.parseIdent=function(n){var t=this.parseIdentNode();return this.next(!!n),this.finishNode(t,"Identifier"),n||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};zt.parseIdentNode=function(){var n=this.startNode();return this.type===ae.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,(n.name==="class"||n.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=ae.name):this.unexpected(),n};zt.parsePrivateIdent=function(){var n=this.startNode();return this.type===ae.privateId?n.name=this.value:this.unexpected(),this.next(),this.finishNode(n,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(n.start,"Private field '#"+n.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(n)),n};zt.parseYield=function(n){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===ae.semi||this.canInsertSemicolon()||this.type!==ae.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(ae.star),t.argument=this.parseMaybeAssign(n)),this.finishNode(t,"YieldExpression")};zt.parseAwait=function(n){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,n),this.finishNode(t,"AwaitExpression")};var Jp=jr.prototype;Jp.raise=function(n,t){var r=KN(this.input,n);t+=" ("+r.line+":"+r.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var i=new SyntaxError(t);throw i.pos=n,i.loc=r,i.raisedAt=this.pos,i};Jp.raiseRecoverable=Jp.raise;Jp.curPosition=function(){if(this.options.locations)return new ef(this.curLine,this.pos-this.lineStart)};var ja=jr.prototype,CW=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};ja.enterScope=function(n){this.scopeStack.push(new CW(n))};ja.exitScope=function(){this.scopeStack.pop()};ja.treatFunctionsAsVarInScope=function(n){return n.flags&Cc||!this.inModule&&n.flags&tf};ja.declareName=function(n,t,r){var i=!1;if(t===na){var s=this.currentScope();i=s.lexical.indexOf(n)>-1||s.functions.indexOf(n)>-1||s.var.indexOf(n)>-1,s.lexical.push(n),this.inModule&&s.flags&tf&&delete this.undefinedExports[n]}else if(t===tk){var o=this.currentScope();o.lexical.push(n)}else if(t===ek){var a=this.currentScope();this.treatFunctionsAsVar?i=a.lexical.indexOf(n)>-1:i=a.lexical.indexOf(n)>-1||a.var.indexOf(n)>-1,a.functions.push(n)}else for(var l=this.scopeStack.length-1;l>=0;--l){var u=this.scopeStack[l];if(u.lexical.indexOf(n)>-1&&!(u.flags&JN&&u.lexical[0]===n)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(n)>-1){i=!0;break}if(u.var.push(n),this.inModule&&u.flags&tf&&delete this.undefinedExports[n],u.flags&hg)break}i&&this.raiseRecoverable(r,"Identifier '"+n+"' has already been declared")};ja.checkLocalExport=function(n){this.scopeStack[0].lexical.indexOf(n.name)===-1&&this.scopeStack[0].var.indexOf(n.name)===-1&&(this.undefinedExports[n.name]=n)};ja.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};ja.currentVarScope=function(){for(var n=this.scopeStack.length-1;;n--){var t=this.scopeStack[n];if(t.flags&(hg|Sf|au))return t}};ja.currentThisScope=function(){for(var n=this.scopeStack.length-1;;n--){var t=this.scopeStack[n];if(t.flags&(hg|Sf|au)&&!(t.flags&Wb))return t}};var dg=function(t,r,i){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new ug(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},Cf=jr.prototype;Cf.startNode=function(){return new dg(this,this.start,this.startLoc)};Cf.startNodeAt=function(n,t){return new dg(this,n,t)};function sk(n,t,r,i){return n.type=t,n.end=r,this.options.locations&&(n.loc.end=i),this.options.ranges&&(n.range[1]=r),n}Cf.finishNode=function(n,t){return sk.call(this,n,t,this.lastTokEnd,this.lastTokEndLoc)};Cf.finishNodeAt=function(n,t,r,i){return sk.call(this,n,t,r,i)};Cf.copyNode=function(n){var t=new dg(this,n.start,this.startLoc);for(var r in n)t[r]=n[r];return t};var AW="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",ok="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ak=ok+" Extended_Pictographic",lk=ak,uk=lk+" EBase EComp EMod EPres ExtPict",ck=uk,TW=ck,IW={9:ok,10:ak,11:lk,12:uk,13:ck,14:TW},DW="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",NW={9:"",10:"",11:"",12:"",13:"",14:DW},vS="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",hk="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",fk=hk+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",dk=fk+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",pk=dk+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",mk=pk+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",kW=mk+" "+AW,FW={9:hk,10:fk,11:dk,12:pk,13:mk,14:kW},gk={};function MW(n){var t=gk[n]={binary:Sa(IW[n]+" "+vS),binaryOfStrings:Sa(NW[n]),nonBinary:{General_Category:Sa(vS),Script:Sa(FW[n])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Z0=0,yS=[9,10,11,12,13,14];Z0<yS.length;Z0+=1){var OW=yS[Z0];MW(OW)}var Et=jr.prototype,Qp=function(t,r){this.parent=t,this.base=r||this};Qp.prototype.separatedFrom=function(t){for(var r=this;r;r=r.parent)for(var i=t;i;i=i.parent)if(r.base===i.base&&r!==i)return!0;return!1};Qp.prototype.sibling=function(){return new Qp(this.parent,this.base)};var bo=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=gk[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};bo.prototype.reset=function(t,r,i){var s=i.indexOf("v")!==-1,o=i.indexOf("u")!==-1;this.start=t|0,this.source=r+"",this.flags=i,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=o&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=o&&this.parser.options.ecmaVersion>=9)};bo.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};bo.prototype.at=function(t,r){r===void 0&&(r=!1);var i=this.source,s=i.length;if(t>=s)return-1;var o=i.charCodeAt(t);if(!(r||this.switchU)||o<=55295||o>=57344||t+1>=s)return o;var a=i.charCodeAt(t+1);return a>=56320&&a<=57343?(o<<10)+a-56613888:o};bo.prototype.nextIndex=function(t,r){r===void 0&&(r=!1);var i=this.source,s=i.length;if(t>=s)return s;var o=i.charCodeAt(t),a;return!(r||this.switchU)||o<=55295||o>=57344||t+1>=s||(a=i.charCodeAt(t+1))<56320||a>57343?t+1:t+2};bo.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};bo.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};bo.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};bo.prototype.eat=function(t,r){return r===void 0&&(r=!1),this.current(r)===t?(this.advance(r),!0):!1};bo.prototype.eatChars=function(t,r){r===void 0&&(r=!1);for(var i=this.pos,s=0,o=t;s<o.length;s+=1){var a=o[s],l=this.at(i,r);if(l===-1||l!==a)return!1;i=this.nextIndex(i,r)}return this.pos=i,!0};Et.validateRegExpFlags=function(n){for(var t=n.validFlags,r=n.flags,i=!1,s=!1,o=0;o<r.length;o++){var a=r.charAt(o);t.indexOf(a)===-1&&this.raise(n.start,"Invalid regular expression flag"),r.indexOf(a,o+1)>-1&&this.raise(n.start,"Duplicate regular expression flag"),a==="u"&&(i=!0),a==="v"&&(s=!0)}this.options.ecmaVersion>=15&&i&&s&&this.raise(n.start,"Invalid regular expression flag")};function PW(n){for(var t in n)return!0;return!1}Et.validateRegExpPattern=function(n){this.regexp_pattern(n),!n.switchN&&this.options.ecmaVersion>=9&&PW(n.groupNames)&&(n.switchN=!0,this.regexp_pattern(n))};Et.regexp_pattern=function(n){n.pos=0,n.lastIntValue=0,n.lastStringValue="",n.lastAssertionIsQuantifiable=!1,n.numCapturingParens=0,n.maxBackReference=0,n.groupNames=Object.create(null),n.backReferenceNames.length=0,n.branchID=null,this.regexp_disjunction(n),n.pos!==n.source.length&&(n.eat(41)&&n.raise("Unmatched ')'"),(n.eat(93)||n.eat(125))&&n.raise("Lone quantifier brackets")),n.maxBackReference>n.numCapturingParens&&n.raise("Invalid escape");for(var t=0,r=n.backReferenceNames;t<r.length;t+=1){var i=r[t];n.groupNames[i]||n.raise("Invalid named capture referenced")}};Et.regexp_disjunction=function(n){var t=this.options.ecmaVersion>=16;for(t&&(n.branchID=new Qp(n.branchID,null)),this.regexp_alternative(n);n.eat(124);)t&&(n.branchID=n.branchID.sibling()),this.regexp_alternative(n);t&&(n.branchID=n.branchID.parent),this.regexp_eatQuantifier(n,!0)&&n.raise("Nothing to repeat"),n.eat(123)&&n.raise("Lone quantifier brackets")};Et.regexp_alternative=function(n){for(;n.pos<n.source.length&&this.regexp_eatTerm(n););};Et.regexp_eatTerm=function(n){return this.regexp_eatAssertion(n)?(n.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(n)&&n.switchU&&n.raise("Invalid quantifier"),!0):(n.switchU?this.regexp_eatAtom(n):this.regexp_eatExtendedAtom(n))?(this.regexp_eatQuantifier(n),!0):!1};Et.regexp_eatAssertion=function(n){var t=n.pos;if(n.lastAssertionIsQuantifiable=!1,n.eat(94)||n.eat(36))return!0;if(n.eat(92)){if(n.eat(66)||n.eat(98))return!0;n.pos=t}if(n.eat(40)&&n.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=n.eat(60)),n.eat(61)||n.eat(33))return this.regexp_disjunction(n),n.eat(41)||n.raise("Unterminated group"),n.lastAssertionIsQuantifiable=!r,!0}return n.pos=t,!1};Et.regexp_eatQuantifier=function(n,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(n,t)?(n.eat(63),!0):!1};Et.regexp_eatQuantifierPrefix=function(n,t){return n.eat(42)||n.eat(43)||n.eat(63)||this.regexp_eatBracedQuantifier(n,t)};Et.regexp_eatBracedQuantifier=function(n,t){var r=n.pos;if(n.eat(123)){var i=0,s=-1;if(this.regexp_eatDecimalDigits(n)&&(i=n.lastIntValue,n.eat(44)&&this.regexp_eatDecimalDigits(n)&&(s=n.lastIntValue),n.eat(125)))return s!==-1&&s<i&&!t&&n.raise("numbers out of order in {} quantifier"),!0;n.switchU&&!t&&n.raise("Incomplete quantifier"),n.pos=r}return!1};Et.regexp_eatAtom=function(n){return this.regexp_eatPatternCharacters(n)||n.eat(46)||this.regexp_eatReverseSolidusAtomEscape(n)||this.regexp_eatCharacterClass(n)||this.regexp_eatUncapturingGroup(n)||this.regexp_eatCapturingGroup(n)};Et.regexp_eatReverseSolidusAtomEscape=function(n){var t=n.pos;if(n.eat(92)){if(this.regexp_eatAtomEscape(n))return!0;n.pos=t}return!1};Et.regexp_eatUncapturingGroup=function(n){var t=n.pos;if(n.eat(40)){if(n.eat(63)){if(this.options.ecmaVersion>=16){var r=this.regexp_eatModifiers(n),i=n.eat(45);if(r||i){for(var s=0;s<r.length;s++){var o=r.charAt(s);r.indexOf(o,s+1)>-1&&n.raise("Duplicate regular expression modifiers")}if(i){var a=this.regexp_eatModifiers(n);!r&&!a&&n.current()===58&&n.raise("Invalid regular expression modifiers");for(var l=0;l<a.length;l++){var u=a.charAt(l);(a.indexOf(u,l+1)>-1||r.indexOf(u)>-1)&&n.raise("Duplicate regular expression modifiers")}}}}if(n.eat(58)){if(this.regexp_disjunction(n),n.eat(41))return!0;n.raise("Unterminated group")}}n.pos=t}return!1};Et.regexp_eatCapturingGroup=function(n){if(n.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(n):n.current()===63&&n.raise("Invalid group"),this.regexp_disjunction(n),n.eat(41))return n.numCapturingParens+=1,!0;n.raise("Unterminated group")}return!1};Et.regexp_eatModifiers=function(n){for(var t="",r=0;(r=n.current())!==-1&&LW(r);)t+=Jo(r),n.advance();return t};function LW(n){return n===105||n===109||n===115}Et.regexp_eatExtendedAtom=function(n){return n.eat(46)||this.regexp_eatReverseSolidusAtomEscape(n)||this.regexp_eatCharacterClass(n)||this.regexp_eatUncapturingGroup(n)||this.regexp_eatCapturingGroup(n)||this.regexp_eatInvalidBracedQuantifier(n)||this.regexp_eatExtendedPatternCharacter(n)};Et.regexp_eatInvalidBracedQuantifier=function(n){return this.regexp_eatBracedQuantifier(n,!0)&&n.raise("Nothing to repeat"),!1};Et.regexp_eatSyntaxCharacter=function(n){var t=n.current();return vk(t)?(n.lastIntValue=t,n.advance(),!0):!1};function vk(n){return n===36||n>=40&&n<=43||n===46||n===63||n>=91&&n<=94||n>=123&&n<=125}Et.regexp_eatPatternCharacters=function(n){for(var t=n.pos,r=0;(r=n.current())!==-1&&!vk(r);)n.advance();return n.pos!==t};Et.regexp_eatExtendedPatternCharacter=function(n){var t=n.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(n.advance(),!0):!1};Et.regexp_groupSpecifier=function(n){if(n.eat(63)){this.regexp_eatGroupName(n)||n.raise("Invalid group");var t=this.options.ecmaVersion>=16,r=n.groupNames[n.lastStringValue];if(r)if(t)for(var i=0,s=r;i<s.length;i+=1){var o=s[i];o.separatedFrom(n.branchID)||n.raise("Duplicate capture group name")}else n.raise("Duplicate capture group name");t?(r||(n.groupNames[n.lastStringValue]=[])).push(n.branchID):n.groupNames[n.lastStringValue]=!0}};Et.regexp_eatGroupName=function(n){if(n.lastStringValue="",n.eat(60)){if(this.regexp_eatRegExpIdentifierName(n)&&n.eat(62))return!0;n.raise("Invalid capture group name")}return!1};Et.regexp_eatRegExpIdentifierName=function(n){if(n.lastStringValue="",this.regexp_eatRegExpIdentifierStart(n)){for(n.lastStringValue+=Jo(n.lastIntValue);this.regexp_eatRegExpIdentifierPart(n);)n.lastStringValue+=Jo(n.lastIntValue);return!0}return!1};Et.regexp_eatRegExpIdentifierStart=function(n){var t=n.pos,r=this.options.ecmaVersion>=11,i=n.current(r);return n.advance(r),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(n,r)&&(i=n.lastIntValue),RW(i)?(n.lastIntValue=i,!0):(n.pos=t,!1)};function RW(n){return po(n,!0)||n===36||n===95}Et.regexp_eatRegExpIdentifierPart=function(n){var t=n.pos,r=this.options.ecmaVersion>=11,i=n.current(r);return n.advance(r),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(n,r)&&(i=n.lastIntValue),BW(i)?(n.lastIntValue=i,!0):(n.pos=t,!1)};function BW(n){return La(n,!0)||n===36||n===95||n===8204||n===8205}Et.regexp_eatAtomEscape=function(n){return this.regexp_eatBackReference(n)||this.regexp_eatCharacterClassEscape(n)||this.regexp_eatCharacterEscape(n)||n.switchN&&this.regexp_eatKGroupName(n)?!0:(n.switchU&&(n.current()===99&&n.raise("Invalid unicode escape"),n.raise("Invalid escape")),!1)};Et.regexp_eatBackReference=function(n){var t=n.pos;if(this.regexp_eatDecimalEscape(n)){var r=n.lastIntValue;if(n.switchU)return r>n.maxBackReference&&(n.maxBackReference=r),!0;if(r<=n.numCapturingParens)return!0;n.pos=t}return!1};Et.regexp_eatKGroupName=function(n){if(n.eat(107)){if(this.regexp_eatGroupName(n))return n.backReferenceNames.push(n.lastStringValue),!0;n.raise("Invalid named reference")}return!1};Et.regexp_eatCharacterEscape=function(n){return this.regexp_eatControlEscape(n)||this.regexp_eatCControlLetter(n)||this.regexp_eatZero(n)||this.regexp_eatHexEscapeSequence(n)||this.regexp_eatRegExpUnicodeEscapeSequence(n,!1)||!n.switchU&&this.regexp_eatLegacyOctalEscapeSequence(n)||this.regexp_eatIdentityEscape(n)};Et.regexp_eatCControlLetter=function(n){var t=n.pos;if(n.eat(99)){if(this.regexp_eatControlLetter(n))return!0;n.pos=t}return!1};Et.regexp_eatZero=function(n){return n.current()===48&&!pg(n.lookahead())?(n.lastIntValue=0,n.advance(),!0):!1};Et.regexp_eatControlEscape=function(n){var t=n.current();return t===116?(n.lastIntValue=9,n.advance(),!0):t===110?(n.lastIntValue=10,n.advance(),!0):t===118?(n.lastIntValue=11,n.advance(),!0):t===102?(n.lastIntValue=12,n.advance(),!0):t===114?(n.lastIntValue=13,n.advance(),!0):!1};Et.regexp_eatControlLetter=function(n){var t=n.current();return yk(t)?(n.lastIntValue=t%32,n.advance(),!0):!1};function yk(n){return n>=65&&n<=90||n>=97&&n<=122}Et.regexp_eatRegExpUnicodeEscapeSequence=function(n,t){t===void 0&&(t=!1);var r=n.pos,i=t||n.switchU;if(n.eat(117)){if(this.regexp_eatFixedHexDigits(n,4)){var s=n.lastIntValue;if(i&&s>=55296&&s<=56319){var o=n.pos;if(n.eat(92)&&n.eat(117)&&this.regexp_eatFixedHexDigits(n,4)){var a=n.lastIntValue;if(a>=56320&&a<=57343)return n.lastIntValue=(s-55296)*1024+(a-56320)+65536,!0}n.pos=o,n.lastIntValue=s}return!0}if(i&&n.eat(123)&&this.regexp_eatHexDigits(n)&&n.eat(125)&&UW(n.lastIntValue))return!0;i&&n.raise("Invalid unicode escape"),n.pos=r}return!1};function UW(n){return n>=0&&n<=1114111}Et.regexp_eatIdentityEscape=function(n){if(n.switchU)return this.regexp_eatSyntaxCharacter(n)?!0:n.eat(47)?(n.lastIntValue=47,!0):!1;var t=n.current();return t!==99&&(!n.switchN||t!==107)?(n.lastIntValue=t,n.advance(),!0):!1};Et.regexp_eatDecimalEscape=function(n){n.lastIntValue=0;var t=n.current();if(t>=49&&t<=57){do n.lastIntValue=10*n.lastIntValue+(t-48),n.advance();while((t=n.current())>=48&&t<=57);return!0}return!1};var bk=0,Qo=1,Es=2;Et.regexp_eatCharacterClassEscape=function(n){var t=n.current();if(VW(t))return n.lastIntValue=-1,n.advance(),Qo;var r=!1;if(n.switchU&&this.options.ecmaVersion>=9&&((r=t===80)||t===112)){n.lastIntValue=-1,n.advance();var i;if(n.eat(123)&&(i=this.regexp_eatUnicodePropertyValueExpression(n))&&n.eat(125))return r&&i===Es&&n.raise("Invalid property name"),i;n.raise("Invalid property name")}return bk};function VW(n){return n===100||n===68||n===115||n===83||n===119||n===87}Et.regexp_eatUnicodePropertyValueExpression=function(n){var t=n.pos;if(this.regexp_eatUnicodePropertyName(n)&&n.eat(61)){var r=n.lastStringValue;if(this.regexp_eatUnicodePropertyValue(n)){var i=n.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(n,r,i),Qo}}if(n.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(n)){var s=n.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(n,s)}return bk};Et.regexp_validateUnicodePropertyNameAndValue=function(n,t,r){Sc(n.unicodeProperties.nonBinary,t)||n.raise("Invalid property name"),n.unicodeProperties.nonBinary[t].test(r)||n.raise("Invalid property value")};Et.regexp_validateUnicodePropertyNameOrValue=function(n,t){if(n.unicodeProperties.binary.test(t))return Qo;if(n.switchV&&n.unicodeProperties.binaryOfStrings.test(t))return Es;n.raise("Invalid property name")};Et.regexp_eatUnicodePropertyName=function(n){var t=0;for(n.lastStringValue="";xk(t=n.current());)n.lastStringValue+=Jo(t),n.advance();return n.lastStringValue!==""};function xk(n){return yk(n)||n===95}Et.regexp_eatUnicodePropertyValue=function(n){var t=0;for(n.lastStringValue="";$W(t=n.current());)n.lastStringValue+=Jo(t),n.advance();return n.lastStringValue!==""};function $W(n){return xk(n)||pg(n)}Et.regexp_eatLoneUnicodePropertyNameOrValue=function(n){return this.regexp_eatUnicodePropertyValue(n)};Et.regexp_eatCharacterClass=function(n){if(n.eat(91)){var t=n.eat(94),r=this.regexp_classContents(n);return n.eat(93)||n.raise("Unterminated character class"),t&&r===Es&&n.raise("Negated character class may contain strings"),!0}return!1};Et.regexp_classContents=function(n){return n.current()===93?Qo:n.switchV?this.regexp_classSetExpression(n):(this.regexp_nonEmptyClassRanges(n),Qo)};Et.regexp_nonEmptyClassRanges=function(n){for(;this.regexp_eatClassAtom(n);){var t=n.lastIntValue;if(n.eat(45)&&this.regexp_eatClassAtom(n)){var r=n.lastIntValue;n.switchU&&(t===-1||r===-1)&&n.raise("Invalid character class"),t!==-1&&r!==-1&&t>r&&n.raise("Range out of order in character class")}}};Et.regexp_eatClassAtom=function(n){var t=n.pos;if(n.eat(92)){if(this.regexp_eatClassEscape(n))return!0;if(n.switchU){var r=n.current();(r===99||Ek(r))&&n.raise("Invalid class escape"),n.raise("Invalid escape")}n.pos=t}var i=n.current();return i!==93?(n.lastIntValue=i,n.advance(),!0):!1};Et.regexp_eatClassEscape=function(n){var t=n.pos;if(n.eat(98))return n.lastIntValue=8,!0;if(n.switchU&&n.eat(45))return n.lastIntValue=45,!0;if(!n.switchU&&n.eat(99)){if(this.regexp_eatClassControlLetter(n))return!0;n.pos=t}return this.regexp_eatCharacterClassEscape(n)||this.regexp_eatCharacterEscape(n)};Et.regexp_classSetExpression=function(n){var t=Qo,r;if(!this.regexp_eatClassSetRange(n))if(r=this.regexp_eatClassSetOperand(n)){r===Es&&(t=Es);for(var i=n.pos;n.eatChars([38,38]);){if(n.current()!==38&&(r=this.regexp_eatClassSetOperand(n))){r!==Es&&(t=Qo);continue}n.raise("Invalid character in character class")}if(i!==n.pos)return t;for(;n.eatChars([45,45]);)this.regexp_eatClassSetOperand(n)||n.raise("Invalid character in character class");if(i!==n.pos)return t}else n.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(n)){if(r=this.regexp_eatClassSetOperand(n),!r)return t;r===Es&&(t=Es)}};Et.regexp_eatClassSetRange=function(n){var t=n.pos;if(this.regexp_eatClassSetCharacter(n)){var r=n.lastIntValue;if(n.eat(45)&&this.regexp_eatClassSetCharacter(n)){var i=n.lastIntValue;return r!==-1&&i!==-1&&r>i&&n.raise("Range out of order in character class"),!0}n.pos=t}return!1};Et.regexp_eatClassSetOperand=function(n){return this.regexp_eatClassSetCharacter(n)?Qo:this.regexp_eatClassStringDisjunction(n)||this.regexp_eatNestedClass(n)};Et.regexp_eatNestedClass=function(n){var t=n.pos;if(n.eat(91)){var r=n.eat(94),i=this.regexp_classContents(n);if(n.eat(93))return r&&i===Es&&n.raise("Negated character class may contain strings"),i;n.pos=t}if(n.eat(92)){var s=this.regexp_eatCharacterClassEscape(n);if(s)return s;n.pos=t}return null};Et.regexp_eatClassStringDisjunction=function(n){var t=n.pos;if(n.eatChars([92,113])){if(n.eat(123)){var r=this.regexp_classStringDisjunctionContents(n);if(n.eat(125))return r}else n.raise("Invalid escape");n.pos=t}return null};Et.regexp_classStringDisjunctionContents=function(n){for(var t=this.regexp_classString(n);n.eat(124);)this.regexp_classString(n)===Es&&(t=Es);return t};Et.regexp_classString=function(n){for(var t=0;this.regexp_eatClassSetCharacter(n);)t++;return t===1?Qo:Es};Et.regexp_eatClassSetCharacter=function(n){var t=n.pos;if(n.eat(92))return this.regexp_eatCharacterEscape(n)||this.regexp_eatClassSetReservedPunctuator(n)?!0:n.eat(98)?(n.lastIntValue=8,!0):(n.pos=t,!1);var r=n.current();return r<0||r===n.lookahead()&&jW(r)||zW(r)?!1:(n.advance(),n.lastIntValue=r,!0)};function jW(n){return n===33||n>=35&&n<=38||n>=42&&n<=44||n===46||n>=58&&n<=64||n===94||n===96||n===126}function zW(n){return n===40||n===41||n===45||n===47||n>=91&&n<=93||n>=123&&n<=125}Et.regexp_eatClassSetReservedPunctuator=function(n){var t=n.current();return GW(t)?(n.lastIntValue=t,n.advance(),!0):!1};function GW(n){return n===33||n===35||n===37||n===38||n===44||n===45||n>=58&&n<=62||n===64||n===96||n===126}Et.regexp_eatClassControlLetter=function(n){var t=n.current();return pg(t)||t===95?(n.lastIntValue=t%32,n.advance(),!0):!1};Et.regexp_eatHexEscapeSequence=function(n){var t=n.pos;if(n.eat(120)){if(this.regexp_eatFixedHexDigits(n,2))return!0;n.switchU&&n.raise("Invalid escape"),n.pos=t}return!1};Et.regexp_eatDecimalDigits=function(n){var t=n.pos,r=0;for(n.lastIntValue=0;pg(r=n.current());)n.lastIntValue=10*n.lastIntValue+(r-48),n.advance();return n.pos!==t};function pg(n){return n>=48&&n<=57}Et.regexp_eatHexDigits=function(n){var t=n.pos,r=0;for(n.lastIntValue=0;_k(r=n.current());)n.lastIntValue=16*n.lastIntValue+wk(r),n.advance();return n.pos!==t};function _k(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}function wk(n){return n>=65&&n<=70?10+(n-65):n>=97&&n<=102?10+(n-97):n-48}Et.regexp_eatLegacyOctalEscapeSequence=function(n){if(this.regexp_eatOctalDigit(n)){var t=n.lastIntValue;if(this.regexp_eatOctalDigit(n)){var r=n.lastIntValue;t<=3&&this.regexp_eatOctalDigit(n)?n.lastIntValue=t*64+r*8+n.lastIntValue:n.lastIntValue=t*8+r}else n.lastIntValue=t;return!0}return!1};Et.regexp_eatOctalDigit=function(n){var t=n.current();return Ek(t)?(n.lastIntValue=t-48,n.advance(),!0):(n.lastIntValue=0,!1)};function Ek(n){return n>=48&&n<=55}Et.regexp_eatFixedHexDigits=function(n,t){var r=n.pos;n.lastIntValue=0;for(var i=0;i<t;++i){var s=n.current();if(!_k(s))return n.pos=r,!1;n.lastIntValue=16*n.lastIntValue+wk(s),n.advance()}return!0};var Kb=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new ug(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},gn=jr.prototype;gn.next=function(n){!n&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Kb(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};gn.getToken=function(){return this.next(),new Kb(this)};typeof Symbol<"u"&&(gn[Symbol.iterator]=function(){var n=this;return{next:function(){var t=n.getToken();return{done:t.type===ae.eof,value:t}}}});gn.nextToken=function(){var n=this.curContext();if((!n||!n.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(ae.eof);if(n.override)return n.override(this);this.readToken(this.fullCharCodeAtPos())};gn.readToken=function(n){return po(n,this.options.ecmaVersion>=6)||n===92?this.readWord():this.getTokenFromCode(n)};gn.fullCharCodeAtPos=function(){var n=this.input.charCodeAt(this.pos);if(n<=55295||n>=56320)return n;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?n:(n<<10)+t-56613888};gn.skipBlockComment=function(){var n=this.options.onComment&&this.curPosition(),t=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(var i=void 0,s=t;(i=qN(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,r),t,this.pos,n,this.curPosition())};gn.skipLineComment=function(n){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=n);this.pos<this.input.length&&!Ec(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+n,this.pos),t,this.pos,r,this.curPosition())};gn.skipSpace=function(){e:for(;this.pos<this.input.length;){var n=this.input.charCodeAt(this.pos);switch(n){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(n>8&&n<14||n>=5760&&XN.test(String.fromCharCode(n)))++this.pos;else break e}}};gn.finishToken=function(n,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=n,this.value=t,this.updateContext(r)};gn.readToken_dot=function(){var n=this.input.charCodeAt(this.pos+1);if(n>=48&&n<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&n===46&&t===46?(this.pos+=3,this.finishToken(ae.ellipsis)):(++this.pos,this.finishToken(ae.dot))};gn.readToken_slash=function(){var n=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):n===61?this.finishOp(ae.assign,2):this.finishOp(ae.slash,1)};gn.readToken_mult_modulo_exp=function(n){var t=this.input.charCodeAt(this.pos+1),r=1,i=n===42?ae.star:ae.modulo;return this.options.ecmaVersion>=7&&n===42&&t===42&&(++r,i=ae.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(ae.assign,r+1):this.finishOp(i,r)};gn.readToken_pipe_amp=function(n){var t=this.input.charCodeAt(this.pos+1);if(t===n){if(this.options.ecmaVersion>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(ae.assign,3)}return this.finishOp(n===124?ae.logicalOR:ae.logicalAND,2)}return t===61?this.finishOp(ae.assign,2):this.finishOp(n===124?ae.bitwiseOR:ae.bitwiseAND,1)};gn.readToken_caret=function(){var n=this.input.charCodeAt(this.pos+1);return n===61?this.finishOp(ae.assign,2):this.finishOp(ae.bitwiseXOR,1)};gn.readToken_plus_min=function(n){var t=this.input.charCodeAt(this.pos+1);return t===n?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Qi.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(ae.incDec,2):t===61?this.finishOp(ae.assign,2):this.finishOp(ae.plusMin,1)};gn.readToken_lt_gt=function(n){var t=this.input.charCodeAt(this.pos+1),r=1;return t===n?(r=n===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(ae.assign,r+1):this.finishOp(ae.bitShift,r)):t===33&&n===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(r=2),this.finishOp(ae.relational,r))};gn.readToken_eq_excl=function(n){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(ae.equality,this.input.charCodeAt(this.pos+2)===61?3:2):n===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(ae.arrow)):this.finishOp(n===61?ae.eq:ae.prefix,1)};gn.readToken_question=function(){var n=this.options.ecmaVersion;if(n>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(ae.questionDot,2)}if(t===63){if(n>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(ae.assign,3)}return this.finishOp(ae.coalesce,2)}}return this.finishOp(ae.question,1)};gn.readToken_numberSign=function(){var n=this.options.ecmaVersion,t=35;if(n>=13&&(++this.pos,t=this.fullCharCodeAtPos(),po(t,!0)||t===92))return this.finishToken(ae.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Jo(t)+"'")};gn.getTokenFromCode=function(n){switch(n){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(ae.parenL);case 41:return++this.pos,this.finishToken(ae.parenR);case 59:return++this.pos,this.finishToken(ae.semi);case 44:return++this.pos,this.finishToken(ae.comma);case 91:return++this.pos,this.finishToken(ae.bracketL);case 93:return++this.pos,this.finishToken(ae.bracketR);case 123:return++this.pos,this.finishToken(ae.braceL);case 125:return++this.pos,this.finishToken(ae.braceR);case 58:return++this.pos,this.finishToken(ae.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(ae.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(n);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(n);case 124:case 38:return this.readToken_pipe_amp(n);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(n);case 60:case 62:return this.readToken_lt_gt(n);case 61:case 33:return this.readToken_eq_excl(n);case 63:return this.readToken_question();case 126:return this.finishOp(ae.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Jo(n)+"'")};gn.finishOp=function(n,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(n,r)};gn.readRegexp=function(){for(var n,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(Qi.test(i)&&this.raise(r,"Unterminated regular expression"),n)n=!1;else{if(i==="[")t=!0;else if(i==="]"&&t)t=!1;else if(i==="/"&&!t)break;n=i==="\\"}++this.pos}var s=this.input.slice(r,this.pos);++this.pos;var o=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(o);var l=this.regexpState||(this.regexpState=new bo(this));l.reset(r,s,a),this.validateRegExpFlags(l),this.validateRegExpPattern(l);var u=null;try{u=new RegExp(s,a)}catch{}return this.finishToken(ae.regexp,{pattern:s,flags:a,value:u})};gn.readInt=function(n,t,r){for(var i=this.options.ecmaVersion>=12&&t===void 0,s=r&&this.input.charCodeAt(this.pos)===48,o=this.pos,a=0,l=0,u=0,h=t??1/0;u<h;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(i&&c===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),l===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),l=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=n)break;l=c,a=a*n+f}return i&&l===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||t!=null&&this.pos-o!==t?null:a};function HW(n,t){return t?parseInt(n,8):parseFloat(n.replace(/_/g,""))}function Sk(n){return typeof BigInt!="function"?null:BigInt(n.replace(/_/g,""))}gn.readRadixNumber=function(n){var t=this.pos;this.pos+=2;var r=this.readInt(n);return r==null&&this.raise(this.start+2,"Expected number in radix "+n),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(r=Sk(this.input.slice(t,this.pos)),++this.pos):po(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ae.num,r)};gn.readNumber=function(n){var t=this.pos;!n&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var r=this.pos-t>=2&&this.input.charCodeAt(t)===48;r&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!r&&!n&&this.options.ecmaVersion>=11&&i===110){var s=Sk(this.input.slice(t,this.pos));return++this.pos,po(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ae.num,s)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),i===46&&!r&&(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),(i===69||i===101)&&!r&&(i=this.input.charCodeAt(++this.pos),(i===43||i===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),po(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=HW(this.input.slice(t,this.pos),r);return this.finishToken(ae.num,o)};gn.readCodePoint=function(){var n=this.input.charCodeAt(this.pos),t;if(n===123){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else t=this.readHexChar(4);return t};gn.readString=function(n){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===n)break;i===92?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):i===8232||i===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ec(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(ae.string,t)};var Ck={};gn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(n){if(n===Ck)this.readInvalidTemplateToken();else throw n}this.inTemplateElement=!1};gn.invalidStringToken=function(n,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ck;this.raise(n,t)};gn.readTmplToken=function(){for(var n="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(r===96||r===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===ae.template||this.type===ae.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(ae.dollarBraceL)):(++this.pos,this.finishToken(ae.backQuote)):(n+=this.input.slice(t,this.pos),this.finishToken(ae.template,n));if(r===92)n+=this.input.slice(t,this.pos),n+=this.readEscapedChar(!0),t=this.pos;else if(Ec(r)){switch(n+=this.input.slice(t,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:n+=`
`;break;default:n+=String.fromCharCode(r);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};gn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(ae.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};gn.readEscapedChar=function(n){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Jo(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),n){var r=this.pos-1;this.invalidStringToken(r,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(i,8);return s>255&&(i=i.slice(0,-1),s=parseInt(i,8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),(i!=="0"||t===56||t===57)&&(this.strict||n)&&this.invalidStringToken(this.pos-1-i.length,n?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return Ec(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}};gn.readHexChar=function(n){var t=this.pos,r=this.readInt(16,n);return r===null&&this.invalidStringToken(t,"Bad character escape sequence"),r};gn.readWord1=function(){this.containsEsc=!1;for(var n="",t=!0,r=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(La(s,i))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,n+=this.input.slice(r,this.pos);var o=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?po:La)(a,i)||this.invalidStringToken(o,"Invalid Unicode escape"),n+=Jo(a),r=this.pos}else break;t=!1}return n+this.input.slice(r,this.pos)};gn.readWord=function(){var n=this.readWord1(),t=ae.name;return this.keywords.test(n)&&(t=Gb[n]),this.finishToken(t,n)};var WW="8.15.0";jr.acorn={Parser:jr,version:WW,defaultOptions:Xy,Position:ef,SourceLocation:ug,getLineInfo:KN,Node:dg,TokenType:xn,tokTypes:ae,keywordTypes:Gb,TokContext:Bs,tokContexts:ir,isIdentifierChar:La,isIdentifierStart:po,Token:Kb,isNewLine:Ec,lineBreak:Qi,lineBreakG:pW,nonASCIIwhitespace:XN};function Ak(n,t){return jr.parse(n,t)}function qW(n,t,r,i,s){r||(r=ot),(function o(a,l,u){var h=u||a.type;r[h](a,l,o),t[h]&&t[h](a,l)})(n,i,s)}function XW(n,t,r,i,s){var o=[];r||(r=ot),(function a(l,u,h){var c=h||l.type,f=l!==o[o.length-1];f&&o.push(l),r[c](l,u,a),t[c]&&t[c](l,u||o,o),f&&o.pop()})(n,i,s)}function YW(n,t,r,i,s){var o=r?KW(r):i;(function a(l,u,h){o[h||l.type](l,u,a)})(n,t,s)}function KW(n,t){var r=Object.create(ot);for(var i in n)r[i]=n[i];return r}function Zb(n,t,r){r(n,t)}function lu(n,t,r){}var ot={};ot.Program=ot.BlockStatement=ot.StaticBlock=function(n,t,r){for(var i=0,s=n.body;i<s.length;i+=1){var o=s[i];r(o,t,"Statement")}};ot.Statement=Zb;ot.EmptyStatement=lu;ot.ExpressionStatement=ot.ParenthesizedExpression=ot.ChainExpression=function(n,t,r){return r(n.expression,t,"Expression")};ot.IfStatement=function(n,t,r){r(n.test,t,"Expression"),r(n.consequent,t,"Statement"),n.alternate&&r(n.alternate,t,"Statement")};ot.LabeledStatement=function(n,t,r){return r(n.body,t,"Statement")};ot.BreakStatement=ot.ContinueStatement=lu;ot.WithStatement=function(n,t,r){r(n.object,t,"Expression"),r(n.body,t,"Statement")};ot.SwitchStatement=function(n,t,r){r(n.discriminant,t,"Expression");for(var i=0,s=n.cases;i<s.length;i+=1){var o=s[i];r(o,t)}};ot.SwitchCase=function(n,t,r){n.test&&r(n.test,t,"Expression");for(var i=0,s=n.consequent;i<s.length;i+=1){var o=s[i];r(o,t,"Statement")}};ot.ReturnStatement=ot.YieldExpression=ot.AwaitExpression=function(n,t,r){n.argument&&r(n.argument,t,"Expression")};ot.ThrowStatement=ot.SpreadElement=function(n,t,r){return r(n.argument,t,"Expression")};ot.TryStatement=function(n,t,r){r(n.block,t,"Statement"),n.handler&&r(n.handler,t),n.finalizer&&r(n.finalizer,t,"Statement")};ot.CatchClause=function(n,t,r){n.param&&r(n.param,t,"Pattern"),r(n.body,t,"Statement")};ot.WhileStatement=ot.DoWhileStatement=function(n,t,r){r(n.test,t,"Expression"),r(n.body,t,"Statement")};ot.ForStatement=function(n,t,r){n.init&&r(n.init,t,"ForInit"),n.test&&r(n.test,t,"Expression"),n.update&&r(n.update,t,"Expression"),r(n.body,t,"Statement")};ot.ForInStatement=ot.ForOfStatement=function(n,t,r){r(n.left,t,"ForInit"),r(n.right,t,"Expression"),r(n.body,t,"Statement")};ot.ForInit=function(n,t,r){n.type==="VariableDeclaration"?r(n,t):r(n,t,"Expression")};ot.DebuggerStatement=lu;ot.FunctionDeclaration=function(n,t,r){return r(n,t,"Function")};ot.VariableDeclaration=function(n,t,r){for(var i=0,s=n.declarations;i<s.length;i+=1){var o=s[i];r(o,t)}};ot.VariableDeclarator=function(n,t,r){r(n.id,t,"Pattern"),n.init&&r(n.init,t,"Expression")};ot.Function=function(n,t,r){n.id&&r(n.id,t,"Pattern");for(var i=0,s=n.params;i<s.length;i+=1){var o=s[i];r(o,t,"Pattern")}r(n.body,t,n.expression?"Expression":"Statement")};ot.Pattern=function(n,t,r){n.type==="Identifier"?r(n,t,"VariablePattern"):n.type==="MemberExpression"?r(n,t,"MemberPattern"):r(n,t)};ot.VariablePattern=lu;ot.MemberPattern=Zb;ot.RestElement=function(n,t,r){return r(n.argument,t,"Pattern")};ot.ArrayPattern=function(n,t,r){for(var i=0,s=n.elements;i<s.length;i+=1){var o=s[i];o&&r(o,t,"Pattern")}};ot.ObjectPattern=function(n,t,r){for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];o.type==="Property"?(o.computed&&r(o.key,t,"Expression"),r(o.value,t,"Pattern")):o.type==="RestElement"&&r(o.argument,t,"Pattern")}};ot.Expression=Zb;ot.ThisExpression=ot.Super=ot.MetaProperty=lu;ot.ArrayExpression=function(n,t,r){for(var i=0,s=n.elements;i<s.length;i+=1){var o=s[i];o&&r(o,t,"Expression")}};ot.ObjectExpression=function(n,t,r){for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];r(o,t)}};ot.FunctionExpression=ot.ArrowFunctionExpression=ot.FunctionDeclaration;ot.SequenceExpression=function(n,t,r){for(var i=0,s=n.expressions;i<s.length;i+=1){var o=s[i];r(o,t,"Expression")}};ot.TemplateLiteral=function(n,t,r){for(var i=0,s=n.quasis;i<s.length;i+=1){var o=s[i];r(o,t)}for(var a=0,l=n.expressions;a<l.length;a+=1){var u=l[a];r(u,t,"Expression")}};ot.TemplateElement=lu;ot.UnaryExpression=ot.UpdateExpression=function(n,t,r){r(n.argument,t,"Expression")};ot.BinaryExpression=ot.LogicalExpression=function(n,t,r){r(n.left,t,"Expression"),r(n.right,t,"Expression")};ot.AssignmentExpression=ot.AssignmentPattern=function(n,t,r){r(n.left,t,"Pattern"),r(n.right,t,"Expression")};ot.ConditionalExpression=function(n,t,r){r(n.test,t,"Expression"),r(n.consequent,t,"Expression"),r(n.alternate,t,"Expression")};ot.NewExpression=ot.CallExpression=function(n,t,r){if(r(n.callee,t,"Expression"),n.arguments)for(var i=0,s=n.arguments;i<s.length;i+=1){var o=s[i];r(o,t,"Expression")}};ot.MemberExpression=function(n,t,r){r(n.object,t,"Expression"),n.computed&&r(n.property,t,"Expression")};ot.ExportNamedDeclaration=ot.ExportDefaultDeclaration=function(n,t,r){n.declaration&&r(n.declaration,t,n.type==="ExportNamedDeclaration"||n.declaration.id?"Statement":"Expression"),n.source&&r(n.source,t,"Expression")};ot.ExportAllDeclaration=function(n,t,r){n.exported&&r(n.exported,t),r(n.source,t,"Expression")};ot.ImportDeclaration=function(n,t,r){for(var i=0,s=n.specifiers;i<s.length;i+=1){var o=s[i];r(o,t)}r(n.source,t,"Expression")};ot.ImportExpression=function(n,t,r){r(n.source,t,"Expression")};ot.ImportSpecifier=ot.ImportDefaultSpecifier=ot.ImportNamespaceSpecifier=ot.Identifier=ot.PrivateIdentifier=ot.Literal=lu;ot.TaggedTemplateExpression=function(n,t,r){r(n.tag,t,"Expression"),r(n.quasi,t,"Expression")};ot.ClassDeclaration=ot.ClassExpression=function(n,t,r){return r(n,t,"Class")};ot.Class=function(n,t,r){n.id&&r(n.id,t,"Pattern"),n.superClass&&r(n.superClass,t,"Expression"),r(n.body,t)};ot.ClassBody=function(n,t,r){for(var i=0,s=n.body;i<s.length;i+=1){var o=s[i];r(o,t)}};ot.MethodDefinition=ot.PropertyDefinition=ot.Property=function(n,t,r){n.computed&&r(n.key,t,"Expression"),n.value&&r(n.value,t,"Expression")};const ZW=["setup","draw","preload","deviceMoved","deviceTurned","deviceShaken","doubleClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","mouseClicked","mouseWheel","touchStarted","touchMoved","touchEnded","keyPressed","keyReleased","keyTyped","windowResized"],eh={fetchScript:async function(n){if(n.src)try{return await fetch(n.src).then(r=>r.text())}catch(t){return console.error("Error fetching script:",t),""}else return n.textContent},extractUserDefinedVariablesAndFuncs:function(n){const t={variables:[],functions:[]},r=-1;try{const i=Ak(n,{ecmaVersion:2021,sourceType:"module",locations:!0});qW(i,{VariableDeclarator(s){if(s.id.type==="Identifier"){const o=s.init&&["ArrowFunctionExpression","FunctionExpression"].includes(s.init.type)?"functions":"variables";t[o].push({name:s.id.name,line:s.loc.start.line+r})}},FunctionDeclaration(s){s.id&&s.id.type==="Identifier"&&t.functions.push({name:s.id.name,line:s.loc.start.line+r})},ClassDeclaration(s){s.id&&s.id.type==="Identifier"&&t.variables.push({name:s.id.name,line:s.loc.start.line+r})}})}catch(i){console.error("Error parsing code:",i)}return t},checkForConstsAndFuncs:function(n,t){const r=[...n.variables,...n.functions];function i(o,a,l){const u=`https://p5js.org/reference/p5/${a}`;return`${o} "${a}" on line ${l} is being redeclared and conflicts with a p5.js ${o.toLowerCase()}. p5.js reference: ${u}`}for(let{name:o,line:a}of r)if(Ma[o]!==void 0){const u=i("Constant",o,a);return console.log(u),!0}const s=new Set(Object.getOwnPropertyNames(t.prototype).filter(o=>!o.startsWith("_")&&o!=="constructor"));for(let{name:o,line:a}of r)if(!ZW.includes(o)&&s.has(o)){const l=i("Function",o,a);return console.log(l),!0}return!1},getUserCode:async function(){const n=document.querySelectorAll("script"),t=n[n.length-1];return await eh.fetchScript(t)},runFES:async function(n){const t=await eh.getUserCode(),r=eh.extractUserDefinedVariablesAndFuncs(t);eh.checkForConstsAndFuncs(r,n)}};function Tk(n,t,r){r.presetup=async function(){!n.disableFriendlyErrors&&!n.disableSketchChecker&&eh.runFES(n)}}typeof p5<"u"&&Tk(p5,p5.prototype);function Ik(n,t){const r=(i,s)=>{const o=Gt("fes.fileLoadError.suggestion",{filePath:s,url:"https://github.com/processing/p5.js/wiki/Local-server"});switch(i){case 0:return{message:Gt("fes.fileLoadError.image",{suggestion:o}),method:"loadImage"};case 1:return{message:Gt("fes.fileLoadError.xml",{suggestion:o}),method:"loadXML"};case 2:return{message:Gt("fes.fileLoadError.table",{suggestion:o}),method:"loadTable"};case 3:return{message:Gt("fes.fileLoadError.strings",{suggestion:o}),method:"loadStrings"};case 4:return{message:Gt("fes.fileLoadError.font",{suggestion:o}),method:"loadFont"};case 5:return{message:Gt("fes.fileLoadError.json",{suggestion:o}),method:"loadJSON"};case 6:return{message:Gt("fes.fileLoadError.bytes",{suggestion:o}),method:"loadBytes"};case 7:return{message:Gt("fes.fileLoadError.large"),method:"loadX"};case 8:return{message:Gt("fes.fileLoadError.gif"),method:"loadImage"}}};n._friendlyFileLoadError=function(i,s){const{message:o,method:a}=r(i,s);n._friendlyError(o,a,3)}}typeof p5<"u"&&Ik(p5,p5.prototype);function JW(n){n.registerAddon(mN),n.registerAddon(gN),n.registerAddon(GN),n.registerAddon(Tk),n.registerAddon(Ik)}function Dk(n,t){t.storeItem=function(r,i){typeof r!="string"&&console.log(`The argument that you passed to storeItem() - ${r} is not a string.`),r.endsWith("p5TypeID")&&console.log(`The argument that you passed to storeItem() - ${r} must not end with 'p5TypeID'.`),typeof i>"u"&&console.log("You cannot store undefined variables using storeItem().");let s=typeof i;switch(s){case"number":case"boolean":i=i.toString();break;case"object":i instanceof n.Color?(s="p5.Color",i=i.toString()):i instanceof n.Vector&&(s="p5.Vector",i=i.values),i=JSON.stringify(i);break}localStorage.setItem(r,i);const o=`${r}p5TypeID`;localStorage.setItem(o,s)},t.getItem=function(r){let i=localStorage.getItem(r);const s=localStorage.getItem(`${r}p5TypeID`);if(typeof s>"u")console.log(`Unable to determine type of item stored under ${r}in local storage. Did you save the item with something other than setItem()?`);else if(i!==null)switch(s){case"number":i=parseFloat(i);break;case"boolean":i=i==="true";break;case"object":i=JSON.parse(i);break;case"p5.Color":i=this.color(JSON.parse(i));break;case"p5.Vector":i=JSON.parse(i),i=this.createVector(...i);break}return i},t.clearStorage=function(){Object.keys(localStorage).forEach(i=>{i.endsWith("p5TypeID")&&this.removeItem(i.replace("p5TypeID",""))})},t.removeItem=function(r){typeof r!="string"&&console.log(`The argument that you passed to removeItem() - ${r} is not a string.`),localStorage.removeItem(r),localStorage.removeItem(`${r}p5TypeID`)}}typeof p5<"u"&&Dk(p5,p5.prototype);function QW(n){n.registerAddon(Dk)}function Nk(n,t){t.select=function(s,o){const l=this._getContainer(o).querySelector(s);return l?this._wrapElement(l):null},t.selectAll=function(s,o){const a=[],u=this._getContainer(o).querySelectorAll(s);if(u)for(let h=0;h<u.length;h++){const c=this._wrapElement(u[h]);a.push(c)}return a},t._getContainer=function(s){let o=document;return typeof s=="string"?o=document.querySelector(s)||document:s instanceof Vr?o=s.elt:s instanceof HTMLElement&&(o=s),o},t._wrapElement=function(s){const o=Array.prototype.slice.call(s.children);if(s.tagName==="INPUT"&&s.type==="checkbox"){let a=new Vr(s,this);return a.checked=function(...l){return l.length===0?this.elt.checked:(l[0]?this.elt.checked=!0:this.elt.checked=!1,this)},a}else return s.tagName==="VIDEO"||s.tagName==="AUDIO"?new yl(s,this):s.tagName==="SELECT"?this.createSelect(new Vr(s,this)):o.length>0&&o.every(function(a){return a.tagName==="INPUT"||a.tagName==="LABEL"})&&(s.tagName==="DIV"||s.tagName==="SPAN")?this.createRadio(new Vr(s,this)):new Vr(s,this)},t.createElement=function(s,o){const a=document.createElement(s);return typeof o<"u"&&(a.innerHTML=o),r(a,this)},t.removeElements=function(s){const o=l=>!(l.elt instanceof HTMLCanvasElement);this._elements.filter(o).map(l=>l.remove())};function r(s,o,a){(o._userNode?o._userNode:document.body).appendChild(s);const u=a?new yl(s,o):new Vr(s,o);return o._elements.push(u),u}t.createDiv=function(s=""){let o=document.createElement("div");return o.innerHTML=s,r(o,this)},t.createP=function(s=""){let o=document.createElement("p");return o.innerHTML=s,r(o,this)},t.createSpan=function(s=""){let o=document.createElement("span");return o.innerHTML=s,r(o,this)},t.createImg=function(){const s=document.createElement("img"),o=arguments;let a;return o.length>1&&typeof o[1]=="string"&&(s.alt=o[1]),o.length>2&&typeof o[2]=="string"&&(s.crossOrigin=o[2]),s.src=o[0],a=r(s,this),s.addEventListener("load",function(){a.width=s.offsetWidth||s.width,a.height=s.offsetHeight||s.height;const l=o[o.length-1];typeof l=="function"&&l(a)}),a},t.createA=function(s,o,a){const l=document.createElement("a");return l.href=s,l.innerHTML=o,a&&(l.target=a),r(l,this)},t.createSlider=function(s,o,a,l){const u=document.createElement("input");return u.type="range",u.min=s,u.max=o,l===0?u.step=1e-18:l&&(u.step=l),typeof a=="number"&&(u.value=a),r(u,this)},t.createButton=function(s,o){const a=document.createElement("button");return a.innerHTML=s,o&&(a.value=o),r(a,this)},t.createCheckbox=function(...s){const o=document.createElement("div"),a=document.createElement("input");a.type="checkbox";const l=document.createElement("label");l.appendChild(a),o.appendChild(l);const u=r(o,this);if(u.checked=function(...h){const c=u.elt.firstElementChild.getElementsByTagName("input")[0];if(c){if(h.length===0)return c.checked;h[0]?c.checked=!0:c.checked=!1}return u},this.value=function(h){return u.value=h,this},s[0]){u.value(s[0]);const h=document.createElement("span");h.innerHTML=s[0],l.appendChild(h)}return s[1]&&(a.checked=!0),u},t.createSelect=function(...s){let o,a=s[0];if(a instanceof Vr&&a.elt instanceof HTMLSelectElement)o=a,this.elt=a.elt;else if(a instanceof HTMLSelectElement)o=r(a,this),this.elt=a;else{const l=document.createElement("select");a&&typeof a=="boolean"&&l.setAttribute("multiple","true"),o=r(l,this),this.elt=l}return o.option=function(l,u){let h;if(l!==void 0){for(let c=0;c<this.elt.length;c+=1)if(this.elt[c].textContent===l){h=c;break}if(h!==void 0)u===!1?this.elt.remove(h):this.elt[h].value=u;else{const c=document.createElement("option");c.textContent=l,c.value=u===void 0?l:u,this.elt.appendChild(c),this._pInst._elements.push(c)}}},o.selected=function(l){if(l!==void 0){for(let u=0;u<this.elt.length;u+=1)this.elt[u].value.toString()===l.toString()&&(this.elt.selectedIndex=u);return this}else if(this.elt.getAttribute("multiple")){let u=[];for(const h of this.elt.selectedOptions)u.push(h.value);return u}else return this.elt.value},o.disable=function(l){if(typeof l=="string")for(let u=0;u<this.elt.length;u++)this.elt[u].value.toString()===l&&(this.elt[u].disabled=!0,this.elt[u].selected=!1);else this.elt.disabled=!0;return this},o.enable=function(l){if(typeof l=="string")for(let u=0;u<this.elt.length;u++)this.elt[u].value.toString()===l&&(this.elt[u].disabled=!1,this.elt[u].selected=!1);else{this.elt.disabled=!1;for(let u=0;u<this.elt.length;u++)this.elt[u].disabled=!1,this.elt[u].selected=!1}return this},o};let i=0;t.createRadio=function(...s){let o,a,l;const u=s[0];u instanceof Vr&&(u.elt instanceof HTMLDivElement||u.elt instanceof HTMLSpanElement)?(o=u,this.elt=u.elt):u instanceof HTMLDivElement||u instanceof HTMLSpanElement?(o=r(u,this),this.elt=u,a=u,typeof s[1]=="string"&&(l=s[1])):(typeof u=="string"&&(l=u),a=document.createElement("div"),o=r(a,this),this.elt=a),o._name=l||`radioOption_${i++}`;const h=p=>p instanceof HTMLInputElement&&p.type==="radio",c=p=>p instanceof HTMLLabelElement,f=p=>p instanceof HTMLSpanElement;return o._getOptionsArray=function(){return Array.from(this.elt.children).filter(p=>h(p)||c(p)&&h(p.firstElementChild)).map(p=>h(p)?p:p.firstElementChild)},o.option=function(p,d){let g;for(const w of o._getOptionsArray())if(w.value===p){g=w;break}g===void 0&&(g=document.createElement("input"),g.setAttribute("type","radio"),g.setAttribute("value",p)),g.setAttribute("name",o._name);let m;c(g.parentElement)?m=g.parentElement:(m=document.createElement("label"),m.insertAdjacentElement("afterbegin",g));let v;return f(m.lastElementChild)?v=m.lastElementChild:(v=document.createElement("span"),g.insertAdjacentElement("afterend",v)),v.innerHTML=d===void 0?p:d,this.elt.appendChild(m),g},o.remove=function(p){for(const d of o._getOptionsArray())if(d.value===p){c(d.parentElement)?d.parentElement.remove():d.remove();return}},o.value=function(){let p="";for(const d of o._getOptionsArray())if(d.checked){p=d.value;break}return p},o.selected=function(p){let d=null;if(p===void 0){for(const g of o._getOptionsArray())if(g.checked){d=g;break}}else{o._getOptionsArray().forEach(g=>{g.checked=!1,g.removeAttribute("checked")});for(const g of o._getOptionsArray())g.value===p&&(g.setAttribute("checked",!0),g.checked=!0,d=g)}return d},o.disable=function(p=!0){for(const d of o._getOptionsArray())d.setAttribute("disabled",p)},o},t.createColorPicker=function(s){const o=document.createElement("input");let a;o.type="color",s?s instanceof n.Color?o.value=s.toString("#rrggbb"):(this.push(),this.colorMode("rgb"),o.value=this.color(s).toString("#rrggbb"),this.pop()):o.value="#000000",a=r(o,this);const l=this;return a.color=function(){l.push(),s&&s.mode&&l.colorMode(s.mode,...s?.maxes?s.maxes[s.mode]||[]:[]);const u=l.color(this.elt.value);return l.pop(),u},a},t.createInput=function(s="",o="text"){let a=document.createElement("input");return a.setAttribute("value",s),a.setAttribute("type",o),r(a,this)},t.createFileInput=function(s,o=!1){const a=function(u){for(const h of u.target.files)wa._load(h,s)};if(!(window.File&&window.FileReader&&window.FileList&&window.Blob)){console.log("The File APIs are not fully supported in this browser. Cannot create element.");return}const l=document.createElement("input");return l.setAttribute("type","file"),o&&l.setAttribute("multiple",!0),l.addEventListener("change",a,!1),r(l,this)}}typeof p5<"u"&&Nk(p5,p5.prototype);function eq(n){n.registerAddon(Nk),n.registerAddon(i5),n.registerAddon(S5),n.registerAddon(r5)}function kk(n,t,r){r.presetup=function(){const f=["deviceorientation","devicemotion"];for(const p of f)window.addEventListener(p,this[`_on${p}`].bind(this),{passive:!1,signal:this._removeSignal})},t.deviceOrientation=window.innerWidth/window.innerHeight>1?"landscape":"portrait",t.accelerationX=0,t.accelerationY=0,t.accelerationZ=0,t.pAccelerationX=0,t.pAccelerationY=0,t.pAccelerationZ=0,t._updatePAccelerations=function(){this.pAccelerationX=this.accelerationX,this.pAccelerationY=this.accelerationY,this.pAccelerationZ=this.accelerationZ},t.rotationX=0,t.rotationY=0,t.rotationZ=0,t.pRotationX=0,t.pRotationY=0,t.pRotationZ=0;let i=0,s=0,o=0,a="clockwise",l="clockwise",u="clockwise";t.pRotateDirectionX=void 0,t.pRotateDirectionY=void 0,t.pRotateDirectionZ=void 0,t._updatePRotations=function(){this.pRotationX=this.rotationX,this.pRotationY=this.rotationY,this.pRotationZ=this.rotationZ},t.turnAxis=void 0;let h=.5,c=30;t.setMoveThreshold=function(f){h=f},t.setShakeThreshold=function(f){c=f},t._ondeviceorientation=function(f){this._updatePRotations(),this.rotationX=this._fromDegrees(f.beta),this.rotationY=this._fromDegrees(f.gamma),this.rotationZ=this._fromDegrees(f.alpha),this._handleMotion()},t._ondevicemotion=function(f){this._updatePAccelerations(),this.accelerationX=f.acceleration.x*2,this.accelerationY=f.acceleration.y*2,this.accelerationZ=f.acceleration.z*2,this._handleMotion()},t._handleMotion=function(){if(screen.orientation.type==="landscape-primary"||screen.orientation.type==="landscape-secondary"?this.deviceOrientation="landscape":screen.orientation.type==="portrait-primary"||screen.orientation.type==="portrait-secondary"?this.deviceOrientation="portrait":this.deviceOrientation="undefined",typeof this._customActions.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>h||Math.abs(this.accelerationY-this.pAccelerationY)>h||Math.abs(this.accelerationZ-this.pAccelerationZ)>h)&&this._customActions.deviceMoved(),typeof this._customActions.deviceTurned=="function"){const f=this._toDegrees(this.rotationX)+180,p=this._toDegrees(this.pRotationX)+180;let d=i+180;f-p>0&&f-p<270||f-p<-270?a="clockwise":(f-p<0||f-p>270)&&(a="counter-clockwise"),a!==this.pRotateDirectionX&&(d=f),Math.abs(f-d)>90&&Math.abs(f-d)<270&&(d=f,this.turnAxis="X",this._customActions.deviceTurned()),this.pRotateDirectionX=a,i=d-180;const g=this._toDegrees(this.rotationY)+180,m=this._toDegrees(this.pRotationY)+180;let v=s+180;g-m>0&&g-m<270||g-m<-270?l="clockwise":(g-m<0||g-this.pRotationY>270)&&(l="counter-clockwise"),l!==this.pRotateDirectionY&&(v=g),Math.abs(g-v)>90&&Math.abs(g-v)<270&&(v=g,this.turnAxis="Y",this._customActions.deviceTurned()),this.pRotateDirectionY=l,s=v-180;const w=this._toDegrees(this.rotationZ),y=this._toDegrees(this.pRotationZ);w-y>0&&w-y<270||w-y<-270?u="clockwise":(w-y<0||w-y>270)&&(u="counter-clockwise"),u!==this.pRotateDirectionZ&&(o=w),Math.abs(w-o)>90&&Math.abs(w-o)<270&&(o=w,this.turnAxis="Z",this._customActions.deviceTurned()),this.pRotateDirectionZ=u,this.turnAxis=void 0}if(typeof this._customActions.deviceShaken=="function"){let f,p;this.pAccelerationX!==null&&(f=Math.abs(this.accelerationX-this.pAccelerationX),p=Math.abs(this.accelerationY-this.pAccelerationY)),f+p>c&&this._customActions.deviceShaken()}}}typeof p5<"u"&&kk(p5,p5.prototype);function tq(n){return["Alt","Shift","Control","Meta"].includes(n)||typeof n!="string"?!1:n.length>1}function Fk(n,t,r){r.presetup=function(){const i=["keydown","keyup","keypress","blur"];for(const s of i)window.addEventListener(s,this[`_on${s}`].bind(this),{passive:!1,signal:this._removeSignal})},t.keyIsPressed=!1,t.key="",t.code="",t.keyCode=0,t._onkeydown=function(i){this._downKeys[i.code]||(this.keyIsPressed=!0,this.keyCode=i.which,this.key=i.key,this.code=i.code,this._downKeyCodes[i.code]=!0,this._downKeys[i.key]=!0,typeof this._customActions.keyPressed=="function"&&!i.charCode&&this._customActions.keyPressed(i)===!1&&i.preventDefault())},t._onkeyup=function(i){if(typeof this._customActions.keyReleased=="function"&&this._customActions.keyReleased(i)===!1&&i.preventDefault(),delete this._downKeyCodes[i.code],delete this._downKeys[i.key],!this._areDownKeys())this.keyIsPressed=!1,this.key="",this.code="";else{const s=Object.keys(this._downKeyCodes).pop();this.code=s;const o=Object.keys(this._downKeys).pop();this.key=o}},t._onkeypress=function(i){i.which===this._lastKeyCodeTyped&&i.repeat||(this._lastKeyCodeTyped=i.which,this.key=i.key||String.fromCharCode(i.which)||i.which,typeof this._customActions.keyTyped=="function"&&this._customActions.keyTyped(i)===!1&&i.preventDefault())},t._onblur=function(i){this._downKeys={}},t.keyIsDown=function(i){return tq(i)?this._downKeyCodes[i]||this._downKeys[i]||!1:this._downKeys[i]||this._downKeyCodes[i]||!1},t._areDownKeys=function(){for(const i in this._downKeys)if(this._downKeys.hasOwnProperty(i)&&this._downKeys[i]===!0)return!0;return!1}}typeof p5<"u"&&Fk(p5,p5.prototype);function Mk(n,t,r){r.presetup=function(){const o=["pointerdown","pointerup","pointermove","dragend","dragover","click","dblclick","wheel"];for(const a of o)window.addEventListener(a,this[`_on${a}`].bind(this),{passive:!1,signal:this._removeSignal})},t.movedX=0,t.movedY=0,t._hasMouseInteracted=!1,t.mouseX=0,t.mouseY=0,t.pmouseX=0,t.pmouseY=0,t.winMouseX=0,t.winMouseY=0,t.pwinMouseX=0,t.pwinMouseY=0,t.mouseButton={left:!1,right:!1,center:!1},t.touches=[],t._activePointers=new Map,t.mouseIsPressed=!1,t._updatePointerCoords=function(o){if(this._curElement!==null){const a=this._curElement.elt,l=a.scrollWidth/this.width||1,u=a.scrollHeight/this.height||1;if(o.pointerType==="touch"){const c=[];for(const f of this._activePointers.values())c.push(s(a,l,u,f));this.touches=c}const h=i(a,l,u,o);this.movedX=o.movementX||0,this.movedY=o.movementY||0,this.mouseX=h.x,this.mouseY=h.y,this.winMouseX=h.winX,this.winMouseY=h.winY,this._hasMouseInteracted||(this._updateMouseCoords(),this._hasMouseInteracted=!0)}},t._updateMouseCoords=function(){this.pmouseX=this.mouseX,this.pmouseY=this.mouseY,this.pwinMouseX=this.winMouseX,this.pwinMouseY=this.winMouseY,this._pmouseWheelDeltaY=this._mouseWheelDeltaY};function i(o,a,l,u){const h=o.getBoundingClientRect();return{x:(u.clientX-h.left)/a,y:(u.clientY-h.top)/l,winX:u.clientX,winY:u.clientY}}function s(o,a,l,u){const h=o.getBoundingClientRect();return{x:(u.clientX-h.left)/a,y:(u.clientY-h.top)/l,winX:u.clientX,winY:u.clientY,id:u.pointerId}}t._setMouseButton=function(o){this.mouseButton.left=Array.from(this._activePointers.values()).some(a=>(a.buttons&1)!==0),this.mouseButton.center=Array.from(this._activePointers.values()).some(a=>(a.buttons&4)!==0),this.mouseButton.right=Array.from(this._activePointers.values()).some(a=>(a.buttons&2)!==0)},t._onpointermove=function(o){let a;this._updatePointerCoords(o),this._activePointers.set(o.pointerId,o),this._setMouseButton(o),!this.mouseIsPressed&&typeof this._customActions.mouseMoved=="function"?(a=this._customActions.mouseMoved(o),a===!1&&o.preventDefault()):this.mouseIsPressed&&typeof this._customActions.mouseDragged=="function"&&(a=this._customActions.mouseDragged(o),a===!1&&o.preventDefault())},t._onpointerdown=function(o){let a;this.mouseIsPressed=!0,this._activePointers.set(o.pointerId,o),this._setMouseButton(o),this._updatePointerCoords(o),typeof this._customActions.mousePressed=="function"&&(a=this._customActions.mousePressed(o),a===!1&&o.preventDefault())},t._onpointerup=function(o){let a;this.mouseIsPressed=!1,this._activePointers.delete(o.pointerId),this._setMouseButton(o),this._updatePointerCoords(o),typeof this._customActions.mouseReleased=="function"&&(a=this._customActions.mouseReleased(o),a===!1&&o.preventDefault())},t._ondragend=t._onpointerup,t._ondragover=t._onpointermove,t._onclick=function(o){typeof this._customActions.mouseClicked=="function"&&this._customActions.mouseClicked(o)===!1&&o.preventDefault()},t._ondblclick=function(o){typeof this._customActions.doubleClicked=="function"&&this._customActions.doubleClicked(o)===!1&&o.preventDefault()},t._mouseWheelDeltaY=0,t._pmouseWheelDeltaY=0,t._onwheel=function(o){this._mouseWheelDeltaY=o.deltaY,typeof this._customActions.mouseWheel=="function"&&(o.delta=o.deltaY,this._customActions.mouseWheel(o)===!1&&o.preventDefault())},t.requestPointerLock=function(){const o=this._curElement.elt;return o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock,o.requestPointerLock?(o.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},t.exitPointerLock=function(){document.exitPointerLock()}}typeof p5<"u"&&Mk(p5,p5.prototype);function nq(n){n.registerAddon(kk),n.registerAddon(Fk),n.registerAddon(Mk)}function rq(n){n.registerAddon(Ib),n.registerAddon(Db),n.registerAddon(E5),n.registerAddon(Cb),n.registerAddon(Nb),n.registerAddon(Pb)}class iq{constructor(t){this.columns=[],this.rows=[]}toString(t=","){let r=this.rows.map(i=>i.arr);return this.columns.some(i=>i===null)||(r=[this.columns,...r]),kV(r,{separator:t})}addRow(t){const r=t||new p5.TableRow;if(typeof r.arr>"u"||typeof r.obj>"u")throw new Error(`invalid TableRow: ${r}`);return r.table=this,this.rows.push(r),r}removeRow(t){this.rows[t].table=null;const r=this.rows.splice(t+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(r)}getRow(t){return this.rows[t]}getRows(){return this.rows}findRow(t,r){if(typeof r=="string"){for(let i=0;i<this.rows.length;i++)if(this.rows[i].obj[this.columns.indexOf(r)]===t)return this.rows[i]}else for(let i=0;i<this.rows.length;i++)if(this.rows[i].arr[r]===t)return this.rows[i];return null}findRows(t,r){const i=[];if(typeof r=="string")for(let s=0;s<this.rows.length;s++)this.rows[s].obj[this.columns.indexOf(r)]===t&&i.push(this.rows[s]);else for(let s=0;s<this.rows.length;s++)this.rows[s].arr[r]===t&&i.push(this.rows[s]);return i}matchRow(t,r){if(typeof r=="number"){for(let i=0;i<this.rows.length;i++)if(this.rows[i].arr[r].match(t))return this.rows[i]}else for(let i=0;i<this.rows.length;i++)if(this.rows[i].obj[this.columns.indexOf(r)].match(t))return this.rows[i];return null}matchRows(t,r){const i=[];if(typeof r=="number")for(let s=0;s<this.rows.length;s++)this.rows[s].arr[r].match(t)&&i.push(this.rows[s]);else for(let s=0;s<this.rows.length;s++)this.rows[s].obj[this.columns.indexOf(r)].match(t)&&i.push(this.rows[s]);return i}getColumn(t){const r=[];if(typeof t=="string")for(let i=0;i<this.rows.length;i++)r.push(this.rows[i].obj[this.columns.indexOf(t)]);else for(let i=0;i<this.rows.length;i++)r.push(this.rows[i].arr[t]);return r}clearRows(){delete this.rows,this.rows=[]}addColumn(t){const r=t||null;this.columns.push(r)}getColumnCount(){return this.columns.length}getRowCount(){return this.rows.length}removeTokens(t,r){const i=a=>a.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),s=[];for(let a=0;a<t.length;a++)s.push(i(t.charAt(a)));const o=new RegExp(s.join("|"),"g");if(typeof r>"u")for(let a=0;a<this.columns.length;a++)for(let l=0;l<this.rows.length;l++){let u=this.rows[l].arr[a];u=u.replace(o,""),this.rows[l].arr[a]=u,this.rows[l].obj[this.columns[a]]=u}else if(typeof r=="string")for(let a=0;a<this.rows.length;a++){let l=this.rows[a].obj[r];l=l.replace(o,""),this.rows[a].obj[r]=l;const u=this.columns.indexOf(r);this.rows[a].arr[u]=l}else for(let a=0;a<this.rows.length;a++){let l=this.rows[a].arr[r];l=l.replace(o,""),this.rows[a].arr[r]=l,this.rows[a].obj[this.columns[r]]=l}}trim(t){const r=new RegExp(" ","g");if(typeof t>"u")for(let i=0;i<this.columns.length;i++)for(let s=0;s<this.rows.length;s++){let o=this.rows[s].arr[i];o=o.replace(r,""),this.rows[s].arr[i]=o,this.rows[s].obj[this.columns[i]]=o}else if(typeof t=="string")for(let i=0;i<this.rows.length;i++){let s=this.rows[i].obj[t];s=s.replace(r,""),this.rows[i].obj[t]=s;const o=this.columns.indexOf(t);this.rows[i].arr[o]=s}else for(let i=0;i<this.rows.length;i++){let s=this.rows[i].arr[t];s=s.replace(r,""),this.rows[i].arr[t]=s,this.rows[i].obj[this.columns[t]]=s}}removeColumn(t){let r,i;typeof t=="string"?(r=t,i=this.columns.indexOf(t)):(i=t,r=this.columns[t]);const s=this.columns.splice(i+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(s);for(let o=0;o<this.rows.length;o++){const a=this.rows[o].arr,l=a.splice(i+1,a.length);a.pop(),this.rows[o].arr=a.concat(l),delete this.rows[o].obj[r]}}set(t,r,i){this.rows[t].set(r,i)}setNum(t,r,i){this.rows[t].setNum(r,i)}setString(t,r,i){this.rows[t].setString(r,i)}get(t,r){return typeof r=="string"?this.rows[t].get(this.columns.indexOf(r)):this.rows[t].get(r)}getNum(t,r){return this.rows[t].getNum(r)}getString(t,r){return this.rows[t].getString(r)}getObject(t){const r={};let i,s,o;for(let a=0;a<this.rows.length;a++)if(i=this.rows[a].obj,typeof t=="string")if(s=this.columns.indexOf(t),s>=0)o=i[t],r[o]=i;else throw new Error(`This table has no column named "${t}"`);else r[a]=this.rows[a].obj;return r}getArray(){const t=[];for(let r=0;r<this.rows.length;r++)t.push(this.rows[r].arr);return t}}function Ok(n,t){n.Table=iq}typeof p5<"u"&&Ok(p5,p5.prototype);class sq{constructor(t=[]){let r=t;this.arr=r,this.obj=Object.fromEntries(r.entries()),this.table=null}set(t,r){if(typeof t=="string"){const i=this.table.columns.indexOf(t);if(i>=0)this.obj[t]=r,this.arr[i]=r;else throw new Error(`This table has no column named "${t}"`)}else if(t<this.table.columns.length){this.arr[t]=r;const i=this.table.columns[t];this.obj[i]=r}else throw new Error(`Column #${t} is out of the range of this table`)}setNum(t,r){const i=parseFloat(r);this.set(t,i)}setString(t,r){const i=r.toString();this.set(t,i)}get(t){return typeof t=="string"?this.obj[this.table.columns.indexOf(t)]:this.arr[t]}getNum(t){let r;if(typeof t=="string"?r=parseFloat(this.obj[this.table.columns.indexOf(t)]):r=parseFloat(this.arr[t]),r.toString()==="NaN")throw`Error: ${this.obj[t]} is NaN (Not a Number)`;return r}getString(t){return typeof t=="string"?this.obj[this.table.columns.indexOf(t)].toString():this.arr[t].toString()}}function Pk(n,t){n.TableRow=sq}typeof p5<"u"&&Pk(p5,p5.prototype);function oq(n){n.registerAddon(O5),n.registerAddon(Ok),n.registerAddon(Pk),n.registerAddon(n5)}function Lk(n,t){t.abs=Math.abs,t.ceil=Math.ceil,t.constrain=function(r,i,s){return Math.max(Math.min(r,s),i)},t.dist=function(...r){if(r.length===4)return Math.hypot(r[2]-r[0],r[3]-r[1]);if(r.length===6)return Math.hypot(r[3]-r[0],r[4]-r[1],r[5]-r[2])},t.exp=Math.exp,t.floor=Math.floor,t.lerp=function(r,i,s){return s*(i-r)+r},t.log=Math.log,t.mag=function(r,i){return Math.hypot(r,i)},t.map=function(r,i,s,o,a,l){const u=(r-i)/(s-i)*(a-o)+o;return l?o<a?this.constrain(u,o,a):this.constrain(u,a,o):u},t.max=function(...r){const i=s=>{let o=-1/0;for(let a of s)o=Math.max(o,a);return o};return r[0]instanceof Array?i(r[0]):i(r)},t.min=function(...r){const i=s=>{let o=1/0;for(let a of s)o=Math.min(o,a);return o};return r[0]instanceof Array?i(r[0]):i(r)},t.norm=function(r,i,s){return this.map(r,i,s,0,1)},t.pow=Math.pow,t.round=function(r,i){if(!i)return Math.round(r);const s=Math.pow(10,i);return Math.round(r*s)/s},t.sq=r=>r*r,t.sqrt=Math.sqrt,t.fract=function(r){let i=0,s=Number(r);if(isNaN(s)||Math.abs(s)===1/0)return s;if(s<0&&(s=-s,i=1),String(s).includes(".")&&!String(s).includes("e")){let o=String(s);return o=+("0"+o.slice(o.indexOf("."))),Math.abs(i-o)}else return s<1?Math.abs(i-s):0}}typeof p5<"u"&&Lk(p5,p5.prototype);function Rk(n,t){let l=4,u=.5;const h=f=>.5*(1-Math.cos(f*Math.PI));let c;t.noise=function(f,p=0,d=0){if(c==null){c=new Array(4096);for(let F=0;F<4096;F++)c[F]=Math.random()}f<0&&(f=-f),p<0&&(p=-p),d<0&&(d=-d);let g=Math.floor(f),m=Math.floor(p),v=Math.floor(d),w=f-g,y=p-m,_=d-v,x,C,E=0,S=.5,D,A,N;for(let F=0;F<l;F++){let T=g+(m<<4)+(v<<8);x=h(w),C=h(y),D=c[T&4095],D+=x*(c[T+1&4095]-D),A=c[T+16&4095],A+=x*(c[T+16+1&4095]-A),D+=C*(A-D),T+=256,A=c[T&4095],A+=x*(c[T+1&4095]-A),N=c[T+16&4095],N+=x*(c[T+16+1&4095]-N),A+=C*(N-A),D+=h(_)*(A-D),E+=D*S,S*=u,g<<=1,w*=2,m<<=1,y*=2,v<<=1,_*=2,w>=1&&(g++,w--),y>=1&&(m++,y--),_>=1&&(v++,_--)}return E},t.noiseDetail=function(f,p){f>0&&(l=f),p>0&&(u=p)},t.noiseSeed=function(f){const p=(()=>{let v,w;return{setSeed(y){w=v=(y??Math.random()*4294967296)>>>0},getSeed(){return v},rand(){return w=(1664525*w+1013904223)%4294967296,w/4294967296}}})();p.setSeed(f),c=new Array(4096);for(let d=0;d<4096;d++)c[d]=p.rand()}}typeof p5<"u"&&Rk(p5,p5.prototype);function Bk(n,t){const r="_lcg_random_state";let a=0;t._lcg=function(l){return this[l]=(1664525*this[l]+1013904223)%4294967296,this[l]/4294967296},t._lcgSetSeed=function(l,u){this[l]=(u??Math.random()*4294967296)>>>0},t.randomSeed=function(l){this._lcgSetSeed(r,l),this._gaussian_previous=!1},t.random=function(l,u){let h;if(this[r]!=null?h=this._lcg(r):h=Math.random(),typeof l>"u")return h;if(typeof u>"u")return l instanceof Array?l[Math.floor(h*l.length)]:h*l;if(l>u){const c=l;l=u,u=c}return h*(u-l)+l},t.randomGaussian=function(l,u=1){let h,c,f,p;if(this._gaussian_previous)h=a,this._gaussian_previous=!1;else{do c=this.random(2)-1,f=this.random(2)-1,p=c*c+f*f;while(p>=1);p=Math.sqrt(-2*Math.log(p)/p),h=c*p,a=f*p,this._gaussian_previous=!0}const d=l||0;return h*u+d}}typeof p5<"u"&&Bk(p5,p5.prototype);function Uk(n,t){t.createVector=function(r,i,s){return arguments.length===0&&n._friendlyError("In 1.x, createVector() was a shortcut for createVector(0, 0, 0). In 2.x, p5.js has vectors of any dimension, so you must provide your desired number of zeros. Use createVector(0, 0) for a 2D vector and createVector(0, 0, 0) for a 3D vector."),this instanceof n?new n.Vector(this._fromRadians.bind(this),this._toRadians.bind(this),...arguments):new n.Vector(r,i,s)},t.createMatrix=function(...r){return new n.Matrix(...r)}}typeof p5<"u"&&Uk(p5,p5.prototype);function aq(n){n.registerAddon(Lk),n.registerAddon(Rk),n.registerAddon(Bk),n.registerAddon(Tb),n.registerAddon(Uk),n.registerAddon(s5)}function Vk(n,t){t.float=function(r){return r instanceof Array?r.map(parseFloat):parseFloat(r)},t.int=function(r,i=10){if(r===1/0||r==="Infinity")return 1/0;if(r===-1/0||r==="-Infinity")return-1/0;if(typeof r=="string")return parseInt(r,i);if(typeof r=="number")return r|0;if(typeof r=="boolean")return r?1:0;if(r instanceof Array)return r.map(s=>t.int(s,i))},t.str=function(r){return r instanceof Array?r.map(t.str):String(r)},t.boolean=function(r){if(typeof r=="number")return r!==0;if(typeof r=="string")return r.toLowerCase()==="true";if(typeof r=="boolean")return r;if(r instanceof Array)return r.map(t.boolean)},t.byte=function(r){const i=t.int(r,10);if(typeof i=="number")return(i+128)%256-128;if(i instanceof Array)return i.map(t.byte)},t.char=function(r){if(typeof r=="number"&&!isNaN(r))return String.fromCharCode(r);if(r instanceof Array)return r.map(t.char);if(typeof r=="string")return t.char(parseInt(r,10))},t.unchar=function(r){if(typeof r=="string"&&r.length===1)return r.charCodeAt(0);if(r instanceof Array)return r.map(t.unchar)},t.hex=function(r,i){if(i=i??(i=8),r instanceof Array)return r.map(s=>t.hex(s,i));if(r===1/0||r===-1/0)return(r===1/0?"F":"0").repeat(i);if(typeof r=="number"){r<0&&(r=4294967295+r+1);let s=Number(r).toString(16).toUpperCase();for(;s.length<i;)s=`0${s}`;return s.length>=i&&(s=s.substring(s.length-i,s.length)),s}},t.unhex=function(r){return r instanceof Array?r.map(t.unhex):parseInt(`0x${r}`,16)}}typeof p5<"u"&&Vk(p5,p5.prototype);function $k(n,t){t.nf=function(a,l,u){return a instanceof Array?a.map(h=>r(h,l,u)):Object.prototype.toString.call(a)==="[object Arguments]"?a.length===3?this.nf(a[0],a[1],a[2]):a.length===2?this.nf(a[0],a[1]):this.nf(a[0]):r(a,l,u)};function r(a,l,u){let h=a<0;a=Math.abs(a);let[c,f]=a.toString().split(".");if(typeof u>"u"){c=c.padStart(l,"0");let p=f?c+"."+f:c;return h?"-"+p:p}else{[c,f]=a.toFixed(u).toString().split("."),c=c.padStart(l,"0");let d=typeof f>"u"?c:c+"."+f;return h?"-"+d:d}}t.nfc=function(a,l){return a instanceof Array?a.map(u=>i(u,l)):i(a,l)};function i(a,l){a=a.toString();const u=a.indexOf(".");let h=u!==-1?a.substring(u):"",c=u!==-1?a.substring(0,u):a;if(c=c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),l===0)h="";else if(typeof l<"u")if(l>h.length){h+=u===-1?".":"";const f=l-h.length+1;for(let p=0;p<f;p++)h+="0"}else h=h.substring(0,l+1);return c+h}t.nfp=function(...a){const l=t.nf.apply(this,a);return l instanceof Array?l.map(s):s(l)};function s(a){return parseFloat(a)>0?`+${a.toString()}`:a.toString()}t.nfs=function(...a){const l=t.nf.apply(this,a);return l instanceof Array?l.map(o):o(l)};function o(a){return parseFloat(a)>=0?` ${a.toString()}`:a.toString()}t.splitTokens=function(a,l){let u;if(typeof l<"u"){let h=l;const c=/\]/g.exec(h);let f=/\[/g.exec(h);f&&c?(h=h.slice(0,c.index)+h.slice(c.index+1),f=/\[/g.exec(h),h=h.slice(0,f.index)+h.slice(f.index+1),u=new RegExp(`[\\[${h}\\]]`,"g")):c?(h=h.slice(0,c.index)+h.slice(c.index+1),u=new RegExp(`[${h}\\]]`,"g")):f?(h=h.slice(0,f.index)+h.slice(f.index+1),u=new RegExp(`[${h}\\[]`,"g")):u=new RegExp(`[${h}]`,"g")}else u=/\s/g;return a.split(u).filter(h=>h)},t.shuffle=function(a,l){const u=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(a);a=l||u?a:a.slice();let h,c,f=a.length;for(;f>1;)h=this.random(0,1)*f|0,c=a[--f],a[f]=a[h],a[h]=c;return a}}typeof p5<"u"&&$k(p5,p5.prototype);function jk(n,t){t.day=function(){return new Date().getDate()},t.hour=function(){return new Date().getHours()},t.minute=function(){return new Date().getMinutes()},t.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.month=function(){return new Date().getMonth()+1},t.second=function(){return new Date().getSeconds()},t.year=function(){return new Date().getFullYear()}}typeof p5<"u"&&jk(p5,p5.prototype);function lq(n){n.registerAddon(Vk),n.registerAddon($k),n.registerAddon(jk)}function zk(n,t){t.orbitControl=function(r,i,s,o){this._assert3d("orbitControl");const a=this._renderer.states.curCamera;typeof r>"u"&&(r=1),typeof i>"u"&&(i=r),typeof s>"u"&&(s=1),typeof o!="object"&&(o={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=()=>!1,this.contextMenuDisabled=!0),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=()=>!1,this.wheelDefaultDisabled=!0);const{disableTouchActions:l=!0}=o;this.touchActionsDisabled!==!0&&l&&(this.canvas.style["touch-action"]="none",this.touchActionsDisabled=!0);const{freeRotation:u=!1}=o,h=[];this.touches.forEach(E=>{this._renderer.prevTouches.forEach(S=>{if(E.id===S.id){const D={x:E.x,y:E.y,px:S.x,py:S.y};h.push(D)}})}),this._renderer.prevTouches=this.touches;let c=0,f=0,p=0,d=0,g=0;const m=.85,v=.6,w=.15,y=.01,_=4e-4,x=this.height<this.width?this.height:this.width;let C=!1;if(h.length>0){if(C=h[0].x>0&&h[0].x<this.width&&h[0].y>0&&h[0].y<this.height,h.length===1){const E=h[0];f=-r*(E.x-E.px)/x,p=i*(E.y-E.py)/x}else{const E=h[0],S=h[1],D=Math.hypot(E.x-S.x,E.y-S.y),A=Math.hypot(E.px-S.px,E.py-S.py);c=-(D-A)*s*_,d=.5*(E.x+S.x)-.5*(E.px+S.px),g=.5*(E.y+S.y)-.5*(E.py+S.py)}this.touches.length>0?C&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)}else C=this.mouseX>0&&this.mouseX<this.width&&this.mouseY>0&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(c=Math.sign(this._mouseWheelDeltaY)*s,c*=y,this._mouseWheelDeltaY=0,C&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton.left?(f=-r*this.movedX/x,p=i*this.movedY/x):this.mouseButton.right&&(d=this.movedX,g=this.movedY*a.yScale),C&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1;if(c!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=c),Math.abs(this._renderer.zoomVelocity)>.001?(u?a._orbitFree(0,0,this._renderer.zoomVelocity):a._orbit(0,0,this._renderer.zoomVelocity),a.projMatrix.mat4[15]!==0&&(a.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),a.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4[0]=a.projMatrix.mat4[0],this._renderer.states.uPMatrix.mat4[5]=a.projMatrix.mat4[5]),this._renderer.zoomVelocity*=m):this._renderer.zoomVelocity=0,(f!==0||p!==0)&&this._renderer.executeRotateAndMove&&this._renderer.rotateVelocity.add(f*v,p*v),this._renderer.rotateVelocity.magSq()>1e-6?(u?a._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):a._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(m)):this._renderer.rotateVelocity.set(0,0),(d!==0||g!==0)&&this._renderer.executeRotateAndMove){const E=d*2/this.width,S=-g*2/this.height;this._renderer.moveVelocity.add(E*w,S*w)}if(this._renderer.moveVelocity.magSq()>1e-6){const E=a._getLocalAxes(),S=a.eyeX-a.centerX,D=a.eyeY-a.centerY,A=a.eyeZ-a.centerZ,N=Math.sqrt(S*S+D*D+A*A);let F=new Me(a.centerX,a.centerY,a.centerZ);F=a.cameraMatrix.multiplyPoint(F),F=this._renderer.states.uPMatrix.multiplyAndNormalizePoint(F),F.x-=this._renderer.moveVelocity.x,F.y-=this._renderer.moveVelocity.y;let T,I;const M=this._renderer.states.uPMatrix.mat4;M[15]===0?(T=(M[8]+F.x)/M[0]*N,I=(M[9]+F.y)/M[5]*N):(T=(F.x-M[12])/M[0],I=(F.y-M[13])/M[5]),a.setPosition(a.eyeX+T*E.x[0]+I*E.y[0],a.eyeY+T*E.x[1]+I*E.y[1],a.eyeZ+T*E.x[2]+I*E.y[2]),this._renderer.moveVelocity.mult(m)}else this._renderer.moveVelocity.set(0,0);return this},t.debugMode=function(...r){this._assert3d("debugMode");for(let i=n.lifecycleHooks.postdraw.length-1;i>=0;i--)(n.lifecycleHooks.postdraw[i].toString()===this._grid().toString()||n.lifecycleHooks.postdraw[i].toString()===this._axesIcon().toString())&&n.lifecycleHooks.postdraw.splice(i,1);r[0]===kD?n.lifecycleHooks.postdraw.push(this._grid(r[1],r[2],r[3],r[4],r[5])):r[0]===FD?n.lifecycleHooks.postdraw.push(this._axesIcon(r[1],r[2],r[3],r[4])):(n.lifecycleHooks.postdraw.push(this._grid(r[0],r[1],r[2],r[3],r[4])),n.lifecycleHooks.postdraw.push(this._axesIcon(r[5],r[6],r[7],r[8])))},t.noDebugMode=function(){this._assert3d("noDebugMode");for(let r=n.lifecycleHooks.postdraw.length-1;r>=0;r--)(n.lifecycleHooks.postdraw[r].toString()===this._grid().toString()||n.lifecycleHooks.postdraw[r].toString()===this._axesIcon().toString())&&n.lifecycleHooks.postdraw.splice(r,1)},t._grid=function(r,i,s,o,a){typeof r>"u"&&(r=this.width/2),typeof i>"u"&&(i=Math.round(r/30)<4?4:Math.round(r/30)),typeof s>"u"&&(s=0),typeof o>"u"&&(o=0),typeof a>"u"&&(a=0);const l=r/i,u=r/2;return function(){this.push(),this.stroke(this._renderer.states.curStrokeColor[0]*255,this._renderer.states.curStrokeColor[1]*255,this._renderer.states.curStrokeColor[2]*255),this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset();for(let h=0;h<=i;h++)this.beginShape(this.LINES),this.vertex(-u+s,o,h*l-u+a),this.vertex(+u+s,o,h*l-u+a),this.endShape();for(let h=0;h<=i;h++)this.beginShape(this.LINES),this.vertex(h*l-u+s,o,-u+a),this.vertex(h*l-u+s,o,+u+a),this.endShape();this.pop()}},t._axesIcon=function(r,i,s,o){return typeof r>"u"&&(r=this.width/20>40?this.width/20:40),typeof i>"u"&&(i=-this.width/4),typeof s>"u"&&(s=i),typeof o>"u"&&(o=i),()=>{this.push(),this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(i,s,o),this.vertex(i+r,s,o),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(i,s,o),this.vertex(i,s+r,o),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(i,s,o),this.vertex(i,s,o+r),this.endShape(),this.pop()}}}typeof p5<"u"&&zk(p5,p5.prototype);async function uq(n){try{return(await fetch(n,{method:"HEAD"})).ok}catch{return!1}}function Gk(n,t){t.loadModel=async function(c,f,p,d,g){let m=!1,v=!1;typeof f=="object"?(p=f.normalize||!1,d=f.successCallback,g=f.failureCallback,f=f.fileType||f,m=f.flipU||!1,v=f.flipV||!1):(typeof arguments[arguments.length-1]=="function"&&(typeof arguments[arguments.length-2]=="function"?(d=arguments[arguments.length-2],g=arguments[arguments.length-1]):d=arguments[arguments.length-1]),typeof f=="string"?typeof p!="boolean"&&(p=!1):typeof f=="boolean"?(p=f,f=c.slice(-4)):(f=c.slice(-4),p=!1)),f.toLowerCase()!==".obj"&&f.toLowerCase()!==".stl"&&(f=".obj");const w=new qr(void 0,void 0,void 0,this._renderer);w.gid=`${c}|${p}`;async function y(_){const x=[];for(let C of _){const E=C.match(/^mtllib (.+)/);if(E){let S="";const D=E[1],A=c.split("/");A.length>1?(A.pop(),S=A.join("/")+"/"+D):S=D,x.push(uq(S).then(N=>N?r(S):(console.warn(`MTL file not found or error in parsing; proceeding without materials: ${S}`),{})).catch(N=>(console.warn(`Error loading MTL file: ${S}`,N),{})))}}try{const C=await Promise.all(x);return Object.assign({},...C)}catch{return{}}}try{if(f.match(/\.stl$/i)){const{data:_}=await us(c,"arrayBuffer");return s(w,_),p&&w.normalize(),m&&w.flipU(),v&&w.flipV(),w._makeTriangleEdges(),d?d(w):w}else if(f.match(/\.obj$/i)){const{data:_}=await us(c,"text"),x=_.split(`
`),C=await y(x);return i(w,x,C),p&&w.normalize(),m&&w.flipU(),v&&w.flipV(),w._makeTriangleEdges(),d?d(w):w}}catch(_){if(n._friendlyFileLoadError(3,c),g)return g(_);throw _}};async function r(c){let f=null,p={};const{data:d}=await us(c,"text"),g=d.split(`
`);for(let m=0;m<g.length;++m){const v=g[m].trim().split(/\s+/);v[0]==="newmtl"?(f=v[1],p[f]={}):v[0]==="Kd"?p[f].diffuseColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]==="Ka"?p[f].ambientColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]==="Ks"?p[f].specularColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]==="map_Kd"&&(p[f].texturePath=v[1])}return p}function i(c,f,p={}){const d={v:[],vt:[],vn:[]},g={};let m=null,v=!1,w=!1;for(let y=0;y<f.length;++y){const _=f[y].trim().split(/\b\s+/);if(_.length>0){if(_[0]==="usemtl")m=_[1];else if(_[0]==="v"||_[0]==="vn"){const x=new Me(parseFloat(_[1]),parseFloat(_[2]),parseFloat(_[3]));d[_[0]].push(x)}else if(_[0]==="vt"){const x=[parseFloat(_[1]),1-parseFloat(_[2])];d[_[0]].push(x)}else if(_[0]==="f")for(let x=3;x<_.length;++x){const C=[],E=[1,x-1,x];for(let S=0;S<E.length;++S){const D=_[E[S]];let A=D.split("/");for(let N=0;N<A.length;N++)A[N]=parseInt(A[N])-1;if(g[D]||(g[D]={}),g[D][m]===void 0){const N=c.vertices.length;if(c.vertices.push(d.v[A[0]].copy()),c.uvs.push(d.vt[A[1]]?d.vt[A[1]].slice():[0,0]),c.vertexNormals.push(d.vn[A[2]]?d.vn[A[2]].copy():new Me),g[D][m]=N,C.push(N),m&&p[m]&&p[m].diffuseColor){v=!0;const F=p[m].diffuseColor;c.vertexColors.push(F[0]),c.vertexColors.push(F[1]),c.vertexColors.push(F[2]),c.vertexColors.push(1)}else w=!0}else C.push(g[D][m])}C[0]!==C[1]&&C[0]!==C[2]&&C[1]!==C[2]&&c.faces.push(C)}}}if(c.vertexNormals.length===0&&c.computeNormals(),v===w)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.");return c}function s(c,f){if(o(f))l(c,f);else{const p=new DataView(f);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)"),c;const m=new TextDecoder("utf-8").decode(p).split(`
`);u(c,m)}return c}function o(c){const f=new DataView(c),p=[115,111,108,105,100];for(let d=0;d<5;d++)if(a(p,f,d))return!1;return!0}function a(c,f,p){for(let d=0,g=c.length;d<g;d++)if(c[d]!==f.getUint8(p+d,!1))return!1;return!0}function l(c,f){const p=new DataView(f),d=p.getUint32(80,!0);let g,m,v,w=!1,y,_,x,C;for(let D=0;D<70;D++)p.getUint32(D,!1)===1129270351&&p.getUint8(D+4)===82&&p.getUint8(D+5)===61&&(w=!0,y=[],_=p.getUint8(D+6)/255,x=p.getUint8(D+7)/255,C=p.getUint8(D+8)/255);const E=84,S=50;for(let D=0;D<d;D++){const A=E+D*S,N=p.getFloat32(A,!0),F=p.getFloat32(A+4,!0),T=p.getFloat32(A+8,!0);if(w){const M=p.getUint16(A+48,!0);(M&32768)===0?(g=(M&31)/31,m=(M>>5&31)/31,v=(M>>10&31)/31):(g=_,m=x,v=C)}const I=new Me(N,F,T);for(let M=1;M<=3;M++){const L=A+M*12,B=new Me(p.getFloat32(L,!0),p.getFloat32(L+4,!0),p.getFloat32(L+8,!0));c.vertices.push(B),c.vertexNormals.push(I),w&&y.push(g,m,v)}c.faces.push([3*D,3*D+1,3*D+2]),c.uvs.push([0,0],[0,0],[0,0])}return c}function u(c,f){let p="",d=[],g,m;for(let v=0;v<f.length;++v){const w=f[v].trim(),y=w.split(" ");for(let _=0;_<y.length;++_)y[_]===""&&y.splice(_,1);if(y.length!==0)switch(p){case"":if(y[0]!=="solid"){console.error(w),console.error(`Invalid state "${y[0]}", should be "solid"`);return}else p="solid";break;case"solid":if(y[0]!=="facet"||y[1]!=="normal"){console.error(w),console.error(`Invalid state "${y[0]}", should be "facet normal"`);return}else g=new Me(parseFloat(y[2]),parseFloat(y[3]),parseFloat(y[4])),c.vertexNormals.push(g,g,g),p="facet normal";break;case"facet normal":if(y[0]!=="outer"||y[1]!=="loop"){console.error(w),console.error(`Invalid state "${y[0]}", should be "outer loop"`);return}else p="vertex";break;case"vertex":if(y[0]==="vertex")m=new Me(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])),c.vertices.push(m),c.uvs.push([0,0]),d.push(c.vertices.indexOf(m));else if(y[0]==="endloop")c.faces.push(d),d=[],p="endloop";else{console.error(w),console.error(`Invalid state "${y[0]}", should be "vertex" or "endloop"`);return}break;case"endloop":if(y[0]!=="endfacet"){console.error(w),console.error(`Invalid state "${y[0]}", should be "endfacet"`);return}else p="endfacet";break;case"endfacet":if(y[0]!=="endsolid")if(y[0]==="facet"&&y[1]==="normal")g=new Me(parseFloat(y[2]),parseFloat(y[3]),parseFloat(y[4])),c.vertexNormals.push(g,g,g),p="facet normal";else{console.error(w),console.error(`Invalid state "${y[0]}", should be "endsolid" or "facet normal"`);return}break;default:console.error(`Invalid state "${p}"`);break}}return c}t.model=function(c,f=1){this._assert3d("model"),this._renderer.model(c,f)};let h=0;t.createModel=function(c,f=" ",p){let d=!1,g,m,v=!1,w=!1;p&&typeof p=="object"?(d=p.normalize||!1,g=p.successCallback,m=p.failureCallback,v=p.flipU||!1,w=p.flipV||!1):typeof p=="boolean"?(d=p,g=arguments[3],m=arguments[4]):(g=typeof arguments[2]=="function"?arguments[2]:void 0,m=arguments[3]);const y=new n.Geometry;if(y.gid=`${f}|${d}|${h++}`,f.match(/\.stl$/i))try{let x=new TextEncoder().encode(c).buffer;s(y,x)}catch(_){m?m(_):n._friendlyError("Error during parsing: "+_.message);return}else if(f.match(/\.obj$/i))try{const _=c.split(`
`);i(y,_)}catch(_){m?m(_):n._friendlyError("Error during parsing: "+_.message);return}else n._friendlyFileLoadError(3,c),m?m():n._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return d&&y.normalize(),v&&y.flipU(),w&&y.flipV(),y._makeTriangleEdges(),typeof g=="function"&&g(y),y}}typeof p5<"u"&&Gk(p5,p5.prototype);const ji={IDEOGRAPHIC:"ideographic",_CTX_MIDDLE:"middle",_TEXT_BOUNDS:"_textBoundsSingle",_FONT_BOUNDS:"_fontBoundsSingle",HANGING:"hanging",START:"start",END:"end"};function Hk(n,t){const i="#000000",s=/\r?\n/g,o=/,\s+/,a=/^".*"$/,l=/\t/g,u="fontVariationSettings",h=["wght","wdth","ital","slnt","opsz"],c=new RegExp(`(?:${h.join("|")})`);["text","textAlign","textAscent","textDescent","textLeading","textMode","textFont","textSize","textStyle","textWidth","textWrap","textBounds","textDirection","textProperty","textProperties","fontBounds","fontWidth","fontAscent","fontDescent","textWeight"].forEach(y=>{t[y]=function(..._){if(!(y in Nt.prototype))throw Error(`Renderer2D.prototype.${y} is not defined.`);return this._renderer[y](..._)},n.Graphics.prototype[y]=function(..._){return this._renderer[y](..._)}});const p={textAlign:{default:t.LEFT,type:"Context2d"},textBaseline:{default:t.BASELINE,type:"Context2d"},textFont:{default:{family:"sans-serif"}},textLeading:{default:15},textSize:{default:12},textWrap:{default:t.WORD},fontStretch:{default:t.NORMAL,isShorthand:!0},fontWeight:{default:t.NORMAL,isShorthand:!0},lineHeight:{default:t.NORMAL,isShorthand:!0},fontVariant:{default:t.NORMAL,isShorthand:!0},fontStyle:{default:t.NORMAL,isShorthand:!0},direction:{default:"inherit"}},d=["font","direction","fontKerning","fontStretch","fontVariantCaps","letterSpacing","textAlign","textBaseline","textRendering","wordSpacing"],g=Object.keys(p).filter(y=>p[y].isShorthand),m=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"];let v,w;if(Nt.prototype.text=function(y,_,x,C,E){let S=this.textDrawingContext().textBaseline;({x:_,y:x,width:C,height:E}=this._handleRectMode(_,x,C,E));let D=this._processLines(y,C,E);D=this._positionLines(_,x,C,E,D),D.forEach(A=>this._renderText(A.text,A.x,A.y)),this.textDrawingContext().textBaseline=S},Nt.prototype.textBounds=function(y,_,x,C,E){return this._computeBounds(ji._TEXT_BOUNDS,y,_,x,C,E).bounds},Nt.prototype.fontBounds=function(y,_,x,C,E){return this._computeBounds(ji._FONT_BOUNDS,y,_,x,C,E).bounds},Nt.prototype.textWidth=function(y){let _=this._processLines(y);return Math.max(..._.map(x=>this._textWidthSingle(x)))},Nt.prototype.fontWidth=function(y){let _=this._processLines(y);return Math.max(..._.map(x=>this._fontWidthSingle(x)))},Nt.prototype.textAscent=function(y=""){return y.length?this.textDrawingContext().measureText(y).actualBoundingBoxAscent:this.fontAscent()},Nt.prototype.fontAscent=function(){return this.textDrawingContext().measureText("_").fontBoundingBoxAscent},Nt.prototype.textDescent=function(y=""){return y.length?this.textDrawingContext().measureText(y).actualBoundingBoxDescent:this.fontDescent()},Nt.prototype.fontDescent=function(){return this.textDrawingContext().measureText("_").fontBoundingBoxDescent},Nt.prototype.textAlign=function(y,_){return typeof y<"u"?(this.states.setValue("textAlign",y),typeof _<"u"&&(_===t.CENTER&&(_=ji._CTX_MIDDLE),this.states.setValue("textBaseline",_)),this._applyTextProperties()):{horizontal:this.states.textAlign,vertical:this.states.textBaseline}},Nt.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},Nt.prototype.textFont=function(y,_,x){if(arguments.length===0)return this._currentTextFont();let C=y;if(y instanceof n.Font?C=y.face.family:y.data instanceof Uint8Array?(C=y.name.fontFamily,y.name?.fontSubfamily&&(C+="-"+y.name.fontSubfamily)):typeof y=="string"&&typeof _>"u"&&/[.0-9]+(%|em|p[xt])/.test(C)&&({family:C,size:_}=this._directSetFontString(C)),typeof C!="string")throw Error("null font in textFont()");return arguments.length===2&&typeof _=="object"&&(x=_,_=void 0),this.states.setValue("textFont",{font:y,family:C,size:_}),typeof _<"u"&&this._setTextSize(_),typeof x=="object"&&this.textProperties(x),this._applyTextProperties()},Nt.prototype._directSetFontString=function(y,_=0){_&&console.log('_directSetFontString"'+y+'"');let x=g.reduce((S,D)=>(S[D]=p[D].default,S),{}),C=this._cachedDiv(x);C.style.font=y;let E=getComputedStyle(C);return g.forEach(S=>{this.states[S]=E[S],_&&console.log("  this.states."+S+'="'+E[S]+'"')}),{family:E.fontFamily,size:E.fontSize}},Nt.prototype.textLeading=function(y){return typeof y=="number"?(this.states.setValue("leadingSet",!0),this.states.setValue("textLeading",y),this._applyTextProperties()):this.states.textLeading},Nt.prototype.textWeight=function(y){if(typeof y=="number"){this.states.setValue("fontWeight",y),this._applyTextProperties(),n.prototype._isSafari()||this._setCanvasStyleProperty("font-variation-settings",`"wght" ${y}`);return}return this.states.fontWeight},Nt.prototype.textSize=function(y){return typeof y<"u"?(this._setTextSize(y),this._applyTextProperties()):this.states.textSize},Nt.prototype.textStyle=function(y){return typeof y<"u"?(this.states.setValue("fontStyle",y),this._applyTextProperties()):this.states.fontStyle},Nt.prototype.textWrap=function(y){return y===t.WORD||y===t.CHAR?(this.states.setValue("textWrap",y),this._pInst):this.states.textWrap},Nt.prototype.textDirection=function(y){return typeof y<"u"?(this.states.setValue("direction",y),this._applyTextProperties()):this.states.direction},Nt.prototype.textProperty=function(y,_,x){let C=!1,E=x?.debug||!1;if(typeof _>"u"){let S=this.textProperties();if(y in S)return S[y];throw Error('Unknown text option "'+y+'"')}return y in this.states&&this.states[y]!==_?(this.states[y]=_,C=!0,E&&console.log("this.states."+y+'="'+options[y]+'"')):y in this.textDrawingContext()?(this._setContextProperty(y,_,E),C=!0):y in this.textCanvas().style?(this._setCanvasStyleProperty(y,_,E),C=!0):console.warn('Ignoring unknown text option: "'+y+`"
`),C?this._applyTextProperties():this._pInst},Nt.prototype.textProperties=function(y){if(typeof y<"u")return Object.keys(y).forEach(x=>{this.textProperty(x,y[x])}),this._pInst;let _=this.textDrawingContext();return y=d.reduce((x,C)=>(x[C]=_[C],x),{}),Object.keys(p).forEach(x=>{if(p[x]?.type==="Context2d")y[x]=_[x];else if(x==="textFont"){let C=this._currentTextFont();typeof C=="object"&&"_pInst"in C&&(C=Object.assign({},C),delete C._pInst),y[x]=C}else y[x]=this.states[x]}),y},Nt.prototype.textMode=function(){},Nt.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},Nt.prototype._computeBounds=function(y,_,x,C,E,S,D){let A=this.textDrawingContext(),N=A.textBaseline,{textLeading:F,textAlign:T}=this.states;({width:E,height:S}=this._rectModeAdjust(x,C,E,S));let I=this._processLines(_,E,S),M=I.map((B,$)=>this[y].bind(this)(B,x,C+$*F));if(I.length>1){const B=M.reduce(($,q)=>Math.max($,q.w||0),0);M.forEach($=>{const q=E??B;$.x+=n.Renderer2D.prototype._xAlignOffset.call(this,T,q)})}typeof S<"u"&&n.Renderer2D.prototype._yAlignOffset.call(this,M,S);let L=M[0];return I.length>1&&(L=this._aggregateBounds(M),D?.ignoreRectMode||this._rectModeAlign(L,E||0,S||0)),A.textBaseline=N,{bounds:L,lines:I}},Nt.prototype._rectModeAdjust=function(y,_,x,C){if(typeof x<"u")switch(this.states.rectMode){case t.CENTER:break;case t.CORNERS:x-=y,C-=_;break;case t.RADIUS:x*=2,C*=2;break}return{x:y,y:_,width:x,height:C}},Nt.prototype._setCanvasStyleProperty=function(y,_,x){let C=_.toString();x&&console.log("canvas.style."+y+'="'+C+'"'),y===u&&this._handleFontVariationSettings(C),this.textCanvas().style[y]=C,this.textCanvas().style[y]},Nt.prototype._handleFontVariationSettings=function(y,_=!1){typeof y=="object"&&(y=Object.keys(y).map(C=>C+" "+y[C]).join(", ")),y.split(o).forEach(C=>{C=C.replace(/["']/g,"");let E=c.exec(C);if(E&&E.length){let S=E[0],D=parseFloat(parseFloat(C.replace(S,"").trim()).toFixed(3));switch(S){case"wght":return _&&console.log("setting font-weight="+D),this.states.fontWeight!==D&&this.textWeight(D),D;case"wdth":break;case"ital":_&&console.log("setting font-style="+(D?"italic":"normal"));break;case"slnt":_&&console.log("setting font-style="+(D?"oblique":"normal"));break;case"opsz":_&&console.log("setting font-optical-size="+D);break}}})},Nt.prototype._setContextProperty=function(y,_,x=!1){if(this.textDrawingContext()[y]===_)return this._pInst;(v??=[]).push([y,_]),x&&console.log("queued context2d."+y+'="'+_+'"')},Nt.prototype._handleRectMode=function(y,_,x,C){let E=this.states.rectMode;if(typeof x<"u")switch(E){case t.RADIUS:x*=2,y-=x/2,typeof C<"u"&&(C*=2,_-=C/2);break;case t.CENTER:y-=x/2,typeof C<"u"&&(_-=C/2);break;case t.CORNERS:x-=y,typeof C<"u"&&(C-=_);break}return{x:y,y:_,width:x,height:C}},Nt.prototype._fontSizePx=function(y,{family:_}=this.states.textFont){if((D=>!isNaN(D)&&D.trim()!=="")(y))return parseFloat(y);let C=this._cachedDiv({fontSize:y});C.style.fontSize=y,C.style.fontFamily=_;let E=getComputedStyle(C).fontSize,S=parseFloat(E);if(typeof S!="number")throw Error("textSize: invalid font-size");return S},Nt.prototype._cachedDiv=function(y){if(typeof w>"u"){let _=document.createElement("div");_.ariaHidden="true",_.style.display="none",Object.entries(y).forEach(([x,C])=>{_.style[x]=C}),this.textCanvas().appendChild(_),w=_}return w},Nt.prototype._aggregateBounds=function(y){let _=Math.min(...y.map(S=>S.x)),x=Math.min(...y.map(S=>S.y)),C=Math.max(...y.map(S=>S.y+S.h)),E=Math.max(...y.map(S=>S.x+S.w));return{x:_,y:x,w:E-_,h:C-x}},Nt.prototype._processLines=function(y,_,x){typeof _<"u"&&this.textDrawingContext().textBaseline===t.BASELINE&&(this.drawingContext.textBaseline=t.TOP);let C=this._splitOnBreaks(y.toString()),E=C.length>1,S=typeof _<"u",D=S&&C.some(F=>this._textWidthSingle(F)>_),{textLeading:A,textWrap:N}=this.states;if((E||D)&&S&&(C=this._lineate(N,C,_)),S&&typeof x<"u"){if(typeof A>"u")throw Error("leading is required if height is specified");for(let F=0;F<C.length;F++)if(A*(F+1)>x){C=C.slice(0,F);break}}return C},Nt.prototype._xAlignOffset=function(y,_){switch(y){case t.LEFT:return 0;case t.CENTER:return _/2;case t.RIGHT:return _;case ji.START:return 0;case ji.END:throw new Error("textBounds: END not yet supported for textAlign");default:return 0}},Nt.prototype._rectModeAlign=function(y,_,x){if(typeof _<"u"){switch(this.states.rectMode){case t.CENTER:y.x-=(_-y.w)/2,y.y-=(x-y.h)/2;break;case t.CORNERS:y.w+=y.x,y.h+=y.y;break;case t.RADIUS:y.x-=(_-y.w)/2,y.y-=(x-y.h)/2,y.w/=2,y.h/=2;break}return y}},Nt.prototype._rectModeAlignRevert=function(y,_,x){if(typeof _<"u"){switch(this.states.rectMode){case t.CENTER:y.x+=(_-y.w)/2,y.y+=(x-y.h)/2;break;case t.CORNERS:y.w-=y.x,y.h-=y.y;break;case t.RADIUS:y.x+=(_-y.w)/2,y.y+=(x-y.h)/2,y.w*=2,y.h*=2;break}return y}},Nt.prototype._textWidthSingle=function(y){let _=this.textDrawingContext().measureText(y),x=_.actualBoundingBoxLeft;return _.actualBoundingBoxRight+x},Nt.prototype._fontWidthSingle=function(y){return this.textDrawingContext().measureText(y).width},Nt.prototype._textBoundsSingle=function(y,_=0,x=0){let C=this.textDrawingContext().measureText(y),E=C.actualBoundingBoxAscent,S=C.actualBoundingBoxDescent,D=C.actualBoundingBoxLeft,A=C.actualBoundingBoxRight;return{x:_-D,y:x-E,w:A+D,h:E+S}},Nt.prototype._fontBoundsSingle=function(y,_=0,x=0){let C=this.textDrawingContext().measureText(y),E=C.fontBoundingBoxAscent,S=C.fontBoundingBoxDescent;return _-=this._xAlignOffset(this.states.textAlign,C.width),{x:_,y:x-E,w:C.width,h:E+S}},Nt.prototype._setTextSize=function(y){if(typeof y=="string"&&(y=this._fontSizePx(y)),typeof y=="number"){if(this.states.textSize!==y)return this.states.setValue("textSize",y),this.states.leadingSet||this.states.setValue("textLeading",this.states.textSize*1.275),!0}else console.warn("textSize: invalid size: "+y);return!1},Nt.prototype._lineate=function(y,_,x=1/0,C={}){let E=C.splitChar??(y===t.WORD?" ":""),S,D,A,N,F=[];for(let T=0;T<_.length;T++){S="",N=_[T].split(E);for(let I=0;I<N.length;I++)D=`${S+N[I]}`+E,A=this._textWidthSingle(D),S.length>0&&A>x?(F.push(S.trim()),S=`${N[I]}`+E):S=D;F.push(S.trim())}return F},Nt.prototype._splitOnBreaks=function(y){return!y||y.length===0?[""]:y.replace(l,"  ").split(s)},Nt.prototype._parseFontFamily=function(y){return y.split(o).map(C=>(C=C.trim(),C.indexOf(" ")>-1&&!a.test(C)&&(C=`"${C}"`),C)).join(", ")},Nt.prototype._applyFontString=function(){let{textFont:y,textSize:_,lineHeight:x,fontStyle:C,fontWeight:E,fontVariant:S}=this.states,D=this.textDrawingContext(),A=this._parseFontFamily(y.family),N=C!==t.NORMAL?`${C} `:"",F=E!==t.NORMAL?`${E} `:"",T=S!==t.NORMAL?`${S} `:"",I=`${_}px`+(x!==t.NORMAL?`/${x} `:" "),M=`${N}${T}${F}${I}${A}`.trim();if(D.font=M,D.font!==M){let L=M,B=D.font;if(L!==B)return!1}return!0},Nt.prototype._applyTextProperties=function(y=!1){this._applyFontString();let _=this.textDrawingContext();_.direction=this.states.direction,_.textAlign=this.states.textAlign,_.textBaseline=this.states.textBaseline;let x=this.states.fontStretch;for(m.includes(x)&&_.fontStretch!==x&&(_.fontStretch=x);v?.length;){let[C,E]=v.shift();y&&console.log('apply context property "'+C+'" = "'+E+'"'),_[C]=E,_[C]!==E&&(console.warn(`Unable to set '${C}' property on context2d. It may not be supported.`),console.log('Expected "'+E+'" but got: "'+_[C]+'"'))}return this._pInst},n.Renderer2D&&(n.Renderer2D.prototype.textCanvas=function(){return this.canvas},n.Renderer2D.prototype.textDrawingContext=function(){return this.drawingContext},n.Renderer2D.prototype._renderText=function(y,_,x,C,E){let S=this.states,D=this.textDrawingContext();x<E||x>=C||(this.push(),S.strokeColor&&S.strokeSet&&D.strokeText(y,_,x),!this._clipping&&S.fillColor&&(S.fillSet||this._setFill(i),D.fillText(y,_,x)),this.pop())},n.Renderer2D.prototype._positionLines=function(y,_,x,C,E){let{textLeading:S,textAlign:D}=this.states,A,N=new Array(E.length),F=typeof x>"u"?0:x,T=typeof C>"u"?0:C;for(let I=0;I<E.length;I++){switch(D){case ji.START:throw new Error("textBounds: START not yet supported for textAlign");case t.LEFT:A=y;break;case t.CENTER:A=y+F/2;break;case t.RIGHT:A=y+F;break;case ji.END:throw new Error("textBounds: END not yet supported for textAlign")}N[I]={text:E[I],x:A,y:_+I*S}}return this._yAlignOffset(N,T)},n.Renderer2D.prototype._yAlignOffset=function(y,_){if(typeof _>"u")throw Error("_yAlignOffset: height is required");let{textLeading:x,textBaseline:C}=this.states,E=0,S=y.length,D=_-x*(S-1);switch(C){case t.TOP:break;case t.BASELINE:break;case ji._CTX_MIDDLE:E=D/2;break;case t.BOTTOM:E=D;break;case ji.IDEOGRAPHIC:console.warn("textBounds: IDEOGRAPHIC not yet supported for textBaseline");break;case ji.HANGING:console.warn("textBounds: HANGING not yet supported for textBaseline");break}return y.forEach(A=>A.y+=E),y}),n.RendererGL){n.RendererGL.prototype.textCanvas=function(){return this._textCanvas||(this._textCanvas=document.createElement("canvas"),this._textCanvas.width=1,this._textCanvas.height=1,this._textCanvas.style.display="none",this.canvas.parentElement.insertBefore(this._textCanvas,this.canvas)),this._textCanvas},n.RendererGL.prototype.textDrawingContext=function(){if(!this._textDrawingContext){const _=this.textCanvas();this._textDrawingContext=_.getContext("2d")}return this._textDrawingContext};const y=n.RendererGL.prototype.remove;n.RendererGL.prototype.remove=function(){this._textCanvas&&this._textCanvas.parentElement.removeChild(this._textCanvas),y.call(this)},n.RendererGL.prototype._positionLines=function(_,x,C,E,S){let{textLeading:D,textAlign:A}=this.states;const N=S.map(L=>this._fontWidthSingle(L));let F,T=new Array(S.length),I=typeof C>"u"?Math.max(0,...N):C,M=typeof E>"u"?0:E;for(let L=0;L<S.length;L++){switch(A){case ji.START:throw new Error("textBounds: START not yet supported for textAlign");case t.LEFT:F=_;break;case t.CENTER:F=_+(I-N[L])/2-I/2+(C||0)/2;break;case t.RIGHT:F=_+I-N[L]-I+(C||0);break;case ji.END:throw new Error("textBounds: END not yet supported for textAlign")}T[L]={text:S[L],x:F,y:x+L*D}}return this._yAlignOffset(T,M)},n.RendererGL.prototype._yAlignOffset=function(_,x){if(typeof x>"u")throw Error("_yAlignOffset: height is required");let{textLeading:C,textBaseline:E,textSize:S,textFont:D}=this.states,A=0,N=_.length,F=S*N+(C-S)*(N-1);switch(E){case t.TOP:A=S;break;case t.BASELINE:break;case ji._CTX_MIDDLE:A=-F/2+S+(x||0)/2;break;case t.BOTTOM:A=-(F-S)+(x||0);break;default:console.warn(`${E} is not supported in WebGL mode.`);break}return A+=this.states.textFont.font?._verticalAlign(S)||0,_.forEach(T=>T.y+=A),_}}}typeof p5<"u"&&Hk(p5,p5.prototype);var wd={},bS;function cq(){if(bS)return wd;bS=1,Object.defineProperty(wd,"__esModule",{value:!0});var n=(function(){function t(){}return t.parse=function(r){for(var i=new Set,s=0,o=r;s<o.length;s++){var a=o[s];if(!t.REGEXP.test(a))throw new TypeError('"'+a+'" is invalid unicode-range.');var l=a.match(t.REGEXP),u=l[1],h=l[2],c=l[3];if(u){if(/\?[^?]+$/.test(u))throw new TypeError('"'+a+'" is invalid unicode-range.');if(u.includes("?"))for(var f=u.replace(/\?/g,"0"),p=u.replace(/\?/g,"F"),d=t.parse(["U+"+f+"-"+p]),g=0,m=d;g<m.length;g++){var v=m[g];i.add(v)}else i.add(parseInt(u,16))}if(h&&c)for(var w=parseInt(h,16),y=parseInt(c,16),v=w;v<=y;v++)i.add(v)}return Array.from(i).sort(function(_,x){return _-x})},t.stringify=function(r){for(var i=Array.from(new Set(r)).sort(function(h,c){return h-c}),s=[],o,a=0;a<i.length;a++){var l=i[a],u=i[a-1];o&&l-u!==1&&(s.push(t.rangeString(o,u)),o=l),o||(o=l),a===i.length-1&&(o===l?s.push(t.rangeString(l)):s.push(t.rangeString(o,l)))}return s},t.rangeString=function(r,i){return!i||r===i?"U+"+r.toString(16):"U+"+r.toString(16)+"-"+i.toString(16)},t.REGEXP=/^u\+(?:([0-9a-f]?[0-9a-f?]{1,5})|([0-9a-f]{1,6})-([0-9a-f]{1,6}))?$/i,t})();return wd.UnicodeRange=n,wd}var xS=cq();const hq=[{category:"control character",hexrange:["0000","001f"]},{category:"basic latin",hexrange:["0000","007f"]},{category:"latin-1 supplement",hexrange:["0080","00ff"]},{category:"latin extended-a",hexrange:["0100","017f"]},{category:"latin extended-b",hexrange:["0180","024f"]},{category:"ipa extensions",hexrange:["0250","02af"]},{category:"spacing modifier letters",hexrange:["02b0","02ff"]},{category:"combining diacritical marks",hexrange:["0300","036f"]},{category:"greek and coptic",hexrange:["0370","03ff"]},{category:"cyrillic",hexrange:["0400","04ff"]},{category:"cyrillic supplement",hexrange:["0500","052f"]},{category:"armenian",hexrange:["0530","058f"]},{category:"hebrew",hexrange:["0590","05ff"]},{category:"arabic",hexrange:["0600","06ff"]},{category:"syriac",hexrange:["0700","074f"]},{category:"arabic supplement",hexrange:["0750","077f"]},{category:"thaana",hexrange:["0780","07bf"]},{category:"nko",hexrange:["07c0","07ff"]},{category:"samaritan",hexrange:["0800","083f"]},{category:"mandaic",hexrange:["0840","085f"]},{category:"syriac supplement",hexrange:["0860","086f"]},{category:"arabic extended-b",hexrange:["0870","089f"]},{category:"arabic extended-a",hexrange:["08a0","08ff"]},{category:"devanagari",hexrange:["0900","097f"]},{category:"bengali",hexrange:["0980","09ff"]},{category:"gurmukhi",hexrange:["0a00","0a7f"]},{category:"gujarati",hexrange:["0a80","0aff"]},{category:"oriya",hexrange:["0b00","0b7f"]},{category:"tamil",hexrange:["0b80","0bff"]},{category:"telugu",hexrange:["0c00","0c7f"]},{category:"kannada",hexrange:["0c80","0cff"]},{category:"malayalam",hexrange:["0d00","0d7f"]},{category:"sinhala",hexrange:["0d80","0dff"]},{category:"thai",hexrange:["0e00","0e7f"]},{category:"lao",hexrange:["0e80","0eff"]},{category:"tibetan",hexrange:["0f00","0fff"]},{category:"myanmar",hexrange:["1000","109f"]},{category:"georgian",hexrange:["10a0","10ff"]},{category:"hangul jamo",hexrange:["1100","11ff"]},{category:"ethiopic",hexrange:["1200","137f"]},{category:"ethiopic supplement",hexrange:["1380","139f"]},{category:"cherokee",hexrange:["13a0","13ff"]},{category:"unified canadian aboriginal syllabics",hexrange:["1400","167f"]},{category:"ogham",hexrange:["1680","169f"]},{category:"runic",hexrange:["16a0","16ff"]},{category:"tagalog",hexrange:["1700","171f"]},{category:"hanunoo",hexrange:["1720","173f"]},{category:"buhid",hexrange:["1740","175f"]},{category:"tagbanwa",hexrange:["1760","177f"]},{category:"khmer",hexrange:["1780","17ff"]},{category:"mongolian",hexrange:["1800","18af"]},{category:"unified canadian aboriginal syllabics extended",hexrange:["18b0","18ff"]},{category:"limbu",hexrange:["1900","194f"]},{category:"tai le",hexrange:["1950","197f"]},{category:"new tai lue",hexrange:["1980","19df"]},{category:"khmer symbols",hexrange:["19e0","19ff"]},{category:"buginese",hexrange:["1a00","1a1f"]},{category:"tai tham",hexrange:["1a20","1aaf"]},{category:"combining diacritical marks extended",hexrange:["1ab0","1aff"]},{category:"balinese",hexrange:["1b00","1b7f"]},{category:"sundanese",hexrange:["1b80","1bbf"]},{category:"batak",hexrange:["1bc0","1bff"]},{category:"lepcha",hexrange:["1c00","1c4f"]},{category:"ol chiki",hexrange:["1c50","1c7f"]},{category:"cyrillic extended-c",hexrange:["1c80","1c8f"]},{category:"georgian extended",hexrange:["1c90","1cbf"]},{category:"sundanese supplement",hexrange:["1cc0","1ccf"]},{category:"vedic extensions",hexrange:["1cd0","1cff"]},{category:"phonetic extensions",hexrange:["1d00","1d7f"]},{category:"phonetic extensions supplement",hexrange:["1d80","1dbf"]},{category:"combining diacritical marks supplement",hexrange:["1dc0","1dff"]},{category:"latin extended additional",hexrange:["1e00","1eff"]},{category:"greek extended",hexrange:["1f00","1fff"]},{category:"general punctuation",hexrange:["2000","206f"]},{category:"superscripts and subscripts",hexrange:["2070","209f"]},{category:"currency symbols",hexrange:["20a0","20cf"]},{category:"combining diacritical marks for symbols",hexrange:["20d0","20ff"]},{category:"letterlike symbols",hexrange:["2100","214f"]},{category:"number forms",hexrange:["2150","218f"]},{category:"arrows",hexrange:["2190","21ff"]},{category:"mathematical operators",hexrange:["2200","22ff"]},{category:"miscellaneous technical",hexrange:["2300","23ff"]},{category:"control pictures",hexrange:["2400","243f"]},{category:"optical character recognition",hexrange:["2440","245f"]},{category:"enclosed alphanumerics",hexrange:["2460","24ff"]},{category:"box drawing",hexrange:["2500","257f"]},{category:"block elements",hexrange:["2580","259f"]},{category:"geometric shapes",hexrange:["25a0","25ff"]},{category:"miscellaneous symbols",hexrange:["2600","26ff"]},{category:"dingbats",hexrange:["2700","27bf"]},{category:"miscellaneous mathematical symbols-a",hexrange:["27c0","27ef"]},{category:"supplemental arrows-a",hexrange:["27f0","27ff"]},{category:"braille patterns",hexrange:["2800","28ff"]},{category:"supplemental arrows-b",hexrange:["2900","297f"]},{category:"miscellaneous mathematical symbols-b",hexrange:["2980","29ff"]},{category:"supplemental mathematical operators",hexrange:["2a00","2aff"]},{category:"miscellaneous symbols and arrows",hexrange:["2b00","2bff"]},{category:"glagolitic",hexrange:["2c00","2c5f"]},{category:"latin extended-c",hexrange:["2c60","2c7f"]},{category:"coptic",hexrange:["2c80","2cff"]},{category:"georgian supplement",hexrange:["2d00","2d2f"]},{category:"tifinagh",hexrange:["2d30","2d7f"]},{category:"ethiopic extended",hexrange:["2d80","2ddf"]},{category:"cyrillic extended-a",hexrange:["2de0","2dff"]},{category:"supplemental punctuation",hexrange:["2e00","2e7f"]},{category:"cjk radicals supplement",hexrange:["2e80","2eff"]},{category:"kangxi radicals",hexrange:["2f00","2fdf"]},{category:"ideographic description characters",hexrange:["2ff0","2fff"]},{category:"cjk symbols and punctuation",hexrange:["3000","303f"]},{category:"hiragana",hexrange:["3040","309f"]},{category:"katakana",hexrange:["30a0","30ff"]},{category:"bopomofo",hexrange:["3100","312f"]},{category:"hangul compatibility jamo",hexrange:["3130","318f"]},{category:"kanbun",hexrange:["3190","319f"]},{category:"bopomofo extended",hexrange:["31a0","31bf"]},{category:"cjk strokes",hexrange:["31c0","31ef"]},{category:"katakana phonetic extensions",hexrange:["31f0","31ff"]},{category:"enclosed cjk letters and months",hexrange:["3200","32ff"]},{category:"cjk compatibility",hexrange:["3300","33ff"]},{category:"cjk unified ideographs extension a",hexrange:["3400","4dbf"]},{category:"yijing hexagram symbols",hexrange:["4dc0","4dff"]},{category:"cjk unified ideographs",hexrange:["4e00","9fff"]},{category:"yi syllables",hexrange:["a000","a48f"]},{category:"yi radicals",hexrange:["a490","a4cf"]},{category:"lisu",hexrange:["a4d0","a4ff"]},{category:"vai",hexrange:["a500","a63f"]},{category:"cyrillic extended-b",hexrange:["a640","a69f"]},{category:"bamum",hexrange:["a6a0","a6ff"]},{category:"modifier tone letters",hexrange:["a700","a71f"]},{category:"latin extended-d",hexrange:["a720","a7ff"]},{category:"syloti nagri",hexrange:["a800","a82f"]},{category:"common indic number forms",hexrange:["a830","a83f"]},{category:"phags-pa",hexrange:["a840","a87f"]},{category:"saurashtra",hexrange:["a880","a8df"]},{category:"devanagari extended",hexrange:["a8e0","a8ff"]},{category:"kayah li",hexrange:["a900","a92f"]},{category:"rejang",hexrange:["a930","a95f"]},{category:"hangul jamo extended-a",hexrange:["a960","a97f"]},{category:"javanese",hexrange:["a980","a9df"]},{category:"myanmar extended-b",hexrange:["a9e0","a9ff"]},{category:"cham",hexrange:["aa00","aa5f"]},{category:"myanmar extended-a",hexrange:["aa60","aa7f"]},{category:"tai viet",hexrange:["aa80","aadf"]},{category:"meetei mayek extensions",hexrange:["aae0","aaff"]},{category:"ethiopic extended-a",hexrange:["ab00","ab2f"]},{category:"latin extended-e",hexrange:["ab30","ab6f"]},{category:"cherokee supplement",hexrange:["ab70","abbf"]},{category:"meetei mayek",hexrange:["abc0","abff"]},{category:"hangul syllables",hexrange:["ac00","d7af"]},{category:"hangul jamo extended-b",hexrange:["d7b0","d7ff"]},{category:"high surrogates",hexrange:["d800","db7f"]},{category:"high private use surrogates",hexrange:["db80","dbff"]},{category:"low surrogates",hexrange:["dc00","dfff"]},{category:"private use area",hexrange:["e000","f8ff"]},{category:"cjk compatibility ideographs",hexrange:["f900","faff"]},{category:"alphabetic presentation forms",hexrange:["fb00","fb4f"]},{category:"arabic presentation forms-a",hexrange:["fb50","fdff"]},{category:"variation selectors",hexrange:["fe00","fe0f"]},{category:"vertical forms",hexrange:["fe10","fe1f"]},{category:"combining half marks",hexrange:["fe20","fe2f"]},{category:"cjk compatibility forms",hexrange:["fe30","fe4f"]},{category:"small form variants",hexrange:["fe50","fe6f"]},{category:"arabic presentation forms-b",hexrange:["fe70","feff"]},{category:"halfwidth and fullwidth forms",hexrange:["ff00","ffef"]},{category:"specials",hexrange:["fff0","ffff"]},{category:"linear b syllabary",hexrange:["10000","1007f"]},{category:"linear b ideograms",hexrange:["10080","100ff"]},{category:"aegean numbers",hexrange:["10100","1013f"]},{category:"ancient greek numbers",hexrange:["10140","1018f"]},{category:"ancient symbols",hexrange:["10190","101cf"]},{category:"phaistos disc",hexrange:["101d0","101ff"]},{category:"lycian",hexrange:["10280","1029f"]},{category:"carian",hexrange:["102a0","102df"]},{category:"coptic epact numbers",hexrange:["102e0","102ff"]},{category:"old italic",hexrange:["10300","1032f"]},{category:"gothic",hexrange:["10330","1034f"]},{category:"old permic",hexrange:["10350","1037f"]},{category:"ugaritic",hexrange:["10380","1039f"]},{category:"old persian",hexrange:["103a0","103df"]},{category:"deseret",hexrange:["10400","1044f"]},{category:"shavian",hexrange:["10450","1047f"]},{category:"osmanya",hexrange:["10480","104af"]},{category:"osage",hexrange:["104b0","104ff"]},{category:"elbasan",hexrange:["10500","1052f"]},{category:"caucasian albanian",hexrange:["10530","1056f"]},{category:"vithkuqi",hexrange:["10570","105bf"]},{category:"linear a",hexrange:["10600","1077f"]},{category:"latin extended-f",hexrange:["10780","107bf"]},{category:"cypriot syllabary",hexrange:["10800","1083f"]},{category:"imperial aramaic",hexrange:["10840","1085f"]},{category:"palmyrene",hexrange:["10860","1087f"]},{category:"nabataean",hexrange:["10880","108af"]},{category:"hatran",hexrange:["108e0","108ff"]},{category:"phoenician",hexrange:["10900","1091f"]},{category:"lydian",hexrange:["10920","1093f"]},{category:"meroitic hieroglyphs",hexrange:["10980","1099f"]},{category:"meroitic cursive",hexrange:["109a0","109ff"]},{category:"kharoshthi",hexrange:["10a00","10a5f"]},{category:"old south arabian",hexrange:["10a60","10a7f"]},{category:"old north arabian",hexrange:["10a80","10a9f"]},{category:"manichaean",hexrange:["10ac0","10aff"]},{category:"avestan",hexrange:["10b00","10b3f"]},{category:"inscriptional parthian",hexrange:["10b40","10b5f"]},{category:"inscriptional pahlavi",hexrange:["10b60","10b7f"]},{category:"psalter pahlavi",hexrange:["10b80","10baf"]},{category:"old turkic",hexrange:["10c00","10c4f"]},{category:"old hungarian",hexrange:["10c80","10cff"]},{category:"hanifi rohingya",hexrange:["10d00","10d3f"]},{category:"rumi numeral symbols",hexrange:["10e60","10e7f"]},{category:"yezidi",hexrange:["10e80","10ebf"]},{category:"arabic extended-c",hexrange:["10ec0","10eff"]},{category:"old sogdian",hexrange:["10f00","10f2f"]},{category:"sogdian",hexrange:["10f30","10f6f"]},{category:"old uyghur",hexrange:["10f70","10faf"]},{category:"chorasmian",hexrange:["10fb0","10fdf"]},{category:"elymaic",hexrange:["10fe0","10fff"]},{category:"brahmi",hexrange:["11000","1107f"]},{category:"kaithi",hexrange:["11080","110cf"]},{category:"sora sompeng",hexrange:["110d0","110ff"]},{category:"chakma",hexrange:["11100","1114f"]},{category:"mahajani",hexrange:["11150","1117f"]},{category:"sharada",hexrange:["11180","111df"]},{category:"sinhala archaic numbers",hexrange:["111e0","111ff"]},{category:"khojki",hexrange:["11200","1124f"]},{category:"multani",hexrange:["11280","112af"]},{category:"khudawadi",hexrange:["112b0","112ff"]},{category:"grantha",hexrange:["11300","1137f"]},{category:"newa",hexrange:["11400","1147f"]},{category:"tirhuta",hexrange:["11480","114df"]},{category:"siddham",hexrange:["11580","115ff"]},{category:"modi",hexrange:["11600","1165f"]},{category:"mongolian supplement",hexrange:["11660","1167f"]},{category:"takri",hexrange:["11680","116cf"]},{category:"ahom",hexrange:["11700","1174f"]},{category:"dogra",hexrange:["11800","1184f"]},{category:"warang citi",hexrange:["118a0","118ff"]},{category:"dives akuru",hexrange:["11900","1195f"]},{category:"nandinagari",hexrange:["119a0","119ff"]},{category:"zanabazar square",hexrange:["11a00","11a4f"]},{category:"soyombo",hexrange:["11a50","11aaf"]},{category:"unified canadian aboriginal syllabics extended-a",hexrange:["11ab0","11abf"]},{category:"pau cin hau",hexrange:["11ac0","11aff"]},{category:"devanagari extended-a",hexrange:["11b00","11b5f"]},{category:"bhaiksuki",hexrange:["11c00","11c6f"]},{category:"marchen",hexrange:["11c70","11cbf"]},{category:"masaram gondi",hexrange:["11d00","11d5f"]},{category:"gunjala gondi",hexrange:["11d60","11daf"]},{category:"makasar",hexrange:["11ee0","11eff"]},{category:"kawi",hexrange:["11f00","11f5f"]},{category:"lisu supplement",hexrange:["11fb0","11fbf"]},{category:"tamil supplement",hexrange:["11fc0","11fff"]},{category:"cuneiform",hexrange:["12000","123ff"]},{category:"cuneiform numbers and punctuation",hexrange:["12400","1247f"]},{category:"early dynastic cuneiform",hexrange:["12480","1254f"]},{category:"cypro-minoan",hexrange:["12f90","12fff"]},{category:"egyptian hieroglyphs",hexrange:["13000","1342f"]},{category:"egyptian hieroglyph format controls",hexrange:["13430","1345f"]},{category:"anatolian hieroglyphs",hexrange:["14400","1467f"]},{category:"bamum supplement",hexrange:["16800","16a3f"]},{category:"mro",hexrange:["16a40","16a6f"]},{category:"tangsa",hexrange:["16a70","16acf"]},{category:"bassa vah",hexrange:["16ad0","16aff"]},{category:"pahawh hmong",hexrange:["16b00","16b8f"]},{category:"medefaidrin",hexrange:["16e40","16e9f"]},{category:"miao",hexrange:["16f00","16f9f"]},{category:"ideographic symbols and punctuation",hexrange:["16fe0","16fff"]},{category:"tangut",hexrange:["17000","187ff"]},{category:"tangut components",hexrange:["18800","18aff"]},{category:"khitan small script",hexrange:["18b00","18cff"]},{category:"tangut supplement",hexrange:["18d00","18d7f"]},{category:"kana extended-b",hexrange:["1aff0","1afff"]},{category:"kana supplement",hexrange:["1b000","1b0ff"]},{category:"kana extended-a",hexrange:["1b100","1b12f"]},{category:"small kana extension",hexrange:["1b130","1b16f"]},{category:"nushu",hexrange:["1b170","1b2ff"]},{category:"duployan",hexrange:["1bc00","1bc9f"]},{category:"shorthand format controls",hexrange:["1bca0","1bcaf"]},{category:"znamenny musical notation",hexrange:["1cf00","1cfcf"]},{category:"byzantine musical symbols",hexrange:["1d000","1d0ff"]},{category:"musical symbols",hexrange:["1d100","1d1ff"]},{category:"ancient greek musical notation",hexrange:["1d200","1d24f"]},{category:"kaktovik numerals",hexrange:["1d2c0","1d2df"]},{category:"mayan numerals",hexrange:["1d2e0","1d2ff"]},{category:"tai xuan jing symbols",hexrange:["1d300","1d35f"]},{category:"counting rod numerals",hexrange:["1d360","1d37f"]},{category:"mathematical alphanumeric symbols",hexrange:["1d400","1d7ff"]},{category:"sutton signwriting",hexrange:["1d800","1daaf"]},{category:"latin extended-g",hexrange:["1df00","1dfff"]},{category:"glagolitic supplement",hexrange:["1e000","1e02f"]},{category:"cyrillic extended-d",hexrange:["1e030","1e08f"]},{category:"nyiakeng puachue hmong",hexrange:["1e100","1e14f"]},{category:"toto",hexrange:["1e290","1e2bf"]},{category:"wancho",hexrange:["1e2c0","1e2ff"]},{category:"nag mundari",hexrange:["1e4d0","1e4ff"]},{category:"ethiopic extended-b",hexrange:["1e7e0","1e7ff"]},{category:"mende kikakui",hexrange:["1e800","1e8df"]},{category:"adlam",hexrange:["1e900","1e95f"]},{category:"indic siyaq numbers",hexrange:["1ec70","1ecbf"]},{category:"ottoman siyaq numbers",hexrange:["1ed00","1ed4f"]},{category:"arabic mathematical alphabetic symbols",hexrange:["1ee00","1eeff"]},{category:"mahjong tiles",hexrange:["1f000","1f02f"]},{category:"domino tiles",hexrange:["1f030","1f09f"]},{category:"playing cards",hexrange:["1f0a0","1f0ff"]},{category:"enclosed alphanumeric supplement",hexrange:["1f100","1f1ff"]},{category:"enclosed ideographic supplement",hexrange:["1f200","1f2ff"]},{category:"miscellaneous symbols and pictographs",hexrange:["1f300","1f5ff"]},{category:"emoticons (emoji)",hexrange:["1f600","1f64f"]},{category:"ornamental dingbats",hexrange:["1f650","1f67f"]},{category:"transport and map symbols",hexrange:["1f680","1f6ff"]},{category:"alchemical symbols",hexrange:["1f700","1f77f"]},{category:"geometric shapes extended",hexrange:["1f780","1f7ff"]},{category:"supplemental arrows-c",hexrange:["1f800","1f8ff"]},{category:"supplemental symbols and pictographs",hexrange:["1f900","1f9ff"]},{category:"chess symbols",hexrange:["1fa00","1fa6f"]},{category:"symbols and pictographs extended-a",hexrange:["1fa70","1faff"]},{category:"symbols for legacy computing",hexrange:["1fb00","1fbff"]},{category:"cjk unified ideographs extension b",hexrange:["20000","2a6df"]},{category:"cjk unified ideographs extension c",hexrange:["2a700","2b73f"]},{category:"cjk unified ideographs extension d",hexrange:["2b740","2b81f"]},{category:"cjk unified ideographs extension e",hexrange:["2b820","2ceaf"]},{category:"cjk unified ideographs extension f",hexrange:["2ceb0","2ebef"]},{category:"cjk unified ideographs extension i",hexrange:["2ebf0","2ee5f"]},{category:"cjk compatibility ideographs supplement",hexrange:["2f800","2fa1f"]},{category:"cjk unified ideographs extension g",hexrange:["30000","3134f"]},{category:"cjk unified ideographs extension h",hexrange:["31350","323af"]},{category:"tags",hexrange:["e0000","e007f"]},{category:"variation selectors supplement",hexrange:["e0100","e01ef"]},{category:"supplementary private use area-a",hexrange:["f0000","fffff"]},{category:"supplementary private use area-b",hexrange:["100000","10ffff"]}];function Tc(n){let t=n.length;for(;--t>=0;)n[t]=0}const fq=3,dq=258,Wk=29,pq=256,mq=pq+1+Wk,qk=30,gq=512,vq=new Array((mq+2)*2);Tc(vq);const yq=new Array(qk*2);Tc(yq);const bq=new Array(gq);Tc(bq);const xq=new Array(dq-fq+1);Tc(xq);const _q=new Array(Wk);Tc(_q);const wq=new Array(qk);Tc(wq);const Eq=(n,t,r,i)=>{let s=n&65535|0,o=n>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[i++]|0,o=o+s|0;while(--a);s%=65521,o%=65521}return s|o<<16|0};var Zy=Eq;const Sq=()=>{let n,t=[];for(var r=0;r<256;r++){n=r;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[r]=n}return t},Cq=new Uint32Array(Sq()),Aq=(n,t,r,i)=>{const s=Cq,o=i+r;n^=-1;for(let a=i;a<o;a++)n=n>>>8^s[(n^t[a])&255];return n^-1};var io=Aq,Jy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Xk={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Tq=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var Iq=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const i in r)Tq(r,i)&&(n[i]=r[i])}}return n},Dq=n=>{let t=0;for(let i=0,s=n.length;i<s;i++)t+=n[i].length;const r=new Uint8Array(t);for(let i=0,s=0,o=n.length;i<o;i++){let a=n[i];r.set(a,s),s+=a.length}return r},Yk={assign:Iq,flattenChunks:Dq};let Kk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Kk=!1}const nf=new Uint8Array(256);for(let n=0;n<256;n++)nf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;nf[254]=nf[254]=1;var Nq=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,r,i,s,o,a=n.length,l=0;for(s=0;s<a;s++)r=n.charCodeAt(s),(r&64512)===55296&&s+1<a&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),o=0,s=0;o<l;s++)r=n.charCodeAt(s),(r&64512)===55296&&s+1<a&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),s++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};const kq=(n,t)=>{if(t<65534&&n.subarray&&Kk)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let r="";for(let i=0;i<t;i++)r+=String.fromCharCode(n[i]);return r};var Fq=(n,t)=>{const r=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let i,s;const o=new Array(r*2);for(s=0,i=0;i<r;){let a=n[i++];if(a<128){o[s++]=a;continue}let l=nf[a];if(l>4){o[s++]=65533,i+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&i<r;)a=a<<6|n[i++]&63,l--;if(l>1){o[s++]=65533;continue}a<65536?o[s++]=a:(a-=65536,o[s++]=55296|a>>10&1023,o[s++]=56320|a&1023)}return kq(o,s)},Mq=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let r=t-1;for(;r>=0&&(n[r]&192)===128;)r--;return r<0||r===0?t:r+nf[n[r]]>t?r:t},Qy={string2buf:Nq,buf2string:Fq,utf8border:Mq};function Oq(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Pq=Oq;const Ed=16209,Lq=16191;var Rq=function(t,r){let i,s,o,a,l,u,h,c,f,p,d,g,m,v,w,y,_,x,C,E,S,D,A,N;const F=t.state;i=t.next_in,A=t.input,s=i+(t.avail_in-5),o=t.next_out,N=t.output,a=o-(r-t.avail_out),l=o+(t.avail_out-257),u=F.dmax,h=F.wsize,c=F.whave,f=F.wnext,p=F.window,d=F.hold,g=F.bits,m=F.lencode,v=F.distcode,w=(1<<F.lenbits)-1,y=(1<<F.distbits)-1;e:do{g<15&&(d+=A[i++]<<g,g+=8,d+=A[i++]<<g,g+=8),_=m[d&w];t:for(;;){if(x=_>>>24,d>>>=x,g-=x,x=_>>>16&255,x===0)N[o++]=_&65535;else if(x&16){C=_&65535,x&=15,x&&(g<x&&(d+=A[i++]<<g,g+=8),C+=d&(1<<x)-1,d>>>=x,g-=x),g<15&&(d+=A[i++]<<g,g+=8,d+=A[i++]<<g,g+=8),_=v[d&y];n:for(;;){if(x=_>>>24,d>>>=x,g-=x,x=_>>>16&255,x&16){if(E=_&65535,x&=15,g<x&&(d+=A[i++]<<g,g+=8,g<x&&(d+=A[i++]<<g,g+=8)),E+=d&(1<<x)-1,E>u){t.msg="invalid distance too far back",F.mode=Ed;break e}if(d>>>=x,g-=x,x=o-a,E>x){if(x=E-x,x>c&&F.sane){t.msg="invalid distance too far back",F.mode=Ed;break e}if(S=0,D=p,f===0){if(S+=h-x,x<C){C-=x;do N[o++]=p[S++];while(--x);S=o-E,D=N}}else if(f<x){if(S+=h+f-x,x-=f,x<C){C-=x;do N[o++]=p[S++];while(--x);if(S=0,f<C){x=f,C-=x;do N[o++]=p[S++];while(--x);S=o-E,D=N}}}else if(S+=f-x,x<C){C-=x;do N[o++]=p[S++];while(--x);S=o-E,D=N}for(;C>2;)N[o++]=D[S++],N[o++]=D[S++],N[o++]=D[S++],C-=3;C&&(N[o++]=D[S++],C>1&&(N[o++]=D[S++]))}else{S=o-E;do N[o++]=N[S++],N[o++]=N[S++],N[o++]=N[S++],C-=3;while(C>2);C&&(N[o++]=N[S++],C>1&&(N[o++]=N[S++]))}}else if((x&64)===0){_=v[(_&65535)+(d&(1<<x)-1)];continue n}else{t.msg="invalid distance code",F.mode=Ed;break e}break}}else if((x&64)===0){_=m[(_&65535)+(d&(1<<x)-1)];continue t}else if(x&32){F.mode=Lq;break e}else{t.msg="invalid literal/length code",F.mode=Ed;break e}break}}while(i<s&&o<l);C=g>>3,i-=C,g-=C<<3,d&=(1<<g)-1,t.next_in=i,t.next_out=o,t.avail_in=i<s?5+(s-i):5-(i-s),t.avail_out=o<l?257+(l-o):257-(o-l),F.hold=d,F.bits=g};const Su=15,_S=852,wS=592,ES=0,J0=1,SS=2,Bq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Uq=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Vq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$q=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jq=(n,t,r,i,s,o,a,l)=>{const u=l.bits;let h=0,c=0,f=0,p=0,d=0,g=0,m=0,v=0,w=0,y=0,_,x,C,E,S,D=null,A;const N=new Uint16Array(Su+1),F=new Uint16Array(Su+1);let T=null,I,M,L;for(h=0;h<=Su;h++)N[h]=0;for(c=0;c<i;c++)N[t[r+c]]++;for(d=u,p=Su;p>=1&&N[p]===0;p--);if(d>p&&(d=p),p===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<p&&N[f]===0;f++);for(d<f&&(d=f),v=1,h=1;h<=Su;h++)if(v<<=1,v-=N[h],v<0)return-1;if(v>0&&(n===ES||p!==1))return-1;for(F[1]=0,h=1;h<Su;h++)F[h+1]=F[h]+N[h];for(c=0;c<i;c++)t[r+c]!==0&&(a[F[t[r+c]]++]=c);if(n===ES?(D=T=a,A=20):n===J0?(D=Bq,T=Uq,A=257):(D=Vq,T=$q,A=0),y=0,c=0,h=f,S=o,g=d,m=0,C=-1,w=1<<d,E=w-1,n===J0&&w>_S||n===SS&&w>wS)return 1;for(;;){I=h-m,a[c]+1<A?(M=0,L=a[c]):a[c]>=A?(M=T[a[c]-A],L=D[a[c]-A]):(M=96,L=0),_=1<<h-m,x=1<<g,f=x;do x-=_,s[S+(y>>m)+x]=I<<24|M<<16|L|0;while(x!==0);for(_=1<<h-1;y&_;)_>>=1;if(_!==0?(y&=_-1,y+=_):y=0,c++,--N[h]===0){if(h===p)break;h=t[r+a[c]]}if(h>d&&(y&E)!==C){for(m===0&&(m=d),S+=f,g=h-m,v=1<<g;g+m<p&&(v-=N[g+m],!(v<=0));)g++,v<<=1;if(w+=1<<g,n===J0&&w>_S||n===SS&&w>wS)return 1;C=y&E,s[C]=d<<24|g<<16|S-o|0}}return y!==0&&(s[S+y]=h-m<<24|64<<16|0),l.bits=d,0};var xh=jq;const zq=0,Zk=1,Jk=2,{Z_FINISH:CS,Z_BLOCK:Gq,Z_TREES:Sd,Z_OK:Kl,Z_STREAM_END:Hq,Z_NEED_DICT:Wq,Z_STREAM_ERROR:Ds,Z_DATA_ERROR:Qk,Z_MEM_ERROR:e3,Z_BUF_ERROR:qq,Z_DEFLATED:AS}=Xk,mg=16180,TS=16181,IS=16182,DS=16183,NS=16184,kS=16185,FS=16186,MS=16187,OS=16188,PS=16189,em=16190,To=16191,Q0=16192,LS=16193,ev=16194,RS=16195,BS=16196,US=16197,VS=16198,Cd=16199,Ad=16200,$S=16201,jS=16202,zS=16203,GS=16204,HS=16205,tv=16206,WS=16207,qS=16208,Jn=16209,t3=16210,n3=16211,Xq=852,Yq=592,Kq=15,Zq=Kq,XS=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Jq(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const uu=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<mg||t.mode>n3?1:0},r3=n=>{if(uu(n))return Ds;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=mg,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Xq),t.distcode=t.distdyn=new Int32Array(Yq),t.sane=1,t.back=-1,Kl},i3=n=>{if(uu(n))return Ds;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,r3(n)},s3=(n,t)=>{let r;if(uu(n))return Ds;const i=n.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ds:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,i3(n))},o3=(n,t)=>{if(!n)return Ds;const r=new Jq;n.state=r,r.strm=n,r.window=null,r.mode=mg;const i=s3(n,t);return i!==Kl&&(n.state=null),i},Qq=n=>o3(n,Zq);let YS=!0,nv,rv;const eX=n=>{if(YS){nv=new Int32Array(512),rv=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(xh(Zk,n.lens,0,288,nv,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;xh(Jk,n.lens,0,32,rv,0,n.work,{bits:5}),YS=!1}n.lencode=nv,n.lenbits=9,n.distcode=rv,n.distbits=5},a3=(n,t,r,i)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>i&&(s=i),o.window.set(t.subarray(r-i,r-i+s),o.wnext),i-=s,i?(o.window.set(t.subarray(r-i,r),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},tX=(n,t)=>{let r,i,s,o,a,l,u,h,c,f,p,d,g,m,v=0,w,y,_,x,C,E,S,D;const A=new Uint8Array(4);let N,F;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(uu(n)||!n.output||!n.input&&n.avail_in!==0)return Ds;r=n.state,r.mode===To&&(r.mode=Q0),a=n.next_out,s=n.output,u=n.avail_out,o=n.next_in,i=n.input,l=n.avail_in,h=r.hold,c=r.bits,f=l,p=u,D=Kl;e:for(;;)switch(r.mode){case mg:if(r.wrap===0){r.mode=Q0;break}for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,A[0]=h&255,A[1]=h>>>8&255,r.check=io(r.check,A,2,0),h=0,c=0,r.mode=TS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",r.mode=Jn;break}if((h&15)!==AS){n.msg="unknown compression method",r.mode=Jn;break}if(h>>>=4,c-=4,S=(h&15)+8,r.wbits===0&&(r.wbits=S),S>15||S>r.wbits){n.msg="invalid window size",r.mode=Jn;break}r.dmax=1<<r.wbits,r.flags=0,n.adler=r.check=1,r.mode=h&512?PS:To,h=0,c=0;break;case TS:for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.flags=h,(r.flags&255)!==AS){n.msg="unknown compression method",r.mode=Jn;break}if(r.flags&57344){n.msg="unknown header flags set",r.mode=Jn;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(A[0]=h&255,A[1]=h>>>8&255,r.check=io(r.check,A,2,0)),h=0,c=0,r.mode=IS;case IS:for(;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(A[0]=h&255,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,r.check=io(r.check,A,4,0)),h=0,c=0,r.mode=DS;case DS:for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(A[0]=h&255,A[1]=h>>>8&255,r.check=io(r.check,A,2,0)),h=0,c=0,r.mode=NS;case NS:if(r.flags&1024){for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(A[0]=h&255,A[1]=h>>>8&255,r.check=io(r.check,A,2,0)),h=0,c=0}else r.head&&(r.head.extra=null);r.mode=kS;case kS:if(r.flags&1024&&(d=r.length,d>l&&(d=l),d&&(r.head&&(S=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(o,o+d),S)),r.flags&512&&r.wrap&4&&(r.check=io(r.check,i,d,o)),l-=d,o+=d,r.length-=d),r.length))break e;r.length=0,r.mode=FS;case FS:if(r.flags&2048){if(l===0)break e;d=0;do S=i[o+d++],r.head&&S&&r.length<65536&&(r.head.name+=String.fromCharCode(S));while(S&&d<l);if(r.flags&512&&r.wrap&4&&(r.check=io(r.check,i,d,o)),l-=d,o+=d,S)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=MS;case MS:if(r.flags&4096){if(l===0)break e;d=0;do S=i[o+d++],r.head&&S&&r.length<65536&&(r.head.comment+=String.fromCharCode(S));while(S&&d<l);if(r.flags&512&&r.wrap&4&&(r.check=io(r.check,i,d,o)),l-=d,o+=d,S)break e}else r.head&&(r.head.comment=null);r.mode=OS;case OS:if(r.flags&512){for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.wrap&4&&h!==(r.check&65535)){n.msg="header crc mismatch",r.mode=Jn;break}h=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),n.adler=r.check=0,r.mode=To;break;case PS:for(;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}n.adler=r.check=XS(h),h=0,c=0,r.mode=em;case em:if(r.havedict===0)return n.next_out=a,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=h,r.bits=c,Wq;n.adler=r.check=1,r.mode=To;case To:if(t===Gq||t===Sd)break e;case Q0:if(r.last){h>>>=c&7,c-=c&7,r.mode=tv;break}for(;c<3;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}switch(r.last=h&1,h>>>=1,c-=1,h&3){case 0:r.mode=LS;break;case 1:if(eX(r),r.mode=Cd,t===Sd){h>>>=2,c-=2;break e}break;case 2:r.mode=BS;break;case 3:n.msg="invalid block type",r.mode=Jn}h>>>=2,c-=2;break;case LS:for(h>>>=c&7,c-=c&7;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",r.mode=Jn;break}if(r.length=h&65535,h=0,c=0,r.mode=ev,t===Sd)break e;case ev:r.mode=RS;case RS:if(d=r.length,d){if(d>l&&(d=l),d>u&&(d=u),d===0)break e;s.set(i.subarray(o,o+d),a),l-=d,o+=d,u-=d,a+=d,r.length-=d;break}r.mode=To;break;case BS:for(;c<14;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.nlen=(h&31)+257,h>>>=5,c-=5,r.ndist=(h&31)+1,h>>>=5,c-=5,r.ncode=(h&15)+4,h>>>=4,c-=4,r.nlen>286||r.ndist>30){n.msg="too many length or distance symbols",r.mode=Jn;break}r.have=0,r.mode=US;case US:for(;r.have<r.ncode;){for(;c<3;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.lens[T[r.have++]]=h&7,h>>>=3,c-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,N={bits:r.lenbits},D=xh(zq,r.lens,0,19,r.lencode,0,r.work,N),r.lenbits=N.bits,D){n.msg="invalid code lengths set",r.mode=Jn;break}r.have=0,r.mode=VS;case VS:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[h&(1<<r.lenbits)-1],w=v>>>24,y=v>>>16&255,_=v&65535,!(w<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(_<16)h>>>=w,c-=w,r.lens[r.have++]=_;else{if(_===16){for(F=w+2;c<F;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(h>>>=w,c-=w,r.have===0){n.msg="invalid bit length repeat",r.mode=Jn;break}S=r.lens[r.have-1],d=3+(h&3),h>>>=2,c-=2}else if(_===17){for(F=w+3;c<F;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=w,c-=w,S=0,d=3+(h&7),h>>>=3,c-=3}else{for(F=w+7;c<F;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=w,c-=w,S=0,d=11+(h&127),h>>>=7,c-=7}if(r.have+d>r.nlen+r.ndist){n.msg="invalid bit length repeat",r.mode=Jn;break}for(;d--;)r.lens[r.have++]=S}}if(r.mode===Jn)break;if(r.lens[256]===0){n.msg="invalid code -- missing end-of-block",r.mode=Jn;break}if(r.lenbits=9,N={bits:r.lenbits},D=xh(Zk,r.lens,0,r.nlen,r.lencode,0,r.work,N),r.lenbits=N.bits,D){n.msg="invalid literal/lengths set",r.mode=Jn;break}if(r.distbits=6,r.distcode=r.distdyn,N={bits:r.distbits},D=xh(Jk,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,N),r.distbits=N.bits,D){n.msg="invalid distances set",r.mode=Jn;break}if(r.mode=Cd,t===Sd)break e;case Cd:r.mode=Ad;case Ad:if(l>=6&&u>=258){n.next_out=a,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=h,r.bits=c,Rq(n,p),a=n.next_out,s=n.output,u=n.avail_out,o=n.next_in,i=n.input,l=n.avail_in,h=r.hold,c=r.bits,r.mode===To&&(r.back=-1);break}for(r.back=0;v=r.lencode[h&(1<<r.lenbits)-1],w=v>>>24,y=v>>>16&255,_=v&65535,!(w<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(y&&(y&240)===0){for(x=w,C=y,E=_;v=r.lencode[E+((h&(1<<x+C)-1)>>x)],w=v>>>24,y=v>>>16&255,_=v&65535,!(x+w<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=x,c-=x,r.back+=x}if(h>>>=w,c-=w,r.back+=w,r.length=_,y===0){r.mode=HS;break}if(y&32){r.back=-1,r.mode=To;break}if(y&64){n.msg="invalid literal/length code",r.mode=Jn;break}r.extra=y&15,r.mode=$S;case $S:if(r.extra){for(F=r.extra;c<F;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=jS;case jS:for(;v=r.distcode[h&(1<<r.distbits)-1],w=v>>>24,y=v>>>16&255,_=v&65535,!(w<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if((y&240)===0){for(x=w,C=y,E=_;v=r.distcode[E+((h&(1<<x+C)-1)>>x)],w=v>>>24,y=v>>>16&255,_=v&65535,!(x+w<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=x,c-=x,r.back+=x}if(h>>>=w,c-=w,r.back+=w,y&64){n.msg="invalid distance code",r.mode=Jn;break}r.offset=_,r.extra=y&15,r.mode=zS;case zS:if(r.extra){for(F=r.extra;c<F;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){n.msg="invalid distance too far back",r.mode=Jn;break}r.mode=GS;case GS:if(u===0)break e;if(d=p-u,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){n.msg="invalid distance too far back",r.mode=Jn;break}d>r.wnext?(d-=r.wnext,g=r.wsize-d):g=r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=s,g=a-r.offset,d=r.length;d>u&&(d=u),u-=d,r.length-=d;do s[a++]=m[g++];while(--d);r.length===0&&(r.mode=Ad);break;case HS:if(u===0)break e;s[a++]=r.length,u--,r.mode=Ad;break;case tv:if(r.wrap){for(;c<32;){if(l===0)break e;l--,h|=i[o++]<<c,c+=8}if(p-=u,n.total_out+=p,r.total+=p,r.wrap&4&&p&&(n.adler=r.check=r.flags?io(r.check,s,p,a-p):Zy(r.check,s,p,a-p)),p=u,r.wrap&4&&(r.flags?h:XS(h))!==r.check){n.msg="incorrect data check",r.mode=Jn;break}h=0,c=0}r.mode=WS;case WS:if(r.wrap&&r.flags){for(;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.wrap&4&&h!==(r.total&4294967295)){n.msg="incorrect length check",r.mode=Jn;break}h=0,c=0}r.mode=qS;case qS:D=Hq;break e;case Jn:D=Qk;break e;case t3:return e3;case n3:default:return Ds}return n.next_out=a,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=h,r.bits=c,(r.wsize||p!==n.avail_out&&r.mode<Jn&&(r.mode<tv||t!==CS))&&a3(n,n.output,n.next_out,p-n.avail_out),f-=n.avail_in,p-=n.avail_out,n.total_in+=f,n.total_out+=p,r.total+=p,r.wrap&4&&p&&(n.adler=r.check=r.flags?io(r.check,s,p,n.next_out-p):Zy(r.check,s,p,n.next_out-p)),n.data_type=r.bits+(r.last?64:0)+(r.mode===To?128:0)+(r.mode===Cd||r.mode===ev?256:0),(f===0&&p===0||t===CS)&&D===Kl&&(D=qq),D},nX=n=>{if(uu(n))return Ds;let t=n.state;return t.window&&(t.window=null),n.state=null,Kl},rX=(n,t)=>{if(uu(n))return Ds;const r=n.state;return(r.wrap&2)===0?Ds:(r.head=t,t.done=!1,Kl)},iX=(n,t)=>{const r=t.length;let i,s,o;return uu(n)||(i=n.state,i.wrap!==0&&i.mode!==em)?Ds:i.mode===em&&(s=1,s=Zy(s,t,r,0),s!==i.check)?Qk:(o=a3(n,t,r,r),o?(i.mode=t3,e3):(i.havedict=1,Kl))};var sX=i3,oX=s3,aX=r3,lX=Qq,uX=o3,cX=tX,hX=nX,fX=rX,dX=iX,pX="pako inflate (from Nodeca project)",Mo={inflateReset:sX,inflateReset2:oX,inflateResetKeep:aX,inflateInit:lX,inflateInit2:uX,inflate:cX,inflateEnd:hX,inflateGetHeader:fX,inflateSetDictionary:dX,inflateInfo:pX};function mX(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gX=mX;const l3=Object.prototype.toString,{Z_NO_FLUSH:vX,Z_FINISH:yX,Z_OK:rf,Z_STREAM_END:iv,Z_NEED_DICT:sv,Z_STREAM_ERROR:bX,Z_DATA_ERROR:KS,Z_MEM_ERROR:xX}=Xk;function gg(n){this.options=Yk.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pq,this.strm.avail_out=0;let r=Mo.inflateInit2(this.strm,t.windowBits);if(r!==rf)throw new Error(Jy[r]);if(this.header=new gX,Mo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Qy.string2buf(t.dictionary):l3.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Mo.inflateSetDictionary(this.strm,t.dictionary),r!==rf)))throw new Error(Jy[r])}gg.prototype.push=function(n,t){const r=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let o,a,l;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?yX:vX,l3.call(n)==="[object ArrayBuffer]"?r.input=new Uint8Array(n):r.input=n,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),o=Mo.inflate(r,a),o===sv&&s&&(o=Mo.inflateSetDictionary(r,s),o===rf?o=Mo.inflate(r,a):o===KS&&(o=sv));r.avail_in>0&&o===iv&&r.state.wrap>0&&n[r.next_in]!==0;)Mo.inflateReset(r),o=Mo.inflate(r,a);switch(o){case bX:case KS:case sv:case xX:return this.onEnd(o),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||o===iv))if(this.options.to==="string"){let u=Qy.utf8border(r.output,r.next_out),h=r.next_out-u,c=Qy.buf2string(r.output,u);r.next_out=h,r.avail_out=i-h,h&&r.output.set(r.output.subarray(u,u+h),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===rf&&l===0)){if(o===iv)return o=Mo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};gg.prototype.onData=function(n){this.chunks.push(n)};gg.prototype.onEnd=function(n){n===rf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Yk.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function _X(n,t){const r=new gg(t);if(r.push(n),r.err)throw r.msg||Jy[r.err];return r.result}var wX=_X,EX={inflate:wX};const{inflate:SX}=EX;var CX=SX;const u3={inflate:CX};var Ze={};Ze.parse=function(n){var t=Ze.B,r=function(x,C,E,S){var D=Ze.T,A={cmap:D.cmap,head:D.head,hhea:D.hhea,maxp:D.maxp,hmtx:D.hmtx,name:D.name,"OS/2":D.OS2,post:D.post,loca:D.loca,kern:D.kern,glyf:D.glyf,"CFF ":D.CFF,GSUB:D.GSUB,CBLC:D.CBLC,CBDT:D.CBDT,"SVG ":D.SVG,COLR:D.colr,CPAL:D.cpal,sbix:D.sbix,fvar:D.fvar,gvar:D.gvar,avar:D.avar,HVAR:D.HVAR},N={_data:x,_index:C,_offset:E};for(var F in A){var T=Ze.findTable(x,F,E);if(T){var I=T[0],M=S[I];M==null&&(M=A[F].parseTab(x,I,T[1],N)),N[F]=S[I]=M}}return N};function i(x){var C=t.readUshort(x,12),E=t.readUint(x,16),S=new Uint8Array(E),D=12+C*16;t.writeASCII(S,0,"OTTO"),t.writeUshort(S,4,C);for(var A=44,N=0;N<C;N++){var F=t.readASCII(x,A,4),T=t.readUint(x,A+4),I=t.readUint(x,A+8),M=t.readUint(x,A+12);A+=20;var L=x.slice(T,T+I);I!=M&&(L=u3.inflate(L));var B=12+N*16;t.writeASCII(S,B,F),t.writeUint(S,B+8,D),t.writeUint(S,B+12,M),S.set(L,D),D+=M}return S}var s=new Uint8Array(n);let o;s[0]==119&&(o=s,s=i(s));var a={},l=t.readASCII(s,0,4);if(l=="ttcf"){var u=4;t.readUshort(s,u),u+=2,t.readUshort(s,u),u+=2;var h=t.readUint(s,u);u+=4;for(var c=[],f=0;f<h;f++){var p=t.readUint(s,u);u+=4,c.push(r(s,f,p,a))}return c}var d=r(s,0,0,a);d._compressedData=o;var g=d.fvar;if(g){for(var m=[d],f=0;f<g[1].length;f++){var v=g[1][f],w={};m.push(w);for(var y in d)w[y]=d[y];w._index=f;var _=w.name=JSON.parse(JSON.stringify(w.name));_.fontSubfamily=v[0],v[3]==null&&(v[3]=(_.fontFamily+"-"+_.fontSubfamily).replaceAll(" ","")),_.postScriptName=v[3]}return m}return[d]};Ze.findTable=function(n,t,r){for(var i=Ze.B,s=i.readUshort(n,r+4),o=r+12,a=0;a<s;a++){var l=i.readASCII(n,o,4);i.readUint(n,o+4);var u=i.readUint(n,o+8),h=i.readUint(n,o+12);if(l==t)return[u,h];o+=16}return null};Ze.T={};Ze.B={readFixed:function(n,t){return(n[t]<<8|n[t+1])+(n[t+2]<<8|n[t+3])/(256*256+4)},readF2dot14:function(n,t){var r=Ze.B.readShort(n,t);return r/16384},readInt:function(n,t){var r=Ze.B.t.uint8;return r[0]=n[t+3],r[1]=n[t+2],r[2]=n[t+1],r[3]=n[t],Ze.B.t.int32[0]},readInt8:function(n,t){var r=Ze.B.t.uint8;return r[0]=n[t],Ze.B.t.int8[0]},readShort:function(n,t){var r=Ze.B.t.uint16;return r[0]=n[t]<<8|n[t+1],Ze.B.t.int16[0]},readUshort:function(n,t){return n[t]<<8|n[t+1]},writeUshort:function(n,t,r){n[t]=r>>8&255,n[t+1]=r&255},readUshorts:function(n,t,r){for(var i=[],s=0;s<r;s++){var o=Ze.B.readUshort(n,t+s*2);i.push(o)}return i},readUint:function(n,t){var r=Ze.B.t.uint8;return r[3]=n[t],r[2]=n[t+1],r[1]=n[t+2],r[0]=n[t+3],Ze.B.t.uint32[0]},writeUint:function(n,t,r){n[t]=r>>24&255,n[t+1]=r>>16&255,n[t+2]=r>>8&255,n[t+3]=r>>0&255},readUint64:function(n,t){return Ze.B.readUint(n,t)*4294967296+Ze.B.readUint(n,t+4)},readASCII:function(n,t,r){for(var i="",s=0;s<r;s++)i+=String.fromCharCode(n[t+s]);return i},writeASCII:function(n,t,r){for(var i=0;i<r.length;i++)n[t+i]=r.charCodeAt(i)},readUnicode:function(n,t,r){for(var i="",s=0;s<r;s++){var o=n[t++]<<8|n[t++];i+=String.fromCharCode(o)}return i},_tdec:window.TextDecoder?new window.TextDecoder:null,readUTF8:function(n,t,r){var i=Ze.B._tdec;return i&&t==0&&r==n.length?i.decode(n):Ze.B.readASCII(n,t,r)},readBytes:function(n,t,r){for(var i=[],s=0;s<r;s++)i.push(n[t+s]);return i},readASCIIArray:function(n,t,r){for(var i=[],s=0;s<r;s++)i.push(String.fromCharCode(n[t+s]));return i},t:(function(){var n=new ArrayBuffer(8);return{buff:n,int8:new Int8Array(n),uint8:new Uint8Array(n),int16:new Int16Array(n),uint16:new Uint16Array(n),int32:new Int32Array(n),uint32:new Uint32Array(n)}})()};Ze.T.CFF={parseTab:function(n,t,r){var i=Ze.B,s=Ze.T.CFF;n=new Uint8Array(n.buffer,t,r),t=0,n[t],t++,n[t],t++,n[t],t++,n[t],t++;var o=[];t=s.readIndex(n,t,o);for(var a=[],l=0;l<o.length-1;l++)a.push(i.readASCII(n,t+o[l],o[l+1]-o[l]));t+=o[o.length-1];var u=[];t=s.readIndex(n,t,u);for(var h=[],l=0;l<u.length-1;l++)h.push(s.readDict(n,t+u[l],t+u[l+1]));t+=u[u.length-1];var c=h[0],f=[];t=s.readIndex(n,t,f);for(var p=[],l=0;l<f.length-1;l++)p.push(i.readASCII(n,t+f[l],f[l+1]-f[l]));if(t+=f[f.length-1],s.readSubrs(n,t,c),c.CharStrings&&(c.CharStrings=s.readBytes(n,c.CharStrings)),c.ROS){t=c.FDArray;var d=[];t=s.readIndex(n,t,d),c.FDArray=[];for(var l=0;l<d.length-1;l++){var g=s.readDict(n,t+d[l],t+d[l+1]);s._readFDict(n,g,p),c.FDArray.push(g)}t+=d[d.length-1],t=c.FDSelect,c.FDSelect=[];var m=n[t];if(t++,m==3){var v=i.readUshort(n,t);t+=2;for(var l=0;l<v+1;l++)c.FDSelect.push(i.readUshort(n,t),n[t+2]),t+=3}else throw m}return c.charset&&(c.charset=s.readCharset(n,c.charset,c.CharStrings.length)),s._readFDict(n,c,p),c},_readFDict:function(n,t,r){var i=Ze.T.CFF,s;t.Private&&(s=t.Private[1],t.Private=i.readDict(n,s,s+t.Private[0]),t.Private.Subrs&&i.readSubrs(n,s+t.Private.Subrs,t.Private));for(var o in t)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(o)!=-1&&(t[o]=r[t[o]-426+35])},readSubrs:function(n,t,r){r.Subrs=Ze.T.CFF.readBytes(n,t);var i,s=r.Subrs.length+1;s<1240?i=107:s<33900?i=1131:i=32768,r.Bias=i},readBytes:function(n,t){Ze.B;var r=[];t=Ze.T.CFF.readIndex(n,t,r);for(var i=[],s=r.length-1,o=n.byteOffset+t,a=0;a<s;a++){var l=r[a];i.push(new Uint8Array(n.buffer,o+l,r[a+1]-l))}return i},tableSE:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],glyphByUnicode:function(n,t){for(var r=0;r<n.charset.length;r++)if(n.charset[r]==t)return r;return-1},glyphBySE:function(n,t){return t<0||t>255?-1:Ze.T.CFF.glyphByUnicode(n,Ze.T.CFF.tableSE[t])},readCharset:function(n,t,r){var i=Ze.B,s=[".notdef"],o=n[t];if(t++,o==0)for(var a=0;a<r;a++){var l=i.readUshort(n,t);t+=2,s.push(l)}else if(o==1||o==2)for(;s.length<r;){var l=i.readUshort(n,t);t+=2;var u=0;o==1?(u=n[t],t++):(u=i.readUshort(n,t),t+=2);for(var a=0;a<=u;a++)s.push(l),l++}else throw"error: format: "+o;return s},readIndex:function(n,t,r){var i=Ze.B,s=i.readUshort(n,t)+1;t+=2;var o=n[t];if(t++,o==1)for(var a=0;a<s;a++)r.push(n[t+a]);else if(o==2)for(var a=0;a<s;a++)r.push(i.readUshort(n,t+a*2));else if(o==3)for(var a=0;a<s;a++)r.push(i.readUint(n,t+a*3-1)&16777215);else if(o==4)for(var a=0;a<s;a++)r.push(i.readUint(n,t+a*4));else if(s!=1)throw"unsupported offset size: "+o+", count: "+s;return t+=s*o,t-1},getCharString:function(n,t,r){var i=Ze.B,s=n[t],o=n[t+1];n[t+2],n[t+3],n[t+4];var a=1,l=null,u=null;s<=20&&(l=s,a=1),s==12&&(l=s*100+o,a=2),21<=s&&s<=27&&(l=s,a=1),s==28&&(u=i.readShort(n,t+1),a=3),29<=s&&s<=31&&(l=s,a=1),32<=s&&s<=246&&(u=s-139,a=1),247<=s&&s<=250&&(u=(s-247)*256+o+108,a=2),251<=s&&s<=254&&(u=-(s-251)*256-o-108,a=2),s==255&&(u=i.readInt(n,t+1)/65535,a=5),r.val=u??"o"+l,r.size=a},readCharString:function(n,t,r){for(var i=t+r,s=Ze.B,o=[];t<i;){var a=n[t],l=n[t+1];n[t+2],n[t+3],n[t+4];var u=1,h=null,c=null;a<=20&&(h=a,u=1),a==12&&(h=a*100+l,u=2),(a==19||a==20)&&(h=a,u=2),21<=a&&a<=27&&(h=a,u=1),a==28&&(c=s.readShort(n,t+1),u=3),29<=a&&a<=31&&(h=a,u=1),32<=a&&a<=246&&(c=a-139,u=1),247<=a&&a<=250&&(c=(a-247)*256+l+108,u=2),251<=a&&a<=254&&(c=-(a-251)*256-l-108,u=2),a==255&&(c=s.readInt(n,t+1)/65535,u=5),o.push(c??"o"+h),t+=u}return o},readDict:function(n,t,r){for(var i=Ze.B,s={},o=[];t<r;){var a=n[t],l=n[t+1];n[t+2],n[t+3],n[t+4];var u=1,h=null,c=null;if(a==28&&(c=i.readShort(n,t+1),u=3),a==29&&(c=i.readInt(n,t+1),u=5),32<=a&&a<=246&&(c=a-139,u=1),247<=a&&a<=250&&(c=(a-247)*256+l+108,u=2),251<=a&&a<=254&&(c=-(a-251)*256-l-108,u=2),a==255)throw c=i.readInt(n,t+1)/65535,u=5,"unknown number";if(a==30){var f=[];for(u=1;;){var p=n[t+u];u++;var d=p>>4,g=p&15;if(d!=15&&f.push(d),g!=15&&f.push(g),g==15)break}for(var m="",v=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],w=0;w<f.length;w++)m+=v[f[w]];c=parseFloat(m)}if(a<=21){var y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"];if(h=y[a],u=1,a==12){var y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold","","","LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend","","","","","","","ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"];h=y[l],u=2}}h!=null?(s[h]=o.length==1?o[0]:o,o=[]):o.push(c),t+=u}return s}};Ze.T.cmap={parseTab:function(n,t,r){var i={tables:[],ids:{},off:t};n=new Uint8Array(n.buffer,t,r),t=0;var s=Ze.B,o=s.readUshort,a=Ze.T.cmap;o(n,t),t+=2;var l=o(n,t);t+=2;for(var u=[],h=0;h<l;h++){var c=o(n,t);t+=2;var f=o(n,t);t+=2;var p=s.readUint(n,t);t+=4;var d="p"+c+"e"+f,g=u.indexOf(p);if(g==-1){g=i.tables.length;var m={};u.push(p);var v=m.format=o(n,p);v==0?m=a.parse0(n,p,m):v==4?m=a.parse4(n,p,m):v==6?m=a.parse6(n,p,m):v==12&&(m=a.parse12(n,p,m)),i.tables.push(m)}i.ids[d]!=null&&console.log("multiple tables for one platform+encoding: "+d),i.ids[d]=g}return i},parse0:function(n,t,r){var i=Ze.B;t+=2;var s=i.readUshort(n,t);t+=2,i.readUshort(n,t),t+=2,r.map=[];for(var o=0;o<s-6;o++)r.map.push(n[t+o]);return r},parse4:function(n,t,r){var i=Ze.B,s=i.readUshort,o=i.readUshorts,a=t;t+=2;var l=s(n,t);t+=2,s(n,t),t+=2;var u=s(n,t);t+=2;var h=u>>>1;r.searchRange=s(n,t),t+=2,r.entrySelector=s(n,t),t+=2,r.rangeShift=s(n,t),t+=2,r.endCount=o(n,t,h),t+=h*2,t+=2,r.startCount=o(n,t,h),t+=h*2,r.idDelta=[];for(var c=0;c<h;c++)r.idDelta.push(i.readShort(n,t)),t+=2;return r.idRangeOffset=o(n,t,h),t+=h*2,r.glyphIdArray=o(n,t,a+l-t>>1),r},parse6:function(n,t,r){var i=Ze.B;t+=2,i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2,r.firstCode=i.readUshort(n,t),t+=2;var s=i.readUshort(n,t);t+=2,r.glyphIdArray=[];for(var o=0;o<s;o++)r.glyphIdArray.push(i.readUshort(n,t)),t+=2;return r},parse12:function(n,t,r){var i=Ze.B,s=i.readUint;t+=4,s(n,t),t+=4,s(n,t),t+=4;var o=s(n,t)*3;t+=4;for(var a=r.groups=new Uint32Array(o),l=0;l<o;l+=3)a[l]=s(n,t+(l<<2)),a[l+1]=s(n,t+(l<<2)+4),a[l+2]=s(n,t+(l<<2)+8);return r}};Ze.T.CBLC={parseTab:function(n,t,r){var i=Ze.B,s=t;i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2;var o=i.readUint(n,t);t+=4;for(var a=[],l=0;l<o;l++){var u=i.readUint(n,t);t+=4,i.readUint(n,t),t+=4,i.readUint(n,t),t+=4,t+=4,t+=24,i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2,t+=4;for(var h=s+u,c=0;c<3;c++){var f=i.readUshort(n,h);h+=2;var p=i.readUshort(n,h);h+=2;var d=i.readUint(n,h);h+=4;var g=p-f+1,m=s+u+d,v=i.readUshort(n,m);if(m+=2,v!=1)throw v;var w=i.readUshort(n,m);m+=2;var y=i.readUint(n,m);m+=4;for(var _=[],x=0;x<g;x++){var C=i.readUint(n,m+x*4);_.push(y+C)}a.push([f,p,w,_])}}return a}};Ze.T.CBDT={parseTab:function(n,t,r){return Ze.B,new Uint8Array(n.buffer,n.byteOffset+t,r)}};Ze.T.glyf={parseTab:function(n,t,r,i){for(var s=[],o=i.maxp.numGlyphs,a=0;a<o;a++)s.push(null);return s},_parseGlyf:function(n,t){var r=Ze.B,i=n._data,s=n.loca;if(s[t]==s[t+1])return null;var o=Ze.findTable(i,"glyf",n._offset)[0]+s[t],a={};if(a.noc=r.readShort(i,o),o+=2,a.xMin=r.readShort(i,o),o+=2,a.yMin=r.readShort(i,o),o+=2,a.xMax=r.readShort(i,o),o+=2,a.yMax=r.readShort(i,o),o+=2,a.xMin>=a.xMax||a.yMin>=a.yMax)return null;if(a.noc>0){a.endPts=[];for(var l=0;l<a.noc;l++)a.endPts.push(r.readUshort(i,o)),o+=2;var u=r.readUshort(i,o);if(o+=2,i.length-o<u)return null;a.instructions=r.readBytes(i,o,u),o+=u;var h=a.endPts[a.noc-1]+1;a.flags=[];for(var l=0;l<h;l++){var c=i[o];if(o++,a.flags.push(c),(c&8)!=0){var f=i[o];o++;for(var p=0;p<f;p++)a.flags.push(c),l++}}a.xs=[];for(var l=0;l<h;l++){var d=(a.flags[l]&2)!=0,g=(a.flags[l]&16)!=0;d?(a.xs.push(g?i[o]:-i[o]),o++):g?a.xs.push(0):(a.xs.push(r.readShort(i,o)),o+=2)}a.ys=[];for(var l=0;l<h;l++){var d=(a.flags[l]&4)!=0,g=(a.flags[l]&32)!=0;d?(a.ys.push(g?i[o]:-i[o]),o++):g?a.ys.push(0):(a.ys.push(r.readShort(i,o)),o+=2)}for(var m=0,v=0,l=0;l<h;l++)m+=a.xs[l],v+=a.ys[l],a.xs[l]=m,a.ys[l]=v}else{var w=1,y=2,_=8,x=32,C=64,E=128,S=256;a.parts=[];var D;do{D=r.readUshort(i,o),o+=2;var A={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(a.parts.push(A),A.glyphIndex=r.readUshort(i,o),o+=2,D&w){var N=r.readShort(i,o);o+=2;var F=r.readShort(i,o);o+=2}else{var N=r.readInt8(i,o);o++;var F=r.readInt8(i,o);o++}D&y?(A.m.tx=N,A.m.ty=F):(A.p1=N,A.p2=F),D&_?(A.m.a=A.m.d=r.readF2dot14(i,o),o+=2):D&C?(A.m.a=r.readF2dot14(i,o),o+=2,A.m.d=r.readF2dot14(i,o),o+=2):D&E&&(A.m.a=r.readF2dot14(i,o),o+=2,A.m.b=r.readF2dot14(i,o),o+=2,A.m.c=r.readF2dot14(i,o),o+=2,A.m.d=r.readF2dot14(i,o),o+=2)}while(D&x);if(D&S){var T=r.readUshort(i,o);o+=2,a.instr=[];for(var l=0;l<T;l++)a.instr.push(i[o]),o++}}return a}};Ze.T.head={parseTab:function(n,t,r){var i=Ze.B,s={};return i.readFixed(n,t),t+=4,s.fontRevision=i.readFixed(n,t),t+=4,i.readUint(n,t),t+=4,i.readUint(n,t),t+=4,s.flags=i.readUshort(n,t),t+=2,s.unitsPerEm=i.readUshort(n,t),t+=2,s.created=i.readUint64(n,t),t+=8,s.modified=i.readUint64(n,t),t+=8,s.xMin=i.readShort(n,t),t+=2,s.yMin=i.readShort(n,t),t+=2,s.xMax=i.readShort(n,t),t+=2,s.yMax=i.readShort(n,t),t+=2,s.macStyle=i.readUshort(n,t),t+=2,s.lowestRecPPEM=i.readUshort(n,t),t+=2,s.fontDirectionHint=i.readShort(n,t),t+=2,s.indexToLocFormat=i.readShort(n,t),t+=2,s.glyphDataFormat=i.readShort(n,t),t+=2,s}};Ze.T.hhea={parseTab:function(n,t,r){var i=Ze.B,s={};i.readFixed(n,t),t+=4;for(var o=["ascender","descender","lineGap","advanceWidthMax","minLeftSideBearing","minRightSideBearing","xMaxExtent","caretSlopeRise","caretSlopeRun","caretOffset","res0","res1","res2","res3","metricDataFormat","numberOfHMetrics"],a=0;a<o.length;a++){var l=o[a],u=l=="advanceWidthMax"||l=="numberOfHMetrics"?i.readUshort:i.readShort;s[l]=u(n,t+a*2)}return s}};Ze.T.hmtx={parseTab:function(n,t,r,i){for(var s=Ze.B,o=[],a=[],l=i.maxp.numGlyphs,u=i.hhea.numberOfHMetrics,h=0,c=0,f=0;f<u;)h=s.readUshort(n,t+(f<<2)),c=s.readShort(n,t+(f<<2)+2),o.push(h),a.push(c),f++;for(;f<l;)o.push(h),a.push(c),f++;return{aWidth:o,lsBearing:a}}};Ze.T.kern={parseTab:function(n,t,r,i){var s=Ze.B,o=Ze.T.kern,a=s.readUshort(n,t);if(a==1)return o.parseV1(n,t,r,i);var l=s.readUshort(n,t+2);t+=4;for(var u={glyph1:[],rval:[]},h=0;h<l;h++){t+=2;var r=s.readUshort(n,t);t+=2;var c=s.readUshort(n,t);t+=2;var f=c>>>8;f&=15,f==0&&(t=o.readFormat0(n,t,u))}return u},parseV1:function(n,t,r,i){var s=Ze.B,o=Ze.T.kern;s.readFixed(n,t);var a=s.readUint(n,t+4);t+=8;for(var l={glyph1:[],rval:[]},u=0;u<a;u++){s.readUint(n,t),t+=4;var h=s.readUshort(n,t);t+=2,s.readUshort(n,t),t+=2;var c=h&255;c==0&&(t=o.readFormat0(n,t,l))}return l},readFormat0:function(n,t,r){var i=Ze.B,s=i.readUshort,o=-1,a=s(n,t);s(n,t+2),s(n,t+4),s(n,t+6),t+=8;for(var l=0;l<a;l++){var u=s(n,t);t+=2;var h=s(n,t);t+=2;var c=i.readShort(n,t);t+=2,u!=o&&(r.glyph1.push(u),r.rval.push({glyph2:[],vals:[]}));var f=r.rval[r.rval.length-1];f.glyph2.push(h),f.vals.push(c),o=u}return t}};Ze.T.loca={parseTab:function(n,t,r,i){var s=Ze.B,o=[],a=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(a==0)for(var u=0;u<l;u++)o.push(s.readUshort(n,t+(u<<1))<<1);if(a==1)for(var u=0;u<l;u++)o.push(s.readUint(n,t+(u<<2)));return o}};Ze.T.maxp={parseTab:function(n,t,r){var i=Ze.B,s=i.readUshort,o={};return i.readUint(n,t),t+=4,o.numGlyphs=s(n,t),t+=2,o}};Ze.T.name={parseTab:function(n,t,r){var i=Ze.B,s={};i.readUshort(n,t),t+=2;var o=i.readUshort(n,t);t+=2;var a=i.readUshort(n,t);t+=2;for(var l=t-6+a,u=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=i.readUshort,c=0;c<o;c++){var f=h(n,t);t+=2;var p=h(n,t);t+=2;var d=h(n,t);t+=2;var g=h(n,t);t+=2;var m=h(n,t);t+=2;var v=h(n,t);t+=2;var w=l+v,y;f==0||f==3&&p==0||f==1&&p==25?y=i.readUnicode(n,w,m/2):p==0?y=i.readASCII(n,w,m):p==1||p==3||p==4||p==5||p==10?y=i.readUnicode(n,w,m/2):f==1?(y=i.readASCII(n,w,m),console.log("reading unknown MAC encoding "+p+" as ASCII")):(console.log("unknown encoding "+p+", platformID: "+f),y=i.readASCII(n,w,m));var _="p"+f+","+d.toString(16);s[_]==null&&(s[_]={});var x=u[g];x==null&&(x="_"+g),s[_][x]=y,s[_]._lang=d}var C=Ze.T.name.selectOne(s),E="fontFamily";if(C[E]==null)for(var S in s)s[S][E]!=null&&(C[E]=s[S][E]);return C},selectOne:function(n){var t="postScriptName";for(var r in n)if(n[r][t]!=null&&n[r]._lang==1033)return n[r];for(var r in n)if(n[r][t]!=null&&n[r]._lang==0)return n[r];for(var r in n)if(n[r][t]!=null&&n[r]._lang==3084)return n[r];for(var r in n)if(n[r][t]!=null)return n[r];var i;for(var r in n){i=n[r];break}return console.log("returning name table with languageID "+i._lang),i[t]==null&&i.ID!=null&&(i[t]=i.ID),i}};Ze.T.OS2={parseTab:function(n,t,r){var i=Ze.B,s=i.readUshort(n,t);t+=2;var o=Ze.T.OS2,a={};if(s==0)o.version0(n,t,a);else if(s==1)o.version1(n,t,a);else if(s==2||s==3||s==4)o.version2(n,t,a);else if(s==5)o.version5(n,t,a);else throw"unknown OS/2 table version: "+s;return a},version0:function(n,t,r){var i=Ze.B;return r.xAvgCharWidth=i.readShort(n,t),t+=2,r.usWeightClass=i.readUshort(n,t),t+=2,r.usWidthClass=i.readUshort(n,t),t+=2,r.fsType=i.readUshort(n,t),t+=2,r.ySubscriptXSize=i.readShort(n,t),t+=2,r.ySubscriptYSize=i.readShort(n,t),t+=2,r.ySubscriptXOffset=i.readShort(n,t),t+=2,r.ySubscriptYOffset=i.readShort(n,t),t+=2,r.ySuperscriptXSize=i.readShort(n,t),t+=2,r.ySuperscriptYSize=i.readShort(n,t),t+=2,r.ySuperscriptXOffset=i.readShort(n,t),t+=2,r.ySuperscriptYOffset=i.readShort(n,t),t+=2,r.yStrikeoutSize=i.readShort(n,t),t+=2,r.yStrikeoutPosition=i.readShort(n,t),t+=2,r.sFamilyClass=i.readShort(n,t),t+=2,r.panose=i.readBytes(n,t,10),t+=10,r.ulUnicodeRange1=i.readUint(n,t),t+=4,r.ulUnicodeRange2=i.readUint(n,t),t+=4,r.ulUnicodeRange3=i.readUint(n,t),t+=4,r.ulUnicodeRange4=i.readUint(n,t),t+=4,r.achVendID=i.readASCII(n,t,4),t+=4,r.fsSelection=i.readUshort(n,t),t+=2,r.usFirstCharIndex=i.readUshort(n,t),t+=2,r.usLastCharIndex=i.readUshort(n,t),t+=2,r.sTypoAscender=i.readShort(n,t),t+=2,r.sTypoDescender=i.readShort(n,t),t+=2,r.sTypoLineGap=i.readShort(n,t),t+=2,r.usWinAscent=i.readUshort(n,t),t+=2,r.usWinDescent=i.readUshort(n,t),t+=2,t},version1:function(n,t,r){var i=Ze.B;return t=Ze.T.OS2.version0(n,t,r),r.ulCodePageRange1=i.readUint(n,t),t+=4,r.ulCodePageRange2=i.readUint(n,t),t+=4,t},version2:function(n,t,r){var i=Ze.B,s=i.readUshort;return t=Ze.T.OS2.version1(n,t,r),r.sxHeight=i.readShort(n,t),t+=2,r.sCapHeight=i.readShort(n,t),t+=2,r.usDefault=s(n,t),t+=2,r.usBreak=s(n,t),t+=2,r.usMaxContext=s(n,t),t+=2,t},version5:function(n,t,r){var i=Ze.B.readUshort;return t=Ze.T.OS2.version2(n,t,r),r.usLowerOpticalPointSize=i(n,t),t+=2,r.usUpperOpticalPointSize=i(n,t),t+=2,t}};Ze.T.post={parseTab:function(n,t,r){var i=Ze.B,s={};return s.version=i.readFixed(n,t),t+=4,s.italicAngle=i.readFixed(n,t),t+=4,s.underlinePosition=i.readShort(n,t),t+=2,s.underlineThickness=i.readShort(n,t),t+=2,s}};Ze.T.SVG={parseTab:function(n,t,r){var i=Ze.B,s={entries:[],svgs:[]},o=t;i.readUshort(n,t),t+=2;var a=i.readUint(n,t);t+=4,i.readUint(n,t),t+=4,t=a+o;var l=i.readUshort(n,t);t+=2;for(var u=0;u<l;u++){var h=i.readUshort(n,t);t+=2;var c=i.readUshort(n,t);t+=2;var f=i.readUint(n,t);t+=4;var p=i.readUint(n,t);t+=4;var d=new Uint8Array(n.buffer,o+f+a,p);d[0]==31&&d[1]==139&&d[2]==8&&(d=u3.inflate(d));for(var g=i.readUTF8(d,0,d.length),m=h;m<=c;m++)s.entries[m]=s.svgs.length;s.svgs.push(g)}return s}};Ze.T.sbix={parseTab:function(n,t,r,i){for(var s=i.maxp.numGlyphs,o=t,a=Ze.B,l=a.readUint(n,t+4),u=[],h=l-1;h<l;h++)for(var c=o+a.readUint(n,t+8+h*4),f=0;f<s;f++){var p=a.readUint(n,c+4+f*4),d=a.readUint(n,c+4+f*4+4);if(p==d){u[f]=null;continue}var g=c+p,m=a.readASCII(n,g+4,4);if(m!="png ")throw m;u[f]=new Uint8Array(n.buffer,n.byteOffset+g+8,d-p-8)}return u}};Ze.T.colr={parseTab:function(n,t,r){var i=Ze.B,s=t;t+=2;var o=i.readUshort(n,t);t+=2;var a=i.readUint(n,t);t+=4;var l=i.readUint(n,t);t+=4;var u=i.readUshort(n,t);t+=2;for(var h={},c=s+a,f=0;f<o;f++)h["g"+i.readUshort(n,c)]=[i.readUshort(n,c+2),i.readUshort(n,c+4)],c+=6;var p=[];c=s+l;for(var f=0;f<u;f++)p.push(i.readUshort(n,c),i.readUshort(n,c+2)),c+=4;return[h,p]}};Ze.T.cpal={parseTab:function(n,t,r){var i=Ze.B,s=t,o=i.readUshort(n,t);if(t+=2,o==0){i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2;var a=i.readUshort(n,t);t+=2;var l=i.readUint(n,t);return t+=4,new Uint8Array(n.buffer,s+l,a*4)}else throw o}};Ze.T.GSUB={parseTab:function(n,t,r,i){var s=Ze.B,o=s.readUshort;s.readUint;var a=t;o(n,a),a+=2,o(n,a),a+=2,o(n,a),a+=2;var l=o(n,a);a+=2,o(n,a),a+=2,a=t+l;var u={},h=o(n,a);a+=2;for(var c=0;c<h;c++){var f=s.readASCII(n,a,4);a+=4,o(n,a),a+=2,u[f]=!0}return u}};Ze.T.fvar={parseTab:function(n,t,r,i){var s=i.name,o=t,a=Ze.B,l=[],u=[];o+=8;var h=a.readUshort(n,o);o+=2,o+=2;var c=a.readUshort(n,o);o+=2;var f=a.readUshort(n,o);o+=2;for(var p=0;p<h;p++){var d=a.readASCII(n,o,4),g=a.readFixed(n,o+4),m=a.readFixed(n,o+8),v=a.readFixed(n,o+12),w=a.readUshort(n,o+16),y=a.readUshort(n,o+18);l.push([d,g,m,v,w,s["_"+y]]),o+=20}for(var p=0;p<c;p++){for(var _=a.readUshort(n,o),x=null,w=a.readUshort(n,o+2),C=[],E=0;E<h;E++)C.push(a.readFixed(n,o+4+E*4));o+=4+h*4,(f&3)==2&&(x=a.readUshort(n,o),o+=2),u.push([s["_"+_],w,C,x])}return[l,u]}};Ze.T.gvar=(function(){var n=32768,t=16384,r=8192,i=128,s=64,o=128,a=32768,l=Ze.B;function u(p,d,g){for(var m=[],v=0;v<g;v++)m.push(l.readF2dot14(p,d+v*2));return m}function h(p,d,g,m,v){for(var w=[],y=0;y<g;y++){var _=l.readUshort(p,d);d+=2;var x=l.readUshort(p,d),C=x&61440;x=x&4095,d+=2;var E=null,S=null,D=null;C&n&&(E=u(p,d,m),d+=m*2),C&t&&(S=u(p,d,m),d+=m*2),C&t&&(D=u(p,d,m),d+=m*2),w.push([_,x,C,S,E,D])}return w}function c(p,d,g){var m=p[d];if(d++,m==0)return[[],d];127<m&&(m=(m&127)<<8|p[d++]);for(var v=[],w=0;v.length<m;){var y=p[d];d++;var _=(y&o)!=0;y=(y&127)+1;for(var x=0;x<y;x++){var C=0;_?(C=l.readUshort(p,d),d+=2):(C=p[d],d++),w+=C,v.push(w)}}return[v,d]}function f(p,d,g,m){var v=d+4,w=l.readUshort(p,v);v+=2;var y=l.readUshort(p,v);v+=2;var _=l.readUint(p,v);v+=4;var x=l.readUshort(p,v);v+=2,l.readUshort(p,v),v+=2;var C=l.readUint(p,v);v+=4;for(var E=[],S=0;S<x+1;S++)E.push(l.readUint(p,v+S*4));var D=[],A=[],N=[];v=d+_;for(var S=0;S<y;S++){var F=u(p,v+S*w*2,w),T=[],I=[];D.push(F),A.push(T),N.push(I);for(var M=0;M<w;M++)T[M]=Math.min(F[M],0),I[M]=Math.max(F[M],0)}for(var L=new Int8Array(p.buffer),B=[],S=0;S<x;S++){v=d+C+E[S];var $=l.readUshort(p,v);v+=2;var q=$&a;$&=4095;var Z=l.readUshort(p,v);v+=2;var he=h(p,v,$,w),V=[];B.push(V),v=d+C+E[S]+Z;var J=null;if(q){var ge=c(p,v);J=ge[0],v=ge[1]}for(var W=0;W<$;W++){var z=he[W],de=v+z[0],K=J;if(z[2]&r){var ge=c(p,v);K=ge[0],v=ge[1]}for(var ue=[];v<de;){var G=p[v++],se=(G&63)+1;if(G&i)for(var M=0;M<se;M++)ue.push(0);else if(G&s){for(var M=0;M<se;M++)ue.push(l.readShort(p,v+M*2));v+=se*2}else{for(var M=0;M<se;M++)ue.push(L[v+M]);v+=se}}var ye=z[1];if(V.push([[z[3]?z[3]:A[ye],z[4]?z[4]:D[ye],z[5]?z[5]:N[ye]],ue,K.length==0?null:K]),K.length!=0&&K.length*2!=ue.length)throw"e"}}return B}return{parseTab:f}})();Ze.T.avar={parseTab:function(n,t,r,i){var s=t,o=Ze.B,a=[];s+=6;var l=o.readUshort(n,s);s+=2;for(var u=0;u<l;u++){var h=o.readUshort(n,s);s+=2;var c=[];a.push(c);for(var f=0;f<h;f++){var p=o.readF2dot14(n,s),d=o.readF2dot14(n,s+2);s+=4,c.push(p,d)}}return a}};Ze.T.HVAR={parseTab:function(n,t,r,i){var s=t,o=t,a=Ze.B;s+=4;var l=a.readUint(n,s);s+=4;var u=a.readUint(n,s);s+=4;var h=a.readUint(n,s);s+=4;var c=a.readUint(n,s);if(s+=4,h!=0||c!=0)throw h;s=o+l;var f=s,L=a.readUshort(n,s);if(s+=2,L!=1)throw"e";var p=a.readUint(n,s);s+=4;var d=a.readUshort(n,s);s+=2;for(var g=[],m=0;m<d;m++)g.push(a.readUint(n,s+m*4));s+=d*4,s=f+p;var v=a.readUshort(n,s);s+=2;var w=a.readUshort(n,s);s+=2;for(var y=[],m=0;m<w;m++){var _=[[],[],[]];y.push(_);for(var x=0;x<v;x++)_[0].push(a.readF2dot14(n,s+0)),_[1].push(a.readF2dot14(n,s+2)),_[2].push(a.readF2dot14(n,s+4)),s+=6}for(var C=new Int8Array(n.buffer),E=[],m=0;m<g.length;m++){s=o+l+g[m];var S=[];E.push(S);var D=a.readUshort(n,s);s+=2;var A=a.readUshort(n,s);if(s+=2,A&32768)throw"e";var w=a.readUshort(n,s);s+=2;for(var N=[],x=0;x<w;x++)N.push(a.readUshort(n,s+x*2));s+=w*2;for(var F=0;F<D;F++){for(var T=[],I=0;I<w;I++)T.push(I<A?a.readShort(n,s):C[s]),s+=I<A?2:1;var M=new Array(y.length);M.fill(0),S.push(M);for(var x=0;x<N.length;x++)M[N[x]]=T[x]}}s=o+u;var L=n[s++];if(L!=0)throw"e";var B=n[s++],$=a.readUshort(n,s);s+=2;for(var q=15,Z=48,he=((B&Z)>>4)+1,V=[],m=0;m<$;m++){var J=0;he==1?J=n[s++]:(J=a.readUshort(n,s),s+=2);var ge=J>>(B&q)+1,W=J&(1<<(B&q)+1)-1;V.push(E[ge][W])}return[y,V]}};Ze.U=(function(){var n={MoveTo:function(D,A,N){D.cmds.push("M"),D.crds.push(A,N)},LineTo:function(D,A,N){D.cmds.push("L"),D.crds.push(A,N)},CurveTo:function(D,A,N,F,T,I,M){D.cmds.push("C"),D.crds.push(A,N,F,T,I,M)},qCurveTo:function(D,A,N,F,T){D.cmds.push("Q"),D.crds.push(A,N,F,T)},ClosePath:function(D){D.cmds.push("Z")}};function t(D,A,N,F){var T=A[N],I=A[N+1],M=D.kern;if(M){var L=M.glyph1.indexOf(T);if(L!=-1){var B=M.rval[L].glyph2.indexOf(I);if(B!=-1)return[0,0,M.rval[L].vals[B],0]}}return[0,0,0,0]}function r(D,A,N){N==null&&(N={}),N.ltr,N.fts;var F=N.axs;D.fvar&&F==null&&(F=D.fvar[1][D._index][2]);var T=D.HVAR;F&&T&&(F=p(D,F));for(var I=[],M=0;M<A.length;M++){var L=A.codePointAt(M);L>65535&&M++,I.push(u(D,L))}for(var B=[],M=0;M<I.length;M++){var $=t(D,I,M),q=I[M],Z=D.hmtx.aWidth[q]+$[2];if(T&&T[1][q])for(var he=T[1][q],V=0;V<T[0].length;V++)Z+=f(T[0][V],F)*he[V];B.push({g:q,cl:M,dx:0,dy:0,ax:Z,ay:0})}return B}function i(D,A,N){var F={cmds:[],crds:[]},T=0,I=0,M,L;N&&(M=N.clr,L=N.axs);for(var B=0;B<A.length;B++){for(var $=A[B],q=h(D,$.g,!1,L),Z=q.crds,he=0;he<Z.length;he+=2)F.crds.push(Z[he]+T+$.dx),F.crds.push(Z[he+1]+I+$.dy);M&&F.cmds.push(M);for(var he=0;he<q.cmds.length;he++)F.cmds.push(q.cmds[he]);var V=F.cmds.length;M&&V!=0&&F.cmds[V-1]!="X"&&F.cmds.push("X"),T+=$.ax,I+=$.ay}return{cmds:F.cmds,crds:F.crds}}function s(D,A,N){for(var F=0,T=~~(D.length/A);F+1!=T;){var I=F+(T-F>>>1);D[I*A]<=N?F=I:T=I}return F*A}for(var o=[9,10,11,12,13,32,133,160,5760,6158,8232,8233,8239,8288,12288,65279],a={},l=0;l<o.length;l++)a[o[l]]=1;for(var l=8192;l<=8205;l++)a[l]=1;function u(D,A){if(D._ctab==null){for(var N=D.cmap,F=-1,T=["p3e10","p0e4","p3e1","p1e0","p0e3","p0e1","p3e0","p3e5"],I=0;I<T.length;I++)if(N.ids[T[I]]!=null){F=N.ids[T[I]];break}if(F==-1)throw"no familiar platform and encoding!";D._ctab=N.tables[F]}var M=D._ctab,L=M.format,B=-1;if(L==0)A>=M.map.length?B=0:B=M.map[A];else if(L==4){var $=M.endCount;if(B=0,A<=$[$.length-1]){var q=s($,1,A);if($[q]<A&&q++,A>=M.startCount[q]){var Z=0;M.idRangeOffset[q]!=0?Z=M.glyphIdArray[A-M.startCount[q]+(M.idRangeOffset[q]>>1)-(M.idRangeOffset.length-q)]:Z=A+M.idDelta[q],B=Z&65535}}}else if(L==6){var he=A-M.firstCode,V=M.glyphIdArray;he<0||he>=V.length?B=0:B=V[he]}else if(L==12){var J=M.groups;if(B=0,A<=J[J.length-2]){var I=s(J,3,A);J[I]<=A&&A<=J[I+1]&&(B=J[I+2]+(A-J[I]))}}else throw"unknown cmap table format "+M.format;var ge=D["SVG "],W=D.loca;return B!=0&&D["CFF "]==null&&(ge==null||ge.entries[B]==null)&&W&&W[B]==W[B+1]&&a[A]==null&&(B=0),B}function h(D,A,N,F){var T={cmds:[],crds:[]};D.fvar&&(F==null&&(F=D.fvar[1][D._index][2]),F=p(D,F));var I=D["SVG "],M=D["CFF "],L=D.COLR,B=D.CBLC,$=D.CBDT,q=D.sbix,Z=window.UPNG,he=null;if(B&&Z)for(var V=0;V<B.length;V++)B[V][0]<=A&&A<=B[V][1]&&(he=B[V]);if(he||q&&q[A]){if(he&&he[2]!=17)throw"not a PNG";D.__tmp==null&&(D.__tmp={});var J=D.__tmp["g"+A];if(J==null){var ge,W;if(q)ge=q[A],W=ge.length;else{var z=he[3][A-he[0]]+5;W=$[z+1]<<16|$[z+2]<<8|$[z+3],z+=4,ge=new Uint8Array($.buffer,$.byteOffset+z,W)}for(var de="",V=0;V<W;V++)de+=String.fromCharCode(ge[V]);J=D.__tmp["g"+A]="data:image/png;base64,"+btoa(de)}T.cmds.push(J);var K=D.head.unitsPerEm*1.15,ue=Math.round(K),G=Math.round(K),se=Math.round(-G*.15);T.crds.push(0,G+se,ue,G+se,ue,se,0,se)}else if(I&&I.entries[A]){var ye=I.entries[A];if(ye!=null){if(typeof ye=="number"){var Ee=I.svgs[ye];if(typeof Ee=="string"){var H=new DOMParser,Q=H.parseFromString(Ee,"image/svg+xml");Ee=I.svgs[ye]=Q.getElementsByTagName("svg")[0]}ye=Ze.U.SVG.toPath(Ee,A),I.entries[A]=ye}T=ye}}else if(N!=!0&&L&&L[0]["g"+A]&&L[0]["g"+A][1]>1){let Je=function(We){var ft=We.toString(16);return(ft.length==1?"0":"")+ft};for(var Fe=Je,re=D.CPAL,Ce=L[0]["g"+A],V=0;V<Ce[1];V++){var _e=Ce[0]+V,Se=L[1][2*_e],Te=L[1][2*_e+1]*4,De=h(D,Se,Se==A),be="#"+Je(re[Te+2])+Je(re[Te+1])+Je(re[Te+0]);T.cmds.push(be),T.cmds=T.cmds.concat(De.cmds),T.crds=T.crds.concat(De.crds),T.cmds.push("X")}}else if(M){var xe=M.Private,R={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:xe?xe.defaultWidthX:0,open:!1};if(M.ROS){for(var Oe=0;M.FDSelect[Oe+2]<=A;)Oe+=2;xe=M.FDArray[M.FDSelect[Oe+1]].Private}E(M.CharStrings[A],R,M,xe,T)}else D.glyf&&c(A,D,T,F);return{cmds:T.cmds,crds:T.crds}}function c(D,A,N,F){var T=A.glyf[D];T==null&&(T=A.glyf[D]=Ze.T.glyf._parseGlyf(A,D)),T!=null&&(T.noc>-1?g(T,A,D,N,F):m(T,A,D,N,F))}function f(D,A){A.length;for(var N=1,F=D[0],T=D[1],I=D[2],M=0;M<A.length;M++){var L=1;F[M]>T[M]||T[M]>I[M]||F[M]<0&&I[M]>0&&T[M]!=0||T[M]==0?L=1:A[M]<F[M]||A[M]>I[M]?L=0:A[M]==T[M]?L=1:A[M]<T[M]?L=(A[M]-F[M])/(T[M]-F[M]):L=(I[M]-A[M])/(I[M]-T[M]),N=N*L}return N}function p(D,A){for(var N=D.fvar,F=D.avar,T=N?N[0]:null,I=[],M=0;M<T.length;M++){var L=T[M][1],B=T[M][2],$=T[M][3],q=Math.max(L,Math.min($,A[M]));if(q<B?I[M]=(B-q)/(L-B):q>B?I[M]=(q-B)/($-B):I[M]=0,F&&I[M]!=-1){for(var Z=F[M],he=0;he<Z.length&&!(Z[he]>=I[M]);he+=2);var V=(I[M]-Z[he-2])/(Z[he]-Z[he-2]);I[M]=V*Z[he+1]+(1-V)*Z[he-1]}}return I}function d(D,A,N,F,T){var I=N.length,M=new Array(I*2+8);M.fill(0);for(var L=0;L<I;L++){var B=0,$=0,q=A.indexOf(L);if(q!=-1)B=D[q],$=D[A.length+q];else{for(var Z=0;T[Z]<L;)Z++;for(var he=Z==0?0:T[Z-1]+1,V=T[Z],J=-1,ge=-1,W=0;W<A.length;W++){var z=A[W];z<he||z>V||z>=I||(J=W,ge==-1&&(ge=W))}for(var W=0;W<A.length;W++){var z=A[W];if(!(z<he||z>V||z>=I)&&(z<L&&(J=W),L<z)){ge=W;break}}for(var de=0;de<2;de++){var K=de==0?N:F,ue=de*A.length,G=0,se=K[A[J]],ye=K[A[ge]],Ee=K[L],H=D[ue+J],Q=D[ue+ge];if(se==ye)H==Q?G=H:G=0;else if(Ee<=Math.min(se,ye))se<ye?G=H:G=Q;else if(Math.max(se,ye)<=Ee)se<ye?G=Q:G=H;else{var re=(Ee-se)/(ye-se);G=re*Q+(1-re)*H}de==0?B=G:$=G}}M[L]=B,M[I+4+L]=$}return M}function g(D,A,N,F,T){var I=D.xs,M=D.ys;if(A.fvar&&T){I=I.slice(0),M=M.slice(0);for(var L=A.gvar,B=L?L[N]:null,$=0;$<B.length;$++){var q=B[$][0],Z=f(q,T);if(!(Z<1e-9)){var he=B[$][1],V=B[$][2];if(V&&(he=B[$][1]=d(he,V,I,M,D.endPts),B[$][2]=null),he.length==I.length*2+8)for(var J=0;J<I.length;J++)I[J]+=Z*he[J],M[J]+=Z*he[J+I.length+4]}}}for(var ge=0;ge<D.noc;ge++){for(var W=ge==0?0:D.endPts[ge-1]+1,z=D.endPts[ge],J=W;J<=z;J++){var de=J==W?z:J-1,K=J==z?W:J+1,ue=D.flags[J]&1,G=D.flags[de]&1,se=D.flags[K]&1,ye=I[J],Ee=M[J];if(J==W)if(ue)if(G)n.MoveTo(F,I[de],M[de]);else{n.MoveTo(F,ye,Ee);continue}else G?n.MoveTo(F,I[de],M[de]):n.MoveTo(F,Math.floor((I[de]+ye)*.5),Math.floor((M[de]+Ee)*.5));ue?G&&n.LineTo(F,ye,Ee):se?n.qCurveTo(F,ye,Ee,I[K],M[K]):n.qCurveTo(F,ye,Ee,Math.floor((ye+I[K])*.5),Math.floor((Ee+M[K])*.5))}n.ClosePath(F)}}function m(D,A,N,F,T){var I=[0,0,0,0,0,0],M=[0,0,0,0,0,0],L=D.parts.length;if(A.fvar&&T)for(var B=A.gvar,$=B?B[N]:null,q=0;q<$.length;q++){var Z=$[q][0],he=f(Z,T);if(!(he<1e-6)){var V=$[q][1],J=$[q][2];if(J==null)for(var ge=0;ge<L;ge++)I[ge]+=he*V[ge],M[ge]+=he*V[ge+L+4];else for(var W=0;W<J.length;W++){var ge=J[W];I[ge]+=he*V[0],M[ge]+=he*V[0+L]}}}for(var W=0;W<L;W++){var z={cmds:[],crds:[]},de=D.parts[W];c(de.glyphIndex,A,z,T);for(var K=de.m,ue=K.tx+I[W],G=K.ty+M[W],ge=0;ge<z.crds.length;ge+=2){var se=z.crds[ge],ye=z.crds[ge+1];F.crds.push(se*K.a+ye*K.c+ue),F.crds.push(se*K.b+ye*K.d+G)}for(var ge=0;ge<z.cmds.length;ge++)F.cmds.push(z.cmds[ge])}}function v(D,A){var N=D.cmds,F=D.crds;A==null&&(A=5);function T(H){return parseFloat(H.toFixed(A))}function I(H){for(var Q=[],re=!1,Ce="",_e=0;_e<H.length;_e++){var Se=H[_e],Te=typeof Se=="number";if(!Te){if(Se==Ce&&Se.length==1&&Se!="m")continue;Ce=Se}re&&Te&&Se>=0&&Q.push(" "),Q.push(Se),re=Te}return Q.join("")}for(var M=[],L=0,B={M:2,L:2,Q:4,C:6},$=0,q=0,Z=0,he=0,V=0,J=0,ge=0;ge<N.length;ge++){var W=N[ge],z=B[W]?B[W]:0,de=[],K,ue,G,se;if(W=="L")K=F[L]-$,ue=F[L+1]-q,G=T(K+Z),se=T(ue+he),N[ge+1]=="Z"&&F[L]==V&&F[L+1]==J?(G=K,se=ue):G==0&&se==0||(G==0?de.push("v",se):se==0?de.push("h",G):de.push("l",G,se));else{de.push(W.toLowerCase());for(var ye=0;ye<z;ye+=2)K=F[L+ye]-$,ue=F[L+ye+1]-q,G=T(K+Z),se=T(ue+he),de.push(G,se)}z!=0&&(Z+=K-G,he+=ue-se);for(var Ee=de,ye=0;ye<Ee.length;ye++)M.push(Ee[ye]);z!=0&&(L+=z,$=F[L-2],q=F[L-1]),W=="M"&&(V=$,J=q),W=="Z"&&($=V,q=J)}return I(M)}function w(D){var A={cmds:[],crds:[]};return Ze.U.SVG.svgToPath(D,A),{cmds:A.cmds,crds:A.crds}}function y(D,A,N,F){for(var T=A>>1,I=N>>1,M=new Uint8Array(T*I*4),L=new Uint32Array(D.buffer),B=new Uint32Array(M.buffer),$=0;$<I;$++)for(var q=0;q<T;q++){var Z=$*T+q,he=($<<1)*A+(q<<1),V=L[he],J=L[he+1],ge=L[he+A],W=L[he+A+1],z=V>>>24,de=J>>>24,K=ge>>>24,ue=W>>>24,G=z+de+K+ue;if(G==1020){var se=(V>>>0&255)+(J>>>0&255)+(ge>>>0&255)+(W>>>0&255)+2>>>2,ye=(V>>>8&255)+(J>>>8&255)+(ge>>>8&255)+(W>>>8&255)+2>>>2,Ee=(V>>>16&255)+(J>>>16&255)+(ge>>>16&255)+(W>>>16&255)+2>>>2;B[Z]=255<<24|Ee<<16|ye<<8|se}else if(G==0)B[Z]=0;else{var se=(V>>>0&255)*z+(J>>>0&255)*de+(ge>>>0&255)*K+(W>>>0&255)*ue,ye=(V>>>8&255)*z+(J>>>8&255)*de+(ge>>>8&255)*K+(W>>>8&255)*ue,Ee=(V>>>16&255)*z+(J>>>16&255)*de+(ge>>>16&255)*K+(W>>>16&255)*ue,H=1/G;se=~~(se*H+.5),ye=~~(ye*H+.5),Ee=~~(Ee*H+.5),B[Z]=G+2>>>2<<24|Ee<<16|ye<<8|se}}return{buff:M,w:T,h:I}}var _,x;function C(D,A){for(var N=0,F=D.cmds,T=D.crds,I=0;I<F.length;I++){var M=F[I];if(M=="M")A.moveTo(T[N],T[N+1]),N+=2;else if(M=="L")A.lineTo(T[N],T[N+1]),N+=2;else if(M=="C")A.bezierCurveTo(T[N],T[N+1],T[N+2],T[N+3],T[N+4],T[N+5]),N+=6;else if(M=="Q")A.quadraticCurveTo(T[N],T[N+1],T[N+2],T[N+3]),N+=4;else if(M[0]=="d"){var L=window.UPNG,B=T[N],$=T[N+1],q=T[N+2],Z=T[N+3],he=T[N+4],V=T[N+5],J=T[N+6],ge=T[N+7];if(N+=8,L==null){A.moveTo(B,$),A.lineTo(q,Z),A.lineTo(he,V),A.lineTo(J,ge),A.closePath();continue}for(var W=q-B,z=Z-$,de=J-B,K=ge-$,ue=atob(M.slice(22)),G=new Uint8Array(ue.length),se=0;se<ue.length;se++)G[se]=ue.charCodeAt(se);for(var ye=L.decode(G.buffer),Ee=ye.width,H=ye.height,Q=new Uint8Array(L.toRGBA8(ye)[0]),re=A.getTransform(),Ce=Math.sqrt(Math.abs(re.a*re.d-re.b*re.c))*Math.sqrt(de*de+K*K)/H;Ce<.5;){var _e=y(Q,Ee,H);Q=_e.buff,Ee=_e.w,H=_e.h,Ce*=2}_==null&&(_=document.createElement("canvas"),x=_.getContext("2d")),(_.width!=Ee||_.height!=H)&&(_.width=Ee,_.height=H),x.putImageData(new ImageData(new Uint8ClampedArray(Q.buffer),Ee,H),0,0),A.save(),A.transform(W,z,de,K,B,$),A.scale(1/Ee,1/H),A.drawImage(_,0,0),A.restore()}else if(M.charAt(0)=="#"||M.charAt(0)=="r")A.beginPath(),A.fillStyle=M;else if(M.charAt(0)=="O"&&M!="OX"){A.beginPath();var Se=M.split("-");A.lineWidth=parseFloat(Se[2]),A.lineCap=["butt","round","square"][parseFloat(Se[3])],A.lineJoin=["miter","round","bevel"][parseFloat(Se[4])],A.miterLimit=parseFloat(Se[5]),A.lineDashOffset=parseFloat(Se[6]),A.setLineDash(Se[7].split(",").map(parseFloat)),A.strokeStyle=Se[1]}else M=="Z"?A.closePath():M=="X"?A.fill():M=="OX"&&A.stroke()}}function E(D,A,N,F,T){for(var I=A.stack,M=A.nStems,L=A.haveWidth,B=A.width,$=A.open,q=0,Z=A.x,he=A.y,V=0,J=0,ge=0,W=0,z=0,de=0,K=0,ue=0,G=0,se=0,ye=Ze.T.CFF,Ee=F.nominalWidthX,H={val:0,size:0};q<D.length;){ye.getCharString(D,q,H);var Q=H.val;if(q+=H.size,Q=="o1"||Q=="o18"){var re;re=I.length%2!==0,re&&!L&&(B=I.shift()+Ee),M+=I.length>>1,I.length=0,L=!0}else if(Q=="o3"||Q=="o23"){var re;re=I.length%2!==0,re&&!L&&(B=I.shift()+Ee),M+=I.length>>1,I.length=0,L=!0}else if(Q=="o4")I.length>1&&!L&&(B=I.shift()+Ee,L=!0),$&&n.ClosePath(T),he+=I.pop(),n.MoveTo(T,Z,he),$=!0;else if(Q=="o5")for(;I.length>0;)Z+=I.shift(),he+=I.shift(),n.LineTo(T,Z,he);else if(Q=="o6"||Q=="o7")for(var Ce=I.length,_e=Q=="o6",Se=0;Se<Ce;Se++){var Te=I.shift();_e?Z+=Te:he+=Te,_e=!_e,n.LineTo(T,Z,he)}else if(Q=="o8"||Q=="o24"){for(var Ce=I.length,De=0;De+6<=Ce;)V=Z+I.shift(),J=he+I.shift(),ge=V+I.shift(),W=J+I.shift(),Z=ge+I.shift(),he=W+I.shift(),n.CurveTo(T,V,J,ge,W,Z,he),De+=6;Q=="o24"&&(Z+=I.shift(),he+=I.shift(),n.LineTo(T,Z,he))}else{if(Q=="o11")break;if(Q=="o1234"||Q=="o1235"||Q=="o1236"||Q=="o1237")Q=="o1234"&&(V=Z+I.shift(),J=he,ge=V+I.shift(),W=J+I.shift(),G=ge+I.shift(),se=W,z=G+I.shift(),de=W,K=z+I.shift(),ue=he,Z=K+I.shift(),n.CurveTo(T,V,J,ge,W,G,se),n.CurveTo(T,z,de,K,ue,Z,he)),Q=="o1235"&&(V=Z+I.shift(),J=he+I.shift(),ge=V+I.shift(),W=J+I.shift(),G=ge+I.shift(),se=W+I.shift(),z=G+I.shift(),de=se+I.shift(),K=z+I.shift(),ue=de+I.shift(),Z=K+I.shift(),he=ue+I.shift(),I.shift(),n.CurveTo(T,V,J,ge,W,G,se),n.CurveTo(T,z,de,K,ue,Z,he)),Q=="o1236"&&(V=Z+I.shift(),J=he+I.shift(),ge=V+I.shift(),W=J+I.shift(),G=ge+I.shift(),se=W,z=G+I.shift(),de=W,K=z+I.shift(),ue=de+I.shift(),Z=K+I.shift(),n.CurveTo(T,V,J,ge,W,G,se),n.CurveTo(T,z,de,K,ue,Z,he)),Q=="o1237"&&(V=Z+I.shift(),J=he+I.shift(),ge=V+I.shift(),W=J+I.shift(),G=ge+I.shift(),se=W+I.shift(),z=G+I.shift(),de=se+I.shift(),K=z+I.shift(),ue=de+I.shift(),Math.abs(K-Z)>Math.abs(ue-he)?Z=K+I.shift():he=ue+I.shift(),n.CurveTo(T,V,J,ge,W,G,se),n.CurveTo(T,z,de,K,ue,Z,he));else if(Q=="o14"){if(I.length>0&&I.length!=4&&!L&&(B=I.shift()+N.nominalWidthX,L=!0),I.length==4){var be=I.shift(),xe=I.shift(),R=I.shift(),Oe=I.shift(),Fe=ye.glyphBySE(N,R),Je=ye.glyphBySE(N,Oe);E(N.CharStrings[Fe],A,N,F,T),A.x=be,A.y=xe,E(N.CharStrings[Je],A,N,F,T)}$&&(n.ClosePath(T),$=!1)}else if(Q=="o19"||Q=="o20"){var re;re=I.length%2!==0,re&&!L&&(B=I.shift()+Ee),M+=I.length>>1,I.length=0,L=!0,q+=M+7>>3}else if(Q=="o21")I.length>2&&!L&&(B=I.shift()+Ee,L=!0),he+=I.pop(),Z+=I.pop(),$&&n.ClosePath(T),n.MoveTo(T,Z,he),$=!0;else if(Q=="o22")I.length>1&&!L&&(B=I.shift()+Ee,L=!0),Z+=I.pop(),$&&n.ClosePath(T),n.MoveTo(T,Z,he),$=!0;else if(Q=="o25"){for(;I.length>6;)Z+=I.shift(),he+=I.shift(),n.LineTo(T,Z,he);V=Z+I.shift(),J=he+I.shift(),ge=V+I.shift(),W=J+I.shift(),Z=ge+I.shift(),he=W+I.shift(),n.CurveTo(T,V,J,ge,W,Z,he)}else if(Q=="o26")for(I.length%2&&(Z+=I.shift());I.length>0;)V=Z,J=he+I.shift(),ge=V+I.shift(),W=J+I.shift(),Z=ge,he=W+I.shift(),n.CurveTo(T,V,J,ge,W,Z,he);else if(Q=="o27")for(I.length%2&&(he+=I.shift());I.length>0;)V=Z+I.shift(),J=he,ge=V+I.shift(),W=J+I.shift(),Z=ge+I.shift(),he=W,n.CurveTo(T,V,J,ge,W,Z,he);else if(Q=="o10"||Q=="o29"){var We=Q=="o10"?F:N;if(I.length==0)console.log("error: empty stack");else{var ft=I.pop(),Ae=We.Subrs[ft+We.Bias];A.x=Z,A.y=he,A.nStems=M,A.haveWidth=L,A.width=B,A.open=$,E(Ae,A,N,F,T),Z=A.x,he=A.y,M=A.nStems,L=A.haveWidth,B=A.width,$=A.open}}else if(Q=="o30"||Q=="o31"){var Ce,Pe=I.length,De=0,Be=Q=="o31";for(Ce=Pe&-3,De+=Pe-Ce;De<Ce;)Be?(V=Z+I.shift(),J=he,ge=V+I.shift(),W=J+I.shift(),he=W+I.shift(),Ce-De==5?(Z=ge+I.shift(),De++):Z=ge,Be=!1):(V=Z,J=he+I.shift(),ge=V+I.shift(),W=J+I.shift(),Z=ge+I.shift(),Ce-De==5?(he=W+I.shift(),De++):he=W,Be=!0),n.CurveTo(T,V,J,ge,W,Z,he),De+=4}else{if((Q+"").charAt(0)=="o")throw console.log("Unknown operation: "+Q,D),Q;I.push(Q)}}}A.x=Z,A.y=he,A.nStems=M,A.haveWidth=L,A.width=B,A.open=$}function S(D,A){var N=function(F){var T=0;return(F&4294967168)==0?T=1:(F&4294965248)==0?T=2:(F&4294901760)==0?T=3:(F&4292870144)==0&&(T=4),T};fetch(D).then(function(F){return F.arrayBuffer()}).then(function(F){return WebAssembly.instantiate(F)}).then(function(F){console.log("HB ready");var T=F.instance.exports,I=T.memory,M,L,B,$,q,Z,he,V,J;Ze.U.shapeHB=(function(){var ge=function(z){for(var de=T.hb_buffer_get_length(z),K=[],ue=T.hb_buffer_get_glyph_infos(z,0)>>>2,G=T.hb_buffer_get_glyph_positions(z,0)>>>2,se=0;se<de;++se){var ye=ue+se*5,Ee=G+se*5;K.push({g:L[ye+0],cl:L[ye+2],ax:B[Ee+0],ay:B[Ee+1],dx:B[Ee+2],dy:B[Ee+3]})}return K},W;return function(z,de,K){var ue=z._data,G=z.name.postScriptName,se=K.ltr,ye=K.fts,Ee=K.axs;if(z.fvar&&Ee==null&&(Ee=z.fvar[1][z._index][2]),M=new Uint8Array(I.buffer),L=new Uint32Array(I.buffer),B=new Int32Array(I.buffer),$=new Float32Array(I.buffer),q!=G&&(Z!=null&&(T.hb_blob_destroy(Z),T.free(he),T.hb_face_destroy(V),T.hb_font_destroy(J)),he=T.malloc(ue.byteLength),M.set(ue,he),Z=T.hb_blob_create(he,ue.byteLength,2,0,0),V=T.hb_face_create(Z,z._index),J=T.hb_font_create(V),q=G),window.TextEncoder==null){alert("Your browser is too old. Please, update it.");return}W==null&&(W=new window.TextEncoder("utf8"));var H=T.hb_buffer_create(),Q=W.encode(de),re=Q.length,Ce=T.malloc(re);M.set(Q,Ce),T.hb_buffer_add_utf8(H,Ce,re,0,re),T.free(Ce);var _e=Ze.B,Se=0;if(ye){Se=T.malloc(16*ye.length);for(var Te=0;Te<ye.length;Te++){var De=ye[Te],be=Se+Te*16,xe=be>>>2;_e.writeASCII(M,be,De[0].split("").reverse().join("")),L[xe+1]=De[1],L[xe+2]=De[2],L[xe+3]=De[3]}}var R=0;if(Ee&&z.fvar){var Oe=z.fvar[0];R=T.malloc(8*Ee.length);for(var Te=0;Te<Ee.length;Te++){var be=R+Te*8,xe=be>>>2;_e.writeASCII(M,be,Oe[Te][0].split("").reverse().join("")),$[xe+1]=Ee[Te]}}Ee&&T.hb_font_set_variations(J,R,Ee.length),T.hb_buffer_set_direction(H,se?4:5),T.hb_buffer_guess_segment_properties(H),T.hb_shape(J,H,Se,ye?ye.length:0);var Fe=ge(H);T.hb_buffer_destroy(H),ye&&T.free(Se),Ee&&T.free(R);var Je=Fe.slice(0);se||Je.reverse();for(var We=0,ft=0,Te=1;Te<Je.length;Te++){for(var Ae=Je[Te],Pe=Ae.cl;;){var Be=de.codePointAt(We),je=N(Be);if(ft+je<=Pe)ft+=je,We+=Be<=65535?1:2;else break}Ae.cl=We}return Fe}})(),A()})}return{shape:r,shapeToPath:i,codeToGlyph:u,glyphToPath:h,pathToSVG:v,SVGToPath:w,pathToContext:C,initHB:S}})();var ov={exports:{}},ZS;function AX(){return ZS||(ZS=1,(function(n,t){(function(r,i){n.exports=i()})(self,(()=>(()=>{var r={177:(s,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BezierPath=void 0;const l=a(558),u=a(188);o.BezierPath=class{constructor(h){this.samples=[],this.segments=h;const c=h.map((v=>v.getTotalLength())),f=[0];for(let v=1;v<c.length;v++)f.push(f[v-1]+c[v-1]);this._totalLength=f[f.length-1]+c[c.length-1];const p=h.map((v=>Math.max(4,Math.ceil(v.getTotalLength()/l.BezierSegment.sampleSpacing())))),d=p.reduce(((v,w)=>v+w)),g=1/d/10,m=this._totalLength/d;this.samples.push({dist:0,pt:this.segments[0].A,tan:this.segments[0].tangentAtParameter(0),segIdx:0,t:0}),h.forEach(((v,w)=>{const y=p[w],_=(0,u.times)(y+1).map((S=>S/y)),x=_.map((S=>v.pointAtParameter(S)));let C;for(let S=0;S<4;S++){C=(0,u.times)(y).map((N=>Math.hypot(x[N+1].x-x[N].x,x[N+1].y-x[N].y)));const D=C.map((N=>N-m));let A=0;for(let N=1;N<_.length-1;N++)A+=D[N-1],_[N]-=g*A,x[N]=v.pointAtParameter(_[N])}let E=0;x.slice(1).forEach(((S,D)=>{E+=C[D],this.samples.push({dist:f[w]+E,pt:S,tan:this.segments[w].tangentAtParameter(_[D+1]),segIdx:w,t:_[D+1]})}))})),this._jumps=[],this.segmentStartEnds=[{start:0,end:0}];for(let v=1;v<this.samples.length;v++){const w=this.samples[v-1],y=this.samples[v];if(y.segIdx===w.segIdx?this.segmentStartEnds[this.segmentStartEnds.length-1].end=y.dist:this.segmentStartEnds[y.segIdx]={start:y.dist,end:y.dist},w.segIdx!==y.segIdx&&(this.segments[w.segIdx].D.x!==this.segments[y.segIdx].A.x||this.segments[w.segIdx].D.y!==this.segments[y.segIdx].A.y)){const _=(w.dist+y.dist)/2,x={dist:_-1e-8,pt:this.segments[w.segIdx].D,tan:this.segments[w.segIdx].tangentAtParameter(1),segIdx:w.segIdx,t:1},C={dist:_+1e-8,pt:this.segments[y.segIdx].A,tan:this.segments[y.segIdx].tangentAtParameter(0),segIdx:y.segIdx,t:0};this._jumps.push(_),this.samples.splice(v,0,x,C),v+=2}}}jumps(){return[...this._jumps]}getTotalLength(){return this._totalLength}findClosestSampleIdx(h){let c=0,f=this.samples.length-1;for(;c<f;){const p=Math.floor((c+f)/2);if(this.samples[p].dist>h)f=p-1;else{if(!(this.samples[p].dist<h))return p;c=p+1}}return Math.max(0,Math.min(this.samples.length-1,Math.floor((c+f)/2)))}getPointAtLength(h,c=!1){if(h<=0)return this.samples[0].pt;if(h>=this._totalLength)return this.samples[this.samples.length-1].pt;const f=this.findClosestSampleIdx(h),p=this.samples[f].dist<h?Math.min(f+1,this.samples.length-1):Math.max(0,f-1),d=Math.abs(this.samples[p].dist-this.samples[f].dist)<1e-6?0:(h-this.samples[f].dist)/(this.samples[p].dist-this.samples[f].dist);if(c||this.samples[f].segIdx>this.samples[p].segIdx)return{x:(1-d)*this.samples[f].pt.x+d*this.samples[p].pt.x,y:(1-d)*this.samples[f].pt.y+d*this.samples[p].pt.y};if(this.samples[f].segIdx!==this.samples[p].segIdx){if(d<.5){const g=this.segments[this.samples[f].segIdx],m=2*d,v=(1-m)*this.samples[f].t+m;return g.pointAtParameter(v)}{const g=this.segments[this.samples[p].segIdx],m=2*(d-.5)*this.samples[p].t;return g.pointAtParameter(m)}}{const g=this.segments[this.samples[f].segIdx],m=(1-d)*this.samples[f].t+d*this.samples[p].t;return g.pointAtParameter(m)}}getAngleAtLength(h,c=!1){const f=this.getTangentAtLength(h,c);return Math.atan2(f.y,f.x)}getTangentAtLength(h,c=!1){if(h<=0)return this.samples[0].tan;if(h>=this._totalLength)return this.samples[this.samples.length-1].tan;const f=this.findClosestSampleIdx(h),p=this.samples[f].dist<h?Math.min(f+1,this.samples.length-1):Math.max(0,f-1),d=(h-this.samples[f].dist)/(this.samples[p].dist-this.samples[f].dist);if(c||this.samples[f].segIdx>this.samples[p].segIdx){let g=(1-d)*this.samples[f].tan.x+d*this.samples[p].tan.x,m=(1-d)*this.samples[f].tan.y+d*this.samples[p].tan.y;const v=Math.max(Math.hypot(g,m),1e-4);return g/=v,m/=v,{x:g,y:m}}if(this.samples[f].segIdx!==this.samples[p].segIdx){if(d<.5){const g=this.segments[this.samples[f].segIdx],m=2*d,v=(1-m)*this.samples[f].t+m;return g.tangentAtParameter(v)}{const g=this.segments[this.samples[p].segIdx],m=2*(d-.5)*this.samples[p].t;return g.tangentAtParameter(m)}}{const g=this.segments[this.samples[f].segIdx],m=(1-d)*this.samples[f].t+d*this.samples[p].t;return g.tangentAtParameter(m)}}}},558:(s,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BezierSegment=void 0;const l=a(188);class u{constructor(c,f,p,d){this._totalLength=void 0,this.A=c,this.B=f,this.C=p,this.D=d}static sampleSpacing(){return 2}tangentAtParameter(c){const f=Math.max(0,Math.min(1,c));if(f===0||f===1){let v,w;f===0?this.A.x===this.B.x&&this.A.y===this.B.y?(v=this.C.x-this.A.x,w=this.C.y-this.A.y):(v=this.B.x-this.A.x,w=this.B.y-this.A.y):this.D.x===this.C.x&&this.D.y===this.C.y?(v=this.D.x-this.B.x,w=this.D.y-this.B.y):(v=this.D.x-this.C.x,w=this.D.y-this.C.y);const y=Math.hypot(v,w);return Math.abs(y)>1e-4&&(v/=y,w/=y),{x:v,y:w}}const p=1-f;let d=3*this.D.x*Math.pow(f,2)-3*this.C.x*Math.pow(f,2)+6*this.C.x*p*f-6*this.B.x*p*f+3*this.B.x*Math.pow(p,2)-3*this.A.x*Math.pow(p,2),g=3*this.D.y*Math.pow(f,2)-3*this.C.y*Math.pow(f,2)+6*this.C.y*p*f-6*this.B.y*p*f+3*this.B.y*Math.pow(p,2)-3*this.A.y*Math.pow(p,2);const m=Math.hypot(d,g);return Math.abs(m)>1e-4&&(d/=m,g/=m),{x:d,y:g}}isLinear(){return this.A.x===this.B.x&&this.A.y===this.B.y&&this.C.x===this.D.x&&this.C.y===this.D.y}pointAtParameter(c){const f=Math.max(0,Math.min(1,c));return{x:Math.pow(1-f,3)*this.A.x+3*Math.pow(1-f,2)*f*this.B.x+3*(1-f)*Math.pow(f,2)*this.C.x+Math.pow(f,3)*this.D.x,y:Math.pow(1-f,3)*this.A.y+3*Math.pow(1-f,2)*f*this.B.y+3*(1-f)*Math.pow(f,2)*this.C.y+Math.pow(f,3)*this.D.y}}getTotalLength(){if(this._totalLength===void 0)if(this.isLinear())this._totalLength=Math.hypot(this.D.x-this.A.x,this.D.y-this.A.y);else{const c=Math.max(10,Math.ceil((Math.hypot(this.B.x-this.A.x,this.B.y-this.A.y)+Math.hypot(this.C.x-this.B.x,this.C.y-this.B.y)+Math.hypot(this.D.x-this.C.x,this.D.y-this.C.y))/u.sampleSpacing())),f=(0,l.times)(c).map((d=>this.pointAtParameter(d/(c-1))));let p=0;for(let d=1;d<f.length;d++)p+=Math.hypot(f[d].x-f[d-1].x,f[d].y-f[d-1].y);this._totalLength=p}return this._totalLength}}o.BezierSegment=u},729:(s,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createFromCommands=o.create=o.createFromElement=o.createFromCircle=o.createFromLine=o.createFromPath=void 0;const l=a(821),u=a(558),h={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};o.createFromPath=c=>{const f=(function(g){const m=g.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").replace(/(\d)([A-Za-z])/g,"$1 $2").replace(/([A-Za-z])(\d)/g,"$1 $2").trim().split(/\s*,|\s+/),v=[];let w="",y={};for(;m.length>0;){let _=m.shift();h.hasOwnProperty(_)?w=_:m.unshift(_),y={type:w},h[w].forEach((x=>{_=m.shift(),y[x]=parseFloat(_)})),w==="M"?w="L":w==="m"&&(w="l"),v.push(y)}return v})(c.getAttribute("d"));if(f.length<2)throw new Error(`Path doesn't have enough commands: ${JSON.stringify(f)}`);if(f[0].type!=="M")throw new Error(`Path starts with ${f[0].type} instead of M!`);let p={x:f[0].x,y:f[0].y};f.shift();const d=[];for(;f.length>0;){const g=f.shift();if(g.type==="C")d.push(new u.BezierSegment(p,{x:g.x1,y:g.y1},{x:g.x2,y:g.y2},{x:g.x,y:g.y})),p={x:g.x,y:g.y};else if(g.type==="L")d.push(new u.BezierSegment(p,p,{x:g.x,y:g.y},{x:g.x,y:g.y})),p={x:g.x,y:g.y};else if(g.type==="H")d.push(new u.BezierSegment(p,p,{x:g.x,y:p.y},{x:g.x,y:p.y})),p={x:g.x,y:p.y};else if(g.type==="V")d.push(new u.BezierSegment(p,p,{x:p.x,y:g.y},{x:p.x,y:g.y})),p={x:p.x,y:g.y};else if(g.type!=="Z")throw new Error(`Unsupported path command ${g.type}; use only H, V, M, L, C, Z!`)}return new l.BezierPath(d)},o.createFromLine=c=>{const[f,p,d,g]=["x1","x2","y1","y2"].map((m=>parseFloat(c.getAttribute(m)||"0")));return new l.BezierPath([new u.BezierSegment({x:f,y:d},{x:f,y:d},{x:p,y:g},{x:p,y:g})])},o.createFromCircle=c=>{const[f,p,d]=["cx","cy","r"].map((m=>parseFloat(c.getAttribute(m)||"0"))),g=1.3;return new l.BezierPath([new u.BezierSegment({x:f-d,y:p},{x:f-d,y:p-g*d},{x:f+d,y:p-g*d},{x:f+d,y:p}),new u.BezierSegment({x:f+d,y:p},{x:f+d,y:p+g*d},{x:f-d,y:p+g*d},{x:f-d,y:p})])},o.createFromElement=c=>{const f=c.tagName.toLowerCase();if(f==="path")return(0,o.createFromPath)(c);if(f==="line")return(0,o.createFromLine)(c);if(f==="circle")return(0,o.createFromCircle)(c);throw new Error(`Unsupported SVG tag: ${f}`)},o.create=c=>{const f=[];for(let p=1;p<c.length;p++){const d=c[p-1],g=c[p];f.push(new u.BezierSegment(d.pt,d.right||d.pt,g.left||g.pt,g.pt))}return new l.BezierPath(f)},o.createFromCommands=c=>{const f=c.slice();if(f.length<2)throw new Error(`Path doesn't have enough commands: ${JSON.stringify(f)}`);if(f[0].type!=="M")throw new Error(`Path starts with ${f[0].type} instead of M!`);let p={x:f[0].x,y:f[0].y},d=Object.assign({},p);const g=[];for(;f.length>0;){const m=f.shift();if(m.type==="M")d={x:m.x,y:m.y},p=d;else if(m.type==="C")g.push(new u.BezierSegment(p,{x:m.x1,y:m.y1},{x:m.x2,y:m.y2},{x:m.x,y:m.y})),p={x:m.x,y:m.y};else if(m.type==="L")m.x===p.x&&m.y===p.y||g.push(new u.BezierSegment(p,p,{x:m.x,y:m.y},{x:m.x,y:m.y})),p={x:m.x,y:m.y};else if(m.type==="H")m.x!==p.x&&g.push(new u.BezierSegment(p,p,{x:m.x,y:p.y},{x:m.x,y:p.y})),p={x:m.x,y:p.y};else if(m.type==="V")m.y!==p.y&&g.push(new u.BezierSegment(p,p,{x:p.x,y:m.y},{x:p.x,y:m.y})),p={x:p.x,y:m.y};else if(m.type==="Q")g.push(new u.BezierSegment(p,{x:p.x+.6666666666666666*(m.x1-p.x),y:p.y+.6666666666666666*(m.y1-p.y)},{x:m.x+.6666666666666666*(m.x1-m.x),y:m.y+.6666666666666666*(m.y1-m.y)},{x:m.x,y:m.y})),p={x:m.x,y:m.y};else{if(m.type!=="Z")throw new Error(`Unsupported path command ${m.type}; use only H, V, M, L, C, Z!`);Math.hypot(p.x-d.x,p.y-d.y)>0&&g.push(new u.BezierSegment(p,p,d,d))}}return new l.BezierPath(g)}},821:function(s,o,a){var l=this&&this.__createBinding||(Object.create?function(h,c,f,p){p===void 0&&(p=f);var d=Object.getOwnPropertyDescriptor(c,f);d&&!("get"in d?!c.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(h,p,d)}:function(h,c,f,p){p===void 0&&(p=f),h[p]=c[f]}),u=this&&this.__exportStar||function(h,c){for(var f in h)f==="default"||Object.prototype.hasOwnProperty.call(c,f)||l(c,h,f)};Object.defineProperty(o,"__esModule",{value:!0}),u(a(177),o),u(a(558),o),u(a(729),o),u(a(856),o)},856:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0})},188:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.times=void 0,o.times=function(a){const l=[];for(let u=0;u<a;u++)l.push(u);return l}}},i={};return(function s(o){var a=i[o];if(a!==void 0)return a.exports;var l=i[o]={exports:{}};return r[o].call(l.exports,l,l.exports,s),l.exports})(821)})()))})(ov)),ov.exports}var TX=AX();const JS={M:2,L:2,C:6,Q:4},c3=["ttf","otf","woff"],IX=new RegExp(`\\.(${c3.join("|")})`,"i"),DX=new RegExp(`([^/]+)(\\.(?:${c3.join("|")}))`,"i"),h3="Sorry, only TTF, OTF and WOFF files are supported.",NX=["weight","stretch","style"];class Jb{constructor(t,r,i,s,o){if(!(r instanceof FontFace))throw Error("FontFace is required");this._pInst=t,this.name=i,this.path=s,this.data=o,this.face=r}static hasGlyphData(t){let{font:r}=t;return typeof r=="object"&&typeof r.data<"u"}fontBounds(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));let l=a?.graphics?._renderer||this._pInst._renderer;if(!l)throw Error("p5 or graphics required for fontBounds()");return l.fontBounds(t,r,i,s,o)}textBounds(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));let l=a?.graphics?._renderer||this._pInst._renderer;if(!l)throw Error("p5 or graphics required for fontBounds()");return l.textBounds(t,r,i,s,o)}textToPaths(t,r,i,s,o,a){if({width:s,height:o,options:a}=this._parseArgs(s,o,a),!this.data)throw Error('No font data available for "'+this.name+`"
Try downloading a local copy of the font file`);return this._lineateAndPathify(t,r,i,s,o,a).map(h=>h.glyphs).flat().map(h=>h.path.commands).flat()}textToPoints(t,r,i,s,o,a){return this.textToContours(t,r,i,s,o,a).reduce((u,h)=>(u.push(...h),u),[])}textToContours(t,r=0,i=0,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));const l=this.textToPaths(t,r,i,s,o,a),u=[];for(const h of l)h[0]==="M"&&u.push([]),u[u.length-1].push(h);return u.map(h=>OX(h,a,this))}textToModel(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));const l=a?.extrude||0,u=this.textToContours(t,r,i,s,o,a),h=this._pInst.buildGeometry(()=>{if(l===0){const c=this._pInst._renderer._validateFaces;this._pInst._renderer._validateFaces=!0,this._pInst.beginShape(),this._pInst.normal(0,0,1);for(const f of u){this._pInst.beginContour();for(const{x:p,y:d}of f)this._pInst.vertex(p,d);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape(),this._pInst._renderer._validateFaces=c}else{const c=this._pInst._renderer._validateFaces;this._pInst._renderer._validateFaces=!0;for(const f of[1,-1]){this._pInst.beginShape();for(const p of u){this._pInst.beginContour();for(const{x:d,y:g}of p)this._pInst.vertex(d,g,f*l*.5);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape()}this._pInst._renderer._validateFaces=c;for(const f of u){this._pInst.beginShape(this._pInst.QUAD_STRIP);for(const p of f)for(const d of[-1,1])this._pInst.vertex(p.x,p.y,d*l*.5);this._pInst.endShape()}}});if(l!==0){h.computeNormals();for(const c of h.faces)if(c.every(f=>h.vertices[f].z<=-l*.5+.1)){for(const f of c)h.vertexNormals[f].set(0,0,-1);c.reverse()}}return h}variations(){let t={};if(this.data){let r=this.face?.axes;r&&r.forEach(i=>{t[i.tag]=i.value})}return NX.forEach(r=>{let i=this.face[r];i!=="normal"&&(t[r]=t[r]||i)}),t}metadata(){let t=this.data?.name||{};for(let r in this.face)/^load/.test(r)||(t[r]=t[r]||this.face[r]);return t}static async list(t=!1){if(t){console.log("There are",document.fonts.size,`font-faces
`);let r=0;for(let i of document.fonts.values()){console.log("FontFace: {");for(let s in i)console.log("  "+s+": "+i[s]);console.log(`}
`),i.status==="loaded"&&r++}console.log(r+" loaded")}return await Array.from(document.fonts)}_verticalAlign(t){const{sCapHeight:r}=this.data?.["OS/2"]||{},{unitsPerEm:i=1e3}=this.data?.head||{},{ascender:s=0,descender:o=0}=this.data?.hhea||{},a=s/2;return((r||s+o)/2-a)*t/i}_lineateAndPathify(t,r,i,s,o,a={}){let l=a?.graphics?._renderer||this._pInst._renderer,u=l.drawingContext.textBaseline,{lines:h,bounds:c}=l._computeBounds(ji._FONT_BOUNDS,t,r,i,s,o,{ignoreRectMode:!0,...a});h=this._position(l,h,c,s,o);let f=this.data?.head?.unitsPerEm||1e3,p=l.states.textSize/f;const d=this._currentAxes(l);let g=h.map(m=>this._lineToGlyphs(m,{scale:p,axs:d}));return l.drawingContext.textBaseline=u,g}_currentAxes(t){let r;return(this.data?.fvar?.length??0)>0&&(r=this.data.fvar[0].map(([s,o,a,l,u,h])=>{if(!t)return a;if(s==="wght")return t.states.fontWeight;if(s==="wdth")return 100;if(t.textCanvas().style.fontVariationSettings){const c=new RegExp(`\\b${s}s+(d+)`).exec(t.textCanvas().style.fontVariationSettings);return c?parseInt(c[1]):a}else return a})),r}_textToPathPoints(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));let l=this.textToPaths(t,r,i,s,o,a);const u=(p,d,g,m)=>{if(fn.dist(d.x,d.y,g.x,g.y)>m){let v={x:(d.x+g.x)/2,y:(d.y+g.y)/2};p.push(v),u(p,d,v,m),u(p,v,g,m)}};let h=[],{textSize:c}=this._pInst._renderer.states,f=c/this.data.head.unitsPerEm*500;for(let p=0;p<l.length;p++){let{type:d,data:g}=l[p];if(d!=="Z"){let m={x:g[g.length-2],y:g[g.length-1]};d==="L"&&h.length&&!a?.nodivide>0&&u(h,h[h.length-1],m,f),h.push(m)}}return h}_parseArgs(t,r,i={}){return typeof t=="object"?(i=t,t=r=void 0):typeof r=="object"&&(i=r,r=void 0),{width:t,height:r,options:i}}_position(t,r,i,s,o){let{textAlign:a,textLeading:l}=t.states,h=this._measureTextDefault(t,"X").fontBoundingBoxAscent,c=(f,p)=>{let d=i.x,g=i.y+p*l+h,m=t._fontWidthSingle(f);if(a===Wi?d+=(i.w-m)/2:a===Fp&&(d+=i.w-m),typeof s<"u")switch(t.states.rectMode){case Wi:d-=s/2,g-=o/2;break;case Uh:d-=s,g-=o;break}return{text:f,x:d,y:g}};return r.map(c)}_lineToGlyphs(t,{scale:r=1,axs:i}={}){if(!this.data)throw Error('No font data available for "'+this.name+`"
Try downloading a local copy of the font file`);let s=Ze.U.shape(this.data,t.text,{axs:i});return t.glyphShapes=s,t.glyphs=this._shapeToPaths(s,t,{scale:r,axs:i}),t}_positionGlyphs(t,r){let i=r?.graphics?._renderer||this._pInst._renderer;const s=this._currentAxes(i),o=Ze.U.shape(this.data,t,{axs:s}),a=[];let l=0;for(const u of o)a.push({x:l,index:u.g,shape:u}),l+=u.ax;return a}_singleShapeToPath(t,{scale:r=1,x:i=0,y:s=0,lineX:o=0,lineY:a=0,axs:l}={}){let u=this.data,h=0,{g:c,ax:f,ay:p,dx:d,dy:g}=t,{crds:m,cmds:v}=Ze.U.glyphToPath(u,c,!0,l),w={path:{commands:[]}};for(let y=0;y<v.length;y++){let _=v[y],x=[_];if(_ in JS){let C=JS[_];for(let E=0;E<C;E+=2){let S=m[E+h]+i+d,D=m[E+h+1]+s+g,A=o+S*r,N=a+D*-r;x.push(A),x.push(N)}h+=C}w.path.commands.push(x)}return{glyph:w,ax:f,ay:p}}_shapeToPaths(t,r,{scale:i=1,axs:s}={}){let o=0,a=0,l=[];if(t.length!==r.text.length)throw Error("Invalid shape data");for(let u=0;u<t.length;u++){const{glyph:h,ax:c,ay:f}=this._singleShapeToPath(t[u],{scale:i,x:o,y:a,lineX:r.x,lineY:r.y,axs:s});l.push(h),o+=c,a+=f}return l}_measureTextDefault(t,r){let{textAlign:i,textBaseline:s}=t.states,o=t.textDrawingContext();o.textAlign="left",o.textBaseline="alphabetic";let a=o.measureText(r);return o.textAlign=i,o.textBaseline=s,a}drawPaths(t,r,i){t.strokeStyle=i?.stroke||t.strokeStyle,t.fillStyle=i?.fill||t.fillStyle,t.beginPath(),r.forEach(([s,...o])=>{s==="M"?t.moveTo(...o):s==="L"?t.lineTo(...o):s==="C"?t.bezierCurveTo(...o):s==="Q"?t.quadraticCurveTo(...o):s==="Z"&&t.closePath()}),i?.fill&&t.fill(),i?.stroke&&t.stroke()}_pathsToCommands(t,r){let i=[];for(let s=0;s<t.length;s++){let o=t[s],{x:a,y:l,path:u}=o,{crds:h,cmds:c}=u;for(let f=0,p=0;p<c.length;p++){let d=c[p],g={type:d,data:[]};if(d==="M"||d==="L")g.data.push(a+h[f]*r,l+h[f+1]*-r),f+=2;else if(d==="C"){for(let m=0;m<6;m+=2)g.data.push(a+h[f+m]*r,l+h[f+m+1]*-r);f+=6}else if(d==="Q"){for(let m=0;m<4;m+=2)g.data.push(a+h[f+m]*r,l+h[f+m+1]*-r);f+=4}i.push(g)}}return i}}async function Td(n,t,r,i,s){let o=FX(t,r,i,s);return o.status!=="loaded"&&await o.load(),document.fonts.add(o),await document.fonts.ready,new Jb(n,o,t,r,s)}function kX(n){return/^[A-Za-z][A-Za-z0-9_-]*$/.test(n)||(n="'"+String(n).replace(/'/g,"\\'")+"'"),n}function FX(n,t,r,i){n=kX(n);let s=i?._compressedData??i?._data;if(!s){if(!IX.test(t))throw Error(h3);t.startsWith("url(")||(t="url("+t+")"),s=t}if((i?.fvar?.length??0)>0){r=r||{};for(const[a,l,u,h,c,f]of i.fvar[0])a==="wght"?r.weight=`${l} ${h}`:a==="wdth"&&(r.stretch=`${l}% ${h}%`)}let o=new FontFace(n,s,r);if(o.status==="error")throw Error('Failed to create FontFace for "'+n+'"');return o}function MX(n,t){let r,i=n?.name;if(i){if(i.fullName)return i.fullName;i.familyName&&(r=i.familyName)}if(!r){let s=DX.exec(t);s&&s.length>=3?r=s[1]:r=t}return r.includes(" ")&&(r=r.replace(/ /g,"_")),r}function OX(n,t,r){const i=(g,m)=>{if(typeof g!="object")g=m;else for(const v in m)typeof g[v]>"u"&&(g[v]=m[v]);return g},s=(g,m)=>{const v=g.length;return g[m<0?m%v+v:m%v]},o=(g,m)=>{m=m||0;let v=0;for(let w=g.length-1;g.length>3&&w>=0;--w)a(s(g,w-1),s(g,w),s(g,w+1),m)&&(g.splice(w%g.length,1),v++);return v},a=(g,m,v,w)=>{if(!w)return l(g,m,v)===0;typeof a.tmpPoint1>"u"&&(a.tmpPoint1=[],a.tmpPoint2=[]);const y=a.tmpPoint1,_=a.tmpPoint2;y.x=m.x-g.x,y.y=m.y-g.y,_.x=v.x-m.x,_.y=v.y-m.y;const x=y.x*_.x+y.y*_.y,C=Math.sqrt(y.x*y.x+y.y*y.y),E=Math.sqrt(_.x*_.x+_.y*_.y);return Math.acos(x/(C*E))<w},l=(g,m,v)=>(m[0]-g[0])*(v[1]-g[1])-(v[0]-g[0])*(m[1]-g[1]),u=TX.createFromCommands(d3(n));let h=i(t,{sampleFactor:.1,simplifyThreshold:0});const c=Math.max(1,Math.ceil(u.getTotalLength()*h.sampleFactor));let f=[];const p=r._pInst.angleMode(),d=r._pInst.DEGREES;for(let g=0;g<c;g++){const m=u.getTotalLength()*(c===1?0:g/(c-1));f.push({...u.getPointAtLength(m),get angle(){const v=u.getAngleAtLength(m);return p===d?v*180/Math.PI:v},get alpha(){return this.angle}})}return h.simplifyThreshold&&o(f,h.simplifyThreshold),f}function PX(n){return(n.startsWith('"')||n.startsWith("'"))&&n.at(0)===n.at(-1)?n.slice(1,-1).replace(/\/(['"])/g,"$1"):n}function LX(...n){let t=n.shift();(typeof t!="string"||t.length===0)&&p5._friendlyError(h3,"p5.loadFont");let r;typeof n[0]=="string"&&(r=n.shift());let i,s,o;for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?i?s=l:i=l:typeof l=="object"&&(o=l)}return{path:t,name:r,success:i,error:s,options:o}}function f3(n,t){n.Font=Jb,t.parseFontData=async function(r){let i=r instanceof Uint8Array?r:await t.loadBytes(r);if(!i)throw Error("Failed to load font data");let s=Ze.parse(i);if(s.length===0||s[0].cmap===void 0)throw Error("parsing font data");return s[0]},t.loadFont=async function(...r){let{path:i,name:s,success:o,error:a,options:{sets:l,...u}={}}=LX(...r),h=i.includes("@font-face");if(h||(await fetch(i,{method:"HEAD"})).headers.get("content-type")?.startsWith("text/css")&&(h=!0,i=await fetch(i).then(d=>d.text())),h){const f=new CSSStyleSheet;await f.replace(i);const p=[];for(const x of f.cssRules)if(x instanceof CSSFontFaceRule){const C=x.style;let E=PX(C.getPropertyValue("font-family"));const S=C.getPropertyValue("src"),D={...u||{}};for(const A of C){if(A==="font-family"||A==="src")continue;const N=A.replace(/^font-/,"").split("-").map((F,T)=>T===0?F:`${F[0].toUpperCase()}${F.slice(1)}`).join("");D[N]=C.getPropertyValue(A)}p.push({name:E,src:S,fontDescriptors:D,loadWithData:async()=>{let A;try{const N=/url\(([^\)]+)\)/.exec(S);if(N){let F=N[1];/^['"]/.exec(F)&&F.at(0)===F.at(-1)&&(F=F.slice(1,-1)),A=await t.parseFontData(F)}}catch{}return Td(this,E,S,D,A)},loadWithoutData:()=>Td(this,E,S,D)})}l=l||["latin"];const d=(l instanceof Array?l:[l]).map(x=>x.toLowerCase()),g=hq.filter(x=>d.some(C=>x.category.includes(C)&&x.category.includes("ext")===C.includes("ext"))),m=new Set(xS.UnicodeRange.parse(g.map(x=>`U+${x.hexrange[0]}-${x.hexrange[1]}`)));let v=0,w=0,y;for(const x of p){if(!x.fontDescriptors.unicodeRange)continue;const E=[...new Set(xS.UnicodeRange.parse(x.fontDescriptors.unicodeRange.split(/,\s*/g))).values()].filter(A=>m.has(A)).length,S={style:"normal",weight:400,...u},D=Object.keys(x.fontDescriptors).filter(A=>x.fontDescriptors[A]===S[A]).length;(D>w||D===w&&E>=v)&&(w=D,v=E,y=x)}const _=y||p.at(-1);for(const x of p)x!==_&&x.loadWithoutData();return _?.loadWithData()}let c;try{const f=await t.parseFontData(i);s=s||MX(f,i),c=await Td(this,s,i,u,f)}catch{let p=s||i.substring(i.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"");console.warn(`WARN: No glyph data for '${p}', retrying as FontFace`);try{c=await Td(this,p,i,u)}catch(d){if(a)return a(d);throw d}}return o?o(c):c}}const d3=n=>n.map(t=>{const r=t[0];switch(r){case"Z":return{type:r};case"M":case"L":{const[,i,s]=t;return{type:r,x:i,y:s}}case"Q":{const[,i,s,o,a]=t;return{type:r,x1:i,y1:s,x:o,y:a}}case"C":{const[,i,s,o,a,l,u]=t;return{type:r,x1:i,y1:s,x2:o,y2:a,x:l,y:u}}default:throw new Error(`Unexpected path command: ${r}`)}});typeof p5<"u"&&f3(p5,p5.prototype);function RX(n,t){Lt.prototype.maxCachedGlyphs=function(){return 200},Jb.prototype._getFontInfo=function(g){this._fontInfos=this._fontInfos||{};const m=JSON.stringify(g);if(this._fontInfos[m])return this._fontInfos[m];{const v=new d(this,{axs:g});return this._fontInfos[m]=v,v}};const r=9,i=r,s=64,o=64,a=64,l=64,u=64,h=64;class c{constructor(m,v){this.width=m,this.height=v,this.infos=[]}findImage(m){const v=this.width*this.height;if(m>v)throw new Error("font is too complex to render in 3D");let w,y;for(let x=this.infos.length-1;x>=0;--x){const C=this.infos[x];if(C.index+m<v){w=C,y=C.imageData;break}}if(!w){try{y=new ImageData(this.width,this.height)}catch{let C=document.getElementsByTagName("canvas")[0];const E=!C;C||(C=document.createElement("canvas"),C.style.display="none",document.body.appendChild(C));const S=C.getContext("2d");S&&(y=S.createImageData(this.width,this.height)),E&&document.body.removeChild(C)}w={index:0,imageData:y},this.infos.push(w)}const _=w.index;return w.index+=m,y._dirty=!0,{imageData:y,index:_}}}function f(g,m,v,w,y){const x=g.imageData.data;let C=g.index++*4;x[C++]=m,x[C++]=v,x[C++]=w,x[C++]=y}const p=Math.sqrt(3);class d{constructor(m,{axs:v}={}){this.font=m,this.axs=v,this.strokeImageInfos=new c(s,o),this.colDimImageInfos=new c(a,l),this.rowDimImageInfos=new c(a,l),this.colCellImageInfos=new c(u,h),this.rowCellImageInfos=new c(u,h),this.glyphInfos={}}getGlyphInfo(m){let v=this.glyphInfos[m.index];if(v)return v;const w=this.axs,{glyph:{path:{commands:y}}}=this.font._singleShapeToPath(m.shape,{axs:w});let _=1/0,x=-1/0,C=1/0,E=-1/0;for(const G of y)for(let se=1;se<G.length;se+=2)_=Math.min(_,G[se]),x=Math.max(x,G[se]),C=Math.min(C,G[se+1]),E=Math.max(E,G[se+1]);if(_>=x||C>=E||!y.length)return this.glyphInfos[m.index]={};const S=x-_,D=E-C,A=d3(y);let N;const F=[],T=[],I=[];for(N=r-1;N>=0;--N)I.push([]);for(N=i-1;N>=0;--N)T.push([]);function M(G,se,ye){const Ee=F.length;F.push(ye);function H(be,xe,R){for(let Oe=be.length;Oe-- >0;){const Fe=be[Oe];xe>Fe&&(xe=Fe),R<Fe&&(R=Fe)}return{min:xe,max:R}}const Q=.5,re=H(G,1,0),Ce=Math.max(Math.floor(re.min*r-Q),0),_e=Math.min(Math.ceil(re.max*r+Q),r);for(let be=Ce;be<_e;++be)I[be].push(Ee);const Se=H(se,1,0),Te=Math.max(Math.floor(Se.min*i-Q),0),De=Math.min(Math.ceil(Se.max*i+Q),i);for(let be=Te;be<De;++be)T[be].push(Ee)}function L(G,se,ye){return G<se?se:G>ye?ye:G}function B(G){return L(255*G,0,255)}class ${constructor(se,ye,Ee,H){this.p0=se,this.c0=ye,this.c1=Ee,this.p1=H}toQuadratic(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:((this.c0.x+this.c1.x)*3-(this.p0.x+this.p1.x))/4,cy:((this.c0.y+this.c1.y)*3-(this.p0.y+this.p1.y))/4}}quadError(){return Me.sub(Me.sub(this.p1,this.p0),Me.mult(Me.sub(this.c1,this.c0),3)).mag()/2}split(se){const ye=Me.lerp(this.p0,this.c0,se),Ee=Me.lerp(this.c0,this.c1,se),H=Me.lerp(ye,Ee,se);this.c1=Me.lerp(this.c1,this.p1,se),this.c0=Me.lerp(Ee,this.c1,se);const Q=Me.lerp(H,this.c0,se),re=new $(this.p0,ye,H,Q);return this.p0=Q,re}splitInflections(){const se=Me.sub(this.c0,this.p0),ye=Me.sub(Me.sub(this.c1,this.c0),se),Ee=Me.sub(Me.sub(Me.sub(this.p1,this.c1),se),Me.mult(ye,2)),H=[];let Q=ye.x*Ee.y-ye.y*Ee.x;if(Q!==0){let re=se.x*Ee.y-se.y*Ee.x,Ce=se.x*ye.y-se.y*ye.x;const _e=re*re-4*Q*Ce;if(_e>=0){Q<0&&(Q=-Q,re=-re,Ce=-Ce);const Se=Math.sqrt(_e),Te=(-re-Se)/(2*Q);let De=(-re+Se)/(2*Q);Te>0&&Te<1&&(H.push(this.split(Te)),De=1-(1-De)/(1-Te)),De>0&&De<1&&H.push(this.split(De))}}return H.push(this),H}}function q(G,se,ye,Ee,H,Q,re,Ce){const _e=new $(new Me(G,se),new Me(ye,Ee),new Me(H,Q),new Me(re,Ce)).splitInflections(),Se=[],Te=30/p;for(let De of _e){const be=[];let xe;for(;xe=Te/De.quadError(),!(xe>=.5*.5*.5);){const R=Math.pow(xe,1/3),Oe=De.split(R),Fe=De.split(1-R/(1-R));Se.push(Oe),be.push(De),De=Fe}xe<1&&Se.push(De.split(.5)),Se.push(De),Array.prototype.push.apply(Se,be.reverse())}return Se}function Z(G,se,ye,Ee){const H=(G+ye)/2,Q=(se+Ee)/2;M([G,ye],[se,Ee],{x:G,y:se,cx:H,cy:Q})}function he(G,se,ye,Ee){return Math.abs(ye-G)<1e-5&&Math.abs(Ee-se)<1e-5}let V,J,ge,W;for(const G of A){const se=(G.x-_)/S,ye=(G.y-C)/D;if(!he(V,J,se,ye)){switch(G.type){case"M":{ge=se,W=ye;break}case"L":{Z(V,J,se,ye);break}case"Q":{const Ee=(G.x1-_)/S,H=(G.y1-C)/D;M([V,se,Ee],[J,ye,H],{x:V,y:J,cx:Ee,cy:H});break}case"Z":{he(V,J,ge,W)?F.push({x:V,y:J}):(Z(V,J,ge,W),F.push({x:ge,y:W}));break}case"C":{const Ee=(G.x1-_)/S,H=(G.y1-C)/D,Q=(G.x2-_)/S,re=(G.y2-C)/D,Ce=q(V,J,Ee,H,Q,re,se,ye);for(let _e=0;_e<Ce.length;_e++){const Se=Ce[_e].toQuadratic();M([Se.x,Se.x1,Se.cx],[Se.y,Se.y1,Se.cy],Se)}break}default:throw new Error(`unknown command type: ${G.type}`)}V=se,J=ye}}const z=F.length,de=this.strokeImageInfos.findImage(z),K=de.index;for(let G=0;G<z;++G){const se=F[G];f(de,B(se.x),B(se.y),B(se.cx),B(se.cy))}function ue(G,se,ye){const Ee=G.length,H=se.findImage(Ee),Q=H.index;let re=0;for(let _e=0;_e<Ee;++_e)re+=G[_e].length;const Ce=ye.findImage(re);for(let _e=0;_e<Ee;++_e){const Se=G[_e],Te=Se.length,De=Ce.index;f(H,De>>7,De&127,Te>>7,Te&127);for(let be=0;be<Te;++be){const xe=Se[be]+K;f(Ce,xe>>7,xe&127,0,0)}}return{cellImageInfo:Ce,dimOffset:Q,dimImageInfo:H}}return v=this.glyphInfos[m.index]={glyph:m,uGlyphRect:[_,C,x,E],strokeImageInfo:de,strokes:F,colInfo:ue(I,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ue(T,this.rowDimImageInfos,this.rowCellImageInfos)},v.uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset],v}}Lt.prototype._renderText=function(g,m,v,w,y){if(!this.states.textFont||typeof this.states.textFont=="string"){console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.");return}if(v>=w||!this.states.fillColor)return;if(!n.Font.hasGlyphData(this.states.textFont)){console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts with glyph data are supported");return}this.push();const _=this.states.strokeColor,x=this.states.drawMode;this.states.setValue("strokeColor",null),this.states.setValue("drawMode",Lp);const{font:C}=this.states.textFont;if(!C)throw new Error("In WebGL mode, textFont() needs to be given the result of loadFont() instead of a font family name.");const E=C._currentAxes(this);let S=C._getFontInfo(E);const D={x:m,y:v},N=this.states.textSize/(C.data?.head?.unitsPerEm||1e3);this.translate(D.x,D.y,0),this.scale(N,N,1);const F=this.GL,T=!this._defaultFontShader,I=this._getFontShader();I.init(),I.bindShader(),T&&(I.setUniform("uGridImageSize",[a,l]),I.setUniform("uCellsImageSize",[u,h]),I.setUniform("uStrokeImageSize",[s,o]),I.setUniform("uGridSize",[r,i]));const M=this.states.fillSet?this.states.curFillColor:[0,0,0,255];this._setGlobalUniforms(I),this._applyColorBlend(M);let L=this.geometryBufferCache.getGeometryByID("glyph");L||(L=this._textGeom=new qr(1,1,function(){for(let B=0;B<=1;B++)for(let $=0;$<=1;$++)this.vertices.push(new Me($,B,0)),this.uvs.push($,B)},this),L.gid="glyph",L.computeFaces().computeNormals(),this.geometryBufferCache.ensureCached(L));for(const B of this.buffers.text)B._prepareBuffer(L,I);this._bindBuffer(this.geometryBufferCache.cache.glyph.indexBuffer,F.ELEMENT_ARRAY_BUFFER),I.setUniform("uMaterialColor",M),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.glyphDataCache=this.glyphDataCache||new Set;try{const B=C._positionGlyphs(g);for(const $ of B){const q=S.getGlyphInfo($);if(q.uGlyphRect){const Z=q.rowInfo,he=q.colInfo,V=[q.strokeImageInfo.imageData,Z.cellImageInfo.imageData,Z.dimImageInfo.imageData,he.cellImageInfo.imageData,he.dimImageInfo.imageData];for(const J of V)this.glyphDataCache.delete(J),this.glyphDataCache.add(J);for(;this.glyphDataCache.size>this.maxCachedGlyphs();){const J=this.glyphDataCache.values().next().value;this.glyphDataCache.delete(J);const ge=this.textures.get(J);ge&&(ge.remove(),this.textures.delete(J))}I.setUniform("uSamplerStrokes",q.strokeImageInfo.imageData),I.setUniform("uSamplerRowStrokes",Z.cellImageInfo.imageData),I.setUniform("uSamplerRows",Z.dimImageInfo.imageData),I.setUniform("uSamplerColStrokes",he.cellImageInfo.imageData),I.setUniform("uSamplerCols",he.dimImageInfo.imageData),I.setUniform("uGridOffset",q.uGridOffset),I.setUniform("uGlyphRect",q.uGlyphRect),I.setUniform("uGlyphOffset",$.x),I.bindTextures(),F.drawElements(F.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}}}finally{I.unbindShader(),this.states.setValue("strokeColor",_),this.states.setValue("drawMode",x),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.pop()}}}const kt={OPERATION:"operation",LITERAL:"literal",VARIABLE:"variable",CONSTANT:"constant",STRUCT:"struct",PHI:"phi",STATEMENT:"statement",ASSIGNMENT:"assignment"},e1=Object.fromEntries(Object.entries(kt).map(([n,t])=>[t,n])),BX={[kt.OPERATION]:["opCode","dependsOn","dimension","baseType"],[kt.LITERAL]:["value","dimension","baseType"],[kt.VARIABLE]:["identifier","dimension","baseType"],[kt.CONSTANT]:["value","dimension","baseType"],[kt.STRUCT]:[""],[kt.PHI]:["dependsOn","phiBlocks","dimension","baseType"],[kt.STATEMENT]:["statementType"],[kt.ASSIGNMENT]:["dependsOn"]},zs={DISCARD:"discard",BREAK:"break",EXPRESSION:"expression",EMPTY:"empty"},Xt={FLOAT:"float",INT:"int",BOOL:"bool",MAT:"mat",DEFER:"defer",SAMPLER2D:"sampler2D"},p3={[Xt.FLOAT]:3,[Xt.INT]:2,[Xt.BOOL]:1,[Xt.MAT]:0,[Xt.DEFER]:-1,[Xt.SAMPLER2D]:-10},wn={float1:{fnName:"float",baseType:Xt.FLOAT,dimension:1,priority:3},float2:{fnName:"vec2",baseType:Xt.FLOAT,dimension:2,priority:3},float3:{fnName:"vec3",baseType:Xt.FLOAT,dimension:3,priority:3},float4:{fnName:"vec4",baseType:Xt.FLOAT,dimension:4,priority:3},int1:{fnName:"int",baseType:Xt.INT,dimension:1,priority:2},int2:{fnName:"ivec2",baseType:Xt.INT,dimension:2,priority:2},int3:{fnName:"ivec3",baseType:Xt.INT,dimension:3,priority:2},int4:{fnName:"ivec4",baseType:Xt.INT,dimension:4,priority:2},bool1:{fnName:"bool",baseType:Xt.BOOL,dimension:1,priority:1},bool2:{fnName:"bvec2",baseType:Xt.BOOL,dimension:2,priority:1},bool3:{fnName:"bvec3",baseType:Xt.BOOL,dimension:3,priority:1},bool4:{fnName:"bvec4",baseType:Xt.BOOL,dimension:4,priority:1},mat2:{fnName:"mat2x2",baseType:Xt.MAT,dimension:2,priority:0},mat3:{fnName:"mat3x3",baseType:Xt.MAT,dimension:3,priority:0},mat4:{fnName:"mat4x4",baseType:Xt.MAT,dimension:4,priority:0},defer:{fnName:null,baseType:Xt.DEFER,dimension:null,priority:-1},sampler2D:{fnName:"sampler2D",baseType:Xt.SAMPLER2D,dimension:1,priority:-10}},Qb=function(n){let t=n.type===void 0?n:n.type;const r={name:n.name,properties:[],typeName:t.typeName};for(const i of t.properties){const s=vg[i.type.typeName];r.properties.push({name:i.name,dataType:s})}return r};function ex(n){return!UX(n)}function UX(n){return Object.keys(wn).includes(n)?!0:!!{float:!0,vec2:!0,vec3:!0,vec4:!0,int:!0,ivec2:!0,ivec3:!0,ivec4:!0,bool:!0,bvec2:!0,bvec3:!0,bvec4:!0,mat2:!0,mat3:!0,mat4:!0,sampler2D:!0}[n]}const Ve={FLOAT:{baseType:Xt.FLOAT,dimension:null,priority:3},INT:{baseType:Xt.INT,dimension:null,priority:2},BOOL:{baseType:Xt.BOOL,dimension:null,priority:1}};function VX(n,t){return n.dimension===t.dimension&&n.baseType===t.baseType}const vg=Object.fromEntries(Object.values(wn).filter(n=>n.fnName!==null).map(n=>[n.fnName,n])),Tn={Binary:{ADD:0,SUBTRACT:1,MULTIPLY:2,DIVIDE:3,MODULO:4,EQUAL:5,NOT_EQUAL:6,GREATER_THAN:7,GREATER_EQUAL:8,LESS_THAN:9,LESS_EQUAL:10,LOGICAL_AND:11,LOGICAL_OR:12,MEMBER_ACCESS:13},Unary:{LOGICAL_NOT:100,NEGATE:101,PLUS:102,SWIZZLE:103},Nary:{FUNCTION_CALL:200,CONSTRUCTOR:201}},m3=[{arity:"unary",name:"not",symbol:"!",opCode:Tn.Unary.LOGICAL_NOT},{arity:"unary",name:"neg",symbol:"-",opCode:Tn.Unary.NEGATE},{arity:"unary",name:"plus",symbol:"+",opCode:Tn.Unary.PLUS},{arity:"binary",name:"add",symbol:"+",opCode:Tn.Binary.ADD},{arity:"binary",name:"sub",symbol:"-",opCode:Tn.Binary.SUBTRACT},{arity:"binary",name:"mult",symbol:"*",opCode:Tn.Binary.MULTIPLY},{arity:"binary",name:"div",symbol:"/",opCode:Tn.Binary.DIVIDE},{arity:"binary",name:"mod",symbol:"%",opCode:Tn.Binary.MODULO},{arity:"binary",name:"equalTo",symbol:"==",opCode:Tn.Binary.EQUAL},{arity:"binary",name:"notEqual",symbol:"!=",opCode:Tn.Binary.NOT_EQUAL},{arity:"binary",name:"greaterThan",symbol:">",opCode:Tn.Binary.GREATER_THAN},{arity:"binary",name:"greaterEqual",symbol:">=",opCode:Tn.Binary.GREATER_EQUAL},{arity:"binary",name:"lessThan",symbol:"<",opCode:Tn.Binary.LESS_THAN},{arity:"binary",name:"lessEqual",symbol:"<=",opCode:Tn.Binary.LESS_EQUAL},{arity:"binary",name:"and",symbol:"&&",opCode:Tn.Binary.LOGICAL_AND},{arity:"binary",name:"or",symbol:"||",opCode:Tn.Binary.LOGICAL_OR}],tm={},g3={};for(const{symbol:n,opCode:t,name:r,arity:i}of m3)tm[t]=n,i==="unary"&&(g3[n]=r);const Yt={GLOBAL:"global",FUNCTION:"function",BRANCH:"branch",IF_COND:"if_cond",IF_BODY:"if_body",ELSE_COND:"else_cond",SCOPE_START:"scope_start",SCOPE_END:"scope_end",FOR:"for",MERGE:"merge",DEFAULT:"default"};Object.fromEntries(Object.entries(Yt).map(([n,t])=>[t,n]));function Zl(n){const t=`[p5.strands internal error]: ${n}`;throw new Error(t)}function Ji(n,t){const r=`[p5.strands ${n}]: ${t}`;throw new Error(r)}function QS(){return{nextID:0,cache:new Map,nodeTypes:[],baseTypes:[],dimensions:[],opCodes:[],values:[],identifiers:[],phiBlocks:[],dependsOn:[],usedBy:[],statementTypes:[],swizzles:[]}}function Nn(n,t){return $X(n,t)}function Bn(n={}){const t={nodeType:n.nodeType??null,baseType:n.baseType??null,dimension:n.dimension??null,opCode:n.opCode??null,value:n.value??null,identifier:n.identifier??null,statementType:n.statementType??null,swizzle:n.swizzle??null,dependsOn:Array.isArray(n.dependsOn)?n.dependsOn:[],usedBy:Array.isArray(n.usedBy)?n.usedBy:[],phiBlocks:Array.isArray(n.phiBlocks)?n.phiBlocks:[]};return jX(t),t}function Nr(n,t){return{id:t,nodeType:n.nodeTypes[t],opCode:n.opCodes[t],value:n.values[t],identifier:n.identifiers[t],dependsOn:n.dependsOn[t],usedBy:n.usedBy[t],phiBlocks:n.phiBlocks[t],dimension:n.dimensions[t],baseType:n.baseTypes[t],statementType:n.statementTypes[t],swizzle:n.swizzles[t]}}function nm(n,t){return{baseType:n.baseTypes[t],dimension:n.dimensions[t],priority:p3[n.baseTypes[t]]}}function $X(n,t){const r=n.nextID++;n.nodeTypes[r]=t.nodeType,n.opCodes[r]=t.opCode,n.values[r]=t.value,n.identifiers[r]=t.identifier,n.dependsOn[r]=t.dependsOn.slice(),n.usedBy[r]=t.usedBy,n.phiBlocks[r]=t.phiBlocks.slice(),n.baseTypes[r]=t.baseType,n.dimensions[r]=t.dimension,n.statementTypes[r]=t.statementType,n.swizzles[r]=t.swizzle;for(const i of t.dependsOn)Array.isArray(n.usedBy[i])||(n.usedBy[i]=[]),n.usedBy[i].push(r);return r}function jX(n){const t=n.nodeType,r=BX[t];r.length===2&&Zl(`Required fields for node type '${e1[t]}' not defined. Please add them to the utils.js file in p5.strands!`);const i=[];for(const s of r)n[s]===null&&i.push(s);if(n.dependsOn?.some(s=>s===void 0))throw new Error("Undefined dependency!");i.length>0&&Zl(`Missing fields ${i.join(", ")} for a node type '${e1[t]}'.`)}function eC(n,t){return n.nodeTypes[t]!==kt.OPERATION||n.baseTypes[t]===Xt.SAMPLER2D?!1:(n.usedBy[t]||[]).length>1}const zX={float1:"float",float2:"vec2",float3:"vec3",float4:"vec4",int1:"int",int2:"ivec2",int3:"ivec3",int4:"ivec4",bool1:"bool",bool2:"bvec2",bool3:"bvec3",bool4:"bvec4",mat2:"mat2x2",mat3:"mat3x3",mat4:"mat4x4"},av={[Yt.DEFAULT]:(n,t,r)=>{const{dag:i,cfg:s}=t,o=s.blockInstructions[n]||[];for(const a of o){const l=i.nodeTypes[a];if(eC(i,a)){const u=oo.generateDeclaration(r,i,a);r.write(u)}l===kt.STATEMENT&&oo.generateStatement(r,i,a),l===kt.ASSIGNMENT&&(oo.generateAssignment(r,i,a),r.visitedNodes.add(a))}},[Yt.BRANCH](n,t,r){const{dag:i,cfg:s}=t,o=s.blockInstructions[n]||[];for(const a of o){const l=Nr(i,a);if(l.nodeType===kt.PHI){const u=l.dependsOn||[];if(u.length>0){const p=u[0],d=r.tempNames[p];if(d){r.tempNames[a]=d;continue}}const h=`T${r.nextTempID++}`;r.tempNames[a]=h;const c=nm(i,a),f=oo.getTypeName(c.baseType,c.dimension);r.write(`${f} ${h};`)}}this[Yt.DEFAULT](n,t,r)},[Yt.IF_COND](n,t,r){const{dag:i,cfg:s}=t,o=s.blockConditions[n],a=oo.generateExpression(r,i,o);r.write(`if (${a})`),this[Yt.DEFAULT](n,t,r)},[Yt.ELSE_COND](n,t,r){r.write("else"),this[Yt.DEFAULT](n,t,r)},[Yt.IF_BODY](n,t,r){this[Yt.DEFAULT](n,t,r),this.assignPhiNodeValues(n,t,r)},[Yt.SCOPE_START](n,t,r){r.write("{"),r.indent++},[Yt.SCOPE_END](n,t,r){r.indent--,r.write("}")},[Yt.MERGE](n,t,r){this[Yt.DEFAULT](n,t,r)},[Yt.FUNCTION](n,t,r){this[Yt.DEFAULT](n,t,r)},[Yt.FOR](n,t,r){const{dag:i,cfg:s}=t,o=s.blockInstructions[n]||[];r.write("for (");const a=r.suppressSemicolon;for(let l=0;l<o.length;l++){const u=o[l],h=Nr(i,u),c=l===o.length-1;if(r.suppressSemicolon=c,eC(i,u)){const f=oo.generateDeclaration(r,i,u);r.write(f)}h.nodeType===kt.STATEMENT&&oo.generateStatement(r,i,u),h.nodeType===kt.ASSIGNMENT&&(oo.generateAssignment(r,i,u),r.visitedNodes.add(u))}r.suppressSemicolon=a,r.write(")")},assignPhiNodeValues(n,t,r){const{dag:i,cfg:s}=t,o=s.outgoingEdges[n]||[];for(const a of o){const l=s.blockInstructions[a]||[];for(const u of l){const h=Nr(i,u);if(h.nodeType===kt.PHI){const c=h.phiBlocks?.indexOf(n);if(c!==-1&&c<h.dependsOn.length){const f=h.dependsOn[c],p=r.tempNames[u];if(p&&f!==null){const d=oo.generateExpression(r,i,f);r.write(`${p} = ${d};`)}}}}}}},oo={hookEntry(n){return`(${n.parameters.flatMap(r=>`${r.qualifiers?.length?r.qualifiers.join(" "):""}${r.type.typeName} ${r.name}`).join(", ")}) {`},getTypeName(n,t){const r=zX[n+t];return r||n},generateUniformDeclaration(n,t){return`${this.getTypeName(t.baseType,t.dimension)} ${n}`},generateStatement(n,t,r){const i=Nr(t,r),s=n.suppressSemicolon?"":";";if(i.statementType===zs.DISCARD)n.write(`discard${s}`);else if(i.statementType===zs.BREAK)n.write(`break${s}`);else if(i.statementType===zs.EXPRESSION){const o=i.dependsOn[0],a=this.generateExpression(n,t,o);n.write(`${a}${s}`)}else i.statementType===zs.EMPTY&&n.write(s)},generateAssignment(n,t,r){const i=Nr(t,r),s=i.dependsOn[0],o=i.dependsOn[1],a=this.generateExpression(n,t,s),l=this.generateExpression(n,t,o),u=n.suppressSemicolon?"":";";a&&l&&a!==l&&n.write(`${a} = ${l}${u}`)},generateDeclaration(n,t,r){const i=this.generateExpression(n,t,r),s=`T${n.nextTempID++}`;n.tempNames[r]=s;const o=nm(t,r);return`${this.getTypeName(o.baseType,o.dimension)} ${s} = ${i};`},generateReturnStatement(n,t,r,i){const s=n.dag,o=Nr(s,r);if(ex(o.baseType)){const a=i;for(let l=0;l<a.properties.length;l++){const u=a.properties[l],h=this.generateExpression(t,s,o.dependsOn[l]);u.name!==h&&t.write(`${o.identifier}.${u.name} = ${h};`)}}t.write(`return ${this.generateExpression(t,s,r)};`)},generateExpression(n,t,r){const i=Nr(t,r);if(n.tempNames?.[r])return n.tempNames[r];switch(i.nodeType){case kt.LITERAL:return i.baseType===Xt.FLOAT?i.value.toFixed(4):i.value;case kt.VARIABLE:if(n.shaderContext&&n.strandsContext?.sharedVariables?.has(i.identifier)){const o=n.strandsContext.sharedVariables.get(i.identifier);n.shaderContext==="vertex"?o.usedInVertex=!0:n.shaderContext==="fragment"&&(o.usedInFragment=!0)}return i.identifier;case kt.OPERATION:const s=i.usedBy.length>0;if(i.opCode===Tn.Nary.CONSTRUCTOR){if(i.baseType===Xt.SAMPLER2D)return this.generateExpression(n,t,i.dependsOn[0]);const o=this.getTypeName(i.baseType,i.dimension),a=i.dependsOn.map(l=>this.generateExpression(n,t,l));return`${o}(${a.join(", ")})`}if(i.opCode===Tn.Nary.FUNCTION_CALL){const o=i.dependsOn.map(a=>this.generateExpression(n,t,a));return`${i.identifier}(${o.join(", ")})`}if(i.opCode===Tn.Binary.MEMBER_ACCESS){const[o,a]=i.dependsOn,l=this.generateExpression(n,t,o),u=this.generateExpression(n,t,a);return`${l}.${u}`}if(i.opCode===Tn.Unary.SWIZZLE){const o=i.dependsOn[0];return`${this.generateExpression(n,t,o)}.${i.swizzle}`}if(i.dependsOn.length===2){const[o,a]=i.dependsOn,l=this.generateExpression(n,t,o),u=this.generateExpression(n,t,a);if(i.opCode===Tn.Binary.MODULO){const c=Nr(t,o),f=Nr(t,a);return c.baseType===Xt.FLOAT||f.baseType===Xt.FLOAT?`mod(${l}, ${u})`:`(${l} % ${u})`}const h=tm[i.opCode];return s?`(${l} ${h} ${u})`:`${l} ${h} ${u}`}if(i.opCode===Tn.Unary.LOGICAL_NOT||i.opCode===Tn.Unary.NEGATE||i.opCode===Tn.Unary.PLUS){const[o]=i.dependsOn,a=this.generateExpression(n,t,o);return`${tm[i.opCode]}${a}`}case kt.PHI:if(i.identifier)return i.identifier;if(n.tempNames?.[r])return n.tempNames[r];{const o=i.dependsOn.filter(a=>a!==null);if(o.length>0)return this.generateExpression(n,t,o[0]);throw new Error("No valid inputs for node")}case kt.ASSIGNMENT:Zl("ASSIGNMENT nodes should not be used as expressions");default:Zl(`${e1[i.nodeType]} code generation not implemented yet`)}},generateBlock(n,t,r){const i=t.cfg.blockTypes[n];(av[i]||av[Yt.DEFAULT]).call(av,n,t,r)}};var lv={},uv={},tC;function GX(){return tC||(tC=1,(function(n){(function t(r){var i,s,o,a,l,u;function h(C){var E={},S,D;for(S in C)C.hasOwnProperty(S)&&(D=C[S],typeof D=="object"&&D!==null?E[S]=h(D):E[S]=D);return E}function c(C,E){var S,D,A,N;for(D=C.length,A=0;D;)S=D>>>1,N=A+S,E(C[N])?D=S:(A=N+1,D-=S+1);return A}i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},o={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},a={},l={},u={},s={Break:a,Skip:l,Remove:u};function f(C,E){this.parent=C,this.key=E}f.prototype.replace=function(E){this.parent[this.key]=E},f.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function p(C,E,S,D){this.node=C,this.path=E,this.wrap=S,this.ref=D}function d(){}d.prototype.path=function(){var E,S,D,A,N,F;function T(I,M){if(Array.isArray(M))for(D=0,A=M.length;D<A;++D)I.push(M[D]);else I.push(M)}if(!this.__current.path)return null;for(N=[],E=2,S=this.__leavelist.length;E<S;++E)F=this.__leavelist[E],T(N,F.path);return T(N,this.__current.path),N},d.prototype.type=function(){var C=this.current();return C.type||this.__current.wrap},d.prototype.parents=function(){var E,S,D;for(D=[],E=1,S=this.__leavelist.length;E<S;++E)D.push(this.__leavelist[E].node);return D},d.prototype.current=function(){return this.__current.node},d.prototype.__execute=function(E,S){var D,A;return A=void 0,D=this.__current,this.__current=S,this.__state=null,E&&(A=E.call(this,S.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=D,A},d.prototype.notify=function(E){this.__state=E},d.prototype.skip=function(){this.notify(l)},d.prototype.break=function(){this.notify(a)},d.prototype.remove=function(){this.notify(u)},d.prototype.__initialize=function(C,E){this.visitor=E,this.root=C,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,E.fallback==="iteration"?this.__fallback=Object.keys:typeof E.fallback=="function"&&(this.__fallback=E.fallback),this.__keys=o,E.keys&&(this.__keys=Object.assign(Object.create(this.__keys),E.keys))};function g(C){return C==null?!1:typeof C=="object"&&typeof C.type=="string"}function m(C,E){return(C===i.ObjectExpression||C===i.ObjectPattern)&&E==="properties"}function v(C,E){for(var S=C.length-1;S>=0;--S)if(C[S].node===E)return!0;return!1}d.prototype.traverse=function(E,S){var D,A,N,F,T,I,M,L,B,$,q,Z;for(this.__initialize(E,S),Z={},D=this.__worklist,A=this.__leavelist,D.push(new p(E,null,null,null)),A.push(new p(null,null,null,null));D.length;){if(N=D.pop(),N===Z){if(N=A.pop(),I=this.__execute(S.leave,N),this.__state===a||I===a)return;continue}if(N.node){if(I=this.__execute(S.enter,N),this.__state===a||I===a)return;if(D.push(Z),A.push(N),this.__state===l||I===l)continue;if(F=N.node,T=F.type||N.wrap,$=this.__keys[T],!$)if(this.__fallback)$=this.__fallback(F);else throw new Error("Unknown node type "+T+".");for(L=$.length;(L-=1)>=0;)if(M=$[L],q=F[M],!!q){if(Array.isArray(q)){for(B=q.length;(B-=1)>=0;)if(q[B]&&!v(A,q[B])){if(m(T,$[L]))N=new p(q[B],[M,B],"Property",null);else if(g(q[B]))N=new p(q[B],[M,B],null,null);else continue;D.push(N)}}else if(g(q)){if(v(A,q))continue;D.push(new p(q,M,null,null))}}}}},d.prototype.replace=function(E,S){var D,A,N,F,T,I,M,L,B,$,q,Z,he;function V(J){var ge,W,z,de;if(J.ref.remove()){for(W=J.ref.key,de=J.ref.parent,ge=D.length;ge--;)if(z=D[ge],z.ref&&z.ref.parent===de){if(z.ref.key<W)break;--z.ref.key}}}for(this.__initialize(E,S),q={},D=this.__worklist,A=this.__leavelist,Z={root:E},I=new p(E,null,null,new f(Z,"root")),D.push(I),A.push(I);D.length;){if(I=D.pop(),I===q){if(I=A.pop(),T=this.__execute(S.leave,I),T!==void 0&&T!==a&&T!==l&&T!==u&&I.ref.replace(T),(this.__state===u||T===u)&&V(I),this.__state===a||T===a)return Z.root;continue}if(T=this.__execute(S.enter,I),T!==void 0&&T!==a&&T!==l&&T!==u&&(I.ref.replace(T),I.node=T),(this.__state===u||T===u)&&(V(I),I.node=null),this.__state===a||T===a)return Z.root;if(N=I.node,!!N&&(D.push(q),A.push(I),!(this.__state===l||T===l))){if(F=N.type||I.wrap,B=this.__keys[F],!B)if(this.__fallback)B=this.__fallback(N);else throw new Error("Unknown node type "+F+".");for(M=B.length;(M-=1)>=0;)if(he=B[M],$=N[he],!!$)if(Array.isArray($)){for(L=$.length;(L-=1)>=0;)if($[L]){if(m(F,B[M]))I=new p($[L],[he,L],"Property",new f($,L));else if(g($[L]))I=new p($[L],[he,L],null,new f($,L));else continue;D.push(I)}}else g($)&&D.push(new p($,he,null,new f(N,he)))}}return Z.root};function w(C,E){var S=new d;return S.traverse(C,E)}function y(C,E){var S=new d;return S.replace(C,E)}function _(C,E){var S;return S=c(E,function(A){return A.range[0]>C.range[0]}),C.extendedRange=[C.range[0],C.range[1]],S!==E.length&&(C.extendedRange[1]=E[S].range[0]),S-=1,S>=0&&(C.extendedRange[0]=E[S].range[1]),C}function x(C,E,S){var D=[],A,N,F,T;if(!C.range)throw new Error("attachComments needs range information");if(!S.length){if(E.length){for(F=0,N=E.length;F<N;F+=1)A=h(E[F]),A.extendedRange=[0,C.range[0]],D.push(A);C.leadingComments=D}return C}for(F=0,N=E.length;F<N;F+=1)D.push(_(h(E[F]),S));return T=0,w(C,{enter:function(I){for(var M;T<D.length&&(M=D[T],!(M.extendedRange[1]>I.range[0]));)M.extendedRange[1]===I.range[0]?(I.leadingComments||(I.leadingComments=[]),I.leadingComments.push(M),D.splice(T,1)):T+=1;if(T===D.length)return s.Break;if(D[T].extendedRange[0]>I.range[1])return s.Skip}}),T=0,w(C,{leave:function(I){for(var M;T<D.length&&(M=D[T],!(I.range[1]<M.extendedRange[0]));)I.range[1]===M.extendedRange[0]?(I.trailingComments||(I.trailingComments=[]),I.trailingComments.push(M),D.splice(T,1)):T+=1;if(T===D.length)return s.Break;if(D[T].extendedRange[0]>I.range[1])return s.Skip}}),C}return r.Syntax=i,r.traverse=w,r.replace=y,r.attachComments=x,r.VisitorKeys=o,r.VisitorOption=s,r.Controller=d,r.cloneEnvironment=function(){return t({})},r})(n)})(uv)),uv}var Hc={},cv={exports:{}},nC;function HX(){return nC||(nC=1,(function(){function n(a){if(a==null)return!1;switch(a.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function t(a){if(a==null)return!1;switch(a.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function r(a){if(a==null)return!1;switch(a.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(a){return r(a)||a!=null&&a.type==="FunctionDeclaration"}function s(a){switch(a.type){case"IfStatement":return a.alternate!=null?a.alternate:a.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return a.body}return null}function o(a){var l;if(a.type!=="IfStatement"||a.alternate==null)return!1;l=a.consequent;do{if(l.type==="IfStatement"&&l.alternate==null)return!0;l=s(l)}while(l);return!1}cv.exports={isExpression:n,isStatement:r,isIterationStatement:t,isSourceElement:i,isProblematicIfStatement:o,trailingStatement:s}})()),cv.exports}var hv={exports:{}},rC;function v3(){return rC||(rC=1,(function(){var n,t,r,i,s,o;t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function a(v){return 48<=v&&v<=57}function l(v){return 48<=v&&v<=57||97<=v&&v<=102||65<=v&&v<=70}function u(v){return v>=48&&v<=55}r=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function h(v){return v===32||v===9||v===11||v===12||v===160||v>=5760&&r.indexOf(v)>=0}function c(v){return v===10||v===13||v===8232||v===8233}function f(v){if(v<=65535)return String.fromCharCode(v);var w=String.fromCharCode(Math.floor((v-65536)/1024)+55296),y=String.fromCharCode((v-65536)%1024+56320);return w+y}for(i=new Array(128),o=0;o<128;++o)i[o]=o>=97&&o<=122||o>=65&&o<=90||o===36||o===95;for(s=new Array(128),o=0;o<128;++o)s[o]=o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===36||o===95;function p(v){return v<128?i[v]:t.NonAsciiIdentifierStart.test(f(v))}function d(v){return v<128?s[v]:t.NonAsciiIdentifierPart.test(f(v))}function g(v){return v<128?i[v]:n.NonAsciiIdentifierStart.test(f(v))}function m(v){return v<128?s[v]:n.NonAsciiIdentifierPart.test(f(v))}hv.exports={isDecimalDigit:a,isHexDigit:l,isOctalDigit:u,isWhiteSpace:h,isLineTerminator:c,isIdentifierStartES5:p,isIdentifierPartES5:d,isIdentifierStartES6:g,isIdentifierPartES6:m}})()),hv.exports}var fv={exports:{}},iC;function WX(){return iC||(iC=1,(function(){var n=v3();function t(p){switch(p){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function r(p,d){return!d&&p==="yield"?!1:i(p,d)}function i(p,d){if(d&&t(p))return!0;switch(p.length){case 2:return p==="if"||p==="in"||p==="do";case 3:return p==="var"||p==="for"||p==="new"||p==="try";case 4:return p==="this"||p==="else"||p==="case"||p==="void"||p==="with"||p==="enum";case 5:return p==="while"||p==="break"||p==="catch"||p==="throw"||p==="const"||p==="yield"||p==="class"||p==="super";case 6:return p==="return"||p==="typeof"||p==="delete"||p==="switch"||p==="export"||p==="import";case 7:return p==="default"||p==="finally"||p==="extends";case 8:return p==="function"||p==="continue"||p==="debugger";case 10:return p==="instanceof";default:return!1}}function s(p,d){return p==="null"||p==="true"||p==="false"||r(p,d)}function o(p,d){return p==="null"||p==="true"||p==="false"||i(p,d)}function a(p){return p==="eval"||p==="arguments"}function l(p){var d,g,m;if(p.length===0||(m=p.charCodeAt(0),!n.isIdentifierStartES5(m)))return!1;for(d=1,g=p.length;d<g;++d)if(m=p.charCodeAt(d),!n.isIdentifierPartES5(m))return!1;return!0}function u(p,d){return(p-55296)*1024+(d-56320)+65536}function h(p){var d,g,m,v,w;if(p.length===0)return!1;for(w=n.isIdentifierStartES6,d=0,g=p.length;d<g;++d){if(m=p.charCodeAt(d),55296<=m&&m<=56319){if(++d,d>=g||(v=p.charCodeAt(d),!(56320<=v&&v<=57343)))return!1;m=u(m,v)}if(!w(m))return!1;w=n.isIdentifierPartES6}return!0}function c(p,d){return l(p)&&!s(p,d)}function f(p,d){return h(p)&&!o(p,d)}fv.exports={isKeywordES5:r,isKeywordES6:i,isReservedWordES5:s,isReservedWordES6:o,isRestrictedWord:a,isIdentifierNameES5:l,isIdentifierNameES6:h,isIdentifierES5:c,isIdentifierES6:f}})()),fv.exports}var sC;function qX(){return sC||(sC=1,(function(){Hc.ast=HX(),Hc.code=v3(),Hc.keyword=WX()})()),Hc}var Wc={},dv={},Id={},Dd={},oC;function XX(){if(oC)return Dd;oC=1;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Dd.encode=function(t){if(0<=t&&t<n.length)return n[t];throw new TypeError("Must be between 0 and 63: "+t)},Dd.decode=function(t){var r=65,i=90,s=97,o=122,a=48,l=57,u=43,h=47,c=26,f=52;return r<=t&&t<=i?t-r:s<=t&&t<=o?t-s+c:a<=t&&t<=l?t-a+f:t==u?62:t==h?63:-1},Dd}var aC;function y3(){if(aC)return Id;aC=1;var n=XX(),t=5,r=1<<t,i=r-1,s=r;function o(l){return l<0?(-l<<1)+1:(l<<1)+0}function a(l){var u=(l&1)===1,h=l>>1;return u?-h:h}return Id.encode=function(u){var h="",c,f=o(u);do c=f&i,f>>>=t,f>0&&(c|=s),h+=n.encode(c);while(f>0);return h},Id.decode=function(u,h,c){var f=u.length,p=0,d=0,g,m;do{if(h>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(m=n.decode(u.charCodeAt(h++)),m===-1)throw new Error("Invalid base64 digit: "+u.charAt(h-1));g=!!(m&s),m&=i,p=p+(m<<d),d+=t}while(g);c.value=a(p),c.rest=h},Id}var pv={},lC;function Af(){return lC||(lC=1,(function(n){function t(x,C,E){if(C in x)return x[C];if(arguments.length===3)return E;throw new Error('"'+C+'" is a required argument.')}n.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function s(x){var C=x.match(r);return C?{scheme:C[1],auth:C[2],host:C[3],port:C[4],path:C[5]}:null}n.urlParse=s;function o(x){var C="";return x.scheme&&(C+=x.scheme+":"),C+="//",x.auth&&(C+=x.auth+"@"),x.host&&(C+=x.host),x.port&&(C+=":"+x.port),x.path&&(C+=x.path),C}n.urlGenerate=o;function a(x){var C=x,E=s(x);if(E){if(!E.path)return x;C=E.path}for(var S=n.isAbsolute(C),D=C.split(/\/+/),A,N=0,F=D.length-1;F>=0;F--)A=D[F],A==="."?D.splice(F,1):A===".."?N++:N>0&&(A===""?(D.splice(F+1,N),N=0):(D.splice(F,2),N--));return C=D.join("/"),C===""&&(C=S?"/":"."),E?(E.path=C,o(E)):C}n.normalize=a;function l(x,C){x===""&&(x="."),C===""&&(C=".");var E=s(C),S=s(x);if(S&&(x=S.path||"/"),E&&!E.scheme)return S&&(E.scheme=S.scheme),o(E);if(E||C.match(i))return C;if(S&&!S.host&&!S.path)return S.host=C,o(S);var D=C.charAt(0)==="/"?C:a(x.replace(/\/+$/,"")+"/"+C);return S?(S.path=D,o(S)):D}n.join=l,n.isAbsolute=function(x){return x.charAt(0)==="/"||r.test(x)};function u(x,C){x===""&&(x="."),x=x.replace(/\/$/,"");for(var E=0;C.indexOf(x+"/")!==0;){var S=x.lastIndexOf("/");if(S<0||(x=x.slice(0,S),x.match(/^([^\/]+:\/)?\/*$/)))return C;++E}return Array(E+1).join("../")+C.substr(x.length+1)}n.relative=u;var h=(function(){var x=Object.create(null);return!("__proto__"in x)})();function c(x){return x}function f(x){return d(x)?"$"+x:x}n.toSetString=h?c:f;function p(x){return d(x)?x.slice(1):x}n.fromSetString=h?c:p;function d(x){if(!x)return!1;var C=x.length;if(C<9||x.charCodeAt(C-1)!==95||x.charCodeAt(C-2)!==95||x.charCodeAt(C-3)!==111||x.charCodeAt(C-4)!==116||x.charCodeAt(C-5)!==111||x.charCodeAt(C-6)!==114||x.charCodeAt(C-7)!==112||x.charCodeAt(C-8)!==95||x.charCodeAt(C-9)!==95)return!1;for(var E=C-10;E>=0;E--)if(x.charCodeAt(E)!==36)return!1;return!0}function g(x,C,E){var S=v(x.source,C.source);return S!==0||(S=x.originalLine-C.originalLine,S!==0)||(S=x.originalColumn-C.originalColumn,S!==0||E)||(S=x.generatedColumn-C.generatedColumn,S!==0)||(S=x.generatedLine-C.generatedLine,S!==0)?S:v(x.name,C.name)}n.compareByOriginalPositions=g;function m(x,C,E){var S=x.generatedLine-C.generatedLine;return S!==0||(S=x.generatedColumn-C.generatedColumn,S!==0||E)||(S=v(x.source,C.source),S!==0)||(S=x.originalLine-C.originalLine,S!==0)||(S=x.originalColumn-C.originalColumn,S!==0)?S:v(x.name,C.name)}n.compareByGeneratedPositionsDeflated=m;function v(x,C){return x===C?0:x===null?1:C===null?-1:x>C?1:-1}function w(x,C){var E=x.generatedLine-C.generatedLine;return E!==0||(E=x.generatedColumn-C.generatedColumn,E!==0)||(E=v(x.source,C.source),E!==0)||(E=x.originalLine-C.originalLine,E!==0)||(E=x.originalColumn-C.originalColumn,E!==0)?E:v(x.name,C.name)}n.compareByGeneratedPositionsInflated=w;function y(x){return JSON.parse(x.replace(/^\)]}'[^\n]*\n/,""))}n.parseSourceMapInput=y;function _(x,C,E){if(C=C||"",x&&(x[x.length-1]!=="/"&&C[0]!=="/"&&(x+="/"),C=x+C),E){var S=s(E);if(!S)throw new Error("sourceMapURL could not be parsed");if(S.path){var D=S.path.lastIndexOf("/");D>=0&&(S.path=S.path.substring(0,D+1))}C=l(o(S),C)}return a(C)}n.computeSourceURL=_})(pv)),pv}var mv={},uC;function b3(){if(uC)return mv;uC=1;var n=Af(),t=Object.prototype.hasOwnProperty,r=typeof Map<"u";function i(){this._array=[],this._set=r?new Map:Object.create(null)}return i.fromArray=function(o,a){for(var l=new i,u=0,h=o.length;u<h;u++)l.add(o[u],a);return l},i.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(o,a){var l=r?o:n.toSetString(o),u=r?this.has(o):t.call(this._set,l),h=this._array.length;(!u||a)&&this._array.push(o),u||(r?this._set.set(o,h):this._set[l]=h)},i.prototype.has=function(o){if(r)return this._set.has(o);var a=n.toSetString(o);return t.call(this._set,a)},i.prototype.indexOf=function(o){if(r){var a=this._set.get(o);if(a>=0)return a}else{var l=n.toSetString(o);if(t.call(this._set,l))return this._set[l]}throw new Error('"'+o+'" is not in the set.')},i.prototype.at=function(o){if(o>=0&&o<this._array.length)return this._array[o];throw new Error("No element indexed by "+o)},i.prototype.toArray=function(){return this._array.slice()},mv.ArraySet=i,mv}var gv={},cC;function YX(){if(cC)return gv;cC=1;var n=Af();function t(i,s){var o=i.generatedLine,a=s.generatedLine,l=i.generatedColumn,u=s.generatedColumn;return a>o||a==o&&u>=l||n.compareByGeneratedPositionsInflated(i,s)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(s,o){this._array.forEach(s,o)},r.prototype.add=function(s){t(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},gv.MappingList=r,gv}var hC;function x3(){if(hC)return dv;hC=1;var n=y3(),t=Af(),r=b3().ArraySet,i=YX().MappingList;function s(o){o||(o={}),this._file=t.getArg(o,"file",null),this._sourceRoot=t.getArg(o,"sourceRoot",null),this._skipValidation=t.getArg(o,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new i,this._sourcesContents=null}return s.prototype._version=3,s.fromSourceMap=function(a){var l=a.sourceRoot,u=new s({file:a.file,sourceRoot:l});return a.eachMapping(function(h){var c={generated:{line:h.generatedLine,column:h.generatedColumn}};h.source!=null&&(c.source=h.source,l!=null&&(c.source=t.relative(l,c.source)),c.original={line:h.originalLine,column:h.originalColumn},h.name!=null&&(c.name=h.name)),u.addMapping(c)}),a.sources.forEach(function(h){var c=h;l!==null&&(c=t.relative(l,h)),u._sources.has(c)||u._sources.add(c);var f=a.sourceContentFor(h);f!=null&&u.setSourceContent(h,f)}),u},s.prototype.addMapping=function(a){var l=t.getArg(a,"generated"),u=t.getArg(a,"original",null),h=t.getArg(a,"source",null),c=t.getArg(a,"name",null);this._skipValidation||this._validateMapping(l,u,h,c),h!=null&&(h=String(h),this._sources.has(h)||this._sources.add(h)),c!=null&&(c=String(c),this._names.has(c)||this._names.add(c)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:u!=null&&u.line,originalColumn:u!=null&&u.column,source:h,name:c})},s.prototype.setSourceContent=function(a,l){var u=a;this._sourceRoot!=null&&(u=t.relative(this._sourceRoot,u)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(u)]=l):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(u)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(a,l,u){var h=l;if(l==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);h=a.file}var c=this._sourceRoot;c!=null&&(h=t.relative(c,h));var f=new r,p=new r;this._mappings.unsortedForEach(function(d){if(d.source===h&&d.originalLine!=null){var g=a.originalPositionFor({line:d.originalLine,column:d.originalColumn});g.source!=null&&(d.source=g.source,u!=null&&(d.source=t.join(u,d.source)),c!=null&&(d.source=t.relative(c,d.source)),d.originalLine=g.line,d.originalColumn=g.column,g.name!=null&&(d.name=g.name))}var m=d.source;m!=null&&!f.has(m)&&f.add(m);var v=d.name;v!=null&&!p.has(v)&&p.add(v)},this),this._sources=f,this._names=p,a.sources.forEach(function(d){var g=a.sourceContentFor(d);g!=null&&(u!=null&&(d=t.join(u,d)),c!=null&&(d=t.relative(c,d)),this.setSourceContent(d,g))},this)},s.prototype._validateMapping=function(a,l,u,h){if(l&&typeof l.line!="number"&&typeof l.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!l&&!u&&!h)){if(a&&"line"in a&&"column"in a&&l&&"line"in l&&"column"in l&&a.line>0&&a.column>=0&&l.line>0&&l.column>=0&&u)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:u,original:l,name:h}))}},s.prototype._serializeMappings=function(){for(var a=0,l=1,u=0,h=0,c=0,f=0,p="",d,g,m,v,w=this._mappings.toArray(),y=0,_=w.length;y<_;y++){if(g=w[y],d="",g.generatedLine!==l)for(a=0;g.generatedLine!==l;)d+=";",l++;else if(y>0){if(!t.compareByGeneratedPositionsInflated(g,w[y-1]))continue;d+=","}d+=n.encode(g.generatedColumn-a),a=g.generatedColumn,g.source!=null&&(v=this._sources.indexOf(g.source),d+=n.encode(v-f),f=v,d+=n.encode(g.originalLine-1-h),h=g.originalLine-1,d+=n.encode(g.originalColumn-u),u=g.originalColumn,g.name!=null&&(m=this._names.indexOf(g.name),d+=n.encode(m-c),c=m)),p+=d}return p},s.prototype._generateSourcesContent=function(a,l){return a.map(function(u){if(!this._sourcesContents)return null;l!=null&&(u=t.relative(l,u));var h=t.toSetString(u);return Object.prototype.hasOwnProperty.call(this._sourcesContents,h)?this._sourcesContents[h]:null},this)},s.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},dv.SourceMapGenerator=s,dv}var qc={},vv={},fC;function KX(){return fC||(fC=1,(function(n){n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2;function t(r,i,s,o,a,l){var u=Math.floor((i-r)/2)+r,h=a(s,o[u],!0);return h===0?u:h>0?i-u>1?t(u,i,s,o,a,l):l==n.LEAST_UPPER_BOUND?i<o.length?i:-1:u:u-r>1?t(r,u,s,o,a,l):l==n.LEAST_UPPER_BOUND?u:r<0?-1:r}n.search=function(i,s,o,a){if(s.length===0)return-1;var l=t(-1,s.length,i,s,o,a||n.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&o(s[l],s[l-1],!0)===0;)--l;return l}})(vv)),vv}var yv={},dC;function ZX(){if(dC)return yv;dC=1;function n(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function t(i,s){return Math.round(i+Math.random()*(s-i))}function r(i,s,o,a){if(o<a){var l=t(o,a),u=o-1;n(i,l,a);for(var h=i[a],c=o;c<a;c++)s(i[c],h)<=0&&(u+=1,n(i,u,c));n(i,u+1,c);var f=u+1;r(i,s,o,f-1),r(i,s,f+1,a)}}return yv.quickSort=function(i,s){r(i,s,0,i.length-1)},yv}var pC;function JX(){if(pC)return qc;pC=1;var n=Af(),t=KX(),r=b3().ArraySet,i=y3(),s=ZX().quickSort;function o(h,c){var f=h;return typeof h=="string"&&(f=n.parseSourceMapInput(h)),f.sections!=null?new u(f,c):new a(f,c)}o.fromSourceMap=function(h,c){return a.fromSourceMap(h,c)},o.prototype._version=3,o.prototype.__generatedMappings=null,Object.defineProperty(o.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),o.prototype.__originalMappings=null,Object.defineProperty(o.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),o.prototype._charIsMappingSeparator=function(c,f){var p=c.charAt(f);return p===";"||p===","},o.prototype._parseMappings=function(c,f){throw new Error("Subclasses must implement _parseMappings")},o.GENERATED_ORDER=1,o.ORIGINAL_ORDER=2,o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.prototype.eachMapping=function(c,f,p){var d=f||null,g=p||o.GENERATED_ORDER,m;switch(g){case o.GENERATED_ORDER:m=this._generatedMappings;break;case o.ORIGINAL_ORDER:m=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;m.map(function(w){var y=w.source===null?null:this._sources.at(w.source);return y=n.computeSourceURL(v,y,this._sourceMapURL),{source:y,generatedLine:w.generatedLine,generatedColumn:w.generatedColumn,originalLine:w.originalLine,originalColumn:w.originalColumn,name:w.name===null?null:this._names.at(w.name)}},this).forEach(c,d)},o.prototype.allGeneratedPositionsFor=function(c){var f=n.getArg(c,"line"),p={source:n.getArg(c,"source"),originalLine:f,originalColumn:n.getArg(c,"column",0)};if(p.source=this._findSourceIndex(p.source),p.source<0)return[];var d=[],g=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(g>=0){var m=this._originalMappings[g];if(c.column===void 0)for(var v=m.originalLine;m&&m.originalLine===v;)d.push({line:n.getArg(m,"generatedLine",null),column:n.getArg(m,"generatedColumn",null),lastColumn:n.getArg(m,"lastGeneratedColumn",null)}),m=this._originalMappings[++g];else for(var w=m.originalColumn;m&&m.originalLine===f&&m.originalColumn==w;)d.push({line:n.getArg(m,"generatedLine",null),column:n.getArg(m,"generatedColumn",null),lastColumn:n.getArg(m,"lastGeneratedColumn",null)}),m=this._originalMappings[++g]}return d},qc.SourceMapConsumer=o;function a(h,c){var f=h;typeof h=="string"&&(f=n.parseSourceMapInput(h));var p=n.getArg(f,"version"),d=n.getArg(f,"sources"),g=n.getArg(f,"names",[]),m=n.getArg(f,"sourceRoot",null),v=n.getArg(f,"sourcesContent",null),w=n.getArg(f,"mappings"),y=n.getArg(f,"file",null);if(p!=this._version)throw new Error("Unsupported version: "+p);m&&(m=n.normalize(m)),d=d.map(String).map(n.normalize).map(function(_){return m&&n.isAbsolute(m)&&n.isAbsolute(_)?n.relative(m,_):_}),this._names=r.fromArray(g.map(String),!0),this._sources=r.fromArray(d,!0),this._absoluteSources=this._sources.toArray().map(function(_){return n.computeSourceURL(m,_,c)}),this.sourceRoot=m,this.sourcesContent=v,this._mappings=w,this._sourceMapURL=c,this.file=y}a.prototype=Object.create(o.prototype),a.prototype.consumer=o,a.prototype._findSourceIndex=function(h){var c=h;if(this.sourceRoot!=null&&(c=n.relative(this.sourceRoot,c)),this._sources.has(c))return this._sources.indexOf(c);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==h)return f;return-1},a.fromSourceMap=function(c,f){var p=Object.create(a.prototype),d=p._names=r.fromArray(c._names.toArray(),!0),g=p._sources=r.fromArray(c._sources.toArray(),!0);p.sourceRoot=c._sourceRoot,p.sourcesContent=c._generateSourcesContent(p._sources.toArray(),p.sourceRoot),p.file=c._file,p._sourceMapURL=f,p._absoluteSources=p._sources.toArray().map(function(E){return n.computeSourceURL(p.sourceRoot,E,f)});for(var m=c._mappings.toArray().slice(),v=p.__generatedMappings=[],w=p.__originalMappings=[],y=0,_=m.length;y<_;y++){var x=m[y],C=new l;C.generatedLine=x.generatedLine,C.generatedColumn=x.generatedColumn,x.source&&(C.source=g.indexOf(x.source),C.originalLine=x.originalLine,C.originalColumn=x.originalColumn,x.name&&(C.name=d.indexOf(x.name)),w.push(C)),v.push(C)}return s(p.__originalMappings,n.compareByOriginalPositions),p},a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}a.prototype._parseMappings=function(c,f){for(var p=1,d=0,g=0,m=0,v=0,w=0,y=c.length,_=0,x={},C={},E=[],S=[],D,A,N,F,T;_<y;)if(c.charAt(_)===";")p++,_++,d=0;else if(c.charAt(_)===",")_++;else{for(D=new l,D.generatedLine=p,F=_;F<y&&!this._charIsMappingSeparator(c,F);F++);if(A=c.slice(_,F),N=x[A],N)_+=A.length;else{for(N=[];_<F;)i.decode(c,_,C),T=C.value,_=C.rest,N.push(T);if(N.length===2)throw new Error("Found a source, but no line and column");if(N.length===3)throw new Error("Found a source and line, but no column");x[A]=N}D.generatedColumn=d+N[0],d=D.generatedColumn,N.length>1&&(D.source=v+N[1],v+=N[1],D.originalLine=g+N[2],g=D.originalLine,D.originalLine+=1,D.originalColumn=m+N[3],m=D.originalColumn,N.length>4&&(D.name=w+N[4],w+=N[4])),S.push(D),typeof D.originalLine=="number"&&E.push(D)}s(S,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,s(E,n.compareByOriginalPositions),this.__originalMappings=E},a.prototype._findMapping=function(c,f,p,d,g,m){if(c[p]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+c[p]);if(c[d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+c[d]);return t.search(c,f,g,m)},a.prototype.computeColumnSpans=function(){for(var c=0;c<this._generatedMappings.length;++c){var f=this._generatedMappings[c];if(c+1<this._generatedMappings.length){var p=this._generatedMappings[c+1];if(f.generatedLine===p.generatedLine){f.lastGeneratedColumn=p.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},a.prototype.originalPositionFor=function(c){var f={generatedLine:n.getArg(c,"line"),generatedColumn:n.getArg(c,"column")},p=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(c,"bias",o.GREATEST_LOWER_BOUND));if(p>=0){var d=this._generatedMappings[p];if(d.generatedLine===f.generatedLine){var g=n.getArg(d,"source",null);g!==null&&(g=this._sources.at(g),g=n.computeSourceURL(this.sourceRoot,g,this._sourceMapURL));var m=n.getArg(d,"name",null);return m!==null&&(m=this._names.at(m)),{source:g,line:n.getArg(d,"originalLine",null),column:n.getArg(d,"originalColumn",null),name:m}}}return{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(c){return c==null}):!1},a.prototype.sourceContentFor=function(c,f){if(!this.sourcesContent)return null;var p=this._findSourceIndex(c);if(p>=0)return this.sourcesContent[p];var d=c;this.sourceRoot!=null&&(d=n.relative(this.sourceRoot,d));var g;if(this.sourceRoot!=null&&(g=n.urlParse(this.sourceRoot))){var m=d.replace(/^file:\/\//,"");if(g.scheme=="file"&&this._sources.has(m))return this.sourcesContent[this._sources.indexOf(m)];if((!g.path||g.path=="/")&&this._sources.has("/"+d))return this.sourcesContent[this._sources.indexOf("/"+d)]}if(f)return null;throw new Error('"'+d+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(c){var f=n.getArg(c,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var p={source:f,originalLine:n.getArg(c,"line"),originalColumn:n.getArg(c,"column")},d=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(c,"bias",o.GREATEST_LOWER_BOUND));if(d>=0){var g=this._originalMappings[d];if(g.source===p.source)return{line:n.getArg(g,"generatedLine",null),column:n.getArg(g,"generatedColumn",null),lastColumn:n.getArg(g,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},qc.BasicSourceMapConsumer=a;function u(h,c){var f=h;typeof h=="string"&&(f=n.parseSourceMapInput(h));var p=n.getArg(f,"version"),d=n.getArg(f,"sections");if(p!=this._version)throw new Error("Unsupported version: "+p);this._sources=new r,this._names=new r;var g={line:-1,column:0};this._sections=d.map(function(m){if(m.url)throw new Error("Support for url field in sections not implemented.");var v=n.getArg(m,"offset"),w=n.getArg(v,"line"),y=n.getArg(v,"column");if(w<g.line||w===g.line&&y<g.column)throw new Error("Section offsets must be ordered and non-overlapping.");return g=v,{generatedOffset:{generatedLine:w+1,generatedColumn:y+1},consumer:new o(n.getArg(m,"map"),c)}})}return u.prototype=Object.create(o.prototype),u.prototype.constructor=o,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var h=[],c=0;c<this._sections.length;c++)for(var f=0;f<this._sections[c].consumer.sources.length;f++)h.push(this._sections[c].consumer.sources[f]);return h}}),u.prototype.originalPositionFor=function(c){var f={generatedLine:n.getArg(c,"line"),generatedColumn:n.getArg(c,"column")},p=t.search(f,this._sections,function(g,m){var v=g.generatedLine-m.generatedOffset.generatedLine;return v||g.generatedColumn-m.generatedOffset.generatedColumn}),d=this._sections[p];return d?d.consumer.originalPositionFor({line:f.generatedLine-(d.generatedOffset.generatedLine-1),column:f.generatedColumn-(d.generatedOffset.generatedLine===f.generatedLine?d.generatedOffset.generatedColumn-1:0),bias:c.bias}):{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(c){return c.consumer.hasContentsOfAllSources()})},u.prototype.sourceContentFor=function(c,f){for(var p=0;p<this._sections.length;p++){var d=this._sections[p],g=d.consumer.sourceContentFor(c,!0);if(g)return g}if(f)return null;throw new Error('"'+c+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(c){for(var f=0;f<this._sections.length;f++){var p=this._sections[f];if(p.consumer._findSourceIndex(n.getArg(c,"source"))!==-1){var d=p.consumer.generatedPositionFor(c);if(d){var g={line:d.line+(p.generatedOffset.generatedLine-1),column:d.column+(p.generatedOffset.generatedLine===d.line?p.generatedOffset.generatedColumn-1:0)};return g}}}return{line:null,column:null}},u.prototype._parseMappings=function(c,f){this.__generatedMappings=[],this.__originalMappings=[];for(var p=0;p<this._sections.length;p++)for(var d=this._sections[p],g=d.consumer._generatedMappings,m=0;m<g.length;m++){var v=g[m],w=d.consumer._sources.at(v.source);w=n.computeSourceURL(d.consumer.sourceRoot,w,this._sourceMapURL),this._sources.add(w),w=this._sources.indexOf(w);var y=null;v.name&&(y=d.consumer._names.at(v.name),this._names.add(y),y=this._names.indexOf(y));var _={source:w,generatedLine:v.generatedLine+(d.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(d.generatedOffset.generatedLine===v.generatedLine?d.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:y};this.__generatedMappings.push(_),typeof _.originalLine=="number"&&this.__originalMappings.push(_)}s(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),s(this.__originalMappings,n.compareByOriginalPositions)},qc.IndexedSourceMapConsumer=u,qc}var bv={},mC;function QX(){if(mC)return bv;mC=1;var n=x3().SourceMapGenerator,t=Af(),r=/(\r?\n)/,i=10,s="$$$isSourceNode$$$";function o(a,l,u,h,c){this.children=[],this.sourceContents={},this.line=a??null,this.column=l??null,this.source=u??null,this.name=c??null,this[s]=!0,h!=null&&this.add(h)}return o.fromStringWithSourceMap=function(l,u,h){var c=new o,f=l.split(r),p=0,d=function(){var y=x(),_=x()||"";return y+_;function x(){return p<f.length?f[p++]:void 0}},g=1,m=0,v=null;return u.eachMapping(function(y){if(v!==null)if(g<y.generatedLine)w(v,d()),g++,m=0;else{var _=f[p]||"",x=_.substr(0,y.generatedColumn-m);f[p]=_.substr(y.generatedColumn-m),m=y.generatedColumn,w(v,x),v=y;return}for(;g<y.generatedLine;)c.add(d()),g++;if(m<y.generatedColumn){var _=f[p]||"";c.add(_.substr(0,y.generatedColumn)),f[p]=_.substr(y.generatedColumn),m=y.generatedColumn}v=y},this),p<f.length&&(v&&w(v,d()),c.add(f.splice(p).join(""))),u.sources.forEach(function(y){var _=u.sourceContentFor(y);_!=null&&(h!=null&&(y=t.join(h,y)),c.setSourceContent(y,_))}),c;function w(y,_){if(y===null||y.source===void 0)c.add(_);else{var x=h?t.join(h,y.source):y.source;c.add(new o(y.originalLine,y.originalColumn,x,_,y.name))}}},o.prototype.add=function(l){if(Array.isArray(l))l.forEach(function(u){this.add(u)},this);else if(l[s]||typeof l=="string")l&&this.children.push(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},o.prototype.prepend=function(l){if(Array.isArray(l))for(var u=l.length-1;u>=0;u--)this.prepend(l[u]);else if(l[s]||typeof l=="string")this.children.unshift(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},o.prototype.walk=function(l){for(var u,h=0,c=this.children.length;h<c;h++)u=this.children[h],u[s]?u.walk(l):u!==""&&l(u,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(l){var u,h,c=this.children.length;if(c>0){for(u=[],h=0;h<c-1;h++)u.push(this.children[h]),u.push(l);u.push(this.children[h]),this.children=u}return this},o.prototype.replaceRight=function(l,u){var h=this.children[this.children.length-1];return h[s]?h.replaceRight(l,u):typeof h=="string"?this.children[this.children.length-1]=h.replace(l,u):this.children.push("".replace(l,u)),this},o.prototype.setSourceContent=function(l,u){this.sourceContents[t.toSetString(l)]=u},o.prototype.walkSourceContents=function(l){for(var u=0,h=this.children.length;u<h;u++)this.children[u][s]&&this.children[u].walkSourceContents(l);for(var c=Object.keys(this.sourceContents),u=0,h=c.length;u<h;u++)l(t.fromSetString(c[u]),this.sourceContents[c[u]])},o.prototype.toString=function(){var l="";return this.walk(function(u){l+=u}),l},o.prototype.toStringWithSourceMap=function(l){var u={code:"",line:1,column:0},h=new n(l),c=!1,f=null,p=null,d=null,g=null;return this.walk(function(m,v){u.code+=m,v.source!==null&&v.line!==null&&v.column!==null?((f!==v.source||p!==v.line||d!==v.column||g!==v.name)&&h.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:u.line,column:u.column},name:v.name}),f=v.source,p=v.line,d=v.column,g=v.name,c=!0):c&&(h.addMapping({generated:{line:u.line,column:u.column}}),f=null,c=!1);for(var w=0,y=m.length;w<y;w++)m.charCodeAt(w)===i?(u.line++,u.column=0,w+1===y?(f=null,c=!1):c&&h.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:u.line,column:u.column},name:v.name})):u.column++}),this.walkSourceContents(function(m,v){h.setSourceContent(m,v)}),{code:u.code,map:h}},bv.SourceNode=o,bv}var gC;function eY(){return gC||(gC=1,Wc.SourceMapGenerator=x3().SourceMapGenerator,Wc.SourceMapConsumer=JX().SourceMapConsumer,Wc.SourceNode=QX().SourceNode),Wc}const tY="2.1.0",nY={version:tY};var vC;function rY(){return vC||(vC=1,(function(n){(function(){var t,r,i,s,o,a,l,u,h,c,f,p,d,g,m,v,w,y,_,x,C,E,S,D,A,N;o=GX(),a=qX(),t=o.Syntax;function F(O){return ve.Expression.hasOwnProperty(O.type)}function T(O){return ve.Statement.hasOwnProperty(O.type)}r={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},i={"??":r.Coalesce,"||":r.LogicalOR,"&&":r.LogicalAND,"|":r.BitwiseOR,"^":r.BitwiseXOR,"&":r.BitwiseAND,"==":r.Equality,"!=":r.Equality,"===":r.Equality,"!==":r.Equality,is:r.Equality,isnt:r.Equality,"<":r.Relational,">":r.Relational,"<=":r.Relational,">=":r.Relational,in:r.Relational,instanceof:r.Relational,"<<":r.BitwiseSHIFT,">>":r.BitwiseSHIFT,">>>":r.BitwiseSHIFT,"+":r.Additive,"-":r.Additive,"*":r.Multiplicative,"%":r.Multiplicative,"/":r.Multiplicative,"**":r.Exponentiation};var I=1,M=2,L=4,B=8,$=16,q=32,Z=64,he=M|L,V=I|M,J=I|M|L,ge=I,W=L,z=I|L,de=I,K=I|q,ue=0,G=I|$,se=I|B;function ye(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Ee(O,ee){var X="";for(ee|=0;ee>0;ee>>>=1,O+=O)ee&1&&(X+=O);return X}function H(O){return/[\r\n]/g.test(O)}function Q(O){var ee=O.length;return ee&&a.code.isLineTerminator(O.charCodeAt(ee-1))}function re(O,ee){var X;for(X in ee)ee.hasOwnProperty(X)&&(O[X]=ee[X]);return O}function Ce(O,ee){var X,Y;function me(ze){return typeof ze=="object"&&ze instanceof Object&&!(ze instanceof RegExp)}for(X in ee)ee.hasOwnProperty(X)&&(Y=ee[X],me(Y)?me(O[X])?Ce(O[X],Y):O[X]=Ce({},Y):O[X]=Y);return O}function _e(O){var ee,X,Y,me,ze;if(O!==O)throw new Error("Numeric literal whose value is NaN");if(O<0||O===0&&1/O<0)throw new Error("Numeric literal whose value is negative");if(O===1/0)return h?"null":c?"1e400":"1e+400";if(ee=""+O,!c||ee.length<3)return ee;for(X=ee.indexOf("."),!h&&ee.charCodeAt(0)===48&&X===1&&(X=0,ee=ee.slice(1)),Y=ee,ee=ee.replace("e+","e"),me=0,(ze=Y.indexOf("e"))>0&&(me=+Y.slice(ze+1),Y=Y.slice(0,ze)),X>=0&&(me-=Y.length-X-1,Y=+(Y.slice(0,X)+Y.slice(X+1))+""),ze=0;Y.charCodeAt(Y.length+ze-1)===48;)--ze;return ze!==0&&(me-=ze,Y=Y.slice(0,ze)),me!==0&&(Y+="e"+me),(Y.length<ee.length||f&&O>1e12&&Math.floor(O)===O&&(Y="0x"+O.toString(16)).length<ee.length)&&+Y===O&&(ee=Y),ee}function Se(O,ee){return(O&-2)===8232?(ee?"u":"\\u")+(O===8232?"2028":"2029"):O===10||O===13?(ee?"":"\\")+(O===10?"n":"r"):String.fromCharCode(O)}function Te(O){var ee,X,Y,me,ze,qe,nt,gt;if(X=O.toString(),O.source){if(ee=X.match(/\/([^/]*)$/),!ee)return X;for(Y=ee[1],X="",nt=!1,gt=!1,me=0,ze=O.source.length;me<ze;++me)qe=O.source.charCodeAt(me),gt?(X+=Se(qe,gt),gt=!1):(nt?qe===93&&(nt=!1):qe===47?X+="\\":qe===91&&(nt=!0),X+=Se(qe,gt),gt=qe===92);return"/"+X+"/"+Y}return X}function De(O,ee){var X;return O===8?"\\b":O===12?"\\f":O===9?"\\t":(X=O.toString(16).toUpperCase(),h||O>255?"\\u"+"0000".slice(X.length)+X:O===0&&!a.code.isDecimalDigit(ee)?"\\0":O===11?"\\x0B":"\\x"+"00".slice(X.length)+X)}function be(O){if(O===92)return"\\\\";if(O===10)return"\\n";if(O===13)return"\\r";if(O===8232)return"\\u2028";if(O===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function xe(O){var ee,X,Y,me;for(me=p==="double"?'"':"'",ee=0,X=O.length;ee<X;++ee)if(Y=O.charCodeAt(ee),Y===39){me='"';break}else if(Y===34){me="'";break}else Y===92&&++ee;return me+O+me}function R(O){var ee="",X,Y,me,ze=0,qe=0,nt,gt;for(X=0,Y=O.length;X<Y;++X){if(me=O.charCodeAt(X),me===39)++ze;else if(me===34)++qe;else if(me===47&&h)ee+="\\";else if(a.code.isLineTerminator(me)||me===92){ee+=be(me);continue}else if(!a.code.isIdentifierPartES5(me)&&(h&&me<32||!h&&!d&&(me<32||me>126))){ee+=De(me,O.charCodeAt(X+1));continue}ee+=String.fromCharCode(me)}if(nt=!(p==="double"||p==="auto"&&qe<ze),gt=nt?"'":'"',!(nt?ze:qe))return gt+ee+gt;for(O=ee,ee=gt,X=0,Y=O.length;X<Y;++X)me=O.charCodeAt(X),(me===39&&nt||me===34&&!nt)&&(ee+="\\"),ee+=String.fromCharCode(me);return ee+gt}function Oe(O){var ee,X,Y,me="";for(ee=0,X=O.length;ee<X;++ee)Y=O[ee],me+=Array.isArray(Y)?Oe(Y):Y;return me}function Fe(O,ee){if(!E)return Array.isArray(O)?Oe(O):O;if(ee==null){if(O instanceof s)return O;ee={}}return ee.loc==null?new s(null,null,E,O,ee.name||null):new s(ee.loc.start.line,ee.loc.start.column,E===!0?ee.loc.source||null:E,O,ee.name||null)}function Je(){return m||" "}function We(O,ee){var X,Y,me,ze;return X=Fe(O).toString(),X.length===0?[ee]:(Y=Fe(ee).toString(),Y.length===0?[O]:(me=X.charCodeAt(X.length-1),ze=Y.charCodeAt(0),(me===43||me===45)&&me===ze||a.code.isIdentifierPartES5(me)&&a.code.isIdentifierPartES5(ze)||me===47&&ze===105?[O,Je(),ee]:a.code.isWhiteSpace(me)||a.code.isLineTerminator(me)||a.code.isWhiteSpace(ze)||a.code.isLineTerminator(ze)?[O,ee]:[O,m,ee]))}function ft(O){return[l,O]}function Ae(O){var ee;ee=l,l+=u,O(l),l=ee}function Pe(O){var ee;for(ee=O.length-1;ee>=0&&!a.code.isLineTerminator(O.charCodeAt(ee));--ee);return O.length-1-ee}function Be(O,ee){var X,Y,me,ze,qe,nt,gt,en;for(X=O.split(/\r\n|[\r\n]/),nt=Number.MAX_VALUE,Y=1,me=X.length;Y<me;++Y){for(ze=X[Y],qe=0;qe<ze.length&&a.code.isWhiteSpace(ze.charCodeAt(qe));)++qe;nt>qe&&(nt=qe)}for(typeof ee<"u"?(gt=l,X[1][nt]==="*"&&(ee+=" "),l=ee):(nt&1&&--nt,gt=l),Y=1,me=X.length;Y<me;++Y)en=Fe(ft(X[Y].slice(nt))),X[Y]=E?en.join(""):en;return l=gt,X.join(`
`)}function je(O,ee){if(O.type==="Line"){if(Q(O.value))return"//"+O.value;var X="//"+O.value;return D||(X+=`
`),X}return x.format.indent.adjustMultilineComment&&/[\n\r]/.test(O.value)?Be("/*"+O.value+"*/",ee):"/*"+O.value+"*/"}function $e(O,ee){var X,Y,me,ze,qe,nt,gt,en,tn,Vn,ur,Or,vt,ii;if(O.leadingComments&&O.leadingComments.length>0){if(ze=ee,D){for(me=O.leadingComments[0],ee=[],en=me.extendedRange,tn=me.range,ur=S.substring(en[0],tn[0]),ii=(ur.match(/\n/g)||[]).length,ii>0?(ee.push(Ee(`
`,ii)),ee.push(ft(je(me)))):(ee.push(ur),ee.push(je(me))),Vn=tn,X=1,Y=O.leadingComments.length;X<Y;X++)me=O.leadingComments[X],tn=me.range,Or=S.substring(Vn[1],tn[0]),ii=(Or.match(/\n/g)||[]).length,ee.push(Ee(`
`,ii)),ee.push(ft(je(me))),Vn=tn;vt=S.substring(tn[1],en[1]),ii=(vt.match(/\n/g)||[]).length,ee.push(Ee(`
`,ii))}else for(me=O.leadingComments[0],ee=[],y&&O.type===t.Program&&O.body.length===0&&ee.push(`
`),ee.push(je(me)),Q(Fe(ee).toString())||ee.push(`
`),X=1,Y=O.leadingComments.length;X<Y;++X)me=O.leadingComments[X],gt=[je(me)],Q(Fe(gt).toString())||gt.push(`
`),ee.push(ft(gt));ee.push(ft(ze))}if(O.trailingComments)if(D)me=O.trailingComments[0],en=me.extendedRange,tn=me.range,ur=S.substring(en[0],tn[0]),ii=(ur.match(/\n/g)||[]).length,ii>0?(ee.push(Ee(`
`,ii)),ee.push(ft(je(me)))):(ee.push(ur),ee.push(je(me)));else for(qe=!Q(Fe(ee).toString()),nt=Ee(" ",Pe(Fe([l,ee,u]).toString())),X=0,Y=O.trailingComments.length;X<Y;++X)me=O.trailingComments[X],qe?(X===0?ee=[ee,u]:ee=[ee,nt],ee.push(je(me,nt))):ee=[ee,ft(je(me))],X!==Y-1&&!Q(Fe(ee).toString())&&(ee=[ee,`
`]);return ee}function P(O,ee,X){var Y,me=0;for(Y=O;Y<ee;Y++)S[Y]===`
`&&me++;for(Y=1;Y<me;Y++)X.push(g)}function j(O,ee,X){return ee<X?["(",O,")"]:O}function oe(O){var ee,X,Y;for(Y=O.split(/\r\n|\n/),ee=1,X=Y.length;ee<X;ee++)Y[ee]=g+l+Y[ee];return Y}function pe(O,ee){var X,Y,me;return X=O[x.verbatim],typeof X=="string"?Y=j(oe(X),r.Sequence,ee):(Y=oe(X.content),me=X.precedence!=null?X.precedence:r.Sequence,Y=j(Y,me,ee)),Fe(Y,O)}function ve(){}ve.prototype.maybeBlock=function(O,ee){var X,Y,me=this;return Y=!x.comment||!O.leadingComments,O.type===t.BlockStatement&&Y?[m,this.generateStatement(O,ee)]:O.type===t.EmptyStatement&&Y?";":(Ae(function(){X=[g,ft(me.generateStatement(O,ee))]}),X)},ve.prototype.maybeBlockSuffix=function(O,ee){var X=Q(Fe(ee).toString());return O.type===t.BlockStatement&&(!x.comment||!O.leadingComments)&&!X?[ee,m]:X?[ee,l]:[ee,g,l]};function Ne(O){return Fe(O.name,O)}function Ie(O,ee){return O.async?"async"+(ee?Je():m):""}function Xe(O){var ee=O.generator&&!x.moz.starlessGenerator;return ee?"*"+m:""}function tt(O){var ee=O.value,X="";return ee.async&&(X+=Ie(ee,!O.computed)),ee.generator&&(X+=Xe(ee)?"*":""),X}ve.prototype.generatePattern=function(O,ee,X){return O.type===t.Identifier?Ne(O):this.generateExpression(O,ee,X)},ve.prototype.generateFunctionParams=function(O){var ee,X,Y,me;if(me=!1,O.type===t.ArrowFunctionExpression&&!O.rest&&(!O.defaults||O.defaults.length===0)&&O.params.length===1&&O.params[0].type===t.Identifier)Y=[Ie(O,!0),Ne(O.params[0])];else{for(Y=O.type===t.ArrowFunctionExpression?[Ie(O,!1)]:[],Y.push("("),O.defaults&&(me=!0),ee=0,X=O.params.length;ee<X;++ee)me&&O.defaults[ee]?Y.push(this.generateAssignment(O.params[ee],O.defaults[ee],"=",r.Assignment,J)):Y.push(this.generatePattern(O.params[ee],r.Assignment,J)),ee+1<X&&Y.push(","+m);O.rest&&(O.params.length&&Y.push(","+m),Y.push("..."),Y.push(Ne(O.rest))),Y.push(")")}return Y},ve.prototype.generateFunctionBody=function(O){var ee,X;return ee=this.generateFunctionParams(O),O.type===t.ArrowFunctionExpression&&(ee.push(m),ee.push("=>")),O.expression?(ee.push(m),X=this.generateExpression(O.body,r.Assignment,J),X.toString().charAt(0)==="{"&&(X=["(",X,")"]),ee.push(X)):ee.push(this.maybeBlock(O.body,se)),ee},ve.prototype.generateIterationForStatement=function(O,ee,X){var Y=["for"+(ee.await?Je()+"await":"")+m+"("],me=this;return Ae(function(){ee.left.type===t.VariableDeclaration?Ae(function(){Y.push(ee.left.kind+Je()),Y.push(me.generateStatement(ee.left.declarations[0],ue))}):Y.push(me.generateExpression(ee.left,r.Call,J)),Y=We(Y,O),Y=[We(Y,me.generateExpression(ee.right,r.Assignment,J)),")"]}),Y.push(this.maybeBlock(ee.body,X)),Y},ve.prototype.generatePropertyKey=function(O,ee){var X=[];return ee&&X.push("["),X.push(this.generateExpression(O,r.Assignment,J)),ee&&X.push("]"),X},ve.prototype.generateAssignment=function(O,ee,X,Y,me){return r.Assignment<Y&&(me|=I),j([this.generateExpression(O,r.Call,me),m+X+m,this.generateExpression(ee,r.Assignment,me)],r.Assignment,Y)},ve.prototype.semicolon=function(O){return!w&&O&q?"":";"},ve.Statement={BlockStatement:function(O,ee){var X,Y,me=["{",g],ze=this;return Ae(function(){O.body.length===0&&D&&(X=O.range,X[1]-X[0]>2&&(Y=S.substring(X[0]+1,X[1]-1),Y[0]===`
`&&(me=["{"]),me.push(Y)));var qe,nt,gt,en;for(en=de,ee&B&&(en|=$),qe=0,nt=O.body.length;qe<nt;++qe)D&&(qe===0&&(O.body[0].leadingComments&&(X=O.body[0].leadingComments[0].extendedRange,Y=S.substring(X[0],X[1]),Y[0]===`
`&&(me=["{"])),O.body[0].leadingComments||P(O.range[0],O.body[0].range[0],me)),qe>0&&!O.body[qe-1].trailingComments&&!O.body[qe].leadingComments&&P(O.body[qe-1].range[1],O.body[qe].range[0],me)),qe===nt-1&&(en|=q),O.body[qe].leadingComments&&D?gt=ze.generateStatement(O.body[qe],en):gt=ft(ze.generateStatement(O.body[qe],en)),me.push(gt),Q(Fe(gt).toString())||D&&qe<nt-1&&O.body[qe+1].leadingComments||me.push(g),D&&qe===nt-1&&(O.body[qe].trailingComments||P(O.body[qe].range[1],O.range[1],me))}),me.push(ft("}")),me},BreakStatement:function(O,ee){return O.label?"break "+O.label.name+this.semicolon(ee):"break"+this.semicolon(ee)},ContinueStatement:function(O,ee){return O.label?"continue "+O.label.name+this.semicolon(ee):"continue"+this.semicolon(ee)},ClassBody:function(O,ee){var X=["{",g],Y=this;return Ae(function(me){var ze,qe;for(ze=0,qe=O.body.length;ze<qe;++ze)X.push(me),X.push(Y.generateExpression(O.body[ze],r.Sequence,J)),ze+1<qe&&X.push(g)}),Q(Fe(X).toString())||X.push(g),X.push(l),X.push("}"),X},ClassDeclaration:function(O,ee){var X,Y;return X=["class"],O.id&&(X=We(X,this.generateExpression(O.id,r.Sequence,J))),O.superClass&&(Y=We("extends",this.generateExpression(O.superClass,r.Unary,J)),X=We(X,Y)),X.push(m),X.push(this.generateStatement(O.body,K)),X},DirectiveStatement:function(O,ee){return x.raw&&O.raw?O.raw+this.semicolon(ee):xe(O.directive)+this.semicolon(ee)},DoWhileStatement:function(O,ee){var X=We("do",this.maybeBlock(O.body,de));return X=this.maybeBlockSuffix(O.body,X),We(X,["while"+m+"(",this.generateExpression(O.test,r.Sequence,J),")"+this.semicolon(ee)])},CatchClause:function(O,ee){var X,Y=this;return Ae(function(){var me;O.param?(X=["catch"+m+"(",Y.generateExpression(O.param,r.Sequence,J),")"],O.guard&&(me=Y.generateExpression(O.guard,r.Sequence,J),X.splice(2,0," if ",me))):X=["catch"]}),X.push(this.maybeBlock(O.body,de)),X},DebuggerStatement:function(O,ee){return"debugger"+this.semicolon(ee)},EmptyStatement:function(O,ee){return";"},ExportDefaultDeclaration:function(O,ee){var X=["export"],Y;return Y=ee&q?K:de,X=We(X,"default"),T(O.declaration)?X=We(X,this.generateStatement(O.declaration,Y)):X=We(X,this.generateExpression(O.declaration,r.Assignment,J)+this.semicolon(ee)),X},ExportNamedDeclaration:function(O,ee){var X=["export"],Y,me=this;return Y=ee&q?K:de,O.declaration?We(X,this.generateStatement(O.declaration,Y)):(O.specifiers&&(O.specifiers.length===0?X=We(X,"{"+m+"}"):O.specifiers[0].type===t.ExportBatchSpecifier?X=We(X,this.generateExpression(O.specifiers[0],r.Sequence,J)):(X=We(X,"{"),Ae(function(ze){var qe,nt;for(X.push(g),qe=0,nt=O.specifiers.length;qe<nt;++qe)X.push(ze),X.push(me.generateExpression(O.specifiers[qe],r.Sequence,J)),qe+1<nt&&X.push(","+g)}),Q(Fe(X).toString())||X.push(g),X.push(l+"}")),O.source?X=We(X,["from"+m,this.generateExpression(O.source,r.Sequence,J),this.semicolon(ee)]):X.push(this.semicolon(ee))),X)},ExportAllDeclaration:function(O,ee){return["export"+m,"*"+m,"from"+m,this.generateExpression(O.source,r.Sequence,J),this.semicolon(ee)]},ExpressionStatement:function(O,ee){var X,Y;function me(nt){var gt;return nt.slice(0,5)!=="class"?!1:(gt=nt.charCodeAt(5),gt===123||a.code.isWhiteSpace(gt)||a.code.isLineTerminator(gt))}function ze(nt){var gt;return nt.slice(0,8)!=="function"?!1:(gt=nt.charCodeAt(8),gt===40||a.code.isWhiteSpace(gt)||gt===42||a.code.isLineTerminator(gt))}function qe(nt){var gt,en,tn;if(nt.slice(0,5)!=="async"||!a.code.isWhiteSpace(nt.charCodeAt(5)))return!1;for(en=6,tn=nt.length;en<tn&&a.code.isWhiteSpace(nt.charCodeAt(en));++en);return en===tn||nt.slice(en,en+8)!=="function"?!1:(gt=nt.charCodeAt(en+8),gt===40||a.code.isWhiteSpace(gt)||gt===42||a.code.isLineTerminator(gt))}return X=[this.generateExpression(O.expression,r.Sequence,J)],Y=Fe(X).toString(),Y.charCodeAt(0)===123||me(Y)||ze(Y)||qe(Y)||_&&ee&$&&O.expression.type===t.Literal&&typeof O.expression.value=="string"?X=["(",X,")"+this.semicolon(ee)]:X.push(this.semicolon(ee)),X},ImportDeclaration:function(O,ee){var X,Y,me=this;return O.specifiers.length===0?["import",m,this.generateExpression(O.source,r.Sequence,J),this.semicolon(ee)]:(X=["import"],Y=0,O.specifiers[Y].type===t.ImportDefaultSpecifier&&(X=We(X,[this.generateExpression(O.specifiers[Y],r.Sequence,J)]),++Y),O.specifiers[Y]&&(Y!==0&&X.push(","),O.specifiers[Y].type===t.ImportNamespaceSpecifier?X=We(X,[m,this.generateExpression(O.specifiers[Y],r.Sequence,J)]):(X.push(m+"{"),O.specifiers.length-Y===1?(X.push(m),X.push(this.generateExpression(O.specifiers[Y],r.Sequence,J)),X.push(m+"}"+m)):(Ae(function(ze){var qe,nt;for(X.push(g),qe=Y,nt=O.specifiers.length;qe<nt;++qe)X.push(ze),X.push(me.generateExpression(O.specifiers[qe],r.Sequence,J)),qe+1<nt&&X.push(","+g)}),Q(Fe(X).toString())||X.push(g),X.push(l+"}"+m)))),X=We(X,["from"+m,this.generateExpression(O.source,r.Sequence,J),this.semicolon(ee)]),X)},VariableDeclarator:function(O,ee){var X=ee&I?J:he;return O.init?[this.generateExpression(O.id,r.Assignment,X),m,"=",m,this.generateExpression(O.init,r.Assignment,X)]:this.generatePattern(O.id,r.Assignment,X)},VariableDeclaration:function(O,ee){var X,Y,me,ze,qe,nt=this;X=[O.kind],qe=ee&I?de:ue;function gt(){for(ze=O.declarations[0],x.comment&&ze.leadingComments?(X.push(`
`),X.push(ft(nt.generateStatement(ze,qe)))):(X.push(Je()),X.push(nt.generateStatement(ze,qe))),Y=1,me=O.declarations.length;Y<me;++Y)ze=O.declarations[Y],x.comment&&ze.leadingComments?(X.push(","+g),X.push(ft(nt.generateStatement(ze,qe)))):(X.push(","+m),X.push(nt.generateStatement(ze,qe)))}return O.declarations.length>1?Ae(gt):gt(),X.push(this.semicolon(ee)),X},ThrowStatement:function(O,ee){return[We("throw",this.generateExpression(O.argument,r.Sequence,J)),this.semicolon(ee)]},TryStatement:function(O,ee){var X,Y,me,ze;if(X=["try",this.maybeBlock(O.block,de)],X=this.maybeBlockSuffix(O.block,X),O.handlers)for(Y=0,me=O.handlers.length;Y<me;++Y)X=We(X,this.generateStatement(O.handlers[Y],de)),(O.finalizer||Y+1!==me)&&(X=this.maybeBlockSuffix(O.handlers[Y].body,X));else{for(ze=O.guardedHandlers||[],Y=0,me=ze.length;Y<me;++Y)X=We(X,this.generateStatement(ze[Y],de)),(O.finalizer||Y+1!==me)&&(X=this.maybeBlockSuffix(ze[Y].body,X));if(O.handler)if(Array.isArray(O.handler))for(Y=0,me=O.handler.length;Y<me;++Y)X=We(X,this.generateStatement(O.handler[Y],de)),(O.finalizer||Y+1!==me)&&(X=this.maybeBlockSuffix(O.handler[Y].body,X));else X=We(X,this.generateStatement(O.handler,de)),O.finalizer&&(X=this.maybeBlockSuffix(O.handler.body,X))}return O.finalizer&&(X=We(X,["finally",this.maybeBlock(O.finalizer,de)])),X},SwitchStatement:function(O,ee){var X,Y,me,ze,qe,nt=this;if(Ae(function(){X=["switch"+m+"(",nt.generateExpression(O.discriminant,r.Sequence,J),")"+m+"{"+g]}),O.cases)for(qe=de,me=0,ze=O.cases.length;me<ze;++me)me===ze-1&&(qe|=q),Y=ft(this.generateStatement(O.cases[me],qe)),X.push(Y),Q(Fe(Y).toString())||X.push(g);return X.push(ft("}")),X},SwitchCase:function(O,ee){var X,Y,me,ze,qe,nt=this;return Ae(function(){for(O.test?X=[We("case",nt.generateExpression(O.test,r.Sequence,J)),":"]:X=["default:"],me=0,ze=O.consequent.length,ze&&O.consequent[0].type===t.BlockStatement&&(Y=nt.maybeBlock(O.consequent[0],de),X.push(Y),me=1),me!==ze&&!Q(Fe(X).toString())&&X.push(g),qe=de;me<ze;++me)me===ze-1&&ee&q&&(qe|=q),Y=ft(nt.generateStatement(O.consequent[me],qe)),X.push(Y),me+1!==ze&&!Q(Fe(Y).toString())&&X.push(g)}),X},IfStatement:function(O,ee){var X,Y,me,ze=this;return Ae(function(){X=["if"+m+"(",ze.generateExpression(O.test,r.Sequence,J),")"]}),me=ee&q,Y=de,me&&(Y|=q),O.alternate?(X.push(this.maybeBlock(O.consequent,de)),X=this.maybeBlockSuffix(O.consequent,X),O.alternate.type===t.IfStatement?X=We(X,["else ",this.generateStatement(O.alternate,Y)]):X=We(X,We("else",this.maybeBlock(O.alternate,Y)))):X.push(this.maybeBlock(O.consequent,Y)),X},ForStatement:function(O,ee){var X,Y=this;return Ae(function(){X=["for"+m+"("],O.init?O.init.type===t.VariableDeclaration?X.push(Y.generateStatement(O.init,ue)):(X.push(Y.generateExpression(O.init,r.Sequence,he)),X.push(";")):X.push(";"),O.test&&(X.push(m),X.push(Y.generateExpression(O.test,r.Sequence,J))),X.push(";"),O.update&&(X.push(m),X.push(Y.generateExpression(O.update,r.Sequence,J))),X.push(")")}),X.push(this.maybeBlock(O.body,ee&q?K:de)),X},ForInStatement:function(O,ee){return this.generateIterationForStatement("in",O,ee&q?K:de)},ForOfStatement:function(O,ee){return this.generateIterationForStatement("of",O,ee&q?K:de)},LabeledStatement:function(O,ee){return[O.label.name+":",this.maybeBlock(O.body,ee&q?K:de)]},Program:function(O,ee){var X,Y,me,ze,qe;for(ze=O.body.length,X=[y&&ze>0?`
`:""],qe=G,me=0;me<ze;++me)!y&&me===ze-1&&(qe|=q),D&&(me===0&&(O.body[0].leadingComments||P(O.range[0],O.body[me].range[0],X)),me>0&&!O.body[me-1].trailingComments&&!O.body[me].leadingComments&&P(O.body[me-1].range[1],O.body[me].range[0],X)),Y=ft(this.generateStatement(O.body[me],qe)),X.push(Y),me+1<ze&&!Q(Fe(Y).toString())&&(D&&O.body[me+1].leadingComments||X.push(g)),D&&me===ze-1&&(O.body[me].trailingComments||P(O.body[me].range[1],O.range[1],X));return X},FunctionDeclaration:function(O,ee){return[Ie(O,!0),"function",Xe(O)||Je(),O.id?Ne(O.id):"",this.generateFunctionBody(O)]},ReturnStatement:function(O,ee){return O.argument?[We("return",this.generateExpression(O.argument,r.Sequence,J)),this.semicolon(ee)]:["return"+this.semicolon(ee)]},WhileStatement:function(O,ee){var X,Y=this;return Ae(function(){X=["while"+m+"(",Y.generateExpression(O.test,r.Sequence,J),")"]}),X.push(this.maybeBlock(O.body,ee&q?K:de)),X},WithStatement:function(O,ee){var X,Y=this;return Ae(function(){X=["with"+m+"(",Y.generateExpression(O.object,r.Sequence,J),")"]}),X.push(this.maybeBlock(O.body,ee&q?K:de)),X}},re(ve.prototype,ve.Statement),ve.Expression={SequenceExpression:function(O,ee,X){var Y,me,ze;for(r.Sequence<ee&&(X|=I),Y=[],me=0,ze=O.expressions.length;me<ze;++me)Y.push(this.generateExpression(O.expressions[me],r.Assignment,X)),me+1<ze&&Y.push(","+m);return j(Y,r.Sequence,ee)},AssignmentExpression:function(O,ee,X){return this.generateAssignment(O.left,O.right,O.operator,ee,X)},ArrowFunctionExpression:function(O,ee,X){return j(this.generateFunctionBody(O),r.ArrowFunction,ee)},ConditionalExpression:function(O,ee,X){return r.Conditional<ee&&(X|=I),j([this.generateExpression(O.test,r.Coalesce,X),m+"?"+m,this.generateExpression(O.consequent,r.Assignment,X),m+":"+m,this.generateExpression(O.alternate,r.Assignment,X)],r.Conditional,ee)},LogicalExpression:function(O,ee,X){return O.operator==="??"&&(X|=Z),this.BinaryExpression(O,ee,X)},BinaryExpression:function(O,ee,X){var Y,me,ze,qe,nt,gt;return qe=i[O.operator],me=O.operator==="**"?r.Postfix:qe,ze=O.operator==="**"?qe:qe+1,qe<ee&&(X|=I),nt=this.generateExpression(O.left,me,X),gt=nt.toString(),gt.charCodeAt(gt.length-1)===47&&a.code.isIdentifierPartES5(O.operator.charCodeAt(0))?Y=[nt,Je(),O.operator]:Y=We(nt,O.operator),nt=this.generateExpression(O.right,ze,X),O.operator==="/"&&nt.toString().charAt(0)==="/"||O.operator.slice(-1)==="<"&&nt.toString().slice(0,3)==="!--"?(Y.push(Je()),Y.push(nt)):Y=We(Y,nt),O.operator==="in"&&!(X&I)?["(",Y,")"]:(O.operator==="||"||O.operator==="&&")&&X&Z?["(",Y,")"]:j(Y,qe,ee)},CallExpression:function(O,ee,X){var Y,me,ze;for(Y=[this.generateExpression(O.callee,r.Call,V)],O.optional&&Y.push("?."),Y.push("("),me=0,ze=O.arguments.length;me<ze;++me)Y.push(this.generateExpression(O.arguments[me],r.Assignment,J)),me+1<ze&&Y.push(","+m);return Y.push(")"),X&M?j(Y,r.Call,ee):["(",Y,")"]},ChainExpression:function(O,ee,X){r.OptionalChaining<ee&&(X|=M);var Y=this.generateExpression(O.expression,r.OptionalChaining,X);return j(Y,r.OptionalChaining,ee)},NewExpression:function(O,ee,X){var Y,me,ze,qe,nt;if(me=O.arguments.length,nt=X&L&&!v&&me===0?z:ge,Y=We("new",this.generateExpression(O.callee,r.New,nt)),!(X&L)||v||me>0){for(Y.push("("),ze=0,qe=me;ze<qe;++ze)Y.push(this.generateExpression(O.arguments[ze],r.Assignment,J)),ze+1<qe&&Y.push(","+m);Y.push(")")}return j(Y,r.New,ee)},MemberExpression:function(O,ee,X){var Y,me;return Y=[this.generateExpression(O.object,r.Call,X&M?V:ge)],O.computed?(O.optional&&Y.push("?."),Y.push("["),Y.push(this.generateExpression(O.property,r.Sequence,X&M?J:z)),Y.push("]")):(!O.optional&&O.object.type===t.Literal&&typeof O.object.value=="number"&&(me=Fe(Y).toString(),me.indexOf(".")<0&&!/[eExX]/.test(me)&&a.code.isDecimalDigit(me.charCodeAt(me.length-1))&&!(me.length>=2&&me.charCodeAt(0)===48)&&Y.push(" ")),Y.push(O.optional?"?.":"."),Y.push(Ne(O.property))),j(Y,r.Member,ee)},MetaProperty:function(O,ee,X){var Y;return Y=[],Y.push(typeof O.meta=="string"?O.meta:Ne(O.meta)),Y.push("."),Y.push(typeof O.property=="string"?O.property:Ne(O.property)),j(Y,r.Member,ee)},UnaryExpression:function(O,ee,X){var Y,me,ze,qe,nt;return me=this.generateExpression(O.argument,r.Unary,J),m===""?Y=We(O.operator,me):(Y=[O.operator],O.operator.length>2?Y=We(Y,me):(qe=Fe(Y).toString(),nt=qe.charCodeAt(qe.length-1),ze=me.toString().charCodeAt(0),((nt===43||nt===45)&&nt===ze||a.code.isIdentifierPartES5(nt)&&a.code.isIdentifierPartES5(ze))&&Y.push(Je()),Y.push(me))),j(Y,r.Unary,ee)},YieldExpression:function(O,ee,X){var Y;return O.delegate?Y="yield*":Y="yield",O.argument&&(Y=We(Y,this.generateExpression(O.argument,r.Yield,J))),j(Y,r.Yield,ee)},AwaitExpression:function(O,ee,X){var Y=We(O.all?"await*":"await",this.generateExpression(O.argument,r.Await,J));return j(Y,r.Await,ee)},UpdateExpression:function(O,ee,X){return O.prefix?j([O.operator,this.generateExpression(O.argument,r.Unary,J)],r.Unary,ee):j([this.generateExpression(O.argument,r.Postfix,J),O.operator],r.Postfix,ee)},FunctionExpression:function(O,ee,X){var Y=[Ie(O,!0),"function"];return O.id?(Y.push(Xe(O)||Je()),Y.push(Ne(O.id))):Y.push(Xe(O)||m),Y.push(this.generateFunctionBody(O)),Y},ArrayPattern:function(O,ee,X){return this.ArrayExpression(O,ee,X,!0)},ArrayExpression:function(O,ee,X,Y){var me,ze,qe=this;return O.elements.length?(ze=Y?!1:O.elements.length>1,me=["[",ze?g:""],Ae(function(nt){var gt,en;for(gt=0,en=O.elements.length;gt<en;++gt)O.elements[gt]?(me.push(ze?nt:""),me.push(qe.generateExpression(O.elements[gt],r.Assignment,J))):(ze&&me.push(nt),gt+1===en&&me.push(",")),gt+1<en&&me.push(","+(ze?g:m))}),ze&&!Q(Fe(me).toString())&&me.push(g),me.push(ze?l:""),me.push("]"),me):"[]"},RestElement:function(O,ee,X){return"..."+this.generatePattern(O.argument)},ClassExpression:function(O,ee,X){var Y,me;return Y=["class"],O.id&&(Y=We(Y,this.generateExpression(O.id,r.Sequence,J))),O.superClass&&(me=We("extends",this.generateExpression(O.superClass,r.Unary,J)),Y=We(Y,me)),Y.push(m),Y.push(this.generateStatement(O.body,K)),Y},MethodDefinition:function(O,ee,X){var Y,me;return O.static?Y=["static"+m]:Y=[],O.kind==="get"||O.kind==="set"?me=[We(O.kind,this.generatePropertyKey(O.key,O.computed)),this.generateFunctionBody(O.value)]:me=[tt(O),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)],We(Y,me)},Property:function(O,ee,X){return O.kind==="get"||O.kind==="set"?[O.kind,Je(),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)]:O.shorthand?O.value.type==="AssignmentPattern"?this.AssignmentPattern(O.value,r.Sequence,J):this.generatePropertyKey(O.key,O.computed):O.method?[tt(O),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)]:[this.generatePropertyKey(O.key,O.computed),":"+m,this.generateExpression(O.value,r.Assignment,J)]},ObjectExpression:function(O,ee,X){var Y,me,ze,qe=this;return O.properties.length?(Y=O.properties.length>1,Ae(function(){ze=qe.generateExpression(O.properties[0],r.Sequence,J)}),!Y&&!H(Fe(ze).toString())?["{",m,ze,m,"}"]:(Ae(function(nt){var gt,en;if(me=["{",g,nt,ze],Y)for(me.push(","+g),gt=1,en=O.properties.length;gt<en;++gt)me.push(nt),me.push(qe.generateExpression(O.properties[gt],r.Sequence,J)),gt+1<en&&me.push(","+g)}),Q(Fe(me).toString())||me.push(g),me.push(l),me.push("}"),me)):"{}"},AssignmentPattern:function(O,ee,X){return this.generateAssignment(O.left,O.right,"=",ee,X)},ObjectPattern:function(O,ee,X){var Y,me,ze,qe,nt,gt=this;if(!O.properties.length)return"{}";if(qe=!1,O.properties.length===1)nt=O.properties[0],nt.type===t.Property&&nt.value.type!==t.Identifier&&(qe=!0);else for(me=0,ze=O.properties.length;me<ze;++me)if(nt=O.properties[me],nt.type===t.Property&&!nt.shorthand){qe=!0;break}return Y=["{",qe?g:""],Ae(function(en){var tn,Vn;for(tn=0,Vn=O.properties.length;tn<Vn;++tn)Y.push(qe?en:""),Y.push(gt.generateExpression(O.properties[tn],r.Sequence,J)),tn+1<Vn&&Y.push(","+(qe?g:m))}),qe&&!Q(Fe(Y).toString())&&Y.push(g),Y.push(qe?l:""),Y.push("}"),Y},ThisExpression:function(O,ee,X){return"this"},Super:function(O,ee,X){return"super"},Identifier:function(O,ee,X){return Ne(O)},ImportDefaultSpecifier:function(O,ee,X){return Ne(O.id||O.local)},ImportNamespaceSpecifier:function(O,ee,X){var Y=["*"],me=O.id||O.local;return me&&Y.push(m+"as"+Je()+Ne(me)),Y},ImportSpecifier:function(O,ee,X){var Y=O.imported,me=[Y.name],ze=O.local;return ze&&ze.name!==Y.name&&me.push(Je()+"as"+Je()+Ne(ze)),me},ExportSpecifier:function(O,ee,X){var Y=O.local,me=[Y.name],ze=O.exported;return ze&&ze.name!==Y.name&&me.push(Je()+"as"+Je()+Ne(ze)),me},Literal:function(O,ee,X){var Y;if(O.hasOwnProperty("raw")&&C&&x.raw)try{if(Y=C(O.raw).body[0].expression,Y.type===t.Literal&&Y.value===O.value)return O.raw}catch{}return O.regex?"/"+O.regex.pattern+"/"+O.regex.flags:typeof O.value=="bigint"?O.value.toString()+"n":O.bigint?O.bigint+"n":O.value===null?"null":typeof O.value=="string"?R(O.value):typeof O.value=="number"?_e(O.value):typeof O.value=="boolean"?O.value?"true":"false":Te(O.value)},GeneratorExpression:function(O,ee,X){return this.ComprehensionExpression(O,ee,X)},ComprehensionExpression:function(O,ee,X){var Y,me,ze,qe,nt=this;return Y=O.type===t.GeneratorExpression?["("]:["["],x.moz.comprehensionExpressionStartsWithAssignment&&(qe=this.generateExpression(O.body,r.Assignment,J),Y.push(qe)),O.blocks&&Ae(function(){for(me=0,ze=O.blocks.length;me<ze;++me)qe=nt.generateExpression(O.blocks[me],r.Sequence,J),me>0||x.moz.comprehensionExpressionStartsWithAssignment?Y=We(Y,qe):Y.push(qe)}),O.filter&&(Y=We(Y,"if"+m),qe=this.generateExpression(O.filter,r.Sequence,J),Y=We(Y,["(",qe,")"])),x.moz.comprehensionExpressionStartsWithAssignment||(qe=this.generateExpression(O.body,r.Assignment,J),Y=We(Y,qe)),Y.push(O.type===t.GeneratorExpression?")":"]"),Y},ComprehensionBlock:function(O,ee,X){var Y;return O.left.type===t.VariableDeclaration?Y=[O.left.kind,Je(),this.generateStatement(O.left.declarations[0],ue)]:Y=this.generateExpression(O.left,r.Call,J),Y=We(Y,O.of?"of":"in"),Y=We(Y,this.generateExpression(O.right,r.Sequence,J)),["for"+m+"(",Y,")"]},SpreadElement:function(O,ee,X){return["...",this.generateExpression(O.argument,r.Assignment,J)]},TaggedTemplateExpression:function(O,ee,X){var Y=V;X&M||(Y=ge);var me=[this.generateExpression(O.tag,r.Call,Y),this.generateExpression(O.quasi,r.Primary,W)];return j(me,r.TaggedTemplate,ee)},TemplateElement:function(O,ee,X){return O.value.raw},TemplateLiteral:function(O,ee,X){var Y,me,ze;for(Y=["`"],me=0,ze=O.quasis.length;me<ze;++me)Y.push(this.generateExpression(O.quasis[me],r.Primary,J)),me+1<ze&&(Y.push("${"+m),Y.push(this.generateExpression(O.expressions[me],r.Sequence,J)),Y.push(m+"}"));return Y.push("`"),Y},ModuleSpecifier:function(O,ee,X){return this.Literal(O,ee,X)},ImportExpression:function(O,ee,X){return j(["import(",this.generateExpression(O.source,r.Assignment,J),")"],r.Call,ee)}},re(ve.prototype,ve.Expression),ve.prototype.generateExpression=function(O,ee,X){var Y,me;return me=O.type||t.Property,x.verbatim&&O.hasOwnProperty(x.verbatim)?pe(O,ee):(Y=this[me](O,ee,X),x.comment&&(Y=$e(O,Y)),Fe(Y,O))},ve.prototype.generateStatement=function(O,ee){var X,Y;return X=this[O.type](O,ee),x.comment&&(X=$e(O,X)),Y=Fe(X).toString(),O.type===t.Program&&!y&&g===""&&Y.charAt(Y.length-1)===`
`&&(X=E?Fe(X).replaceRight(/\s+$/,""):Y.replace(/\s+$/,"")),Fe(X,O)};function bt(O){var ee;if(ee=new ve,T(O))return ee.generateStatement(O,de);if(F(O))return ee.generateExpression(O,r.Sequence,J);throw new Error("Unknown node type: "+O.type)}function hn(O,ee){var X=ye(),Y,me;return ee!=null?(typeof ee.indent=="string"&&(X.format.indent.style=ee.indent),typeof ee.base=="number"&&(X.format.indent.base=ee.base),ee=Ce(X,ee),u=ee.format.indent.style,typeof ee.base=="string"?l=ee.base:l=Ee(u,ee.format.indent.base)):(ee=X,u=ee.format.indent.style,l=Ee(u,ee.format.indent.base)),h=ee.format.json,c=ee.format.renumber,f=h?!1:ee.format.hexadecimal,p=h?"double":ee.format.quotes,d=ee.format.escapeless,g=ee.format.newline,m=ee.format.space,ee.format.compact&&(g=m=u=l=""),v=ee.format.parentheses,w=ee.format.semicolons,y=ee.format.safeConcatenation,_=ee.directive,C=h?null:ee.parse,E=ee.sourceMap,S=ee.sourceCode,D=ee.format.preserveBlankLines&&S!==null,x=ee,E&&(n.browser?s=NO.sourceMap.SourceNode:s=eY().SourceNode),Y=bt(O),E?(me=Y.toStringWithSourceMap({file:ee.file,sourceRoot:ee.sourceMapRoot}),ee.sourceContent&&me.map.setSourceContent(ee.sourceMap,ee.sourceContent),ee.sourceMapWithCode?me:me.map.toString()):(me={code:Y.toString(),map:null},ee.sourceMapWithCode?me:me.code)}A={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},N=ye().format,n.version=nY.version,n.generate=hn,n.attachComments=o.attachComments,n.Precedence=Ce({},r),n.browser=!1,n.FORMAT_MINIFY=A,n.FORMAT_DEFAULTS=N})()})(lv)),lv}var iY=rY();const sY=d1(iY);let Nd=0;function yC(n){switch(n){case"+":return"add";case"-":return"sub";case"*":return"mult";case"/":return"div";case"%":return"mod";case"==":case"===":return"equalTo";case"!=":case"!==":return"notEqual";case">":return"greaterThan";case">=":return"greaterEqual";case"<":return"lessThan";case"<=":return"lessEqual";case"&&":return"and";case"||":return"or"}}function Ps(n){return n.type==="CallExpression"&&(n.callee?.type==="Identifier"&&n.callee?.name.startsWith("uniform")||n.callee?.type==="MemberExpression"&&n.callee?.property.name.startsWith("uniform"))}function oY(n){return n?.type==="CallExpression"&&(n.callee?.type==="Identifier"&&(n.callee?.name.startsWith("varying")||n.callee?.name.startsWith("shared"))||n.callee?.type==="MemberExpression"&&(n.callee?.property.name.startsWith("varying")||n.callee?.property.name.startsWith("shared")))}const xv={UnaryExpression(n,t,r){if(r.some(Ps))return;const i=g3[n.operator],s=o=>{o.type="CallExpression",o.callee={type:"Identifier",name:`__p5.${i}`},o.arguments=[o.argument]};if(n.type==="MemberExpression"){const o=n.argument.property.name;[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].some(u=>[...o].every(h=>u.includes(h)))&&n.argument.type==="MemberExpression"?(n.type="MemberExpression",n.object={type:"CallExpression",callee:{type:"Identifier",name:`__p5.${i}`},arguments:[n.argument.object]},n.property={type:"Identifier",name:o}):s(n)}else s(n);delete n.argument,delete n.operator},BreakStatement(n,t,r){r.some(Ps)||(n.callee={type:"Identifier",name:"__p5.break"},n.arguments=[],n.type="CallExpression")},VariableDeclarator(n,t,r){if(!r.some(Ps)){if(Ps(n.init)){const i={type:"Literal",value:n.id.name};n.init.arguments.unshift(i)}if(oY(n.init)){const i={type:"Literal",value:n.id.name};n.init.arguments.unshift(i),t.varyings[n.id.name]=i}}},Identifier(n,t,r){r.some(Ps)||t.varyings[n.name]&&!r.some(i=>i.type==="AssignmentExpression"&&i.left===n)&&(n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:n.name},property:{type:"Identifier",name:"getValue"}},arguments:[]})},ArrayExpression(n,t,r){if(r.some(Ps))return;const i=JSON.parse(JSON.stringify(n));n.type="CallExpression",n.callee={type:"Identifier",name:"__p5.strandsNode"},n.arguments=[i]},AssignmentExpression(n,t,r){if(!r.some(Ps)){if(n.operator!=="="){const i=yC(n.operator.replace("=","")),s={type:"CallExpression",callee:{type:"MemberExpression",object:n.left,property:{type:"Identifier",name:i}},arguments:[n.right]};n.operator="=",n.right=s}if(t.varyings[n.left.name])n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:n.left.name},property:{type:"Identifier",name:"bridge"}},arguments:[n.right]};else if(n.left.type==="MemberExpression"){let i=null;if(n.left.object.type==="Identifier"&&t.varyings[n.left.object.name]?i=n.left.object.name:n.left.object.type==="ExpressionStatement"&&n.left.object.expression?.type==="CallExpression"&&n.left.object.expression.callee?.type==="MemberExpression"&&n.left.object.expression.callee.property?.name==="getValue"&&n.left.object.expression.callee.object?.type==="Identifier"&&t.varyings[n.left.object.expression.callee.object.name]&&(i=n.left.object.expression.callee.object.name),i){const s=n.left.property.name;n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:i},property:{type:"Identifier",name:"bridgeSwizzle"}},arguments:[{type:"Literal",value:s},n.right]}}}}},BinaryExpression(n,t,r){if(r.some(Ps))return;if(["Literal","ArrayExpression","Identifier"].includes(n.left.type)){const s={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[n.left]};n.left=s}n.type="CallExpression",n.callee={type:"MemberExpression",object:n.left,property:{type:"Identifier",name:yC(n.operator)}},n.arguments=[n.right]},IfStatement(n,t,r){if(r.some(Ps))return;const i=n.test,s={type:"ArrowFunctionExpression",params:[],body:n.consequent.type==="BlockStatement"?n.consequent:{type:"BlockStatement",body:[n.consequent]}};let o={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsIf"},arguments:[i,s]},a;n.alternate?a={type:"ArrowFunctionExpression",params:[],body:n.alternate.type==="BlockStatement"?n.alternate:{type:"BlockStatement",body:[n.alternate]}}:a={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[]}},o={type:"CallExpression",callee:{type:"MemberExpression",object:o,property:{type:"Identifier",name:"Else"}},arguments:[a]};const l=new Set,u=h=>{if(h.type!=="BlockStatement")return;const c=new Set;for(const f of h.body)if(f.type==="VariableDeclaration")for(const p of f.declarations)p.id.type==="Identifier"&&c.add(p.id.name);for(const f of h.body)if(f.type==="ExpressionStatement"&&f.expression.type==="AssignmentExpression"){const p=f.expression.left;p.type==="Identifier"?c.has(p.name)||l.add(p.name):p.type==="MemberExpression"&&p.object.type==="Identifier"&&(c.has(p.object.name)||l.add(p.object.name))}else f.type==="BlockStatement"&&u(f)};if(u(s.body),u(a.body),l.size>0){const h=(p,d)=>{if(p.type==="BlockStatement"){const g=new Map,m=[];for(const y of d){const _=`__copy_${y}_${Nd++}`;g.set(y,_),m.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:_},init:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:y},property:{type:"Identifier",name:"copy"},computed:!1},arguments:[]}}],kind:"let"})}const v=y=>{if(!(!y||typeof y!="object")){y.type==="Identifier"&&g.has(y.name)?y.name=g.get(y.name):y.type==="MemberExpression"&&y.object.type==="Identifier"&&g.has(y.object.name)&&(y.object.name=g.get(y.object.name)),y.type==="AssignmentExpression"&&y.left.type==="Identifier"&&g.has(y.left.name)&&(y.right.type==="Literal"||y.right.type==="ArrayExpression")&&(y.right={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[y.right]});for(const _ in y)y.hasOwnProperty(_)&&_!=="parent"&&(Array.isArray(y[_])?y[_].forEach(v):typeof y[_]=="object"&&v(y[_]))}};p.body.forEach(v),p.body.unshift(...m);const w={type:"ObjectExpression",properties:Array.from(d).map(y=>({type:"Property",key:{type:"Identifier",name:y},value:{type:"Identifier",name:g.get(y)},kind:"init",computed:!1,shorthand:!1}))};p.body.push({type:"ReturnStatement",argument:w})}};h(s.body,l),h(a.body,l);const c=`__block_${Nd++}`,f=[];for(const p of l)f.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:p},right:{type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[{type:"Identifier",name:p}]}}});f.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:c},init:o}],kind:"const"});for(const p of l)f.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:p},right:{type:"MemberExpression",object:{type:"Identifier",name:c},property:{type:"Identifier",name:p},computed:!1}}});n.type="BlockStatement",n.body=f}else n.type="ExpressionStatement",n.expression=o;delete n.test,delete n.consequent,delete n.alternate},UpdateExpression(n,t,r){if(r.some(Ps))return;let i;if(n.operator==="++")i="+";else if(n.operator==="--")i="-";else return;const s={type:"AssignmentExpression",operator:"=",left:n.argument,right:{type:"BinaryExpression",operator:i,left:n.argument,right:{type:"Literal",value:1}}};Object.assign(n,s),delete n.prefix,this.BinaryExpression(n.right,t,[...r,n]),this.AssignmentExpression(n,t,r)},ForStatement(n,t,r){if(r.some(Ps))return;let i;if(n.init&&n.init.type==="VariableDeclaration"){let d=n.init.declarations[0].init;d={body:[{type:"ExpressionStatement",expression:d}]}.body[0].expression,i={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:d}]}}}else i={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"Literal",value:0}}]}};let s=n.test||{type:"Literal",value:!0};if(n.init?.type==="VariableDeclaration"){const p=n.init.declarations[0].id.name;s=this.replaceIdentifierReferences(s,p,"loopVar")}s={body:[{type:"ExpressionStatement",expression:s}]}.body[0].expression;const a={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"}],body:s};let l;if(n.update){let p=n.update;if(n.init?.type==="VariableDeclaration"){const g=n.init.declarations[0].id.name;p=this.replaceIdentifierReferences(p,g,"loopVar")}p={body:[{type:"ExpressionStatement",expression:p}]}.body[0].expression,l={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:p}]}}}else l={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"Identifier",name:"loopVar"}}]}};let u=n.body.type==="BlockStatement"?n.body:{type:"BlockStatement",body:[n.body]};if(n.init?.type==="VariableDeclaration"){const p=n.init.declarations[0].id.name;u=this.replaceIdentifierReferences(u,p,"loopVar")}const h={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"},{type:"Identifier",name:"vars"}],body:u},c=new Set,f=(p,d=new Set)=>{if(p.type!=="BlockStatement")return;const g=new Set([...d]);for(const m of p.body)if(m.type==="VariableDeclaration")for(const v of m.declarations)v.id.type==="Identifier"&&g.add(v.id.name);for(const m of p.body)if(m.type==="ExpressionStatement"&&m.expression.type==="AssignmentExpression"){const v=m.expression.left;v.type==="Identifier"?g.has(v.name)||c.add(v.name):v.type==="MemberExpression"&&v.object.type==="Identifier"&&(g.has(v.object.name)||c.add(v.object.name))}else m.type==="BlockStatement"&&f(m,g)};if(f(h.body),c.size>0){((y,_)=>{if(y.type==="BlockStatement"){const x=new Map,C=[];for(const D of _){const A=`__copy_${D}_${Nd++}`;x.set(D,A),C.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:A},init:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:"vars"},property:{type:"Identifier",name:D},computed:!1},property:{type:"Identifier",name:"copy"},computed:!1},arguments:[]}}],kind:"let"})}const E=D=>{if(!(!D||typeof D!="object")){D.type==="Identifier"&&x.has(D.name)&&(D.name=x.get(D.name));for(const A in D)D.hasOwnProperty(A)&&A!=="parent"&&(Array.isArray(D[A])?D[A].forEach(E):typeof D[A]=="object"&&E(D[A]))}};y.body.forEach(E),y.body.unshift(...C);const S={type:"ObjectExpression",properties:Array.from(_).map(D=>({type:"Property",key:{type:"Identifier",name:D},value:{type:"Identifier",name:x.get(D)},kind:"init",computed:!1,shorthand:!1}))};y.body.push({type:"ReturnStatement",argument:S})}})(h.body,c);const d=`__block_${Nd++}`,g=[],m=[];for(const y of c)m.push({type:"Property",key:{type:"Identifier",name:y},value:{type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[{type:"Identifier",name:y}]},kind:"init",method:!1,shorthand:!1,computed:!1});const w={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsFor"},arguments:[i,a,l,h,{type:"ObjectExpression",properties:m}]};g.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:d},init:w}],kind:"const"});for(const y of c)g.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:y},right:{type:"MemberExpression",object:{type:"Identifier",name:d},property:{type:"Identifier",name:y},computed:!1}}});n.type="BlockStatement",n.body=g}else n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsFor"},arguments:[i,a,l,h,{type:"ObjectExpression",properties:[]}]};delete n.init,delete n.test,delete n.update},replaceIdentifierReferences(n,t,r){if(!n||typeof n!="object")return n;const i=s=>{if(!s||typeof s!="object")return s;if(s.type==="Identifier"&&s.name===t)return{...s,name:r};const o={...s};for(const a in s)s.hasOwnProperty(a)&&a!=="parent"&&(Array.isArray(s[a])?o[a]=s[a].map(i):typeof s[a]=="object"&&(o[a]=i(s[a])));return o};return i(n)}};function aY(n,t,r,i){const s=Ak(t,{ecmaVersion:2021,locations:r}),o={...xv};delete o.IfStatement,delete o.ForStatement,XW(s,o,void 0,{varyings:{}}),YW(s,{varyings:{}},{IfStatement(c,f,p){c.test&&p(c.test,f),c.consequent&&p(c.consequent,f),c.alternate&&p(c.alternate,f),xv.IfStatement(c,f,[])},ForStatement(c,f,p){c.init&&p(c.init,f),c.test&&p(c.test,f),c.update&&p(c.update,f),c.body&&p(c.body,f),xv.ForStatement(c,f,[])}});const l=sY.generate(s),u=Object.keys(i),h=new Function("__p5",...u,l.slice(l.indexOf("{")+1,l.lastIndexOf("}")).replaceAll(";",""));return()=>h(n,...u.map(c=>i[c]))}function bC(){return{blockTypes:[],incomingEdges:[],outgoingEdges:[],blockInstructions:[],nextID:0,blockStack:[],blockOrder:[],blockConditions:{},currentBlock:-1}}function Hi(n,t){n.blockStack.push(t),n.blockOrder.push(t),n.currentBlock=t}function Wr(n){n.blockStack.pop();const t=n.blockStack.length;n.currentBlock=n.blockStack[t-1]}function Uu(n,t){n.blockStack.push(t),n.currentBlock=t}function nr(n,t){const r=n.nextID++;return n.blockTypes[r]=t,n.incomingEdges[r]=[],n.outgoingEdges[r]=[],n.blockInstructions[r]=[],r}function Rn(n,t,r){n.outgoingEdges[t].push(r),n.incomingEdges[r].push(t)}function zn(n,t,r){r===void 0&&Zl("undefined nodeID in `recordInBasicBlock()`"),t===void 0&&Zl("undefined blockID in `recordInBasicBlock()"),n.blockInstructions[t]=n.blockInstructions[t]||[],n.blockInstructions[t].push(r)}function lY(n,t){const r=new Set,i=[];function s(o){if(!r.has(o)){r.add(o);for(let a of n[o].sort((l,u)=>u-l)||[])s(a);i.push(o)}}return s(t),i.reverse()}function uY(n){const{cfg:t,backend:r,vertexDeclarations:i,fragmentDeclarations:s}=n,o={uniforms:{}};for(const{name:a,typeInfo:l,defaultValue:u}of n.uniforms){const h=r.generateUniformDeclaration(a,l);o.uniforms[h]=u}for(const{hookType:a,rootNodeID:l,entryBlockID:u,shaderContext:h}of n.hooks){const c={indent:1,codeLines:[],write(g){this.codeLines.push("  ".repeat(this.indent)+g)},tempNames:{},declarations:[],nextTempID:0,visitedNodes:new Set,shaderContext:h,strandsContext:n},f=lY(t.outgoingEdges,u);for(const g of f)r.generateBlock(g,n,c);for(const g of n.globalAssignments)c.visitedNodes.has(g)||(r.generateAssignment(c,n.dag,g),c.visitedNodes.add(g));n.globalAssignments=[];const p=r.hookEntry(a);let d=a.returnType.properties?Qb(a.returnType):vg[a.returnType.typeName];r.generateReturnStatement(n,c,l,d),o[`${a.returnType.typeName} ${a.name}`]=[p,...c.codeLines,"}"].join(`
`)}if(n.sharedVariables)for(const[a,l]of n.sharedVariables)l.usedInVertex&&l.usedInFragment?(i.add(`OUT ${l.typeInfo.fnName} ${a};`),s.add(`IN ${l.typeInfo.fnName} ${a};`)):l.usedInVertex?i.add(`${l.typeInfo.fnName} ${a};`):l.usedInFragment&&s.add(`${l.typeInfo.fnName} ${a};`);return o.vertexDeclarations=[...i].join(`
`),o.fragmentDeclarations=[...s].join(`
`),o}const cY={acos:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],acosh:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],asin:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],asinh:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],atan:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0},{params:[Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],atanh:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],cos:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],cosh:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],degrees:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],radians:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],sin:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],sinh:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],tan:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],tanh:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],abs:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0},{params:[Ve.FLOAT],returnType:Ve.INT,isp5Function:!0}],ceil:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],clamp:[{params:[Ve.FLOAT,Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1},{params:[Ve.FLOAT,wn.float1,wn.float1],returnType:Ve.FLOAT,isp5Function:!1},{params:[Ve.INT,Ve.INT,Ve.INT],returnType:Ve.INT,isp5Function:!1},{params:[Ve.INT,wn.int1,wn.int1],returnType:Ve.INT,isp5Function:!1}],dFdx:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],dFdy:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],exp:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],exp2:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],floor:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],fma:[{params:[Ve.FLOAT,Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],fract:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],fwidth:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],inversesqrt:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],log:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],log2:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],max:[{params:[Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0},{params:[Ve.FLOAT,wn.float1],returnType:Ve.FLOAT,isp5Function:!0},{params:[Ve.INT,Ve.INT],returnType:Ve.INT,isp5Function:!0},{params:[Ve.INT,wn.int1],returnType:Ve.INT,isp5Function:!0}],min:[{params:[Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0},{params:[Ve.FLOAT,wn.float1],returnType:Ve.FLOAT,isp5Function:!0},{params:[Ve.INT,Ve.INT],returnType:Ve.INT,isp5Function:!0},{params:[Ve.INT,wn.int1],returnType:Ve.INT,isp5Function:!0}],mix:[{params:[Ve.FLOAT,Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1},{params:[Ve.FLOAT,Ve.FLOAT,wn.float1],returnType:Ve.FLOAT,isp5Function:!1},{params:[Ve.FLOAT,Ve.FLOAT,Ve.BOOL],returnType:Ve.FLOAT,isp5Function:!1}],mod:[{params:[Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0},{params:[Ve.FLOAT,wn.float1],returnType:Ve.FLOAT,isp5Function:!0}],pow:[{params:[Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],round:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],roundEven:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],sign:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1},{params:[Ve.INT],returnType:Ve.INT,isp5Function:!1}],smoothstep:[{params:[Ve.FLOAT,Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1},{params:[wn.float1,wn.float1,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],sqrt:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],step:[{params:[Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],trunc:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],cross:[{params:[wn.float3,wn.float3],returnType:wn.float3,isp5Function:!0}],distance:[{params:[Ve.FLOAT,Ve.FLOAT],returnType:wn.float1,isp5Function:!0}],dot:[{params:[Ve.FLOAT,Ve.FLOAT],returnType:wn.float1,isp5Function:!0}],equal:[{params:[Ve.FLOAT,Ve.FLOAT],returnType:Ve.BOOL,isp5Function:!1},{params:[Ve.INT,Ve.INT],returnType:Ve.BOOL,isp5Function:!1},{params:[Ve.BOOL,Ve.BOOL],returnType:Ve.BOOL,isp5Function:!1}],faceforward:[{params:[Ve.FLOAT,Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],length:[{params:[Ve.FLOAT],returnType:wn.float1,isp5Function:!1}],normalize:[{params:[Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!0}],notEqual:[{params:[Ve.FLOAT,Ve.FLOAT],returnType:Ve.BOOL,isp5Function:!1},{params:[Ve.INT,Ve.INT],returnType:Ve.BOOL,isp5Function:!1},{params:[Ve.BOOL,Ve.BOOL],returnType:Ve.BOOL,isp5Function:!1}],reflect:[{params:[Ve.FLOAT,Ve.FLOAT],returnType:Ve.FLOAT,isp5Function:!1}],refract:[{params:[Ve.FLOAT,Ve.FLOAT,wn.float1],returnType:Ve.FLOAT,isp5Function:!1}],texture:[{params:[wn.sampler2D,wn.float2],returnType:wn.float4,isp5Function:!0}],getTexture:[{params:[wn.sampler2D,wn.float2],returnType:wn.float4,isp5Function:!0}]},_3={...cY};class es{constructor(t,r,i){this.id=t,this.strandsContext=i,this.dimension=r;const s=this.strandsContext.dag,o=Nr(s,this.id);o&&o.identifier&&(this._originalIdentifier=o.identifier,this._originalBaseType=o.baseType,this._originalDimension=o.dimension)}copy(){return _n(this.id,this.dimension,this.strandsContext)}bridge(t){const{dag:r,cfg:i}=this.strandsContext,o=Nr(r,this.id)?.baseType??Xt.FLOAT;let a;if(t instanceof es?a=t.id:a=Mi(this.strandsContext,{baseType:o,dimension:this.dimension},t).id,this._originalIdentifier){const{id:l}=kl(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier),u=Bn({nodeType:kt.ASSIGNMENT,dependsOn:[l,a],phiBlocks:[]}),h=Nn(r,u);zn(i,i.currentBlock,h),this.strandsContext.globalAssignments.push(h);const c=Bn({nodeType:kt.VARIABLE,baseType:this._originalBaseType,dimension:this._originalDimension,identifier:this._originalIdentifier}),f=Nn(r,c);this.id=f}else this.id=a;return this}bridgeSwizzle(t,r){const{dag:i,cfg:s}=this.strandsContext,a=Nr(i,this.id)?.baseType??Xt.FLOAT;let l;if(r instanceof es?l=r.id:l=Mi(this.strandsContext,{baseType:a,dimension:this.dimension},r).id,this._originalIdentifier){const{id:u}=kl(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier),h=Bn({nodeType:kt.OPERATION,opCode:Tn.Unary.SWIZZLE,baseType:this._originalBaseType,dimension:t.length,swizzle:t,dependsOn:[u]}),c=Nn(i,h),f=Bn({nodeType:kt.ASSIGNMENT,dependsOn:[c,l],phiBlocks:[]}),p=Nn(i,f);zn(s,s.currentBlock,p),this.strandsContext.globalAssignments.push(p);const d=Bn({nodeType:kt.VARIABLE,baseType:this._originalBaseType,dimension:this._originalDimension,identifier:this._originalIdentifier}),g=Nn(i,d);this.id=g}else this.id=l;return this}getValue(){if(this._originalIdentifier){const{id:t,dimension:r}=kl(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier);return _n(t,r,this.strandsContext)}return this}}function _n(n,t,r,i){return new Proxy(new es(n,t,r),mY(n,t,r,i))}function hY(n,t,r){const{cfg:i,dag:s}=n;let{dimension:o,baseType:a}=t;o!==1&&Zl("Created a scalar literal node with dimension > 1.");const l=Bn({nodeType:kt.LITERAL,dimension:o,baseType:a,value:r}),u=Nn(s,l);return zn(i,i.currentBlock,u),{id:u,dimension:o}}function kl(n,t,r){const{cfg:i,dag:s}=n,{dimension:o,baseType:a}=t,l=Bn({nodeType:kt.VARIABLE,dimension:o,baseType:a,identifier:r}),u=Nn(s,l);return zn(i,i.currentBlock,u),{id:u,dimension:o}}function fY(n,t,r){const{dag:i,cfg:s}=n;let o,a;if(t instanceof es)a=t;else{const{id:h,dimension:c}=Mi(n,{baseType:Xt.FLOAT,dimension:null},t);a=_n(h,c,n)}o=[a.id];const l=Bn({nodeType:kt.OPERATION,opCode:r,dependsOn:o,baseType:i.baseTypes[a.id],dimension:a.dimension}),u=Nn(i,l);return zn(s,s.currentBlock,u),{id:u,dimension:a.dimension}}function dY(n,t,r,i){const{dag:s,cfg:o}=n;let a;if(r[0]instanceof es&&r.length===1)a=r[0];else{const{id:m,dimension:v}=Mi(n,{baseType:Xt.FLOAT,dimension:null},r);a=_n(m,v,n)}let l=t.id,u=a.id;const h=nm(s,t.id),c=nm(s,a.id),f={node:null,toType:h};if(h.baseType===c.baseType&&h.baseType===Xt.DEFER){f.toType.baseType=Xt.FLOAT,h.dimension===c.dimension?f.toType.dimension=h.dimension:h.dimension===1&&c.dimension>1?f.toType.dimension=c.dimension:c.dimension===1&&h.dimension>1?f.toType.dimension=h.dimension:Ji("type error",`You have tried to perform a binary operation:
${h.baseType+h.dimension} ${tm[i]} ${c.baseType+c.dimension}
It's only possible to operate on two nodes with the same dimension, or a scalar value and a vector.`);const m=Mi(n,f.toType,t),v=Mi(n,f.toType,a);l=m.id,u=v.id}else if(h.baseType!==c.baseType||h.dimension!==c.dimension){h.dimension===1&&c.dimension>1?(f.node=t,f.toType=c):c.dimension===1&&h.dimension>1||h.priority>c.priority?(f.node=a,f.toType=h):c.priority>h.priority?(f.node=t,f.toType=c):Ji("type error",`A vector of length ${h.dimension} operated with a vector of length ${c.dimension} is not allowed.`);const m=Mi(n,f.toType,f.node);f.node===t?(t=_n(m.id,m.dimension,n),l=t.id):(a=_n(m.id,m.dimension,n),u=a.id)}const d=Bn({nodeType:kt.OPERATION,opCode:i,dependsOn:[l,u],baseType:f.toType.baseType,dimension:f.toType.dimension}),g=Nn(s,d);return zn(o,o.currentBlock,g),{id:g,dimension:d.dimension}}function _v(n,t,r,i){const{cfg:s,dag:o}=n;if(i.length===0)for(const u of t.properties){const h=u.dataType,c=Bn({nodeType:kt.VARIABLE,baseType:h.baseType,dimension:h.dimension,identifier:`${r}.${u.name}`}),f=Nn(o,c);zn(s,s.currentBlock,f),i.push(f)}const a=Bn({nodeType:kt.VARIABLE,dimension:t.properties.length,baseType:t.typeName,identifier:r,dependsOn:i}),l=Nn(o,a);return zn(s,s.currentBlock,l),{id:l,dimension:0,components:i}}function tx(n,t,r){const i=Array.isArray(r)?r:[r],s=[];let{dimension:o,baseType:a}=t;const l=n.dag;let u=0,h=null;for(const f of i.flat(1/0))if(f instanceof es){const p=Nr(l,f.id);if(h=f.id,a=p.baseType,p.opCode===Tn.Nary.CONSTRUCTOR)for(const d of p.dependsOn)s.push(d);else s.push(f.id);u+=p.dimension;continue}else if(typeof f=="number"){const{id:p,dimension:d}=hY(n,{dimension:1,baseType:a},f);s.push(p),u+=d;continue}else Ji("type error",`You've tried to construct a scalar or vector type with a non-numeric value: ${f}`);o===null?o=u:o>u&&u===1?u=o:u!==1&&u!==o&&Ji("type error",`You've tried to construct a ${a+o} with ${u} components`);const c={dimension:o,baseType:a,priority:p3[a]};return{originalNodeID:h,mappedDependencies:s,inferredTypeInfo:c}}function nx(n,t,r){const i=Bn({nodeType:kt.OPERATION,opCode:Tn.Nary.CONSTRUCTOR,dimension:t.dimension,baseType:t.baseType,dependsOn:r});return Nn(n.dag,i)}function Mi(n,t,r){const i=n.cfg,{mappedDependencies:s,inferredTypeInfo:o}=tx(n,t,r),a={baseType:t.baseType,dimension:o.dimension},l=nx(n,a,s);return t.baseType!==Xt.DEFER&&zn(i,i.currentBlock,l),{id:l,dimension:a.dimension,components:s}}function pY(n,t,r){const{cfg:i,dag:s}=n,{identifer:o,properties:a}=t;r.length!==a.length&&Ji("type error",`You've tried to construct a ${t.typeName} struct with ${r.length} properties, but it expects ${a.length} properties.
The properties it expects are:
${a.map(c=>c.name+" "+c.DataType.baseType+c.DataType.dimension)}`);const l=[];for(let c=0;c<a.length;c++){const f=a[c],{originalNodeID:p,mappedDependencies:d}=tx(n,f.dataType,r[c]);p?l.push(p):l.push(nx(n,f.dataType,d))}const u=Bn({nodeType:kt.OPERATION,opCode:Tn.Nary.CONSTRUCTOR,dimension:a.length,baseType:t.typeName,dependsOn:l}),h=Nn(s,u);return zn(i,i.currentBlock,h),{id:h,dimension:a.length,components:t.components}}function wv(n,t,r,{overloads:i}={}){const{cfg:s,dag:o}=n,a=i||_3[t],l=r.map(w=>tx(n,wn.defer,w)),u=a.filter(w=>w.params.length===l.length);if(u.length===0){const w=new Set,y=[];a.forEach(x=>w.add(x.params.length)),w.forEach(x=>y.push(`${x}`));const _=y.join(", or ");Ji("parameter validation error",`Function '${t}' has ${a.length} variants which expect ${_} arguments, but ${l.length} arguments were provided.`)}const h=w=>w.dimension===null;let c=null,f=0,p=null,d=null;for(const w of u){let y=!0,_=0;for(let x=0;x<l.length;x++){const E=l[x].inferredTypeInfo,S=w.params[x];let D=S.dimension;h(S)?((d===null||d===1)&&(d=E.dimension),d!==E.dimension&&!(E.dimension===1&&d>=1)&&(y=!1),D=d):E.dimension>D&&(y=!1),E.baseType===S.baseType?_+=2:S.priority>E.priority&&(_+=1)}y&&(!c||_>f)&&(c=w,f=_,p={...w.returnType},h(p)&&(p.dimension=d))}c===null&&Ji("parameter validation",`No matching overload for ${t} was found!`);let g=[];for(let w=0;w<c.params.length;w++){const y=l[w],_={...c.params[w]};if(h(_)&&(_.dimension=d),y.originalNodeID&&VX(y.inferredTypeInfo,_))g.push(y.originalNodeID);else{const x=nx(n,_,y.mappedDependencies);zn(s,s.currentBlock,x),g.push(x)}}const m=Bn({nodeType:kt.OPERATION,opCode:Tn.Nary.FUNCTION_CALL,identifier:t,dependsOn:g,baseType:p.baseType,dimension:p.dimension}),v=Nn(o,m);return zn(s,s.currentBlock,v),{id:v,dimension:p.dimension}}function xC(n,t){const{dag:r,cfg:i}=n,s=Bn({nodeType:kt.STATEMENT,statementType:t}),o=Nn(r,s);return zn(i,i.currentBlock,o),o}function Ev(n,t,r){const{dag:i,cfg:s}=n,o=i.baseTypes[t.id],a=Bn({nodeType:kt.OPERATION,baseType:o,dimension:r.length,opCode:Tn.Unary.SWIZZLE,dependsOn:[t.id],swizzle:r}),l=Nn(i,a);return zn(s,s.currentBlock,l),{id:l,dimension:r.length}}function mY(n,t,r,i){const s=[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].map(a=>a.slice(0,t));return{get(a,l,u){if(l in a)return Reflect.get(...arguments);for(const h of s)if([...l.toString()].every(c=>h.includes(c))){const c=[...l].map(p=>{const d=h.indexOf(p);return s[0][d]}).join(""),f=Ev(r,a,c);return _n(f.id,f.dimension,r)}},set(a,l,u,h){for(const c of s){const f=[...l];if(!(f.every(_=>c.includes(_))&&new Set(f).size===f.length&&a.dimension>=f.length))continue;const d=a.dimension,g=new Array(d);for(let _=0;_<d;_++){const{id:x,dimension:C}=Ev(r,a,"xyzw"[_]);g[_]=_n(x,C,r)}let m=[];if(u instanceof es)if(u.dimension===1)m=Array(f.length).fill(u);else if(u.dimension===f.length)for(let _=0;_<f.length;_++){const{id:x,dimension:C}=Ev(r,u,"xyzw"[_]);m.push(_n(x,C,r))}else Ji("type error",`Swizzle assignment: RHS vector does not match LHS vector (need ${f.length}, got ${u.dimension}).`);else if(Array.isArray(u)){const _=u.flat(1/0);_.length===1?m=Array(f.length).fill(_[0]):_.length===f.length?m=_:Ji("type error",`Swizzle assignment: RHS length ${_.length} does not match ${f.length}.`)}else typeof u=="number"?m=Array(f.length).fill(u):Ji("type error",`Unsupported RHS for swizzle assignment: ${u}`);for(let _=0;_<f.length;_++){const x=c.indexOf(f[_]);g[x]=m[_]}const w=Nr(r.dag,a.id)?.baseType??Xt.FLOAT,{id:y}=Mi(r,{baseType:w,dimension:d},g);return a.id=y,typeof i=="function"&&i(y),!0}return Reflect.set(...arguments)}}}function t1(n,t,r){const i=t.filter(h=>h.value.id!==null);if(i.length===0)throw new Error(`No valid inputs for phi node for variable ${r}`);const s=Nr(n.dag,i[0].value.id),o=s.dimension,a=s.baseType,l={nodeType:kt.PHI,dimension:o,baseType:a,dependsOn:t.map(h=>h.value.id).filter(h=>h!==null),phiBlocks:t.map(h=>h.blockId)},u=Nn(n.dag,l);return zn(n.cfg,n.cfg.currentBlock,u),{id:u,dimension:o,baseType:a}}class gY{constructor(t,r,i){this.branches=[{condition:r,branchCallback:i,blockType:Yt.IF_BODY}],this.ctx=t}ElseIf(t,r){return this.branches.push({condition:t,branchCallback:r,blockType:Yt.IF_BODY}),this}Else(t=()=>({})){this.branches.push({condition:null,branchCallback:t,blockType:Yt.IF_BODY});const r=vY(this.ctx,this),i={};for(const[s,o]of Object.entries(r))i[s]=_n(o.id,o.dimension,this.ctx);return i}}function vY(n,t){const r=n.cfg,i=t.branches,s=nr(r,Yt.MERGE),o=[],a=[],l={},u={},h=nr(r,Yt.BRANCH);Rn(r,r.currentBlock,h),Rn(r,h,s);let c=h;for(let f=0;f<i.length;f++){const{condition:p,branchCallback:d,blockType:g}=i[f];if(p!==null){const x=nr(r,Yt.IF_COND);Rn(r,c,x),Hi(r,x),r.blockConditions[x]=p.id,c=x,Wr(r)}else{const x=nr(r,Yt.ELSE_COND);Rn(r,c,x),c=x}const m=nr(r,Yt.SCOPE_START);Rn(r,c,m);const v=nr(r,g);Rn(r,m,v),Hi(r,v);const w=d();for(const x in w)u[x]?u[x].push({value:w[x],blockId:v}):u[x]=[{value:w[x],blockId:v}];o.push(w);const y=nr(r,Yt.DEFAULT);Rn(r,r.currentBlock,y),a.push(y),Wr(r);const _=nr(r,Yt.SCOPE_END);Rn(r,y,_),Rn(r,_,s),c=m}Uu(r,h);for(const f in u)l[f]=t1(n,u[f],f);Wr(r);for(let f=0;f<o.length;f++){const p=o[f],d=a[f];Uu(r,d);for(const g in p)if(l[g]){const m=l[g].id,v=p[g].id,w={nodeType:kt.ASSIGNMENT,dependsOn:[m,v],phiBlocks:[]},y=Nn(n.dag,w);zn(r,d,y)}Wr(r)}return Hi(r,s),l}class yY{constructor(t,r,i,s,o,a){this.strandsContext=t,this.initialCb=r,this.conditionCb=i,this.updateCb=s,this.bodyCb=o,this.initialVars=a}build(){const t=this.strandsContext.cfg,r=nr(t,Yt.MERGE),i=nr(t,Yt.BRANCH);Rn(t,t.currentBlock,i),Rn(t,i,r);const{initialVar:s,phiNode:o}=this.initializeLoopVariable(t,i);Hi(t,t.currentBlock);const a=_n(o.id,o.dimension,this.strandsContext),l=this.conditionCb(a),u=this.updateCb(a);Wr(t),this.loopIsBounded(s,l,u)?this.buildBoundedLoop(t,i,r,s,o,l,u):this.buildUnboundedLoop(t,i,r,s,o,l,u);const c=this.phiNodesForBody;Uu(t,i);for(const[p,d]of Object.entries(this.bodyResults))if(p!=="loopVar"&&c[p]){const g=c[p].id,m=Nr(this.strandsContext.dag,g);m.dependsOn.length>1&&(m.dependsOn[1]=d.id),m.phiInputs&&m.phiInputs.length>1&&(m.phiInputs[1].value=d)}Wr(t),Uu(t,i);for(const[p,d]of Object.entries(this.initialVars))if(p!=="loopVar"&&c[p]){const g=c[p].id,m=d.id,v=Bn({nodeType:kt.ASSIGNMENT,dependsOn:[g,m],phiBlocks:[]}),w=Nn(this.strandsContext.dag,v);zn(t,i,w)}Wr(t),Uu(t,this.finalBodyBlock);for(const[p,d]of Object.entries(this.bodyResults))if(p!=="loopVar"&&c[p]){const g=c[p].id,m=d.id,v=Bn({nodeType:kt.ASSIGNMENT,dependsOn:[g,m],phiBlocks:[]}),w=Nn(this.strandsContext.dag,v);zn(t,this.finalBodyBlock,w)}Wr(t);const f={};for(const[p,d]of Object.entries(c))f[p]=_n(d.id,d.dimension,this.strandsContext);return Hi(t,r),f}buildBoundedLoop(t,r,i,s,o,a,l){const u=nr(t,Yt.FOR);if(Rn(t,r,u),Hi(t,u),s){const y=Bn({nodeType:kt.ASSIGNMENT,dependsOn:[o.id,s.id],phiBlocks:[]}),_=Nn(this.strandsContext.dag,y);zn(t,u,_)}const h=Bn({nodeType:kt.STATEMENT,statementType:zs.EXPRESSION,dependsOn:[a.id],phiBlocks:[]}),c=Nn(this.strandsContext.dag,h);zn(t,u,c);const f=Bn({nodeType:kt.ASSIGNMENT,dependsOn:[o.id,l.id],phiBlocks:[]}),p=Nn(this.strandsContext.dag,f);zn(t,u,p),Wr(t);const d=t.blockInstructions[u]||[],g=s?3:2;if(d.length!==g)throw new Error(`FOR block must have exactly ${g} statements, got ${d.length}`);const m=nr(t,Yt.SCOPE_START);Rn(t,u,m);const v=nr(t,Yt.DEFAULT);this.bodyBlock=v,Rn(t,m,v),this.executeBodyCallback(t,r,v,o);const w=nr(t,Yt.SCOPE_END);Rn(t,v,w),Rn(t,w,i)}buildUnboundedLoop(t,r,i,s,o,a,l){const u=nr(t,Yt.FOR);if(Rn(t,r,u),Hi(t,u),s){const N=Bn({nodeType:kt.ASSIGNMENT,dependsOn:[o.id,s.id],phiBlocks:[]}),F=Nn(this.strandsContext.dag,N);zn(t,u,F)}else{const N=Bn({nodeType:kt.STATEMENT,statementType:zs.EMPTY,dependsOn:[],phiBlocks:[]}),F=Nn(this.strandsContext.dag,N);zn(t,u,F)}const h=Bn({nodeType:kt.STATEMENT,statementType:zs.EMPTY,dependsOn:[],phiBlocks:[]}),c=Nn(this.strandsContext.dag,h);zn(t,u,c);const f=Bn({nodeType:kt.STATEMENT,statementType:zs.EMPTY,dependsOn:[],phiBlocks:[]}),p=Nn(this.strandsContext.dag,f);zn(t,u,p),Wr(t);const d=nr(t,Yt.SCOPE_START);Rn(t,u,d);const g=nr(t,Yt.DEFAULT);Rn(t,d,g),Hi(t,g);const m=a,v=this.createLogicalNotNode(m),w=nr(t,Yt.IF_COND);Rn(t,g,w),t.blockConditions[w]=v.id;const y=nr(t,Yt.DEFAULT);Rn(t,w,y),Hi(t,y);const _=Bn({nodeType:kt.STATEMENT,statementType:zs.BREAK,dependsOn:[],phiBlocks:[]}),x=Nn(this.strandsContext.dag,_);zn(t,y,x),Wr(t),Rn(t,y,i),Wr(t);const C=nr(t,Yt.DEFAULT);this.bodyBlock=C,Rn(t,g,C),this.executeBodyCallback(t,r,C,o);const E=nr(t,Yt.DEFAULT);Rn(t,C,E),Hi(t,E);const S=Bn({nodeType:kt.ASSIGNMENT,dependsOn:[o.id,l.id],phiBlocks:[]}),D=Nn(this.strandsContext.dag,S);zn(t,E,D),Wr(t);const A=nr(t,Yt.SCOPE_END);Rn(t,E,A),Rn(t,A,g),Rn(t,g,i)}initializeLoopVariable(t,r){Hi(t,r);let i=this.initialCb();if(!(i instanceof es)){const{id:o,dimension:a}=Mi(this.strandsContext,{baseType:Xt.FLOAT,dimension:1},i);i=_n(o,a,this.strandsContext)}const s=t1(this.strandsContext,[{value:i,blockId:r},{value:i,blockId:r}],"loopVar");return Wr(t),{initialVar:i,phiNode:s}}createLogicalNotNode(t){const r=Bn({nodeType:kt.OPERATION,opCode:Tn.Unary.LOGICAL_NOT,baseType:Xt.BOOL,dimension:1,dependsOn:[t.id],phiBlocks:[],usedBy:[]}),i=Nn(this.strandsContext.dag,r);return _n(i,1,this.strandsContext)}executeBodyCallback(t,r,i,s){Hi(t,i);const o={},a={};Uu(t,r);for(const[u,h]of Object.entries(this.initialVars))if(u!=="loopVar"){const c=t1(this.strandsContext,[{value:h,blockId:r},{value:h,blockId:i}],u);a[u]=c,o[u]=_n(c.id,c.dimension,this.strandsContext)}Wr(t);const l=_n(s.id,s.dimension,this.strandsContext);this.bodyResults=this.bodyCb(l,o),this.phiNodesForBody=a,this.finalBodyBlock=t.currentBlock,Wr(t)}loopIsBounded(t,r,i){if(!r)return!1;const s=Nr(this.strandsContext.dag,r.id);if(s.nodeType!==kt.OPERATION||!s.dependsOn||s.dependsOn.length!==2)return!1;const o=_n(s.dependsOn[0],1,this.strandsContext),a=_n(s.dependsOn[1],1,this.strandsContext),l=this.nodeUsesOnlyLiterals(o),u=this.nodeUsesOnlyLiterals(a);return l||u}nodeUsesOnlyLiterals(t){const r=Nr(this.strandsContext.dag,t.id);switch(r.nodeType){case kt.LITERAL:return!0;case kt.VARIABLE:return!1;case kt.PHI:return!1;case kt.OPERATION:if(r.dependsOn)for(const i of r.dependsOn){const s=_n(i,1,this.strandsContext);if(!this.nodeUsesOnlyLiterals(s))return!1}return!0;default:return!1}}}var _C=`// Based on https://github.com/stegu/webgl-noise/blob/22434e04d7753f7e949e8d724ab3da2864c17a0f/src/noise3D.glsl
// MIT licensed, adapted for p5.strands

vec3 mod289(vec3 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 mod289(vec4 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 permute(vec4 x) {
  return mod289(((x*34.0)+10.0)*x);
}

vec4 taylorInvSqrt(vec4 r)
{
  return 1.79284291400159 - 0.85373472095314 * r;
}

float baseNoise(vec3 v)
{
  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
  vec3 i  = floor(v + dot(v, C.yyy) );
  vec3 x0 =   v - i + dot(i, C.xxx) ;

  // Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min( g.xyz, l.zxy );
  vec3 i2 = max( g.xyz, l.zxy );

  //   x0 = x0 - 0.0 + 0.0 * C.xxx;
  //   x1 = x0 - i1  + 1.0 * C.xxx;
  //   x2 = x0 - i2  + 2.0 * C.xxx;
  //   x3 = x0 - 1.0 + 3.0 * C.xxx;
  vec3 x1 = x0 - i1 + C.xxx;
  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y

  // Permutations
  i = mod289(i);
  vec4 p = permute( permute( permute(
          i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
        + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
      + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

  // Gradients: 7x7 points over a square, mapped onto an octahedron.
  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
  float n_ = 0.142857142857; // 1.0/7.0
  vec3  ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

  vec4 x = x_ *ns.x + ns.yyyy;
  vec4 y = y_ *ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4( x.xy, y.xy );
  vec4 b1 = vec4( x.zw, y.zw );

  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;
  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;
  vec4 s0 = floor(b0)*2.0 + 1.0;
  vec4 s1 = floor(b1)*2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

  vec3 p0 = vec3(a0.xy,h.x);
  vec3 p1 = vec3(a0.zw,h.y);
  vec3 p2 = vec3(a1.xy,h.z);
  vec3 p3 = vec3(a1.zw,h.w);

  //Normalise gradients
  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

  // Mix final noise value
  vec4 m = max(0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
  m = m * m;
  return 105.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
        dot(p2,x2), dot(p3,x3) ) );
}

float noise(vec3 st) {
  float result = 0.0;
  float amplitude = 1.0;
  float frequency = 1.0;

  for (int i = 0; i < 4; i++) {
    result += amplitude * baseNoise(st * frequency);
    frequency *= 2.0;
    amplitude *= 0.5;
  }

  return result;
}
`;function bY(n,t,r){for(const{name:s,arity:o,opCode:a}of m3)o==="binary"&&(es.prototype[s]=function(...l){const{id:u,dimension:h}=dY(r,this,l,a);return _n(u,h,r)}),o==="unary"&&(n[s]=function(l){const{id:u,dimension:h}=fY(r,l,a);return _n(u,h,r)});t.discard=function(){xC(r,zs.DISCARD)},t.break=function(){xC(r,zs.BREAK)},n.break=t.break,t.instanceID=function(){const s=kl(r,{baseType:Xt.INT,dimension:1},"gl_InstanceID");return _n(s.id,s.dimension,r)},n.strandsIf=function(s,o){return new gY(r,s,o)},t.strandsIf=n.strandsIf,n.strandsFor=function(s,o,a,l,u){return new yY(r,s,o,a,l,u).build()},t.strandsFor=n.strandsFor,n.strandsNode=function(...s){if(s.length===1&&s[0]instanceof es)return s[0];s.length>4&&Ji("type error","It looks like you've tried to construct a p5.strands node implicitly, with more than 4 components. This is currently not supported.");const{id:o,dimension:a}=Mi(r,{baseType:Xt.FLOAT,dimension:null},s.flat());return _n(o,a,r)};for(const[s,o]of Object.entries(_3))if(o[0].isp5Function){const l=t[s];t[s]=function(...u){if(r.active){const{id:h,dimension:c}=wv(r,s,u);return _n(h,c,r)}else return l.apply(this,u)}}else t[s]=function(...l){if(r.active){const{id:u,dimension:h}=wv(r,s,l);return _n(u,h,r)}else n._friendlyError(`It looks like you've called ${s} outside of a shader's modify() function.`)};const i=t.noise;t.noise=function(...s){if(!r.active)return i.apply(this,s);r.vertexDeclarations.add(_C),r.fragmentDeclarations.add(_C);const o=s.map(h=>n.strandsNode(h));let a;o.length===3?a=[t.vec3(o[0],o[1],o[2])]:o.length===2?a=[t.vec3(o[0],o[1],0)]:o.length===1&&o[0].dimension<=3?o[0].dimension===3?a=o:o[0].dimension===2?a=[t.vec3(o[0],0)]:a=[t.vec3(o[0],0,0)]:n._friendlyError(`It looks like you've called noise() with ${s.length} arguments. It only supports 1D to 3D input.`);const{id:l,dimension:u}=wv(r,"noise",a,{overloads:[{params:[wn.float3],returnType:wn.float1}]});return _n(l,u,r)};for(const s in wn){if(s===Xt.DEFER)continue;const o=wn[s],a=[];let l;/^[ib]vec/.test(o.fnName)?(l=o.fnName.slice(0,2).toUpperCase()+o.fnName.slice(2).toLowerCase(),a.push(l.replace("Vec","Vector"))):(l=o.fnName.charAt(0).toUpperCase()+o.fnName.slice(1),l==="Sampler2D"?a.push("Texture"):/^vec/.test(o.fnName)&&a.push(l.replace("Vec","Vector"))),t[`uniform${l}`]=function(h,c){const{id:f,dimension:p}=kl(r,o,h);return r.uniforms.push({name:h,typeInfo:o,defaultValue:c}),_n(f,p,r)},t[`shared${l}`]=function(h){const{id:c,dimension:f}=kl(r,o,h);return r.sharedVariables||(r.sharedVariables=new Map),r.sharedVariables.set(h,{typeInfo:o,usedInVertex:!1,usedInFragment:!1,declared:!1}),_n(c,f,r)},t[`varying${l}`]=t[`shared${l}`];for(const h of a)t[`uniform${h}`]=t[`uniform${l}`],t[`varying${h}`]=t[`varying${l}`],t[`shared${h}`]=t[`shared${l}`];const u=t[o.fnName];t[o.fnName]=function(...h){if(r.active){const{id:c,dimension:f}=Mi(r,o,h);return _n(c,f,r)}else{if(u)return u.apply(this,h);n._friendlyError(`It looks like you've called ${o.fnName} outside of a shader's modify() function.`)}}}}function xY(n,t){const r=[],i=n.dag;for(const s of t)if(ex(s.type.typeName)){const o=Qb(s),{id:a,dimension:l}=_v(n,o,s.name,[]),u=_n(a,l,n);for(let h=0;h<o.properties.length;h++){const c=o.properties[h];Object.defineProperty(u,c.name,{get(){const f=Nr(i,i.dependsOn[u.id][h]),p=d=>{const m=i.dependsOn[u.id].slice();m[h]=d;const v=_v(n,o,s.name,m);u.id=v.id};return _n(f.id,f.dimension,n,p)},set(f){const d=[...i.dependsOn[u.id]];let g;f instanceof es?g=f.id:g=Mi(n,c.dataType,f).id,d[h]=g;const m=_v(n,o,s.name,d);u.id=m.id}})}r.push(u)}else{const o=vg[s.type.typeName],{id:a,dimension:l}=kl(n,o,s.name),u=_n(a,l,n);r.push(u)}return r}function Sv(n,t,r,i){if(!(r instanceof es))return Mi(n,t,r).id;const s=n.dag;let o=r.id;const a={baseType:s.baseTypes[o],dimension:s.dimensions[o]};return a.dimension!==t.dimension?a.dimension!==1?Ji("type error",`You have returned a vector with ${a.dimension} components in ${i} when a ${t.baseType+t.dimension} was expected!`):o=Mi(n,t,r).id:a.baseType!==t.baseType&&(o=Mi(n,t,r).id),o}function _Y(n,t,r){const i=Object.fromEntries(Object.entries(r.hooks.vertex).map(([h,c])=>[h,{...c,shaderContext:"vertex"}])),s=Object.fromEntries(Object.entries(r.hooks.fragment).map(([h,c])=>[h,{...c,shaderContext:"fragment"}])),o={...i,...s},a=Object.keys(o).map(h=>r.hookTypes(h)),{cfg:l,dag:u}=n;for(const h of a){const c=function(f){const p=nr(l,Yt.FUNCTION);Rn(l,l.currentBlock,p),Hi(l,p);const d=xY(n,h.parameters),g=f(...d),m=h.returnType;let v=null;if(ex(m.typeName)){const _=Qb(m);if(g instanceof es){const x=Nr(n.dag,g.id);x.baseType!==_.typeName&&Ji("type error",`You have returned a ${g.baseType} from ${h.name} when a ${_.typeName} was expected.`);const C=x.dependsOn.slice();for(let E=0;E<_.properties.length;E++){const S=_.properties[E].dataType,D=_n(x.dependsOn[E],u.dependsOn[g.id],n);C[E]=Sv(n,S,D,h.name)}u.dependsOn[g.id]=C,v=g.id}else{const x=_.properties,C=[];for(let S=0;S<x.length;S++){const D=x[S],A=D.name,N=g[A];N===void 0&&Ji("type error",`You've returned an incomplete struct from ${h.name}.
Expected: { ${m.properties.map(I=>I.name).join(", ")} }
Received: { ${Object.keys(g).join(", ")} }
All of the properties are required!`);const F=D.dataType,T=Sv(n,F,N,h.name);C.push(T)}v=pY(n,_,C).id}}else{const _=vg[m.typeName];v=Sv(n,_,g,h.name)}const w=`${h.returnType.typeName} ${h.name}`,y=o[w];n.hooks.push({hookType:h,entryBlockID:p,rootNodeID:v,shaderContext:y?.shaderContext}),Wr(l)};n.windowOverrides[h.name]=window[h.name],n.fnOverrides[h.name]=t[h.name],window[h.name]=c,t[h.name]=c}}function w3(n,t){function r(a,l,{active:u=!1}={}){a.dag=QS(),a.cfg=bC(),a.uniforms=[],a.vertexDeclarations=new Set,a.fragmentDeclarations=new Set,a.hooks=[],a.globalAssignments=[],a.backend=l,a.active=u,a.previousFES=n.disableFriendlyErrors,a.windowOverrides={},a.fnOverrides={},u&&(n.disableFriendlyErrors=!0)}function i(a){a.dag=QS(),a.cfg=bC(),a.uniforms=[],a.vertexDeclarations=new Set,a.fragmentDeclarations=new Set,a.hooks=[],a.globalAssignments=[],a.active=!1,n.disableFriendlyErrors=a.previousFES;for(const l in a.windowOverrides)window[l]=a.windowOverrides[l];for(const l in a.fnOverrides)t[l]=a.fnOverrides[l]}const s={};r(s),bY(n,t,s);const o=n.Shader.prototype.modify;n.Shader.prototype.modify=function(a,l={}){if(a instanceof Function){r(s,oo,{active:!0}),_Y(s,t,this);const u={srcLocations:!1};let h;{const p=`(${a.toString()})`;h=aY(n,p,u.srcLocations,l)}const c=nr(s.cfg,Yt.GLOBAL);Hi(s.cfg,c),h(),Wr(s.cfg);const f=uY(s);return i(s),o.call(this,f)}else return o.call(this,a)}}typeof p5<"u"&&p5.registerAddon(w3);function wY(n){Y5(n,n.prototype),Mb(n,n.prototype),zk(n,n.prototype),Ob(n,n.prototype),Gk(n,n.prototype),Z5(n,n.prototype),RX(n,n.prototype),F5(n,n.prototype),k5(n,n.prototype),I5(n,n.prototype),N5(n,n.prototype),P5(n,n.prototype),tN(n,n.prototype),D5(n,n.prototype),Nb(n,n.prototype),Pb(n,n.prototype),w3(n,n.prototype)}function EY(n){n.registerAddon(Hk),n.registerAddon(f3)}const SY=()=>{if(typeof window._setupDone<"u"){console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import");return}if(!window.mocha){const n=new Event("p5Ready");window.dispatchEvent(n),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!Ot.instance&&new Ot}},CY=()=>new Promise((n,t)=>{document.readyState==="complete"?n():window.addEventListener("load",n,!1)}),AY=typeof IS_MINIFIED>"u"?lj():Promise.resolve();S$(Ot);A$(Ot);T$(Ot);JW(Ot);QW(Ot);eq(Ot);nq(Ot);rq(Ot);oq(Ot);aq(Ot);lq(Ot);wY(Ot);EY(Ot);Promise.all([CY(),AY]).then(SY);const TY={class:"sim-container"},IY={class:"sim-header"},DY={class:"status-badge"},NY={class:"badge-text"},kY={class:"sim-body"},FY={class:"canvas-wrapper"},MY={class:"control-section"},OY={class:"control-group"},PY={class:"slider-header"},LY={class:"value"},RY={class:"control-group"},BY={class:"slider-header"},UY={class:"value"},VY=["disabled"],$Y={class:"btn-icon"},jY={class:"propagation-section"},zY={class:"medium-row"},GY={class:"medium-icon"},HY={class:"medium-info"},WY={class:"m-name"},qY={class:"m-speed"},XY={__name:"SoundWaveSim",setup(n){const t=Ue(null),r=Ue(null),i=Ue(30),s=Ue(2),o=Ue(!1),a=Ue(0),l=Ue(1),u=dt(()=>i.value<25?" ":i.value<45?" ":" "),h=dt(()=>s.value<2?" ":s.value<4?" ":" "),c=[{name:"",speed:"340 m/s",icon:""},{name:"",speed:"1,500 m/s",icon:""},{name:"",speed:"5,000 m/s",icon:""}];let f=null,p=null,d=null,g=null;function m(){p||(p=new(window.AudioContext||window.webkitAudioContext)),p.state==="suspended"&&p.resume()}function v(){m(),d&&(d.stop(),d.disconnect()),g&&g.disconnect(),d=p.createOscillator(),g=p.createGain();const C=150+(s.value-1)*150;d.frequency.setValueAtTime(C,p.currentTime),d.type="sine";const E=.05+(i.value-10)*.008;g.gain.setValueAtTime(E,p.currentTime),g.gain.exponentialRampToValueAtTime(.001,p.currentTime+2.5),d.connect(g),g.connect(p.destination),d.start(p.currentTime),d.stop(p.currentTime+2.5)}function w(){if(o.value)return;o.value=!0,a.value=0,l.value=1,v();const C=()=>{a.value+=.1,l.value=Math.exp(-a.value*.3),r.value&&r.value.redraw(),l.value>.01?f=requestAnimationFrame(C):(o.value=!1,l.value=0,r.value&&r.value.redraw())};C()}function y(){const C=E=>{let S=0,D=0;E.setup=()=>{S=t.value?.clientWidth||300,D=240,E.createCanvas(S,D).parent(t.value),E.noLoop(),E.textFont("SUIT, system-ui, sans-serif")},E.windowResized=()=>{t.value&&(S=t.value.clientWidth,E.resizeCanvas(S,D),E.redraw())},E.draw=()=>{E.clear(),E.background(248,250,252);const A=i.value*l.value,N=s.value,F=70,T=40,I=S-40,M=I-T;E.fill(139,90,43),E.noStroke(),E.rect(T-10,F-15,12,30,3),E.rect(I-2,F-15,12,30,3),E.stroke(80),E.strokeWeight(3),E.noFill(),E.beginShape();for(let q=T;q<=I;q+=2){const Z=(q-T)/M,he=Math.sin(Z*Math.PI),V=F+A*he*Math.sin(N*Z*Math.PI*4+a.value*10);E.vertex(q,V)}E.endShape();const $=150+80/2;E.stroke(226,232,240),E.strokeWeight(1),E.line(20,$,S-20,$),E.stroke(59,130,246),E.strokeWeight(2),E.noFill(),E.beginShape();for(let q=20;q<=S-20;q+=2){const Z=(q-20)/(S-40),he=$+A*.8*Math.sin(N*Z*Math.PI*6-a.value*8);E.vertex(q,he)}if(E.endShape(),A>5){const q=S-40;E.stroke(239,68,68),E.strokeWeight(2),E.line(q,$-A*.8,q,$+A*.8);const Z=(S-40)/(N*3);E.stroke(34,197,94),E.line(30,$+50,30+Z,$+50),E.noStroke(),E.textSize(10),E.fill(239,68,68),E.text("",q-25,$),E.fill(34,197,94),E.text("",30+Z/2-10,$+65)}}};r.value=new Ot(C,t.value)}let _=null;function x(){m(),d&&(d.stop(),d.disconnect()),g&&g.disconnect(),d=p.createOscillator(),g=p.createGain();const C=150+(s.value-1)*150;d.frequency.setValueAtTime(C,p.currentTime),d.type="sine";const E=.03+(i.value-10)*.005;g.gain.setValueAtTime(E,p.currentTime),g.gain.exponentialRampToValueAtTime(.001,p.currentTime+.3),d.connect(g),g.connect(p.destination),d.start(p.currentTime),d.stop(p.currentTime+.3)}return ri([i,s],()=>{r.value&&!o.value&&(l.value=.5,r.value.redraw(),_&&clearTimeout(_),_=setTimeout(()=>{x()},100),setTimeout(()=>{o.value||(l.value=0,r.value.redraw())},300))}),On(()=>{Fr(()=>y())}),Mr(()=>{f&&cancelAnimationFrame(f),d&&(d.stop(),d.disconnect()),p&&p.close(),r.value&&r.value.remove()}),(C,E)=>(ie(),le("div",TY,[b("header",IY,[E[3]||(E[3]=b("h2",{class:"sim-title"},"   ",-1)),b("div",DY,[E[2]||(E[2]=b("span",{class:"badge-icon"},"",-1)),b("span",NY,ke(o.value?" ...":" "),1)])]),b("div",kY,[b("div",FY,[b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:t},null,512),E[4]||(E[4]=b("div",{class:"canvas-label"},[b("span",null,"   ")],-1))]),b("section",MY,[b("div",OY,[b("div",PY,[E[5]||(E[5]=b("span",{class:"label"}," ( )",-1)),b("span",LY,ke(u.value),1)]),Bt(b("input",{type:"range",min:"10",max:"60","onUpdate:modelValue":E[0]||(E[0]=S=>i.value=S),class:"custom-range amp-range"},null,512),[[bn,i.value,void 0,{number:!0}]])]),b("div",RY,[b("div",BY,[E[6]||(E[6]=b("span",{class:"label"}," ()",-1)),b("span",UY,ke(h.value),1)]),Bt(b("input",{type:"range",min:"1",max:"5",step:"0.5","onUpdate:modelValue":E[1]||(E[1]=S=>s.value=S),class:"custom-range freq-range"},null,512),[[bn,s.value,void 0,{number:!0}]])]),b("button",{class:"pluck-btn",onClick:w,disabled:o.value},[b("span",$Y,ke(o.value?"":""),1),b("span",null,ke(o.value?"  ...":" "),1)],8,VY)]),E[8]||(E[8]=_r('<section class="info-section" data-v-d92431dc><div class="info-card" data-v-d92431dc><div class="card-icon" data-v-d92431dc></div><div class="card-content" data-v-d92431dc><div class="card-title" data-v-d92431dc> </div><div class="card-desc" data-v-d92431dc>    .</div></div></div><div class="info-card" data-v-d92431dc><div class="card-icon" data-v-d92431dc></div><div class="card-content" data-v-d92431dc><div class="card-title" data-v-d92431dc> </div><div class="card-desc" data-v-d92431dc>    .</div></div></div><div class="info-card" data-v-d92431dc><div class="card-icon" data-v-d92431dc></div><div class="card-content" data-v-d92431dc><div class="card-title" data-v-d92431dc> </div><div class="card-desc" data-v-d92431dc>    .</div></div></div></section>',1)),b("section",jY,[E[7]||(E[7]=b("div",{class:"section-header"},[b("span",{class:"section-title"},"  "),b("span",{class:"section-desc"}," !")],-1)),b("div",zY,[(ie(),le(it,null,At(c,S=>b("div",{class:"medium-item",key:S.name},[b("div",GY,ke(S.icon),1),b("div",HY,[b("span",WY,ke(S.name),1),b("span",qY,ke(S.speed),1)])])),64))])])])]))}},YY=yt(XY,[["__scopeId","data-v-d92431dc"]]),KY={class:"physics-wrap",ref:"wrapRef"},ZY={class:"status-icon"},JY={class:"status-text"},QY={__name:"BalanceScaleSim",setup(n){const t=Ue(null),r=Ue(null),i=Ue(0),s=Ue(0),o=Ue([]),a=Ue(null),l=Ue(null),u=(v,w)=>[{id:1,weight:10,color:"#3b82f6",x:50,y:w-50,baseX:50,baseY:w-50,slot:null,label:"10"},{id:2,weight:10,color:"#3b82f6",x:110,y:w-50,baseX:110,baseY:w-50,slot:null,label:"10"},{id:3,weight:20,color:"#ef4444",x:170,y:w-50,baseX:170,baseY:w-50,slot:null,label:"20"},{id:4,weight:30,color:"#10b981",x:230,y:w-50,baseX:230,baseY:w-50,slot:null,label:"30"}],h=dt(()=>o.value.filter(v=>v.slot!==null&&v.slot<0).reduce((v,w)=>v+w.weight*Math.abs(w.slot),0)),c=dt(()=>o.value.filter(v=>v.slot!==null&&v.slot>0).reduce((v,w)=>v+w.weight*Math.abs(w.slot),0)),f=dt(()=>h.value===0&&c.value===0?"  .":h.value===c.value?" ! ()":h.value>c.value?"  !":"  !"),p=dt(()=>h.value===0&&c.value===0?"":h.value===c.value?"":""),d=dt(()=>h.value===0&&c.value===0?"neutral":h.value===c.value?"success":"warning");function g(){if(!r.value)return;const v=r.value;o.value=u(v.width,v.height),i.value=0,s.value=0,l.value=null,v.redraw()}function m(){const v=w=>{let y=0,_=0;const x=280,C=30,E=50;w.setup=()=>{y=t.value?.clientWidth||360,_=320,w.createCanvas(y,_).parent(t.value),w.textFont("SUIT, system-ui, sans-serif"),o.value=u(y,_)},w.draw=()=>{w.clear(),w.background(250,252,255);const S=c.value-h.value;S===0?s.value=0:S>0?s.value=20*(Math.PI/180):s.value=-20*(Math.PI/180),i.value=w.lerp(i.value,s.value,.1);const D=y/2,A=_/2-20;w.push(),w.translate(D,A),w.fill(100),w.noStroke(),w.triangle(0,0,-15,30,15,30),w.rotate(i.value),w.fill(203,213,225),w.stroke(148,163,184),w.strokeWeight(2),w.rectMode(w.CENTER),w.rect(0,0,x+20,10,5),w.textAlign(w.CENTER,w.CENTER),w.textSize(10),w.noStroke();for(let N=-4;N<=4;N++){if(N===0)continue;const F=N*C;w.stroke(148,163,184),w.strokeWeight(1),w.line(F,-5,F,5),w.noStroke(),w.fill(100),w.text(Math.abs(N),F,15)}if(w.pop(),l.value=null,a.value){let N=E,F=null,T=0,I=0;for(let M=-4;M<=4;M++){if(M===0)continue;const L=M*C,B=D+L*Math.cos(i.value),$=A+L*Math.sin(i.value),q=w.dist(w.mouseX,w.mouseY,B,$);!o.value.some(he=>he.slot===M&&he.id!==a.value.id)&&q<N&&(N=q,F=M,T=B,I=$)}if(F!==null){l.value=F,w.noStroke(),w.fill(a.value.color);const M=w.color(a.value.color);M.setAlpha(100),w.fill(M),w.circle(T,I,30),w.stroke(a.value.color),w.strokeWeight(1),w.drawingContext.setLineDash([5,5]),w.line(w.mouseX,w.mouseY,T,I),w.drawingContext.setLineDash([])}}o.value.forEach(N=>{if(a.value&&a.value.id===N.id)N.x=w.mouseX,N.y=w.mouseY;else if(N.slot!==null){const T=N.slot*C,I=Math.cos(i.value),M=Math.sin(i.value),L=T,B=-18;N.x=D+(L*I-B*M),N.y=A+(L*M+B*I)}w.stroke(255),w.strokeWeight(2),w.noStroke(),w.fill(0,0,0,20);const F=25+N.weight/5;w.ellipse(N.x+2,N.y+2,F,F),w.stroke(255),w.fill(N.color),N.weight>=30?w.rectMode(w.CENTER).rect(N.x,N.y,F,F,6):w.ellipse(N.x,N.y,F,F),w.fill(255),w.noStroke(),w.textAlign(w.CENTER,w.CENTER),w.textSize(12),w.text(N.label,N.x,N.y)})},w.mousePressed=()=>{for(let S=o.value.length-1;S>=0;S--){const D=o.value[S];if(w.dist(w.mouseX,w.mouseY,D.x,D.y)<25){a.value=D,D.slot=null;return}}},w.mouseReleased=()=>{if(!a.value)return;const S=a.value;l.value!==null?S.slot=l.value:(S.x=S.baseX,S.y=S.baseY,S.slot=null),a.value=null,l.value=null}};r.value=new Ot(v,t.value)}return On(()=>{m()}),Mr(()=>{r.value&&(r.value.remove(),r.value=null)}),(v,w)=>(ie(),le("div",KY,[w[0]||(w[0]=b("div",{class:"header"},[b("h3",{class:"title"},"     "),b("p",{class:"desc"},"     !")],-1)),b("div",{class:st(["status-panel",d.value])},[b("div",ZY,ke(p.value),1),b("div",JY,ke(f.value),1)],2),b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:t},null,512),b("button",{class:"reset-btn",onClick:g},"    () "),w[1]||(w[1]=_r('<div class="info-cards" data-v-91278737><div class="info-card" data-v-91278737><div class="card-icon" data-v-91278737></div><div class="card-title" data-v-91278737></div><div class="card-desc" data-v-91278737>     .</div></div><div class="info-card" data-v-91278737><div class="card-icon" data-v-91278737></div><div class="card-title" data-v-91278737></div><div class="card-desc" data-v-91278737>     .</div></div><div class="info-card" data-v-91278737><div class="card-icon" data-v-91278737></div><div class="card-title" data-v-91278737> </div><div class="card-desc" data-v-91278737> (  )   !</div></div></div><div class="theory-section" data-v-91278737><div class="section-title" data-v-91278737>  :  </div><div class="theory-content" data-v-91278737><div class="formula-box" data-v-91278737><span class="f-item" data-v-91278737> (  )</span><span class="f-equal" data-v-91278737>=</span><span class="f-item" data-v-91278737> (  )</span></div></div></div>',2))],512))}},eK=yt(QY,[["__scopeId","data-v-91278737"]]),tK={class:"lab-container"},nK={class:"lab-header"},rK={class:"header-content"},iK={class:"viewport-area"},sK={class:"toast-icon"},oK={class:"toast-text"},aK={class:"guide-modal"},lK={class:"modal-header"},uK={__name:"MaterialLab",setup(n){const t=Ue(null),r=Ue(null),i=Ue(!1),s=Ue("idle"),o=Ue(null),a=dt(()=>{if(!o.value)return null;const g=o.value.name,m=o.value.materialName;switch(s.value){case"floating":return`${m}  ${g}()  !`;case"sinking":return`${m}  ${g}() .`;case"magnet_attract":return`! ${m}()  !`;case"magnet_ignore":return`${m}()   .`;default:return`${g}(${m})`}}),l=dt(()=>{switch(s.value){case"floating":return"";case"sinking":return"";case"magnet_attract":return"";case"magnet_ignore":return"";default:return""}}),u=dt(()=>["floating","magnet_attract"].includes(s.value)?"success":s.value==="idle"?"neutral":"info"),h=(g,m)=>{const v=m-80,w=g/6;return[{id:1,name:" ",materialName:"",x:w*1,y:v,baseX:w*1,baseY:v,icon:"",color:"#8B4513",density:.6,magnetic:!1},{id:2,name:" ",materialName:"",x:w*2,y:v,baseX:w*2,baseY:v,icon:"",color:"#64748b",density:7.8,magnetic:!0},{id:3,name:"",materialName:"",x:w*3,y:v,baseX:w*3,baseY:v,icon:"",color:"#FCD34D",density:.9,magnetic:!1},{id:4,name:" ",materialName:"",x:w*4,y:v,baseX:w*4,baseY:v,icon:"",color:"#60A5FA",density:2.5,magnetic:!1},{id:5,name:"",materialName:"",x:w*5,y:v,baseX:w*5,baseY:v,icon:"",color:"#F87171",density:1.5,magnetic:!1}]},c=Ue([]),f=Ue(null);function p(){if(!r.value)return;const g=r.value;c.value=h(g.width,g.height),s.value="idle",o.value=null,g.redraw()}function d(){const g=m=>{let v=0,w=0,y=0,_={x:0,y:0};m.setup=()=>{v=t.value?.clientWidth||window.innerWidth,w=t.value?.clientHeight||window.innerHeight,m.createCanvas(v,w).parent(t.value),m.textFont("SUIT, system-ui, sans-serif"),y=w*.45,_={x:v-80,y:100},c.value=h(v,w)},m.windowResized=()=>{v=t.value.clientWidth,w=t.value.clientHeight,m.resizeCanvas(v,w),y=w*.45,_={x:v-80,y:100};const x=w-80;c.value.forEach(C=>{f.value||(C.baseY=x,C.y>x&&(C.y=x))})},m.draw=()=>{m.clear(),m.background(248,250,252);const x=v*.55,C=w-y-120;m.noStroke(),m.fill(224,242,254,100),m.rect(20,y-20,x,C+20,0,0,15,15),m.fill(56,189,248,150),m.beginShape(),m.vertex(20,y);for(let E=20;E<=20+x;E+=10)m.vertex(E,y+Math.sin(m.frameCount*.04+E*.03)*6);m.vertex(20+x,y+C),m.vertex(20,y+C),m.endShape(m.CLOSE),m.stroke(186,230,253),m.strokeWeight(2),m.noFill(),m.rect(20,y-20,x,C+20,0,0,15,15),m.push(),m.translate(_.x,_.y),m.noFill(),m.stroke(239,68,68,40+Math.sin(m.frameCount*.1)*30),m.strokeWeight(2),m.drawingContext.setLineDash([5,5]),m.circle(0,0,140),m.drawingContext.setLineDash([]),m.rotate(-.2),m.noStroke(),m.fill(239,68,68),m.rect(-25,-40,25,60,5,0,0,5),m.fill(59,130,246),m.rect(0,-40,25,60,0,5,5,0),m.noFill(),m.stroke(100),m.strokeWeight(25),m.strokeCap(m.ROUND),m.arc(0,-40,50,50,m.PI,0),m.noStroke(),m.fill(255),m.textSize(16),m.textStyle(m.BOLD),m.text("N",-15,-10),m.text("S",10,-10),m.pop(),m.noStroke(),m.fill(226,232,240),m.rect(0,w-110,v,110),m.fill(203,213,225),m.rect(0,w-110,v,4),c.value.forEach(E=>{let S=!1,D=!1;if(f.value&&f.value.id===E.id)E.x=m.mouseX,E.y=m.mouseY;else{if(m.dist(E.x,E.y,_.x,_.y)<100)D=!0,E.magnetic?(E.x=m.lerp(E.x,_.x-10,.15),E.y=m.lerp(E.y,_.y+30,.15)):E.y<E.baseY&&(E.y+=5);else if(E.x>20&&E.x<20+x&&E.y>y)if(S=!0,E.density<1){const N=y+Math.sin(m.frameCount*.05+E.x)*5+15;E.y=m.lerp(E.y,N,.05)}else{const N=y+C-20;E.y<N&&(E.y+=4)}else E.y<E.baseY?E.y+=8:E.y=E.baseY;E.x=m.constrain(E.x,30,v-30),E.y=m.constrain(E.y,0,w-40)}m.push(),m.translate(E.x,E.y),E.y>=E.baseY-5&&(m.noStroke(),m.fill(0,0,0,15),m.ellipse(0,25,50,10)),m.stroke(255),m.strokeWeight(3),m.fill(E.color),m.circle(0,0,56),m.noStroke(),m.textSize(28),m.textAlign(m.CENTER,m.CENTER),m.text(E.icon,0,2),m.fill(30,41,59),m.textSize(11),m.textStyle(m.BOLD),m.text(E.name,0,40),m.pop(),!f.value&&o.value&&o.value.id===E.id&&(D?s.value=E.magnetic?"magnet_attract":"magnet_ignore":S?s.value=E.density<1?"floating":"sinking":E.y>=E.baseY-5)})},m.mousePressed=()=>{for(let x=c.value.length-1;x>=0;x--){const C=c.value[x];if(m.dist(m.mouseX,m.mouseY,C.x,C.y)<40){f.value=C,o.value=C,s.value="idle";return}}},m.mouseReleased=()=>{f.value=null}};r.value=new Ot(g,t.value)}return On(()=>{Fr(()=>d())}),Mr(()=>{r.value&&r.value.remove()}),(g,m)=>(ie(),le("div",tK,[b("header",nK,[b("div",rK,[m[5]||(m[5]=b("h2",{class:"app-title"},"   ",-1)),b("button",{class:"guide-btn",onClick:m[0]||(m[0]=v=>i.value=!0)},[...m[4]||(m[4]=[b("span",null,"  ",-1)])])])]),b("main",iK,[m[6]||(m[6]=b("div",{class:"hud-layer"},[b("div",{class:"zone-label water-zone"},"  ( )"),b("div",{class:"zone-label magnet-zone"},"  ( )")],-1)),b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:t},null,512),lt(Xi,{name:"pop"},{default:Sr(()=>[a.value?(ie(),le("div",{key:0,class:st(["status-toast",u.value])},[b("span",sK,ke(l.value),1),b("span",oK,ke(a.value),1)],2)):et("",!0)]),_:1})]),b("section",{class:"control-bar"},[m[7]||(m[7]=b("div",{class:"control-desc"},[Ct("   "),b("strong",null,""),Ct(" "),b("strong",null,""),Ct("  ! ")],-1)),b("button",{class:"reset-fab",onClick:p},"   ")]),i.value?(ie(),le("div",{key:0,class:"modal-overlay",onClick:m[3]||(m[3]=hr(v=>i.value=!1,["self"]))},[b("div",aK,[b("div",lK,[m[8]||(m[8]=b("h3",null,"  ",-1)),b("button",{class:"close-btn",onClick:m[1]||(m[1]=v=>i.value=!1)},"")]),m[9]||(m[9]=_r('<div class="guide-content" data-v-0f973915><div class="guide-item" data-v-0f973915><div class="g-icon" data-v-0f973915></div><div class="g-text" data-v-0f973915><h4 data-v-0f973915> </h4><p data-v-0f973915><strong data-v-0f973915></strong>   , <strong data-v-0f973915></strong>   .</p></div></div><div class="guide-item" data-v-0f973915><div class="g-icon" data-v-0f973915></div><div class="g-text" data-v-0f973915><h4 data-v-0f973915>  ()</h4><p data-v-0f973915>,   <strong data-v-0f973915></strong>,<br data-v-0f973915>, ,  <strong data-v-0f973915></strong>.</p></div></div><div class="guide-item" data-v-0f973915><div class="g-icon" data-v-0f973915></div><div class="g-text" data-v-0f973915><h4 data-v-0f973915>  ()</h4><p data-v-0f973915><strong data-v-0f973915></strong>    .<br data-v-0f973915>(, ,   )</p></div></div></div>',1)),b("button",{class:"confirm-btn",onClick:m[2]||(m[2]=v=>i.value=!1)}," ")])])):et("",!0)]))}},cK=yt(uK,[["__scopeId","data-v-0f973915"]]),hK={class:"sim-header"},fK={class:"stage-badge"},dK={class:"badge-icon"},pK={class:"badge-text"},mK={class:"viewport-area"},gK={class:"hud-top"},vK={class:"health-pill"},yK={class:"hp-bar-track"},bK={class:"hp-text"},xK={class:"control-panel"},_K={class:"setting-grid"},wK={class:"setting-item"},EK={class:"segment-control"},SK=["onClick"],CK={class:"setting-item"},AK={class:"segment-control"},TK=["onClick"],IK={class:"action-grid"},DK=["disabled"],NK=["disabled"],kK=["disabled"],FK={class:"timeline-area"},MK={class:"timeline-track"},OK={class:"step-label"},PK={key:0,class:"sim-modal-overlay"},LK={class:"result-modal"},RK={class:"result-icon"},BK={class:"result-title"},UK={class:"result-desc"},VK={__name:"PlantLifecycleSim",setup(n){const t=Ue(null),r=Ue(null),i=Ue(null),s=Ue("medium"),o=Ue("medium"),a=Ue(0),l=Ue(80),u=Ue(0),h=Ue(0),c=Ue(0),f=Ue(!1),p=Ue(!1),d=[{name:"",icon:"",threshold:0},{name:"",icon:"",threshold:20},{name:"",icon:"",threshold:45},{name:"",icon:"",threshold:70},{name:"",icon:"",threshold:90}],g=dt(()=>!f.value&&!p.value),m=dt(()=>f.value?"dead":p.value?"complete":l.value<30?"warning":"normal"),v=dt(()=>{if(f.value||p.value)return null;const A=s.value,N=o.value;return A==="low"&&N==="low"?"   !":A==="low"?" .  .":A==="high"?"  .  .":N==="low"?".  .":N==="high"&&A!=="high"?"  !":A==="medium"&&N==="medium"?l.value>90?" !  .":" .":" ."}),w=dt(()=>l.value>60?"#22c55e":l.value>30?"#facc15":"#ef4444");function y(){g.value&&(h.value+=1,S("water"))}function _(){g.value&&(c.value+=1,S("sun"))}function x(){if(!g.value)return;const A=s.value,N=o.value;let F=0,T=0;A==="medium"&&N==="medium"?(F=5,T=15):A==="medium"&&N==="low"?(F=-2,T=5):A==="medium"&&N==="high"?(F=-5,T=8):A==="low"?(F=-10,T=2):A==="high"&&(F=-8,T=3),l.value=Math.max(0,Math.min(100,l.value+F)),u.value=Math.min(100,u.value+T);for(let I=d.length-1;I>=0;I--)if(u.value>=d[I].threshold){a.value<I&&(a.value=I,S("grow"));break}l.value<=0&&(f.value=!0,S("fail")),u.value>=100&&l.value>30&&(p.value=!0,S("complete")),r.value&&r.value.redraw()}function C(){a.value=0,l.value=80,u.value=0,h.value=0,c.value=0,f.value=!1,p.value=!1,s.value="medium",o.value="medium",r.value&&r.value.redraw()}let E=null;function S(A){try{E||(E=new(window.AudioContext||window.webkitAudioContext)),E.state==="suspended"&&E.resume();const N=E.createOscillator(),F=E.createGain();N.connect(F),F.connect(E.destination);const T=E.currentTime;let I=440;A==="water"?I=600:A==="sun"?I=800:A==="grow"?I=400:A==="complete"?I=523:A==="fail"&&(I=200),N.frequency.setValueAtTime(I,T),N.frequency.exponentialRampToValueAtTime(I/2,T+.3),F.gain.setValueAtTime(.1,T),F.gain.exponentialRampToValueAtTime(.01,T+.3),N.start(T),N.stop(T+.3)}catch{}}function D(){const A=N=>{let F=0,T=0;N.setup=()=>{F=t.value?.clientWidth||300,T=240,N.createCanvas(F,T).parent(t.value),N.noLoop()},N.windowResized=()=>{t.value&&(F=t.value.clientWidth,N.resizeCanvas(F,T),N.redraw())},N.draw=()=>{const Z=o.value==="high"?240:o.value==="medium"?220:180;N.background(135,206,Z);const he=F/2,V=T-30,J=o.value==="high"?60:o.value==="medium"?45:30,ge=F-40,W=40;if(N.noStroke(),N.fill(255,220,50,o.value==="high"?255:200),N.circle(ge,W,J),o.value!=="low"){N.stroke(255,220,50,100),N.strokeWeight(2);for(let ue=0;ue<8;ue++){const G=ue/8*N.TWO_PI;N.line(ge+Math.cos(G)*J*.6,W+Math.sin(G)*J*.6,ge+Math.cos(G)*J*.8,W+Math.sin(G)*J*.8)}}N.noStroke(),N.fill(139,90,43),N.rect(0,V,F,30),N.fill(76,153,76),N.rect(0,V-5,F,10),s.value==="high"?(N.fill(60,100,160,100),N.ellipse(he,V+5,100,12)):s.value==="low"&&(N.stroke(100,70,30),N.strokeWeight(1),N.line(he-20,V+5,he-10,V+15),N.line(he+20,V+5,he+10,V+15));const z=he,de=V-5,K=l.value/100;if(f.value)q(N,z,de);else switch(a.value){case 0:I(N,z,de);break;case 1:M(N,z,de,K);break;case 2:L(N,z,de,K);break;case 3:B(N,z,de);break;case 4:$(N,z,de);break}if(h.value>0){N.fill(100,180,255,180),N.noStroke();for(let ue=0;ue<5;ue++)N.circle(z-20+Math.random()*40,de-80+Math.random()*30,5)}};function I(Z,he,V){Z.fill(101,67,33),Z.noStroke(),Z.ellipse(he,V+8,16,10),Z.fill(139,90,43),Z.ellipse(he,V+8,12,6)}function M(Z,he,V,J){Z.stroke(76,153,76),Z.strokeWeight(4*J+2),Z.noFill(),Z.line(he,V,he,V-25),Z.fill(120,180,80),Z.noStroke(),Z.ellipse(he-10,V-20,14,8),Z.ellipse(he+10,V-20,14,8)}function L(Z,he,V,J){const ge=60+J*20;Z.stroke(60,130,60),Z.strokeWeight(5),Z.noFill(),Z.beginShape(),Z.vertex(he,V),Z.quadraticVertex(he+5,V-ge/2,he,V-ge),Z.endShape(),Z.fill(80,160,80),Z.noStroke(),Z.circle(he-8,V-ge*.4,14),Z.circle(he+8,V-ge*.6,16),Z.circle(he,V-ge,10)}function B(Z,he,V,J){Z.stroke(60,130,60),Z.strokeWeight(6),Z.noFill(),Z.line(he,V,he,V-80),Z.fill(255,100,150),Z.noStroke(),Z.circle(he,V-80,35),Z.fill(255,220,100),Z.circle(he,V-80,12)}function $(Z,he,V,J){Z.stroke(60,130,60),Z.strokeWeight(7),Z.noFill(),Z.line(he,V,he,V-90),Z.fill(220,50,50),Z.noStroke(),Z.circle(he,V-90+10,30),Z.fill(80,160,80),Z.circle(he-8,V-45,16)}function q(Z,he,V){Z.stroke(100,80,50),Z.strokeWeight(4),Z.noFill(),Z.line(he,V,he+10,V-25),Z.fill(120,100,60),Z.noStroke(),Z.circle(he+10,V-25,10)}};r.value=new Ot(A,t.value)}return On(()=>{Fr(()=>{D()})}),Mr(()=>{r.value&&r.value.remove(),E&&E.close()}),ri([s,o,l,a,f],()=>{r.value&&r.value.redraw()}),(A,N)=>(ie(),le("div",{class:"sim-container",ref_key:"wrapRef",ref:i},[b("header",hK,[N[0]||(N[0]=b("h2",{class:"sim-title"},"  ",-1)),b("div",fK,[b("span",dK,ke(d[a.value].icon),1),b("span",pK,ke(d[a.value].name),1)])]),b("main",mK,[b("div",gK,[b("div",vK,[N[1]||(N[1]=b("span",{class:"heart-icon"},"",-1)),b("div",yK,[b("div",{class:"hp-bar-fill",style:Gn({width:l.value+"%",background:w.value})},null,4)]),b("span",bK,ke(l.value)+"%",1)])]),b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:t},null,512),lt(Xi,{name:"fade"},{default:Sr(()=>[v.value?(ie(),le("div",{key:0,class:st(["status-toast",m.value])},ke(v.value),3)):et("",!0)]),_:1})]),b("section",xK,[b("div",_K,[b("div",wK,[N[2]||(N[2]=b("span",{class:"setting-label"},"  ",-1)),b("div",EK,[(ie(),le(it,null,At(["low","medium","high"],F=>b("button",{key:"water-"+F,onClick:T=>s.value=F,class:st(["segment-btn",{active:s.value===F}])},ke(F==="low"?"":F==="medium"?"":""),11,SK)),64))])]),b("div",CK,[N[3]||(N[3]=b("span",{class:"setting-label"},"  ",-1)),b("div",AK,[(ie(),le(it,null,At(["low","medium","high"],F=>b("button",{key:"sun-"+F,onClick:T=>o.value=F,class:st(["segment-btn",{active:o.value===F}])},ke(F==="low"?"":F==="medium"?"":""),11,TK)),64))])])]),b("div",IK,[b("button",{class:"action-btn water",onClick:y,disabled:!g.value},[...N[4]||(N[4]=[b("span",{class:"btn-icon"},"",-1),b("span",{class:"btn-label"},"",-1)])],8,DK),b("button",{class:"action-btn sun",onClick:_,disabled:!g.value},[...N[5]||(N[5]=[b("span",{class:"btn-icon"},"",-1),b("span",{class:"btn-label"},"",-1)])],8,NK),b("button",{class:"action-btn time",onClick:x,disabled:!g.value},[...N[6]||(N[6]=[b("span",{class:"btn-icon"},"",-1),b("div",{class:"btn-text-group"},[b("span",{class:"btn-label-main"}," "),b("span",{class:"btn-label-sub"}," +1")],-1)])],8,kK)]),b("div",FK,[b("div",MK,[(ie(),le(it,null,At(d,(F,T)=>b("div",{key:F.name,class:st(["timeline-step",{active:a.value===T,passed:a.value>T}])},[N[7]||(N[7]=b("div",{class:"step-dot"},null,-1)),b("div",OK,ke(F.name),1)],2)),64))])])]),f.value||p.value?(ie(),le("div",PK,[b("div",LK,[b("div",RK,ke(p.value?"":""),1),b("h3",BK,ke(p.value?" !":"..."),1),b("p",UK,ke(p.value?"  !":"   ."),1),b("button",{class:"restart-btn",onClick:C}," ")])])):et("",!0)],512))}},$K=yt(VK,[["__scopeId","data-v-fd1ed8b6"]]),jK={class:"sim-container"},zK={class:"sim-header"},GK={class:"weather-badge"},HK={class:"badge-icon"},WK={class:"badge-text"},qK={class:"viewport-area"},XK={class:"hud-layer"},YK={key:0,class:"observation-tag landform"},KK={key:1,class:"observation-tag mudflat"},ZK={key:0,class:"info-toast"},JK={class:"control-panel"},QK={class:"control-tabs"},eZ={class:"control-body"},tZ={key:0,class:"control-group"},nZ={class:"slider-header"},rZ={class:"value"},iZ={class:"desc-text"},sZ={key:0,class:"highlight"},oZ={key:1,class:"control-group"},aZ={class:"slider-header"},lZ={class:"value"},uZ={class:"desc-text"},cZ={key:0,class:"highlight"},hZ={class:"action-row"},fZ={__name:"OceanSim",setup(n){const t=Ue(null),r=Ue(null),i=Ue("tide"),s=Ue(50),o=Ue(20),a=Ue(!1),l=Ue(!0),u=dt(()=>s.value<30),h=dt(()=>s.value>70),c=dt(()=>h.value?"":u.value?"":""),f=dt(()=>s.value<30?"":s.value>70?"":""),p=dt(()=>o.value<20?"":o.value<60?"":""),d=dt(()=>a.value?"":""),g=dt(()=>a.value?"":""),m=dt(()=>{if(i.value==="tide"){if(u.value)return"   !";if(h.value)return"  ."}return i.value==="wind"&&o.value>80?"  ().":null});function v(){a.value=!a.value,r.value&&r.value.redraw()}function w(){const y=_=>{let x=0,C=0,E=0,S=[];const D=[{x:.6,y:0,type:"crab",offset:0},{x:.75,y:0,type:"clam",offset:2},{x:.85,y:0,type:"crab",offset:4}];_.setup=()=>{x=t.value?.clientWidth||300,C=t.value?.clientHeight||200,_.createCanvas(x,C).parent(t.value);for(let I=0;I<5;I++)S.push({x:_.random(x),y:_.random(20,80),s:_.random(.4,.8)})},_.windowResized=()=>{t.value&&(x=t.value.clientWidth,C=t.value.clientHeight,_.resizeCanvas(x,C))},_.draw=()=>{A(_,x,C),N(_,x,C),F(_,x,C),u.value&&T(_,x,C)};function A(I,M,L){if(a.value){I.background(20,24,82),I.fill(255,255,255,150),I.noStroke(),I.frameCount%60===0&&I.randomSeed(10);for(let $=0;$<10;$++)I.ellipse(I.random(M),I.random(L/2),2,2)}else I.background(135,206,235),I.noStroke(),I.fill(255,220,0),I.circle(M-40,40,40);I.fill(255,255,255,a.value?50:200),I.noStroke();const B=(o.value+10)*.05;S.forEach($=>{$.x+=B*.5,$.x>M+40&&($.x=-40),I.push(),I.translate($.x,$.y),I.scale($.s),I.ellipse(0,0,50,30),I.ellipse(20,-5,40,25),I.ellipse(20,5,40,25),I.pop()})}function N(I,M,L){I.fill(101,67,33),I.noStroke(),I.beginShape(),I.vertex(0,L),I.vertex(0,L*.4),I.vertex(M*.2,L*.4),I.vertex(M*.25,L*.6),I.vertex(M,L*.8),I.vertex(M,L),I.endShape(I.CLOSE),I.fill(80,60,40),I.rect(0,L*.4,M*.2,L*.2)}function F(I,M,L){const B=I.map(s.value,0,100,L*.75,L*.45),$=I.map(o.value,0,100,2,20),q=I.map(o.value,0,100,.02,.1);I.noStroke(),I.fill(30,144,255,150),I.beginShape(),I.vertex(0,L),I.vertex(0,B);for(let Z=0;Z<=M;Z+=10)I.vertex(Z,B+Math.sin(Z*.02+E)*$*.8);I.vertex(M,L),I.endShape(I.CLOSE),I.fill(65,105,225,200),I.beginShape(),I.vertex(0,L),I.vertex(0,B+10);for(let Z=0;Z<=M;Z+=10)I.vertex(Z,B+10+Math.sin(Z*.03+E+1)*$);if(I.vertex(M,L),I.endShape(I.CLOSE),E+=q,B<L*.55&&o.value>50){I.fill(255,255,255,150),I.noStroke();const Z=(o.value-50)*.5;I.circle(M*.25,L*.55,Z*I.random(.5,1))}}function T(I,M,L){D.forEach(B=>{const $=M*B.x,q=L*(.53+.26*B.x),Z=Math.sin(I.frameCount*.1+B.offset)*2;I.push(),I.translate($,q+Z),B.type==="crab"?(I.fill(255,100,100),I.ellipse(0,0,14,10),I.stroke(200,50,50),I.strokeWeight(1.5),I.line(-6,-3,-9,-7),I.line(6,-3,9,-7)):(I.fill(240,230,200),I.noStroke(),I.arc(0,0,12,10,I.PI,0)),I.pop()})}};r.value=new Ot(y,t.value)}return On(()=>{Fr(()=>w())}),Mr(()=>{r.value&&r.value.remove()}),(y,_)=>(ie(),le("div",jK,[b("header",zK,[_[5]||(_[5]=b("h2",{class:"sim-title"},"  ",-1)),b("div",GK,[b("span",HK,ke(g.value),1),b("span",WK,ke(d.value)+" / "+ke(c.value),1)])]),b("main",qK,[b("div",XK,[l.value?(ie(),le("div",YK,"    ")):et("",!0),l.value&&u.value?(ie(),le("div",KK,"   ( !) ")):et("",!0)]),b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:t},null,512),lt(Xi,{name:"fade"},{default:Sr(()=>[m.value?(ie(),le("div",ZK,ke(m.value),1)):et("",!0)]),_:1})]),b("section",JK,[b("div",QK,[b("button",{class:st(["tab-btn",{active:i.value==="tide"}]),onClick:_[0]||(_[0]=x=>i.value="tide")},"  () ",2),b("button",{class:st(["tab-btn",{active:i.value==="wind"}]),onClick:_[1]||(_[1]=x=>i.value="wind")},"  () ",2)]),b("div",eZ,[i.value==="tide"?(ie(),le("div",tZ,[b("div",nZ,[_[6]||(_[6]=b("span",{class:"label"}," ",-1)),b("span",rZ,ke(f.value),1)]),Bt(b("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":_[2]||(_[2]=x=>s.value=x),class:"custom-range moon-range"},null,512),[[bn,s.value,void 0,{number:!0}]]),b("p",iZ,[_[7]||(_[7]=Ct("    ",-1)),b("strong",null,ke(c.value),1),_[8]||(_[8]=Ct(" . ",-1)),u.value?(ie(),le("span",sZ," !")):et("",!0)])])):et("",!0),i.value==="wind"?(ie(),le("div",oZ,[b("div",aZ,[_[9]||(_[9]=b("span",{class:"label"}," ",-1)),b("span",lZ,ke(p.value),1)]),Bt(b("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":_[3]||(_[3]=x=>o.value=x),class:"custom-range wind-range"},null,512),[[bn,o.value,void 0,{number:!0}]]),b("p",uZ,[_[10]||(_[10]=Ct("   ",-1)),_[11]||(_[11]=b("strong",null,"",-1)),_[12]||(_[12]=Ct(" . ",-1)),o.value>70?(ie(),le("span",cZ,"  !")):et("",!0)])])):et("",!0)]),b("div",hZ,[b("button",{class:"toggle-btn",onClick:v},ke(a.value?" ":" "),1),b("button",{class:"toggle-btn sub",onClick:_[4]||(_[4]=x=>l.value=!l.value)},ke(l.value?" ":" "),1)])])]))}},dZ=yt(fZ,[["__scopeId","data-v-f7a27446"]]),pZ="/team4_logo.png",mZ={components:{FilterModal:Z1,BottomNavbar:K1,PlaceReviewCard:h7},data(){return{allSubjects:ld}},setup(){const n=bi(),{user:t}=Ts(n),r=kp(),{selectedGrade:i,selectedSubject:s}=Ts(r),o=bc(),a=Ue(!1),l=Ue(""),u=Ue("1"),h=Ue([]),c=Ue(!1),f=Ue([]),p=Ue([]),d=Ue(null),g=Ue(!0),m=()=>{g.value=!g.value},v=dt(()=>t.value?.name?`${t.value.name} `:" "),w=T=>{const I=[],M=[];T.forEach(L=>{L.itemType==="exhibition"?I.push(L):L.itemType==="science_place"&&M.push(L)}),f.value=I,p.value=M},y=async()=>{console.log("==== Home API    ===="),c.value=!0,h.value=[],f.value=[],p.value=[];const T={searchType:"all",subject:s.value,grade:i.value};try{console.log("API  :",T);const I=await cn.get("/api/content/search",{params:T});if(I.data&&Array.isArray(I.data)){const M=await Promise.all(I.data.slice(0,20).map(async L=>{let B=null;L.itemType==="exhibition"&&(B="");try{const $=L.itemType;console.log(` : ${L.itemType}, ID: ${L.id}, : ${L.title}`),$||console.warn(`item.itemType . (ID: ${L.id})`);const q={targetId:L.id,targetType:$,page:1,size:1},he=(await cn.get("/api/reviews",{params:q})).data,V=he?.content?.[0]||null;let J=[];try{const ge={targetId:L.id,targetType:$,limit:3},{data:W}=await cn.get("/api/reviews/photos-summary",{params:ge});J=Array.isArray(W)?W:[]}catch(ge){console.warn("   :",ge)}return{...L,badgeLabel:B,totalReviews:he?.totalElements||0,totalPages:he?.totalPages||0,latestReview:V?{reviewId:V.reviewId,authorName:V.authorName,authorProfileImageUrl:V.authorProfileImageUrl,rating:V.rating,content:V.content,createdAt:V.createdAt,photoUrls:V.photoUrls||[]}:null,photoThumbnails:J,averageRating:L.averageRating||0}}catch($){return console.warn("  :",$),{...L,latestReview:null,totalReviews:0,photoThumbnails:[],averageRating:L.averageRating||0}}}));h.value=M,console.log("   :",M.length),w(M),console.log("====   ====")}else console.error("API   :",I.data),h.value=[],f.value=[],p.value=[]}catch(I){console.error("Home API   :",I),ht.emit("show-global-alert",{message:"     .",type:"error"}),h.value=[],f.value=[],p.value=[]}finally{c.value=!1,console.log("==== Home API   ====")}};On(()=>{y()});const _=dt(()=>{let T=i.value;[" 3"," 4"," 5"," 6"].includes(T)||(T=" 3");const I=s.value,M=ld[T];if(!M)return[{semester:" ",units:[]}];const L=M["1"][I]||[],B=M["2"][I]||[];return[{semester:`${T} 1 - ${I}`,units:L},{semester:`${T} 2 - ${I}`,units:B}]}),x=(T,I)=>{d.value={grade:i.value,subject:s.value,semesterLabel:T.semester,unitTitle:I.title},console.log(" :",d.value)},C=dt(()=>{const T=i.value,I=u.value,M=s.value,L=ld[T]?.[I]?.[M];if(!L||!Array.isArray(L))return null;const B=L.some(V=>V.title.includes(" ")),$=L.some(V=>V.title.includes(" ")),q=L.some(V=>V.title.includes(" ")),Z=L.some(V=>V.title.includes(" ")),he=L.some(V=>V.title.includes(""));return B?eK:$?YY:Z?cK:q?$K:he?dZ:null}),E=dt(()=>{const T=i.value,I=u.value,M=s.value,L=ld[T]?.[I]?.[M];if(!L||!Array.isArray(L))return"";const B=L.some(V=>V.title.includes(" ")),$=L.some(V=>V.title.includes(" ")),q=L.some(V=>V.title.includes(" ")),Z=L.some(V=>V.title.includes(" ")),he=L.some(V=>V.title.includes(""));return B?"3-1  ":$?"3-2  ":q?"3-1  ":Z?"3-2  ":he?"3-2 ":""}),S=T=>{console.log("  :",T.title),T.itemType==="exhibition"?o.push({path:`/exhibition/${T.id}`,query:{mainCategoryTags:T.subject&&T.subject.length>0?T.subject:null,subCategoryTags:T.hashtags,gradeTags:T.grade}}):o.push({path:`/place/${T.id}`,query:{mainCategoryTags:T.subject&&T.subject.length>0?T.subject:null,subCategoryTags:T.hashtags,gradeTags:T.grade}})},D=()=>{if(!t.value){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{o.push({name:"login"})}});return}console.log(" "),o.push("/mypage")},A=T=>{console.log("  :",T),r.setFilter(T.grade,T.subject),console.log("  :",r.selectedGrade),console.log("  :",r.selectedSubject),a.value=!1,y()},N=T=>{if(console.log(T,"."),l.value=T,T===""&&!t.value){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{o.push({name:"login"})}});return}T===""?o.push("/home"):T===""?o.push("/list"):T===""?o.push("/map"):T===""?o.push("/usercourselist"):T===""&&o.push("/mypage")},F=()=>{if(!t.value){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{o.push({name:"login"})}});return}o.push("/aitutor")};return ri(C,T=>{T&&(g.value=!0)}),{user:t,userName:v,isModalOpen:a,selectedSubject:s,selectedGrade:i,selectedNavItem:l,chalkboardContent:_,selectedSemester:u,displayedItems:h,isSearching:c,exhibitionItems:f,fieldTripItems:p,goToDetail:S,goToMyPage:D,handleFilterComplete:A,handleNavigation:N,goToAiTutor:F,onUnitClick:x,selectedUnitInfo:d,currentSimulationComponent:C,currentSimLabel:E,isSimulationExpanded:g,toggleSimulation:m}}},gZ={class:"home-root d-flex flex-column h-100 bg-white",style:{"font-family":"'SUIT', sans-serif"}},vZ={class:"home-header"},yZ={class:"home-scroll flex-grow-1"},bZ={class:"home-section home-section--profile"},xZ=["aria-label"],_Z={class:"profile-avatar"},wZ=["src"],EZ={key:1,class:"profile-avatar-fallback"},SZ={class:"profile-info"},CZ={class:"profile-name"},AZ={class:"profile-status"},TZ={class:"home-section home-section--chalkboard"},IZ={class:"chalkboard-frame"},DZ={class:"chalkboard-text"},NZ={class:"chalkboard-header"},kZ={class:"chalkboard-tabs"},FZ={key:0},MZ={class:"chalkboard-heading title"},OZ={key:0,class:"chalkboard-list"},PZ=["onClick"],LZ={class:"index"},RZ={key:0,class:"chalkboard-description"},BZ={key:1,class:"chalkboard-no-data"},UZ={class:"home-section home-section--virtual"},VZ={key:0,class:"simulation-accordion"},$Z={class:"simulation-header-right"},jZ={key:0,class:"virtual-section-label"},zZ={class:"simulation-content-wrapper"},GZ={class:"simulation-inner"},HZ={class:"simulation-content"},WZ={key:1,class:"virtual-placeholder"},qZ={class:"home-section-carousel"},XZ={class:"card-carousel-wrapper"},YZ={class:"card-carousel-container"},KZ={key:0,class:"loading-state"},ZZ={key:1,class:"empty-state"},JZ={key:2,class:"card-row"},QZ={class:"home-section-carousel"},eJ={class:"card-carousel-wrapper"},tJ={class:"card-carousel-container"},nJ={key:0,class:"loading-state"},rJ={key:1,class:"empty-state"},iJ={key:2,class:"card-row"},sJ={class:"bottom-navbar-wrapper"};function oJ(n,t,r,i,s,o){const a=Rt("PlaceReviewCard"),l=Rt("BottomNavbar"),u=Rt("FilterModal");return ie(),le("div",gZ,[b("div",vZ,[t[10]||(t[10]=b("div",{class:"header-left-group"},[b("img",{src:pZ,class:"header-logo",alt:" "})],-1)),b("button",{class:"ai-tutor-button",onClick:t[0]||(t[0]=(...h)=>i.goToAiTutor&&i.goToAiTutor(...h))},[...t[9]||(t[9]=[b("i",{class:"bi bi-robot"},null,-1),b("span",null,"AI ",-1)])])]),b("div",yZ,[b("div",bZ,[b("div",{class:"profile-card",role:"button",tabindex:"0",onKeydown:t[4]||(t[4]=z1(h=>i.goToMyPage(),["enter"])),"aria-label":`${i.userName}  `},[b("div",_Z,[i.user?.profileImageUrl?(ie(),le("img",{key:0,src:i.user.profileImageUrl,alt:" ",class:"profile-image",onClick:t[1]||(t[1]=h=>i.goToMyPage())},null,8,wZ)):(ie(),le("div",EZ,[...t[11]||(t[11]=[b("i",{class:"bi bi-person-fill"},null,-1)])]))]),b("div",SZ,[t[16]||(t[16]=b("div",{class:"profile-greeting"},"",-1)),b("div",CZ,ke(i.userName),1),b("div",AZ,[b("button",{type:"button",class:"profile-pill",onClick:t[2]||(t[2]=hr(h=>i.isModalOpen=!0,["stop","prevent"]))},[Ct(ke(i.selectedGrade)+" ",1),t[12]||(t[12]=b("i",{class:"bi bi-chevron-down"},null,-1))]),t[14]||(t[14]=b("span",{class:"status-dot"},"",-1)),b("button",{type:"button",class:"profile-pill",onClick:t[3]||(t[3]=hr(h=>i.isModalOpen=!0,["stop","prevent"]))},[Ct(ke(i.selectedSubject)+" ",1),t[13]||(t[13]=b("i",{class:"bi bi-chevron-down"},null,-1))]),t[15]||(t[15]=b("span",{class:"status-text"},"   .",-1))])])],40,xZ),t[17]||(t[17]=b("p",{class:"profile-helper"},"*  ",-1))]),t[29]||(t[29]=b("div",{class:"home-section-header home-section-header--chalkboard"},[b("h5",{class:"section-title"},"   ")],-1)),b("div",TZ,[b("div",IZ,[b("div",DZ,[b("div",NZ,[b("div",kZ,[b("button",{type:"button",class:st(["chalkboard-tab-button",{active:i.selectedSemester==="1"}]),onClick:t[5]||(t[5]=h=>i.selectedSemester="1")}," 1 ",2),b("button",{type:"button",class:st(["chalkboard-tab-button",{active:i.selectedSemester==="2"}]),onClick:t[6]||(t[6]=h=>i.selectedSemester="2")}," 2 ",2)])]),(ie(!0),le(it,null,At(i.chalkboardContent,h=>(ie(),le("div",{key:h.semester},[i.selectedSemester==="1"&&h.semester.includes("1")||i.selectedSemester==="2"&&h.semester.includes("2")?(ie(),le("div",FZ,[b("h6",MZ,ke(h.semester),1),h.units.length>0?(ie(),le("ul",OZ,[(ie(!0),le(it,null,At(h.units,(c,f)=>(ie(),le("li",{key:c.title,onClick:p=>i.onUnitClick(h,c),class:st({"is-selected":i.selectedUnitInfo&&i.selectedUnitInfo.semesterLabel===h.semester&&i.selectedUnitInfo.unitTitle===c.title})},[b("span",null,[b("span",LZ,ke(f+1),1),b("span",null,ke(c.title),1)]),c.description?(ie(),le("div",RZ,ke(c.description),1)):et("",!0)],10,PZ))),128))])):(ie(),le("p",BZ,[Ct(ke(i.selectedSemester)+"  !",1),t[18]||(t[18]=b("br",null,null,-1)),t[19]||(t[19]=Ct("   ? ",-1))]))])):et("",!0)]))),128))]),t[20]||(t[20]=b("div",{class:"chalkboard-shelf"},[b("span",{class:"chalk-piece"}),b("span",{class:"chalk-piece brand-soft"}),b("span",{class:"chalk-eraser"})],-1))])]),b("div",UZ,[i.currentSimulationComponent?(ie(),le("div",VZ,[b("div",{class:"simulation-header-bar",onClick:t[7]||(t[7]=(...h)=>i.toggleSimulation&&i.toggleSimulation(...h))},[t[21]||(t[21]=b("div",{class:"simulation-header-left"},[b("i",{class:"bi bi-flask"}),b("span",null,"  ")],-1)),b("div",$Z,[i.currentSimLabel?(ie(),le("span",jZ,ke(i.currentSimLabel),1)):et("",!0),b("i",{class:st(["bi bi-chevron-down toggle-icon",{"is-expanded":i.isSimulationExpanded}])},null,2)])]),Bt(b("div",zZ,[b("div",GZ,[b("div",HZ,[(ie(),Zt(km(i.currentSimulationComponent)))])])],512),[[Ll,i.isSimulationExpanded]])])):(ie(),le("div",WZ,[...t[22]||(t[22]=[b("p",{class:"virtual-placeholder-main"},[Ct("     "),b("br"),Ct("    . ")],-1),b("p",{class:"virtual-placeholder-sub"}," ) 3-1  , 3-2   ",-1)])]))]),t[30]||(t[30]=b("div",{class:"home-section-header"},[b("h5",{class:"section-title"},"   ")],-1)),b("div",qZ,[b("div",XZ,[b("div",YZ,[i.isSearching?(ie(),le("div",KZ,[...t[23]||(t[23]=[b("div",{class:"spinner-border text-primary loading-spinner",role:"status"},[b("span",{class:"visually-hidden"},"Loading...")],-1),b("p",{class:"loading-text"},"   ...",-1)])])):i.exhibitionItems.length===0?(ie(),le("div",ZZ,[...t[24]||(t[24]=[b("i",{class:"bi bi-inbox empty-icon"},null,-1),b("p",{class:"empty-text-main"},"   ",-1),b("p",{class:"empty-text-sub"},"   ",-1)])])):(ie(),le("div",JZ,[(ie(!0),le(it,null,At(i.exhibitionItems,h=>(ie(),Zt(a,{key:h.id,item:h,onAdd:c=>i.goToDetail(h,""),onItemClick:c=>i.goToDetail(h,"")},null,8,["item","onAdd","onItemClick"]))),128))]))]),t[25]||(t[25]=b("div",{class:"scroll-hint-gradient"},null,-1))])]),t[31]||(t[31]=b("div",{class:"home-section-header"},[b("h5",{class:"section-title"},"  ")],-1)),b("div",QZ,[b("div",eJ,[b("div",tJ,[i.isSearching?(ie(),le("div",nJ,[...t[26]||(t[26]=[b("div",{class:"spinner-border text-primary loading-spinner",role:"status"},[b("span",{class:"visually-hidden"},"Loading...")],-1),b("p",{class:"loading-text"},"   ...",-1)])])):i.fieldTripItems.length===0?(ie(),le("div",rJ,[...t[27]||(t[27]=[b("i",{class:"bi bi-inbox empty-icon"},null,-1),b("p",{class:"empty-text-main"},"   ",-1),b("p",{class:"empty-text-sub"},"   ",-1)])])):(ie(),le("div",iJ,[(ie(!0),le(it,null,At(i.fieldTripItems,h=>(ie(),Zt(a,{key:h.id,item:h,onAdd:c=>i.goToDetail(h,""),onItemClick:c=>i.goToDetail(h,"")},null,8,["item","onAdd","onItemClick"]))),128))]))]),t[28]||(t[28]=b("div",{class:"scroll-hint-gradient"},null,-1))])])]),b("div",sJ,[lt(l,{selectedNavItem:i.selectedNavItem,onNavigate:i.handleNavigation},null,8,["selectedNavItem","onNavigate"])]),i.isModalOpen?(ie(),Zt(u,{key:0,initialSubject:i.selectedSubject,initialGrade:i.selectedGrade,onClose:t[8]||(t[8]=h=>i.isModalOpen=!1),onComplete:i.handleFilterComplete,showLocationOptions:!1},null,8,["initialSubject","initialGrade","onComplete"])):et("",!0)])}const aJ=yt(mZ,[["render",oJ],["__scopeId","data-v-d6977aaf"]]),lJ={name:"SettingsModal",props:{show:{type:Boolean,default:!1},isLoggedIn:{type:Boolean,default:!1}},emits:["logout","withdraw","close","login"],methods:{onMainButtonClick(){this.isLoggedIn?this.$emit("logout"):this.$emit("login"),this.$emit("close")},onWithdrawClick(){this.$emit("withdraw"),this.$emit("close")},close(){this.$emit("close")}}},uJ={class:"modal-dialog modal-dialog-centered"},cJ={class:"modal-content border-0"},hJ={class:"modal-body text-center p-4"};function fJ(n,t,r,i,s,o){return r.show?(ie(),le("div",{key:0,class:"modal-overlay",style:{"font-family":"'SUIT', sans-serif"},onClick:t[2]||(t[2]=hr((...a)=>o.close&&o.close(...a),["self"]))},[b("div",uJ,[b("div",cJ,[b("div",hJ,[t[3]||(t[3]=b("h5",{class:"fw-bold text-dark mb-4",id:"settingsModalLabel"},"",-1)),b("button",{type:"button",class:"btn btn-primary w-100 p-3 fw-bold mb-3 rounded-pill modal-logout-btn",onClick:t[0]||(t[0]=(...a)=>o.onMainButtonClick&&o.onMainButtonClick(...a))},ke(r.isLoggedIn?"":""),1),b("button",{type:"button",class:"btn btn-outline-primary w-100 p-3 fw-bold rounded-pill modal-withdraw-btn",onClick:t[1]||(t[1]=(...a)=>o.onWithdrawClick&&o.onWithdrawClick(...a))},"  ")])])])])):et("",!0)}const dJ=yt(lJ,[["render",fJ],["__scopeId","data-v-4ce092b6"]]),pJ={name:"MyPageView",components:{SettingsModal:dJ,BottomNavbar:K1},setup(){const n=bi(),{user:t,isLoggedIn:r}=Ts(n);return{authStore:n,user:t,isLoggedIn:r}},data(){return{isSettingsModalOpen:!1,selectedNavItem:""}},methods:{goBack(){this.$router.back()},handleNavigation(n){if(console.log(n,"."),this.selectedNavItem=n,n===""&&!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}n===""?this.$router.push("/home"):n===""?this.$router.push("/list"):n===""?this.$router.push("/map"):n===""&&this.$router.push("/usercourselist")},goToAccountView(){if(!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"AccountView"})},goToStampPage(){if(!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"stamp"})},showSettingsModal(){this.isSettingsModalOpen=!0},goToLoginView(){this.$router.push({name:"login"}),this.isSettingsModalOpen=!1},goToLikePlace(){if(!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"LikePlace"})},goToUserLikeCouseList(){if(!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"UserLikeCourseList"})},goToNotice(){this.$router.push({name:"Notice"})},handleLogout(){console.log("MyPageView   "),this.authStore.logout(),this.isSettingsModalOpen=!1,this.$router.replace({name:"Home"}),console.log("    ")},async handleWithdraw(){if(confirm("  ?       .")){if(!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}}),this.isSettingsModalOpen=!1,this.$router.push({name:"login"});return}try{(await cn.delete("/user/withdraw")).status===204&&(ht.emit("show-global-alert",{message:"  .   ",type:"error"}),this.handleLogout())}catch(n){console.error("  :",n)}}}}},mJ={class:"mypage-root d-flex flex-column h-100 bg-white",style:{"font-family":"'SUIT', sans-serif"}},gJ={class:"mypage-header d-flex justify-content-between align-items-center"},vJ={class:"header-left",style:{flex:"1"}},yJ={class:"mypage-scroll flex-grow-1"},bJ={class:"mypage-section mypage-section--profile"},xJ={class:"mypage-profile-card"},_J={class:"profile-avatar-wrapper"},wJ={class:"profile-avatar"},EJ=["src"],SJ={key:1,class:"profile-avatar-fallback"},CJ={class:"profile-info"},AJ={class:"profile-name"},TJ={class:"profile-greeting"},IJ={class:"mypage-section"},DJ={class:"mypage-card-grid"},NJ={class:"mypage-section"},kJ={class:"mypage-list"},FJ={class:"mypage-section"},MJ={class:"mypage-list"},OJ={class:"mypage-section"},PJ={class:"mypage-list"},LJ={class:"list-left"},RJ={class:"list-text-main"};function BJ(n,t,r,i,s,o){const a=Rt("BottomNavbar"),l=Rt("SettingsModal");return ie(),le("div",mJ,[b("div",gJ,[b("div",vJ,[b("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...u)=>o.goBack&&o.goBack(...u))})]),t[8]||(t[8]=b("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center","font-size":"1rem","font-weight":"700",color:"#111827"}},"  ",-1)),t[9]||(t[9]=b("div",{class:"header-right d-flex justify-content-end",style:{flex:"1"}},null,-1))]),b("div",yJ,[b("section",bJ,[b("div",xJ,[b("div",_J,[b("div",wJ,[i.user?.profileImageUrl?(ie(),le("img",{key:0,src:i.user.profileImageUrl,alt:"",class:"profile-image"},null,8,EJ)):(ie(),le("div",SJ,[...t[10]||(t[10]=[b("i",{class:"bi bi-person-fill",style:{"font-size":"2rem"}},null,-1)])]))]),b("button",{class:"profile-settings-badge",onClick:t[1]||(t[1]=(...u)=>o.goToAccountView&&o.goToAccountView(...u))},[...t[11]||(t[11]=[b("i",{class:"bi bi-gear-fill"},null,-1)])])]),b("div",CJ,[b("div",AJ,ke(i.user?.name||" "),1),b("div",TJ,ke(i.user?.email||" "),1)])])]),b("section",IJ,[t[14]||(t[14]=b("div",{class:"mypage-section-header"},[b("h5",{class:"mypage-section-title"},"  ")],-1)),b("div",DJ,[b("button",{type:"button",class:"mypage-card mypage-card--stamp",onClick:t[2]||(t[2]=(...u)=>o.goToStampPage&&o.goToStampPage(...u))},[...t[12]||(t[12]=[_r('<div class="card-icon-wrap" data-v-10d7eb96><i class="bi bi-crosshair" data-v-10d7eb96></i></div><div class="card-text-wrap" data-v-10d7eb96><div class="card-title" data-v-10d7eb96> </div><div class="card-sub" data-v-10d7eb96>   <br data-v-10d7eb96>  </div></div>',2)])]),b("button",{type:"button",class:"mypage-card mypage-card--route",onClick:t[3]||(t[3]=(...u)=>o.goToUserLikeCouseList&&o.goToUserLikeCouseList(...u))},[...t[13]||(t[13]=[_r('<div class="card-icon-wrap" data-v-10d7eb96><i class="bi bi-bookmark-plus-fill" data-v-10d7eb96></i></div><div class="card-text-wrap" data-v-10d7eb96><div class="card-title" data-v-10d7eb96>  </div><div class="card-sub" data-v-10d7eb96>      <br data-v-10d7eb96>  </div></div>',2)])])])]),b("section",NJ,[t[16]||(t[16]=b("div",{class:"mypage-section-header"},[b("h5",{class:"mypage-section-title"}," ")],-1)),b("ul",kJ,[b("li",{class:"mypage-list-item",onClick:t[4]||(t[4]=(...u)=>o.goToLikePlace&&o.goToLikePlace(...u))},[...t[15]||(t[15]=[_r('<div class="list-left" data-v-10d7eb96><span class="list-icon heart" data-v-10d7eb96><i class="bi bi-heart-fill" data-v-10d7eb96></i></span><span class="list-text-main" data-v-10d7eb96> </span></div><i class="bi bi-chevron-right list-chevron" data-v-10d7eb96></i>',2)])])])]),b("section",FJ,[t[18]||(t[18]=b("div",{class:"mypage-section-header"},[b("h5",{class:"mypage-section-title"},"")],-1)),b("ul",MJ,[b("li",{class:"mypage-list-item",onClick:t[5]||(t[5]=(...u)=>o.goToNotice&&o.goToNotice(...u))},[...t[17]||(t[17]=[_r('<div class="list-left" data-v-10d7eb96><span class="list-icon bell" data-v-10d7eb96><i class="bi bi-bell-fill" data-v-10d7eb96></i></span><span class="list-text-main" data-v-10d7eb96></span></div><i class="bi bi-chevron-right list-chevron" data-v-10d7eb96></i>',2)])])])]),b("section",OJ,[t[21]||(t[21]=b("div",{class:"mypage-section-header"},[b("h5",{class:"mypage-section-title"},"")],-1)),b("ul",PJ,[b("li",{class:"mypage-list-item",onClick:t[6]||(t[6]=(...u)=>o.showSettingsModal&&o.showSettingsModal(...u))},[b("div",LJ,[t[19]||(t[19]=b("span",{class:"list-icon gear"},[b("i",{class:"bi bi-gear-fill"})],-1)),b("span",RJ,ke(i.isLoggedIn?" / ":" / "),1)]),t[20]||(t[20]=b("i",{class:"bi bi-chevron-right list-chevron"},null,-1))])])])]),lt(a,{selectedNavItem:s.selectedNavItem,onNavigate:o.handleNavigation,style:{"flex-shrink":"0"}},null,8,["selectedNavItem","onNavigate"]),lt(l,{show:s.isSettingsModalOpen,isLoggedIn:i.isLoggedIn,onClose:t[7]||(t[7]=u=>s.isSettingsModalOpen=!1),onLogout:o.handleLogout,onWithdraw:o.handleWithdraw,onLogin:o.goToLoginView},null,8,["show","isLoggedIn","onLogout","onWithdraw","onLogin"])])}const UJ=yt(pJ,[["render",BJ],["__scopeId","data-v-10d7eb96"]]),VJ={name:"AccountSettingsView",setup(){const n=bi(),{user:t,isLoggedIn:r}=Ts(n);return{authStore:n,user:t,isLoggedIn:r}},data(){return{localUser:{loginId:"",name:"",email:"",phoneNumber:"",gender:"",region:"",childGrade:""},childGrades:[" 3"," 4"," 5"," 6"],selectedFile:null,imagePreviewUrl:null}},created(){this.initializeFormFromPinia(),this.user&&this.user.profileImageUrl&&(this.imagePreviewUrl=this.user.profileImageUrl)},methods:{goBack(){this.$router.back()},triggerFileUpload(){this.$refs.fileInput.click()},onFileSelected(n){const t=n.target.files[0];if(!t)return;this.selectedFile=t;const r=new FileReader;r.onload=i=>{this.imagePreviewUrl=i.target.result},r.readAsDataURL(t)},initializeFormFromPinia(){if(!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.user?(this.localUser.loginId=this.user.loginId||"",this.localUser.name=this.user.name||"",this.localUser.email=this.user.email||"",this.localUser.phoneNumber=this.user.phoneNumber||"",this.localUser.gender=this.user.gender||"",this.localUser.region=this.user.region||"",this.localUser.childGrade=this.user.childGrade||""):ht.emit("show-global-confirm",{message:"    .  .",onConfirm:()=>{this.$router.push({name:"login"})}})},async handleUpdate(){if(!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .   .",onConfirm:()=>{this.$router.push({name:"login"})}});return}const n={name:this.localUser.name,email:this.localUser.email,phoneNumber:this.localUser.phoneNumber,gender:this.localUser.gender,region:this.localUser.region,childGrade:this.localUser.childGrade,loginId:this.localUser.loginId},t=new FormData;t.append("dto",new Blob([JSON.stringify(n)],{type:"application/json"})),this.selectedFile&&t.append("profileImage",this.selectedFile,this.selectedFile.name);try{await this.authStore.updateUser(t),ht.emit("show-global-alert",{message:"   .",type:"success"}),this.goBack()}catch(r){console.error("  :",r);const i=r?.response?.data?.message||r?.response?.data||"       .";alert(`  : ${i}`)}},selectGender(n){this.localUser.gender=n==="male"?"":""},selectChildGrade(n){this.localUser.childGrade=n}}},$J={class:"mypage-root d-flex flex-column h-100 bg-white",style:{"font-family":"'SUIT', sans-serif"}},jJ={class:"mypage-header d-flex justify-content-between align-items-center"},zJ={class:"header-left",style:{flex:"1"}},GJ={class:"mypage-scroll flex-grow-1"},HJ={class:"d-flex justify-content-center my-4"},WJ={class:"position-relative"},qJ={class:"profile-pic rounded-circle d-flex align-items-center justify-content-center bg-body-secondary text-secondary"},XJ=["src"],YJ={key:1,class:"bi bi-emoji-smile",style:{"font-size":"3rem"}},KJ={class:"form-group mb-3"},ZJ={class:"form-group mb-3"},JJ={class:"form-group mb-3"},QJ={class:"form-group mb-3"},eQ={class:"form-group mb-3"},tQ={class:"d-flex gap-3"},nQ={class:"form-group mb-3"},rQ={class:"form-group mb-3"},iQ={class:"btn-group w-100 dropup"},sQ={class:"dropdown-menu w-100 custom-dropdown-menu"},oQ=["onClick"];function aQ(n,t,r,i,s,o){return ie(),le("div",$J,[b("div",jJ,[b("div",zJ,[b("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))})]),t[11]||(t[11]=b("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center","font-size":"1rem","font-weight":"700",color:"#111827"}},"  ",-1)),t[12]||(t[12]=b("div",{class:"header-right d-flex justify-content-end",style:{flex:"1"}},null,-1))]),b("div",GJ,[b("div",HJ,[b("div",WJ,[b("div",qJ,[s.imagePreviewUrl?(ie(),le("img",{key:0,src:s.imagePreviewUrl,alt:" ",class:"profile-pic-image"},null,8,XJ)):(ie(),le("i",YJ))]),b("button",{class:"btn btn-primary rounded-circle p-0 position-absolute profile-badge d-flex align-items-center justify-content-center",onClick:t[1]||(t[1]=(...a)=>o.triggerFileUpload&&o.triggerFileUpload(...a))},[...t[13]||(t[13]=[b("i",{class:"bi bi-plus-lg"},null,-1)])])])]),b("input",{type:"file",ref:"fileInput",onChange:t[2]||(t[2]=(...a)=>o.onFileSelected&&o.onFileSelected(...a)),accept:"image/*",style:{display:"none"}},null,544),b("form",{onSubmit:t[10]||(t[10]=hr((...a)=>o.handleUpdate&&o.handleUpdate(...a),["prevent"]))},[b("div",KJ,[t[14]||(t[14]=b("label",{for:"login-id",class:"form-label"}," ",-1)),Bt(b("input",{type:"text",class:"form-control",id:"login-id","onUpdate:modelValue":t[3]||(t[3]=a=>s.localUser.loginId=a),disabled:""},null,512),[[bn,s.localUser.loginId]])]),b("div",ZJ,[t[15]||(t[15]=b("label",{for:"username",class:"form-label"}," ",-1)),Bt(b("input",{type:"text",class:"form-control",id:"username",placeholder:"  ","onUpdate:modelValue":t[4]||(t[4]=a=>s.localUser.name=a)},null,512),[[bn,s.localUser.name]])]),b("div",JJ,[t[16]||(t[16]=b("label",{for:"email",class:"form-label"},"",-1)),Bt(b("input",{type:"email",class:"form-control",id:"email",placeholder:" ","onUpdate:modelValue":t[5]||(t[5]=a=>s.localUser.email=a)},null,512),[[bn,s.localUser.email]])]),b("div",QJ,[t[17]||(t[17]=b("label",{for:"phone",class:"form-label"}," ",-1)),Bt(b("input",{type:"tel",class:"form-control",id:"phone",placeholder:"  ","onUpdate:modelValue":t[6]||(t[6]=a=>s.localUser.phoneNumber=a)},null,512),[[bn,s.localUser.phoneNumber]])]),b("div",eQ,[t[18]||(t[18]=b("label",{class:"form-label"},"",-1)),b("div",tQ,[b("button",{type:"button",class:st(["btn w-100",s.localUser.gender===""?"btn-gender-fill":"btn-gender-outline"]),onClick:t[7]||(t[7]=a=>o.selectGender("male"))},"",2),b("button",{type:"button",class:st(["btn w-100",s.localUser.gender===""?"btn-gender-fill":"btn-gender-outline"]),onClick:t[8]||(t[8]=a=>o.selectGender("female"))},"",2)])]),b("div",nQ,[t[19]||(t[19]=b("label",{for:"region",class:"form-label"},"",-1)),Bt(b("input",{type:"text",class:"form-control",id:"region",placeholder:" ","onUpdate:modelValue":t[9]||(t[9]=a=>s.localUser.region=a)},null,512),[[bn,s.localUser.region]])]),b("div",rQ,[t[20]||(t[20]=b("label",{for:"child-grade",class:"form-label d-flex justify-content-between align-items-center"},[b("span",{class:"fw-medium"}," ()"),b("small",{class:"text-muted fw-normal"},"(    .)")],-1)),b("div",iQ,[b("button",{type:"button",class:st(["btn dropdown-toggle w-100 dropup-btn",{"btn-selected":s.localUser.childGrade}]),"data-bs-toggle":"dropdown","aria-expanded":"false"},ke(s.localUser.childGrade||"  "),3),b("ul",sQ,[(ie(!0),le(it,null,At(s.childGrades,a=>(ie(),le("li",{key:a},[b("a",{class:st(["dropdown-item",{active:s.localUser.childGrade===a}]),href:"#",onClick:hr(l=>o.selectChildGrade(a),["prevent"])},ke(a),11,oQ)]))),128))])])]),t[21]||(t[21]=b("div",{class:"mt-4 mb-4"},[b("button",{type:"submit",class:"btn btn-primary w-100 py-3 fw-bold submit-btn"},"")],-1))],32)])])}const lQ=yt(VJ,[["render",aQ],["__scopeId","data-v-7ed601f1"]]),uQ={class:"chat-page-container d-flex flex-column vh-100",style:{"font-family":"'SUIT', sans-serif"}},cQ={class:"voice-interaction-body flex-grow-1 d-flex flex-column align-items-center text-center p-4"},hQ={key:0,class:"chat-message ai"},fQ={class:"chat-bubble status"},dQ={class:"voice-control-area d-flex align-items-center justify-content-center p-4 bg-white flex-shrink-0"},pQ=["disabled"],mQ={__name:"ChatView",setup(n){const t=bi(),{user:r}=Ts(t),i=bc(),s=()=>{u.value&&(u.value.pause(),u.value.currentTime=0,u.value=null),c.value&&c.value.state==="recording"&&(c.value.stop(),c.value.stream&&c.value.stream.getTracks().forEach(A=>A.stop())),p.value&&p.value.state!=="closed"&&p.value.close(),m.value&&(cancelAnimationFrame(m.value),m.value=null),i.push("/home")},o=Ue("idle"),a=Ue([{sender:"ai",text:`!  . 
   !`}]),l=Ue(""),u=Ue(null),h=Ue(null),c=Ue(null),f=Ue([]),p=Ue(null),d=Ue(null),g=Ue(null),m=Ue(null),v=Ue(0);Mr(()=>{u.value&&(u.value.pause(),u.value=null),c.value&&c.value.stream&&c.value.stream.getTracks().forEach(A=>A.stop()),p.value&&p.value.state!=="closed"&&p.value.close(),m.value&&cancelAnimationFrame(m.value)});const w=()=>{o.value==="listening"?x():(o.value==="idle"||o.value==="speaking")&&(u.value&&(u.value.pause(),u.value.currentTime=0),l.value="",y())},y=async()=>{try{const A=await navigator.mediaDevices.getUserMedia({audio:!0});c.value=new MediaRecorder(A,{mimeType:"audio/webm"}),c.value.ondataavailable=N=>f.value.push(N.data),c.value.start(),p.value=new(window.AudioContext||window.webkitAudioContext),d.value=p.value.createAnalyser(),g.value=p.value.createMediaStreamSource(A),g.value.connect(d.value),d.value.fftSize=256,_(),console.log("Real recording started..."),o.value="listening",l.value=" ! ~"}catch(A){console.error("Error starting recording:",A),l.value="!    ."}},_=()=>{if(!d.value)return;const A=d.value.frequencyBinCount,N=new Uint8Array(A);d.value.getByteFrequencyData(N);let F=0;for(let I=0;I<A;I++)F+=N[I];let T=F/A;v.value=Math.min(T/60,1)*100,m.value=requestAnimationFrame(_)},x=()=>{c.value&&(m.value&&(cancelAnimationFrame(m.value),m.value=null),console.log("Real recording stopped. Sending to server..."),o.value="processing",l.value="...  !",c.value.onstop=async()=>{const A=new Blob(f.value,{type:"audio/webm"});f.value=[];const N=new FormData;N.append("audio",A,"recording.webm"),c.value&&c.value.stream&&c.value.stream.getTracks().forEach(F=>F.stop()),p.value&&p.value.state!=="closed"&&p.value.close(),v.value=0;try{const T=await cn.post("https://science-book-backend-392637347057.asia-northeast3.run.app/api/voice-query",N,{headers:{"Content-Type":"multipart/form-data"}}),{userTranscript:I,aiResponseText:M,aiResponseAudio:L}=T.data;l.value="",!I&&M.includes("   ")?a.value.push({sender:"ai",text:M}):(a.value.push({sender:"user",text:I}),a.value.push({sender:"ai",text:M})),o.value="speaking",u.value=new Audio(L),u.value.play(),u.value.onended=()=>{o.value="idle",l.value="   ?"}}catch(F){console.error("Error sending audio:",F),o.value="idle",l.value=`!   . 
  ?`}},c.value.stop())},C=()=>{switch(o.value){case"listening":return"bi-ear-fill";case"processing":return"bi-hourglass-top";case"speaking":return"bi-emoji-sunglasses-fill";case"idle":default:return"bi-emoji-smile-fill"}},E=()=>{switch(o.value){case"listening":return"btn-speak-stop";case"idle":case"speaking":return"btn-speak-go";case"processing":default:return"btn-speak-disabled"}},S=dt(()=>o.value!=="listening"?{transform:"scale(1)"}:{transform:`scale(${1.1+v.value/100*.3})`}),D=async()=>{await Fr();const A=h.value;A&&(A.scrollTop=A.scrollHeight)};return ri(a,D,{deep:!0}),ri(l,D),(A,N)=>(ie(),le("div",uQ,[b("div",{class:"chat-header d-flex justify-content-between align-items-center p-3 flex-shrink-0"},[N[1]||(N[1]=b("div",{class:"header-left"},null,-1)),N[2]||(N[2]=b("div",{class:"header-center fw-bold fs-6"}," AI  ",-1)),b("div",{class:"header-right",onClick:s},[...N[0]||(N[0]=[b("i",{class:"bi bi-x-lg fs-5",style:{cursor:"pointer",color:"#555"}},null,-1)])])]),b("div",cQ,[b("div",{class:st(["ai-character-bubble flex-shrink-0",o.value])},[b("div",{class:"ai-character",style:Gn(S.value)},[b("i",{class:st(["bi",C()])},null,2)],4)],2),b("div",{class:"chat-history-container",ref_key:"chatHistoryRef",ref:h},[(ie(!0),le(it,null,At(a.value,(F,T)=>(ie(),le("div",{key:T,class:st(["chat-message",F.sender])},[b("div",{class:st(["chat-bubble",F.sender])},ke(F.text),3)],2))),128)),l.value?(ie(),le("div",hQ,[b("div",fQ,ke(l.value),1)])):et("",!0)],512)]),b("div",dQ,[b("button",{class:st(["btn btn-lg rounded-circle d-flex justify-content-center align-items-center shadow",E()]),onClick:w,disabled:o.value==="processing"},[b("i",{class:st(["bi fs-1",o.value==="listening"?"bi-stop-fill":"bi-mic-fill"])},null,2)],10,pQ)])]))}},gQ=yt(mQ,[["__scopeId","data-v-be59d634"]]),vQ={name:"ExhibitionAccordion",props:{title:{type:String,required:!0},isActive:{type:Boolean,default:!1},previewImageUrl:{type:String,default:null}},emits:["toggle","open-modal"]},yQ={class:"mb-3"},bQ={class:"fw-bold"},xQ={key:0,class:"bg-white border border-top-0 rounded-bottom p-3"},_Q={key:0,class:"mb-3"},wQ=["src","alt"],EQ={key:1,class:"map-placeholder bg-light rounded mb-3 d-flex align-items-center justify-content-center",style:{height:"200px"}},SQ={class:"text-center"};function CQ(n,t,r,i,s,o){return ie(),le("div",yQ,[b("button",{class:"btn btn-white w-100 d-flex justify-content-between align-items-center border rounded p-3",type:"button",onClick:t[0]||(t[0]=a=>n.$emit("toggle"))},[b("span",bQ,ke(r.title),1),b("i",{class:st(["bi",r.isActive?"bi-chevron-down":"bi-chevron-right"])},null,2)]),r.isActive?(ie(),le("div",xQ,[r.previewImageUrl?(ie(),le("div",_Q,[b("img",{src:r.previewImageUrl,alt:`${r.title} `,class:"accordion-map-image rounded"},null,8,wQ)])):(ie(),le("div",EQ,[...t[2]||(t[2]=[b("span",{class:"text-muted"}," ",-1)])])),b("div",SQ,[b("button",{class:"btn btn-primary rounded-pill px-4",onClick:t[1]||(t[1]=a=>n.$emit("open-modal"))},"  ")])])):et("",!0)])}const AQ=yt(vQ,[["render",CQ],["__scopeId","data-v-a441fc00"]]),TQ={name:"FloorGuideModal",props:{show:{type:Boolean,default:!1},hallName:{type:String,required:!0},floorGuides:{type:Array,default:()=>[]}},emits:["close","floor-change"],data(){return{currentFloorIndex:0,touchStartX:0,touchEndX:0,mouseStartX:0,mouseEndX:0,isDragging:!1}},watch:{show(n){n?(this.currentFloorIndex=0,document.body.style.overflow="hidden"):document.body.style.overflow="auto"},floorGuides(){this.currentFloorIndex=0}},methods:{closeModal(){this.$emit("close")},goToFloor(n){this.currentFloorIndex=n,this.$emit("floor-change",n)},handleTouchStart(n){this.touchStartX=n.touches[0].clientX},handleTouchMove(n){this.touchEndX=n.touches[0].clientX},handleTouchEnd(){if(this.floorGuides.length<=1)return;const n=this.touchStartX-this.touchEndX;Math.abs(n)>50&&(n>0&&this.currentFloorIndex<this.floorGuides.length-1?this.currentFloorIndex++:n<0&&this.currentFloorIndex>0&&this.currentFloorIndex--)},handleMouseDown(n){this.isDragging=!0,this.mouseStartX=n.clientX,document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},handleMouseMove(n){this.isDragging&&(this.mouseEndX=n.clientX)},handleMouseUp(){if(this.isDragging){if(this.floorGuides.length>1){const n=this.mouseStartX-this.mouseEndX;Math.abs(n)>50&&(n>0&&this.currentFloorIndex<this.floorGuides.length-1?this.currentFloorIndex++:n<0&&this.currentFloorIndex>0&&this.currentFloorIndex--)}this.isDragging=!1,document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}}},beforeUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.body.style.overflow="auto"}},IQ={class:"modal-content"},DQ={class:"modal-header bg-primary text-white p-3 d-flex align-items-center"},NQ={class:"fw-bold flex-grow-1"},kQ={key:0,class:"text-center py-3"},FQ={class:"fw-bold mb-0"},MQ={class:"slider-container"},OQ=["src","alt"],PQ={class:"indicators d-flex justify-content-center gap-2 py-3"},LQ=["onClick"],RQ={class:"floor-buttons d-flex justify-content-center gap-3 pb-3"},BQ=["onClick"],UQ={key:1,class:"text-center pb-3"};function VQ(n,t,r,i,s,o){return r.show?(ie(),le("div",{key:0,class:"modal-overlay",onClick:t[6]||(t[6]=hr((...a)=>o.closeModal&&o.closeModal(...a),["self"]))},[b("div",IQ,[b("div",DQ,[t[8]||(t[8]=b("i",{class:"bi bi-map me-2"},null,-1)),b("span",NQ,ke(r.hallName),1),b("button",{class:"btn btn-link text-white p-0",onClick:t[0]||(t[0]=(...a)=>o.closeModal&&o.closeModal(...a))},[...t[7]||(t[7]=[b("i",{class:"bi bi-x-lg fs-5"},null,-1)])])]),r.floorGuides.length>0?(ie(),le("div",kQ,[b("h4",FQ,ke(r.floorGuides[s.currentFloorIndex].floorName),1)])):et("",!0),b("div",MQ,[b("div",{class:"slider-wrapper",style:Gn({transform:`translateX(-${s.currentFloorIndex*100}%)`}),onTouchstart:t[2]||(t[2]=(...a)=>o.handleTouchStart&&o.handleTouchStart(...a)),onTouchmove:t[3]||(t[3]=(...a)=>o.handleTouchMove&&o.handleTouchMove(...a)),onTouchend:t[4]||(t[4]=(...a)=>o.handleTouchEnd&&o.handleTouchEnd(...a)),onMousedown:t[5]||(t[5]=(...a)=>o.handleMouseDown&&o.handleMouseDown(...a))},[(ie(!0),le(it,null,At(r.floorGuides,(a,l)=>(ie(),le("div",{key:l,class:"floor-slide"},[b("img",{src:a.imageUrl,alt:`${r.hallName} ${a.floorName} `,class:"floor-image",onDragstart:t[1]||(t[1]=hr(()=>{},["prevent"]))},null,40,OQ)]))),128))],36)]),b("div",PQ,[(ie(!0),le(it,null,At(r.floorGuides,(a,l)=>(ie(),le("span",{key:l,class:st(["indicator",{active:l===s.currentFloorIndex}]),onClick:u=>o.goToFloor(l)},null,10,LQ))),128))]),b("div",RQ,[(ie(!0),le(it,null,At(r.floorGuides,(a,l)=>(ie(),le("button",{key:l,class:st(["btn floor-btn",{"btn-primary":l===s.currentFloorIndex,"btn-outline-secondary":l!==s.currentFloorIndex}]),onClick:u=>o.goToFloor(l)},ke(a.floorName),11,BQ))),128))]),r.floorGuides.length>1?(ie(),le("div",UQ,[...t[9]||(t[9]=[b("small",{class:"text-muted"},[b("i",{class:"bi bi-info-circle me-1"}),Ct("       ")],-1)])])):et("",!0)])])):et("",!0)}const $Q=yt(TQ,[["render",VQ],["__scopeId","data-v-a25ad09a"]]),wC={1:[{floorName:"1F",imageUrl:"/img/floors/nature_1f.png"}],2:[{floorName:"2F",imageUrl:"/img/floors/human_2f.png"}],3:[{floorName:"1F",imageUrl:"/img/floors/changui_1f.png"},{floorName:"2F",imageUrl:"/img/floors/changui_2f.png"},{floorName:"3F",imageUrl:"/img/floors/changui_3f.png"}],6:[{floorName:"1F",imageUrl:"/img/floors/outdoor.png"}],7:[{floorName:"B1",imageUrl:"/img/floors/sciencetech_b1.png"},{floorName:"B1_M",imageUrl:"/img/floors/sciencetech_b1_middle.png"},{floorName:"1F",imageUrl:"/img/floors/sciencetech_1f.png"},{floorName:"2F",imageUrl:"/img/floors/sciencetech_2f.png"}],12:[{floorName:"1F",imageUrl:"/img/floors/cheonchae_1f.png"}],13:[{floorName:"1F",imageUrl:"/img/floors/sangmul_tamgu_1f.png"}],16:[{floorName:"1F",imageUrl:"/img/floors/future_science_1f.png"},{floorName:"2F",imageUrl:"/img/floors/future_science_2f.png"}],18:[{floorName:"1F",imageUrl:"/img/floors/cheonchae_look_1f.png"},{floorName:"2F",imageUrl:"/img/floors/cheonchae_look_2f.png"}],43:[{floorName:"1F",imageUrl:"/img/floors/children_science_1f.png"},{floorName:"2F",imageUrl:"/img/floors/children_science_2f.png"}]},jQ=[{floorName:"",imageUrl:"/img/floors/default.png"}],zQ={name:"ExhibitionHall",components:{ExhibitionAccordion:AQ,FloorGuideModal:$Q},data(){return{activeSection:null,showModal:!1,currentHall:null,floorGuides:[],selectedHallId:null,halls:[]}},computed:{sortedHalls(){if(!this.halls.length)return[];const n=[...this.halls],t=n.findIndex(r=>r.key==this.selectedHallId);if(t>0){const[r]=n.splice(t,1);n.unshift(r)}return n},currentHallName(){if(!this.currentHall)return"";const n=this.halls.find(t=>t.key===this.currentHall);return n?n.name:""}},created(){const{scienceCenterName:n,selectedHallId:t}=this.$route.query;this.selectedHallId=t,n&&this.fetchHalls(n)},methods:{async fetchHalls(n){try{const r=await Mn.get(`https://science-book-backend-392637347057.asia-northeast3.run.app/api/halls?scienceCenterName=${n}`);if(console.log("API , {}",n),this.halls=r.data,console.log(JSON.stringify(this.halls,null,2)),this.selectedHallId&&this.halls.some(i=>i.key==this.selectedHallId)){const i=this.halls.find(s=>s.key==this.selectedHallId);this.openModal(i.key),this.activeSection=i.key}}catch(t){console.error("   :",t)}},getPreviewUrl(n){const t=wC[n];return t&&t.length>0?t[0].imageUrl:null},goBack(){this.$router.go(-1)},toggleSection(n){this.activeSection=this.activeSection===n?null:n},openModal(n){const t=this.halls.find(i=>i.key==n);if(!t)return;this.currentHall=t.key;const r=wC[n];r&&r.length>0?this.floorGuides=r:(console.warn(`'${t.name}'(key: ${n})     .`),this.floorGuides=jQ),this.showModal=!0},closeModal(){this.showModal=!1,this.floorGuides=[]},handleFloorChange(n){console.log("Floor changed to:",this.floorGuides[n].floorName)}}},GQ={class:"app-container"},HQ={class:"bg-white p-3 d-flex align-items-center border-bottom app-header"},WQ={class:"d-flex flex-column flex-grow-1 p-3 gap-3 scrollable-content"};function qQ(n,t,r,i,s,o){const a=Rt("ExhibitionAccordion"),l=Rt("FloorGuideModal");return ie(),le(it,null,[b("div",GQ,[b("div",HQ,[b("button",{class:"btn btn-link text-dark p-0 me-3",onClick:t[0]||(t[0]=(...u)=>o.goBack&&o.goBack(...u))},[...t[1]||(t[1]=[b("i",{class:"bi bi-arrow-left fs-4"},null,-1)])]),t[2]||(t[2]=b("div",{class:"flex-grow-1 text-center"},[b("h5",{class:"mb-0 fw-bold"},"")],-1)),t[3]||(t[3]=b("div",{style:{width:"40px"}},null,-1))]),b("div",WQ,[(ie(!0),le(it,null,At(o.sortedHalls,u=>(ie(),Zt(a,{key:u.key,title:u.name||" ","is-active":s.activeSection===u.key,"preview-image-url":o.getPreviewUrl(u.key),onToggle:h=>o.toggleSection(u.key),onOpenModal:h=>o.openModal(u.key)},null,8,["title","is-active","preview-image-url","onToggle","onOpenModal"]))),128))])]),lt(l,{show:s.showModal,"hall-name":o.currentHallName,"floor-guides":s.floorGuides,onClose:o.closeModal,onFloorChange:o.handleFloorChange},null,8,["show","hall-name","floor-guides","onClose","onFloorChange"])],64)}const XQ=yt(zQ,[["render",qQ],["__scopeId","data-v-aeff218e"]]),YQ={name:"UserLikeCourseCard",components:{PillTag:Is},props:{item:{type:Object,required:!0}},data(){return{mapGenerated:!1,map:null,markers:[],polyline:null,mapWidth:149,mapHeight:126,routePath:[],isUnmounting:!1,mapInitAttempted:!1}},computed:{isExhibitionCourse(){return this.item.type==="inner_course"},courseSequenceText(){return Array.isArray(this.item.coursePlaces)&&this.item.coursePlaces.length>0?this.item.coursePlaces.join("  "):Array.isArray(this.item.courseItems)&&this.item.courseItems.length>0?this.item.courseItems.map(n=>n.title||n.place).join("  "):"  ."},courseCoordinates(){return!this.item.courseItems||!Array.isArray(this.item.courseItems)?[]:this.item.courseItems.filter(n=>n.lat&&n.lng).map(n=>({lat:n.lat,lng:n.lng,title:n.title||n.place,number:n.number||1}))}},mounted(){this.courseCoordinates.length>0?setTimeout(()=>{this.initializeMap()},100):console.log("     :",this.item.id)},watch:{"item.courseItems":{handler(n){this.isUnmounting||n&&Array.isArray(n)&&n.length>0&&(this.map?this.updateMapWithCourse():this.mapInitAttempted||this.initializeMap())},deep:!0}},beforeUnmount(){this.isUnmounting=!0,this.clearMap()},methods:{handleCardClick(n){console.log(" UserLikeCourseCard clicked!",n.target),console.log(" Item data:",this.item),this.$emit("click",this.item)},handleMapClick(n){console.log(" Map area clicked, triggering card click"),n.stopPropagation(),this.handleCardClick(n)},handleContentClick(){console.log(" Content area clicked")},handleHeartClick(n){console.log(" Heart icon clicked"),n.stopPropagation()},async initializeMap(){if(!(this.mapInitAttempted||this.isUnmounting)){if(this.mapInitAttempted=!0,this.courseCoordinates.length===0){console.log("    .");return}try{if(fD()||(console.log("[UserLikeCourseCard]   ..."),await Y1()),!window.kakao||!window.kakao.maps){console.error(" API  .");return}await this.createCourseMap()}catch(n){console.error("  :",n)}}},async getRoutePathFromAPI(n){if(this.isExhibitionCourse)return console.log("[API]   API      ."),null;if(n.length<2)return console.warn("[API]    ."),null;const t=n[0],r=n[n.length-1],i=n.slice(1,-1),s={origin:{x:t.lng.toString(),y:t.lat.toString()},destination:{x:r.lng.toString(),y:r.lat.toString()},waypoints:i.map(l=>({x:l.lng.toString(),y:l.lat.toString()})),priority:"TIME"},o="28242ddd7cda15c60301eff5cada6efc",a="https://apis-navi.kakaomobility.com/v1/waypoints/directions";try{const l=await fetch(a,{method:"POST",headers:{Authorization:`KakaoAK ${o}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw new Error(`Kakao Directions API : ${l.status} ${l.statusText}`);const u=await l.json();if(u.routes&&u.routes.length>0){const h=u.routes[0],c=[];return h.sections.forEach(f=>{f.roads.forEach(p=>{p.vertexes.forEach((d,g)=>{if(g%2===0){const m=d,v=p.vertexes[g+1];c.push(new window.kakao.maps.LatLng(v,m))}})})}),console.log(`[API]     ${c.length}  .`),c}return null}catch(l){return console.error("[API]    API    .  :",l),null}},async createCourseMap(){if(this.isUnmounting)return;const n=this.$refs.mapContainer;if(!n){console.warn("mapContainer ref   .");return}if(this.courseCoordinates.length===0){console.warn("     .");return}const t={center:new window.kakao.maps.LatLng(37.566826,126.9786567),level:5,draggable:!1,scrollwheel:!1,disableDoubleClick:!0,disableDoubleClickZoom:!0,keyboardShortcuts:!1};this.map=new window.kakao.maps.Map(n,t),this.updateMapBounds(),await this.addCourseMarkersAndRoute(),this.hideMapControls(),this.mapGenerated=!0},calculateMapBounds(){const n=this.courseCoordinates;if(n.length===0)return{center:{lat:37.566826,lng:126.9786567},level:5};const t=new window.kakao.maps.LatLngBounds;return n.forEach(r=>{t.extend(new window.kakao.maps.LatLng(r.lat,r.lng))}),{bounds:t}},updateMapBounds(){if(!this.map||this.isUnmounting||this.courseCoordinates.length===0)return;const{bounds:n}=this.calculateMapBounds();n&&this.map.setBounds(n)},async addCourseMarkersAndRoute(){if(this.isUnmounting||this.courseCoordinates.length===0)return;const n=[];this.clearMapElements(),this.courseCoordinates.forEach((r,i)=>{const s=new window.kakao.maps.LatLng(r.lat,r.lng);n.push(s);const o=this.createMarkerImage(r.number||i+1,this.getMarkerColor(i)),a=new window.kakao.maps.MarkerImage(o,new window.kakao.maps.Size(24,35),{offset:new window.kakao.maps.Point(12,35)}),l=new window.kakao.maps.Marker({position:s,image:a,map:this.map});this.markers.push(l)});let t=n;if(this.isExhibitionCourse)console.log("    .");else{const r=await this.getRoutePathFromAPI(this.courseCoordinates);r&&r.length>1?t=r:console.log("API      .   .")}this.routePath=t,t.length>1&&(this.polyline=new window.kakao.maps.Polyline({path:t,strokeWeight:3,strokeColor:"#4A7CEC",strokeOpacity:.8,strokeStyle:"solid"}),this.polyline.setMap(this.map))},async updateMapWithCourse(){!this.map||this.isUnmounting||(this.clearMapElements(),this.courseCoordinates.length>0&&(this.updateMapBounds(),await this.addCourseMarkersAndRoute()))},clearMapElements(){try{this.markers&&this.markers.length>0&&(this.markers.forEach(n=>{n&&n.setMap&&n.setMap(null)}),this.markers=[]),this.polyline&&this.polyline.setMap&&(this.polyline.setMap(null),this.polyline=null)}catch(n){console.error("    :",n)}},clearMap(){try{this.clearMapElements(),this.map&&(this.map=null)}catch(n){console.error("   :",n)}},getMarkerColor(n){const t=["#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return t[n%t.length]},createMarkerImage(n,t){const r=`
        <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
            fill="${t}" stroke="#fff" stroke-width="2"/>
          <circle cx="12" cy="12" r="8" fill="#fff"/>
          <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
            font-size="10" font-weight="bold" fill="${t}">${n}</text>
        </svg>
      `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)},hideMapControls(){this.isUnmounting||setTimeout(()=>{if(this.isUnmounting)return;const n=this.$refs.mapContainer;n&&n.querySelectorAll(".kakao-map-control, .MapTypeControl, .ZoomControl").forEach(r=>{r.style.display="none"})},100)}}},KQ={key:0,class:"map-placeholder"},ZQ={key:1,class:"map-container"},JQ={class:"content-header"},QQ={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},eee={class:"title"},tee={class:"address"},nee={class:"course-list"};function ree(n,t,r,i,s,o){const a=Rt("PillTag");return ie(),le("div",{class:"course-card",style:{"font-family":"'SUIT', sans-serif"},onClick:t[3]||(t[3]=(...l)=>o.handleCardClick&&o.handleCardClick(...l))},[o.courseCoordinates.length>0?(ie(),le("div",{key:0,class:"map-container",ref:"mapContainer",onClick:t[0]||(t[0]=hr((...l)=>o.handleMapClick&&o.handleMapClick(...l),["stop"]))},[s.mapGenerated?et("",!0):(ie(),le("div",KQ,"   ... "))],512)):(ie(),le("div",ZQ,[...t[4]||(t[4]=[b("div",{class:"map-fallback"},[b("img",{src:"https://placehold.co/149x126/e9ecef/6c757d?text=No+Map",alt:" ",style:{width:"100%",height:"100%","object-fit":"cover"}})],-1)])])),b("div",{class:"content-area",onClick:t[2]||(t[2]=(...l)=>o.handleContentClick&&o.handleContentClick(...l))},[b("div",JQ,[b("div",QQ,[lt(a,{text:r.item.subject,type:"subject"},null,8,["text"]),lt(a,{text:r.item.grade?.replace(" ","")??"",type:"grade"},null,8,["text"])]),b("div",{class:"action-icons",onClick:t[1]||(t[1]=hr((...l)=>o.handleHeartClick&&o.handleHeartClick(...l),["stop"]))},[...t[5]||(t[5]=[b("i",{class:"bi bi-heart-fill fs-4"},null,-1)])])]),b("div",eee,ke(r.item.ExhibitionName),1),b("div",tee,ke(r.item.scienceCenter),1),b("div",nee,ke(o.courseSequenceText),1)])])}const iee=yt(YQ,[["render",ree],["__scopeId","data-v-c97bb8a0"]]),see={name:"UserLikeCourse",components:{UserLikeCourseCard:iee},setup(){const n=bi(),{isLoggedIn:t,currentUserId:r}=Ts(n);return{isLoggedIn:t,currentUserId:r}},data(){return{selectedTab:"",userLikeCourseCardItem:[],loading:!0,error:null,isNavigating:!1}},computed:{filteredItems(){return this.selectedTab===""?this.userLikeCourseCardItem.filter(n=>n.type===""||n.type==="inner_course"):this.userLikeCourseCardItem.filter(n=>n.type===""||n.type==="ai_course")}},created(){this.$route.query.tab===""&&(this.selectedTab=""),this.fetchUserLikeCourse()},methods:{async fetchUserLikeCourse(){if(this.loading=!0,this.error=null,!this.isLoggedIn){this.error="  .    .",this.loading=!1,this.$router.push("/login");return}try{const n=await cn.get(`api/schedules/user/${this.currentUserId}`);this.userLikeCourseCardItem=n.data.map(t=>{const r=t.items.map(s=>({id:s.sourceItemId,number:s.sequence,title:s.itemName,place:s.addressDetail,imageUrl:s.mainImageUrl,lat:s.latitude,lng:s.longitude,type:null,scienceCenter:s.scienceCenterName,hallName:s.hallName,subject:s.mainCategoryNames||[],grade:s.gradeNames||[],hashtags:s.subCategoryNames||[],itemType:s.itemType,exhibitionList:s.exhibitionList||[]}));return{id:t.scheduleId||`temp_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,ExhibitionName:t.scheduleName,type:t.sourceCourseType,address:r[0]?r[0].place:" ",scienceCenter:r[0]?r[0].scienceCenter:" ",grade:r[0]?r[0].grade?.[0]:null,subject:r[0]?r[0].subject?.[0]:null,coursePlaces:r.map(s=>s.title),courseItems:r}}),console.log(" fetchUserLikeCourse -    (userLikeCourseCardItem):",JSON.stringify(this.userLikeCourseCardItem,null,2))}catch(n){console.error("   :",n),this.error="   ."}finally{this.loading=!1}},goToCourseDetail(n){if(!this.isNavigating){this.isNavigating=!0,console.log("goToCourseDetail -  item:",n);try{const t=JSON.parse(JSON.stringify(n));sessionStorage.setItem(`courseData_${n.id}`,JSON.stringify(t)),this.$router.push({name:"UserLikeCourseDetail",params:{courseId:n.id}}).catch(r=>{console.error("  :",r),this.isNavigating=!1})}catch(t){console.error("    :",t),this.isNavigating=!1}}},changeTab(n){this.selectedTab!==n&&(this.selectedTab=n,this.$router.replace({query:{...this.$route.query,tab:n}}).catch(()=>{}))},goBack(){this.$router.back()}}},oee={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},aee={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},lee={class:"header-left",style:{flex:"1"}},uee={class:"segmented-control-wrapper flex-shrink-0"},cee={class:"segmented-control"},hee={key:0,class:"content-container status-container"},fee={key:1,class:"content-container status-container"},dee={class:"text-danger"},pee={key:2,class:"content-container"},mee={key:0,class:"status-container empty-state"},gee={class:"text-muted"},vee={class:"card-list-wrapper"};function yee(n,t,r,i,s,o){const a=Rt("UserLikeCourseCard");return ie(),le("div",oee,[b("div",aee,[b("div",lee,[b("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...l)=>o.goBack&&o.goBack(...l))})]),t[4]||(t[4]=b("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center"}},"    ",-1)),t[5]||(t[5]=b("div",{class:"header-right",style:{flex:"1"}},null,-1))]),b("div",uee,[b("div",cee,[b("button",{type:"button",class:st(["spec-button",{active:s.selectedTab===""}]),onClick:t[1]||(t[1]=l=>o.changeTab(""))},"",2),b("button",{type:"button",class:st(["spec-button",{active:s.selectedTab===""}]),onClick:t[2]||(t[2]=l=>o.changeTab(""))}," ",2)])]),s.loading?(ie(),le("div",hee,[...t[6]||(t[6]=[b("div",{class:"spinner-border text-primary",role:"status"},[b("span",{class:"visually-hidden"},"Loading...")],-1),b("p",{class:"mt-2 text-muted"},"   ...",-1)])])):s.error?(ie(),le("div",fee,[b("p",dee,ke(s.error),1),b("button",{onClick:t[3]||(t[3]=(...l)=>o.fetchUserLikeCourse&&o.fetchUserLikeCourse(...l)),class:"btn btn-sm btn-outline-primary"},"   ")])):(ie(),le("div",pee,[o.filteredItems.length===0?(ie(),le("div",mee,[b("p",gee," '"+ke(s.selectedTab===""?"":" ")+"'     . ",1)])):et("",!0),Bt(b("div",vee,[(ie(!0),le(it,null,At(o.filteredItems,l=>(ie(),Zt(a,{key:l.id,item:l,onClick:u=>o.goToCourseDetail(l)},null,8,["item","onClick"]))),128))],512),[[Ll,o.filteredItems.length>0]])]))])}const bee=yt(see,[["render",yee],["__scopeId","data-v-b1486824"]]);var np={exports:{}},Cv={exports:{}},Av={};/**
* @vue/compiler-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const cc=Symbol(""),Ku=Symbol(""),yg=Symbol(""),sf=Symbol(""),rx=Symbol(""),Ra=Symbol(""),ix=Symbol(""),sx=Symbol(""),bg=Symbol(""),xg=Symbol(""),Ic=Symbol(""),_g=Symbol(""),ox=Symbol(""),wg=Symbol(""),Eg=Symbol(""),Sg=Symbol(""),Cg=Symbol(""),Ag=Symbol(""),Tg=Symbol(""),ax=Symbol(""),lx=Symbol(""),Tf=Symbol(""),of=Symbol(""),Ig=Symbol(""),Dg=Symbol(""),hc=Symbol(""),Dc=Symbol(""),Ng=Symbol(""),rm=Symbol(""),E3=Symbol(""),im=Symbol(""),af=Symbol(""),S3=Symbol(""),C3=Symbol(""),kg=Symbol(""),A3=Symbol(""),T3=Symbol(""),Fg=Symbol(""),ux=Symbol(""),Jl={[cc]:"Fragment",[Ku]:"Teleport",[yg]:"Suspense",[sf]:"KeepAlive",[rx]:"BaseTransition",[Ra]:"openBlock",[ix]:"createBlock",[sx]:"createElementBlock",[bg]:"createVNode",[xg]:"createElementVNode",[Ic]:"createCommentVNode",[_g]:"createTextVNode",[ox]:"createStaticVNode",[wg]:"resolveComponent",[Eg]:"resolveDynamicComponent",[Sg]:"resolveDirective",[Cg]:"resolveFilter",[Ag]:"withDirectives",[Tg]:"renderList",[ax]:"renderSlot",[lx]:"createSlots",[Tf]:"toDisplayString",[of]:"mergeProps",[Ig]:"normalizeClass",[Dg]:"normalizeStyle",[hc]:"normalizeProps",[Dc]:"guardReactiveProps",[Ng]:"toHandlers",[rm]:"camelize",[E3]:"capitalize",[im]:"toHandlerKey",[af]:"setBlockTracking",[S3]:"pushScopeId",[C3]:"popScopeId",[kg]:"withCtx",[A3]:"unref",[T3]:"isRef",[Fg]:"withMemo",[ux]:"isMemoSame"};function I3(n){Object.getOwnPropertySymbols(n).forEach(t=>{Jl[t]=n[t]})}const xee={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},_ee={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},wee={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},Eee={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},zr={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function D3(n,t=""){return{type:0,source:t,children:n,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:zr}}function fc(n,t,r,i,s,o,a,l=!1,u=!1,h=!1,c=zr){return n&&(l?(n.helper(Ra),n.helper(tu(n.inSSR,h))):n.helper(eu(n.inSSR,h)),a&&n.helper(Ag)),{type:13,tag:t,props:r,children:i,patchFlag:s,dynamicProps:o,directives:a,isBlock:l,disableTracking:u,isComponent:h,loc:c}}function Na(n,t=zr){return{type:17,loc:t,elements:n}}function cs(n,t=zr){return{type:15,loc:t,properties:n}}function Ar(n,t){return{type:16,loc:zr,key:$t(n)?Kt(n,!0):n,value:t}}function Kt(n,t=!1,r=zr,i=0){return{type:4,loc:r,content:n,isStatic:t,constType:t?3:i}}function See(n,t){return{type:5,loc:t,content:$t(n)?Kt(n,!1,t):n}}function Cs(n,t=zr){return{type:8,loc:t,children:n}}function kr(n,t=[],r=zr){return{type:14,loc:r,callee:n,arguments:t}}function Ql(n,t=void 0,r=!1,i=!1,s=zr){return{type:18,params:n,returns:t,newline:r,isSlot:i,loc:s}}function sm(n,t,r,i=!0){return{type:19,test:n,consequent:t,alternate:r,newline:i,loc:zr}}function N3(n,t,r=!1,i=!1){return{type:20,index:n,value:t,needPauseTracking:r,inVOnce:i,needArraySpread:!1,loc:zr}}function k3(n){return{type:21,body:n,loc:zr}}function Cee(n){return{type:22,elements:n,loc:zr}}function Aee(n,t,r){return{type:23,test:n,consequent:t,alternate:r,loc:zr}}function Tee(n,t){return{type:24,left:n,right:t,loc:zr}}function Iee(n){return{type:25,expressions:n,loc:zr}}function Dee(n){return{type:26,returns:n,loc:zr}}function eu(n,t){return n||t?bg:xg}function tu(n,t){return n||t?ix:sx}function Mg(n,{helper:t,removeHelper:r,inSSR:i}){n.isBlock||(n.isBlock=!0,r(eu(i,n.isComponent)),t(Ra),t(tu(i,n.isComponent)))}const EC=new Uint8Array([123,123]),SC=new Uint8Array([125,125]);function CC(n){return n>=97&&n<=122||n>=65&&n<=90}function ls(n){return n===32||n===10||n===9||n===12||n===13}function ua(n){return n===47||n===62||ls(n)}function om(n){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}const si={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class Nee{constructor(t,r){this.stack=t,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=EC,this.delimiterClose=SC,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=EC,this.delimiterClose=SC}getPos(t){let r=1,i=t+1;for(let s=this.newlines.length-1;s>=0;s--){const o=this.newlines[s];if(t>o){r=s+2,i=t-o;break}}return{column:i,line:r,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?ua(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||ls(t)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const i=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=i}this.sectionStart=r+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===si.TitleEnd||this.currentSequence===si.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===si.Cdata[this.sequenceIndex]?++this.sequenceIndex===si.Cdata.length&&(this.state=28,this.currentSequence=si.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===si.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,r){this.enterRCDATA(t,r),this.state=31}enterRCDATA(t,r){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=r}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):CC(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){ua(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(ua(t)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(om("</"+r),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){ls(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=CC(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||ls(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):ls(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):ls(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||ua(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||ua(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||ua(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||ua(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||ua(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):ls(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):ls(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,r){(t===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){ls(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=si.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===si.ScriptEnd[3]?this.startSpecial(si.ScriptEnd,4):t===si.StyleEnd[3]?this.startSpecial(si.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===si.TitleEnd[3]?this.startSpecial(si.TitleEnd,4):t===si.TextareaEnd[3]?this.startSpecial(si.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===si.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,r){}}const kee={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},Fee={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:n=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${n}.sync\` should be changed to \`v-model:${n}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function n1(n,{compatConfig:t}){const r=t&&t[n];return n==="MODE"?r||3:r}function Fl(n,t){const r=n1("MODE",t),i=n1(n,t);return r===3?i===!0:i!==!1}function dc(n,t,r,...i){return Fl(n,t)}function Mee(n,t,r,...i){if(n1(n,t)==="suppress-warning")return;const{message:o,link:a}=Fee[n],l=`(deprecation ${n}) ${typeof o=="function"?o(...i):o}${a?`
  Details: ${a}`:""}`,u=new SyntaxError(l);u.code=n,r&&(u.loc=r),t.onWarn(u)}function cx(n){throw n}function F3(n){}function Zn(n,t,r,i){const s=`https://vuejs.org/error-reference/#compiler-${n}`,o=new SyntaxError(String(s));return o.code=n,o.loc=t,o}const Oee={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},Pee={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function Lee(n,t,r=!1,i=[],s=Object.create(null)){}function Ree(n,t,r){return!1}function Bee(n,t){if(n&&(n.type==="ObjectProperty"||n.type==="ArrayPattern")){let r=t.length;for(;r--;){const i=t[r];if(i.type==="AssignmentExpression")return!0;if(i.type!=="ObjectProperty"&&!i.type.endsWith("Pattern"))break}}return!1}function Uee(n){let t=n.length;for(;t--;){const r=n[t];if(r.type==="NewExpression")return!0;if(r.type!=="MemberExpression")break}return!1}function Vee(n,t){for(const r of n.params)for(const i of co(r))t(i)}function M3(n,t){const r=n.type==="SwitchCase"?n.consequent:n.body;for(const i of r)if(i.type==="VariableDeclaration"){if(i.declare)continue;for(const s of i.declarations)for(const o of co(s.id))t(o)}else if(i.type==="FunctionDeclaration"||i.type==="ClassDeclaration"){if(i.declare||!i.id)continue;t(i.id)}else $ee(i)?jee(i,!0,t):i.type==="SwitchStatement"&&zee(i,!0,t)}function $ee(n){return n.type==="ForOfStatement"||n.type==="ForInStatement"||n.type==="ForStatement"}function jee(n,t,r){const i=n.type==="ForStatement"?n.init:n.left;if(i&&i.type==="VariableDeclaration"&&(i.kind==="var"?t:!t))for(const s of i.declarations)for(const o of co(s.id))r(o)}function zee(n,t,r){for(const i of n.cases){for(const s of i.consequent)if(s.type==="VariableDeclaration"&&(s.kind==="var"?t:!t))for(const o of s.declarations)for(const a of co(o.id))r(a);M3(i,r)}}function co(n,t=[]){switch(n.type){case"Identifier":t.push(n);break;case"MemberExpression":let r=n;for(;r.type==="MemberExpression";)r=r.object;t.push(r);break;case"ObjectPattern":for(const i of n.properties)i.type==="RestElement"?co(i.argument,t):co(i.value,t);break;case"ArrayPattern":n.elements.forEach(i=>{i&&co(i,t)});break;case"RestElement":co(n.argument,t);break;case"AssignmentPattern":co(n.left,t);break}return t}const Gee=n=>/Function(?:Expression|Declaration)$|Method$/.test(n.type),O3=n=>n&&(n.type==="ObjectProperty"||n.type==="ObjectMethod")&&!n.computed,Hee=(n,t)=>O3(t)&&t.key===n,P3=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function L3(n){return P3.includes(n.type)?L3(n.expression):n}const Oi=n=>n.type===4&&n.isStatic;function hx(n){switch(n){case"Teleport":case"teleport":return Ku;case"Suspense":case"suspense":return yg;case"KeepAlive":case"keep-alive":return sf;case"BaseTransition":case"base-transition":return rx}}const Wee=/^$|^\d|[^\$\w\xA0-\uFFFF]/,If=n=>!Wee.test(n),fx=/[A-Za-z_$\xA0-\uFFFF]/,qee=/[\.\?\w$\xA0-\uFFFF]/,Xee=/\s+[.[]\s*|\s*[.[]\s+/g,R3=n=>n.type===4?n.content:n.loc.source,B3=n=>{const t=R3(n).trim().replace(Xee,l=>l.trim());let r=0,i=[],s=0,o=0,a=null;for(let l=0;l<t.length;l++){const u=t.charAt(l);switch(r){case 0:if(u==="[")i.push(r),r=1,s++;else if(u==="(")i.push(r),r=2,o++;else if(!(l===0?fx:qee).test(u))return!1;break;case 1:u==="'"||u==='"'||u==="`"?(i.push(r),r=3,a=u):u==="["?s++:u==="]"&&(--s||(r=i.pop()));break;case 2:if(u==="'"||u==='"'||u==="`")i.push(r),r=3,a=u;else if(u==="(")o++;else if(u===")"){if(l===t.length-1)return!1;--o||(r=i.pop())}break;case 3:u===a&&(r=i.pop(),a=null);break}}return!s&&!o},Yee=Yr,dx=B3,Kee=/^\s*(?:async\s*)?(?:\([^)]*?\)|[\w$_]+)\s*(?::[^=]+)?=>|^\s*(?:async\s+)?function(?:\s+[\w$]+)?\s*\(/,U3=n=>Kee.test(R3(n)),Zee=Yr,V3=U3;function Jee(n,t,r=t.length){return $3({offset:n.offset,line:n.line,column:n.column},t,r)}function $3(n,t,r=t.length){let i=0,s=-1;for(let o=0;o<r;o++)t.charCodeAt(o)===10&&(i++,s=o);return n.offset+=r,n.line+=i,n.column=s===-1?n.column+r:r-s,n}function Qee(n,t){if(!n)throw new Error(t||"unexpected compiler condition")}function Ni(n,t,r=!1){for(let i=0;i<n.props.length;i++){const s=n.props[i];if(s.type===7&&(r||s.exp)&&($t(t)?s.name===t:t.test(s.name)))return s}}function Df(n,t,r=!1,i=!1){for(let s=0;s<n.props.length;s++){const o=n.props[s];if(o.type===6){if(r)continue;if(o.name===t&&(o.value||i))return o}else if(o.name==="bind"&&(o.exp||i)&&Ca(o.arg,t))return o}}function Ca(n,t){return!!(n&&Oi(n)&&n.content===t)}function j3(n){return n.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function rp(n){return n.type===5||n.type===2}function r1(n){return n.type===7&&n.name==="pre"}function px(n){return n.type===7&&n.name==="slot"}function pc(n){return n.type===1&&n.tagType===3}function lf(n){return n.type===1&&n.tagType===2}const ete=new Set([hc,Dc]);function z3(n,t=[]){if(n&&!$t(n)&&n.type===14){const r=n.callee;if(!$t(r)&&ete.has(r))return z3(n.arguments[0],t.concat(n))}return[n,t]}function uf(n,t,r){let i,s=n.type===13?n.props:n.arguments[2],o=[],a;if(s&&!$t(s)&&s.type===14){const l=z3(s);s=l[0],o=l[1],a=o[o.length-1]}if(s==null||$t(s))i=cs([t]);else if(s.type===14){const l=s.arguments[0];!$t(l)&&l.type===15?AC(t,l)||l.properties.unshift(t):s.callee===Ng?i=kr(r.helper(of),[cs([t]),s]):s.arguments.unshift(cs([t])),!i&&(i=s)}else s.type===15?(AC(t,s)||s.properties.unshift(t),i=s):(i=kr(r.helper(of),[cs([t]),s]),a&&a.callee===Dc&&(a=o[o.length-2]));n.type===13?a?a.arguments[0]=i:n.props=i:a?a.arguments[0]=i:n.arguments[2]=i}function AC(n,t){let r=!1;if(n.key.type===4){const i=n.key.content;r=t.properties.some(s=>s.key.type===4&&s.key.content===i)}return r}function mc(n,t){return`_${t}_${n.replace(/[^\w]/g,(r,i)=>r==="-"?"_":n.charCodeAt(i).toString())}`}function Us(n,t){if(!n||Object.keys(t).length===0)return!1;switch(n.type){case 1:for(let r=0;r<n.props.length;r++){const i=n.props[r];if(i.type===7&&(Us(i.arg,t)||Us(i.exp,t)))return!0}return n.children.some(r=>Us(r,t));case 11:return Us(n.source,t)?!0:n.children.some(r=>Us(r,t));case 9:return n.branches.some(r=>Us(r,t));case 10:return Us(n.condition,t)?!0:n.children.some(r=>Us(r,t));case 4:return!n.isStatic&&If(n.content)&&!!t[n.content];case 8:return n.children.some(r=>Sn(r)&&Us(r,t));case 5:case 12:return Us(n.content,t);case 2:case 3:case 20:return!1;default:return!1}}function G3(n){return n.type===14&&n.callee===Fg?n.arguments[1].returns:n}const H3=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,W3={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:ml,isPreTag:ml,isIgnoreNewlineTag:ml,isCustomElement:ml,onError:cx,onWarn:F3,comments:!1,prefixIdentifiers:!1};let In=W3,cf=null,jo="",li=null,dn=null,zi="",No=-1,cl=-1,mx=0,ga=!1,i1=null;const tr=[],xr=new Nee(tr,{onerr:Io,ontext(n,t){kd(Jr(n,t),n,t)},ontextentity(n,t,r){kd(n,t,r)},oninterpolation(n,t){if(ga)return kd(Jr(n,t),n,t);let r=n+xr.delimiterOpen.length,i=t-xr.delimiterClose.length;for(;ls(jo.charCodeAt(r));)r++;for(;ls(jo.charCodeAt(i-1));)i--;let s=Jr(r,i);s.includes("&")&&(s=In.decodeEntities(s,!1)),s1({type:5,content:sp(s,!1,Er(r,i)),loc:Er(n,t)})},onopentagname(n,t){const r=Jr(n,t);li={type:1,tag:r,ns:In.getNamespace(r,tr[0],In.ns),tagType:0,props:[],children:[],loc:Er(n-1,t),codegenNode:void 0}},onopentagend(n){IC(n)},onclosetag(n,t){const r=Jr(n,t);if(!In.isVoidTag(r)){let i=!1;for(let s=0;s<tr.length;s++)if(tr[s].tag.toLowerCase()===r.toLowerCase()){i=!0,s>0&&Io(24,tr[0].loc.start.offset);for(let a=0;a<=s;a++){const l=tr.shift();ip(l,t,a<s)}break}i||Io(23,q3(n,60))}},onselfclosingtag(n){const t=li.tag;li.isSelfClosing=!0,IC(n),tr[0]&&tr[0].tag===t&&ip(tr.shift(),n)},onattribname(n,t){dn={type:6,name:Jr(n,t),nameLoc:Er(n,t),value:void 0,loc:Er(n)}},ondirname(n,t){const r=Jr(n,t),i=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!ga&&i===""&&Io(26,n),ga||i==="")dn={type:6,name:r,nameLoc:Er(n,t),value:void 0,loc:Er(n)};else if(dn={type:7,name:i,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[Kt("prop")]:[],loc:Er(n)},i==="pre"){ga=xr.inVPre=!0,i1=li;const s=li.props;for(let o=0;o<s.length;o++)s[o].type===7&&(s[o]=hte(s[o]))}},ondirarg(n,t){if(n===t)return;const r=Jr(n,t);if(ga&&!r1(dn))dn.name+=r,bl(dn.nameLoc,t);else{const i=r[0]!=="[";dn.arg=sp(i?r:r.slice(1,-1),i,Er(n,t),i?3:0)}},ondirmodifier(n,t){const r=Jr(n,t);if(ga&&!r1(dn))dn.name+="."+r,bl(dn.nameLoc,t);else if(dn.name==="slot"){const i=dn.arg;i&&(i.content+="."+r,bl(i.loc,t))}else{const i=Kt(r,!0,Er(n,t));dn.modifiers.push(i)}},onattribdata(n,t){zi+=Jr(n,t),No<0&&(No=n),cl=t},onattribentity(n,t,r){zi+=n,No<0&&(No=t),cl=r},onattribnameend(n){const t=dn.loc.start.offset,r=Jr(t,n);dn.type===7&&(dn.rawName=r),li.props.some(i=>(i.type===7?i.rawName:i.name)===r)&&Io(2,t)},onattribend(n,t){if(li&&dn){if(bl(dn.loc,t),n!==0)if(zi.includes("&")&&(zi=In.decodeEntities(zi,!0)),dn.type===6)dn.name==="class"&&(zi=Y3(zi).trim()),n===1&&!zi&&Io(13,t),dn.value={type:2,content:zi,loc:n===1?Er(No,cl):Er(No-1,cl+1)},xr.inSFCRoot&&li.tag==="template"&&dn.name==="lang"&&zi&&zi!=="html"&&xr.enterRCDATA(om("</template"),0);else{let r=0;dn.exp=sp(zi,!1,Er(No,cl),0,r),dn.name==="for"&&(dn.forParseResult=nte(dn.exp));let i=-1;dn.name==="bind"&&(i=dn.modifiers.findIndex(s=>s.content==="sync"))>-1&&dc("COMPILER_V_BIND_SYNC",In,dn.loc,dn.arg.loc.source)&&(dn.name="model",dn.modifiers.splice(i,1))}(dn.type!==7||dn.name!=="pre")&&li.props.push(dn)}zi="",No=cl=-1},oncomment(n,t){In.comments&&s1({type:3,content:Jr(n,t),loc:Er(n-4,t+3)})},onend(){const n=jo.length;for(let t=0;t<tr.length;t++)ip(tr[t],n-1),Io(24,tr[t].loc.start.offset)},oncdata(n,t){tr[0].ns!==0?kd(Jr(n,t),n,t):Io(1,n-9)},onprocessinginstruction(n){(tr[0]?tr[0].ns:In.ns)===0&&Io(21,n-1)}}),TC=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,tte=/^\(|\)$/g;function nte(n){const t=n.loc,r=n.content,i=r.match(H3);if(!i)return;const[,s,o]=i,a=(f,p,d=!1)=>{const g=t.start.offset+p,m=g+f.length;return sp(f,!1,Er(g,m),0,d?1:0)},l={source:a(o.trim(),r.indexOf(o,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let u=s.trim().replace(tte,"").trim();const h=s.indexOf(u),c=u.match(TC);if(c){u=u.replace(TC,"").trim();const f=c[1].trim();let p;if(f&&(p=r.indexOf(f,h+u.length),l.key=a(f,p,!0)),c[2]){const d=c[2].trim();d&&(l.index=a(d,r.indexOf(d,l.key?p+f.length:h+u.length),!0))}}return u&&(l.value=a(u,h,!0)),l}function Jr(n,t){return jo.slice(n,t)}function IC(n){xr.inSFCRoot&&(li.innerLoc=Er(n+1,n+1)),s1(li);const{tag:t,ns:r}=li;r===0&&In.isPreTag(t)&&mx++,In.isVoidTag(t)?ip(li,n):(tr.unshift(li),(r===1||r===2)&&(xr.inXML=!0)),li=null}function kd(n,t,r){{const o=tr[0]&&tr[0].tag;o!=="script"&&o!=="style"&&n.includes("&")&&(n=In.decodeEntities(n,!1))}const i=tr[0]||cf,s=i.children[i.children.length-1];s&&s.type===2?(s.content+=n,bl(s.loc,r)):i.children.push({type:2,content:n,loc:Er(t,r)})}function ip(n,t,r=!1){r?bl(n.loc,q3(t,60)):bl(n.loc,rte(t,62)+1),xr.inSFCRoot&&(n.children.length?n.innerLoc.end=ln({},n.children[n.children.length-1].loc.end):n.innerLoc.end=ln({},n.innerLoc.start),n.innerLoc.source=Jr(n.innerLoc.start.offset,n.innerLoc.end.offset));const{tag:i,ns:s,children:o}=n;if(ga||(i==="slot"?n.tagType=2:DC(n)?n.tagType=3:ste(n)&&(n.tagType=1)),xr.inRCDATA||(n.children=X3(o)),s===0&&In.isIgnoreNewlineTag(i)){const a=o[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}s===0&&In.isPreTag(i)&&mx--,i1===n&&(ga=xr.inVPre=!1,i1=null),xr.inXML&&(tr[0]?tr[0].ns:In.ns)===0&&(xr.inXML=!1);{const a=n.props;if(!xr.inSFCRoot&&Fl("COMPILER_NATIVE_TEMPLATE",In)&&n.tag==="template"&&!DC(n)){const u=tr[0]||cf,h=u.children.indexOf(n);u.children.splice(h,1,...n.children)}const l=a.find(u=>u.type===6&&u.name==="inline-template");l&&dc("COMPILER_INLINE_TEMPLATE",In,l.loc)&&n.children.length&&(l.value={type:2,content:Jr(n.children[0].loc.start.offset,n.children[n.children.length-1].loc.end.offset),loc:l.loc})}}function rte(n,t){let r=n;for(;jo.charCodeAt(r)!==t&&r<jo.length-1;)r++;return r}function q3(n,t){let r=n;for(;jo.charCodeAt(r)!==t&&r>=0;)r--;return r}const ite=new Set(["if","else","else-if","for","slot"]);function DC({tag:n,props:t}){if(n==="template"){for(let r=0;r<t.length;r++)if(t[r].type===7&&ite.has(t[r].name))return!0}return!1}function ste({tag:n,props:t}){if(In.isCustomElement(n))return!1;if(n==="component"||ote(n.charCodeAt(0))||hx(n)||In.isBuiltInComponent&&In.isBuiltInComponent(n)||In.isNativeTag&&!In.isNativeTag(n))return!0;for(let r=0;r<t.length;r++){const i=t[r];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(dc("COMPILER_IS_ON_ELEMENT",In,i.loc))return!0}}else if(i.name==="bind"&&Ca(i.arg,"is")&&dc("COMPILER_IS_ON_ELEMENT",In,i.loc))return!0}return!1}function ote(n){return n>64&&n<91}const ate=/\r\n/g;function X3(n){const t=In.whitespace!=="preserve";let r=!1;for(let i=0;i<n.length;i++){const s=n[i];if(s.type===2)if(mx)s.content=s.content.replace(ate,`
`);else if(lte(s.content)){const o=n[i-1]&&n[i-1].type,a=n[i+1]&&n[i+1].type;!o||!a||t&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&ute(s.content)))?(r=!0,n[i]=null):s.content=" "}else t&&(s.content=Y3(s.content))}return r?n.filter(Boolean):n}function lte(n){for(let t=0;t<n.length;t++)if(!ls(n.charCodeAt(t)))return!1;return!0}function ute(n){for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);if(r===10||r===13)return!0}return!1}function Y3(n){let t="",r=!1;for(let i=0;i<n.length;i++)ls(n.charCodeAt(i))?r||(t+=" ",r=!0):(t+=n[i],r=!1);return t}function s1(n){(tr[0]||cf).children.push(n)}function Er(n,t){return{start:xr.getPos(n),end:t==null?t:xr.getPos(t),source:t==null?t:Jr(n,t)}}function cte(n){return Er(n.start.offset,n.end.offset)}function bl(n,t){n.end=xr.getPos(t),n.source=Jr(n.start.offset,t)}function hte(n){const t={type:6,name:n.rawName,nameLoc:Er(n.loc.start.offset,n.loc.start.offset+n.rawName.length),value:void 0,loc:n.loc};if(n.exp){const r=n.exp.loc;r.end.offset<n.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),t.value={type:2,content:n.exp.content,loc:r}}return t}function sp(n,t=!1,r,i=0,s=0){return Kt(n,t,r,i)}function Io(n,t,r){In.onError(Zn(n,Er(t,t)))}function fte(){xr.reset(),li=null,dn=null,zi="",No=-1,cl=-1,tr.length=0}function gx(n,t){if(fte(),jo=n,In=ln({},W3),t){let s;for(s in t)t[s]!=null&&(In[s]=t[s])}xr.mode=In.parseMode==="html"?1:In.parseMode==="sfc"?2:0,xr.inXML=In.ns===1||In.ns===2;const r=t&&t.delimiters;r&&(xr.delimiterOpen=om(r[0]),xr.delimiterClose=om(r[1]));const i=cf=D3([],n);return xr.parse(jo),i.loc=Er(0,n.length),i.children=X3(i.children),cf=null,i}function dte(n,t){op(n,void 0,t,!!K3(n))}function K3(n){const t=n.children.filter(r=>r.type!==3);return t.length===1&&t[0].type===1&&!lf(t[0])?t[0]:null}function op(n,t,r,i=!1,s=!1){const{children:o}=n,a=[];for(let c=0;c<o.length;c++){const f=o[c];if(f.type===1&&f.tagType===0){const p=i?0:Yi(f,r);if(p>0){if(p>=2){f.codegenNode.patchFlag=-1,a.push(f);continue}}else{const d=f.codegenNode;if(d.type===13){const g=d.patchFlag;if((g===void 0||g===512||g===1)&&J3(f,r)>=2){const m=Q3(f);m&&(d.props=r.hoist(m))}d.dynamicProps&&(d.dynamicProps=r.hoist(d.dynamicProps))}}}else if(f.type===12&&(i?0:Yi(f,r))>=2){f.codegenNode.type===14&&f.codegenNode.arguments.length>0&&f.codegenNode.arguments.push("-1"),a.push(f);continue}if(f.type===1){const p=f.tagType===1;p&&r.scopes.vSlot++,op(f,n,r,!1,s),p&&r.scopes.vSlot--}else if(f.type===11)op(f,n,r,f.children.length===1,!0);else if(f.type===9)for(let p=0;p<f.branches.length;p++)op(f.branches[p],n,r,f.branches[p].children.length===1,s)}let l=!1;if(a.length===o.length&&n.type===1){if(n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&mt(n.codegenNode.children))n.codegenNode.children=u(Na(n.codegenNode.children)),l=!0;else if(n.tagType===1&&n.codegenNode&&n.codegenNode.type===13&&n.codegenNode.children&&!mt(n.codegenNode.children)&&n.codegenNode.children.type===15){const c=h(n.codegenNode,"default");c&&(c.returns=u(Na(c.returns)),l=!0)}else if(n.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!mt(t.codegenNode.children)&&t.codegenNode.children.type===15){const c=Ni(n,"slot",!0),f=c&&c.arg&&h(t.codegenNode,c.arg);f&&(f.returns=u(Na(f.returns)),l=!0)}}if(!l)for(const c of a)c.codegenNode=r.cache(c.codegenNode);function u(c){const f=r.cache(c);return f.needArraySpread=!0,f}function h(c,f){if(c.children&&!mt(c.children)&&c.children.type===15){const p=c.children.properties.find(d=>d.key===f||d.key.content===f);return p&&p.value}}a.length&&r.transformHoist&&r.transformHoist(o,r,n)}function Yi(n,t){const{constantCache:r}=t;switch(n.type){case 1:if(n.tagType!==0)return 0;const i=r.get(n);if(i!==void 0)return i;const s=n.codegenNode;if(s.type!==13||s.isBlock&&n.tag!=="svg"&&n.tag!=="foreignObject"&&n.tag!=="math")return 0;if(s.patchFlag===void 0){let a=3;const l=J3(n,t);if(l===0)return r.set(n,0),0;l<a&&(a=l);for(let u=0;u<n.children.length;u++){const h=Yi(n.children[u],t);if(h===0)return r.set(n,0),0;h<a&&(a=h)}if(a>1)for(let u=0;u<n.props.length;u++){const h=n.props[u];if(h.type===7&&h.name==="bind"&&h.exp){const c=Yi(h.exp,t);if(c===0)return r.set(n,0),0;c<a&&(a=c)}}if(s.isBlock){for(let u=0;u<n.props.length;u++)if(n.props[u].type===7)return r.set(n,0),0;t.removeHelper(Ra),t.removeHelper(tu(t.inSSR,s.isComponent)),s.isBlock=!1,t.helper(eu(t.inSSR,s.isComponent))}return r.set(n,a),a}else return r.set(n,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Yi(n.content,t);case 4:return n.constType;case 8:let o=3;for(let a=0;a<n.children.length;a++){const l=n.children[a];if($t(l)||Pi(l))continue;const u=Yi(l,t);if(u===0)return 0;u<o&&(o=u)}return o;case 20:return 2;default:return 0}}const pte=new Set([Ig,Dg,hc,Dc]);function Z3(n,t){if(n.type===14&&!$t(n.callee)&&pte.has(n.callee)){const r=n.arguments[0];if(r.type===4)return Yi(r,t);if(r.type===14)return Z3(r,t)}return 0}function J3(n,t){let r=3;const i=Q3(n);if(i&&i.type===15){const{properties:s}=i;for(let o=0;o<s.length;o++){const{key:a,value:l}=s[o],u=Yi(a,t);if(u===0)return u;u<r&&(r=u);let h;if(l.type===4?h=Yi(l,t):l.type===14?h=Z3(l,t):h=0,h===0)return h;h<r&&(r=h)}}return r}function Q3(n){const t=n.codegenNode;if(t.type===13)return t.props}function eF(n,{filename:t="",prefixIdentifiers:r=!1,hoistStatic:i=!1,hmr:s=!1,cacheHandlers:o=!1,nodeTransforms:a=[],directiveTransforms:l={},transformHoist:u=null,isBuiltInComponent:h=Yr,isCustomElement:c=Yr,expressionPlugins:f=[],scopeId:p=null,slotted:d=!0,ssr:g=!1,inSSR:m=!1,ssrCssVars:v="",bindingMetadata:w=un,inline:y=!1,isTS:_=!1,onError:x=cx,onWarn:C=F3,compatConfig:E}){const S=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),D={filename:t,selfName:S&&Va(Kn(S[1])),prefixIdentifiers:r,hoistStatic:i,hmr:s,cacheHandlers:o,nodeTransforms:a,directiveTransforms:l,transformHoist:u,isBuiltInComponent:h,isCustomElement:c,expressionPlugins:f,scopeId:p,slotted:d,ssr:g,inSSR:m,ssrCssVars:v,bindingMetadata:w,inline:y,isTS:_,onError:x,onWarn:C,compatConfig:E,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(A){const N=D.helpers.get(A)||0;return D.helpers.set(A,N+1),A},removeHelper(A){const N=D.helpers.get(A);if(N){const F=N-1;F?D.helpers.set(A,F):D.helpers.delete(A)}},helperString(A){return`_${Jl[D.helper(A)]}`},replaceNode(A){D.parent.children[D.childIndex]=D.currentNode=A},removeNode(A){const N=D.parent.children,F=A?N.indexOf(A):D.currentNode?D.childIndex:-1;!A||A===D.currentNode?(D.currentNode=null,D.onNodeRemoved()):D.childIndex>F&&(D.childIndex--,D.onNodeRemoved()),D.parent.children.splice(F,1)},onNodeRemoved:Yr,addIdentifiers(A){},removeIdentifiers(A){},hoist(A){$t(A)&&(A=Kt(A)),D.hoists.push(A);const N=Kt(`_hoisted_${D.hoists.length}`,!1,A.loc,2);return N.hoisted=A,N},cache(A,N=!1,F=!1){const T=N3(D.cached.length,A,N,F);return D.cached.push(T),T}};return D.filters=new Set,D}function tF(n,t){const r=eF(n,t);Nf(n,r),t.hoistStatic&&dte(n,r),t.ssr||mte(n,r),n.helpers=new Set([...r.helpers.keys()]),n.components=[...r.components],n.directives=[...r.directives],n.imports=r.imports,n.hoists=r.hoists,n.temps=r.temps,n.cached=r.cached,n.transformed=!0,n.filters=[...r.filters]}function mte(n,t){const{helper:r}=t,{children:i}=n;if(i.length===1){const s=K3(n);if(s&&s.codegenNode){const o=s.codegenNode;o.type===13&&Mg(o,t),n.codegenNode=o}else n.codegenNode=i[0]}else if(i.length>1){let s=64;n.codegenNode=fc(t,r(cc),void 0,n.children,s,void 0,void 0,!0,void 0,!1)}}function gte(n,t){let r=0;const i=()=>{r--};for(;r<n.children.length;r++){const s=n.children[r];$t(s)||(t.grandParent=t.parent,t.parent=n,t.childIndex=r,t.onNodeRemoved=i,Nf(s,t))}}function Nf(n,t){t.currentNode=n;const{nodeTransforms:r}=t,i=[];for(let o=0;o<r.length;o++){const a=r[o](n,t);if(a&&(mt(a)?i.push(...a):i.push(a)),t.currentNode)n=t.currentNode;else return}switch(n.type){case 3:t.ssr||t.helper(Ic);break;case 5:t.ssr||t.helper(Tf);break;case 9:for(let o=0;o<n.branches.length;o++)Nf(n.branches[o],t);break;case 10:case 11:case 1:case 0:gte(n,t);break}t.currentNode=n;let s=i.length;for(;s--;)i[s]()}function vx(n,t){const r=$t(n)?i=>i===n:i=>n.test(i);return(i,s)=>{if(i.type===1){const{props:o}=i;if(i.tagType===3&&o.some(px))return;const a=[];for(let l=0;l<o.length;l++){const u=o[l];if(u.type===7&&r(u.name)){o.splice(l,1),l--;const h=t(i,u,s);h&&a.push(h)}}return a}}}const Og="/*@__PURE__*/",nF=n=>`${Jl[n]}: _${Jl[n]}`;function vte(n,{mode:t="function",prefixIdentifiers:r=t==="module",sourceMap:i=!1,filename:s="template.vue.html",scopeId:o=null,optimizeImports:a=!1,runtimeGlobalName:l="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:h="vue/server-renderer",ssr:c=!1,isTS:f=!1,inSSR:p=!1}){const d={mode:t,prefixIdentifiers:r,sourceMap:i,filename:s,scopeId:o,optimizeImports:a,runtimeGlobalName:l,runtimeModuleName:u,ssrRuntimeModuleName:h,ssr:c,isTS:f,inSSR:p,source:n.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(m){return`_${Jl[m]}`},push(m,v=-2,w){d.code+=m},indent(){g(++d.indentLevel)},deindent(m=!1){m?--d.indentLevel:g(--d.indentLevel)},newline(){g(d.indentLevel)}};function g(m){d.push(`
`+"  ".repeat(m),0)}return d}function rF(n,t={}){const r=vte(n,t);t.onContextCreated&&t.onContextCreated(r);const{mode:i,push:s,prefixIdentifiers:o,indent:a,deindent:l,newline:u,scopeId:h,ssr:c}=r,f=Array.from(n.helpers),p=f.length>0,d=!o&&i!=="module";yte(n,r);const m=c?"ssrRender":"render",w=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${m}(${w}) {`),a(),d&&(s("with (_ctx) {"),a(),p&&(s(`const { ${f.map(nF).join(", ")} } = _Vue
`,-1),u())),n.components.length&&(Tv(n.components,"component",r),(n.directives.length||n.temps>0)&&u()),n.directives.length&&(Tv(n.directives,"directive",r),n.temps>0&&u()),n.filters&&n.filters.length&&(u(),Tv(n.filters,"filter",r),u()),n.temps>0){s("let ");for(let y=0;y<n.temps;y++)s(`${y>0?", ":""}_temp${y}`)}return(n.components.length||n.directives.length||n.temps)&&(s(`
`,0),u()),c||s("return "),n.codegenNode?yi(n.codegenNode,r):s("null"),d&&(l(),s("}")),l(),s("}"),{ast:n,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function yte(n,t){const{ssr:r,prefixIdentifiers:i,push:s,newline:o,runtimeModuleName:a,runtimeGlobalName:l,ssrRuntimeModuleName:u}=t,h=l,c=Array.from(n.helpers);if(c.length>0&&(s(`const _Vue = ${h}
`,-1),n.hoists.length)){const f=[bg,xg,Ic,_g,ox].filter(p=>c.includes(p)).map(nF).join(", ");s(`const { ${f} } = _Vue
`,-1)}bte(n.hoists,t),o(),s("return ")}function Tv(n,t,{helper:r,push:i,newline:s,isTS:o}){const a=r(t==="filter"?Cg:t==="component"?wg:Sg);for(let l=0;l<n.length;l++){let u=n[l];const h=u.endsWith("__self");h&&(u=u.slice(0,-6)),i(`const ${mc(u,t)} = ${a}(${JSON.stringify(u)}${h?", true":""})${o?"!":""}`),l<n.length-1&&s()}}function bte(n,t){if(!n.length)return;t.pure=!0;const{push:r,newline:i}=t;i();for(let s=0;s<n.length;s++){const o=n[s];o&&(r(`const _hoisted_${s+1} = `),yi(o,t),i())}t.pure=!1}function yx(n,t){const r=n.length>3||!1;t.push("["),r&&t.indent(),kf(n,t,r),r&&t.deindent(),t.push("]")}function kf(n,t,r=!1,i=!0){const{push:s,newline:o}=t;for(let a=0;a<n.length;a++){const l=n[a];$t(l)?s(l,-3):mt(l)?yx(l,t):yi(l,t),a<n.length-1&&(r?(i&&s(","),o()):i&&s(", "))}}function yi(n,t){if($t(n)){t.push(n,-3);return}if(Pi(n)){t.push(t.helper(n));return}switch(n.type){case 1:case 9:case 11:yi(n.codegenNode,t);break;case 2:xte(n,t);break;case 4:iF(n,t);break;case 5:_te(n,t);break;case 12:yi(n.codegenNode,t);break;case 8:sF(n,t);break;case 3:Ete(n,t);break;case 13:Ste(n,t);break;case 14:Ate(n,t);break;case 15:Tte(n,t);break;case 17:Ite(n,t);break;case 18:Dte(n,t);break;case 19:Nte(n,t);break;case 20:kte(n,t);break;case 21:kf(n.body,t,!0,!1);break}}function xte(n,t){t.push(JSON.stringify(n.content),-3,n)}function iF(n,t){const{content:r,isStatic:i}=n;t.push(i?JSON.stringify(r):r,-3,n)}function _te(n,t){const{push:r,helper:i,pure:s}=t;s&&r(Og),r(`${i(Tf)}(`),yi(n.content,t),r(")")}function sF(n,t){for(let r=0;r<n.children.length;r++){const i=n.children[r];$t(i)?t.push(i,-3):yi(i,t)}}function wte(n,t){const{push:r}=t;if(n.type===8)r("["),sF(n,t),r("]");else if(n.isStatic){const i=If(n.content)?n.content:JSON.stringify(n.content);r(i,-2,n)}else r(`[${n.content}]`,-3,n)}function Ete(n,t){const{push:r,helper:i,pure:s}=t;s&&r(Og),r(`${i(Ic)}(${JSON.stringify(n.content)})`,-3,n)}function Ste(n,t){const{push:r,helper:i,pure:s}=t,{tag:o,props:a,children:l,patchFlag:u,dynamicProps:h,directives:c,isBlock:f,disableTracking:p,isComponent:d}=n;let g;u&&(g=String(u)),c&&r(i(Ag)+"("),f&&r(`(${i(Ra)}(${p?"true":""}), `),s&&r(Og);const m=f?tu(t.inSSR,d):eu(t.inSSR,d);r(i(m)+"(",-2,n),kf(Cte([o,a,l,g,h]),t),r(")"),f&&r(")"),c&&(r(", "),yi(c,t),r(")"))}function Cte(n){let t=n.length;for(;t--&&n[t]==null;);return n.slice(0,t+1).map(r=>r||"null")}function Ate(n,t){const{push:r,helper:i,pure:s}=t,o=$t(n.callee)?n.callee:i(n.callee);s&&r(Og),r(o+"(",-2,n),kf(n.arguments,t),r(")")}function Tte(n,t){const{push:r,indent:i,deindent:s,newline:o}=t,{properties:a}=n;if(!a.length){r("{}",-2,n);return}const l=a.length>1||!1;r(l?"{":"{ "),l&&i();for(let u=0;u<a.length;u++){const{key:h,value:c}=a[u];wte(h,t),r(": "),yi(c,t),u<a.length-1&&(r(","),o())}l&&s(),r(l?"}":" }")}function Ite(n,t){yx(n.elements,t)}function Dte(n,t){const{push:r,indent:i,deindent:s}=t,{params:o,returns:a,body:l,newline:u,isSlot:h}=n;h&&r(`_${Jl[kg]}(`),r("(",-2,n),mt(o)?kf(o,t):o&&yi(o,t),r(") => "),(u||l)&&(r("{"),i()),a?(u&&r("return "),mt(a)?yx(a,t):yi(a,t)):l&&yi(l,t),(u||l)&&(s(),r("}")),h&&(n.isNonScopedSlot&&r(", undefined, true"),r(")"))}function Nte(n,t){const{test:r,consequent:i,alternate:s,newline:o}=n,{push:a,indent:l,deindent:u,newline:h}=t;if(r.type===4){const f=!If(r.content);f&&a("("),iF(r,t),f&&a(")")}else a("("),yi(r,t),a(")");o&&l(),t.indentLevel++,o||a(" "),a("? "),yi(i,t),t.indentLevel--,o&&h(),o||a(" "),a(": ");const c=s.type===19;c||t.indentLevel++,yi(s,t),c||t.indentLevel--,o&&u(!0)}function kte(n,t){const{push:r,helper:i,indent:s,deindent:o,newline:a}=t,{needPauseTracking:l,needArraySpread:u}=n;u&&r("[...("),r(`_cache[${n.index}] || (`),l&&(s(),r(`${i(af)}(-1`),n.inVOnce&&r(", true"),r("),"),a(),r("(")),r(`_cache[${n.index}] = `),yi(n.value,t),l&&(r(`).cacheIndex = ${n.index},`),a(),r(`${i(af)}(1),`),a(),r(`_cache[${n.index}]`),o()),r(")"),u&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Fte=(n,t)=>{if(n.type===5)n.content=ap(n.content,t);else if(n.type===1){const r=Ni(n,"memo");for(let i=0;i<n.props.length;i++){const s=n.props[i];if(s.type===7&&s.name!=="for"){const o=s.exp,a=s.arg;o&&o.type===4&&!(s.name==="on"&&a)&&!(r&&a&&a.type===4&&a.content==="key")&&(s.exp=ap(o,t,s.name==="slot")),a&&a.type===4&&!a.isStatic&&(s.arg=ap(a,t))}}}};function ap(n,t,r=!1,i=!1,s=Object.create(t.identifiers)){return n}function oF(n){return $t(n)?n:n.type===4?n.content:n.children.map(oF).join("")}const Mte=vx(/^(?:if|else|else-if)$/,(n,t,r)=>aF(n,t,r,(i,s,o)=>{const a=r.parent.children;let l=a.indexOf(i),u=0;for(;l-->=0;){const h=a[l];h&&h.type===9&&(u+=h.branches.length)}return()=>{if(o)i.codegenNode=kC(s,u,r);else{const h=Ote(i.codegenNode);h.alternate=kC(s,u+i.branches.length-1,r)}}}));function aF(n,t,r,i){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const s=t.exp?t.exp.loc:n.loc;r.onError(Zn(28,t.loc)),t.exp=Kt("true",!1,s)}if(t.name==="if"){const s=NC(n,t),o={type:9,loc:cte(n.loc),branches:[s]};if(r.replaceNode(o),i)return i(o,s,!0)}else{const s=r.parent.children;let o=s.indexOf(n);for(;o-->=-1;){const a=s[o];if(a&&a.type===3){r.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){r.removeNode(a);continue}if(a&&a.type===9){(t.name==="else-if"||t.name==="else")&&a.branches[a.branches.length-1].condition===void 0&&r.onError(Zn(30,n.loc)),r.removeNode();const l=NC(n,t);a.branches.push(l);const u=i&&i(a,l,!1);Nf(l,r),u&&u(),r.currentNode=null}else r.onError(Zn(30,n.loc));break}}}function NC(n,t){const r=n.tagType===3;return{type:10,loc:n.loc,condition:t.name==="else"?void 0:t.exp,children:r&&!Ni(n,"for")?n.children:[n],userKey:Df(n,"key"),isTemplateIf:r}}function kC(n,t,r){return n.condition?sm(n.condition,FC(n,t,r),kr(r.helper(Ic),['""',"true"])):FC(n,t,r)}function FC(n,t,r){const{helper:i}=r,s=Ar("key",Kt(`${t}`,!1,zr,2)),{children:o}=n,a=o[0];if(o.length!==1||a.type!==1)if(o.length===1&&a.type===11){const u=a.codegenNode;return uf(u,s,r),u}else return fc(r,i(cc),cs([s]),o,64,void 0,void 0,!0,!1,!1,n.loc);else{const u=a.codegenNode,h=G3(u);return h.type===13&&Mg(h,r),uf(h,s,r),u}}function Ote(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}const Pte=vx("for",(n,t,r)=>{const{helper:i,removeHelper:s}=r;return lF(n,t,r,o=>{const a=kr(i(Tg),[o.source]),l=pc(n),u=Ni(n,"memo"),h=Df(n,"key",!1,!0);h&&h.type;let c=h&&(h.type===6?h.value?Kt(h.value.content,!0):void 0:h.exp);const f=h&&c?Ar("key",c):null,p=o.source.type===4&&o.source.constType>0,d=p?64:h?128:256;return o.codegenNode=fc(r,i(cc),void 0,a,d,void 0,void 0,!0,!p,!1,n.loc),()=>{let g;const{children:m}=o,v=m.length!==1||m[0].type!==1,w=lf(n)?n:l&&n.children.length===1&&lf(n.children[0])?n.children[0]:null;if(w?(g=w.codegenNode,l&&f&&uf(g,f,r)):v?g=fc(r,i(cc),f?cs([f]):void 0,n.children,64,void 0,void 0,!0,void 0,!1):(g=m[0].codegenNode,l&&f&&uf(g,f,r),g.isBlock!==!p&&(g.isBlock?(s(Ra),s(tu(r.inSSR,g.isComponent))):s(eu(r.inSSR,g.isComponent))),g.isBlock=!p,g.isBlock?(i(Ra),i(tu(r.inSSR,g.isComponent))):i(eu(r.inSSR,g.isComponent))),u){const y=Ql(am(o.parseResult,[Kt("_cached")]));y.body=k3([Cs(["const _memo = (",u.exp,")"]),Cs(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${r.helperString(ux)}(_cached, _memo)) return _cached`]),Cs(["const _item = ",g]),Kt("_item.memo = _memo"),Kt("return _item")]),a.arguments.push(y,Kt("_cache"),Kt(String(r.cached.length))),r.cached.push(null)}else a.arguments.push(Ql(am(o.parseResult),g,!0))}})});function lF(n,t,r,i){if(!t.exp){r.onError(Zn(31,t.loc));return}const s=t.forParseResult;if(!s){r.onError(Zn(32,t.loc));return}bx(s);const{addIdentifiers:o,removeIdentifiers:a,scopes:l}=r,{source:u,value:h,key:c,index:f}=s,p={type:11,loc:t.loc,source:u,valueAlias:h,keyAlias:c,objectIndexAlias:f,parseResult:s,children:pc(n)?n.children:[n]};r.replaceNode(p),l.vFor++;const d=i&&i(p);return()=>{l.vFor--,d&&d()}}function bx(n,t){n.finalized||(n.finalized=!0)}function am({value:n,key:t,index:r},i=[]){return Lte([n,t,r,...i])}function Lte(n){let t=n.length;for(;t--&&!n[t];);return n.slice(0,t+1).map((r,i)=>r||Kt("_".repeat(i+1),!1))}const MC=Kt("undefined",!1),uF=(n,t)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){const r=Ni(n,"slot");if(r)return r.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Rte=(n,t)=>{let r;if(pc(n)&&n.props.some(px)&&(r=Ni(n,"for"))){const i=r.forParseResult;if(i){bx(i);const{value:s,key:o,index:a}=i,{addIdentifiers:l,removeIdentifiers:u}=t;return s&&l(s),o&&l(o),a&&l(a),()=>{s&&u(s),o&&u(o),a&&u(a)}}}},Bte=(n,t,r,i)=>Ql(n,r,!1,!0,r.length?r[0].loc:i);function cF(n,t,r=Bte){t.helper(kg);const{children:i,loc:s}=n,o=[],a=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const u=Ni(n,"slot",!0);if(u){const{arg:v,exp:w}=u;v&&!Oi(v)&&(l=!0),o.push(Ar(v||Kt("default",!0),r(w,void 0,i,s)))}let h=!1,c=!1;const f=[],p=new Set;let d=0;for(let v=0;v<i.length;v++){const w=i[v];let y;if(!pc(w)||!(y=Ni(w,"slot",!0))){w.type!==3&&f.push(w);continue}if(u){t.onError(Zn(37,y.loc));break}h=!0;const{children:_,loc:x}=w,{arg:C=Kt("default",!0),exp:E,loc:S}=y;let D;Oi(C)?D=C?C.content:"default":l=!0;const A=Ni(w,"for"),N=r(E,A,_,x);let F,T;if(F=Ni(w,"if"))l=!0,a.push(sm(F.exp,Fd(C,N,d++),MC));else if(T=Ni(w,/^else(?:-if)?$/,!0)){let I=v,M;for(;I--&&(M=i[I],!(M.type!==3&&o1(M))););if(M&&pc(M)&&Ni(M,/^(?:else-)?if$/)){let L=a[a.length-1];for(;L.alternate.type===19;)L=L.alternate;L.alternate=T.exp?sm(T.exp,Fd(C,N,d++),MC):Fd(C,N,d++)}else t.onError(Zn(30,T.loc))}else if(A){l=!0;const I=A.forParseResult;I?(bx(I),a.push(kr(t.helper(Tg),[I.source,Ql(am(I),Fd(C,N),!0)]))):t.onError(Zn(32,A.loc))}else{if(D){if(p.has(D)){t.onError(Zn(38,S));continue}p.add(D),D==="default"&&(c=!0)}o.push(Ar(C,N))}}if(!u){const v=(w,y)=>{const _=r(w,void 0,y,s);return t.compatConfig&&(_.isNonScopedSlot=!0),Ar("default",_)};h?f.length&&f.some(w=>o1(w))&&(c?t.onError(Zn(39,f[0].loc)):o.push(v(void 0,f))):o.push(v(void 0,i))}const g=l?2:lp(n.children)?3:1;let m=cs(o.concat(Ar("_",Kt(g+"",!1))),s);return a.length&&(m=kr(t.helper(lx),[m,Na(a)])),{slots:m,hasDynamicSlots:l}}function Fd(n,t,r){const i=[Ar("name",n),Ar("fn",t)];return r!=null&&i.push(Ar("key",Kt(String(r),!0))),cs(i)}function lp(n){for(let t=0;t<n.length;t++){const r=n[t];switch(r.type){case 1:if(r.tagType===2||lp(r.children))return!0;break;case 9:if(lp(r.branches))return!0;break;case 10:case 11:if(lp(r.children))return!0;break}}return!1}function o1(n){return n.type!==2&&n.type!==12?!0:n.type===2?!!n.content.trim():o1(n.content)}const hF=new WeakMap,fF=(n,t)=>function(){if(n=t.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;const{tag:i,props:s}=n,o=n.tagType===1;let a=o?dF(n,t):`"${i}"`;const l=Sn(a)&&a.callee===Eg;let u,h,c=0,f,p,d,g=l||a===Ku||a===yg||!o&&(i==="svg"||i==="foreignObject"||i==="math");if(s.length>0){const m=xx(n,t,void 0,o,l);u=m.props,c=m.patchFlag,p=m.dynamicPropNames;const v=m.directives;d=v&&v.length?Na(v.map(w=>pF(w,t))):void 0,m.shouldUseBlock&&(g=!0)}if(n.children.length>0)if(a===sf&&(g=!0,c|=1024),o&&a!==Ku&&a!==sf){const{slots:v,hasDynamicSlots:w}=cF(n,t);h=v,w&&(c|=1024)}else if(n.children.length===1&&a!==Ku){const v=n.children[0],w=v.type,y=w===5||w===8;y&&Yi(v,t)===0&&(c|=1),y||w===2?h=v:h=n.children}else h=n.children;p&&p.length&&(f=Vte(p)),n.codegenNode=fc(t,a,u,h,c===0?void 0:c,f,d,!!g,!1,o,n.loc)};function dF(n,t,r=!1){let{tag:i}=n;const s=a1(i),o=Df(n,"is",!1,!0);if(o)if(s||Fl("COMPILER_IS_ON_ELEMENT",t)){let l;if(o.type===6?l=o.value&&Kt(o.value.content,!0):(l=o.exp,l||(l=Kt("is",!1,o.arg.loc))),l)return kr(t.helper(Eg),[l])}else o.type===6&&o.value.content.startsWith("vue:")&&(i=o.value.content.slice(4));const a=hx(i)||t.isBuiltInComponent(i);return a?(r||t.helper(a),a):(t.helper(wg),t.components.add(i),mc(i,"component"))}function xx(n,t,r=n.props,i,s,o=!1){const{tag:a,loc:l,children:u}=n;let h=[];const c=[],f=[],p=u.length>0;let d=!1,g=0,m=!1,v=!1,w=!1,y=!1,_=!1,x=!1;const C=[],E=N=>{h.length&&(c.push(cs(OC(h),l)),h=[]),N&&c.push(N)},S=()=>{t.scopes.vFor>0&&h.push(Ar(Kt("ref_for",!0),Kt("true")))},D=({key:N,value:F})=>{if(Oi(N)){const T=N.content,I=Ba(T);if(I&&(!i||s)&&T.toLowerCase()!=="onclick"&&T!=="onUpdate:modelValue"&&!Vo(T)&&(y=!0),I&&Vo(T)&&(x=!0),I&&F.type===14&&(F=F.arguments[0]),F.type===20||(F.type===4||F.type===8)&&Yi(F,t)>0)return;T==="ref"?m=!0:T==="class"?v=!0:T==="style"?w=!0:T!=="key"&&!C.includes(T)&&C.push(T),i&&(T==="class"||T==="style")&&!C.includes(T)&&C.push(T)}else _=!0};for(let N=0;N<r.length;N++){const F=r[N];if(F.type===6){const{loc:T,name:I,nameLoc:M,value:L}=F;let B=!0;if(I==="ref"&&(m=!0,S()),I==="is"&&(a1(a)||L&&L.content.startsWith("vue:")||Fl("COMPILER_IS_ON_ELEMENT",t)))continue;h.push(Ar(Kt(I,!0,M),Kt(L?L.content:"",B,L?L.loc:T)))}else{const{name:T,arg:I,exp:M,loc:L,modifiers:B}=F,$=T==="bind",q=T==="on";if(T==="slot"){i||t.onError(Zn(40,L));continue}if(T==="once"||T==="memo"||T==="is"||$&&Ca(I,"is")&&(a1(a)||Fl("COMPILER_IS_ON_ELEMENT",t))||q&&o)continue;if(($&&Ca(I,"key")||q&&p&&Ca(I,"vue:before-update"))&&(d=!0),$&&Ca(I,"ref")&&S(),!I&&($||q)){if(_=!0,M)if($){if(E(),Fl("COMPILER_V_BIND_OBJECT_ORDER",t)){c.unshift(M);continue}S(),E(),c.push(M)}else E({type:14,loc:L,callee:t.helper(Ng),arguments:i?[M]:[M,"true"]});else t.onError(Zn($?34:35,L));continue}$&&B.some(he=>he.content==="prop")&&(g|=32);const Z=t.directiveTransforms[T];if(Z){const{props:he,needRuntime:V}=Z(F,n,t);!o&&he.forEach(D),q&&I&&!Oi(I)?E(cs(he,l)):h.push(...he),V&&(f.push(F),Pi(V)&&hF.set(F,V))}else pA(T)||(f.push(F),p&&(d=!0))}}let A;if(c.length?(E(),c.length>1?A=kr(t.helper(of),c,l):A=c[0]):h.length&&(A=cs(OC(h),l)),_?g|=16:(v&&!i&&(g|=2),w&&!i&&(g|=4),C.length&&(g|=8),y&&(g|=32)),!d&&(g===0||g===32)&&(m||x||f.length>0)&&(g|=512),!t.inSSR&&A)switch(A.type){case 15:let N=-1,F=-1,T=!1;for(let L=0;L<A.properties.length;L++){const B=A.properties[L].key;Oi(B)?B.content==="class"?N=L:B.content==="style"&&(F=L):B.isHandlerKey||(T=!0)}const I=A.properties[N],M=A.properties[F];T?A=kr(t.helper(hc),[A]):(I&&!Oi(I.value)&&(I.value=kr(t.helper(Ig),[I.value])),M&&(w||M.value.type===4&&M.value.content.trim()[0]==="["||M.value.type===17)&&(M.value=kr(t.helper(Dg),[M.value])));break;case 14:break;default:A=kr(t.helper(hc),[kr(t.helper(Dc),[A])]);break}return{props:A,directives:f,patchFlag:g,dynamicPropNames:C,shouldUseBlock:d}}function OC(n){const t=new Map,r=[];for(let i=0;i<n.length;i++){const s=n[i];if(s.key.type===8||!s.key.isStatic){r.push(s);continue}const o=s.key.content,a=t.get(o);a?(o==="style"||o==="class"||Ba(o))&&Ute(a,s):(t.set(o,s),r.push(s))}return r}function Ute(n,t){n.value.type===17?n.value.elements.push(t.value):n.value=Na([n.value,t.value],n.loc)}function pF(n,t){const r=[],i=hF.get(n);i?r.push(t.helperString(i)):(t.helper(Sg),t.directives.add(n.name),r.push(mc(n.name,"directive")));const{loc:s}=n;if(n.exp&&r.push(n.exp),n.arg&&(n.exp||r.push("void 0"),r.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||r.push("void 0"),r.push("void 0"));const o=Kt("true",!1,s);r.push(cs(n.modifiers.map(a=>Ar(a,o)),s))}return Na(r,n.loc)}function Vte(n){let t="[";for(let r=0,i=n.length;r<i;r++)t+=JSON.stringify(n[r]),r<i-1&&(t+=", ");return t+"]"}function a1(n){return n==="component"||n==="Component"}const $te=(n,t)=>{if(lf(n)){const{children:r,loc:i}=n,{slotName:s,slotProps:o}=mF(n,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let l=2;o&&(a[2]=o,l=3),r.length&&(a[3]=Ql([],r,!1,!1,i),l=4),t.scopeId&&!t.slotted&&(l=5),a.splice(l),n.codegenNode=kr(t.helper(ax),a,i)}};function mF(n,t){let r='"default"',i;const s=[];for(let o=0;o<n.props.length;o++){const a=n.props[o];if(a.type===6)a.value&&(a.name==="name"?r=JSON.stringify(a.value.content):(a.name=Kn(a.name),s.push(a)));else if(a.name==="bind"&&Ca(a.arg,"name")){if(a.exp)r=a.exp;else if(a.arg&&a.arg.type===4){const l=Kn(a.arg.content);r=a.exp=Kt(l,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&Oi(a.arg)&&(a.arg.content=Kn(a.arg.content)),s.push(a)}if(s.length>0){const{props:o,directives:a}=xx(n,t,s,!1,!1);i=o,a.length&&t.onError(Zn(36,a[0].loc))}return{slotName:r,slotProps:i}}const _x=(n,t,r,i)=>{const{loc:s,modifiers:o,arg:a}=n;!n.exp&&!o.length&&r.onError(Zn(35,s));let l;if(a.type===4)if(a.isStatic){let f=a.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const p=t.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?wl(Kn(f)):`on:${f}`;l=Kt(p,!0,a.loc)}else l=Cs([`${r.helperString(im)}(`,a,")"]);else l=a,l.children.unshift(`${r.helperString(im)}(`),l.children.push(")");let u=n.exp;u&&!u.content.trim()&&(u=void 0);let h=r.cacheHandlers&&!u&&!r.inVOnce;if(u){const f=dx(u),p=!(f||V3(u)),d=u.content.includes(";");(p||h&&f)&&(u=Cs([`${p?"$event":"(...args)"} => ${d?"{":"("}`,u,d?"}":")"]))}let c={props:[Ar(l,u||Kt("() => {}",!1,s))]};return i&&(c=i(c)),h&&(c.props[0].value=r.cache(c.props[0].value)),c.props.forEach(f=>f.key.isHandlerKey=!0),c},gF=(n,t,r)=>{const{modifiers:i,loc:s}=n,o=n.arg;let{exp:a}=n;return a&&a.type===4&&!a.content.trim()&&(a=void 0),o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=o.content?`${o.content} || ""`:'""'),i.some(l=>l.content==="camel")&&(o.type===4?o.isStatic?o.content=Kn(o.content):o.content=`${r.helperString(rm)}(${o.content})`:(o.children.unshift(`${r.helperString(rm)}(`),o.children.push(")"))),r.inSSR||(i.some(l=>l.content==="prop")&&PC(o,"."),i.some(l=>l.content==="attr")&&PC(o,"^")),{props:[Ar(o,a)]}},PC=(n,t)=>{n.type===4?n.isStatic?n.content=t+n.content:n.content=`\`${t}\${${n.content}}\``:(n.children.unshift(`'${t}' + (`),n.children.push(")"))},jte=(n,t)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{const r=n.children;let i,s=!1;for(let o=0;o<r.length;o++){const a=r[o];if(rp(a)){s=!0;for(let l=o+1;l<r.length;l++){const u=r[l];if(rp(u))i||(i=r[o]=Cs([a],a.loc)),i.children.push(" + ",u),r.splice(l,1),l--;else{i=void 0;break}}}}if(!(!s||r.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(o=>o.type===7&&!t.directiveTransforms[o.name])&&n.tag!=="template")))for(let o=0;o<r.length;o++){const a=r[o];if(rp(a)||a.type===8){const l=[];(a.type!==2||a.content!==" ")&&l.push(a),!t.ssr&&Yi(a,t)===0&&l.push("1"),r[o]={type:12,content:a,loc:a.loc,codegenNode:kr(t.helper(_g),l)}}}}},LC=new WeakSet,zte=(n,t)=>{if(n.type===1&&Ni(n,"once",!0))return LC.has(n)||t.inVOnce||t.inSSR?void 0:(LC.add(n),t.inVOnce=!0,t.helper(af),()=>{t.inVOnce=!1;const r=t.currentNode;r.codegenNode&&(r.codegenNode=t.cache(r.codegenNode,!0,!0))})},wx=(n,t,r)=>{const{exp:i,arg:s}=n;if(!i)return r.onError(Zn(41,n.loc)),Md();const o=i.loc.source.trim(),a=i.type===4?i.content:o,l=r.bindingMetadata[o];if(l==="props"||l==="props-aliased")return r.onError(Zn(44,i.loc)),Md();if(!a.trim()||!dx(i))return r.onError(Zn(42,i.loc)),Md();const u=s||Kt("modelValue",!0),h=s?Oi(s)?`onUpdate:${Kn(s.content)}`:Cs(['"onUpdate:" + ',s]):"onUpdate:modelValue";let c;const f=r.isTS?"($event: any)":"$event";c=Cs([`${f} => ((`,i,") = $event)"]);const p=[Ar(u,n.exp),Ar(h,c)];if(n.modifiers.length&&t.tagType===1){const d=n.modifiers.map(m=>m.content).map(m=>(If(m)?m:JSON.stringify(m))+": true").join(", "),g=s?Oi(s)?`${s.content}Modifiers`:Cs([s,' + "Modifiers"']):"modelModifiers";p.push(Ar(g,Kt(`{ ${d} }`,!1,n.loc,2)))}return Md(p)};function Md(n=[]){return{props:n}}const Gte=/[\w).+\-_$\]]/,Hte=(n,t)=>{Fl("COMPILER_FILTERS",t)&&(n.type===5?lm(n.content,t):n.type===1&&n.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&lm(r.exp,t)}))};function lm(n,t){if(n.type===4)RC(n,t);else for(let r=0;r<n.children.length;r++){const i=n.children[r];typeof i=="object"&&(i.type===4?RC(i,t):i.type===8?lm(n,t):i.type===5&&lm(i.content,t))}}function RC(n,t){const r=n.content;let i=!1,s=!1,o=!1,a=!1,l=0,u=0,h=0,c=0,f,p,d,g,m=[];for(d=0;d<r.length;d++)if(p=f,f=r.charCodeAt(d),i)f===39&&p!==92&&(i=!1);else if(s)f===34&&p!==92&&(s=!1);else if(o)f===96&&p!==92&&(o=!1);else if(a)f===47&&p!==92&&(a=!1);else if(f===124&&r.charCodeAt(d+1)!==124&&r.charCodeAt(d-1)!==124&&!l&&!u&&!h)g===void 0?(c=d+1,g=r.slice(0,d).trim()):v();else{switch(f){case 34:s=!0;break;case 39:i=!0;break;case 96:o=!0;break;case 40:h++;break;case 41:h--;break;case 91:u++;break;case 93:u--;break;case 123:l++;break;case 125:l--;break}if(f===47){let w=d-1,y;for(;w>=0&&(y=r.charAt(w),y===" ");w--);(!y||!Gte.test(y))&&(a=!0)}}g===void 0?g=r.slice(0,d).trim():c!==0&&v();function v(){m.push(r.slice(c,d).trim()),c=d+1}if(m.length){for(d=0;d<m.length;d++)g=Wte(g,m[d],t);n.content=g,n.ast=void 0}}function Wte(n,t,r){r.helper(Cg);const i=t.indexOf("(");if(i<0)return r.filters.add(t),`${mc(t,"filter")}(${n})`;{const s=t.slice(0,i),o=t.slice(i+1);return r.filters.add(s),`${mc(s,"filter")}(${n}${o!==")"?","+o:o}`}}const BC=new WeakSet,qte=(n,t)=>{if(n.type===1){const r=Ni(n,"memo");return!r||BC.has(n)||t.inSSR?void 0:(BC.add(n),()=>{const i=n.codegenNode||t.currentNode.codegenNode;i&&i.type===13&&(n.tagType!==1&&Mg(i,t),n.codegenNode=kr(t.helper(Fg),[r.exp,Ql(void 0,i),"_cache",String(t.cached.length)]),t.cached.push(null))})}},vF=(n,t)=>{if(n.type===1){for(const r of n.props)if(r.type===7&&r.name==="bind"&&!r.exp){const i=r.arg;if(i.type!==4||!i.isStatic)t.onError(Zn(52,i.loc)),r.exp=Kt("",!0,i.loc);else{const s=Kn(i.content);(fx.test(s[0])||s[0]==="-")&&(r.exp=Kt(s,!1,i.loc))}}}};function yF(n){return[[vF,zte,Mte,qte,Pte,Hte,$te,fF,uF,jte],{on:_x,bind:gF,model:wx}]}function bF(n,t={}){const r=t.onError||cx,i=t.mode==="module";t.prefixIdentifiers===!0?r(Zn(47)):i&&r(Zn(48));const s=!1;t.cacheHandlers&&r(Zn(49)),t.scopeId&&!i&&r(Zn(50));const o=ln({},t,{prefixIdentifiers:s}),a=$t(n)?gx(n,o):n,[l,u]=yF();return tF(a,ln({},o,{nodeTransforms:[...l,...t.nodeTransforms||[]],directiveTransforms:ln({},u,t.directiveTransforms||{})})),rF(a,o)}const Xte={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},xF=()=>({props:[]});/**
* @vue/compiler-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ex=Symbol(""),Sx=Symbol(""),Cx=Symbol(""),Ax=Symbol(""),um=Symbol(""),Tx=Symbol(""),Ix=Symbol(""),Dx=Symbol(""),Nx=Symbol(""),kx=Symbol("");I3({[Ex]:"vModelRadio",[Sx]:"vModelCheckbox",[Cx]:"vModelText",[Ax]:"vModelSelect",[um]:"vModelDynamic",[Tx]:"withModifiers",[Ix]:"withKeys",[Dx]:"vShow",[Nx]:"Transition",[kx]:"TransitionGroup"});let Cu;function Yte(n,t=!1){return Cu||(Cu=document.createElement("div")),t?(Cu.innerHTML=`<div foo="${n.replace(/"/g,"&quot;")}">`,Cu.children[0].getAttribute("foo")):(Cu.innerHTML=n,Cu.textContent)}const Fx={parseMode:"html",isVoidTag:xA,isNativeTag:n=>vA(n)||yA(n)||bA(n),isPreTag:n=>n==="pre",isIgnoreNewlineTag:n=>n==="pre"||n==="textarea",decodeEntities:Yte,isBuiltInComponent:n=>{if(n==="Transition"||n==="transition")return Nx;if(n==="TransitionGroup"||n==="transition-group")return kx},getNamespace(n,t,r){let i=t?t.ns:r;if(t&&i===2)if(t.tag==="annotation-xml"){if(n==="svg")return 1;t.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&n!=="mglyph"&&n!=="malignmark"&&(i=0);else t&&i===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(i=0);if(i===0){if(n==="svg")return 1;if(n==="math")return 2}return i}},_F=n=>{n.type===1&&n.props.forEach((t,r)=>{t.type===6&&t.name==="style"&&t.value&&(n.props[r]={type:7,name:"bind",arg:Kt("style",!0,t.loc),exp:Kte(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Kte=(n,t)=>{const r=y1(n);return Kt(JSON.stringify(r),!1,t,3)};function zo(n,t){return Zn(n,t)}const Zte={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},Jte={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},Qte=(n,t,r)=>{const{exp:i,loc:s}=n;return i||r.onError(zo(53,s)),t.children.length&&(r.onError(zo(54,s)),t.children.length=0),{props:[Ar(Kt("innerHTML",!0,s),i||Kt("",!0))]}},ene=(n,t,r)=>{const{exp:i,loc:s}=n;return i||r.onError(zo(55,s)),t.children.length&&(r.onError(zo(56,s)),t.children.length=0),{props:[Ar(Kt("textContent",!0),i?Yi(i,r)>0?i:kr(r.helperString(Tf),[i],s):Kt("",!0))]}},tne=(n,t,r)=>{const i=wx(n,t,r);if(!i.props.length||t.tagType===1)return i;n.arg&&r.onError(zo(58,n.arg.loc));const{tag:s}=t,o=r.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||o){let a=Cx,l=!1;if(s==="input"||o){const u=Df(t,"type");if(u){if(u.type===7)a=um;else if(u.value)switch(u.value.content){case"radio":a=Ex;break;case"checkbox":a=Sx;break;case"file":l=!0,r.onError(zo(59,n.loc));break}}else j3(t)&&(a=um)}else s==="select"&&(a=Ax);l||(i.needRuntime=r.helper(a))}else r.onError(zo(57,n.loc));return i.props=i.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),i},nne=Kr("passive,once,capture"),rne=Kr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),ine=Kr("left,right"),wF=Kr("onkeyup,onkeydown,onkeypress"),sne=(n,t,r,i)=>{const s=[],o=[],a=[];for(let l=0;l<t.length;l++){const u=t[l].content;u==="native"&&dc("COMPILER_V_ON_NATIVE",r)||nne(u)?a.push(u):ine(u)?Oi(n)?wF(n.content.toLowerCase())?s.push(u):o.push(u):(s.push(u),o.push(u)):rne(u)?o.push(u):s.push(u)}return{keyModifiers:s,nonKeyModifiers:o,eventOptionModifiers:a}},UC=(n,t)=>Oi(n)&&n.content.toLowerCase()==="onclick"?Kt(t,!0):n.type!==4?Cs(["(",n,`) === "onClick" ? "${t}" : (`,n,")"]):n,one=(n,t,r)=>_x(n,t,r,i=>{const{modifiers:s}=n;if(!s.length)return i;let{key:o,value:a}=i.props[0];const{keyModifiers:l,nonKeyModifiers:u,eventOptionModifiers:h}=sne(o,s,r,n.loc);if(u.includes("right")&&(o=UC(o,"onContextmenu")),u.includes("middle")&&(o=UC(o,"onMouseup")),u.length&&(a=kr(r.helper(Tx),[a,JSON.stringify(u)])),l.length&&(!Oi(o)||wF(o.content.toLowerCase()))&&(a=kr(r.helper(Ix),[a,JSON.stringify(l)])),h.length){const c=h.map(Va).join("");o=Oi(o)?Kt(`${o.content}${c}`,!0):Cs(["(",o,`) + "${c}"`])}return{props:[Ar(o,a)]}}),ane=(n,t,r)=>{const{exp:i,loc:s}=n;return i||r.onError(zo(61,s)),{props:[],needRuntime:r.helper(Dx)}},lne=(n,t)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&t.removeNode()},EF=[_F],SF={cloak:xF,html:Qte,text:ene,model:tne,on:one,show:ane};function une(n,t={}){return bF(n,ln({},Fx,t,{nodeTransforms:[lne,...EF,...t.nodeTransforms||[]],directiveTransforms:ln({},SF,t.directiveTransforms||{}),transformHoist:null}))}function cne(n,t={}){return gx(n,ln({},Fx,t))}const hne=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:rx,BindingTypes:Xte,CAMELIZE:rm,CAPITALIZE:E3,CREATE_BLOCK:ix,CREATE_COMMENT:Ic,CREATE_ELEMENT_BLOCK:sx,CREATE_ELEMENT_VNODE:xg,CREATE_SLOTS:lx,CREATE_STATIC:ox,CREATE_TEXT:_g,CREATE_VNODE:bg,CompilerDeprecationTypes:kee,ConstantTypes:Eee,DOMDirectiveTransforms:SF,DOMErrorCodes:Zte,DOMErrorMessages:Jte,DOMNodeTransforms:EF,ElementTypes:wee,ErrorCodes:Oee,FRAGMENT:cc,GUARD_REACTIVE_PROPS:Dc,IS_MEMO_SAME:ux,IS_REF:T3,KEEP_ALIVE:sf,MERGE_PROPS:of,NORMALIZE_CLASS:Ig,NORMALIZE_PROPS:hc,NORMALIZE_STYLE:Dg,Namespaces:xee,NodeTypes:_ee,OPEN_BLOCK:Ra,POP_SCOPE_ID:C3,PUSH_SCOPE_ID:S3,RENDER_LIST:Tg,RENDER_SLOT:ax,RESOLVE_COMPONENT:wg,RESOLVE_DIRECTIVE:Sg,RESOLVE_DYNAMIC_COMPONENT:Eg,RESOLVE_FILTER:Cg,SET_BLOCK_TRACKING:af,SUSPENSE:yg,TELEPORT:Ku,TO_DISPLAY_STRING:Tf,TO_HANDLERS:Ng,TO_HANDLER_KEY:im,TRANSITION:Nx,TRANSITION_GROUP:kx,TS_NODE_TYPES:P3,UNREF:A3,V_MODEL_CHECKBOX:Sx,V_MODEL_DYNAMIC:um,V_MODEL_RADIO:Ex,V_MODEL_SELECT:Ax,V_MODEL_TEXT:Cx,V_ON_WITH_KEYS:Ix,V_ON_WITH_MODIFIERS:Tx,V_SHOW:Dx,WITH_CTX:kg,WITH_DIRECTIVES:Ag,WITH_MEMO:Fg,advancePositionWithClone:Jee,advancePositionWithMutation:$3,assert:Qee,baseCompile:bF,baseParse:gx,buildDirectiveArgs:pF,buildProps:xx,buildSlots:cF,checkCompatEnabled:dc,compile:une,convertToBlock:Mg,createArrayExpression:Na,createAssignmentExpression:Tee,createBlockStatement:k3,createCacheExpression:N3,createCallExpression:kr,createCompilerError:Zn,createCompoundExpression:Cs,createConditionalExpression:sm,createDOMCompilerError:zo,createForLoopParams:am,createFunctionExpression:Ql,createIfStatement:Aee,createInterpolation:See,createObjectExpression:cs,createObjectProperty:Ar,createReturnStatement:Dee,createRoot:D3,createSequenceExpression:Iee,createSimpleExpression:Kt,createStructuralDirectiveTransform:vx,createTemplateLiteral:Cee,createTransformContext:eF,createVNodeCall:fc,errorMessages:Pee,extractIdentifiers:co,findDir:Ni,findProp:Df,forAliasRE:H3,generate:rF,generateCodeFrame:mA,getBaseTransformPreset:yF,getConstantType:Yi,getMemoedVNodeCall:G3,getVNodeBlockHelper:tu,getVNodeHelper:eu,hasDynamicKeyVBind:j3,hasScopeRef:Us,helperNameMap:Jl,injectProp:uf,isCoreComponent:hx,isFnExpression:V3,isFnExpressionBrowser:U3,isFnExpressionNode:Zee,isFunctionType:Gee,isInDestructureAssignment:Bee,isInNewExpression:Uee,isMemberExpression:dx,isMemberExpressionBrowser:B3,isMemberExpressionNode:Yee,isReferencedIdentifier:Ree,isSimpleIdentifier:If,isSlotOutlet:lf,isStaticArgOf:Ca,isStaticExp:Oi,isStaticProperty:O3,isStaticPropertyKey:Hee,isTemplateNode:pc,isText:rp,isVPre:r1,isVSlot:px,locStub:zr,noopDirectiveTransform:xF,parse:cne,parserOptions:Fx,processExpression:ap,processFor:lF,processIf:aF,processSlotOutlet:mF,registerRuntimeHelpers:I3,resolveComponentType:dF,stringifyExpression:oF,toValidAssetId:mc,trackSlotScopes:uF,trackVForSlotScopes:Rte,transform:tF,transformBind:gF,transformElement:fF,transformExpression:Fte,transformModel:wx,transformOn:_x,transformStyle:_F,transformVBindShorthand:vF,traverseNode:Nf,unwrapTSNode:L3,validFirstIdentCharRE:fx,walkBlockDeclarations:M3,walkFunctionParams:Vee,walkIdentifiers:Lee,warnDeprecation:Mee},Symbol.toStringTag,{value:"Module"})),fne=mm(hne),dne=mm(L4),pne=mm(SP);/**
* vue v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var VC;function mne(){return VC||(VC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});var t=fne,r=dne,i=pne;function s(u){var h=Object.create(null);if(u)for(var c in u)h[c]=u[c];return h.default=u,Object.freeze(h)}var o=s(r);const a=Object.create(null);function l(u,h){if(!i.isString(u))if(u.nodeType)u=u.innerHTML;else return i.NOOP;const c=i.genCacheKey(u,h),f=a[c];if(f)return f;if(u[0]==="#"){const m=document.querySelector(u);u=m?m.innerHTML:""}const p=i.extend({hoistStatic:!0,onError:void 0,onWarn:i.NOOP},h);!p.isCustomElement&&typeof customElements<"u"&&(p.isCustomElement=m=>!!customElements.get(m));const{code:d}=t.compile(u,p),g=new Function("Vue",d)(o);return g._rc=!0,a[c]=g}r.registerRuntimeCompiler(l),n.compile=l,Object.keys(r).forEach(function(u){u!=="default"&&!Object.prototype.hasOwnProperty.call(n,u)&&(n[u]=r[u])})})(Av)),Av}var $C;function gne(){return $C||($C=1,Cv.exports=mne()),Cv.exports}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function jC(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function mo(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(i){vne(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function up(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?up=function(t){return typeof t}:up=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(n)}function vne(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Ns(){return Ns=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Ns.apply(this,arguments)}function yne(n,t){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(t.indexOf(s)>=0)&&(r[s]=n[s]);return r}function bne(n,t){if(n==null)return{};var r=yne(n,t),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function xne(n){return _ne(n)||wne(n)||Ene(n)||Sne()}function _ne(n){if(Array.isArray(n))return l1(n)}function wne(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ene(n,t){if(n){if(typeof n=="string")return l1(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(n,t)}}function l1(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=n[r];return i}function Sne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Cne="1.14.0";function Go(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var ra=Go(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ff=Go(/Edge/i),zC=Go(/firefox/i),_h=Go(/safari/i)&&!Go(/chrome/i)&&!Go(/android/i),CF=Go(/iP(ad|od|hone)/i),Ane=Go(/chrome/i)&&Go(/android/i),AF={capture:!1,passive:!1};function pn(n,t,r){n.addEventListener(t,r,!ra&&AF)}function an(n,t,r){n.removeEventListener(t,r,!ra&&AF)}function cm(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function Tne(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function $s(n,t,r,i){if(n){r=r||document;do{if(t!=null&&(t[0]===">"?n.parentNode===r&&cm(n,t):cm(n,t))||i&&n===r)return n;if(n===r)break}while(n=Tne(n))}return null}var GC=/\s+/g;function cr(n,t,r){if(n&&t)if(n.classList)n.classList[r?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(GC," ").replace(" "+t+" "," ");n.className=(i+(r?" "+t:"")).replace(GC," ")}}function Tt(n,t,r){var i=n&&n.style;if(i){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(r=n.currentStyle),t===void 0?r:r[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=r+(typeof r=="string"?"":"px")}}function Ml(n,t){var r="";if(typeof n=="string")r=n;else do{var i=Tt(n,"transform");i&&i!=="none"&&(r=i+" "+r)}while(!t&&(n=n.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(r)}function TF(n,t,r){if(n){var i=n.getElementsByTagName(t),s=0,o=i.length;if(r)for(;s<o;s++)r(i[s],s);return i}return[]}function ho(){var n=document.scrollingElement;return n||document.documentElement}function rr(n,t,r,i,s){if(!(!n.getBoundingClientRect&&n!==window)){var o,a,l,u,h,c,f;if(n!==window&&n.parentNode&&n!==ho()?(o=n.getBoundingClientRect(),a=o.top,l=o.left,u=o.bottom,h=o.right,c=o.height,f=o.width):(a=0,l=0,u=window.innerHeight,h=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||r)&&n!==window&&(s=s||n.parentNode,!ra))do if(s&&s.getBoundingClientRect&&(Tt(s,"transform")!=="none"||r&&Tt(s,"position")!=="static")){var p=s.getBoundingClientRect();a-=p.top+parseInt(Tt(s,"border-top-width")),l-=p.left+parseInt(Tt(s,"border-left-width")),u=a+o.height,h=l+o.width;break}while(s=s.parentNode);if(i&&n!==window){var d=Ml(s||n),g=d&&d.a,m=d&&d.d;d&&(a/=m,l/=g,f/=g,c/=m,u=a+c,h=l+f)}return{top:a,left:l,bottom:u,right:h,width:f,height:c}}}function HC(n,t,r){for(var i=Aa(n,!0),s=rr(n)[t];i;){var o=rr(i)[r],a=void 0;if(a=s>=o,!a)return i;if(i===ho())break;i=Aa(i,!1)}return!1}function gc(n,t,r,i){for(var s=0,o=0,a=n.children;o<a.length;){if(a[o].style.display!=="none"&&a[o]!==Vt.ghost&&(i||a[o]!==Vt.dragged)&&$s(a[o],r.draggable,n,!1)){if(s===t)return a[o];s++}o++}return null}function Mx(n,t){for(var r=n.lastElementChild;r&&(r===Vt.ghost||Tt(r,"display")==="none"||t&&!cm(r,t));)r=r.previousElementSibling;return r||null}function br(n,t){var r=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Vt.clone&&(!t||cm(n,t))&&r++;return r}function WC(n){var t=0,r=0,i=ho();if(n)do{var s=Ml(n),o=s.a,a=s.d;t+=n.scrollLeft*o,r+=n.scrollTop*a}while(n!==i&&(n=n.parentNode));return[t,r]}function Ine(n,t){for(var r in n)if(n.hasOwnProperty(r)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[r][i])return Number(r)}return-1}function Aa(n,t){if(!n||!n.getBoundingClientRect)return ho();var r=n,i=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var s=Tt(r);if(r.clientWidth<r.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return ho();if(i||t)return r;i=!0}}while(r=r.parentNode);return ho()}function Dne(n,t){if(n&&t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function Iv(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var wh;function IF(n,t){return function(){if(!wh){var r=arguments,i=this;r.length===1?n.call(i,r[0]):n.apply(i,r),wh=setTimeout(function(){wh=void 0},t)}}}function Nne(){clearTimeout(wh),wh=void 0}function DF(n,t,r){n.scrollLeft+=t,n.scrollTop+=r}function Ox(n){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):r?r(n).clone(!0)[0]:n.cloneNode(!0)}function qC(n,t){Tt(n,"position","absolute"),Tt(n,"top",t.top),Tt(n,"left",t.left),Tt(n,"width",t.width),Tt(n,"height",t.height)}function Dv(n){Tt(n,"position",""),Tt(n,"top",""),Tt(n,"left",""),Tt(n,"width",""),Tt(n,"height","")}var gi="Sortable"+new Date().getTime();function kne(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(s){if(!(Tt(s,"display")==="none"||s===Vt.ghost)){n.push({target:s,rect:rr(s)});var o=mo({},n[n.length-1].rect);if(s.thisAnimationDuration){var a=Ml(s,!0);a&&(o.top-=a.f,o.left-=a.e)}s.fromRect=o}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(Ine(n,{target:i}),1)},animateAll:function(i){var s=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var o=!1,a=0;n.forEach(function(l){var u=0,h=l.target,c=h.fromRect,f=rr(h),p=h.prevFromRect,d=h.prevToRect,g=l.rect,m=Ml(h,!0);m&&(f.top-=m.f,f.left-=m.e),h.toRect=f,h.thisAnimationDuration&&Iv(p,f)&&!Iv(c,f)&&(g.top-f.top)/(g.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(u=Mne(g,p,d,s.options)),Iv(f,c)||(h.prevFromRect=c,h.prevToRect=f,u||(u=s.options.animation),s.animate(h,g,f,u)),u&&(o=!0,a=Math.max(a,u),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},u),h.thisAnimationDuration=u)}),clearTimeout(t),o?t=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),n=[]},animate:function(i,s,o,a){if(a){Tt(i,"transition",""),Tt(i,"transform","");var l=Ml(this.el),u=l&&l.a,h=l&&l.d,c=(s.left-o.left)/(u||1),f=(s.top-o.top)/(h||1);i.animatingX=!!c,i.animatingY=!!f,Tt(i,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=Fne(i),Tt(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Tt(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){Tt(i,"transition",""),Tt(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function Fne(n){return n.offsetWidth}function Mne(n,t,r,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*i.animation}var Au=[],Nv={initializeByDefault:!0},Mf={mount:function(t){for(var r in Nv)Nv.hasOwnProperty(r)&&!(r in t)&&(t[r]=Nv[r]);Au.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Au.push(t)},pluginEvent:function(t,r,i){var s=this;this.eventCanceled=!1,i.cancel=function(){s.eventCanceled=!0};var o=t+"Global";Au.forEach(function(a){r[a.pluginName]&&(r[a.pluginName][o]&&r[a.pluginName][o](mo({sortable:r},i)),r.options[a.pluginName]&&r[a.pluginName][t]&&r[a.pluginName][t](mo({sortable:r},i)))})},initializePlugins:function(t,r,i,s){Au.forEach(function(l){var u=l.pluginName;if(!(!t.options[u]&&!l.initializeByDefault)){var h=new l(t,r,t.options);h.sortable=t,h.options=t.options,t[u]=h,Ns(i,h.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var a=this.modifyOption(t,o,t.options[o]);typeof a<"u"&&(t.options[o]=a)}},getEventProperties:function(t,r){var i={};return Au.forEach(function(s){typeof s.eventProperties=="function"&&Ns(i,s.eventProperties.call(r[s.pluginName],t))}),i},modifyOption:function(t,r,i){var s;return Au.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[r]=="function"&&(s=o.optionListeners[r].call(t[o.pluginName],i))}),s}};function th(n){var t=n.sortable,r=n.rootEl,i=n.name,s=n.targetEl,o=n.cloneEl,a=n.toEl,l=n.fromEl,u=n.oldIndex,h=n.newIndex,c=n.oldDraggableIndex,f=n.newDraggableIndex,p=n.originalEvent,d=n.putSortable,g=n.extraEventProperties;if(t=t||r&&r[gi],!!t){var m,v=t.options,w="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!ra&&!Ff?m=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(i,!0,!0)),m.to=a||r,m.from=l||r,m.item=s||r,m.clone=o,m.oldIndex=u,m.newIndex=h,m.oldDraggableIndex=c,m.newDraggableIndex=f,m.originalEvent=p,m.pullMode=d?d.lastPutMode:void 0;var y=mo(mo({},g),Mf.getEventProperties(i,t));for(var _ in y)m[_]=y[_];r&&r.dispatchEvent(m),v[w]&&v[w].call(t,m)}}var One=["evt"],Ui=function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.evt,o=bne(i,One);Mf.pluginEvent.bind(Vt)(t,r,mo({dragEl:ut,parentEl:gr,ghostEl:Jt,rootEl:Qn,nextEl:hl,lastDownEl:cp,cloneEl:vr,cloneHidden:ba,dragStarted:nh,putSortable:Zr,activeSortable:Vt.active,originalEvent:s,oldIndex:Vu,oldDraggableIndex:Eh,newIndex:as,newDraggableIndex:va,hideGhostForTarget:MF,unhideGhostForTarget:OF,cloneNowHidden:function(){ba=!0},cloneNowShown:function(){ba=!1},dispatchSortableEvent:function(l){Si({sortable:r,name:l,originalEvent:s})}},o))};function Si(n){th(mo({putSortable:Zr,cloneEl:vr,targetEl:ut,rootEl:Qn,oldIndex:Vu,oldDraggableIndex:Eh,newIndex:as,newDraggableIndex:va},n))}var ut,gr,Jt,Qn,hl,cp,vr,ba,Vu,as,Eh,va,Od,Zr,Mu=!1,hm=!1,fm=[],rl,Ls,kv,Fv,XC,YC,nh,Tu,Sh,Ch=!1,Pd=!1,hp,oi,Mv=[],u1=!1,dm=[],Pg=typeof document<"u",Ld=CF,KC=Ff||ra?"cssFloat":"float",Pne=Pg&&!Ane&&!CF&&"draggable"in document.createElement("div"),NF=(function(){if(Pg){if(ra)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}})(),kF=function(t,r){var i=Tt(t),s=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=gc(t,0,r),a=gc(t,1,r),l=o&&Tt(o),u=a&&Tt(a),h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+rr(o).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+rr(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return a&&(u.clear==="both"||u.clear===f)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||h>=s&&i[KC]==="none"||a&&i[KC]==="none"&&h+c>s)?"vertical":"horizontal"},Lne=function(t,r,i){var s=i?t.left:t.top,o=i?t.right:t.bottom,a=i?t.width:t.height,l=i?r.left:r.top,u=i?r.right:r.bottom,h=i?r.width:r.height;return s===l||o===u||s+a/2===l+h/2},Rne=function(t,r){var i;return fm.some(function(s){var o=s[gi].options.emptyInsertThreshold;if(!(!o||Mx(s))){var a=rr(s),l=t>=a.left-o&&t<=a.right+o,u=r>=a.top-o&&r<=a.bottom+o;if(l&&u)return i=s}}),i},FF=function(t){function r(o,a){return function(l,u,h,c){var f=l.options.group.name&&u.options.group.name&&l.options.group.name===u.options.group.name;if(o==null&&(a||f))return!0;if(o==null||o===!1)return!1;if(a&&o==="clone")return o;if(typeof o=="function")return r(o(l,u,h,c),a)(l,u,h,c);var p=(a?l:u).options.group.name;return o===!0||typeof o=="string"&&o===p||o.join&&o.indexOf(p)>-1}}var i={},s=t.group;(!s||up(s)!="object")&&(s={name:s}),i.name=s.name,i.checkPull=r(s.pull,!0),i.checkPut=r(s.put),i.revertClone=s.revertClone,t.group=i},MF=function(){!NF&&Jt&&Tt(Jt,"display","none")},OF=function(){!NF&&Jt&&Tt(Jt,"display","")};Pg&&document.addEventListener("click",function(n){if(hm)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),hm=!1,!1},!0);var il=function(t){if(ut){t=t.touches?t.touches[0]:t;var r=Rne(t.clientX,t.clientY);if(r){var i={};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);i.target=i.rootEl=r,i.preventDefault=void 0,i.stopPropagation=void 0,r[gi]._onDragOver(i)}}},Bne=function(t){ut&&ut.parentNode[gi]._isOutsideThisEl(t.target)};function Vt(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=Ns({},t),n[gi]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return kF(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Vt.supportPointer!==!1&&"PointerEvent"in window&&!_h,emptyInsertThreshold:5};Mf.initializePlugins(this,n,r);for(var i in r)!(i in t)&&(t[i]=r[i]);FF(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:Pne,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?pn(n,"pointerdown",this._onTapStart):(pn(n,"mousedown",this._onTapStart),pn(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(pn(n,"dragover",this),pn(n,"dragenter",this)),fm.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ns(this,kne())}Vt.prototype={constructor:Vt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Tu=null)},_getDirection:function(t,r){return typeof this.options.direction=="function"?this.options.direction.call(this,t,r,ut):this.options.direction},_onTapStart:function(t){if(t.cancelable){var r=this,i=this.el,s=this.options,o=s.preventOnFilter,a=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(l||t).target,h=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,c=s.filter;if(Wne(i),!ut&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||s.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&_h&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=$s(u,s.draggable,i,!1),!(u&&u.animated)&&cp!==u)){if(Vu=br(u),Eh=br(u,s.draggable),typeof c=="function"){if(c.call(this,t,u,this)){Si({sortable:r,rootEl:h,name:"filter",targetEl:u,toEl:i,fromEl:i}),Ui("filter",r,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=$s(h,f.trim(),i,!1),f)return Si({sortable:r,rootEl:f,name:"filter",targetEl:u,fromEl:i,toEl:i}),Ui("filter",r,{evt:t}),!0}),c)){o&&t.cancelable&&t.preventDefault();return}s.handle&&!$s(h,s.handle,i,!1)||this._prepareDragStart(t,l,u)}}},_prepareDragStart:function(t,r,i){var s=this,o=s.el,a=s.options,l=o.ownerDocument,u;if(i&&!ut&&i.parentNode===o){var h=rr(i);if(Qn=o,ut=i,gr=ut.parentNode,hl=ut.nextSibling,cp=i,Od=a.group,Vt.dragged=ut,rl={target:ut,clientX:(r||t).clientX,clientY:(r||t).clientY},XC=rl.clientX-h.left,YC=rl.clientY-h.top,this._lastX=(r||t).clientX,this._lastY=(r||t).clientY,ut.style["will-change"]="all",u=function(){if(Ui("delayEnded",s,{evt:t}),Vt.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!zC&&s.nativeDraggable&&(ut.draggable=!0),s._triggerDragStart(t,r),Si({sortable:s,name:"choose",originalEvent:t}),cr(ut,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){TF(ut,c.trim(),Ov)}),pn(l,"dragover",il),pn(l,"mousemove",il),pn(l,"touchmove",il),pn(l,"mouseup",s._onDrop),pn(l,"touchend",s._onDrop),pn(l,"touchcancel",s._onDrop),zC&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ut.draggable=!0),Ui("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(Ff||ra))){if(Vt.eventCanceled){this._onDrop();return}pn(l,"mouseup",s._disableDelayedDrag),pn(l,"touchend",s._disableDelayedDrag),pn(l,"touchcancel",s._disableDelayedDrag),pn(l,"mousemove",s._delayedDragTouchMoveHandler),pn(l,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&pn(l,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(u,a.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ut&&Ov(ut),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;an(t,"mouseup",this._disableDelayedDrag),an(t,"touchend",this._disableDelayedDrag),an(t,"touchcancel",this._disableDelayedDrag),an(t,"mousemove",this._delayedDragTouchMoveHandler),an(t,"touchmove",this._delayedDragTouchMoveHandler),an(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,r){r=r||t.pointerType=="touch"&&t,!this.nativeDraggable||r?this.options.supportPointer?pn(document,"pointermove",this._onTouchMove):r?pn(document,"touchmove",this._onTouchMove):pn(document,"mousemove",this._onTouchMove):(pn(ut,"dragend",this),pn(Qn,"dragstart",this._onDragStart));try{document.selection?fp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,r){if(Mu=!1,Qn&&ut){Ui("dragStarted",this,{evt:r}),this.nativeDraggable&&pn(document,"dragover",Bne);var i=this.options;!t&&cr(ut,i.dragClass,!1),cr(ut,i.ghostClass,!0),Vt.active=this,t&&this._appendGhost(),Si({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Ls){this._lastX=Ls.clientX,this._lastY=Ls.clientY,MF();for(var t=document.elementFromPoint(Ls.clientX,Ls.clientY),r=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ls.clientX,Ls.clientY),t!==r);)r=t;if(ut.parentNode[gi]._isOutsideThisEl(t),r)do{if(r[gi]){var i=void 0;if(i=r[gi]._onDragOver({clientX:Ls.clientX,clientY:Ls.clientY,target:t,rootEl:r}),i&&!this.options.dragoverBubble)break}t=r}while(r=r.parentNode);OF()}},_onTouchMove:function(t){if(rl){var r=this.options,i=r.fallbackTolerance,s=r.fallbackOffset,o=t.touches?t.touches[0]:t,a=Jt&&Ml(Jt,!0),l=Jt&&a&&a.a,u=Jt&&a&&a.d,h=Ld&&oi&&WC(oi),c=(o.clientX-rl.clientX+s.x)/(l||1)+(h?h[0]-Mv[0]:0)/(l||1),f=(o.clientY-rl.clientY+s.y)/(u||1)+(h?h[1]-Mv[1]:0)/(u||1);if(!Vt.active&&!Mu){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(Jt){a?(a.e+=c-(kv||0),a.f+=f-(Fv||0)):a={a:1,b:0,c:0,d:1,e:c,f};var p="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Tt(Jt,"webkitTransform",p),Tt(Jt,"mozTransform",p),Tt(Jt,"msTransform",p),Tt(Jt,"transform",p),kv=c,Fv=f,Ls=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Jt){var t=this.options.fallbackOnBody?document.body:Qn,r=rr(ut,!0,Ld,!0,t),i=this.options;if(Ld){for(oi=t;Tt(oi,"position")==="static"&&Tt(oi,"transform")==="none"&&oi!==document;)oi=oi.parentNode;oi!==document.body&&oi!==document.documentElement?(oi===document&&(oi=ho()),r.top+=oi.scrollTop,r.left+=oi.scrollLeft):oi=ho(),Mv=WC(oi)}Jt=ut.cloneNode(!0),cr(Jt,i.ghostClass,!1),cr(Jt,i.fallbackClass,!0),cr(Jt,i.dragClass,!0),Tt(Jt,"transition",""),Tt(Jt,"transform",""),Tt(Jt,"box-sizing","border-box"),Tt(Jt,"margin",0),Tt(Jt,"top",r.top),Tt(Jt,"left",r.left),Tt(Jt,"width",r.width),Tt(Jt,"height",r.height),Tt(Jt,"opacity","0.8"),Tt(Jt,"position",Ld?"absolute":"fixed"),Tt(Jt,"zIndex","100000"),Tt(Jt,"pointerEvents","none"),Vt.ghost=Jt,t.appendChild(Jt),Tt(Jt,"transform-origin",XC/parseInt(Jt.style.width)*100+"% "+YC/parseInt(Jt.style.height)*100+"%")}},_onDragStart:function(t,r){var i=this,s=t.dataTransfer,o=i.options;if(Ui("dragStart",this,{evt:t}),Vt.eventCanceled){this._onDrop();return}Ui("setupClone",this),Vt.eventCanceled||(vr=Ox(ut),vr.draggable=!1,vr.style["will-change"]="",this._hideClone(),cr(vr,this.options.chosenClass,!1),Vt.clone=vr),i.cloneId=fp(function(){Ui("clone",i),!Vt.eventCanceled&&(i.options.removeCloneOnHide||Qn.insertBefore(vr,ut),i._hideClone(),Si({sortable:i,name:"clone"}))}),!r&&cr(ut,o.dragClass,!0),r?(hm=!0,i._loopId=setInterval(i._emulateDragOver,50)):(an(document,"mouseup",i._onDrop),an(document,"touchend",i._onDrop),an(document,"touchcancel",i._onDrop),s&&(s.effectAllowed="move",o.setData&&o.setData.call(i,s,ut)),pn(document,"drop",i),Tt(ut,"transform","translateZ(0)")),Mu=!0,i._dragStartId=fp(i._dragStarted.bind(i,r,t)),pn(document,"selectstart",i),nh=!0,_h&&Tt(document.body,"user-select","none")},_onDragOver:function(t){var r=this.el,i=t.target,s,o,a,l=this.options,u=l.group,h=Vt.active,c=Od===u,f=l.sort,p=Zr||h,d,g=this,m=!1;if(u1)return;function v(q,Z){Ui(q,g,mo({evt:t,isOwner:c,axis:d?"vertical":"horizontal",revert:a,dragRect:s,targetRect:o,canSort:f,fromSortable:p,target:i,completed:y,onMove:function(V,J){return Rd(Qn,r,ut,s,V,rr(V),t,J)},changed:_},Z))}function w(){v("dragOverAnimationCapture"),g.captureAnimationState(),g!==p&&p.captureAnimationState()}function y(q){return v("dragOverCompleted",{insertion:q}),q&&(c?h._hideClone():h._showClone(g),g!==p&&(cr(ut,Zr?Zr.options.ghostClass:h.options.ghostClass,!1),cr(ut,l.ghostClass,!0)),Zr!==g&&g!==Vt.active?Zr=g:g===Vt.active&&Zr&&(Zr=null),p===g&&(g._ignoreWhileAnimating=i),g.animateAll(function(){v("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(i===ut&&!ut.animated||i===r&&!i.animated)&&(Tu=null),!l.dragoverBubble&&!t.rootEl&&i!==document&&(ut.parentNode[gi]._isOutsideThisEl(t.target),!q&&il(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function _(){as=br(ut),va=br(ut,l.draggable),Si({sortable:g,name:"change",toEl:r,newIndex:as,newDraggableIndex:va,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=$s(i,l.draggable,r,!0),v("dragOver"),Vt.eventCanceled)return m;if(ut.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||g._ignoreWhileAnimating===i)return y(!1);if(hm=!1,h&&!l.disabled&&(c?f||(a=gr!==Qn):Zr===this||(this.lastPutMode=Od.checkPull(this,h,ut,t))&&u.checkPut(this,h,ut,t))){if(d=this._getDirection(t,i)==="vertical",s=rr(ut),v("dragOverValid"),Vt.eventCanceled)return m;if(a)return gr=Qn,w(),this._hideClone(),v("revert"),Vt.eventCanceled||(hl?Qn.insertBefore(ut,hl):Qn.appendChild(ut)),y(!0);var x=Mx(r,l.draggable);if(!x||jne(t,d,this)&&!x.animated){if(x===ut)return y(!1);if(x&&r===t.target&&(i=x),i&&(o=rr(i)),Rd(Qn,r,ut,s,i,o,t,!!i)!==!1)return w(),r.appendChild(ut),gr=r,_(),y(!0)}else if(x&&$ne(t,d,this)){var C=gc(r,0,l,!0);if(C===ut)return y(!1);if(i=C,o=rr(i),Rd(Qn,r,ut,s,i,o,t,!1)!==!1)return w(),r.insertBefore(ut,C),gr=r,_(),y(!0)}else if(i.parentNode===r){o=rr(i);var E=0,S,D=ut.parentNode!==r,A=!Lne(ut.animated&&ut.toRect||s,i.animated&&i.toRect||o,d),N=d?"top":"left",F=HC(i,"top","top")||HC(ut,"top","top"),T=F?F.scrollTop:void 0;Tu!==i&&(S=o[N],Ch=!1,Pd=!A&&l.invertSwap||D),E=zne(t,i,o,d,A?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Pd,Tu===i);var I;if(E!==0){var M=br(ut);do M-=E,I=gr.children[M];while(I&&(Tt(I,"display")==="none"||I===Jt))}if(E===0||I===i)return y(!1);Tu=i,Sh=E;var L=i.nextElementSibling,B=!1;B=E===1;var $=Rd(Qn,r,ut,s,i,o,t,B);if($!==!1)return($===1||$===-1)&&(B=$===1),u1=!0,setTimeout(Vne,30),w(),B&&!L?r.appendChild(ut):i.parentNode.insertBefore(ut,B?L:i),F&&DF(F,0,T-F.scrollTop),gr=ut.parentNode,S!==void 0&&!Pd&&(hp=Math.abs(S-rr(i)[N])),_(),y(!0)}if(r.contains(ut))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){an(document,"mousemove",this._onTouchMove),an(document,"touchmove",this._onTouchMove),an(document,"pointermove",this._onTouchMove),an(document,"dragover",il),an(document,"mousemove",il),an(document,"touchmove",il)},_offUpEvents:function(){var t=this.el.ownerDocument;an(t,"mouseup",this._onDrop),an(t,"touchend",this._onDrop),an(t,"pointerup",this._onDrop),an(t,"touchcancel",this._onDrop),an(document,"selectstart",this)},_onDrop:function(t){var r=this.el,i=this.options;if(as=br(ut),va=br(ut,i.draggable),Ui("drop",this,{evt:t}),gr=ut&&ut.parentNode,as=br(ut),va=br(ut,i.draggable),Vt.eventCanceled){this._nulling();return}Mu=!1,Pd=!1,Ch=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),c1(this.cloneId),c1(this._dragStartId),this.nativeDraggable&&(an(document,"drop",this),an(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_h&&Tt(document.body,"user-select",""),Tt(ut,"transform",""),t&&(nh&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),Jt&&Jt.parentNode&&Jt.parentNode.removeChild(Jt),(Qn===gr||Zr&&Zr.lastPutMode!=="clone")&&vr&&vr.parentNode&&vr.parentNode.removeChild(vr),ut&&(this.nativeDraggable&&an(ut,"dragend",this),Ov(ut),ut.style["will-change"]="",nh&&!Mu&&cr(ut,Zr?Zr.options.ghostClass:this.options.ghostClass,!1),cr(ut,this.options.chosenClass,!1),Si({sortable:this,name:"unchoose",toEl:gr,newIndex:null,newDraggableIndex:null,originalEvent:t}),Qn!==gr?(as>=0&&(Si({rootEl:gr,name:"add",toEl:gr,fromEl:Qn,originalEvent:t}),Si({sortable:this,name:"remove",toEl:gr,originalEvent:t}),Si({rootEl:gr,name:"sort",toEl:gr,fromEl:Qn,originalEvent:t}),Si({sortable:this,name:"sort",toEl:gr,originalEvent:t})),Zr&&Zr.save()):as!==Vu&&as>=0&&(Si({sortable:this,name:"update",toEl:gr,originalEvent:t}),Si({sortable:this,name:"sort",toEl:gr,originalEvent:t})),Vt.active&&((as==null||as===-1)&&(as=Vu,va=Eh),Si({sortable:this,name:"end",toEl:gr,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ui("nulling",this),Qn=ut=gr=Jt=hl=vr=cp=ba=rl=Ls=nh=as=va=Vu=Eh=Tu=Sh=Zr=Od=Vt.dragged=Vt.ghost=Vt.clone=Vt.active=null,dm.forEach(function(t){t.checked=!0}),dm.length=kv=Fv=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ut&&(this._onDragOver(t),Une(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],r,i=this.el.children,s=0,o=i.length,a=this.options;s<o;s++)r=i[s],$s(r,a.draggable,this.el,!1)&&t.push(r.getAttribute(a.dataIdAttr)||Hne(r));return t},sort:function(t,r){var i={},s=this.el;this.toArray().forEach(function(o,a){var l=s.children[a];$s(l,this.options.draggable,s,!1)&&(i[o]=l)},this),r&&this.captureAnimationState(),t.forEach(function(o){i[o]&&(s.removeChild(i[o]),s.appendChild(i[o]))}),r&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,r){return $s(t,r||this.options.draggable,this.el,!1)},option:function(t,r){var i=this.options;if(r===void 0)return i[t];var s=Mf.modifyOption(this,t,r);typeof s<"u"?i[t]=s:i[t]=r,t==="group"&&FF(i)},destroy:function(){Ui("destroy",this);var t=this.el;t[gi]=null,an(t,"mousedown",this._onTapStart),an(t,"touchstart",this._onTapStart),an(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(an(t,"dragover",this),an(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),fm.splice(fm.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ba){if(Ui("hideClone",this),Vt.eventCanceled)return;Tt(vr,"display","none"),this.options.removeCloneOnHide&&vr.parentNode&&vr.parentNode.removeChild(vr),ba=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ba){if(Ui("showClone",this),Vt.eventCanceled)return;ut.parentNode==Qn&&!this.options.group.revertClone?Qn.insertBefore(vr,ut):hl?Qn.insertBefore(vr,hl):Qn.appendChild(vr),this.options.group.revertClone&&this.animate(ut,vr),Tt(vr,"display",""),ba=!1}}};function Une(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Rd(n,t,r,i,s,o,a,l){var u,h=n[gi],c=h.options.onMove,f;return window.CustomEvent&&!ra&&!Ff?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=n,u.dragged=r,u.draggedRect=i,u.related=s||t,u.relatedRect=o||rr(t),u.willInsertAfter=l,u.originalEvent=a,n.dispatchEvent(u),c&&(f=c.call(h,u,a)),f}function Ov(n){n.draggable=!1}function Vne(){u1=!1}function $ne(n,t,r){var i=rr(gc(r.el,0,r.options,!0)),s=10;return t?n.clientX<i.left-s||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-s||n.clientY<i.bottom&&n.clientX<i.left}function jne(n,t,r){var i=rr(Mx(r.el,r.options.draggable)),s=10;return t?n.clientX>i.right+s||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+s}function zne(n,t,r,i,s,o,a,l){var u=i?n.clientY:n.clientX,h=i?r.height:r.width,c=i?r.top:r.left,f=i?r.bottom:r.right,p=!1;if(!a){if(l&&hp<h*s){if(!Ch&&(Sh===1?u>c+h*o/2:u<f-h*o/2)&&(Ch=!0),Ch)p=!0;else if(Sh===1?u<c+hp:u>f-hp)return-Sh}else if(u>c+h*(1-s)/2&&u<f-h*(1-s)/2)return Gne(t)}return p=p||a,p&&(u<c+h*o/2||u>f-h*o/2)?u>c+h/2?1:-1:0}function Gne(n){return br(ut)<br(n)?1:-1}function Hne(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,r=t.length,i=0;r--;)i+=t.charCodeAt(r);return i.toString(36)}function Wne(n){dm.length=0;for(var t=n.getElementsByTagName("input"),r=t.length;r--;){var i=t[r];i.checked&&dm.push(i)}}function fp(n){return setTimeout(n,0)}function c1(n){return clearTimeout(n)}Pg&&pn(document,"touchmove",function(n){(Vt.active||Mu)&&n.cancelable&&n.preventDefault()});Vt.utils={on:pn,off:an,css:Tt,find:TF,is:function(t,r){return!!$s(t,r,t,!1)},extend:Dne,throttle:IF,closest:$s,toggleClass:cr,clone:Ox,index:br,nextTick:fp,cancelNextTick:c1,detectDirection:kF,getChild:gc};Vt.get=function(n){return n[gi]};Vt.mount=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Vt.utils=mo(mo({},Vt.utils),i.utils)),Mf.mount(i)})};Vt.create=function(n,t){return new Vt(n,t)};Vt.version=Cne;var Ir=[],rh,h1,f1=!1,Pv,Lv,pm,ih;function qne(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(r){var i=r.originalEvent;this.sortable.nativeDraggable?pn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?pn(document,"pointermove",this._handleFallbackAutoScroll):i.touches?pn(document,"touchmove",this._handleFallbackAutoScroll):pn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var i=r.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?an(document,"dragover",this._handleAutoScroll):(an(document,"pointermove",this._handleFallbackAutoScroll),an(document,"touchmove",this._handleFallbackAutoScroll),an(document,"mousemove",this._handleFallbackAutoScroll)),ZC(),dp(),Nne()},nulling:function(){pm=h1=rh=f1=ih=Pv=Lv=null,Ir.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,i){var s=this,o=(r.touches?r.touches[0]:r).clientX,a=(r.touches?r.touches[0]:r).clientY,l=document.elementFromPoint(o,a);if(pm=r,i||this.options.forceAutoScrollFallback||Ff||ra||_h){Rv(r,this.options,l,i);var u=Aa(l,!0);f1&&(!ih||o!==Pv||a!==Lv)&&(ih&&ZC(),ih=setInterval(function(){var h=Aa(document.elementFromPoint(o,a),!0);h!==u&&(u=h,dp()),Rv(r,s.options,h,i)},10),Pv=o,Lv=a)}else{if(!this.options.bubbleScroll||Aa(l,!0)===ho()){dp();return}Rv(r,this.options,Aa(l,!1),!1)}}},Ns(n,{pluginName:"scroll",initializeByDefault:!0})}function dp(){Ir.forEach(function(n){clearInterval(n.pid)}),Ir=[]}function ZC(){clearInterval(ih)}var Rv=IF(function(n,t,r,i){if(t.scroll){var s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,u=ho(),h=!1,c;h1!==r&&(h1=r,dp(),rh=t.scroll,c=t.scrollFn,rh===!0&&(rh=Aa(r,!0)));var f=0,p=rh;do{var d=p,g=rr(d),m=g.top,v=g.bottom,w=g.left,y=g.right,_=g.width,x=g.height,C=void 0,E=void 0,S=d.scrollWidth,D=d.scrollHeight,A=Tt(d),N=d.scrollLeft,F=d.scrollTop;d===u?(C=_<S&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),E=x<D&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(C=_<S&&(A.overflowX==="auto"||A.overflowX==="scroll"),E=x<D&&(A.overflowY==="auto"||A.overflowY==="scroll"));var T=C&&(Math.abs(y-s)<=a&&N+_<S)-(Math.abs(w-s)<=a&&!!N),I=E&&(Math.abs(v-o)<=a&&F+x<D)-(Math.abs(m-o)<=a&&!!F);if(!Ir[f])for(var M=0;M<=f;M++)Ir[M]||(Ir[M]={});(Ir[f].vx!=T||Ir[f].vy!=I||Ir[f].el!==d)&&(Ir[f].el=d,Ir[f].vx=T,Ir[f].vy=I,clearInterval(Ir[f].pid),(T!=0||I!=0)&&(h=!0,Ir[f].pid=setInterval((function(){i&&this.layer===0&&Vt.active._onTouchMove(pm);var L=Ir[this.layer].vy?Ir[this.layer].vy*l:0,B=Ir[this.layer].vx?Ir[this.layer].vx*l:0;typeof c=="function"&&c.call(Vt.dragged.parentNode[gi],B,L,n,pm,Ir[this.layer].el)!=="continue"||DF(Ir[this.layer].el,B,L)}).bind({layer:f}),24))),f++}while(t.bubbleScroll&&p!==u&&(p=Aa(p,!1)));f1=h}},30),PF=function(t){var r=t.originalEvent,i=t.putSortable,s=t.dragEl,o=t.activeSortable,a=t.dispatchSortableEvent,l=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(r){var h=i||o;l();var c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,f=document.elementFromPoint(c.clientX,c.clientY);u(),h&&!h.el.contains(f)&&(a("spill"),this.onSpill({dragEl:s,putSortable:i}))}};function Px(){}Px.prototype={startIndex:null,dragStart:function(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function(t){var r=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var s=gc(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(r,s):this.sortable.el.appendChild(r),this.sortable.animateAll(),i&&i.animateAll()},drop:PF};Ns(Px,{pluginName:"revertOnSpill"});function Lx(){}Lx.prototype={onSpill:function(t){var r=t.dragEl,i=t.putSortable,s=i||this.sortable;s.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),s.animateAll()},drop:PF};Ns(Lx,{pluginName:"removeOnSpill"});var ws;function Xne(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(r){var i=r.dragEl;ws=i},dragOverValid:function(r){var i=r.completed,s=r.target,o=r.onMove,a=r.activeSortable,l=r.changed,u=r.cancel;if(a.options.swap){var h=this.sortable.el,c=this.options;if(s&&s!==h){var f=ws;o(s)!==!1?(cr(s,c.swapClass,!0),ws=s):ws=null,f&&f!==ws&&cr(f,c.swapClass,!1)}l(),i(!0),u()}},drop:function(r){var i=r.activeSortable,s=r.putSortable,o=r.dragEl,a=s||this.sortable,l=this.options;ws&&cr(ws,l.swapClass,!1),ws&&(l.swap||s&&s.options.swap)&&o!==ws&&(a.captureAnimationState(),a!==i&&i.captureAnimationState(),Yne(o,ws),a.animateAll(),a!==i&&i.animateAll())},nulling:function(){ws=null}},Ns(n,{pluginName:"swap",eventProperties:function(){return{swapItem:ws}}})}function Yne(n,t){var r=n.parentNode,i=t.parentNode,s,o;!r||!i||r.isEqualNode(t)||i.isEqualNode(n)||(s=br(n),o=br(t),r.isEqualNode(i)&&s<o&&o++,r.insertBefore(t,r.children[s]),i.insertBefore(n,i.children[o]))}var qt=[],os=[],Xc,Rs,Yc=!1,Vi=!1,Iu=!1,qn,Kc,Bd;function Kne(){function n(t){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));t.options.supportPointer?pn(document,"pointerup",this._deselectMultiDrag):(pn(document,"mouseup",this._deselectMultiDrag),pn(document,"touchend",this._deselectMultiDrag)),pn(document,"keydown",this._checkKeyDown),pn(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(s,o){var a="";qt.length&&Rs===t?qt.forEach(function(l,u){a+=(u?", ":"")+l.textContent}):a=o.textContent,s.setData("Text",a)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var i=r.dragEl;qn=i},delayEnded:function(){this.isMultiDrag=~qt.indexOf(qn)},setupClone:function(r){var i=r.sortable,s=r.cancel;if(this.isMultiDrag){for(var o=0;o<qt.length;o++)os.push(Ox(qt[o])),os[o].sortableIndex=qt[o].sortableIndex,os[o].draggable=!1,os[o].style["will-change"]="",cr(os[o],this.options.selectedClass,!1),qt[o]===qn&&cr(os[o],this.options.chosenClass,!1);i._hideClone(),s()}},clone:function(r){var i=r.sortable,s=r.rootEl,o=r.dispatchSortableEvent,a=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||qt.length&&Rs===i&&(JC(!0,s),o("clone"),a()))},showClone:function(r){var i=r.cloneNowShown,s=r.rootEl,o=r.cancel;this.isMultiDrag&&(JC(!1,s),os.forEach(function(a){Tt(a,"display","")}),i(),Bd=!1,o())},hideClone:function(r){var i=this;r.sortable;var s=r.cloneNowHidden,o=r.cancel;this.isMultiDrag&&(os.forEach(function(a){Tt(a,"display","none"),i.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),s(),Bd=!0,o())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&Rs&&Rs.multiDrag._deselectMultiDrag(),qt.forEach(function(i){i.sortableIndex=br(i)}),qt=qt.sort(function(i,s){return i.sortableIndex-s.sortableIndex}),Iu=!0},dragStarted:function(r){var i=this,s=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(s.captureAnimationState(),this.options.animation)){qt.forEach(function(a){a!==qn&&Tt(a,"position","absolute")});var o=rr(qn,!1,!0,!0);qt.forEach(function(a){a!==qn&&qC(a,o)}),Vi=!0,Yc=!0}s.animateAll(function(){Vi=!1,Yc=!1,i.options.animation&&qt.forEach(function(a){Dv(a)}),i.options.sort&&Ud()})}},dragOver:function(r){var i=r.target,s=r.completed,o=r.cancel;Vi&&~qt.indexOf(i)&&(s(!1),o())},revert:function(r){var i=r.fromSortable,s=r.rootEl,o=r.sortable,a=r.dragRect;qt.length>1&&(qt.forEach(function(l){o.addAnimationState({target:l,rect:Vi?rr(l):a}),Dv(l),l.fromRect=a,i.removeAnimationState(l)}),Vi=!1,Zne(!this.options.removeCloneOnHide,s))},dragOverCompleted:function(r){var i=r.sortable,s=r.isOwner,o=r.insertion,a=r.activeSortable,l=r.parentEl,u=r.putSortable,h=this.options;if(o){if(s&&a._hideClone(),Yc=!1,h.animation&&qt.length>1&&(Vi||!s&&!a.options.sort&&!u)){var c=rr(qn,!1,!0,!0);qt.forEach(function(p){p!==qn&&(qC(p,c),l.appendChild(p))}),Vi=!0}if(!s)if(Vi||Ud(),qt.length>1){var f=Bd;a._showClone(i),a.options.animation&&!Bd&&f&&os.forEach(function(p){a.addAnimationState({target:p,rect:Kc}),p.fromRect=Kc,p.thisAnimationDuration=null})}else a._showClone(i)}},dragOverAnimationCapture:function(r){var i=r.dragRect,s=r.isOwner,o=r.activeSortable;if(qt.forEach(function(l){l.thisAnimationDuration=null}),o.options.animation&&!s&&o.multiDrag.isMultiDrag){Kc=Ns({},i);var a=Ml(qn,!0);Kc.top-=a.f,Kc.left-=a.e}},dragOverAnimationComplete:function(){Vi&&(Vi=!1,Ud())},drop:function(r){var i=r.originalEvent,s=r.rootEl,o=r.parentEl,a=r.sortable,l=r.dispatchSortableEvent,u=r.oldIndex,h=r.putSortable,c=h||this.sortable;if(i){var f=this.options,p=o.children;if(!Iu)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),cr(qn,f.selectedClass,!~qt.indexOf(qn)),~qt.indexOf(qn))qt.splice(qt.indexOf(qn),1),Xc=null,th({sortable:a,rootEl:s,name:"deselect",targetEl:qn});else{if(qt.push(qn),th({sortable:a,rootEl:s,name:"select",targetEl:qn}),i.shiftKey&&Xc&&a.el.contains(Xc)){var d=br(Xc),g=br(qn);if(~d&&~g&&d!==g){var m,v;for(g>d?(v=d,m=g):(v=g,m=d+1);v<m;v++)~qt.indexOf(p[v])||(cr(p[v],f.selectedClass,!0),qt.push(p[v]),th({sortable:a,rootEl:s,name:"select",targetEl:p[v]}))}}else Xc=qn;Rs=c}if(Iu&&this.isMultiDrag){if(Vi=!1,(o[gi].options.sort||o!==s)&&qt.length>1){var w=rr(qn),y=br(qn,":not(."+this.options.selectedClass+")");if(!Yc&&f.animation&&(qn.thisAnimationDuration=null),c.captureAnimationState(),!Yc&&(f.animation&&(qn.fromRect=w,qt.forEach(function(x){if(x.thisAnimationDuration=null,x!==qn){var C=Vi?rr(x):w;x.fromRect=C,c.addAnimationState({target:x,rect:C})}})),Ud(),qt.forEach(function(x){p[y]?o.insertBefore(x,p[y]):o.appendChild(x),y++}),u===br(qn))){var _=!1;qt.forEach(function(x){if(x.sortableIndex!==br(x)){_=!0;return}}),_&&l("update")}qt.forEach(function(x){Dv(x)}),c.animateAll()}Rs=c}(s===o||h&&h.lastPutMode!=="clone")&&os.forEach(function(x){x.parentNode&&x.parentNode.removeChild(x)})}},nullingGlobal:function(){this.isMultiDrag=Iu=!1,os.length=0},destroyGlobal:function(){this._deselectMultiDrag(),an(document,"pointerup",this._deselectMultiDrag),an(document,"mouseup",this._deselectMultiDrag),an(document,"touchend",this._deselectMultiDrag),an(document,"keydown",this._checkKeyDown),an(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof Iu<"u"&&Iu)&&Rs===this.sortable&&!(r&&$s(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;qt.length;){var i=qt[0];cr(i,this.options.selectedClass,!1),qt.shift(),th({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:i})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Ns(n,{pluginName:"multiDrag",utils:{select:function(r){var i=r.parentNode[gi];!i||!i.options.multiDrag||~qt.indexOf(r)||(Rs&&Rs!==i&&(Rs.multiDrag._deselectMultiDrag(),Rs=i),cr(r,i.options.selectedClass,!0),qt.push(r))},deselect:function(r){var i=r.parentNode[gi],s=qt.indexOf(r);!i||!i.options.multiDrag||!~s||(cr(r,i.options.selectedClass,!1),qt.splice(s,1))}},eventProperties:function(){var r=this,i=[],s=[];return qt.forEach(function(o){i.push({multiDragElement:o,index:o.sortableIndex});var a;Vi&&o!==qn?a=-1:Vi?a=br(o,":not(."+r.options.selectedClass+")"):a=br(o),s.push({multiDragElement:o,index:a})}),{items:xne(qt),clones:[].concat(os),oldIndicies:i,newIndicies:s}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function Zne(n,t){qt.forEach(function(r,i){var s=t.children[r.sortableIndex+(n?Number(i):0)];s?t.insertBefore(r,s):t.appendChild(r)})}function JC(n,t){os.forEach(function(r,i){var s=t.children[r.sortableIndex+(n?Number(i):0)];s?t.insertBefore(r,s):t.appendChild(r)})}function Ud(){qt.forEach(function(n){n!==qn&&n.parentNode&&n.parentNode.removeChild(n)})}Vt.mount(new qne);Vt.mount(Lx,Px);const Jne=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Kne,Sortable:Vt,Swap:Xne,default:Vt},Symbol.toStringTag,{value:"Module"})),Qne=mm(Jne);var ere=np.exports,QC;function tre(){return QC||(QC=1,(function(n,t){(function(i,s){n.exports=s(gne(),Qne)})(typeof self<"u"?self:ere,function(r,i){return(function(s){var o={};function a(l){if(o[l])return o[l].exports;var u=o[l]={i:l,l:!1,exports:{}};return s[l].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=s,a.c=o,a.d=function(l,u,h){a.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:h})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,u){if(u&1&&(l=a(l)),u&8||u&4&&typeof l=="object"&&l&&l.__esModule)return l;var h=Object.create(null);if(a.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:l}),u&2&&typeof l!="string")for(var c in l)a.d(h,c,(function(f){return l[f]}).bind(null,c));return h},a.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(u,"a",u),u},a.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},a.p="",a(a.s="fb15")})({"00ee":(function(s,o,a){var l=a("b622"),u=l("toStringTag"),h={};h[u]="z",s.exports=String(h)==="[object z]"}),"0366":(function(s,o,a){var l=a("1c0b");s.exports=function(u,h,c){if(l(u),h===void 0)return u;switch(c){case 0:return function(){return u.call(h)};case 1:return function(f){return u.call(h,f)};case 2:return function(f,p){return u.call(h,f,p)};case 3:return function(f,p,d){return u.call(h,f,p,d)}}return function(){return u.apply(h,arguments)}}}),"057f":(function(s,o,a){var l=a("fc6a"),u=a("241c").f,h={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(p){try{return u(p)}catch{return c.slice()}};s.exports.f=function(d){return c&&h.call(d)=="[object Window]"?f(d):u(l(d))}}),"06cf":(function(s,o,a){var l=a("83ab"),u=a("d1e7"),h=a("5c6c"),c=a("fc6a"),f=a("c04e"),p=a("5135"),d=a("0cfb"),g=Object.getOwnPropertyDescriptor;o.f=l?g:function(v,w){if(v=c(v),w=f(w,!0),d)try{return g(v,w)}catch{}if(p(v,w))return h(!u.f.call(v,w),v[w])}}),"0cfb":(function(s,o,a){var l=a("83ab"),u=a("d039"),h=a("cc12");s.exports=!l&&!u(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})}),"13d5":(function(s,o,a){var l=a("23e7"),u=a("d58f").left,h=a("a640"),c=a("ae40"),f=h("reduce"),p=c("reduce",{1:0});l({target:"Array",proto:!0,forced:!f||!p},{reduce:function(g){return u(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})}),"14c3":(function(s,o,a){var l=a("c6b6"),u=a("9263");s.exports=function(h,c){var f=h.exec;if(typeof f=="function"){var p=f.call(h,c);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(l(h)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(h,c)}}),"159b":(function(s,o,a){var l=a("da84"),u=a("fdbc"),h=a("17c2"),c=a("9112");for(var f in u){var p=l[f],d=p&&p.prototype;if(d&&d.forEach!==h)try{c(d,"forEach",h)}catch{d.forEach=h}}}),"17c2":(function(s,o,a){var l=a("b727").forEach,u=a("a640"),h=a("ae40"),c=u("forEach"),f=h("forEach");s.exports=!c||!f?function(d){return l(this,d,arguments.length>1?arguments[1]:void 0)}:[].forEach}),"1be4":(function(s,o,a){var l=a("d066");s.exports=l("document","documentElement")}),"1c0b":(function(s,o){s.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}}),"1c7e":(function(s,o,a){var l=a("b622"),u=l("iterator"),h=!1;try{var c=0,f={next:function(){return{done:!!c++}},return:function(){h=!0}};f[u]=function(){return this},Array.from(f,function(){throw 2})}catch{}s.exports=function(p,d){if(!d&&!h)return!1;var g=!1;try{var m={};m[u]=function(){return{next:function(){return{done:g=!0}}}},p(m)}catch{}return g}}),"1d80":(function(s,o){s.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}}),"1dde":(function(s,o,a){var l=a("d039"),u=a("b622"),h=a("2d00"),c=u("species");s.exports=function(f){return h>=51||!l(function(){var p=[],d=p.constructor={};return d[c]=function(){return{foo:1}},p[f](Boolean).foo!==1})}}),"23cb":(function(s,o,a){var l=a("a691"),u=Math.max,h=Math.min;s.exports=function(c,f){var p=l(c);return p<0?u(p+f,0):h(p,f)}}),"23e7":(function(s,o,a){var l=a("da84"),u=a("06cf").f,h=a("9112"),c=a("6eeb"),f=a("ce4e"),p=a("e893"),d=a("94ca");s.exports=function(g,m){var v=g.target,w=g.global,y=g.stat,_,x,C,E,S,D;if(w?x=l:y?x=l[v]||f(v,{}):x=(l[v]||{}).prototype,x)for(C in m){if(S=m[C],g.noTargetGet?(D=u(x,C),E=D&&D.value):E=x[C],_=d(w?C:v+(y?".":"#")+C,g.forced),!_&&E!==void 0){if(typeof S==typeof E)continue;p(S,E)}(g.sham||E&&E.sham)&&h(S,"sham",!0),c(x,C,S,g)}}}),"241c":(function(s,o,a){var l=a("ca84"),u=a("7839"),h=u.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(f){return l(f,h)}}),"25f0":(function(s,o,a){var l=a("6eeb"),u=a("825a"),h=a("d039"),c=a("ad6d"),f="toString",p=RegExp.prototype,d=p[f],g=h(function(){return d.call({source:"a",flags:"b"})!="/a/b"}),m=d.name!=f;(g||m)&&l(RegExp.prototype,f,function(){var w=u(this),y=String(w.source),_=w.flags,x=String(_===void 0&&w instanceof RegExp&&!("flags"in p)?c.call(w):_);return"/"+y+"/"+x},{unsafe:!0})}),"2ca0":(function(s,o,a){var l=a("23e7"),u=a("06cf").f,h=a("50c4"),c=a("5a34"),f=a("1d80"),p=a("ab13"),d=a("c430"),g="".startsWith,m=Math.min,v=p("startsWith"),w=!d&&!v&&!!(function(){var y=u(String.prototype,"startsWith");return y&&!y.writable})();l({target:"String",proto:!0,forced:!w&&!v},{startsWith:function(_){var x=String(f(this));c(_);var C=h(m(arguments.length>1?arguments[1]:void 0,x.length)),E=String(_);return g?g.call(x,E,C):x.slice(C,C+E.length)===E}})}),"2d00":(function(s,o,a){var l=a("da84"),u=a("342f"),h=l.process,c=h&&h.versions,f=c&&c.v8,p,d;f?(p=f.split("."),d=p[0]+p[1]):u&&(p=u.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=u.match(/Chrome\/(\d+)/),p&&(d=p[1]))),s.exports=d&&+d}),"342f":(function(s,o,a){var l=a("d066");s.exports=l("navigator","userAgent")||""}),"35a1":(function(s,o,a){var l=a("f5df"),u=a("3f8c"),h=a("b622"),c=h("iterator");s.exports=function(f){if(f!=null)return f[c]||f["@@iterator"]||u[l(f)]}}),"37e8":(function(s,o,a){var l=a("83ab"),u=a("9bf2"),h=a("825a"),c=a("df75");s.exports=l?Object.defineProperties:function(p,d){h(p);for(var g=c(d),m=g.length,v=0,w;m>v;)u.f(p,w=g[v++],d[w]);return p}}),"3bbe":(function(s,o,a){var l=a("861d");s.exports=function(u){if(!l(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}}),"3ca3":(function(s,o,a){var l=a("6547").charAt,u=a("69f3"),h=a("7dd0"),c="String Iterator",f=u.set,p=u.getterFor(c);h(String,"String",function(d){f(this,{type:c,string:String(d),index:0})},function(){var g=p(this),m=g.string,v=g.index,w;return v>=m.length?{value:void 0,done:!0}:(w=l(m,v),g.index+=w.length,{value:w,done:!1})})}),"3f8c":(function(s,o){s.exports={}}),4160:(function(s,o,a){var l=a("23e7"),u=a("17c2");l({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})}),"428f":(function(s,o,a){var l=a("da84");s.exports=l}),"44ad":(function(s,o,a){var l=a("d039"),u=a("c6b6"),h="".split;s.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return u(c)=="String"?h.call(c,""):Object(c)}:Object}),"44d2":(function(s,o,a){var l=a("b622"),u=a("7c73"),h=a("9bf2"),c=l("unscopables"),f=Array.prototype;f[c]==null&&h.f(f,c,{configurable:!0,value:u(null)}),s.exports=function(p){f[c][p]=!0}}),"44e7":(function(s,o,a){var l=a("861d"),u=a("c6b6"),h=a("b622"),c=h("match");s.exports=function(f){var p;return l(f)&&((p=f[c])!==void 0?!!p:u(f)=="RegExp")}}),4930:(function(s,o,a){var l=a("d039");s.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})}),"4d64":(function(s,o,a){var l=a("fc6a"),u=a("50c4"),h=a("23cb"),c=function(f){return function(p,d,g){var m=l(p),v=u(m.length),w=h(g,v),y;if(f&&d!=d){for(;v>w;)if(y=m[w++],y!=y)return!0}else for(;v>w;w++)if((f||w in m)&&m[w]===d)return f||w||0;return!f&&-1}};s.exports={includes:c(!0),indexOf:c(!1)}}),"4de4":(function(s,o,a){var l=a("23e7"),u=a("b727").filter,h=a("1dde"),c=a("ae40"),f=h("filter"),p=c("filter");l({target:"Array",proto:!0,forced:!f||!p},{filter:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}})}),"4df4":(function(s,o,a){var l=a("0366"),u=a("7b0b"),h=a("9bdd"),c=a("e95a"),f=a("50c4"),p=a("8418"),d=a("35a1");s.exports=function(m){var v=u(m),w=typeof this=="function"?this:Array,y=arguments.length,_=y>1?arguments[1]:void 0,x=_!==void 0,C=d(v),E=0,S,D,A,N,F,T;if(x&&(_=l(_,y>2?arguments[2]:void 0,2)),C!=null&&!(w==Array&&c(C)))for(N=C.call(v),F=N.next,D=new w;!(A=F.call(N)).done;E++)T=x?h(N,_,[A.value,E],!0):A.value,p(D,E,T);else for(S=f(v.length),D=new w(S);S>E;E++)T=x?_(v[E],E):v[E],p(D,E,T);return D.length=E,D}}),"4fad":(function(s,o,a){var l=a("23e7"),u=a("6f53").entries;l({target:"Object",stat:!0},{entries:function(c){return u(c)}})}),"50c4":(function(s,o,a){var l=a("a691"),u=Math.min;s.exports=function(h){return h>0?u(l(h),9007199254740991):0}}),5135:(function(s,o){var a={}.hasOwnProperty;s.exports=function(l,u){return a.call(l,u)}}),5319:(function(s,o,a){var l=a("d784"),u=a("825a"),h=a("7b0b"),c=a("50c4"),f=a("a691"),p=a("1d80"),d=a("8aa5"),g=a("14c3"),m=Math.max,v=Math.min,w=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g,x=function(C){return C===void 0?C:String(C)};l("replace",2,function(C,E,S,D){var A=D.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,N=D.REPLACE_KEEPS_$0,F=A?"$":"$0";return[function(M,L){var B=p(this),$=M?.[C];return $!==void 0?$.call(M,B,L):E.call(String(B),M,L)},function(I,M){if(!A&&N||typeof M=="string"&&M.indexOf(F)===-1){var L=S(E,I,this,M);if(L.done)return L.value}var B=u(I),$=String(this),q=typeof M=="function";q||(M=String(M));var Z=B.global;if(Z){var he=B.unicode;B.lastIndex=0}for(var V=[];;){var J=g(B,$);if(J===null||(V.push(J),!Z))break;var ge=String(J[0]);ge===""&&(B.lastIndex=d($,c(B.lastIndex),he))}for(var W="",z=0,de=0;de<V.length;de++){J=V[de];for(var K=String(J[0]),ue=m(v(f(J.index),$.length),0),G=[],se=1;se<J.length;se++)G.push(x(J[se]));var ye=J.groups;if(q){var Ee=[K].concat(G,ue,$);ye!==void 0&&Ee.push(ye);var H=String(M.apply(void 0,Ee))}else H=T(K,$,ue,G,ye,M);ue>=z&&(W+=$.slice(z,ue)+H,z=ue+K.length)}return W+$.slice(z)}];function T(I,M,L,B,$,q){var Z=L+I.length,he=B.length,V=_;return $!==void 0&&($=h($),V=y),E.call(q,V,function(J,ge){var W;switch(ge.charAt(0)){case"$":return"$";case"&":return I;case"`":return M.slice(0,L);case"'":return M.slice(Z);case"<":W=$[ge.slice(1,-1)];break;default:var z=+ge;if(z===0)return J;if(z>he){var de=w(z/10);return de===0?J:de<=he?B[de-1]===void 0?ge.charAt(1):B[de-1]+ge.charAt(1):J}W=B[z-1]}return W===void 0?"":W})}})}),5692:(function(s,o,a){var l=a("c430"),u=a("c6cd");(s.exports=function(h,c){return u[h]||(u[h]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})}),"56ef":(function(s,o,a){var l=a("d066"),u=a("241c"),h=a("7418"),c=a("825a");s.exports=l("Reflect","ownKeys")||function(p){var d=u.f(c(p)),g=h.f;return g?d.concat(g(p)):d}}),"5a34":(function(s,o,a){var l=a("44e7");s.exports=function(u){if(l(u))throw TypeError("The method doesn't accept regular expressions");return u}}),"5c6c":(function(s,o){s.exports=function(a,l){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:l}}}),"5db7":(function(s,o,a){var l=a("23e7"),u=a("a2bf"),h=a("7b0b"),c=a("50c4"),f=a("1c0b"),p=a("65f0");l({target:"Array",proto:!0},{flatMap:function(g){var m=h(this),v=c(m.length),w;return f(g),w=p(m,0),w.length=u(w,m,m,v,0,1,g,arguments.length>1?arguments[1]:void 0),w}})}),6547:(function(s,o,a){var l=a("a691"),u=a("1d80"),h=function(c){return function(f,p){var d=String(u(f)),g=l(p),m=d.length,v,w;return g<0||g>=m?c?"":void 0:(v=d.charCodeAt(g),v<55296||v>56319||g+1===m||(w=d.charCodeAt(g+1))<56320||w>57343?c?d.charAt(g):v:c?d.slice(g,g+2):(v-55296<<10)+(w-56320)+65536)}};s.exports={codeAt:h(!1),charAt:h(!0)}}),"65f0":(function(s,o,a){var l=a("861d"),u=a("e8b5"),h=a("b622"),c=h("species");s.exports=function(f,p){var d;return u(f)&&(d=f.constructor,typeof d=="function"&&(d===Array||u(d.prototype))?d=void 0:l(d)&&(d=d[c],d===null&&(d=void 0))),new(d===void 0?Array:d)(p===0?0:p)}}),"69f3":(function(s,o,a){var l=a("7f9a"),u=a("da84"),h=a("861d"),c=a("9112"),f=a("5135"),p=a("f772"),d=a("d012"),g=u.WeakMap,m,v,w,y=function(A){return w(A)?v(A):m(A,{})},_=function(A){return function(N){var F;if(!h(N)||(F=v(N)).type!==A)throw TypeError("Incompatible receiver, "+A+" required");return F}};if(l){var x=new g,C=x.get,E=x.has,S=x.set;m=function(A,N){return S.call(x,A,N),N},v=function(A){return C.call(x,A)||{}},w=function(A){return E.call(x,A)}}else{var D=p("state");d[D]=!0,m=function(A,N){return c(A,D,N),N},v=function(A){return f(A,D)?A[D]:{}},w=function(A){return f(A,D)}}s.exports={set:m,get:v,has:w,enforce:y,getterFor:_}}),"6eeb":(function(s,o,a){var l=a("da84"),u=a("9112"),h=a("5135"),c=a("ce4e"),f=a("8925"),p=a("69f3"),d=p.get,g=p.enforce,m=String(String).split("String");(s.exports=function(v,w,y,_){var x=_?!!_.unsafe:!1,C=_?!!_.enumerable:!1,E=_?!!_.noTargetGet:!1;if(typeof y=="function"&&(typeof w=="string"&&!h(y,"name")&&u(y,"name",w),g(y).source=m.join(typeof w=="string"?w:"")),v===l){C?v[w]=y:c(w,y);return}else x?!E&&v[w]&&(C=!0):delete v[w];C?v[w]=y:u(v,w,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||f(this)})}),"6f53":(function(s,o,a){var l=a("83ab"),u=a("df75"),h=a("fc6a"),c=a("d1e7").f,f=function(p){return function(d){for(var g=h(d),m=u(g),v=m.length,w=0,y=[],_;v>w;)_=m[w++],(!l||c.call(g,_))&&y.push(p?[_,g[_]]:g[_]);return y}};s.exports={entries:f(!0),values:f(!1)}}),"73d9":(function(s,o,a){var l=a("44d2");l("flatMap")}),7418:(function(s,o){o.f=Object.getOwnPropertySymbols}),"746f":(function(s,o,a){var l=a("428f"),u=a("5135"),h=a("e538"),c=a("9bf2").f;s.exports=function(f){var p=l.Symbol||(l.Symbol={});u(p,f)||c(p,f,{value:h.f(f)})}}),7839:(function(s,o){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"7b0b":(function(s,o,a){var l=a("1d80");s.exports=function(u){return Object(l(u))}}),"7c73":(function(s,o,a){var l=a("825a"),u=a("37e8"),h=a("7839"),c=a("d012"),f=a("1be4"),p=a("cc12"),d=a("f772"),g=">",m="<",v="prototype",w="script",y=d("IE_PROTO"),_=function(){},x=function(A){return m+w+g+A+m+"/"+w+g},C=function(A){A.write(x("")),A.close();var N=A.parentWindow.Object;return A=null,N},E=function(){var A=p("iframe"),N="java"+w+":",F;return A.style.display="none",f.appendChild(A),A.src=String(N),F=A.contentWindow.document,F.open(),F.write(x("document.F=Object")),F.close(),F.F},S,D=function(){try{S=document.domain&&new ActiveXObject("htmlfile")}catch{}D=S?C(S):E();for(var A=h.length;A--;)delete D[v][h[A]];return D()};c[y]=!0,s.exports=Object.create||function(N,F){var T;return N!==null?(_[v]=l(N),T=new _,_[v]=null,T[y]=N):T=D(),F===void 0?T:u(T,F)}}),"7dd0":(function(s,o,a){var l=a("23e7"),u=a("9ed3"),h=a("e163"),c=a("d2bb"),f=a("d44e"),p=a("9112"),d=a("6eeb"),g=a("b622"),m=a("c430"),v=a("3f8c"),w=a("ae93"),y=w.IteratorPrototype,_=w.BUGGY_SAFARI_ITERATORS,x=g("iterator"),C="keys",E="values",S="entries",D=function(){return this};s.exports=function(A,N,F,T,I,M,L){u(F,N,T);var B=function(de){if(de===I&&V)return V;if(!_&&de in Z)return Z[de];switch(de){case C:return function(){return new F(this,de)};case E:return function(){return new F(this,de)};case S:return function(){return new F(this,de)}}return function(){return new F(this)}},$=N+" Iterator",q=!1,Z=A.prototype,he=Z[x]||Z["@@iterator"]||I&&Z[I],V=!_&&he||B(I),J=N=="Array"&&Z.entries||he,ge,W,z;if(J&&(ge=h(J.call(new A)),y!==Object.prototype&&ge.next&&(!m&&h(ge)!==y&&(c?c(ge,y):typeof ge[x]!="function"&&p(ge,x,D)),f(ge,$,!0,!0),m&&(v[$]=D))),I==E&&he&&he.name!==E&&(q=!0,V=function(){return he.call(this)}),(!m||L)&&Z[x]!==V&&p(Z,x,V),v[N]=V,I)if(W={values:B(E),keys:M?V:B(C),entries:B(S)},L)for(z in W)(_||q||!(z in Z))&&d(Z,z,W[z]);else l({target:N,proto:!0,forced:_||q},W);return W}}),"7f9a":(function(s,o,a){var l=a("da84"),u=a("8925"),h=l.WeakMap;s.exports=typeof h=="function"&&/native code/.test(u(h))}),"825a":(function(s,o,a){var l=a("861d");s.exports=function(u){if(!l(u))throw TypeError(String(u)+" is not an object");return u}}),"83ab":(function(s,o,a){var l=a("d039");s.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),8418:(function(s,o,a){var l=a("c04e"),u=a("9bf2"),h=a("5c6c");s.exports=function(c,f,p){var d=l(f);d in c?u.f(c,d,h(0,p)):c[d]=p}}),"861d":(function(s,o){s.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}}),8875:(function(s,o,a){var l,u,h;(function(c,f){u=[],l=f,h=typeof l=="function"?l.apply(o,u):l,h!==void 0&&(s.exports=h)})(typeof self<"u"?self:this,function(){function c(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(S){var p=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,d=/@([^@]*):(\d+):(\d+)\s*$/ig,g=p.exec(S.stack)||d.exec(S.stack),m=g&&g[1]||!1,v=g&&g[2]||!1,w=document.location.href.replace(document.location.hash,""),y,_,x,C=document.getElementsByTagName("script");m===w&&(y=document.documentElement.outerHTML,_=new RegExp("(?:[^\\n]+?\\n){0,"+(v-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),x=y.replace(_,"$1").trim());for(var E=0;E<C.length;E++)if(C[E].readyState==="interactive"||C[E].src===m||m===w&&C[E].innerHTML&&C[E].innerHTML.trim()===x)return C[E];return null}}return c})}),8925:(function(s,o,a){var l=a("c6cd"),u=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(h){return u.call(h)}),s.exports=l.inspectSource}),"8aa5":(function(s,o,a){var l=a("6547").charAt;s.exports=function(u,h,c){return h+(c?l(u,h).length:1)}}),"8bbf":(function(s,o){s.exports=r}),"90e3":(function(s,o){var a=0,l=Math.random();s.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++a+l).toString(36)}}),9112:(function(s,o,a){var l=a("83ab"),u=a("9bf2"),h=a("5c6c");s.exports=l?function(c,f,p){return u.f(c,f,h(1,p))}:function(c,f,p){return c[f]=p,c}}),9263:(function(s,o,a){var l=a("ad6d"),u=a("9f7f"),h=RegExp.prototype.exec,c=String.prototype.replace,f=h,p=(function(){var v=/a/,w=/b*/g;return h.call(v,"a"),h.call(w,"a"),v.lastIndex!==0||w.lastIndex!==0})(),d=u.UNSUPPORTED_Y||u.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0,m=p||g||d;m&&(f=function(w){var y=this,_,x,C,E,S=d&&y.sticky,D=l.call(y),A=y.source,N=0,F=w;return S&&(D=D.replace("y",""),D.indexOf("g")===-1&&(D+="g"),F=String(w).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&w[y.lastIndex-1]!==`
`)&&(A="(?: "+A+")",F=" "+F,N++),x=new RegExp("^(?:"+A+")",D)),g&&(x=new RegExp("^"+A+"$(?!\\s)",D)),p&&(_=y.lastIndex),C=h.call(S?x:y,F),S?C?(C.input=C.input.slice(N),C[0]=C[0].slice(N),C.index=y.lastIndex,y.lastIndex+=C[0].length):y.lastIndex=0:p&&C&&(y.lastIndex=y.global?C.index+C[0].length:_),g&&C&&C.length>1&&c.call(C[0],x,function(){for(E=1;E<arguments.length-2;E++)arguments[E]===void 0&&(C[E]=void 0)}),C}),s.exports=f}),"94ca":(function(s,o,a){var l=a("d039"),u=/#|\.prototype\./,h=function(g,m){var v=f[c(g)];return v==d?!0:v==p?!1:typeof m=="function"?l(m):!!m},c=h.normalize=function(g){return String(g).replace(u,".").toLowerCase()},f=h.data={},p=h.NATIVE="N",d=h.POLYFILL="P";s.exports=h}),"99af":(function(s,o,a){var l=a("23e7"),u=a("d039"),h=a("e8b5"),c=a("861d"),f=a("7b0b"),p=a("50c4"),d=a("8418"),g=a("65f0"),m=a("1dde"),v=a("b622"),w=a("2d00"),y=v("isConcatSpreadable"),_=9007199254740991,x="Maximum allowed index exceeded",C=w>=51||!u(function(){var A=[];return A[y]=!1,A.concat()[0]!==A}),E=m("concat"),S=function(A){if(!c(A))return!1;var N=A[y];return N!==void 0?!!N:h(A)},D=!C||!E;l({target:"Array",proto:!0,forced:D},{concat:function(N){var F=f(this),T=g(F,0),I=0,M,L,B,$,q;for(M=-1,B=arguments.length;M<B;M++)if(q=M===-1?F:arguments[M],S(q)){if($=p(q.length),I+$>_)throw TypeError(x);for(L=0;L<$;L++,I++)L in q&&d(T,I,q[L])}else{if(I>=_)throw TypeError(x);d(T,I++,q)}return T.length=I,T}})}),"9bdd":(function(s,o,a){var l=a("825a");s.exports=function(u,h,c,f){try{return f?h(l(c)[0],c[1]):h(c)}catch(d){var p=u.return;throw p!==void 0&&l(p.call(u)),d}}}),"9bf2":(function(s,o,a){var l=a("83ab"),u=a("0cfb"),h=a("825a"),c=a("c04e"),f=Object.defineProperty;o.f=l?f:function(d,g,m){if(h(d),g=c(g,!0),h(m),u)try{return f(d,g,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(d[g]=m.value),d}}),"9ed3":(function(s,o,a){var l=a("ae93").IteratorPrototype,u=a("7c73"),h=a("5c6c"),c=a("d44e"),f=a("3f8c"),p=function(){return this};s.exports=function(d,g,m){var v=g+" Iterator";return d.prototype=u(l,{next:h(1,m)}),c(d,v,!1,!0),f[v]=p,d}}),"9f7f":(function(s,o,a){var l=a("d039");function u(h,c){return RegExp(h,c)}o.UNSUPPORTED_Y=l(function(){var h=u("a","y");return h.lastIndex=2,h.exec("abcd")!=null}),o.BROKEN_CARET=l(function(){var h=u("^r","gy");return h.lastIndex=2,h.exec("str")!=null})}),a2bf:(function(s,o,a){var l=a("e8b5"),u=a("50c4"),h=a("0366"),c=function(f,p,d,g,m,v,w,y){for(var _=m,x=0,C=w?h(w,y,3):!1,E;x<g;){if(x in d){if(E=C?C(d[x],x,p):d[x],v>0&&l(E))_=c(f,p,E,u(E.length),_,v-1)-1;else{if(_>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[_]=E}_++}x++}return _};s.exports=c}),a352:(function(s,o){s.exports=i}),a434:(function(s,o,a){var l=a("23e7"),u=a("23cb"),h=a("a691"),c=a("50c4"),f=a("7b0b"),p=a("65f0"),d=a("8418"),g=a("1dde"),m=a("ae40"),v=g("splice"),w=m("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,_=Math.min,x=9007199254740991,C="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!v||!w},{splice:function(S,D){var A=f(this),N=c(A.length),F=u(S,N),T=arguments.length,I,M,L,B,$,q;if(T===0?I=M=0:T===1?(I=0,M=N-F):(I=T-2,M=_(y(h(D),0),N-F)),N+I-M>x)throw TypeError(C);for(L=p(A,M),B=0;B<M;B++)$=F+B,$ in A&&d(L,B,A[$]);if(L.length=M,I<M){for(B=F;B<N-M;B++)$=B+M,q=B+I,$ in A?A[q]=A[$]:delete A[q];for(B=N;B>N-M+I;B--)delete A[B-1]}else if(I>M)for(B=N-M;B>F;B--)$=B+M-1,q=B+I-1,$ in A?A[q]=A[$]:delete A[q];for(B=0;B<I;B++)A[B+F]=arguments[B+2];return A.length=N-M+I,L}})}),a4d3:(function(s,o,a){var l=a("23e7"),u=a("da84"),h=a("d066"),c=a("c430"),f=a("83ab"),p=a("4930"),d=a("fdbf"),g=a("d039"),m=a("5135"),v=a("e8b5"),w=a("861d"),y=a("825a"),_=a("7b0b"),x=a("fc6a"),C=a("c04e"),E=a("5c6c"),S=a("7c73"),D=a("df75"),A=a("241c"),N=a("057f"),F=a("7418"),T=a("06cf"),I=a("9bf2"),M=a("d1e7"),L=a("9112"),B=a("6eeb"),$=a("5692"),q=a("f772"),Z=a("d012"),he=a("90e3"),V=a("b622"),J=a("e538"),ge=a("746f"),W=a("d44e"),z=a("69f3"),de=a("b727").forEach,K=q("hidden"),ue="Symbol",G="prototype",se=V("toPrimitive"),ye=z.set,Ee=z.getterFor(ue),H=Object[G],Q=u.Symbol,re=h("JSON","stringify"),Ce=T.f,_e=I.f,Se=N.f,Te=M.f,De=$("symbols"),be=$("op-symbols"),xe=$("string-to-symbol-registry"),R=$("symbol-to-string-registry"),Oe=$("wks"),Fe=u.QObject,Je=!Fe||!Fe[G]||!Fe[G].findChild,We=f&&g(function(){return S(_e({},"a",{get:function(){return _e(this,"a",{value:7}).a}})).a!=7})?function(ve,Ne,Ie){var Xe=Ce(H,Ne);Xe&&delete H[Ne],_e(ve,Ne,Ie),Xe&&ve!==H&&_e(H,Ne,Xe)}:_e,ft=function(ve,Ne){var Ie=De[ve]=S(Q[G]);return ye(Ie,{type:ue,tag:ve,description:Ne}),f||(Ie.description=Ne),Ie},Ae=d?function(ve){return typeof ve=="symbol"}:function(ve){return Object(ve)instanceof Q},Pe=function(Ne,Ie,Xe){Ne===H&&Pe(be,Ie,Xe),y(Ne);var tt=C(Ie,!0);return y(Xe),m(De,tt)?(Xe.enumerable?(m(Ne,K)&&Ne[K][tt]&&(Ne[K][tt]=!1),Xe=S(Xe,{enumerable:E(0,!1)})):(m(Ne,K)||_e(Ne,K,E(1,{})),Ne[K][tt]=!0),We(Ne,tt,Xe)):_e(Ne,tt,Xe)},Be=function(Ne,Ie){y(Ne);var Xe=x(Ie),tt=D(Xe).concat(oe(Xe));return de(tt,function(bt){(!f||$e.call(Xe,bt))&&Pe(Ne,bt,Xe[bt])}),Ne},je=function(Ne,Ie){return Ie===void 0?S(Ne):Be(S(Ne),Ie)},$e=function(Ne){var Ie=C(Ne,!0),Xe=Te.call(this,Ie);return this===H&&m(De,Ie)&&!m(be,Ie)?!1:Xe||!m(this,Ie)||!m(De,Ie)||m(this,K)&&this[K][Ie]?Xe:!0},P=function(Ne,Ie){var Xe=x(Ne),tt=C(Ie,!0);if(!(Xe===H&&m(De,tt)&&!m(be,tt))){var bt=Ce(Xe,tt);return bt&&m(De,tt)&&!(m(Xe,K)&&Xe[K][tt])&&(bt.enumerable=!0),bt}},j=function(Ne){var Ie=Se(x(Ne)),Xe=[];return de(Ie,function(tt){!m(De,tt)&&!m(Z,tt)&&Xe.push(tt)}),Xe},oe=function(Ne){var Ie=Ne===H,Xe=Se(Ie?be:x(Ne)),tt=[];return de(Xe,function(bt){m(De,bt)&&(!Ie||m(H,bt))&&tt.push(De[bt])}),tt};if(p||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var Ne=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Ie=he(Ne),Xe=function(tt){this===H&&Xe.call(be,tt),m(this,K)&&m(this[K],Ie)&&(this[K][Ie]=!1),We(this,Ie,E(1,tt))};return f&&Je&&We(H,Ie,{configurable:!0,set:Xe}),ft(Ie,Ne)},B(Q[G],"toString",function(){return Ee(this).tag}),B(Q,"withoutSetter",function(ve){return ft(he(ve),ve)}),M.f=$e,I.f=Pe,T.f=P,A.f=N.f=j,F.f=oe,J.f=function(ve){return ft(V(ve),ve)},f&&(_e(Q[G],"description",{configurable:!0,get:function(){return Ee(this).description}}),c||B(H,"propertyIsEnumerable",$e,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Q}),de(D(Oe),function(ve){ge(ve)}),l({target:ue,stat:!0,forced:!p},{for:function(ve){var Ne=String(ve);if(m(xe,Ne))return xe[Ne];var Ie=Q(Ne);return xe[Ne]=Ie,R[Ie]=Ne,Ie},keyFor:function(Ne){if(!Ae(Ne))throw TypeError(Ne+" is not a symbol");if(m(R,Ne))return R[Ne]},useSetter:function(){Je=!0},useSimple:function(){Je=!1}}),l({target:"Object",stat:!0,forced:!p,sham:!f},{create:je,defineProperty:Pe,defineProperties:Be,getOwnPropertyDescriptor:P}),l({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:j,getOwnPropertySymbols:oe}),l({target:"Object",stat:!0,forced:g(function(){F.f(1)})},{getOwnPropertySymbols:function(Ne){return F.f(_(Ne))}}),re){var pe=!p||g(function(){var ve=Q();return re([ve])!="[null]"||re({a:ve})!="{}"||re(Object(ve))!="{}"});l({target:"JSON",stat:!0,forced:pe},{stringify:function(Ne,Ie,Xe){for(var tt=[Ne],bt=1,hn;arguments.length>bt;)tt.push(arguments[bt++]);if(hn=Ie,!(!w(Ie)&&Ne===void 0||Ae(Ne)))return v(Ie)||(Ie=function(O,ee){if(typeof hn=="function"&&(ee=hn.call(this,O,ee)),!Ae(ee))return ee}),tt[1]=Ie,re.apply(null,tt)}})}Q[G][se]||L(Q[G],se,Q[G].valueOf),W(Q,ue),Z[K]=!0}),a630:(function(s,o,a){var l=a("23e7"),u=a("4df4"),h=a("1c7e"),c=!h(function(f){Array.from(f)});l({target:"Array",stat:!0,forced:c},{from:u})}),a640:(function(s,o,a){var l=a("d039");s.exports=function(u,h){var c=[][u];return!!c&&l(function(){c.call(null,h||function(){throw 1},1)})}}),a691:(function(s,o){var a=Math.ceil,l=Math.floor;s.exports=function(u){return isNaN(u=+u)?0:(u>0?l:a)(u)}}),ab13:(function(s,o,a){var l=a("b622"),u=l("match");s.exports=function(h){var c=/./;try{"/./"[h](c)}catch{try{return c[u]=!1,"/./"[h](c)}catch{}}return!1}}),ac1f:(function(s,o,a){var l=a("23e7"),u=a("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})}),ad6d:(function(s,o,a){var l=a("825a");s.exports=function(){var u=l(this),h="";return u.global&&(h+="g"),u.ignoreCase&&(h+="i"),u.multiline&&(h+="m"),u.dotAll&&(h+="s"),u.unicode&&(h+="u"),u.sticky&&(h+="y"),h}}),ae40:(function(s,o,a){var l=a("83ab"),u=a("d039"),h=a("5135"),c=Object.defineProperty,f={},p=function(d){throw d};s.exports=function(d,g){if(h(f,d))return f[d];g||(g={});var m=[][d],v=h(g,"ACCESSORS")?g.ACCESSORS:!1,w=h(g,0)?g[0]:p,y=h(g,1)?g[1]:void 0;return f[d]=!!m&&!u(function(){if(v&&!l)return!0;var _={length:-1};v?c(_,1,{enumerable:!0,get:p}):_[1]=1,m.call(_,w,y)})}}),ae93:(function(s,o,a){var l=a("e163"),u=a("9112"),h=a("5135"),c=a("b622"),f=a("c430"),p=c("iterator"),d=!1,g=function(){return this},m,v,w;[].keys&&(w=[].keys(),"next"in w?(v=l(l(w)),v!==Object.prototype&&(m=v)):d=!0),m==null&&(m={}),!f&&!h(m,p)&&u(m,p,g),s.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:d}}),b041:(function(s,o,a){var l=a("00ee"),u=a("f5df");s.exports=l?{}.toString:function(){return"[object "+u(this)+"]"}}),b0c0:(function(s,o,a){var l=a("83ab"),u=a("9bf2").f,h=Function.prototype,c=h.toString,f=/^\s*function ([^ (]*)/,p="name";l&&!(p in h)&&u(h,p,{configurable:!0,get:function(){try{return c.call(this).match(f)[1]}catch{return""}}})}),b622:(function(s,o,a){var l=a("da84"),u=a("5692"),h=a("5135"),c=a("90e3"),f=a("4930"),p=a("fdbf"),d=u("wks"),g=l.Symbol,m=p?g:g&&g.withoutSetter||c;s.exports=function(v){return h(d,v)||(f&&h(g,v)?d[v]=g[v]:d[v]=m("Symbol."+v)),d[v]}}),b64b:(function(s,o,a){var l=a("23e7"),u=a("7b0b"),h=a("df75"),c=a("d039"),f=c(function(){h(1)});l({target:"Object",stat:!0,forced:f},{keys:function(d){return h(u(d))}})}),b727:(function(s,o,a){var l=a("0366"),u=a("44ad"),h=a("7b0b"),c=a("50c4"),f=a("65f0"),p=[].push,d=function(g){var m=g==1,v=g==2,w=g==3,y=g==4,_=g==6,x=g==5||_;return function(C,E,S,D){for(var A=h(C),N=u(A),F=l(E,S,3),T=c(N.length),I=0,M=D||f,L=m?M(C,T):v?M(C,0):void 0,B,$;T>I;I++)if((x||I in N)&&(B=N[I],$=F(B,I,A),g)){if(m)L[I]=$;else if($)switch(g){case 3:return!0;case 5:return B;case 6:return I;case 2:p.call(L,B)}else if(y)return!1}return _?-1:w||y?y:L}};s.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}}),c04e:(function(s,o,a){var l=a("861d");s.exports=function(u,h){if(!l(u))return u;var c,f;if(h&&typeof(c=u.toString)=="function"&&!l(f=c.call(u))||typeof(c=u.valueOf)=="function"&&!l(f=c.call(u))||!h&&typeof(c=u.toString)=="function"&&!l(f=c.call(u)))return f;throw TypeError("Can't convert object to primitive value")}}),c430:(function(s,o){s.exports=!1}),c6b6:(function(s,o){var a={}.toString;s.exports=function(l){return a.call(l).slice(8,-1)}}),c6cd:(function(s,o,a){var l=a("da84"),u=a("ce4e"),h="__core-js_shared__",c=l[h]||u(h,{});s.exports=c}),c740:(function(s,o,a){var l=a("23e7"),u=a("b727").findIndex,h=a("44d2"),c=a("ae40"),f="findIndex",p=!0,d=c(f);f in[]&&Array(1)[f](function(){p=!1}),l({target:"Array",proto:!0,forced:p||!d},{findIndex:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}}),h(f)}),c8ba:(function(s,o){var a;a=(function(){return this})();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}s.exports=a}),c975:(function(s,o,a){var l=a("23e7"),u=a("4d64").indexOf,h=a("a640"),c=a("ae40"),f=[].indexOf,p=!!f&&1/[1].indexOf(1,-0)<0,d=h("indexOf"),g=c("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:p||!d||!g},{indexOf:function(v){return p?f.apply(this,arguments)||0:u(this,v,arguments.length>1?arguments[1]:void 0)}})}),ca84:(function(s,o,a){var l=a("5135"),u=a("fc6a"),h=a("4d64").indexOf,c=a("d012");s.exports=function(f,p){var d=u(f),g=0,m=[],v;for(v in d)!l(c,v)&&l(d,v)&&m.push(v);for(;p.length>g;)l(d,v=p[g++])&&(~h(m,v)||m.push(v));return m}}),caad:(function(s,o,a){var l=a("23e7"),u=a("4d64").includes,h=a("44d2"),c=a("ae40"),f=c("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!f},{includes:function(d){return u(this,d,arguments.length>1?arguments[1]:void 0)}}),h("includes")}),cc12:(function(s,o,a){var l=a("da84"),u=a("861d"),h=l.document,c=u(h)&&u(h.createElement);s.exports=function(f){return c?h.createElement(f):{}}}),ce4e:(function(s,o,a){var l=a("da84"),u=a("9112");s.exports=function(h,c){try{u(l,h,c)}catch{l[h]=c}return c}}),d012:(function(s,o){s.exports={}}),d039:(function(s,o){s.exports=function(a){try{return!!a()}catch{return!0}}}),d066:(function(s,o,a){var l=a("428f"),u=a("da84"),h=function(c){return typeof c=="function"?c:void 0};s.exports=function(c,f){return arguments.length<2?h(l[c])||h(u[c]):l[c]&&l[c][f]||u[c]&&u[c][f]}}),d1e7:(function(s,o,a){var l={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,h=u&&!l.call({1:2},1);o.f=h?function(f){var p=u(this,f);return!!p&&p.enumerable}:l}),d28b:(function(s,o,a){var l=a("746f");l("iterator")}),d2bb:(function(s,o,a){var l=a("825a"),u=a("3bbe");s.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var h=!1,c={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(c,[]),h=c instanceof Array}catch{}return function(d,g){return l(d),u(g),h?f.call(d,g):d.__proto__=g,d}})():void 0)}),d3b7:(function(s,o,a){var l=a("00ee"),u=a("6eeb"),h=a("b041");l||u(Object.prototype,"toString",h,{unsafe:!0})}),d44e:(function(s,o,a){var l=a("9bf2").f,u=a("5135"),h=a("b622"),c=h("toStringTag");s.exports=function(f,p,d){f&&!u(f=d?f:f.prototype,c)&&l(f,c,{configurable:!0,value:p})}}),d58f:(function(s,o,a){var l=a("1c0b"),u=a("7b0b"),h=a("44ad"),c=a("50c4"),f=function(p){return function(d,g,m,v){l(g);var w=u(d),y=h(w),_=c(w.length),x=p?_-1:0,C=p?-1:1;if(m<2)for(;;){if(x in y){v=y[x],x+=C;break}if(x+=C,p?x<0:_<=x)throw TypeError("Reduce of empty array with no initial value")}for(;p?x>=0:_>x;x+=C)x in y&&(v=g(v,y[x],x,w));return v}};s.exports={left:f(!1),right:f(!0)}}),d784:(function(s,o,a){a("ac1f");var l=a("6eeb"),u=a("d039"),h=a("b622"),c=a("9263"),f=a("9112"),p=h("species"),d=!u(function(){var y=/./;return y.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(y,"$<a>")!=="7"}),g=(function(){return"a".replace(/./,"$0")==="$0"})(),m=h("replace"),v=(function(){return/./[m]?/./[m]("a","$0")==="":!1})(),w=!u(function(){var y=/(?:)/,_=y.exec;y.exec=function(){return _.apply(this,arguments)};var x="ab".split(y);return x.length!==2||x[0]!=="a"||x[1]!=="b"});s.exports=function(y,_,x,C){var E=h(y),S=!u(function(){var I={};return I[E]=function(){return 7},""[y](I)!=7}),D=S&&!u(function(){var I=!1,M=/a/;return y==="split"&&(M={},M.constructor={},M.constructor[p]=function(){return M},M.flags="",M[E]=/./[E]),M.exec=function(){return I=!0,null},M[E](""),!I});if(!S||!D||y==="replace"&&!(d&&g&&!v)||y==="split"&&!w){var A=/./[E],N=x(E,""[y],function(I,M,L,B,$){return M.exec===c?S&&!$?{done:!0,value:A.call(M,L,B)}:{done:!0,value:I.call(L,M,B)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),F=N[0],T=N[1];l(String.prototype,y,F),l(RegExp.prototype,E,_==2?function(I,M){return T.call(I,this,M)}:function(I){return T.call(I,this)})}C&&f(RegExp.prototype[E],"sham",!0)}}),d81d:(function(s,o,a){var l=a("23e7"),u=a("b727").map,h=a("1dde"),c=a("ae40"),f=h("map"),p=c("map");l({target:"Array",proto:!0,forced:!f||!p},{map:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}})}),da84:(function(s,o,a){(function(l){var u=function(h){return h&&h.Math==Math&&h};s.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof l=="object"&&l)||Function("return this")()}).call(this,a("c8ba"))}),dbb4:(function(s,o,a){var l=a("23e7"),u=a("83ab"),h=a("56ef"),c=a("fc6a"),f=a("06cf"),p=a("8418");l({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(g){for(var m=c(g),v=f.f,w=h(m),y={},_=0,x,C;w.length>_;)C=v(m,x=w[_++]),C!==void 0&&p(y,x,C);return y}})}),dbf1:(function(s,o,a){(function(l){a.d(o,"a",function(){return h});function u(){return typeof window<"u"?window.console:l.console}var h=u()}).call(this,a("c8ba"))}),ddb0:(function(s,o,a){var l=a("da84"),u=a("fdbc"),h=a("e260"),c=a("9112"),f=a("b622"),p=f("iterator"),d=f("toStringTag"),g=h.values;for(var m in u){var v=l[m],w=v&&v.prototype;if(w){if(w[p]!==g)try{c(w,p,g)}catch{w[p]=g}if(w[d]||c(w,d,m),u[m]){for(var y in h)if(w[y]!==h[y])try{c(w,y,h[y])}catch{w[y]=h[y]}}}}}),df75:(function(s,o,a){var l=a("ca84"),u=a("7839");s.exports=Object.keys||function(c){return l(c,u)}}),e01a:(function(s,o,a){var l=a("23e7"),u=a("83ab"),h=a("da84"),c=a("5135"),f=a("861d"),p=a("9bf2").f,d=a("e893"),g=h.Symbol;if(u&&typeof g=="function"&&(!("description"in g.prototype)||g().description!==void 0)){var m={},v=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),S=this instanceof v?new g(E):E===void 0?g():g(E);return E===""&&(m[S]=!0),S};d(v,g);var w=v.prototype=g.prototype;w.constructor=v;var y=w.toString,_=String(g("test"))=="Symbol(test)",x=/^Symbol\((.*)\)[^)]+$/;p(w,"description",{configurable:!0,get:function(){var E=f(this)?this.valueOf():this,S=y.call(E);if(c(m,E))return"";var D=_?S.slice(7,-1):S.replace(x,"$1");return D===""?void 0:D}}),l({global:!0,forced:!0},{Symbol:v})}}),e163:(function(s,o,a){var l=a("5135"),u=a("7b0b"),h=a("f772"),c=a("e177"),f=h("IE_PROTO"),p=Object.prototype;s.exports=c?Object.getPrototypeOf:function(d){return d=u(d),l(d,f)?d[f]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?p:null}}),e177:(function(s,o,a){var l=a("d039");s.exports=!l(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})}),e260:(function(s,o,a){var l=a("fc6a"),u=a("44d2"),h=a("3f8c"),c=a("69f3"),f=a("7dd0"),p="Array Iterator",d=c.set,g=c.getterFor(p);s.exports=f(Array,"Array",function(m,v){d(this,{type:p,target:l(m),index:0,kind:v})},function(){var m=g(this),v=m.target,w=m.kind,y=m.index++;return!v||y>=v.length?(m.target=void 0,{value:void 0,done:!0}):w=="keys"?{value:y,done:!1}:w=="values"?{value:v[y],done:!1}:{value:[y,v[y]],done:!1}},"values"),h.Arguments=h.Array,u("keys"),u("values"),u("entries")}),e439:(function(s,o,a){var l=a("23e7"),u=a("d039"),h=a("fc6a"),c=a("06cf").f,f=a("83ab"),p=u(function(){c(1)}),d=!f||p;l({target:"Object",stat:!0,forced:d,sham:!f},{getOwnPropertyDescriptor:function(m,v){return c(h(m),v)}})}),e538:(function(s,o,a){var l=a("b622");o.f=l}),e893:(function(s,o,a){var l=a("5135"),u=a("56ef"),h=a("06cf"),c=a("9bf2");s.exports=function(f,p){for(var d=u(p),g=c.f,m=h.f,v=0;v<d.length;v++){var w=d[v];l(f,w)||g(f,w,m(p,w))}}}),e8b5:(function(s,o,a){var l=a("c6b6");s.exports=Array.isArray||function(h){return l(h)=="Array"}}),e95a:(function(s,o,a){var l=a("b622"),u=a("3f8c"),h=l("iterator"),c=Array.prototype;s.exports=function(f){return f!==void 0&&(u.Array===f||c[h]===f)}}),f5df:(function(s,o,a){var l=a("00ee"),u=a("c6b6"),h=a("b622"),c=h("toStringTag"),f=u((function(){return arguments})())=="Arguments",p=function(d,g){try{return d[g]}catch{}};s.exports=l?u:function(d){var g,m,v;return d===void 0?"Undefined":d===null?"Null":typeof(m=p(g=Object(d),c))=="string"?m:f?u(g):(v=u(g))=="Object"&&typeof g.callee=="function"?"Arguments":v}}),f772:(function(s,o,a){var l=a("5692"),u=a("90e3"),h=l("keys");s.exports=function(c){return h[c]||(h[c]=u(c))}}),fb15:(function(s,o,a){if(a.r(o),typeof window<"u"){var l=window.document.currentScript;{var u=a("8875");l=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var h=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);h&&(a.p=h[1])}a("99af"),a("4de4"),a("4160"),a("c975"),a("d81d"),a("a434"),a("159b"),a("a4d3"),a("e439"),a("dbb4"),a("b64b");function c(Ae,Pe,Be){return Pe in Ae?Object.defineProperty(Ae,Pe,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ae[Pe]=Be,Ae}function f(Ae,Pe){var Be=Object.keys(Ae);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(Ae);Pe&&(je=je.filter(function($e){return Object.getOwnPropertyDescriptor(Ae,$e).enumerable})),Be.push.apply(Be,je)}return Be}function p(Ae){for(var Pe=1;Pe<arguments.length;Pe++){var Be=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?f(Object(Be),!0).forEach(function(je){c(Ae,je,Be[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(Be)):f(Object(Be)).forEach(function(je){Object.defineProperty(Ae,je,Object.getOwnPropertyDescriptor(Be,je))})}return Ae}function d(Ae){if(Array.isArray(Ae))return Ae}a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function g(Ae,Pe){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Ae)))){var Be=[],je=!0,$e=!1,P=void 0;try{for(var j=Ae[Symbol.iterator](),oe;!(je=(oe=j.next()).done)&&(Be.push(oe.value),!(Pe&&Be.length===Pe));je=!0);}catch(pe){$e=!0,P=pe}finally{try{!je&&j.return!=null&&j.return()}finally{if($e)throw P}}return Be}}a("a630"),a("fb6a"),a("b0c0"),a("25f0");function m(Ae,Pe){(Pe==null||Pe>Ae.length)&&(Pe=Ae.length);for(var Be=0,je=new Array(Pe);Be<Pe;Be++)je[Be]=Ae[Be];return je}function v(Ae,Pe){if(Ae){if(typeof Ae=="string")return m(Ae,Pe);var Be=Object.prototype.toString.call(Ae).slice(8,-1);if(Be==="Object"&&Ae.constructor&&(Be=Ae.constructor.name),Be==="Map"||Be==="Set")return Array.from(Ae);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return m(Ae,Pe)}}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(Ae,Pe){return d(Ae)||g(Ae,Pe)||v(Ae,Pe)||w()}function _(Ae){if(Array.isArray(Ae))return m(Ae)}function x(Ae){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ae))return Array.from(Ae)}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(Ae){return _(Ae)||x(Ae)||v(Ae)||C()}var S=a("a352"),D=a.n(S);function A(Ae){Ae.parentElement!==null&&Ae.parentElement.removeChild(Ae)}function N(Ae,Pe,Be){var je=Be===0?Ae.children[0]:Ae.children[Be-1].nextSibling;Ae.insertBefore(Pe,je)}var F=a("dbf1");a("13d5"),a("4fad"),a("ac1f"),a("5319");function T(Ae){var Pe=Object.create(null);return function(je){var $e=Pe[je];return $e||(Pe[je]=Ae(je))}}var I=/-(\w)/g,M=T(function(Ae){return Ae.replace(I,function(Pe,Be){return Be.toUpperCase()})});a("5db7"),a("73d9");var L=["Start","Add","Remove","Update","End"],B=["Choose","Unchoose","Sort","Filter","Clone"],$=["Move"],q=[$,L,B].flatMap(function(Ae){return Ae}).map(function(Ae){return"on".concat(Ae)}),Z={manage:$,manageAndEmit:L,emit:B};function he(Ae){return q.indexOf(Ae)!==-1}a("caad"),a("2ca0");var V=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function J(Ae){return V.includes(Ae)}function ge(Ae){return["transition-group","TransitionGroup"].includes(Ae)}function W(Ae){return["id","class","role","style"].includes(Ae)||Ae.startsWith("data-")||Ae.startsWith("aria-")||Ae.startsWith("on")}function z(Ae){return Ae.reduce(function(Pe,Be){var je=y(Be,2),$e=je[0],P=je[1];return Pe[$e]=P,Pe},{})}function de(Ae){var Pe=Ae.$attrs,Be=Ae.componentData,je=Be===void 0?{}:Be,$e=z(Object.entries(Pe).filter(function(P){var j=y(P,2),oe=j[0];return j[1],W(oe)}));return p(p({},$e),je)}function K(Ae){var Pe=Ae.$attrs,Be=Ae.callBackBuilder,je=z(ue(Pe));Object.entries(Be).forEach(function(P){var j=y(P,2),oe=j[0],pe=j[1];Z[oe].forEach(function(ve){je["on".concat(ve)]=pe(ve)})});var $e="[data-draggable]".concat(je.draggable||"");return p(p({},je),{},{draggable:$e})}function ue(Ae){return Object.entries(Ae).filter(function(Pe){var Be=y(Pe,2),je=Be[0];return Be[1],!W(je)}).map(function(Pe){var Be=y(Pe,2),je=Be[0],$e=Be[1];return[M(je),$e]}).filter(function(Pe){var Be=y(Pe,2),je=Be[0];return Be[1],!he(je)})}a("c740");function G(Ae,Pe){if(!(Ae instanceof Pe))throw new TypeError("Cannot call a class as a function")}function se(Ae,Pe){for(var Be=0;Be<Pe.length;Be++){var je=Pe[Be];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(Ae,je.key,je)}}function ye(Ae,Pe,Be){return Pe&&se(Ae.prototype,Pe),Ae}var Ee=function(Pe){var Be=Pe.el;return Be},H=function(Pe,Be){return Pe.__draggable_context=Be},Q=function(Pe){return Pe.__draggable_context},re=(function(){function Ae(Pe){var Be=Pe.nodes,je=Be.header,$e=Be.default,P=Be.footer,j=Pe.root,oe=Pe.realList;G(this,Ae),this.defaultNodes=$e,this.children=[].concat(E(je),E($e),E(P)),this.externalComponent=j.externalComponent,this.rootTransition=j.transition,this.tag=j.tag,this.realList=oe}return ye(Ae,[{key:"render",value:function(Be,je){var $e=this.tag,P=this.children,j=this._isRootComponent,oe=j?{default:function(){return P}}:P;return Be($e,je,oe)}},{key:"updated",value:function(){var Be=this.defaultNodes,je=this.realList;Be.forEach(function($e,P){H(Ee($e),{element:je[P],index:P})})}},{key:"getUnderlyingVm",value:function(Be){return Q(Be)}},{key:"getVmIndexFromDomIndex",value:function(Be,je){var $e=this.defaultNodes,P=$e.length,j=je.children,oe=j.item(Be);if(oe===null)return P;var pe=Q(oe);if(pe)return pe.index;if(P===0)return 0;var ve=Ee($e[0]),Ne=E(j).findIndex(function(Ie){return Ie===ve});return Be<Ne?0:P}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),Ae})(),Ce=a("8bbf");function _e(Ae,Pe){var Be=Ae[Pe];return Be?Be():[]}function Se(Ae){var Pe=Ae.$slots,Be=Ae.realList,je=Ae.getKey,$e=Be||[],P=["header","footer"].map(function(Ie){return _e(Pe,Ie)}),j=y(P,2),oe=j[0],pe=j[1],ve=Pe.item;if(!ve)throw new Error("draggable element must have an item slot");var Ne=$e.flatMap(function(Ie,Xe){return ve({element:Ie,index:Xe}).map(function(tt){return tt.key=je(Ie),tt.props=p(p({},tt.props||{}),{},{"data-draggable":!0}),tt})});if(Ne.length!==$e.length)throw new Error("Item slot must have only one child");return{header:oe,footer:pe,default:Ne}}function Te(Ae){var Pe=ge(Ae),Be=!J(Ae)&&!Pe;return{transition:Pe,externalComponent:Be,tag:Be?Object(Ce.resolveComponent)(Ae):Pe?Ce.TransitionGroup:Ae}}function De(Ae){var Pe=Ae.$slots,Be=Ae.tag,je=Ae.realList,$e=Ae.getKey,P=Se({$slots:Pe,realList:je,getKey:$e}),j=Te(Be);return new re({nodes:P,root:j,realList:je})}function be(Ae,Pe){var Be=this;Object(Ce.nextTick)(function(){return Be.$emit(Ae.toLowerCase(),Pe)})}function xe(Ae){var Pe=this;return function(Be,je){if(Pe.realList!==null)return Pe["onDrag".concat(Ae)](Be,je)}}function R(Ae){var Pe=this,Be=xe.call(this,Ae);return function(je,$e){Be.call(Pe,je,$e),be.call(Pe,Ae,je)}}var Oe=null,Fe={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(Pe){return Pe}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Je=["update:modelValue","change"].concat(E([].concat(E(Z.manageAndEmit),E(Z.emit)).map(function(Ae){return Ae.toLowerCase()}))),We=Object(Ce.defineComponent)({name:"draggable",inheritAttrs:!1,props:Fe,emits:Je,data:function(){return{error:!1}},render:function(){try{this.error=!1;var Pe=this.$slots,Be=this.$attrs,je=this.tag,$e=this.componentData,P=this.realList,j=this.getKey,oe=De({$slots:Pe,tag:je,realList:P,getKey:j});this.componentStructure=oe;var pe=de({$attrs:Be,componentData:$e});return oe.render(Ce.h,pe)}catch(ve){return this.error=!0,Object(Ce.h)("pre",{style:{color:"red"}},ve.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&F.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var Pe=this;if(!this.error){var Be=this.$attrs,je=this.$el,$e=this.componentStructure;$e.updated();var P=K({$attrs:Be,callBackBuilder:{manageAndEmit:function(pe){return R.call(Pe,pe)},emit:function(pe){return be.bind(Pe,pe)},manage:function(pe){return xe.call(Pe,pe)}}}),j=je.nodeType===1?je:je.parentElement;this._sortable=new D.a(j,P),this.targetDomElement=j,j.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var Pe=this.list;return Pe||this.modelValue},getKey:function(){var Pe=this.itemKey;return typeof Pe=="function"?Pe:function(Be){return Be[Pe]}}},watch:{$attrs:{handler:function(Pe){var Be=this._sortable;Be&&ue(Pe).forEach(function(je){var $e=y(je,2),P=$e[0],j=$e[1];Be.option(P,j)})},deep:!0}},methods:{getUnderlyingVm:function(Pe){return this.componentStructure.getUnderlyingVm(Pe)||null},getUnderlyingPotencialDraggableComponent:function(Pe){return Pe.__draggable_component__},emitChanges:function(Pe){var Be=this;Object(Ce.nextTick)(function(){return Be.$emit("change",Pe)})},alterList:function(Pe){if(this.list){Pe(this.list);return}var Be=E(this.modelValue);Pe(Be),this.$emit("update:modelValue",Be)},spliceList:function(){var Pe=arguments,Be=function($e){return $e.splice.apply($e,E(Pe))};this.alterList(Be)},updatePosition:function(Pe,Be){var je=function(P){return P.splice(Be,0,P.splice(Pe,1)[0])};this.alterList(je)},getRelatedContextFromMoveEvent:function(Pe){var Be=Pe.to,je=Pe.related,$e=this.getUnderlyingPotencialDraggableComponent(Be);if(!$e)return{component:$e};var P=$e.realList,j={list:P,component:$e};if(Be!==je&&P){var oe=$e.getUnderlyingVm(je)||{};return p(p({},oe),j)}return j},getVmIndexFromDomIndex:function(Pe){return this.componentStructure.getVmIndexFromDomIndex(Pe,this.targetDomElement)},onDragStart:function(Pe){this.context=this.getUnderlyingVm(Pe.item),Pe.item._underlying_vm_=this.clone(this.context.element),Oe=Pe.item},onDragAdd:function(Pe){var Be=Pe.item._underlying_vm_;if(Be!==void 0){A(Pe.item);var je=this.getVmIndexFromDomIndex(Pe.newIndex);this.spliceList(je,0,Be);var $e={element:Be,newIndex:je};this.emitChanges({added:$e})}},onDragRemove:function(Pe){if(N(this.$el,Pe.item,Pe.oldIndex),Pe.pullMode==="clone"){A(Pe.clone);return}var Be=this.context,je=Be.index,$e=Be.element;this.spliceList(je,1);var P={element:$e,oldIndex:je};this.emitChanges({removed:P})},onDragUpdate:function(Pe){A(Pe.item),N(Pe.from,Pe.item,Pe.oldIndex);var Be=this.context.index,je=this.getVmIndexFromDomIndex(Pe.newIndex);this.updatePosition(Be,je);var $e={element:this.context.element,oldIndex:Be,newIndex:je};this.emitChanges({moved:$e})},computeFutureIndex:function(Pe,Be){if(!Pe.element)return 0;var je=E(Be.to.children).filter(function(oe){return oe.style.display!=="none"}),$e=je.indexOf(Be.related),P=Pe.component.getVmIndexFromDomIndex($e),j=je.indexOf(Oe)!==-1;return j||!Be.willInsertAfter?P:P+1},onDragMove:function(Pe,Be){var je=this.move,$e=this.realList;if(!je||!$e)return!0;var P=this.getRelatedContextFromMoveEvent(Pe),j=this.computeFutureIndex(P,Pe),oe=p(p({},this.context),{},{futureIndex:j}),pe=p(p({},Pe),{},{relatedContext:P,draggedContext:oe});return je(pe,Be)},onDragEnd:function(){Oe=null}}}),ft=We;o.default=ft}),fb6a:(function(s,o,a){var l=a("23e7"),u=a("861d"),h=a("e8b5"),c=a("23cb"),f=a("50c4"),p=a("fc6a"),d=a("8418"),g=a("b622"),m=a("1dde"),v=a("ae40"),w=m("slice"),y=v("slice",{ACCESSORS:!0,0:0,1:2}),_=g("species"),x=[].slice,C=Math.max;l({target:"Array",proto:!0,forced:!w||!y},{slice:function(S,D){var A=p(this),N=f(A.length),F=c(S,N),T=c(D===void 0?N:D,N),I,M,L;if(h(A)&&(I=A.constructor,typeof I=="function"&&(I===Array||h(I.prototype))?I=void 0:u(I)&&(I=I[_],I===null&&(I=void 0)),I===Array||I===void 0))return x.call(A,F,T);for(M=new(I===void 0?Array:I)(C(T-F,0)),L=0;F<T;F++,L++)F in A&&d(M,L,A[F]);return M.length=L,M}})}),fc6a:(function(s,o,a){var l=a("44ad"),u=a("1d80");s.exports=function(h){return l(u(h))}}),fdbc:(function(s,o){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),fdbf:(function(s,o,a){var l=a("4930");s.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"})}).default})})(np)),np.exports}var nre=tre();const rre=d1(nre),ire={name:"ConfirmDeleteModal",props:{show:{type:Boolean,default:!1},message:{type:String,default:"?"}},emits:["confirm","close"],methods:{confirm(){this.$emit("confirm")},close(){this.$emit("close")}}},sre={class:"modal-content"},ore={class:"button-group"};function are(n,t,r,i,s,o){return r.show?(ie(),le("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=hr((...a)=>o.close&&o.close(...a),["self"])),style:{"font-family":"'SUIT', sans-serif"}},[b("div",sre,[b("p",null,ke(r.message),1),b("div",ore,[b("button",{class:"btn btn-cancel",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},""),b("button",{class:"btn btn-confirm",onClick:t[1]||(t[1]=(...a)=>o.confirm&&o.confirm(...a))},"")])])])):et("",!0)}const LF=yt(ire,[["render",are],["__scopeId","data-v-d3ea8c76"]]),lre={name:"AddPlaceModal",props:{show:{type:Boolean,default:!1},courseItems:{type:Array,default:()=>[]}},emits:["close","add-item"],data(){return{searchQuery:"",places:[],loading:!1,addedPlaceIds:new Set,searchTimeout:null,ps:null,isInitialized:!1}},watch:{show(n){n&&!this.isInitialized&&this.$nextTick(()=>{this.initialize()})}},methods:{initialize(){console.log("AddPlaceModal "),this.initializeKakaoServices(),this.isInitialized=!0},initializeKakaoServices(){let n=0;const t=30,r=()=>window.kakao&&window.kakao.maps&&window.kakao.maps.services?(this.ps=new window.kakao.maps.services.Places,console.log("  Places   "),!0):(n++,n<t?setTimeout(r,100):console.error("  API  "),!1);r()},getCourseCenter(){if(!this.courseItems||this.courseItems.length===0)return{lat:37.566826,lng:126.9786567};const n=this.courseItems.reduce((r,i)=>r+(i.lat||0),0),t=this.courseItems.reduce((r,i)=>r+(i.lng||0),0);return{lat:n/this.courseItems.length,lng:t/this.courseItems.length}},calculateDistance(n,t,r,i){const o=n*Math.PI/180,a=r*Math.PI/180,l=(r-n)*Math.PI/180,u=(i-t)*Math.PI/180,h=Math.sin(l/2)*Math.sin(l/2)+Math.cos(o)*Math.cos(a)*Math.sin(u/2)*Math.sin(u/2);return 6371e3*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))},calculateDistanceFromCourse(n,t){if(!this.courseItems||this.courseItems.length===0)return{distance:0,isFar:!1};let r=1/0;this.courseItems.forEach(s=>{if(s.lat&&s.lng){const o=this.calculateDistance(n,t,s.lat,s.lng);o<r&&(r=o)}});const i=r>2e4;return{distance:r,isFar:i}},formatDistance(n){return n<1e3?`${Math.round(n)}m`:`${(n/1e3).toFixed(1)}km`},getDistanceClass(n){const t=parseFloat(n);return t<5?"distance-near":t<15?"distance-medium":"distance-far"},onSearchInput(){if(this.searchTimeout&&clearTimeout(this.searchTimeout),!this.searchQuery.trim()){this.places=[];return}this.searchTimeout=setTimeout(()=>{this.searchPlaces()},500)},quickSearch(n){this.searchQuery=n,this.searchPlaces()},searchPlaces(){if(!this.ps||!this.searchQuery.trim()){console.warn("  ");return}console.log(` : "${this.searchQuery}"`),this.loading=!0,this.ps.keywordSearch(this.searchQuery,this.searchCallback.bind(this))},searchCallback(n,t){this.loading=!1,t===window.kakao.maps.services.Status.OK?(this.getCourseCenter(),this.places=n.map((r,i)=>{const{distance:s,isFar:o}=this.calculateDistanceFromCourse(parseFloat(r.y),parseFloat(r.x));return{id:r.id||`search-${i}`,name:r.place_name,address:r.road_address_name||r.address_name,lat:parseFloat(r.y),lng:parseFloat(r.x),phone:r.phone||"",category:r.category_name||"",distanceFromCourse:this.formatDistance(s),distanceMeters:s,isFarAway:o}}).sort((r,i)=>r.distanceMeters-i.distanceMeters),console.log(`  : ${this.places.length}`)):t===window.kakao.maps.services.Status.ZERO_RESULT?(this.places=[],console.log("  ")):(console.error(" :",t),this.places=[])},clearSearch(){this.searchQuery="",this.places=[]},isPlaceAdded(n){return this.addedPlaceIds.has(n)},addItem(n){this.addedPlaceIds.add(n.id),this.$emit("add-item",{name:n.name,address:n.address,lat:n.lat,lng:n.lng,phone:n.phone,category:n.category,imageUrl:"https://placehold.co/800x600/AACCFF/000000"}),console.log("  :",n.name)},close(){this.searchQuery="",this.places=[],this.addedPlaceIds.clear(),this.isInitialized=!1,this.$emit("close")}},beforeUnmount(){this.searchTimeout&&clearTimeout(this.searchTimeout)}},ure={class:"modal-content"},cre={class:"header"},hre={class:"content"},fre={class:"search-bar"},dre={class:"quick-search"},pre={key:0,class:"loading-state"},mre={key:1,class:"no-results"},gre={key:2,class:"place-list"},vre={class:"place-info"},yre={class:"place-name"},bre={class:"place-address"},xre={class:"distance-info"},_re={key:0,class:"warning-badge"},wre={key:0,class:"place-category"},Ere=["disabled","onClick"],Sre={key:0,class:"bi bi-plus"},Cre={key:3,class:"initial-state"};function Are(n,t,r,i,s,o){return r.show?(ie(),le("div",{key:0,class:"modal-overlay",onClick:t[9]||(t[9]=hr((...a)=>o.close&&o.close(...a),["self"]))},[b("div",ure,[b("div",cre,[t[10]||(t[10]=b("span",{class:"title"},"  ",-1)),b("button",{class:"close-btn",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},"")]),b("div",hre,[b("div",fre,[t[12]||(t[12]=b("i",{class:"bi bi-search"},null,-1)),Bt(b("input",{type:"text",placeholder:"    ","onUpdate:modelValue":t[1]||(t[1]=a=>s.searchQuery=a),onInput:t[2]||(t[2]=(...a)=>o.onSearchInput&&o.onSearchInput(...a)),onKeyup:t[3]||(t[3]=z1((...a)=>o.searchPlaces&&o.searchPlaces(...a),["enter"]))},null,544),[[bn,s.searchQuery]]),s.searchQuery?(ie(),le("button",{key:0,onClick:t[4]||(t[4]=(...a)=>o.clearSearch&&o.clearSearch(...a)),class:"clear-btn"},[...t[11]||(t[11]=[b("i",{class:"bi bi-x"},null,-1)])])):et("",!0)]),b("div",dre,[b("span",{class:"tag",onClick:t[5]||(t[5]=a=>o.quickSearch(""))},""),b("span",{class:"tag",onClick:t[6]||(t[6]=a=>o.quickSearch(""))},""),b("span",{class:"tag",onClick:t[7]||(t[7]=a=>o.quickSearch(""))},""),b("span",{class:"tag",onClick:t[8]||(t[8]=a=>o.quickSearch(""))},"")]),s.loading?(ie(),le("div",pre,[...t[13]||(t[13]=[b("div",{class:"spinner"},null,-1),b("span",null," ...",-1)])])):s.searchQuery&&s.places.length===0&&!s.loading?(ie(),le("div",mre,[t[14]||(t[14]=b("i",{class:"bi bi-search"},null,-1)),b("span",null,'"'+ke(s.searchQuery)+'"    .',1)])):s.places.length>0?(ie(),le("ul",gre,[(ie(!0),le(it,null,At(s.places,a=>(ie(),le("li",{key:a.id,class:"place-item"},[b("div",vre,[b("span",yre,ke(a.name),1),b("span",bre,ke(a.address),1),b("div",xre,[b("span",{class:st(["distance",o.getDistanceClass(a.distanceFromCourse)])},[t[15]||(t[15]=b("i",{class:"bi bi-geo-alt"},null,-1)),Ct("  "+ke(a.distanceFromCourse),1)],2),a.isFarAway?(ie(),le("span",_re,[...t[16]||(t[16]=[b("i",{class:"bi bi-exclamation-circle"},null,-1),Ct("   ",-1)])])):et("",!0)]),a.category?(ie(),le("span",wre,ke(a.category),1)):et("",!0)]),b("button",{class:"btn-add",disabled:o.isPlaceAdded(a.id),onClick:l=>o.addItem(a)},[o.isPlaceAdded(a.id)?et("",!0):(ie(),le("i",Sre)),Ct(" "+ke(o.isPlaceAdded(a.id)?"":""),1)],8,Ere)]))),128))])):(ie(),le("div",Cre,[...t[17]||(t[17]=[b("i",{class:"bi bi-search"},null,-1),b("p",null,"  ",-1),b("p",{class:"hint"},"   ",-1)])]))])])])):et("",!0)}const Tre=yt(lre,[["render",Are],["__scopeId","data-v-b263d7b4"]]),Ire={class:"map-rv-container"},Dre={key:0,class:"map-toggle-buttons"},Nre={__name:"CourseMap",props:{items:{type:Array,required:!0},title:{type:String,default:" "},isSingleLocation:{type:Boolean,default:!1},defaultZoomLevel:{type:Number,default:5},pageType:{type:String,default:"place"}},setup(n){const t=n,r=Ue(null),i=Ue(null),s=Ue([]),o=Ue(null),a=Ue(null),l=Ue(null),u=Ue(!1),h=Ue(null);On(async()=>{try{if(fD()||(console.log("[CourseMap]   ..."),await Y1()),window.kakao&&window.kakao.maps){const w={center:new window.kakao.maps.LatLng(36.3758,127.3845),level:t.isSingleLocation?t.defaultZoomLevel:5};i.value=new window.kakao.maps.Map(r.value,w),l.value=new window.kakao.maps.Roadview(a.value),h.value=new window.kakao.maps.RoadviewClient,g(t.items)}else console.error("[CourseMap]  API  .")}catch(w){console.error("[CourseMap]   :",w)}}),ri(()=>t.items,w=>{i.value&&(g(w),u.value&&f(!1))});const c=async w=>{if(t.pageType==="exhibition")return console.log('[API] pageType "exhibition" API      .'),null;if(w.length<2)return console.warn("[API]    ."),null;const y=w[0],_=w[w.length-1],x=w.slice(1,-1),C={origin:{x:y.lng.toString(),y:y.lat.toString()},destination:{x:_.lng.toString(),y:_.lat.toString()},waypoints:x.map(D=>({x:D.lng.toString(),y:D.lat.toString()})),priority:"TIME"},E="28242ddd7cda15c60301eff5cada6efc",S="https://apis-navi.kakaomobility.com/v1/waypoints/directions";try{const D=await fetch(S,{method:"POST",headers:{Authorization:`KakaoAK ${E}`,"Content-Type":"application/json"},body:JSON.stringify(C)});if(!D.ok)throw new Error(`Kakao Directions API : ${D.status} ${D.statusText}`);const A=await D.json();if(A.routes&&A.routes.length>0){const N=A.routes[0],F=[];return N.sections.forEach(T=>{T.roads.forEach(I=>{I.vertexes.forEach((M,L)=>{if(L%2===0){const B=M,$=I.vertexes[L+1];F.push(new window.kakao.maps.LatLng($,B))}})})}),console.log(`[API]    ${F.length}  .`),F}return null}catch(D){return console.error("[API]  API    :",D),null}},f=w=>{if(u.value=w,w){if(!t.items||t.items.length===0)return;const y=t.items[0],_=new window.kakao.maps.LatLng(Number(y.lat),Number(y.lng));setTimeout(()=>{l.value.relayout(),h.value.getNearestPanoId(_,200,x=>{x?(l.value.setPanoId(x,_),new window.kakao.maps.Marker({position:_,map:l.value})):(alert("    ."),u.value=!1)})},0)}else i.value&&setTimeout(()=>{if(i.value.relayout(),d&&!d.isEmpty())if(t.isSingleLocation){const y=new window.kakao.maps.LatLng(Number(t.items[0].lat),Number(t.items[0].lng));i.value.setCenter(y)}else i.value.setBounds(d)},0)},p=()=>{s.value.length>0&&(s.value.forEach(w=>w.setMap(null)),s.value=[]),o.value&&(o.value.setMap(null),o.value=null)};let d=null;const g=async w=>{if(console.log("[CourseMap] drawCourseOnMap  / pageType:",t.pageType),!i.value||!r.value||!w||w.length===0){(!w||w.length===0)&&p();return}p();const y=[],_=[];if(d=new window.kakao.maps.LatLngBounds,w.forEach((x,C)=>{if(x.lat==null||x.lng==null||isNaN(Number(x.lat))||isNaN(Number(x.lng))){console.error(`[CourseMap]  ${C}   .   .`,x);return}const E=new window.kakao.maps.LatLng(Number(x.lat),Number(x.lng)),S=t.isSingleLocation?"":x.number||C+1,D=t.isSingleLocation?"#FF5A5A":m(S),A=v(S,D);if(!A||typeof A!="string"||!A.startsWith("data:image/svg+xml")){console.error(`[CourseMap]  ${C}     .`,A);return}let N;try{N=new window.kakao.maps.MarkerImage(A,new window.kakao.maps.Size(24,35),{offset:new window.kakao.maps.Point(12,35)})}catch(F){console.error(`[CourseMap]  ${C} MarkerImage    :`,F);return}try{const F=new window.kakao.maps.Marker({position:E,image:N,map:i.value});y.push(F),_.push(E),d.extend(E)}catch(F){console.error(`[CourseMap]  ${C}     :`,F)}}),s.value=y,t.isSingleLocation)console.log("[CourseMap]   .     .");else{let x=_;if(t.pageType!=="exhibition"){const C=await c(w);C?(x=C,console.log("[CourseMap] API   .")):console.log("[CourseMap] API  .   .")}else console.log('[CourseMap] "exhibition"    .');if(x.length>1)try{const C=new window.kakao.maps.Polyline({path:x,strokeWeight:4,strokeColor:"#4A7CEC",strokeOpacity:.8,strokeStyle:"solid"});C.setMap(i.value),o.value=C,console.log("[CourseMap]     .")}catch(C){console.error("[CourseMap]     :",C,x)}else console.log("[CourseMap]    .")}if(d.isEmpty())console.warn("[CourseMap]        .");else if(t.isSingleLocation){const x=new window.kakao.maps.LatLng(Number(w[0].lat),Number(w[0].lng));i.value.setCenter(x),i.value.setLevel(t.defaultZoomLevel)}else try{i.value.setBounds(d)}catch(x){console.error("[CourseMap]      :",x,d)}},m=w=>{const y=["#FF5A5A","#4A7CEC","#28A745","#FFC107","#DC3545","#6F42C1","#E83E8C"];return typeof w!="number"||isNaN(w)||w<1?y[1]:y[(w-1)%y.length]},v=(w,y)=>{const _=`
  <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
      fill="${y}" stroke="#fff" stroke-width="2"/>
    <circle cx="12" cy="12" r="8" fill="#fff"/>
    <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
      font-size="10" font-weight="bold" fill="${y}">${w}</text>
  </svg>
  `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(_)};return(w,y)=>(ie(),le("div",Ire,[Bt(b("div",{ref_key:"mapContainer",ref:r,class:"course-map"},null,512),[[Ll,!u.value]]),Bt(b("div",{ref_key:"roadviewContainer",ref:a,class:"course-map"},null,512),[[Ll,u.value]]),t.isSingleLocation?(ie(),le("div",Dre,[b("button",{onClick:y[0]||(y[0]=_=>f(!1)),class:st({active:!u.value})},"",2),b("button",{onClick:y[1]||(y[1]=_=>f(!0)),class:st({active:u.value})},"",2)])):et("",!0)]))}},Rx=yt(Nre,[["__scopeId","data-v-7b480a76"]]),kre={name:"CourseExhibitionCard",components:{PillTag:Is,HashTag:$a},props:{item:{type:Object,required:!0}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t||"https://via.placeholder.com/60x60"},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)},formattedExhibitions(){const n=this.item.exhibitionList||[];return Array.isArray(n)?n.map(t=>t.split(" - ")[0]||t):[]},exhibitionCount(){return this.formattedExhibitions.length},displaySubject(){return Array.isArray(this.item.subject)&&this.item.subject.length>0?this.item.subject[0]:typeof this.item.subject=="string"?this.item.subject:null},displayGrade(){if(Array.isArray(this.item.grade)&&this.item.grade.length>0){const n=this.item.grade[0];return typeof n=="string"?n.replace(" ",""):null}return typeof this.item.grade=="string"?this.item.grade.replace(" ",""):null}},methods:{getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]},createMarkerSvg(n,t){const r=`
  <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
  <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
   fill="${t}" stroke="#fff" stroke-width="2"/>
  <circle cx="12" cy="12" r="8" fill="#fff"/>
  <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
   font-size="10" font-weight="bold" fill="${t}">${n}</text>
  </svg>
 `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)}}},Fre={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},Mre={class:"timeline-marker-wrapper"},Ore={class:"content-card"},Pre={class:"card-body"},Lre={class:"card-image"},Rre=["src"],Bre={class:"card-text"},Ure={class:"d-flex align-items-center justify-content-left gap-1"},Vre={class:"place-name"},$re={class:"d-flex gap-1"},jre={class:"d-flex gap-1"},zre={key:0,class:"more-tags"},Gre={class:"exhibition-section"},Hre={class:"exhibition-header"},Wre={class:"exhibition-count"},qre={class:"exhibition-list"},Xre={class:"exhibition-number"},Yre={class:"exhibition-name"};function Kre(n,t,r,i,s,o){const a=Rt("PillTag"),l=Rt("HashTag");return ie(),le("div",Fre,[b("div",Mre,[b("div",{class:"timeline-marker-svg",style:Gn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[0]||(t[0]=b("div",{class:"timeline-line"},null,-1))]),b("div",Ore,[b("div",Pre,[b("div",Lre,[b("img",{src:o.computedImageUrl,alt:" "},null,8,Rre)]),b("div",Bre,[b("div",Ure,[b("h5",Vre,ke(r.item.title),1)]),b("div",$re,[o.displaySubject?(ie(),Zt(a,{key:0,text:o.displaySubject,type:"subject"},null,8,["text"])):et("",!0),o.displayGrade?(ie(),Zt(a,{key:1,text:o.displayGrade,type:"grade"},null,8,["text"])):et("",!0)]),b("div",jre,[(ie(!0),le(it,null,At(o.visibleHashtags,u=>(ie(),Zt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(ie(),le("span",zre," +"+ke(o.remainingHashtagsCount),1)):et("",!0)])])]),t[3]||(t[3]=b("hr",{class:"hr"},null,-1)),b("div",Gre,[b("div",Hre,[t[1]||(t[1]=b("i",{class:"bi bi-palette-fill"},null,-1)),t[2]||(t[2]=b("span",{class:"exhibition-title"}," ",-1)),b("span",Wre,"("+ke(o.exhibitionCount)+")",1)]),b("div",qre,[(ie(!0),le(it,null,At(o.formattedExhibitions,(u,h)=>(ie(),le("div",{key:h,class:"exhibition-item"},[b("span",Xre,ke(h+1),1),b("span",Yre,ke(u),1)]))),128))])])])])}const Zre=yt(kre,[["render",Kre],["__scopeId","data-v-b0593dd5"]]),Jre={name:"CourseExhibitionCard",components:{PillTag:Is,HashTag:$a},props:{item:{type:Object,required:!0}},emits:["edit","delete"],methods:{onEdit(){this.$emit("edit",this.item.id)},onDelete(){this.$emit("delete",this.item.id)},createMarkerSvg(n,t){const r=`
    <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
     <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
       fill="${t}" stroke="#fff" stroke-width="2"/>
     <circle cx="12" cy="12" r="8" fill="#fff"/>
     <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
       font-size="10" font-weight="bold" fill="${t}">${n}</text>
    </svg>
   `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)},getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t||"https://placehold.co/800x600/AACCFF/000000"},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},displaySubject(){return Array.isArray(this.item.subject)&&this.item.subject.length>0?this.item.subject[0]:null},displayGrade(){return Array.isArray(this.item.grade)&&this.item.grade.length>0?(this.item.grade[0]||"").replace(" ",""):null}}},Qre={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},eie={class:"timeline-marker-wrapper"},tie={class:"content-card"},nie={class:"icon-buttons"},rie={class:"card-body"},iie={class:"card-image"},sie=["src"],oie={class:"card-text"},aie={class:"d-flex align-items-center justify-content-left gap-1"},lie={class:"place-name"},uie={class:"d-flex gap-1"},cie={class:"d-flex gap-1"},hie={key:0,class:"more-tags"},fie={class:"location-label"},die={class:"address"};function pie(n,t,r,i,s,o){const a=Rt("PillTag"),l=Rt("HashTag");return ie(),le("div",Qre,[b("div",eie,[b("div",{class:"timeline-marker-svg",style:Gn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[1]||(t[1]=b("div",{class:"timeline-line"},null,-1))]),b("div",tie,[b("div",nie,[b("i",{class:"bi bi-trash",onClick:t[0]||(t[0]=(...u)=>o.onDelete&&o.onDelete(...u))})]),b("div",rie,[b("div",iie,[b("img",{src:o.computedImageUrl,alt:" "},null,8,sie)]),b("div",oie,[b("div",aie,[b("h5",lie,ke(r.item.title),1)]),b("div",uie,[o.displaySubject?(ie(),Zt(a,{key:0,text:o.displaySubject,type:"subject"},null,8,["text"])):et("",!0),o.displayGrade?(ie(),Zt(a,{key:1,text:o.displayGrade,type:"grade"},null,8,["text"])):et("",!0)]),b("div",cie,[(ie(!0),le(it,null,At(o.visibleHashtags,u=>(ie(),Zt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(ie(),le("span",hie," +"+ke(o.remainingHashtagsCount),1)):et("",!0)])])]),t[3]||(t[3]=b("hr",{class:"hr"},null,-1)),b("span",fie,[t[2]||(t[2]=Ct("  ",-1)),b("span",die,ke(r.item.place),1)])])])}const mie=yt(Jre,[["render",pie],["__scopeId","data-v-efd8774e"]]),gie={name:"UserLikeCourseDetail",components:{draggable:rre,CourseMap:Rx,ConfirmDeleteModal:LF,AddPlaceModal:Tre,CourseExhibitionCard:Zre,CoursePlaceEditCard:mie},setup(){const n=bi(),{isLoggedIn:t,currentUserId:r}=Ts(n);return{isLoggedIn:t,currentUserId:r}},data(){return{course:null,error:null,loading:!0,exhibitionName:"",pageType:"",courseItems:[],originalCourseItems:[],showDeleteModal:!1,showAddModal:!1,itemToDeleteId:null,hasChanges:!1,isSaving:!1,saveMessage:"",saveStatus:"",isDragging:!1,mapKey:0}},watch:{courseItems:{handler(n,t){!this.isDragging&&t&&t.length>0&&this.checkForChanges()},deep:!0}},created(){this.loadCourse()},methods:{async loadCourse(){this.loading=!0,this.error=null;let n=null;try{const t=this.$route.params.courseId,r=history.state?.courseData;if(r&&r.id==t&&(console.log("history.state   :",r),n=r),!n){const i=sessionStorage.getItem(`courseData_${t}`);i&&(console.log("sessionStorage   "),n=JSON.parse(i))}if(!n){if(console.log("  . API fallback "),n=(await cn.get(`/api/schedules/user/${this.currentUserId}`)).data.map(o=>{const a=o.items.map(l=>({id:l.sourceItemId,number:l.sequence,title:l.itemName,place:l.addressDetail,imageUrl:l.mainImageUrl,lat:l.latitude,lng:l.longitude,type:l.itemType,itemType:l.itemType,subject:l.mainCategoryNames&&l.mainCategoryNames.length>0?l.mainCategoryNames[0]:null,grade:l.gradeNames&&l.gradeNames.length>0?l.gradeNames[0]:null,hashtags:l.subCategoryNames||[]})).sort((l,u)=>l.number-u.number);return{id:o.scheduleId,ExhibitionName:o.scheduleName,type:o.sourceCourseType,imageUrl:a[0]?.imageUrl||"https://placehold.co/600x400",address:a[0]?.place||" ",coursePlaces:a.map(l=>l.title),courseItems:a,subject:null,grade:null}}).find(o=>o.id==t),!n)throw new Error(`ID [${t}]     .`);sessionStorage.setItem(`courseData_${t}`,JSON.stringify(n))}this.course=n,this.exhibitionName=n.ExhibitionName,this.courseItems=(n.courseItems||[]).map(i=>i.type==="custom"&&!i.id?{...i,id:`custom_${i.title}_${i.place}_${Date.now()}_${Math.random().toString(36).substr(2,5)}`}:i),this.originalCourseItems=JSON.parse(JSON.stringify(this.courseItems)),n.type==="inner_course"?this.pageType="exhibition":n.type==="ai_course"?this.pageType="place":this.pageType="exhibition",console.log("    :",JSON.stringify(n,null,2))}catch(t){console.error("    :",t),this.error=t.message||"    ."}finally{this.loading=!1}},checkForChanges(){const n=s=>s.id?String(s.id):`custom_${s.title}_${s.place}_${s.lat}_${s.lng}`,t=this.courseItems.map(n),r=this.originalCourseItems.map(n),i=JSON.stringify(t)!==JSON.stringify(r);this.hasChanges=i,this.hasChanges&&this.reorderCourseItems()},onDragStart(){this.isDragging=!0,console.log(" ")},async saveChanges(){if(!(!this.hasChanges||this.isSaving)){this.isSaving=!0,this.saveMessage="";try{const t={scheduleId:this.course.id,items:this.courseItems.map((i,s)=>{const o=i.itemType==="custom"||i.type==="custom"||String(i.id).startsWith("custom_");return{itemId:i.itemId||null,sourceItemId:o?null:i.id,sequence:s+1,itemType:o?"custom":i.itemType,customName:o&&i.title||null,customAddress:o&&i.place||null,customLatitude:o&&i.lat||null,customLongitude:o&&i.lng||null,categoryName:Array.isArray(i.subject)&&i.subject.length>0?i.subject[0]:i.subject||null,gradeName:Array.isArray(i.grade)&&i.grade.length>0?i.grade[0]:i.grade||null,subCategories:i.hashtags}})};console.log(" :",JSON.stringify(t,null,2)),(await cn.post("/api/schedules/items",t)).status===200&&(this.saveStatus="success",this.saveMessage="  .",sessionStorage.removeItem(`courseData_${this.course.id}`),setTimeout(()=>{this.saveMessage="",this.loadCourse(),this.hasChanges=!1},1500))}catch(n){console.error(" :",n),this.saveStatus="error",this.saveMessage=n.response?.data?.message||"   .",setTimeout(()=>{this.saveMessage=""},5e3)}finally{this.isSaving=!1}}},goBack(){if(this.hasChanges){ht.emit("show-global-confirm",{message:"   .  ?",msg:"",onConfirm:()=>{this.$router.back()}});return}this.$router.back()},handleDelete(n){if(!n){console.error(" ID  .");return}console.log(" ID ( ):",n),this.itemToDeleteId=n,this.showDeleteModal=!0},closeDeleteModal(){this.itemToDeleteId=null,this.showDeleteModal=!1},openAddModal(){this.showAddModal=!0},closeAddModal(){this.showAddModal=!1},reorderCourseItems(){this.courseItems.forEach((n,t)=>{n.number=t+1})},updateMapKey(){this.mapKey+=1,console.log("  :",this.mapKey)},onDragEnd(){this.isDragging=!1,console.log("  (  )")},onDragChange(){console.log("  v-model .     ."),this.reorderCourseItems(),this.checkForChanges(),this.updateMapKey()},confirmDeleteItem(){console.log(" , ID:",this.itemToDeleteId),console.log("  courseItems:",this.courseItems),this.courseItems=this.courseItems.filter(n=>{const t=String(n.id),r=String(this.itemToDeleteId),i=t!==r;return console.log(` ${t} vs  ${r}: ${i?"":""}`),i}),console.log("  courseItems:",this.courseItems),this.reorderCourseItems(),this.checkForChanges(),this.updateMapKey(),this.closeDeleteModal()},addNewItem(n){console.log(" :",JSON.stringify(n,null,2));const t={id:`custom_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,color:"#3B82F6",imageUrl:n.imageUrl||"https://placehold.co/600x400/AACCFF/000000",subject:n.subject||"",grade:n.grade||"",title:n.name,type:"  ",place:n.address,hashtags:[" "],lat:n.lat,lng:n.lng,itemType:"custom",isNew:!0,customName:n.name,customAddress:n.address,customLatitude:n.lat,customLongitude:n.lng};this.courseItems.push(t),this.reorderCourseItems(),this.checkForChanges(),this.updateMapKey(),this.closeAddModal()},goToVirtualTour(){Lg.push("/virtualTour")}}},vie={class:"course-recommend-container",style:{"font-family":"'SUIT', sans-serif"}},yie={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},bie={class:"header-left",style:{flex:"1"}},xie={key:0,class:"status-container"},_ie={key:1,class:"status-container"},wie={class:"text-danger"},Eie={class:"course-root-name-improved"},Sie={class:"fw-bolder me-2"},Cie={key:0,class:"d-flex justify-content-center align-items-center mt-2 mb-2"},Aie={class:"scrollable-content"},Tie={class:"course-list-container"},Iie={key:0},Die={key:1},Nie={class:"d-flex justify-content-center mt-3"},kie={key:2},Fie={key:1,class:"save-section"},Mie=["disabled"],Oie={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function Pie(n,t,r,i,s,o){const a=Rt("CourseMap"),l=Rt("CourseExhibitionCard"),u=Rt("CoursePlaceEditCard"),h=Rt("draggable"),c=Rt("ConfirmDeleteModal"),f=Rt("AddPlaceModal");return ie(),le("div",vie,[b("div",yie,[b("div",bie,[b("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...p)=>o.goBack&&o.goBack(...p))})]),t[6]||(t[6]=b("div",{class:"header-center fw-bold fs-6",style:{flex:"1","text-align":"center"}},"   ",-1)),t[7]||(t[7]=b("div",{class:"header-right",style:{flex:"1"}},null,-1))]),s.loading?(ie(),le("div",xie,[...t[8]||(t[8]=[b("div",{class:"spinner-border text-primary",role:"status"},[b("span",{class:"visually-hidden"},"Loading...")],-1),b("p",{class:"mt-2 text-muted"},"   ...",-1)])])):s.error?(ie(),le("div",_ie,[b("p",wie,ke(s.error),1),b("button",{onClick:t[1]||(t[1]=(...p)=>o.goBack&&o.goBack(...p)),class:"btn btn-sm btn-outline-primary"}," ")])):(ie(),le(it,{key:2},[(ie(),Zt(a,{items:s.courseItems,key:s.mapKey,pageType:s.pageType,class:"map-area"},null,8,["items","pageType"])),b("div",Eie,[b("span",Sie,ke(s.exhibitionName||"  "),1),s.pageType?(ie(),le("span",{key:0,class:st(["type-badge",{"badge-place":s.pageType==="place","badge-exhibition":s.pageType==="exhibition"}])},ke(s.pageType==="place"?" ":" "),3)):et("",!0)]),s.pageType==="exhibition"?(ie(),le("div",Cie,[b("button",{class:"btn virtual-tour-btn",onClick:t[2]||(t[2]=(...p)=>o.goToVirtualTour&&o.goToVirtualTour(...p))},"    ")])):et("",!0),b("div",Aie,[b("div",Tie,[s.pageType==="exhibition"?(ie(),le("div",Iie,[(ie(!0),le(it,null,At(s.courseItems,p=>(ie(),Zt(l,{key:p.id,item:p,showControls:!0,couseType:"",onDelete:d=>o.handleDelete(p.id)},null,8,["item","onDelete"]))),128))])):s.pageType==="place"?(ie(),le("div",Die,[lt(h,{modelValue:s.courseItems,"onUpdate:modelValue":t[3]||(t[3]=p=>s.courseItems=p),animation:200,"ghost-class":"ghost-item","chosen-class":"chosen-item","drag-class":"drag-item",onStart:o.onDragStart,onEnd:o.onDragEnd,onChange:o.onDragChange,"item-key":"id"},{item:Sr(({element:p})=>[lt(u,{item:p,showControls:!0,couseType:"",onDelete:d=>o.handleDelete(p.id),class:"draggable-item"},null,8,["item","onDelete"])]),_:1},8,["modelValue","onStart","onEnd","onChange"]),b("div",Nie,[b("button",{class:"btn btn-outline-secondary rounded-pill add-item-inline",onClick:t[4]||(t[4]=(...p)=>o.openAddModal&&o.openAddModal(...p))},[...t[9]||(t[9]=[b("i",{class:"bi bi-plus-circle-fill"},null,-1),Ct("   ",-1)])])])])):(ie(),le("div",kie,[...t[10]||(t[10]=[b("p",{class:"text-muted"},"  .",-1)])]))])]),s.hasChanges?(ie(),le("div",Fie,[s.saveMessage?(ie(),le("div",{key:0,class:st(["save-status-message",`alert-${s.saveStatus==="success"?"success":"danger"}`])},ke(s.saveMessage),3)):et("",!0),b("button",{class:"btn save-btn-bottom",onClick:t[5]||(t[5]=(...p)=>o.saveChanges&&o.saveChanges(...p)),disabled:!s.hasChanges||s.isSaving},[s.isSaving?(ie(),le("span",Oie)):et("",!0),Ct(" "+ke(s.isSaving?" ...":" "),1)],8,Mie)])):et("",!0)],64)),lt(c,{show:s.showDeleteModal,message:" ?",onConfirm:o.confirmDeleteItem,onClose:o.closeDeleteModal},null,8,["show","onConfirm","onClose"]),lt(f,{show:s.showAddModal,courseItems:s.courseItems,onAddItem:o.addNewItem,onClose:o.closeAddModal},null,8,["show","courseItems","onAddItem","onClose"])])}const Lie=yt(gie,[["render",Pie],["__scopeId","data-v-7ffa539a"]]),Rie={name:"PageHeader",props:{pageTitle:String,isFavorite:{type:Boolean,default:!1}},data(){return{}},methods:{goBack(){this.$router.back()},toggleFavorite(){this.$emit("toggle-favorite")}}},Bie={class:"header"},Uie={class:"page-title"};function Vie(n,t,r,i,s,o){return ie(),le("header",Bie,[b("button",{class:"back-btn",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[2]||(t[2]=[b("i",{class:"bi bi-arrow-left"},null,-1)])]),b("h1",Uie,ke(r.pageTitle),1),b("button",{class:"favorite-btn",onClick:t[1]||(t[1]=(...a)=>o.toggleFavorite&&o.toggleFavorite(...a))},[b("i",{class:st(r.isFavorite?"bi-heart-fill":"bi-heart"),style:Gn({color:r.isFavorite?"Red":"black"})},null,6)])])}const $ie=yt(Rie,[["render",Vie],["__scopeId","data-v-08124c14"]]),jie={__name:"ColumnarJoint",setup(n){const t=Ue(null),r=Ue(null);let i=null;function s(){i&&i.resetSketch()}function o(){i&&i.runSketch()}const a=l=>{let u=!1;const h=.5,c=48,f=36;let p=-1,d=null,g=new Array(c),m=new Array(c),v=new Array(c),w=Array.from({length:c},()=>new Array(f).fill(!1)),y=Array.from({length:c},()=>new Array(f).fill(0)),_=Array.from({length:c},()=>new Array(f).fill(0)),x=new Array(f),C=new Array(f),E=-1,S=0,D=0;function A(I){const L=(I||document.documentElement).clientWidth||694,B=(window.innerHeight-160)/h,$=Math.floor(Math.min(L,B)),q=Math.floor($*h);return{w:$,h:q}}l.setup=()=>{l.frameRate(20);const{w:I,h:M}=A(r.value),L=l.createCanvas(I,M);r.value&&L.parent(r.value),L.id("myP5Canvas"),(async()=>{try{d=await l.loadImage("/img/sim/joint1.jpg")}catch{d=null}})();for(let B=0;B<f;B++){const $=l.map(B,0,f,0,l.TWO_PI);x[B]=.001*Math.cos($),C[B]=.001*Math.sin($)}w=Array.from({length:c},()=>new Array(f).fill(!1)),y=Array.from({length:c},()=>new Array(f).fill(0)),_=Array.from({length:c},()=>new Array(f).fill(0)),N()},l.windowResized=()=>{const{w:I,h:M}=A(r.value);l.resizeCanvas(I,M)};function N(){p=-1;for(let I=0;I<c;I++){g[I]=Math.round(l.random(96,160));for(let M=0;M<200;M++){const L=l.random(.01,.65),B=l.random(.01,.49);let $=!1;for(let q=0;q<I;q++)if(I!==q&&l.dist(L,B,m[q],v[q])<.06){$=!0;break}if(!$){m[I]=L,v[I]=B;break}}}F()}function F(){for(let I=0;I<c;I++)for(let M=0;M<f;M++)w[I][M]=!1,y[I][M]=m[I],_[I][M]=v[I]}l.draw=()=>{try{if(Array.isArray(l.touches)&&l.touches.length>1)return;l.background(233),l.strokeWeight(1),l.textSize(20),u&&p>=0&&p<200&&p++;for(let I=0;I<c;I++)for(let M=0;M<f;M++){if(w[I][M])continue;const L=m[I]+p*x[M],B=v[I]+p*C[M];let $=!1;for(let q=0;q<c;q++)if(!(Math.abs(m[q]-m[I])>.3)&&!(Math.abs(v[q]-v[I])>.3)&&I!==q&&l.dist(L,B,m[q],v[q])<p*.001){$=!0,w[I][M]=!0;break}$||(y[I][M]=L,_[I][M]=B)}l.noStroke();for(let I=0;I<c;I++){l.fill(g[I]),l.beginShape();for(let M=0;M<f;M++)l.vertex(l.width*y[I][M],l.width*_[I][M]);l.endShape(l.CLOSE)}l.fill(0);for(let I=0;I<c;I++)l.ellipse(l.width*m[I],l.width*v[I],l.width*.005,l.width*.005);d&&l.image(d,l.width*.66,0,l.width*.34,l.width*.5)}catch(I){console.error("[ColumnarJoint.draw] error:",I)}};const T=(I,M,L,B,$,q)=>I>=L&&I<=L+$&&M>=B&&M<=B+q;l.mousePressed=()=>{if(!T(l.mouseX,l.mouseY,0,0,l.width*.7,l.height))return;let I=999;E=-1;for(let M=0;M<c;M++){const L=l.dist(l.mouseX/l.width,l.mouseY/l.width,m[M],v[M]);L<I&&(I=L,E=M)}E>=0&&(S=l.mouseX/l.width-m[E],D=l.mouseY/l.width-v[E])},l.mouseDragged=()=>{if(!(E<0)){m[E]=l.mouseX/l.width-S,v[E]=l.mouseY/l.width-D,m[E]=l.constrain(m[E],.01,.65),v[E]=l.constrain(v[E],.01,.49),p=-1,u=!1;for(let I=0;I<f;I++)w[E][I]=!1,y[E][I]=m[E],_[E][I]=v[E];return!1}},l.mouseReleased=()=>{E=-1},l.touchStarted=()=>{l.mousePressed()},l.touchMoved=()=>{if(!(Array.isArray(l.touches)&&l.touches.length>1))return l.mouseDragged()},l.touchEnded=()=>{l.mouseReleased()},l.resetSketch=()=>{p=-1,u=!1,N(),l.loop()},l.runSketch=()=>{p<0&&(p=0,u=!0,l.loop())}};return On(async()=>{await Fr(),r.value&&(i=new Ot(a,r.value))}),Mr(()=>{try{i?.remove()}catch(l){console.error("Error removing p5 instance:",l)}}),(l,u)=>(ie(),le("div",{class:"columnar-wrap",ref_key:"wrapRef",ref:t},[b("div",{class:"toolbar"},[b("button",{class:"btn",onClick:s}," "),b("button",{class:"btn primary",onClick:o},"Run"),u[0]||(u[0]=b("span",{class:"title"}," ",-1))]),b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512),u[1]||(u[1]=b("p",{class:"desc"},[Ct(" ()    . "),b("em",null,"Run"),Ct("                . ")],-1))],512))}},zie=yt(jie,[["__scopeId","data-v-e195bc9b"]]),Gie={class:"states-of-matter-component"},Hie={class:"simulation-layout"},Wie={class:"canvas-wrapper"},qie={class:"controls-wrapper"},Xie={class:"controls-grid"},Yie={class:"control-group radio-group"},Kie={class:"checkbox-label"},Zie={class:"checkbox-label"},Jie={__name:"StatesOfMatterSimulation",setup(n){const t=Ue(null),r=Ue("gas"),i=Ue(!0),s=Ue(!0);let o=null;const a=l=>{let u=40,h=960,c=40,f=40,p=960,d=54,g=[],m=[],v=[],w=[];const y=A=>l.cos(l.radians(A)),_=A=>l.sin(l.radians(A)),x=(A,N)=>l.degrees(l.atan2(N,A)),C=(A,N)=>(A%N+N)%N;l.setup=()=>{const A=t.value.offsetWidth,N=A;l.createCanvas(A,N),l.frameRate(30),S(),E()};const E=()=>{const A=r.value;if(A!=="gas")for(let N=0;N<d;N++)w[N]>180&&(w[N]=l.int(l.random(40,140)));if(A==="solid")for(let N=0;N<d;N++)v[N]=4;if(A==="liquid")for(let N=0;N<d;N++)v[N]=4;if(A==="gas")for(let N=0;N<d;N++)v[N]=8},S=()=>{for(let A=0;A<d;A++)g[A]=l.random(u,h),m[A]=l.random(f,p),w[A]=l.round(l.random(360))};l.windowResized=()=>{const A=t.value.offsetWidth,N=A;l.resizeCanvas(A,N)},l.draw=()=>{if(l.touches.length>1)return;l.background(255),l.textAlign(l.CENTER,l.CENTER),l.push(),l.scale(l.width/1e3),i.value&&D(),l.noStroke();let A=l.color(255),N=l.color(128,255,255);if(l.fill(l.lerpColor(A,N,l.map(f,c,p,-1,1))),l.rect(u-20,f,h-u+40,p-f+40),l.noFill(),l.stroke(255,0,0),l.strokeWeight(3),r.value!=="gas"&&s.value)for(let F=0;F<d-1;F++)for(let T=F+1;T<d;T++)l.dist(g[F],m[F],g[T],m[T])<35&&l.line(g[F],m[F],g[T],m[T]);l.noStroke();for(let F=0;F<d;F++){let T=0,I=0;i.value&&r.value==="solid"&&(T=l.random(-1,1),I=l.random(-1,1)),l.fill(0,0,255),s.value?l.ellipse(g[F]+T,m[F]+I,28,28):l.ellipse(g[F]+T,m[F]+I,34,34)}l.noFill(),l.stroke(64),l.strokeWeight(40),l.rect(u-30,c-30,h-u+60,p-c+60),l.rect(u-30,c-30,h-u+60,p-c+60,40),l.pop()};function D(){let A=!1;const N=r.value;if(N==="gas")f=c;else{f=p;for(let T=0;T<d;T++)f=l.min(f,m[T]);if(f>=p-60&&N==="solid"){A=!0;for(let T=0;T<d-1;T++)for(let I=T+1;I<d;I++)if(g[I]<g[T]){let M=g[T];g[T]=g[I],g[I]=M,M=m[T],m[T]=m[I],m[I]=M}}if(!A){let T=0;for(let I=1;I<d;I++)m[I]<m[T]&&(T=I);w[T]=l.int(l.random(40,140))}f=l.min(f,p-60)}if(A)for(let T=0;T<d;T+=2){if(m[T+1]<m[T]){let B=g[T];g[T]=g[T+1],g[T+1]=B,B=m[T],m[T]=m[T+1],m[T+1]=B}let I=l.map(T,0,d-2,u+13,h-13),M=p-42,L=p-8;g[T+0]=l.lerp(g[T],I,.1),g[T+1]=l.lerp(g[T+1],I,.1),m[T+0]=l.lerp(m[T],M,.1),m[T+1]=l.lerp(m[T+1],L,.1)}let F=30;for(let T=0;T<d-1;T++)for(let I=T+1;I<d;I++){let M=g[T]+v[T]*y(w[T]),L=m[T]+v[T]*_(w[T]),B=g[I]+v[I]*y(w[I]),$=m[I]+v[I]*_(w[I]);if(l.dist(g[T],m[T],g[I],m[I])<F&&l.dist(g[T],m[T],g[I],m[I])>l.dist(M,L,B,$)){let q=v[T]*y(w[T]),Z=v[T]*_(w[T]),he=v[I]*y(w[I]),V=v[I]*_(w[I]),J=(q+he)/2,ge=(Z+V)/2,W=q-J,z=Z-ge,de=he-J,K=V-ge,ue=l.dist(0,0,W,z),G=l.dist(0,0,de,K),se=x(W,z),ye=x(de,K),Ee=x(g[I]-g[T],m[I]-m[T]),H=x(g[T]-g[I],m[T]-m[I]);se=C(2*Ee+180-se,360),ye=C(2*H+180-ye,360),q=ue*y(se),Z=ue*_(se),he=G*y(ye),V=G*_(ye),q+=J,Z+=ge,he+=J,V+=ge,N==="gas"&&(v[T]=l.dist(0,0,q,Z),v[I]=l.dist(0,0,he,V)),w[T]=x(q,Z),w[I]=x(he,V)}}for(let T=0;T<d;T++)A||(g[T]+=v[T]*y(w[T]),m[T]+=v[T]*_(w[T])),g[T]<u&&(g[T]=2*u-g[T],w[T]=C(180-w[T],360)),g[T]>h&&(g[T]=2*h-g[T],w[T]=C(180-w[T],360)),m[T]<f&&(m[T]=2*f-m[T],w[T]=360-w[T]),m[T]>p&&(m[T]=2*p-m[T],w[T]=360-w[T])}l.myCustomRedrawAccordingToState=()=>{E()}};return On(()=>{o=new Ot(a,t.value)}),iu(()=>{o&&o.remove()}),ri(r,()=>{o&&o.myCustomRedrawAccordingToState()}),(l,u)=>(ie(),le("div",Gie,[b("div",Hie,[b("div",Wie,[b("div",{ref_key:"canvasContainer",ref:t},null,512)]),b("div",qie,[u[10]||(u[10]=b("header",{class:"entry-header"},[b("h1",{class:"entry-title"}," ")],-1)),b("div",Xie,[b("div",Yie,[b("label",null,[Bt(b("input",{type:"radio","onUpdate:modelValue":u[0]||(u[0]=h=>r.value=h),value:"solid"},null,512),[[qs,r.value]]),u[5]||(u[5]=Ct("  ",-1))]),b("label",null,[Bt(b("input",{type:"radio","onUpdate:modelValue":u[1]||(u[1]=h=>r.value=h),value:"liquid"},null,512),[[qs,r.value]]),u[6]||(u[6]=Ct("  ",-1))]),b("label",null,[Bt(b("input",{type:"radio","onUpdate:modelValue":u[2]||(u[2]=h=>r.value=h),value:"gas"},null,512),[[qs,r.value]]),u[7]||(u[7]=Ct("  ",-1))])]),b("label",Kie,[Bt(b("input",{type:"checkbox","onUpdate:modelValue":u[3]||(u[3]=h=>i.value=h)},null,512),[[Rl,i.value]]),u[8]||(u[8]=Ct(" Run ",-1))]),b("label",Zie,[Bt(b("input",{type:"checkbox","onUpdate:modelValue":u[4]||(u[4]=h=>s.value=h)},null,512),[[Rl,s.value]]),u[9]||(u[9]=Ct("     ",-1))])]),u[11]||(u[11]=b("div",{class:"entry-content"},[b("h2",null," "),b("p",null,"    , ,     .  ,          .  ,    ,     ,      . ,         ,       ."),b("p",null,"   ,     .     ,    .         ,    .")],-1))])])]))}},sl=yt(Jie,[["__scopeId","data-v-10eeae8e"]]),Qie={class:"ecosystem-component"},ese={class:"canvas-wrapper"},tse={class:"controls-bar"},nse={class:"checkbox-label"},rse={__name:"EcosystemSimulation",setup(n){const t=Ue(null),r=Ue(!0);let i=null;const s=c=>{let f,p,d,g=1.15,m=0,v=[],w=[],y=0,_=400,x=200,C=[],E=[],S=[],D=[],A=[],N=.002,F=0,T=600,I=300,M=[],L=[],B=[],$=[],q=[],Z=.002,he=1,V=[],J=[],ge=[];const W=(re,Ce)=>(re%Ce+Ce)%Ce;c.setup=async()=>{const re=t.value.offsetWidth,Ce=re*.5;c.createCanvas(re,Ce),c.frameRate(60);const _e="/img/sim/";try{f=await c.loadImage(_e+"ecosystem_herb.png"),console.log(" Herb image loaded")}catch{console.warn(" Herb image loading failed, using shape instead"),f=null}try{p=await c.loadImage(_e+"ecosystem_hare.png"),console.log(" Hare image loaded")}catch{console.warn(" Hare image loading failed, using shape instead"),p=null}try{d=await c.loadImage(_e+"ecosystem_wolf.png"),console.log(" Wolf image loaded")}catch{console.warn(" Wolf image loading failed, using shape instead"),d=null}c.imageMode(c.CENTER),c.addHare=()=>K(),c.removeHare=()=>{y>0&&G(y-1)},c.addWolf=()=>se(),c.removeWolf=()=>{F>0&&Ee(F-1)},c.clearGraph=()=>H();for(let Se=0;Se<50;Se++)z();for(let Se=0;Se<30;Se++)K();for(let Se=0;Se<10;Se++)se();H()},c.windowResized=()=>{const re=t.value.offsetWidth,Ce=re*.5;c.resizeCanvas(re,Ce)};function z(){v[m]=c.random(g*.05,g*.95),w[m]=c.random(.05,.95),m++}function de(re){m--,v[re]=v[m],w[re]=w[m]}function K(){C[y]=c.int(c.random(_*.25,_*.75)),E[y]=c.int(c.random(x*.25,x*.75)),S[y]=c.random(1)*g,D[y]=c.random(1),A[y]=c.random(c.TWO_PI),y++}function ue(re){C[y]=_,E[y]=x*.5,S[y]=S[re],D[y]=D[re],A[y]=c.random(c.TWO_PI),y++}function G(re){y--,C[re]=C[y],E[re]=E[y],S[re]=S[y],D[re]=D[y],A[re]=A[y]}function se(){M[F]=c.int(c.random(T*.25,T*.75)),L[F]=c.int(c.random(I*.25,I*.75)),B[F]=c.random(1)*g,$[F]=c.random(1),q[F]=c.random(c.TWO_PI),F++}function ye(re){M[F]=T,L[F]=I*.5,B[F]=B[re],$[F]=$[re],q[F]=c.random(c.TWO_PI),F++}function Ee(re){F--,M[re]=M[F],L[re]=L[F],B[re]=B[F],$[re]=$[F],q[re]=q[F]}function H(){V=[m*3],J=[y],ge=[F]}function Q(){if(m<2e3&&W(c.frameCount,5)==0){let re=c.random(g*.05,g*.95),Ce=c.random(.05,.95),_e=999,Se=999;for(let Te=0;Te<m;Te++)_e=c.abs(re-v[Te])+c.abs(Ce-w[Te]),_e<Se&&(Se=_e);Se>.05&&z()}for(let re=0;re<y;re++){if(A[re]+=c.random(-1,1),E[re]<x*.7){let Ce=999,_e=999,Se=-1;for(let Te=0;Te<m;Te++)Ce=c.abs(S[re]-v[Te])+c.abs(D[re]-w[Te]),Ce<_e&&(_e=Ce,Se=Te);Se>=0&&(A[re]=c.atan2(w[Se]-D[re],v[Se]-S[re]),_e<.03&&(de(Se),E[re]=x))}if(S[re]+=N*c.cos(A[re]),D[re]+=N*c.sin(A[re]),S[re]=c.constrain(S[re],g*.05,g*.95),D[re]=c.constrain(D[re],.05,.95),C[re]--,C[re]<=0){G(re);continue}if(E[re]--,E[re]<=0){G(re);continue}C[re]==c.int(_*.2)&&E[re]>x*.5&&ue(re),C[re]==c.int(_*.4)&&E[re]>x*.5&&ue(re),C[re]==c.int(_*.5)&&E[re]>x*.5&&ue(re),C[re]==c.int(_*.6)&&E[re]>x*.5&&ue(re),C[re]==c.int(_*.8)&&E[re]>x*.5&&ue(re)}for(let re=0;re<F;re++){if(q[re]+=c.random(-1,1),F<y/4&&L[re]<I*.5){let Ce=999,_e=999,Se=-1;for(let Te=0;Te<y;Te++)Ce=c.abs(B[re]-S[Te])+c.abs($[re]-D[Te]),Ce<_e&&(_e=Ce,Se=Te);Se>=0&&(q[re]=c.atan2(D[Se]-$[re],S[Se]-B[re]),_e<.02&&(G(Se),L[re]=I))}if(B[re]+=Z*c.cos(q[re]),$[re]+=Z*c.sin(q[re]),B[re]=c.constrain(B[re],g*.05,g*.95),$[re]=c.constrain($[re],.05,.95),M[re]--,M[re]<=0){Ee(re);continue}if(L[re]--,L[re]<=0){Ee(re);continue}M[re]==c.int(T*.4)&&ye(re),M[re]==c.int(T*.6)&&ye(re)}W(c.frameCount,30)==0&&(V.push(m*3),J.push(y),ge.push(F),V.length>100&&(V.splice(0,1),J.splice(0,1),ge.splice(0,1)),he=c.max(c.max(V),c.max(J),c.max(ge)))}c.draw=()=>{if(c.touches.length>1)return;c.background(233),c.strokeWeight(c.width/500),c.textSize(c.width/40),c.textAlign(c.CENTER,c.CENTER),r.value&&Q(),c.noStroke(),c.fill(233,222,191),c.rect(0,0,c.height*g,c.height);for(let Te=0;Te<m;Te++)f&&f.width>0?c.image(f,v[Te]*c.height,w[Te]*c.height,c.width*.05,c.width*.05):(c.fill(34,139,34),c.circle(v[Te]*c.height,w[Te]*c.height,c.width*.03));for(let Te=0;Te<y;Te++)p&&p.width>0?c.image(p,S[Te]*c.height,D[Te]*c.height,c.width*.05,c.width*.05):(c.fill(160,110,80),c.circle(S[Te]*c.height,D[Te]*c.height,c.width*.04)),c.fill(255,0,0),c.rect(S[Te]*c.height-c.width*.025,D[Te]*c.height+c.width*.02,c.map(C[Te],0,_,0,c.width*.05),c.width*.004),c.fill(0,255,0),c.rect(S[Te]*c.height-c.width*.025,D[Te]*c.height+c.width*.025,c.map(E[Te],0,x,0,c.width*.05),c.width*.004);for(let Te=0;Te<F;Te++)d&&d.width>0?c.image(d,B[Te]*c.height,$[Te]*c.height,c.width*.05,c.width*.05):(c.fill(139,69,19),c.circle(B[Te]*c.height,$[Te]*c.height,c.width*.05)),c.fill(255,0,0),c.rect(B[Te]*c.height-c.width*.025,$[Te]*c.height+c.width*.025,c.map(M[Te],0,T,0,c.width*.05),c.width*.004),c.fill(0,255,0),c.rect(B[Te]*c.height-c.width*.025,$[Te]*c.height+c.width*.03,c.map(L[Te],0,I,0,c.width*.05),c.width*.004);c.fill(255),c.rect(c.height*g,0,c.width,c.height);let re=c.width*.62,Ce=c.width,_e=c.height*.5,Se=c.height*.995;c.noFill(),c.stroke(0),c.line(re,_e,re,Se),c.line(re,Se,Ce,Se),c.stroke(64,255,64),c._renderer.beginShape();for(let Te=0;Te<V.length;Te++)c._renderer.vertex(c.map(Te,0,100,re,Ce),c.map(V[Te],0,he,Se,_e));c._renderer.endShape(),c.line(re+c.width*.1,c.height*.1,re+c.width*.2,c.height*.1),f&&f.width>0?c.image(f,re+c.width*.23,c.height*.1,c.width*.05,c.width*.05):(c.fill(34,139,34),c.circle(re+c.width*.23,c.height*.1,c.width*.03)),c.stroke(90),c._renderer.beginShape();for(let Te=0;Te<J.length;Te++)c._renderer.vertex(c.map(Te,0,100,re,Ce),c.map(J[Te],0,he,Se,_e));c._renderer.endShape(),c.line(re+c.width*.1,c.height*.23,re+c.width*.2,c.height*.23),p&&p.width>0?c.image(p,re+c.width*.23,c.height*.23,c.width*.05,c.width*.05):(c.fill(160,110,80),c.circle(re+c.width*.23,c.height*.23,c.width*.04)),c.stroke(191,64,0),c._renderer.beginShape();for(let Te=0;Te<ge.length;Te++)c._renderer.vertex(c.map(Te,0,100,re,Ce),c.map(ge[Te],0,he,Se,_e));c._renderer.endShape(),c.line(re+c.width*.1,c.height*.36,re+c.width*.2,c.height*.36),d&&d.width>0?c.image(d,re+c.width*.23,c.height*.36,c.width*.05,c.width*.05):(c.fill(139,69,19),c.circle(re+c.width*.23,c.height*.36,c.width*.05)),c.fill(0),c.noStroke(),c.textAlign(c.LEFT,c.CENTER),c.text(c.int(m*3),re+c.width*.26,c.height*.1),c.text(y,re+c.width*.26,c.height*.23),c.text(F,re+c.width*.26,c.height*.36)}};On(()=>{try{i=new Ot(s,t.value)}catch(c){console.error(" Failed to initialize p5.js:",c)}}),iu(()=>{if(i)try{i.remove()}catch(c){console.error("Error removing p5 instance:",c)}});const o=()=>{i&&i.addHare()},a=()=>{i&&i.removeHare()},l=()=>{i&&i.addWolf()},u=()=>{i&&i.removeWolf()},h=()=>{i&&i.clearGraph()};return(c,f)=>(ie(),le("div",Qie,[b("div",ese,[b("div",{ref_key:"canvasContainer",ref:t,style:{"aspect-ratio":"2 / 1"}},null,512)]),b("div",tse,[b("button",{onClick:a}," -"),b("button",{onClick:o}," +"),b("button",{onClick:u}," -"),b("button",{onClick:l}," +"),b("label",nse,[Bt(b("input",{type:"checkbox","onUpdate:modelValue":f[0]||(f[0]=p=>r.value=p)},null,512),[[Rl,r.value]]),f[1]||(f[1]=Ct("  ",-1))]),b("button",{onClick:h}," ")]),f[2]||(f[2]=_r('<div class="text-content" data-v-d5c7d2c2><header class="entry-header" data-v-d5c7d2c2><h1 class="entry-title" data-v-d5c7d2c2></h1></header><div class="entry-content" data-v-d5c7d2c2><h2 data-v-d5c7d2c2> </h2><ul data-v-d5c7d2c2><li data-v-d5c7d2c2>    .    .  0   .</li><li data-v-d5c7d2c2>   () .    .  0   .</li><li data-v-d5c7d2c2>  :   50%  ,   20%, 40%, 50%, 60%, 80%   1 .</li><li data-v-d5c7d2c2>  :    ,   40%, 60%   1 . </li><li data-v-d5c7d2c2>        .</li></ul><h2 data-v-d5c7d2c2>  </h2><p data-v-d5c7d2c2>20             .    , ,    .<br data-v-d5c7d2c2>                .       30       .</p><p data-v-d5c7d2c2>            .              .<br data-v-d5c7d2c2>            .         .</p></div></div>',1))]))}},Vd=yt(rse,[["__scopeId","data-v-d5c7d2c2"]]),ise={class:"toolbar"},sse={class:"row"},ose={class:"radio"},ase={class:"radio"},lse={class:"row"},use={class:"check"},cse={class:"row"},hse={class:"val"},fse={__name:"MagnetField",setup(n){const t=Ue(null),r=Ue(null),i=Ue("bar"),s=Ue(!0),o=Ue(2);let a=null,l=-.3,u=0,h=!1,c=0,f=0;const p=[],d=[],g=[],m=[],v=[],w=[];let y=null,_=null;function x(E){p.length=0,d.length=0,g.length=0,m.length=0,v.length=0,w.length=0;const S=T=>{let I=0,M=0,L=0;for(let B=0;B<500;B++){if(T>10?(I=E.random(-350,350),M=E.random(-500,500),L=E.random(-350,350)):(I=E.random(-100,100),M=E.random(-100,100),L=E.random(-100,100)),E.mag(I,L)>350)continue;let $=!1;for(let q=0;q<p.length;q++)E.dist(I,M,L,p[q],d[q],g[q])<T&&($=!0);if(!$)break}return{x:I,y:M,z:L}};for(let T=0;T<200;T++){const I=S(20);p.push(I.x),d.push(I.y),g.push(I.z)}for(let T=0;T<40;T++){const I=S(5);p.push(I.x),d.push(I.y+(T<20?200:-200)),g.push(I.z)}const D=[0,0],A=[-200,200],N=[0,0],F=[-1,1];for(let T=0;T<p.length;T++){let I=0,M=0,L=0;for(let $=0;$<D.length;$++){const q=E.dist(p[T],d[T],g[T],D[$],A[$],N[$]);I+=F[$]/(q*q)*((p[T]-D[$])/Math.abs(q)),M+=F[$]/(q*q)*((d[T]-A[$])/Math.abs(q)),L+=F[$]/(q*q)*((g[T]-N[$])/Math.abs(q))}const B=E.dist(0,0,0,I,M,L);m[T]=I/B*13,v[T]=M/B*13,w[T]=L/B*13}}function C(E){const S=()=>{const T=t.value,I=T?T.clientWidth:window.innerWidth,M=Math.floor(Math.min(I,Math.max(320,window.innerHeight-160)));return{w:M,h:M}};E.setup=async()=>{const T="/img/sim/";try{y=await E.loadImage(T+"bar_magnet_texture.png"),console.log("[MagnetField] bar texture loaded:",T+"bar_magnet_texture.png")}catch(B){console.error("[MagnetField] bar texture failed:",B),y=null}try{_=await E.loadImage(T+"earth_movements_map.png"),console.log("[MagnetField] earth texture loaded:",T+"earth_movements_map.png")}catch(B){console.error("[MagnetField] earth texture failed:",B),_=null}const{w:I,h:M}=S();E.createCanvas(I,M,E.WEBGL).parent(t.value),E.setAttributes("antialias",!0),x(E)},E.windowResized=()=>{const{w:T,h:I}=S();E.resizeCanvas(T,I)},E.draw=()=>{i.value==="bar"?E.background(233,255,233):E.background(222),s.value&&(u+=.01),E.push(),E.scale(E.width/1e3),E.rotateX(l),E.rotateY(u),i.value==="bar"?(E.push(),E.rotateZ(-E.HALF_PI),E.translate(-100,0,0),E.noStroke(),E.fill(255,0,0),E.box(200,50,24),E.translate(200,0,0),E.fill(0,0,255),E.box(200,50,24),y&&(E.translate(-100,0,13),E.texture(y),E.plane(400,50),E.translate(0,0,-26),E.texture(y),E.plane(400,50)),E.pop()):(E.push(),E.noStroke(),_?(E.textureMode(E.NORMAL),E.textureWrap(E.CLAMP),E.texture(_),E.sphere(200,64,64)):(E.fill(120,170,255),E.sphere(200,32,24)),E.pop()),E.strokeWeight(o.value),E.stroke(255,0,0);for(let T=0;T<p.length;T++)E.line(p[T],d[T],g[T],p[T]+m[T],d[T]+v[T],g[T]+w[T]);E.stroke(0,0,255);for(let T=0;T<p.length;T++)E.line(p[T],d[T],g[T],p[T]-m[T],d[T]-v[T],g[T]-w[T]);E.pop()};const D=()=>{F(E)&&(c=E.mouseX*1e3/E.width,f=E.mouseY*1e3/E.width,h=!0)},A=()=>{if(!(E.touches&&E.touches.length>1)&&h)return l+=.002*(f-E.mouseY*1e3/E.width),l=E.constrain(l,-E.HALF_PI,E.HALF_PI),u+=.002*(E.mouseX*1e3/E.width-c),c=E.mouseX*1e3/E.width,f=E.mouseY*1e3/E.width,!1},N=()=>{h=!1};E.touchStarted=D,E.touchMoved=A,E.touchEnded=N,E.mousePressed=D,E.mouseDragged=A,E.mouseReleased=N;function F(T){const I=T.mouseX,M=T.mouseY;return I>=0&&I<=T.width&&M>=0&&M<=T.height}}try{Ot&&(Ot.disableFriendlyErrors=!0),Ot.prototype&&(Ot.prototype.disableFriendlyErrors=!0)}catch{}return On(()=>{const E=globalThis.nf;try{a=new Ot(C)}finally{typeof E<"u"?globalThis.nf=E:delete globalThis.nf}}),Mr(()=>{a&&(a.remove(),a=null)}),ri(i,()=>{}),(E,S)=>(ie(),le("div",{class:"magnet-wrap",ref_key:"wrapRef",ref:r},[b("div",ise,[b("div",sse,[b("label",ose,[Bt(b("input",{type:"radio",value:"bar","onUpdate:modelValue":S[0]||(S[0]=D=>i.value=D)},null,512),[[qs,i.value]]),S[4]||(S[4]=b("span",null,"",-1))]),b("label",ase,[Bt(b("input",{type:"radio",value:"earth","onUpdate:modelValue":S[1]||(S[1]=D=>i.value=D)},null,512),[[qs,i.value]]),S[5]||(S[5]=b("span",null,"",-1))])]),b("div",lse,[b("label",use,[Bt(b("input",{type:"checkbox","onUpdate:modelValue":S[2]||(S[2]=D=>s.value=D)},null,512),[[Rl,s.value]]),S[6]||(S[6]=b("span",null,"Auto Rotate",-1))])]),b("div",cse,[S[7]||(S[7]=b("span",{class:"label"}," ",-1)),Bt(b("input",{type:"range",min:"1",max:"5",step:"0.1","onUpdate:modelValue":S[3]||(S[3]=D=>o.value=D)},null,512),[[bn,o.value,void 0,{number:!0}]]),b("span",hse,ke(o.value.toFixed(1)),1)])]),b("div",{class:"canvas-host",ref_key:"hostRef",ref:t},null,512),S[8]||(S[8]=b("p",{class:"helper"},"( )  .",-1))],512))}},eA=yt(fse,[["__scopeId","data-v-afb80f2e"]]),dse={class:"material-selector"},pse=["onClick"],mse={__name:"ThermalConductivitySim",setup(n){const t=Ue(null),r=Ue(null);let i=null;const s=Ue([{key:"copper",name:"",k:25,color:[184,115,51],colorStr:"rgb(184, 115, 51)"},{key:"aluminum",name:"",k:15,color:[192,192,192],colorStr:"rgb(192, 192, 192)"},{key:"iron",name:"",k:3.75,color:[60,60,60],colorStr:"rgb(60, 60, 60)"},{key:"steel",name:"",k:1,color:[210,210,210],colorStr:"rgb(210, 210, 210)"}]),o=Ue("steel");function a(){i&&i.resetSketch()}function l(){i&&i.runSketch()}function u(c){o.value=c,i&&i.setMaterial(c)}const h=c=>{let f=!1,p=20,d=0;const g=20,m=100,v=2e4;let w=v,y=[],_=[];const x={copper:{name:"",k:25,color:[184,115,51]},aluminum:{name:"",k:15,color:[192,192,192]},iron:{name:"",k:3.75,color:[60,60,60]},steel:{name:"",k:1,color:[210,210,210]}};let C=x.steel;const E=.7;let S=600,D=S*E;c.setup=()=>{const{canvasW:B,canvasH:$}=L(r.value);S=B,D=$,c.createCanvas(S,D).parent(r.value),c.pixelDensity(Math.min(2,window.devicePixelRatio||1)),c.noLoop(),c.redraw()},c.windowResized=()=>{const{canvasW:B,canvasH:$}=L(r.value);S=B,D=$,c.resizeCanvas(S,D),c.redraw()},c.draw=()=>{if(c.background(255),f){let B=c.millis()-d;p=c.map(B,0,w,g,m),p=c.constrain(p,g,m)}A(S/2,D*.95,f),N(S/2,D*.7,S*.5,D*.4),F(S/2,D*.7,S*.5,D*.4),p>g&&I(S/2,D*.7,S*.45,D*.38),p>=m&&M(S/2,D*.52,S*.45),T(S*.1,D*.8,S*.05,D*.6)};function A(B,$,q){if(c.noStroke(),c.fill(100),c.rectMode(c.CENTER),c.rect(B,$,S*.6,D*.05,5),q){c.fill(255,150,0,200);for(let Z=0;Z<5;Z++){let he=B+c.random(-S*.25,S*.25),V=$-D*.05+c.random(-D*.02,D*.02);c.ellipse(he,V,S*.03,D*.08)}c.fill(0,150,255,180);for(let Z=0;Z<3;Z++){let he=B+c.random(-S*.25,S*.25),V=$-D*.05+c.random(-D*.01,D*.01);c.ellipse(he,V,S*.02,D*.05)}}}function N(B,$,q,Z){c.rectMode(c.CENTER),c.fill(80),c.noStroke(),c.rect(B-q*.6,$-Z*.3,q*.1,Z*.2,5),c.rect(B+q*.6,$-Z*.3,q*.1,Z*.2,5),c.fill(150),c.rect(B,$,q,Z,10),c.fill(C.color),c.rect(B,$+Z*.45,q,Z*.1,0,0,10,10)}function F(B,$,q,Z){c.fill(0,150,255,100),c.noStroke(),c.rectMode(c.CENTER);let he=$+c.map(Z,0,Z,-Z*.05,Z*.3);c.rect(B,he,q*.95,Z*.7,5,5,0,0)}function T(B,$,q,Z){c.rectMode(c.CORNER),c.textAlign(c.CENTER,c.BOTTOM),c.fill(0),c.textSize(14),c.text(p.toFixed(1)+"C",B,$-Z-25),c.fill(255),c.stroke(100),c.strokeWeight(2),c.rect(B-q/2,$-Z,q,Z,10);let he=c.map(p,0,100,0,Z*.9);he=c.constrain(he,0,Z*.9),c.fill(255,0,0),c.noStroke(),c.rect(B-q/2+5,$-he,q-10,he,5),c.stroke(120),c.strokeWeight(1);let V=$-Z*.9,J=$;c.line(B-q,V,B-q/2,V),c.line(B-q,J,B-q/2,J),c.textAlign(c.RIGHT,c.CENTER),c.fill(0),c.noStroke(),c.textSize(10),c.text("100",B-q/2-5,V),c.text("0",B-q/2-5,J)}function I(B,$,q,Z){c.rectMode(c.CENTER);let he=$-Z/2,V=$+Z/2,J=0;if(p>80&&(J=c.map(p,80,m,.1,1)),c.random(1)<J&&f){let ge={x:B+c.random(-q/2,q/2),y:V-c.random(10),r:c.random(1,c.map(p,80,m,3,8)),speed:c.random(1,3)};y.push(ge)}c.fill(255,255,255,150),c.noStroke();for(let ge=y.length-1;ge>=0;ge--){let W=y[ge];W.y-=W.speed,W.x+=c.random(-.5,.5),c.ellipse(W.x,W.y,W.r,W.r),W.y<he&&y.splice(ge,1)}}function M(B,$,q){if(c.random(1)<.8&&f){let Z={x:B+c.random(-q/2,q/2),y:$,r:c.random(5,15),alpha:100,speedY:c.random(1,2)};_.push(Z)}c.noStroke();for(let Z=_.length-1;Z>=0;Z--){let he=_[Z];he.y-=he.speedY,he.alpha-=2,he.x+=c.random(-1,1),c.fill(200,200,200,he.alpha),c.ellipse(he.x,he.y,he.r,he.r),he.alpha<0&&_.splice(Z,1)}}function L(B){const q=(B||document.documentElement).clientWidth||600,Z=Math.floor(q),he=Math.floor(Z*E);return{canvasW:Z,canvasH:he}}c.setMaterial=B=>{C=x[B]||x.steel,w=v/C.k,c.resetSketch()},c.resetSketch=()=>{f=!1,p=g,y=[],_=[],c.noLoop(),c.redraw()},c.runSketch=()=>{f||(c.resetSketch(),f=!0,d=c.millis(),c.loop())}};return On(async()=>{await Fr(),r.value&&(i=new Ot(h,r.value),i&&i.setMaterial(o.value))}),Mr(()=>{try{i?.remove()}catch(c){console.error("Error removing p5 instance:",c)}}),(c,f)=>(ie(),le("div",{class:"columnar-wrap",ref_key:"wrapRef",ref:t},[b("div",{class:"toolbar"},[b("button",{class:"btn",onClick:a},""),b("button",{class:"btn primary",onClick:l},"  (Run)"),f[0]||(f[0]=b("span",{class:"title"},"     ?",-1))]),b("div",dse,[f[1]||(f[1]=b("strong",null,"  :",-1)),(ie(!0),le(it,null,At(s.value,p=>(ie(),le("button",{key:p.key,class:st(["btn-mat",{active:o.value===p.key}]),style:Gn({"--mat-color":p.colorStr}),onClick:d=>u(p.key)},ke(p.name),15,pse))),128))]),b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512),f[2]||(f[2]=b("p",{class:"desc"},[Ct("     . "),b("em",null,"Run"),Ct("   "),b("strong",null,"(k)"),Ct("      .      . ")],-1))],512))}},tA=yt(mse,[["__scopeId","data-v-861b45ff"]]),gse={class:"sim-control-card"},vse={class:"control-row"},yse={class:"control-options"},bse=["onClick"],xse={class:"control-row voltage-row"},_se={class:"slider-wrap"},wse={class:"slider-level"},Ese={class:"canvas-card"},Sse={__name:"ElectricShow",setup(n){const t=Ue(null),r=Ue(null);let i=null;const s=Ue([{key:"tesla",label:" "},{key:"vandag",label:""},{key:"ladder",label:" "}]),o=Ue("tesla"),a=Ue(2),l=dt(()=>a.value===1?"":a.value===2?"":"");function u(){i&&i.resetSketch&&i.resetSketch()}function h(){i&&i.fireOnce&&i.fireOnce()}function c(d){o.value=d,i&&i.setDevice&&i.setDevice(d)}function f(){i&&i.setLevel&&i.setLevel(a.value)}const p=d=>{let m=600,v=540,w="tesla",y=2,_=!1,x=0;const C=2500;let E,S,D="",A="";d.setup=()=>{const{canvasW:z,canvasH:de}=W(r.value);m=z,v=de,d.createCanvas(m,v).parent(r.value),d.pixelDensity(Math.min(2,window.devicePixelRatio||1)),N(),d.noLoop(),d.redraw()},d.windowResized=()=>{if(!r.value)return;const{canvasW:z,canvasH:de}=W(r.value);m=z,v=de,d.resizeCanvas(m,v),N(),d.redraw()};function N(){E={x:m*.22,y:v*.72},S={x:m*.78,y:v*.67}}d.draw=()=>{d.background(255),w==="tesla"?(D=" ",A="               ."):w==="vandag"?(D="",A="     ,       ."):(D=" ",A="        .     ."),F(),T(),I(),M(),_&&(q(),d.millis()-x>C&&(_=!1,d.noLoop()))};function F(){d.push(),d.noStroke(),d.fill(240),d.rectMode(d.CORNER),d.rect(0,v*.8,m,v*.2),d.fill(209,213,219),d.rect(0,v*.86,m,v*.14),d.pop()}function T(){const z=m*.04,de=v*.03,K=m-z*2,ue=v*.18;d.push(),d.rectMode(d.CORNER),d.noStroke(),d.fill(232,244,255),d.rect(z,de,K,ue,12);const G=14,se=10;d.fill(37,47,63),d.textAlign(d.LEFT,d.TOP),d.textSize(13),d.text(D,z+G,de+se),d.fill(75,85,99),d.textSize(11),d.text(A,z+G,de+se+18,K-G*2,ue-se*2),d.pop()}function I(){d.push(),d.rectMode(d.CENTER),d.ellipseMode(d.CENTER),d.fill(96,165,250),d.rect(E.x,E.y,m*.08,v*.16,10),d.fill(248,250,252),d.ellipse(E.x,E.y-v*.11,m*.06,m*.06),d.stroke(55,65,81),d.strokeWeight(2),d.line(E.x+m*.03,E.y-v*.04,E.x+m*.08,E.y-v*.14);const z=E.x+m*.11,de=E.y-v*.2;d.noStroke(),d.fill(251,191,36),d.ellipse(z,de,m*.06,m*.08),d.triangle(z,de+m*.04,z-m*.01,de+m*.06,z+m*.01,de+m*.06),d.pop(),d.push(),d.rectMode(d.CENTER),d.stroke(75,85,99),d.strokeWeight(3),d.line(S.x,v*.4,S.x,v*.78),d.line(S.x-m*.04,v*.78,S.x+m*.04,v*.78),d.noStroke(),d.fill(251,146,60);const K=S.x,ue=v*.42;d.beginShape(),d.vertex(K-m*.015,ue),d.vertex(K+m*.005,ue+v*.03),d.vertex(K-m*.005,ue+v*.03),d.vertex(K+m*.015,ue+v*.07),d.vertex(K-m*.005,ue+v*.04),d.vertex(K+m*.005,ue+v*.04),d.endShape(d.CLOSE),d.pop()}function M(){w==="tesla"?L():w==="vandag"?B():$()}function L(){const z=m*.5,de=v*.8;d.push(),d.rectMode(d.CENTER),d.noStroke(),d.fill(156,163,175),d.rect(z,de-v*.08,m*.09,v*.12,8),d.stroke(55,65,81),d.strokeWeight(2);for(let K=0;K<6;K++){const ue=de-v*.13+K*v*.02;d.line(z-m*.035,ue,z+m*.035,ue)}d.noStroke(),d.fill(209,213,219),d.ellipse(z,de-v*.19,m*.16,v*.05),d.pop()}function B(){const z=m*.5,de=v*.8;d.push(),d.rectMode(d.CENTER),d.ellipseMode(d.CENTER),d.noStroke(),d.fill(148,163,184),d.rect(z,de-v*.09,m*.06,v*.16,6),d.fill(229,231,235),d.ellipse(z,de-v*.22,m*.16,m*.16),d.fill(243,244,246,180),d.ellipse(z-m*.03,de-v*.235,m*.05,m*.04),d.pop()}function $(){const z=m*.5,de=v*.26,K=v*.78;d.push(),d.rectMode(d.CENTER),d.noFill(),d.stroke(75,85,99),d.strokeWeight(4),d.line(z-m*.05,K,z-m*.02,de),d.line(z+m*.05,K,z+m*.02,de),d.line(z-m*.05,K,z+m*.05,K),d.pop()}function q(){let z=6;y===2&&(z=10),y===3&&(z=14);for(let de=0;de<z;de++)w==="ladder"?J():w==="vandag"?V():he()}function Z(){const z=y===1?120:y===2?180:230;d.stroke(96,165,250,z),d.strokeWeight(2+y*.5)}function he(){const z=m*.5,de=v*.61,K=.55+y*.1,G=Math.random()<K?S:E,se=G.x+d.random(-m*.02,m*.02),ye=G.y-v*.18+d.random(-v*.02,v*.02);ge(z,de,se,ye)}function V(){const z=m*.5,de=v*.58,K=m*.08,ue=d.random(-d.PI*.6,-d.PI*.1),G=z+K*Math.cos(ue),se=de+K*Math.sin(ue),ye=m*(.08+y*.03),Ee=G+ye*Math.cos(ue+d.random(-.3,.3)),H=se+ye*Math.sin(ue+d.random(-.2,.2));ge(G,se,Ee,H)}function J(){const z=v*.74,de=v*.32,K=(d.millis()-x)/C,ue=d.lerp(z,de,d.constrain(K*(.8+y*.1),0,1)),G=m*.5-m*.03,se=m*.5+m*.03,ye=ue+v*.02,Ee=ue-v*.02;ge(G,ye,se,Ee)}function ge(z,de,K,ue){Z();const G=10;d.noFill(),d.beginShape();for(let se=0;se<=G;se++){const ye=se/G;let Ee=d.lerp(z,K,ye),H=d.lerp(de,ue,ye);const Q=(1-Math.abs(.5-ye)*2)*(10+y*6);Ee+=d.random(-Q,Q),H+=d.random(-Q,Q),(se===0||se===G)&&(Ee=se===0?z:K,H=se===0?de:ue),d.vertex(Ee,H)}d.endShape()}d.setDevice=z=>{w=z||"tesla",d.redraw()},d.setLevel=z=>{y=z||2,d.redraw()},d.fireOnce=()=>{_=!0,x=d.millis(),d.loop()},d.resetSketch=()=>{_=!1,x=0,w="tesla",y=2,d.noLoop(),d.redraw()};function W(z){const K=(z||document.documentElement).clientWidth||600,ue=Math.floor(K),G=Math.floor(ue*.9);return{canvasW:ue,canvasH:G}}};return On(async()=>{await Fr(),r.value&&(i=new Ot(p,r.value),i.setDevice&&i.setDevice(o.value),i.setLevel&&i.setLevel(a.value))}),Mr(()=>{try{i?.remove(),i=null}catch(d){console.error("Error removing p5 instance:",d)}}),(d,g)=>(ie(),le("div",{class:"electric-sim",ref_key:"wrapRef",ref:t},[b("div",{class:"sim-header-card"},[g[1]||(g[1]=_r('<div class="header-left" data-v-c795b427><div class="icon-circle" data-v-c795b427><i class="bi bi-lightning-charge-fill" data-v-c795b427></i></div><div class="header-text" data-v-c795b427><div class="header-title" data-v-c795b427>  ?</div></div></div>',1)),b("div",{class:"header-actions"},[b("button",{class:"chip-btn",onClick:u},""),b("button",{class:"chip-btn primary",onClick:h}," ")])]),b("div",gse,[b("div",vse,[g[2]||(g[2]=b("span",{class:"control-label"}," ",-1)),b("div",yse,[(ie(!0),le(it,null,At(s.value,m=>(ie(),le("button",{key:m.key,class:st(["pill-btn",{active:o.value===m.key}]),onClick:v=>c(m.key)},ke(m.label),11,bse))),128))])]),b("div",xse,[g[3]||(g[3]=b("span",{class:"control-label"}," ",-1)),b("div",_se,[Bt(b("input",{type:"range",min:"1",max:"3",step:"1","onUpdate:modelValue":g[0]||(g[0]=m=>a.value=m),onInput:f},null,544),[[bn,a.value,void 0,{number:!0}]]),b("span",wse,ke(l.value),1)])])]),b("div",Ese,[b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},nA=yt(Sse,[["__scopeId","data-v-c795b427"]]),Cse={class:"sim-control-card"},Ase={class:"control-row"},Tse={class:"slider-wrap"},Ise={class:"slider-level"},Dse={class:"control-row"},Nse={class:"slider-wrap"},kse={class:"slider-level"},Fse={class:"canvas-card"},Mse={__name:"MagneticTrain",setup(n){const t=Ue(null),r=Ue(null);let i=null;const s=Ue(3),o=Ue(3);function a(){i&&i.resetSketch&&i.resetSketch()}function l(){i&&i.runSimulation&&i.runSimulation()}function u(){i&&(i.setLevitationPower?.(s.value),i.setPropulsionPower?.(o.value))}const h=c=>{let p=600,d=260,g=3,m=3,v;const w=26,y={x:0,y:0,w:140,h:46,vx:0,vy:0};let _=!1,x=0;const C=55;c.setup=()=>{const L=r.value?.clientWidth||600;p=L,d=Math.max(220,Math.round(L*.42)),c.createCanvas(p,d).parent(r.value),c.pixelDensity(Math.min(2,window.devicePixelRatio||1)),E(),c.noLoop(),c.redraw()},c.windowResized=()=>{const L=r.value?.clientWidth||600;p=L,d=Math.max(220,Math.round(L*.42)),c.resizeCanvas(p,d),E(),c.redraw()};function E(){v=d*.66,y.x=p*.1,y.y=v-w/2-y.h/2-S(),y.vx=0,y.vy=0}function S(){return 6+g*4.5}c.draw=()=>{x+=c.deltaTime*.001,c.background(248),A(),N(),F(),D(),T(),I(),M()};function D(){const L=v-w/2-y.h/2-S(),B=.12,$=.18,q=(L-y.y)*B;y.vy+=q,y.vy*=1-$,y.y+=y.vy;const Z=1.2+g*.6;if(y.y+=Math.sin(x*2.4)*(Z*.15),_){const V=.006*m;y.vx+=V}else y.vx*=.9;const he=2+m*.3;y.vx>he&&(y.vx=he),y.vx*=.996,y.x+=y.vx,y.x>p+y.w&&(y.x=-150)}function A(){c.push(),c.noStroke(),c.fill(241,245,249),c.rect(0,0,p,v+40),c.fill(229,231,235),c.rect(0,v+24,p,d-(v+24)),c.pop()}function N(){c.push(),c.rectMode(c.CORNER),c.noStroke(),c.fill(148,163,184),c.rect(0,v-w/2,p,w,6),c.fill(75,85,99),c.rect(0,v-w/2-6,p,6,4),c.pop()}function F(){c.push(),c.rectMode(c.CENTER);const L=v+w*.1;for(let B=0;B<p+C;B+=C){const $=B+C*.5,q=Math.abs($-(y.x+y.w/2)),Z=120+m*8,he=q<Z,V=Math.floor($/C)%2===0;if(he){c.noStroke();const J=c.map(q,0,Z,1,.1,!0);c.fill(59,130,246,90*J),c.ellipse($,L-12,60,42)}c.stroke(148,163,184),c.strokeWeight(1.5),c.fill(248,250,252),c.rect($,L,32,22,6),V?c.fill(59,130,246):c.fill(239,68,68),c.rect($,L,32,8,4),c.noStroke(),c.fill(255),c.textAlign(c.CENTER,c.CENTER),c.textSize(9),c.text(V?"N":"S",$,L)}c.pop()}function T(){const L=y.x+y.w/2,B=y.y+y.h/2,$=v-w/2,q=4+g;for(let Z=0;Z<q;Z++){const he=(Z-q/2)*8;c.push(),c.noFill();const V=40+Z*12;c.stroke(59,130,246,V),c.strokeWeight(1),c.beginShape();const J=10+g*2;for(let ge=0;ge<=12;ge++){const W=ge/12,z=L+he+(W-.5)*26,de=c.lerp(B,$,W)-Math.sin(W*c.PI)*J;c.vertex(z,de)}c.endShape(),c.pop()}}function I(){c.push(),c.rectMode(c.CORNER),c.ellipseMode(c.CENTER),c.noStroke(),c.fill(248,250,252),c.rect(y.x,y.y,y.w,y.h,10),c.fill(59,130,246),c.rect(y.x,y.y,y.w,10,10,10,0,0),c.fill(191,219,254);const L=y.y+18;for(let Z=0;Z<3;Z++){const he=y.x+18+Z*32;c.rect(he,L,22,14,4)}c.fill(148,163,184),c.rect(y.x+y.w-18,y.y+8,18,y.h-12,0,10,10,0);const B=y.y+y.h+6,$=40,q=12;c.fill(59,130,246),c.rect(y.x+y.w*.3-$/2,B,$,q,3),c.fill(239,68,68),c.rect(y.x+y.w*.7-$/2,B,$,q,3),c.fill(255),c.textAlign(c.CENTER,c.CENTER),c.textSize(9),c.text("N",y.x+y.w*.3,B+q/2),c.text("S",y.x+y.w*.7,B+q/2),c.pop()}function M(){c.push(),c.textAlign(c.LEFT,c.TOP),c.textSize(12),c.fill(55,65,81);const L=12,B=10;c.noStroke(),c.fill(255,255,255,220),c.rect(L-8,B-6,210,54,8),c.fill(15,23,42),c.text(` ${g}:   `,L,B),c.text(` ${m}:  `,L,B+16),c.text("  .",L,B+32),c.pop()}c.runSimulation=()=>{_=!0,y.vx<.5&&(y.vx=.3+m*.15),c.loop()},c.resetSketch=()=>{_=!1,E(),c.noLoop(),c.redraw()},c.setLevitationPower=L=>{g=L||1,c.redraw()},c.setPropulsionPower=L=>{m=L||1,c.redraw()}};return On(async()=>{await Fr(),r.value&&(i=new Ot(h,r.value),i.setLevitationPower?.(s.value),i.setPropulsionPower?.(o.value))}),Mr(()=>{try{i?.remove(),i=null}catch(c){console.error("Error removing p5 instance:",c)}}),(c,f)=>(ie(),le("div",{class:"maglev-sim",ref_key:"wrapRef",ref:t},[b("div",{class:"sim-header-card"},[f[2]||(f[2]=_r('<div class="header-left" data-v-fbe3f921><div class="icon-circle" data-v-fbe3f921><i class="bi bi-train-front" data-v-fbe3f921></i></div><div class="header-text" data-v-fbe3f921><div class="header-title" data-v-fbe3f921>  </div></div></div>',1)),b("div",{class:"header-actions"},[b("button",{class:"chip-btn",onClick:a},""),b("button",{class:"chip-btn primary",onClick:l}," ")])]),b("div",Cse,[b("div",Ase,[f[3]||(f[3]=b("span",{class:"control-label"}," ",-1)),b("div",Tse,[Bt(b("input",{type:"range",min:"1",max:"5","onUpdate:modelValue":f[0]||(f[0]=p=>s.value=p),onInput:u},null,544),[[bn,s.value,void 0,{number:!0}]]),b("span",Ise,ke(s.value),1)])]),b("div",Dse,[f[4]||(f[4]=b("span",{class:"control-label"}," ",-1)),b("div",Nse,[Bt(b("input",{type:"range",min:"1",max:"5","onUpdate:modelValue":f[1]||(f[1]=p=>o.value=p),onInput:u},null,544),[[bn,o.value,void 0,{number:!0}]]),b("span",kse,ke(o.value),1)])])]),b("div",Fse,[b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},Bv=yt(Mse,[["__scopeId","data-v-fbe3f921"]]),Ose={class:"sim-control-card"},Pse={class:"control-row"},Lse={class:"control-options"},Rse=["onClick"],Bse={class:"control-row"},Use={class:"control-options"},Vse=["onClick"],$se={class:"control-row voltage-row"},jse={class:"slider-wrap"},zse={class:"slider-level"},Gse={class:"canvas-card"},Hse="/Tshirt.png",Wse={__name:"ElectroClothes",setup(n){const t=Ue(null),r=Ue(null);let i=null;const s=Ue([{key:"wool",label:""},{key:"cotton",label:""},{key:"poly",label:""},{key:"silk",label:""}]),o=Ue([{key:"styro",label:""},{key:"plastic",label:""},{key:"metal",label:""}]),a=Ue("wool"),l=Ue("styro"),u=Ue(2),h=dt(()=>u.value===1?"":u.value===2?"":"");function c(){u.value=2,p("wool"),d("styro"),i&&i.resetSketch&&i.resetSketch()}function f(){i&&i.rubOnce&&i.rubOnce()}function p(v){a.value=v,i&&i.setFabric&&i.setFabric(v)}function d(v){l.value=v,i&&i.setBlock&&i.setBlock(v)}function g(){i&&i.setLevel&&i.setLevel(u.value)}const m=v=>{let w=600,y=220,_="wool",x="styro",C=2,E="",S="",D=0,A=!1,N=0;const F=2e3;let T,I,M=null;v.setup=()=>{w=r.value?.clientWidth||600,y=330,v.createCanvas(w,y).parent(r.value),v.pixelDensity(Math.min(2,window.devicePixelRatio||1)),M=v.loadImage(Hse,ue=>{M=ue,console.log("tshirt loaded",ue.width,ue.height),v.redraw()},ue=>{console.error("tshirt load error",ue)}),I={x:w*.5,y:y*.64},T={x:w*.5,y:I.y-30/2-2-90/2},D=0,v.noLoop(),v.redraw()},v.draw=()=>{v.background(245),L(),B(),q(),$(),A?he():D>0?(ge(),drawChargeAmountText()):Z(),A&&v.millis()-N>F&&(A=!1,v.noLoop(),v.redraw())};function L(){_==="wool"?(E="",S="      ."):_==="poly"?(E="",S="      ."):_==="cotton"?(E="",S="      ."):(E="",S="     .");const W=w*.9,z=62,de=w*.05,K=14;v.push(),v.noStroke(),v.fill(230,243,255),v.rect(de,K,W,z,10),v.fill(37,47,63),v.textSize(15),v.textAlign(v.LEFT,v.TOP),v.text(E,de+14,K+10),v.fill(75,85,99),v.textSize(12),v.text(S,de+14,K+32,W-24,z-30),v.pop()}function B(){v.push(),v.noStroke(),v.fill(240),v.ellipse(T.x,T.y+10,w*.7,80)}function $(){if(!M||!M.width||!M.height)return;v.push();let W=T.x,z=T.y;if(A){const se=(v.millis()-N)/F,ye=v.sin(se*v.TWO_PI*6)*10;W+=ye}v.translate(W,z),v.imageMode(v.CENTER);const K=140/M.width,ue=M.width*K,G=M.height*K;v.image(M,0,0,ue,G),v.noStroke(),v.fill(49,49,56),v.textSize(13),v.textAlign(v.CENTER,v.TOP),v.text(E,0,0),v.pop()}function q(){v.push(),v.rectMode(v.CENTER);const W=x==="styro"?"":x==="plastic"?"":"";let z;x==="styro"?z=v.color(185,230,255):x==="plastic"?z=v.color(196,196,214):z=v.color(224,224,224),v.noStroke(),v.fill(209,213,219,140),v.ellipse(I.x,I.y+10,210,26),v.fill(z),v.rect(I.x,I.y,190,40,14),v.noFill(),v.stroke(148,163,184),v.strokeWeight(1.5),v.rect(I.x,I.y,190,40,14),v.noStroke(),v.fill(55,65,81),v.textSize(14),v.textAlign(v.CENTER,v.CENTER),v.text(W,I.x,I.y),v.pop()}function Z(){v.push(),v.textSize(12),v.textAlign(v.CENTER,v.CENTER),v.noStroke();const W=v.color(239,68,68,90),z=v.color(59,130,246,90),de=v.color(255,255,255,150),K=12;for(let ue=0;ue<3;ue++){let G=T.x+v.random(-40,40),se=T.y+v.random(-20,20);v.fill(W),v.ellipse(G-(K/2+1),se,K,K),v.fill(de),v.text("+",G-(K/2+1),se+1),v.fill(z),v.ellipse(G+(K/2+1),se,K,K),v.fill(de),v.text("",G+(K/2+1),se+1)}for(let ue=0;ue<3;ue++){let G=I.x+v.random(-50,50),se=I.y+v.random(-10,10);v.fill(W),v.ellipse(G-(K/2+1),se,K,K),v.fill(de),v.text("+",G-(K/2+1),se+1),v.fill(z),v.ellipse(G+(K/2+1),se,K,K),v.fill(de),v.text("",G+(K/2+1),se+1)}v.pop()}function he(){v.push();const{clothSign:W,blockSign:z}=J();if(z===0){v.pop();return}let de,K;const ue=T.y+40,G=I.y-20;W===1?(de=ue,K=G):(de=G,K=ue);const ye=v.color(59,130,246);ye.setAlpha(200),v.noStroke(),v.textSize(18),v.textAlign(v.CENTER,v.CENTER);const Ee=Math.floor(D/15)+3;for(let H=0;H<Ee;H++){let Q=(v.frameCount+H*3)%20/20,re=v.sin(Q*v.PI),Ce=T.x+v.random(-50,50),_e=v.lerp(de,K,re);v.fill(ye),v.ellipse(Ce,_e,22,22),v.fill(255),v.text("",Ce,_e+1)}v.pop()}function V(){const W={wool:1,poly:.85,cotton:.3,silk:.55},z={styro:1.1,plastic:.9,metal:.5},de=[.7,1,1.3];return Math.floor(100*W[_]*z[x]*de[C-1])}function J(){return x==="metal"?{clothSign:1,blockSign:0}:_==="cotton"||_==="silk"?{clothSign:-1,blockSign:1}:{clothSign:1,blockSign:-1}}function ge(){const{clothSign:W,blockSign:z}=J(),de=Math.max(6,Math.floor(D/20)),K=Math.floor(de*.6),ue=de-K;v.push(),v.textAlign(v.CENTER,v.CENTER),v.textSize(18),v.noStroke();for(let G=0;G<K;G++){const se=v.random(-v.PI*.2,v.PI*.2),ye=70+v.random(-8,12),Ee=T.x+ye*Math.cos(se),H=T.y-10+ye*Math.sin(se),Q=W>=0,re=Q?v.color(239,68,68):v.color(59,130,246);re.setAlpha(230),v.fill(re),v.ellipse(Ee,H,22,22),v.fill(255),v.text(Q?"+":"-",Ee,H+1)}for(let G=0;G<ue&&z!==0;G++){const se=v.random(v.PI*.8,v.PI*1.2),ye=80+v.random(-10,10),Ee=I.x+ye*Math.cos(se),H=I.y+ye*Math.sin(se),Q=z>=0,re=Q?v.color(239,68,68):v.color(59,130,246);re.setAlpha(230),v.fill(re),v.ellipse(Ee,H,22,22),v.fill(255),v.text(Q?"+":"",Ee,H+1)}v.pop()}v.setFabric=W=>{_=W||"wool",D=0,v.redraw()},v.setBlock=W=>{x=W||"styro",D=0,v.redraw()},v.setLevel=W=>{C=W||2,D=0,v.redraw()},v.rubOnce=()=>{A||(A=!0,N=v.millis(),D=V(),v.loop())},v.resetSketch=()=>{A=!1,D=0,v.noLoop(),v.redraw()}};return On(async()=>{await Fr(),r.value&&(i=new Ot(m,r.value),i.setFabric&&i.setFabric(a.value),i.setBlock&&i.setBlock(l.value),i.setLevel&&i.setLevel(u.value))}),Mr(()=>{try{i?.remove(),i=null}catch(v){console.error("Error removing p5 instance:",v)}}),(v,w)=>(ie(),le("div",{class:"static-sim",ref_key:"wrapRef",ref:t},[b("div",{class:"sim-header-card"},[w[1]||(w[1]=_r('<div class="header-left" data-v-ac5c7c8e><div class="icon-circle" data-v-ac5c7c8e><i class="bi bi-lightning-charge" data-v-ac5c7c8e></i></div><div class="header-text" data-v-ac5c7c8e><div class="header-title" data-v-ac5c7c8e>  <br data-v-ac5c7c8e>  ?</div></div></div>',1)),b("div",{class:"header-actions"},[b("button",{class:"chip-btn",onClick:c},""),b("button",{class:"chip-btn primary",onClick:f},"")])]),b("div",Ose,[b("div",Pse,[w[2]||(w[2]=b("span",{class:"control-label"}," ",-1)),b("div",Lse,[(ie(!0),le(it,null,At(s.value,y=>(ie(),le("button",{key:y.key,class:st(["pill-btn",{active:a.value===y.key}]),onClick:_=>p(y.key)},ke(y.label),11,Rse))),128))])]),b("div",Bse,[w[3]||(w[3]=b("span",{class:"control-label"}," ",-1)),b("div",Use,[(ie(!0),le(it,null,At(o.value,y=>(ie(),le("button",{key:y.key,class:st(["pill-btn",{active:l.value===y.key}]),onClick:_=>d(y.key)},ke(y.label),11,Vse))),128))])]),b("div",$se,[w[4]||(w[4]=b("span",{class:"control-label"}," ",-1)),b("div",jse,[Bt(b("input",{type:"range",min:"1",max:"3",step:"1","onUpdate:modelValue":w[0]||(w[0]=y=>u.value=y),onInput:g},null,544),[[bn,u.value,void 0,{number:!0}]]),b("span",zse,ke(h.value),1)])])]),b("div",Gse,[b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},rA=yt(Wse,[["__scopeId","data-v-ac5c7c8e"]]),qse={class:"sim-control-card"},Xse={class:"control-row"},Yse={class:"slider-wrap"},Kse={class:"slider-level"},Zse={class:"control-row"},Jse={class:"slider-wrap"},Qse={class:"slider-level"},eoe={class:"canvas-card themed"},toe={__name:"AlternatorShow",setup(n){const t=Ue(null),r=Ue(null);let i=null;const s=Ue(3),o=Ue(2),a=dt(()=>[" ","","",""," "][s.value-1]),l=dt(()=>o.value+"");function u(){i?.resetSketch&&i.resetSketch()}function h(){i?.startGen&&i.startGen()}function c(){i?.setSpeed&&i.setSpeed(s.value)}function f(){i?.setTurns&&i.setTurns(o.value)}const p=d=>{let g=430,m=420,v=2,w=3,y=!1,_=0,x=0,C=[];const E=120;d.setup=()=>{g=r.value.clientWidth?Math.max(320,r.value.clientWidth):430,m=420,d.createCanvas(g,m).parent(r.value),d.pixelDensity(Math.min(2,window.devicePixelRatio||1)),C=[],d.noLoop(),d.redraw()},d.draw=()=>{d.clear(),S(),D(),y&&(_+=w*.045,_>d.TWO_PI&&(_-=d.TWO_PI),x=Math.sin(_)*(v*w*10),C.push(x),C.length>E&&C.shift(),d.loop())};function S(){const A=g*.25,N=m*.31;d.push(),d.stroke(180,194,220,50),d.strokeWeight(3),d.fill(255,84,84),d.rect(A-44,N-28,38,44,13),d.fill(70,155,234),d.rect(A+44,N-28,38,44,13),d.noStroke(),d.fill("#fff"),d.textAlign(d.CENTER,d.CENTER),d.textSize(15),d.textStyle(d.BOLD),d.text("N",A-25,N-3),d.text("S",A+63,N-3),d.pop(),d.push(),d.translate(A,N);for(let $=0;$<v+2;$++){d.stroke(232-$*7,115+$*15,65+$*2,195),d.strokeWeight(6);let q=19+$*5.2;d.noFill(),d.arc(0,0,q*2,q*2,_-d.HALF_PI-.64,_-d.HALF_PI+.64)}d.noStroke(),d.fill(253,236,110),d.ellipse(0,0,36,36),d.pop();const F=Math.sin(_);let T=F>0?"+":"-",I=F>0?"-":"+";d.push(),d.textAlign(d.CENTER,d.CENTER),d.textSize(20),d.fill(T==="+"?"#FBBF24":"#4FA5F6"),d.text(T,A-52,N),d.fill(I==="+"?"#FBBF24":"#4FA5F6"),d.text(I,A+53,N),d.pop(),d.push(),d.stroke(190,184,98,120),d.strokeWeight(2.6),d.line(A,N,A,N-42),d.noStroke(),d.fill(245,213,97),d.ellipse(A,N-42,13,13),d.pop(),d.push(),d.translate(A,N),d.rotate(_),d.fill(250,220,95,170),d.ellipse(0,0,14,14),d.pop();const M=g*.75,L=N,B=Math.abs(x);d.push(),d.noStroke(),d.fill(250,212,42,114+B*1.18),d.ellipse(M,L,68+B*.21,68+B*.18),d.fill("#FFD321"),d.ellipse(M,L,42,42),d.fill("#FEF5C0"),d.ellipse(M,L,23,23),d.stroke("#FFDF81"),d.strokeWeight(3.9),d.noFill(),d.arc(M,L,16,16,-.2,.8),d.arc(M,L,18,18,2.1,2.8),d.noStroke(),d.fill("#FFEEC5"),d.ellipse(M,L+20,15,14),d.fill("#DADADD"),d.rect(M-7,L+12,14,10,5),d.pop(),d.push(),d.fill("#FBA33C"),d.textAlign(d.CENTER,d.CENTER),d.textSize(15.7),d.text(" : "+Math.floor(B),M,L+38),d.pop()}function D(){const A=g*.91,N=95,F=(g-A)/2,T=m*.62;d.push(),d.textAlign(d.CENTER,d.BOTTOM),d.textSize(13.3),d.fill("#548FEC"),d.text("   ",F+A/2,T-12),d.pop(),d.push(),d.stroke("#E5EDFA"),d.strokeWeight(2),d.fill(249,252,255,245),d.rect(F,T,A,N,16),d.pop(),d.push(),d.textAlign(d.LEFT,d.CENTER),d.textSize(13.3),d.fill("#7DB6FD"),d.text("+",F+10,T+19),d.fill("#AAA7CE"),d.text("-",F+10,T+N-19),d.pop(),d.push(),d.stroke("#E0EAFD"),d.strokeWeight(1.7),d.line(F+18,T+N/2,F+A-18,T+N/2),d.pop(),d.push(),d.drawingContext.save(),d.drawingContext.beginPath(),d.drawingContext.rect(F+14,T+6,A-28,N-12),d.drawingContext.clip(),d.stroke("#41a8fff0"),d.strokeWeight(4),d.noFill(),d.beginShape();for(let $=0;$<C.length;$++){let q=F+21+$*((A-42)/E),Z=T+N/2-C[$]*.35;Z=d.constrain(Z,T+7,T+N-7),d.vertex(q,Z)}d.endShape();let I=_%d.TWO_PI/d.TWO_PI,M=Math.floor(I*(C.length-3)),L=F+21+M*((A-42)/E),B=T+N/2-C[M]*.35;B=d.constrain(B,T+7,T+N-7),d.noStroke(),d.fill("#FBBF24"),d.ellipse(L,B,20,20),d.stroke("#FFDE7B"),d.strokeWeight(2),d.line(L,T+N/2,L,B),d.drawingContext.restore(),d.pop()}d.setSpeed=A=>{w=A||3,d.redraw()},d.setTurns=A=>{v=A||2,d.redraw()},d.startGen=()=>{y=!0,d.loop()},d.resetSketch=()=>{y=!1,w=3,v=2,_=0,C=[],x=0,d.noLoop(),d.redraw()}};return On(async()=>{await Fr(),r.value&&(i=new Ot(p,r.value),i.setSpeed&&i.setSpeed(s.value),i.setTurns&&i.setTurns(o.value))}),Mr(()=>{try{i?.remove(),i=null}catch{}}),(d,g)=>(ie(),le("div",{class:"acgen-sim",ref_key:"wrapRef",ref:t},[b("div",{class:"sim-header-card"},[g[4]||(g[4]=_r('<div class="header-left" data-v-78a74b39><div class="icon-circle" data-v-78a74b39><i class="bi bi-lightbulb-fill" data-v-78a74b39></i></div><div class="header-text" data-v-78a74b39><div class="header-title" data-v-78a74b39>    (+) (-) . </div><div class="header-note" data-v-78a74b39>  N    +, S  - . <span class="caption-accent" data-v-78a74b39>      !</span></div></div></div>',1)),b("div",{class:"header-actions"},[b("button",{class:"action-btn secondary",onClick:u},[...g[2]||(g[2]=[b("i",{class:"bi bi-arrow-repeat"},null,-1),b("span",null,"",-1)])]),b("button",{class:"action-btn primary",onClick:h},[...g[3]||(g[3]=[b("i",{class:"bi bi-lightning-fill"},null,-1),b("span",null," ",-1)])])])]),b("div",qse,[b("div",Xse,[g[5]||(g[5]=b("span",{class:"control-label"},"  ",-1)),b("div",Yse,[Bt(b("input",{type:"range",min:"1",max:"5","onUpdate:modelValue":g[0]||(g[0]=m=>s.value=m),onInput:c},null,544),[[bn,s.value,void 0,{number:!0}]]),b("span",Kse,ke(a.value),1)])]),b("div",Zse,[g[6]||(g[6]=b("span",{class:"control-label"},"  ",-1)),b("div",Jse,[Bt(b("input",{type:"range",min:"1",max:"4","onUpdate:modelValue":g[1]||(g[1]=m=>o.value=m),onInput:f},null,544),[[bn,o.value,void 0,{number:!0}]]),b("span",Qse,ke(l.value),1)])])]),b("div",eoe,[b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},Zc=yt(toe,[["__scopeId","data-v-78a74b39"]]),noe={class:"sim-control-card"},roe={class:"control-row"},ioe={class:"slider-wrap"},soe={class:"slider-level"},ooe={class:"control-row"},aoe={class:"slider-wrap"},loe={class:"slider-level"},uoe={class:"control-row"},coe={class:"slider-wrap"},hoe={class:"slider-level"},foe={class:"control-row"},doe={class:"slider-wrap"},poe={class:"slider-level"},moe={class:"canvas-card themed"},goe={__name:"DigitalPhysicssShow",setup(n){const t=Ue(null),r=Ue(null);let i=null;const s=["","","",""],o=Ue(0),a=Ue(0),l=Ue(0),u=Ue(2);function h(){o.value=0,a.value=0,l.value=0,u.value=2,f(),i?.resetSketch&&i.resetSketch()}function c(){i?.startRun&&i.startRun()}function f(){i?.setForces&&i.setForces(o.value,a.value,l.value,u.value)}const p=d=>{let g=430,m=360;const v={left:0,right:0,top:0,bottom:0},w={n:0,s:0,l:0,r:2};let y=w.r-w.l,_=w.s-w.n,x=0,C=0,E=0,S=0,D=!1,A=0;const N=2600;d.setup=()=>{const J=r.value,ge=J?.clientWidth||430;g=Math.max(320,ge),m=360,d.createCanvas(g,m).parent(J),d.pixelDensity(Math.min(2,window.devicePixelRatio||1)),F(),T(),d.noLoop(),d.redraw()},d.windowResized=()=>{const J=r.value;if(!J)return;const ge=J.clientWidth||430;g=Math.max(320,ge),m=360,d.resizeCanvas(g,m),F(),T(),d.redraw()};function F(){const J=g*.58,ge=m*.3,W=g/2,z=m*.42;v.left=W-J/2,v.right=W+J/2,v.top=z-ge/2,v.bottom=z+ge/2}function T(){x=(v.left+v.right)/2,C=(v.top+v.bottom)/2,E=0,S=0,A=0}d.draw=()=>{d.background(247,248,252),I(),M(),L(),B(),$(),Z(),D?(V(),A>N&&(D=!1,d.noLoop())):d.noLoop()};function I(){d.push(),d.textAlign(d.CENTER,d.TOP),d.textSize(13),d.fill(55,65,81),d.text("    ",g/2,14),d.pop()}function M(){d.push(),d.rectMode(d.CORNERS),d.noStroke(),d.fill(255),d.rect(v.left,v.top,v.right,v.bottom,18);const J=20;d.stroke(226,232,240),d.strokeWeight(1);for(let ge=v.left+J;ge<v.right;ge+=J)d.line(ge,v.top+8,ge,v.bottom-8);for(let ge=v.top+J;ge<v.bottom;ge+=J)d.line(v.left+8,ge,v.right-8,ge);d.noFill(),d.stroke("#dbeafe"),d.strokeWeight(2),d.rect(v.left,v.top,v.right,v.bottom,18),d.pop()}function L(){const J=Math.min(g,m)*.04;d.push(),d.noStroke(),d.fill(15,23,42,26),d.ellipse(x,C+J*.45,J*1.3,J*.6),d.pop(),d.push(),d.noStroke();const ge=d.drawingContext.createRadialGradient(x-J*.3,C-J*.3,J*.2,x,C,J);ge.addColorStop(0,"#4f46e5"),ge.addColorStop(1,"#2563eb"),d.drawingContext.fillStyle=ge,d.ellipse(x,C,J*2,J*2),d.fill(255,255,255,130),d.ellipse(x-J*.35,C-J*.4,J,J*.7),d.pop()}function B(){const J=(v.left+v.right)/2,ge=(v.top+v.bottom)/2;if(Math.sqrt(y*y+_*_)<.1){d.push(),d.noFill(),d.stroke("#cbd5f5"),d.strokeWeight(2),d.ellipse(J,ge,20,20),d.pop();return}const de=Math.min(v.right-v.left,v.bottom-v.top)*.25/4,K=y*de,ue=_*de;he(J,ge,J+K,ge+ue,"#4f46e5")}function $(){const J=(v.left+v.right)/2,ge=(v.top+v.bottom)/2,W=20,z=10,de=10;q(J,v.top-W-z,`: ${s[w.n]}`,"#fee2e2","#b91c1c"),q(J,v.bottom+W+z,`: ${s[w.s]}`,"#dbeafe","#1d4ed8"),q(v.left-60-de,ge,`: ${s[w.l]}`,"#dcfce7","#166534"),q(v.right+60+de,ge,`: ${s[w.r]}`,"#fef9c3","#92400e")}function q(J,ge,W,z,de){d.push(),d.rectMode(d.CENTER),d.textAlign(d.CENTER,d.CENTER),d.textSize(10);const K=12,ue=5,se=d.textWidth(W)+K*2,ye=ue*2+10;d.noStroke(),d.fill(z),d.rect(J,ge,se,ye,ye),d.fill(de),d.text(W,J,ge+1),d.pop()}function Z(){const J=g*.86,ge=52,W=(g-J)/2,z=v.bottom+52,de=Math.sqrt(y*y+_*_);let K="";if(de<.1)K="       . ( )";else{let ue="";Math.abs(y)>=Math.abs(_)?ue=y>0?"":"":ue=_>0?"":"",K=`     ${ue} .`}d.push(),d.rectMode(d.CORNER),d.noStroke(),d.fill(248,250,252),d.rect(W,z,J,ge,14),d.textAlign(d.CENTER,d.CENTER),d.textSize(11),d.fill("#4b5563"),d.text(K,W+J/2,z+ge/2),d.pop()}function he(J,ge,W,z,de){d.push(),d.stroke(de),d.fill(de),d.strokeWeight(2.5),d.line(J,ge,W,z);const K=Math.atan2(z-ge,W-J),ue=7;d.translate(W,z),d.rotate(K),d.beginShape(),d.vertex(0,0),d.vertex(-ue,ue*.7),d.vertex(-ue,-ue*.7),d.endShape(d.CLOSE),d.pop()}function V(){const J=d.deltaTime||16;A+=J;const ge=.004,W=y*ge,z=_*ge;E+=W*(J/16),S+=z*(J/16),E*=.99,S*=.99,x+=E,C+=S;const de=Math.min(g,m)*.04;x<v.left+de&&(x=v.left+de,E=0),x>v.right-de&&(x=v.right-de,E=0),C<v.top+de&&(C=v.top+de,S=0),C>v.bottom-de&&(C=v.bottom-de,S=0)}d.setForces=(J,ge,W,z)=>{w.n=J??0,w.s=ge??0,w.l=W??0,w.r=z??0,y=w.r-w.l,_=w.s-w.n,D||d.redraw()},d.startRun=()=>{T(),A=0,D=!0,d.loop()},d.resetSketch=()=>{w.n=0,w.s=0,w.l=0,w.r=2,y=w.r-w.l,_=w.s-w.n,T(),D=!1,d.noLoop(),d.redraw()}};return On(async()=>{await Fr(),r.value&&(i=new Ot(p,r.value),i.setForces&&i.setForces(o.value,a.value,l.value,u.value))}),Mr(()=>{try{i?.remove(),i=null}catch(d){console.error("Error removing p5 instance:",d)}}),(d,g)=>(ie(),le("div",{class:"force-sim",ref_key:"wrapRef",ref:t},[b("div",{class:"sim-header-card"},[g[6]||(g[6]=_r('<div class="header-left" data-v-43d94821><div class="icon-circle" data-v-43d94821><i class="bi bi-record-circle" data-v-43d94821></i></div><div class="header-text" data-v-43d94821><div class="header-title" data-v-43d94821> :    </div><div class="header-note" data-v-43d94821>      <span class="caption-accent" data-v-43d94821>   </span>  . </div></div></div>',1)),b("div",{class:"header-actions"},[b("button",{class:"action-btn secondary",onClick:h},[...g[4]||(g[4]=[b("i",{class:"bi bi-arrow-repeat"},null,-1),b("span",null,"",-1)])]),b("button",{class:"action-btn primary",onClick:c},[...g[5]||(g[5]=[b("i",{class:"bi bi-play-fill"},null,-1),b("span",null," ",-1)])])])]),b("div",noe,[b("div",roe,[g[7]||(g[7]=b("span",{class:"control-label"},"  ",-1)),b("div",ioe,[Bt(b("input",{type:"range",min:"0",max:"3","onUpdate:modelValue":g[0]||(g[0]=m=>o.value=m),onInput:f},null,544),[[bn,o.value,void 0,{number:!0}]]),b("span",soe,ke(s[o.value]),1)])]),b("div",ooe,[g[8]||(g[8]=b("span",{class:"control-label"},"  ",-1)),b("div",aoe,[Bt(b("input",{type:"range",min:"0",max:"3","onUpdate:modelValue":g[1]||(g[1]=m=>a.value=m),onInput:f},null,544),[[bn,a.value,void 0,{number:!0}]]),b("span",loe,ke(s[a.value]),1)])]),b("div",uoe,[g[9]||(g[9]=b("span",{class:"control-label"},"  ",-1)),b("div",coe,[Bt(b("input",{type:"range",min:"0",max:"3","onUpdate:modelValue":g[2]||(g[2]=m=>l.value=m),onInput:f},null,544),[[bn,l.value,void 0,{number:!0}]]),b("span",hoe,ke(s[l.value]),1)])]),b("div",foe,[g[10]||(g[10]=b("span",{class:"control-label"},"  ",-1)),b("div",doe,[Bt(b("input",{type:"range",min:"0",max:"3","onUpdate:modelValue":g[3]||(g[3]=m=>u.value=m),onInput:f},null,544),[[bn,u.value,void 0,{number:!0}]]),b("span",poe,ke(s[u.value]),1)])])]),b("div",moe,[b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},iA=yt(goe,[["__scopeId","data-v-43d94821"]]),voe={class:"sim-control-card"},yoe={class:"control-row"},boe={class:"slider-wrap"},xoe={class:"slider-level"},_oe={class:"canvas-card themed"},woe={__name:"CentrifugalBike",setup(n){const t=Ue(null),r=Ue(null);let i=null;const s=Ue(2),o=dt(()=>["",""," "][s.value-1]);function a(){s.value=2,i?.setPower&&i.setPower(s.value),i?.resetSketch&&i.resetSketch()}function l(){i?.startRide&&i.startRide()}function u(){i?.setPower&&i.setPower(s.value)}const h=c=>{let f=430,p=420,d=0,g=0,m=0,v=0,w=0,y=!1,_=0;const x=3200;let C=.5,E=.2,S=2;c.setup=()=>{const $=r.value,q=$?.clientWidth||430;f=Math.max(320,q),p=420,c.createCanvas(f,p).parent($),c.pixelDensity(Math.min(2,window.devicePixelRatio||1)),D(),A()},c.windowResized=()=>{const $=r.value;if(!$)return;const q=$.clientWidth||430;f=Math.max(320,q),p=420,c.resizeCanvas(f,p),D()};function D(){d=f/2,g=p*.34,m=Math.min(f,p)*.24}function A(){v=c.HALF_PI,w=0,_=0,y=!1,B()}c.draw=()=>{c.background(247,248,252),N(),F(),T(),I(),M(),y&&(L(),_>x&&(y=!1))};function N(){c.push(),c.textAlign(c.CENTER,c.TOP),c.textSize(13),c.fill(55,65,81),c.text("      ",f/2,10),c.pop()}function F(){c.push(),c.noStroke(),c.fill(209,213,219,70),c.ellipse(d,g+6,m*2.05,m*2.05),c.noFill(),c.stroke("#dbeafe"),c.strokeWeight(8),c.ellipse(d,g,m*2,m*2),c.stroke("#e5e7eb"),c.strokeWeight(1.5),c.ellipse(d,g,m*1.6,m*1.6),c.stroke("#e5e7eb"),c.strokeWeight(2),c.line(d-m*1.2,g+m+16,d+m*1.2,g+m+16),c.pop()}function T(){const $=d+m*Math.cos(v),q=g+m*Math.sin(v),Z=Math.min(f,p)*.035;c.push(),c.noStroke(),c.fill(15,23,42,40),c.ellipse($,q+Z*.6,Z*1.4,Z*.7),c.pop(),c.push(),c.noStroke();const he=c.drawingContext.createRadialGradient($-Z*.4,q-Z*.4,Z*.2,$,q,Z);he.addColorStop(0,"#4f46e5"),he.addColorStop(1,"#2563eb"),c.drawingContext.fillStyle=he,c.ellipse($,q,Z*2,Z*2),c.fill(255,255,255,130),c.ellipse($-Z*.3,q-Z*.4,Z,Z*.7),c.pop(),c.push(),c.stroke(248,250,252),c.strokeWeight(2),c.noFill(),c.arc($,q-Z*.4,Z*1.2,Z*1.2,c.PI*1.2,c.PI*1.9),c.pop()}function I(){const $=f*.86,q=90,Z=(f-$)/2,he=g+m+22;c.push(),c.rectMode(c.CORNER),c.noStroke(),c.fill(248,250,252),c.rect(Z,he,$,q,14);const V=Z+14,J=he+10,ge=$-28;c.textAlign(c.LEFT,c.TOP),c.textSize(11),c.fill("#4b5563"),c.text("  ",V,J);const W=8,z=20,de=J+26,K=de+W+z;c.fill("#e5edff"),c.rect(V,de,ge,W,999),c.fill("#4f46e5"),c.rect(V,de,ge*C,W,999),c.fill("#6b7280"),c.text(" ",V+2,de-13),c.fill("#fee2e2"),c.rect(V,K,ge,W,999),c.fill("#f97316"),c.rect(V,K,ge*E,W,999),c.fill("#6b7280"),c.text(" ",V+2,K-13),c.pop()}function M(){const $=f*.86,q=48,Z=(f-$)/2,he=p-q-10;let V="";const J=v<0||v>c.TWO_PI;!y&&_===0?V="   [ ]   .":E>.8&&C<.4?V="    .":J&&S===3?V="     !":E<.4?V="     .":V="     .",c.push(),c.rectMode(c.CORNER),c.noStroke(),c.fill(255,255,255),c.rect(Z,he,$,q,14),c.textAlign(c.CENTER,c.CENTER),c.textSize(11),c.fill("#4b5563"),c.text(V,Z+$/2,he+q/2),c.pop()}function L(){const $=c.deltaTime||16;_+=$;let q=.035,Z=.994;if(S===1?(q=.025,Z=.992):S===3&&(q=.05,Z=.996),_<200)w=q;else{const he=(1-Math.sin(v))*.35;w+=-he*8e-4}if(S===1){const he=c.PI*1.1;v<he&&w<0&&(w*=-.4)}else if(S===2){const he=c.PI*1.45;v<he&&w<0&&(w*=-.35)}else _>x*.7&&(w*=.97);w*=Z,v+=w,v>c.TWO_PI+c.HALF_PI&&(v-=c.TWO_PI),v<-c.HALF_PI&&(v+=c.TWO_PI),B()}function B(){const $=(Math.cos(v)*-1+1)/2;E=c.constrain($,0,1);let q=.6;S===1&&(q=.5),S===3&&(q=.9),C=c.constrain(q-E*.7,.05,1)}c.setPower=$=>{S=$||2,B()},c.startRide=()=>{A(),y=!0},c.resetSketch=()=>{A()}};return On(async()=>{await Fr(),r.value&&(i=new Ot(h,r.value),i.setPower&&i.setPower(s.value))}),Mr(()=>{try{i?.remove(),i=null}catch(c){console.error("Error removing p5 instance:",c)}}),(c,f)=>(ie(),le("div",{class:"bike-sim",ref_key:"wrapRef",ref:t},[b("div",{class:"sim-header-card"},[f[3]||(f[3]=_r('<div class="header-left" data-v-f2679e1c><div class="icon-circle" data-v-f2679e1c><i class="bi bi-bicycle" data-v-f2679e1c></i></div><div class="header-text" data-v-f2679e1c><div class="header-title" data-v-f2679e1c>  :    ?</div><div class="header-note" data-v-f2679e1c>      <span class="caption-accent" data-v-f2679e1c>  </span> . </div></div></div>',1)),b("div",{class:"header-actions"},[b("button",{class:"action-btn secondary",onClick:a},[...f[1]||(f[1]=[b("i",{class:"bi bi-arrow-repeat"},null,-1),b("span",null,"",-1)])]),b("button",{class:"action-btn primary",onClick:l},[...f[2]||(f[2]=[b("i",{class:"bi bi-play-fill"},null,-1),b("span",null," ",-1)])])])]),b("div",voe,[b("div",yoe,[f[4]||(f[4]=b("span",{class:"control-label"}," ",-1)),b("div",boe,[Bt(b("input",{type:"range",min:"1",max:"3",step:"1","onUpdate:modelValue":f[0]||(f[0]=p=>s.value=p),onInput:u},null,544),[[bn,s.value,void 0,{number:!0}]]),b("span",xoe,ke(o.value),1)])])]),b("div",_oe,[b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},sA=yt(woe,[["__scopeId","data-v-f2679e1c"]]),Eoe={class:"sim-control-card"},Soe={class:"control-row tool-row"},Coe={class:"tool-buttons"},Aoe=["onClick"],Toe={class:"emoji"},Ioe={class:"name"},Doe={class:"control-row"},Noe={class:"slider-wrap"},koe={class:"slider-level"},Foe={class:"canvas-card themed"},Moe={__name:"FireTool",setup(n){const t=Ue(null),r=Ue(null);let i=null;const s=Ue(1),o=[{id:1,label:"",emoji:""},{id:2,label:"()",emoji:""},{id:3,label:"",emoji:""}],a=Ue(2),l=dt(()=>["",""," "][a.value-1]);function u(d){s.value=d,i?.setTool&&i.setTool(d)}function h(){a.value=2,s.value=1,i?.resetSketch&&i.resetSketch(),i?.setTool&&i.setTool(s.value),i?.setPower&&i.setPower(a.value)}function c(){i?.startExperiment&&i.startExperiment()}function f(){i?.setPower&&i.setPower(a.value)}const p=d=>{let g=430,m=420,v=0,w=0,y=0,_=1,x=2,C=0,E=!1,S=!1,D=0;const A=.7,N=220;d.setup=()=>{const V=r.value,J=V?.clientWidth||430;g=Math.max(320,J),m=420,d.createCanvas(g,m).parent(V),d.pixelDensity(Math.min(2,window.devicePixelRatio||1)),d.frameRate(60),F(),T()},d.windowResized=()=>{const V=r.value;if(!V)return;const J=V.clientWidth||430;g=Math.max(320,J),m=420,d.resizeCanvas(g,m),F()};function F(){v=m*.72,w=g*.42,y=26}function T(){C=0,E=!1,S=!1,D=0}d.draw=()=>{d.background(248,249,253),I(),M(),L(),$(),q(),Z(),S&&(he(),D++)};function I(){d.push(),d.textAlign(d.CENTER,d.TOP),d.textSize(13),d.fill(55,65,81),d.text("      .",g/2,10),d.pop()}function M(){d.push();const V=d.drawingContext.createLinearGradient(0,0,0,m);V.addColorStop(0,"#eef2ff"),V.addColorStop(.5,"#f9fafb"),V.addColorStop(1,"#fef2f2"),d.drawingContext.fillStyle=V,d.noStroke(),d.rect(0,40,g,m-40),d.fill(229,231,235),d.rect(0,v+10,g,m-v-10),d.pop()}function L(){const V=g/2,J=v;d.push(),d.rectMode(d.CENTER),d.noStroke();const ge=d.color("#92400e"),W=d.color("#f97316"),z=d.constrain(C,0,1),de=d.lerpColor(ge,W,z);d.fill(de),d.rect(V,J,w,y,12),d.push(),d.translate(V,J-18),d.rotate(-.25),d.fill(120,53,15),d.rect(0,0,w*.6,y*.7,10),d.pop(),d.push(),d.translate(V,J-22),d.rotate(.32),d.fill(133,77,14),d.rect(0,0,w*.6,y*.7,10),d.pop(),E?B(V,J-40,1):C>.25&&B(V,J-40,C),d.pop()}function B(V,J,ge=1){d.push(),d.noStroke();const W=d.frameCount*.12,z=.6+.7*d.constrain(ge,0,1);for(let de=0;de<3;de++){const K=z*(1-de*.18),ue=4*Math.sin(W+de);d.fill(248,113,113,200-de*40),d.beginShape(),d.vertex(V,J-12*K+ue),d.bezierVertex(V+22*K,J-6*K,V+16*K,J+26*K,V,J+28*K),d.bezierVertex(V-16*K,J+26*K,V-22*K,J-6*K,V,J-12*K+ue),d.endShape(d.CLOSE),d.fill(251,191,36,220-de*60),d.beginShape(),d.vertex(V,J-4*K+ue*.6),d.bezierVertex(V+14*K,J,V+8*K,J+18*K,V,J+18*K),d.bezierVertex(V-8*K,J+18*K,V-14*K,J,V,J-4*K+ue*.6),d.endShape(d.CLOSE),J-=6}d.pop()}function $(){const V=g*.22,J=v-40;if(d.push(),d.translate(V,J),_===1){d.noFill(),d.stroke("#1d4ed8"),d.strokeWeight(3),d.ellipse(0,0,46,46),d.line(16,16,32,32),d.stroke("#facc15"),d.strokeWeight(2);for(let ge=-1;ge<=1;ge++)d.line(10+ge*2,-20,g*.1,v-J-10);d.noStroke(),d.fill("#fde68a"),d.circle(-26,-26,18)}else if(_===2){d.noStroke(),d.fill("#a16207"),d.rect(-12,-8,64,14,8);const ge=d.frameCount%40/40,W=d.map(Math.sin(ge*d.TWO_PI),-1,1,-10,10);d.fill("#e5e7eb"),d.rect(W-18,-22,38,12,6)}else{d.noStroke(),d.fill("#4b5563"),d.quad(-16,0,4,-18,18,-4,-2,16),d.fill("#6b7280"),d.quad(10,-4,28,-16,36,2,18,10),d.fill("#facc15");for(let ge=0;ge<6;ge++){const W=-d.QUARTER_PI+(ge-2.5)*.18,z=18+ge*2,de=Math.cos(W)*z,K=Math.sin(W)*z;d.circle(de,K,3)}}d.pop()}function q(){const V=g*.86,J=70,ge=(g-V)/2,W=v+20;d.push(),d.rectMode(d.CORNER),d.noStroke(),d.fill(248,250,252),d.rect(ge,W,V,J,14);const z=ge+16,de=W+12,K=V-32;d.textAlign(d.LEFT,d.TOP),d.textSize(11),d.fill("#4b5563"),d.text("  ",z,de);const ue=de+20,G=10;d.fill("#e5e7eb"),d.rect(z,ue,K,G,999);const se=d.drawingContext.createLinearGradient(z,ue,z+K,ue);se.addColorStop(0,"#60a5fa"),se.addColorStop(.5,"#facc15"),se.addColorStop(1,"#f97316"),d.drawingContext.fillStyle=se,d.rect(z,ue,K*d.constrain(C,0,1),G,999);const ye=z+K*A;d.stroke("#f97316"),d.strokeWeight(2),d.line(ye,ue-4,ye,ue+G+4),d.noStroke(),d.fill("#f97316"),d.textSize(10),d.text("  ",ye-36,ue+G+8),d.pop()}function Z(){const V=g*.86,J=46,ge=(g-V)/2,W=52;let z="";!S&&!E&&D===0?z="    [ ]  .":E?z="     !":!S&&D>0&&C<.3?z="      .":!S&&D>0&&C>=.3&&C<A?z="      .":_===1?z="        .":_===2?z="      .":z="       .",d.push(),d.rectMode(d.CORNER),d.noStroke(),d.fill(255,255,255),d.rect(ge,W,V,J,14),d.textAlign(d.CENTER,d.CENTER),d.textSize(11),d.fill("#4b5563"),d.text(z,ge+V/2,W+J/2),d.pop()}function he(){let V=.006;_===2&&(V=.008),_===3&&(V=.012);const J=[0,.7,1,1.3][x];C+=V*J,C-=.001,C=d.constrain(C,0,1.05),(C>=A||D>N)&&(E=!0,S=!1)}d.setTool=V=>{_=V||1},d.setPower=V=>{x=V||2},d.startExperiment=()=>{T(),S=!0},d.resetSketch=()=>{T()}};return On(async()=>{await Fr(),r.value&&(i=new Ot(p,r.value),i.setTool&&i.setTool(s.value),i.setPower&&i.setPower(a.value))}),Mr(()=>{try{i?.remove(),i=null}catch(d){console.error("Error removing p5 instance:",d)}}),(d,g)=>(ie(),le("div",{class:"fire-sim",ref_key:"wrapRef",ref:t},[g[5]||(g[5]=_r('<div class="sim-header-card" data-v-02a5d783><div class="header-left" data-v-02a5d783><div class="icon-circle" data-v-02a5d783><i class="bi bi-fire" data-v-02a5d783></i></div><div class="header-text" data-v-02a5d783><div class="header-title" data-v-02a5d783> :     ?</div><div class="header-note" data-v-02a5d783> , ,   <span class="caption-accent" data-v-02a5d783>     </span>  . </div></div></div></div>',1)),b("div",Eoe,[b("div",Soe,[g[1]||(g[1]=b("span",{class:"control-label"}," ",-1)),b("div",Coe,[(ie(),le(it,null,At(o,m=>b("button",{key:m.id,class:st(["tool-btn",{active:s.value===m.id}]),onClick:v=>u(m.id)},[b("span",Toe,ke(m.emoji),1),b("span",Ioe,ke(m.label),1)],10,Aoe)),64))])]),b("div",Doe,[g[2]||(g[2]=b("span",{class:"control-label"},"  ",-1)),b("div",Noe,[Bt(b("input",{type:"range",min:"1",max:"3",step:"1","onUpdate:modelValue":g[0]||(g[0]=m=>a.value=m),onInput:f},null,544),[[bn,a.value,void 0,{number:!0}]]),b("span",koe,ke(l.value),1)])]),b("div",{class:"control-row action-row"},[b("button",{class:"action-btn secondary",onClick:h},[...g[3]||(g[3]=[b("i",{class:"bi bi-arrow-repeat"},null,-1),b("span",null,"",-1)])]),b("button",{class:"action-btn primary",onClick:c},[...g[4]||(g[4]=[b("i",{class:"bi bi-play-fill"},null,-1),b("span",null," ",-1)])])])]),b("div",Foe,[b("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},oA=yt(Moe,[["__scopeId","data-v-02a5d783"]]),Ooe="https://storage.googleapis.com/science_book/",Poe={name:"InfoSection",components:{PillTag:Is,Hashtag:$a,ColumnarJoint:zie,StatesOfMatter:sl,Ecosystem:Vd,MagnetField:eA,ThermalConductivity:tA,ElectricShow:nA,MagneticTrain:Bv,ElectroClothes:rA,AlternatorShow:Zc,DigitalPhysicssShow:iA,CentrifugalBike:sA,FireTool:oA},emits:["authenticate-visit"],created(){console.log(" [InfoSection] created -  Props:",{mainCategory:this.mainCategory,subCategories:this.subCategories,gradeTag:this.gradeTag})},data(){return{isExpanded:!1,showSimulation:!1}},props:{exhibition:{type:Object,required:!1,default:()=>null},place:{type:Object,required:!1,default:()=>null},mainCategory:{type:String,default:""},subCategories:{type:Array,default:()=>[]},gradeTag:{type:String,default:""}},computed:{formattedExhibitions(){const n=this.item.exhibitionList;if(!n||!Array.isArray(n))return[];const t="https://via.placeholder.com/150?text=No+Image",r="https://storage.googleapis.com/science_book/";return n.map(i=>{const s=i.split("^"),o=s[0];let a=s[1]||"",l=t;return a&&a!=="NO_IMAGE"?a.startsWith("http")?l=a:l=r+a:l=this.mainImageSrc||t,{title:o,imgSrc:l}})},exhibitionCount(){return this.formattedExhibitions.length},mainImageSrc(){const n=this.exhibition?.mainImage||this.place?.mainImage;return n&&!n.startsWith("http")?Ooe+n:n||"https://via.placeholder.com/600x400"},item(){return this.exhibition||this.place||{}},isExhibition(){return!!this.exhibition},isPlace(){return!!this.place},shouldShowTags(){return this.isExhibition||this.isPlace},isLongText(){return this.item.description&&this.item.description.length>150},displayedDescription(){return!this.isLongText||this.isExpanded?this.item.description:this.item.description.substring(0,150)+"..."},simulationMap(){return{:{" ":nA,:eA," ":sl," ":sl," ":iA,"  ":sl,"  ":sl},:{" ":Bv," ":Bv},:{" ":rA," ":sA},:{" ":Zc," ":Zc," ":Zc," ":Zc},:{" ":oA,:Vd},:{" ":tA,:Vd},:{"  ":sl,:Vd},:{"  ":sl}}},currentSimulationComponent(){const n=this.isPlace?this.place:this.exhibition;if(!n||!n.title||n.title==="  ...")return null;const t=n.title,r=n.subCategories;if(!r||r.length===0)return console.log(`[Sim Match] '${t}'  .`),null;const i=this.simulationMap[t];if(!i)return console.log(`[Sim Match] '${t}'   .`),null;const s=Array.isArray(r)?r.map(o=>(o||"").replace(/[{}"]/g,"")):typeof r=="string"?r.split(",").map(o=>o.trim().replace(/[{}"]/g,"")):[];for(const o of s){const a=o;if(i[a])return console.log(`[Sim Match] ! '${t}' -> '${a}'`),i[a]}return console.log(`[Sim Match] '${t}'() , [${s.join(", ")}]    .`),null}},methods:{toggleDescription(){this.isExpanded=!this.isExpanded},onAuthButtonClick(){console.log("InfoSection:  !  ."),this.$emit("authenticate-visit")}}},Loe={key:0,class:"info-section"},Roe={class:"top-meta"},Boe={class:"image-area"},Uoe=["src"],Voe={class:"content-body"},$oe={class:"title"},joe={class:"rating"},zoe={class:"stars"},Goe={key:0,class:"bi bi-star-half"},Hoe={class:"score"},Woe={class:"rating-value"},qoe={class:"review-count-value"},Xoe={key:0,class:"subject-tags-container"},Yoe={key:0,class:"hashtags-area"},Koe={key:1,class:"exhibition-section"},Zoe={class:"exhibition-header"},Joe={class:"header-left"},Qoe={class:"exhibition-count"},eae={class:"carousel-wrapper"},tae={class:"carousel-container"},nae={class:"carousel-track"},rae={class:"card-header-area"},iae={class:"card-number"},sae={class:"card-title"},oae={class:"card-image-area"},aae=["src"],lae={key:2,class:"simulation-accordion"},uae=["aria-expanded"],cae={key:0,class:"simulation-content-wrapper"},hae={class:"simulation-inner"},fae={class:"simulation-content"};function dae(n,t,r,i,s,o){const a=Rt("PillTag"),l=Rt("Hashtag");return o.item.title?(ie(),le("section",Loe,[b("div",Roe,[b("div",Boe,[b("img",{src:o.mainImageSrc,alt:" ",class:"main-image"},null,8,Uoe),o.item.visited?(ie(),le("div",{key:0,class:"visit-stamp",onClick:t[0]||(t[0]=(...u)=>o.onAuthButtonClick&&o.onAuthButtonClick(...u))},[...t[4]||(t[4]=[b("i",{class:"bi bi-postage-heart-fill"},null,-1),b("span",null," ",-1)])])):(ie(),le("div",{key:1,class:"visit-stamp inactive",onClick:t[1]||(t[1]=(...u)=>o.onAuthButtonClick&&o.onAuthButtonClick(...u))},[...t[5]||(t[5]=[b("i",{class:"bi bi-postage-heart"},null,-1),b("span",null," ",-1)])]))])]),b("div",Voe,[b("h2",$oe,ke(o.item.title),1),b("div",joe,[b("span",zoe,[(ie(!0),le(it,null,At(Math.floor(o.item.rating),u=>(ie(),le("i",{key:"full-"+u,class:"bi bi-star-fill"}))),128)),o.item.rating%1>=.5?(ie(),le("i",Goe)):et("",!0),(ie(!0),le(it,null,At(5-Math.ceil(o.item.rating),u=>(ie(),le("i",{key:"empty-"+u,class:"bi bi-star"}))),128))]),b("span",Hoe,[b("span",Woe,ke(o.item.rating)+"",1),b("span",qoe,"("+ke(o.item.reviewCount)+")",1)]),r.mainCategory||r.gradeTag?(ie(),le("div",Xoe,[r.mainCategory?(ie(),Zt(a,{key:0,text:r.mainCategory,type:"subject"},null,8,["text"])):et("",!0),r.gradeTag?(ie(),Zt(a,{key:1,text:r.gradeTag.replace(" ",""),type:"grade"},null,8,["text"])):et("",!0)])):et("",!0)]),r.subCategories.length>0?(ie(),le("div",Yoe,[(ie(!0),le(it,null,At(r.subCategories,u=>(ie(),Zt(l,{key:u,text:u},null,8,["text"]))),128))])):et("",!0),b("div",{class:st(["description",{expanded:s.isExpanded}])},[Ct(ke(o.displayedDescription)+" ",1),o.isLongText?(ie(),le("button",{key:0,onClick:t[2]||(t[2]=(...u)=>o.toggleDescription&&o.toggleDescription(...u)),class:"btn btn-white"},ke(s.isExpanded?"":"()"),1)):et("",!0)],2),o.formattedExhibitions.length>0?(ie(),le("div",Koe,[t[9]||(t[9]=b("hr",{class:"divider-line"},null,-1)),b("div",Zoe,[b("div",Joe,[t[6]||(t[6]=b("i",{class:"bi bi-palette-fill"},null,-1)),t[7]||(t[7]=b("span",{class:"exhibition-title"},"   ",-1)),b("span",Qoe,"("+ke(o.exhibitionCount)+")",1)])]),b("div",eae,[b("div",tae,[b("div",nae,[(ie(!0),le(it,null,At(o.formattedExhibitions,(u,h)=>(ie(),le("div",{key:h,class:"exhibition-card"},[b("div",rae,[b("span",iae,ke(h+1),1),b("span",sae,ke(u.title),1)]),b("div",oae,[b("img",{src:u.imgSrc,alt:" ",class:"card-img"},null,8,aae)])]))),128))])]),t[8]||(t[8]=b("div",{class:"scroll-hint"},null,-1))])])):et("",!0),o.currentSimulationComponent?(ie(),le("div",lae,[b("button",{type:"button",class:st(["btn-simulation-toggle",{"is-open":s.showSimulation}]),onClick:t[3]||(t[3]=u=>s.showSimulation=!s.showSimulation),"aria-expanded":s.showSimulation},[t[10]||(t[10]=b("div",{class:"simulation-header-left"},[b("i",{class:"bi bi-flask"}),b("span",null,"   ")],-1)),b("i",{class:st(["bi chevron-icon",s.showSimulation?"bi-chevron-up":"bi-chevron-down"])},null,2)],10,uae),lt(Xi,{name:"slide-fade"},{default:Sr(()=>[s.showSimulation?(ie(),le("div",cae,[b("div",hae,[b("div",fae,[(ie(),Zt(km(o.currentSimulationComponent)))])])])):et("",!0)]),_:1})])):et("",!0)])])):et("",!0)}const pae=yt(Poe,[["render",dae],["__scopeId","data-v-c60838f6"]]),mae={name:"TabMenu",props:{isPlace:{type:Boolean,required:!0,default:!1},activeTab:{type:String,required:!0,default:"detail"}},emits:["updateTab"],computed:{rightTabText(){return this.isPlace?"AI  ":"AI  "}}},gae={class:"tab-section"},vae={class:"tabs"};function yae(n,t,r,i,s,o){return ie(),le("section",gae,[b("div",vae,[b("button",{class:st(["tab-item",{active:r.activeTab==="detail"}]),onClick:t[0]||(t[0]=a=>n.$emit("updateTab","detail"))}," ",2),b("button",{class:st(["tab-item",{active:r.activeTab==="recommend"}]),onClick:t[1]||(t[1]=a=>n.$emit("updateTab","recommend"))},ke(o.rightTabText),3)])])}const bae=yt(mae,[["render",yae],["__scopeId","data-v-a2878f5c"]]),xae={name:"LocationSection",props:{exhibitionInformation:{type:Object,required:!1,default:()=>null},placeInformation:{type:Object,required:!1,default:()=>null}},components:{CourseMap:Rx},methods:{goToIndoorMap(){const n=this.information;this.$router.push({path:"/indoormap",query:{scienceCenterName:n.scienceCenterName,selectedHallId:n.hallId}})}},computed:{isPlace(){return!!this.placeInformation},sectionTitle(){return this.isPlace?" ":" "},information(){return this.placeInformation||this.exhibitionInformation||{}},mapItems(){const n=this.information;return n&&n.lat&&n.lng?[{lat:n.lat,lng:n.lng}]:[]},infoItems(){const n=this.information;return Object.keys(n).length===0?[]:this.isPlace?[{label:"",text:n.placeAddress,icon:"bi bi-geo-alt"},{label:"",text:n.operationPeriod,icon:"bi bi-calendar-event"},{label:"",text:n.operationHours,icon:"bi bi-clock"},{label:"",text:n.entranceFee,icon:"bi bi-cash-coin"}]:[{label:"",text:n.exhibitionLocation,icon:"bi bi-geo-alt"},{label:"",text:n.operationPeriod,icon:"bi bi-calendar-event"},{label:"",text:n.operationHours,icon:"bi bi-clock"},{label:"",text:n.entranceFee,icon:"bi bi-cash-coin"}]}}},_ae={key:0,class:"location-section"},wae={class:"header-wrap"},Eae={class:"section-title"},Sae={class:"map-area"},Cae={class:"operation-info"},Aae={class:"detail-icon"},Tae={class:"detail-label"},Iae={class:"detail-text"};function Dae(n,t,r,i,s,o){const a=Rt("CourseMap");return o.infoItems.length>0?(ie(),le("section",_ae,[b("div",wae,[b("h3",Eae,ke(o.sectionTitle),1),o.isPlace?et("",!0):(ie(),le("button",{key:0,class:"indoor-map-btn",onClick:t[0]||(t[0]=(...l)=>o.goToIndoorMap&&o.goToIndoorMap(...l))}," "))]),b("div",Sae,[lt(a,{items:o.mapItems,"is-single-location":!0,"default-zoom-level":8},null,8,["items"])]),b("ul",Cae,[(ie(!0),le(it,null,At(o.infoItems,l=>(ie(),le("li",{class:"info-item",key:l.label},[b("span",Aae,[b("i",{class:st(l.icon)},null,2)]),b("span",Tae,ke(l.label),1),b("span",Iae,ke(l.text),1)]))),128))])])):et("",!0)}const Nae=yt(xae,[["render",Dae],["__scopeId","data-v-e04008e3"]]),kae={name:"PhotoModal",props:{show:Boolean,images:{type:Array,default:()=>[]},startIndex:{type:Number,default:0}},emits:["close"],data(){return{currentIndex:0}},methods:{close(){this.$emit("close")},nextImage(){this.currentIndex=(this.currentIndex+1)%this.images.length},prevImage(){this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length}},watch:{show(n){n&&(this.currentIndex=this.startIndex)}}},Fae={class:"modal-content"},Mae={class:"image-wrapper"},Oae=["src"],Pae={key:0,class:"image-counter"},Lae={key:1,class:"button-group"};function Rae(n,t,r,i,s,o){return r.show?(ie(),le("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=hr((...a)=>o.close&&o.close(...a),["self"]))},[b("div",Fae,[b("button",{class:"close-btn-corner",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},""),b("div",Mae,[r.images&&r.images.length>0?(ie(),le("img",{key:0,src:r.images[s.currentIndex],alt:" ",class:"modal-image"},null,8,Oae)):et("",!0)]),r.images&&r.images.length>1?(ie(),le("p",Pae,ke(s.currentIndex+1)+" / "+ke(r.images.length),1)):et("",!0),r.images&&r.images.length>1?(ie(),le("div",Lae,[b("button",{class:"btn btn-nav",onClick:t[1]||(t[1]=(...a)=>o.prevImage&&o.prevImage(...a))},"  "),b("button",{class:"btn btn-nav",onClick:t[2]||(t[2]=(...a)=>o.nextImage&&o.nextImage(...a))},"  ")])):et("",!0)])])):et("",!0)}const RF=yt(kae,[["render",Rae],["__scopeId","data-v-72d7ed1c"]]),Bae={name:"ReportModal",props:{show:{type:Boolean,default:!1}},emits:["close","submit"],data(){return{reason:""}},methods:{closeModal(){this.reason="",this.$emit("close")},submitReport(){this.$emit("submit",this.reason)}},watch:{show(n){n||(this.reason="")}}},Uae={class:"report-modal"},Vae={class:"modal-header report-header"},$ae={class:"modal-body"},jae={class:"modal-footer two-button-footer"};function zae(n,t,r,i,s,o){return r.show?(ie(),le("div",{key:0,class:"modal-backdrop",onClick:t[4]||(t[4]=hr((...a)=>o.closeModal&&o.closeModal(...a),["self"]))},[b("div",Uae,[b("header",Vae,[t[5]||(t[5]=b("div",{class:"title-wrap"},[b("span",{class:"icon"},[b("i",{class:"bi bi-bell-fill"})]),b("h2",{class:"modal-title"}," ")],-1)),b("button",{class:"close-btn",onClick:t[0]||(t[0]=(...a)=>o.closeModal&&o.closeModal(...a))},"  ")]),t[7]||(t[7]=b("hr",{class:"header-divider"},null,-1)),b("main",$ae,[t[6]||(t[6]=b("p",{class:"report-guide"},"  .",-1)),Bt(b("textarea",{"onUpdate:modelValue":t[1]||(t[1]=a=>s.reason=a),rows:"6",placeholder:": /, /,   ",class:"review-textarea"},null,512),[[bn,s.reason]])]),b("footer",jae,[b("button",{onClick:t[2]||(t[2]=(...a)=>o.closeModal&&o.closeModal(...a)),class:"btn-cancel"},""),b("button",{onClick:t[3]||(t[3]=(...a)=>o.submitReport&&o.submitReport(...a)),class:"btn-submit"},"")])])])):et("",!0)}const Gae=yt(Bae,[["render",zae],["__scopeId","data-v-fbd53e5c"]]),Hae={name:"ReviewSection",components:{PhotoModal:RF,ReportModal:Gae},props:{targetId:{type:[Number,String],required:!0},targetType:{type:String,required:!0},currentUserId:{type:[Number,String],required:!0},rating:{type:Number,required:!0,default:0},reviewCount:{type:Number,required:!0,default:0},photoReviewCount:{type:Number,default:0},isPlace:{type:Boolean,required:!1,default:!1}},emits:["show-modal","edit-review","request-delete"],computed:{sectionTitle(){return this.isPlace?" ":" "},allPhotoUrls(){const n=[];for(const t of this.reviews)Array.isArray(t.photoUrls)&&n.push(...t.photoUrls);return n.filter(Boolean)},morePhotoCountToShow(){const n=this.photoReviewCount-this.allPhotoThumbnails.length;return Math.max(0,n)},visiblePages(){const t=this.totalPages,r=this.currentPage;if(t<=5)return Array.from({length:t},(a,l)=>l+1);let i=r-2,s=r+2;i<1?(i=1,s=5):s>t&&(s=t,i=t-5+1);const o=[];for(let a=i;a<=s;a++)o.push(a);return o}},watch:{targetId:{handler(n){n&&this.targetType&&(this.currentPage=1,this.fetchReviews(),this.fetchPhotoThumbnails(),this.allPhotoUrlsCache=null)},immediate:!0},targetType:{handler(n){n&&this.targetId&&(this.currentPage=1,this.fetchReviews(),this.fetchPhotoThumbnails(),this.allPhotoUrlsCache=null)},immediate:!0},currentUserId(n,t){n&&!t&&(console.log("  ,   "),this.fetchLikedStatus())}},data(){return{reviews:[],isLoading:!1,error:null,openReportMenuId:null,likedStatus:{},photoModal:{visible:!1,images:[],startIndex:0},currentPage:1,pageSize:3,totalPages:1,totalReviews:0,allPhotoThumbnails:[],allPhotoUrlsCache:null,reportModal:{visible:!1,reviewId:null}}},methods:{async fetchReviews(){if(!(!this.targetId||!this.targetType)){this.isLoading=!0,this.error=null;try{const n={targetId:this.targetId,targetType:this.targetType,page:this.currentPage,size:this.pageSize},{data:t}=await cn.get("/api/reviews",{params:n});this.reviews=Array.isArray(t.content)?t.content:[],this.totalPages=t.totalPages||1,this.totalReviews=t.totalElements||0,await this.fetchLikedStatus()}catch(n){console.error("[reviews] FAIL:",n?.response?.status,n?.response?.data||n.message),this.error=n}finally{this.isLoading=!1}}},onClickWriteReview(){if(this.currentUserId)this.$emit("show-modal");else{ht.emit("show-global-confirm",{message:"  ",onConfirm:()=>{this.$router.push({name:"login"})}});return}},async fetchLikedStatus(){let n=new Set;if(this.currentUserId!=null&&this.currentUserId!==""){const r={targetId:this.targetId,targetType:this.targetType};try{const{data:i}=await cn.get("/api/reviews/liked-status",{params:r}),s=Array.isArray(i)?i:[];n=new Set(s.map(o=>Number(o)))}catch(i){console.error("[liked-status] FAIL:",i?.response?.status,i?.response?.data||i.message)}}const t={};for(const r of this.reviews){const i=Number(r.reviewId);t[r.reviewId]=n.has(i)}this.likedStatus=t},goToPage(n){n<1||n>this.totalPages||n===this.currentPage||(this.currentPage=n,this.fetchReviews())},async openModalFromThumb(n,t){let r=this.allPhotoUrlsCache;if(!r)try{const{data:s}=await cn.get(`/api/reviews/target/${this.targetType}/${this.targetId}/photos`);if(!Array.isArray(s)||s.length===0)return;r=s,this.allPhotoUrlsCache=r}catch(s){console.error("[modal-thumb]   URL  :",s),ht.emit("show-global-alert",{message:"   .",type:"error"});return}let i=r.indexOf(n.url);i===-1&&(i=t),this.photoModal.images=r,this.photoModal.startIndex=i,this.photoModal.visible=!0},openPhotoViewer(n,t=0){const r=Array.isArray(n.photoUrls)?n.photoUrls.filter(Boolean):[];r.length&&(this.photoModal.images=r,this.photoModal.startIndex=t,this.photoModal.visible=!0)},onClickDelete(n){this.$emit("request-delete",{reviewId:n}),this.openReportMenuId=null},async fetchPhotoThumbnails(){if(!(!this.targetId||!this.targetType))try{const n={targetId:this.targetId,targetType:this.targetType,limit:3},{data:t}=await cn.get("/api/reviews/photos-summary",{params:n});this.allPhotoThumbnails=Array.isArray(t)?t:[]}catch(n){console.error("[photo-thumbs]  :",n?.response?.data||n.message),this.allPhotoThumbnails=[]}},formatReviewDate(n){if(!n)return"";try{return new Date(n).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,".").replace(/\.$/,"")}catch(t){return console.log(`->${t}`),n}},getFilledStars(n){typeof n!="number"&&(n=0);const t=Math.floor(n),r=n%1>=.5?1:0,i=5-t-r;let s="";return s+='<i class="bi bi-star-fill"></i>'.repeat(t),s+='<i class="bi bi-star-half"></i>'.repeat(r),s+='<i class="bi bi-star"></i>'.repeat(i),s},toggleReportMenu(n){this.openReportMenuId=this.openReportMenuId===n?null:n},async reportReview(n){if(!this.currentUserId){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}const t=this.reviews.find(r=>r.reviewId===n);if(t&&String(t.authorId)===String(this.currentUserId)){ht.emit("show-global-alert",{message:"     .",type:"error"}),this.openReportMenuId=null;return}this.reportModal.reviewId=n,this.reportModal.visible=!0,this.openReportMenuId=null},async handleReportSubmit(n){const t=this.reportModal.reviewId;if(!n||!n.trim()){ht.emit("show-global-alert",{message:"   .",type:"error"});return}try{await cn.post(`/api/reviews/${t}/report`),ht.emit("show-global-alert",{message:" .",type:"success"})}catch(r){console.error(" :",r),r.response&&r.response.data&&r.response.data.includes(" ")?ht.emit("show-global-alert",{message:"  .",type:"error"}):ht.emit("show-global-alert",{message:" .",type:"error"})}finally{this.reportModal.visible=!1,this.reportModal.reviewId=null}},getLikeIcon(n){return this.likedStatus[n]?"bi bi-hand-thumbs-up-fill":"bi bi-hand-thumbs-up"},async toggleLike(n){if(!this.currentUserId){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}const t=this.likedStatus[n];try{t?await cn.delete(`/api/reviews/${n}/unlike`):await cn.post(`/api/reviews/${n}/like`),this.likedStatus[n]=!t;const r=this.reviews.find(i=>i.reviewId===n);r&&(r.likeCount+=t?-1:1)}catch(r){console.error("  :",r),ht.emit("show-global-alert",{message:`   : ${r.response?.data||r.message}`,type:"error"})}},goToAllPhotosPage(){const n=`/photos/${this.targetType}/${this.targetId}`;Lg.push(n)}}},Wae={class:"review-section"},qae={class:"section-title"},Xae={class:"review-summary"},Yae=["innerHTML"],Kae={class:"total-score"},Zae={class:"review-count"},Jae={class:"subsection-title"},Qae={class:"photo-reviews"},ele=["onClick","title"],tle={key:1,class:"photo-btn more-btn"},nle={key:0,class:"loading-message"},rle={key:1,class:"error-message"},ile={key:2,class:"review-list"},sle=["data-review-id"],ole={class:"reviewer-profile"},ale=["src"],lle={class:"name"},ule=["innerHTML"],cle={class:"review-content"},hle={key:0,class:"review-photos-grid"},fle=["onClick","aria-label"],dle={class:"review-meta"},ple={class:"date"},mle=["onClick"],gle=["onClick"],vle={key:1,class:"report-menu"},yle={key:0},ble=["onClick"],xle=["onClick"],_le={key:1},wle=["onClick"],Ele={key:1,class:"deleted-message"},Sle={key:3,class:"pagination"},Cle=["disabled"],Ale=["onClick"],Tle=["disabled"];function Ile(n,t,r,i,s,o){const a=Rt("PhotoModal"),l=Rt("ReportModal");return ie(),le("section",Wae,[b("h3",qae,ke(o.sectionTitle),1),b("div",Xae,[b("span",{class:"review-stars",innerHTML:o.getFilledStars(r.rating)},null,8,Yae),b("span",Kae,ke(r.rating.toFixed(1)),1),b("span",Zae,"("+ke(s.totalReviews)+" )",1)]),b("span",Jae,"  ("+ke(r.photoReviewCount)+")",1),b("div",Qae,[(ie(!0),le(it,null,At(s.allPhotoThumbnails,(u,h)=>(ie(),le("button",{key:u.reviewId||h,class:"photo-btn",style:Gn({backgroundImage:`url(${u.url})`,backgroundSize:"cover",backgroundPosition:"center"}),onClick:c=>o.openModalFromThumb(u,h),title:` ${u.reviewId}`},null,12,ele))),128)),o.morePhotoCountToShow>0?(ie(),le("button",{key:0,class:"photo-btn more-btn",onClick:t[0]||(t[0]=(...u)=>o.goToAllPhotosPage&&o.goToAllPhotosPage(...u))},[...t[6]||(t[6]=[b("i",{class:"bi bi-plus-circle"},null,-1)])])):s.allPhotoThumbnails.length===0&&r.photoReviewCount===0?(ie(),le("button",tle," ")):et("",!0)]),b("button",{class:"write-review-btn",onClick:t[1]||(t[1]=(...u)=>o.onClickWriteReview&&o.onClickWriteReview(...u))},[...t[7]||(t[7]=[b("i",{class:"bi bi-pencil-square"},null,-1),Ct("  ",-1)])]),s.isLoading?(ie(),le("div",nle,"  ...")):s.error?(ie(),le("div",rle,"  ")):(ie(),le("div",ile,[(ie(!0),le(it,null,At(s.reviews,u=>(ie(),le("div",{class:"review-item",key:u.reviewId,"data-review-id":u.reviewId},[u.status!=="DELETED_BY_ADMIN"?(ie(),le(it,{key:0},[b("div",ole,[b("img",{src:u.authorProfileImageUrl||"https://via.placeholder.com/40",alt:" ",class:"avatar"},null,8,ale),b("span",lle,ke(u.authorName),1),b("span",{class:"stars",innerHTML:o.getFilledStars(u.rating)},null,8,ule)]),b("p",cle,ke(u.content),1),Array.isArray(u.photoUrls)&&u.photoUrls.length?(ie(),le("div",hle,[(ie(!0),le(it,null,At(u.photoUrls,(h,c)=>(ie(),le("button",{key:c,class:"photo-cell",style:Gn({backgroundImage:`url(${h})`}),onClick:f=>o.openPhotoViewer(u,c),"aria-label":` ${u.reviewId}  ${c+1}`},null,12,fle))),128))])):et("",!0),b("div",dle,[b("span",ple,ke(o.formatReviewDate(u.createdAt)),1),b("span",{class:st(["likes",{active:s.likedStatus[u.reviewId]}]),onClick:h=>o.toggleLike(u.reviewId)},[b("i",{class:st(o.getLikeIcon(u.reviewId))},null,2),Ct("  "+ke(u.likeCount),1)],10,mle)]),b("button",{class:"more-options",onClick:h=>o.toggleReportMenu(u.reviewId)},[...t[8]||(t[8]=[b("i",{class:"bi bi-three-dots"},null,-1)])],8,gle),s.openReportMenuId===u.reviewId?(ie(),le("div",vle,[String(u.authorId)===String(r.currentUserId)?(ie(),le("div",yle,[b("button",{class:"edit-btn",onClick:h=>n.$emit("edit-review",u)},[...t[9]||(t[9]=[b("i",{class:"bi bi-pencil"},null,-1),Ct("  ",-1)])],8,ble),b("button",{class:"edit-btn-delete",onClick:h=>o.onClickDelete(u.reviewId)},[...t[10]||(t[10]=[b("i",{class:"bi bi-trash3"},null,-1),Ct("  ",-1)])],8,xle)])):(ie(),le("div",_le,[b("button",{class:"report-btn",onClick:h=>o.reportReview(u.reviewId)},[...t[11]||(t[11]=[b("i",{class:"bi bi-bell"},null,-1),Ct("  ",-1)])],8,wle)]))])):et("",!0)],64)):(ie(),le("div",Ele,[...t[12]||(t[12]=[b("i",{class:"bi bi-info-circle"},null,-1),Ct("   . ",-1)])]))],8,sle))),128))])),s.totalPages>1&&!s.isLoading?(ie(),le("div",Sle,[b("button",{onClick:t[2]||(t[2]=u=>o.goToPage(s.currentPage-1)),disabled:s.currentPage===1,class:"page-btn"},"< ",8,Cle),(ie(!0),le(it,null,At(o.visiblePages,u=>(ie(),le("button",{key:u,onClick:h=>o.goToPage(u),class:st(["page-btn",{active:u===s.currentPage}])},ke(u),11,Ale))),128)),b("button",{onClick:t[3]||(t[3]=u=>o.goToPage(s.currentPage+1)),disabled:s.currentPage===s.totalPages,class:"page-btn"}," >",8,Tle)])):et("",!0),lt(a,{show:s.photoModal.visible,images:s.photoModal.images,startIndex:s.photoModal.startIndex,onClose:t[4]||(t[4]=u=>s.photoModal.visible=!1)},null,8,["show","images","startIndex"]),lt(l,{show:s.reportModal.visible,onClose:t[5]||(t[5]=u=>s.reportModal.visible=!1),onSubmit:o.handleReportSubmit},null,8,["show","onSubmit"])])}const Dle=yt(Hae,[["render",Ile],["__scopeId","data-v-9a5e33b9"]]),Nle={name:"ReviewModal",props:{reviewText:String,selectedRating:Number,isFormValid:Boolean,uploadedFiles:{type:Array,default:()=>[]}},emits:["close","submit","update:reviewText","update:selectedRating","files-selected","remove-file"],computed:{filePreviews(){return this.uploadedFiles?this.uploadedFiles.map(n=>({file:n,url:URL.createObjectURL(n)})):[]}},methods:{setRating(n){this.$emit("update:selectedRating",n)},openFilePicker(){this.$refs.fileInput.click()},onFileChange(n){const t=n.target.files;t.length>0&&this.$emit("files-selected",t),n.target.value=null},removeFile(n){this.$emit("remove-file",n)}},beforeUnmount(){this.filePreviews&&this.filePreviews.forEach(n=>{URL.revokeObjectURL(n.url)})}},kle={class:"modal-backdrop"},Fle={class:"review-modal"},Mle={class:"modal-header"},Ole={class:"modal-body"},Ple={class:"image-preview-list"},Lle=["onClick"],Rle={class:"preview-label"},Ble={class:"upload-count"},Ule=["value"],Vle={class:"rating-area"},$le=["onClick"],jle={class:"rating-score"},zle={class:"modal-footer"},Gle=["disabled"];function Hle(n,t,r,i,s,o){return ie(),le("div",kle,[b("div",Fle,[b("header",Mle,[t[5]||(t[5]=b("div",{class:"title-wrap"},[b("span",{class:"icon"},[b("i",{class:"bi bi-pencil-square"})]),b("h2",{class:"modal-title"},"")],-1)),b("button",{class:"close-btn",onClick:t[0]||(t[0]=a=>n.$emit("close"))},"  ")]),t[7]||(t[7]=b("hr",{class:"header-divider"},null,-1)),b("main",Ole,[b("div",Ple,[(ie(!0),le(it,null,At(o.filePreviews,(a,l)=>(ie(),le("div",{key:l,class:"preview-item",style:Gn({backgroundImage:"url("+a.url+")"})},[b("button",{class:"remove-btn",onClick:hr(u=>o.removeFile(l),["stop"])},"",8,Lle),b("span",Rle,""+ke(l+1),1)],4))),128)),r.uploadedFiles.length<5?(ie(),le("div",{key:0,class:"image-upload-area",onClick:t[1]||(t[1]=(...a)=>o.openFilePicker&&o.openFilePicker(...a))},[t[6]||(t[6]=b("span",{class:"gallery-icon"},[b("i",{class:"bi bi-image"})],-1)),b("span",Ble,ke(r.uploadedFiles.length)+"/5",1)])):et("",!0)]),b("input",{type:"file",ref:"fileInput",onChange:t[2]||(t[2]=(...a)=>o.onFileChange&&o.onFileChange(...a)),hidden:"",multiple:"",accept:"image/*"},null,544),b("textarea",{value:r.reviewText,onInput:t[3]||(t[3]=a=>n.$emit("update:reviewText",a.target.value)),placeholder:" .",class:"review-textarea"},null,40,Ule),b("div",Vle,[(ie(),le(it,null,At(5,a=>b("span",{key:a,class:st(["star-icon",{filled:a<=r.selectedRating}]),onClick:l=>o.setRating(a)},"  ",10,$le)),64)),b("span",jle,ke(r.selectedRating.toFixed(1)),1)])]),b("footer",zle,[b("button",{class:"submit-btn",disabled:!r.isFormValid,onClick:t[4]||(t[4]=a=>n.$emit("submit"))},"   ",8,Gle)])])])}const Wle=yt(Nle,[["render",Hle],["__scopeId","data-v-b3aadf9d"]]),qle={name:"ActivityRecommender",props:{placeId:{type:[String,Number],required:!0},placeMainCategory:String,placeSubCategories:{type:Array,default:()=>[]},placeGradeTag:{type:String,default:""}},data(){return{isLoading:!1,hasSearched:!1,recommendations:[]}},computed:{parsedGrade(){if(!this.placeGradeTag)return null;const n=this.placeGradeTag.match(/(\d+)/);return n?n[1]:null},canRecommend(){return!!this.placeId&&!!this.parsedGrade&&!!this.placeMainCategory}},methods:{async fetchRecommendations(){if(!this.canRecommend){alert("   (  ) .");return}this.isLoading=!0,this.hasSearched=!0,this.recommendations=[];try{const n=await cn.get("/api/recommend/activities",{params:{placeId:this.placeId,grade:this.parsedGrade,unit:this.placeMainCategory}});await new Promise(t=>setTimeout(t,1500)),this.recommendations=n.data}catch(n){console.error("AI   :",n),alert("    .")}finally{this.isLoading=!1}}}},Xle={class:"activity-recommender-section"},Yle={key:0,class:"criteria-card"},Kle={class:"criteria-content"},Zle={class:"criteria-text"},Jle={class:"criteria-description"},Qle={class:"highlight-badge"},eue={class:"highlight-badge subject-badge"},tue={key:1,class:"criteria-card warning-card"},nue={class:"button-wrapper"},rue=["disabled"],iue={key:0,class:"btn-content loading"},sue={key:1,class:"btn-content"},oue={key:0,class:"loading-container"},aue={class:"loading-animation"},lue={class:"loading-text"},uue={class:"loading-description"},cue={class:"skeleton-cards"},hue={class:"card-header"},fue={class:"badge-wrapper"},due={class:"unit-badge"},pue={class:"card-title"},mue={class:"card-description"},gue={key:0,class:"card-footer"},vue={class:"location-info"},yue={class:"location-value"},bue={key:0,class:"no-results"};function xue(n,t,r,i,s,o){return ie(),le("div",Xle,[t[19]||(t[19]=_r('<div class="section-header" data-v-94b19520><div class="header-icon-wrapper" data-v-94b19520><div class="icon-bg" data-v-94b19520><span class="header-icon" data-v-94b19520></span></div></div><div class="header-content" data-v-94b19520><h4 class="section-title" data-v-94b19520>AI   </h4><p class="section-subtitle" data-v-94b19520>    </p></div></div>',1)),o.canRecommend?(ie(),le("div",Yle,[b("div",Kle,[b("div",Zle,[b("p",Jle,[b("span",Qle,ke(r.placeGradeTag),1),b("span",eue,ke(r.placeMainCategory),1),t[2]||(t[2]=Ct("   ",-1))])])])])):(ie(),le("div",tue,[...t[3]||(t[3]=[_r('<div class="criteria-content" data-v-94b19520><div class="criteria-icon warning" data-v-94b19520><i class="bi bi-exclamation-circle-fill" data-v-94b19520></i></div><div class="criteria-text" data-v-94b19520><p class="criteria-description" data-v-94b19520>      <br data-v-94b19520> AI    . </p></div></div>',1)])])),b("div",nue,[b("button",{class:st(["btn-recommend",{loading:s.isLoading,disabled:!o.canRecommend}]),onClick:t[0]||(t[0]=(...a)=>o.fetchRecommendations&&o.fetchRecommendations(...a)),disabled:s.isLoading||!o.canRecommend},[s.isLoading?(ie(),le("span",iue,[...t[4]||(t[4]=[b("span",{class:"spinner"},null,-1),b("span",{class:"btn-text"},"AI  ...",-1)])])):(ie(),le("span",sue,[...t[5]||(t[5]=[b("i",{class:"bi bi-stars"},null,-1),b("span",{class:"btn-text"},"AI  ",-1)])]))],10,rue)]),lt(Xi,{name:"fade"},{default:Sr(()=>[s.isLoading?(ie(),le("div",oue,[b("div",aue,[t[11]||(t[11]=b("div",{class:"robot-icon"},[b("span",{class:"robot-emoji"},""),b("div",{class:"loading-pulse"})],-1)),b("div",lue,[t[9]||(t[9]=b("h5",{class:"loading-title"},"AI  ",-1)),b("p",uue,[Ct(ke(r.placeGradeTag)+" ",1),b("strong",null,ke(r.placeMainCategory),1),t[6]||(t[6]=Ct(" ",-1)),t[7]||(t[7]=b("br",null,null,-1)),t[8]||(t[8]=Ct("     ",-1))])]),b("div",cue,[(ie(),le(it,null,At(2,a=>b("div",{key:a,class:"skeleton-card",style:Gn({animationDelay:`${a*.1}s`})},[...t[10]||(t[10]=[b("div",{class:"skeleton-header"},[b("div",{class:"skeleton-badge"})],-1),b("div",{class:"skeleton-title"},null,-1),b("div",{class:"skeleton-desc line-1"},null,-1),b("div",{class:"skeleton-desc line-2"},null,-1),b("div",{class:"skeleton-location"},null,-1)])],4)),64))])])])):et("",!0)]),_:1}),lt(hI,{name:"slide-up",tag:"div",class:"results-wrapper"},{default:Sr(()=>[(ie(!0),le(it,null,At(s.recommendations,(a,l)=>(ie(),le("div",{key:`rec-${l}`,class:"recommend-card",style:Gn({animationDelay:`${l*.1}s`})},[b("div",hue,[b("div",fue,[b("span",due,[t[12]||(t[12]=b("i",{class:"bi bi-book"},null,-1)),Ct(" "+ke(a.relatedUnit),1)])]),b("h5",pue,ke(a.title),1)]),b("p",mue,ke(a.description),1),a.relatedExhibit?(ie(),le("div",gue,[b("div",vue,[t[13]||(t[13]=b("i",{class:"bi bi-geo-alt-fill"},null,-1)),t[14]||(t[14]=b("span",{class:"location-label"}," ",-1)),b("span",yue,ke(a.relatedExhibit),1)])])):et("",!0)],4))),128))]),_:1}),lt(Xi,{name:"fade"},{default:Sr(()=>[!s.isLoading&&s.recommendations.length===0&&s.hasSearched?(ie(),le("div",bue,[t[16]||(t[16]=b("div",{class:"no-results-icon"},[b("span",{class:"icon-emoji"},"")],-1)),t[17]||(t[17]=b("h5",{class:"no-results-title"},"  ",-1)),t[18]||(t[18]=b("p",{class:"no-results-text"},[Ct("    "),b("br"),Ct("     ")],-1)),b("button",{class:"btn-retry",onClick:t[1]||(t[1]=(...a)=>o.fetchRecommendations&&o.fetchRecommendations(...a))},[...t[15]||(t[15]=[b("i",{class:"bi bi-arrow-clockwise"},null,-1),Ct("   ",-1)])])])):et("",!0)]),_:1})])}const _ue=yt(qle,[["render",xue],["__scopeId","data-v-94b19520"]]),wue={name:"ViewDetailWithModal",components:{LocationSection:Nae,ReviewSection:Dle,ReviewModal:Wle,ConfirmDeleteModal:LF,ActivityRecommender:_ue},props:{exhibitionInformation:{type:Object,default:()=>({})},exhibition:{type:Object,default:()=>({})},placeInformation:{type:Object,default:()=>({})},place:{type:Object,default:()=>({})},isPlace:{type:Boolean,default:!1},targetId:{type:[Number,String],required:!0},targetType:{type:String,required:!0},photoReviewCount:{type:Number,default:0}},data(){return{showReviewModal:!1,reviewText:"",selectedRating:5,uploadedFiles:[],editingReviewId:null,showConfirmDeleteModal:!1,pendingDeleteReviewId:null,isDeleting:!1,loading:!0,error:null}},computed:{isFormValid(){return this.reviewText.trim().length>0&&this.selectedRating>0},isLoggedIn(){return!!bi().user},currentUserId(){return bi().user?.userId??null}},methods:{showModal(){if(!this.isLoggedIn){this.$router.push("/login");return}this.showReviewModal=!0,this.editingReviewId=null,this.reviewText="",this.selectedRating=5,this.uploadedFiles=[]},closeModal(){this.showReviewModal=!1,this.reviewText="",this.selectedRating=5,this.uploadedFiles=[]},handleFiles(n){const t=Array.from(n),r=5-this.uploadedFiles.length;t.length>r&&ht.emit("show-global-alert",{message:` 5    .  ${r} .`,type:"error"});const i=t.slice(0,r);this.uploadedFiles.push(...i),console.log("   :",this.uploadedFiles)},handleRemoveFile(n){this.uploadedFiles.splice(n,1),console.log(" .  :",this.uploadedFiles)},handleEditReview(n){this.editingReviewId=n.reviewId,this.reviewText=n.content,this.selectedRating=n.rating,this.uploadedFiles=[],this.showReviewModal=!0},async submitReview(){if(this.loading=!0,this.error=null,this.isLoggedIn?.value??this.isLoggedIn,!this.isLoggedIn){this.error="  .    .",this.loading=!1,this.$router.push("/login");return}const n=new FormData,t={targetId:this.targetId,targetType:this.targetType,content:this.reviewText,rating:this.selectedRating,authorId:this.currentUserId};n.append("dto",new Blob([JSON.stringify(t)],{type:"application/json"})),this.uploadedFiles&&this.uploadedFiles.length>0&&this.uploadedFiles.forEach(r=>{n.append("files",r)});try{const r={transformRequest:[(i,s)=>(i instanceof FormData&&delete s["Content-Type"],i)]};this.editingReviewId?(await cn.put(`/api/reviews/${this.editingReviewId}/upload`,n,r),ht.emit("show-global-alert",{message:"  .",type:"success"}),this.$emit("review-posted")):(await cn.post("/api/reviews/upload",n,r),ht.emit("show-global-alert",{message:"  .",type:"success"}),this.$emit("review-posted")),this.closeModal(),await this.$refs.reviewSectionRef?.fetchReviews()}catch(r){console.error("  :",r);const i=r?.response?.data||` ${this.editingReviewId?"":""} .`;ht.emit("show-global-alert",{message:i,type:"error"})}finally{this.loading=!1}},handleRequestDelete({reviewId:n}){this.pendingDeleteReviewId=n,this.showConfirmDeleteModal=!0},handleDeleteReview(n){this.deletingReviewId=n,this.showConfirmDeleteModal=!0},cancelDelete(){this.showConfirmDeleteModal=!1,this.pendingDeleteReviewId=null},async confirmDelete(){if(this.pendingDeleteReviewId){this.isDeleting=!0;try{await cn.delete(`api/reviews/${this.pendingDeleteReviewId}/delete`),ht.emit("show-global-alert",{message:" .",type:"success"}),this.showConfirmDeleteModal=!1,this.pendingDeleteReviewId=null,this.$refs.reviewSectionRef&&this.$refs.reviewSectionRef.fetchReviews(),this.$emit("review-deleted")}catch(n){console.error("  :",n),ht.emit("show-global-alert",{message:"  .",type:"error"}),this.showConfirmDeleteModal=!1,this.pendingDeleteReviewId=null}finally{this.isDeleting=!1}}}}},Eue={class:"view-detail-page"},Sue={key:2,class:"activity-section-wrapper"};function Cue(n,t,r,i,s,o){const a=Rt("LocationSection"),l=Rt("ActivityRecommender"),u=Rt("ReviewSection"),h=Rt("ReviewModal"),c=Rt("ConfirmDeleteModal");return ie(),le("div",Eue,[r.isPlace?(ie(),Zt(a,{key:0,placeInformation:r.placeInformation},null,8,["placeInformation"])):(ie(),Zt(a,{key:1,exhibitionInformation:r.exhibitionInformation},null,8,["exhibitionInformation"])),t[3]||(t[3]=b("hr",{class:"divider"},null,-1)),r.isPlace?(ie(),le("div",Sue,[t[2]||(t[2]=b("hr",{class:"divider"},null,-1)),lt(l,{"place-id":r.targetId,"place-main-category":r.place.mainCategory,"place-sub-categories":r.place.subCategories,"place-grade-tag":r.place.gradeTag},null,8,["place-id","place-main-category","place-sub-categories","place-grade-tag"])])):et("",!0),lt(u,{ref:"reviewSectionRef","target-id":r.targetId,"target-type":r.targetType,"current-user-id":o.currentUserId,rating:r.isPlace?r.place.rating||0:r.exhibition.rating||0,"review-count":r.isPlace?r.place.reviewCount||0:r.exhibition.reviewCount||0,"photo-review-count":r.photoReviewCount||0,"is-place":r.isPlace,onShowModal:o.showModal,onEditReview:o.handleEditReview,onRequestDelete:o.handleRequestDelete},null,8,["target-id","target-type","current-user-id","rating","review-count","photo-review-count","is-place","onShowModal","onEditReview","onRequestDelete"]),s.showReviewModal?(ie(),Zt(h,{key:3,reviewText:s.reviewText,selectedRating:s.selectedRating,uploadedFiles:s.uploadedFiles,isFormValid:o.isFormValid,"onUpdate:reviewText":t[0]||(t[0]=f=>s.reviewText=f),"onUpdate:selectedRating":t[1]||(t[1]=f=>s.selectedRating=f),onClose:o.closeModal,onSubmit:o.submitReview,isEditing:!!s.editingReviewId,onFilesSelected:o.handleFiles,onRemoveFile:o.handleRemoveFile},null,8,["reviewText","selectedRating","uploadedFiles","isFormValid","onClose","onSubmit","isEditing","onFilesSelected","onRemoveFile"])):et("",!0),lt(c,{show:s.showConfirmDeleteModal,message:" ?",onConfirm:o.confirmDelete,onClose:o.cancelDelete},null,8,["show","onConfirm","onClose"])])}const Aue=yt(wue,[["render",Cue],["__scopeId","data-v-676bb1d8"]]),Tue={name:"RecommendationCTA",props:{title:{type:String,default:"  ?"},subtitleLine1:{type:String,default:"  "},subtitleLine2:{type:String,default:"     !"},primaryText:{type:String,default:" "},secondaryText:{type:String,default:" "},showDivider:{type:Boolean,default:!0},inset:{type:Boolean,default:!0},primaryLoading:{type:Boolean,default:!1},secondaryLoading:{type:Boolean,default:!1},primaryDisabled:{type:Boolean,default:!1},secondaryDisabled:{type:Boolean,default:!1}},emits:["save-route","request-new"]},Iue={class:"cta-inner"},Due={class:"cta-title"},Nue={key:0,class:"cta-divider"},kue={class:"cta-sub"},Fue={class:"cta-actions"},Mue=["disabled"],Oue=["disabled"];function Pue(n,t,r,i,s,o){return ie(),le("div",{class:st(["cta-wrap",{inset:r.inset}])},[b("div",Iue,[b("div",Due,ke(r.title),1),r.showDivider?(ie(),le("div",Nue)):et("",!0),b("div",kue,[b("span",null,ke(r.subtitleLine1),1),t[2]||(t[2]=b("br",null,null,-1)),b("span",null,ke(r.subtitleLine2),1)]),b("div",Fue,[b("button",{class:"btn btn-primary",type:"button",disabled:r.primaryDisabled||r.primaryLoading,onClick:t[0]||(t[0]=a=>n.$emit("save-route"))},[t[3]||(t[3]=b("i",{class:"bi bi-heart"},null,-1)),b("span",null,ke(r.primaryText),1)],8,Mue),b("button",{class:"btn btn-secondary",type:"button",disabled:r.secondaryDisabled||r.secondaryLoading,onClick:t[1]||(t[1]=a=>n.$emit("request-new"))},[t[4]||(t[4]=b("i",{class:"bi bi-arrow-clockwise"},null,-1)),b("span",null,ke(r.secondaryText),1)],8,Oue)])])],2)}const Lue=yt(Tue,[["render",Pue],["__scopeId","data-v-578878dc"]]),Rue={name:"CourseExhibitionCard",components:{PillTag:Is,HashTag:$a},props:{item:{type:Object,required:!0}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t},formattedExhibitions(){return!this.item.exhibitionList||!Array.isArray(this.item.exhibitionList)?[]:this.item.exhibitionList.map(n=>(n.split("^")[0]||n).trim())},exhibitionCount(){return this.formattedExhibitions.length},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)}},methods:{getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]},createMarkerSvg(n,t){const r=`
        <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
              fill="${t}" stroke="#fff" stroke-width="2"/>
          <circle cx="12" cy="12" r="8" fill="#fff"/>
          <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
              font-size="10" font-weight="bold" fill="${t}">${n}</text>
        </svg>
      `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)}}},Bue={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},Uue={class:"timeline-marker-wrapper"},Vue={class:"content-card"},$ue={class:"card-body"},jue={class:"card-image"},zue=["src"],Gue={class:"card-text"},Hue={class:"d-flex align-items-center justify-content-left gap-1"},Wue={class:"place-name"},que={class:"d-flex gap-1"},Xue={class:"d-flex gap-1"},Yue={key:0,class:"more-tags"},Kue={class:"exhibition-section"},Zue={class:"exhibition-header"},Jue={class:"exhibition-count"},Que={class:"exhibition-list"},ece={class:"exhibition-number"},tce={class:"exhibition-name"};function nce(n,t,r,i,s,o){const a=Rt("PillTag"),l=Rt("HashTag");return ie(),le("div",Bue,[b("div",Uue,[b("div",{class:"timeline-marker-svg",style:Gn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[0]||(t[0]=b("div",{class:"timeline-line"},null,-1))]),b("div",Vue,[b("div",$ue,[b("div",jue,[b("img",{src:o.computedImageUrl,alt:" "},null,8,zue)]),b("div",Gue,[b("div",Hue,[b("h5",Wue,ke(r.item.title),1)]),b("div",que,[lt(a,{text:r.item.subject,type:"subject"},null,8,["text"]),lt(a,{text:r.item.grade.replace(" ","")},null,8,["text"])]),b("div",Xue,[(ie(!0),le(it,null,At(o.visibleHashtags,u=>(ie(),Zt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(ie(),le("span",Yue," +"+ke(o.remainingHashtagsCount),1)):et("",!0)])])]),t[3]||(t[3]=b("hr",{class:"hr"},null,-1)),b("div",Kue,[b("div",Zue,[t[1]||(t[1]=b("i",{class:"bi bi-palette-fill"},null,-1)),t[2]||(t[2]=b("span",{class:"exhibition-title"}," ",-1)),b("span",Jue,"("+ke(o.exhibitionCount)+")",1)]),b("div",Que,[(ie(!0),le(it,null,At(o.formattedExhibitions,(u,h)=>(ie(),le("div",{key:h,class:"exhibition-item"},[b("span",ece,ke(h+1),1),b("span",tce,ke(u),1)]))),128))])])])])}const rce=yt(Rue,[["render",nce],["__scopeId","data-v-388f745d"]]),ice={name:"CoursePlaceCard",components:{PillTag:Is,HashTag:$a},props:{item:{type:Object,required:!0}},emits:["edit","delete"],methods:{onEdit(){this.$emit("edit",this.item.id)},onDelete(){this.$emit("delete",this.item.id)},onImageLoaded(){console.log(`    (${this.item.number} - ${this.item.title})`)},onImageError(){console.error(`    (${this.item.number} - ${this.item.title}): ${this.item.imageUrl}`)},createMarkerSvg(n,t){const r=`
        <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
              fill="${t}" stroke="#fff" stroke-width="2"/>
          <circle cx="12" cy="12" r="8" fill="#fff"/>
          <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
              font-size="10" font-weight="bold" fill="${t}">${n}</text>
        </svg>
      `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)},getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)}}},sce={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},oce={class:"timeline-marker-wrapper"},ace={class:"content-card"},lce={class:"card-body"},uce={class:"card-image"},cce=["src"],hce={class:"card-text"},fce={class:"d-flex align-items-center justify-content-left gap-1"},dce={class:"place-name"},pce={class:"d-flex gap-1"},mce={class:"d-flex gap-1"},gce={key:0,class:"more-tags"},vce={class:"location-label"},yce={class:"address"};function bce(n,t,r,i,s,o){const a=Rt("PillTag"),l=Rt("HashTag");return ie(),le("div",sce,[b("div",oce,[b("div",{class:"timeline-marker-svg",style:Gn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[2]||(t[2]=b("div",{class:"timeline-line"},null,-1))]),b("div",ace,[b("div",lce,[b("div",uce,[b("img",{src:o.computedImageUrl,alt:" ",onLoad:t[0]||(t[0]=(...u)=>o.onImageLoaded&&o.onImageLoaded(...u)),onError:t[1]||(t[1]=(...u)=>o.onImageError&&o.onImageError(...u))},null,40,cce)]),b("div",hce,[b("div",fce,[b("h5",dce,ke(r.item.title),1)]),b("div",pce,[lt(a,{text:r.item.subject,type:"subject"},null,8,["text"]),lt(a,{text:(r.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),b("div",mce,[(ie(!0),le(it,null,At(o.visibleHashtags,u=>(ie(),Zt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(ie(),le("span",gce," +"+ke(o.remainingHashtagsCount),1)):et("",!0)])])]),t[4]||(t[4]=b("hr",{class:"hr"},null,-1)),b("span",vce,[t[3]||(t[3]=Ct("  ",-1)),b("span",yce,ke(r.item.place),1)])])])}const xce=yt(ice,[["render",bce],["__scopeId","data-v-11513708"]]),_ce={name:"CourseRecommended",components:{CourseMap:Rx,AiRecommendCourseExhibitionCard:rce,AiRecommendCoursePlaceCard:xce,RecommendationCTA:Lue},emits:["save-recommended-course","request-new-course"],props:{courseItems:{type:Array,required:!0},type:{type:String,default:"AI  "},isLoading:{type:Boolean,default:!1}},methods:{fetchNewCourse(){console.log("  "),this.$emit("request-new-course")},saveCurrentRoute(){console.log("   (CourseRecommend)"),this.$emit("save-recommended-course",this.courseItems)},goToVirtualTour(){const n=this.courseItems.map(t=>({id:t.id,title:t.title,sceneId:t.sceneId}));Lg.push({name:"virtualTour",state:{items:n}})}}},wce={class:"course-container"},Ece={class:"map-section"},Sce={key:0,class:"d-flex justify-content-center align-items-center mb-3 mt-3"},Cce={class:"timeline-list"},Ace={class:"list-wrapper"},Tce={key:0},Ice={key:1};function Dce(n,t,r,i,s,o){const a=Rt("CourseMap"),l=Rt("AiRecommendCourseExhibitionCard"),u=Rt("AiRecommendCoursePlaceCard"),h=Rt("RecommendationCTA");return ie(),le(it,null,[b("div",wce,[b("div",Ece,[lt(a,{items:r.courseItems,pageType:r.type},null,8,["items","pageType"])]),r.type==="exhibition"?(ie(),le("div",Sce,[b("button",{class:"btn virtual-tour-btn",onClick:t[0]||(t[0]=(...c)=>o.goToVirtualTour&&o.goToVirtualTour(...c))},[...t[1]||(t[1]=[b("i",{class:"bi bi-compass me-2"},null,-1),Ct("    ",-1)])])])):et("",!0),b("div",Cce,[t[2]||(t[2]=b("h5",{class:"list-title"}," ",-1)),b("div",Ace,[r.type==="exhibition"?(ie(),le("div",Tce,[(ie(!0),le(it,null,At(r.courseItems,c=>(ie(),Zt(l,{key:c.id,item:c,courseType:""},null,8,["item"]))),128))])):(ie(),le("div",Ice,[(ie(!0),le(it,null,At(r.courseItems,c=>(ie(),Zt(u,{key:c.id,item:c},null,8,["item"]))),128))]))])])]),lt(h,{onRequestNew:o.fetchNewCourse,"secondary-loading":r.isLoading,"secondary-disabled":r.isLoading,onSaveRoute:o.saveCurrentRoute},null,8,["onRequestNew","secondary-loading","secondary-disabled","onSaveRoute"])],64)}const Nce=yt(_ce,[["render",Dce],["__scopeId","data-v-df61943e"]]),Uv={default:{firstScene:"hall_1_entrance",autoLoad:!0,sceneFadeDuration:1e3},scenes:{hall_1_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Changui_Narae_Hall_02.png",hotSpots:[{pitch:-5,yaw:0,type:"scene",text:"   (4)",sceneId:"hall_1_seq_1"},{pitch:0,yaw:60,type:"scene",text:"    ()",sceneId:"hall_3_entrance"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_1_seq_1:{title:" ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Changui_Narae_PhygitalShow.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:"  (2/4)",sceneId:"hall_1_seq_2"},{pitch:0,yaw:180,type:"scene",text:" ()",sceneId:"hall_1_entrance"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_1_seq_2:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Changui_Narae_VRRider.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:"  (3/4)",sceneId:"hall_1_seq_3"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_1_seq_1"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_1_seq_3:{title:" ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Changui_Narae_POPDRONE.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:"  (4/4)",sceneId:"hall_1_seq_4"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_1_seq_2"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_1_seq_4:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Changui_Narae_RobotShow.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" !  ",sceneId:"hall_3_entrance"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_1_seq_3"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_3_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_and_Technology_Hall_02.png",hotSpots:[{pitch:-5,yaw:0,type:"scene",text:"   (4)",sceneId:"hall_3_seq_1"},{pitch:0,yaw:60,type:"scene",text:"    ()",sceneId:"hall_14_entrance"},{pitch:0,yaw:-60,type:"scene",text:"  ()",sceneId:"hall_1_entrance"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_3_seq_1:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_and_Technology_OutdoorNPark.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:"  (2/4)",sceneId:"hall_3_seq_2"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_3_entrance"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_3_seq_2:{title:" ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_and_Technology_Neighbor.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (3/4)",sceneId:"hall_3_seq_3"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_3_seq_1"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_3_seq_3:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_and_Technology_Physics.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (4/4)",sceneId:"hall_3_seq_4"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_3_seq_2"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_3_seq_4:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_and_Technology_HistoryOfScienceNTechnologyInKorea.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" !  ",sceneId:"hall_14_entrance"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_3_seq_3"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_14_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/OutdoorExhibition.jpg",hotSpots:[{pitch:-5,yaw:0,type:"scene",text:"   (3)",sceneId:"hall_14_seq_1"},{pitch:0,yaw:60,type:"scene",text:" ()",sceneId:"hall_1_entrance"},{pitch:0,yaw:-60,type:"scene",text:"  ()",sceneId:"hall_3_entrance"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_14_seq_1:{title:" ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Square_of_History.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (2/3)",sceneId:"hall_14_seq_2"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_14_entrance"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_14_seq_2:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Space_Science_Park.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (3/3)",sceneId:"hall_14_seq_3"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_14_seq_1"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_14_seq_3:{title:" ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_Playground.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:"  ! ",sceneId:"hall_1_entrance"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_14_seq_2"},{pitch:-30,yaw:90,type:"info",text:"  ."}]}}},kce={default:{firstScene:"hall_14_entrance",autoLoad:!0,sceneFadeDuration:1e3},scenes:{hall_14_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/OutdoorExhibition.jpg",hotSpots:[{pitch:-5,yaw:0,type:"scene",text:"   (3)",sceneId:"hall_14_seq_1"},{pitch:0,yaw:60,type:"scene",text:"    ()",sceneId:"hall_1_entrance"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_14_seq_1:{title:" ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Square_of_History.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (2/3)",sceneId:"hall_14_seq_2"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_14_entrance"},{pitch:-30,yaw:90,type:"info",text:""}]},hall_14_seq_2:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Space_Science_Park.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (3/3)",sceneId:"hall_14_seq_3"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_14_seq_1"},{pitch:-30,yaw:90,type:"info",text:""}]},hall_14_seq_3:{title:" ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_Playground.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" !  ",sceneId:"hall_1_entrance"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_14_seq_2"},{pitch:-30,yaw:90,type:"info",text:""}]},hall_1_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Changui_Narae_Hall_02.png",hotSpots:[{pitch:-5,yaw:0,type:"scene",text:"   (4)",sceneId:"hall_1_seq_1"},{pitch:0,yaw:60,type:"scene",text:"    ()",sceneId:"hall_3_entrance"},{pitch:0,yaw:-60,type:"scene",text:"  ()",sceneId:"hall_14_entrance"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_1_seq_1:{title:" ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Changui_Narae_PhygitalShow.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (2/4)",sceneId:"hall_1_seq_2"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_1_entrance"},{pitch:-30,yaw:90,type:"info",text:""}]},hall_1_seq_2:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Changui_Narae_VRRider.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (3/4)",sceneId:"hall_1_seq_3"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_1_seq_1"},{pitch:-30,yaw:90,type:"info",text:""}]},hall_1_seq_3:{title:" ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Changui_Narae_POPDRONE.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (4/4)",sceneId:"hall_1_seq_4"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_1_seq_2"},{pitch:-30,yaw:90,type:"info",text:""}]},hall_1_seq_4:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Changui_Narae_RobotShow.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" !  ",sceneId:"hall_3_entrance"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_1_seq_3"},{pitch:-30,yaw:90,type:"info",text:""}]},hall_3_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_and_Technology_Home.jpg",hotSpots:[{pitch:-5,yaw:0,type:"scene",text:"    (4)",sceneId:"hall_3_seq_1"},{pitch:0,yaw:-60,type:"scene",text:"  ()",sceneId:"hall_1_entrance"},{pitch:-30,yaw:90,type:"info",text:"  ."}]},hall_3_seq_1:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_and_Technology_OutdoorNPark.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (2/4)",sceneId:"hall_3_seq_2"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_3_entrance"},{pitch:-30,yaw:90,type:"info",text:""}]},hall_3_seq_2:{title:" ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_and_Technology_Neighbor.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (3/4)",sceneId:"hall_3_seq_3"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_3_seq_1"},{pitch:-30,yaw:90,type:"info",text:""}]},hall_3_seq_3:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_and_Technology_Physics.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:" (4/4)",sceneId:"hall_3_seq_4"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_3_seq_2"},{pitch:-30,yaw:90,type:"info",text:""}]},hall_3_seq_4:{title:"",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/Science_and_Technology_HistoryOfScienceNTechnologyInKorea.jpg",hotSpots:[{pitch:0,yaw:0,type:"scene",text:"  ! ()",sceneId:"hall_14_entrance"},{pitch:0,yaw:180,type:"scene",text:"",sceneId:"hall_3_seq_3"},{pitch:-30,yaw:90,type:"info",text:""}]}}};function aA(n){if(!n||typeof n!="string")return null;const t=n.trim().toLowerCase();return t.includes("")?"hall_1_ex1":t.includes(" ")?"hall_1_ex2":t.includes(" ")?"hall_1_ex3":t.includes(" ")?"hall_1_ex4":t.includes("")?"hall_1_ex5":t.includes("")?"hall_1_ex6":t.includes("")?"hall_1_ex7":t.includes("")||t.includes("ar")?"hall_1_ex8":t.includes("")?"hall_1_ex9":t.includes("")?"hall_1_ex10":t.includes("")||t.includes("")?"hall_14_entrance":t.includes("")?"hall_1_entrance":t.includes("")?"hall_2_entrance":t.includes("")||t.includes("")?"hall_3_entrance":t.includes("")?"hall_4_entrance":t.includes("")?"hall_5_entrance":t.includes(" ")?"hall_6_entrance":t.includes(" ")?"hall_7_entrance":t.includes("")?"hall_8_entrance":t.includes("")?"hall_9_entrance":t.includes("")?"hall_10_entrance":t.includes("")?"hall_11_entrance":t.includes("")?"hall_12_entrance":t.includes("")?"hall_13_entrance":(console.warn(`[sceneId ] "${t}"    null `),null)}function Fce(n){if(!n||n.length===0)return console.log(" [Mapper]    -> (1 ) "),Uv;const t=n[0].sceneId||"";return console.log(` [Mapper]   : ${t}`),t.startsWith("hall_14_")?(console.log(" [Mapper]    -> '2 ' "),kce):t.startsWith("hall_1_")?(console.log(" [Mapper]    -> '1 (Demo)' "),Uv):(console.log(" [Mapper]    -> '1 '  "),Uv)}const Mce={name:"PlaceDetailsView",components:{ExhibitionHeader:$ie,InfoSection:pae,TabSection:bae,CourseRecommend:Nce,ContentDetailView:Aue},beforeRouteLeave(n,t,r){if(this.isTourRoute(n))return this.saveCourseCache(),sessionStorage.setItem("pdv:tabAfterBack","recommend"),sessionStorage.setItem("pdv:courseCacheKey",this.cacheKey),sessionStorage.setItem("pdv:returnTo",JSON.stringify({type:this.pageType,id:this.currentId,query:this.$route.query})),r();this.clearCourseCache(),r()},activated(){this.restoreTabIfCameBack()},setup(){const n=bi(),{isLoggedIn:t,currentUserId:r}=Ts(n);return{isLoggedIn:t,currentUserId:r}},computed:{computedIsFavorite(){return this.isWished},cacheKey(){return`course-cache:${this.pageType}:${this.currentId}`},progressSteps(){return this.pageType==="science_place"?this.sciencePlaceProgressSteps:this.exhibitionProgressSteps},loadingMessages(){return this.pageType==="science_place"?this.sciencePlaceLoadingMessages:this.exhibitionLoadingMessages},tips(){return this.pageType==="science_place"?this.sciencePlaceTips:this.exhibitionTips},progressPercentage(){const n=this.progressSteps.length,t=this.currentStepIndex+1;return Math.min(Math.round(t/n*100),100)}},data(){return{courseRerenderKey:0,currentId:null,pageType:null,currentTab:"detail",isWished:!1,isLoading:!1,exhibition:{title:"  ...",rating:0,reviewCount:0,mainCategory:"",subCategories:[],gradeTag:"",type:"",description:"",mainImage:"https://via.placeholder.com/600x400",photoReviewCount:0,exhibitionList:[],visited:!1,liked:!1},exhibitionInformation:{exhibitionLocation:"",operationPeriod:"",operationHours:"",entranceFee:"",lat:0,lng:0,scienceCenterName:"",hallId:0},place:{title:"  ...",rating:0,reviewCount:0,mainCategory:"",subCategories:[],gradeTag:"",type:"",description:"",mainImage:"https://via.placeholder.com/600x400",photoReviewCount:0,visited:!1,liked:!1},placeInformation:{placeAddress:"",operationPeriod:"",operationHours:"",entranceFee:"",lat:0,lng:0},courseItems:[],hasLoadedRecommendations:!1,isRecommending:!1,weatherInfo:null,exhibitionProgressSteps:[" ","  "," "," "],exhibitionLoadingMessages:["    ","    ","    ","   "],exhibitionTips:[" AI    ","     ","       "],sciencePlaceProgressSteps:[" "," ","  "," "," "],sciencePlaceLoadingMessages:["      ","     ","    ","     ","     "],sciencePlaceTips:["      ","       ","      "," AI       "],currentStepIndex:0,currentMessageIndex:0,currentTipIndex:0,stepInterval:null,tipInterval:null}},created(){const n=this.$route.params.id;this.currentId=n;const t=this.$route.path.startsWith("/place/");this.pageType=t?"science_place":"exhibition",t?this.fetchPlaceData(n):this.fetchExhibitionData(n),console.log("[PlaceDetailsView] currentUserId:",this.currentUserId)},mounted(){this.restoreTabIfCameBack(),this._onPageShow=()=>this.restoreTabIfCameBack(),window.addEventListener("pageshow",this._onPageShow)},watch:{"$route.params.id"(n,t){if(t&&n&&n!==t){const r=`course-cache:${this.pageType}:${t}`;this.clearCourseCache(r),this.hasLoadedRecommendations=!1,this.currentId=n;const i=this.$route.path.startsWith("/place/");this.pageType=i?"science_place":"exhibition",i?this.fetchPlaceData(n):this.fetchExhibitionData(n)}},currentUserId(n,t){n&&!t&&this.currentId?this.pageType==="exhibition"?this.fetchExhibitionData(this.currentId):this.pageType==="science_place"&&this.fetchPlaceData(this.currentId):!n&&t&&(this.isWished=!1)}},beforeUnmount(){this.clearLoadingIntervals(),this._onPageShow&&window.removeEventListener("pageshow",this._onPageShow)},methods:{async handleSaveRecommendedCourse(n){if(console.log("[Parent] save received, items =",Array.isArray(n)?n.length:n),!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>this.$router.push({name:"login"})});return}if(!Array.isArray(n)||n.length===0){ht.emit("show-global-alert",{message:"   .",type:"error"});return}try{const r=`AI : ${(this.pageType==="science_place"?this.place:this.exhibition).title||""}`,i=this.currentId,s=n.map(l=>({exhibitionId:this.pageType!=="science_place"?l.id:null,placeId:this.pageType==="science_place"?l.id:null,sequence:l.number,itemType:l.type==="exhibition"?"exhibition":"science_place",categoryName:l.subject,gradeName:l.grade,subCategories:l.hashtags})),o={scheduleName:r,sourceId:i,sourceCourseType:this.pageType==="science_place"?"ai_course":"inner_course",items:s,userId:this.currentUserId};console.log("[Parent] POST /api/schedules/save-recommended",o);const a=await cn.post("/api/schedules/save-recommended",o);a.status===200?ht.emit("show-global-alert",{message:'  " " .',type:"success"}):ht.emit("show-global-alert",{message:`    : ${a.statusText}`,type:"error"})}catch(t){console.error("save error",t);const r=t.response?.data||t.message;ht.emit("show-global-alert",{message:`   : ${r}`,type:"error"})}},isTourRoute(n){const t=(n?.name||"").toString().toLowerCase(),r=(n?.path||"").toString().toLowerCase();return t==="virtualtour"||t==="tour"||t.includes("virtual")||t.includes("tour")||/virtual|tour|vr|webgl/.test(r)},async restoreTabIfCameBack(){if(sessionStorage.getItem("pdv:tabAfterBack")==="recommend"){this.currentTab="recommend";const t=sessionStorage.getItem("pdv:courseCacheKey");t&&t===this.cacheKey?!this.loadCourseCache()&&!this.hasLoadedRecommendations&&(this.hasLoadedRecommendations=!1,this.fetchRecommendedCourse()):this.hasLoadedRecommendations||this.fetchRecommendedCourse(),sessionStorage.removeItem("pdv:tabAfterBack"),sessionStorage.removeItem("pdv:courseCacheKey")}},loadCourseCache(){try{const n=sessionStorage.getItem(this.cacheKey);if(!n)return!1;const{items:t}=JSON.parse(n);return!Array.isArray(t)||t.length===0?!1:(this.courseItems=t,this.hasLoadedRecommendations=!0,this.courseRerenderKey=Date.now(),console.log("   :",this.courseItems),!0)}catch(n){return console.warn("   :",n),!1}},saveCourseCache(){try{const n={items:this.courseItems};sessionStorage.setItem(this.cacheKey,JSON.stringify(n)),console.log("    :",this.cacheKey)}catch(n){console.warn("   :",n)}},clearCourseCache(n=this.cacheKey){try{sessionStorage.removeItem(n),console.log("   :",n)}catch(t){console.warn("   :",t)}},parseWeatherInfo(n){if(!n)return null;let t="",r="   .   !";return n.includes("")?(t="",r="  .    !"):n.includes("")?(t="",r="  .    !"):n.includes("")?(t="",r=" .       !"):n.includes("")&&(t="",r="    !"),{icon:t,description:n,recommendation:r}},mapExhibitionDTO(n){const t=n.exhibitionHallName??" ",r=this.$route.query.mainCategoryTags??"",i=this.$route.query.subCategoryTags,s=this.$route.query.gradeTags;let o=[];typeof i=="string"?o=i.split(",").map(a=>a.trim()).filter(Boolean):Array.isArray(i)&&(o=i.map(a=>String(a).trim()).filter(Boolean)),this.exhibition={title:t,rating:n.averageRating??0,reviewCount:n.totalReviews??0,mainCategory:r,subCategories:o,gradeTag:s,type:n.type??"exhibition",description:n.description??"",mainImage:n.mainImageUrl||"https://via.placeholder.com/600x400",photoReviewCount:n.totalPhotoReviews??0,exhibitionList:n.exhibitionList,visited:n.visited??!1,liked:n.liked??!1},this.isWished=n.liked??!1,this.exhibitionInformation={exhibitionLocation:n.location??" ",operationPeriod:this.formatPeriod(n.startDate,n.endDate),operationHours:n.openingHours??" ",entranceFee:this.formatFee(n.admissionFee),lat:n.latitude,lng:n.longitude,scienceCenterName:(n.location||"").split(" ")[0]||"",hallId:n.hallId}},mapPlaceDTO(n){const t=n.placeName??" ",r=this.$route.query.mainCategoryTags??"",i=this.$route.query.subCategoryTags,s=this.$route.query.gradeTags;let o=[];typeof i=="string"?o=i.split(",").map(a=>a.trim()).filter(Boolean):Array.isArray(i)&&(o=i.map(a=>String(a).trim()).filter(Boolean)),this.place={title:t,rating:n.averageRating??0,reviewCount:n.totalReviews??0,mainCategory:r,subCategories:o,gradeTag:s,description:n.description??"",mainImage:n.mainImageUrl||"https://via.placeholder.com/600x400",photoReviewCount:n.totalPhotoReviews??0,type:n.type??"science_place",visited:n.visited??!1,liked:n.liked??!1},this.isWished=n.liked??!1,this.placeInformation={placeAddress:n.addressDetail??" ",operationPeriod:this.formatPeriod(null,null),operationHours:n.openingHours??" ",entranceFee:n.admissionFee??" ",lat:n.latitude,lng:n.longitude}},formatPeriod(n,t){return!n&&!t?" ":n&&!t?`${n} ~  `:!n&&t?`~ ${t}`:`${n} ~ ${t}`},formatFee(n){return n==null?" ":n===0?"":`${n.toLocaleString("ko-KR")}`},async fetchExhibitionData(n){try{const r=(await cn.get("/api/exhibitions",{params:{exhibitionId:n,userId:this.currentUserId,mainCategoryTags:this.$route.query.mainCategoryTags??"",gradeTags:this.$route.query.gradeTags}})).data;if(!r||Object.keys(r).length===0){console.warn("   .");return}this.mapExhibitionDTO(r)}catch(t){console.error("   :",t),ht.emit("show-global-alert",{message:"   .",type:"error"})}},async fetchPlaceData(n){try{const r=(await cn.get("/api/place",{params:{placeId:n,userId:this.currentUserId}})).data;if(!r||Object.keys(r).length===0){console.warn("   .");return}this.mapPlaceDTO(r)}catch(t){console.error("   :",t),ht.emit("show-global-alert",{message:"   .",type:"error"})}},refreshData(){this.pageType==="exhibition"?this.fetchExhibitionData(this.currentId):this.pageType==="science_place"&&this.fetchPlaceData(this.currentId)},handleReviewPosted(){this.refreshData()},handleReviewDeleted(){this.refreshData()},handleTabChange(n){if(this.currentTab=n,n==="recommend"){if(this.loadCourseCache())return;this.hasLoadedRecommendations||this.fetchRecommendedCourse()}},startLoadingAnimation(){this.currentStepIndex=0,this.currentMessageIndex=0;const n=this.pageType==="science_place"?700:1200;this.stepInterval=setInterval(()=>{this.currentStepIndex<this.progressSteps.length-1&&(this.currentStepIndex++,this.currentMessageIndex++)},n),this.currentTipIndex=0,this.tipInterval=setInterval(()=>{this.currentTipIndex=(this.currentTipIndex+1)%this.tips.length},2500)},clearLoadingIntervals(){this.stepInterval&&(clearInterval(this.stepInterval),this.stepInterval=null),this.tipInterval&&(clearInterval(this.tipInterval),this.tipInterval=null)},async fetchRecommendedCourse(){console.log(" AI   ..."),this.isRecommending=!0,this.startLoadingAnimation(),await this.$nextTick();try{const n="/api/recommend/course",t={type:this.pageType,currentId:this.currentId,mainCategoryTags:this.$route.query.mainCategoryTags,subCategoryTags:this.$route.query.subCategoryTags,gradeTags:this.$route.query.gradeTags},[r]=await Promise.all([cn.get(n,{params:t}),new Promise(c=>setTimeout(c,3500))]),i=r.data;let s=[],o=null;i.recommendations?(s=i.recommendations,o=i.weatherInfo):s=i,this.pageType==="science_place"&&o?this.weatherInfo=this.parseWeatherInfo(o):this.weatherInfo=null;const a=this.pageType==="science_place"?this.place:this.exhibition,l=this.pageType==="science_place"?this.placeInformation:this.exhibitionInformation,u={id:this.currentId,number:1,imageUrl:a.mainImage||"https://via.placeholder.com/60x60",title:a.title||" ",subject:a.mainCategory||" ",grade:a.gradeTag||"  ",hashtags:Array.isArray(a.subCategories)?a.subCategories:a.subCategories?[a.subCategories]:[],type:a.type,place:l.placeAddress||l.exhibitionLocation||"  ",exhibitionList:a.exhibitionList,lat:l.lat||0,lng:l.lng||0,sceneId:aA(a.title)},h=s.map((c,f)=>({id:c.placeId,number:f+2,imageUrl:c.imageUrl||"https://via.placeholder.com/60x60",title:c.placeName,subject:c.subjectName,grade:c.gradeName,hashtags:c.hashtags,place:c.address||"  ",exhibitionList:c.exhibitionList,lat:c.latitude,lng:c.longitude,type:c.type,sceneId:aA(c.placeName)}));this.courseItems=[u,...h],this.hasLoadedRecommendations=!0,this.saveCourseCache(),this.courseRerenderKey=Date.now()}catch(n){console.error("AI    :",n),this.hasLoadedRecommendations=!0,ht.emit("show-global-alert",{message:"AI    .  .",type:"error"})}finally{setTimeout(()=>{this.clearLoadingIntervals(),this.isRecommending=!1,this.currentStepIndex=0,this.currentMessageIndex=0,console.log(" fetchRecommendedCourse . isRecommending:",this.isRecommending)},300)}},async handleToggleFavorite(){if(!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}if(this.isLoading)return;const n=this.pageType==="exhibition",t=this.isWished,r=n?this.exhibition:this.place,i={targetId:this.currentId,targetType:this.pageType,mainCategory:r.mainCategory,gradeTag:r.gradeTag};try{t?(await cn.delete("/api/wishlist",{data:i}),this.isWished=!1,ht.emit("show-global-alert",{message:"  .",type:"success"})):(await cn.post("/api/wishlist",i),console.log("[wishlist] add payload:",i),this.isWished=!0,ht.emit("show-global-alert",{message:"  .",type:"success"}))}catch(s){const o=s.response?.status;if(o===409){ht.emit("show-global-alert",{message:"  .  .",type:"error"});try{await cn.delete("/api/wishlist",{data:i}),this.isWished=!1,ht.emit("show-global-alert",{message:" .",type:"success"})}catch(a){console.error("409    :",a),ht.emit("show-global-alert",{message:"   . (   .)",type:"error"})}}else o===403?ht.emit("show-global-alert",{message:"   .",type:"error"}):(console.error("   :",s),ht.emit("show-global-alert",{message:"  .   .",type:"error"}))}finally{this.isLoading=!1}},async handleVisitAuthentication(){console.log("PlaceDetailView:   ");try{if(this.pageType==="exhibition"?this.exhibition.visited:this.place.visited){ht.emit("show-global-alert",{message:"  .",type:"error"});return}if(!this.isLoggedIn){ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>this.$router.push({name:"login"})});return}const t=this.pageType,r=this.currentId;if(!t||!r)throw new Error(" (targetId/targetType)   .");const i=await this.getUserCoordinates(),s={userId:this.currentUserId,targetType:t,targetId:r,latitude:i.latitude,longitude:i.longitude},o=await cn.post("/api/stamps",s);ht.emit("show-global-alert",{message:"  !",type:"success"}),console.log(" :",o.data),this.pageType==="exhibition"?this.exhibition.visited=!0:this.pageType==="science_place"&&(this.place.visited=!0)}catch(n){const t=n.response?.data?.error||n.response?.data||n.message;String(t).includes("GPS")?alert(`GPS : ${t}`):ht.emit("show-global-alert",{message:`${t}`,type:"error"}),console.error("   :",n)}},getUserCoordinates(){return console.log("GPS:     "),new Promise((n,t)=>{if(!navigator.geolocation){console.error("GPS: Geolocation  ."),t(new Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(r=>{const i={latitude:r.coords.latitude,longitude:r.coords.longitude};console.log("GPS    ()",i),n(i)},r=>{console.error("GPS   :",r.code,r.message),t(r)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}}},Oce={class:"exhibition-detail-page"},Pce={class:"header"},Lce={class:"scroll-content"},Rce={key:0},Bce={key:0},Uce={key:1},Vce={key:0,class:"recommend-loading-container"},$ce={class:"loading-content"},jce={class:"loading-message"},zce={class:"progress-bar-container"},Gce={class:"progress-bar"},Hce={class:"progress-text"},Wce={class:"progress-steps"},qce={class:"step-dot"},Xce={class:"bi bi-check-lg",key:"check"},Yce={class:"step-number",key:"number"},Kce={class:"step-label"},Zce={class:"skeleton-cards"},Jce={class:"card-header"},Qce={class:"card-number"},ehe={class:"number-text"},the={class:"tip-text"},nhe={key:1},rhe={key:0},ihe={key:1},she={key:0,class:"recommend-loading-container"},ohe={class:"loading-content"},ahe={class:"loading-message"},lhe={class:"progress-bar-container"},uhe={class:"progress-bar"},che={class:"progress-text"},hhe={class:"progress-steps"},fhe={class:"step-dot"},dhe={class:"bi bi-check-lg",key:"check"},phe={class:"step-number",key:"number"},mhe={class:"step-label"},ghe={class:"skeleton-cards"},vhe={class:"card-header"},yhe={class:"card-number"},bhe={class:"number-text"},xhe={class:"tip-text"},_he={key:1},whe={key:0,class:"weather-info-card"},Ehe={class:"weather-header"},She={class:"weather-icon"},Che={class:"weather-text"},Ahe={class:"weather-recommendation"},The={key:2,class:"loading-container"};function Ihe(n,t,r,i,s,o){const a=Rt("ExhibitionHeader"),l=Rt("InfoSection"),u=Rt("TabSection"),h=Rt("ContentDetailView"),c=Rt("CourseRecommend");return ie(),le("div",Oce,[b("div",Pce,[s.pageType==="exhibition"?(ie(),Zt(a,{key:0,pageTitle:" ",isFavorite:o.computedIsFavorite,onToggleFavorite:o.handleToggleFavorite},null,8,["isFavorite","onToggleFavorite"])):s.pageType==="science_place"?(ie(),Zt(a,{key:1,pageTitle:" ",isFavorite:o.computedIsFavorite,onToggleFavorite:o.handleToggleFavorite},null,8,["isFavorite","onToggleFavorite"])):(ie(),Zt(a,{key:2,pageTitle:" ..."}))]),b("div",Lce,[s.pageType==="exhibition"?(ie(),le("div",Rce,[lt(l,{exhibition:s.exhibition,imageTag:" ",mainCategory:s.exhibition.mainCategory,subCategories:s.exhibition.subCategories,gradeTag:s.exhibition.gradeTag,onAuthenticateVisit:o.handleVisitAuthentication},null,8,["exhibition","mainCategory","subCategories","gradeTag","onAuthenticateVisit"]),t[5]||(t[5]=b("hr",{class:"divider"},null,-1)),(ie(),Zt(u,{key:s.currentTab,isPlace:!1,activeTab:s.currentTab,onUpdateTab:o.handleTabChange},null,8,["activeTab","onUpdateTab"])),s.currentTab==="detail"?(ie(),le("div",Bce,[lt(h,{exhibitionInformation:s.exhibitionInformation,exhibition:s.exhibition,isPlace:!1,"target-id":s.currentId,"target-type":s.pageType,onReviewPosted:o.handleReviewPosted,onReviewDeleted:o.handleReviewDeleted,"photo-review-count":s.exhibition.photoReviewCount},null,8,["exhibitionInformation","exhibition","target-id","target-type","onReviewPosted","onReviewDeleted","photo-review-count"])])):s.currentTab==="recommend"?(ie(),le("div",Uce,[s.isRecommending?(ie(),le("div",Vce,[b("div",$ce,[t[4]||(t[4]=_r('<div class="ai-icon-section" data-v-10540c4b><div class="ai-icon-wrapper" data-v-10540c4b><div class="ai-icon-bg" data-v-10540c4b><span class="ai-icon" data-v-10540c4b></span></div><div class="pulse-ring" data-v-10540c4b></div><div class="pulse-ring-delayed" data-v-10540c4b></div></div></div>',1)),b("div",jce,[t[0]||(t[0]=b("h3",{class:"main-title"},"AI    ",-1)),lt(Xi,{name:"fade",mode:"out-in"},{default:Sr(()=>[(ie(),le("p",{class:"sub-message",key:s.currentMessageIndex},ke(o.loadingMessages[s.currentMessageIndex]),1))]),_:1})]),b("div",zce,[b("div",Gce,[b("div",{class:"progress-fill",style:Gn({width:o.progressPercentage+"%"})},null,4)]),b("p",Hce,ke(o.progressPercentage)+"%",1)]),b("div",Wce,[t[1]||(t[1]=b("div",{class:"step-connector"},null,-1)),(ie(!0),le(it,null,At(o.progressSteps,(f,p)=>(ie(),le("div",{class:st(["step-item",{active:s.currentStepIndex>=p,completed:s.currentStepIndex>p}]),key:p},[b("div",qce,[lt(Xi,{name:"check-fade",mode:"out-in"},{default:Sr(()=>[s.currentStepIndex>p?(ie(),le("i",Xce)):(ie(),le("span",Yce,ke(p+1),1))]),_:2},1024)]),b("span",Kce,ke(f),1)],2))),128))]),b("div",Zce,[(ie(),le(it,null,At(3,f=>b("div",{key:f,class:"skeleton-card",style:Gn({animationDelay:`${f*.15}s`})},[b("div",Jce,[b("div",Qce,[b("span",ehe,ke(f),1)])]),t[2]||(t[2]=_r('<div class="card-body" data-v-10540c4b><div class="skeleton-image" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></div><div class="skeleton-info" data-v-10540c4b><div class="skeleton-title" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></div><div class="skeleton-location" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></div><div class="skeleton-tags" data-v-10540c4b><span class="skeleton-tag" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></span><span class="skeleton-tag" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></span><span class="skeleton-tag" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></span></div></div></div>',1))],4)),64))]),lt(Xi,{name:"fade",mode:"out-in"},{default:Sr(()=>[(ie(),le("div",{class:"loading-tip",key:s.currentTipIndex},[t[3]||(t[3]=b("span",{class:"tip-icon"},"",-1)),b("span",the,ke(o.tips[s.currentTipIndex]),1)]))]),_:1})])])):(ie(),Zt(c,{key:s.courseRerenderKey,"course-items":s.courseItems,type:s.pageType,"is-loading":s.isRecommending,onRequestNewCourse:o.fetchRecommendedCourse,onSaveRecommendedCourse:o.handleSaveRecommendedCourse},null,8,["course-items","type","is-loading","onRequestNewCourse","onSaveRecommendedCourse"]))])):et("",!0)])):s.pageType==="science_place"?(ie(),le("div",nhe,[lt(l,{exhibition:s.place,imageTag:" ",mainCategory:s.place.mainCategory,subCategories:s.place.subCategories,gradeTag:s.place.gradeTag,onAuthenticateVisit:o.handleVisitAuthentication},null,8,["exhibition","mainCategory","subCategories","gradeTag","onAuthenticateVisit"]),t[13]||(t[13]=b("hr",{class:"divider"},null,-1)),lt(u,{isPlace:!0,activeTab:s.currentTab,onUpdateTab:o.handleTabChange},null,8,["activeTab","onUpdateTab"]),s.currentTab==="detail"?(ie(),le("div",rhe,[lt(h,{placeInformation:s.placeInformation,place:s.place,"target-id":s.currentId,"target-type":s.pageType,isPlace:!0,onReviewPosted:o.handleReviewPosted,onReviewDeleted:o.handleReviewDeleted,"photo-review-count":s.place.photoReviewCount},null,8,["placeInformation","place","target-id","target-type","onReviewPosted","onReviewDeleted","photo-review-count"])])):s.currentTab==="recommend"?(ie(),le("div",ihe,[s.isRecommending?(ie(),le("div",she,[b("div",ohe,[t[10]||(t[10]=_r('<div class="ai-icon-section" data-v-10540c4b><div class="ai-icon-wrapper" data-v-10540c4b><div class="ai-icon-bg" data-v-10540c4b><span class="ai-icon" data-v-10540c4b></span></div><div class="pulse-ring" data-v-10540c4b></div><div class="pulse-ring-delayed" data-v-10540c4b></div></div></div>',1)),b("div",ahe,[t[6]||(t[6]=b("h3",{class:"main-title"},"AI      ",-1)),lt(Xi,{name:"fade",mode:"out-in"},{default:Sr(()=>[(ie(),le("p",{class:"sub-message",key:s.currentMessageIndex},ke(o.loadingMessages[s.currentMessageIndex]),1))]),_:1})]),b("div",lhe,[b("div",uhe,[b("div",{class:"progress-fill",style:Gn({width:o.progressPercentage+"%"})},null,4)]),b("p",che,ke(o.progressPercentage)+"%",1)]),b("div",hhe,[t[7]||(t[7]=b("div",{class:"step-connector"},null,-1)),(ie(!0),le(it,null,At(o.progressSteps,(f,p)=>(ie(),le("div",{class:st(["step-item",{active:s.currentStepIndex>=p,completed:s.currentStepIndex>p}]),key:p},[b("div",fhe,[lt(Xi,{name:"check-fade",mode:"out-in"},{default:Sr(()=>[s.currentStepIndex>p?(ie(),le("i",dhe)):(ie(),le("span",phe,ke(p+1),1))]),_:2},1024)]),b("span",mhe,ke(f),1)],2))),128))]),b("div",ghe,[(ie(),le(it,null,At(3,f=>b("div",{key:f,class:"skeleton-card",style:Gn({animationDelay:`${f*.15}s`})},[b("div",vhe,[b("div",yhe,[b("span",bhe,ke(f),1)])]),t[8]||(t[8]=_r('<div class="card-body" data-v-10540c4b><div class="skeleton-image" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></div><div class="skeleton-info" data-v-10540c4b><div class="skeleton-title" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></div><div class="skeleton-location" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></div><div class="skeleton-tags" data-v-10540c4b><span class="skeleton-tag" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></span><span class="skeleton-tag" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></span><span class="skeleton-tag" data-v-10540c4b><div class="shimmer" data-v-10540c4b></div></span></div></div></div>',1))],4)),64))]),lt(Xi,{name:"fade",mode:"out-in"},{default:Sr(()=>[(ie(),le("div",{class:"loading-tip",key:s.currentTipIndex},[t[9]||(t[9]=b("span",{class:"tip-icon"},"",-1)),b("span",xhe,ke(o.tips[s.currentTipIndex]),1)]))]),_:1})])])):(ie(),le("div",_he,[s.weatherInfo?(ie(),le("div",whe,[b("div",Ehe,[b("span",She,ke(s.weatherInfo.icon),1),b("div",Che,[t[11]||(t[11]=b("h4",null,"  ",-1)),b("p",null,ke(s.weatherInfo.description),1)])]),b("div",Ahe,[t[12]||(t[12]=b("i",{class:"bi bi-lightbulb-fill"},null,-1)),b("span",null,ke(s.weatherInfo.recommendation),1)])])):et("",!0),lt(c,{"course-items":s.courseItems,type:s.pageType,"is-loading":s.isRecommending,onRequestNewCourse:o.fetchRecommendedCourse,onSaveRecommendedCourse:o.handleSaveRecommendedCourse},null,8,["course-items","type","is-loading","onRequestNewCourse","onSaveRecommendedCourse"])]))])):et("",!0)])):(ie(),le("div",The,[...t[14]||(t[14]=[b("div",{class:"spinner-border text-primary",role:"status"},[b("span",{class:"visually-hidden"},"Loading...")],-1),b("p",{class:"mt-3"},"  ...",-1)])]))])])}const lA=yt(Mce,[["render",Ihe],["__scopeId","data-v-10540c4b"]]),Dhe={class:"image-container"},Nhe={key:0,class:"card-badge"},khe=["src","alt"],Fhe={class:"content-frame d-flex flex-column flex-grow-1 gap-2 min-w-0"},Mhe={class:"d-flex justify-content-between align-items-center gap-1"},Ohe={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},Phe={key:0,class:"bi bi-heart-fill fs-5",style:{color:"red"}},Lhe={key:1,class:"bi bi-plus fs-4"},Rhe={class:"text-frame d-flex flex-column gap-1 min-w-0"},Bhe={class:"d-flex align-items-center gap-1 min-w-0"},Uhe={class:"fw-bold m-0 text-truncate flex-grow-1 min-w-0"},Vhe={class:"d-flex flex-row align-items-center gap-2 min-w-0"},$he={class:"text-truncate flex-grow-1 min-w-0"},jhe={class:"hashtag-container"},zhe={key:0,class:"more-tags"},Ghe="https://storage.googleapis.com/science_book/",Vv=2,Hhe={__name:"PlaceCard2",props:{item:{type:Object,required:!0},iconType:{type:String,default:"add"}},emits:["add","toggle-favorite","item-click"],setup(n,{emit:t}){const r=t,i=n,s=dt(()=>{const c=i.item.imageUrl;return c&&!c.startsWith("http")?Ghe+c:c}),o=dt(()=>i.item.hashtags?.slice(0,Vv)||[]),a=dt(()=>i.item.hashtags?.length>Vv),l=dt(()=>i.item.hashtags?.length-Vv||0),u=()=>{i.iconType==="heart"?r("toggle-favorite"):r("add")},h=()=>{r("item-click")};return(c,f)=>(ie(),le("div",{class:"place-card d-flex flex-row bg-white align-items-center px-3 py-3 rounded-4 shadow gap-3",style:{"font-family":"'SUIT' , sans-serif"},onClick:h},[b("div",Dhe,[n.item.badgeLabel?(ie(),le("div",Nhe,ke(n.item.badgeLabel),1)):et("",!0),b("img",{src:s.value,alt:n.item.title,class:"map-thumbnail"},null,8,khe)]),b("div",Fhe,[b("div",Mhe,[b("div",Ohe,[lt(Is,{text:n.item.subject||"",type:"subject"},null,8,["text"]),lt(Is,{text:(n.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),b("button",{class:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center btn-add flex-shrink-0",onClick:hr(u,["stop"])},[i.iconType==="heart"?(ie(),le("i",Phe)):(ie(),le("i",Lhe))])]),b("div",Rhe,[b("div",Bhe,[b("h5",Uhe,ke(n.item.title||""),1)]),b("div",Vhe,[b("span",$he,ke(n.item.place||""),1)]),b("div",jhe,[(ie(!0),le(it,null,At(o.value,p=>(ie(),Zt($a,{key:p,text:p},null,8,["text"]))),128)),a.value?(ie(),le("span",zhe," +"+ke(l.value),1)):et("",!0)])])])]))}},BF=yt(Hhe,[["__scopeId","data-v-90d485a5"]]),Whe={name:"PlaceList",components:{PlaceCard2:BF,FilterModal:Z1},data(){return{selectedTab:"",isModalOpen:!1,allFetchedItems:[],isSearching:!1}},computed:{filteredItems(){return this.selectedTab===""?this.allFetchedItems.filter(n=>n.itemType==="exhibition"):this.allFetchedItems.filter(n=>n.itemType==="science_place")},...j4(kp,["selectedGrade","selectedSubject"])},methods:{...z4(kp,["setFilter"]),changeTab(n){this.selectedTab=n,this.$router.replace({query:{tab:n}})},goToDetail(n){console.log("  :",n.title);const t={mainCategoryTags:this.selectedSubject,subCategoryTags:n.hashtags,gradeTags:this.selectedGrade};n.itemType==="exhibition"?(console.log(`   (ID: ${n.id}):`,n.title),this.$router.push({path:`/exhibition/${n.id}`,query:t})):(console.log(`   (ID: ${n.id}):`,n.title),this.$router.push({path:`/place/${n.id}`,query:t}))},handleItemClick(n){this.goToDetail(n)},goBack(){this.$router.back()},handleFilterComplete(n){console.log("  :",n),this.setFilter(n.grade,n.subject),this.isModalOpen=!1,this.performSearch()},async performSearch(){console.log("  ( ):",{subject:this.selectedSubject,grade:this.selectedGrade}),this.isSearching=!0,this.allFetchedItems=[];const n={searchType:"all",subject:this.selectedSubject,grade:this.selectedGrade};try{const t=await cn.get("/api/content/search",{params:n});if(t.data&&Array.isArray(t.data)){const r=t.data.map(i=>(i.id||(i.id=`temp_${i.itemType}_${Date.now()}_${Math.random().toString(36).substr(2,5)}`),i.itemType==="exhibition"?{...i,badgeLabel:""}:i));this.allFetchedItems=r,console.log("API   (): ",this.allFetchedItems.length,"")}else console.error("API   .",t.data),this.allFetchedItems=[]}catch(t){console.error("API    ",t.response?t.response.data:t.message),ht.emit("show-global-alert",{message:"    .",type:"error"}),this.allFetchedItems=[]}finally{this.isSearching=!1}}},created(){this.$route.query.tab===""?this.selectedTab="":this.selectedTab="",this.performSearch()}},qhe={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},Xhe={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},Yhe={class:"header-left",style:{flex:"1"}},Khe={class:"header-right d-flex justify-content-end",style:{flex:"1"}},Zhe={class:"segmented-control-wrapper flex-shrink-0"},Jhe={class:"segmented-control"},Qhe={class:"user-like-course"},efe={key:0,class:"text-center p-5 text-muted w-100 status-message"},tfe={key:1,class:"text-center p-5 text-muted w-100 status-message"},nfe={class:"text-sm mt-2",style:{"font-size":"0.9rem",color:"#888"}};function rfe(n,t,r,i,s,o){const a=Rt("PlaceCard2"),l=Rt("FilterModal");return ie(),le("div",qhe,[b("div",Xhe,[b("div",Yhe,[b("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...u)=>o.goBack&&o.goBack(...u))})]),t[5]||(t[5]=b("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center","font-size":"16px"}},"   ",-1)),b("div",Khe,[b("i",{class:"bi bi-sliders filter-icon",style:{cursor:"pointer"},onClick:t[1]||(t[1]=hr(u=>s.isModalOpen=!0,["prevent"]))})])]),b("div",Zhe,[b("div",Jhe,[b("button",{type:"button",class:st(["spec-button",{active:s.selectedTab===""}]),onClick:t[2]||(t[2]=u=>o.changeTab(""))},"",2),b("button",{type:"button",class:st(["spec-button",{active:s.selectedTab===""}]),onClick:t[3]||(t[3]=u=>o.changeTab(""))}," ",2)])]),b("div",Qhe,[s.isSearching?(ie(),le("div",efe,[...t[6]||(t[6]=[b("div",{class:"spinner-border text-primary",role:"status"},[b("span",{class:"visually-hidden"},"Loading...")],-1),b("p",{class:"mt-2 text-muted"}," ...",-1)])])):o.filteredItems.length===0?(ie(),le("div",tfe,[b("div",null," '"+ke(s.selectedTab)+"'    . ",1),b("div",nfe,"  : "+ke(n.selectedSubject)+" / : "+ke(n.selectedGrade.replace(" ","")),1)])):(ie(!0),le(it,{key:2},At(o.filteredItems,(u,h)=>(ie(),Zt(a,{key:u.id||h,item:u,onAdd:c=>o.goToDetail(u),onItemClick:c=>o.handleItemClick(u)},null,8,["item","onAdd","onItemClick"]))),128))]),s.isModalOpen?(ie(),Zt(l,{key:0,showLocationOptions:!1,initialSubject:n.selectedSubject,initialGrade:n.selectedGrade,onClose:t[4]||(t[4]=u=>s.isModalOpen=!1),onComplete:o.handleFilterComplete},null,8,["initialSubject","initialGrade","onComplete"])):et("",!0)])}const ife=yt(Whe,[["render",rfe],["__scopeId","data-v-925c4f32"]]),sfe={name:"PhotosHeader",methods:{goBack(){this.$router.back()}}},ofe={class:"header"};function afe(n,t,r,i,s,o){return ie(),le("header",ofe,[b("button",{class:"back-btn",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[1]||(t[1]=[b("i",{class:"bi bi-arrow-left"},null,-1)])]),t[2]||(t[2]=b("h1",{class:"page-title"}," ",-1)),t[3]||(t[3]=b("div",{class:"header-placeholder"},null,-1))])}const lfe=yt(sfe,[["render",afe],["__scopeId","data-v-19819e51"]]),ufe="https://science-book-backend-392637347057.asia-northeast3.run.app",cfe={name:"ReviewPhotoGridView",components:{PhotoReviewHeader:lfe,PhotoModal:RF},props:{targetType:{type:String,required:!0},targetId:{type:[String,Number],required:!0}},data(){return{photos:[],isLoading:!0,photoModal:{visible:!1,images:[],startIndex:0}}},created(){this.targetId&&this.targetType?this.fetchReviewPhotos():(console.error("targetId  targetType props  ."),ht.emit("show-global-alert",{message:" .",type:"error"}),this.isLoading=!1)},methods:{async fetchReviewPhotos(){this.isLoading=!0;const n=`${ufe}/api/reviews/target/${this.targetType}/${this.targetId}/photos`;try{const t=await Mn.get(n);this.photos=t.data,console.log(` [ReviewPhotoGridView] ${this.targetType}/${this.targetId}  ${t.data.length}  .`)}catch(t){console.error("     :",t),ht.emit("show-global-alert",{message:"  .",type:"error"}),this.photos=[]}finally{this.isLoading=!1}},openModal(n){this.photoModal.images=this.photos,this.photoModal.startIndex=n,this.photoModal.visible=!0}}},hfe={class:"photo-grid-page"},ffe={class:"scroll-content"},dfe={key:0,class:"loading-container"},pfe={key:1,class:"photo-grid-container"},mfe=["onClick"],gfe=["src"];function vfe(n,t,r,i,s,o){const a=Rt("PhotoReviewHeader"),l=Rt("PhotoModal");return ie(),le("div",hfe,[lt(a),b("div",ffe,[s.isLoading?(ie(),le("div",dfe,[...t[1]||(t[1]=[b("p",null,"  ...",-1)])])):s.photos.length>0?(ie(),le("div",pfe,[(ie(!0),le(it,null,At(s.photos,(u,h)=>(ie(),le("div",{key:h,class:"photo-item",onClick:c=>o.openModal(h)},[b("img",{src:u,alt:" "},null,8,gfe)],8,mfe))),128))])):et("",!0)]),lt(l,{show:s.photoModal.visible,images:s.photoModal.images,startIndex:s.photoModal.startIndex,onClose:t[0]||(t[0]=u=>s.photoModal.visible=!1)},null,8,["show","images","startIndex"])])}const yfe=yt(cfe,[["render",vfe],["__scopeId","data-v-dd62abcc"]]),bfe="https://science-book-backend-392637347057.asia-northeast3.run.app",xfe=`${bfe}/api/user`,_fe={name:"LoginForm",data(){return{id:"",password:"",isPasswordVisible:!1,errorMessage:""}},computed:{isFormValid(){return this.id.length>0&&this.password.length>0}},methods:{togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible},async handleLogin(){if(!this.id||!this.password){this.errorMessage="   .";return}this.errorMessage="";const n=bi(),t={loginId:this.id,password:this.password};console.log("  :",t);try{const r=await Mn.post(`${xfe}/login`,t);r.status===200&&(n.login(r.data),console.log(" . Pinia authStore :",n.$state),this.$router.replace("/home"))}catch(r){console.error("  :",r),r.response&&r.response.status===401?this.errorMessage=r.response.data||"   .":this.errorMessage="    ."}}}},wfe={class:"login-container"},Efe={class:"login-form"},Sfe={class:"form-group"},Cfe={class:"form-group"},Afe={class:"input-with-icon"},Tfe=["type"],Ife={key:0,class:"bi bi-eye"},Dfe={key:1,class:"bi bi-eye-slash"},Nfe={key:0,class:"error-message"},kfe={class:"signup-link-wrapper"};function Ffe(n,t,r,i,s,o){const a=Rt("router-link");return ie(),le("div",wfe,[b("div",Efe,[t[9]||(t[9]=b("header",{class:"header"},[b("h2",null,"")],-1)),b("form",{onSubmit:t[3]||(t[3]=hr((...l)=>o.handleLogin&&o.handleLogin(...l),["prevent"])),novalidate:""},[b("div",Sfe,[t[4]||(t[4]=b("label",{for:"id"},"",-1)),Bt(b("input",{type:"text",id:"id","onUpdate:modelValue":t[0]||(t[0]=l=>s.id=l),placeholder:" ",required:"",class:"text-input"},null,512),[[bn,s.id]])]),b("div",Cfe,[t[5]||(t[5]=b("label",{for:"password"},"",-1)),b("div",Afe,[Bt(b("input",{type:s.isPasswordVisible?"text":"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=l=>s.password=l),placeholder:" ",required:"",class:"text-input"},null,8,Tfe),[[Lm,s.password]]),b("span",{onClick:t[2]||(t[2]=(...l)=>o.togglePasswordVisibility&&o.togglePasswordVisibility(...l)),class:"password-toggle-icon"},[s.isPasswordVisible?(ie(),le("i",Ife)):(ie(),le("i",Dfe))])])]),s.errorMessage?(ie(),le("div",Nfe,ke(s.errorMessage),1)):et("",!0),t[6]||(t[6]=b("button",{type:"submit",class:"submit-button"},"",-1))],32),b("p",kfe,[t[8]||(t[8]=Ct("   ? ",-1)),lt(a,{to:"/signup"},{default:Sr(()=>[...t[7]||(t[7]=[Ct("",-1)])]),_:1})])])])}const Mfe=yt(_fe,[["render",Ffe],["__scopeId","data-v-07d16f2c"]]),Ofe="https://science-book-backend-392637347057.asia-northeast3.run.app",$v=`${Ofe}/api/user`,Pfe={name:"SignupForm",debounceTimer:null,data(){return{id:"",password:"",username:"",email:"",phone:"",isIdChecked:!1,isIdDuplicate:!0,idCheckLoading:!1,passwordVisible:{password:!1},isPasswordFocused:!1,passwordCriteria:{length:!1,number:!1,specialChar:!1},isEmailDuplicate:!0,isEmailChecking:!1,isEmailCheckedOnce:!1,showSuccessModal:!1}},computed:{isEmailValid(){return/\S+@\S+\.\S+/.test(this.email)},isFormValid(){return this.id&&!this.isIdDuplicate&&this.isIdChecked&&this.email&&this.isEmailValid&&!this.isEmailDuplicate&&this.isEmailCheckedOnce&&this.username&&this.phone&&this.passwordCriteria.length&&this.passwordCriteria.number&&this.passwordCriteria.specialChar}},methods:{togglePasswordVisibility(n){this.passwordVisible[n]=!this.passwordVisible[n],this.$nextTick(()=>{const t=document.getElementById(n);t&&(t.type=this.passwordVisible[n]?"text":"password")})},handlePasswordFocus(){this.isPasswordFocused=!0},handlePasswordBlur(){setTimeout(()=>{this.isPasswordFocused=!1},200)},checkPasswordValidity(){this.passwordCriteria.length=this.password.length>=8&&this.password.length<=16,this.passwordCriteria.number=/[0-9]/.test(this.password),this.passwordCriteria.specialChar=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(this.password)},async checkIdDuplicate(){if(!this.id||this.id.length<4){ht.emit("show-global-alert",{message:" 4   .",type:"error"}),this.isIdChecked=!1,this.idCheckLoading=!1,this.isIdDuplicate=!0;return}this.idCheckLoading=!0;try{const t=(await Mn.get(`${$v}/check-id/${this.id}`)).data;this.isIdChecked=!0,this.isIdDuplicate=t,console.log(t?" ":"  ")}catch(n){console.error("   :",n),ht.emit("show-global-alert",{message:"     .",type:"error"}),this.isIdDuplicate=!0}finally{this.idCheckLoading=!1}},resetIdCheckStatus(){this.isIdChecked=!1,this.isIdDuplicate=!0},checkEmailDuplicateWithDebounce(){const n=this.email.trim();if(this.isEmailCheckedOnce=!0,this.isEmailDuplicate=!0,n.length===0||!this.isEmailValid){this.$options.debounceTimer&&clearTimeout(this.$options.debounceTimer),this.isEmailChecking=!1;return}this.$options.debounceTimer&&clearTimeout(this.$options.debounceTimer),this.isEmailChecking=!0,this.$options.debounceTimer=setTimeout(async()=>{try{const r=(await Mn.get(`${$v}/check-email/${n}`)).data;this.isEmailDuplicate=r}catch(t){console.error("   :",t),this.isEmailDuplicate=!0}finally{this.isEmailChecking=!1}},500)},formatPhoneNumber(){let t=this.phone.replace(/[^0-9]/g,"");t.length>11&&(t=t.substring(0,11));let r="";t.length<4?r=t:t.length<8?r=t.substring(0,3)+"-"+t.substring(3):r=t.substring(0,3)+"-"+t.substring(3,7)+"-"+t.substring(7,11),this.phone=r},async handleSubmit(){if(!this.isFormValid){ht.emit("show-global-alert",{message:"      ,      .",type:"error"});return}const n={loginId:this.id,password:this.password,name:this.username,email:this.email,phoneNumber:this.phone};console.log(" :",n);try{const t=await Mn.post(`${$v}/signup`,n);t.status===201?(console.log(" :",t.data),this.showSuccessModal=!0):ht.emit("show-global-alert",{message:" . ( : "+t.status+")",type:"error"})}catch(t){console.error("  :",t),t.response&&t.response.data?ht.emit("show-global-alert",{message:"    : "+t.response.data,type:"error"}):ht.emit("show-global-alert",{message:"       .",type:"error"})}},navigateToLogin(){this.showSuccessModal=!1,this.$router.replace({name:"login"})}}},Lfe={class:"signup-container"},Rfe={class:"form-group"},Bfe={class:"input-with-button"},Ufe=["disabled"],Vfe={key:0},$fe={key:1},jfe={class:"form-group"},zfe={class:"input-with-icon"},Gfe=["type"],Hfe={key:0,class:"bi bi-eye"},Wfe={key:1,class:"bi bi-eye-slash"},qfe={key:0,class:"password-validation-list"},Xfe={class:"form-group"},Yfe={class:"form-group"},Kfe={key:0,class:"validation-message invalid"},Zfe={key:0},Jfe={key:1},Qfe={key:2},ede={class:"form-group"},tde=["disabled"],nde={class:"login-link-wrapper"},rde={key:0,class:"modal-overlay"},ide={class:"modal-content"};function sde(n,t,r,i,s,o){const a=Rt("router-link");return ie(),le(it,null,[b("div",Lfe,[t[26]||(t[26]=b("header",{class:"header"},[b("h2",null,"")],-1)),b("form",{onSubmit:t[13]||(t[13]=hr((...l)=>o.handleSubmit&&o.handleSubmit(...l),["prevent"])),class:"signup-form"},[b("div",Rfe,[t[15]||(t[15]=b("label",{for:"id"}," *",-1)),b("div",Bfe,[Bt(b("input",{type:"text",id:"id","onUpdate:modelValue":t[0]||(t[0]=l=>s.id=l),placeholder:" ",required:"",class:"text-input",onInput:t[1]||(t[1]=(...l)=>o.resetIdCheckStatus&&o.resetIdCheckStatus(...l))},null,544),[[bn,s.id]]),b("button",{type:"button",class:"check-button",onClick:t[2]||(t[2]=(...l)=>o.checkIdDuplicate&&o.checkIdDuplicate(...l)),disabled:!s.id},"",8,Ufe)]),s.isIdChecked&&!s.idCheckLoading?(ie(),le("div",{key:0,class:st({"validation-message":!0,valid:!s.isIdDuplicate,invalid:s.isIdDuplicate})},[s.isIdDuplicate?(ie(),le("span",Vfe,"   .")):(ie(),le("span",$fe,"  !"))],2)):et("",!0)]),b("div",jfe,[t[19]||(t[19]=b("label",{for:"password"}," *",-1)),b("div",zfe,[Bt(b("input",{type:s.passwordVisible.password?"text":"password",id:"password","onUpdate:modelValue":t[3]||(t[3]=l=>s.password=l),onInput:t[4]||(t[4]=(...l)=>o.checkPasswordValidity&&o.checkPasswordValidity(...l)),onFocus:t[5]||(t[5]=(...l)=>o.handlePasswordFocus&&o.handlePasswordFocus(...l)),onBlur:t[6]||(t[6]=(...l)=>o.handlePasswordBlur&&o.handlePasswordBlur(...l)),placeholder:", ,   8~16",required:"",class:"text-input"},null,40,Gfe),[[Lm,s.password]]),b("span",{class:"password-toggle-icon",onClick:t[7]||(t[7]=l=>o.togglePasswordVisibility("password"))},[s.passwordVisible.password?(ie(),le("i",Hfe)):(ie(),le("i",Wfe))])]),s.isPasswordFocused?(ie(),le("div",qfe,[b("div",{class:st(["validation-item",{valid:s.passwordCriteria.length}])},[b("i",{class:st(["validation-icon",s.passwordCriteria.length?"bi-check-circle-fill":"bi-x-circle-fill"])},null,2),t[16]||(t[16]=Ct(" 8 ~ 16  ",-1))],2),b("div",{class:st(["validation-item",{valid:s.passwordCriteria.number}])},[b("i",{class:st(["validation-icon",s.passwordCriteria.number?"bi-check-circle-fill":"bi-x-circle-fill"])},null,2),t[17]||(t[17]=Ct("  1  ",-1))],2),b("div",{class:st(["validation-item",{valid:s.passwordCriteria.specialChar}])},[b("i",{class:st(["validation-icon",s.passwordCriteria.specialChar?"bi-check-circle-fill":"bi-x-circle-fill"])},null,2),t[18]||(t[18]=Ct("  1  ",-1))],2)])):et("",!0)]),b("div",Xfe,[t[20]||(t[20]=b("label",{for:"username"},"  *",-1)),Bt(b("input",{type:"text",id:"username","onUpdate:modelValue":t[8]||(t[8]=l=>s.username=l),placeholder:"  ",required:"",class:"text-input"},null,512),[[bn,s.username]])]),b("div",Yfe,[t[21]||(t[21]=b("label",{for:"email"}," *",-1)),Bt(b("input",{type:"email",id:"email","onUpdate:modelValue":t[9]||(t[9]=l=>s.email=l),placeholder:" ",required:"",class:"text-input",onInput:t[10]||(t[10]=(...l)=>o.checkEmailDuplicateWithDebounce&&o.checkEmailDuplicateWithDebounce(...l))},null,544),[[bn,s.email]]),s.email.length>0&&!o.isEmailValid?(ie(),le("div",Kfe,"    . ")):et("",!0),o.isEmailValid&&s.isEmailCheckedOnce?(ie(),le("div",{key:1,class:st({"validation-message":!0,"checking-status":s.isEmailChecking,valid:!s.isEmailDuplicate&&!s.isEmailChecking,invalid:s.isEmailDuplicate&&!s.isEmailChecking})},[s.isEmailChecking?(ie(),le("span",Zfe,"  ...")):s.isEmailDuplicate?(ie(),le("span",Jfe,"   .")):(ie(),le("span",Qfe,"  !"))],2)):et("",!0)]),b("div",ede,[t[22]||(t[22]=b("label",{for:"phone"},"  *",-1)),Bt(b("input",{type:"tel",id:"phone","onUpdate:modelValue":t[11]||(t[11]=l=>s.phone=l),placeholder:"  ",required:"",class:"text-input",onInput:t[12]||(t[12]=(...l)=>o.formatPhoneNumber&&o.formatPhoneNumber(...l))},null,544),[[bn,s.phone]])]),t[25]||(t[25]=b("p",{class:"terms-text"},"    ,       . ",-1)),b("button",{type:"submit",class:"submit-button",disabled:!o.isFormValid},"",8,tde),b("p",nde,[t[24]||(t[24]=Ct("   ? ",-1)),lt(a,{to:{name:"login"},replace:""},{default:Sr(()=>[...t[23]||(t[23]=[Ct("",-1)])]),_:1})])],32)]),s.showSuccessModal?(ie(),le("div",rde,[b("div",ide,[t[27]||(t[27]=b("h3",null," ",-1)),b("p",null,ke(s.username)+", !",1),t[28]||(t[28]=b("p",null,"    .",-1)),b("button",{onClick:t[14]||(t[14]=(...l)=>o.navigateToLogin&&o.navigateToLogin(...l)),class:"modal-button"},"  ")])])):et("",!0)],64)}const ode=yt(Pfe,[["render",sde],["__scopeId","data-v-40b62fd7"]]),ade={name:"LikePlace",components:{PlaceCard2:BF},setup(){const n=bi(),{isLoggedIn:t,currentUserId:r}=Ts(n);return{isLoggedIn:t,currentUserId:r}},data(){return{allWishlistItems:[],displayedItems:[],isSearching:!1}},computed:{},methods:{async handleRemoveFavorite(n){console.log(`[ ] ${n.title} (ID: ${n.id}, Type: ${n.itemType})`),ht.emit("show-global-confirm",{message:"   ?",onConfirm:async()=>{console.log("[ ]  . API ");try{await cn.delete("/api/wishlist",{data:{targetId:n.id,targetType:n.itemType}}),this.displayedItems=this.displayedItems.filter(t=>t.id!==n.id),this.allWishlistItems=this.allWishlistItems.filter(t=>t.id!==n.id),ht.emit("show-global-alert",{message:"  .",type:"success"})}catch(t){console.error("  :",t),ht.emit("show-global-alert",{message:t.response?.data?.message||" .  .",type:"error"})}}})},goToDetail(n){const t={mainCategoryTags:n.subject,subCategoryTags:n.hashtags,gradeTags:n.grade},r=n.itemType==="exhibition"?"/exhibition":"/place";this.$router.push({path:`${r}/${n.id}`,query:t})},handleItemClick(n){this.goToDetail(n)},goBack(){this.$router.back()},async performSearch(){if(console.log("performSearch  "),!this.isLoggedIn){console.warn("      ."),ht.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.isSearching=!0,this.allWishlistItems=[],this.displayedItems=[];try{console.log(":__: API  : /api/wishlist/my-list");const n=await cn.get("/api/wishlist/my-list");if(console.log(":__: API  :",n),console.log(":__: response.data:",n.data),n.data&&Array.isArray(n.data)){const t=n.data.map(r=>{let i=null;return r.targetType==="exhibition"&&(i=""),{id:r.targetId,title:r.title,imageUrl:r.mainImageUrl,subject:r.mainCategory,grade:r.gradeTag,hashtags:r.subCategories,type:r.type,place:r.place,itemType:r.targetType,badgeLabel:i}});console.log("API   (): ",t.length,""),this.displayedItems=t,console.log(`[ ]  ${this.displayedItems.length}`)}else console.error("API   .",n.data),this.allWishlistItems=[],this.displayedItems=[]}catch(n){console.error("     ",n.response?n.response.data:n.message),ht.emit("show-global-alert",{message:"     .",type:"error"}),this.allWishlistItems=[],this.displayedItems=[]}finally{this.isSearching=!1}}},created(){this.$route.query.tab===""?this.selectedTab="":this.selectedTab="",this.performSearch()}},lde={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},ude={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},cde={class:"header-left",style:{flex:"1"}},hde={class:"user-like-course"},fde={key:0,class:"text-center p-5 text-muted w-100",style:{"margin-top":"20px"}},dde={key:1,class:"text-center p-5 text-muted w-100",sytle:"margin-top: 20px;"};function pde(n,t,r,i,s,o){const a=Rt("PlaceCard2");return ie(),le("div",lde,[b("div",ude,[b("div",cde,[b("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...l)=>o.goBack&&o.goBack(...l))})]),t[1]||(t[1]=b("div",{class:"header-center fw-bold fs-6",style:{flex:"1","text-align":"center"}},"   ",-1)),t[2]||(t[2]=b("div",{class:"header-right",style:{flex:"1","text-align":"right"}},null,-1))]),b("div",hde,[s.isSearching?(ie(),le("div",fde,"  ... ")):s.displayedItems.length===0?(ie(),le("div",dde,[...t[3]||(t[3]=[b("div",null,"  .",-1)])])):(ie(!0),le(it,{key:2},At(s.displayedItems,l=>(ie(),Zt(a,{key:l.id,item:l,iconType:"heart",onAdd:u=>o.goToDetail(l),onToggleFavorite:u=>o.handleRemoveFavorite(l),onItemClick:u=>o.handleItemClick(l)},null,8,["item","onAdd","onToggleFavorite","onItemClick"]))),128))])])}const mde=yt(ade,[["render",pde],["__scopeId","data-v-3ea81970"]]),gde={name:"NoticeView",data(){return{notices:[],loading:!0,error:null,apiBaseUrl:"https://science-book-backend-392637347057.asia-northeast3.run.app/api/admin"}},mounted(){this.fetchNotices()},methods:{async fetchNotices(){this.loading=!0,this.error=null;try{const n=await fetch(`${this.apiBaseUrl}/notices`);n.ok?(this.notices=await n.json(),this.notices.sort((t,r)=>new Date(r.createdAt)-new Date(t.createdAt))):(this.error="   .",console.error("  :",n.status))}catch(n){this.error="  .",console.error("  :",n)}finally{this.loading=!1}},goBack(){this.$router.back()},goToNoticeDetail(n){this.$router.push({name:"NoticeDetail",params:{id:n}})},formatDate(n){const t=new Date(n),r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}.${i}.${s}`}}},vde={id:"notice-page"},yde={class:"header-section"},bde={class:"content-wrapper"},xde={key:0,class:"loading-state"},_de={key:1,class:"notice-list"},wde=["onClick"],Ede={class:"notice-item-content"},Sde={class:"notice-item-title"},Cde={class:"notice-item-meta"},Ade={class:"meta-date"},Tde={class:"meta-views"},Ide={key:0,class:"empty-state"},Dde={key:2,class:"alert alert-danger error-alert",role:"alert"};function Nde(n,t,r,i,s,o){return ie(),le("div",vde,[b("div",yde,[b("button",{class:"btn-back",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[1]||(t[1]=[b("i",{class:"bi bi-arrow-left"},null,-1)])]),t[2]||(t[2]=b("h1",{class:"header-title"},"",-1)),t[3]||(t[3]=b("div",{class:"header-spacer"},null,-1))]),b("div",bde,[s.loading?(ie(),le("div",xde,[...t[4]||(t[4]=[b("div",{class:"spinner-border text-primary",role:"status"},[b("span",{class:"visually-hidden"}," ...")],-1)])])):(ie(),le("div",_de,[(ie(!0),le(it,null,At(s.notices,a=>(ie(),le("div",{key:a.id,class:"notice-item",onClick:l=>o.goToNoticeDetail(a.id)},[b("div",Ede,[b("h2",Sde,ke(a.title),1),b("div",Cde,[b("span",Ade,ke(o.formatDate(a.createdAt)),1),t[5]||(t[5]=b("span",{class:"meta-dot"},"",-1)),b("span",Tde," "+ke(a.views),1)])]),t[6]||(t[6]=b("i",{class:"bi bi-chevron-right notice-chevron"},null,-1))],8,wde))),128)),s.notices.length===0?(ie(),le("div",Ide,[...t[7]||(t[7]=[b("div",{class:"empty-icon-circle"},[b("i",{class:"bi bi-bell-slash"})],-1),b("p",null,"  .",-1)])])):et("",!0)])),s.error?(ie(),le("div",Dde,ke(s.error),1)):et("",!0)])])}const kde=yt(gde,[["render",Nde],["__scopeId","data-v-d8a37aae"]]),Fde={name:"NoticeDetailView",data(){return{notice:null,loading:!0,error:null,apiBaseUrl:"https://science-book-backend-392637347057.asia-northeast3.run.app/api/admin"}},created(){this.loadNotice()},methods:{async loadNotice(){const n=parseInt(this.$route.params.id);this.loading=!0,this.error=null;try{const t=await fetch(`${this.apiBaseUrl}/notices/${n}`);t.ok?this.notice=await t.json():t.status===404?this.error="   .":(this.error="   .",console.error("  :",t.status))}catch(t){this.error="  .",console.error("  :",t)}finally{this.loading=!1}},goBack(){this.$router.back()},formatDate(n){const t=new Date(n),r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}.${i}.${s}`}},watch:{"$route.params.id"(){this.loadNotice()}}},Mde={id:"notice-detail-page"},Ode={class:"header-section"},Pde={class:"content-wrapper"},Lde={key:0,class:"text-center py-5"},Rde={key:1,class:"notice-detail-container"},Bde={class:"notice-header-section"},Ude={class:"notice-detail-title"},Vde={class:"notice-meta-info"},$de={class:"meta-item"},jde={class:"meta-item"},zde={class:"notice-content-section"},Gde={class:"notice-content"},Hde={key:2,class:"empty-state"},Wde={key:3,class:"alert alert-danger mt-4",role:"alert"};function qde(n,t,r,i,s,o){return ie(),le("div",Mde,[b("div",Ode,[b("button",{class:"btn-back",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[1]||(t[1]=[b("i",{class:"bi bi-arrow-left"},null,-1)])]),t[2]||(t[2]=b("h1",{class:"header-title"},"",-1)),t[3]||(t[3]=b("div",{class:"header-spacer"},null,-1))]),b("div",Pde,[s.loading?(ie(),le("div",Lde,[...t[4]||(t[4]=[b("div",{class:"spinner-border text-primary",role:"status"},[b("span",{class:"visually-hidden"}," ...")],-1)])])):s.notice?(ie(),le("div",Rde,[b("div",Bde,[b("h1",Ude,ke(s.notice.title),1),b("div",Vde,[b("div",$de,[t[5]||(t[5]=b("i",{class:"bi bi-calendar3"},null,-1)),b("span",null,ke(o.formatDate(s.notice.createdAt)),1)]),t[7]||(t[7]=b("div",{class:"meta-divider"},null,-1)),b("div",jde,[t[6]||(t[6]=b("i",{class:"bi bi-eye"},null,-1)),b("span",null," "+ke(s.notice.views),1)])])]),b("div",zde,[b("div",Gde,ke(s.notice.content),1)])])):(ie(),le("div",Hde,[...t[8]||(t[8]=[b("i",{class:"bi bi-exclamation-circle"},null,-1),b("p",null,"   .",-1)])])),s.error?(ie(),le("div",Wde,ke(s.error),1)):et("",!0)])])}const Xde=yt(Fde,[["render",qde],["__scopeId","data-v-6aa313a2"]]),Yde="/stamp.png",Kde={name:"StampView",setup(){const n=bi(),{currentUserId:t}=Ts(n),r=bc(),i=Ue(""),s=Ue(!0),o=Ue([]),a=39,l=dt(()=>{const m=i.value===""?"exhibition":"science_place";return o.value.filter(v=>v.targetType===m)}),u=dt(()=>a),h=dt(()=>o.value.length),c=dt(()=>u.value===0?0:h.value/u.value*100),f=()=>{r.back()},p=m=>{i.value=m},d=async()=>{s.value=!0;try{const m=await cn.get(`/api/stamps/user/${t.value}`);o.value=m.data.map(v=>({...v,collected:!0})),console.log("[StampView] API  (  ):",o.value)}catch(m){console.error("[StampView]     :",m),m.response&&m.response.status===401&&alert("   . (401)")}finally{s.value=!1}},g=()=>{console.log("   !"),r.push("/list")};return On(()=>{t.value?d():(alert("  ."),r.push("/login"))}),{selectedTab:i,isLoading:s,filteredStamps:l,collectedStampsCount:h,progressPercent:c,totalStampsCount:u,Math,goBack:f,selectTab:p,goToList:g}}},Zde={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},Jde={class:"stamp-header"},Qde={class:"content-container"},epe={class:"progress-card"},tpe={class:"progress-main"},npe={class:"progress-count"},rpe={class:"count-number"},ipe={class:"count-total"},spe={class:"count-caption"},ope=["aria-valuenow"],ape={class:"segmented-control-wrapper"},lpe={class:"segmented-control"},upe={class:"stamp-grid-wrapper"},cpe={key:0,class:"loading-spinner"},hpe={key:1,class:"stamp-grid"},fpe=["title"],dpe={key:2,class:"empty-grid-message"};function ppe(n,t,r,i,s,o){return ie(),le("div",Zde,[b("div",Jde,[b("button",{class:"header-back-btn",type:"button",onClick:t[0]||(t[0]=(...a)=>i.goBack&&i.goBack(...a))},[...t[4]||(t[4]=[b("i",{class:"bi bi-arrow-left"},null,-1)])]),t[5]||(t[5]=b("div",{class:"header-title"}," ",-1)),t[6]||(t[6]=b("div",{class:"header-right-space"},null,-1))]),b("div",Qde,[b("div",epe,[t[7]||(t[7]=b("div",{class:"progress-chip-row"},[b("span",{class:"progress-chip"},[b("i",{class:"bi bi-patch-check-fill"}),b("span",null,"  ")])],-1)),b("div",tpe,[b("div",npe,[b("span",rpe,ke(i.collectedStampsCount),1),b("span",ipe,"/ "+ke(i.totalStampsCount),1)]),b("div",spe,"   "+ke(Math.round(i.progressPercent))+"%  ",1)]),b("div",{class:"progress-track",role:"progressbar","aria-valuenow":i.progressPercent,"aria-valuemin":"0","aria-valuemax":"100"},[b("div",{class:"progress-fill",style:Gn({width:i.progressPercent+"%"})},null,4)],8,ope)]),b("div",ape,[b("div",lpe,[b("button",{type:"button",class:st(["spec-button",{active:i.selectedTab===""}]),onClick:t[1]||(t[1]=a=>i.selectTab(""))},[...t[8]||(t[8]=[b("i",{class:"bi bi-easel2-fill"},null,-1),b("span",null,"",-1)])],2),b("button",{type:"button",class:st(["spec-button",{active:i.selectedTab===""}]),onClick:t[2]||(t[2]=a=>i.selectTab(""))},[...t[9]||(t[9]=[b("i",{class:"bi bi-binoculars-fill"},null,-1),b("span",null," ",-1)])],2)])]),b("div",upe,[i.isLoading?(ie(),le("div",cpe,[...t[10]||(t[10]=[b("div",{class:"spinner-border text-primary",role:"status"},[b("span",{class:"visually-hidden"},"Loading...")],-1),b("p",{class:"loading-text"},"   ...",-1)])])):i.filteredStamps.length>0?(ie(),le("div",hpe,[(ie(!0),le(it,null,At(i.filteredStamps,a=>(ie(),le("div",{key:a.id,class:st(["stamp-item",{collected:a.collected,uncollected:!a.collected}])},[b("div",{class:"stamp-name",title:a.targetName},ke(a.targetName),9,fpe),t[11]||(t[11]=b("div",{class:"stamp-circle"},[b("img",{src:Yde,alt:"",class:"stamp-image"})],-1))],2))),128))])):(ie(),le("div",dpe,[t[12]||(t[12]=b("i",{class:"bi bi-emoji-frown empty-icon"},null,-1)),t[13]||(t[13]=b("p",{class:"empty-text"},[Ct("   ! "),b("br"),Ct("   ? ")],-1)),b("button",{class:"btn btn-primary mt-5",onClick:t[3]||(t[3]=a=>i.goToList())},"  ")]))])])])}const mpe=yt(Kde,[["render",ppe],["__scopeId","data-v-2aab2b02"]]);window.libpannellum=(function(n,t,r){function i(c){function f(W,z){return W.level==1&&z.level!=1?-1:z.level==1&&W.level!=1?1:z.timestamp-W.timestamp}function p(W,z){return W.level!=z.level?W.level-z.level:W.diff-z.diff}function d(W,z,de,K,ue,G){this.vertices=W,this.side=z,this.level=de,this.x=K,this.y=ue,this.path=G.replace("%s",z).replace("%l",de).replace("%x",K).replace("%y",ue)}function g(W,z,de,K,ue){var G,Ee=z.vertices;G=_(W,Ee.slice(0,3));var se=_(W,Ee.slice(3,6)),ye=_(W,Ee.slice(6,9)),Ee=_(W,Ee.slice(9,12)),H=G[0]+se[0]+ye[0]+Ee[0];if(H==-4||H==4?G=!1:(H=G[1]+se[1]+ye[1]+Ee[1],G=H==-4||H==4?!1:G[2]+se[2]+ye[2]+Ee[2]!=4),G){for(G=z.vertices,se=G[0]+G[3]+G[6]+G[9],ye=G[1]+G[4]+G[7]+G[10],Ee=G[2]+G[5]+G[8]+G[11],H=Math.sqrt(se*se+ye*ye+Ee*Ee),Ee=Math.asin(Ee/H),se=Math.atan2(ye,se)-K,se+=se>Math.PI?-2*Math.PI:se<-Math.PI?2*Math.PI:0,se=Math.abs(se),z.diff=Math.acos(Math.sin(de)*Math.sin(Ee)+Math.cos(de)*Math.cos(Ee)*Math.cos(se)),se=!1,ye=0;ye<E.nodeCache.length;ye++)if(E.nodeCache[ye].path==z.path){se=!0,E.nodeCache[ye].timestamp=E.nodeCacheTimestamp++,E.nodeCache[ye].diff=z.diff,E.currentNodes.push(E.nodeCache[ye]);break}if(se||(z.timestamp=E.nodeCacheTimestamp++,E.currentNodes.push(z),E.nodeCache.push(z)),z.level<E.level){var Ee=M.cubeResolution*Math.pow(2,z.level-M.maxLevel),se=Math.ceil(Ee*M.invTileResolution)-1,ye=Ee%M.tileResolution*2,Q=2*Ee%M.tileResolution;Q===0&&(Q=M.tileResolution),ye===0&&(ye=2*M.tileResolution),H=.5,(z.x==se||z.y==se)&&(H=1-M.tileResolution/(M.tileResolution+Q));var re=1-H,Ee=[],Ce=H,_e=H,Se=H,Te=re,De=re,be=re;for(Q<M.tileResolution&&(z.x==se&&z.y!=se?(De=_e=.5,(z.side=="d"||z.side=="u")&&(be=Se=.5)):z.x!=se&&z.y==se&&(Te=Ce=.5,z.side=="l"||z.side=="r")&&(be=Se=.5)),ye<=M.tileResolution&&(z.x==se&&(Ce=0,Te=1,z.side=="l"||z.side=="r")&&(Se=0,be=1),z.y==se&&(_e=0,De=1,z.side=="d"||z.side=="u")&&(Se=0,be=1)),Q=[G[0],G[1],G[2],G[0]*Ce+G[3]*Te,G[1]*H+G[4]*re,G[2]*Se+G[5]*be,G[0]*Ce+G[6]*Te,G[1]*_e+G[7]*De,G[2]*Se+G[8]*be,G[0]*H+G[9]*re,G[1]*_e+G[10]*De,G[2]*Se+G[11]*be],Q=new d(Q,z.side,z.level+1,2*z.x,2*z.y,M.fullpath),Ee.push(Q),z.x==se&&ye<=M.tileResolution||(Q=[G[0]*Ce+G[3]*Te,G[1]*H+G[4]*re,G[2]*Se+G[5]*be,G[3],G[4],G[5],G[3]*H+G[6]*re,G[4]*_e+G[7]*De,G[5]*Se+G[8]*be,G[0]*Ce+G[6]*Te,G[1]*_e+G[7]*De,G[2]*Se+G[8]*be],Q=new d(Q,z.side,z.level+1,2*z.x+1,2*z.y,M.fullpath),Ee.push(Q)),z.x==se&&ye<=M.tileResolution||z.y==se&&ye<=M.tileResolution||(Q=[G[0]*Ce+G[6]*Te,G[1]*_e+G[7]*De,G[2]*Se+G[8]*be,G[3]*H+G[6]*re,G[4]*_e+G[7]*De,G[5]*Se+G[8]*be,G[6],G[7],G[8],G[9]*Ce+G[6]*Te,G[10]*H+G[7]*re,G[11]*Se+G[8]*be],Q=new d(Q,z.side,z.level+1,2*z.x+1,2*z.y+1,M.fullpath),Ee.push(Q)),z.y==se&&ye<=M.tileResolution||(Q=[G[0]*H+G[9]*re,G[1]*_e+G[10]*De,G[2]*Se+G[11]*be,G[0]*Ce+G[6]*Te,G[1]*_e+G[7]*De,G[2]*Se+G[8]*be,G[9]*Ce+G[6]*Te,G[10]*H+G[7]*re,G[11]*Se+G[8]*be,G[9],G[10],G[11]],Q=new d(Q,z.side,z.level+1,2*z.x,2*z.y+1,M.fullpath),Ee.push(Q)),z=0;z<Ee.length;z++)g(W,Ee[z],de,K)}}}function m(){return[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1]}function v(W,z,de){var K=Math.sin(z);if(z=Math.cos(z),de=="x")return[W[0],z*W[1]+K*W[2],z*W[2]-K*W[1],W[3],z*W[4]+K*W[5],z*W[5]-K*W[4],W[6],z*W[7]+K*W[8],z*W[8]-K*W[7]];if(de=="y")return[z*W[0]-K*W[2],W[1],z*W[2]+K*W[0],z*W[3]-K*W[5],W[4],z*W[5]+K*W[3],z*W[6]-K*W[8],W[7],z*W[8]+K*W[6]];if(de=="z")return[z*W[0]+K*W[1],z*W[1]-K*W[0],W[2],z*W[3]+K*W[4],z*W[4]-K*W[3],W[5],z*W[6]+K*W[7],z*W[7]-K*W[6],W[8]]}function w(W){return[W[0],W[4],W[8],W[12],W[1],W[5],W[9],W[13],W[2],W[6],W[10],W[14],W[3],W[7],W[11],W[15]]}function y(W){ge(W,W.path+"."+M.extension,function(z,de){W.texture=z,W.textureLoaded=de?2:1},V.crossOrigin)}function _(W,z){var ue=[W[0]*z[0]+W[1]*z[1]+W[2]*z[2],W[4]*z[0]+W[5]*z[1]+W[6]*z[2],W[11]+W[8]*z[0]+W[9]*z[1]+W[10]*z[2],1/(W[12]*z[0]+W[13]*z[1]+W[14]*z[2])],de=ue[0]*ue[3],K=ue[1]*ue[3],ue=ue[2]*ue[3],G=[0,0,0];return-1>de&&(G[0]=-1),1<de&&(G[0]=1),-1>K&&(G[1]=-1),1<K&&(G[1]=1),(-1>ue||1<ue)&&(G[2]=1),G}function x(){console.log("Reducing canvas size due to error 1286!"),C.width=Math.round(C.width/2),C.height=Math.round(C.height/2)}var C=t.createElement("canvas");C.style.width=C.style.height="100%",c.appendChild(C);var E,S,D,A,N,F,T,I,M,L,B,$,q,Z,he,V;this.init=function(W,z,de,K,ue,G,se,ye){function Ee(Te){if(Q){var De=Te*Te*4,be=new Uint8ClampedArray(De),xe=ye.backgroundColor?ye.backgroundColor:[0,0,0];xe[0]*=255,xe[1]*=255,xe[2]*=255;for(var R=0;R<De;R++)be[R++]=xe[0],be[R++]=xe[1],be[R++]=xe[2];for(Te=new ImageData(be,Te,Te),H=0;6>H;H++)M[H].width==0&&(M[H]=Te)}}if(z===r&&(z="equirectangular"),z!="equirectangular"&&z!="cubemap"&&z!="multires")throw console.log("Error: invalid image type specified!"),{type:"config error"};if(L=z,M=W,B=de,V=ye||{},E){if(D&&(S.detachShader(E,D),S.deleteShader(D)),A&&(S.detachShader(E,A),S.deleteShader(A)),S.bindBuffer(S.ARRAY_BUFFER,null),S.bindBuffer(S.ELEMENT_ARRAY_BUFFER,null),E.texture&&S.deleteTexture(E.texture),E.nodeCache)for(W=0;W<E.nodeCache.length;W++)S.deleteTexture(E.nodeCache[W].texture);S.deleteProgram(E),E=r}I=r;var H,Q=!1,re;if(L=="cubemap")for(H=0;6>H;H++)0<M[H].width?(re===r&&(re=M[H].width),re!=M[H].width&&console.log("Cube faces have inconsistent widths: "+re+" vs. "+M[H].width)):Q=!0;if(L=="cubemap"&&(re&re-1)!==0&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(S||(S=C.getContext("experimental-webgl",{alpha:!1,depth:!1})),S&&S.getError()==1286&&x()),!S&&(L=="multires"&&M.hasOwnProperty("fallbackPath")||L=="cubemap")&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||navigator.appVersion.indexOf("MSIE 10")!==-1)){F&&c.removeChild(F),F=t.createElement("div"),F.className="pnlm-world",K=M.basePath?M.basePath+M.fallbackPath:M.fallbackPath;var Ce="frblud".split(""),_e=0;ue=function(){var De=t.createElement("canvas");De.className="pnlm-face pnlm-"+Ce[this.side]+"face",F.appendChild(De);var be=De.getContext("2d");De.style.width=this.width+4+"px",De.style.height=this.height+4+"px",De.width=this.width+4,De.height=this.height+4,be.drawImage(this,2,2);var xe=be.getImageData(0,0,De.width,De.height),R=xe.data,Oe,Fe;for(Oe=2;Oe<De.width-2;Oe++)for(Fe=0;4>Fe;Fe++)R[4*(Oe+De.width)+Fe]=R[4*(Oe+2*De.width)+Fe],R[4*(Oe+De.width*(De.height-2))+Fe]=R[4*(Oe+De.width*(De.height-3))+Fe];for(Oe=2;Oe<De.height-2;Oe++)for(Fe=0;4>Fe;Fe++)R[4*(Oe*De.width+1)+Fe]=R[4*(Oe*De.width+2)+Fe],R[4*((Oe+1)*De.width-2)+Fe]=R[4*((Oe+1)*De.width-3)+Fe];for(Fe=0;4>Fe;Fe++)R[4*(De.width+1)+Fe]=R[4*(2*De.width+2)+Fe],R[4*(2*De.width-2)+Fe]=R[4*(3*De.width-3)+Fe],R[4*(De.width*(De.height-2)+1)+Fe]=R[4*(De.width*(De.height-3)+2)+Fe],R[4*(De.width*(De.height-1)-2)+Fe]=R[4*(De.width*(De.height-2)-3)+Fe];for(Oe=1;Oe<De.width-1;Oe++)for(Fe=0;4>Fe;Fe++)R[4*Oe+Fe]=R[4*(Oe+De.width)+Fe],R[4*(Oe+De.width*(De.height-1))+Fe]=R[4*(Oe+De.width*(De.height-2))+Fe];for(Oe=1;Oe<De.height-1;Oe++)for(Fe=0;4>Fe;Fe++)R[Oe*De.width*4+Fe]=R[4*(Oe*De.width+1)+Fe],R[4*((Oe+1)*De.width-1)+Fe]=R[4*((Oe+1)*De.width-2)+Fe];for(Fe=0;4>Fe;Fe++)R[Fe]=R[4*(De.width+1)+Fe],R[4*(De.width-1)+Fe]=R[4*(2*De.width-2)+Fe],R[De.width*(De.height-1)*4+Fe]=R[4*(De.width*(De.height-2)+1)+Fe],R[4*(De.width*De.height-1)+Fe]=R[4*(De.width*(De.height-1)-2)+Fe];be.putImageData(xe,0,0),Se.call(this)};var Se=function(){0<this.width?(N===r&&(N=this.width),N!=this.width&&console.log("Fallback faces have inconsistent widths: "+N+" vs. "+this.width)):Q=!0,_e++,_e==6&&(N=this.width,c.appendChild(F),se())},Q=!1;for(H=0;6>H;H++)G=new Image,G.crossOrigin=V.crossOrigin?V.crossOrigin:"anonymous",G.side=H,G.onload=ue,G.onerror=Se,G.src=L=="multires"?K.replace("%s",Ce[H])+"."+M.extension:M[H].src;Ee(N)}else{if(!S)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};for(L=="cubemap"&&Ee(re),M.fullpath=M.basePath?M.basePath+M.path:M.path,M.invTileResolution=1/M.tileResolution,W=m(),T=[],H=0;6>H;H++)T[H]=W.slice(12*H,12*H+12),W=m();if(W=0,L=="equirectangular"){if(W=S.getParameter(S.MAX_TEXTURE_SIZE),Math.max(M.width/2,M.height)>W)throw console.log("Error: The image is too big; it's "+M.width+"px wide, but this device's maximum supported size is "+2*W+"px."),{type:"webgl size error",width:M.width,maxWidth:2*W}}else if(L=="cubemap"&&re>S.getParameter(S.MAX_CUBE_MAP_TEXTURE_SIZE))throw console.log("Error: The image is too big; it's "+re+"px wide, but this device's maximum supported size is "+W+"px."),{type:"webgl size error",width:re,maxWidth:W};if(ye===r||ye.horizonPitch===r&&ye.horizonRoll===r||(I=[ye.horizonPitch==r?0:ye.horizonPitch,ye.horizonRoll==r?0:ye.horizonRoll]),re=S.TEXTURE_2D,S.viewport(0,0,S.drawingBufferWidth,S.drawingBufferHeight),S.getShaderPrecisionFormat&&(z=S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.HIGH_FLOAT))&&1>z.precision&&(a=a.replace("highp","mediump")),D=S.createShader(S.VERTEX_SHADER),z=s,L=="multires"&&(z=o),S.shaderSource(D,z),S.compileShader(D),A=S.createShader(S.FRAGMENT_SHADER),z=u,L=="cubemap"?(re=S.TEXTURE_CUBE_MAP,z=l):L=="multires"&&(z=h),S.shaderSource(A,z),S.compileShader(A),E=S.createProgram(),S.attachShader(E,D),S.attachShader(E,A),S.linkProgram(E),S.getShaderParameter(D,S.COMPILE_STATUS)||console.log(S.getShaderInfoLog(D)),S.getShaderParameter(A,S.COMPILE_STATUS)||console.log(S.getShaderInfoLog(A)),S.getProgramParameter(E,S.LINK_STATUS)||console.log(S.getProgramInfoLog(E)),S.useProgram(E),E.drawInProgress=!1,z=ye.backgroundColor?ye.backgroundColor:[0,0,0],S.clearColor(z[0],z[1],z[2],1),S.clear(S.COLOR_BUFFER_BIT),E.texCoordLocation=S.getAttribLocation(E,"a_texCoord"),S.enableVertexAttribArray(E.texCoordLocation),L!="multires"?($||($=S.createBuffer()),S.bindBuffer(S.ARRAY_BUFFER,$),S.bufferData(S.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),S.STATIC_DRAW),S.vertexAttribPointer(E.texCoordLocation,2,S.FLOAT,!1,0,0),E.aspectRatio=S.getUniformLocation(E,"u_aspectRatio"),S.uniform1f(E.aspectRatio,S.drawingBufferWidth/S.drawingBufferHeight),E.psi=S.getUniformLocation(E,"u_psi"),E.theta=S.getUniformLocation(E,"u_theta"),E.f=S.getUniformLocation(E,"u_f"),E.h=S.getUniformLocation(E,"u_h"),E.v=S.getUniformLocation(E,"u_v"),E.vo=S.getUniformLocation(E,"u_vo"),E.rot=S.getUniformLocation(E,"u_rot"),S.uniform1f(E.h,K/(2*Math.PI)),S.uniform1f(E.v,ue/Math.PI),S.uniform1f(E.vo,G/Math.PI*2),L=="equirectangular"&&(E.backgroundColor=S.getUniformLocation(E,"u_backgroundColor"),S.uniform4fv(E.backgroundColor,z.concat([1]))),E.texture=S.createTexture(),S.bindTexture(re,E.texture),L=="cubemap"?(S.texImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,M[1]),S.texImage2D(S.TEXTURE_CUBE_MAP_NEGATIVE_X,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,M[3]),S.texImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_Y,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,M[4]),S.texImage2D(S.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,M[5]),S.texImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_Z,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,M[0]),S.texImage2D(S.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,M[2])):M.width<=W?(S.uniform1i(S.getUniformLocation(E,"u_splitImage"),0),S.texImage2D(re,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,M)):(S.uniform1i(S.getUniformLocation(E,"u_splitImage"),1),K=t.createElement("canvas"),K.width=M.width/2,K.height=M.height,K=K.getContext("2d"),K.drawImage(M,0,0),ue=K.getImageData(0,0,M.width/2,M.height),S.texImage2D(re,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,ue),E.texture2=S.createTexture(),S.activeTexture(S.TEXTURE1),S.bindTexture(re,E.texture2),S.uniform1i(S.getUniformLocation(E,"u_image1"),1),K.drawImage(M,-M.width/2,0),ue=K.getImageData(0,0,M.width/2,M.height),S.texImage2D(re,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,ue),S.texParameteri(re,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(re,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(re,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(re,S.TEXTURE_MAG_FILTER,S.LINEAR),S.activeTexture(S.TEXTURE0)),S.texParameteri(re,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(re,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(re,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(re,S.TEXTURE_MAG_FILTER,S.LINEAR)):(E.vertPosLocation=S.getAttribLocation(E,"a_vertCoord"),S.enableVertexAttribArray(E.vertPosLocation),q||(q=S.createBuffer()),Z||(Z=S.createBuffer()),he||(he=S.createBuffer()),S.bindBuffer(S.ARRAY_BUFFER,Z),S.bufferData(S.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),S.STATIC_DRAW),S.bindBuffer(S.ELEMENT_ARRAY_BUFFER,he),S.bufferData(S.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),S.STATIC_DRAW),E.perspUniform=S.getUniformLocation(E,"u_perspMatrix"),E.cubeUniform=S.getUniformLocation(E,"u_cubeMatrix"),E.level=-1,E.currentNodes=[],E.nodeCache=[],E.nodeCacheTimestamp=0),K=S.getError(),K!==0)throw console.log("Error: Something went wrong with WebGL!",K),{type:"webgl error"};se()}},this.destroy=function(){if(c!==r&&(C!==r&&c.contains(C)&&c.removeChild(C),F!==r&&c.contains(F)&&c.removeChild(F)),S){var W=S.getExtension("WEBGL_lose_context");W&&W.loseContext()}},this.resize=function(){var W=n.devicePixelRatio||1;C.width=C.clientWidth*W,C.height=C.clientHeight*W,S&&(S.getError()==1286&&x(),S.viewport(0,0,S.drawingBufferWidth,S.drawingBufferHeight),L!="multires"&&S.uniform1f(E.aspectRatio,C.clientWidth/C.clientHeight))},this.resize(),this.setPose=function(W,z){I=[W,z]},this.render=function(W,z,de,K){var ue,G=0;if(K===r&&(K={}),K.roll&&(G=K.roll),I!==r){ue=I[0];var se=I[1],ye=W,Ee=z,H=Math.cos(se)*Math.sin(W)*Math.sin(ue)+Math.cos(W)*(Math.cos(ue)*Math.cos(z)+Math.sin(se)*Math.sin(ue)*Math.sin(z)),Q=-Math.sin(W)*Math.sin(se)+Math.cos(W)*Math.cos(se)*Math.sin(z);W=Math.cos(se)*Math.cos(ue)*Math.sin(W)+Math.cos(W)*(-Math.cos(z)*Math.sin(ue)+Math.cos(ue)*Math.sin(se)*Math.sin(z)),W=Math.asin(Math.max(Math.min(W,1),-1)),z=Math.atan2(Q,H),ue=[Math.cos(ye)*(Math.sin(se)*Math.sin(ue)*Math.cos(Ee)-Math.cos(ue)*Math.sin(Ee)),Math.cos(ye)*Math.cos(se)*Math.cos(Ee),Math.cos(ye)*(Math.cos(ue)*Math.sin(se)*Math.cos(Ee)+Math.sin(Ee)*Math.sin(ue))],se=[-Math.cos(W)*Math.sin(z),Math.cos(W)*Math.cos(z)],se=Math.acos(Math.max(Math.min((ue[0]*se[0]+ue[1]*se[1])/(Math.sqrt(ue[0]*ue[0]+ue[1]*ue[1]+ue[2]*ue[2])*Math.sqrt(se[0]*se[0]+se[1]*se[1])),1),-1)),0>ue[2]&&(se=2*Math.PI-se),G+=se}if(S||L!="multires"&&L!="cubemap"){if(L!="multires")de=2*Math.atan(Math.tan(.5*de)/(S.drawingBufferWidth/S.drawingBufferHeight)),de=1/Math.tan(.5*de),S.uniform1f(E.psi,z),S.uniform1f(E.theta,W),S.uniform1f(E.rot,G),S.uniform1f(E.f,de),B===!0&&L=="equirectangular"&&(S.bindTexture(S.TEXTURE_2D,E.texture),S.texImage2D(S.TEXTURE_2D,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,M)),S.drawArrays(S.TRIANGLES,0,6);else{for(ue=S.drawingBufferWidth/S.drawingBufferHeight,se=2*Math.atan(Math.tan(de/2)*S.drawingBufferHeight/S.drawingBufferWidth),se=1/Math.tan(se/2),ue=[se/ue,0,0,0,0,se,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],se=1;se<M.maxLevel&&S.drawingBufferWidth>M.tileResolution*Math.pow(2,se-1)*Math.tan(de/2)*.707;)se++;if(E.level=se,se=[1,0,0,0,1,0,0,0,1],se=v(se,-G,"z"),se=v(se,-W,"x"),se=v(se,z,"y"),se=[se[0],se[1],se[2],0,se[3],se[4],se[5],0,se[6],se[7],se[8],0,0,0,0,1],S.uniformMatrix4fv(E.perspUniform,!1,new Float32Array(w(ue))),S.uniformMatrix4fv(E.cubeUniform,!1,new Float32Array(w(se))),G=[ue[0]*se[0],ue[0]*se[1],ue[0]*se[2],0,ue[5]*se[4],ue[5]*se[5],ue[5]*se[6],0,ue[10]*se[8],ue[10]*se[9],ue[10]*se[10],ue[11],-se[8],-se[9],-se[10],0],E.nodeCache.sort(f),200<E.nodeCache.length&&E.nodeCache.length>E.currentNodes.length+50)for(ue=E.nodeCache.splice(200,E.nodeCache.length-200),se=0;se<ue.length;se++)S.deleteTexture(ue[se].texture);for(E.currentNodes=[],se="fbudlr".split(""),ue=0;6>ue;ue++)ye=new d(T[ue],se[ue],1,0,0,M.fullpath),g(G,ye,W,z);for(E.currentNodes.sort(p),W=J.length-1;0<=W;W--)E.currentNodes.indexOf(J[W].node)===-1&&(J[W].node.textureLoad=!1,J.splice(W,1));if(J.length===0){for(W=0;W<E.currentNodes.length;W++)if(z=E.currentNodes[W],!z.texture&&!z.textureLoad){z.textureLoad=!0,setTimeout(y,0,z);break}}if(!E.drawInProgress){for(E.drawInProgress=!0,S.clear(S.COLOR_BUFFER_BIT),W=0;W<E.currentNodes.length;W++)1<E.currentNodes[W].textureLoaded&&(S.bindBuffer(S.ARRAY_BUFFER,q),S.bufferData(S.ARRAY_BUFFER,new Float32Array(E.currentNodes[W].vertices),S.STATIC_DRAW),S.vertexAttribPointer(E.vertPosLocation,3,S.FLOAT,!1,0,0),S.bindBuffer(S.ARRAY_BUFFER,Z),S.vertexAttribPointer(E.texCoordLocation,2,S.FLOAT,!1,0,0),S.bindTexture(S.TEXTURE_2D,E.currentNodes[W].texture),S.drawElements(S.TRIANGLES,6,S.UNSIGNED_SHORT,0));E.drawInProgress=!1}}if(K.returnImage!==r)return C.toDataURL("image/png")}else for(ue=N/2,K={f:"translate3d(-"+(ue+2)+"px, -"+(ue+2)+"px, -"+ue+"px)",b:"translate3d("+(ue+2)+"px, -"+(ue+2)+"px, "+ue+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(ue+2)+"px, -"+ue+"px, "+(ue+2)+"px) rotateX(270deg)",d:"translate3d(-"+(ue+2)+"px, "+ue+"px, -"+(ue+2)+"px) rotateX(90deg)",l:"translate3d(-"+ue+"px, -"+(ue+2)+"px, "+(ue+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+ue+"px, -"+(ue+2)+"px, -"+(ue+2)+"px) rotateY(270deg)"},de=1/Math.tan(de/2),de=de*C.clientWidth/2+"px",z="perspective("+de+") translateZ("+de+") rotateX("+W+"rad) rotateY("+z+"rad) ",de=Object.keys(K),W=0;6>W;W++)(G=F.querySelector(".pnlm-"+de[W]+"face"))&&(G.style.webkitTransform=z+K[de[W]],G.style.transform=z+K[de[W]])},this.isLoading=function(){if(S&&L=="multires"){for(var W=0;W<E.currentNodes.length;W++)if(!E.currentNodes[W].textureLoaded)return!0}return!1},this.getCanvas=function(){return C};var J=[],ge=(function(){function W(){var se=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin=ue||"anonymous";var ye=function(){if(0<se.image.width&&0<se.image.height){var Ee=se.image;S.bindTexture(S.TEXTURE_2D,se.texture),S.texImage2D(S.TEXTURE_2D,0,S.RGB,S.RGB,S.UNSIGNED_BYTE,Ee),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.bindTexture(S.TEXTURE_2D,null),se.callback(se.texture,!0)}else se.callback(se.texture,!1);J.length?(Ee=J.shift(),se.loadTexture(Ee.src,Ee.texture,Ee.callback)):K[de++]=se};this.image.addEventListener("load",ye),this.image.addEventListener("error",ye)}function z(se,ye,Ee,H){this.node=se,this.src=ye,this.texture=Ee,this.callback=H}var de=4,K={},ue;W.prototype.loadTexture=function(se,ye,Ee){this.texture=ye,this.callback=Ee,this.image.src=se};for(var G=0;G<de;G++)K[G]=new W;return function(se,ye,Ee,H){return ue=H,H=S.createTexture(),de?K[--de].loadTexture(ye,H,Ee):J.push(new z(se,ye,H,Ee)),H}})()}var s="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",o="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",a=`precision highp float;
uniform float u_aspectRatio;
uniform float u_psi;
uniform float u_theta;
uniform float u_f;
uniform float u_h;
uniform float u_v;
uniform float u_vo;
uniform float u_rot;
const float PI = 3.14159265358979323846264;
uniform sampler2D u_image0;
uniform sampler2D u_image1;
uniform bool u_splitImage;
uniform samplerCube u_imageCube;
varying vec2 v_texCoord;
uniform vec4 u_backgroundColor;
void main() {
float x = v_texCoord.x * u_aspectRatio;
float y = v_texCoord.y;
float sinrot = sin(u_rot);
float cosrot = cos(u_rot);
float rot_x = x * cosrot - y * sinrot;
float rot_y = x * sinrot + y * cosrot;
float sintheta = sin(u_theta);
float costheta = cos(u_theta);
float a = u_f * costheta - rot_y * sintheta;
float root = sqrt(rot_x * rot_x + a * a);
float lambda = atan(rot_x / root, a / root) + u_psi;
float phi = atan((rot_y * costheta + u_f * sintheta) / root);`,l=a+`float cosphi = cos(phi);
gl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));
}`,u=a+`lambda = mod(lambda + PI, PI * 2.0) - PI;
vec2 coord = vec2(lambda / PI, phi / (PI / 2.0));
if(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)
gl_FragColor = u_backgroundColor;
else {
if(u_splitImage) {
if(coord.x < 0.0)
gl_FragColor = texture2D(u_image0, vec2((coord.x + u_h) / u_h, (-coord.y + u_v + u_vo) / (u_v * 2.0)));
else
gl_FragColor = texture2D(u_image1, vec2((coord.x + u_h) / u_h - 1.0, (-coord.y + u_v + u_vo) / (u_v * 2.0)));
} else {
gl_FragColor = texture2D(u_image0, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));
}
}
}`,h="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(c,f,p,d){return new i(c)}}})(window,document);window.pannellum=(function(n,t,r){function i(s,o){function a(){var ne=t.createElement("div");if(ne.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",ne.getElementsByTagName("i").length==1)c();else{ee=R.hfov,X=R.pitch;var ce;if(R.type=="cubemap"){for(ve=[],ne=0;6>ne;ne++)ve.push(new Image),ve[ne].crossOrigin=R.crossOrigin;vt.load.lbox.style.display="block",vt.load.lbar.style.display="none"}else if(R.type=="multires")ne=JSON.parse(JSON.stringify(R.multiRes)),R.basePath&&R.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(R.multiRes.basePath)?ne.basePath=R.basePath+R.multiRes.basePath:R.multiRes.basePath?ne.basePath=R.multiRes.basePath:R.basePath&&(ne.basePath=R.basePath),ve=ne;else if(R.dynamic===!0)ve=R.panorama;else{if(R.panorama===r){c(R.strings.noPanoramaError);return}ve=new Image}if(R.type=="cubemap")for(var we=6,Ke=function(){we--,we===0&&u()},rt=function(Ri){var Pr=t.createElement("a");Pr.href=Ri.target.src,Pr.textContent=Pr.href,c(R.strings.fileAccessError.replace("%s",Pr.outerHTML))},ne=0;ne<ve.length;ne++)ce=R.cubeMap[ne],ce=="null"?(console.log("Will use background instead of missing cubemap face "+ne),Ke()):(R.basePath&&!l(ce)&&(ce=R.basePath+ce),ve[ne].onload=Ke,ve[ne].onerror=rt,ve[ne].src=Te(ce));else if(R.type=="multires")u();else if(ce="",R.basePath&&(ce=R.basePath),R.dynamic!==!0){ce=l(R.panorama)?R.panorama:ce+R.panorama,ve.onload=function(){n.URL.revokeObjectURL(this.src),u()};var ct=new XMLHttpRequest;ct.onloadend=function(){if(ct.status!=200){var Dt=t.createElement("a");Dt.href=ce,Dt.textContent=Dt.href,c(R.strings.fileAccessError.replace("%s",Dt.outerHTML))}h(this.response),vt.load.msg.innerHTML=""},ct.onprogress=function(Dt){if(Dt.lengthComputable){vt.load.lbarFill.style.width=Dt.loaded/Dt.total*100+"%";var Ri,Pr;1e6<Dt.total?(Ri="MB",Pr=(Dt.loaded/1e6).toFixed(2),Dt=(Dt.total/1e6).toFixed(2)):1e3<Dt.total?(Ri="kB",Pr=(Dt.loaded/1e3).toFixed(1),Dt=(Dt.total/1e3).toFixed(1)):(Ri="B",Pr=Dt.loaded,Dt=Dt.total),vt.load.msg.innerHTML=Pr+" / "+Dt+" "+Ri}else vt.load.lbox.style.display="block",vt.load.lbar.style.display="none"};try{ct.open("GET",ce,!0)}catch{c(R.strings.malformedURLError)}ct.responseType="blob",ct.setRequestHeader("Accept","image/*,*/*;q=0.9"),ct.withCredentials=R.crossOrigin==="use-credentials",ct.send()}R.draggable&&tn.classList.add("pnlm-grab"),tn.classList.remove("pnlm-grabbing"),qe=R.dynamicUpdate===!0,R.dynamic&&qe&&(ve=R.panorama,u())}}function l(ne){return/^(?:[a-z]+:)?\/\//i.test(ne)||ne[0]=="/"||ne.slice(0,5)=="blob:"}function u(){Oe||(Oe=new libpannellum.renderer(Vn)),pe||(pe=!0,ur.addEventListener("mousedown",d,!1),t.addEventListener("mousemove",v,!1),t.addEventListener("mouseup",w,!1),R.mouseZoom&&(tn.addEventListener("mousewheel",D,!1),tn.addEventListener("DOMMouseScroll",D,!1)),R.doubleClickZoom&&ur.addEventListener("dblclick",g,!1),s.addEventListener("mozfullscreenchange",se,!1),s.addEventListener("webkitfullscreenchange",se,!1),s.addEventListener("msfullscreenchange",se,!1),s.addEventListener("fullscreenchange",se,!1),n.addEventListener("resize",L,!1),n.addEventListener("orientationchange",L,!1),R.disableKeyboardCtrl||(s.addEventListener("keydown",A,!1),s.addEventListener("keyup",F,!1),s.addEventListener("blur",N,!1)),t.addEventListener("mouseleave",w,!1),t.documentElement.style.pointerAction===""&&t.documentElement.style.touchAction===""?(ur.addEventListener("pointerdown",C,!1),ur.addEventListener("pointermove",E,!1),ur.addEventListener("pointerup",S,!1),ur.addEventListener("pointerleave",S,!1)):(ur.addEventListener("touchstart",y,!1),ur.addEventListener("touchmove",_,!1),ur.addEventListener("touchend",x,!1)),n.navigator.pointerEnabled&&(s.style.touchAction="none")),V(),Ee(R.hfov),setTimeout(function(){},500)}function h(ne){var ce=new FileReader;ce.addEventListener("loadend",function(){var we=ce.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var Ke=we.indexOf("");(0>Ke||65536<Ke)&&c(R.strings.iOS8WebGLError)}if(Ke=we.indexOf("<x:xmpmeta"),-1<Ke&&R.ignoreGPanoXMP!==!0){var rt=we.substring(Ke,we.indexOf("</x:xmpmeta>")+12),Lr=function(xo){var rs;return 0<=rt.indexOf(xo+'="')?(rs=rt.substring(rt.indexOf(xo+'="')+xo.length+2),rs=rs.substring(0,rs.indexOf('"'))):0<=rt.indexOf(xo+">")&&(rs=rt.substring(rt.indexOf(xo+">")+xo.length+1),rs=rs.substring(0,rs.indexOf("<"))),rs!==r?Number(rs):null},we=Lr("GPano:FullPanoWidthPixels"),Ke=Lr("GPano:CroppedAreaImageWidthPixels"),ct=Lr("GPano:FullPanoHeightPixels"),Dt=Lr("GPano:CroppedAreaImageHeightPixels"),Ri=Lr("GPano:CroppedAreaTopPixels"),Pr=Lr("GPano:PoseHeadingDegrees"),Gr=Lr("GPano:PosePitchDegrees"),Lr=Lr("GPano:PoseRollDegrees");we!==null&&Ke!==null&&ct!==null&&Dt!==null&&Ri!==null&&(0>ze.indexOf("haov")&&(R.haov=Ke/we*360),0>ze.indexOf("vaov")&&(R.vaov=Dt/ct*180),0>ze.indexOf("vOffset")&&(R.vOffset=-180*((Ri+Dt/2)/ct-.5)),Pr!==null&&0>ze.indexOf("northOffset")&&(R.northOffset=Pr,R.compass!==!1&&(R.compass=!0)),Gr!==null&&Lr!==null&&(0>ze.indexOf("horizonPitch")&&(R.horizonPitch=Gr),0>ze.indexOf("horizonRoll")&&(R.horizonRoll=Lr)))}ve.src=n.URL.createObjectURL(ne)}),ce.readAsBinaryString!==r?ce.readAsBinaryString(ne):ce.readAsText(ne)}function c(ne){ne===r&&(ne=R.strings.genericWebGLError),vt.errorMsg.innerHTML="<p>"+ne+"</p>",Mt.load.style.display="none",vt.load.box.style.display="none",vt.errorMsg.style.display="table",oe=!0,j=r,Vn.style.display="none",be("error",ne)}function f(ne){var ce=p(ne);Or.style.left=ce.x+"px",Or.style.top=ce.y+"px",clearTimeout(f.t1),clearTimeout(f.t2),Or.style.display="block",Or.style.opacity=1,f.t1=setTimeout(function(){Or.style.opacity=0},2e3),f.t2=setTimeout(function(){Or.style.display="none"},2500),ne.preventDefault()}function p(ne){var ce=s.getBoundingClientRect(),we={};return we.x=(ne.clientX||ne.pageX)-ce.left,we.y=(ne.clientY||ne.pageY)-ce.top,we}function d(ne){if(ne.preventDefault(),s.focus(),j&&R.draggable){var ce=p(ne);if(R.hotSpotDebug){var we=m(ne);console.log("Pitch: "+we[0]+", Yaw: "+we[1]+", Center Pitch: "+R.pitch+", Center Yaw: "+R.yaw+", HFOV: "+R.hfov)}H(),Ce(),R.roll=0,Ie.hfov=0,Je=!0,We=Date.now(),ft=ce.x,Ae=ce.y,Be=R.yaw,je=R.pitch,tn.classList.add("pnlm-grabbing"),tn.classList.remove("pnlm-grab"),be("mousedown",ne),B()}}function g(ne){R.minHfov===R.hfov?xe.setHfov(ee,1e3):(ne=m(ne),xe.lookAt(ne[0],ne[1],R.minHfov,1e3))}function m(ne){var rt=p(ne);ne=Oe.getCanvas();var ct=ne.clientWidth,Dt=ne.clientHeight;ne=rt.x/ct*2-1;var Dt=(1-rt.y/Dt*2)*Dt/ct,ce=1/Math.tan(R.hfov*Math.PI/360),we=Math.sin(R.pitch*Math.PI/180),Ke=Math.cos(R.pitch*Math.PI/180),rt=ce*Ke-Dt*we,ct=Math.sqrt(ne*ne+rt*rt),Dt=180*Math.atan((Dt*Ke+ce*we)/ct)/Math.PI;return ne=180*Math.atan2(ne/ct,rt/ct)/Math.PI+R.yaw,-180>ne&&(ne+=360),180<ne&&(ne-=360),[Dt,ne]}function v(ne){if(Je&&j){We=Date.now();var we=Oe.getCanvas(),ce=we.clientWidth,we=we.clientHeight;ne=p(ne);var Ke=180*(Math.atan(ft/ce*2-1)-Math.atan(ne.x/ce*2-1))/Math.PI*R.hfov/90+Be;Ie.yaw=(Ke-R.yaw)%360*.2,R.yaw=Ke,ce=360*Math.atan(Math.tan(R.hfov/360*Math.PI)*we/ce)/Math.PI,ce=180*(Math.atan(ne.y/we*2-1)-Math.atan(Ae/we*2-1))/Math.PI*ce/90+je,Ie.pitch=.2*(ce-R.pitch),R.pitch=ce}}function w(ne){Je&&(Je=!1,15<Date.now()-We&&(Ie.pitch=Ie.yaw=0),tn.classList.add("pnlm-grab"),tn.classList.remove("pnlm-grabbing"),We=Date.now(),be("mouseup",ne))}function y(ne){if(j&&R.draggable){H(),Ce(),R.roll=0,Ie.hfov=0;var ce=p(ne.targetTouches[0]);if(ft=ce.x,Ae=ce.y,ne.targetTouches.length==2){var we=p(ne.targetTouches[1]);ft+=.5*(we.x-ce.x),Ae+=.5*(we.y-ce.y),Pe=Math.sqrt((ce.x-we.x)*(ce.x-we.x)+(ce.y-we.y)*(ce.y-we.y))}Je=!0,We=Date.now(),Be=R.yaw,je=R.pitch,be("touchstart",ne),B()}}function _(ne){if(R.draggable&&(ne.preventDefault(),j&&(We=Date.now()),Je&&j)){var ce=p(ne.targetTouches[0]),we=ce.x,Ke=ce.y;ne.targetTouches.length==2&&Pe!=-1&&(ne=p(ne.targetTouches[1]),we+=.5*(ne.x-ce.x),Ke+=.5*(ne.y-ce.y),ce=Math.sqrt((ce.x-ne.x)*(ce.x-ne.x)+(ce.y-ne.y)*(ce.y-ne.y)),Ee(R.hfov+.1*(Pe-ce)),Pe=ce),ce=R.hfov/360*R.touchPanSpeedCoeffFactor,we=(ft-we)*ce+Be,Ie.yaw=(we-R.yaw)%360*.2,R.yaw=we,Ke=(Ke-Ae)*ce+je,Ie.pitch=.2*(Ke-R.pitch),R.pitch=Ke}}function x(){Je=!1,150<Date.now()-We&&(Ie.pitch=Ie.yaw=0),Pe=-1,We=Date.now(),be("touchend",event)}function C(ne){ne.pointerType=="touch"&&j&&R.draggable&&(xi.push(ne.pointerId),pr.push({clientX:ne.clientX,clientY:ne.clientY}),ne.targetTouches=pr,y(ne),ne.preventDefault())}function E(ne){if(ne.pointerType=="touch"&&R.draggable){for(var ce=0;ce<xi.length;ce++)if(ne.pointerId==xi[ce]){pr[ce].clientX=ne.clientX,pr[ce].clientY=ne.clientY,ne.targetTouches=pr,_(ne),ne.preventDefault();break}}}function S(ne){if(ne.pointerType=="touch"){for(var ce=!1,we=0;we<xi.length;we++)ne.pointerId==xi[we]&&(xi[we]=r),xi[we]&&(ce=!0);ce||(xi=[],pr=[],x()),ne.preventDefault()}}function D(ne){j&&(R.mouseZoom!="fullscreenonly"||P)&&(ne.preventDefault(),H(),We=Date.now(),ne.wheelDeltaY?(Ee(R.hfov-.05*ne.wheelDeltaY),Ie.hfov=0>ne.wheelDelta?1:-1):ne.wheelDelta?(Ee(R.hfov-.05*ne.wheelDelta),Ie.hfov=0>ne.wheelDelta?1:-1):ne.detail&&(Ee(R.hfov+1.5*ne.detail),Ie.hfov=0<ne.detail?1:-1),B())}function A(ne){H(),We=Date.now(),Ce(),R.roll=0;var ce=ne.which||ne.keycode;0>R.capturedKeyNumbers.indexOf(ce)||(ne.preventDefault(),ce==27?P&&G():T(ce,!0))}function N(){for(var ne=0;10>ne;ne++)$e[ne]=!1}function F(ne){var ce=ne.which||ne.keycode;0>R.capturedKeyNumbers.indexOf(ce)||(ne.preventDefault(),T(ce,!1))}function T(ne,ce){var we=!1;switch(ne){case 109:case 189:case 17:case 173:$e[0]!=ce&&(we=!0),$e[0]=ce;break;case 107:case 187:case 16:case 61:$e[1]!=ce&&(we=!0),$e[1]=ce;break;case 38:$e[2]!=ce&&(we=!0),$e[2]=ce;break;case 87:$e[6]!=ce&&(we=!0),$e[6]=ce;break;case 40:$e[3]!=ce&&(we=!0),$e[3]=ce;break;case 83:$e[7]!=ce&&(we=!0),$e[7]=ce;break;case 37:$e[4]!=ce&&(we=!0),$e[4]=ce;break;case 65:$e[8]!=ce&&(we=!0),$e[8]=ce;break;case 39:$e[5]!=ce&&(we=!0),$e[5]=ce;break;case 68:$e[9]!=ce&&(we=!0),$e[9]=ce}we&&ce&&(Ne=typeof performance<"u"&&performance.now()?performance.now():Date.now(),B())}function I(){if(j){var ne=!1,ce=R.pitch,we=R.yaw,Ke=R.hfov,rt;rt=typeof performance<"u"&&performance.now()?performance.now():Date.now(),Ne===r&&(Ne=rt);var ct=(rt-Ne)*R.hfov/1700,ct=Math.min(ct,1);if($e[0]&&R.keyboardZoom===!0&&(Ee(R.hfov+(.8*Ie.hfov+.5)*ct),ne=!0),$e[1]&&R.keyboardZoom===!0&&(Ee(R.hfov+(.8*Ie.hfov-.2)*ct),ne=!0),($e[2]||$e[6])&&(R.pitch+=(.8*Ie.pitch+.2)*ct,ne=!0),($e[3]||$e[7])&&(R.pitch+=(.8*Ie.pitch-.2)*ct,ne=!0),($e[4]||$e[8])&&(R.yaw+=(.8*Ie.yaw-.2)*ct,ne=!0),($e[5]||$e[9])&&(R.yaw+=(.8*Ie.yaw+.2)*ct,ne=!0),ne&&(We=Date.now()),R.autoRotate){if(.001<rt-Ne){var ne=(rt-Ne)/1e3,Dt=(Ie.yaw/ne*ct-.2*R.autoRotate)*ne,Dt=(0<-R.autoRotate?1:-1)*Math.min(Math.abs(R.autoRotate*ne),Math.abs(Dt));R.yaw+=Dt}R.autoRotateStopDelay&&(R.autoRotateStopDelay-=rt-Ne,0>=R.autoRotateStopDelay&&(R.autoRotateStopDelay=!1,O=R.autoRotate,R.autoRotate=0))}Y.pitch&&(M("pitch"),ce=R.pitch),Y.yaw&&(M("yaw"),we=R.yaw),Y.hfov&&(M("hfov"),Ke=R.hfov),0<ct&&!R.autoRotate&&(ne=1-R.friction,$e[4]||$e[5]||$e[8]||$e[9]||Y.yaw||(R.yaw+=Ie.yaw*ct*ne),$e[2]||$e[3]||$e[6]||$e[7]||Y.pitch||(R.pitch+=Ie.pitch*ct*ne),$e[0]||$e[1]||Y.hfov||Ee(R.hfov+Ie.hfov*ct*ne)),Ne=rt,0<ct&&(Ie.yaw=.8*Ie.yaw+(R.yaw-we)/ct*.2,Ie.pitch=.8*Ie.pitch+(R.pitch-ce)/ct*.2,Ie.hfov=.8*Ie.hfov+(R.hfov-Ke)/ct*.2,ce=R.autoRotate?Math.abs(R.autoRotate):5,Ie.yaw=Math.min(ce,Math.max(Ie.yaw,-ce)),Ie.pitch=Math.min(ce,Math.max(Ie.pitch,-ce)),Ie.hfov=Math.min(ce,Math.max(Ie.hfov,-ce))),$e[0]&&$e[1]&&(Ie.hfov=0),($e[2]||$e[6])&&($e[3]||$e[7])&&(Ie.pitch=0),($e[4]||$e[8])&&($e[5]||$e[9])&&(Ie.yaw=0)}}function M(ne){var ce=Y[ne],we=Math.min(1,Math.max((Date.now()-ce.startTime)/1e3/(ce.duration/1e3),0)),we=ce.startPosition+R.animationTimingFunction(we)*(ce.endPosition-ce.startPosition);(ce.endPosition>ce.startPosition&&we>=ce.endPosition||ce.endPosition<ce.startPosition&&we<=ce.endPosition||ce.endPosition===ce.startPosition)&&(we=ce.endPosition,Ie[ne]=0,delete Y[ne]),R[ne]=we}function L(){se("resize")}function B(){Xe||(Xe=!0,$())}function $(){if(!gt)if(q(),hn&&clearTimeout(hn),Je||tt===!0)requestAnimationFrame($);else if($e[0]||$e[1]||$e[2]||$e[3]||$e[4]||$e[5]||$e[6]||$e[7]||$e[8]||$e[9]||R.autoRotate||Y.pitch||Y.yaw||Y.hfov||.01<Math.abs(Ie.yaw)||.01<Math.abs(Ie.pitch)||.01<Math.abs(Ie.hfov))I(),0<=R.autoRotateInactivityDelay&&O&&Date.now()-We>R.autoRotateInactivityDelay&&!R.autoRotate&&(R.autoRotate=O,xe.lookAt(X,r,ee,3e3)),requestAnimationFrame($);else if(Oe&&(Oe.isLoading()||R.dynamic===!0&&qe))requestAnimationFrame($);else{be("animatefinished",{pitch:xe.getPitch(),yaw:xe.getYaw(),hfov:xe.getHfov()}),Xe=!1,Ne=r;var ne=R.autoRotateInactivityDelay-(Date.now()-We);0<ne?hn=setTimeout(function(){R.autoRotate=O,xe.lookAt(X,r,ee,3e3),B()},ne):0<=R.autoRotateInactivityDelay&&O&&(R.autoRotate=O,xe.lookAt(X,r,ee,3e3),B())}}function q(){var ne;if(j){var ce=Oe.getCanvas();R.autoRotate!==!1&&(360<R.yaw?R.yaw-=360:-360>R.yaw&&(R.yaw+=360)),ne=R.yaw;var we=0;if(R.avoidShowingBackground){var Ke=R.hfov/2,rt=180*Math.atan2(Math.tan(Ke/180*Math.PI),ce.width/ce.height)/Math.PI;R.vaov>R.haov?Math.min(Math.cos((R.pitch-Ke)/180*Math.PI),Math.cos((R.pitch+Ke)/180*Math.PI)):we=Ke*(1-Math.min(Math.cos((R.pitch-rt)/180*Math.PI),Math.cos((R.pitch+rt)/180*Math.PI)))}var Ke=R.maxYaw-R.minYaw,rt=-180,ct=180;360>Ke&&(rt=R.minYaw+R.hfov/2+we,ct=R.maxYaw-R.hfov/2-we,Ke<R.hfov&&(rt=ct=(rt+ct)/2),R.yaw=Math.max(rt,Math.min(ct,R.yaw))),R.autoRotate===!1&&(360<R.yaw?R.yaw-=360:-360>R.yaw&&(R.yaw+=360)),R.autoRotate!==!1&&ne!=R.yaw&&Ne!==r&&(R.autoRotate*=-1),ne=2*Math.atan(Math.tan(R.hfov/180*Math.PI*.5)/(ce.width/ce.height))/Math.PI*180,ce=R.minPitch+ne/2,we=R.maxPitch-ne/2,R.maxPitch-R.minPitch<ne&&(ce=we=(ce+we)/2),isNaN(ce)&&(ce=-90),isNaN(we)&&(we=90),R.pitch=Math.max(ce,Math.min(we,R.pitch)),Oe.render(R.pitch*Math.PI/180,R.yaw*Math.PI/180,R.hfov*Math.PI/180,{roll:R.roll*Math.PI/180}),R.hotSpots.forEach(de),R.compass&&(za.style.transform="rotate("+(-R.yaw-R.northOffset)+"deg)",za.style.webkitTransform="rotate("+(-R.yaw-R.northOffset)+"deg)")}}function Z(ne,ce,we,Ke){this.w=ne,this.x=ce,this.y=we,this.z=Ke}function he(ne){var ce;ce=ne.alpha;var we=ne.beta;ne=ne.gamma,we=[we?we*Math.PI/180/2:0,ne?ne*Math.PI/180/2:0,ce?ce*Math.PI/180/2:0],ce=[Math.cos(we[0]),Math.cos(we[1]),Math.cos(we[2])],we=[Math.sin(we[0]),Math.sin(we[1]),Math.sin(we[2])],ce=new Z(ce[0]*ce[1]*ce[2]-we[0]*we[1]*we[2],we[0]*ce[1]*ce[2]-ce[0]*we[1]*we[2],ce[0]*we[1]*ce[2]+we[0]*ce[1]*we[2],ce[0]*ce[1]*we[2]+we[0]*we[1]*ce[2]),ce=ce.multiply(new Z(Math.sqrt(.5),-Math.sqrt(.5),0,0)),we=n.orientation?-n.orientation*Math.PI/180/2:0,ce=ce.multiply(new Z(Math.cos(we),0,-Math.sin(we),0)).toEulerAngles(),typeof tt=="number"&&10>tt?tt+=1:tt===10?(bt=ce[2]/Math.PI*180+R.yaw,tt=!0,requestAnimationFrame($)):(R.pitch=ce[0]/Math.PI*180,R.roll=-ce[1]/Math.PI*180,R.yaw=-ce[2]/Math.PI*180+bt)}function V(){try{var ne={};R.horizonPitch!==r&&(ne.horizonPitch=R.horizonPitch*Math.PI/180),R.horizonRoll!==r&&(ne.horizonRoll=R.horizonRoll*Math.PI/180),R.backgroundColor!==r&&(ne.backgroundColor=R.backgroundColor),Oe.init(ve,R.type,R.dynamic,R.haov*Math.PI/180,R.vaov*Math.PI/180,R.vOffset*Math.PI/180,J,ne),R.dynamic!==!0&&(ve=r)}catch(ce){if(ce.type=="webgl error"||ce.type=="no webgl")c();else if(ce.type=="webgl size error")c(R.strings.textureSizeError.replace("%s",ce.width).replace("%s",ce.maxWidth));else throw c(R.strings.unknownError),ce}}function J(){if(R.sceneFadeDuration&&Oe.fadeImg!==r){Oe.fadeImg.style.opacity=0;var ne=Oe.fadeImg;delete Oe.fadeImg,setTimeout(function(){Vn.removeChild(ne),be("scenechangefadedone")},R.sceneFadeDuration)}za.style.display=R.compass?"inline":"none",W(),vt.load.box.style.display="none",Fe!==r&&(Vn.removeChild(Fe),Fe=r),j=!0,be("load"),B()}function ge(ne){ne.pitch=Number(ne.pitch)||0,ne.yaw=Number(ne.yaw)||0;var ce=t.createElement("div");ce.className="pnlm-hotspot-base",ce.className=ne.cssClass?ce.className+(" "+ne.cssClass):ce.className+(" pnlm-hotspot pnlm-sprite pnlm-"+Se(ne.type));var we=t.createElement("span");ne.text&&(we.innerHTML=Se(ne.text));var Ke;if(ne.video){Ke=t.createElement("video");var rt=ne.video;R.basePath&&!l(rt)&&(rt=R.basePath+rt),Ke.src=Te(rt),Ke.controls=!0,Ke.style.width=ne.width+"px",Vn.appendChild(ce),we.appendChild(Ke)}else if(ne.image){rt=ne.image,R.basePath&&!l(rt)&&(rt=R.basePath+rt),Ke=t.createElement("a"),Ke.href=Te(ne.URL?ne.URL:rt,!0),Ke.target="_blank",we.appendChild(Ke);var ct=t.createElement("img");ct.src=Te(rt),ct.style.width=ne.width+"px",ct.style.paddingTop="5px",Vn.appendChild(ce),Ke.appendChild(ct),we.style.maxWidth="initial"}else if(ne.URL){if(Ke=t.createElement("a"),Ke.href=Te(ne.URL,!0),ne.attributes)for(rt in ne.attributes)Ke.setAttribute(rt,ne.attributes[rt]);else Ke.target="_blank";Vn.appendChild(Ke),ce.className+=" pnlm-pointer",we.className+=" pnlm-pointer",Ke.appendChild(ce)}else ne.sceneId&&(ce.onclick=ce.ontouchend=function(){return ce.clicked||(ce.clicked=!0,re(ne.sceneId,ne.targetPitch,ne.targetYaw,ne.targetHfov)),!1},ce.className+=" pnlm-pointer",we.className+=" pnlm-pointer"),Vn.appendChild(ce);ne.createTooltipFunc?ne.createTooltipFunc(ce,ne.createTooltipArgs):(ne.text||ne.video||ne.image)&&(ce.classList.add("pnlm-tooltip"),ce.appendChild(we),we.style.width=we.scrollWidth-20+"px",we.style.marginLeft=-(we.scrollWidth-ce.offsetWidth)/2+"px",we.style.marginTop=-we.scrollHeight-12+"px"),ne.clickHandlerFunc&&(ce.addEventListener("click",function(Dt){ne.clickHandlerFunc(Dt,ne.clickHandlerArgs)},"false"),ce.className+=" pnlm-pointer",we.className+=" pnlm-pointer"),ne.div=ce}function W(){nt||(R.hotSpots?(R.hotSpots=R.hotSpots.sort(function(ne,ce){return ne.pitch<ce.pitch}),R.hotSpots.forEach(ge)):R.hotSpots=[],nt=!0,R.hotSpots.forEach(de))}function z(){var ne=R.hotSpots;if(nt=!1,delete R.hotSpots,ne)for(var ce=0;ce<ne.length;ce++){var we=ne[ce].div;if(we){for(;we.parentNode&&we.parentNode!=Vn;)we=we.parentNode;Vn.removeChild(we)}delete ne[ce].div}}function de(ne){var ce=Math.sin(ne.pitch*Math.PI/180),we=Math.cos(ne.pitch*Math.PI/180),Ke=Math.sin(R.pitch*Math.PI/180),rt=Math.cos(R.pitch*Math.PI/180),ct=Math.cos((-ne.yaw+R.yaw)*Math.PI/180),Dt=ce*Ke+we*ct*rt;if(90>=ne.yaw&&-90<ne.yaw&&0>=Dt||(90<ne.yaw||-90>=ne.yaw)&&0>=Dt)ne.div.style.visibility="hidden";else{var Ri=Math.sin((-ne.yaw+R.yaw)*Math.PI/180),Pr=Math.tan(R.hfov*Math.PI/360);ne.div.style.visibility="visible";var Lr=Oe.getCanvas(),Gr=Lr.clientWidth,Lr=Lr.clientHeight,ce=[-Gr/Pr*Ri*we/Dt/2,-Gr/Pr*(ce*rt-we*ct*Ke)/Dt/2],we=Math.sin(R.roll*Math.PI/180),Ke=Math.cos(R.roll*Math.PI/180),ce=[ce[0]*Ke-ce[1]*we,ce[0]*we+ce[1]*Ke];ce[0]+=(Gr-ne.div.offsetWidth)/2,ce[1]+=(Lr-ne.div.offsetHeight)/2,Gr="translate("+ce[0]+"px, "+ce[1]+"px) translateZ(9999px) rotate("+R.roll+"deg)",ne.scale&&(Gr+=" scale("+ee/R.hfov/Dt+")"),ne.div.style.webkitTransform=Gr,ne.div.style.MozTransform=Gr,ne.div.style.transform=Gr}}function K(ne){R={};var ce,we,Ke="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");ze=[];for(ce in en)en.hasOwnProperty(ce)&&(R[ce]=en[ce]);for(ce in o.default)if(o.default.hasOwnProperty(ce))if(ce=="strings")for(we in o.default.strings)o.default.strings.hasOwnProperty(we)&&(R.strings[we]=Se(o.default.strings[we]));else R[ce]=o.default[ce],0<=Ke.indexOf(ce)&&ze.push(ce);if(ne!==null&&ne!==""&&o.scenes&&o.scenes[ne]){var rt=o.scenes[ne];for(ce in rt)if(rt.hasOwnProperty(ce))if(ce=="strings")for(we in rt.strings)rt.strings.hasOwnProperty(we)&&(R.strings[we]=Se(rt.strings[we]));else R[ce]=rt[ce],0<=Ke.indexOf(ce)&&ze.push(ce);R.scene=ne}for(ce in o)if(o.hasOwnProperty(ce))if(ce=="strings")for(we in o.strings)o.strings.hasOwnProperty(we)&&(R.strings[we]=Se(o.strings[we]));else R[ce]=o[ce],0<=Ke.indexOf(ce)&&ze.push(ce)}function ue(ne){if((ne=ne||!1)&&"preview"in R){var ce=R.preview;R.basePath&&!l(ce)&&(ce=R.basePath+ce),Fe=t.createElement("div"),Fe.className="pnlm-preview-img",Fe.style.backgroundImage="url('"+Te(ce).replace(/"/g,"%22").replace(/'/g,"%27")+"')",Vn.appendChild(Fe)}var ce=R.title,we=R.author;ne&&("previewTitle"in R&&(R.title=R.previewTitle),"previewAuthor"in R&&(R.author=R.previewAuthor)),R.hasOwnProperty("title")||(vt.title.innerHTML=""),R.hasOwnProperty("author")||(vt.author.innerHTML=""),R.hasOwnProperty("title")||R.hasOwnProperty("author")||(vt.container.style.display="none"),Mt.load.innerHTML="<p>"+R.strings.loadButtonLabel+"</p>",vt.load.boxp.innerHTML=R.strings.loadingLabel;for(var Ke in R)if(R.hasOwnProperty(Ke))switch(Ke){case"title":vt.title.innerHTML=Se(R[Ke]),vt.container.style.display="inline";break;case"author":var rt=Se(R[Ke]);R.authorURL&&(rt=t.createElement("a"),rt.href=Te(R.authorURL,!0),rt.target="_blank",rt.innerHTML=Se(R[Ke]),rt=rt.outerHTML),vt.author.innerHTML=R.strings.bylineLabel.replace("%s",rt),vt.container.style.display="inline";break;case"fallback":rt=t.createElement("a"),rt.href=Te(R[Ke],!0),rt.target="_blank",rt.textContent="Click here to view this panorama in an alternative viewer.";var ct=t.createElement("p");ct.textContent="Your browser does not support WebGL.",ct.appendChild(t.createElement("br")),ct.appendChild(rt),vt.errorMsg.innerHTML="",vt.errorMsg.appendChild(ct);break;case"hfov":Ee(Number(R[Ke]));break;case"autoLoad":R[Ke]===!0&&Oe===r&&(vt.load.box.style.display="inline",Mt.load.style.display="none",a());break;case"showZoomCtrl":Mt.zoom.style.display=R[Ke]&&R.showControls!=!1?"block":"none";break;case"showFullscreenCtrl":Mt.fullscreen.style.display=R[Ke]&&R.showControls!=!1&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?"block":"none";break;case"hotSpotDebug":ii.style.display=R[Ke]?"block":"none";break;case"showControls":R[Ke]||(Mt.orientation.style.display="none",Mt.zoom.style.display="none",Mt.fullscreen.style.display="none");break;case"orientationOnByDefault":R[Ke]&&_e()}ne&&(ce?R.title=ce:delete R.title,we?R.author=we:delete R.author)}function G(){if(j&&!oe)if(P)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.msRequestFullscreen?s.msRequestFullscreen():s.webkitRequestFullScreen()}catch{}}function se(ne){t.fullscreenElement||t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(Mt.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),P=!0):(Mt.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),P=!1),ne!=="resize"&&be("fullscreenchange",P),Oe.resize(),Ee(R.hfov),B()}function ye(ne){var ce=R.minHfov;if(R.type=="multires"&&Oe&&!R.multiResMinHfov&&(ce=Math.min(ce,Oe.getCanvas().width/(R.multiRes.cubeResolution/90*.9))),ce>R.maxHfov)return console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),R.hfov;var we=R.hfov,we=ne<ce?ce:ne>R.maxHfov?R.maxHfov:ne;return R.avoidShowingBackground&&Oe&&(ne=Oe.getCanvas(),we=Math.min(we,360*Math.atan(Math.tan((R.maxPitch-R.minPitch)/360*Math.PI)/ne.height*ne.width)/Math.PI)),we}function Ee(ne){R.hfov=ye(ne),be("zoomchange",R.hfov)}function H(){Y={},O=R.autoRotate?R.autoRotate:O,R.autoRotate=!1}function Q(){oe&&(vt.load.box.style.display="none",vt.errorMsg.style.display="none",oe=!1,Vn.style.display="block",be("errorcleared")),j=!1,Mt.load.style.display="none",vt.load.box.style.display="inline",a()}function re(ne,ce,we,Ke,rt){j||(rt=!0),j=!1,Y={};var ct,Dt;if(R.sceneFadeDuration&&!rt&&(ct=Oe.render(R.pitch*Math.PI/180,R.yaw*Math.PI/180,R.hfov*Math.PI/180,{returnImage:!0}),ct!==r)){rt=new Image,rt.className="pnlm-fade-img",rt.style.transition="opacity "+R.sceneFadeDuration/1e3+"s",rt.style.width="100%",rt.style.height="100%",rt.onload=function(){re(ne,ce,we,Ke,!0)},rt.src=ct,Vn.appendChild(rt),Oe.fadeImg=rt;return}rt=ce==="same"?R.pitch:ce,ct=we==="same"?R.yaw:we==="sameAzimuth"?R.yaw+(R.northOffset||0)-(o.scenes[ne].northOffset||0):we,Dt=Ke==="same"?R.hfov:Ke,z(),K(ne),Ie.yaw=Ie.pitch=Ie.hfov=0,ue(),rt!==r&&(R.pitch=rt),ct!==r&&(R.yaw=ct),Dt!==r&&(R.hfov=Dt),be("scenechange",ne),Q()}function Ce(){n.removeEventListener("deviceorientation",he),Mt.orientation.classList.remove("pnlm-orientation-button-active"),tt=!1}function _e(){typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(ne){ne=="granted"&&(tt=1,n.addEventListener("deviceorientation",he),Mt.orientation.classList.add("pnlm-orientation-button-active"))}):(tt=1,n.addEventListener("deviceorientation",he),Mt.orientation.classList.add("pnlm-orientation-button-active"))}function Se(ne){return o.escapeHTML?String(ne).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split(`
`).join("<br>"):String(ne).split(`
`).join("<br>")}function Te(ne,ce){try{var we=decodeURIComponent(De(ne)).replace(/[^\w:]/g,"").toLowerCase()}catch{return"about:blank"}return we.indexOf("javascript:")===0||we.indexOf("vbscript:")===0?(console.log("Script URL removed."),"about:blank"):ce&&we.indexOf("data:")===0?(console.log("Data URI removed from link."),"about:blank"):ne}function De(ne){return ne.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(ce,we){return we=we.toLowerCase(),we==="colon"?":":we.charAt(0)==="#"?we.charAt(1)==="x"?String.fromCharCode(parseInt(we.substring(2),16)):String.fromCharCode(+we.substring(1)):""})}function be(ne){if(ne in me)for(var ce=me[ne].length;0<ce;ce--)me[ne][me[ne].length-ce].apply(null,[].slice.call(arguments,1))}var xe=this,R,Oe,Fe,Je=!1,We=Date.now(),ft=0,Ae=0,Pe=-1,Be=0,je=0,$e=Array(10),P=!1,j,oe=!1,pe=!1,ve,Ne,Ie={yaw:0,pitch:0,hfov:0},Xe=!1,tt=!1,bt=0,hn,O=0,ee,X,Y={},me={},ze=[],qe=!1,nt=!1,gt=!1,en={hfov:100,minHfov:50,multiResMinHfov:!1,maxHfov:120,pitch:0,minPitch:r,maxPitch:r,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:r,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,dynamicUpdate:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],avoidShowingBackground:!1,animationTimingFunction:function(ne){return .5>ne?2*ne*ne:-1+(4-2*ne)*ne},draggable:!0,disableKeyboardCtrl:!1,crossOrigin:"anonymous",touchPanSpeedCoeffFactor:1,capturedKeyNumbers:[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189],friction:.15,strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."}};s=typeof s=="string"?t.getElementById(s):s,s.classList.add("pnlm-container"),s.tabIndex=0;var tn=t.createElement("div");tn.className="pnlm-ui",s.appendChild(tn);var Vn=t.createElement("div");Vn.className="pnlm-render-container",s.appendChild(Vn);var ur=t.createElement("div");ur.className="pnlm-dragfix",tn.appendChild(ur);var Or=t.createElement("span");Or.className="pnlm-about-msg",Or.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.5.6',tn.appendChild(Or),ur.addEventListener("contextmenu",f);var vt={},ii=t.createElement("div");ii.className="pnlm-sprite pnlm-hot-spot-debug-indicator",tn.appendChild(ii),vt.container=t.createElement("div"),vt.container.className="pnlm-panorama-info",vt.title=t.createElement("div"),vt.title.className="pnlm-title-box",vt.container.appendChild(vt.title),vt.author=t.createElement("div"),vt.author.className="pnlm-author-box",vt.container.appendChild(vt.author),tn.appendChild(vt.container),vt.load={},vt.load.box=t.createElement("div"),vt.load.box.className="pnlm-load-box",vt.load.boxp=t.createElement("p"),vt.load.box.appendChild(vt.load.boxp),vt.load.lbox=t.createElement("div"),vt.load.lbox.className="pnlm-lbox",vt.load.lbox.innerHTML='<div class="pnlm-loading"></div>',vt.load.box.appendChild(vt.load.lbox),vt.load.lbar=t.createElement("div"),vt.load.lbar.className="pnlm-lbar",vt.load.lbarFill=t.createElement("div"),vt.load.lbarFill.className="pnlm-lbar-fill",vt.load.lbar.appendChild(vt.load.lbarFill),vt.load.box.appendChild(vt.load.lbar),vt.load.msg=t.createElement("p"),vt.load.msg.className="pnlm-lmsg",vt.load.box.appendChild(vt.load.msg),tn.appendChild(vt.load.box),vt.errorMsg=t.createElement("div"),vt.errorMsg.className="pnlm-error-msg pnlm-info-box",tn.appendChild(vt.errorMsg);var Mt={};Mt.container=t.createElement("div"),Mt.container.className="pnlm-controls-container",tn.appendChild(Mt.container),Mt.load=t.createElement("div"),Mt.load.className="pnlm-load-button",Mt.load.addEventListener("click",function(){ue(),Q()}),tn.appendChild(Mt.load),Mt.zoom=t.createElement("div"),Mt.zoom.className="pnlm-zoom-controls pnlm-controls",Mt.zoomIn=t.createElement("div"),Mt.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",Mt.zoomIn.addEventListener("click",function(){j&&(Ee(R.hfov-5),B())}),Mt.zoom.appendChild(Mt.zoomIn),Mt.zoomOut=t.createElement("div"),Mt.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",Mt.zoomOut.addEventListener("click",function(){j&&(Ee(R.hfov+5),B())}),Mt.zoom.appendChild(Mt.zoomOut),Mt.container.appendChild(Mt.zoom),Mt.fullscreen=t.createElement("div"),Mt.fullscreen.addEventListener("click",G),Mt.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&Mt.container.appendChild(Mt.fullscreen),Mt.orientation=t.createElement("div"),Mt.orientation.addEventListener("click",function(ne){tt?Ce():_e()}),Mt.orientation.addEventListener("mousedown",function(ne){ne.stopPropagation()}),Mt.orientation.addEventListener("touchstart",function(ne){ne.stopPropagation()}),Mt.orientation.addEventListener("pointerdown",function(ne){ne.stopPropagation()}),Mt.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var Nc=!1;n.DeviceOrientationEvent&&location.protocol=="https:"&&0<=navigator.userAgent.toLowerCase().indexOf("mobi")&&(Mt.container.appendChild(Mt.orientation),Nc=!0);var za=t.createElement("div");za.className="pnlm-compass pnlm-controls pnlm-control",tn.appendChild(za),o.firstScene?K(o.firstScene):o.default&&o.default.firstScene?K(o.default.firstScene):K(null),ue(!0);var xi=[],pr=[];Z.prototype.multiply=function(ne){return new Z(this.w*ne.w-this.x*ne.x-this.y*ne.y-this.z*ne.z,this.x*ne.w+this.w*ne.x+this.y*ne.z-this.z*ne.y,this.y*ne.w+this.w*ne.y+this.z*ne.x-this.x*ne.z,this.z*ne.w+this.w*ne.z+this.x*ne.y-this.y*ne.x)},Z.prototype.toEulerAngles=function(){var ne=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),ce=Math.asin(2*(this.w*this.y-this.z*this.x)),we=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z));return[ne,ce,we]},this.isLoaded=function(){return!!j},this.getPitch=function(){return R.pitch},this.setPitch=function(ne,ce,we,Ke){return We=Date.now(),1e-6>=Math.abs(ne-R.pitch)?(typeof we=="function"&&we(Ke),this):((ce=ce==r?1e3:Number(ce))?(Y.pitch={startTime:Date.now(),startPosition:R.pitch,endPosition:ne,duration:ce},typeof we=="function"&&setTimeout(function(){we(Ke)},ce)):R.pitch=ne,B(),this)},this.getPitchBounds=function(){return[R.minPitch,R.maxPitch]},this.setPitchBounds=function(ne){return R.minPitch=Math.max(-90,Math.min(ne[0],90)),R.maxPitch=Math.max(-90,Math.min(ne[1],90)),this},this.getYaw=function(){return(R.yaw+540)%360-180},this.setYaw=function(ne,ce,we,Ke){return We=Date.now(),1e-6>=Math.abs(ne-R.yaw)?(typeof we=="function"&&we(Ke),this):(ce=ce==r?1e3:Number(ce),ne=(ne+180)%360-180,ce?(180<R.yaw-ne?ne+=360:180<ne-R.yaw&&(ne-=360),Y.yaw={startTime:Date.now(),startPosition:R.yaw,endPosition:ne,duration:ce},typeof we=="function"&&setTimeout(function(){we(Ke)},ce)):R.yaw=ne,B(),this)},this.getYawBounds=function(){return[R.minYaw,R.maxYaw]},this.setYawBounds=function(ne){return R.minYaw=Math.max(-360,Math.min(ne[0],360)),R.maxYaw=Math.max(-360,Math.min(ne[1],360)),this},this.getHfov=function(){return R.hfov},this.setHfov=function(ne,ce,we,Ke){return We=Date.now(),1e-6>=Math.abs(ne-R.hfov)?(typeof we=="function"&&we(Ke),this):((ce=ce==r?1e3:Number(ce))?(Y.hfov={startTime:Date.now(),startPosition:R.hfov,endPosition:ye(ne),duration:ce},typeof we=="function"&&setTimeout(function(){we(Ke)},ce)):Ee(ne),B(),this)},this.getHfovBounds=function(){return[R.minHfov,R.maxHfov]},this.setHfovBounds=function(ne){return R.minHfov=Math.max(0,ne[0]),R.maxHfov=Math.max(0,ne[1]),this},this.lookAt=function(ne,ce,we,Ke,rt,ct){return Ke=Ke==r?1e3:Number(Ke),ne!==r&&1e-6<Math.abs(ne-R.pitch)&&(this.setPitch(ne,Ke,rt,ct),rt=r),ce!==r&&1e-6<Math.abs(ce-R.yaw)&&(this.setYaw(ce,Ke,rt,ct),rt=r),we!==r&&1e-6<Math.abs(we-R.hfov)&&(this.setHfov(we,Ke,rt,ct),rt=r),typeof rt=="function"&&rt(ct),this},this.getNorthOffset=function(){return R.northOffset},this.setNorthOffset=function(ne){return R.northOffset=Math.min(360,Math.max(0,ne)),B(),this},this.getHorizonRoll=function(){return R.horizonRoll},this.setHorizonRoll=function(ne){return R.horizonRoll=Math.min(90,Math.max(-90,ne)),Oe.setPose(R.horizonPitch*Math.PI/180,R.horizonRoll*Math.PI/180),B(),this},this.getHorizonPitch=function(){return R.horizonPitch},this.setHorizonPitch=function(ne){return R.horizonPitch=Math.min(90,Math.max(-90,ne)),Oe.setPose(R.horizonPitch*Math.PI/180,R.horizonRoll*Math.PI/180),B(),this},this.startAutoRotate=function(ne,ce){return ne=ne||O||1,ce=ce===r?X:ce,R.autoRotate=ne,xe.lookAt(ce,r,ee,3e3),B(),this},this.stopAutoRotate=function(){return O=R.autoRotate?R.autoRotate:O,R.autoRotate=!1,R.autoRotateInactivityDelay=-1,this},this.stopMovement=function(){H(),Ie={yaw:0,pitch:0,hfov:0}},this.getRenderer=function(){return Oe},this.setUpdate=function(ne){return qe=ne===!0,Oe===r?u():B(),this},this.mouseEventToCoords=function(ne){return m(ne)},this.loadScene=function(ne,ce,we,Ke){return j!==!1&&re(ne,ce,we,Ke),this},this.getScene=function(){return R.scene},this.addScene=function(ne,ce){return o.scenes[ne]=ce,this},this.removeScene=function(ne){return R.scene===ne||!o.scenes.hasOwnProperty(ne)?!1:(delete o.scenes[ne],!0)},this.toggleFullscreen=function(){return G(),this},this.getConfig=function(){return R},this.getContainer=function(){return s},this.addHotSpot=function(ne,ce){if(ce===r&&R.scene===r)R.hotSpots.push(ne);else{var we=ce!==r?ce:R.scene;if(o.scenes.hasOwnProperty(we))o.scenes[we].hasOwnProperty("hotSpots")||(o.scenes[we].hotSpots=[],we==R.scene&&(R.hotSpots=o.scenes[we].hotSpots)),o.scenes[we].hotSpots.push(ne);else throw"Invalid scene ID!"}return(ce===r||R.scene==ce)&&(ge(ne),j&&de(ne)),this},this.removeHotSpot=function(ne,ce){if(ce===r||R.scene==ce){if(!R.hotSpots)return!1;for(var we=0;we<R.hotSpots.length;we++)if(R.hotSpots[we].hasOwnProperty("id")&&R.hotSpots[we].id===ne){for(var Ke=R.hotSpots[we].div;Ke.parentNode!=Vn;)Ke=Ke.parentNode;return Vn.removeChild(Ke),delete R.hotSpots[we].div,R.hotSpots.splice(we,1),!0}}else if(o.scenes.hasOwnProperty(ce)){if(!o.scenes[ce].hasOwnProperty("hotSpots"))return!1;for(we=0;we<o.scenes[ce].hotSpots.length;we++)if(o.scenes[ce].hotSpots[we].hasOwnProperty("id")&&o.scenes[ce].hotSpots[we].id===ne)return o.scenes[ce].hotSpots.splice(we,1),!0}else return!1},this.resize=function(){Oe&&L()},this.isLoaded=function(){return j},this.isOrientationSupported=function(){return Nc||!1},this.stopOrientation=function(){Ce()},this.startOrientation=function(){Nc&&_e()},this.isOrientationActive=function(){return!!tt},this.on=function(ne,ce){return me[ne]=me[ne]||[],me[ne].push(ce),this},this.off=function(ne,ce){if(!ne)return me={},this;if(ce){var we=me[ne].indexOf(ce);0<=we&&me[ne].splice(we,1),me[ne].length==0&&delete me[ne]}else delete me[ne];return this},this.destroy=function(){gt=!0,clearTimeout(hn),Oe&&Oe.destroy(),pe&&(t.removeEventListener("mousemove",v,!1),t.removeEventListener("mouseup",w,!1),s.removeEventListener("mozfullscreenchange",se,!1),s.removeEventListener("webkitfullscreenchange",se,!1),s.removeEventListener("msfullscreenchange",se,!1),s.removeEventListener("fullscreenchange",se,!1),n.removeEventListener("resize",L,!1),n.removeEventListener("orientationchange",L,!1),s.removeEventListener("keydown",A,!1),s.removeEventListener("keyup",F,!1),s.removeEventListener("blur",N,!1),t.removeEventListener("mouseleave",w,!1)),s.innerHTML="",s.classList.remove("pnlm-container")}}return{viewer:function(s,o){return new i(s,o)}}})(window,document);const gpe={__name:"VirtualTour",props:{config:{type:Object,required:!0}},emits:["scene-changed","hotspot-click"],setup(n,{expose:t,emit:r}){const i=n,s=r,o=Ue(null),a=Ue(null);function l(h){const c=typeof structuredClone=="function"?structuredClone(h):JSON.parse(JSON.stringify(h)),f=c.scenes||{};return Object.keys(f).forEach(p=>{(f[p].hotSpots||[]).forEach(g=>{g.type==="scene"&&(g.cssClass=((g.cssClass||"")+" nav-hotspot").trim(),g.createTooltipArgs={text:g.text},g.createTooltipFunc=function(m,v){m.classList.add("nh-wrap"),m.innerHTML=`
            <div class="nh-btn" role="button" aria-label="${(v?.text||"").replace(/"/g,"&quot;")}">
              <span class="nh-icon"></span>
              ${v?.text?`<span class="nh-chip">${v.text}</span>`:""}
            </div>
          `}),g.type==="info"&&(g.clickHandlerFunc=m=>{console.log("[VirtualTour] Info Hotspot Clicked (Handler):",g),s("hotspot-click",{hotspot:g})})})}),c}function u(){o.value?.resize()}return On(()=>{if(!a.value)return;const h=l(i.config);o.value=window.pannellum.viewer(a.value,h),o.value.on("load",()=>{const c=o.value.getScene();s("scene-changed",c)}),window.addEventListener("resize",u)}),t({loadScene(h){o.value?.loadScene(h)}}),iu(()=>{window.removeEventListener("resize",u),o.value&&(o.value.destroy(),o.value=null)}),(h,c)=>(ie(),le("div",{id:"panorama-container",ref_key:"panoramaContainer",ref:a},null,512))}},vpe={class:"tour-page-layout"},ype={class:"main-content"},bpe={__name:"TourView",setup(n){const t=Ue(null),r=bc(),i=Ue([]);try{const c=sessionStorage.getItem("pdv:courseCacheKey");if(c){const f=sessionStorage.getItem(c);if(f){const p=JSON.parse(f);p&&Array.isArray(p.items)&&(i.value=p.items)}}}catch(c){console.error("     :",c),i.value=[]}console.log("  (TourView) ()   :",i.value);const s=dt(()=>{console.log("    . :",i.value);const c=Fce(i.value),f=new Set(i.value.map(g=>g.sceneId).filter(Boolean)),p=i.value.map(g=>g.sceneId).find(g=>f.has(g)),d={...c,default:{...c.default,firstScene:p||c.default.firstScene}};return console.log("       :",d),d}),o=Ue(s.value.default.firstScene);function a(c){o.value=c,console.log(" [TourView]  :",c)}function l({hotspot:c}){if(!(c?.text||"").includes("  "))return;sessionStorage.setItem("pdv:returnFromTour","1");const p=sessionStorage.getItem("pdv:returnTo");if(p){const{type:d,id:g,query:m}=JSON.parse(p),v=d==="science_place"?"PlaceDetail":"ExhibitionDetail";r.replace({name:v,params:{id:g},query:m})}else r.replace({name:"Home"})}function u(){r.back()}const h=dt(()=>!i.value||i.value.length===0?!1:i.value.some(c=>c.sceneId&&c.sceneId.endsWith("_entrance")));return dt(()=>{const c=o.value||"";return h.value?c.startsWith("hall_1")?(console.log(" [TourView] activeZone  ( ): hall_1_entrance"),"hall_1_entrance"):c.startsWith("hall_2")?(console.log(" [TourView] activeZone  ( ): hall_2_entrance"),"hall_2_entrance"):c.startsWith("hall_3")?(console.log(" [TourView] activeZone  ( ): hall_3_entrance"),"hall_3_entrance"):(console.log(" [TourView] activeZone  ( ): (  )"),""):(console.log(` [TourView] activeZone  ( ): ${c}`),c)}),(c,f)=>(ie(),le("div",vpe,[b("div",{class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},[b("div",{class:"header-left",style:{flex:"1"}},[b("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:u})]),f[0]||(f[0]=b("div",{class:"header-center fw-bold fs-6",style:{flex:"1","text-align":"center"}},"   ",-1)),f[1]||(f[1]=b("div",{class:"header-right",style:{flex:"1"}},null,-1))]),b("div",ype,[lt(gpe,{ref_key:"virtualTourRef",ref:t,config:s.value,onSceneChanged:a,onHotspotClick:l},null,8,["config"])])]))}},xpe=yt(bpe,[["__scopeId","data-v-0782b172"]]),_pe={class:"experiment-container d-flex flex-column h-100 bg-white"},wpe={class:"experiment-header d-flex justify-content-between align-items-center p-3 border-bottom bg-white"},Epe={class:"mb-0 fw-bold fs-6 flex-grow-1 text-center truncate"},Spe={class:"experiment-content flex-grow-1 position-relative"},Cpe={key:0,class:"loading-overlay"},Ape=["src"],Tpe={__name:"ExperimentView",setup(n){const t=Y8(),r=bc(),i=Ue(""),s=Ue(" "),o=Ue(!0);On(()=>{i.value=t.query.url||"",s.value=t.query.title||" ",i.value||r.replace("/home")});const a=()=>{o.value=!1},l=()=>{r.back()},u=()=>{i.value&&window.open(i.value,"_blank","noopener,noreferrer")};return(h,c)=>(ie(),le("div",_pe,[b("div",wpe,[b("button",{onClick:l,class:"btn p-0 border-0","aria-label":" "},[...c[0]||(c[0]=[b("i",{class:"bi bi-chevron-left fs-5"},null,-1)])]),b("h5",Epe,ke(s.value),1),b("button",{onClick:u,class:"btn btn-outline-primary btn-sm",title:"  ","aria-label":"  "},[...c[1]||(c[1]=[b("i",{class:"bi bi-box-arrow-up-right"},null,-1)])])]),b("div",Spe,[o.value?(ie(),le("div",Cpe,[...c[2]||(c[2]=[b("div",{class:"spinner-border text-primary",role:"status"},[b("span",{class:"visually-hidden"},"Loading...")],-1),b("p",{class:"mt-3 text-muted small"},"   ...",-1)])])):et("",!0),Bt(b("iframe",{src:i.value,frameborder:"0",width:"100%",height:"100%",allowfullscreen:"",onLoad:a},"   iframe  . ",40,Ape),[[Ll,!o.value]])])]))}},Ipe=yt(Tpe,[["__scopeId","data-v-8e33f210"]]),Lg=X8({history:T8("/"),routes:[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:aJ},{path:"/signup",name:"signup",component:ode},{path:"/login",name:"login",component:Mfe},{path:"/map",name:"Map",component:R9},{path:"/list",name:"PlaceList",component:ife},{path:"/mypage",name:"Mypage",component:UJ},{path:"/account",name:"AccountView",component:lQ},{path:"/aitutor",name:"AiTutor",component:gQ},{path:"/usercourselist",name:"UserLikeCourseList",component:bee},{path:"/indoormap",name:"IndoorMapView",component:XQ},{path:"/coursedetail/:courseId",name:"UserLikeCourseDetail",component:Lie},{path:"/exhibition/:id",name:"ExhibitionDetail",component:lA},{path:"/place/:id",name:"PlaceDetail",component:lA},{path:"/photos/:targetType/:targetId",name:"AllPhotos",component:yfe,props:!0},{path:"/likePlace",name:"LikePlace",component:mde,props:!0},{path:"/notice",name:"Notice",component:kde},{path:"/notice/:id",name:"NoticeDetail",component:Xde},{path:"/stamp",name:"stamp",component:mpe},{path:"/virtualTour",name:"virtualTour",component:xpe},{path:"/experiment",name:"ExperimentView",component:Ipe}]}),Of=Dp(UB);Of.config.globalProperties.$alert=n=>{let t="",r="success";typeof n=="string"?t=n:typeof n=="object"&&n!==null&&(t=n.message||"",r=n.type||"success"),ht.emit("show-global-alert",{message:t,type:r})};Of.use(SI());const UF=SI();UF.use(jO);Of.use(UF);Of.use(Lg);Of.mount("#app");
