(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var EO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function um(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var r=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),r}var Ld={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var SO=Ld.exports,Z_;function CO(){return Z_||(Z_=1,(function(n,t){(function(r,i){n.exports=i()})(SO,function(){const r=new Map,i={set(X,I,P){r.has(X)||r.set(X,new Map);const ue=r.get(X);ue.has(I)||ue.size===0?ue.set(I,P):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ue.keys())[0]}.`)},get:(X,I)=>r.has(X)&&r.get(X).get(I)||null,remove(X,I){if(!r.has(X))return;const P=r.get(X);P.delete(I),P.size===0&&r.delete(X)}},s="transitionend",o=X=>(X&&window.CSS&&window.CSS.escape&&(X=X.replace(/#([^\s"#']+)/g,(I,P)=>`#${CSS.escape(P)}`)),X),a=X=>X==null?`${X}`:Object.prototype.toString.call(X).match(/\s([a-z]+)/i)[1].toLowerCase(),l=X=>{X.dispatchEvent(new Event(s))},u=X=>!(!X||typeof X!="object")&&(X.jquery!==void 0&&(X=X[0]),X.nodeType!==void 0),h=X=>u(X)?X.jquery?X[0]:X:typeof X=="string"&&X.length>0?document.querySelector(o(X)):null,c=X=>{if(!u(X)||X.getClientRects().length===0)return!1;const I=getComputedStyle(X).getPropertyValue("visibility")==="visible",P=X.closest("details:not([open])");if(!P)return I;if(P!==X){const ue=X.closest("summary");if(ue&&ue.parentNode!==P||ue===null)return!1}return I},f=X=>!X||X.nodeType!==Node.ELEMENT_NODE||!!X.classList.contains("disabled")||(X.disabled!==void 0?X.disabled:X.hasAttribute("disabled")&&X.getAttribute("disabled")!=="false"),d=X=>{if(!document.documentElement.attachShadow)return null;if(typeof X.getRootNode=="function"){const I=X.getRootNode();return I instanceof ShadowRoot?I:null}return X instanceof ShadowRoot?X:X.parentNode?d(X.parentNode):null},p=()=>{},m=X=>{X.offsetHeight},g=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,v=[],E=()=>document.documentElement.dir==="rtl",y=X=>{var I;I=()=>{const P=g();if(P){const ue=X.NAME,ke=P.fn[ue];P.fn[ue]=X.jQueryInterface,P.fn[ue].Constructor=X,P.fn[ue].noConflict=()=>(P.fn[ue]=ke,X.jQueryInterface)}},document.readyState==="loading"?(v.length||document.addEventListener("DOMContentLoaded",()=>{for(const P of v)P()}),v.push(I)):I()},x=(X,I=[],P=X)=>typeof X=="function"?X.call(...I):P,b=(X,I,P=!0)=>{if(!P)return void x(X);const ue=(Ge=>{if(!Ge)return 0;let{transitionDuration:Je,transitionDelay:st}=window.getComputedStyle(Ge);const bt=Number.parseFloat(Je),xt=Number.parseFloat(st);return bt||xt?(Je=Je.split(",")[0],st=st.split(",")[0],1e3*(Number.parseFloat(Je)+Number.parseFloat(st))):0})(I)+5;let ke=!1;const Oe=({target:Ge})=>{Ge===I&&(ke=!0,I.removeEventListener(s,Oe),x(X))};I.addEventListener(s,Oe),setTimeout(()=>{ke||l(I)},ue)},w=(X,I,P,ue)=>{const ke=X.length;let Oe=X.indexOf(I);return Oe===-1?!P&&ue?X[ke-1]:X[0]:(Oe+=P?1:-1,ue&&(Oe=(Oe+ke)%ke),X[Math.max(0,Math.min(Oe,ke-1))])},S=/[^.]*(?=\..*)\.|.*/,_=/\..*/,T=/::\d+$/,C={};let F=1;const k={mouseenter:"mouseover",mouseleave:"mouseout"},D=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function N(X,I){return I&&`${I}::${F++}`||X.uidEvent||F++}function M(X){const I=N(X);return X.uidEvent=I,C[I]=C[I]||{},C[I]}function U(X,I,P=null){return Object.values(X).find(ue=>ue.callable===I&&ue.delegationSelector===P)}function B(X,I,P){const ue=typeof I=="string",ke=ue?P:I||P;let Oe=Q(X);return D.has(Oe)||(Oe=X),[ue,ke,Oe]}function W(X,I,P,ue,ke){if(typeof I!="string"||!X)return;let[Oe,Ge,Je]=B(I,P,ue);I in k&&(Ge=(Gt=>function(Vt){if(!Vt.relatedTarget||Vt.relatedTarget!==Vt.delegateTarget&&!Vt.delegateTarget.contains(Vt.relatedTarget))return Gt.call(this,Vt)})(Ge));const st=M(X),bt=st[Je]||(st[Je]={}),xt=U(bt,Ge,Oe?P:null);if(xt)return void(xt.oneOff=xt.oneOff&&ke);const ft=N(Ge,I.replace(S,"")),tn=Oe?(function(Pt,Gt,Vt){return function Ht(Mn){const zn=Pt.querySelectorAll(Gt);for(let{target:sn}=Mn;sn&&sn!==this;sn=sn.parentNode)for(const Sn of zn)if(Sn===sn)return ae(Mn,{delegateTarget:sn}),Ht.oneOff&&J.off(Pt,Mn.type,Gt,Vt),Vt.apply(sn,[Mn])}})(X,P,Ge):(function(Pt,Gt){return function Vt(Ht){return ae(Ht,{delegateTarget:Pt}),Vt.oneOff&&J.off(Pt,Ht.type,Gt),Gt.apply(Pt,[Ht])}})(X,Ge);tn.delegationSelector=Oe?P:null,tn.callable=Ge,tn.oneOff=ke,tn.uidEvent=ft,bt[ft]=tn,X.addEventListener(Je,tn,Oe)}function Z(X,I,P,ue,ke){const Oe=U(I[P],ue,ke);Oe&&(X.removeEventListener(P,Oe,!!ke),delete I[P][Oe.uidEvent])}function fe(X,I,P,ue){const ke=I[P]||{};for(const[Oe,Ge]of Object.entries(ke))Oe.includes(ue)&&Z(X,I,P,Ge.callable,Ge.delegationSelector)}function Q(X){return X=X.replace(_,""),k[X]||X}const J={on(X,I,P,ue){W(X,I,P,ue,!1)},one(X,I,P,ue){W(X,I,P,ue,!0)},off(X,I,P,ue){if(typeof I!="string"||!X)return;const[ke,Oe,Ge]=B(I,P,ue),Je=Ge!==I,st=M(X),bt=st[Ge]||{},xt=I.startsWith(".");if(Oe===void 0){if(xt)for(const ft of Object.keys(st))fe(X,st,ft,I.slice(1));for(const[ft,tn]of Object.entries(bt)){const Pt=ft.replace(T,"");Je&&!I.includes(Pt)||Z(X,st,Ge,tn.callable,tn.delegationSelector)}}else{if(!Object.keys(bt).length)return;Z(X,st,Ge,Oe,ke?P:null)}},trigger(X,I,P){if(typeof I!="string"||!X)return null;const ue=g();let ke=null,Oe=!0,Ge=!0,Je=!1;I!==Q(I)&&ue&&(ke=ue.Event(I,P),ue(X).trigger(ke),Oe=!ke.isPropagationStopped(),Ge=!ke.isImmediatePropagationStopped(),Je=ke.isDefaultPrevented());const st=ae(new Event(I,{bubbles:Oe,cancelable:!0}),P);return Je&&st.preventDefault(),Ge&&X.dispatchEvent(st),st.defaultPrevented&&ke&&ke.preventDefault(),st}};function ae(X,I={}){for(const[P,ue]of Object.entries(I))try{X[P]=ue}catch{Object.defineProperty(X,P,{configurable:!0,get:()=>ue})}return X}function be(X){if(X==="true")return!0;if(X==="false")return!1;if(X===Number(X).toString())return Number(X);if(X===""||X==="null")return null;if(typeof X!="string")return X;try{return JSON.parse(decodeURIComponent(X))}catch{return X}}function ee(X){return X.replace(/[A-Z]/g,I=>`-${I.toLowerCase()}`)}const K={setDataAttribute(X,I,P){X.setAttribute(`data-bs-${ee(I)}`,P)},removeDataAttribute(X,I){X.removeAttribute(`data-bs-${ee(I)}`)},getDataAttributes(X){if(!X)return{};const I={},P=Object.keys(X.dataset).filter(ue=>ue.startsWith("bs")&&!ue.startsWith("bsConfig"));for(const ue of P){let ke=ue.replace(/^bs/,"");ke=ke.charAt(0).toLowerCase()+ke.slice(1),I[ke]=be(X.dataset[ue])}return I},getDataAttribute:(X,I)=>be(X.getAttribute(`data-bs-${ee(I)}`))};class xe{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(I){return I=this._mergeConfigObj(I),I=this._configAfterMerge(I),this._typeCheckConfig(I),I}_configAfterMerge(I){return I}_mergeConfigObj(I,P){const ue=u(P)?K.getDataAttribute(P,"config"):{};return{...this.constructor.Default,...typeof ue=="object"?ue:{},...u(P)?K.getDataAttributes(P):{},...typeof I=="object"?I:{}}}_typeCheckConfig(I,P=this.constructor.DefaultType){for(const[ue,ke]of Object.entries(P)){const Oe=I[ue],Ge=u(Oe)?"element":a(Oe);if(!new RegExp(ke).test(Ge))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${ue}" provided type "${Ge}" but expected type "${ke}".`)}}}class ie extends xe{constructor(I,P){super(),(I=h(I))&&(this._element=I,this._config=this._getConfig(P),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),J.off(this._element,this.constructor.EVENT_KEY);for(const I of Object.getOwnPropertyNames(this))this[I]=null}_queueCallback(I,P,ue=!0){b(I,P,ue)}_getConfig(I){return I=this._mergeConfigObj(I,this._element),I=this._configAfterMerge(I),this._typeCheckConfig(I),I}static getInstance(I){return i.get(h(I),this.DATA_KEY)}static getOrCreateInstance(I,P={}){return this.getInstance(I)||new this(I,typeof P=="object"?P:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(I){return`${I}${this.EVENT_KEY}`}}const ge=X=>{let I=X.getAttribute("data-bs-target");if(!I||I==="#"){let P=X.getAttribute("href");if(!P||!P.includes("#")&&!P.startsWith("."))return null;P.includes("#")&&!P.startsWith("#")&&(P=`#${P.split("#")[1]}`),I=P&&P!=="#"?P.trim():null}return I?I.split(",").map(P=>o(P)).join(","):null},z={find:(X,I=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(I,X)),findOne:(X,I=document.documentElement)=>Element.prototype.querySelector.call(I,X),children:(X,I)=>[].concat(...X.children).filter(P=>P.matches(I)),parents(X,I){const P=[];let ue=X.parentNode.closest(I);for(;ue;)P.push(ue),ue=ue.parentNode.closest(I);return P},prev(X,I){let P=X.previousElementSibling;for(;P;){if(P.matches(I))return[P];P=P.previousElementSibling}return[]},next(X,I){let P=X.nextElementSibling;for(;P;){if(P.matches(I))return[P];P=P.nextElementSibling}return[]},focusableChildren(X){const I=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(P=>`${P}:not([tabindex^="-"])`).join(",");return this.find(I,X).filter(P=>!f(P)&&c(P))},getSelectorFromElement(X){const I=ge(X);return I&&z.findOne(I)?I:null},getElementFromSelector(X){const I=ge(X);return I?z.findOne(I):null},getMultipleElementsFromSelector(X){const I=ge(X);return I?z.find(I):[]}},se=(X,I="hide")=>{const P=`click.dismiss${X.EVENT_KEY}`,ue=X.NAME;J.on(document,P,`[data-bs-dismiss="${ue}"]`,function(ke){if(["A","AREA"].includes(this.tagName)&&ke.preventDefault(),f(this))return;const Oe=z.getElementFromSelector(this)||this.closest(`.${ue}`);X.getOrCreateInstance(Oe)[I]()})},ye=".bs.alert",Ce=`close${ye}`,$=`closed${ye}`;class q extends ie{static get NAME(){return"alert"}close(){if(J.trigger(this._element,Ce).defaultPrevented)return;this._element.classList.remove("show");const I=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,I)}_destroyElement(){this._element.remove(),J.trigger(this._element,$),this.dispose()}static jQueryInterface(I){return this.each(function(){const P=q.getOrCreateInstance(this);if(typeof I=="string"){if(P[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);P[I](this)}})}}se(q,"close"),y(q);const te='[data-bs-toggle="button"]';class Ae extends ie{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(I){return this.each(function(){const P=Ae.getOrCreateInstance(this);I==="toggle"&&P[I]()})}}J.on(document,"click.bs.button.data-api",te,X=>{X.preventDefault();const I=X.target.closest(te);Ae.getOrCreateInstance(I).toggle()}),y(Ae);const _e=".bs.swipe",Ee=`touchstart${_e}`,pe=`touchmove${_e}`,ve=`touchend${_e}`,De=`pointerdown${_e}`,Me=`pointerup${_e}`,R={endCallback:null,leftCallback:null,rightCallback:null},Ve={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Le extends xe{constructor(I,P){super(),this._element=I,I&&Le.isSupported()&&(this._config=this._getConfig(P),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return R}static get DefaultType(){return Ve}static get NAME(){return"swipe"}dispose(){J.off(this._element,_e)}_start(I){this._supportPointerEvents?this._eventIsPointerPenTouch(I)&&(this._deltaX=I.clientX):this._deltaX=I.touches[0].clientX}_end(I){this._eventIsPointerPenTouch(I)&&(this._deltaX=I.clientX-this._deltaX),this._handleSwipe(),x(this._config.endCallback)}_move(I){this._deltaX=I.touches&&I.touches.length>1?0:I.touches[0].clientX-this._deltaX}_handleSwipe(){const I=Math.abs(this._deltaX);if(I<=40)return;const P=I/this._deltaX;this._deltaX=0,P&&x(P>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(J.on(this._element,De,I=>this._start(I)),J.on(this._element,Me,I=>this._end(I)),this._element.classList.add("pointer-event")):(J.on(this._element,Ee,I=>this._start(I)),J.on(this._element,pe,I=>this._move(I)),J.on(this._element,ve,I=>this._end(I)))}_eventIsPointerPenTouch(I){return this._supportPointerEvents&&(I.pointerType==="pen"||I.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Qe=".bs.carousel",We=".data-api",gt="ArrowLeft",Se="ArrowRight",Ne="next",Pe="prev",je="left",Ue="right",L=`slide${Qe}`,V=`slid${Qe}`,ne=`keydown${Qe}`,he=`mouseenter${Qe}`,me=`mouseleave${Qe}`,Ie=`dragstart${Qe}`,Te=`load${Qe}${We}`,qe=`click${Qe}${We}`,et="carousel",vt="active",hn=".active",O=".carousel-item",H=hn+O,j={[gt]:Ue,[Se]:je},G={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},de={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $e extends ie{constructor(I,P){super(I,P),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=z.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===et&&this.cycle()}static get Default(){return G}static get DefaultType(){return de}static get NAME(){return"carousel"}next(){this._slide(Ne)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(Pe)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?J.one(this._element,V,()=>this.cycle()):this.cycle())}to(I){const P=this._getItems();if(I>P.length-1||I<0)return;if(this._isSliding)return void J.one(this._element,V,()=>this.to(I));const ue=this._getItemIndex(this._getActive());if(ue===I)return;const ke=I>ue?Ne:Pe;this._slide(ke,P[I])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(I){return I.defaultInterval=I.interval,I}_addEventListeners(){this._config.keyboard&&J.on(this._element,ne,I=>this._keydown(I)),this._config.pause==="hover"&&(J.on(this._element,he,()=>this.pause()),J.on(this._element,me,()=>this._maybeEnableCycle())),this._config.touch&&Le.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const P of z.find(".carousel-item img",this._element))J.on(P,Ie,ue=>ue.preventDefault());const I={leftCallback:()=>this._slide(this._directionToOrder(je)),rightCallback:()=>this._slide(this._directionToOrder(Ue)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Le(this._element,I)}_keydown(I){if(/input|textarea/i.test(I.target.tagName))return;const P=j[I.key];P&&(I.preventDefault(),this._slide(this._directionToOrder(P)))}_getItemIndex(I){return this._getItems().indexOf(I)}_setActiveIndicatorElement(I){if(!this._indicatorsElement)return;const P=z.findOne(hn,this._indicatorsElement);P.classList.remove(vt),P.removeAttribute("aria-current");const ue=z.findOne(`[data-bs-slide-to="${I}"]`,this._indicatorsElement);ue&&(ue.classList.add(vt),ue.setAttribute("aria-current","true"))}_updateInterval(){const I=this._activeElement||this._getActive();if(!I)return;const P=Number.parseInt(I.getAttribute("data-bs-interval"),10);this._config.interval=P||this._config.defaultInterval}_slide(I,P=null){if(this._isSliding)return;const ue=this._getActive(),ke=I===Ne,Oe=P||w(this._getItems(),ue,ke,this._config.wrap);if(Oe===ue)return;const Ge=this._getItemIndex(Oe),Je=ft=>J.trigger(this._element,ft,{relatedTarget:Oe,direction:this._orderToDirection(I),from:this._getItemIndex(ue),to:Ge});if(Je(L).defaultPrevented||!ue||!Oe)return;const st=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Ge),this._activeElement=Oe;const bt=ke?"carousel-item-start":"carousel-item-end",xt=ke?"carousel-item-next":"carousel-item-prev";Oe.classList.add(xt),m(Oe),ue.classList.add(bt),Oe.classList.add(bt),this._queueCallback(()=>{Oe.classList.remove(bt,xt),Oe.classList.add(vt),ue.classList.remove(vt,xt,bt),this._isSliding=!1,Je(V)},ue,this._isAnimated()),st&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return z.findOne(H,this._element)}_getItems(){return z.find(O,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(I){return E()?I===je?Pe:Ne:I===je?Ne:Pe}_orderToDirection(I){return E()?I===Pe?je:Ue:I===Pe?Ue:je}static jQueryInterface(I){return this.each(function(){const P=$e.getOrCreateInstance(this,I);if(typeof I!="number"){if(typeof I=="string"){if(P[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);P[I]()}}else P.to(I)})}}J.on(document,qe,"[data-bs-slide], [data-bs-slide-to]",function(X){const I=z.getElementFromSelector(this);if(!I||!I.classList.contains(et))return;X.preventDefault();const P=$e.getOrCreateInstance(I),ue=this.getAttribute("data-bs-slide-to");return ue?(P.to(ue),void P._maybeEnableCycle()):K.getDataAttribute(this,"slide")==="next"?(P.next(),void P._maybeEnableCycle()):(P.prev(),void P._maybeEnableCycle())}),J.on(window,Te,()=>{const X=z.find('[data-bs-ride="carousel"]');for(const I of X)$e.getOrCreateInstance(I)}),y($e);const He=".bs.collapse",tt=`show${He}`,pt=`shown${He}`,Qt=`hide${He}`,en=`hidden${He}`,Bn=`click${He}.data-api`,lr="show",Nr="collapse",mt="collapsing",ei=`:scope .${Nr} .${Nr}`,kt='[data-bs-toggle="collapse"]',Ic={parent:null,toggle:!0},za={parent:"(null|element)",toggle:"boolean"};class vi extends ie{constructor(I,P){super(I,P),this._isTransitioning=!1,this._triggerArray=[];const ue=z.find(kt);for(const ke of ue){const Oe=z.getSelectorFromElement(ke),Ge=z.find(Oe).filter(Je=>Je===this._element);Oe!==null&&Ge.length&&this._triggerArray.push(ke)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ic}static get DefaultType(){return za}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let I=[];if(this._config.parent&&(I=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ke=>ke!==this._element).map(ke=>vi.getOrCreateInstance(ke,{toggle:!1}))),I.length&&I[0]._isTransitioning||J.trigger(this._element,tt).defaultPrevented)return;for(const ke of I)ke.hide();const P=this._getDimension();this._element.classList.remove(Nr),this._element.classList.add(mt),this._element.style[P]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ue=`scroll${P[0].toUpperCase()+P.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(mt),this._element.classList.add(Nr,lr),this._element.style[P]="",J.trigger(this._element,pt)},this._element,!0),this._element.style[P]=`${this._element[ue]}px`}hide(){if(this._isTransitioning||!this._isShown()||J.trigger(this._element,Qt).defaultPrevented)return;const I=this._getDimension();this._element.style[I]=`${this._element.getBoundingClientRect()[I]}px`,m(this._element),this._element.classList.add(mt),this._element.classList.remove(Nr,lr);for(const P of this._triggerArray){const ue=z.getElementFromSelector(P);ue&&!this._isShown(ue)&&this._addAriaAndCollapsedClass([P],!1)}this._isTransitioning=!0,this._element.style[I]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(mt),this._element.classList.add(Nr),J.trigger(this._element,en)},this._element,!0)}_isShown(I=this._element){return I.classList.contains(lr)}_configAfterMerge(I){return I.toggle=!!I.toggle,I.parent=h(I.parent),I}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const I=this._getFirstLevelChildren(kt);for(const P of I){const ue=z.getElementFromSelector(P);ue&&this._addAriaAndCollapsedClass([P],this._isShown(ue))}}_getFirstLevelChildren(I){const P=z.find(ei,this._config.parent);return z.find(I,this._config.parent).filter(ue=>!P.includes(ue))}_addAriaAndCollapsedClass(I,P){if(I.length)for(const ue of I)ue.classList.toggle("collapsed",!P),ue.setAttribute("aria-expanded",P)}static jQueryInterface(I){const P={};return typeof I=="string"&&/show|hide/.test(I)&&(P.toggle=!1),this.each(function(){const ue=vi.getOrCreateInstance(this,P);if(typeof I=="string"){if(ue[I]===void 0)throw new TypeError(`No method named "${I}"`);ue[I]()}})}}J.on(document,Bn,kt,function(X){(X.target.tagName==="A"||X.delegateTarget&&X.delegateTarget.tagName==="A")&&X.preventDefault();for(const I of z.getMultipleElementsFromSelector(this))vi.getOrCreateInstance(I,{toggle:!1}).toggle()}),y(vi);var fr="top",Y="bottom",le="right",we="left",Ke="auto",nt=[fr,Y,le,we],ut="start",Tt="end",Oi="clippingParents",Fr="viewport",Vr="popper",kr="reference",Ng=nt.reduce(function(X,I){return X.concat([I+"-"+ut,I+"-"+Tt])},[]),Fg=[].concat(nt,[Ke]).reduce(function(X,I){return X.concat([I,I+"-"+ut,I+"-"+Tt])},[]),xo="beforeRead",ts="read",Dx="afterRead",Nx="beforeMain",Fx="main",kx="afterMain",Mx="beforeWrite",Ox="write",Lx="afterWrite",Px=[xo,ts,Dx,Nx,Fx,kx,Mx,Ox,Lx];function Js(X){return X?(X.nodeName||"").toLowerCase():null}function ns(X){if(X==null)return window;if(X.toString()!=="[object Window]"){var I=X.ownerDocument;return I&&I.defaultView||window}return X}function Ga(X){return X instanceof ns(X).Element||X instanceof Element}function fs(X){return X instanceof ns(X).HTMLElement||X instanceof HTMLElement}function kg(X){return typeof ShadowRoot<"u"&&(X instanceof ns(X).ShadowRoot||X instanceof ShadowRoot)}const Mg={name:"applyStyles",enabled:!0,phase:"write",fn:function(X){var I=X.state;Object.keys(I.elements).forEach(function(P){var ue=I.styles[P]||{},ke=I.attributes[P]||{},Oe=I.elements[P];fs(Oe)&&Js(Oe)&&(Object.assign(Oe.style,ue),Object.keys(ke).forEach(function(Ge){var Je=ke[Ge];Je===!1?Oe.removeAttribute(Ge):Oe.setAttribute(Ge,Je===!0?"":Je)}))})},effect:function(X){var I=X.state,P={popper:{position:I.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(I.elements.popper.style,P.popper),I.styles=P,I.elements.arrow&&Object.assign(I.elements.arrow.style,P.arrow),function(){Object.keys(I.elements).forEach(function(ue){var ke=I.elements[ue],Oe=I.attributes[ue]||{},Ge=Object.keys(I.styles.hasOwnProperty(ue)?I.styles[ue]:P[ue]).reduce(function(Je,st){return Je[st]="",Je},{});fs(ke)&&Js(ke)&&(Object.assign(ke.style,Ge),Object.keys(Oe).forEach(function(Je){ke.removeAttribute(Je)}))})}},requires:["computeStyles"]};function Qs(X){return X.split("-")[0]}var Ha=Math.max,kf=Math.min,lu=Math.round;function Og(){var X=navigator.userAgentData;return X!=null&&X.brands&&Array.isArray(X.brands)?X.brands.map(function(I){return I.brand+"/"+I.version}).join(" "):navigator.userAgent}function Rx(){return!/^((?!chrome|android).)*safari/i.test(Og())}function uu(X,I,P){I===void 0&&(I=!1),P===void 0&&(P=!1);var ue=X.getBoundingClientRect(),ke=1,Oe=1;I&&fs(X)&&(ke=X.offsetWidth>0&&lu(ue.width)/X.offsetWidth||1,Oe=X.offsetHeight>0&&lu(ue.height)/X.offsetHeight||1);var Ge=(Ga(X)?ns(X):window).visualViewport,Je=!Rx()&&P,st=(ue.left+(Je&&Ge?Ge.offsetLeft:0))/ke,bt=(ue.top+(Je&&Ge?Ge.offsetTop:0))/Oe,xt=ue.width/ke,ft=ue.height/Oe;return{width:xt,height:ft,top:bt,right:st+xt,bottom:bt+ft,left:st,x:st,y:bt}}function Lg(X){var I=uu(X),P=X.offsetWidth,ue=X.offsetHeight;return Math.abs(I.width-P)<=1&&(P=I.width),Math.abs(I.height-ue)<=1&&(ue=I.height),{x:X.offsetLeft,y:X.offsetTop,width:P,height:ue}}function Bx(X,I){var P=I.getRootNode&&I.getRootNode();if(X.contains(I))return!0;if(P&&kg(P)){var ue=I;do{if(ue&&X.isSameNode(ue))return!0;ue=ue.parentNode||ue.host}while(ue)}return!1}function _o(X){return ns(X).getComputedStyle(X)}function MM(X){return["table","td","th"].indexOf(Js(X))>=0}function ia(X){return((Ga(X)?X.ownerDocument:X.document)||window.document).documentElement}function Mf(X){return Js(X)==="html"?X:X.assignedSlot||X.parentNode||(kg(X)?X.host:null)||ia(X)}function Ux(X){return fs(X)&&_o(X).position!=="fixed"?X.offsetParent:null}function Dc(X){for(var I=ns(X),P=Ux(X);P&&MM(P)&&_o(P).position==="static";)P=Ux(P);return P&&(Js(P)==="html"||Js(P)==="body"&&_o(P).position==="static")?I:P||(function(ue){var ke=/firefox/i.test(Og());if(/Trident/i.test(Og())&&fs(ue)&&_o(ue).position==="fixed")return null;var Oe=Mf(ue);for(kg(Oe)&&(Oe=Oe.host);fs(Oe)&&["html","body"].indexOf(Js(Oe))<0;){var Ge=_o(Oe);if(Ge.transform!=="none"||Ge.perspective!=="none"||Ge.contain==="paint"||["transform","perspective"].indexOf(Ge.willChange)!==-1||ke&&Ge.willChange==="filter"||ke&&Ge.filter&&Ge.filter!=="none")return Oe;Oe=Oe.parentNode}return null})(X)||I}function Pg(X){return["top","bottom"].indexOf(X)>=0?"x":"y"}function Nc(X,I,P){return Ha(X,kf(I,P))}function Vx(X){return Object.assign({},{top:0,right:0,bottom:0,left:0},X)}function $x(X,I){return I.reduce(function(P,ue){return P[ue]=X,P},{})}const jx={name:"arrow",enabled:!0,phase:"main",fn:function(X){var I,P=X.state,ue=X.name,ke=X.options,Oe=P.elements.arrow,Ge=P.modifiersData.popperOffsets,Je=Qs(P.placement),st=Pg(Je),bt=[we,le].indexOf(Je)>=0?"height":"width";if(Oe&&Ge){var xt=(function(On,Fn){return Vx(typeof(On=typeof On=="function"?On(Object.assign({},Fn.rects,{placement:Fn.placement})):On)!="number"?On:$x(On,nt))})(ke.padding,P),ft=Lg(Oe),tn=st==="y"?fr:we,Pt=st==="y"?Y:le,Gt=P.rects.reference[bt]+P.rects.reference[st]-Ge[st]-P.rects.popper[bt],Vt=Ge[st]-P.rects.reference[st],Ht=Dc(Oe),Mn=Ht?st==="y"?Ht.clientHeight||0:Ht.clientWidth||0:0,zn=Gt/2-Vt/2,sn=xt[tn],Sn=Mn-ft[bt]-xt[Pt],nn=Mn/2-ft[bt]/2+zn,vn=Nc(sn,nn,Sn),Nn=st;P.modifiersData[ue]=((I={})[Nn]=vn,I.centerOffset=vn-nn,I)}},effect:function(X){var I=X.state,P=X.options.element,ue=P===void 0?"[data-popper-arrow]":P;ue!=null&&(typeof ue!="string"||(ue=I.elements.popper.querySelector(ue)))&&Bx(I.elements.popper,ue)&&(I.elements.arrow=ue)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cu(X){return X.split("-")[1]}var OM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zx(X){var I,P=X.popper,ue=X.popperRect,ke=X.placement,Oe=X.variation,Ge=X.offsets,Je=X.position,st=X.gpuAcceleration,bt=X.adaptive,xt=X.roundOffsets,ft=X.isFixed,tn=Ge.x,Pt=tn===void 0?0:tn,Gt=Ge.y,Vt=Gt===void 0?0:Gt,Ht=typeof xt=="function"?xt({x:Pt,y:Vt}):{x:Pt,y:Vt};Pt=Ht.x,Vt=Ht.y;var Mn=Ge.hasOwnProperty("x"),zn=Ge.hasOwnProperty("y"),sn=we,Sn=fr,nn=window;if(bt){var vn=Dc(P),Nn="clientHeight",On="clientWidth";vn===ns(P)&&_o(vn=ia(P)).position!=="static"&&Je==="absolute"&&(Nn="scrollHeight",On="scrollWidth"),(ke===fr||(ke===we||ke===le)&&Oe===Tt)&&(Sn=Y,Vt-=(ft&&vn===nn&&nn.visualViewport?nn.visualViewport.height:vn[Nn])-ue.height,Vt*=st?1:-1),ke!==we&&(ke!==fr&&ke!==Y||Oe!==Tt)||(sn=le,Pt-=(ft&&vn===nn&&nn.visualViewport?nn.visualViewport.width:vn[On])-ue.width,Pt*=st?1:-1)}var Fn,_r=Object.assign({position:Je},bt&&OM),rs=xt===!0?(function(Ms,yi){var ps=Ms.x,ms=Ms.y,dr=yi.devicePixelRatio||1;return{x:lu(ps*dr)/dr||0,y:lu(ms*dr)/dr||0}})({x:Pt,y:Vt},ns(P)):{x:Pt,y:Vt};return Pt=rs.x,Vt=rs.y,st?Object.assign({},_r,((Fn={})[Sn]=zn?"0":"",Fn[sn]=Mn?"0":"",Fn.transform=(nn.devicePixelRatio||1)<=1?"translate("+Pt+"px, "+Vt+"px)":"translate3d("+Pt+"px, "+Vt+"px, 0)",Fn)):Object.assign({},_r,((I={})[Sn]=zn?Vt+"px":"",I[sn]=Mn?Pt+"px":"",I.transform="",I))}const Rg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(X){var I=X.state,P=X.options,ue=P.gpuAcceleration,ke=ue===void 0||ue,Oe=P.adaptive,Ge=Oe===void 0||Oe,Je=P.roundOffsets,st=Je===void 0||Je,bt={placement:Qs(I.placement),variation:cu(I.placement),popper:I.elements.popper,popperRect:I.rects.popper,gpuAcceleration:ke,isFixed:I.options.strategy==="fixed"};I.modifiersData.popperOffsets!=null&&(I.styles.popper=Object.assign({},I.styles.popper,zx(Object.assign({},bt,{offsets:I.modifiersData.popperOffsets,position:I.options.strategy,adaptive:Ge,roundOffsets:st})))),I.modifiersData.arrow!=null&&(I.styles.arrow=Object.assign({},I.styles.arrow,zx(Object.assign({},bt,{offsets:I.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:st})))),I.attributes.popper=Object.assign({},I.attributes.popper,{"data-popper-placement":I.placement})},data:{}};var Of={passive:!0};const Bg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(X){var I=X.state,P=X.instance,ue=X.options,ke=ue.scroll,Oe=ke===void 0||ke,Ge=ue.resize,Je=Ge===void 0||Ge,st=ns(I.elements.popper),bt=[].concat(I.scrollParents.reference,I.scrollParents.popper);return Oe&&bt.forEach(function(xt){xt.addEventListener("scroll",P.update,Of)}),Je&&st.addEventListener("resize",P.update,Of),function(){Oe&&bt.forEach(function(xt){xt.removeEventListener("scroll",P.update,Of)}),Je&&st.removeEventListener("resize",P.update,Of)}},data:{}};var LM={left:"right",right:"left",bottom:"top",top:"bottom"};function Lf(X){return X.replace(/left|right|bottom|top/g,function(I){return LM[I]})}var PM={start:"end",end:"start"};function Gx(X){return X.replace(/start|end/g,function(I){return PM[I]})}function Ug(X){var I=ns(X);return{scrollLeft:I.pageXOffset,scrollTop:I.pageYOffset}}function Vg(X){return uu(ia(X)).left+Ug(X).scrollLeft}function $g(X){var I=_o(X),P=I.overflow,ue=I.overflowX,ke=I.overflowY;return/auto|scroll|overlay|hidden/.test(P+ke+ue)}function Hx(X){return["html","body","#document"].indexOf(Js(X))>=0?X.ownerDocument.body:fs(X)&&$g(X)?X:Hx(Mf(X))}function Fc(X,I){var P;I===void 0&&(I=[]);var ue=Hx(X),ke=ue===((P=X.ownerDocument)==null?void 0:P.body),Oe=ns(ue),Ge=ke?[Oe].concat(Oe.visualViewport||[],$g(ue)?ue:[]):ue,Je=I.concat(Ge);return ke?Je:Je.concat(Fc(Mf(Ge)))}function jg(X){return Object.assign({},X,{left:X.x,top:X.y,right:X.x+X.width,bottom:X.y+X.height})}function Wx(X,I,P){return I===Fr?jg((function(ue,ke){var Oe=ns(ue),Ge=ia(ue),Je=Oe.visualViewport,st=Ge.clientWidth,bt=Ge.clientHeight,xt=0,ft=0;if(Je){st=Je.width,bt=Je.height;var tn=Rx();(tn||!tn&&ke==="fixed")&&(xt=Je.offsetLeft,ft=Je.offsetTop)}return{width:st,height:bt,x:xt+Vg(ue),y:ft}})(X,P)):Ga(I)?(function(ue,ke){var Oe=uu(ue,!1,ke==="fixed");return Oe.top=Oe.top+ue.clientTop,Oe.left=Oe.left+ue.clientLeft,Oe.bottom=Oe.top+ue.clientHeight,Oe.right=Oe.left+ue.clientWidth,Oe.width=ue.clientWidth,Oe.height=ue.clientHeight,Oe.x=Oe.left,Oe.y=Oe.top,Oe})(I,P):jg((function(ue){var ke,Oe=ia(ue),Ge=Ug(ue),Je=(ke=ue.ownerDocument)==null?void 0:ke.body,st=Ha(Oe.scrollWidth,Oe.clientWidth,Je?Je.scrollWidth:0,Je?Je.clientWidth:0),bt=Ha(Oe.scrollHeight,Oe.clientHeight,Je?Je.scrollHeight:0,Je?Je.clientHeight:0),xt=-Ge.scrollLeft+Vg(ue),ft=-Ge.scrollTop;return _o(Je||Oe).direction==="rtl"&&(xt+=Ha(Oe.clientWidth,Je?Je.clientWidth:0)-st),{width:st,height:bt,x:xt,y:ft}})(ia(X)))}function Xx(X){var I,P=X.reference,ue=X.element,ke=X.placement,Oe=ke?Qs(ke):null,Ge=ke?cu(ke):null,Je=P.x+P.width/2-ue.width/2,st=P.y+P.height/2-ue.height/2;switch(Oe){case fr:I={x:Je,y:P.y-ue.height};break;case Y:I={x:Je,y:P.y+P.height};break;case le:I={x:P.x+P.width,y:st};break;case we:I={x:P.x-ue.width,y:st};break;default:I={x:P.x,y:P.y}}var bt=Oe?Pg(Oe):null;if(bt!=null){var xt=bt==="y"?"height":"width";switch(Ge){case ut:I[bt]=I[bt]-(P[xt]/2-ue[xt]/2);break;case Tt:I[bt]=I[bt]+(P[xt]/2-ue[xt]/2)}}return I}function hu(X,I){I===void 0&&(I={});var P=I,ue=P.placement,ke=ue===void 0?X.placement:ue,Oe=P.strategy,Ge=Oe===void 0?X.strategy:Oe,Je=P.boundary,st=Je===void 0?Oi:Je,bt=P.rootBoundary,xt=bt===void 0?Fr:bt,ft=P.elementContext,tn=ft===void 0?Vr:ft,Pt=P.altBoundary,Gt=Pt!==void 0&&Pt,Vt=P.padding,Ht=Vt===void 0?0:Vt,Mn=Vx(typeof Ht!="number"?Ht:$x(Ht,nt)),zn=tn===Vr?kr:Vr,sn=X.rects.popper,Sn=X.elements[Gt?zn:tn],nn=(function(yi,ps,ms,dr){var eo=ps==="clippingParents"?(function(Un){var bi=Fc(Mf(Un)),gs=["absolute","fixed"].indexOf(_o(Un).position)>=0&&fs(Un)?Dc(Un):Un;return Ga(gs)?bi.filter(function(oa){return Ga(oa)&&Bx(oa,gs)&&Js(oa)!=="body"}):[]})(yi):[].concat(ps),to=[].concat(eo,[ms]),pu=to[0],$r=to.reduce(function(Un,bi){var gs=Wx(yi,bi,dr);return Un.top=Ha(gs.top,Un.top),Un.right=kf(gs.right,Un.right),Un.bottom=kf(gs.bottom,Un.bottom),Un.left=Ha(gs.left,Un.left),Un},Wx(yi,pu,dr));return $r.width=$r.right-$r.left,$r.height=$r.bottom-$r.top,$r.x=$r.left,$r.y=$r.top,$r})(Ga(Sn)?Sn:Sn.contextElement||ia(X.elements.popper),st,xt,Ge),vn=uu(X.elements.reference),Nn=Xx({reference:vn,element:sn,placement:ke}),On=jg(Object.assign({},sn,Nn)),Fn=tn===Vr?On:vn,_r={top:nn.top-Fn.top+Mn.top,bottom:Fn.bottom-nn.bottom+Mn.bottom,left:nn.left-Fn.left+Mn.left,right:Fn.right-nn.right+Mn.right},rs=X.modifiersData.offset;if(tn===Vr&&rs){var Ms=rs[ke];Object.keys(_r).forEach(function(yi){var ps=[le,Y].indexOf(yi)>=0?1:-1,ms=[fr,Y].indexOf(yi)>=0?"y":"x";_r[yi]+=Ms[ms]*ps})}return _r}function RM(X,I){I===void 0&&(I={});var P=I,ue=P.placement,ke=P.boundary,Oe=P.rootBoundary,Ge=P.padding,Je=P.flipVariations,st=P.allowedAutoPlacements,bt=st===void 0?Fg:st,xt=cu(ue),ft=xt?Je?Ng:Ng.filter(function(Gt){return cu(Gt)===xt}):nt,tn=ft.filter(function(Gt){return bt.indexOf(Gt)>=0});tn.length===0&&(tn=ft);var Pt=tn.reduce(function(Gt,Vt){return Gt[Vt]=hu(X,{placement:Vt,boundary:ke,rootBoundary:Oe,padding:Ge})[Qs(Vt)],Gt},{});return Object.keys(Pt).sort(function(Gt,Vt){return Pt[Gt]-Pt[Vt]})}const qx={name:"flip",enabled:!0,phase:"main",fn:function(X){var I=X.state,P=X.options,ue=X.name;if(!I.modifiersData[ue]._skip){for(var ke=P.mainAxis,Oe=ke===void 0||ke,Ge=P.altAxis,Je=Ge===void 0||Ge,st=P.fallbackPlacements,bt=P.padding,xt=P.boundary,ft=P.rootBoundary,tn=P.altBoundary,Pt=P.flipVariations,Gt=Pt===void 0||Pt,Vt=P.allowedAutoPlacements,Ht=I.options.placement,Mn=Qs(Ht),zn=st||(Mn!==Ht&&Gt?(function(Un){if(Qs(Un)===Ke)return[];var bi=Lf(Un);return[Gx(Un),bi,Gx(bi)]})(Ht):[Lf(Ht)]),sn=[Ht].concat(zn).reduce(function(Un,bi){return Un.concat(Qs(bi)===Ke?RM(I,{placement:bi,boundary:xt,rootBoundary:ft,padding:bt,flipVariations:Gt,allowedAutoPlacements:Vt}):bi)},[]),Sn=I.rects.reference,nn=I.rects.popper,vn=new Map,Nn=!0,On=sn[0],Fn=0;Fn<sn.length;Fn++){var _r=sn[Fn],rs=Qs(_r),Ms=cu(_r)===ut,yi=[fr,Y].indexOf(rs)>=0,ps=yi?"width":"height",ms=hu(I,{placement:_r,boundary:xt,rootBoundary:ft,altBoundary:tn,padding:bt}),dr=yi?Ms?le:we:Ms?Y:fr;Sn[ps]>nn[ps]&&(dr=Lf(dr));var eo=Lf(dr),to=[];if(Oe&&to.push(ms[rs]<=0),Je&&to.push(ms[dr]<=0,ms[eo]<=0),to.every(function(Un){return Un})){On=_r,Nn=!1;break}vn.set(_r,to)}if(Nn)for(var pu=function(Un){var bi=sn.find(function(gs){var oa=vn.get(gs);if(oa)return oa.slice(0,Un).every(function(Gf){return Gf})});if(bi)return On=bi,"break"},$r=Gt?3:1;$r>0&&pu($r)!=="break";$r--);I.placement!==On&&(I.modifiersData[ue]._skip=!0,I.placement=On,I.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Yx(X,I,P){return P===void 0&&(P={x:0,y:0}),{top:X.top-I.height-P.y,right:X.right-I.width+P.x,bottom:X.bottom-I.height+P.y,left:X.left-I.width-P.x}}function Kx(X){return[fr,le,Y,we].some(function(I){return X[I]>=0})}const Zx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(X){var I=X.state,P=X.name,ue=I.rects.reference,ke=I.rects.popper,Oe=I.modifiersData.preventOverflow,Ge=hu(I,{elementContext:"reference"}),Je=hu(I,{altBoundary:!0}),st=Yx(Ge,ue),bt=Yx(Je,ke,Oe),xt=Kx(st),ft=Kx(bt);I.modifiersData[P]={referenceClippingOffsets:st,popperEscapeOffsets:bt,isReferenceHidden:xt,hasPopperEscaped:ft},I.attributes.popper=Object.assign({},I.attributes.popper,{"data-popper-reference-hidden":xt,"data-popper-escaped":ft})}},Jx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(X){var I=X.state,P=X.options,ue=X.name,ke=P.offset,Oe=ke===void 0?[0,0]:ke,Ge=Fg.reduce(function(xt,ft){return xt[ft]=(function(tn,Pt,Gt){var Vt=Qs(tn),Ht=[we,fr].indexOf(Vt)>=0?-1:1,Mn=typeof Gt=="function"?Gt(Object.assign({},Pt,{placement:tn})):Gt,zn=Mn[0],sn=Mn[1];return zn=zn||0,sn=(sn||0)*Ht,[we,le].indexOf(Vt)>=0?{x:sn,y:zn}:{x:zn,y:sn}})(ft,I.rects,Oe),xt},{}),Je=Ge[I.placement],st=Je.x,bt=Je.y;I.modifiersData.popperOffsets!=null&&(I.modifiersData.popperOffsets.x+=st,I.modifiersData.popperOffsets.y+=bt),I.modifiersData[ue]=Ge}},zg={name:"popperOffsets",enabled:!0,phase:"read",fn:function(X){var I=X.state,P=X.name;I.modifiersData[P]=Xx({reference:I.rects.reference,element:I.rects.popper,placement:I.placement})},data:{}},Qx={name:"preventOverflow",enabled:!0,phase:"main",fn:function(X){var I=X.state,P=X.options,ue=X.name,ke=P.mainAxis,Oe=ke===void 0||ke,Ge=P.altAxis,Je=Ge!==void 0&&Ge,st=P.boundary,bt=P.rootBoundary,xt=P.altBoundary,ft=P.padding,tn=P.tether,Pt=tn===void 0||tn,Gt=P.tetherOffset,Vt=Gt===void 0?0:Gt,Ht=hu(I,{boundary:st,rootBoundary:bt,padding:ft,altBoundary:xt}),Mn=Qs(I.placement),zn=cu(I.placement),sn=!zn,Sn=Pg(Mn),nn=Sn==="x"?"y":"x",vn=I.modifiersData.popperOffsets,Nn=I.rects.reference,On=I.rects.popper,Fn=typeof Vt=="function"?Vt(Object.assign({},I.rects,{placement:I.placement})):Vt,_r=typeof Fn=="number"?{mainAxis:Fn,altAxis:Fn}:Object.assign({mainAxis:0,altAxis:0},Fn),rs=I.modifiersData.offset?I.modifiersData.offset[I.placement]:null,Ms={x:0,y:0};if(vn){if(Oe){var yi,ps=Sn==="y"?fr:we,ms=Sn==="y"?Y:le,dr=Sn==="y"?"height":"width",eo=vn[Sn],to=eo+Ht[ps],pu=eo-Ht[ms],$r=Pt?-On[dr]/2:0,Un=zn===ut?Nn[dr]:On[dr],bi=zn===ut?-On[dr]:-Nn[dr],gs=I.elements.arrow,oa=Pt&&gs?Lg(gs):{width:0,height:0},Gf=I.modifiersData["arrow#persistent"]?I.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U_=Gf[ps],V_=Gf[ms],Hf=Nc(0,Nn[dr],oa[dr]),mO=sn?Nn[dr]/2-$r-Hf-U_-_r.mainAxis:Un-Hf-U_-_r.mainAxis,gO=sn?-Nn[dr]/2+$r+Hf+V_+_r.mainAxis:bi+Hf+V_+_r.mainAxis,r0=I.elements.arrow&&Dc(I.elements.arrow),vO=r0?Sn==="y"?r0.clientTop||0:r0.clientLeft||0:0,$_=(yi=rs?.[Sn])!=null?yi:0,yO=eo+gO-$_,j_=Nc(Pt?kf(to,eo+mO-$_-vO):to,eo,Pt?Ha(pu,yO):pu);vn[Sn]=j_,Ms[Sn]=j_-eo}if(Je){var z_,bO=Sn==="x"?fr:we,xO=Sn==="x"?Y:le,Qa=vn[nn],Wf=nn==="y"?"height":"width",G_=Qa+Ht[bO],H_=Qa-Ht[xO],i0=[fr,we].indexOf(Mn)!==-1,W_=(z_=rs?.[nn])!=null?z_:0,X_=i0?G_:Qa-Nn[Wf]-On[Wf]-W_+_r.altAxis,q_=i0?Qa+Nn[Wf]+On[Wf]-W_-_r.altAxis:H_,Y_=Pt&&i0?(function(_O,wO,s0){var K_=Nc(_O,wO,s0);return K_>s0?s0:K_})(X_,Qa,q_):Nc(Pt?X_:G_,Qa,Pt?q_:H_);vn[nn]=Y_,Ms[nn]=Y_-Qa}I.modifiersData[ue]=Ms}},requiresIfExists:["offset"]};function BM(X,I,P){P===void 0&&(P=!1);var ue,ke,Oe=fs(I),Ge=fs(I)&&(function(ft){var tn=ft.getBoundingClientRect(),Pt=lu(tn.width)/ft.offsetWidth||1,Gt=lu(tn.height)/ft.offsetHeight||1;return Pt!==1||Gt!==1})(I),Je=ia(I),st=uu(X,Ge,P),bt={scrollLeft:0,scrollTop:0},xt={x:0,y:0};return(Oe||!Oe&&!P)&&((Js(I)!=="body"||$g(Je))&&(bt=(ue=I)!==ns(ue)&&fs(ue)?{scrollLeft:(ke=ue).scrollLeft,scrollTop:ke.scrollTop}:Ug(ue)),fs(I)?((xt=uu(I,!0)).x+=I.clientLeft,xt.y+=I.clientTop):Je&&(xt.x=Vg(Je))),{x:st.left+bt.scrollLeft-xt.x,y:st.top+bt.scrollTop-xt.y,width:st.width,height:st.height}}function UM(X){var I=new Map,P=new Set,ue=[];function ke(Oe){P.add(Oe.name),[].concat(Oe.requires||[],Oe.requiresIfExists||[]).forEach(function(Ge){if(!P.has(Ge)){var Je=I.get(Ge);Je&&ke(Je)}}),ue.push(Oe)}return X.forEach(function(Oe){I.set(Oe.name,Oe)}),X.forEach(function(Oe){P.has(Oe.name)||ke(Oe)}),ue}var e_={placement:"bottom",modifiers:[],strategy:"absolute"};function t_(){for(var X=arguments.length,I=new Array(X),P=0;P<X;P++)I[P]=arguments[P];return!I.some(function(ue){return!(ue&&typeof ue.getBoundingClientRect=="function")})}function Pf(X){X===void 0&&(X={});var I=X,P=I.defaultModifiers,ue=P===void 0?[]:P,ke=I.defaultOptions,Oe=ke===void 0?e_:ke;return function(Ge,Je,st){st===void 0&&(st=Oe);var bt,xt,ft={placement:"bottom",orderedModifiers:[],options:Object.assign({},e_,Oe),modifiersData:{},elements:{reference:Ge,popper:Je},attributes:{},styles:{}},tn=[],Pt=!1,Gt={state:ft,setOptions:function(Ht){var Mn=typeof Ht=="function"?Ht(ft.options):Ht;Vt(),ft.options=Object.assign({},Oe,ft.options,Mn),ft.scrollParents={reference:Ga(Ge)?Fc(Ge):Ge.contextElement?Fc(Ge.contextElement):[],popper:Fc(Je)};var zn,sn,Sn=(function(nn){var vn=UM(nn);return Px.reduce(function(Nn,On){return Nn.concat(vn.filter(function(Fn){return Fn.phase===On}))},[])})((zn=[].concat(ue,ft.options.modifiers),sn=zn.reduce(function(nn,vn){var Nn=nn[vn.name];return nn[vn.name]=Nn?Object.assign({},Nn,vn,{options:Object.assign({},Nn.options,vn.options),data:Object.assign({},Nn.data,vn.data)}):vn,nn},{}),Object.keys(sn).map(function(nn){return sn[nn]})));return ft.orderedModifiers=Sn.filter(function(nn){return nn.enabled}),ft.orderedModifiers.forEach(function(nn){var vn=nn.name,Nn=nn.options,On=Nn===void 0?{}:Nn,Fn=nn.effect;if(typeof Fn=="function"){var _r=Fn({state:ft,name:vn,instance:Gt,options:On});tn.push(_r||function(){})}}),Gt.update()},forceUpdate:function(){if(!Pt){var Ht=ft.elements,Mn=Ht.reference,zn=Ht.popper;if(t_(Mn,zn)){ft.rects={reference:BM(Mn,Dc(zn),ft.options.strategy==="fixed"),popper:Lg(zn)},ft.reset=!1,ft.placement=ft.options.placement,ft.orderedModifiers.forEach(function(Fn){return ft.modifiersData[Fn.name]=Object.assign({},Fn.data)});for(var sn=0;sn<ft.orderedModifiers.length;sn++)if(ft.reset!==!0){var Sn=ft.orderedModifiers[sn],nn=Sn.fn,vn=Sn.options,Nn=vn===void 0?{}:vn,On=Sn.name;typeof nn=="function"&&(ft=nn({state:ft,options:Nn,name:On,instance:Gt})||ft)}else ft.reset=!1,sn=-1}}},update:(bt=function(){return new Promise(function(Ht){Gt.forceUpdate(),Ht(ft)})},function(){return xt||(xt=new Promise(function(Ht){Promise.resolve().then(function(){xt=void 0,Ht(bt())})})),xt}),destroy:function(){Vt(),Pt=!0}};if(!t_(Ge,Je))return Gt;function Vt(){tn.forEach(function(Ht){return Ht()}),tn=[]}return Gt.setOptions(st).then(function(Ht){!Pt&&st.onFirstUpdate&&st.onFirstUpdate(Ht)}),Gt}}var VM=Pf(),$M=Pf({defaultModifiers:[Bg,zg,Rg,Mg]}),Gg=Pf({defaultModifiers:[Bg,zg,Rg,Mg,Jx,qx,Qx,jx,Zx]});const n_=Object.freeze(Object.defineProperty({__proto__:null,afterMain:kx,afterRead:Dx,afterWrite:Lx,applyStyles:Mg,arrow:jx,auto:Ke,basePlacements:nt,beforeMain:Nx,beforeRead:xo,beforeWrite:Mx,bottom:Y,clippingParents:Oi,computeStyles:Rg,createPopper:Gg,createPopperBase:VM,createPopperLite:$M,detectOverflow:hu,end:Tt,eventListeners:Bg,flip:qx,hide:Zx,left:we,main:Fx,modifierPhases:Px,offset:Jx,placements:Fg,popper:Vr,popperGenerator:Pf,popperOffsets:zg,preventOverflow:Qx,read:ts,reference:kr,right:le,start:ut,top:fr,variationPlacements:Ng,viewport:Fr,write:Ox},Symbol.toStringTag,{value:"Module"})),r_="dropdown",Wa=".bs.dropdown",Hg=".data-api",jM="ArrowUp",i_="ArrowDown",zM=`hide${Wa}`,GM=`hidden${Wa}`,HM=`show${Wa}`,WM=`shown${Wa}`,s_=`click${Wa}${Hg}`,o_=`keydown${Wa}${Hg}`,XM=`keyup${Wa}${Hg}`,fu="show",Xa='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',qM=`${Xa}.${fu}`,Rf=".dropdown-menu",YM=E()?"top-end":"top-start",KM=E()?"top-start":"top-end",ZM=E()?"bottom-end":"bottom-start",JM=E()?"bottom-start":"bottom-end",QM=E()?"left-start":"right-start",e3=E()?"right-start":"left-start",t3={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},n3={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ks extends ie{constructor(I,P){super(I,P),this._popper=null,this._parent=this._element.parentNode,this._menu=z.next(this._element,Rf)[0]||z.prev(this._element,Rf)[0]||z.findOne(Rf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return t3}static get DefaultType(){return n3}static get NAME(){return r_}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const I={relatedTarget:this._element};if(!J.trigger(this._element,HM,I).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const P of[].concat(...document.body.children))J.on(P,"mouseover",p);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fu),this._element.classList.add(fu),J.trigger(this._element,WM,I)}}hide(){if(f(this._element)||!this._isShown())return;const I={relatedTarget:this._element};this._completeHide(I)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(I){if(!J.trigger(this._element,zM,I).defaultPrevented){if("ontouchstart"in document.documentElement)for(const P of[].concat(...document.body.children))J.off(P,"mouseover",p);this._popper&&this._popper.destroy(),this._menu.classList.remove(fu),this._element.classList.remove(fu),this._element.setAttribute("aria-expanded","false"),K.removeDataAttribute(this._menu,"popper"),J.trigger(this._element,GM,I)}}_getConfig(I){if(typeof(I=super._getConfig(I)).reference=="object"&&!u(I.reference)&&typeof I.reference.getBoundingClientRect!="function")throw new TypeError(`${r_.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return I}_createPopper(){if(n_===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let I=this._element;this._config.reference==="parent"?I=this._parent:u(this._config.reference)?I=h(this._config.reference):typeof this._config.reference=="object"&&(I=this._config.reference);const P=this._getPopperConfig();this._popper=Gg(I,this._menu,P)}_isShown(){return this._menu.classList.contains(fu)}_getPlacement(){const I=this._parent;if(I.classList.contains("dropend"))return QM;if(I.classList.contains("dropstart"))return e3;if(I.classList.contains("dropup-center"))return"top";if(I.classList.contains("dropdown-center"))return"bottom";const P=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return I.classList.contains("dropup")?P?KM:YM:P?JM:ZM}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:I}=this._config;return typeof I=="string"?I.split(",").map(P=>Number.parseInt(P,10)):typeof I=="function"?P=>I(P,this._element):I}_getPopperConfig(){const I={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(K.setDataAttribute(this._menu,"popper","static"),I.modifiers=[{name:"applyStyles",enabled:!1}]),{...I,...x(this._config.popperConfig,[void 0,I])}}_selectMenuItem({key:I,target:P}){const ue=z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(ke=>c(ke));ue.length&&w(ue,P,I===i_,!ue.includes(P)).focus()}static jQueryInterface(I){return this.each(function(){const P=ks.getOrCreateInstance(this,I);if(typeof I=="string"){if(P[I]===void 0)throw new TypeError(`No method named "${I}"`);P[I]()}})}static clearMenus(I){if(I.button===2||I.type==="keyup"&&I.key!=="Tab")return;const P=z.find(qM);for(const ue of P){const ke=ks.getInstance(ue);if(!ke||ke._config.autoClose===!1)continue;const Oe=I.composedPath(),Ge=Oe.includes(ke._menu);if(Oe.includes(ke._element)||ke._config.autoClose==="inside"&&!Ge||ke._config.autoClose==="outside"&&Ge||ke._menu.contains(I.target)&&(I.type==="keyup"&&I.key==="Tab"||/input|select|option|textarea|form/i.test(I.target.tagName)))continue;const Je={relatedTarget:ke._element};I.type==="click"&&(Je.clickEvent=I),ke._completeHide(Je)}}static dataApiKeydownHandler(I){const P=/input|textarea/i.test(I.target.tagName),ue=I.key==="Escape",ke=[jM,i_].includes(I.key);if(!ke&&!ue||P&&!ue)return;I.preventDefault();const Oe=this.matches(Xa)?this:z.prev(this,Xa)[0]||z.next(this,Xa)[0]||z.findOne(Xa,I.delegateTarget.parentNode),Ge=ks.getOrCreateInstance(Oe);if(ke)return I.stopPropagation(),Ge.show(),void Ge._selectMenuItem(I);Ge._isShown()&&(I.stopPropagation(),Ge.hide(),Oe.focus())}}J.on(document,o_,Xa,ks.dataApiKeydownHandler),J.on(document,o_,Rf,ks.dataApiKeydownHandler),J.on(document,s_,ks.clearMenus),J.on(document,XM,ks.clearMenus),J.on(document,s_,Xa,function(X){X.preventDefault(),ks.getOrCreateInstance(this).toggle()}),y(ks);const a_="backdrop",l_="show",u_=`mousedown.bs.${a_}`,r3={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},i3={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class c_ extends xe{constructor(I){super(),this._config=this._getConfig(I),this._isAppended=!1,this._element=null}static get Default(){return r3}static get DefaultType(){return i3}static get NAME(){return a_}show(I){if(!this._config.isVisible)return void x(I);this._append();const P=this._getElement();this._config.isAnimated&&m(P),P.classList.add(l_),this._emulateAnimation(()=>{x(I)})}hide(I){this._config.isVisible?(this._getElement().classList.remove(l_),this._emulateAnimation(()=>{this.dispose(),x(I)})):x(I)}dispose(){this._isAppended&&(J.off(this._element,u_),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const I=document.createElement("div");I.className=this._config.className,this._config.isAnimated&&I.classList.add("fade"),this._element=I}return this._element}_configAfterMerge(I){return I.rootElement=h(I.rootElement),I}_append(){if(this._isAppended)return;const I=this._getElement();this._config.rootElement.append(I),J.on(I,u_,()=>{x(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(I){b(I,this._getElement(),this._config.isAnimated)}}const Bf=".bs.focustrap",s3=`focusin${Bf}`,o3=`keydown.tab${Bf}`,h_="backward",a3={autofocus:!0,trapElement:null},l3={autofocus:"boolean",trapElement:"element"};class f_ extends xe{constructor(I){super(),this._config=this._getConfig(I),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return a3}static get DefaultType(){return l3}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),J.off(document,Bf),J.on(document,s3,I=>this._handleFocusin(I)),J.on(document,o3,I=>this._handleKeydown(I)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,J.off(document,Bf))}_handleFocusin(I){const{trapElement:P}=this._config;if(I.target===document||I.target===P||P.contains(I.target))return;const ue=z.focusableChildren(P);ue.length===0?P.focus():this._lastTabNavDirection===h_?ue[ue.length-1].focus():ue[0].focus()}_handleKeydown(I){I.key==="Tab"&&(this._lastTabNavDirection=I.shiftKey?h_:"forward")}}const d_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",p_=".sticky-top",Uf="padding-right",m_="margin-right";class Wg{constructor(){this._element=document.body}getWidth(){const I=document.documentElement.clientWidth;return Math.abs(window.innerWidth-I)}hide(){const I=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Uf,P=>P+I),this._setElementAttributes(d_,Uf,P=>P+I),this._setElementAttributes(p_,m_,P=>P-I)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Uf),this._resetElementAttributes(d_,Uf),this._resetElementAttributes(p_,m_)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(I,P,ue){const ke=this.getWidth();this._applyManipulationCallback(I,Oe=>{if(Oe!==this._element&&window.innerWidth>Oe.clientWidth+ke)return;this._saveInitialAttribute(Oe,P);const Ge=window.getComputedStyle(Oe).getPropertyValue(P);Oe.style.setProperty(P,`${ue(Number.parseFloat(Ge))}px`)})}_saveInitialAttribute(I,P){const ue=I.style.getPropertyValue(P);ue&&K.setDataAttribute(I,P,ue)}_resetElementAttributes(I,P){this._applyManipulationCallback(I,ue=>{const ke=K.getDataAttribute(ue,P);ke!==null?(K.removeDataAttribute(ue,P),ue.style.setProperty(P,ke)):ue.style.removeProperty(P)})}_applyManipulationCallback(I,P){if(u(I))P(I);else for(const ue of z.find(I,this._element))P(ue)}}const ds=".bs.modal",u3=`hide${ds}`,c3=`hidePrevented${ds}`,g_=`hidden${ds}`,v_=`show${ds}`,h3=`shown${ds}`,f3=`resize${ds}`,d3=`click.dismiss${ds}`,p3=`mousedown.dismiss${ds}`,m3=`keydown.dismiss${ds}`,g3=`click${ds}.data-api`,y_="modal-open",b_="show",Xg="modal-static",v3={backdrop:!0,focus:!0,keyboard:!0},y3={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class qa extends ie{constructor(I,P){super(I,P),this._dialog=z.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Wg,this._addEventListeners()}static get Default(){return v3}static get DefaultType(){return y3}static get NAME(){return"modal"}toggle(I){return this._isShown?this.hide():this.show(I)}show(I){this._isShown||this._isTransitioning||J.trigger(this._element,v_,{relatedTarget:I}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(y_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(I)))}hide(){this._isShown&&!this._isTransitioning&&(J.trigger(this._element,u3).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(b_),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){J.off(window,ds),J.off(this._dialog,ds),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new c_({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new f_({trapElement:this._element})}_showElement(I){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const P=z.findOne(".modal-body",this._dialog);P&&(P.scrollTop=0),m(this._element),this._element.classList.add(b_),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,J.trigger(this._element,h3,{relatedTarget:I})},this._dialog,this._isAnimated())}_addEventListeners(){J.on(this._element,m3,I=>{I.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),J.on(window,f3,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),J.on(this._element,p3,I=>{J.one(this._element,d3,P=>{this._element===I.target&&this._element===P.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(y_),this._resetAdjustments(),this._scrollBar.reset(),J.trigger(this._element,g_)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(J.trigger(this._element,c3).defaultPrevented)return;const I=this._element.scrollHeight>document.documentElement.clientHeight,P=this._element.style.overflowY;P==="hidden"||this._element.classList.contains(Xg)||(I||(this._element.style.overflowY="hidden"),this._element.classList.add(Xg),this._queueCallback(()=>{this._element.classList.remove(Xg),this._queueCallback(()=>{this._element.style.overflowY=P},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const I=this._element.scrollHeight>document.documentElement.clientHeight,P=this._scrollBar.getWidth(),ue=P>0;if(ue&&!I){const ke=E()?"paddingLeft":"paddingRight";this._element.style[ke]=`${P}px`}if(!ue&&I){const ke=E()?"paddingRight":"paddingLeft";this._element.style[ke]=`${P}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(I,P){return this.each(function(){const ue=qa.getOrCreateInstance(this,I);if(typeof I=="string"){if(ue[I]===void 0)throw new TypeError(`No method named "${I}"`);ue[I](P)}})}}J.on(document,g3,'[data-bs-toggle="modal"]',function(X){const I=z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&X.preventDefault(),J.one(I,v_,ue=>{ue.defaultPrevented||J.one(I,g_,()=>{c(this)&&this.focus()})});const P=z.findOne(".modal.show");P&&qa.getInstance(P).hide(),qa.getOrCreateInstance(I).toggle(this)}),se(qa),y(qa);const wo=".bs.offcanvas",x_=".data-api",b3=`load${wo}${x_}`,__="show",w_="showing",E_="hiding",S_=".offcanvas.show",x3=`show${wo}`,_3=`shown${wo}`,w3=`hide${wo}`,C_=`hidePrevented${wo}`,A_=`hidden${wo}`,E3=`resize${wo}`,S3=`click${wo}${x_}`,C3=`keydown.dismiss${wo}`,A3={backdrop:!0,keyboard:!0,scroll:!1},T3={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Eo extends ie{constructor(I,P){super(I,P),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return A3}static get DefaultType(){return T3}static get NAME(){return"offcanvas"}toggle(I){return this._isShown?this.hide():this.show(I)}show(I){this._isShown||J.trigger(this._element,x3,{relatedTarget:I}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Wg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(w_),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(__),this._element.classList.remove(w_),J.trigger(this._element,_3,{relatedTarget:I})},this._element,!0))}hide(){this._isShown&&(J.trigger(this._element,w3).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(E_),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(__,E_),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Wg().reset(),J.trigger(this._element,A_)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const I=!!this._config.backdrop;return new c_({className:"offcanvas-backdrop",isVisible:I,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:I?()=>{this._config.backdrop!=="static"?this.hide():J.trigger(this._element,C_)}:null})}_initializeFocusTrap(){return new f_({trapElement:this._element})}_addEventListeners(){J.on(this._element,C3,I=>{I.key==="Escape"&&(this._config.keyboard?this.hide():J.trigger(this._element,C_))})}static jQueryInterface(I){return this.each(function(){const P=Eo.getOrCreateInstance(this,I);if(typeof I=="string"){if(P[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);P[I](this)}})}}J.on(document,S3,'[data-bs-toggle="offcanvas"]',function(X){const I=z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&X.preventDefault(),f(this))return;J.one(I,A_,()=>{c(this)&&this.focus()});const P=z.findOne(S_);P&&P!==I&&Eo.getInstance(P).hide(),Eo.getOrCreateInstance(I).toggle(this)}),J.on(window,b3,()=>{for(const X of z.find(S_))Eo.getOrCreateInstance(X).show()}),J.on(window,E3,()=>{for(const X of z.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(X).position!=="fixed"&&Eo.getOrCreateInstance(X).hide()}),se(Eo),y(Eo);const T_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},I3=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),D3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,N3=(X,I)=>{const P=X.nodeName.toLowerCase();return I.includes(P)?!I3.has(P)||!!D3.test(X.nodeValue):I.filter(ue=>ue instanceof RegExp).some(ue=>ue.test(P))},F3={allowList:T_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},k3={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},M3={entry:"(string|element|function|null)",selector:"(string|element)"};class O3 extends xe{constructor(I){super(),this._config=this._getConfig(I)}static get Default(){return F3}static get DefaultType(){return k3}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(I=>this._resolvePossibleFunction(I)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(I){return this._checkContent(I),this._config.content={...this._config.content,...I},this}toHtml(){const I=document.createElement("div");I.innerHTML=this._maybeSanitize(this._config.template);for(const[ke,Oe]of Object.entries(this._config.content))this._setContent(I,Oe,ke);const P=I.children[0],ue=this._resolvePossibleFunction(this._config.extraClass);return ue&&P.classList.add(...ue.split(" ")),P}_typeCheckConfig(I){super._typeCheckConfig(I),this._checkContent(I.content)}_checkContent(I){for(const[P,ue]of Object.entries(I))super._typeCheckConfig({selector:P,entry:ue},M3)}_setContent(I,P,ue){const ke=z.findOne(ue,I);ke&&((P=this._resolvePossibleFunction(P))?u(P)?this._putElementInTemplate(h(P),ke):this._config.html?ke.innerHTML=this._maybeSanitize(P):ke.textContent=P:ke.remove())}_maybeSanitize(I){return this._config.sanitize?(function(P,ue,ke){if(!P.length)return P;if(ke&&typeof ke=="function")return ke(P);const Oe=new window.DOMParser().parseFromString(P,"text/html"),Ge=[].concat(...Oe.body.querySelectorAll("*"));for(const Je of Ge){const st=Je.nodeName.toLowerCase();if(!Object.keys(ue).includes(st)){Je.remove();continue}const bt=[].concat(...Je.attributes),xt=[].concat(ue["*"]||[],ue[st]||[]);for(const ft of bt)N3(ft,xt)||Je.removeAttribute(ft.nodeName)}return Oe.body.innerHTML})(I,this._config.allowList,this._config.sanitizeFn):I}_resolvePossibleFunction(I){return x(I,[void 0,this])}_putElementInTemplate(I,P){if(this._config.html)return P.innerHTML="",void P.append(I);P.textContent=I.textContent}}const L3=new Set(["sanitize","allowList","sanitizeFn"]),qg="fade",Vf="show",P3=".tooltip-inner",I_=".modal",D_="hide.bs.modal",kc="hover",Yg="focus",Kg="click",R3={AUTO:"auto",TOP:"top",RIGHT:E()?"left":"right",BOTTOM:"bottom",LEFT:E()?"right":"left"},B3={allowList:T_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},U3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ya extends ie{constructor(I,P){if(n_===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(I,P),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return B3}static get DefaultType(){return U3}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),J.off(this._element.closest(I_),D_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const I=J.trigger(this._element,this.constructor.eventName("show")),P=(d(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(I.defaultPrevented||!P)return;this._disposePopper();const ue=this._getTipElement();this._element.setAttribute("aria-describedby",ue.getAttribute("id"));const{container:ke}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(ke.append(ue),J.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(ue),ue.classList.add(Vf),"ontouchstart"in document.documentElement)for(const Oe of[].concat(...document.body.children))J.on(Oe,"mouseover",p);this._queueCallback(()=>{J.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!J.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Vf),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))J.off(I,"mouseover",p);this._activeTrigger[Kg]=!1,this._activeTrigger[Yg]=!1,this._activeTrigger[kc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),J.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(I){const P=this._getTemplateFactory(I).toHtml();if(!P)return null;P.classList.remove(qg,Vf),P.classList.add(`bs-${this.constructor.NAME}-auto`);const ue=(ke=>{do ke+=Math.floor(1e6*Math.random());while(document.getElementById(ke));return ke})(this.constructor.NAME).toString();return P.setAttribute("id",ue),this._isAnimated()&&P.classList.add(qg),P}setContent(I){this._newContent=I,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(I){return this._templateFactory?this._templateFactory.changeContent(I):this._templateFactory=new O3({...this._config,content:I,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[P3]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(I){return this.constructor.getOrCreateInstance(I.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(qg)}_isShown(){return this.tip&&this.tip.classList.contains(Vf)}_createPopper(I){const P=x(this._config.placement,[this,I,this._element]),ue=R3[P.toUpperCase()];return Gg(this._element,I,this._getPopperConfig(ue))}_getOffset(){const{offset:I}=this._config;return typeof I=="string"?I.split(",").map(P=>Number.parseInt(P,10)):typeof I=="function"?P=>I(P,this._element):I}_resolvePossibleFunction(I){return x(I,[this._element,this._element])}_getPopperConfig(I){const P={placement:I,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:ue=>{this._getTipElement().setAttribute("data-popper-placement",ue.state.placement)}}]};return{...P,...x(this._config.popperConfig,[void 0,P])}}_setListeners(){const I=this._config.trigger.split(" ");for(const P of I)if(P==="click")J.on(this._element,this.constructor.eventName("click"),this._config.selector,ue=>{const ke=this._initializeOnDelegatedTarget(ue);ke._activeTrigger[Kg]=!(ke._isShown()&&ke._activeTrigger[Kg]),ke.toggle()});else if(P!=="manual"){const ue=P===kc?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),ke=P===kc?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");J.on(this._element,ue,this._config.selector,Oe=>{const Ge=this._initializeOnDelegatedTarget(Oe);Ge._activeTrigger[Oe.type==="focusin"?Yg:kc]=!0,Ge._enter()}),J.on(this._element,ke,this._config.selector,Oe=>{const Ge=this._initializeOnDelegatedTarget(Oe);Ge._activeTrigger[Oe.type==="focusout"?Yg:kc]=Ge._element.contains(Oe.relatedTarget),Ge._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},J.on(this._element.closest(I_),D_,this._hideModalHandler)}_fixTitle(){const I=this._element.getAttribute("title");I&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",I),this._element.setAttribute("data-bs-original-title",I),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(I,P){clearTimeout(this._timeout),this._timeout=setTimeout(I,P)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(I){const P=K.getDataAttributes(this._element);for(const ue of Object.keys(P))L3.has(ue)&&delete P[ue];return I={...P,...typeof I=="object"&&I?I:{}},I=this._mergeConfigObj(I),I=this._configAfterMerge(I),this._typeCheckConfig(I),I}_configAfterMerge(I){return I.container=I.container===!1?document.body:h(I.container),typeof I.delay=="number"&&(I.delay={show:I.delay,hide:I.delay}),typeof I.title=="number"&&(I.title=I.title.toString()),typeof I.content=="number"&&(I.content=I.content.toString()),I}_getDelegateConfig(){const I={};for(const[P,ue]of Object.entries(this._config))this.constructor.Default[P]!==ue&&(I[P]=ue);return I.selector=!1,I.trigger="manual",I}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(I){return this.each(function(){const P=Ya.getOrCreateInstance(this,I);if(typeof I=="string"){if(P[I]===void 0)throw new TypeError(`No method named "${I}"`);P[I]()}})}}y(Ya);const V3=".popover-header",$3=".popover-body",j3={...Ya.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},z3={...Ya.DefaultType,content:"(null|string|element|function)"};class $f extends Ya{static get Default(){return j3}static get DefaultType(){return z3}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[V3]:this._getTitle(),[$3]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(I){return this.each(function(){const P=$f.getOrCreateInstance(this,I);if(typeof I=="string"){if(P[I]===void 0)throw new TypeError(`No method named "${I}"`);P[I]()}})}}y($f);const Zg=".bs.scrollspy",G3=`activate${Zg}`,N_=`click${Zg}`,H3=`load${Zg}.data-api`,du="active",Jg="[href]",F_=".nav-link",W3=`${F_}, .nav-item > ${F_}, .list-group-item`,X3={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},q3={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Mc extends ie{constructor(I,P){super(I,P),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return X3}static get DefaultType(){return q3}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const I of this._observableSections.values())this._observer.observe(I)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(I){return I.target=h(I.target)||document.body,I.rootMargin=I.offset?`${I.offset}px 0px -30%`:I.rootMargin,typeof I.threshold=="string"&&(I.threshold=I.threshold.split(",").map(P=>Number.parseFloat(P))),I}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(J.off(this._config.target,N_),J.on(this._config.target,N_,Jg,I=>{const P=this._observableSections.get(I.target.hash);if(P){I.preventDefault();const ue=this._rootElement||window,ke=P.offsetTop-this._element.offsetTop;if(ue.scrollTo)return void ue.scrollTo({top:ke,behavior:"smooth"});ue.scrollTop=ke}}))}_getNewObserver(){const I={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(P=>this._observerCallback(P),I)}_observerCallback(I){const P=Ge=>this._targetLinks.get(`#${Ge.target.id}`),ue=Ge=>{this._previousScrollData.visibleEntryTop=Ge.target.offsetTop,this._process(P(Ge))},ke=(this._rootElement||document.documentElement).scrollTop,Oe=ke>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=ke;for(const Ge of I){if(!Ge.isIntersecting){this._activeTarget=null,this._clearActiveClass(P(Ge));continue}const Je=Ge.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Oe&&Je){if(ue(Ge),!ke)return}else Oe||Je||ue(Ge)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const I=z.find(Jg,this._config.target);for(const P of I){if(!P.hash||f(P))continue;const ue=z.findOne(decodeURI(P.hash),this._element);c(ue)&&(this._targetLinks.set(decodeURI(P.hash),P),this._observableSections.set(P.hash,ue))}}_process(I){this._activeTarget!==I&&(this._clearActiveClass(this._config.target),this._activeTarget=I,I.classList.add(du),this._activateParents(I),J.trigger(this._element,G3,{relatedTarget:I}))}_activateParents(I){if(I.classList.contains("dropdown-item"))z.findOne(".dropdown-toggle",I.closest(".dropdown")).classList.add(du);else for(const P of z.parents(I,".nav, .list-group"))for(const ue of z.prev(P,W3))ue.classList.add(du)}_clearActiveClass(I){I.classList.remove(du);const P=z.find(`${Jg}.${du}`,I);for(const ue of P)ue.classList.remove(du)}static jQueryInterface(I){return this.each(function(){const P=Mc.getOrCreateInstance(this,I);if(typeof I=="string"){if(P[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);P[I]()}})}}J.on(window,H3,()=>{for(const X of z.find('[data-bs-spy="scroll"]'))Mc.getOrCreateInstance(X)}),y(Mc);const Ka=".bs.tab",Y3=`hide${Ka}`,K3=`hidden${Ka}`,Z3=`show${Ka}`,J3=`shown${Ka}`,Q3=`click${Ka}`,eO=`keydown${Ka}`,tO=`load${Ka}`,nO="ArrowLeft",k_="ArrowRight",rO="ArrowUp",M_="ArrowDown",Qg="Home",O_="End",Za="active",L_="fade",e0="show",P_=".dropdown-toggle",t0=`:not(${P_})`,R_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',n0=`.nav-link${t0}, .list-group-item${t0}, [role="tab"]${t0}, ${R_}`,iO=`.${Za}[data-bs-toggle="tab"], .${Za}[data-bs-toggle="pill"], .${Za}[data-bs-toggle="list"]`;class Ja extends ie{constructor(I){super(I),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),J.on(this._element,eO,P=>this._keydown(P)))}static get NAME(){return"tab"}show(){const I=this._element;if(this._elemIsActive(I))return;const P=this._getActiveElem(),ue=P?J.trigger(P,Y3,{relatedTarget:I}):null;J.trigger(I,Z3,{relatedTarget:P}).defaultPrevented||ue&&ue.defaultPrevented||(this._deactivate(P,I),this._activate(I,P))}_activate(I,P){I&&(I.classList.add(Za),this._activate(z.getElementFromSelector(I)),this._queueCallback(()=>{I.getAttribute("role")==="tab"?(I.removeAttribute("tabindex"),I.setAttribute("aria-selected",!0),this._toggleDropDown(I,!0),J.trigger(I,J3,{relatedTarget:P})):I.classList.add(e0)},I,I.classList.contains(L_)))}_deactivate(I,P){I&&(I.classList.remove(Za),I.blur(),this._deactivate(z.getElementFromSelector(I)),this._queueCallback(()=>{I.getAttribute("role")==="tab"?(I.setAttribute("aria-selected",!1),I.setAttribute("tabindex","-1"),this._toggleDropDown(I,!1),J.trigger(I,K3,{relatedTarget:P})):I.classList.remove(e0)},I,I.classList.contains(L_)))}_keydown(I){if(![nO,k_,rO,M_,Qg,O_].includes(I.key))return;I.stopPropagation(),I.preventDefault();const P=this._getChildren().filter(ke=>!f(ke));let ue;if([Qg,O_].includes(I.key))ue=P[I.key===Qg?0:P.length-1];else{const ke=[k_,M_].includes(I.key);ue=w(P,I.target,ke,!0)}ue&&(ue.focus({preventScroll:!0}),Ja.getOrCreateInstance(ue).show())}_getChildren(){return z.find(n0,this._parent)}_getActiveElem(){return this._getChildren().find(I=>this._elemIsActive(I))||null}_setInitialAttributes(I,P){this._setAttributeIfNotExists(I,"role","tablist");for(const ue of P)this._setInitialAttributesOnChild(ue)}_setInitialAttributesOnChild(I){I=this._getInnerElement(I);const P=this._elemIsActive(I),ue=this._getOuterElement(I);I.setAttribute("aria-selected",P),ue!==I&&this._setAttributeIfNotExists(ue,"role","presentation"),P||I.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(I,"role","tab"),this._setInitialAttributesOnTargetPanel(I)}_setInitialAttributesOnTargetPanel(I){const P=z.getElementFromSelector(I);P&&(this._setAttributeIfNotExists(P,"role","tabpanel"),I.id&&this._setAttributeIfNotExists(P,"aria-labelledby",`${I.id}`))}_toggleDropDown(I,P){const ue=this._getOuterElement(I);if(!ue.classList.contains("dropdown"))return;const ke=(Oe,Ge)=>{const Je=z.findOne(Oe,ue);Je&&Je.classList.toggle(Ge,P)};ke(P_,Za),ke(".dropdown-menu",e0),ue.setAttribute("aria-expanded",P)}_setAttributeIfNotExists(I,P,ue){I.hasAttribute(P)||I.setAttribute(P,ue)}_elemIsActive(I){return I.classList.contains(Za)}_getInnerElement(I){return I.matches(n0)?I:z.findOne(n0,I)}_getOuterElement(I){return I.closest(".nav-item, .list-group-item")||I}static jQueryInterface(I){return this.each(function(){const P=Ja.getOrCreateInstance(this);if(typeof I=="string"){if(P[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);P[I]()}})}}J.on(document,Q3,R_,function(X){["A","AREA"].includes(this.tagName)&&X.preventDefault(),f(this)||Ja.getOrCreateInstance(this).show()}),J.on(window,tO,()=>{for(const X of z.find(iO))Ja.getOrCreateInstance(X)}),y(Ja);const sa=".bs.toast",sO=`mouseover${sa}`,oO=`mouseout${sa}`,aO=`focusin${sa}`,lO=`focusout${sa}`,uO=`hide${sa}`,cO=`hidden${sa}`,hO=`show${sa}`,fO=`shown${sa}`,B_="hide",jf="show",zf="showing",dO={animation:"boolean",autohide:"boolean",delay:"number"},pO={animation:!0,autohide:!0,delay:5e3};class Oc extends ie{constructor(I,P){super(I,P),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return pO}static get DefaultType(){return dO}static get NAME(){return"toast"}show(){J.trigger(this._element,hO).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(B_),m(this._element),this._element.classList.add(jf,zf),this._queueCallback(()=>{this._element.classList.remove(zf),J.trigger(this._element,fO),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(J.trigger(this._element,uO).defaultPrevented||(this._element.classList.add(zf),this._queueCallback(()=>{this._element.classList.add(B_),this._element.classList.remove(zf,jf),J.trigger(this._element,cO)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(jf),super.dispose()}isShown(){return this._element.classList.contains(jf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(I,P){switch(I.type){case"mouseover":case"mouseout":this._hasMouseInteraction=P;break;case"focusin":case"focusout":this._hasKeyboardInteraction=P}if(P)return void this._clearTimeout();const ue=I.relatedTarget;this._element===ue||this._element.contains(ue)||this._maybeScheduleHide()}_setListeners(){J.on(this._element,sO,I=>this._onInteraction(I,!0)),J.on(this._element,oO,I=>this._onInteraction(I,!1)),J.on(this._element,aO,I=>this._onInteraction(I,!0)),J.on(this._element,lO,I=>this._onInteraction(I,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(I){return this.each(function(){const P=Oc.getOrCreateInstance(this,I);if(typeof I=="string"){if(P[I]===void 0)throw new TypeError(`No method named "${I}"`);P[I](this)}})}}return se(Oc),y(Oc),{Alert:q,Button:Ae,Carousel:$e,Collapse:vi,Dropdown:ks,Modal:qa,Offcanvas:Eo,Popover:$f,ScrollSpy:Mc,Tab:Ja,Toast:Oc,Tooltip:Ya}})})(Ld)),Ld.exports}CO();const AO=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,TO=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,IO=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function DO(n,t){if(n==="__proto__"||n==="constructor"&&t&&typeof t=="object"&&"prototype"in t){NO(n);return}return t}function NO(n){console.warn(`[destr] Dropping "${n}" key to prevent prototype pollution.`)}function FO(n,t={}){if(typeof n!="string")return n;if(n[0]==='"'&&n[n.length-1]==='"'&&n.indexOf("\\")===-1)return n.slice(1,-1);const r=n.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!IO.test(n)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return n}try{if(AO.test(n)||TO.test(n)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(n,DO)}return JSON.parse(n)}catch(i){if(t.strict)throw i;return n}}function kO(n,t){if(n==null)return;let r=n;for(let i=0;i<t.length;i++){if(r==null||r[t[i]]==null)return;r=r[t[i]]}return r}function s1(n,t,r){if(r.length===0)return t;const i=r[0];return r.length>1&&(t=s1(typeof n!="object"||n===null||!Object.prototype.hasOwnProperty.call(n,i)?Number.isInteger(Number(r[1]))?[]:{}:n[i],t,Array.prototype.slice.call(r,1))),Number.isInteger(Number(i))&&Array.isArray(n)?n.slice()[i]:Object.assign({},n,{[i]:t})}function rA(n,t){if(n==null||t.length===0)return n;if(t.length===1){if(n==null)return n;if(Number.isInteger(t[0])&&Array.isArray(n))return Array.prototype.slice.call(n,0).splice(t[0],1);const r={};for(const i in n)r[i]=n[i];return delete r[t[0]],r}if(n[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(n))return Array.prototype.concat.call([],n);const r={};for(const i in n)r[i]=n[i];return r}return s1(n,rA(n[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function iA(n,t){return t.map(r=>r.split(".")).map(r=>[r,kO(n,r)]).filter(r=>r[1]!==void 0).reduce((r,i)=>s1(r,i[1],i[0]),{})}function sA(n,t){return t.map(r=>r.split(".")).reduce((r,i)=>rA(r,i),n)}function J_(n,{storage:t,serializer:r,key:i,debug:s,pick:o,omit:a,beforeHydrate:l,afterHydrate:u},h,c=!0){try{c&&l?.(h);const f=t.getItem(i);if(f){const d=r.deserialize(f),p=o?iA(d,o):d,m=a?sA(p,a):p;n.$patch(m)}c&&u?.(h)}catch(f){s&&console.error("[pinia-plugin-persistedstate]",f)}}function Q_(n,{storage:t,serializer:r,key:i,debug:s,pick:o,omit:a}){try{const l=o?iA(n,o):n,u=a?sA(l,a):l,h=r.serialize(u);t.setItem(i,h)}catch(l){s&&console.error("[pinia-plugin-persistedstate]",l)}}function MO(n,t,r){const{pinia:i,store:s,options:{persist:o=r}}=n;if(!o)return;if(!(s.$id in i.state.value)){const u=i._s.get(s.$id.replace("__hot:",""));u&&Promise.resolve().then(()=>u.$persist());return}const l=(Array.isArray(o)?o:o===!0?[{}]:[o]).map(t);s.$hydrate=({runHooks:u=!0}={})=>{l.forEach(h=>{J_(s,h,n,u)})},s.$persist=()=>{l.forEach(u=>{Q_(s.$state,u)})},l.forEach(u=>{J_(s,u,n),s.$subscribe((h,c)=>Q_(c,u),{detached:!0})})}function OO(n={}){return function(t){MO(t,r=>({key:(n.key?n.key:i=>i)(r.key??t.store.$id),debug:r.debug??n.debug??!1,serializer:r.serializer??n.serializer??{serialize:i=>JSON.stringify(i),deserialize:i=>FO(i)},storage:r.storage??n.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),n.auto??!1)}}var LO=OO();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xr(n){const t=Object.create(null);for(const r of n.split(","))t[r]=1;return r=>r in t}const un={},bl=[],Wr=()=>{},pl=()=>!1,Ba=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),cm=n=>n.startsWith("onUpdate:"),ln=Object.assign,hm=(n,t)=>{const r=n.indexOf(t);r>-1&&n.splice(r,1)},PO=Object.prototype.hasOwnProperty,wn=(n,t)=>PO.call(n,t),dt=Array.isArray,xl=n=>eu(n)==="[object Map]",Ua=n=>eu(n)==="[object Set]",Ov=n=>eu(n)==="[object Date]",oA=n=>eu(n)==="[object RegExp]",Mt=n=>typeof n=="function",Bt=n=>typeof n=="string",ki=n=>typeof n=="symbol",En=n=>n!==null&&typeof n=="object",fm=n=>(En(n)||Mt(n))&&Mt(n.then)&&Mt(n.catch),o1=Object.prototype.toString,eu=n=>o1.call(n),aA=n=>eu(n).slice(8,-1),lf=n=>eu(n)==="[object Object]",dm=n=>Bt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Vo=Xr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lA=Xr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),pm=n=>{const t=Object.create(null);return(r=>t[r]||(t[r]=n(r)))},RO=/-\w/g,qn=pm(n=>n.replace(RO,t=>t.slice(1).toUpperCase())),BO=/\B([A-Z])/g,ci=pm(n=>n.replace(BO,"-$1").toLowerCase()),Va=pm(n=>n.charAt(0).toUpperCase()+n.slice(1)),_l=pm(n=>n?`on${Va(n)}`:""),si=(n,t)=>!Object.is(n,t),wl=(n,...t)=>{for(let r=0;r<n.length;r++)n[r](...t)},a1=(n,t,r,i=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:i,value:r})},wh=n=>{const t=parseFloat(n);return isNaN(t)?n:t},Eh=n=>{const t=Bt(n)?Number(n):NaN;return isNaN(t)?n:t};let ew;const uf=()=>ew||(ew=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),UO=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function VO(n){return UO.test(n)?`__props.${n}`:`__props[${JSON.stringify(n)}]`}function $O(n,t){return n+JSON.stringify(t,(r,i)=>typeof i=="function"?i.toString():i)}const jO={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},zO={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},GO={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},HO={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},WO={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},XO="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",l1=Xr(XO),qO=l1,tw=2;function uA(n,t=0,r=n.length){if(t=Math.max(0,Math.min(t,n.length)),r=Math.max(0,Math.min(r,n.length)),t>r)return"";let i=n.split(/(\r?\n)/);const s=i.filter((l,u)=>u%2===1);i=i.filter((l,u)=>u%2===0);let o=0;const a=[];for(let l=0;l<i.length;l++)if(o+=i[l].length+(s[l]&&s[l].length||0),o>=t){for(let u=l-tw;u<=l+tw||r>o;u++){if(u<0||u>=i.length)continue;const h=u+1;a.push(`${h}${" ".repeat(Math.max(3-String(h).length,0))}|  ${i[u]}`);const c=i[u].length,f=s[u]&&s[u].length||0;if(u===l){const d=t-(o-(c+f)),p=Math.max(1,r>o?c-d:r-t);a.push("   |  "+" ".repeat(d)+"^".repeat(p))}else if(u>l){if(r>o){const d=Math.max(Math.min(r-o,c),1);a.push("   |  "+"^".repeat(d))}o+=c+f}}break}return a.join(`
`)}function Xn(n){if(dt(n)){const t={};for(let r=0;r<n.length;r++){const i=n[r],s=Bt(i)?u1(i):Xn(i);if(s)for(const o in s)t[o]=s[o]}return t}else if(Bt(n)||En(n))return n}const YO=/;(?![^(]*\))/g,KO=/:([^]+)/,ZO=/\/\*[^]*?\*\//g;function u1(n){const t={};return n.replace(ZO,"").split(YO).forEach(r=>{if(r){const i=r.split(KO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function JO(n){if(!n)return"";if(Bt(n))return n;let t="";for(const r in n){const i=n[r];if(Bt(i)||typeof i=="number"){const s=r.startsWith("--")?r:ci(r);t+=`${s}:${i};`}}return t}function ht(n){let t="";if(Bt(n))t=n;else if(dt(n))for(let r=0;r<n.length;r++){const i=ht(n[r]);i&&(t+=i+" ")}else if(En(n))for(const r in n)n[r]&&(t+=r+" ");return t.trim()}function cA(n){if(!n)return null;let{class:t,style:r}=n;return t&&!Bt(t)&&(n.class=ht(t)),r&&(n.style=Xn(r)),n}const QO="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",eL="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",tL="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",nL="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",hA=Xr(QO),fA=Xr(eL),dA=Xr(tL),pA=Xr(nL),mA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gA=Xr(mA),rL=Xr(mA+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function c1(n){return!!n||n===""}const iL=/[>/="'\u0009\u000a\u000c\u0020]/,o0={};function sL(n){if(o0.hasOwnProperty(n))return o0[n];const t=iL.test(n);return t&&console.error(`unsafe attribute name: ${n}`),o0[n]=!t}const oL={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},aL=Xr("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),lL=Xr("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),uL=Xr("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function cL(n){if(n==null)return!1;const t=typeof n;return t==="string"||t==="number"||t==="boolean"}const hL=/["'&<>]/;function fL(n){const t=""+n,r=hL.exec(t);if(!r)return t;let i="",s,o,a=0;for(o=r.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}a!==o&&(i+=t.slice(a,o)),a=o+1,i+=s}return a!==o?i+t.slice(a,o):i}const dL=/^-?>|<!--|-->|--!>|<!-$/g;function pL(n){return n.replace(dL,"")}const vA=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function mL(n,t){return n.replace(vA,r=>t?r==='"'?'\\\\\\"':`\\\\${r}`:`\\${r}`)}function gL(n,t){if(n.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<n.length;i++)r=Ho(n[i],t[i]);return r}function Ho(n,t){if(n===t)return!0;let r=Ov(n),i=Ov(t);if(r||i)return r&&i?n.getTime()===t.getTime():!1;if(r=ki(n),i=ki(t),r||i)return n===t;if(r=dt(n),i=dt(t),r||i)return r&&i?gL(n,t):!1;if(r=En(n),i=En(t),r||i){if(!r||!i)return!1;const s=Object.keys(n).length,o=Object.keys(t).length;if(s!==o)return!1;for(const a in n){const l=n.hasOwnProperty(a),u=t.hasOwnProperty(a);if(l&&!u||!l&&u||!Ho(n[a],t[a]))return!1}}return String(n)===String(t)}function cf(n,t){return n.findIndex(r=>Ho(r,t))}const yA=n=>!!(n&&n.__v_isRef===!0),Be=n=>Bt(n)?n:n==null?"":dt(n)||En(n)&&(n.toString===o1||!Mt(n.toString))?yA(n)?Be(n.value):JSON.stringify(n,bA,2):String(n),bA=(n,t)=>yA(t)?bA(n,t.value):xl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,s],o)=>(r[a0(i,o)+" =>"]=s,r),{})}:Ua(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>a0(r))}:ki(t)?a0(t):En(t)&&!dt(t)&&!lf(t)?String(t):t,a0=(n,t="")=>{var r;return ki(n)?`Symbol(${(r=n.description)!=null?r:t})`:n};function xA(n){return n==null?"initial":typeof n=="string"?n===""?" ":n:String(n)}const vL=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:bl,EMPTY_OBJ:un,NO:pl,NOOP:Wr,PatchFlagNames:zO,PatchFlags:jO,ShapeFlags:GO,SlotFlags:HO,camelize:qn,capitalize:Va,cssVarNameEscapeSymbolsRE:vA,def:a1,escapeHtml:fL,escapeHtmlComment:pL,extend:ln,genCacheKey:$O,genPropsAccessExp:VO,generateCodeFrame:uA,getEscapedCssVarName:mL,getGlobalThis:uf,hasChanged:si,hasOwn:wn,hyphenate:ci,includeBooleanAttr:c1,invokeArrayFns:wl,isArray:dt,isBooleanAttr:rL,isBuiltInDirective:lA,isDate:Ov,isFunction:Mt,isGloballyAllowed:l1,isGloballyWhitelisted:qO,isHTMLTag:hA,isIntegerKey:dm,isKnownHtmlAttr:aL,isKnownMathMLAttr:uL,isKnownSvgAttr:lL,isMap:xl,isMathMLTag:dA,isModelListener:cm,isObject:En,isOn:Ba,isPlainObject:lf,isPromise:fm,isRegExp:oA,isRenderableAttrValue:cL,isReservedProp:Vo,isSSRSafeAttrName:sL,isSVGTag:fA,isSet:Ua,isSpecialBooleanAttr:gA,isString:Bt,isSymbol:ki,isVoidTag:pA,looseEqual:Ho,looseIndexOf:cf,looseToNumber:wh,makeMap:Xr,normalizeClass:ht,normalizeCssVarValue:xA,normalizeProps:cA,normalizeStyle:Xn,objectToString:o1,parseStringStyle:u1,propsToAttrMap:oL,remove:hm,slotFlagsText:WO,stringifyStyle:JO,toDisplayString:Be,toHandlerKey:_l,toNumber:Eh,toRawType:aA,toTypeString:eu},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ri;class h1{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ri,!t&&ri&&(this.index=(ri.scopes||(ri.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=ri;try{return ri=this,t()}finally{ri=r}}}on(){++this._on===1&&(this.prevScope=ri,ri=this)}off(){this._on>0&&--this._on===0&&(ri=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function f1(n){return new h1(n)}function d1(){return ri}function _A(n,t=!1){ri&&ri.cleanups.push(n)}let Hn;const l0=new WeakSet;class Sh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ri&&ri.active&&ri.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,l0.has(this)&&(l0.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||EA(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,nw(this),SA(this);const t=Hn,r=Hs;Hn=this,Hs=!0;try{return this.fn()}finally{CA(this),Hn=t,Hs=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)g1(t);this.deps=this.depsTail=void 0,nw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?l0.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Lv(this)&&this.run()}get dirty(){return Lv(this)}}let wA=0,th,nh;function EA(n,t=!1){if(n.flags|=8,t){n.next=nh,nh=n;return}n.next=th,th=n}function p1(){wA++}function m1(){if(--wA>0)return;if(nh){let t=nh;for(nh=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let n;for(;th;){let t=th;for(th=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){n||(n=i)}t=r}}if(n)throw n}function SA(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function CA(n){let t,r=n.depsTail,i=r;for(;i;){const s=i.prevDep;i.version===-1?(i===r&&(r=s),g1(i),yL(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}n.deps=t,n.depsTail=r}function Lv(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(AA(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function AA(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Ch)||(n.globalVersion=Ch,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Lv(n))))return;n.flags|=2;const t=n.dep,r=Hn,i=Hs;Hn=n,Hs=!0;try{SA(n);const s=n.fn(n._value);(t.version===0||si(s,n._value))&&(n.flags|=128,n._value=s,t.version++)}catch(s){throw t.version++,s}finally{Hn=r,Hs=i,CA(n),n.flags&=-3}}function g1(n,t=!1){const{dep:r,prevSub:i,nextSub:s}=n;if(i&&(i.nextSub=s,n.prevSub=void 0),s&&(s.prevSub=i,n.nextSub=void 0),r.subs===n&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)g1(o,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function yL(n){const{prevDep:t,nextDep:r}=n;t&&(t.nextDep=r,n.prevDep=void 0),r&&(r.prevDep=t,n.nextDep=void 0)}function bL(n,t){n.effect instanceof Sh&&(n=n.effect.fn);const r=new Sh(n);t&&ln(r,t);try{r.run()}catch(s){throw r.stop(),s}const i=r.run.bind(r);return i.effect=r,i}function xL(n){n.effect.stop()}let Hs=!0;const TA=[];function Wo(){TA.push(Hs),Hs=!1}function Xo(){const n=TA.pop();Hs=n===void 0?!0:n}function nw(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const r=Hn;Hn=void 0;try{t()}finally{Hn=r}}}let Ch=0;class _L{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class mm{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Hn||!Hs||Hn===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Hn)r=this.activeLink=new _L(Hn,this),Hn.deps?(r.prevDep=Hn.depsTail,Hn.depsTail.nextDep=r,Hn.depsTail=r):Hn.deps=Hn.depsTail=r,IA(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Hn.depsTail,r.nextDep=void 0,Hn.depsTail.nextDep=r,Hn.depsTail=r,Hn.deps===r&&(Hn.deps=i)}return r}trigger(t){this.version++,Ch++,this.notify(t)}notify(t){p1();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{m1()}}}function IA(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)IA(i)}const r=n.dep.subs;r!==n&&(n.prevSub=r,r&&(r.nextSub=n)),n.dep.subs=n}}const lp=new WeakMap,El=Symbol(""),Pv=Symbol(""),Ah=Symbol("");function oi(n,t,r){if(Hs&&Hn){let i=lp.get(n);i||lp.set(n,i=new Map);let s=i.get(r);s||(i.set(r,s=new mm),s.map=i,s.key=r),s.track()}}function Oo(n,t,r,i,s,o){const a=lp.get(n);if(!a){Ch++;return}const l=u=>{u&&u.trigger()};if(p1(),t==="clear")a.forEach(l);else{const u=dt(n),h=u&&dm(r);if(u&&r==="length"){const c=Number(i);a.forEach((f,d)=>{(d==="length"||d===Ah||!ki(d)&&d>=c)&&l(f)})}else switch((r!==void 0||a.has(void 0))&&l(a.get(r)),h&&l(a.get(Ah)),t){case"add":u?h&&l(a.get("length")):(l(a.get(El)),xl(n)&&l(a.get(Pv)));break;case"delete":u||(l(a.get(El)),xl(n)&&l(a.get(Pv)));break;case"set":xl(n)&&l(a.get(El));break}}m1()}function wL(n,t){const r=lp.get(n);return r&&r.get(t)}function mu(n){const t=mn(n);return t===n?t:(oi(t,"iterate",Ah),us(n)?t:t.map(Kr))}function gm(n){return oi(n=mn(n),"iterate",Ah),n}const EL={__proto__:null,[Symbol.iterator](){return u0(this,Symbol.iterator,Kr)},concat(...n){return mu(this).concat(...n.map(t=>dt(t)?mu(t):t))},entries(){return u0(this,"entries",n=>(n[1]=Kr(n[1]),n))},every(n,t){return So(this,"every",n,t,void 0,arguments)},filter(n,t){return So(this,"filter",n,t,r=>r.map(Kr),arguments)},find(n,t){return So(this,"find",n,t,Kr,arguments)},findIndex(n,t){return So(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return So(this,"findLast",n,t,Kr,arguments)},findLastIndex(n,t){return So(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return So(this,"forEach",n,t,void 0,arguments)},includes(...n){return c0(this,"includes",n)},indexOf(...n){return c0(this,"indexOf",n)},join(n){return mu(this).join(n)},lastIndexOf(...n){return c0(this,"lastIndexOf",n)},map(n,t){return So(this,"map",n,t,void 0,arguments)},pop(){return Lc(this,"pop")},push(...n){return Lc(this,"push",n)},reduce(n,...t){return rw(this,"reduce",n,t)},reduceRight(n,...t){return rw(this,"reduceRight",n,t)},shift(){return Lc(this,"shift")},some(n,t){return So(this,"some",n,t,void 0,arguments)},splice(...n){return Lc(this,"splice",n)},toReversed(){return mu(this).toReversed()},toSorted(n){return mu(this).toSorted(n)},toSpliced(...n){return mu(this).toSpliced(...n)},unshift(...n){return Lc(this,"unshift",n)},values(){return u0(this,"values",Kr)}};function u0(n,t,r){const i=gm(n),s=i[t]();return i!==n&&!us(n)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.done||(o.value=r(o.value)),o}),s}const SL=Array.prototype;function So(n,t,r,i,s,o){const a=gm(n),l=a!==n&&!us(n),u=a[t];if(u!==SL[t]){const f=u.apply(n,o);return l?Kr(f):f}let h=r;a!==n&&(l?h=function(f,d){return r.call(this,Kr(f),d,n)}:r.length>2&&(h=function(f,d){return r.call(this,f,d,n)}));const c=u.call(a,h,i);return l&&s?s(c):c}function rw(n,t,r,i){const s=gm(n);let o=r;return s!==n&&(us(n)?r.length>3&&(o=function(a,l,u){return r.call(this,a,l,u,n)}):o=function(a,l,u){return r.call(this,a,Kr(l),u,n)}),s[t](o,...i)}function c0(n,t,r){const i=mn(n);oi(i,"iterate",Ah);const s=i[t](...r);return(s===-1||s===!1)&&bm(r[0])?(r[0]=mn(r[0]),i[t](...r)):s}function Lc(n,t,r=[]){Wo(),p1();const i=mn(n)[t].apply(n,r);return m1(),Xo(),i}const CL=Xr("__proto__,__v_isRef,__isVue"),DA=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(ki));function AL(n){ki(n)||(n=String(n));const t=mn(this);return oi(t,"has",n),t.hasOwnProperty(n)}class NA{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){if(r==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return o;if(r==="__v_raw")return i===(s?o?PA:LA:o?OA:MA).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=dt(t);if(!s){let u;if(a&&(u=EL[r]))return u;if(r==="hasOwnProperty")return AL}const l=Reflect.get(t,r,sr(t)?t:i);if((ki(r)?DA.has(r):CL(r))||(s||oi(t,"get",r),o))return l;if(sr(l)){const u=a&&dm(r)?l:l.value;return s&&En(u)?up(u):u}return En(l)?s?up(l):mc(l):l}}class FA extends NA{constructor(t=!1){super(!1,t)}set(t,r,i,s){let o=t[r];if(!this._isShallow){const u=qo(o);if(!us(i)&&!qo(i)&&(o=mn(o),i=mn(i)),!dt(t)&&sr(o)&&!sr(i))return u||(o.value=i),!0}const a=dt(t)&&dm(r)?Number(r)<t.length:wn(t,r),l=Reflect.set(t,r,i,sr(t)?t:s);return t===mn(s)&&(a?si(i,o)&&Oo(t,"set",r,i):Oo(t,"add",r,i)),l}deleteProperty(t,r){const i=wn(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&i&&Oo(t,"delete",r,void 0),s}has(t,r){const i=Reflect.has(t,r);return(!ki(r)||!DA.has(r))&&oi(t,"has",r),i}ownKeys(t){return oi(t,"iterate",dt(t)?"length":El),Reflect.ownKeys(t)}}class kA extends NA{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const TL=new FA,IL=new kA,DL=new FA(!0),NL=new kA(!0),Rv=n=>n,Xf=n=>Reflect.getPrototypeOf(n);function FL(n,t,r){return function(...i){const s=this.__v_raw,o=mn(s),a=xl(o),l=n==="entries"||n===Symbol.iterator&&a,u=n==="keys"&&a,h=s[n](...i),c=r?Rv:t?cp:Kr;return!t&&oi(o,"iterate",u?Pv:El),{next(){const{value:f,done:d}=h.next();return d?{value:f,done:d}:{value:l?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function qf(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function kL(n,t){const r={get(s){const o=this.__v_raw,a=mn(o),l=mn(s);n||(si(s,l)&&oi(a,"get",s),oi(a,"get",l));const{has:u}=Xf(a),h=t?Rv:n?cp:Kr;if(u.call(a,s))return h(o.get(s));if(u.call(a,l))return h(o.get(l));o!==a&&o.get(s)},get size(){const s=this.__v_raw;return!n&&oi(mn(s),"iterate",El),s.size},has(s){const o=this.__v_raw,a=mn(o),l=mn(s);return n||(si(s,l)&&oi(a,"has",s),oi(a,"has",l)),s===l?o.has(s):o.has(s)||o.has(l)},forEach(s,o){const a=this,l=a.__v_raw,u=mn(l),h=t?Rv:n?cp:Kr;return!n&&oi(u,"iterate",El),l.forEach((c,f)=>s.call(o,h(c),h(f),a))}};return ln(r,n?{add:qf("add"),set:qf("set"),delete:qf("delete"),clear:qf("clear")}:{add(s){!t&&!us(s)&&!qo(s)&&(s=mn(s));const o=mn(this);return Xf(o).has.call(o,s)||(o.add(s),Oo(o,"add",s,s)),this},set(s,o){!t&&!us(o)&&!qo(o)&&(o=mn(o));const a=mn(this),{has:l,get:u}=Xf(a);let h=l.call(a,s);h||(s=mn(s),h=l.call(a,s));const c=u.call(a,s);return a.set(s,o),h?si(o,c)&&Oo(a,"set",s,o):Oo(a,"add",s,o),this},delete(s){const o=mn(this),{has:a,get:l}=Xf(o);let u=a.call(o,s);u||(s=mn(s),u=a.call(o,s)),l&&l.call(o,s);const h=o.delete(s);return u&&Oo(o,"delete",s,void 0),h},clear(){const s=mn(this),o=s.size!==0,a=s.clear();return o&&Oo(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=FL(s,n,t)}),r}function vm(n,t){const r=kL(n,t);return(i,s,o)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(wn(r,s)&&s in i?r:i,s,o)}const ML={get:vm(!1,!1)},OL={get:vm(!1,!0)},LL={get:vm(!0,!1)},PL={get:vm(!0,!0)},MA=new WeakMap,OA=new WeakMap,LA=new WeakMap,PA=new WeakMap;function RL(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function BL(n){return n.__v_skip||!Object.isExtensible(n)?0:RL(aA(n))}function mc(n){return qo(n)?n:ym(n,!1,TL,ML,MA)}function v1(n){return ym(n,!1,DL,OL,OA)}function up(n){return ym(n,!0,IL,LL,LA)}function UL(n){return ym(n,!0,NL,PL,PA)}function ym(n,t,r,i,s){if(!En(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const o=BL(n);if(o===0)return n;const a=s.get(n);if(a)return a;const l=new Proxy(n,o===2?i:r);return s.set(n,l),l}function Ws(n){return qo(n)?Ws(n.__v_raw):!!(n&&n.__v_isReactive)}function qo(n){return!!(n&&n.__v_isReadonly)}function us(n){return!!(n&&n.__v_isShallow)}function bm(n){return n?!!n.__v_raw:!1}function mn(n){const t=n&&n.__v_raw;return t?mn(t):n}function xm(n){return!wn(n,"__v_skip")&&Object.isExtensible(n)&&a1(n,"__v_skip",!0),n}const Kr=n=>En(n)?mc(n):n,cp=n=>En(n)?up(n):n;function sr(n){return n?n.__v_isRef===!0:!1}function Xe(n){return RA(n,!1)}function y1(n){return RA(n,!0)}function RA(n,t){return sr(n)?n:new VL(n,t)}class VL{constructor(t,r){this.dep=new mm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:mn(t),this._value=r?t:Kr(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,i=this.__v_isShallow||us(t)||qo(t);t=i?t:mn(t),si(t,r)&&(this._rawValue=t,this._value=i?t:Kr(t),this.dep.trigger())}}function $L(n){n.dep&&n.dep.trigger()}function ai(n){return sr(n)?n.value:n}function jL(n){return Mt(n)?n():ai(n)}const zL={get:(n,t,r)=>t==="__v_raw"?n:ai(Reflect.get(n,t,r)),set:(n,t,r,i)=>{const s=n[t];return sr(s)&&!sr(r)?(s.value=r,!0):Reflect.set(n,t,r,i)}};function b1(n){return Ws(n)?n:new Proxy(n,zL)}class GL{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new mm,{get:i,set:s}=t(r.track.bind(r),r.trigger.bind(r));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function BA(n){return new GL(n)}function UA(n){const t=dt(n)?new Array(n.length):{};for(const r in n)t[r]=$A(n,r);return t}class HL{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return wL(mn(this._object),this._key)}}class WL{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function VA(n,t,r){return sr(n)?n:Mt(n)?new WL(n):En(n)&&arguments.length>1?$A(n,t,r):Xe(n)}function $A(n,t,r){const i=n[t];return sr(i)?i:new HL(n,t,r)}class XL{constructor(t,r,i){this.fn=t,this.setter=r,this._value=void 0,this.dep=new mm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ch-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Hn!==this)return EA(this,!0),!0}get value(){const t=this.dep.track();return AA(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function qL(n,t,r=!1){let i,s;return Mt(n)?i=n:(i=n.get,s=n.set),new XL(i,s,r)}const YL={GET:"get",HAS:"has",ITERATE:"iterate"},KL={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Yf={},hp=new WeakMap;let fa;function ZL(){return fa}function jA(n,t=!1,r=fa){if(r){let i=hp.get(r);i||hp.set(r,i=[]),i.push(n)}}function JL(n,t,r=un){const{immediate:i,deep:s,once:o,scheduler:a,augmentJob:l,call:u}=r,h=b=>s?b:us(b)||s===!1||s===0?Lo(b,1):Lo(b);let c,f,d,p,m=!1,g=!1;if(sr(n)?(f=()=>n.value,m=us(n)):Ws(n)?(f=()=>h(n),m=!0):dt(n)?(g=!0,m=n.some(b=>Ws(b)||us(b)),f=()=>n.map(b=>{if(sr(b))return b.value;if(Ws(b))return h(b);if(Mt(b))return u?u(b,2):b()})):Mt(n)?t?f=u?()=>u(n,2):n:f=()=>{if(d){Wo();try{d()}finally{Xo()}}const b=fa;fa=c;try{return u?u(n,3,[p]):n(p)}finally{fa=b}}:f=Wr,t&&s){const b=f,w=s===!0?1/0:s;f=()=>Lo(b(),w)}const v=d1(),E=()=>{c.stop(),v&&v.active&&hm(v.effects,c)};if(o&&t){const b=t;t=(...w)=>{b(...w),E()}}let y=g?new Array(n.length).fill(Yf):Yf;const x=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(t){const w=c.run();if(s||m||(g?w.some((S,_)=>si(S,y[_])):si(w,y))){d&&d();const S=fa;fa=c;try{const _=[w,y===Yf?void 0:g&&y[0]===Yf?[]:y,p];y=w,u?u(t,3,_):t(..._)}finally{fa=S}}}else c.run()};return l&&l(x),c=new Sh(f),c.scheduler=a?()=>a(x,!1):x,p=b=>jA(b,!1,c),d=c.onStop=()=>{const b=hp.get(c);if(b){if(u)u(b,4);else for(const w of b)w();hp.delete(c)}},t?i?x(!0):y=c.run():a?a(x.bind(null,!0),!0):c.run(),E.pause=c.pause.bind(c),E.resume=c.resume.bind(c),E.stop=E,E}function Lo(n,t=1/0,r){if(t<=0||!En(n)||n.__v_skip||(r=r||new Map,(r.get(n)||0)>=t))return n;if(r.set(n,t),t--,sr(n))Lo(n.value,t,r);else if(dt(n))for(let i=0;i<n.length;i++)Lo(n[i],t,r);else if(Ua(n)||xl(n))n.forEach(i=>{Lo(i,t,r)});else if(lf(n)){for(const i in n)Lo(n[i],t,r);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&Lo(n[i],t,r)}return n}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const zA=[];function QL(n){zA.push(n)}function eP(){zA.pop()}function tP(n,t){}const nP={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},rP={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function gc(n,t,r,i){try{return i?n(...i):n()}catch(s){tu(s,t,r)}}function Ss(n,t,r,i){if(Mt(n)){const s=gc(n,t,r,i);return s&&fm(s)&&s.catch(o=>{tu(o,t,r)}),s}if(dt(n)){const s=[];for(let o=0;o<n.length;o++)s.push(Ss(n[o],t,r,i));return s}}function tu(n,t,r,i=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||un;if(t){let l=t.parent;const u=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${r}`;for(;l;){const c=l.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](n,u,h)===!1)return}l=l.parent}if(o){Wo(),gc(o,null,10,[n,u,h]),Xo();return}}iP(n,r,s,i,a)}function iP(n,t,r,i=!0,s=!1){if(s)throw n;console.error(n)}const Ci=[];let ao=-1;const Uu=[];let da=null,Tu=0;const GA=Promise.resolve();let fp=null;function Ji(n){const t=fp||GA;return n?t.then(this?n.bind(this):n):t}function sP(n){let t=ao+1,r=Ci.length;for(;t<r;){const i=t+r>>>1,s=Ci[i],o=Ih(s);o<n||o===n&&s.flags&2?t=i+1:r=i}return t}function x1(n){if(!(n.flags&1)){const t=Ih(n),r=Ci[Ci.length-1];!r||!(n.flags&2)&&t>=Ih(r)?Ci.push(n):Ci.splice(sP(t),0,n),n.flags|=1,HA()}}function HA(){fp||(fp=GA.then(WA))}function Th(n){dt(n)?Uu.push(...n):da&&n.id===-1?da.splice(Tu+1,0,n):n.flags&1||(Uu.push(n),n.flags|=1),HA()}function iw(n,t,r=ao+1){for(;r<Ci.length;r++){const i=Ci[r];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;Ci.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function dp(n){if(Uu.length){const t=[...new Set(Uu)].sort((r,i)=>Ih(r)-Ih(i));if(Uu.length=0,da){da.push(...t);return}for(da=t,Tu=0;Tu<da.length;Tu++){const r=da[Tu];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}da=null,Tu=0}}const Ih=n=>n.id==null?n.flags&2?-1:1/0:n.id;function WA(n){try{for(ao=0;ao<Ci.length;ao++){const t=Ci[ao];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),gc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ao<Ci.length;ao++){const t=Ci[ao];t&&(t.flags&=-2)}ao=-1,Ci.length=0,dp(),fp=null,(Ci.length||Uu.length)&&WA()}}let Iu,Kf=[];function XA(n,t){var r,i;Iu=n,Iu?(Iu.enabled=!0,Kf.forEach(({event:s,args:o})=>Iu.emit(s,...o)),Kf=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{XA(o,t)}),setTimeout(()=>{Iu||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Kf=[])},3e3)):Kf=[]}let Qr=null,_m=null;function Dh(n){const t=Qr;return Qr=n,_m=n&&n.type.__scopeId||null,t}function oP(n){_m=n}function aP(){_m=null}const lP=n=>Hr;function Hr(n,t=Qr,r){if(!t||n._n)return n;const i=(...s)=>{i._d&&kh(-1);const o=Dh(t);let a;try{a=n(...s)}finally{Dh(o),i._d&&kh(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function an(n,t){if(Qr===null)return n;const r=pf(Qr),i=n.dirs||(n.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,u=un]=t[s];o&&(Mt(o)&&(o={mounted:o,updated:o}),o.deep&&Lo(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return n}function lo(n,t,r,i){const s=n.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];o&&(l.oldValue=o[a].value);let u=l.dir[i];u&&(Wo(),Ss(u,r,8,[n.el,l,n,t]),Xo())}}const qA=Symbol("_vte"),YA=n=>n.__isTeleport,rh=n=>n&&(n.disabled||n.disabled===""),sw=n=>n&&(n.defer||n.defer===""),ow=n=>typeof SVGElement<"u"&&n instanceof SVGElement,aw=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,Bv=(n,t)=>{const r=n&&n.to;return Bt(r)?t?t(r):null:r},KA={name:"Teleport",__isTeleport:!0,process(n,t,r,i,s,o,a,l,u,h){const{mc:c,pc:f,pbc:d,o:{insert:p,querySelector:m,createText:g,createComment:v}}=h,E=rh(t.props);let{shapeFlag:y,children:x,dynamicChildren:b}=t;if(n==null){const w=t.el=g(""),S=t.anchor=g("");p(w,r,i),p(S,r,i);const _=(C,F)=>{y&16&&c(x,C,F,s,o,a,l,u)},T=()=>{const C=t.target=Bv(t.props,m),F=ZA(C,t,g,p);C&&(a!=="svg"&&ow(C)?a="svg":a!=="mathml"&&aw(C)&&(a="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(C),E||(_(C,F),Pd(t,!1)))};E&&(_(r,S),Pd(t,!0)),sw(t.props)?(t.el.__isMounted=!1,Lr(()=>{T(),delete t.el.__isMounted},o)):T()}else{if(sw(t.props)&&n.el.__isMounted===!1){Lr(()=>{KA.process(n,t,r,i,s,o,a,l,u,h)},o);return}t.el=n.el,t.targetStart=n.targetStart;const w=t.anchor=n.anchor,S=t.target=n.target,_=t.targetAnchor=n.targetAnchor,T=rh(n.props),C=T?r:S,F=T?w:_;if(a==="svg"||ow(S)?a="svg":(a==="mathml"||aw(S))&&(a="mathml"),b?(d(n.dynamicChildren,b,C,s,o,a,l),M1(n,t,!0)):u||f(n,t,C,F,s,o,a,l,!1),E)T?t.props&&n.props&&t.props.to!==n.props.to&&(t.props.to=n.props.to):Zf(t,r,w,h,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const k=t.target=Bv(t.props,m);k&&Zf(t,k,null,h,0)}else T&&Zf(t,S,_,h,1);Pd(t,E)}},remove(n,t,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetStart:h,targetAnchor:c,target:f,props:d}=n;if(f&&(s(h),s(c)),o&&s(u),a&16){const p=o||!rh(d);for(let m=0;m<l.length;m++){const g=l[m];i(g,t,r,p,!!g.dynamicChildren)}}},move:Zf,hydrate:uP};function Zf(n,t,r,{o:{insert:i},m:s},o=2){o===0&&i(n.targetAnchor,t,r);const{el:a,anchor:l,shapeFlag:u,children:h,props:c}=n,f=o===2;if(f&&i(a,t,r),(!f||rh(c))&&u&16)for(let d=0;d<h.length;d++)s(h[d],t,r,2);f&&i(l,t,r)}function uP(n,t,r,i,s,o,{o:{nextSibling:a,parentNode:l,querySelector:u,insert:h,createText:c}},f){function d(g,v,E,y){v.anchor=f(a(g),v,l(g),r,i,s,o),v.targetStart=E,v.targetAnchor=y}const p=t.target=Bv(t.props,u),m=rh(t.props);if(p){const g=p._lpa||p.firstChild;if(t.shapeFlag&16)if(m)d(n,t,g,g&&a(g));else{t.anchor=a(n);let v=g;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,p._lpa=t.targetAnchor&&a(t.targetAnchor);break}}v=a(v)}t.targetAnchor||ZA(p,t,c,h),f(g&&a(g),t,p,r,i,s,o)}Pd(t,m)}else m&&t.shapeFlag&16&&d(n,t,n,a(n));return t.anchor&&a(t.anchor)}const cP=KA;function Pd(n,t){const r=n.ctx;if(r&&r.ut){let i,s;for(t?(i=n.el,s=n.anchor):(i=n.targetStart,s=n.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",r.uid),i=i.nextSibling;r.ut()}}function ZA(n,t,r,i){const s=t.targetStart=r(""),o=t.targetAnchor=r("");return s[qA]=o,n&&(i(s,n),i(o,n)),o}const ko=Symbol("_leaveCb"),Jf=Symbol("_enterCb");function _1(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xr(()=>{n.isMounted=!0}),Ds(()=>{n.isUnmounting=!0}),n}const vs=[Function,Array],w1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vs,onEnter:vs,onAfterEnter:vs,onEnterCancelled:vs,onBeforeLeave:vs,onLeave:vs,onAfterLeave:vs,onLeaveCancelled:vs,onBeforeAppear:vs,onAppear:vs,onAfterAppear:vs,onAppearCancelled:vs},JA=n=>{const t=n.subTree;return t.component?JA(t.component):t},hP={name:"BaseTransition",props:w1,setup(n,{slots:t}){const r=Qi(),i=_1();return()=>{const s=t.default&&wm(t.default(),!0);if(!s||!s.length)return;const o=QA(s),a=mn(n),{mode:l}=a;if(i.isLeaving)return h0(o);const u=lw(o);if(!u)return h0(o);let h=Yu(u,a,i,r,f=>h=f);u.type!==Er&&Yo(u,h);let c=r.subTree&&lw(r.subTree);if(c&&c.type!==Er&&!js(c,u)&&JA(r).type!==Er){let f=Yu(c,a,i,r);if(Yo(c,f),l==="out-in"&&u.type!==Er)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,c=void 0},h0(o);l==="in-out"&&u.type!==Er?f.delayLeave=(d,p,m)=>{const g=tT(i,c);g[String(c.key)]=c,d[ko]=()=>{p(),d[ko]=void 0,delete h.delayedLeave,c=void 0},h.delayedLeave=()=>{m(),delete h.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function QA(n){let t=n[0];if(n.length>1){for(const r of n)if(r.type!==Er){t=r;break}}return t}const eT=hP;function tT(n,t){const{leavingVNodes:r}=n;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function Yu(n,t,r,i,s){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:h,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:E,onAfterAppear:y,onAppearCancelled:x}=t,b=String(n.key),w=tT(r,n),S=(C,F)=>{C&&Ss(C,i,9,F)},_=(C,F)=>{const k=F[1];S(C,F),dt(C)?C.every(D=>D.length<=1)&&k():C.length<=1&&k()},T={mode:a,persisted:l,beforeEnter(C){let F=u;if(!r.isMounted)if(o)F=v||u;else return;C[ko]&&C[ko](!0);const k=w[b];k&&js(n,k)&&k.el[ko]&&k.el[ko](),S(F,[C])},enter(C){let F=h,k=c,D=f;if(!r.isMounted)if(o)F=E||h,k=y||c,D=x||f;else return;let N=!1;const M=C[Jf]=U=>{N||(N=!0,U?S(D,[C]):S(k,[C]),T.delayedLeave&&T.delayedLeave(),C[Jf]=void 0)};F?_(F,[C,M]):M()},leave(C,F){const k=String(n.key);if(C[Jf]&&C[Jf](!0),r.isUnmounting)return F();S(d,[C]);let D=!1;const N=C[ko]=M=>{D||(D=!0,F(),M?S(g,[C]):S(m,[C]),C[ko]=void 0,w[k]===n&&delete w[k])};w[k]=n,p?_(p,[C,N]):N()},clone(C){const F=Yu(C,t,r,i,s);return s&&s(F),F}};return T}function h0(n){if(ff(n))return n=fo(n),n.children=null,n}function lw(n){if(!ff(n))return YA(n.type)&&n.children?QA(n.children):n;if(n.component)return n.component.subTree;const{shapeFlag:t,children:r}=n;if(r){if(t&16)return r[0];if(t&32&&Mt(r.default))return r.default()}}function Yo(n,t){n.shapeFlag&6&&n.component?(n.transition=t,Yo(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function wm(n,t=!1,r){let i=[],s=0;for(let o=0;o<n.length;o++){let a=n[o];const l=r==null?a.key:String(r)+String(a.key!=null?a.key:o);a.type===at?(a.patchFlag&128&&s++,i=i.concat(wm(a.children,t,l))):(t||a.type!==Er)&&i.push(l!=null?fo(a,{key:l}):a)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function hf(n,t){return Mt(n)?ln({name:n.name},t,{setup:n}):n}function fP(){const n=Qi();return n?(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++:""}function E1(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function dP(n){const t=Qi(),r=y1(null);if(t){const s=t.refs===un?t.refs={}:t.refs;Object.defineProperty(s,n,{enumerable:!0,get:()=>r.value,set:o=>r.value=o})}return r}const pp=new WeakMap;function Vu(n,t,r,i,s=!1){if(dt(n)){n.forEach((m,g)=>Vu(m,t&&(dt(t)?t[g]:t),r,i,s));return}if(Ta(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Vu(n,t,r,i.component.subTree);return}const o=i.shapeFlag&4?pf(i.component):i.el,a=s?null:o,{i:l,r:u}=n,h=t&&t.r,c=l.refs===un?l.refs={}:l.refs,f=l.setupState,d=mn(f),p=f===un?pl:m=>wn(d,m);if(h!=null&&h!==u){if(uw(t),Bt(h))c[h]=null,p(h)&&(f[h]=null);else if(sr(h)){h.value=null;const m=t;m.k&&(c[m.k]=null)}}if(Mt(u))gc(u,l,12,[a,c]);else{const m=Bt(u),g=sr(u);if(m||g){const v=()=>{if(n.f){const E=m?p(u)?f[u]:c[u]:u.value;if(s)dt(E)&&hm(E,o);else if(dt(E))E.includes(o)||E.push(o);else if(m)c[u]=[o],p(u)&&(f[u]=c[u]);else{const y=[o];u.value=y,n.k&&(c[n.k]=y)}}else m?(c[u]=a,p(u)&&(f[u]=a)):g&&(u.value=a,n.k&&(c[n.k]=a))};if(a){const E=()=>{v(),pp.delete(n)};E.id=-1,pp.set(n,E),Lr(E,r)}else uw(n),v()}}}function uw(n){const t=pp.get(n);t&&(t.flags|=8,pp.delete(n))}let cw=!1;const gu=()=>{cw||(console.error("Hydration completed but contains mismatches."),cw=!0)},pP=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",mP=n=>n.namespaceURI.includes("MathML"),Qf=n=>{if(n.nodeType===1){if(pP(n))return"svg";if(mP(n))return"mathml"}},ku=n=>n.nodeType===8;function gP(n){const{mt:t,p:r,o:{patchProp:i,createText:s,nextSibling:o,parentNode:a,remove:l,insert:u,createComment:h}}=n,c=(x,b)=>{if(!b.hasChildNodes()){r(null,x,b),dp(),b._vnode=x;return}f(b.firstChild,x,null,null,null),dp(),b._vnode=x},f=(x,b,w,S,_,T=!1)=>{T=T||!!b.dynamicChildren;const C=ku(x)&&x.data==="[",F=()=>g(x,b,w,S,_,C),{type:k,ref:D,shapeFlag:N,patchFlag:M}=b;let U=x.nodeType;b.el=x,M===-2&&(T=!1,b.dynamicChildren=null);let B=null;switch(k){case Ia:U!==3?b.children===""?(u(b.el=s(""),a(x),x),B=x):B=F():(x.data!==b.children&&(gu(),x.data=b.children),B=o(x));break;case Er:y(x)?(B=o(x),E(b.el=x.content.firstChild,x,w)):U!==8||C?B=F():B=o(x);break;case Cl:if(C&&(x=o(x),U=x.nodeType),U===1||U===3){B=x;const W=!b.children.length;for(let Z=0;Z<b.staticCount;Z++)W&&(b.children+=B.nodeType===1?B.outerHTML:B.data),Z===b.staticCount-1&&(b.anchor=B),B=o(B);return C?o(B):B}else F();break;case at:C?B=m(x,b,w,S,_,T):B=F();break;default:if(N&1)(U!==1||b.type.toLowerCase()!==x.tagName.toLowerCase())&&!y(x)?B=F():B=d(x,b,w,S,_,T);else if(N&6){b.slotScopeIds=_;const W=a(x);if(C?B=v(x):ku(x)&&x.data==="teleport start"?B=v(x,x.data,"teleport end"):B=o(x),t(b,W,null,w,S,Qf(W),T),Ta(b)&&!b.type.__asyncResolved){let Z;C?(Z=lt(at),Z.anchor=B?B.previousSibling:W.lastChild):Z=x.nodeType===3?Nt(""):lt("div"),Z.el=x,b.component.subTree=Z}}else N&64?U!==8?B=F():B=b.type.hydrate(x,b,w,S,_,T,n,p):N&128&&(B=b.type.hydrate(x,b,w,S,Qf(a(x)),_,T,n,f))}return D!=null&&Vu(D,null,S,b),B},d=(x,b,w,S,_,T)=>{T=T||!!b.dynamicChildren;const{type:C,props:F,patchFlag:k,shapeFlag:D,dirs:N,transition:M}=b,U=C==="input"||C==="option";if(U||k!==-1){N&&lo(b,null,w,"created");let B=!1;if(y(x)){B=AT(null,M)&&w&&w.vnode.props&&w.vnode.props.appear;const Z=x.content.firstChild;if(B){const fe=Z.getAttribute("class");fe&&(Z.$cls=fe),M.beforeEnter(Z)}E(Z,x,w),b.el=x=Z}if(D&16&&!(F&&(F.innerHTML||F.textContent))){let Z=p(x.firstChild,b,x,w,S,_,T);for(;Z;){ed(x,1)||gu();const fe=Z;Z=Z.nextSibling,l(fe)}}else if(D&8){let Z=b.children;Z[0]===`
`&&(x.tagName==="PRE"||x.tagName==="TEXTAREA")&&(Z=Z.slice(1)),x.textContent!==Z&&(ed(x,0)||gu(),x.textContent=b.children)}if(F){if(U||!T||k&48){const Z=x.tagName.includes("-");for(const fe in F)(U&&(fe.endsWith("value")||fe==="indeterminate")||Ba(fe)&&!Vo(fe)||fe[0]==="."||Z)&&i(x,fe,null,F[fe],void 0,w)}else if(F.onClick)i(x,"onClick",null,F.onClick,void 0,w);else if(k&4&&Ws(F.style))for(const Z in F.style)F.style[Z]}let W;(W=F&&F.onVnodeBeforeMount)&&$i(W,w,b),N&&lo(b,null,w,"beforeMount"),((W=F&&F.onVnodeMounted)||N||B)&&LT(()=>{W&&$i(W,w,b),B&&M.enter(x),N&&lo(b,null,w,"mounted")},S)}return x.nextSibling},p=(x,b,w,S,_,T,C)=>{C=C||!!b.dynamicChildren;const F=b.children,k=F.length;for(let D=0;D<k;D++){const N=C?F[D]:F[D]=Gi(F[D]),M=N.type===Ia;x?(M&&!C&&D+1<k&&Gi(F[D+1]).type===Ia&&(u(s(x.data.slice(N.children.length)),w,o(x)),x.data=N.children),x=f(x,N,S,_,T,C)):M&&!N.children?u(N.el=s(""),w):(ed(w,1)||gu(),r(null,N,w,null,S,_,Qf(w),T))}return x},m=(x,b,w,S,_,T)=>{const{slotScopeIds:C}=b;C&&(_=_?_.concat(C):C);const F=a(x),k=p(o(x),b,F,w,S,_,T);return k&&ku(k)&&k.data==="]"?o(b.anchor=k):(gu(),u(b.anchor=h("]"),F,k),k)},g=(x,b,w,S,_,T)=>{if(ed(x.parentElement,1)||gu(),b.el=null,T){const k=v(x);for(;;){const D=o(x);if(D&&D!==k)l(D);else break}}const C=o(x),F=a(x);return l(x),r(null,b,F,C,w,S,Qf(F),_),w&&(w.vnode.el=b.el,Am(w,b.el)),C},v=(x,b="[",w="]")=>{let S=0;for(;x;)if(x=o(x),x&&ku(x)&&(x.data===b&&S++,x.data===w)){if(S===0)return o(x);S--}return x},E=(x,b,w)=>{const S=b.parentNode;S&&S.replaceChild(x,b);let _=w;for(;_;)_.vnode.el===b&&(_.vnode.el=_.subTree.el=x),_=_.parent},y=x=>x.nodeType===1&&x.tagName==="TEMPLATE";return[c,f]}const hw="data-allow-mismatch",vP={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function ed(n,t){if(t===0||t===1)for(;n&&!n.hasAttribute(hw);)n=n.parentElement;const r=n&&n.getAttribute(hw);if(r==null)return!1;if(r==="")return!0;{const i=r.split(",");return t===0&&i.includes("children")?!0:i.includes(vP[t])}}const yP=uf().requestIdleCallback||(n=>setTimeout(n,1)),bP=uf().cancelIdleCallback||(n=>clearTimeout(n)),xP=(n=1e4)=>t=>{const r=yP(t,{timeout:n});return()=>bP(r)};function _P(n){const{top:t,left:r,bottom:i,right:s}=n.getBoundingClientRect(),{innerHeight:o,innerWidth:a}=window;return(t>0&&t<o||i>0&&i<o)&&(r>0&&r<a||s>0&&s<a)}const wP=n=>(t,r)=>{const i=new IntersectionObserver(s=>{for(const o of s)if(o.isIntersecting){i.disconnect(),t();break}},n);return r(s=>{if(s instanceof Element){if(_P(s))return t(),i.disconnect(),!1;i.observe(s)}}),()=>i.disconnect()},EP=n=>t=>{if(n){const r=matchMedia(n);if(r.matches)t();else return r.addEventListener("change",t,{once:!0}),()=>r.removeEventListener("change",t)}},SP=(n=[])=>(t,r)=>{Bt(n)&&(n=[n]);let i=!1;const s=a=>{i||(i=!0,o(),t(),a.target.dispatchEvent(new a.constructor(a.type,a)))},o=()=>{r(a=>{for(const l of n)a.removeEventListener(l,s)})};return r(a=>{for(const l of n)a.addEventListener(l,s,{once:!0})}),o};function CP(n,t){if(ku(n)&&n.data==="["){let r=1,i=n.nextSibling;for(;i;){if(i.nodeType===1){if(t(i)===!1)break}else if(ku(i))if(i.data==="]"){if(--r===0)break}else i.data==="["&&r++;i=i.nextSibling}}else t(n)}const Ta=n=>!!n.type.__asyncLoader;function AP(n){Mt(n)&&(n={loader:n});const{loader:t,loadingComponent:r,errorComponent:i,delay:s=200,hydrate:o,timeout:a,suspensible:l=!0,onError:u}=n;let h=null,c,f=0;const d=()=>(f++,h=null,p()),p=()=>{let m;return h||(m=h=t().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),u)return new Promise((v,E)=>{u(g,()=>v(d()),()=>E(g),f+1)});throw g}).then(g=>m!==h&&h?h:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),c=g,g)))};return hf({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(m,g,v){let E=!1;(g.bu||(g.bu=[])).push(()=>E=!0);const y=()=>{E||v()},x=o?()=>{const b=o(y,w=>CP(m,w));b&&(g.bum||(g.bum=[])).push(b)}:y;c?x():p().then(()=>!g.isUnmounted&&x())},get __asyncResolved(){return c},setup(){const m=Jr;if(E1(m),c)return()=>f0(c,m);const g=x=>{h=null,tu(x,m,13,!i)};if(l&&m.suspense||Ku)return p().then(x=>()=>f0(x,m)).catch(x=>(g(x),()=>i?lt(i,{error:x}):null));const v=Xe(!1),E=Xe(),y=Xe(!!s);return s&&setTimeout(()=>{y.value=!1},s),a!=null&&setTimeout(()=>{if(!v.value&&!E.value){const x=new Error(`Async component timed out after ${a}ms.`);g(x),E.value=x}},a),p().then(()=>{v.value=!0,m.parent&&ff(m.parent.vnode)&&m.parent.update()}).catch(x=>{g(x),E.value=x}),()=>{if(v.value&&c)return f0(c,m);if(E.value&&i)return lt(i,{error:E.value});if(r&&!y.value)return lt(r)}}})}function f0(n,t){const{ref:r,props:i,children:s,ce:o}=t.vnode,a=lt(n,i,s);return a.ref=r,a.ce=o,delete t.vnode.ce,a}const ff=n=>n.type.__isKeepAlive,TP={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:t}){const r=Qi(),i=r.ctx;if(!i.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const s=new Map,o=new Set;let a=null;const l=r.suspense,{renderer:{p:u,m:h,um:c,o:{createElement:f}}}=i,d=f("div");i.activate=(y,x,b,w,S)=>{const _=y.component;h(y,x,b,0,l),u(_.vnode,y,x,b,_,l,w,y.slotScopeIds,S),Lr(()=>{_.isDeactivated=!1,_.a&&wl(_.a);const T=y.props&&y.props.onVnodeMounted;T&&$i(T,_.parent,y)},l)},i.deactivate=y=>{const x=y.component;gp(x.m),gp(x.a),h(y,d,null,1,l),Lr(()=>{x.da&&wl(x.da);const b=y.props&&y.props.onVnodeUnmounted;b&&$i(b,x.parent,y),x.isDeactivated=!0},l)};function p(y){d0(y),c(y,r,l,!0)}function m(y){s.forEach((x,b)=>{const w=Yv(x.type);w&&!y(w)&&g(b)})}function g(y){const x=s.get(y);x&&(!a||!js(x,a))?p(x):a&&d0(a),s.delete(y),o.delete(y)}Wi(()=>[n.include,n.exclude],([y,x])=>{y&&m(b=>qc(y,b)),x&&m(b=>!qc(x,b))},{flush:"post",deep:!0});let v=null;const E=()=>{v!=null&&(vp(r.subTree.type)?Lr(()=>{s.set(v,td(r.subTree))},r.subTree.suspense):s.set(v,td(r.subTree)))};return xr(E),Sm(E),Ds(()=>{s.forEach(y=>{const{subTree:x,suspense:b}=r,w=td(x);if(y.type===w.type&&y.key===w.key){d0(w);const S=w.component.da;S&&Lr(S,b);return}p(y)})}),()=>{if(v=null,!t.default)return a=null;const y=t.default(),x=y[0];if(y.length>1)return a=null,y;if(!Ko(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return a=null,x;let b=td(x);if(b.type===Er)return a=null,b;const w=b.type,S=Yv(Ta(b)?b.type.__asyncResolved||{}:w),{include:_,exclude:T,max:C}=n;if(_&&(!S||!qc(_,S))||T&&S&&qc(T,S))return b.shapeFlag&=-257,a=b,x;const F=b.key==null?w:b.key,k=s.get(F);return b.el&&(b=fo(b),x.shapeFlag&128&&(x.ssContent=b)),v=F,k?(b.el=k.el,b.component=k.component,b.transition&&Yo(b,b.transition),b.shapeFlag|=512,o.delete(F),o.add(F)):(o.add(F),C&&o.size>parseInt(C,10)&&g(o.values().next().value)),b.shapeFlag|=256,a=b,vp(x.type)?x:b}}},nT=TP;function qc(n,t){return dt(n)?n.some(r=>qc(r,t)):Bt(n)?n.split(",").includes(t):oA(n)?(n.lastIndex=0,n.test(t)):!1}function S1(n,t){iT(n,"a",t)}function rT(n,t){iT(n,"da",t)}function iT(n,t,r=Jr){const i=n.__wdc||(n.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(Em(t,i,r),r){let s=r.parent;for(;s&&s.parent;)ff(s.parent.vnode)&&IP(i,t,r,s),s=s.parent}}function IP(n,t,r,i){const s=Em(t,n,i,!0);nu(()=>{hm(i[t],s)},r)}function d0(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function td(n){return n.shapeFlag&128?n.ssContent:n}function Em(n,t,r=Jr,i=!1){if(r){const s=r[n]||(r[n]=[]),o=t.__weh||(t.__weh=(...a)=>{Wo();const l=Ol(r),u=Ss(t,r,n,a);return l(),Xo(),u});return i?s.unshift(o):s.push(o),o}}const ea=n=>(t,r=Jr)=>{(!Ku||n==="sp")&&Em(n,(...i)=>t(...i),r)},sT=ea("bm"),xr=ea("m"),C1=ea("bu"),Sm=ea("u"),Ds=ea("bum"),nu=ea("um"),oT=ea("sp"),aT=ea("rtg"),lT=ea("rtc");function uT(n,t=Jr){Em("ec",n,t)}const A1="components",DP="directives";function Lt(n,t){return I1(A1,n,!0,t)||n}const cT=Symbol.for("v-ndc");function T1(n){return Bt(n)?I1(A1,n,!1)||n:n||cT}function NP(n){return I1(DP,n)}function I1(n,t,r=!0,i=!1){const s=Qr||Jr;if(s){const o=s.type;if(n===A1){const l=Yv(o,!1);if(l&&(l===t||l===qn(t)||l===Va(qn(t))))return o}const a=fw(s[n]||o[n],t)||fw(s.appContext[n],t);return!a&&i?o:a}}function fw(n,t){return n&&(n[t]||n[qn(t)]||n[Va(qn(t))])}function At(n,t,r,i){let s;const o=r&&r[i],a=dt(n);if(a||Bt(n)){const l=a&&Ws(n);let u=!1,h=!1;l&&(u=!us(n),h=qo(n),n=gm(n)),s=new Array(n.length);for(let c=0,f=n.length;c<f;c++)s[c]=t(u?h?cp(Kr(n[c])):Kr(n[c]):n[c],c,void 0,o&&o[c])}else if(typeof n=="number"){s=new Array(n);for(let l=0;l<n;l++)s[l]=t(l+1,l,void 0,o&&o[l])}else if(En(n))if(n[Symbol.iterator])s=Array.from(n,(l,u)=>t(l,u,void 0,o&&o[u]));else{const l=Object.keys(n);s=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const c=l[u];s[u]=t(n[c],c,u,o&&o[u])}}else s=[];return r&&(r[i]=s),s}function FP(n,t){for(let r=0;r<t.length;r++){const i=t[r];if(dt(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.key?(...s)=>{const o=i.fn(...s);return o&&(o.key=i.key),o}:i.fn)}return n}function kP(n,t,r={},i,s){if(Qr.ce||Qr.parent&&Ta(Qr.parent)&&Qr.parent.ce){const h=Object.keys(r).length>0;return t!=="default"&&(r.name=t),re(),Kt(at,null,[lt("slot",r,i&&i())],h?-2:64)}let o=n[t];o&&o._c&&(o._d=!1),re();const a=o&&D1(o(r)),l=r.key||a&&a.key,u=Kt(at,{key:(l&&!ki(l)?l:`_${t}`)+(!a&&i?"_fb":"")},a||(i?i():[]),a&&n._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function D1(n){return n.some(t=>Ko(t)?!(t.type===Er||t.type===at&&!D1(t.children)):!0)?n:null}function MP(n,t){const r={};for(const i in n)r[t&&/[A-Z]/.test(i)?`on:${i}`:_l(i)]=n[i];return r}const Uv=n=>n?jT(n)?pf(n):Uv(n.parent):null,ih=ln(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Uv(n.parent),$root:n=>Uv(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>N1(n),$forceUpdate:n=>n.f||(n.f=()=>{x1(n.update)}),$nextTick:n=>n.n||(n.n=Ji.bind(n.proxy)),$watch:n=>cR.bind(n)}),p0=(n,t)=>n!==un&&!n.__isScriptSetup&&wn(n,t),Vv={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:i,data:s,props:o,accessCache:a,type:l,appContext:u}=n;let h;if(t[0]!=="$"){const p=a[t];if(p!==void 0)switch(p){case 1:return i[t];case 2:return s[t];case 4:return r[t];case 3:return o[t]}else{if(p0(i,t))return a[t]=1,i[t];if(s!==un&&wn(s,t))return a[t]=2,s[t];if((h=n.propsOptions[0])&&wn(h,t))return a[t]=3,o[t];if(r!==un&&wn(r,t))return a[t]=4,r[t];$v&&(a[t]=0)}}const c=ih[t];let f,d;if(c)return t==="$attrs"&&oi(n.attrs,"get",""),c(n);if((f=l.__cssModules)&&(f=f[t]))return f;if(r!==un&&wn(r,t))return a[t]=4,r[t];if(d=u.config.globalProperties,wn(d,t))return d[t]},set({_:n},t,r){const{data:i,setupState:s,ctx:o}=n;return p0(s,t)?(s[t]=r,!0):i!==un&&wn(i,t)?(i[t]=r,!0):wn(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(o[t]=r,!0)},has({_:{data:n,setupState:t,accessCache:r,ctx:i,appContext:s,propsOptions:o,type:a}},l){let u,h;return!!(r[l]||n!==un&&l[0]!=="$"&&wn(n,l)||p0(t,l)||(u=o[0])&&wn(u,l)||wn(i,l)||wn(ih,l)||wn(s.config.globalProperties,l)||(h=a.__cssModules)&&h[l])},defineProperty(n,t,r){return r.get!=null?n._.accessCache[t]=0:wn(r,"value")&&this.set(n,t,r.value,null),Reflect.defineProperty(n,t,r)}},OP=ln({},Vv,{get(n,t){if(t!==Symbol.unscopables)return Vv.get(n,t,n)},has(n,t){return t[0]!=="_"&&!l1(t)}});function LP(){return null}function PP(){return null}function RP(n){}function BP(n){}function UP(){return null}function VP(){}function $P(n,t){return null}function jP(){return hT().slots}function zP(){return hT().attrs}function hT(n){const t=Qi();return t.setupContext||(t.setupContext=HT(t))}function Nh(n){return dt(n)?n.reduce((t,r)=>(t[r]=null,t),{}):n}function GP(n,t){const r=Nh(n);for(const i in t){if(i.startsWith("__skip"))continue;let s=r[i];s?dt(s)||Mt(s)?s=r[i]={type:s,default:t[i]}:s.default=t[i]:s===null&&(s=r[i]={default:t[i]}),s&&t[`__skip_${i}`]&&(s.skipFactory=!0)}return r}function HP(n,t){return!n||!t?n||t:dt(n)&&dt(t)?n.concat(t):ln({},Nh(n),Nh(t))}function WP(n,t){const r={};for(const i in n)t.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>n[i]});return r}function XP(n){const t=Qi();let r=n();return Wv(),fm(r)&&(r=r.catch(i=>{throw Ol(t),i})),[r,()=>Ol(t)]}let $v=!0;function qP(n){const t=N1(n),r=n.proxy,i=n.ctx;$v=!1,t.beforeCreate&&dw(t.beforeCreate,n,"bc");const{data:s,computed:o,methods:a,watch:l,provide:u,inject:h,created:c,beforeMount:f,mounted:d,beforeUpdate:p,updated:m,activated:g,deactivated:v,beforeDestroy:E,beforeUnmount:y,destroyed:x,unmounted:b,render:w,renderTracked:S,renderTriggered:_,errorCaptured:T,serverPrefetch:C,expose:F,inheritAttrs:k,components:D,directives:N,filters:M}=t;if(h&&YP(h,i,null),a)for(const W in a){const Z=a[W];Mt(Z)&&(i[W]=Z.bind(r))}if(s){const W=s.call(r,r);En(W)&&(n.data=mc(W))}if($v=!0,o)for(const W in o){const Z=o[W],fe=Mt(Z)?Z.bind(r,r):Mt(Z.get)?Z.get.bind(r,r):Wr,Q=!Mt(Z)&&Mt(Z.set)?Z.set.bind(r):Wr,J=Ut({get:fe,set:Q});Object.defineProperty(i,W,{enumerable:!0,configurable:!0,get:()=>J.value,set:ae=>J.value=ae})}if(l)for(const W in l)fT(l[W],i,r,W);if(u){const W=Mt(u)?u.call(r):u;Reflect.ownKeys(W).forEach(Z=>{sh(Z,W[Z])})}c&&dw(c,n,"c");function B(W,Z){dt(Z)?Z.forEach(fe=>W(fe.bind(r))):Z&&W(Z.bind(r))}if(B(sT,f),B(xr,d),B(C1,p),B(Sm,m),B(S1,g),B(rT,v),B(uT,T),B(lT,S),B(aT,_),B(Ds,y),B(nu,b),B(oT,C),dt(F))if(F.length){const W=n.exposed||(n.exposed={});F.forEach(Z=>{Object.defineProperty(W,Z,{get:()=>r[Z],set:fe=>r[Z]=fe,enumerable:!0})})}else n.exposed||(n.exposed={});w&&n.render===Wr&&(n.render=w),k!=null&&(n.inheritAttrs=k),D&&(n.components=D),N&&(n.directives=N),C&&E1(n)}function YP(n,t,r=Wr){dt(n)&&(n=jv(n));for(const i in n){const s=n[i];let o;En(s)?"default"in s?o=cs(s.from||i,s.default,!0):o=cs(s.from||i):o=cs(s),sr(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[i]=o}}function dw(n,t,r){Ss(dt(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,r)}function fT(n,t,r,i){let s=i.includes(".")?FT(r,i):()=>r[i];if(Bt(n)){const o=t[n];Mt(o)&&Wi(s,o)}else if(Mt(n))Wi(s,n.bind(r));else if(En(n))if(dt(n))n.forEach(o=>fT(o,t,r,i));else{const o=Mt(n.handler)?n.handler.bind(r):t[n.handler];Mt(o)&&Wi(s,o,n)}}function N1(n){const t=n.type,{mixins:r,extends:i}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=n.appContext,l=o.get(t);let u;return l?u=l:!s.length&&!r&&!i?u=t:(u={},s.length&&s.forEach(h=>mp(u,h,a,!0)),mp(u,t,a)),En(t)&&o.set(t,u),u}function mp(n,t,r,i=!1){const{mixins:s,extends:o}=t;o&&mp(n,o,r,!0),s&&s.forEach(a=>mp(n,a,r,!0));for(const a in t)if(!(i&&a==="expose")){const l=KP[a]||r&&r[a];n[a]=l?l(n[a],t[a]):t[a]}return n}const KP={data:pw,props:mw,emits:mw,methods:Yc,computed:Yc,beforeCreate:xi,created:xi,beforeMount:xi,mounted:xi,beforeUpdate:xi,updated:xi,beforeDestroy:xi,beforeUnmount:xi,destroyed:xi,unmounted:xi,activated:xi,deactivated:xi,errorCaptured:xi,serverPrefetch:xi,components:Yc,directives:Yc,watch:JP,provide:pw,inject:ZP};function pw(n,t){return t?n?function(){return ln(Mt(n)?n.call(this,this):n,Mt(t)?t.call(this,this):t)}:t:n}function ZP(n,t){return Yc(jv(n),jv(t))}function jv(n){if(dt(n)){const t={};for(let r=0;r<n.length;r++)t[n[r]]=n[r];return t}return n}function xi(n,t){return n?[...new Set([].concat(n,t))]:t}function Yc(n,t){return n?ln(Object.create(null),n,t):t}function mw(n,t){return n?dt(n)&&dt(t)?[...new Set([...n,...t])]:ln(Object.create(null),Nh(n),Nh(t??{})):t}function JP(n,t){if(!n)return t;if(!t)return n;const r=ln(Object.create(null),n);for(const i in t)r[i]=xi(n[i],t[i]);return r}function dT(){return{app:null,config:{isNativeTag:pl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let QP=0;function eR(n,t){return function(i,s=null){Mt(i)||(i=ln({},i)),s!=null&&!En(s)&&(s=null);const o=dT(),a=new WeakSet,l=[];let u=!1;const h=o.app={_uid:QP++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:XT,get config(){return o.config},set config(c){},use(c,...f){return a.has(c)||(c&&Mt(c.install)?(a.add(c),c.install(h,...f)):Mt(c)&&(a.add(c),c(h,...f))),h},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),h},component(c,f){return f?(o.components[c]=f,h):o.components[c]},directive(c,f){return f?(o.directives[c]=f,h):o.directives[c]},mount(c,f,d){if(!u){const p=h._ceVNode||lt(i,s);return p.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),f&&t?t(p,c):n(p,c,d),u=!0,h._container=c,c.__vue_app__=h,pf(p.component)}},onUnmount(c){l.push(c)},unmount(){u&&(Ss(l,h._instance,16),n(null,h._container),delete h._container.__vue_app__)},provide(c,f){return o.provides[c]=f,h},runWithContext(c){const f=Sl;Sl=h;try{return c()}finally{Sl=f}}};return h}}let Sl=null;function sh(n,t){if(Jr){let r=Jr.provides;const i=Jr.parent&&Jr.parent.provides;i===r&&(r=Jr.provides=Object.create(i)),r[n]=t}}function cs(n,t,r=!1){const i=Qi();if(i||Sl){let s=Sl?Sl._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return r&&Mt(t)?t.call(i&&i.proxy):t}}function pT(){return!!(Qi()||Sl)}const mT={},gT=()=>Object.create(mT),vT=n=>Object.getPrototypeOf(n)===mT;function tR(n,t,r,i=!1){const s={},o=gT();n.propsDefaults=Object.create(null),yT(n,t,s,o);for(const a in n.propsOptions[0])a in s||(s[a]=void 0);r?n.props=i?s:v1(s):n.type.props?n.props=s:n.props=o,n.attrs=o}function nR(n,t,r,i){const{props:s,attrs:o,vnode:{patchFlag:a}}=n,l=mn(s),[u]=n.propsOptions;let h=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=n.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Cm(n.emitsOptions,d))continue;const p=t[d];if(u)if(wn(o,d))p!==o[d]&&(o[d]=p,h=!0);else{const m=qn(d);s[m]=zv(u,l,m,p,n,!1)}else p!==o[d]&&(o[d]=p,h=!0)}}}else{yT(n,t,s,o)&&(h=!0);let c;for(const f in l)(!t||!wn(t,f)&&((c=ci(f))===f||!wn(t,c)))&&(u?r&&(r[f]!==void 0||r[c]!==void 0)&&(s[f]=zv(u,l,f,void 0,n,!0)):delete s[f]);if(o!==l)for(const f in o)(!t||!wn(t,f))&&(delete o[f],h=!0)}h&&Oo(n.attrs,"set","")}function yT(n,t,r,i){const[s,o]=n.propsOptions;let a=!1,l;if(t)for(let u in t){if(Vo(u))continue;const h=t[u];let c;s&&wn(s,c=qn(u))?!o||!o.includes(c)?r[c]=h:(l||(l={}))[c]=h:Cm(n.emitsOptions,u)||(!(u in i)||h!==i[u])&&(i[u]=h,a=!0)}if(o){const u=mn(r),h=l||un;for(let c=0;c<o.length;c++){const f=o[c];r[f]=zv(s,u,f,h[f],n,!wn(h,f))}}return a}function zv(n,t,r,i,s,o){const a=n[r];if(a!=null){const l=wn(a,"default");if(l&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Mt(u)){const{propsDefaults:h}=s;if(r in h)i=h[r];else{const c=Ol(s);i=h[r]=u.call(null,t),c()}}else i=u;s.ce&&s.ce._setProp(r,i)}a[0]&&(o&&!l?i=!1:a[1]&&(i===""||i===ci(r))&&(i=!0))}return i}const rR=new WeakMap;function bT(n,t,r=!1){const i=r?rR:t.propsCache,s=i.get(n);if(s)return s;const o=n.props,a={},l=[];let u=!1;if(!Mt(n)){const c=f=>{u=!0;const[d,p]=bT(f,t,!0);ln(a,d),p&&l.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!o&&!u)return En(n)&&i.set(n,bl),bl;if(dt(o))for(let c=0;c<o.length;c++){const f=qn(o[c]);gw(f)&&(a[f]=un)}else if(o)for(const c in o){const f=qn(c);if(gw(f)){const d=o[c],p=a[f]=dt(d)||Mt(d)?{type:d}:ln({},d),m=p.type;let g=!1,v=!0;if(dt(m))for(let E=0;E<m.length;++E){const y=m[E],x=Mt(y)&&y.name;if(x==="Boolean"){g=!0;break}else x==="String"&&(v=!1)}else g=Mt(m)&&m.name==="Boolean";p[0]=g,p[1]=v,(g||wn(p,"default"))&&l.push(f)}}const h=[a,l];return En(n)&&i.set(n,h),h}function gw(n){return n[0]!=="$"&&!Vo(n)}const F1=n=>n==="_"||n==="_ctx"||n==="$stable",k1=n=>dt(n)?n.map(Gi):[Gi(n)],iR=(n,t,r)=>{if(t._n)return t;const i=Hr((...s)=>k1(t(...s)),r);return i._c=!1,i},xT=(n,t,r)=>{const i=n._ctx;for(const s in n){if(F1(s))continue;const o=n[s];if(Mt(o))t[s]=iR(s,o,i);else if(o!=null){const a=k1(o);t[s]=()=>a}}},_T=(n,t)=>{const r=k1(t);n.slots.default=()=>r},wT=(n,t,r)=>{for(const i in t)(r||!F1(i))&&(n[i]=t[i])},sR=(n,t,r)=>{const i=n.slots=gT();if(n.vnode.shapeFlag&32){const s=t._;s?(wT(i,t,r),r&&a1(i,"_",s,!0)):xT(t,i)}else t&&_T(n,t)},oR=(n,t,r)=>{const{vnode:i,slots:s}=n;let o=!0,a=un;if(i.shapeFlag&32){const l=t._;l?r&&l===1?o=!1:wT(s,t,r):(o=!t.$stable,xT(t,s)),a=t}else t&&(_T(n,t),a={default:1});if(o)for(const l in s)!F1(l)&&a[l]==null&&delete s[l]},Lr=LT;function ET(n){return CT(n)}function ST(n){return CT(n,gP)}function CT(n,t){const r=uf();r.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:a,createText:l,createComment:u,setText:h,setElementText:c,parentNode:f,nextSibling:d,setScopeId:p=Wr,insertStaticContent:m}=n,g=($,q,te,Ae=null,_e=null,Ee=null,pe=void 0,ve=null,De=!!q.dynamicChildren)=>{if($===q)return;$&&!js($,q)&&(Ae=ie($),ae($,_e,Ee,!0),$=null),q.patchFlag===-2&&(De=!1,q.dynamicChildren=null);const{type:Me,ref:R,shapeFlag:Ve}=q;switch(Me){case Ia:v($,q,te,Ae);break;case Er:E($,q,te,Ae);break;case Cl:$==null&&y(q,te,Ae,pe);break;case at:D($,q,te,Ae,_e,Ee,pe,ve,De);break;default:Ve&1?w($,q,te,Ae,_e,Ee,pe,ve,De):Ve&6?N($,q,te,Ae,_e,Ee,pe,ve,De):(Ve&64||Ve&128)&&Me.process($,q,te,Ae,_e,Ee,pe,ve,De,se)}R!=null&&_e?Vu(R,$&&$.ref,Ee,q||$,!q):R==null&&$&&$.ref!=null&&Vu($.ref,null,Ee,$,!0)},v=($,q,te,Ae)=>{if($==null)i(q.el=l(q.children),te,Ae);else{const _e=q.el=$.el;q.children!==$.children&&h(_e,q.children)}},E=($,q,te,Ae)=>{$==null?i(q.el=u(q.children||""),te,Ae):q.el=$.el},y=($,q,te,Ae)=>{[$.el,$.anchor]=m($.children,q,te,Ae,$.el,$.anchor)},x=({el:$,anchor:q},te,Ae)=>{let _e;for(;$&&$!==q;)_e=d($),i($,te,Ae),$=_e;i(q,te,Ae)},b=({el:$,anchor:q})=>{let te;for(;$&&$!==q;)te=d($),s($),$=te;s(q)},w=($,q,te,Ae,_e,Ee,pe,ve,De)=>{q.type==="svg"?pe="svg":q.type==="math"&&(pe="mathml"),$==null?S(q,te,Ae,_e,Ee,pe,ve,De):C($,q,_e,Ee,pe,ve,De)},S=($,q,te,Ae,_e,Ee,pe,ve)=>{let De,Me;const{props:R,shapeFlag:Ve,transition:Le,dirs:Qe}=$;if(De=$.el=a($.type,Ee,R&&R.is,R),Ve&8?c(De,$.children):Ve&16&&T($.children,De,null,Ae,_e,m0($,Ee),pe,ve),Qe&&lo($,null,Ae,"created"),_(De,$,$.scopeId,pe,Ae),R){for(const gt in R)gt!=="value"&&!Vo(gt)&&o(De,gt,null,R[gt],Ee,Ae);"value"in R&&o(De,"value",null,R.value,Ee),(Me=R.onVnodeBeforeMount)&&$i(Me,Ae,$)}Qe&&lo($,null,Ae,"beforeMount");const We=AT(_e,Le);We&&Le.beforeEnter(De),i(De,q,te),((Me=R&&R.onVnodeMounted)||We||Qe)&&Lr(()=>{Me&&$i(Me,Ae,$),We&&Le.enter(De),Qe&&lo($,null,Ae,"mounted")},_e)},_=($,q,te,Ae,_e)=>{if(te&&p($,te),Ae)for(let Ee=0;Ee<Ae.length;Ee++)p($,Ae[Ee]);if(_e){let Ee=_e.subTree;if(q===Ee||vp(Ee.type)&&(Ee.ssContent===q||Ee.ssFallback===q)){const pe=_e.vnode;_($,pe,pe.scopeId,pe.slotScopeIds,_e.parent)}}},T=($,q,te,Ae,_e,Ee,pe,ve,De=0)=>{for(let Me=De;Me<$.length;Me++){const R=$[Me]=ve?pa($[Me]):Gi($[Me]);g(null,R,q,te,Ae,_e,Ee,pe,ve)}},C=($,q,te,Ae,_e,Ee,pe)=>{const ve=q.el=$.el;let{patchFlag:De,dynamicChildren:Me,dirs:R}=q;De|=$.patchFlag&16;const Ve=$.props||un,Le=q.props||un;let Qe;if(te&&el(te,!1),(Qe=Le.onVnodeBeforeUpdate)&&$i(Qe,te,q,$),R&&lo(q,$,te,"beforeUpdate"),te&&el(te,!0),(Ve.innerHTML&&Le.innerHTML==null||Ve.textContent&&Le.textContent==null)&&c(ve,""),Me?F($.dynamicChildren,Me,ve,te,Ae,m0(q,_e),Ee):pe||Z($,q,ve,null,te,Ae,m0(q,_e),Ee,!1),De>0){if(De&16)k(ve,Ve,Le,te,_e);else if(De&2&&Ve.class!==Le.class&&o(ve,"class",null,Le.class,_e),De&4&&o(ve,"style",Ve.style,Le.style,_e),De&8){const We=q.dynamicProps;for(let gt=0;gt<We.length;gt++){const Se=We[gt],Ne=Ve[Se],Pe=Le[Se];(Pe!==Ne||Se==="value")&&o(ve,Se,Ne,Pe,_e,te)}}De&1&&$.children!==q.children&&c(ve,q.children)}else!pe&&Me==null&&k(ve,Ve,Le,te,_e);((Qe=Le.onVnodeUpdated)||R)&&Lr(()=>{Qe&&$i(Qe,te,q,$),R&&lo(q,$,te,"updated")},Ae)},F=($,q,te,Ae,_e,Ee,pe)=>{for(let ve=0;ve<q.length;ve++){const De=$[ve],Me=q[ve],R=De.el&&(De.type===at||!js(De,Me)||De.shapeFlag&198)?f(De.el):te;g(De,Me,R,null,Ae,_e,Ee,pe,!0)}},k=($,q,te,Ae,_e)=>{if(q!==te){if(q!==un)for(const Ee in q)!Vo(Ee)&&!(Ee in te)&&o($,Ee,q[Ee],null,_e,Ae);for(const Ee in te){if(Vo(Ee))continue;const pe=te[Ee],ve=q[Ee];pe!==ve&&Ee!=="value"&&o($,Ee,ve,pe,_e,Ae)}"value"in te&&o($,"value",q.value,te.value,_e)}},D=($,q,te,Ae,_e,Ee,pe,ve,De)=>{const Me=q.el=$?$.el:l(""),R=q.anchor=$?$.anchor:l("");let{patchFlag:Ve,dynamicChildren:Le,slotScopeIds:Qe}=q;Qe&&(ve=ve?ve.concat(Qe):Qe),$==null?(i(Me,te,Ae),i(R,te,Ae),T(q.children||[],te,R,_e,Ee,pe,ve,De)):Ve>0&&Ve&64&&Le&&$.dynamicChildren?(F($.dynamicChildren,Le,te,_e,Ee,pe,ve),(q.key!=null||_e&&q===_e.subTree)&&M1($,q,!0)):Z($,q,te,R,_e,Ee,pe,ve,De)},N=($,q,te,Ae,_e,Ee,pe,ve,De)=>{q.slotScopeIds=ve,$==null?q.shapeFlag&512?_e.ctx.activate(q,te,Ae,pe,De):M(q,te,Ae,_e,Ee,pe,De):U($,q,De)},M=($,q,te,Ae,_e,Ee,pe)=>{const ve=$.component=$T($,Ae,_e);if(ff($)&&(ve.ctx.renderer=se),zT(ve,!1,pe),ve.asyncDep){if(_e&&_e.registerDep(ve,B,pe),!$.el){const De=ve.subTree=lt(Er);E(null,De,q,te),$.placeholder=De.el}}else B(ve,$,q,te,_e,Ee,pe)},U=($,q,te)=>{const Ae=q.component=$.component;if(vR($,q,te))if(Ae.asyncDep&&!Ae.asyncResolved){W(Ae,q,te);return}else Ae.next=q,Ae.update();else q.el=$.el,Ae.vnode=q},B=($,q,te,Ae,_e,Ee,pe)=>{const ve=()=>{if($.isMounted){let{next:Ve,bu:Le,u:Qe,parent:We,vnode:gt}=$;{const Ue=TT($);if(Ue){Ve&&(Ve.el=gt.el,W($,Ve,pe)),Ue.asyncDep.then(()=>{$.isUnmounted||ve()});return}}let Se=Ve,Ne;el($,!1),Ve?(Ve.el=gt.el,W($,Ve,pe)):Ve=gt,Le&&wl(Le),(Ne=Ve.props&&Ve.props.onVnodeBeforeUpdate)&&$i(Ne,We,Ve,gt),el($,!0);const Pe=Rd($),je=$.subTree;$.subTree=Pe,g(je,Pe,f(je.el),ie(je),$,_e,Ee),Ve.el=Pe.el,Se===null&&Am($,Pe.el),Qe&&Lr(Qe,_e),(Ne=Ve.props&&Ve.props.onVnodeUpdated)&&Lr(()=>$i(Ne,We,Ve,gt),_e)}else{let Ve;const{el:Le,props:Qe}=q,{bm:We,m:gt,parent:Se,root:Ne,type:Pe}=$,je=Ta(q);if(el($,!1),We&&wl(We),!je&&(Ve=Qe&&Qe.onVnodeBeforeMount)&&$i(Ve,Se,q),el($,!0),Le&&Ce){const Ue=()=>{$.subTree=Rd($),Ce(Le,$.subTree,$,_e,null)};je&&Pe.__asyncHydrate?Pe.__asyncHydrate(Le,$,Ue):Ue()}else{Ne.ce&&Ne.ce._def.shadowRoot!==!1&&Ne.ce._injectChildStyle(Pe);const Ue=$.subTree=Rd($);g(null,Ue,te,Ae,$,_e,Ee),q.el=Ue.el}if(gt&&Lr(gt,_e),!je&&(Ve=Qe&&Qe.onVnodeMounted)){const Ue=q;Lr(()=>$i(Ve,Se,Ue),_e)}(q.shapeFlag&256||Se&&Ta(Se.vnode)&&Se.vnode.shapeFlag&256)&&$.a&&Lr($.a,_e),$.isMounted=!0,q=te=Ae=null}};$.scope.on();const De=$.effect=new Sh(ve);$.scope.off();const Me=$.update=De.run.bind(De),R=$.job=De.runIfDirty.bind(De);R.i=$,R.id=$.uid,De.scheduler=()=>x1(R),el($,!0),Me()},W=($,q,te)=>{q.component=$;const Ae=$.vnode.props;$.vnode=q,$.next=null,nR($,q.props,Ae,te),oR($,q.children,te),Wo(),iw($),Xo()},Z=($,q,te,Ae,_e,Ee,pe,ve,De=!1)=>{const Me=$&&$.children,R=$?$.shapeFlag:0,Ve=q.children,{patchFlag:Le,shapeFlag:Qe}=q;if(Le>0){if(Le&128){Q(Me,Ve,te,Ae,_e,Ee,pe,ve,De);return}else if(Le&256){fe(Me,Ve,te,Ae,_e,Ee,pe,ve,De);return}}Qe&8?(R&16&&xe(Me,_e,Ee),Ve!==Me&&c(te,Ve)):R&16?Qe&16?Q(Me,Ve,te,Ae,_e,Ee,pe,ve,De):xe(Me,_e,Ee,!0):(R&8&&c(te,""),Qe&16&&T(Ve,te,Ae,_e,Ee,pe,ve,De))},fe=($,q,te,Ae,_e,Ee,pe,ve,De)=>{$=$||bl,q=q||bl;const Me=$.length,R=q.length,Ve=Math.min(Me,R);let Le;for(Le=0;Le<Ve;Le++){const Qe=q[Le]=De?pa(q[Le]):Gi(q[Le]);g($[Le],Qe,te,null,_e,Ee,pe,ve,De)}Me>R?xe($,_e,Ee,!0,!1,Ve):T(q,te,Ae,_e,Ee,pe,ve,De,Ve)},Q=($,q,te,Ae,_e,Ee,pe,ve,De)=>{let Me=0;const R=q.length;let Ve=$.length-1,Le=R-1;for(;Me<=Ve&&Me<=Le;){const Qe=$[Me],We=q[Me]=De?pa(q[Me]):Gi(q[Me]);if(js(Qe,We))g(Qe,We,te,null,_e,Ee,pe,ve,De);else break;Me++}for(;Me<=Ve&&Me<=Le;){const Qe=$[Ve],We=q[Le]=De?pa(q[Le]):Gi(q[Le]);if(js(Qe,We))g(Qe,We,te,null,_e,Ee,pe,ve,De);else break;Ve--,Le--}if(Me>Ve){if(Me<=Le){const Qe=Le+1,We=Qe<R?q[Qe].el:Ae;for(;Me<=Le;)g(null,q[Me]=De?pa(q[Me]):Gi(q[Me]),te,We,_e,Ee,pe,ve,De),Me++}}else if(Me>Le)for(;Me<=Ve;)ae($[Me],_e,Ee,!0),Me++;else{const Qe=Me,We=Me,gt=new Map;for(Me=We;Me<=Le;Me++){const ne=q[Me]=De?pa(q[Me]):Gi(q[Me]);ne.key!=null&&gt.set(ne.key,Me)}let Se,Ne=0;const Pe=Le-We+1;let je=!1,Ue=0;const L=new Array(Pe);for(Me=0;Me<Pe;Me++)L[Me]=0;for(Me=Qe;Me<=Ve;Me++){const ne=$[Me];if(Ne>=Pe){ae(ne,_e,Ee,!0);continue}let he;if(ne.key!=null)he=gt.get(ne.key);else for(Se=We;Se<=Le;Se++)if(L[Se-We]===0&&js(ne,q[Se])){he=Se;break}he===void 0?ae(ne,_e,Ee,!0):(L[he-We]=Me+1,he>=Ue?Ue=he:je=!0,g(ne,q[he],te,null,_e,Ee,pe,ve,De),Ne++)}const V=je?aR(L):bl;for(Se=V.length-1,Me=Pe-1;Me>=0;Me--){const ne=We+Me,he=q[ne],me=q[ne+1],Ie=ne+1<R?me.el||me.placeholder:Ae;L[Me]===0?g(null,he,te,Ie,_e,Ee,pe,ve,De):je&&(Se<0||Me!==V[Se]?J(he,te,Ie,2):Se--)}}},J=($,q,te,Ae,_e=null)=>{const{el:Ee,type:pe,transition:ve,children:De,shapeFlag:Me}=$;if(Me&6){J($.component.subTree,q,te,Ae);return}if(Me&128){$.suspense.move(q,te,Ae);return}if(Me&64){pe.move($,q,te,se);return}if(pe===at){i(Ee,q,te);for(let Ve=0;Ve<De.length;Ve++)J(De[Ve],q,te,Ae);i($.anchor,q,te);return}if(pe===Cl){x($,q,te);return}if(Ae!==2&&Me&1&&ve)if(Ae===0)ve.beforeEnter(Ee),i(Ee,q,te),Lr(()=>ve.enter(Ee),_e);else{const{leave:Ve,delayLeave:Le,afterLeave:Qe}=ve,We=()=>{$.ctx.isUnmounted?s(Ee):i(Ee,q,te)},gt=()=>{Ee._isLeaving&&Ee[ko](!0),Ve(Ee,()=>{We(),Qe&&Qe()})};Le?Le(Ee,We,gt):gt()}else i(Ee,q,te)},ae=($,q,te,Ae=!1,_e=!1)=>{const{type:Ee,props:pe,ref:ve,children:De,dynamicChildren:Me,shapeFlag:R,patchFlag:Ve,dirs:Le,cacheIndex:Qe}=$;if(Ve===-2&&(_e=!1),ve!=null&&(Wo(),Vu(ve,null,te,$,!0),Xo()),Qe!=null&&(q.renderCache[Qe]=void 0),R&256){q.ctx.deactivate($);return}const We=R&1&&Le,gt=!Ta($);let Se;if(gt&&(Se=pe&&pe.onVnodeBeforeUnmount)&&$i(Se,q,$),R&6)K($.component,te,Ae);else{if(R&128){$.suspense.unmount(te,Ae);return}We&&lo($,null,q,"beforeUnmount"),R&64?$.type.remove($,q,te,se,Ae):Me&&!Me.hasOnce&&(Ee!==at||Ve>0&&Ve&64)?xe(Me,q,te,!1,!0):(Ee===at&&Ve&384||!_e&&R&16)&&xe(De,q,te),Ae&&be($)}(gt&&(Se=pe&&pe.onVnodeUnmounted)||We)&&Lr(()=>{Se&&$i(Se,q,$),We&&lo($,null,q,"unmounted")},te)},be=$=>{const{type:q,el:te,anchor:Ae,transition:_e}=$;if(q===at){ee(te,Ae);return}if(q===Cl){b($);return}const Ee=()=>{s(te),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if($.shapeFlag&1&&_e&&!_e.persisted){const{leave:pe,delayLeave:ve}=_e,De=()=>pe(te,Ee);ve?ve($.el,Ee,De):De()}else Ee()},ee=($,q)=>{let te;for(;$!==q;)te=d($),s($),$=te;s(q)},K=($,q,te)=>{const{bum:Ae,scope:_e,job:Ee,subTree:pe,um:ve,m:De,a:Me}=$;gp(De),gp(Me),Ae&&wl(Ae),_e.stop(),Ee&&(Ee.flags|=8,ae(pe,$,q,te)),ve&&Lr(ve,q),Lr(()=>{$.isUnmounted=!0},q)},xe=($,q,te,Ae=!1,_e=!1,Ee=0)=>{for(let pe=Ee;pe<$.length;pe++)ae($[pe],q,te,Ae,_e)},ie=$=>{if($.shapeFlag&6)return ie($.component.subTree);if($.shapeFlag&128)return $.suspense.next();const q=d($.anchor||$.el),te=q&&q[qA];return te?d(te):q};let ge=!1;const z=($,q,te)=>{$==null?q._vnode&&ae(q._vnode,null,null,!0):g(q._vnode||null,$,q,null,null,null,te),q._vnode=$,ge||(ge=!0,iw(),dp(),ge=!1)},se={p:g,um:ae,m:J,r:be,mt:M,mc:T,pc:Z,pbc:F,n:ie,o:n};let ye,Ce;return t&&([ye,Ce]=t(se)),{render:z,hydrate:ye,createApp:eR(z,ye)}}function m0({type:n,props:t},r){return r==="svg"&&n==="foreignObject"||r==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function el({effect:n,job:t},r){r?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function AT(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function M1(n,t,r=!1){const i=n.children,s=t.children;if(dt(i)&&dt(s))for(let o=0;o<i.length;o++){const a=i[o];let l=s[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[o]=pa(s[o]),l.el=a.el),!r&&l.patchFlag!==-2&&M1(a,l)),l.type===Ia&&l.patchFlag!==-1&&(l.el=a.el),l.type===Er&&!l.el&&(l.el=a.el)}}function aR(n){const t=n.slice(),r=[0];let i,s,o,a,l;const u=n.length;for(i=0;i<u;i++){const h=n[i];if(h!==0){if(s=r[r.length-1],n[s]<h){t[i]=s,r.push(i);continue}for(o=0,a=r.length-1;o<a;)l=o+a>>1,n[r[l]]<h?o=l+1:a=l;h<n[r[o]]&&(o>0&&(t[i]=r[o-1]),r[o]=i)}}for(o=r.length,a=r[o-1];o-- >0;)r[o]=a,a=t[a];return r}function TT(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:TT(t)}function gp(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const IT=Symbol.for("v-scx"),DT=()=>cs(IT);function lR(n,t){return df(n,null,t)}function uR(n,t){return df(n,null,{flush:"post"})}function NT(n,t){return df(n,null,{flush:"sync"})}function Wi(n,t,r){return df(n,t,r)}function df(n,t,r=un){const{immediate:i,deep:s,flush:o,once:a}=r,l=ln({},r),u=t&&i||!t&&o!=="post";let h;if(Ku){if(o==="sync"){const p=DT();h=p.__watcherHandles||(p.__watcherHandles=[])}else if(!u){const p=()=>{};return p.stop=Wr,p.resume=Wr,p.pause=Wr,p}}const c=Jr;l.call=(p,m,g)=>Ss(p,c,m,g);let f=!1;o==="post"?l.scheduler=p=>{Lr(p,c&&c.suspense)}:o!=="sync"&&(f=!0,l.scheduler=(p,m)=>{m?p():x1(p)}),l.augmentJob=p=>{t&&(p.flags|=4),f&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const d=JL(n,t,l);return Ku&&(h?h.push(d):u&&d()),d}function cR(n,t,r){const i=this.proxy,s=Bt(n)?n.includes(".")?FT(i,n):()=>i[n]:n.bind(i,i);let o;Mt(t)?o=t:(o=t.handler,r=t);const a=Ol(this),l=df(s,o.bind(i),r);return a(),l}function FT(n,t){const r=t.split(".");return()=>{let i=n;for(let s=0;s<r.length&&i;s++)i=i[r[s]];return i}}function hR(n,t,r=un){const i=Qi(),s=qn(t),o=ci(t),a=kT(n,s),l=BA((u,h)=>{let c,f=un,d;return NT(()=>{const p=n[s];si(c,p)&&(c=p,h())}),{get(){return u(),r.get?r.get(c):c},set(p){const m=r.set?r.set(p):p;if(!si(m,c)&&!(f!==un&&si(p,f)))return;const g=i.vnode.props;g&&(t in g||s in g||o in g)&&(`onUpdate:${t}`in g||`onUpdate:${s}`in g||`onUpdate:${o}`in g)||(c=p,h()),i.emit(`update:${t}`,m),si(p,m)&&si(p,f)&&!si(m,d)&&h(),f=p,d=m}}});return l[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?a||un:l,done:!1}:{done:!0}}}},l}const kT=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${qn(t)}Modifiers`]||n[`${ci(t)}Modifiers`];function fR(n,t,...r){if(n.isUnmounted)return;const i=n.vnode.props||un;let s=r;const o=t.startsWith("update:"),a=o&&kT(i,t.slice(7));a&&(a.trim&&(s=r.map(c=>Bt(c)?c.trim():c)),a.number&&(s=r.map(wh)));let l,u=i[l=_l(t)]||i[l=_l(qn(t))];!u&&o&&(u=i[l=_l(ci(t))]),u&&Ss(u,n,6,s);const h=i[l+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,Ss(h,n,6,s)}}const dR=new WeakMap;function MT(n,t,r=!1){const i=r?dR:t.emitsCache,s=i.get(n);if(s!==void 0)return s;const o=n.emits;let a={},l=!1;if(!Mt(n)){const u=h=>{const c=MT(h,t,!0);c&&(l=!0,ln(a,c))};!r&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!o&&!l?(En(n)&&i.set(n,null),null):(dt(o)?o.forEach(u=>a[u]=null):ln(a,o),En(n)&&i.set(n,a),a)}function Cm(n,t){return!n||!Ba(t)?!1:(t=t.slice(2).replace(/Once$/,""),wn(n,t[0].toLowerCase()+t.slice(1))||wn(n,ci(t))||wn(n,t))}function Rd(n){const{type:t,vnode:r,proxy:i,withProxy:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:h,renderCache:c,props:f,data:d,setupState:p,ctx:m,inheritAttrs:g}=n,v=Dh(n);let E,y;try{if(r.shapeFlag&4){const b=s||i,w=b;E=Gi(h.call(w,b,c,f,p,d,m)),y=l}else{const b=t;E=Gi(b.length>1?b(f,{attrs:l,slots:a,emit:u}):b(f,null)),y=t.props?l:mR(l)}}catch(b){oh.length=0,tu(b,n,1),E=lt(Er)}let x=E;if(y&&g!==!1){const b=Object.keys(y),{shapeFlag:w}=x;b.length&&w&7&&(o&&b.some(cm)&&(y=gR(y,o)),x=fo(x,y,!1,!0))}return r.dirs&&(x=fo(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(r.dirs):r.dirs),r.transition&&Yo(x,r.transition),E=x,Dh(v),E}function pR(n,t=!0){let r;for(let i=0;i<n.length;i++){const s=n[i];if(Ko(s)){if(s.type!==Er||s.children==="v-if"){if(r)return;r=s}}else return}return r}const mR=n=>{let t;for(const r in n)(r==="class"||r==="style"||Ba(r))&&((t||(t={}))[r]=n[r]);return t},gR=(n,t)=>{const r={};for(const i in n)(!cm(i)||!(i.slice(9)in t))&&(r[i]=n[i]);return r};function vR(n,t,r){const{props:i,children:s,component:o}=n,{props:a,children:l,patchFlag:u}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return i?vw(i,a,h):!!a;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(a[d]!==i[d]&&!Cm(h,d))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?vw(i,a,h):!0:!!a;return!1}function vw(n,t,r){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(t[o]!==n[o]&&!Cm(r,o))return!0}return!1}function Am({vnode:n,parent:t},r){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=t.vnode).el=r,t=t.parent;else break}}const vp=n=>n.__isSuspense;let Gv=0;const yR={name:"Suspense",__isSuspense:!0,process(n,t,r,i,s,o,a,l,u,h){if(n==null)xR(t,r,i,s,o,a,l,u,h);else{if(o&&o.deps>0&&!n.suspense.isInFallback){t.suspense=n.suspense,t.suspense.vnode=t,t.el=n.el;return}_R(n,t,r,i,s,a,l,u,h)}},hydrate:wR,normalize:ER},bR=yR;function Fh(n,t){const r=n.props&&n.props[t];Mt(r)&&r()}function xR(n,t,r,i,s,o,a,l,u){const{p:h,o:{createElement:c}}=u,f=c("div"),d=n.suspense=OT(n,s,i,t,f,r,o,a,l,u);h(null,d.pendingBranch=n.ssContent,f,null,i,d,o,a),d.deps>0?(Fh(n,"onPending"),Fh(n,"onFallback"),h(null,n.ssFallback,t,r,i,null,o,a),$u(d,n.ssFallback)):d.resolve(!1,!0)}function _R(n,t,r,i,s,o,a,l,{p:u,um:h,o:{createElement:c}}){const f=t.suspense=n.suspense;f.vnode=t,t.el=n.el;const d=t.ssContent,p=t.ssFallback,{activeBranch:m,pendingBranch:g,isInFallback:v,isHydrating:E}=f;if(g)f.pendingBranch=d,js(g,d)?(u(g,d,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0?f.resolve():v&&(E||(u(m,p,r,i,s,null,o,a,l),$u(f,p)))):(f.pendingId=Gv++,E?(f.isHydrating=!1,f.activeBranch=g):h(g,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),v?(u(null,d,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0?f.resolve():(u(m,p,r,i,s,null,o,a,l),$u(f,p))):m&&js(m,d)?(u(m,d,r,i,s,f,o,a,l),f.resolve(!0)):(u(null,d,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0&&f.resolve()));else if(m&&js(m,d))u(m,d,r,i,s,f,o,a,l),$u(f,d);else if(Fh(t,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=Gv++,u(null,d,f.hiddenContainer,null,s,f,o,a,l),f.deps<=0)f.resolve();else{const{timeout:y,pendingId:x}=f;y>0?setTimeout(()=>{f.pendingId===x&&f.fallback(p)},y):y===0&&f.fallback(p)}}function OT(n,t,r,i,s,o,a,l,u,h,c=!1){const{p:f,m:d,um:p,n:m,o:{parentNode:g,remove:v}}=h;let E;const y=SR(n);y&&t&&t.pendingBranch&&(E=t.pendingId,t.deps++);const x=n.props?Eh(n.props.timeout):void 0,b=o,w={vnode:n,parent:t,parentComponent:r,namespace:a,container:i,hiddenContainer:s,deps:0,pendingId:Gv++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(S=!1,_=!1){const{vnode:T,activeBranch:C,pendingBranch:F,pendingId:k,effects:D,parentComponent:N,container:M}=w;let U=!1;w.isHydrating?w.isHydrating=!1:S||(U=C&&F.transition&&F.transition.mode==="out-in",U&&(C.transition.afterLeave=()=>{k===w.pendingId&&(d(F,M,o===b?m(C):o,0),Th(D))}),C&&(g(C.el)===M&&(o=m(C)),p(C,N,w,!0)),U||d(F,M,o,0)),$u(w,F),w.pendingBranch=null,w.isInFallback=!1;let B=w.parent,W=!1;for(;B;){if(B.pendingBranch){B.effects.push(...D),W=!0;break}B=B.parent}!W&&!U&&Th(D),w.effects=[],y&&t&&t.pendingBranch&&E===t.pendingId&&(t.deps--,t.deps===0&&!_&&t.resolve()),Fh(T,"onResolve")},fallback(S){if(!w.pendingBranch)return;const{vnode:_,activeBranch:T,parentComponent:C,container:F,namespace:k}=w;Fh(_,"onFallback");const D=m(T),N=()=>{w.isInFallback&&(f(null,S,F,D,C,null,k,l,u),$u(w,S))},M=S.transition&&S.transition.mode==="out-in";M&&(T.transition.afterLeave=N),w.isInFallback=!0,p(T,C,null,!0),M||N()},move(S,_,T){w.activeBranch&&d(w.activeBranch,S,_,T),w.container=S},next(){return w.activeBranch&&m(w.activeBranch)},registerDep(S,_,T){const C=!!w.pendingBranch;C&&w.deps++;const F=S.vnode.el;S.asyncDep.catch(k=>{tu(k,S,0)}).then(k=>{if(S.isUnmounted||w.isUnmounted||w.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:D}=S;Xv(S,k,!1),F&&(D.el=F);const N=!F&&S.subTree.el;_(S,D,g(F||S.subTree.el),F?null:m(S.subTree),w,a,T),N&&v(N),Am(S,D.el),C&&--w.deps===0&&w.resolve()})},unmount(S,_){w.isUnmounted=!0,w.activeBranch&&p(w.activeBranch,r,S,_),w.pendingBranch&&p(w.pendingBranch,r,S,_)}};return w}function wR(n,t,r,i,s,o,a,l,u){const h=t.suspense=OT(t,i,r,n.parentNode,document.createElement("div"),null,s,o,a,l,!0),c=u(n,h.pendingBranch=t.ssContent,r,h,o,a);return h.deps===0&&h.resolve(!1,!0),c}function ER(n){const{shapeFlag:t,children:r}=n,i=t&32;n.ssContent=yw(i?r.default:r),n.ssFallback=i?yw(r.fallback):lt(Er)}function yw(n){let t;if(Mt(n)){const r=Ml&&n._c;r&&(n._d=!1,re()),n=n(),r&&(n._d=!0,t=di,PT())}return dt(n)&&(n=pR(n)),n=Gi(n),t&&!n.dynamicChildren&&(n.dynamicChildren=t.filter(r=>r!==n)),n}function LT(n,t){t&&t.pendingBranch?dt(n)?t.effects.push(...n):t.effects.push(n):Th(n)}function $u(n,t){n.activeBranch=t;const{vnode:r,parentComponent:i}=n;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;r.el=s,i&&i.subTree===r&&(i.vnode.el=s,Am(i,s))}function SR(n){const t=n.props&&n.props.suspensible;return t!=null&&t!==!1}const at=Symbol.for("v-fgt"),Ia=Symbol.for("v-txt"),Er=Symbol.for("v-cmt"),Cl=Symbol.for("v-stc"),oh=[];let di=null;function re(n=!1){oh.push(di=n?null:[])}function PT(){oh.pop(),di=oh[oh.length-1]||null}let Ml=1;function kh(n,t=!1){Ml+=n,n<0&&di&&t&&(di.hasOnce=!0)}function RT(n){return n.dynamicChildren=Ml>0?di||bl:null,PT(),Ml>0&&di&&di.push(n),n}function ce(n,t,r,i,s,o){return RT(A(n,t,r,i,s,o,!0))}function Kt(n,t,r,i,s){return RT(lt(n,t,r,i,s,!0))}function Ko(n){return n?n.__v_isVNode===!0:!1}function js(n,t){return n.type===t.type&&n.key===t.key}function CR(n){}const BT=({key:n})=>n??null,Bd=({ref:n,ref_key:t,ref_for:r})=>(typeof n=="number"&&(n=""+n),n!=null?Bt(n)||sr(n)||Mt(n)?{i:Qr,r:n,k:t,f:!!r}:n:null);function A(n,t=null,r=null,i=0,s=null,o=n===at?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&BT(t),ref:t&&Bd(t),scopeId:_m,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Qr};return l?(O1(u,r),o&128&&n.normalize(u)):r&&(u.shapeFlag|=Bt(r)?8:16),Ml>0&&!a&&di&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&di.push(u),u}const lt=AR;function AR(n,t=null,r=null,i=0,s=null,o=!1){if((!n||n===cT)&&(n=Er),Ko(n)){const l=fo(n,t,!0);return r&&O1(l,r),Ml>0&&!o&&di&&(l.shapeFlag&6?di[di.indexOf(n)]=l:di.push(l)),l.patchFlag=-2,l}if(MR(n)&&(n=n.__vccOpts),t){t=UT(t);let{class:l,style:u}=t;l&&!Bt(l)&&(t.class=ht(l)),En(u)&&(bm(u)&&!dt(u)&&(u=ln({},u)),t.style=Xn(u))}const a=Bt(n)?1:vp(n)?128:YA(n)?64:En(n)?4:Mt(n)?2:0;return A(n,t,r,i,s,a,o,!0)}function UT(n){return n?bm(n)||vT(n)?ln({},n):n:null}function fo(n,t,r=!1,i=!1){const{props:s,ref:o,patchFlag:a,children:l,transition:u}=n,h=t?VT(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:n.type,props:h,key:h&&BT(h),ref:t&&t.ref?r&&o?dt(o)?o.concat(Bd(t)):[o,Bd(t)]:Bd(t):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==at?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:u,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&fo(n.ssContent),ssFallback:n.ssFallback&&fo(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return u&&i&&Yo(c,u.clone(c)),c}function Nt(n=" ",t=0){return lt(Ia,null,n,t)}function pi(n,t){const r=lt(Cl,null,n);return r.staticCount=t,r}function rt(n="",t=!1){return t?(re(),Kt(Er,null,n)):lt(Er,null,n)}function Gi(n){return n==null||typeof n=="boolean"?lt(Er):dt(n)?lt(at,null,n.slice()):Ko(n)?pa(n):lt(Ia,null,String(n))}function pa(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:fo(n)}function O1(n,t){let r=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(dt(t))r=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),O1(n,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!vT(t)?t._ctx=Qr:s===3&&Qr&&(Qr.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Mt(t)?(t={default:t,_ctx:Qr},r=32):(t=String(t),i&64?(r=16,t=[Nt(t)]):r=8);n.children=t,n.shapeFlag|=r}function VT(...n){const t={};for(let r=0;r<n.length;r++){const i=n[r];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=ht([t.class,i.class]));else if(s==="style")t.style=Xn([t.style,i.style]);else if(Ba(s)){const o=t[s],a=i[s];a&&o!==a&&!(dt(o)&&o.includes(a))&&(t[s]=o?[].concat(o,a):a)}else s!==""&&(t[s]=i[s])}return t}function $i(n,t,r,i=null){Ss(n,t,7,[r,i])}const TR=dT();let IR=0;function $T(n,t,r){const i=n.type,s=(t?t.appContext:n.appContext)||TR,o={uid:IR++,vnode:n,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new h1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bT(i,s),emitsOptions:MT(i,s),emit:null,emitted:null,propsDefaults:un,inheritAttrs:i.inheritAttrs,ctx:un,data:un,props:un,attrs:un,slots:un,refs:un,setupState:un,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=fR.bind(null,o),n.ce&&n.ce(o),o}let Jr=null;const Qi=()=>Jr||Qr;let yp,Hv;{const n=uf(),t=(r,i)=>{let s;return(s=n[r])||(s=n[r]=[]),s.push(i),o=>{s.length>1?s.forEach(a=>a(o)):s[0](o)}};yp=t("__VUE_INSTANCE_SETTERS__",r=>Jr=r),Hv=t("__VUE_SSR_SETTERS__",r=>Ku=r)}const Ol=n=>{const t=Jr;return yp(n),n.scope.on(),()=>{n.scope.off(),yp(t)}},Wv=()=>{Jr&&Jr.scope.off(),yp(null)};function jT(n){return n.vnode.shapeFlag&4}let Ku=!1;function zT(n,t=!1,r=!1){t&&Hv(t);const{props:i,children:s}=n.vnode,o=jT(n);tR(n,i,o,t),sR(n,s,r||t);const a=o?DR(n,t):void 0;return t&&Hv(!1),a}function DR(n,t){const r=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Vv);const{setup:i}=r;if(i){Wo();const s=n.setupContext=i.length>1?HT(n):null,o=Ol(n),a=gc(i,n,0,[n.props,s]),l=fm(a);if(Xo(),o(),(l||n.sp)&&!Ta(n)&&E1(n),l){if(a.then(Wv,Wv),t)return a.then(u=>{Xv(n,u,t)}).catch(u=>{tu(u,n,0)});n.asyncDep=a}else Xv(n,a,t)}else GT(n,t)}function Xv(n,t,r){Mt(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:En(t)&&(n.setupState=b1(t)),GT(n,r)}let bp,qv;function NR(n){bp=n,qv=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,OP))}}const FR=()=>!bp;function GT(n,t,r){const i=n.type;if(!n.render){if(!t&&bp&&!i.render){const s=i.template||N1(n).template;if(s){const{isCustomElement:o,compilerOptions:a}=n.appContext.config,{delimiters:l,compilerOptions:u}=i,h=ln(ln({isCustomElement:o,delimiters:l},a),u);i.render=bp(s,h)}}n.render=i.render||Wr,qv&&qv(n)}{const s=Ol(n);Wo();try{qP(n)}finally{Xo(),s()}}}const kR={get(n,t){return oi(n,"get",""),n[t]}};function HT(n){const t=r=>{n.exposed=r||{}};return{attrs:new Proxy(n.attrs,kR),slots:n.slots,emit:n.emit,expose:t}}function pf(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(b1(xm(n.exposed)),{get(t,r){if(r in t)return t[r];if(r in ih)return ih[r](n)},has(t,r){return r in t||r in ih}})):n.proxy}function Yv(n,t=!0){return Mt(n)?n.displayName||n.name:n.name||t&&n.__name}function MR(n){return Mt(n)&&"__vccOpts"in n}const Ut=(n,t)=>qL(n,t,Ku);function Tm(n,t,r){try{kh(-1);const i=arguments.length;return i===2?En(t)&&!dt(t)?Ko(t)?lt(n,null,[t]):lt(n,t):lt(n,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Ko(r)&&(r=[r]),lt(n,t,r))}finally{kh(1)}}function OR(){}function LR(n,t,r,i){const s=r[i];if(s&&WT(s,n))return s;const o=t();return o.memo=n.slice(),o.cacheIndex=i,r[i]=o}function WT(n,t){const r=n.memo;if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(si(r[i],t[i]))return!1;return Ml>0&&di&&di.push(n),!0}const XT="3.5.22",PR=Wr,RR=rP,BR=Iu,UR=XA,VR={createComponentInstance:$T,setupComponent:zT,renderComponentRoot:Rd,setCurrentRenderingInstance:Dh,isVNode:Ko,normalizeVNode:Gi,getComponentPublicInstance:pf,ensureValidVNode:D1,pushWarningContext:QL,popWarningContext:eP},$R=VR,jR=null,zR=null,GR=null;/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kv;const bw=typeof window<"u"&&window.trustedTypes;if(bw)try{Kv=bw.createPolicy("vue",{createHTML:n=>n})}catch{}const qT=Kv?n=>Kv.createHTML(n):n=>n,HR="http://www.w3.org/2000/svg",WR="http://www.w3.org/1998/Math/MathML",Fo=typeof document<"u"?document:null,xw=Fo&&Fo.createElement("template"),XR={insert:(n,t,r)=>{t.insertBefore(n,r||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,r,i)=>{const s=t==="svg"?Fo.createElementNS(HR,n):t==="mathml"?Fo.createElementNS(WR,n):r?Fo.createElement(n,{is:r}):Fo.createElement(n);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>Fo.createTextNode(n),createComment:n=>Fo.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Fo.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,r,i,s,o){const a=r?r.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===o||!(s=s.nextSibling)););else{xw.innerHTML=qT(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const l=xw.content;if(i==="svg"||i==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},aa="transition",Pc="animation",Zu=Symbol("_vtc"),YT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},KT=ln({},w1,YT),qR=n=>(n.displayName="Transition",n.props=KT,n),$s=qR((n,{slots:t})=>Tm(eT,ZT(n),t)),tl=(n,t=[])=>{dt(n)?n.forEach(r=>r(...t)):n&&n(...t)},_w=n=>n?dt(n)?n.some(t=>t.length>1):n.length>1:!1;function ZT(n){const t={};for(const D in n)D in YT||(t[D]=n[D]);if(n.css===!1)return t;const{name:r="v",type:i,duration:s,enterFromClass:o=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:u=o,appearActiveClass:h=a,appearToClass:c=l,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=n,m=YR(s),g=m&&m[0],v=m&&m[1],{onBeforeEnter:E,onEnter:y,onEnterCancelled:x,onLeave:b,onLeaveCancelled:w,onBeforeAppear:S=E,onAppear:_=y,onAppearCancelled:T=x}=t,C=(D,N,M,U)=>{D._enterCancelled=U,ca(D,N?c:l),ca(D,N?h:a),M&&M()},F=(D,N)=>{D._isLeaving=!1,ca(D,f),ca(D,p),ca(D,d),N&&N()},k=D=>(N,M)=>{const U=D?_:y,B=()=>C(N,D,M);tl(U,[N,B]),ww(()=>{ca(N,D?u:o),so(N,D?c:l),_w(U)||Ew(N,i,g,B)})};return ln(t,{onBeforeEnter(D){tl(E,[D]),so(D,o),so(D,a)},onBeforeAppear(D){tl(S,[D]),so(D,u),so(D,h)},onEnter:k(!1),onAppear:k(!0),onLeave(D,N){D._isLeaving=!0;const M=()=>F(D,N);so(D,f),D._enterCancelled?(so(D,d),Zv(D)):(Zv(D),so(D,d)),ww(()=>{D._isLeaving&&(ca(D,f),so(D,p),_w(b)||Ew(D,i,v,M))}),tl(b,[D,M])},onEnterCancelled(D){C(D,!1,void 0,!0),tl(x,[D])},onAppearCancelled(D){C(D,!0,void 0,!0),tl(T,[D])},onLeaveCancelled(D){F(D),tl(w,[D])}})}function YR(n){if(n==null)return null;if(En(n))return[g0(n.enter),g0(n.leave)];{const t=g0(n);return[t,t]}}function g0(n){return Eh(n)}function so(n,t){t.split(/\s+/).forEach(r=>r&&n.classList.add(r)),(n[Zu]||(n[Zu]=new Set)).add(t)}function ca(n,t){t.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const r=n[Zu];r&&(r.delete(t),r.size||(n[Zu]=void 0))}function ww(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let KR=0;function Ew(n,t,r,i){const s=n._endId=++KR,o=()=>{s===n._endId&&i()};if(r!=null)return setTimeout(o,r);const{type:a,timeout:l,propCount:u}=JT(n,t);if(!a)return i();const h=a+"end";let c=0;const f=()=>{n.removeEventListener(h,d),o()},d=p=>{p.target===n&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},l+1),n.addEventListener(h,d)}function JT(n,t){const r=window.getComputedStyle(n),i=m=>(r[m]||"").split(", "),s=i(`${aa}Delay`),o=i(`${aa}Duration`),a=Sw(s,o),l=i(`${Pc}Delay`),u=i(`${Pc}Duration`),h=Sw(l,u);let c=null,f=0,d=0;t===aa?a>0&&(c=aa,f=a,d=o.length):t===Pc?h>0&&(c=Pc,f=h,d=u.length):(f=Math.max(a,h),c=f>0?a>h?aa:Pc:null,d=c?c===aa?o.length:u.length:0);const p=c===aa&&/\b(?:transform|all)(?:,|$)/.test(i(`${aa}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:p}}function Sw(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((r,i)=>Cw(r)+Cw(n[i])))}function Cw(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function Zv(n){return(n?n.ownerDocument:document).body.offsetHeight}function ZR(n,t,r){const i=n[Zu];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):r?n.setAttribute("class",t):n.className=t}const xp=Symbol("_vod"),QT=Symbol("_vsh"),Mh={name:"show",beforeMount(n,{value:t},{transition:r}){n[xp]=n.style.display==="none"?"":n.style.display,r&&t?r.beforeEnter(n):Rc(n,t)},mounted(n,{value:t},{transition:r}){r&&t&&r.enter(n)},updated(n,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(n),Rc(n,!0),i.enter(n)):i.leave(n,()=>{Rc(n,!1)}):Rc(n,t))},beforeUnmount(n,{value:t}){Rc(n,t)}};function Rc(n,t){n.style.display=t?n[xp]:"none",n[QT]=!t}function JR(){Mh.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const eI=Symbol("");function QR(n){const t=Qi();if(!t)return;const r=t.ut=(s=n(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>_p(o,s))},i=()=>{const s=n(t.proxy);t.ce?_p(t.ce,s):Jv(t.subTree,s),r(s)};C1(()=>{Th(i)}),xr(()=>{Wi(i,Wr,{flush:"post"});const s=new MutationObserver(i);s.observe(t.subTree.el.parentNode,{childList:!0}),nu(()=>s.disconnect())})}function Jv(n,t){if(n.shapeFlag&128){const r=n.suspense;n=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Jv(r.activeBranch,t)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)_p(n.el,t);else if(n.type===at)n.children.forEach(r=>Jv(r,t));else if(n.type===Cl){let{el:r,anchor:i}=n;for(;r&&(_p(r,t),r!==i);)r=r.nextSibling}}function _p(n,t){if(n.nodeType===1){const r=n.style;let i="";for(const s in t){const o=xA(t[s]);r.setProperty(`--${s}`,o),i+=`--${s}: ${o};`}r[eI]=i}}const e4=/(?:^|;)\s*display\s*:/;function t4(n,t,r){const i=n.style,s=Bt(r);let o=!1;if(r&&!s){if(t)if(Bt(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();r[l]==null&&Ud(i,l,"")}else for(const a in t)r[a]==null&&Ud(i,a,"");for(const a in r)a==="display"&&(o=!0),Ud(i,a,r[a])}else if(s){if(t!==r){const a=i[eI];a&&(r+=";"+a),i.cssText=r,o=e4.test(r)}}else t&&n.removeAttribute("style");xp in n&&(n[xp]=o?i.display:"",n[QT]&&(i.display="none"))}const Aw=/\s*!important$/;function Ud(n,t,r){if(dt(r))r.forEach(i=>Ud(n,t,i));else if(r==null&&(r=""),t.startsWith("--"))n.setProperty(t,r);else{const i=n4(n,t);Aw.test(r)?n.setProperty(ci(i),r.replace(Aw,""),"important"):n[i]=r}}const Tw=["Webkit","Moz","ms"],v0={};function n4(n,t){const r=v0[t];if(r)return r;let i=qn(t);if(i!=="filter"&&i in n)return v0[t]=i;i=Va(i);for(let s=0;s<Tw.length;s++){const o=Tw[s]+i;if(o in n)return v0[t]=o}return t}const Iw="http://www.w3.org/1999/xlink";function Dw(n,t,r,i,s,o=gA(t)){i&&t.startsWith("xlink:")?r==null?n.removeAttributeNS(Iw,t.slice(6,t.length)):n.setAttributeNS(Iw,t,r):r==null||o&&!c1(r)?n.removeAttribute(t):n.setAttribute(t,o?"":ki(r)?String(r):r)}function Nw(n,t,r,i,s){if(t==="innerHTML"||t==="textContent"){r!=null&&(n[t]=t==="innerHTML"?qT(r):r);return}const o=n.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?n.getAttribute("value")||"":n.value,u=r==null?n.type==="checkbox"?"on":"":String(r);(l!==u||!("_value"in n))&&(n.value=u),r==null&&n.removeAttribute(t),n._value=r;return}let a=!1;if(r===""||r==null){const l=typeof n[t];l==="boolean"?r=c1(r):r==null&&l==="string"?(r="",a=!0):l==="number"&&(r=0,a=!0)}try{n[t]=r}catch{}a&&n.removeAttribute(s||t)}function Po(n,t,r,i){n.addEventListener(t,r,i)}function r4(n,t,r,i){n.removeEventListener(t,r,i)}const Fw=Symbol("_vei");function i4(n,t,r,i,s=null){const o=n[Fw]||(n[Fw]={}),a=o[t];if(i&&a)a.value=i;else{const[l,u]=s4(t);if(i){const h=o[t]=l4(i,s);Po(n,l,h,u)}else a&&(r4(n,l,a,u),o[t]=void 0)}}const kw=/(?:Once|Passive|Capture)$/;function s4(n){let t;if(kw.test(n)){t={};let i;for(;i=n.match(kw);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):ci(n.slice(2)),t]}let y0=0;const o4=Promise.resolve(),a4=()=>y0||(o4.then(()=>y0=0),y0=Date.now());function l4(n,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Ss(u4(i,r.value),t,5,[i])};return r.value=n,r.attached=a4(),r}function u4(n,t){if(dt(t)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const Mw=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,c4=(n,t,r,i,s,o)=>{const a=s==="svg";t==="class"?ZR(n,i,a):t==="style"?t4(n,r,i):Ba(t)?cm(t)||i4(n,t,r,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):h4(n,t,i,a))?(Nw(n,t,i),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Dw(n,t,i,a,o,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!Bt(i))?Nw(n,qn(t),i,o,t):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),Dw(n,t,i,a))};function h4(n,t,r,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in n&&Mw(t)&&Mt(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Mw(t)&&Bt(r)?!1:t in n}const Ow={};function tI(n,t,r){let i=hf(n,t);lf(i)&&(i=ln({},i,t));class s extends Im{constructor(a){super(i,a,r)}}return s.def=i,s}const f4=((n,t)=>tI(n,t,dI)),d4=typeof HTMLElement<"u"?HTMLElement:class{};class Im extends d4{constructor(t,r={},i=Ep){super(),this._def=t,this._props=r,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==Ep?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow(ln({},t.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Im){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._inheritParentContext(t))}_inheritParentContext(t=this._parent){t&&this._app&&Object.setPrototypeOf(this._app._context.provides,t._instance.provides)}disconnectedCallback(){this._connected=!1,Ji(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(t){for(const r of t)this._setAttr(r.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const t=(i,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:o,styles:a}=i;let l;if(o&&!dt(o))for(const u in o){const h=o[u];(h===Number||h&&h.type===Number)&&(u in this._props&&(this._props[u]=Eh(this._props[u])),(l||(l=Object.create(null)))[qn(u)]=!0)}this._numberProps=l,this._resolveProps(i),this.shadowRoot&&this._applyStyles(a),this._mount(i)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(i=>{i.configureApp=this._def.configureApp,t(this._def=i,!0)}):t(this._def)}_mount(t){this._app=this._createApp(t),this._inheritParentContext(),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const i in r)wn(this,i)||Object.defineProperty(this,i,{get:()=>ai(r[i])})}_resolveProps(t){const{props:r}=t,i=dt(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s]);for(const s of i.map(qn))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(o){this._setProp(s,o,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const r=this.hasAttribute(t);let i=r?this.getAttribute(t):Ow;const s=qn(t);r&&this._numberProps&&this._numberProps[s]&&(i=Eh(i)),this._setProp(s,i,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,r,i=!0,s=!1){if(r!==this._props[t]&&(r===Ow?delete this._props[t]:(this._props[t]=r,t==="key"&&this._app&&(this._app._ceVNode.key=r)),s&&this._instance&&this._update(),i)){const o=this._ob;o&&(this._processMutations(o.takeRecords()),o.disconnect()),r===!0?this.setAttribute(ci(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(ci(t),r+""):r||this.removeAttribute(ci(t)),o&&o.observe(this,{attributes:!0})}}_update(){const t=this._createVNode();this._app&&(t.appContext=this._app._context),fI(t,this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const r=lt(this._def,ln(t,this._props));return this._instance||(r.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const s=(o,a)=>{this.dispatchEvent(new CustomEvent(o,lf(a[0])?ln({detail:a},a[0]):{detail:a}))};i.emit=(o,...a)=>{s(o,a),ci(o)!==o&&s(ci(o),a)},this._setParent()}),r}_applyStyles(t,r){if(!t)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const i=this._nonce;for(let s=t.length-1;s>=0;s--){const o=document.createElement("style");i&&o.setAttribute("nonce",i),o.textContent=t[s],this.shadowRoot.prepend(o)}}_parseSlots(){const t=this._slots={};let r;for(;r=this.firstChild;){const i=r.nodeType===1&&r.getAttribute("slot")||"default";(t[i]||(t[i]=[])).push(r),this.removeChild(r)}}_renderSlots(){const t=this._getSlots(),r=this._instance.type.__scopeId;for(let i=0;i<t.length;i++){const s=t[i],o=s.getAttribute("name")||"default",a=this._slots[o],l=s.parentNode;if(a)for(const u of a){if(r&&u.nodeType===1){const h=r+"-s",c=document.createTreeWalker(u,1);u.setAttribute(h,"");let f;for(;f=c.nextNode();)f.setAttribute(h,"")}l.insertBefore(u,s)}else for(;s.firstChild;)l.insertBefore(s.firstChild,s);l.removeChild(s)}}_getSlots(){const t=[this];return this._teleportTargets&&t.push(...this._teleportTargets),t.reduce((r,i)=>(r.push(...Array.from(i.querySelectorAll("slot"))),r),[])}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function nI(n){const t=Qi(),r=t&&t.ce;return r||null}function p4(){const n=nI();return n&&n.shadowRoot}function m4(n="$style"){{const t=Qi();if(!t)return un;const r=t.type.__cssModules;if(!r)return un;const i=r[n];return i||un}}const rI=new WeakMap,iI=new WeakMap,wp=Symbol("_moveCb"),Lw=Symbol("_enterCb"),g4=n=>(delete n.props.mode,n),v4=g4({name:"TransitionGroup",props:ln({},KT,{tag:String,moveClass:String}),setup(n,{slots:t}){const r=Qi(),i=_1();let s,o;return Sm(()=>{if(!s.length)return;const a=n.moveClass||`${n.name||"v"}-move`;if(!_4(s[0].el,r.vnode.el,a)){s=[];return}s.forEach(y4),s.forEach(b4);const l=s.filter(x4);Zv(r.vnode.el),l.forEach(u=>{const h=u.el,c=h.style;so(h,a),c.transform=c.webkitTransform=c.transitionDuration="";const f=h[wp]=d=>{d&&d.target!==h||(!d||d.propertyName.endsWith("transform"))&&(h.removeEventListener("transitionend",f),h[wp]=null,ca(h,a))};h.addEventListener("transitionend",f)}),s=[]}),()=>{const a=mn(n),l=ZT(a);let u=a.tag||at;if(s=[],o)for(let h=0;h<o.length;h++){const c=o[h];c.el&&c.el instanceof Element&&(s.push(c),Yo(c,Yu(c,l,i,r)),rI.set(c,c.el.getBoundingClientRect()))}o=t.default?wm(t.default()):[];for(let h=0;h<o.length;h++){const c=o[h];c.key!=null&&Yo(c,Yu(c,l,i,r))}return lt(u,null,o)}}}),sI=v4;function y4(n){const t=n.el;t[wp]&&t[wp](),t[Lw]&&t[Lw]()}function b4(n){iI.set(n,n.el.getBoundingClientRect())}function x4(n){const t=rI.get(n),r=iI.get(n),i=t.left-r.left,s=t.top-r.top;if(i||s){const o=n.el.style;return o.transform=o.webkitTransform=`translate(${i}px,${s}px)`,o.transitionDuration="0s",n}}function _4(n,t,r){const i=n.cloneNode(),s=n[Zu];s&&s.forEach(l=>{l.split(/\s+/).forEach(u=>u&&i.classList.remove(u))}),r.split(/\s+/).forEach(l=>l&&i.classList.add(l)),i.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(i);const{hasTransform:a}=JT(i);return o.removeChild(i),a}const Fa=n=>{const t=n.props["onUpdate:modelValue"]||!1;return dt(t)?r=>wl(t,r):t};function w4(n){n.target.composing=!0}function Pw(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ws=Symbol("_assign"),nr={created(n,{modifiers:{lazy:t,trim:r,number:i}},s){n[ws]=Fa(s);const o=i||s.props&&s.props.type==="number";Po(n,t?"change":"input",a=>{if(a.target.composing)return;let l=n.value;r&&(l=l.trim()),o&&(l=wh(l)),n[ws](l)}),r&&Po(n,"change",()=>{n.value=n.value.trim()}),t||(Po(n,"compositionstart",w4),Po(n,"compositionend",Pw),Po(n,"change",Pw))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:r,modifiers:{lazy:i,trim:s,number:o}},a){if(n[ws]=Fa(a),n.composing)return;const l=(o||n.type==="number")&&!/^0\d/.test(n.value)?wh(n.value):n.value,u=t??"";l!==u&&(document.activeElement===n&&n.type!=="range"&&(i&&t===r||s&&n.value.trim()===u)||(n.value=u))}},Ll={deep:!0,created(n,t,r){n[ws]=Fa(r),Po(n,"change",()=>{const i=n._modelValue,s=Ju(n),o=n.checked,a=n[ws];if(dt(i)){const l=cf(i,s),u=l!==-1;if(o&&!u)a(i.concat(s));else if(!o&&u){const h=[...i];h.splice(l,1),a(h)}}else if(Ua(i)){const l=new Set(i);o?l.add(s):l.delete(s),a(l)}else a(aI(n,o))})},mounted:Rw,beforeUpdate(n,t,r){n[ws]=Fa(r),Rw(n,t,r)}};function Rw(n,{value:t,oldValue:r},i){n._modelValue=t;let s;if(dt(t))s=cf(t,i.props.value)>-1;else if(Ua(t))s=t.has(i.props.value);else{if(t===r)return;s=Ho(t,aI(n,!0))}n.checked!==s&&(n.checked=s)}const Xs={created(n,{value:t},r){n.checked=Ho(t,r.props.value),n[ws]=Fa(r),Po(n,"change",()=>{n[ws](Ju(n))})},beforeUpdate(n,{value:t,oldValue:r},i){n[ws]=Fa(i),t!==r&&(n.checked=Ho(t,i.props.value))}},oI={deep:!0,created(n,{value:t,modifiers:{number:r}},i){const s=Ua(t);Po(n,"change",()=>{const o=Array.prototype.filter.call(n.options,a=>a.selected).map(a=>r?wh(Ju(a)):Ju(a));n[ws](n.multiple?s?new Set(o):o:o[0]),n._assigning=!0,Ji(()=>{n._assigning=!1})}),n[ws]=Fa(i)},mounted(n,{value:t}){Bw(n,t)},beforeUpdate(n,t,r){n[ws]=Fa(r)},updated(n,{value:t}){n._assigning||Bw(n,t)}};function Bw(n,t){const r=n.multiple,i=dt(t);if(!(r&&!i&&!Ua(t))){for(let s=0,o=n.options.length;s<o;s++){const a=n.options[s],l=Ju(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=t.some(h=>String(h)===String(l)):a.selected=cf(t,l)>-1}else a.selected=t.has(l);else if(Ho(Ju(a),t)){n.selectedIndex!==s&&(n.selectedIndex=s);return}}!r&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Ju(n){return"_value"in n?n._value:n.value}function aI(n,t){const r=t?"_trueValue":"_falseValue";return r in n?n[r]:t}const Dm={created(n,t,r){nd(n,t,r,null,"created")},mounted(n,t,r){nd(n,t,r,null,"mounted")},beforeUpdate(n,t,r,i){nd(n,t,r,i,"beforeUpdate")},updated(n,t,r,i){nd(n,t,r,i,"updated")}};function lI(n,t){switch(n){case"SELECT":return oI;case"TEXTAREA":return nr;default:switch(t){case"checkbox":return Ll;case"radio":return Xs;default:return nr}}}function nd(n,t,r,i,s){const a=lI(n.tagName,r.props&&r.props.type)[s];a&&a(n,t,r,i)}function E4(){nr.getSSRProps=({value:n})=>({value:n}),Xs.getSSRProps=({value:n},t)=>{if(t.props&&Ho(t.props.value,n))return{checked:!0}},Ll.getSSRProps=({value:n},t)=>{if(dt(n)){if(t.props&&cf(n,t.props.value)>-1)return{checked:!0}}else if(Ua(n)){if(t.props&&n.has(t.props.value))return{checked:!0}}else if(n)return{checked:!0}},Dm.getSSRProps=(n,t)=>{if(typeof t.type!="string")return;const r=lI(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(n,t)}}const S4=["ctrl","shift","alt","meta"],C4={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>S4.some(r=>n[`${r}Key`]&&!t.includes(r))},br=(n,t)=>{const r=n._withMods||(n._withMods={}),i=t.join(".");return r[i]||(r[i]=((s,...o)=>{for(let a=0;a<t.length;a++){const l=C4[t[a]];if(l&&l(s,t))return}return n(s,...o)}))},A4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},L1=(n,t)=>{const r=n._withKeys||(n._withKeys={}),i=t.join(".");return r[i]||(r[i]=(s=>{if(!("key"in s))return;const o=ci(s.key);if(t.some(a=>a===o||A4[a]===o))return n(s)}))},uI=ln({patchProp:c4},XR);let ah,Uw=!1;function cI(){return ah||(ah=ET(uI))}function hI(){return ah=Uw?ah:ST(uI),Uw=!0,ah}const fI=((...n)=>{cI().render(...n)}),T4=((...n)=>{hI().hydrate(...n)}),Ep=((...n)=>{const t=cI().createApp(...n),{mount:r}=t;return t.mount=i=>{const s=mI(i);if(!s)return;const o=t._component;!Mt(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=r(s,!1,pI(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t}),dI=((...n)=>{const t=hI().createApp(...n),{mount:r}=t;return t.mount=i=>{const s=mI(i);if(s)return r(s,!0,pI(s))},t});function pI(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function mI(n){return Bt(n)?document.querySelector(n):n}let Vw=!1;const I4=()=>{Vw||(Vw=!0,E4(),JR())},D4=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:eT,BaseTransitionPropsValidators:w1,Comment:Er,DeprecationTypes:GR,EffectScope:h1,ErrorCodes:nP,ErrorTypeStrings:RR,Fragment:at,KeepAlive:nT,ReactiveEffect:Sh,Static:Cl,Suspense:bR,Teleport:cP,Text:Ia,TrackOpTypes:YL,Transition:$s,TransitionGroup:sI,TriggerOpTypes:KL,VueElement:Im,assertNumber:tP,callWithAsyncErrorHandling:Ss,callWithErrorHandling:gc,camelize:qn,capitalize:Va,cloneVNode:fo,compatUtils:zR,computed:Ut,createApp:Ep,createBlock:Kt,createCommentVNode:rt,createElementBlock:ce,createElementVNode:A,createHydrationRenderer:ST,createPropsRestProxy:WP,createRenderer:ET,createSSRApp:dI,createSlots:FP,createStaticVNode:pi,createTextVNode:Nt,createVNode:lt,customRef:BA,defineAsyncComponent:AP,defineComponent:hf,defineCustomElement:tI,defineEmits:PP,defineExpose:RP,defineModel:VP,defineOptions:BP,defineProps:LP,defineSSRCustomElement:f4,defineSlots:UP,devtools:BR,effect:bL,effectScope:f1,getCurrentInstance:Qi,getCurrentScope:d1,getCurrentWatcher:ZL,getTransitionRawChildren:wm,guardReactiveProps:UT,h:Tm,handleError:tu,hasInjectionContext:pT,hydrate:T4,hydrateOnIdle:xP,hydrateOnInteraction:SP,hydrateOnMediaQuery:EP,hydrateOnVisible:wP,initCustomFormatter:OR,initDirectivesForSSR:I4,inject:cs,isMemoSame:WT,isProxy:bm,isReactive:Ws,isReadonly:qo,isRef:sr,isRuntimeOnly:FR,isShallow:us,isVNode:Ko,markRaw:xm,mergeDefaults:GP,mergeModels:HP,mergeProps:VT,nextTick:Ji,normalizeClass:ht,normalizeProps:cA,normalizeStyle:Xn,onActivated:S1,onBeforeMount:sT,onBeforeUnmount:Ds,onBeforeUpdate:C1,onDeactivated:rT,onErrorCaptured:uT,onMounted:xr,onRenderTracked:lT,onRenderTriggered:aT,onScopeDispose:_A,onServerPrefetch:oT,onUnmounted:nu,onUpdated:Sm,onWatcherCleanup:jA,openBlock:re,popScopeId:aP,provide:sh,proxyRefs:b1,pushScopeId:oP,queuePostFlushCb:Th,reactive:mc,readonly:up,ref:Xe,registerRuntimeCompiler:NR,render:fI,renderList:At,renderSlot:kP,resolveComponent:Lt,resolveDirective:NP,resolveDynamicComponent:T1,resolveFilter:jR,resolveTransitionHooks:Yu,setBlockTracking:kh,setDevtoolsHook:UR,setTransitionHooks:Yo,shallowReactive:v1,shallowReadonly:UL,shallowRef:y1,ssrContextKey:IT,ssrUtils:$R,stop:xL,toDisplayString:Be,toHandlerKey:_l,toHandlers:MP,toRaw:mn,toRef:VA,toRefs:UA,toValue:jL,transformVNodeArgs:CR,triggerRef:$L,unref:ai,useAttrs:zP,useCssModule:m4,useCssVars:QR,useHost:nI,useId:fP,useModel:hR,useSSRContext:DT,useShadowRoot:p4,useSlots:jP,useTemplateRef:dP,useTransitionState:_1,vModelCheckbox:Ll,vModelDynamic:Dm,vModelRadio:Xs,vModelSelect:oI,vModelText:nr,vShow:Mh,version:XT,warn:PR,watch:Wi,watchEffect:lR,watchPostEffect:uR,watchSyncEffect:NT,withAsyncContext:XP,withCtx:Hr,withDefaults:$P,withDirectives:an,withKeys:L1,withMemo:LR,withModifiers:br,withScopeId:lP},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let gI;const Nm=n=>gI=n,vI=Symbol();function Qv(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var lh;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(lh||(lh={}));function yI(){const n=f1(!0),t=n.run(()=>Xe({}));let r=[],i=[];const s=xm({install(o){Nm(s),s._a=o,o.provide(vI,s),o.config.globalProperties.$pinia=s,i.forEach(a=>r.push(a)),i=[]},use(o){return this._a?r.push(o):i.push(o),this},_p:r,_a:null,_e:n,_s:new Map,state:t});return s}const bI=()=>{};function $w(n,t,r,i=bI){n.push(t);const s=()=>{const o=n.indexOf(t);o>-1&&(n.splice(o,1),i())};return!r&&d1()&&_A(s),s}function vu(n,...t){n.slice().forEach(r=>{r(...t)})}const N4=n=>n(),jw=Symbol(),b0=Symbol();function ey(n,t){n instanceof Map&&t instanceof Map?t.forEach((r,i)=>n.set(i,r)):n instanceof Set&&t instanceof Set&&t.forEach(n.add,n);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],s=n[r];Qv(s)&&Qv(i)&&n.hasOwnProperty(r)&&!sr(i)&&!Ws(i)?n[r]=ey(s,i):n[r]=i}return n}const F4=Symbol();function k4(n){return!Qv(n)||!Object.prototype.hasOwnProperty.call(n,F4)}const{assign:ha}=Object;function M4(n){return!!(sr(n)&&n.effect)}function O4(n,t,r,i){const{state:s,actions:o,getters:a}=t,l=r.state.value[n];let u;function h(){l||(r.state.value[n]=s?s():{});const c=UA(r.state.value[n]);return ha(c,o,Object.keys(a||{}).reduce((f,d)=>(f[d]=xm(Ut(()=>{Nm(r);const p=r._s.get(n);return a[d].call(p,p)})),f),{}))}return u=xI(n,h,t,r,i,!0),u}function xI(n,t,r={},i,s,o){let a;const l=ha({actions:{}},r),u={deep:!0};let h,c,f=[],d=[],p;const m=i.state.value[n];!o&&!m&&(i.state.value[n]={}),Xe({});let g;function v(T){let C;h=c=!1,typeof T=="function"?(T(i.state.value[n]),C={type:lh.patchFunction,storeId:n,events:p}):(ey(i.state.value[n],T),C={type:lh.patchObject,payload:T,storeId:n,events:p});const F=g=Symbol();Ji().then(()=>{g===F&&(h=!0)}),c=!0,vu(f,C,i.state.value[n])}const E=o?function(){const{state:C}=r,F=C?C():{};this.$patch(k=>{ha(k,F)})}:bI;function y(){a.stop(),f=[],d=[],i._s.delete(n)}const x=(T,C="")=>{if(jw in T)return T[b0]=C,T;const F=function(){Nm(i);const k=Array.from(arguments),D=[],N=[];function M(W){D.push(W)}function U(W){N.push(W)}vu(d,{args:k,name:F[b0],store:w,after:M,onError:U});let B;try{B=T.apply(this&&this.$id===n?this:w,k)}catch(W){throw vu(N,W),W}return B instanceof Promise?B.then(W=>(vu(D,W),W)).catch(W=>(vu(N,W),Promise.reject(W))):(vu(D,B),B)};return F[jw]=!0,F[b0]=C,F},b={_p:i,$id:n,$onAction:$w.bind(null,d),$patch:v,$reset:E,$subscribe(T,C={}){const F=$w(f,T,C.detached,()=>k()),k=a.run(()=>Wi(()=>i.state.value[n],D=>{(C.flush==="sync"?c:h)&&T({storeId:n,type:lh.direct,events:p},D)},ha({},u,C)));return F},$dispose:y},w=mc(b);i._s.set(n,w);const _=(i._a&&i._a.runWithContext||N4)(()=>i._e.run(()=>(a=f1()).run(()=>t({action:x}))));for(const T in _){const C=_[T];if(sr(C)&&!M4(C)||Ws(C))o||(m&&k4(C)&&(sr(C)?C.value=m[T]:ey(C,m[T])),i.state.value[n][T]=C);else if(typeof C=="function"){const F=x(C,T);_[T]=F,l.actions[T]=C}}return ha(w,_),ha(mn(w),_),Object.defineProperty(w,"$state",{get:()=>i.state.value[n],set:T=>{v(C=>{ha(C,T)})}}),i._p.forEach(T=>{ha(w,a.run(()=>T({store:w,app:i._a,pinia:i,options:l})))}),m&&o&&r.hydrate&&r.hydrate(w.$state,m),h=!0,c=!0,w}/*! #__NO_SIDE_EFFECTS__ */function _I(n,t,r){let i;const s=typeof t=="function";i=s?r:t;function o(a,l){const u=pT();return a=a||(u?cs(vI,null):null),a&&Nm(a),a=gI,a._s.has(n)||(s?xI(n,t,i,a):O4(n,i,a)),a._s.get(n)}return o.$id=n,o}function L4(n,t){return Array.isArray(t)?t.reduce((r,i)=>(r[i]=function(){return n(this.$pinia)[i]},r),{}):Object.keys(t).reduce((r,i)=>(r[i]=function(){const s=n(this.$pinia),o=t[i];return typeof o=="function"?o.call(this,s):s[o]},r),{})}function P4(n,t){return Array.isArray(t)?t.reduce((r,i)=>(r[i]=function(...s){return n(this.$pinia)[i](...s)},r),{}):Object.keys(t).reduce((r,i)=>(r[i]=function(...s){return n(this.$pinia)[t[i]](...s)},r),{})}function Cs(n){const t=mn(n),r={};for(const i in t){const s=t[i];s.effect?r[i]=Ut({get:()=>n[i],set(o){n[i]=o}}):(sr(s)||Ws(s))&&(r[i]=VA(n,i))}return r}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Du=typeof document<"u";function wI(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function R4(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&wI(n.default)}const In=Object.assign;function x0(n,t){const r={};for(const i in t){const s=t[i];r[i]=Ks(s)?s.map(n):n(s)}return r}const uh=()=>{},Ks=Array.isArray;function zw(n,t){const r={};for(const i in n)r[i]=i in t?t[i]:n[i];return r}const EI=/#/g,B4=/&/g,U4=/\//g,V4=/=/g,$4=/\?/g,SI=/\+/g,j4=/%5B/g,z4=/%5D/g,CI=/%5E/g,G4=/%60/g,AI=/%7B/g,H4=/%7C/g,TI=/%7D/g,W4=/%20/g;function P1(n){return n==null?"":encodeURI(""+n).replace(H4,"|").replace(j4,"[").replace(z4,"]")}function X4(n){return P1(n).replace(AI,"{").replace(TI,"}").replace(CI,"^")}function ty(n){return P1(n).replace(SI,"%2B").replace(W4,"+").replace(EI,"%23").replace(B4,"%26").replace(G4,"`").replace(AI,"{").replace(TI,"}").replace(CI,"^")}function q4(n){return ty(n).replace(V4,"%3D")}function Y4(n){return P1(n).replace(EI,"%23").replace($4,"%3F")}function K4(n){return Y4(n).replace(U4,"%2F")}function Oh(n){if(n==null)return null;try{return decodeURIComponent(""+n)}catch{}return""+n}const Z4=/\/$/,J4=n=>n.replace(Z4,"");function _0(n,t,r="/"){let i,s={},o="",a="";const l=t.indexOf("#");let u=t.indexOf("?");return u=l>=0&&u>l?-1:u,u>=0&&(i=t.slice(0,u),o=t.slice(u,l>0?l:t.length),s=n(o.slice(1))),l>=0&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=nB(i??t,r),{fullPath:i+o+a,path:i,query:s,hash:Oh(a)}}function Q4(n,t){const r=t.query?n(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Gw(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function eB(n,t,r){const i=t.matched.length-1,s=r.matched.length-1;return i>-1&&i===s&&Qu(t.matched[i],r.matched[s])&&II(t.params,r.params)&&n(t.query)===n(r.query)&&t.hash===r.hash}function Qu(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function II(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(!tB(n[r],t[r]))return!1;return!0}function tB(n,t){return Ks(n)?Hw(n,t):Ks(t)?Hw(t,n):n===t}function Hw(n,t){return Ks(t)?n.length===t.length&&n.every((r,i)=>r===t[i]):n.length===1&&n[0]===t}function nB(n,t){if(n.startsWith("/"))return n;if(!n)return t;const r=t.split("/"),i=n.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=r.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+i.slice(a).join("/")}const la={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let ny=(function(n){return n.pop="pop",n.push="push",n})({}),w0=(function(n){return n.back="back",n.forward="forward",n.unknown="",n})({});function rB(n){if(!n)if(Du){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),J4(n)}const iB=/^[^#]+#/;function sB(n,t){return n.replace(iB,"#")+t}function oB(n,t){const r=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:t.behavior,left:i.left-r.left-(t.left||0),top:i.top-r.top-(t.top||0)}}const Fm=()=>({left:window.scrollX,top:window.scrollY});function aB(n){let t;if("el"in n){const r=n.el,i=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;t=oB(s,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ww(n,t){return(history.state?history.state.position-t:-1)+n}const ry=new Map;function lB(n,t){ry.set(n,t)}function uB(n){const t=ry.get(n);return ry.delete(n),t}function cB(n){return typeof n=="string"||n&&typeof n=="object"}function DI(n){return typeof n=="string"||typeof n=="symbol"}let gr=(function(n){return n[n.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",n[n.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",n[n.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",n[n.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",n[n.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",n})({});const NI=Symbol("");gr.MATCHER_NOT_FOUND+"",gr.NAVIGATION_GUARD_REDIRECT+"",gr.NAVIGATION_ABORTED+"",gr.NAVIGATION_CANCELLED+"",gr.NAVIGATION_DUPLICATED+"";function ec(n,t){return In(new Error,{type:n,[NI]:!0},t)}function Co(n,t){return n instanceof Error&&NI in n&&(t==null||!!(n.type&t))}const hB=["params","query","hash"];function fB(n){if(typeof n=="string")return n;if(n.path!=null)return n.path;const t={};for(const r of hB)r in n&&(t[r]=n[r]);return JSON.stringify(t,null,2)}function dB(n){const t={};if(n===""||n==="?")return t;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(SI," "),o=s.indexOf("="),a=Oh(o<0?s:s.slice(0,o)),l=o<0?null:Oh(s.slice(o+1));if(a in t){let u=t[a];Ks(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Xw(n){let t="";for(let r in n){const i=n[r];if(r=q4(r),i==null){i!==void 0&&(t+=(t.length?"&":"")+r);continue}(Ks(i)?i.map(s=>s&&ty(s)):[i&&ty(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+r,s!=null&&(t+="="+s))})}return t}function pB(n){const t={};for(const r in n){const i=n[r];i!==void 0&&(t[r]=Ks(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const mB=Symbol(""),qw=Symbol(""),km=Symbol(""),R1=Symbol(""),iy=Symbol("");function Bc(){let n=[];function t(i){return n.push(i),()=>{const s=n.indexOf(i);s>-1&&n.splice(s,1)}}function r(){n=[]}return{add:t,list:()=>n.slice(),reset:r}}function ma(n,t,r,i,s,o=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,u)=>{const h=d=>{d===!1?u(ec(gr.NAVIGATION_ABORTED,{from:r,to:t})):d instanceof Error?u(d):cB(d)?u(ec(gr.NAVIGATION_GUARD_REDIRECT,{from:t,to:d})):(a&&i.enterCallbacks[s]===a&&typeof d=="function"&&a.push(d),l())},c=o(()=>n.call(i&&i.instances[s],t,r,h));let f=Promise.resolve(c);n.length<3&&(f=f.then(h)),f.catch(d=>u(d))})}function E0(n,t,r,i,s=o=>o()){const o=[];for(const a of n)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(wI(u)){const h=(u.__vccOpts||u)[t];h&&o.push(ma(h,r,i,a,l,s))}else{let h=u();o.push(()=>h.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const f=R4(c)?c.default:c;a.mods[l]=c,a.components[l]=f;const d=(f.__vccOpts||f)[t];return d&&ma(d,r,i,a,l,s)()}))}}return o}function gB(n,t){const r=[],i=[],s=[],o=Math.max(t.matched.length,n.matched.length);for(let a=0;a<o;a++){const l=t.matched[a];l&&(n.matched.find(h=>Qu(h,l))?i.push(l):r.push(l));const u=n.matched[a];u&&(t.matched.find(h=>Qu(h,u))||s.push(u))}return[r,i,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let vB=()=>location.protocol+"//"+location.host;function FI(n,t){const{pathname:r,search:i,hash:s}=t,o=n.indexOf("#");if(o>-1){let a=s.includes(n.slice(o))?n.slice(o).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Gw(l,"")}return Gw(r,n)+i+s}function yB(n,t,r,i){let s=[],o=[],a=null;const l=({state:d})=>{const p=FI(n,location),m=r.value,g=t.value;let v=0;if(d){if(r.value=p,t.value=d,a&&a===m){a=null;return}v=g?d.position-g.position:0}else i(p);s.forEach(E=>{E(r.value,m,{delta:v,type:ny.pop,direction:v?v>0?w0.forward:w0.back:w0.unknown})})};function u(){a=r.value}function h(d){s.push(d);const p=()=>{const m=s.indexOf(d);m>-1&&s.splice(m,1)};return o.push(p),p}function c(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(In({},d.state,{scroll:Fm()}),"")}}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:u,listen:h,destroy:f}}function Yw(n,t,r,i=!1,s=!1){return{back:n,current:t,forward:r,replaced:i,position:window.history.length,scroll:s?Fm():null}}function bB(n){const{history:t,location:r}=window,i={value:FI(n,r)},s={value:t.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,h,c){const f=n.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?n:n.slice(f))+u:vB()+n+u;try{t[c?"replaceState":"pushState"](h,"",d),s.value=h}catch(p){console.error(p),r[c?"replace":"assign"](d)}}function a(u,h){o(u,In({},t.state,Yw(s.value.back,u,s.value.forward,!0),h,{position:s.value.position}),!0),i.value=u}function l(u,h){const c=In({},s.value,t.state,{forward:u,scroll:Fm()});o(c.current,c,!0),o(u,In({},Yw(i.value,u,null),{position:c.position+1},h),!1),i.value=u}return{location:i,state:s,push:l,replace:a}}function xB(n){n=rB(n);const t=bB(n),r=yB(n,t.state,t.location,t.replace);function i(o,a=!0){a||r.pauseListeners(),history.go(o)}const s=In({location:"",base:n,go:i,createHref:sB.bind(null,n)},t,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}let ml=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.Group=2]="Group",n})({});var Mr=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.ParamRegExp=2]="ParamRegExp",n[n.ParamRegExpEnd=3]="ParamRegExpEnd",n[n.EscapeNext=4]="EscapeNext",n})(Mr||{});const _B={type:ml.Static,value:""},wB=/[a-zA-Z0-9_]/;function EB(n){if(!n)return[[]];if(n==="/")return[[_B]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(p){throw new Error(`ERR (${r})/"${h}": ${p}`)}let r=Mr.Static,i=r;const s=[];let o;function a(){o&&s.push(o),o=[]}let l=0,u,h="",c="";function f(){h&&(r===Mr.Static?o.push({type:ml.Static,value:h}):r===Mr.Param||r===Mr.ParamRegExp||r===Mr.ParamRegExpEnd?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:ml.Param,value:h,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),h="")}function d(){h+=u}for(;l<n.length;){if(u=n[l++],u==="\\"&&r!==Mr.ParamRegExp){i=r,r=Mr.EscapeNext;continue}switch(r){case Mr.Static:u==="/"?(h&&f(),a()):u===":"?(f(),r=Mr.Param):d();break;case Mr.EscapeNext:d(),r=i;break;case Mr.Param:u==="("?r=Mr.ParamRegExp:wB.test(u)?d():(f(),r=Mr.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case Mr.ParamRegExp:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=Mr.ParamRegExpEnd:c+=u;break;case Mr.ParamRegExpEnd:f(),r=Mr.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--,c="";break;default:t("Unknown state");break}}return r===Mr.ParamRegExp&&t(`Unfinished custom RegExp for param "${h}"`),f(),a(),s}const Kw="[^/]+?",SB={sensitive:!1,strict:!1,start:!0,end:!0};var Ei=(function(n){return n[n._multiplier=10]="_multiplier",n[n.Root=90]="Root",n[n.Segment=40]="Segment",n[n.SubSegment=30]="SubSegment",n[n.Static=40]="Static",n[n.Dynamic=20]="Dynamic",n[n.BonusCustomRegExp=10]="BonusCustomRegExp",n[n.BonusWildcard=-50]="BonusWildcard",n[n.BonusRepeatable=-20]="BonusRepeatable",n[n.BonusOptional=-8]="BonusOptional",n[n.BonusStrict=.7000000000000001]="BonusStrict",n[n.BonusCaseSensitive=.25]="BonusCaseSensitive",n})(Ei||{});const CB=/[.+*?^${}()[\]/\\]/g;function AB(n,t){const r=In({},SB,t),i=[];let s=r.start?"^":"";const o=[];for(const h of n){const c=h.length?[]:[Ei.Root];r.strict&&!h.length&&(s+="/");for(let f=0;f<h.length;f++){const d=h[f];let p=Ei.Segment+(r.sensitive?Ei.BonusCaseSensitive:0);if(d.type===ml.Static)f||(s+="/"),s+=d.value.replace(CB,"\\$&"),p+=Ei.Static;else if(d.type===ml.Param){const{value:m,repeatable:g,optional:v,regexp:E}=d;o.push({name:m,repeatable:g,optional:v});const y=E||Kw;if(y!==Kw){p+=Ei.BonusCustomRegExp;try{`${y}`}catch(b){throw new Error(`Invalid custom RegExp for param "${m}" (${y}): `+b.message)}}let x=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(x=v&&h.length<2?`(?:/${x})`:"/"+x),v&&(x+="?"),s+=x,p+=Ei.Dynamic,v&&(p+=Ei.BonusOptional),g&&(p+=Ei.BonusRepeatable),y===".*"&&(p+=Ei.BonusWildcard)}c.push(p)}i.push(c)}if(r.strict&&r.end){const h=i.length-1;i[h][i[h].length-1]+=Ei.BonusStrict}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,r.sensitive?"":"i");function l(h){const c=h.match(a),f={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",m=o[d-1];f[m.name]=p&&m.repeatable?p.split("/"):p}return f}function u(h){let c="",f=!1;for(const d of n){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of d)if(p.type===ml.Static)c+=p.value;else if(p.type===ml.Param){const{value:m,repeatable:g,optional:v}=p,E=m in h?h[m]:"";if(Ks(E)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const y=Ks(E)?E.join("/"):E;if(!y)if(v)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);c+=y}}return c||"/"}return{re:a,score:i,keys:o,parse:l,stringify:u}}function TB(n,t){let r=0;for(;r<n.length&&r<t.length;){const i=t[r]-n[r];if(i)return i;r++}return n.length<t.length?n.length===1&&n[0]===Ei.Static+Ei.Segment?-1:1:n.length>t.length?t.length===1&&t[0]===Ei.Static+Ei.Segment?1:-1:0}function kI(n,t){let r=0;const i=n.score,s=t.score;for(;r<i.length&&r<s.length;){const o=TB(i[r],s[r]);if(o)return o;r++}if(Math.abs(s.length-i.length)===1){if(Zw(i))return 1;if(Zw(s))return-1}return s.length-i.length}function Zw(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const IB={strict:!1,end:!0,sensitive:!1};function DB(n,t,r){const i=AB(EB(n.path),r),s=In(i,{record:n,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function NB(n,t){const r=[],i=new Map;t=zw(IB,t);function s(f){return i.get(f)}function o(f,d,p){const m=!p,g=Qw(f);g.aliasOf=p&&p.record;const v=zw(t,f),E=[g];if("alias"in f){const b=typeof f.alias=="string"?[f.alias]:f.alias;for(const w of b)E.push(Qw(In({},g,{components:p?p.record.components:g.components,path:w,aliasOf:p?p.record:g})))}let y,x;for(const b of E){const{path:w}=b;if(d&&w[0]!=="/"){const S=d.record.path,_=S[S.length-1]==="/"?"":"/";b.path=d.record.path+(w&&_+w)}if(y=DB(b,d,v),p?p.alias.push(y):(x=x||y,x!==y&&x.alias.push(y),m&&f.name&&!eE(y)&&a(f.name)),MI(y)&&u(y),g.children){const S=g.children;for(let _=0;_<S.length;_++)o(S[_],y,p&&p.children[_])}p=p||y}return x?()=>{a(x)}:uh}function a(f){if(DI(f)){const d=i.get(f);d&&(i.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&i.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return r}function u(f){const d=MB(f,r);r.splice(d,0,f),f.record.name&&!eE(f)&&i.set(f.record.name,f)}function h(f,d){let p,m={},g,v;if("name"in f&&f.name){if(p=i.get(f.name),!p)throw ec(gr.MATCHER_NOT_FOUND,{location:f});v=p.record.name,m=In(Jw(d.params,p.keys.filter(x=>!x.optional).concat(p.parent?p.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),f.params&&Jw(f.params,p.keys.map(x=>x.name))),g=p.stringify(m)}else if(f.path!=null)g=f.path,p=r.find(x=>x.re.test(g)),p&&(m=p.parse(g),v=p.record.name);else{if(p=d.name?i.get(d.name):r.find(x=>x.re.test(d.path)),!p)throw ec(gr.MATCHER_NOT_FOUND,{location:f,currentLocation:d});v=p.record.name,m=In({},d.params,f.params),g=p.stringify(m)}const E=[];let y=p;for(;y;)E.unshift(y.record),y=y.parent;return{name:v,path:g,params:m,matched:E,meta:kB(E)}}n.forEach(f=>o(f));function c(){r.length=0,i.clear()}return{addRoute:o,resolve:h,removeRoute:a,clearRoutes:c,getRoutes:l,getRecordMatcher:s}}function Jw(n,t){const r={};for(const i of t)i in n&&(r[i]=n[i]);return r}function Qw(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:FB(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function FB(n){const t={},r=n.props||!1;if("component"in n)t.default=r;else for(const i in n.components)t[i]=typeof r=="object"?r[i]:r;return t}function eE(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function kB(n){return n.reduce((t,r)=>In(t,r.meta),{})}function MB(n,t){let r=0,i=t.length;for(;r!==i;){const o=r+i>>1;kI(n,t[o])<0?i=o:r=o+1}const s=OB(n);return s&&(i=t.lastIndexOf(s,i-1)),i}function OB(n){let t=n;for(;t=t.parent;)if(MI(t)&&kI(n,t)===0)return t}function MI({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function tE(n){const t=cs(km),r=cs(R1),i=Ut(()=>{const u=ai(n.to);return t.resolve(u)}),s=Ut(()=>{const{matched:u}=i.value,{length:h}=u,c=u[h-1],f=r.matched;if(!c||!f.length)return-1;const d=f.findIndex(Qu.bind(null,c));if(d>-1)return d;const p=nE(u[h-2]);return h>1&&nE(c)===p&&f[f.length-1].path!==p?f.findIndex(Qu.bind(null,u[h-2])):d}),o=Ut(()=>s.value>-1&&UB(r.params,i.value.params)),a=Ut(()=>s.value>-1&&s.value===r.matched.length-1&&II(r.params,i.value.params));function l(u={}){if(BB(u)){const h=t[ai(n.replace)?"replace":"push"](ai(n.to)).catch(uh);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:i,href:Ut(()=>i.value.href),isActive:o,isExactActive:a,navigate:l}}function LB(n){return n.length===1?n[0]:n}const PB=hf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:tE,setup(n,{slots:t}){const r=mc(tE(n)),{options:i}=cs(km),s=Ut(()=>({[rE(n.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[rE(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&LB(t.default(r));return n.custom?o:Tm("a",{"aria-current":r.isExactActive?n.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},o)}}}),RB=PB;function BB(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function UB(n,t){for(const r in t){const i=t[r],s=n[r];if(typeof i=="string"){if(i!==s)return!1}else if(!Ks(s)||s.length!==i.length||i.some((o,a)=>o!==s[a]))return!1}return!0}function nE(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const rE=(n,t,r)=>n??t??r,VB=hf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:r}){const i=cs(iy),s=Ut(()=>n.route||i.value),o=cs(qw,0),a=Ut(()=>{let h=ai(o);const{matched:c}=s.value;let f;for(;(f=c[h])&&!f.components;)h++;return h}),l=Ut(()=>s.value.matched[a.value]);sh(qw,Ut(()=>a.value+1)),sh(mB,l),sh(iy,s);const u=Xe();return Wi(()=>[u.value,l.value,n.name],([h,c,f],[d,p,m])=>{c&&(c.instances[f]=h,p&&p!==c&&h&&h===d&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),h&&c&&(!p||!Qu(c,p)||!d)&&(c.enterCallbacks[f]||[]).forEach(g=>g(h))},{flush:"post"}),()=>{const h=s.value,c=n.name,f=l.value,d=f&&f.components[c];if(!d)return iE(r.default,{Component:d,route:h});const p=f.props[c],m=p?p===!0?h.params:typeof p=="function"?p(h):p:null,v=Tm(d,In({},m,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return iE(r.default,{Component:v,route:h})||v}}});function iE(n,t){if(!n)return null;const r=n(t);return r.length===1?r[0]:r}const OI=VB;function $B(n){const t=NB(n.routes,n),r=n.parseQuery||dB,i=n.stringifyQuery||Xw,s=n.history,o=Bc(),a=Bc(),l=Bc(),u=y1(la);let h=la;Du&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=x0.bind(null,ie=>""+ie),f=x0.bind(null,K4),d=x0.bind(null,Oh);function p(ie,ge){let z,se;return DI(ie)?(z=t.getRecordMatcher(ie),se=ge):se=ie,t.addRoute(se,z)}function m(ie){const ge=t.getRecordMatcher(ie);ge&&t.removeRoute(ge)}function g(){return t.getRoutes().map(ie=>ie.record)}function v(ie){return!!t.getRecordMatcher(ie)}function E(ie,ge){if(ge=In({},ge||u.value),typeof ie=="string"){const q=_0(r,ie,ge.path),te=t.resolve({path:q.path},ge),Ae=s.createHref(q.fullPath);return In(q,te,{params:d(te.params),hash:Oh(q.hash),redirectedFrom:void 0,href:Ae})}let z;if(ie.path!=null)z=In({},ie,{path:_0(r,ie.path,ge.path).path});else{const q=In({},ie.params);for(const te in q)q[te]==null&&delete q[te];z=In({},ie,{params:f(q)}),ge.params=f(ge.params)}const se=t.resolve(z,ge),ye=ie.hash||"";se.params=c(d(se.params));const Ce=Q4(i,In({},ie,{hash:X4(ye),path:se.path})),$=s.createHref(Ce);return In({fullPath:Ce,hash:ye,query:i===Xw?pB(ie.query):ie.query||{}},se,{redirectedFrom:void 0,href:$})}function y(ie){return typeof ie=="string"?_0(r,ie,u.value.path):In({},ie)}function x(ie,ge){if(h!==ie)return ec(gr.NAVIGATION_CANCELLED,{from:ge,to:ie})}function b(ie){return _(ie)}function w(ie){return b(In(y(ie),{replace:!0}))}function S(ie,ge){const z=ie.matched[ie.matched.length-1];if(z&&z.redirect){const{redirect:se}=z;let ye=typeof se=="function"?se(ie,ge):se;return typeof ye=="string"&&(ye=ye.includes("?")||ye.includes("#")?ye=y(ye):{path:ye},ye.params={}),In({query:ie.query,hash:ie.hash,params:ye.path!=null?{}:ie.params},ye)}}function _(ie,ge){const z=h=E(ie),se=u.value,ye=ie.state,Ce=ie.force,$=ie.replace===!0,q=S(z,se);if(q)return _(In(y(q),{state:typeof q=="object"?In({},ye,q.state):ye,force:Ce,replace:$}),ge||z);const te=z;te.redirectedFrom=ge;let Ae;return!Ce&&eB(i,se,z)&&(Ae=ec(gr.NAVIGATION_DUPLICATED,{to:te,from:se}),J(se,se,!0,!1)),(Ae?Promise.resolve(Ae):F(te,se)).catch(_e=>Co(_e)?Co(_e,gr.NAVIGATION_GUARD_REDIRECT)?_e:Q(_e):Z(_e,te,se)).then(_e=>{if(_e){if(Co(_e,gr.NAVIGATION_GUARD_REDIRECT))return _(In({replace:$},y(_e.to),{state:typeof _e.to=="object"?In({},ye,_e.to.state):ye,force:Ce}),ge||te)}else _e=D(te,se,!0,$,ye);return k(te,se,_e),_e})}function T(ie,ge){const z=x(ie,ge);return z?Promise.reject(z):Promise.resolve()}function C(ie){const ge=ee.values().next().value;return ge&&typeof ge.runWithContext=="function"?ge.runWithContext(ie):ie()}function F(ie,ge){let z;const[se,ye,Ce]=gB(ie,ge);z=E0(se.reverse(),"beforeRouteLeave",ie,ge);for(const q of se)q.leaveGuards.forEach(te=>{z.push(ma(te,ie,ge))});const $=T.bind(null,ie,ge);return z.push($),xe(z).then(()=>{z=[];for(const q of o.list())z.push(ma(q,ie,ge));return z.push($),xe(z)}).then(()=>{z=E0(ye,"beforeRouteUpdate",ie,ge);for(const q of ye)q.updateGuards.forEach(te=>{z.push(ma(te,ie,ge))});return z.push($),xe(z)}).then(()=>{z=[];for(const q of Ce)if(q.beforeEnter)if(Ks(q.beforeEnter))for(const te of q.beforeEnter)z.push(ma(te,ie,ge));else z.push(ma(q.beforeEnter,ie,ge));return z.push($),xe(z)}).then(()=>(ie.matched.forEach(q=>q.enterCallbacks={}),z=E0(Ce,"beforeRouteEnter",ie,ge,C),z.push($),xe(z))).then(()=>{z=[];for(const q of a.list())z.push(ma(q,ie,ge));return z.push($),xe(z)}).catch(q=>Co(q,gr.NAVIGATION_CANCELLED)?q:Promise.reject(q))}function k(ie,ge,z){l.list().forEach(se=>C(()=>se(ie,ge,z)))}function D(ie,ge,z,se,ye){const Ce=x(ie,ge);if(Ce)return Ce;const $=ge===la,q=Du?history.state:{};z&&(se||$?s.replace(ie.fullPath,In({scroll:$&&q&&q.scroll},ye)):s.push(ie.fullPath,ye)),u.value=ie,J(ie,ge,z,$),Q()}let N;function M(){N||(N=s.listen((ie,ge,z)=>{if(!K.listening)return;const se=E(ie),ye=S(se,K.currentRoute.value);if(ye){_(In(ye,{replace:!0,force:!0}),se).catch(uh);return}h=se;const Ce=u.value;Du&&lB(Ww(Ce.fullPath,z.delta),Fm()),F(se,Ce).catch($=>Co($,gr.NAVIGATION_ABORTED|gr.NAVIGATION_CANCELLED)?$:Co($,gr.NAVIGATION_GUARD_REDIRECT)?(_(In(y($.to),{force:!0}),se).then(q=>{Co(q,gr.NAVIGATION_ABORTED|gr.NAVIGATION_DUPLICATED)&&!z.delta&&z.type===ny.pop&&s.go(-1,!1)}).catch(uh),Promise.reject()):(z.delta&&s.go(-z.delta,!1),Z($,se,Ce))).then($=>{$=$||D(se,Ce,!1),$&&(z.delta&&!Co($,gr.NAVIGATION_CANCELLED)?s.go(-z.delta,!1):z.type===ny.pop&&Co($,gr.NAVIGATION_ABORTED|gr.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),k(se,Ce,$)}).catch(uh)}))}let U=Bc(),B=Bc(),W;function Z(ie,ge,z){Q(ie);const se=B.list();return se.length?se.forEach(ye=>ye(ie,ge,z)):console.error(ie),Promise.reject(ie)}function fe(){return W&&u.value!==la?Promise.resolve():new Promise((ie,ge)=>{U.add([ie,ge])})}function Q(ie){return W||(W=!ie,M(),U.list().forEach(([ge,z])=>ie?z(ie):ge()),U.reset()),ie}function J(ie,ge,z,se){const{scrollBehavior:ye}=n;if(!Du||!ye)return Promise.resolve();const Ce=!z&&uB(Ww(ie.fullPath,0))||(se||!z)&&history.state&&history.state.scroll||null;return Ji().then(()=>ye(ie,ge,Ce)).then($=>$&&aB($)).catch($=>Z($,ie,ge))}const ae=ie=>s.go(ie);let be;const ee=new Set,K={currentRoute:u,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:g,resolve:E,options:n,push:b,replace:w,go:ae,back:()=>ae(-1),forward:()=>ae(1),beforeEach:o.add,beforeResolve:a.add,afterEach:l.add,onError:B.add,isReady:fe,install(ie){ie.component("RouterLink",RB),ie.component("RouterView",OI),ie.config.globalProperties.$router=K,Object.defineProperty(ie.config.globalProperties,"$route",{enumerable:!0,get:()=>ai(u)}),Du&&!be&&u.value===la&&(be=!0,b(s.location).catch(se=>{}));const ge={};for(const se in la)Object.defineProperty(ge,se,{get:()=>u.value[se],enumerable:!0});ie.provide(km,K),ie.provide(R1,v1(ge)),ie.provide(iy,u);const z=ie.unmount;ee.add(ie),ie.unmount=function(){ee.delete(ie),ee.size<1&&(h=la,N&&N(),N=null,u.value=la,be=!1,W=!1),z()}}};function xe(ie){return ie.reduce((ge,z)=>ge.then(()=>C(z)),Promise.resolve())}return K}function vc(){return cs(km)}function jB(n){return cs(R1)}function LI(n,t){return function(){return n.apply(t,arguments)}}const{toString:zB}=Object.prototype,{getPrototypeOf:B1}=Object,{iterator:Mm,toStringTag:PI}=Symbol,Om=(n=>t=>{const r=zB.call(t);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Zs=n=>(n=n.toLowerCase(),t=>Om(t)===n),Lm=n=>t=>typeof t===n,{isArray:yc}=Array,tc=Lm("undefined");function mf(n){return n!==null&&!tc(n)&&n.constructor!==null&&!tc(n.constructor)&&Xi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const RI=Zs("ArrayBuffer");function GB(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&RI(n.buffer),t}const HB=Lm("string"),Xi=Lm("function"),BI=Lm("number"),gf=n=>n!==null&&typeof n=="object",WB=n=>n===!0||n===!1,Vd=n=>{if(Om(n)!=="object")return!1;const t=B1(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(PI in n)&&!(Mm in n)},XB=n=>{if(!gf(n)||mf(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},qB=Zs("Date"),YB=Zs("File"),KB=Zs("Blob"),ZB=Zs("FileList"),JB=n=>gf(n)&&Xi(n.pipe),QB=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Xi(n.append)&&((t=Om(n))==="formdata"||t==="object"&&Xi(n.toString)&&n.toString()==="[object FormData]"))},e8=Zs("URLSearchParams"),[t8,n8,r8,i8]=["ReadableStream","Request","Response","Headers"].map(Zs),s8=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vf(n,t,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),yc(n))for(i=0,s=n.length;i<s;i++)t.call(null,n[i],i,n);else{if(mf(n))return;const o=r?Object.getOwnPropertyNames(n):Object.keys(n),a=o.length;let l;for(i=0;i<a;i++)l=o[i],t.call(null,n[l],l,n)}}function UI(n,t){if(mf(n))return null;t=t.toLowerCase();const r=Object.keys(n);let i=r.length,s;for(;i-- >0;)if(s=r[i],t===s.toLowerCase())return s;return null}const gl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,VI=n=>!tc(n)&&n!==gl;function sy(){const{caseless:n,skipUndefined:t}=VI(this)&&this||{},r={},i=(s,o)=>{const a=n&&UI(r,o)||o;Vd(r[a])&&Vd(s)?r[a]=sy(r[a],s):Vd(s)?r[a]=sy({},s):yc(s)?r[a]=s.slice():(!t||!tc(s))&&(r[a]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&vf(arguments[s],i);return r}const o8=(n,t,r,{allOwnKeys:i}={})=>(vf(t,(s,o)=>{r&&Xi(s)?n[o]=LI(s,r):n[o]=s},{allOwnKeys:i}),n),a8=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),l8=(n,t,r,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),r&&Object.assign(n.prototype,r)},u8=(n,t,r,i)=>{let s,o,a;const l={};if(t=t||{},n==null)return t;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)a=s[o],(!i||i(a,n,t))&&!l[a]&&(t[a]=n[a],l[a]=!0);n=r!==!1&&B1(n)}while(n&&(!r||r(n,t))&&n!==Object.prototype);return t},c8=(n,t,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=t.length;const i=n.indexOf(t,r);return i!==-1&&i===r},h8=n=>{if(!n)return null;if(yc(n))return n;let t=n.length;if(!BI(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=n[t];return r},f8=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&B1(Uint8Array)),d8=(n,t)=>{const i=(n&&n[Mm]).call(n);let s;for(;(s=i.next())&&!s.done;){const o=s.value;t.call(n,o[0],o[1])}},p8=(n,t)=>{let r;const i=[];for(;(r=n.exec(t))!==null;)i.push(r);return i},m8=Zs("HTMLFormElement"),g8=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,s){return i.toUpperCase()+s}),sE=(({hasOwnProperty:n})=>(t,r)=>n.call(t,r))(Object.prototype),v8=Zs("RegExp"),$I=(n,t)=>{const r=Object.getOwnPropertyDescriptors(n),i={};vf(r,(s,o)=>{let a;(a=t(s,o,n))!==!1&&(i[o]=a||s)}),Object.defineProperties(n,i)},y8=n=>{$I(n,(t,r)=>{if(Xi(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=n[r];if(Xi(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},b8=(n,t)=>{const r={},i=s=>{s.forEach(o=>{r[o]=!0})};return yc(n)?i(n):i(String(n).split(t)),r},x8=()=>{},_8=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function w8(n){return!!(n&&Xi(n.append)&&n[PI]==="FormData"&&n[Mm])}const E8=n=>{const t=new Array(10),r=(i,s)=>{if(gf(i)){if(t.indexOf(i)>=0)return;if(mf(i))return i;if(!("toJSON"in i)){t[s]=i;const o=yc(i)?[]:{};return vf(i,(a,l)=>{const u=r(a,s+1);!tc(u)&&(o[l]=u)}),t[s]=void 0,o}}return i};return r(n,0)},S8=Zs("AsyncFunction"),C8=n=>n&&(gf(n)||Xi(n))&&Xi(n.then)&&Xi(n.catch),jI=((n,t)=>n?setImmediate:t?((r,i)=>(gl.addEventListener("message",({source:s,data:o})=>{s===gl&&o===r&&i.length&&i.shift()()},!1),s=>{i.push(s),gl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xi(gl.postMessage)),A8=typeof queueMicrotask<"u"?queueMicrotask.bind(gl):typeof process<"u"&&process.nextTick||jI,T8=n=>n!=null&&Xi(n[Mm]),ze={isArray:yc,isArrayBuffer:RI,isBuffer:mf,isFormData:QB,isArrayBufferView:GB,isString:HB,isNumber:BI,isBoolean:WB,isObject:gf,isPlainObject:Vd,isEmptyObject:XB,isReadableStream:t8,isRequest:n8,isResponse:r8,isHeaders:i8,isUndefined:tc,isDate:qB,isFile:YB,isBlob:KB,isRegExp:v8,isFunction:Xi,isStream:JB,isURLSearchParams:e8,isTypedArray:f8,isFileList:ZB,forEach:vf,merge:sy,extend:o8,trim:s8,stripBOM:a8,inherits:l8,toFlatObject:u8,kindOf:Om,kindOfTest:Zs,endsWith:c8,toArray:h8,forEachEntry:d8,matchAll:p8,isHTMLForm:m8,hasOwnProperty:sE,hasOwnProp:sE,reduceDescriptors:$I,freezeMethods:y8,toObjectSet:b8,toCamelCase:g8,noop:x8,toFiniteNumber:_8,findKey:UI,global:gl,isContextDefined:VI,isSpecCompliantForm:w8,toJSONObject:E8,isAsyncFn:S8,isThenable:C8,setImmediate:jI,asap:A8,isIterable:T8};function Jt(n,t,r,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}ze.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const zI=Jt.prototype,GI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{GI[n]={value:n}});Object.defineProperties(Jt,GI);Object.defineProperty(zI,"isAxiosError",{value:!0});Jt.from=(n,t,r,i,s,o)=>{const a=Object.create(zI);ze.toFlatObject(n,a,function(c){return c!==Error.prototype},h=>h!=="isAxiosError");const l=n&&n.message?n.message:"Error",u=t==null&&n?n.code:t;return Jt.call(a,l,u,r,i,s),n&&a.cause==null&&Object.defineProperty(a,"cause",{value:n,configurable:!0}),a.name=n&&n.name||"Error",o&&Object.assign(a,o),a};const I8=null;function oy(n){return ze.isPlainObject(n)||ze.isArray(n)}function HI(n){return ze.endsWith(n,"[]")?n.slice(0,-2):n}function oE(n,t,r){return n?n.concat(t).map(function(s,o){return s=HI(s),!r&&o?"["+s+"]":s}).join(r?".":""):t}function D8(n){return ze.isArray(n)&&!n.some(oy)}const N8=ze.toFlatObject(ze,{},null,function(t){return/^is[A-Z]/.test(t)});function Pm(n,t,r){if(!ze.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,r=ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!ze.isUndefined(v[g])});const i=r.metaTokens,s=r.visitor||c,o=r.dots,a=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(t);if(!ze.isFunction(s))throw new TypeError("visitor must be a function");function h(m){if(m===null)return"";if(ze.isDate(m))return m.toISOString();if(ze.isBoolean(m))return m.toString();if(!u&&ze.isBlob(m))throw new Jt("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(m)||ze.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,g,v){let E=m;if(m&&!v&&typeof m=="object"){if(ze.endsWith(g,"{}"))g=i?g:g.slice(0,-2),m=JSON.stringify(m);else if(ze.isArray(m)&&D8(m)||(ze.isFileList(m)||ze.endsWith(g,"[]"))&&(E=ze.toArray(m)))return g=HI(g),E.forEach(function(x,b){!(ze.isUndefined(x)||x===null)&&t.append(a===!0?oE([g],b,o):a===null?g:g+"[]",h(x))}),!1}return oy(m)?!0:(t.append(oE(v,g,o),h(m)),!1)}const f=[],d=Object.assign(N8,{defaultVisitor:c,convertValue:h,isVisitable:oy});function p(m,g){if(!ze.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),ze.forEach(m,function(E,y){(!(ze.isUndefined(E)||E===null)&&s.call(t,E,ze.isString(y)?y.trim():y,g,d))===!0&&p(E,g?g.concat(y):[y])}),f.pop()}}if(!ze.isObject(n))throw new TypeError("data must be an object");return p(n),t}function aE(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function U1(n,t){this._pairs=[],n&&Pm(n,this,t)}const WI=U1.prototype;WI.append=function(t,r){this._pairs.push([t,r])};WI.toString=function(t){const r=t?function(i){return t.call(this,i,aE)}:aE;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function F8(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function XI(n,t,r){if(!t)return n;const i=r&&r.encode||F8;ze.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(t,r):o=ze.isURLSearchParams(t)?t.toString():new U1(t,r).toString(i),o){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class lE{constructor(){this.handlers=[]}use(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ze.forEach(this.handlers,function(i){i!==null&&t(i)})}}const qI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k8=typeof URLSearchParams<"u"?URLSearchParams:U1,M8=typeof FormData<"u"?FormData:null,O8=typeof Blob<"u"?Blob:null,L8={isBrowser:!0,classes:{URLSearchParams:k8,FormData:M8,Blob:O8},protocols:["http","https","file","blob","url","data"]},V1=typeof window<"u"&&typeof document<"u",ay=typeof navigator=="object"&&navigator||void 0,P8=V1&&(!ay||["ReactNative","NativeScript","NS"].indexOf(ay.product)<0),R8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",B8=V1&&window.location.href||"http://localhost",U8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:V1,hasStandardBrowserEnv:P8,hasStandardBrowserWebWorkerEnv:R8,navigator:ay,origin:B8},Symbol.toStringTag,{value:"Module"})),hi={...U8,...L8};function V8(n,t){return Pm(n,new hi.classes.URLSearchParams,{visitor:function(r,i,s,o){return hi.isNode&&ze.isBuffer(r)?(this.append(i,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function $8(n){return ze.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function j8(n){const t={},r=Object.keys(n);let i;const s=r.length;let o;for(i=0;i<s;i++)o=r[i],t[o]=n[o];return t}function YI(n){function t(r,i,s,o){let a=r[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=o>=r.length;return a=!a&&ze.isArray(s)?s.length:a,u?(ze.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!l):((!s[a]||!ze.isObject(s[a]))&&(s[a]=[]),t(r,i,s[a],o)&&ze.isArray(s[a])&&(s[a]=j8(s[a])),!l)}if(ze.isFormData(n)&&ze.isFunction(n.entries)){const r={};return ze.forEachEntry(n,(i,s)=>{t($8(i),s,r,0)}),r}return null}function z8(n,t,r){if(ze.isString(n))try{return(t||JSON.parse)(n),ze.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(n)}const yf={transitional:qI,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const i=r.getContentType()||"",s=i.indexOf("application/json")>-1,o=ze.isObject(t);if(o&&ze.isHTMLForm(t)&&(t=new FormData(t)),ze.isFormData(t))return s?JSON.stringify(YI(t)):t;if(ze.isArrayBuffer(t)||ze.isBuffer(t)||ze.isStream(t)||ze.isFile(t)||ze.isBlob(t)||ze.isReadableStream(t))return t;if(ze.isArrayBufferView(t))return t.buffer;if(ze.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return V8(t,this.formSerializer).toString();if((l=ze.isFileList(t))||i.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Pm(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),z8(t)):t}],transformResponse:[function(t){const r=this.transitional||yf.transitional,i=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ze.isResponse(t)||ze.isReadableStream(t))return t;if(t&&ze.isString(t)&&(i&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?Jt.from(l,Jt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hi.classes.FormData,Blob:hi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],n=>{yf.headers[n]={}});const G8=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H8=n=>{const t={};let r,i,s;return n&&n.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!r||t[r]&&G8[r])&&(r==="set-cookie"?t[r]?t[r].push(i):t[r]=[i]:t[r]=t[r]?t[r]+", "+i:i)}),t},uE=Symbol("internals");function Uc(n){return n&&String(n).trim().toLowerCase()}function $d(n){return n===!1||n==null?n:ze.isArray(n)?n.map($d):String(n)}function W8(n){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(n);)t[i[1]]=i[2];return t}const X8=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function S0(n,t,r,i,s){if(ze.isFunction(i))return i.call(this,t,r);if(s&&(t=r),!!ze.isString(t)){if(ze.isString(i))return t.indexOf(i)!==-1;if(ze.isRegExp(i))return i.test(t)}}function q8(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,i)=>r.toUpperCase()+i)}function Y8(n,t){const r=ze.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+r,{value:function(s,o,a){return this[i].call(this,t,s,o,a)},configurable:!0})})}let qi=class{constructor(t){t&&this.set(t)}set(t,r,i){const s=this;function o(l,u,h){const c=Uc(u);if(!c)throw new Error("header name must be a non-empty string");const f=ze.findKey(s,c);(!f||s[f]===void 0||h===!0||h===void 0&&s[f]!==!1)&&(s[f||u]=$d(l))}const a=(l,u)=>ze.forEach(l,(h,c)=>o(h,c,u));if(ze.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(ze.isString(t)&&(t=t.trim())&&!X8(t))a(H8(t),r);else if(ze.isObject(t)&&ze.isIterable(t)){let l={},u,h;for(const c of t){if(!ze.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[h=c[0]]=(u=l[h])?ze.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}a(l,r)}else t!=null&&o(r,t,i);return this}get(t,r){if(t=Uc(t),t){const i=ze.findKey(this,t);if(i){const s=this[i];if(!r)return s;if(r===!0)return W8(s);if(ze.isFunction(r))return r.call(this,s,i);if(ze.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Uc(t),t){const i=ze.findKey(this,t);return!!(i&&this[i]!==void 0&&(!r||S0(this,this[i],i,r)))}return!1}delete(t,r){const i=this;let s=!1;function o(a){if(a=Uc(a),a){const l=ze.findKey(i,a);l&&(!r||S0(i,i[l],l,r))&&(delete i[l],s=!0)}}return ze.isArray(t)?t.forEach(o):o(t),s}clear(t){const r=Object.keys(this);let i=r.length,s=!1;for(;i--;){const o=r[i];(!t||S0(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const r=this,i={};return ze.forEach(this,(s,o)=>{const a=ze.findKey(i,o);if(a){r[a]=$d(s),delete r[o];return}const l=t?q8(o):String(o).trim();l!==o&&delete r[o],r[l]=$d(s),i[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ze.forEach(this,(i,s)=>{i!=null&&i!==!1&&(r[s]=t&&ze.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const i=new this(t);return r.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[uE]=this[uE]={accessors:{}}).accessors,s=this.prototype;function o(a){const l=Uc(a);i[l]||(Y8(s,a),i[l]=!0)}return ze.isArray(t)?t.forEach(o):o(t),this}};qi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(qi.prototype,({value:n},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[r]=i}}});ze.freezeMethods(qi);function C0(n,t){const r=this||yf,i=t||r,s=qi.from(i.headers);let o=i.data;return ze.forEach(n,function(l){o=l.call(r,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function KI(n){return!!(n&&n.__CANCEL__)}function bc(n,t,r){Jt.call(this,n??"canceled",Jt.ERR_CANCELED,t,r),this.name="CanceledError"}ze.inherits(bc,Jt,{__CANCEL__:!0});function ZI(n,t,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?n(r):t(new Jt("Request failed with status code "+r.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function K8(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function Z8(n,t){n=n||10;const r=new Array(n),i=new Array(n);let s=0,o=0,a;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),c=i[o];a||(a=h),r[s]=u,i[s]=h;let f=o,d=0;for(;f!==s;)d+=r[f++],f=f%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),h-a<t)return;const p=c&&h-c;return p?Math.round(d*1e3/p):void 0}}function J8(n,t){let r=0,i=1e3/t,s,o;const a=(h,c=Date.now())=>{r=c,s=null,o&&(clearTimeout(o),o=null),n(...h)};return[(...h)=>{const c=Date.now(),f=c-r;f>=i?a(h,c):(s=h,o||(o=setTimeout(()=>{o=null,a(s)},i-f)))},()=>s&&a(s)]}const Sp=(n,t,r=3)=>{let i=0;const s=Z8(50,250);return J8(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,u=a-i,h=s(u),c=a<=l;i=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&c?(l-a)/h:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};n(f)},r)},cE=(n,t)=>{const r=n!=null;return[i=>t[0]({lengthComputable:r,total:n,loaded:i}),t[1]]},hE=n=>(...t)=>ze.asap(()=>n(...t)),Q8=hi.hasStandardBrowserEnv?((n,t)=>r=>(r=new URL(r,hi.origin),n.protocol===r.protocol&&n.host===r.host&&(t||n.port===r.port)))(new URL(hi.origin),hi.navigator&&/(msie|trident)/i.test(hi.navigator.userAgent)):()=>!0,e6=hi.hasStandardBrowserEnv?{write(n,t,r,i,s,o){const a=[n+"="+encodeURIComponent(t)];ze.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),ze.isString(i)&&a.push("path="+i),ze.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t6(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function n6(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function JI(n,t,r){let i=!t6(t);return n&&(i||r==!1)?n6(n,t):t}const fE=n=>n instanceof qi?{...n}:n;function Pl(n,t){t=t||{};const r={};function i(h,c,f,d){return ze.isPlainObject(h)&&ze.isPlainObject(c)?ze.merge.call({caseless:d},h,c):ze.isPlainObject(c)?ze.merge({},c):ze.isArray(c)?c.slice():c}function s(h,c,f,d){if(ze.isUndefined(c)){if(!ze.isUndefined(h))return i(void 0,h,f,d)}else return i(h,c,f,d)}function o(h,c){if(!ze.isUndefined(c))return i(void 0,c)}function a(h,c){if(ze.isUndefined(c)){if(!ze.isUndefined(h))return i(void 0,h)}else return i(void 0,c)}function l(h,c,f){if(f in t)return i(h,c);if(f in n)return i(void 0,h)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(h,c,f)=>s(fE(h),fE(c),f,!0)};return ze.forEach(Object.keys({...n,...t}),function(c){const f=u[c]||s,d=f(n[c],t[c],c);ze.isUndefined(d)&&f!==l||(r[c]=d)}),r}const QI=n=>{const t=Pl({},n);let{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=qi.from(a),t.url=XI(JI(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ze.isFormData(r)){if(hi.hasStandardBrowserEnv||hi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(ze.isFunction(r.getHeaders)){const u=r.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([c,f])=>{h.includes(c.toLowerCase())&&a.set(c,f)})}}if(hi.hasStandardBrowserEnv&&(i&&ze.isFunction(i)&&(i=i(t)),i||i!==!1&&Q8(t.url))){const u=s&&o&&e6.read(o);u&&a.set(s,u)}return t},r6=typeof XMLHttpRequest<"u",i6=r6&&function(n){return new Promise(function(r,i){const s=QI(n);let o=s.data;const a=qi.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=s,c,f,d,p,m;function g(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function E(){if(!v)return;const x=qi.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:n,request:v};ZI(function(_){r(_),g()},function(_){i(_),g()},w),v=null}"onloadend"in v?v.onloadend=E:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(E)},v.onabort=function(){v&&(i(new Jt("Request aborted",Jt.ECONNABORTED,n,v)),v=null)},v.onerror=function(b){const w=b&&b.message?b.message:"Network Error",S=new Jt(w,Jt.ERR_NETWORK,n,v);S.event=b||null,i(S),v=null},v.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const w=s.transitional||qI;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),i(new Jt(b,w.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,n,v)),v=null},o===void 0&&a.setContentType(null),"setRequestHeader"in v&&ze.forEach(a.toJSON(),function(b,w){v.setRequestHeader(w,b)}),ze.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),h&&([d,m]=Sp(h,!0),v.addEventListener("progress",d)),u&&v.upload&&([f,p]=Sp(u),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(c=x=>{v&&(i(!x||x.type?new bc(null,n,v):x),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const y=K8(s.url);if(y&&hi.protocols.indexOf(y)===-1){i(new Jt("Unsupported protocol "+y+":",Jt.ERR_BAD_REQUEST,n));return}v.send(o||null)})},s6=(n,t)=>{const{length:r}=n=n?n.filter(Boolean):[];if(t||r){let i=new AbortController,s;const o=function(h){if(!s){s=!0,l();const c=h instanceof Error?h:this.reason;i.abort(c instanceof Jt?c:new bc(c instanceof Error?c.message:c))}};let a=t&&setTimeout(()=>{a=null,o(new Jt(`timeout ${t} of ms exceeded`,Jt.ETIMEDOUT))},t);const l=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),n=null)};n.forEach(h=>h.addEventListener("abort",o));const{signal:u}=i;return u.unsubscribe=()=>ze.asap(l),u}},o6=function*(n,t){let r=n.byteLength;if(r<t){yield n;return}let i=0,s;for(;i<r;)s=i+t,yield n.slice(i,s),i=s},a6=async function*(n,t){for await(const r of l6(n))yield*o6(r,t)},l6=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:r,value:i}=await t.read();if(r)break;yield i}}finally{await t.cancel()}},dE=(n,t,r,i)=>{const s=a6(n,t);let o=0,a,l=u=>{a||(a=!0,i&&i(u))};return new ReadableStream({async pull(u){try{const{done:h,value:c}=await s.next();if(h){l(),u.close();return}let f=c.byteLength;if(r){let d=o+=f;r(d)}u.enqueue(new Uint8Array(c))}catch(h){throw l(h),h}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},pE=64*1024,{isFunction:rd}=ze,u6=(({Request:n,Response:t})=>({Request:n,Response:t}))(ze.global),{ReadableStream:mE,TextEncoder:gE}=ze.global,vE=(n,...t)=>{try{return!!n(...t)}catch{return!1}},c6=n=>{n=ze.merge.call({skipUndefined:!0},u6,n);const{fetch:t,Request:r,Response:i}=n,s=t?rd(t):typeof fetch=="function",o=rd(r),a=rd(i);if(!s)return!1;const l=s&&rd(mE),u=s&&(typeof gE=="function"?(m=>g=>m.encode(g))(new gE):async m=>new Uint8Array(await new r(m).arrayBuffer())),h=o&&l&&vE(()=>{let m=!1;const g=new r(hi.origin,{body:new mE,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),c=a&&l&&vE(()=>ze.isReadableStream(new i("").body)),f={stream:c&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(g,v)=>{let E=g&&g[m];if(E)return E.call(g);throw new Jt(`Response type '${m}' is not supported`,Jt.ERR_NOT_SUPPORT,v)})});const d=async m=>{if(m==null)return 0;if(ze.isBlob(m))return m.size;if(ze.isSpecCompliantForm(m))return(await new r(hi.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(m)||ze.isArrayBuffer(m))return m.byteLength;if(ze.isURLSearchParams(m)&&(m=m+""),ze.isString(m))return(await u(m)).byteLength},p=async(m,g)=>{const v=ze.toFiniteNumber(m.getContentLength());return v??d(g)};return async m=>{let{url:g,method:v,data:E,signal:y,cancelToken:x,timeout:b,onDownloadProgress:w,onUploadProgress:S,responseType:_,headers:T,withCredentials:C="same-origin",fetchOptions:F}=QI(m),k=t||fetch;_=_?(_+"").toLowerCase():"text";let D=s6([y,x&&x.toAbortSignal()],b),N=null;const M=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let U;try{if(S&&h&&v!=="get"&&v!=="head"&&(U=await p(T,E))!==0){let J=new r(g,{method:"POST",body:E,duplex:"half"}),ae;if(ze.isFormData(E)&&(ae=J.headers.get("content-type"))&&T.setContentType(ae),J.body){const[be,ee]=cE(U,Sp(hE(S)));E=dE(J.body,pE,be,ee)}}ze.isString(C)||(C=C?"include":"omit");const B=o&&"credentials"in r.prototype,W={...F,signal:D,method:v.toUpperCase(),headers:T.normalize().toJSON(),body:E,duplex:"half",credentials:B?C:void 0};N=o&&new r(g,W);let Z=await(o?k(N,F):k(g,W));const fe=c&&(_==="stream"||_==="response");if(c&&(w||fe&&M)){const J={};["status","statusText","headers"].forEach(K=>{J[K]=Z[K]});const ae=ze.toFiniteNumber(Z.headers.get("content-length")),[be,ee]=w&&cE(ae,Sp(hE(w),!0))||[];Z=new i(dE(Z.body,pE,be,()=>{ee&&ee(),M&&M()}),J)}_=_||"text";let Q=await f[ze.findKey(f,_)||"text"](Z,m);return!fe&&M&&M(),await new Promise((J,ae)=>{ZI(J,ae,{data:Q,headers:qi.from(Z.headers),status:Z.status,statusText:Z.statusText,config:m,request:N})})}catch(B){throw M&&M(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,m,N),{cause:B.cause||B}):Jt.from(B,B&&B.code,m,N)}}},h6=new Map,eD=n=>{let t=n?n.env:{};const{fetch:r,Request:i,Response:s}=t,o=[i,s,r];let a=o.length,l=a,u,h,c=h6;for(;l--;)u=o[l],h=c.get(u),h===void 0&&c.set(u,h=l?new Map:c6(t)),c=h;return h};eD();const ly={http:I8,xhr:i6,fetch:{get:eD}};ze.forEach(ly,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const yE=n=>`- ${n}`,f6=n=>ze.isFunction(n)||n===null||n===!1,tD={getAdapter:(n,t)=>{n=ze.isArray(n)?n:[n];const{length:r}=n;let i,s;const o={};for(let a=0;a<r;a++){i=n[a];let l;if(s=i,!f6(i)&&(s=ly[(l=String(i)).toLowerCase()],s===void 0))throw new Jt(`Unknown adapter '${l}'`);if(s&&(ze.isFunction(s)||(s=s.get(t))))break;o[l||"#"+a]=s}if(!s){const a=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?`since :
`+a.map(yE).join(`
`):" "+yE(a[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:ly};function A0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new bc(null,n)}function bE(n){return A0(n),n.headers=qi.from(n.headers),n.data=C0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),tD.getAdapter(n.adapter||yf.adapter,n)(n).then(function(i){return A0(n),i.data=C0.call(n,n.transformResponse,i),i.headers=qi.from(i.headers),i},function(i){return KI(i)||(A0(n),i&&i.response&&(i.response.data=C0.call(n,n.transformResponse,i.response),i.response.headers=qi.from(i.response.headers))),Promise.reject(i)})}const nD="1.12.2",Rm={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Rm[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const xE={};Rm.transitional=function(t,r,i){function s(o,a){return"[Axios v"+nD+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return(o,a,l)=>{if(t===!1)throw new Jt(s(a," has been removed"+(r?" in "+r:"")),Jt.ERR_DEPRECATED);return r&&!xE[a]&&(xE[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,l):!0}};Rm.spelling=function(t){return(r,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function d6(n,t,r){if(typeof n!="object")throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const o=i[s],a=t[o];if(a){const l=n[o],u=l===void 0||a(l,o,n);if(u!==!0)throw new Jt("option "+o+" must be "+u,Jt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Jt("Unknown option "+o,Jt.ERR_BAD_OPTION)}}const jd={assertOptions:d6,validators:Rm},no=jd.validators;let Al=class{constructor(t){this.defaults=t||{},this.interceptors={request:new lE,response:new lE}}async request(t,r){try{return await this._request(t,r)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Pl(this.defaults,r);const{transitional:i,paramsSerializer:s,headers:o}=r;i!==void 0&&jd.assertOptions(i,{silentJSONParsing:no.transitional(no.boolean),forcedJSONParsing:no.transitional(no.boolean),clarifyTimeoutError:no.transitional(no.boolean)},!1),s!=null&&(ze.isFunction(s)?r.paramsSerializer={serialize:s}:jd.assertOptions(s,{encode:no.function,serialize:no.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),jd.assertOptions(r,{baseUrl:no.spelling("baseURL"),withXsrfToken:no.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&ze.merge(o.common,o[r.method]);o&&ze.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),r.headers=qi.concat(a,o);const l=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(u=u&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const h=[];this.interceptors.response.forEach(function(g){h.push(g.fulfilled,g.rejected)});let c,f=0,d;if(!u){const m=[bE.bind(this),void 0];for(m.unshift(...l),m.push(...h),d=m.length,c=Promise.resolve(r);f<d;)c=c.then(m[f++],m[f++]);return c}d=l.length;let p=r;for(;f<d;){const m=l[f++],g=l[f++];try{p=m(p)}catch(v){g.call(this,v);break}}try{c=bE.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,d=h.length;f<d;)c=c.then(h[f++],h[f++]);return c}getUri(t){t=Pl(this.defaults,t);const r=JI(t.baseURL,t.url,t.allowAbsoluteUrls);return XI(r,t.params,t.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(t){Al.prototype[t]=function(r,i){return this.request(Pl(i||{},{method:t,url:r,data:(i||{}).data}))}});ze.forEach(["post","put","patch"],function(t){function r(i){return function(o,a,l){return this.request(Pl(l||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Al.prototype[t]=r(),Al.prototype[t+"Form"]=r(!0)});let p6=class rD{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(l=>{i.subscribe(l),o=l}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},t(function(o,a,l){i.reason||(i.reason=new bc(o,a,l),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=i=>{t.abort(i)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new rD(function(s){t=s}),cancel:t}}};function m6(n){return function(r){return n.apply(null,r)}}function g6(n){return ze.isObject(n)&&n.isAxiosError===!0}const uy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uy).forEach(([n,t])=>{uy[t]=n});function iD(n){const t=new Al(n),r=LI(Al.prototype.request,t);return ze.extend(r,Al.prototype,t,{allOwnKeys:!0}),ze.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return iD(Pl(n,s))},r}const kn=iD(yf);kn.Axios=Al;kn.CanceledError=bc;kn.CancelToken=p6;kn.isCancel=KI;kn.VERSION=nD;kn.toFormData=Pm;kn.AxiosError=Jt;kn.Cancel=kn.CanceledError;kn.all=function(t){return Promise.all(t)};kn.spread=m6;kn.isAxiosError=g6;kn.mergeConfig=Pl;kn.AxiosHeaders=qi;kn.formToJSON=n=>YI(ze.isHTMLForm(n)?new FormData(n):n);kn.getAdapter=tD.getAdapter;kn.HttpStatusCode=uy;kn.default=kn;const{Axios:zhe,AxiosError:Ghe,CanceledError:Hhe,isCancel:Whe,CancelToken:Xhe,VERSION:qhe,all:Yhe,Cancel:Khe,isAxiosError:Zhe,spread:Jhe,toFormData:Qhe,AxiosHeaders:efe,HttpStatusCode:tfe,formToJSON:nfe,getAdapter:rfe,mergeConfig:ife}=kn,sD="https://science-book-backend-392637347057.asia-northeast3.run.app",cn=kn.create({baseURL:sD});cn.interceptors.request.use(n=>{let r=gi().accessToken;if(!r){const i=localStorage.getItem("auth");if(i)try{r=JSON.parse(i).accessToken,console.log("[Axios Interceptor] localStorage accessToken ")}catch(s){console.error("[Axios Interceptor] localStorage  :",s)}}return r?(n.headers.Authorization=`Bearer ${r}`,console.log("[Axios Interceptor] Authorization  ")):console.warn("[Axios Interceptor] accessToken ."),n.data instanceof FormData?delete n.headers["Content-Type"]:n.headers["Content-Type"]||(n.headers["Content-Type"]="application/json"),n},n=>Promise.reject(n));cn.interceptors.response.use(n=>n,async n=>{const t=n.config;if(n.response.status===401&&!t._retry){t._retry=!0;const r=gi();if(!r.refreshToken)return console.error("[Axios]   .  ."),r.logout(),window.location.href="/login",Promise.reject(n);try{const s=(await kn.post(`${sD}/api/token/refresh`,{refreshToken:r.refreshToken})).data.accessToken;return r.refreshAccessToken(s),t.headers.Authorization=`Bearer ${s}`,console.log("[Axios]   ,   "),cn(t)}catch(i){return console.error("[Axios]    ",i),r.logout(),window.location.href="/login",Promise.reject(i)}}return Promise.reject(n)});const gi=_I("auth",()=>{const n=Xe(null),t=Xe(null),r=Xe(null),i=Ut(()=>!!n.value),s=Ut(()=>n.value?.userId||null);function o(c){console.log("[authStore]  :",c);const f={userId:c.userId,loginId:c.loginId,name:c.name,email:c.email,phoneNumber:c.phoneNumber,gender:c.gender,region:c.region,childGrade:c.childGrade,profileImageUrl:c.profileImageUrl};n.value=f,t.value=c.accessToken,r.value=c.refreshToken}function a(){console.log("[authStore] "),n.value=null,t.value=null,r.value=null}function l(c){console.log("[authStore]   "),t.value=c}async function u(){if(!(!i.value||!n.value)){console.log("[authStore]   URL  ...");try{const c=await cn.get("/api/user/profile-url");c.data&&c.data.url?(n.value.profileImageUrl=c.data.url,console.log("[authStore]  URL  .")):n.value.profileImageUrl=null}catch(c){console.error("[authStore]  URL  :",c),c.response?.status===404&&(n.value.profileImageUrl=null)}}}async function h(c){console.log("[authStore]    :");try{const d=(await cn.put("/api/user/update",c)).data;if(typeof d!="object"||d===null)throw console.error("[authStore]    :",d),new Error("   .  DTO  .");return n.value={...n.value,...d},console.log("     Pinia   :",n.value),!0}catch(f){throw console.error("[authStore] updateUser  :",f),f}}return{user:n,accessToken:t,refreshToken:r,isLoggedIn:i,currentUserId:s,login:o,logout:a,refreshAccessToken:l,refreshProfileUrl:u,updateUser:h}},{persist:{paths:["user","refreshToken"]}}),wt=(n,t)=>{const r=n.__vccOpts||n;for(const[i,s]of t)r[i]=s;return r},v6={name:"CustomAlert",props:{show:{type:Boolean,default:!1},message:{type:String,default:""},type:{type:String,default:"success"}},emits:["close"],computed:{iconClass(){return this.type==="error"?"bi-exclamation-triangle-fill error-icon":"bi-check-circle-fill success-icon"}}},y6={key:0,class:"alert-overlay"},b6={class:"alert-box"},x6=["innerHTML"];function _6(n,t,r,i,s,o){return r.show?(re(),ce("div",y6,[A("div",b6,[A("i",{class:ht(["icon bi",o.iconClass])},null,2),A("p",{class:"message",innerHTML:r.message.replace(/\n/g,"<br>")},null,8,x6),A("button",{class:"confirm-btn",onClick:t[0]||(t[0]=a=>n.$emit("close"))},"")])])):rt("",!0)}const oD=wt(v6,[["render",_6],["__scopeId","data-v-6ae32949"]]),w6={name:"CustomConfirm",props:{show:{type:Boolean,default:!1},message:{type:String,default:" ."},msg:{type:String,default:""}},emits:["cancel","confirm"]},E6={key:0,class:"confirm-overlay"},S6={class:"confirm-box"},C6=["innerHTML"],A6={class:"button-group"};function T6(n,t,r,i,s,o){return r.show?(re(),ce("div",E6,[A("div",S6,[A("p",{class:"message",innerHTML:r.message.replace(/\n/g,"<br>")},null,8,C6),A("div",A6,[A("button",{class:"btn-cancel",onClick:t[0]||(t[0]=a=>n.$emit("cancel"))},""),A("button",{class:"btn-confirm",onClick:t[1]||(t[1]=a=>n.$emit("confirm"))},Be(r.msg),1)])])])):rt("",!0)}const aD=wt(w6,[["render",T6],["__scopeId","data-v-1ba216e4"]]);function I6(n){return{all:n=n||new Map,on:function(t,r){var i=n.get(t);i?i.push(r):n.set(t,[r])},off:function(t,r){var i=n.get(t);i&&(r?i.splice(i.indexOf(r)>>>0,1):n.set(t,[]))},emit:function(t,r){var i=n.get(t);i&&i.slice().map(function(s){s(r)}),(i=n.get("*"))&&i.slice().map(function(s){s(t,r)})}}}const ct=I6(),D6={id:"app-container"},N6={name:"App",components:{CustomAlert:oD,CustomConfirmAlert:aD},data(){return{alert:{show:!1,message:"",type:"success"},confirm:{show:!1,message:"",msg:"",onConfirm:null,onCancel:null}}},methods:{showAlert(n){console.log(" [App.vue]   :",n),this.alert.message=n.message,this.alert.type=n.type,this.alert.show=!0},closeAlert(){this.alert.show=!1},showConfirm(n){console.log(" [App.vue]   :",n),this.confirm.message=n.message,this.confirm.onConfirm=n.onConfirm||null,this.confirm.onCancel=n.onCancel||null,this.confirm.msg=n.msg||"",this.confirm.show=!0},handleConfirm(){this.confirm.onConfirm&&this.confirm.onConfirm(),this.closeConfirm()},handleCancel(){this.confirm.onCancel&&this.confirm.onCancel(),this.closeConfirm()},closeConfirm(){this.confirm.show=!1,this.confirm.onConfirm=null,this.confirm.onCancel=null}},created(){ct.on("show-global-alert",this.showAlert),ct.on("show-global-confirm",this.showConfirm)},beforeUnmount(){ct.off("show-global-alert",this.showAlert),ct.off("show-global-confirm",this.showConfirm)}},F6=Object.assign(N6,{setup(n){const t=gi();return xr(()=>{console.log("App.vue onMounted:   (setup)"),t.refreshProfileUrl()}),(r,i)=>(re(),ce("div",D6,[lt(ai(OI),null,{default:Hr(({Component:s})=>[(re(),Kt(nT,{include:"MapComponent"},[(re(),Kt(T1(s)))],1024))]),_:1}),lt(oD,{show:r.alert.show,message:r.alert.message,type:r.alert.type,onClose:r.closeAlert},null,8,["show","message","type","onClose"]),lt(aD,{show:r.confirm.show,message:r.confirm.message,msg:r.confirm.msg,onConfirm:r.handleConfirm,onCancel:r.handleCancel},null,8,["show","message","msg","onConfirm","onCancel"])]))}}),k6=wt(F6,[["__scopeId","data-v-1ab1476d"]]),M6={class:"position-absolute bg-white border-top d-flex flex-row justify-content-center align-items-center p-0",style:{width:"100%",height:"63px",left:"0",bottom:"0px","z-index":"1030"}},O6={__name:"BottomNavbar",props:{selectedNavItem:String},emits:["navigate"],setup(n){return(t,r)=>(re(),ce("nav",M6,[A("a",{class:ht(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[0]||(r[0]=i=>t.$emit("navigate",""))},[...r[5]||(r[5]=[A("i",{class:"bi bi-house"},null,-1),A("span",null,"",-1)])],2),A("a",{class:ht(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[1]||(r[1]=i=>t.$emit("navigate",""))},[...r[6]||(r[6]=[A("i",{class:"bi bi-list-ul"},null,-1),A("span",null,"",-1)])],2),A("a",{class:ht(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[2]||(r[2]=i=>t.$emit("navigate",""))},[...r[7]||(r[7]=[A("i",{class:"bi bi-map"},null,-1),A("span",null,"",-1)])],2),A("a",{class:ht(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[3]||(r[3]=i=>t.$emit("navigate",""))},[...r[8]||(r[8]=[A("i",{class:"bi bi-journal-bookmark"},null,-1),A("span",null,"",-1)])],2),A("a",{class:ht(["nav-item",{"active-nav":n.selectedNavItem===""}]),onClick:r[4]||(r[4]=i=>t.$emit("navigate",""))},[...r[9]||(r[9]=[A("i",{class:"bi bi-person"},null,-1),A("span",null,"",-1)])],2)]))}},$1=wt(O6,[["__scopeId","data-v-c89e957e"]]),L6={class:"modal-sheet d-flex flex-column",style:{"font-family":"'SUIT', sans-serif"}},P6={class:"p-3 d-flex align-items-center flex-shrink-0 rounded-top",style:{"background-color":"#4A7CEC"}},R6={class:"modal-body flex-grow-1 overflow-auto p-4"},B6={class:"row g-3"},U6=["onClick"],V6={class:"row g-3"},$6=["onClick"],j6={class:"btn-group w-100 mb-3",role:"group"},z6={key:0},G6={class:"row g-3"},H6=["onClick"],W6={key:1},X6={__name:"FilterModal",props:{showLocationOptions:{type:Boolean,default:!0},initialLocationType:{type:String,default:"all"},initialRadius:{type:Number,default:5},initialRegion:{type:String,default:""},initialSubject:String,initialGrade:String},emits:["close","complete"],setup(n,{emit:t}){const r=n,i=t,s=Xe(r.initialLocationType),o=Xe(r.initialRadius),a=Xe(r.initialRegion),l=Xe(r.initialSubject),u=Xe(r.initialGrade),h=Xe(["","","",""]),c=Xe([" 3"," 4"," 5"," 6"]),f=Xe([3,5,10,30]),d=()=>{const p={subject:l.value,grade:u.value};if(r.showLocationOptions){let m=null,g="";s.value==="radius"?m=o.value:s.value==="region"&&(g=typeof a.value=="string"?a.value.trim():""),p.locationType=s.value,p.radius=m,p.region=g}i("complete",p)};return(p,m)=>(re(),ce("div",null,[A("div",{class:"modal-backdrop fade show",onClick:m[0]||(m[0]=g=>p.$emit("close"))}),A("div",L6,[A("div",P6,[m[6]||(m[6]=A("i",{class:"bi bi-person-circle fs-2 me-3",style:{color:"white"}},null,-1)),m[7]||(m[7]=A("div",{class:"flex-grow-1"},[A("h5",{class:"fw-bold m-0 fs-6 text-white"}," "),A("small",{class:"text-white"},"  .")],-1)),A("button",{class:"btn-close btn-close-white fs-5",onClick:m[1]||(m[1]=g=>p.$emit("close"))})]),A("div",R6,[m[13]||(m[13]=A("h6",{class:"fw-bold mb-3"},"",-1)),A("div",B6,[(re(!0),ce(at,null,At(h.value,g=>(re(),ce("div",{class:"col-6",key:g},[A("button",{type:"button",class:ht(["filter-btn",{active:l.value===g}]),onClick:v=>l.value=g},Be(g),11,U6)]))),128))]),m[14]||(m[14]=A("h6",{class:"fw-bold mb-3 mt-4 pt-2"},"",-1)),A("div",V6,[(re(!0),ce(at,null,At(c.value,g=>(re(),ce("div",{class:"col-6",key:g},[A("button",{type:"button",class:ht(["filter-btn",{active:u.value===g}]),onClick:v=>u.value=g},Be(g),11,$6)]))),128))]),n.showLocationOptions?(re(),ce(at,{key:0},[m[12]||(m[12]=A("h6",{class:"fw-bold mb-3 mt-4 pt-2"}," ",-1)),A("div",j6,[an(A("input",{type:"radio",class:"btn-check",name:"locationType",id:"locTypeAll",autocomplete:"off",value:"all","onUpdate:modelValue":m[2]||(m[2]=g=>s.value=g),checked:""},null,512),[[Xs,s.value]]),m[8]||(m[8]=A("label",{class:"btn btn-outline-primary",for:"locTypeAll"}," ",-1)),an(A("input",{type:"radio",class:"btn-check",name:"locationType",id:"locTypeRadius",autocomplete:"off",value:"radius","onUpdate:modelValue":m[3]||(m[3]=g=>s.value=g)},null,512),[[Xs,s.value]]),m[9]||(m[9]=A("label",{class:"btn btn-outline-primary",for:"locTypeRadius"}," ",-1)),an(A("input",{type:"radio",class:"btn-check",name:"locationType",id:"locTypeRegion",autocomplete:"off",value:"region","onUpdate:modelValue":m[4]||(m[4]=g=>s.value=g)},null,512),[[Xs,s.value]])]),s.value==="radius"?(re(),ce("div",z6,[m[10]||(m[10]=A("h6",{class:"fw-bold mb-3"}," ",-1)),A("div",G6,[(re(!0),ce(at,null,At(f.value,g=>(re(),ce("div",{class:"col-6",key:g},[A("button",{type:"button",class:ht(["filter-btn",{active:o.value===g}]),onClick:v=>o.value=g},Be(g)+"km  ",11,H6)]))),128))])])):rt("",!0),s.value==="region"?(re(),ce("div",W6,[m[11]||(m[11]=A("h6",{class:"fw-bold mb-3"}," ",-1)),an(A("input",{type:"text",class:"form-control",placeholder:":  ,  ","onUpdate:modelValue":m[5]||(m[5]=g=>a.value=g)},null,512),[[nr,a.value]])])):rt("",!0)],64)):rt("",!0)]),A("div",{class:"modal-footer p-3 border-top flex-shrink-0"},[A("button",{class:"btn btn-lg w-100 rounded-3 py-3 fw-bold",onClick:d,style:{"background-color":"#4A7CEC","border-color":"#4A7CEC",color:"white"}},"  ")])])]))}},j1=wt(X6,[["__scopeId","data-v-6627ec53"]]),q6={__name:"PillTag",props:{text:String,type:{type:String,default:"grade"}},setup(n){const t=n,r={:{bg:"#C9F0FF",text:"#007AFF"},:{bg:"#E0D6FF",text:"#582DE8"},:{bg:"#FFD6E8",text:"#D9006C"},:{bg:"#A6FFD9",text:"#008A50"},:{bg:"#333333",text:"#FFFFFF"},default:{bg:"#EFEFEF",text:"#555"}},i=Ut(()=>{let s;return t.type==="subject"?s=r[t.text]||r.default:s=r.default,{"background-color":s.bg,color:s.text}});return(s,o)=>(re(),ce("span",{class:"badge rounded-pill pill-tag",style:Xn([{"font-family":"'SUIT', sans-serif"},i.value])},Be(n.text),5))}},As=wt(q6,[["__scopeId","data-v-8a7e6ef1"]]),Y6={class:"hashtag-badge bg-light text-secondary fw-normal px-2 py-1",style:{"font-family":"'SUIT', sans-serif","font-size":"0.7rem"}},K6={__name:"HashTag",props:{text:{type:String,required:!0}},setup(n){const t=n,r=Ut(()=>(t.text||"").replace(/[{}"]/g,""));return(i,s)=>(re(),ce("span",Y6," #"+Be(r.value),1))}},$a=wt(K6,[["__scopeId","data-v-43ec427c"]]),Z6={class:"image-container"},J6={key:0,class:"card-badge"},Q6=["src","alt"],e9={class:"content-frame d-flex flex-column flex-grow-1 gap-2 min-w-0"},t9={class:"d-flex justify-content-between align-items-center gap-1"},n9={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},r9={class:"text-frame d-flex flex-column gap-1 min-w-0"},i9={class:"d-flex align-items-center gap-1 min-w-0"},s9={class:"fw-bold m-0 text-truncate flex-grow-1 min-w-0"},o9={class:"d-flex flex-row align-items-center gap-2 min-w-0"},a9={class:"text-truncate flex-grow-1 min-w-0"},l9={class:"hashtag-container"},u9={key:0,class:"more-tags"},c9="https://storage.googleapis.com/science_book/",T0=2,h9={__name:"PlaceCard",props:{item:{type:Object,required:!0}},emits:["add","item-click"],setup(n,{emit:t}){const r=t,i=n,s=Ut(()=>{const c=i.item.mainImageUrl||i.item.imageUrl;return c&&!c.startsWith("http")?c9+c:c}),o=Ut(()=>i.item.hashtags?.slice(0,T0)||[]),a=Ut(()=>i.item.hashtags?.length>T0),l=Ut(()=>i.item.hashtags?.length-T0||0),u=()=>{r("add",i.item)},h=()=>{r("item-click")};return(c,f)=>(re(),ce("div",{class:"place-card d-flex flex-row bg-white align-items-center px-3 py-3 rounded-4 shadow gap-3",style:{"font-family":"'SUIT' , sans-serif"},onClick:h},[A("div",Z6,[n.item.badgeLabel?(re(),ce("div",J6,Be(n.item.badgeLabel),1)):rt("",!0),A("img",{src:s.value,alt:n.item.title,class:"map-thumbnail"},null,8,Q6)]),A("div",e9,[A("div",t9,[A("div",n9,[lt(As,{text:n.item.subject||"",type:"subject"},null,8,["text"]),lt(As,{text:(n.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),A("button",{class:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center btn-add flex-shrink-0",onClick:br(u,["stop"])},[...f[0]||(f[0]=[A("i",{class:"bi bi-plus fs-4"},null,-1)])])]),A("div",r9,[A("div",i9,[A("h5",s9,Be(n.item.title||""),1)]),A("div",o9,[A("span",a9,Be(n.item.place||""),1)]),A("div",l9,[(re(!0),ce(at,null,At(o.value,d=>(re(),Kt($a,{key:d,text:d},null,8,["text"]))),128)),a.value?(re(),ce("span",u9," +"+Be(l.value),1)):rt("",!0)])])])]))}},f9=wt(h9,[["__scopeId","data-v-2e9e1ac3"]]),Cp=_I("curriculum",()=>{const n=Xe(localStorage.getItem("selectedGrade")||" 3"),t=Xe(localStorage.getItem("selectedSubject")||"");function r(i,s){n.value=i,t.value=s,localStorage.setItem("selectedGrade",i),localStorage.setItem("selectedSubject",s)}return{selectedGrade:n,selectedSubject:t,setFilter:r}}),d9={class:"vh-100 position-relative overflow-hidden bg-light",style:{"font-family":"'SUIT', sans-serif"}},p9={class:"position-absolute d-flex align-items-center p-3 bg-white rounded-4 shadow map-top-bar"},m9={class:"rounded-circle d-flex align-items-center justify-content-center flex-shrink-0 profile-avatar-wrapper"},g9=["src"],v9={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#888",class:"bi bi-person-fill",viewBox:"0 0 16 16"},y9={class:"flex-grow-1",style:{"font-family":"'SUIT', sans-serif"}},b9={class:"fw-bold map-username"},x9={class:"position-absolute d-flex flex-row map-tabs-wrapper"},_9={class:"position-absolute map-carousel-wrapper"},w9={class:"card-carousel"},E9={class:"d-flex flex-row align-items-center card-row-inner"},S9={key:0,class:"text-center p-5 text-muted w-100"},C9={key:1,class:"text-center p-5 text-muted w-100"},A9={key:0,class:"text-sm mt-2"},T9={key:0,class:"map-loading-overlay"},I9={name:"MapComponent"},D9=Object.assign(I9,{setup(n){const t=vc(),r=Xe(null),i={lat:36.3504119,lng:127.3845475},s=gi(),{user:o}=Cs(s),a=Cp(),{selectedGrade:l,selectedSubject:u}=Cs(a),h=Xe(""),c=Xe(""),f=Xe(!1),d=Xe(null),p=Xe(null),m=Xe([]),g=Xe(null),v=Xe(null),E=Xe([]),y=Xe([]),x="28242ddd7cda15c60301eff5cada6efc",b=new window.kakao.maps.Size(32,37),w={offset:new window.kakao.maps.Point(16,37)},S=new window.kakao.maps.MarkerImage("/museum.png",b,w),_=new window.kakao.maps.MarkerImage("/experiment.png",b,w),T=Ut(()=>o.value?.name?`${o.value.name} `:" "),C=Xe("all"),F=Xe(5),k=Xe(""),D=Xe(null),N=Xe(!1),M=Xe([]),U=Ut(()=>{const pe=M.value;return h.value===""?pe.filter(ve=>ve.itemType==="exhibition"):pe.filter(ve=>ve.itemType==="science_place")});t.currentRoute.value.query.tab===""&&(h.value=""),S1(()=>{c.value="",Z.value=!1});const W=pe=>{h.value=pe,r.value=null,t.replace({query:{tab:pe}})},Z=Xe(!1),fe=pe=>{Z.value=!0,ye(),se(),h.value===""?t.push({path:`/exhibition/${pe.id}`,query:{mainCategoryTags:u.value,subCategoryTags:pe.hashtags,gradeTags:l.value}}):t.push({path:`/place/${pe.id}`,query:{mainCategoryTags:u.value,subCategoryTags:pe.hashtags,gradeTags:l.value}})},Q=pe=>{r.value=pe.id,te(pe.lat,pe.lng),se(),setTimeout(()=>{J(pe),K(pe)},500)},J=pe=>{const ve=window.kakao?.maps?.Animation?.BOUNCE;if(!ve){console.warn("Kakao maps Animation    BOUNCE    .");return}m.value.forEach(De=>{const Me=De.getPosition();Me.getLat()===pe.lat&&Me.getLng()===pe.lng&&(De.setAnimation(ve),setTimeout(()=>{De.setAnimation(null)},2e3))})},ae=()=>new Promise(pe=>{D.value=i,console.log("   ( ):",D.value),pe(D.value)}),be=async()=>{try{if(await ae(),D.value&&p.value){const pe=new window.kakao.maps.LatLng(D.value.lat,D.value.lng);p.value.panTo(pe),setTimeout(()=>{p.value.setLevel(3,{animate:{duration:300}})},300),g.value&&g.value.setMap(null);const ve=`
    <div class="current-location-wrapper">
     <div class="current-location-dot"></div>
     <div class="current-location-pulse"></div>
    </div>
   `,De=new window.kakao.maps.CustomOverlay({position:pe,content:ve});De.setMap(p.value),g.value=De}}catch(pe){console.error("  :",pe)}},ee=(pe,ve)=>{if(p.value){const De=new window.kakao.maps.LatLng(pe,ve);p.value.panTo(De),setTimeout(()=>{p.value.setLevel(4,{animate:{duration:300}})},300)}},K=async pe=>{if(Z.value){console.log("    .");return}if(!D.value){ct.emit("show-global-alert",{message:"  .",type:"error"});return}se();const ve={lat:D.value.lat,lng:D.value.lng},De={lat:pe.lat,lng:pe.lng};if(!p.value||!window.kakao?.maps||Z.value){console.warn("  DOM    .");return}try{const{path:Me,bounds:R}=await xe(ve,De);if(Z.value||!p.value){console.log("      .");return}Me.length>0&&(ie(Me),ge(ve,De),p.value.setBounds(R))}catch(Me){Z.value||(console.error(" :",Me),ct.emit("show-global-alert",{message:"   .",type:"error"}))}},xe=async(pe,ve)=>{const De="https://apis-navi.kakaomobility.com/v1/directions",Me={origin:`${pe.lng},${pe.lat}`,destination:`${ve.lng},${ve.lat}`,priority:"RECOMMEND"};try{const R=await kn.get(De,{params:Me,headers:{Authorization:`KakaoAK ${x}`}});if(R.data&&R.data.routes&&R.data.routes.length>0){const Le=R.data.routes[0].sections,Qe=[],We=new window.kakao.maps.LatLngBounds;return Le.forEach(gt=>{gt.roads.forEach(Se=>{for(let Ne=0;Ne<Se.vertexes.length;Ne+=2){const Pe=Se.vertexes[Ne],je=Se.vertexes[Ne+1],Ue=new window.kakao.maps.LatLng(je,Pe);Qe.push(Ue),We.extend(Ue)}})}),{path:Qe,bounds:We}}else throw new Error("API     .")}catch(R){throw console.error("Kakao Navi API  :",R),R.response&&console.error("Kakao Navi API  :",R.response.data),R}},ie=pe=>{E.value.length>0&&E.value.forEach(Me=>Me.setMap(null)),E.value=[];const ve=new window.kakao.maps.Polyline({path:pe,strokeWeight:6,strokeColor:"#4A7CEC",strokeOpacity:.9,strokeStyle:"solid"});ve.setMap(p.value),E.value.push(ve);const De=new window.kakao.maps.Polyline({path:pe,strokeWeight:3,strokeColor:"#FFFFFF",strokeOpacity:1,strokeStyle:"dashed"});De.setMap(p.value),E.value.push(De)},ge=(pe,ve)=>{y.value.forEach(De=>De.setMap(null)),y.value=[]},z=()=>{m.value.forEach(pe=>pe.setMap(null)),m.value=[],v.value&&(v.value.setMap(null),v.value=null)},se=()=>{E.value&&Array.isArray(E.value)&&E.value.forEach(pe=>pe.setMap(null)),E.value=[],y.value.forEach(pe=>pe.setMap(null)),y.value=[]},ye=()=>{m.value.forEach(pe=>pe.setMap(null)),m.value=[],v.value&&(v.value.setMap(null),v.value=null),E.value&&Array.isArray(E.value)&&E.value.forEach(pe=>pe.setMap(null)),E.value=[],y.value.forEach(pe=>pe.setMap(null)),y.value=[]},Ce=pe=>{p.value&&(z(),pe.length&&pe.forEach(ve=>{if(ve.lat===null||ve.lng===null||isNaN(Number(ve.lat))||isNaN(Number(ve.lng))){console.warn("[NaN Error]    :",ve);return}const De=ve.itemType==="exhibition"?S:_,Me=new window.kakao.maps.LatLng(ve.lat,ve.lng),R=new window.kakao.maps.Marker({position:Me,title:ve.title,image:De});R.setMap(p.value),m.value.push(R),window.kakao.maps.event.addListener(R,"mouseover",()=>{v.value&&v.value.setMap(null);const Ve=`
    <div class="info-window">
     <div class="info-title">${ve.title}</div>
     <div class="info-line info-rating">
      <span class="star">::</span>
      <span>${ve.rating||"N/A"}  (${ve.reviewCount||0})</span>
     </div>
     <div class="info-line">
      <span class="icon"><i class="bi bi-info-circle-fill"></i></span>
      <span>${ve.subject||" "}</span>
     </div>
     <div class="info-line">
      <span class="icon"><i class="bi bi-info-circle-fill"></i></span>
      <span>${ve.grade||" "}</span>
     </div>
    </div>
   `,Le=new window.kakao.maps.CustomOverlay({map:p.value,position:Me,content:Ve,xAnchor:.5,yAnchor:1.5,zIndex:3});v.value=Le}),window.kakao.maps.event.addListener(R,"mouseout",()=>{v.value&&(v.value.setMap(null),v.value=null)}),window.kakao.maps.event.addListener(R,"click",()=>{ee(ve.lat,ve.lng),r.value=ve.id;const Ve=document.getElementById(`card-${ve.id}`);Ve&&Ve.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})})}))},$=Xe(!1),q=async()=>{$.value=!0,r.value=null,console.log("==== API    ===="),N.value=!0,M.value=[],p.value&&ye();const pe={searchType:C.value,subject:u.value,grade:l.value};try{if(C.value==="radius")if(D.value||await ae(),D.value)pe.lat=D.value.lat,pe.lng=D.value.lng,pe.radius=F.value;else throw new Error("    (  )");else C.value==="region"&&(k.value?pe.region=k.value:(console.warn("    .   ."),pe.searchType="all"));const ve=await cn.get("/api/content/search",{params:pe});if(ve.data&&Array.isArray(ve.data)){const De=ve.data.map(Me=>Me.itemType==="exhibition"?{...Me,badgeLabel:""}:Me);M.value=De}else console.error("API   :",ve.data),M.value=[]}catch(ve){console.error("API    :",ve.response?ve.response.data:ve.message),ct.emit("show-global-alert",{message:"    ."+(ve.message.includes("")?"  .":""),type:"error"}),M.value=[]}finally{setTimeout(()=>{$.value=!1},300),N.value=!1}},te=(pe,ve,De=300)=>{if(!p.value)return;const Me=new window.kakao.maps.LatLng(pe,ve);p.value.panTo(Me)};xr(async()=>{if(window.kakao&&window.kakao.maps){const pe={center:new window.kakao.maps.LatLng(37.566826,126.9786567),level:7};p.value=new window.kakao.maps.Map(d.value,pe),window.kakao.maps.event.addListener(p.value,"click",()=>{r.value=null,se()});try{if(await ae(),D.value&&p.value){const ve=new window.kakao.maps.LatLng(D.value.lat,D.value.lng);p.value.setCenter(ve),p.value.setLevel(7),g.value&&g.value.setMap(null);const De='<div class="current-location-dot"></div>';g.value=new window.kakao.maps.CustomOverlay({position:ve,content:De}),g.value.setMap(p.value)}}catch(ve){console.warn("   :",ve.message),p.value.setCenter(new window.kakao.maps.LatLng(37.566826,126.9786567))}await q()}else console.error("Kakao Maps API   .")}),Wi(U,pe=>{p.value&&Ae().then(()=>{if(Ce(pe),pe.length>0){const ve=new window.kakao.maps.LatLngBounds;let De=!1;pe.forEach(Me=>{Me.lat!==null&&Me.lng!==null&&!isNaN(Number(Me.lat))&&!isNaN(Number(Me.lng))&&(ve.extend(new window.kakao.maps.LatLng(Me.lat,Me.lng)),De=!0)}),De?pe.length===1?ee(pe[0].lat,pe[0].lng):p.value.setBounds(ve):console.warn(" :        .")}})});const Ae=()=>new Promise(pe=>{m.value.forEach((ve,De)=>{setTimeout(()=>{ve.setMap(null)},De*20)}),setTimeout(()=>{m.value=[],pe()},m.value.length*20+100)}),_e=pe=>{C.value=pe.locationType,F.value=pe.radius,k.value=pe.region,a.setFilter(pe.grade,pe.subject),f.value=!1,q()},Ee=pe=>{c.value=pe,pe===""?t.push("/home"):pe===""?t.push("/list"):pe===""?t.push("/map"):pe===""?t.push("/usercourselist"):pe===""&&t.push("/mypage")};return(pe,ve)=>(re(),ce("div",d9,[A("div",{ref_key:"mapContainer",ref:d,class:"map-placeholder map-full-screen"},null,512),A("div",p9,[A("div",m9,[ai(o)?.profileImageUrl?(re(),ce("img",{key:0,src:ai(o).profileImageUrl,alt:"",class:"profile-image-cover"},null,8,g9)):(re(),ce("svg",v9,[...ve[4]||(ve[4]=[A("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6"},null,-1)])]))]),A("div",y9,[ve[5]||(ve[5]=A("div",{class:"text-secondary map-greeting"},"",-1)),A("div",b9,Be(T.value),1)]),A("button",{class:"btn btn-primary rounded-3 d-flex align-items-center justify-content-center flex-shrink-0 search-btn",onClick:ve[0]||(ve[0]=br(De=>f.value=!0,["prevent"]))},[...ve[6]||(ve[6]=[A("i",{class:"bi bi-search fs-5"},null,-1)])])]),A("div",x9,[A("button",{type:"button",class:ht(["spec-button shadow-sm",{active:h.value===""}]),onClick:ve[1]||(ve[1]=De=>W(""))},"",2),A("button",{type:"button",class:ht(["spec-button shadow-sm",{active:h.value===""}]),onClick:ve[2]||(ve[2]=De=>W(""))}," ",2)]),A("div",{class:"position-absolute d-flex flex-column map-control-buttons"},[A("button",{class:"btn btn-dark btn-circle shadow-sm d-flex flex-column p-0 justify-content-center align-items-center",onClick:be},[...ve[7]||(ve[7]=[A("i",{class:"bi bi-bullseye",style:{"font-size":"1rem","line-height":"1"}},null,-1),A("span",{style:{"font-size":"0.6rem","margin-top":"2px"}},"",-1)])])]),A("div",_9,[A("div",w9,[A("div",E9,[N.value?(re(),ce("div",S9,"  ... ")):U.value.length===0?(re(),ce("div",C9,[ve[9]||(ve[9]=A("div",null,"  .",-1)),C.value==="radius"?(re(),ce("div",A9,[Nt(" : "+Be(D.value?`${D.value.lat.toFixed(4)},
              ${D.value.lng.toFixed(4)}`:""),1),ve[8]||(ve[8]=A("br",null,null,-1)),Nt(" : "+Be(F.value)+"km / : "+Be(ai(u))+" / : "+Be(ai(l)),1)])):rt("",!0)])):(re(!0),ce(at,{key:2},At(U.value,De=>(re(),Kt(f9,{key:De.id,item:De,onAdd:Me=>fe(De),id:`card-${De.id}`,class:ht({"active-card":De.id===r.value}),onItemClick:Me=>Q(De)},null,8,["item","onAdd","id","class","onItemClick"]))),128))])])]),f.value?(re(),Kt(j1,{key:0,initialLocationType:C.value,initialRadius:F.value,initialRegion:k.value,initialSubject:ai(u),initialGrade:ai(l),onClose:ve[3]||(ve[3]=De=>f.value=!1),onComplete:_e},null,8,["initialLocationType","initialRadius","initialRegion","initialSubject","initialGrade"])):rt("",!0),lt($1,{selectedNavItem:c.value,onNavigate:Ee,class:"bottom-navbar-fixed"},null,8,["selectedNavItem"]),lt($s,{name:"fade"},{default:Hr(()=>[$.value?(re(),ce("div",T9,[...ve[10]||(ve[10]=[A("div",{class:"spinner"},null,-1)])])):rt("",!0)]),_:1})]))}}),N9=wt(D9,[["__scopeId","data-v-00f4db6c"]]),F9={class:"border rounded-4 shadow-sm p-3",style:{"flex-shrink":"0",width:"340px"}},k9={class:"image-container"},M9={key:0,class:"card-badge"},O9=["src","alt"],L9={class:"content-frame d-flex flex-column flex-grow-1 gap-2 min-w-0"},P9={class:"d-flex justify-content-between align-items-center gap-1"},R9={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},B9={class:"text-frame d-flex flex-column gap-1 min-w-0"},U9={class:"d-flex align-items-center gap-1 min-w-0"},V9={class:"fw-bold m-0 text-truncate flex-grow-1 min-w-0"},$9={class:"d-flex flex-row align-items-center gap-2 min-w-0"},j9={class:"text-truncate flex-grow-1 min-w-0"},z9={class:"hashtag-container"},G9={key:0,class:"more-tags"},H9={class:"mt-3"},W9={key:0},X9={class:"d-flex gap-3"},q9={class:"flex-shrink: 0"},Y9=["src"],K9={class:"flex-grow-1 min-w-0 overflow-hidden"},Z9={class:"fw-bold"},J9={class:"d-flex align-items-center mb-2",style:{color:"#FFC107"}},Q9={class:"text-truncate"},eU={key:0,class:"d-flex gap-2 mt-2"},tU=["src"],nU={key:1,class:"text-secondary text-center p-4",style:{"font-size":"0.9rem","background-color":"#f8f9fa","border-radius":"8px"}},_E="https://storage.googleapis.com/science_book/",I0=2,rU={__name:"PlaceReviewCard",props:{item:{type:Object,required:!0}},emits:["add","item-click"],setup(n,{emit:t}){const r=n,i=t,s=Ut(()=>{const f=r.item.mainImageUrl||r.item.imageUrl;return f&&!f.startsWith("http")?_E+f:f}),o=Ut(()=>r.item.latestReview?.photoUrls?r.item.latestReview.photoUrls.map(f=>f&&!f.startsWith("http")?_E+f:f):[]),a=Ut(()=>r.item.hashtags?.slice(0,I0)||[]),l=Ut(()=>r.item.hashtags?.length>I0),u=Ut(()=>r.item.hashtags?.length-I0||0),h=()=>{i("item-click",r.item)},c=()=>{i("add",r.item)};return(f,d)=>(re(),ce("div",F9,[A("div",{class:"place-card d-flex flex-row bg-white align-items-center rounded-4 gap-3",style:{"font-family":"'SUIT' , sans-serif"},onClick:h},[A("div",k9,[n.item.badgeLabel?(re(),ce("div",M9,Be(n.item.badgeLabel),1)):rt("",!0),A("img",{src:s.value,alt:n.item.title,class:"map-thumbnail"},null,8,O9)]),A("div",L9,[A("div",P9,[A("div",R9,[lt(As,{text:n.item.subject||"",type:"subject"},null,8,["text"]),lt(As,{text:(n.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),A("button",{class:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center btn-add flex-shrink-0 ps-4",onClick:br(c,["stop"])},[...d[0]||(d[0]=[A("i",{class:"bi bi-plus fs-4"},null,-1)])])]),A("div",B9,[A("div",U9,[A("h5",V9,Be(n.item.title||""),1)]),A("div",$9,[A("span",j9,Be(n.item.place||""),1)]),A("div",z9,[(re(!0),ce(at,null,At(a.value,p=>(re(),Kt($a,{key:p,text:p},null,8,["text"]))),128)),l.value?(re(),ce("span",G9," +"+Be(u.value),1)):rt("",!0)])])])]),A("div",H9,[d[1]||(d[1]=A("h6",{class:"fw-bold small mb-2"}," ",-1)),n.item.latestReview?(re(),ce("div",W9,[A("div",X9,[A("div",q9,[A("img",{src:n.item.latestReview.authorProfileImageUrl||"https://placehold.co/48x48/e0e0e0/333?text=U",class:"rounded-circle",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,Y9)]),A("div",K9,[A("div",Z9,Be(n.item.latestReview.authorName)+"",1),A("div",J9,[(re(),ce(at,null,At(5,p=>A("i",{key:p,class:ht(["bi",p<=n.item.latestReview.rating?"bi-star-fill":"bi-star"]),style:Xn({color:p<=n.item.latestReview.rating?"#FFC107":"#e0e0e0"})},null,6)),64))]),A("p",Q9,'"'+Be(n.item.latestReview.content)+'"',1)])]),o.value.length>0?(re(),ce("div",eU,[(re(),ce(at,null,At(5,p=>A("div",{key:p,class:"rounded-3 d-flex align-items-center justify-content-center text-secondary",style:{"background-color":"#e0e0e0",height:"60px","flex-basis":"0","flex-grow":"1",overflow:"hidden"}},[o.value[p-1]?(re(),ce("img",{key:0,src:o.value[p-1],alt:" ",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,tU)):rt("",!0)])),64))])):rt("",!0)])):(re(),ce("div",nU,"   . "))])]))}},iU=wt(rU,[["__scopeId","data-v-b581bd80"]]),wE={" 3":{"1":{:[{title:" ",description:" , , ,   .",simulationComponent:null}],:[],:[{title:"  ",description:" ,  "},{title:" ",description:" ,  ,   ,     ,     "},{title:"  ",description:"    "}],:[]},"2":{:[{title:" ",description:" ,  ,  ,  "}],:[{title:" ",description:" ,  ,  ,  "}],:[{title:"  ",description:"  :   "}],:[{title:"",description:" ,   , ,   , ,  "}]}}," 4":{"1":{:[{title:" ",description:"    ,    ,  , ",simulationComponent:"MagnetField"}],:[{title:" ",description:" ,  ,  ,  ",simulationComponent:"StatesOfMatter"}],:[{title:"  ",description:", ,  "},{title:"  ",description:", ,  "}],:[{title:"",description:"  ,  , ,   ",simulationComponent:"ColumnarJoint"}]},"2":{:[],:[{title:" ",description:" ,  ,  ,  "}],:[{title:" ",description:"   ,    ,  ",simulationComponent:"Ecosystem"}],:[{title:"",description:"  ,   , ,  "},{title:"  ",description:null}]}}," 5":{"1":{:[{title:" ",description:" ,   ,  ,  "}],:[{title:" ",description:", ,  ,   ,  "}],:[{title:"  ",description:" ,    , , , ,    "}],:[{title:" ",description:", ,  ,   "}]},"2":{:[{title:"",description:",  , "}],:[{title:" ",description:" "}],:[{title:" ",description:" ,  "}],:[{title:"",description:" , , , ,  "}]}}," 6":{"1":{:[{title:" ",description:" , ,  "}],:[{title:" ",description:" , ,  ,  "}],:[{title:"  ",description:", , ,   "}],:[{title:"",description:"   ,   ,   "}]},"2":{:[{title:" ",description:" ,   ,,  "}],:[{title:" ",description:",  "}],:[{title:" ",description:"   ,    ,  "}],:[{title:"",description:"  ,   "}]}}},sU="/team4_logo.png",oU={components:{FilterModal:j1,BottomNavbar:$1,PlaceReviewCard:iU},data(){return{allSubjects:wE}},setup(){const n=gi(),{user:t}=Cs(n),r=Cp(),{selectedGrade:i,selectedSubject:s}=Cs(r),o=Ut(()=>t.value?.name?`${t.value.name} `:" "),a=vc(),l=Xe(!1),u=Xe(""),h=Xe("1"),c=Xe([]),f=Xe(!1),d=Xe([]),p=Xe([]),m=T=>{const C=[],F=[];T.forEach(k=>{k.itemType==="exhibition"?C.push(k):k.itemType==="science_place"&&F.push(k)}),d.value=C,p.value=F},g=async()=>{console.log("==== Home API    ===="),f.value=!0,c.value=[],d.value=[],p.value=[];const T={searchType:"all",subject:s.value,grade:i.value};try{console.log("API  :",T);const C=await cn.get("/api/content/search",{params:T});if(C.data&&Array.isArray(C.data)){const F=await Promise.all(C.data.slice(0,20).map(async k=>{let D=null;k.itemType==="exhibition"&&(D="");try{const N=k.itemType;console.log(` : ${k.itemType}, ID: ${k.id}, : ${k.title}`),N||console.warn(`item.itemType . (ID: ${k.id})`);const M={targetId:k.id,targetType:N,page:1,size:1},B=(await cn.get("/api/reviews",{params:M})).data,W=B?.content?.[0]||null;let Z=[];try{const fe={targetId:k.id,targetType:N,limit:3},{data:Q}=await cn.get("/api/reviews/photos-summary",{params:fe});Z=Array.isArray(Q)?Q:[]}catch(fe){console.warn("   :",fe)}return{...k,badgeLabel:D,totalReviews:B?.totalElements||0,totalPages:B?.totalPages||0,latestReview:W?{reviewId:W.reviewId,authorName:W.authorName,authorProfileImageUrl:W.authorProfileImageUrl,rating:W.rating,content:W.content,createdAt:W.createdAt,photoUrls:W.photoUrls||[]}:null,photoThumbnails:Z,averageRating:k.averageRating||0}}catch(N){return console.warn("  :",N),{...k,latestReview:null,totalReviews:0,photoThumbnails:[],averageRating:k.averageRating||0}}}));c.value=F,console.log("   :",F.length),m(F),console.log("====   ====")}else console.error("API   :",C.data),c.value=[],d.value=[],p.value=[]}catch(C){console.error("Home API   :",C),ct.emit("show-global-alert",{message:"     .",type:"error"}),c.value=[],d.value=[],p.value=[]}finally{f.value=!1,console.log("==== Home API   ====")}},v=T=>{if(!T)return"";try{return new Date(T).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,".").replace(/\.$/,"")}catch(C){return console.log(`${C}`),T}};xr(()=>{g()});const E=Xe([{id:1,subject:"",grade:" 3",place:"",type:"",title:""},{id:2,subject:"",grade:" 5",place:"",type:"",title:""},{id:3,subject:"",grade:" 4",place:"",type:"",title:""}]),y=Ut(()=>{let T=i.value;[" 3"," 4"," 5"," 6"].includes(T)||(T=" 3");const C=s.value,F=wE[T];if(!F)return[{semester:" ",units:[]}];const k=F["1"][C]||[],D=F["2"][C]||[];return[{semester:`${T} 1 - ${C}`,units:k},{semester:`${T} 2 - ${C}`,units:D}]});return{user:t,userName:o,isModalOpen:l,selectedSubject:s,selectedGrade:i,selectedNavItem:u,carouselItems:E,chalkboardContent:y,selectedSemester:h,displayedItems:c,isSearching:f,exhibitionItems:d,fieldTripItems:p,goToDetail:T=>{console.log("  :",T.title),T.itemType==="exhibition"?a.push({path:`/exhibition/${T.id}`,query:{mainCategoryTags:T.subject&&T.subject.length>0?T.subject:null,subCategoryTags:T.hashtags,gradeTags:T.grade}}):a.push({path:`/place/${T.id}`,query:{mainCategoryTags:T.subject&&T.subject.length>0?T.subject:null,subCategoryTags:T.hashtags,gradeTags:T.grade}})},goToMyPage:()=>{if(!t.value){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{a.push({name:"login"})}});return}console.log(" "),a.push("/mypage")},handleFilterComplete:T=>{console.log("  :",T),r.setFilter(T.grade,T.subject),console.log("  :",r.selectedGrade),console.log("  :",r.selectedSubject),l.value=!1,g()},handleNavigation:T=>{if(console.log(T,"."),u.value=T,T===""&&!t.value){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{a.push({name:"login"})}});return}T===""?a.push("/home"):T===""?a.push("/list"):T===""?a.push("/map"):T===""?a.push("/usercourselist"):T===""&&a.push("/mypage")},goToAiTutor:()=>{if(!t.value){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{a.push({name:"login"})}});return}a.push("/aitutor")},formatReviewDate:v}}},aU={class:"home-root d-flex flex-column h-100 bg-white",style:{"font-family":"'SUIT', sans-serif"}},lU={class:"home-header"},uU={class:"home-scroll flex-grow-1"},cU={class:"home-section home-section--profile"},hU=["aria-label"],fU={class:"profile-avatar"},dU=["src"],pU={key:1,class:"profile-avatar-fallback"},mU={class:"profile-info"},gU={class:"profile-name"},vU={class:"profile-status"},yU={class:"home-section home-section--chalkboard"},bU={class:"chalkboard-frame"},xU={class:"chalkboard-text"},_U={class:"chalkboard-header"},wU={class:"chalkboard-tabs"},EU={key:0},SU={class:"chalkboard-heading title"},CU={key:0,class:"chalkboard-list"},AU={class:"index"},TU={key:0,class:"chalkboard-description"},IU={key:1,class:"chalkboard-no-data"},DU={class:"home-section-carousel"},NU={class:"card-carousel-container"},FU={key:0,class:"loading-state"},kU={key:1,class:"empty-state"},MU={key:2,class:"card-row"},OU={class:"home-section-carousel"},LU={class:"card-carousel-wrapper"},PU={class:"card-carousel-container"},RU={key:0,class:"loading-state"},BU={key:1,class:"empty-state"},UU={key:2,class:"card-row"},VU={class:"bottom-navbar-wrapper"};function $U(n,t,r,i,s,o){const a=Lt("PlaceReviewCard"),l=Lt("BottomNavbar"),u=Lt("FilterModal");return re(),ce("div",aU,[A("div",lU,[t[9]||(t[9]=A("div",{class:"header-left-group"},[A("img",{src:sU,class:"header-logo",alt:" "})],-1)),A("button",{class:"ai-tutor-button",onClick:t[0]||(t[0]=(...h)=>i.goToAiTutor&&i.goToAiTutor(...h))},[...t[8]||(t[8]=[A("i",{class:"bi bi-robot"},null,-1),A("span",null,"AI ",-1)])])]),A("div",uU,[A("div",cU,[A("div",{class:"profile-card",role:"button",tabindex:"0",onKeydown:t[4]||(t[4]=L1(h=>i.goToMyPage(),["enter"])),"aria-label":`${i.userName}  `},[A("div",fU,[i.user?.profileImageUrl?(re(),ce("img",{key:0,src:i.user.profileImageUrl,alt:" ",class:"profile-image",onClick:t[1]||(t[1]=h=>i.goToMyPage())},null,8,dU)):(re(),ce("div",pU,[...t[10]||(t[10]=[A("i",{class:"bi bi-person-fill"},null,-1)])]))]),A("div",mU,[t[15]||(t[15]=A("div",{class:"profile-greeting"},"",-1)),A("div",gU,Be(i.userName),1),A("div",vU,[A("button",{type:"button",class:"profile-pill",onClick:t[2]||(t[2]=br(h=>i.isModalOpen=!0,["stop","prevent"]))},[Nt(Be(i.selectedGrade)+" ",1),t[11]||(t[11]=A("i",{class:"bi bi-chevron-down"},null,-1))]),t[13]||(t[13]=A("span",{class:"status-dot"},"",-1)),A("button",{type:"button",class:"profile-pill",onClick:t[3]||(t[3]=br(h=>i.isModalOpen=!0,["stop","prevent"]))},[Nt(Be(i.selectedSubject)+" ",1),t[12]||(t[12]=A("i",{class:"bi bi-chevron-down"},null,-1))]),t[14]||(t[14]=A("span",{class:"status-text"},"   .",-1))])])],40,hU),t[16]||(t[16]=A("p",{class:"profile-helper"}," *   ",-1))]),t[25]||(t[25]=A("div",{class:"home-section-header home-section-header--chalkboard"},[A("h5",{class:"section-title"},"   ")],-1)),A("div",yU,[A("div",bU,[A("div",xU,[A("div",_U,[A("div",wU,[A("button",{type:"button",class:ht(["chalkboard-tab-button",{active:i.selectedSemester==="1"}]),onClick:t[5]||(t[5]=h=>i.selectedSemester="1")}," 1 ",2),A("button",{type:"button",class:ht(["chalkboard-tab-button",{active:i.selectedSemester==="2"}]),onClick:t[6]||(t[6]=h=>i.selectedSemester="2")}," 2 ",2)])]),(re(!0),ce(at,null,At(i.chalkboardContent,h=>(re(),ce("div",{key:h.semester},[i.selectedSemester==="1"&&h.semester.includes("1")||i.selectedSemester==="2"&&h.semester.includes("2")?(re(),ce("div",EU,[A("h6",SU,Be(h.semester),1),h.units.length>0?(re(),ce("ul",CU,[(re(!0),ce(at,null,At(h.units,(c,f)=>(re(),ce("li",{key:c.title},[A("span",null,[A("span",AU,Be(f+1),1),A("span",null,Be(c.title),1)]),c.description?(re(),ce("div",TU,Be(c.description),1)):rt("",!0)]))),128))])):(re(),ce("p",IU,[Nt(Be(i.selectedSemester)+"  !",1),t[17]||(t[17]=A("br",null,null,-1)),t[18]||(t[18]=Nt("   ? ",-1))]))])):rt("",!0)]))),128))]),t[19]||(t[19]=A("div",{class:"chalkboard-shelf"},[A("span",{class:"chalk-piece"}),A("span",{class:"chalk-piece brand-soft"}),A("span",{class:"chalk-eraser"})],-1))])]),t[26]||(t[26]=A("div",{class:"home-section-header"},[A("h5",{class:"section-title"},"   ")],-1)),A("div",DU,[A("div",NU,[i.isSearching?(re(),ce("div",FU,[...t[20]||(t[20]=[A("div",{class:"spinner-border text-primary loading-spinner",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1)])])):i.exhibitionItems.length===0?(re(),ce("div",kU,[...t[21]||(t[21]=[A("i",{class:"bi bi-inbox empty-icon"},null,-1),A("p",{class:"empty-text-main"},"   ",-1),A("p",{class:"empty-text-sub"},"   ",-1)])])):(re(),ce("div",MU,[(re(!0),ce(at,null,At(i.exhibitionItems,h=>(re(),Kt(a,{key:h.id,item:h,onAdd:c=>i.goToDetail(h,""),onItemClick:c=>i.goToDetail(h,"")},null,8,["item","onAdd","onItemClick"]))),128))]))])]),t[27]||(t[27]=A("div",{class:"home-section-header"},[A("h5",{class:"section-title"},"  ")],-1)),A("div",OU,[A("div",LU,[A("div",PU,[i.isSearching?(re(),ce("div",RU,[...t[22]||(t[22]=[A("div",{class:"spinner-border text-primary loading-spinner",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"loading-text"},"   ...",-1)])])):i.fieldTripItems.length===0?(re(),ce("div",BU,[...t[23]||(t[23]=[A("p",{class:"empty-text-main"},"  .",-1)])])):(re(),ce("div",UU,[(re(!0),ce(at,null,At(i.fieldTripItems,h=>(re(),Kt(a,{key:h.id,item:h,onAdd:c=>i.goToDetail(h,""),onItemClick:c=>i.goToDetail(h,"")},null,8,["item","onAdd","onItemClick"]))),128))]))]),t[24]||(t[24]=A("div",{class:"scroll-hint-gradient"},null,-1))])])]),A("div",VU,[lt(l,{selectedNavItem:i.selectedNavItem,onNavigate:i.handleNavigation},null,8,["selectedNavItem","onNavigate"])]),i.isModalOpen?(re(),Kt(u,{key:0,initialSubject:i.selectedSubject,initialGrade:i.selectedGrade,onClose:t[7]||(t[7]=h=>i.isModalOpen=!1),onComplete:i.handleFilterComplete,showLocationOptions:!1},null,8,["initialSubject","initialGrade","onComplete"])):rt("",!0)])}const jU=wt(oU,[["render",$U],["__scopeId","data-v-c49cfb0b"]]),zU={name:"SettingsModal",props:{show:{type:Boolean,default:!1},isLoggedIn:{type:Boolean,default:!1}},emits:["logout","withdraw","close","login"],methods:{onMainButtonClick(){this.isLoggedIn?this.$emit("logout"):this.$emit("login"),this.$emit("close")},onWithdrawClick(){this.$emit("withdraw"),this.$emit("close")},close(){this.$emit("close")}}},GU={class:"modal-dialog modal-dialog-centered"},HU={class:"modal-content border-0"},WU={class:"modal-body text-center p-4"};function XU(n,t,r,i,s,o){return r.show?(re(),ce("div",{key:0,class:"modal-overlay",style:{"font-family":"'SUIT', sans-serif"},onClick:t[2]||(t[2]=br((...a)=>o.close&&o.close(...a),["self"]))},[A("div",GU,[A("div",HU,[A("div",WU,[t[3]||(t[3]=A("h5",{class:"fw-bold text-dark mb-4",id:"settingsModalLabel"},"",-1)),A("button",{type:"button",class:"btn btn-primary w-100 p-3 fw-bold mb-3 rounded-pill modal-logout-btn",onClick:t[0]||(t[0]=(...a)=>o.onMainButtonClick&&o.onMainButtonClick(...a))},Be(r.isLoggedIn?"":""),1),A("button",{type:"button",class:"btn btn-outline-primary w-100 p-3 fw-bold rounded-pill modal-withdraw-btn",onClick:t[1]||(t[1]=(...a)=>o.onWithdrawClick&&o.onWithdrawClick(...a))},"  ")])])])])):rt("",!0)}const qU=wt(zU,[["render",XU],["__scopeId","data-v-4ce092b6"]]),YU={name:"MyPageView",components:{SettingsModal:qU,BottomNavbar:$1},setup(){const n=gi(),{user:t,isLoggedIn:r}=Cs(n);return{authStore:n,user:t,isLoggedIn:r}},data(){return{isSettingsModalOpen:!1,selectedNavItem:""}},methods:{goBack(){this.$router.back()},handleNavigation(n){if(console.log(n,"."),this.selectedNavItem=n,n===""&&!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}n===""?this.$router.push("/home"):n===""?this.$router.push("/list"):n===""?this.$router.push("/map"):n===""&&this.$router.push("/usercourselist")},goToAccountView(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"AccountView"})},goToStampPage(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"stamp"})},showSettingsModal(){this.isSettingsModalOpen=!0},goToLoginView(){this.$router.push({name:"login"}),this.isSettingsModalOpen=!1},goToLikePlace(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"LikePlace"})},goToUserLikeCouseList(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.$router.push({name:"UserLikeCourseList"})},goToNotice(){this.$router.push({name:"Notice"})},handleLogout(){console.log("MyPageView   "),this.authStore.logout(),this.isSettingsModalOpen=!1,this.$router.replace({name:"Home"}),console.log("    ")},async handleWithdraw(){if(confirm("  ?       .")){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}}),this.isSettingsModalOpen=!1,this.$router.push({name:"login"});return}try{(await cn.delete("/user/withdraw")).status===204&&(ct.emit("show-global-alert",{message:"  .   ",type:"error"}),this.handleLogout())}catch(n){console.error("  :",n)}}}}},KU={class:"mypage-root d-flex flex-column h-100 bg-white",style:{"font-family":"'SUIT', sans-serif"}},ZU={class:"mypage-header d-flex justify-content-between align-items-center"},JU={class:"header-left",style:{flex:"1"}},QU={class:"mypage-scroll flex-grow-1"},e7={class:"mypage-section mypage-section--profile"},t7={class:"mypage-profile-card"},n7={class:"profile-avatar-wrapper"},r7={class:"profile-avatar"},i7=["src"],s7={key:1,class:"profile-avatar-fallback"},o7={class:"profile-info"},a7={class:"profile-name"},l7={class:"profile-greeting"},u7={class:"mypage-section"},c7={class:"mypage-card-grid"},h7={class:"mypage-section"},f7={class:"mypage-list"},d7={class:"mypage-section"},p7={class:"mypage-list"},m7={class:"mypage-section"},g7={class:"mypage-list"},v7={class:"list-left"},y7={class:"list-text-main"};function b7(n,t,r,i,s,o){const a=Lt("BottomNavbar"),l=Lt("SettingsModal");return re(),ce("div",KU,[A("div",ZU,[A("div",JU,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...u)=>o.goBack&&o.goBack(...u))})]),t[8]||(t[8]=A("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center","font-size":"1rem","font-weight":"700",color:"#111827"}},"  ",-1)),t[9]||(t[9]=A("div",{class:"header-right d-flex justify-content-end",style:{flex:"1"}},null,-1))]),A("div",QU,[A("section",e7,[A("div",t7,[A("div",n7,[A("div",r7,[i.user?.profileImageUrl?(re(),ce("img",{key:0,src:i.user.profileImageUrl,alt:"",class:"profile-image"},null,8,i7)):(re(),ce("div",s7,[...t[10]||(t[10]=[A("i",{class:"bi bi-person-fill",style:{"font-size":"2rem"}},null,-1)])]))]),A("button",{class:"profile-settings-badge",onClick:t[1]||(t[1]=(...u)=>o.goToAccountView&&o.goToAccountView(...u))},[...t[11]||(t[11]=[A("i",{class:"bi bi-gear-fill"},null,-1)])])]),A("div",o7,[A("div",a7,Be(i.user?.name||" "),1),A("div",l7,Be(i.user?.email||" "),1)])])]),A("section",u7,[t[14]||(t[14]=A("div",{class:"mypage-section-header"},[A("h5",{class:"mypage-section-title"},"  ")],-1)),A("div",c7,[A("button",{type:"button",class:"mypage-card mypage-card--stamp",onClick:t[2]||(t[2]=(...u)=>o.goToStampPage&&o.goToStampPage(...u))},[...t[12]||(t[12]=[pi('<div class="card-icon-wrap" data-v-fb0a59d2><i class="bi bi-crosshair" data-v-fb0a59d2></i></div><div class="card-text-wrap" data-v-fb0a59d2><div class="card-title" data-v-fb0a59d2> </div><div class="card-sub" data-v-fb0a59d2>   <br data-v-fb0a59d2>    </div></div>',2)])]),A("button",{type:"button",class:"mypage-card mypage-card--route",onClick:t[3]||(t[3]=(...u)=>o.goToUserLikeCouseList&&o.goToUserLikeCouseList(...u))},[...t[13]||(t[13]=[pi('<div class="card-icon-wrap" data-v-fb0a59d2><i class="bi bi-bookmark-plus-fill" data-v-fb0a59d2></i></div><div class="card-text-wrap" data-v-fb0a59d2><div class="card-title" data-v-fb0a59d2>  </div><div class="card-sub" data-v-fb0a59d2>      <br data-v-fb0a59d2>  </div></div>',2)])])])]),A("section",h7,[t[16]||(t[16]=A("div",{class:"mypage-section-header"},[A("h5",{class:"mypage-section-title"}," ")],-1)),A("ul",f7,[A("li",{class:"mypage-list-item",onClick:t[4]||(t[4]=(...u)=>o.goToLikePlace&&o.goToLikePlace(...u))},[...t[15]||(t[15]=[pi('<div class="list-left" data-v-fb0a59d2><span class="list-icon heart" data-v-fb0a59d2><i class="bi bi-heart-fill" data-v-fb0a59d2></i></span><span class="list-text-main" data-v-fb0a59d2> </span></div><i class="bi bi-chevron-right list-chevron" data-v-fb0a59d2></i>',2)])])])]),A("section",d7,[t[18]||(t[18]=A("div",{class:"mypage-section-header"},[A("h5",{class:"mypage-section-title"},"")],-1)),A("ul",p7,[A("li",{class:"mypage-list-item",onClick:t[5]||(t[5]=(...u)=>o.goToNotice&&o.goToNotice(...u))},[...t[17]||(t[17]=[pi('<div class="list-left" data-v-fb0a59d2><span class="list-icon bell" data-v-fb0a59d2><i class="bi bi-bell-fill" data-v-fb0a59d2></i></span><span class="list-text-main" data-v-fb0a59d2></span></div><i class="bi bi-chevron-right list-chevron" data-v-fb0a59d2></i>',2)])])])]),A("section",m7,[t[21]||(t[21]=A("div",{class:"mypage-section-header"},[A("h5",{class:"mypage-section-title"},"")],-1)),A("ul",g7,[A("li",{class:"mypage-list-item",onClick:t[6]||(t[6]=(...u)=>o.showSettingsModal&&o.showSettingsModal(...u))},[A("div",v7,[t[19]||(t[19]=A("span",{class:"list-icon gear"},[A("i",{class:"bi bi-gear-fill"})],-1)),A("span",y7,Be(i.isLoggedIn?" / ":" / "),1)]),t[20]||(t[20]=A("i",{class:"bi bi-chevron-right list-chevron"},null,-1))])])])]),lt(a,{selectedNavItem:s.selectedNavItem,onNavigate:o.handleNavigation,style:{"flex-shrink":"0"}},null,8,["selectedNavItem","onNavigate"]),lt(l,{show:s.isSettingsModalOpen,isLoggedIn:i.isLoggedIn,onClose:t[7]||(t[7]=u=>s.isSettingsModalOpen=!1),onLogout:o.handleLogout,onWithdraw:o.handleWithdraw,onLogin:o.goToLoginView},null,8,["show","isLoggedIn","onLogout","onWithdraw","onLogin"])])}const x7=wt(YU,[["render",b7],["__scopeId","data-v-fb0a59d2"]]),_7={name:"AccountSettingsView",setup(){const n=gi(),{user:t,isLoggedIn:r}=Cs(n);return{authStore:n,user:t,isLoggedIn:r}},data(){return{localUser:{loginId:"",name:"",email:"",phoneNumber:"",gender:"",region:"",childGrade:""},childGrades:[" 3"," 4"," 5"," 6"],selectedFile:null,imagePreviewUrl:null}},created(){this.initializeFormFromPinia(),this.user&&this.user.profileImageUrl&&(this.imagePreviewUrl=this.user.profileImageUrl)},methods:{goBack(){this.$router.back()},triggerFileUpload(){this.$refs.fileInput.click()},onFileSelected(n){const t=n.target.files[0];if(!t)return;this.selectedFile=t;const r=new FileReader;r.onload=i=>{this.imagePreviewUrl=i.target.result},r.readAsDataURL(t)},initializeFormFromPinia(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.user?(this.localUser.loginId=this.user.loginId||"",this.localUser.name=this.user.name||"",this.localUser.email=this.user.email||"",this.localUser.phoneNumber=this.user.phoneNumber||"",this.localUser.gender=this.user.gender||"",this.localUser.region=this.user.region||"",this.localUser.childGrade=this.user.childGrade||""):ct.emit("show-global-confirm",{message:"    .  .",onConfirm:()=>{this.$router.push({name:"login"})}})},async handleUpdate(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .   .",onConfirm:()=>{this.$router.push({name:"login"})}});return}const n={name:this.localUser.name,email:this.localUser.email,phoneNumber:this.localUser.phoneNumber,gender:this.localUser.gender,region:this.localUser.region,childGrade:this.localUser.childGrade,loginId:this.localUser.loginId},t=new FormData;t.append("dto",new Blob([JSON.stringify(n)],{type:"application/json"})),this.selectedFile&&t.append("profileImage",this.selectedFile,this.selectedFile.name);try{await this.authStore.updateUser(t),ct.emit("show-global-alert",{message:"   .",type:"success"}),this.goBack()}catch(r){console.error("  :",r);const i=r?.response?.data?.message||r?.response?.data||"       .";alert(`  : ${i}`)}},selectGender(n){this.localUser.gender=n==="male"?"":""},selectChildGrade(n){this.localUser.childGrade=n}}},w7={class:"mypage-root d-flex flex-column h-100 bg-white",style:{"font-family":"'SUIT', sans-serif"}},E7={class:"mypage-header d-flex justify-content-between align-items-center"},S7={class:"header-left",style:{flex:"1"}},C7={class:"mypage-scroll flex-grow-1"},A7={class:"d-flex justify-content-center my-4"},T7={class:"position-relative"},I7={class:"profile-pic rounded-circle d-flex align-items-center justify-content-center bg-body-secondary text-secondary"},D7=["src"],N7={key:1,class:"bi bi-emoji-smile",style:{"font-size":"3rem"}},F7={class:"form-group mb-3"},k7={class:"form-group mb-3"},M7={class:"form-group mb-3"},O7={class:"form-group mb-3"},L7={class:"form-group mb-3"},P7={class:"d-flex gap-3"},R7={class:"form-group mb-3"},B7={class:"form-group mb-3"},U7={class:"btn-group w-100 dropup"},V7={class:"dropdown-menu w-100 custom-dropdown-menu"},$7=["onClick"];function j7(n,t,r,i,s,o){return re(),ce("div",w7,[A("div",E7,[A("div",S7,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))})]),t[11]||(t[11]=A("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center","font-size":"1rem","font-weight":"700",color:"#111827"}},"  ",-1)),t[12]||(t[12]=A("div",{class:"header-right d-flex justify-content-end",style:{flex:"1"}},null,-1))]),A("div",C7,[A("div",A7,[A("div",T7,[A("div",I7,[s.imagePreviewUrl?(re(),ce("img",{key:0,src:s.imagePreviewUrl,alt:" ",class:"profile-pic-image"},null,8,D7)):(re(),ce("i",N7))]),A("button",{class:"btn btn-primary rounded-circle p-0 position-absolute profile-badge d-flex align-items-center justify-content-center",onClick:t[1]||(t[1]=(...a)=>o.triggerFileUpload&&o.triggerFileUpload(...a))},[...t[13]||(t[13]=[A("i",{class:"bi bi-plus-lg"},null,-1)])])])]),A("input",{type:"file",ref:"fileInput",onChange:t[2]||(t[2]=(...a)=>o.onFileSelected&&o.onFileSelected(...a)),accept:"image/*",style:{display:"none"}},null,544),A("form",{onSubmit:t[10]||(t[10]=br((...a)=>o.handleUpdate&&o.handleUpdate(...a),["prevent"]))},[A("div",F7,[t[14]||(t[14]=A("label",{for:"login-id",class:"form-label"}," ",-1)),an(A("input",{type:"text",class:"form-control",id:"login-id","onUpdate:modelValue":t[3]||(t[3]=a=>s.localUser.loginId=a),disabled:""},null,512),[[nr,s.localUser.loginId]])]),A("div",k7,[t[15]||(t[15]=A("label",{for:"username",class:"form-label"}," ",-1)),an(A("input",{type:"text",class:"form-control",id:"username",placeholder:"  ","onUpdate:modelValue":t[4]||(t[4]=a=>s.localUser.name=a)},null,512),[[nr,s.localUser.name]])]),A("div",M7,[t[16]||(t[16]=A("label",{for:"email",class:"form-label"},"",-1)),an(A("input",{type:"email",class:"form-control",id:"email",placeholder:" ","onUpdate:modelValue":t[5]||(t[5]=a=>s.localUser.email=a)},null,512),[[nr,s.localUser.email]])]),A("div",O7,[t[17]||(t[17]=A("label",{for:"phone",class:"form-label"}," ",-1)),an(A("input",{type:"tel",class:"form-control",id:"phone",placeholder:"  ","onUpdate:modelValue":t[6]||(t[6]=a=>s.localUser.phoneNumber=a)},null,512),[[nr,s.localUser.phoneNumber]])]),A("div",L7,[t[18]||(t[18]=A("label",{class:"form-label"},"",-1)),A("div",P7,[A("button",{type:"button",class:ht(["btn w-100",s.localUser.gender===""?"btn-gender-fill":"btn-gender-outline"]),onClick:t[7]||(t[7]=a=>o.selectGender("male"))},"",2),A("button",{type:"button",class:ht(["btn w-100",s.localUser.gender===""?"btn-gender-fill":"btn-gender-outline"]),onClick:t[8]||(t[8]=a=>o.selectGender("female"))},"",2)])]),A("div",R7,[t[19]||(t[19]=A("label",{for:"region",class:"form-label"},"",-1)),an(A("input",{type:"text",class:"form-control",id:"region",placeholder:" ","onUpdate:modelValue":t[9]||(t[9]=a=>s.localUser.region=a)},null,512),[[nr,s.localUser.region]])]),A("div",B7,[t[20]||(t[20]=A("label",{for:"child-grade",class:"form-label d-flex justify-content-between align-items-center"},[A("span",{class:"fw-medium"}," ()"),A("small",{class:"text-muted fw-normal"},"(    .)")],-1)),A("div",U7,[A("button",{type:"button",class:ht(["btn dropdown-toggle w-100 dropup-btn",{"btn-selected":s.localUser.childGrade}]),"data-bs-toggle":"dropdown","aria-expanded":"false"},Be(s.localUser.childGrade||"  "),3),A("ul",V7,[(re(!0),ce(at,null,At(s.childGrades,a=>(re(),ce("li",{key:a},[A("a",{class:ht(["dropdown-item",{active:s.localUser.childGrade===a}]),href:"#",onClick:br(l=>o.selectChildGrade(a),["prevent"])},Be(a),11,$7)]))),128))])])]),t[21]||(t[21]=A("div",{class:"mt-4 mb-4"},[A("button",{type:"submit",class:"btn btn-primary w-100 py-3 fw-bold submit-btn"},"")],-1))],32)])])}const z7=wt(_7,[["render",j7],["__scopeId","data-v-7ed601f1"]]),G7={class:"chat-page-container d-flex flex-column vh-100",style:{"font-family":"'SUIT', sans-serif"}},H7={class:"voice-interaction-body flex-grow-1 d-flex flex-column align-items-center text-center p-4"},W7={key:0,class:"chat-message ai"},X7={class:"chat-bubble status"},q7={class:"voice-control-area d-flex align-items-center justify-content-center p-4 bg-white flex-shrink-0"},Y7=["disabled"],K7={__name:"ChatView",setup(n){const t=gi(),{user:r}=Cs(t),i=vc(),s=()=>i.push("/home"),o=Xe("idle"),a=Xe([{sender:"ai",text:`!  . 
   !`}]),l=Xe(""),u=Xe(null),h=Xe(null),c=Xe(null),f=Xe([]),d=Xe(null),p=Xe(null),m=Xe(null),g=Xe(null),v=Xe(0),E=()=>{o.value==="listening"?b():(o.value==="idle"||o.value==="speaking")&&(u.value&&(u.value.pause(),u.value.currentTime=0),l.value="",y())},y=async()=>{try{const C=await navigator.mediaDevices.getUserMedia({audio:!0});c.value=new MediaRecorder(C,{mimeType:"audio/webm"}),c.value.ondataavailable=F=>f.value.push(F.data),c.value.start(),d.value=new(window.AudioContext||window.webkitAudioContext),p.value=d.value.createAnalyser(),m.value=d.value.createMediaStreamSource(C),m.value.connect(p.value),p.value.fftSize=256,x(),console.log("Real recording started..."),o.value="listening",l.value=" ! ~"}catch(C){console.error("Error starting recording:",C),l.value="!    ."}},x=()=>{if(!p.value)return;const C=p.value.frequencyBinCount,F=new Uint8Array(C);p.value.getByteFrequencyData(F);let k=0;for(let N=0;N<C;N++)k+=F[N];let D=k/C;v.value=Math.min(D/60,1)*100,g.value=requestAnimationFrame(x)},b=()=>{c.value&&(g.value&&(cancelAnimationFrame(g.value),g.value=null),console.log("Real recording stopped. Sending to server..."),o.value="processing",l.value="...  !",c.value.onstop=async()=>{const C=new Blob(f.value,{type:"audio/webm"});f.value=[];const F=new FormData;F.append("audio",C,"recording.webm"),c.value&&c.value.stream&&c.value.stream.getTracks().forEach(k=>k.stop()),d.value&&d.value.state!=="closed"&&d.value.close(),v.value=0;try{const D=await cn.post("https://science-book-backend-392637347057.asia-northeast3.run.app/api/voice-query",F,{headers:{"Content-Type":"multipart/form-data"}}),{userTranscript:N,aiResponseText:M,aiResponseAudio:U}=D.data;l.value="",!N&&M.includes("   ")?a.value.push({sender:"ai",text:M}):(a.value.push({sender:"user",text:N}),a.value.push({sender:"ai",text:M})),o.value="speaking",u.value=new Audio(U),u.value.play(),u.value.onended=()=>{o.value="idle",l.value="   ?"}}catch(k){console.error("Error sending audio:",k),o.value="idle",l.value=`!   . 
  ?`}},c.value.stop())},w=()=>{switch(o.value){case"listening":return"bi-ear-fill";case"processing":return"bi-hourglass-top";case"speaking":return"bi-emoji-sunglasses-fill";case"idle":default:return"bi-emoji-smile-fill"}},S=()=>{switch(o.value){case"listening":return"btn-speak-stop";case"idle":case"speaking":return"btn-speak-go";case"processing":default:return"btn-speak-disabled"}},_=Ut(()=>o.value!=="listening"?{transform:"scale(1)"}:{transform:`scale(${1.1+v.value/100*.3})`}),T=async()=>{await Ji();const C=h.value;C&&(C.scrollTop=C.scrollHeight)};return Wi(a,T,{deep:!0}),Wi(l,T),(C,F)=>(re(),ce("div",G7,[A("div",{class:"chat-header d-flex justify-content-between align-items-center p-3 flex-shrink-0"},[F[1]||(F[1]=A("div",{class:"header-left"},null,-1)),F[2]||(F[2]=A("div",{class:"header-center fw-bold fs-6"}," AI  ",-1)),A("div",{class:"header-right",onClick:s},[...F[0]||(F[0]=[A("i",{class:"bi bi-x-lg fs-5",style:{cursor:"pointer",color:"#555"}},null,-1)])])]),A("div",H7,[A("div",{class:ht(["ai-character-bubble flex-shrink-0",o.value])},[A("div",{class:"ai-character",style:Xn(_.value)},[A("i",{class:ht(["bi",w()])},null,2)],4)],2),A("div",{class:"chat-history-container",ref_key:"chatHistoryRef",ref:h},[(re(!0),ce(at,null,At(a.value,(k,D)=>(re(),ce("div",{key:D,class:ht(["chat-message",k.sender])},[A("div",{class:ht(["chat-bubble",k.sender])},Be(k.text),3)],2))),128)),l.value?(re(),ce("div",W7,[A("div",X7,Be(l.value),1)])):rt("",!0)],512)]),A("div",q7,[A("button",{class:ht(["btn btn-lg rounded-circle d-flex justify-content-center align-items-center shadow",S()]),onClick:E,disabled:o.value==="processing"},[A("i",{class:ht(["bi fs-1",o.value==="listening"?"bi-stop-fill":"bi-mic-fill"])},null,2)],10,Y7)])]))}},Z7=wt(K7,[["__scopeId","data-v-427c066b"]]),J7={name:"ExhibitionAccordion",props:{title:{type:String,required:!0},isActive:{type:Boolean,default:!1},previewImageUrl:{type:String,default:null}},emits:["toggle","open-modal"]},Q7={class:"mb-3"},eV={class:"fw-bold"},tV={key:0,class:"bg-white border border-top-0 rounded-bottom p-3"},nV={key:0,class:"mb-3"},rV=["src","alt"],iV={key:1,class:"map-placeholder bg-light rounded mb-3 d-flex align-items-center justify-content-center",style:{height:"200px"}},sV={class:"text-center"};function oV(n,t,r,i,s,o){return re(),ce("div",Q7,[A("button",{class:"btn btn-white w-100 d-flex justify-content-between align-items-center border rounded p-3",type:"button",onClick:t[0]||(t[0]=a=>n.$emit("toggle"))},[A("span",eV,Be(r.title),1),A("i",{class:ht(["bi",r.isActive?"bi-chevron-down":"bi-chevron-right"])},null,2)]),r.isActive?(re(),ce("div",tV,[r.previewImageUrl?(re(),ce("div",nV,[A("img",{src:r.previewImageUrl,alt:`${r.title} `,class:"accordion-map-image rounded"},null,8,rV)])):(re(),ce("div",iV,[...t[2]||(t[2]=[A("span",{class:"text-muted"}," ",-1)])])),A("div",sV,[A("button",{class:"btn btn-primary rounded-pill px-4",onClick:t[1]||(t[1]=a=>n.$emit("open-modal"))},"  ")])])):rt("",!0)])}const aV=wt(J7,[["render",oV],["__scopeId","data-v-a441fc00"]]),lV={name:"FloorGuideModal",props:{show:{type:Boolean,default:!1},hallName:{type:String,required:!0},floorGuides:{type:Array,default:()=>[]}},emits:["close","floor-change"],data(){return{currentFloorIndex:0,touchStartX:0,touchEndX:0,mouseStartX:0,mouseEndX:0,isDragging:!1}},watch:{show(n){n?(this.currentFloorIndex=0,document.body.style.overflow="hidden"):document.body.style.overflow="auto"},floorGuides(){this.currentFloorIndex=0}},methods:{closeModal(){this.$emit("close")},goToFloor(n){this.currentFloorIndex=n,this.$emit("floor-change",n)},handleTouchStart(n){this.touchStartX=n.touches[0].clientX},handleTouchMove(n){this.touchEndX=n.touches[0].clientX},handleTouchEnd(){if(this.floorGuides.length<=1)return;const n=this.touchStartX-this.touchEndX;Math.abs(n)>50&&(n>0&&this.currentFloorIndex<this.floorGuides.length-1?this.currentFloorIndex++:n<0&&this.currentFloorIndex>0&&this.currentFloorIndex--)},handleMouseDown(n){this.isDragging=!0,this.mouseStartX=n.clientX,document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},handleMouseMove(n){this.isDragging&&(this.mouseEndX=n.clientX)},handleMouseUp(){if(this.isDragging){if(this.floorGuides.length>1){const n=this.mouseStartX-this.mouseEndX;Math.abs(n)>50&&(n>0&&this.currentFloorIndex<this.floorGuides.length-1?this.currentFloorIndex++:n<0&&this.currentFloorIndex>0&&this.currentFloorIndex--)}this.isDragging=!1,document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}}},beforeUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.body.style.overflow="auto"}},uV={class:"modal-content"},cV={class:"modal-header bg-primary text-white p-3 d-flex align-items-center"},hV={class:"fw-bold flex-grow-1"},fV={key:0,class:"text-center py-3"},dV={class:"fw-bold mb-0"},pV={class:"slider-container"},mV=["src","alt"],gV={class:"indicators d-flex justify-content-center gap-2 py-3"},vV=["onClick"],yV={class:"floor-buttons d-flex justify-content-center gap-3 pb-3"},bV=["onClick"],xV={key:1,class:"text-center pb-3"};function _V(n,t,r,i,s,o){return r.show?(re(),ce("div",{key:0,class:"modal-overlay",onClick:t[6]||(t[6]=br((...a)=>o.closeModal&&o.closeModal(...a),["self"]))},[A("div",uV,[A("div",cV,[t[8]||(t[8]=A("i",{class:"bi bi-map me-2"},null,-1)),A("span",hV,Be(r.hallName),1),A("button",{class:"btn btn-link text-white p-0",onClick:t[0]||(t[0]=(...a)=>o.closeModal&&o.closeModal(...a))},[...t[7]||(t[7]=[A("i",{class:"bi bi-x-lg fs-5"},null,-1)])])]),r.floorGuides.length>0?(re(),ce("div",fV,[A("h4",dV,Be(r.floorGuides[s.currentFloorIndex].floorName),1)])):rt("",!0),A("div",pV,[A("div",{class:"slider-wrapper",style:Xn({transform:`translateX(-${s.currentFloorIndex*100}%)`}),onTouchstart:t[2]||(t[2]=(...a)=>o.handleTouchStart&&o.handleTouchStart(...a)),onTouchmove:t[3]||(t[3]=(...a)=>o.handleTouchMove&&o.handleTouchMove(...a)),onTouchend:t[4]||(t[4]=(...a)=>o.handleTouchEnd&&o.handleTouchEnd(...a)),onMousedown:t[5]||(t[5]=(...a)=>o.handleMouseDown&&o.handleMouseDown(...a))},[(re(!0),ce(at,null,At(r.floorGuides,(a,l)=>(re(),ce("div",{key:l,class:"floor-slide"},[A("img",{src:a.imageUrl,alt:`${r.hallName} ${a.floorName} `,class:"floor-image",onDragstart:t[1]||(t[1]=br(()=>{},["prevent"]))},null,40,mV)]))),128))],36)]),A("div",gV,[(re(!0),ce(at,null,At(r.floorGuides,(a,l)=>(re(),ce("span",{key:l,class:ht(["indicator",{active:l===s.currentFloorIndex}]),onClick:u=>o.goToFloor(l)},null,10,vV))),128))]),A("div",yV,[(re(!0),ce(at,null,At(r.floorGuides,(a,l)=>(re(),ce("button",{key:l,class:ht(["btn floor-btn",{"btn-primary":l===s.currentFloorIndex,"btn-outline-secondary":l!==s.currentFloorIndex}]),onClick:u=>o.goToFloor(l)},Be(a.floorName),11,bV))),128))]),r.floorGuides.length>1?(re(),ce("div",xV,[...t[9]||(t[9]=[A("small",{class:"text-muted"},[A("i",{class:"bi bi-info-circle me-1"}),Nt("       ")],-1)])])):rt("",!0)])])):rt("",!0)}const wV=wt(lV,[["render",_V],["__scopeId","data-v-7ed2b412"]]),EE={1:[{floorName:"1F",imageUrl:"/img/floors/nature_1f.png"}],2:[{floorName:"1F",imageUrl:"/img/floors/nature_1f.png"}],3:[{floorName:"1F",imageUrl:"/img/floors/changui_1f.png"},{floorName:"2F",imageUrl:"/img/floors/changui_2f.png"},{floorName:"3F",imageUrl:"/img/floors/changui_3f.png"}],4:[{floorName:"",imageUrl:"/img/floors/children_science_playground.png"}],5:[{floorName:"",imageUrl:"/img/floors/history_ground.png"}],6:[{floorName:"B1",imageUrl:"/img/floors/sciencetech_b1_middle.png"}],7:[{floorName:"1F",imageUrl:"/img/floors/sciencetech_1f.png"}],8:[{floorName:"1F",imageUrl:"/img/floors/dream_atthi_1f.png"}],9:[{floorName:"1F",imageUrl:"/img/floors/cheonchae_1f.png"}],10:[{floorName:"1F",imageUrl:"/img/floors/sangmul_tamgu_1f.png"}],11:[{floorName:"1F",imageUrl:"/img/floors/future_science_1f.png"}],12:[{floorName:"1F",imageUrl:"/img/floors/future_science_1f.png"}],13:[{floorName:"2F",imageUrl:"/img/floors/cheonchae_look_2f.png"}],14:[{floorName:"1F",imageUrl:"/img/floors/children_science_1f.png"}],15:[{floorName:"2F",imageUrl:"/img/floors/children_science_2f.png"}],16:[{floorName:"",imageUrl:"/img/floors/ugu_science_playground.png"}],17:[{floorName:"",imageUrl:"/img/floors/chagi_busang_train.png"}]},EV=[{floorName:"",imageUrl:"/img/floors/default.png"}],SV={name:"ExhibitionHall",components:{ExhibitionAccordion:aV,FloorGuideModal:wV},data(){return{activeSection:null,showModal:!1,currentHall:null,floorGuides:[],selectedHallId:null,halls:[]}},computed:{sortedHalls(){if(!this.halls.length)return[];const n=[...this.halls],t=n.findIndex(r=>r.key==this.selectedHallId);if(t>0){const[r]=n.splice(t,1);n.unshift(r)}return n},currentHallName(){if(!this.currentHall)return"";const n=this.halls.find(t=>t.key===this.currentHall);return n?n.name:""}},created(){const{scienceCenterName:n,selectedHallId:t}=this.$route.query;this.selectedHallId=t,n&&this.fetchHalls(n)},methods:{async fetchHalls(n){try{const r=await kn.get(`https://science-book-backend-392637347057.asia-northeast3.run.app/api/halls?scienceCenterName=${n}`);if(console.log("API , {}",n),this.halls=r.data,console.log(JSON.stringify(this.halls,null,2)),this.selectedHallId&&this.halls.some(i=>i.key==this.selectedHallId)){const i=this.halls.find(s=>s.key==this.selectedHallId);this.openModal(i.key),this.activeSection=i.key}}catch(t){console.error("   :",t)}},getPreviewUrl(n){const t=EE[n];return t&&t.length>0?t[0].imageUrl:null},goBack(){this.$router.go(-1)},toggleSection(n){this.activeSection=this.activeSection===n?null:n},openModal(n){const t=this.halls.find(i=>i.key==n);if(!t)return;this.currentHall=t.key;const r=EE[n];r&&r.length>0?this.floorGuides=r:(console.warn(`'${t.name}'(key: ${n})     .`),this.floorGuides=EV),this.showModal=!0},closeModal(){this.showModal=!1,this.floorGuides=[]},handleFloorChange(n){console.log("Floor changed to:",this.floorGuides[n].floorName)}}},CV={class:"app-container"},AV={class:"bg-white p-3 d-flex align-items-center border-bottom app-header"},TV={class:"d-flex flex-column flex-grow-1 p-3 gap-3 scrollable-content"};function IV(n,t,r,i,s,o){const a=Lt("ExhibitionAccordion"),l=Lt("FloorGuideModal");return re(),ce(at,null,[A("div",CV,[A("div",AV,[A("button",{class:"btn btn-link text-dark p-0 me-3",onClick:t[0]||(t[0]=(...u)=>o.goBack&&o.goBack(...u))},[...t[1]||(t[1]=[A("i",{class:"bi bi-arrow-left fs-4"},null,-1)])]),t[2]||(t[2]=A("div",{class:"flex-grow-1 text-center"},[A("h5",{class:"mb-0 fw-bold"},"")],-1)),t[3]||(t[3]=A("div",{style:{width:"40px"}},null,-1))]),A("div",TV,[(re(!0),ce(at,null,At(o.sortedHalls,u=>(re(),Kt(a,{key:u.key,title:u.name||" ","is-active":s.activeSection===u.key,"preview-image-url":o.getPreviewUrl(u.key),onToggle:h=>o.toggleSection(u.key),onOpenModal:h=>o.openModal(u.key)},null,8,["title","is-active","preview-image-url","onToggle","onOpenModal"]))),128))])]),lt(l,{show:s.showModal,"hall-name":o.currentHallName,"floor-guides":s.floorGuides,onClose:o.closeModal,onFloorChange:o.handleFloorChange},null,8,["show","hall-name","floor-guides","onClose","onFloorChange"])],64)}const DV=wt(SV,[["render",IV],["__scopeId","data-v-aeff218e"]]),NV={name:"UserLikeCourseCard",components:{PillTag:As},props:{item:{type:Object,required:!0}},data(){return{mapGenerated:!1,map:null,markers:[],polyline:null,mapWidth:149,mapHeight:126,routePath:[]}},computed:{isExhibitionCourse(){return this.item.type==="inner_course"},courseSequenceText(){return Array.isArray(this.item.coursePlaces)&&this.item.coursePlaces.length>0?this.item.coursePlaces.join("  "):Array.isArray(this.item.courseItems)&&this.item.courseItems.length>0?this.item.courseItems.map(n=>n.title||n.place).join("  "):"  ."},courseCoordinates(){return!this.item.courseItems||!Array.isArray(this.item.courseItems)?[]:this.item.courseItems.filter(n=>n.lat&&n.lng).map(n=>({lat:n.lat,lng:n.lng,title:n.title||n.place,number:n.number||1}))}},mounted(){this.$nextTick(()=>{this.initializeMap()})},watch:{"item.courseItems":{handler(){this.map&&this.updateMapWithCourse()},deep:!0}},beforeUnmount(){this.clearMap()},methods:{handleCardClick(n){console.log(" UserLikeCourseCard clicked!",n.target),console.log(" Item data:",this.item),this.$emit("click",this.item)},handleMapClick(n){console.log(" Map area clicked, triggering card click"),n.stopPropagation(),this.handleCardClick(n)},handleContentClick(){console.log(" Content area clicked")},handleHeartClick(n){console.log(" Heart icon clicked"),n.stopPropagation()},async initializeMap(){if(!window.kakao||!window.kakao.maps){console.error(" API  ."),this.showFallbackImage();return}try{await this.createCourseMap()}catch(n){console.error("  :",n),this.showFallbackImage()}},async getRoutePathFromAPI(n){if(this.isExhibitionCourse)return console.log("[API]   API      ."),null;if(n.length<2)return console.warn("[API]    ."),null;const t=n[0],r=n[n.length-1],i=n.slice(1,-1),s={origin:{x:t.lng.toString(),y:t.lat.toString()},destination:{x:r.lng.toString(),y:r.lat.toString()},waypoints:i.map(l=>({x:l.lng.toString(),y:l.lat.toString()})),priority:"TIME"},o="28242ddd7cda15c60301eff5cada6efc",a="https://apis-navi.kakaomobility.com/v1/waypoints/directions";try{const l=await fetch(a,{method:"POST",headers:{Authorization:`KakaoAK ${o}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw new Error(`Kakao Directions API : ${l.status} ${l.statusText}`);const u=await l.json();if(u.routes&&u.routes.length>0){const h=u.routes[0],c=[];return h.sections.forEach(f=>{f.roads.forEach(d=>{d.vertexes.forEach((p,m)=>{if(m%2===0){const g=p,v=d.vertexes[m+1];c.push(new window.kakao.maps.LatLng(v,g))}})})}),console.log(`[API]     ${c.length}  .`),c}return null}catch(l){return console.error("[API]    API    .  :",l),null}},async createCourseMap(){const n=this.$refs.mapContainer;if(!n)return;if(this.courseCoordinates.length===0){this.showFallbackImage();return}const t={center:new window.kakao.maps.LatLng(37.566826,126.9786567),level:5,draggable:!1,scrollwheel:!1,disableDoubleClick:!0,disableDoubleClickZoom:!0,keyboardShortcuts:!1};this.map=new window.kakao.maps.Map(n,t),this.updateMapBounds(),await this.addCourseMarkersAndRoute(),this.hideMapControls(),this.mapGenerated=!0},calculateMapBounds(){const n=this.courseCoordinates;if(n.length===0)return{center:{lat:37.566826,lng:126.9786567},level:5};const t=new window.kakao.maps.LatLngBounds;return n.forEach(r=>{t.extend(new window.kakao.maps.LatLng(r.lat,r.lng))}),{bounds:t}},updateMapBounds(){if(!this.map||this.courseCoordinates.length===0)return;const{bounds:n}=this.calculateMapBounds();n&&this.map.setBounds(n)},async addCourseMarkersAndRoute(){if(this.courseCoordinates.length===0)return;const n=[];this.clearMapElements(),this.courseCoordinates.forEach((r,i)=>{const s=new window.kakao.maps.LatLng(r.lat,r.lng);n.push(s);const o=this.createMarkerImage(r.number||i+1,this.getMarkerColor(i)),a=new window.kakao.maps.MarkerImage(o,new window.kakao.maps.Size(24,35),{offset:new window.kakao.maps.Point(12,35)}),l=new window.kakao.maps.Marker({position:s,image:a,map:this.map});this.markers.push(l)});let t=n;if(this.isExhibitionCourse)console.log("    .");else{const r=await this.getRoutePathFromAPI(this.courseCoordinates);r&&r.length>1?t=r:console.log("API      .   .")}this.routePath=t,t.length>1&&(this.polyline=new window.kakao.maps.Polyline({path:t,strokeWeight:3,strokeColor:"#4A7CEC",strokeOpacity:.8,strokeStyle:"solid"}),this.polyline.setMap(this.map))},async updateMapWithCourse(){this.map&&(this.clearMapElements(),this.courseCoordinates.length>0&&(this.updateMapBounds(),await this.addCourseMarkersAndRoute()))},clearMapElements(){this.markers.forEach(n=>n.setMap(null)),this.markers=[],this.polyline&&(this.polyline.setMap(null),this.polyline=null)},clearMap(){this.clearMapElements(),this.map&&(this.map=null)},getMarkerColor(n){const t=["#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return t[n%t.length]},createMarkerImage(n,t){const r=`
        <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
            fill="${t}" stroke="#fff" stroke-width="2"/>
          <circle cx="12" cy="12" r="8" fill="#fff"/>
          <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
            font-size="10" font-weight="bold" fill="${t}">${n}</text>
        </svg>
      `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)},hideMapControls(){setTimeout(()=>{const n=this.$refs.mapContainer;n&&n.querySelectorAll(".kakao-map-control, .MapTypeControl, .ZoomControl").forEach(r=>{r.style.display="none"})},100)},showFallbackImage(){const n=this.$refs.mapContainer;n&&(n.innerHTML=`
        <div class="map-fallback">
          <img src="https://placehold.co/${this.mapWidth}x${this.mapHeight}/e9ecef/6c757d?text=Course+Map"
            alt=" " style="width: 100%; height: 100%; object-fit: cover;">
        </div>
      `,this.mapGenerated=!0)}}},FV={key:0,class:"map-placeholder"},kV={class:"content-header"},MV={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},OV={class:"title"},LV={class:"address"},PV={class:"course-list"};function RV(n,t,r,i,s,o){const a=Lt("PillTag");return re(),ce("div",{class:"course-card",style:{"font-family":"'SUIT', sans-serif"},onClick:t[3]||(t[3]=(...l)=>o.handleCardClick&&o.handleCardClick(...l))},[A("div",{class:"map-container",ref:"mapContainer",onClick:t[0]||(t[0]=br((...l)=>o.handleMapClick&&o.handleMapClick(...l),["stop"]))},[s.mapGenerated?rt("",!0):(re(),ce("div",FV,"   ... "))],512),A("div",{class:"content-area",onClick:t[2]||(t[2]=(...l)=>o.handleContentClick&&o.handleContentClick(...l))},[A("div",kV,[A("div",MV,[lt(a,{text:r.item.subject,type:"subject"},null,8,["text"]),lt(a,{text:r.item.grade?.replace(" ","")??"",type:"grade"},null,8,["text"])]),A("div",{class:"action-icons",onClick:t[1]||(t[1]=br((...l)=>o.handleHeartClick&&o.handleHeartClick(...l),["stop"]))},[...t[4]||(t[4]=[A("i",{class:"bi bi-heart-fill fs-4"},null,-1)])])]),A("div",OV,Be(r.item.ExhibitionName),1),A("div",LV,Be(r.item.scienceCenter),1),A("div",PV,Be(o.courseSequenceText),1)])])}const BV=wt(NV,[["render",RV],["__scopeId","data-v-d09934dd"]]),UV={name:"UserLikeCourse",components:{UserLikeCourseCard:BV},setup(){const n=gi(),{isLoggedIn:t,currentUserId:r}=Cs(n);return{isLoggedIn:t,currentUserId:r}},data(){return{selectedTab:"",userLikeCourseCardItem:[],loading:!0,error:null}},computed:{filteredItems(){return this.selectedTab===""?this.userLikeCourseCardItem.filter(n=>n.type===""||n.type==="inner_course"):this.userLikeCourseCardItem.filter(n=>n.type===""||n.type==="ai_course")}},created(){this.$route.query.tab===""&&(this.selectedTab=""),this.fetchUserLikeCourse()},methods:{async fetchUserLikeCourse(){if(this.loading=!0,this.error=null,!this.isLoggedIn){this.error="  .    .",this.loading=!1,this.$router.push("/login");return}try{const n=await cn.get(`api/schedules/user/${this.currentUserId}`);this.userLikeCourseCardItem=n.data.map(t=>{const r=t.items.map(s=>({id:s.sourceItemId,number:s.sequence,title:s.itemName,place:s.addressDetail,imageUrl:s.mainImageUrl,lat:s.latitude,lng:s.longitude,type:null,scienceCenter:s.scienceCenterName,hallName:s.hallName,subject:s.mainCategoryNames||[],grade:s.gradeNames||[],hashtags:s.subCategoryNames||[],itemType:s.itemType,exhibitionList:s.exhibitionList||[]}));return{id:t.scheduleId||`temp_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,ExhibitionName:t.scheduleName,type:t.sourceCourseType,address:r[0]?r[0].place:" ",scienceCenter:r[0]?r[0].scienceCenter:" ",grade:r[0]?r[0].grade?.[0]:null,subject:r[0]?r[0].subject?.[0]:null,coursePlaces:r.map(s=>s.title),courseItems:r}}),console.log(" fetchUserLikeCourse -    (userLikeCourseCardItem):",JSON.stringify(this.userLikeCourseCardItem,null,2))}catch(n){console.error("   :",n),this.error="   ."}finally{this.loading=!1}},goToCourseDetail(n){console.log("goToCourseDetail -  item:",n),sessionStorage.setItem(`courseData_${n.id}`,JSON.stringify(n)),this.$router.push({name:"UserLikeCourseDetail",params:{courseId:n.id},state:{courseData:n,fromList:!0}})},changeTab(n){this.selectedTab=n,this.$router.replace({query:{tab:n}})},goBack(){this.$router.back()}}},VV={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},$V={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},jV={class:"header-left",style:{flex:"1"}},zV={class:"segmented-control-wrapper flex-shrink-0"},GV={class:"segmented-control"},HV={key:0,class:"content-container status-container"},WV={key:1,class:"content-container status-container"},XV={class:"text-danger"},qV={key:2,class:"content-container"},YV={key:0,class:"status-container empty-state"},KV={class:"text-muted"},ZV={key:1,class:"card-list-wrapper"};function JV(n,t,r,i,s,o){const a=Lt("UserLikeCourseCard");return re(),ce("div",VV,[A("div",$V,[A("div",jV,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...l)=>o.goBack&&o.goBack(...l))})]),t[4]||(t[4]=A("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center"}},"    ",-1)),t[5]||(t[5]=A("div",{class:"header-right",style:{flex:"1"}},null,-1))]),A("div",zV,[A("div",GV,[A("button",{type:"button",class:ht(["spec-button",{active:s.selectedTab===""}]),onClick:t[1]||(t[1]=l=>o.changeTab(""))},"",2),A("button",{type:"button",class:ht(["spec-button",{active:s.selectedTab===""}]),onClick:t[2]||(t[2]=l=>o.changeTab(""))}," ",2)])]),s.loading?(re(),ce("div",HV,[...t[6]||(t[6]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"mt-2 text-muted"},"   ...",-1)])])):s.error?(re(),ce("div",WV,[A("p",XV,Be(s.error),1),A("button",{onClick:t[3]||(t[3]=(...l)=>o.fetchUserLikeCourse&&o.fetchUserLikeCourse(...l)),class:"btn btn-sm btn-outline-primary"},"   ")])):(re(),ce("div",qV,[o.filteredItems.length===0?(re(),ce("div",YV,[A("p",KV," '"+Be(s.selectedTab)+"'     . ",1)])):(re(),ce("div",ZV,[(re(!0),ce(at,null,At(o.filteredItems,(l,u)=>(re(),Kt(a,{key:l.id||u,item:l,onClick:h=>o.goToCourseDetail(l)},null,8,["item","onClick"]))),128))]))]))])}const QV=wt(UV,[["render",JV],["__scopeId","data-v-d01b6016"]]);var zd={exports:{}},D0={exports:{}},N0={};/**
* @vue/compiler-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const nc=Symbol(""),ju=Symbol(""),Bm=Symbol(""),Lh=Symbol(""),z1=Symbol(""),ka=Symbol(""),G1=Symbol(""),H1=Symbol(""),Um=Symbol(""),Vm=Symbol(""),xc=Symbol(""),$m=Symbol(""),W1=Symbol(""),jm=Symbol(""),zm=Symbol(""),Gm=Symbol(""),Hm=Symbol(""),Wm=Symbol(""),Xm=Symbol(""),X1=Symbol(""),q1=Symbol(""),bf=Symbol(""),Ph=Symbol(""),qm=Symbol(""),Ym=Symbol(""),rc=Symbol(""),_c=Symbol(""),Km=Symbol(""),Ap=Symbol(""),lD=Symbol(""),Tp=Symbol(""),Rh=Symbol(""),uD=Symbol(""),cD=Symbol(""),Zm=Symbol(""),hD=Symbol(""),fD=Symbol(""),Jm=Symbol(""),Y1=Symbol(""),Rl={[nc]:"Fragment",[ju]:"Teleport",[Bm]:"Suspense",[Lh]:"KeepAlive",[z1]:"BaseTransition",[ka]:"openBlock",[G1]:"createBlock",[H1]:"createElementBlock",[Um]:"createVNode",[Vm]:"createElementVNode",[xc]:"createCommentVNode",[$m]:"createTextVNode",[W1]:"createStaticVNode",[jm]:"resolveComponent",[zm]:"resolveDynamicComponent",[Gm]:"resolveDirective",[Hm]:"resolveFilter",[Wm]:"withDirectives",[Xm]:"renderList",[X1]:"renderSlot",[q1]:"createSlots",[bf]:"toDisplayString",[Ph]:"mergeProps",[qm]:"normalizeClass",[Ym]:"normalizeStyle",[rc]:"normalizeProps",[_c]:"guardReactiveProps",[Km]:"toHandlers",[Ap]:"camelize",[lD]:"capitalize",[Tp]:"toHandlerKey",[Rh]:"setBlockTracking",[uD]:"pushScopeId",[cD]:"popScopeId",[Zm]:"withCtx",[hD]:"unref",[fD]:"isRef",[Jm]:"withMemo",[Y1]:"isMemoSame"};function dD(n){Object.getOwnPropertySymbols(n).forEach(t=>{Rl[t]=n[t]})}const e$={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},t$={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},n$={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},r$={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},Ur={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function pD(n,t=""){return{type:0,source:t,children:n,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Ur}}function ic(n,t,r,i,s,o,a,l=!1,u=!1,h=!1,c=Ur){return n&&(l?(n.helper(ka),n.helper(Vl(n.inSSR,h))):n.helper(Ul(n.inSSR,h)),a&&n.helper(Wm)),{type:13,tag:t,props:r,children:i,patchFlag:s,dynamicProps:o,directives:a,isBlock:l,disableTracking:u,isComponent:h,loc:c}}function Da(n,t=Ur){return{type:17,loc:t,elements:n}}function ls(n,t=Ur){return{type:15,loc:t,properties:n}}function Sr(n,t){return{type:16,loc:Ur,key:Bt(n)?Yt(n,!0):n,value:t}}function Yt(n,t=!1,r=Ur,i=0){return{type:4,loc:r,content:n,isStatic:t,constType:t?3:i}}function i$(n,t){return{type:5,loc:t,content:Bt(n)?Yt(n,!1,t):n}}function Es(n,t=Ur){return{type:8,loc:t,children:n}}function Tr(n,t=[],r=Ur){return{type:14,loc:r,callee:n,arguments:t}}function Bl(n,t=void 0,r=!1,i=!1,s=Ur){return{type:18,params:n,returns:t,newline:r,isSlot:i,loc:s}}function Ip(n,t,r,i=!0){return{type:19,test:n,consequent:t,alternate:r,newline:i,loc:Ur}}function mD(n,t,r=!1,i=!1){return{type:20,index:n,value:t,needPauseTracking:r,inVOnce:i,needArraySpread:!1,loc:Ur}}function gD(n){return{type:21,body:n,loc:Ur}}function s$(n){return{type:22,elements:n,loc:Ur}}function o$(n,t,r){return{type:23,test:n,consequent:t,alternate:r,loc:Ur}}function a$(n,t){return{type:24,left:n,right:t,loc:Ur}}function l$(n){return{type:25,expressions:n,loc:Ur}}function u$(n){return{type:26,returns:n,loc:Ur}}function Ul(n,t){return n||t?Um:Vm}function Vl(n,t){return n||t?G1:H1}function Qm(n,{helper:t,removeHelper:r,inSSR:i}){n.isBlock||(n.isBlock=!0,r(Ul(i,n.isComponent)),t(ka),t(Vl(i,n.isComponent)))}const SE=new Uint8Array([123,123]),CE=new Uint8Array([125,125]);function AE(n){return n>=97&&n<=122||n>=65&&n<=90}function os(n){return n===32||n===10||n===9||n===12||n===13}function ua(n){return n===47||n===62||os(n)}function Dp(n){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}const ti={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class c${constructor(t,r){this.stack=t,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=SE,this.delimiterClose=CE,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=SE,this.delimiterClose=CE}getPos(t){let r=1,i=t+1;for(let s=this.newlines.length-1;s>=0;s--){const o=this.newlines[s];if(t>o){r=s+2,i=t-o;break}}return{column:i,line:r,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?ua(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||os(t)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const i=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=i}this.sectionStart=r+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ti.TitleEnd||this.currentSequence===ti.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===ti.Cdata[this.sequenceIndex]?++this.sequenceIndex===ti.Cdata.length&&(this.state=28,this.currentSequence=ti.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ti.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,r){this.enterRCDATA(t,r),this.state=31}enterRCDATA(t,r){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=r}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):AE(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){ua(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(ua(t)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Dp("</"+r),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){os(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=AE(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||os(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):os(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):os(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||ua(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||ua(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||ua(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||ua(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||ua(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):os(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):os(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,r){(t===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){os(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=ti.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===ti.ScriptEnd[3]?this.startSpecial(ti.ScriptEnd,4):t===ti.StyleEnd[3]?this.startSpecial(ti.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===ti.TitleEnd[3]?this.startSpecial(ti.TitleEnd,4):t===ti.TextareaEnd[3]?this.startSpecial(ti.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===ti.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,r){}}const h$={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},f$={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:n=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${n}.sync\` should be changed to \`v-model:${n}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function cy(n,{compatConfig:t}){const r=t&&t[n];return n==="MODE"?r||3:r}function Tl(n,t){const r=cy("MODE",t),i=cy(n,t);return r===3?i===!0:i!==!1}function sc(n,t,r,...i){return Tl(n,t)}function d$(n,t,r,...i){if(cy(n,t)==="suppress-warning")return;const{message:o,link:a}=f$[n],l=`(deprecation ${n}) ${typeof o=="function"?o(...i):o}${a?`
  Details: ${a}`:""}`,u=new SyntaxError(l);u.code=n,r&&(u.loc=r),t.onWarn(u)}function K1(n){throw n}function vD(n){}function Yn(n,t,r,i){const s=`https://vuejs.org/error-reference/#compiler-${n}`,o=new SyntaxError(String(s));return o.code=n,o.loc=t,o}const p$={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},m$={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function g$(n,t,r=!1,i=[],s=Object.create(null)){}function v$(n,t,r){return!1}function y$(n,t){if(n&&(n.type==="ObjectProperty"||n.type==="ArrayPattern")){let r=t.length;for(;r--;){const i=t[r];if(i.type==="AssignmentExpression")return!0;if(i.type!=="ObjectProperty"&&!i.type.endsWith("Pattern"))break}}return!1}function b$(n){let t=n.length;for(;t--;){const r=n[t];if(r.type==="NewExpression")return!0;if(r.type!=="MemberExpression")break}return!1}function x$(n,t){for(const r of n.params)for(const i of uo(r))t(i)}function yD(n,t){const r=n.type==="SwitchCase"?n.consequent:n.body;for(const i of r)if(i.type==="VariableDeclaration"){if(i.declare)continue;for(const s of i.declarations)for(const o of uo(s.id))t(o)}else if(i.type==="FunctionDeclaration"||i.type==="ClassDeclaration"){if(i.declare||!i.id)continue;t(i.id)}else _$(i)?w$(i,!0,t):i.type==="SwitchStatement"&&E$(i,!0,t)}function _$(n){return n.type==="ForOfStatement"||n.type==="ForInStatement"||n.type==="ForStatement"}function w$(n,t,r){const i=n.type==="ForStatement"?n.init:n.left;if(i&&i.type==="VariableDeclaration"&&(i.kind==="var"?t:!t))for(const s of i.declarations)for(const o of uo(s.id))r(o)}function E$(n,t,r){for(const i of n.cases){for(const s of i.consequent)if(s.type==="VariableDeclaration"&&(s.kind==="var"?t:!t))for(const o of s.declarations)for(const a of uo(o.id))r(a);yD(i,r)}}function uo(n,t=[]){switch(n.type){case"Identifier":t.push(n);break;case"MemberExpression":let r=n;for(;r.type==="MemberExpression";)r=r.object;t.push(r);break;case"ObjectPattern":for(const i of n.properties)i.type==="RestElement"?uo(i.argument,t):uo(i.value,t);break;case"ArrayPattern":n.elements.forEach(i=>{i&&uo(i,t)});break;case"RestElement":uo(n.argument,t);break;case"AssignmentPattern":uo(n.left,t);break}return t}const S$=n=>/Function(?:Expression|Declaration)$|Method$/.test(n.type),bD=n=>n&&(n.type==="ObjectProperty"||n.type==="ObjectMethod")&&!n.computed,C$=(n,t)=>bD(t)&&t.key===n,xD=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function _D(n){return xD.includes(n.type)?_D(n.expression):n}const Ni=n=>n.type===4&&n.isStatic;function Z1(n){switch(n){case"Teleport":case"teleport":return ju;case"Suspense":case"suspense":return Bm;case"KeepAlive":case"keep-alive":return Lh;case"BaseTransition":case"base-transition":return z1}}const A$=/^$|^\d|[^\$\w\xA0-\uFFFF]/,xf=n=>!A$.test(n),J1=/[A-Za-z_$\xA0-\uFFFF]/,T$=/[\.\?\w$\xA0-\uFFFF]/,I$=/\s+[.[]\s*|\s*[.[]\s+/g,wD=n=>n.type===4?n.content:n.loc.source,ED=n=>{const t=wD(n).trim().replace(I$,l=>l.trim());let r=0,i=[],s=0,o=0,a=null;for(let l=0;l<t.length;l++){const u=t.charAt(l);switch(r){case 0:if(u==="[")i.push(r),r=1,s++;else if(u==="(")i.push(r),r=2,o++;else if(!(l===0?J1:T$).test(u))return!1;break;case 1:u==="'"||u==='"'||u==="`"?(i.push(r),r=3,a=u):u==="["?s++:u==="]"&&(--s||(r=i.pop()));break;case 2:if(u==="'"||u==='"'||u==="`")i.push(r),r=3,a=u;else if(u==="(")o++;else if(u===")"){if(l===t.length-1)return!1;--o||(r=i.pop())}break;case 3:u===a&&(r=i.pop(),a=null);break}}return!s&&!o},D$=Wr,Q1=ED,N$=/^\s*(?:async\s*)?(?:\([^)]*?\)|[\w$_]+)\s*(?::[^=]+)?=>|^\s*(?:async\s+)?function(?:\s+[\w$]+)?\s*\(/,SD=n=>N$.test(wD(n)),F$=Wr,CD=SD;function k$(n,t,r=t.length){return AD({offset:n.offset,line:n.line,column:n.column},t,r)}function AD(n,t,r=t.length){let i=0,s=-1;for(let o=0;o<r;o++)t.charCodeAt(o)===10&&(i++,s=o);return n.offset+=r,n.line+=i,n.column=s===-1?n.column+r:r-s,n}function M$(n,t){if(!n)throw new Error(t||"unexpected compiler condition")}function Ai(n,t,r=!1){for(let i=0;i<n.props.length;i++){const s=n.props[i];if(s.type===7&&(r||s.exp)&&(Bt(t)?s.name===t:t.test(s.name)))return s}}function _f(n,t,r=!1,i=!1){for(let s=0;s<n.props.length;s++){const o=n.props[s];if(o.type===6){if(r)continue;if(o.name===t&&(o.value||i))return o}else if(o.name==="bind"&&(o.exp||i)&&xa(o.arg,t))return o}}function xa(n,t){return!!(n&&Ni(n)&&n.content===t)}function TD(n){return n.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Gd(n){return n.type===5||n.type===2}function hy(n){return n.type===7&&n.name==="pre"}function eb(n){return n.type===7&&n.name==="slot"}function oc(n){return n.type===1&&n.tagType===3}function Bh(n){return n.type===1&&n.tagType===2}const O$=new Set([rc,_c]);function ID(n,t=[]){if(n&&!Bt(n)&&n.type===14){const r=n.callee;if(!Bt(r)&&O$.has(r))return ID(n.arguments[0],t.concat(n))}return[n,t]}function Uh(n,t,r){let i,s=n.type===13?n.props:n.arguments[2],o=[],a;if(s&&!Bt(s)&&s.type===14){const l=ID(s);s=l[0],o=l[1],a=o[o.length-1]}if(s==null||Bt(s))i=ls([t]);else if(s.type===14){const l=s.arguments[0];!Bt(l)&&l.type===15?TE(t,l)||l.properties.unshift(t):s.callee===Km?i=Tr(r.helper(Ph),[ls([t]),s]):s.arguments.unshift(ls([t])),!i&&(i=s)}else s.type===15?(TE(t,s)||s.properties.unshift(t),i=s):(i=Tr(r.helper(Ph),[ls([t]),s]),a&&a.callee===_c&&(a=o[o.length-2]));n.type===13?a?a.arguments[0]=i:n.props=i:a?a.arguments[0]=i:n.arguments[2]=i}function TE(n,t){let r=!1;if(n.key.type===4){const i=n.key.content;r=t.properties.some(s=>s.key.type===4&&s.key.content===i)}return r}function ac(n,t){return`_${t}_${n.replace(/[^\w]/g,(r,i)=>r==="-"?"_":n.charCodeAt(i).toString())}`}function Rs(n,t){if(!n||Object.keys(t).length===0)return!1;switch(n.type){case 1:for(let r=0;r<n.props.length;r++){const i=n.props[r];if(i.type===7&&(Rs(i.arg,t)||Rs(i.exp,t)))return!0}return n.children.some(r=>Rs(r,t));case 11:return Rs(n.source,t)?!0:n.children.some(r=>Rs(r,t));case 9:return n.branches.some(r=>Rs(r,t));case 10:return Rs(n.condition,t)?!0:n.children.some(r=>Rs(r,t));case 4:return!n.isStatic&&xf(n.content)&&!!t[n.content];case 8:return n.children.some(r=>En(r)&&Rs(r,t));case 5:case 12:return Rs(n.content,t);case 2:case 3:case 20:return!1;default:return!1}}function DD(n){return n.type===14&&n.callee===Jm?n.arguments[1].returns:n}const ND=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,FD={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:pl,isPreTag:pl,isIgnoreNewlineTag:pl,isCustomElement:pl,onError:K1,onWarn:vD,comments:!1,prefixIdentifiers:!1};let Tn=FD,Vh=null,$o="",ii=null,dn=null,Bi="",Do=-1,sl=-1,tb=0,ga=!1,fy=null;const Qn=[],yr=new c$(Qn,{onerr:Ao,ontext(n,t){id(Yr(n,t),n,t)},ontextentity(n,t,r){id(n,t,r)},oninterpolation(n,t){if(ga)return id(Yr(n,t),n,t);let r=n+yr.delimiterOpen.length,i=t-yr.delimiterClose.length;for(;os($o.charCodeAt(r));)r++;for(;os($o.charCodeAt(i-1));)i--;let s=Yr(r,i);s.includes("&")&&(s=Tn.decodeEntities(s,!1)),dy({type:5,content:Wd(s,!1,wr(r,i)),loc:wr(n,t)})},onopentagname(n,t){const r=Yr(n,t);ii={type:1,tag:r,ns:Tn.getNamespace(r,Qn[0],Tn.ns),tagType:0,props:[],children:[],loc:wr(n-1,t),codegenNode:void 0}},onopentagend(n){DE(n)},onclosetag(n,t){const r=Yr(n,t);if(!Tn.isVoidTag(r)){let i=!1;for(let s=0;s<Qn.length;s++)if(Qn[s].tag.toLowerCase()===r.toLowerCase()){i=!0,s>0&&Ao(24,Qn[0].loc.start.offset);for(let a=0;a<=s;a++){const l=Qn.shift();Hd(l,t,a<s)}break}i||Ao(23,kD(n,60))}},onselfclosingtag(n){const t=ii.tag;ii.isSelfClosing=!0,DE(n),Qn[0]&&Qn[0].tag===t&&Hd(Qn.shift(),n)},onattribname(n,t){dn={type:6,name:Yr(n,t),nameLoc:wr(n,t),value:void 0,loc:wr(n)}},ondirname(n,t){const r=Yr(n,t),i=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!ga&&i===""&&Ao(26,n),ga||i==="")dn={type:6,name:r,nameLoc:wr(n,t),value:void 0,loc:wr(n)};else if(dn={type:7,name:i,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[Yt("prop")]:[],loc:wr(n)},i==="pre"){ga=yr.inVPre=!0,fy=ii;const s=ii.props;for(let o=0;o<s.length;o++)s[o].type===7&&(s[o]=H$(s[o]))}},ondirarg(n,t){if(n===t)return;const r=Yr(n,t);if(ga&&!hy(dn))dn.name+=r,vl(dn.nameLoc,t);else{const i=r[0]!=="[";dn.arg=Wd(i?r:r.slice(1,-1),i,wr(n,t),i?3:0)}},ondirmodifier(n,t){const r=Yr(n,t);if(ga&&!hy(dn))dn.name+="."+r,vl(dn.nameLoc,t);else if(dn.name==="slot"){const i=dn.arg;i&&(i.content+="."+r,vl(i.loc,t))}else{const i=Yt(r,!0,wr(n,t));dn.modifiers.push(i)}},onattribdata(n,t){Bi+=Yr(n,t),Do<0&&(Do=n),sl=t},onattribentity(n,t,r){Bi+=n,Do<0&&(Do=t),sl=r},onattribnameend(n){const t=dn.loc.start.offset,r=Yr(t,n);dn.type===7&&(dn.rawName=r),ii.props.some(i=>(i.type===7?i.rawName:i.name)===r)&&Ao(2,t)},onattribend(n,t){if(ii&&dn){if(vl(dn.loc,t),n!==0)if(Bi.includes("&")&&(Bi=Tn.decodeEntities(Bi,!0)),dn.type===6)dn.name==="class"&&(Bi=OD(Bi).trim()),n===1&&!Bi&&Ao(13,t),dn.value={type:2,content:Bi,loc:n===1?wr(Do,sl):wr(Do-1,sl+1)},yr.inSFCRoot&&ii.tag==="template"&&dn.name==="lang"&&Bi&&Bi!=="html"&&yr.enterRCDATA(Dp("</template"),0);else{let r=0;dn.exp=Wd(Bi,!1,wr(Do,sl),0,r),dn.name==="for"&&(dn.forParseResult=P$(dn.exp));let i=-1;dn.name==="bind"&&(i=dn.modifiers.findIndex(s=>s.content==="sync"))>-1&&sc("COMPILER_V_BIND_SYNC",Tn,dn.loc,dn.arg.loc.source)&&(dn.name="model",dn.modifiers.splice(i,1))}(dn.type!==7||dn.name!=="pre")&&ii.props.push(dn)}Bi="",Do=sl=-1},oncomment(n,t){Tn.comments&&dy({type:3,content:Yr(n,t),loc:wr(n-4,t+3)})},onend(){const n=$o.length;for(let t=0;t<Qn.length;t++)Hd(Qn[t],n-1),Ao(24,Qn[t].loc.start.offset)},oncdata(n,t){Qn[0].ns!==0?id(Yr(n,t),n,t):Ao(1,n-9)},onprocessinginstruction(n){(Qn[0]?Qn[0].ns:Tn.ns)===0&&Ao(21,n-1)}}),IE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,L$=/^\(|\)$/g;function P$(n){const t=n.loc,r=n.content,i=r.match(ND);if(!i)return;const[,s,o]=i,a=(f,d,p=!1)=>{const m=t.start.offset+d,g=m+f.length;return Wd(f,!1,wr(m,g),0,p?1:0)},l={source:a(o.trim(),r.indexOf(o,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let u=s.trim().replace(L$,"").trim();const h=s.indexOf(u),c=u.match(IE);if(c){u=u.replace(IE,"").trim();const f=c[1].trim();let d;if(f&&(d=r.indexOf(f,h+u.length),l.key=a(f,d,!0)),c[2]){const p=c[2].trim();p&&(l.index=a(p,r.indexOf(p,l.key?d+f.length:h+u.length),!0))}}return u&&(l.value=a(u,h,!0)),l}function Yr(n,t){return $o.slice(n,t)}function DE(n){yr.inSFCRoot&&(ii.innerLoc=wr(n+1,n+1)),dy(ii);const{tag:t,ns:r}=ii;r===0&&Tn.isPreTag(t)&&tb++,Tn.isVoidTag(t)?Hd(ii,n):(Qn.unshift(ii),(r===1||r===2)&&(yr.inXML=!0)),ii=null}function id(n,t,r){{const o=Qn[0]&&Qn[0].tag;o!=="script"&&o!=="style"&&n.includes("&")&&(n=Tn.decodeEntities(n,!1))}const i=Qn[0]||Vh,s=i.children[i.children.length-1];s&&s.type===2?(s.content+=n,vl(s.loc,r)):i.children.push({type:2,content:n,loc:wr(t,r)})}function Hd(n,t,r=!1){r?vl(n.loc,kD(t,60)):vl(n.loc,R$(t,62)+1),yr.inSFCRoot&&(n.children.length?n.innerLoc.end=ln({},n.children[n.children.length-1].loc.end):n.innerLoc.end=ln({},n.innerLoc.start),n.innerLoc.source=Yr(n.innerLoc.start.offset,n.innerLoc.end.offset));const{tag:i,ns:s,children:o}=n;if(ga||(i==="slot"?n.tagType=2:NE(n)?n.tagType=3:U$(n)&&(n.tagType=1)),yr.inRCDATA||(n.children=MD(o)),s===0&&Tn.isIgnoreNewlineTag(i)){const a=o[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}s===0&&Tn.isPreTag(i)&&tb--,fy===n&&(ga=yr.inVPre=!1,fy=null),yr.inXML&&(Qn[0]?Qn[0].ns:Tn.ns)===0&&(yr.inXML=!1);{const a=n.props;if(!yr.inSFCRoot&&Tl("COMPILER_NATIVE_TEMPLATE",Tn)&&n.tag==="template"&&!NE(n)){const u=Qn[0]||Vh,h=u.children.indexOf(n);u.children.splice(h,1,...n.children)}const l=a.find(u=>u.type===6&&u.name==="inline-template");l&&sc("COMPILER_INLINE_TEMPLATE",Tn,l.loc)&&n.children.length&&(l.value={type:2,content:Yr(n.children[0].loc.start.offset,n.children[n.children.length-1].loc.end.offset),loc:l.loc})}}function R$(n,t){let r=n;for(;$o.charCodeAt(r)!==t&&r<$o.length-1;)r++;return r}function kD(n,t){let r=n;for(;$o.charCodeAt(r)!==t&&r>=0;)r--;return r}const B$=new Set(["if","else","else-if","for","slot"]);function NE({tag:n,props:t}){if(n==="template"){for(let r=0;r<t.length;r++)if(t[r].type===7&&B$.has(t[r].name))return!0}return!1}function U$({tag:n,props:t}){if(Tn.isCustomElement(n))return!1;if(n==="component"||V$(n.charCodeAt(0))||Z1(n)||Tn.isBuiltInComponent&&Tn.isBuiltInComponent(n)||Tn.isNativeTag&&!Tn.isNativeTag(n))return!0;for(let r=0;r<t.length;r++){const i=t[r];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(sc("COMPILER_IS_ON_ELEMENT",Tn,i.loc))return!0}}else if(i.name==="bind"&&xa(i.arg,"is")&&sc("COMPILER_IS_ON_ELEMENT",Tn,i.loc))return!0}return!1}function V$(n){return n>64&&n<91}const $$=/\r\n/g;function MD(n){const t=Tn.whitespace!=="preserve";let r=!1;for(let i=0;i<n.length;i++){const s=n[i];if(s.type===2)if(tb)s.content=s.content.replace($$,`
`);else if(j$(s.content)){const o=n[i-1]&&n[i-1].type,a=n[i+1]&&n[i+1].type;!o||!a||t&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&z$(s.content)))?(r=!0,n[i]=null):s.content=" "}else t&&(s.content=OD(s.content))}return r?n.filter(Boolean):n}function j$(n){for(let t=0;t<n.length;t++)if(!os(n.charCodeAt(t)))return!1;return!0}function z$(n){for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);if(r===10||r===13)return!0}return!1}function OD(n){let t="",r=!1;for(let i=0;i<n.length;i++)os(n.charCodeAt(i))?r||(t+=" ",r=!0):(t+=n[i],r=!1);return t}function dy(n){(Qn[0]||Vh).children.push(n)}function wr(n,t){return{start:yr.getPos(n),end:t==null?t:yr.getPos(t),source:t==null?t:Yr(n,t)}}function G$(n){return wr(n.start.offset,n.end.offset)}function vl(n,t){n.end=yr.getPos(t),n.source=Yr(n.start.offset,t)}function H$(n){const t={type:6,name:n.rawName,nameLoc:wr(n.loc.start.offset,n.loc.start.offset+n.rawName.length),value:void 0,loc:n.loc};if(n.exp){const r=n.exp.loc;r.end.offset<n.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),t.value={type:2,content:n.exp.content,loc:r}}return t}function Wd(n,t=!1,r,i=0,s=0){return Yt(n,t,r,i)}function Ao(n,t,r){Tn.onError(Yn(n,wr(t,t)))}function W$(){yr.reset(),ii=null,dn=null,Bi="",Do=-1,sl=-1,Qn.length=0}function nb(n,t){if(W$(),$o=n,Tn=ln({},FD),t){let s;for(s in t)t[s]!=null&&(Tn[s]=t[s])}yr.mode=Tn.parseMode==="html"?1:Tn.parseMode==="sfc"?2:0,yr.inXML=Tn.ns===1||Tn.ns===2;const r=t&&t.delimiters;r&&(yr.delimiterOpen=Dp(r[0]),yr.delimiterClose=Dp(r[1]));const i=Vh=pD([],n);return yr.parse($o),i.loc=wr(0,n.length),i.children=MD(i.children),Vh=null,i}function X$(n,t){Xd(n,void 0,t,!!LD(n))}function LD(n){const t=n.children.filter(r=>r.type!==3);return t.length===1&&t[0].type===1&&!Bh(t[0])?t[0]:null}function Xd(n,t,r,i=!1,s=!1){const{children:o}=n,a=[];for(let c=0;c<o.length;c++){const f=o[c];if(f.type===1&&f.tagType===0){const d=i?0:Hi(f,r);if(d>0){if(d>=2){f.codegenNode.patchFlag=-1,a.push(f);continue}}else{const p=f.codegenNode;if(p.type===13){const m=p.patchFlag;if((m===void 0||m===512||m===1)&&RD(f,r)>=2){const g=BD(f);g&&(p.props=r.hoist(g))}p.dynamicProps&&(p.dynamicProps=r.hoist(p.dynamicProps))}}}else if(f.type===12&&(i?0:Hi(f,r))>=2){f.codegenNode.type===14&&f.codegenNode.arguments.length>0&&f.codegenNode.arguments.push("-1"),a.push(f);continue}if(f.type===1){const d=f.tagType===1;d&&r.scopes.vSlot++,Xd(f,n,r,!1,s),d&&r.scopes.vSlot--}else if(f.type===11)Xd(f,n,r,f.children.length===1,!0);else if(f.type===9)for(let d=0;d<f.branches.length;d++)Xd(f.branches[d],n,r,f.branches[d].children.length===1,s)}let l=!1;if(a.length===o.length&&n.type===1){if(n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&dt(n.codegenNode.children))n.codegenNode.children=u(Da(n.codegenNode.children)),l=!0;else if(n.tagType===1&&n.codegenNode&&n.codegenNode.type===13&&n.codegenNode.children&&!dt(n.codegenNode.children)&&n.codegenNode.children.type===15){const c=h(n.codegenNode,"default");c&&(c.returns=u(Da(c.returns)),l=!0)}else if(n.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!dt(t.codegenNode.children)&&t.codegenNode.children.type===15){const c=Ai(n,"slot",!0),f=c&&c.arg&&h(t.codegenNode,c.arg);f&&(f.returns=u(Da(f.returns)),l=!0)}}if(!l)for(const c of a)c.codegenNode=r.cache(c.codegenNode);function u(c){const f=r.cache(c);return f.needArraySpread=!0,f}function h(c,f){if(c.children&&!dt(c.children)&&c.children.type===15){const d=c.children.properties.find(p=>p.key===f||p.key.content===f);return d&&d.value}}a.length&&r.transformHoist&&r.transformHoist(o,r,n)}function Hi(n,t){const{constantCache:r}=t;switch(n.type){case 1:if(n.tagType!==0)return 0;const i=r.get(n);if(i!==void 0)return i;const s=n.codegenNode;if(s.type!==13||s.isBlock&&n.tag!=="svg"&&n.tag!=="foreignObject"&&n.tag!=="math")return 0;if(s.patchFlag===void 0){let a=3;const l=RD(n,t);if(l===0)return r.set(n,0),0;l<a&&(a=l);for(let u=0;u<n.children.length;u++){const h=Hi(n.children[u],t);if(h===0)return r.set(n,0),0;h<a&&(a=h)}if(a>1)for(let u=0;u<n.props.length;u++){const h=n.props[u];if(h.type===7&&h.name==="bind"&&h.exp){const c=Hi(h.exp,t);if(c===0)return r.set(n,0),0;c<a&&(a=c)}}if(s.isBlock){for(let u=0;u<n.props.length;u++)if(n.props[u].type===7)return r.set(n,0),0;t.removeHelper(ka),t.removeHelper(Vl(t.inSSR,s.isComponent)),s.isBlock=!1,t.helper(Ul(t.inSSR,s.isComponent))}return r.set(n,a),a}else return r.set(n,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Hi(n.content,t);case 4:return n.constType;case 8:let o=3;for(let a=0;a<n.children.length;a++){const l=n.children[a];if(Bt(l)||ki(l))continue;const u=Hi(l,t);if(u===0)return 0;u<o&&(o=u)}return o;case 20:return 2;default:return 0}}const q$=new Set([qm,Ym,rc,_c]);function PD(n,t){if(n.type===14&&!Bt(n.callee)&&q$.has(n.callee)){const r=n.arguments[0];if(r.type===4)return Hi(r,t);if(r.type===14)return PD(r,t)}return 0}function RD(n,t){let r=3;const i=BD(n);if(i&&i.type===15){const{properties:s}=i;for(let o=0;o<s.length;o++){const{key:a,value:l}=s[o],u=Hi(a,t);if(u===0)return u;u<r&&(r=u);let h;if(l.type===4?h=Hi(l,t):l.type===14?h=PD(l,t):h=0,h===0)return h;h<r&&(r=h)}}return r}function BD(n){const t=n.codegenNode;if(t.type===13)return t.props}function UD(n,{filename:t="",prefixIdentifiers:r=!1,hoistStatic:i=!1,hmr:s=!1,cacheHandlers:o=!1,nodeTransforms:a=[],directiveTransforms:l={},transformHoist:u=null,isBuiltInComponent:h=Wr,isCustomElement:c=Wr,expressionPlugins:f=[],scopeId:d=null,slotted:p=!0,ssr:m=!1,inSSR:g=!1,ssrCssVars:v="",bindingMetadata:E=un,inline:y=!1,isTS:x=!1,onError:b=K1,onWarn:w=vD,compatConfig:S}){const _=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),T={filename:t,selfName:_&&Va(qn(_[1])),prefixIdentifiers:r,hoistStatic:i,hmr:s,cacheHandlers:o,nodeTransforms:a,directiveTransforms:l,transformHoist:u,isBuiltInComponent:h,isCustomElement:c,expressionPlugins:f,scopeId:d,slotted:p,ssr:m,inSSR:g,ssrCssVars:v,bindingMetadata:E,inline:y,isTS:x,onError:b,onWarn:w,compatConfig:S,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(C){const F=T.helpers.get(C)||0;return T.helpers.set(C,F+1),C},removeHelper(C){const F=T.helpers.get(C);if(F){const k=F-1;k?T.helpers.set(C,k):T.helpers.delete(C)}},helperString(C){return`_${Rl[T.helper(C)]}`},replaceNode(C){T.parent.children[T.childIndex]=T.currentNode=C},removeNode(C){const F=T.parent.children,k=C?F.indexOf(C):T.currentNode?T.childIndex:-1;!C||C===T.currentNode?(T.currentNode=null,T.onNodeRemoved()):T.childIndex>k&&(T.childIndex--,T.onNodeRemoved()),T.parent.children.splice(k,1)},onNodeRemoved:Wr,addIdentifiers(C){},removeIdentifiers(C){},hoist(C){Bt(C)&&(C=Yt(C)),T.hoists.push(C);const F=Yt(`_hoisted_${T.hoists.length}`,!1,C.loc,2);return F.hoisted=C,F},cache(C,F=!1,k=!1){const D=mD(T.cached.length,C,F,k);return T.cached.push(D),D}};return T.filters=new Set,T}function VD(n,t){const r=UD(n,t);wf(n,r),t.hoistStatic&&X$(n,r),t.ssr||Y$(n,r),n.helpers=new Set([...r.helpers.keys()]),n.components=[...r.components],n.directives=[...r.directives],n.imports=r.imports,n.hoists=r.hoists,n.temps=r.temps,n.cached=r.cached,n.transformed=!0,n.filters=[...r.filters]}function Y$(n,t){const{helper:r}=t,{children:i}=n;if(i.length===1){const s=LD(n);if(s&&s.codegenNode){const o=s.codegenNode;o.type===13&&Qm(o,t),n.codegenNode=o}else n.codegenNode=i[0]}else if(i.length>1){let s=64;n.codegenNode=ic(t,r(nc),void 0,n.children,s,void 0,void 0,!0,void 0,!1)}}function K$(n,t){let r=0;const i=()=>{r--};for(;r<n.children.length;r++){const s=n.children[r];Bt(s)||(t.grandParent=t.parent,t.parent=n,t.childIndex=r,t.onNodeRemoved=i,wf(s,t))}}function wf(n,t){t.currentNode=n;const{nodeTransforms:r}=t,i=[];for(let o=0;o<r.length;o++){const a=r[o](n,t);if(a&&(dt(a)?i.push(...a):i.push(a)),t.currentNode)n=t.currentNode;else return}switch(n.type){case 3:t.ssr||t.helper(xc);break;case 5:t.ssr||t.helper(bf);break;case 9:for(let o=0;o<n.branches.length;o++)wf(n.branches[o],t);break;case 10:case 11:case 1:case 0:K$(n,t);break}t.currentNode=n;let s=i.length;for(;s--;)i[s]()}function rb(n,t){const r=Bt(n)?i=>i===n:i=>n.test(i);return(i,s)=>{if(i.type===1){const{props:o}=i;if(i.tagType===3&&o.some(eb))return;const a=[];for(let l=0;l<o.length;l++){const u=o[l];if(u.type===7&&r(u.name)){o.splice(l,1),l--;const h=t(i,u,s);h&&a.push(h)}}return a}}}const eg="/*@__PURE__*/",$D=n=>`${Rl[n]}: _${Rl[n]}`;function Z$(n,{mode:t="function",prefixIdentifiers:r=t==="module",sourceMap:i=!1,filename:s="template.vue.html",scopeId:o=null,optimizeImports:a=!1,runtimeGlobalName:l="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:h="vue/server-renderer",ssr:c=!1,isTS:f=!1,inSSR:d=!1}){const p={mode:t,prefixIdentifiers:r,sourceMap:i,filename:s,scopeId:o,optimizeImports:a,runtimeGlobalName:l,runtimeModuleName:u,ssrRuntimeModuleName:h,ssr:c,isTS:f,inSSR:d,source:n.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${Rl[g]}`},push(g,v=-2,E){p.code+=g},indent(){m(++p.indentLevel)},deindent(g=!1){g?--p.indentLevel:m(--p.indentLevel)},newline(){m(p.indentLevel)}};function m(g){p.push(`
`+"  ".repeat(g),0)}return p}function jD(n,t={}){const r=Z$(n,t);t.onContextCreated&&t.onContextCreated(r);const{mode:i,push:s,prefixIdentifiers:o,indent:a,deindent:l,newline:u,scopeId:h,ssr:c}=r,f=Array.from(n.helpers),d=f.length>0,p=!o&&i!=="module";J$(n,r);const g=c?"ssrRender":"render",E=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${g}(${E}) {`),a(),p&&(s("with (_ctx) {"),a(),d&&(s(`const { ${f.map($D).join(", ")} } = _Vue
`,-1),u())),n.components.length&&(F0(n.components,"component",r),(n.directives.length||n.temps>0)&&u()),n.directives.length&&(F0(n.directives,"directive",r),n.temps>0&&u()),n.filters&&n.filters.length&&(u(),F0(n.filters,"filter",r),u()),n.temps>0){s("let ");for(let y=0;y<n.temps;y++)s(`${y>0?", ":""}_temp${y}`)}return(n.components.length||n.directives.length||n.temps)&&(s(`
`,0),u()),c||s("return "),n.codegenNode?mi(n.codegenNode,r):s("null"),p&&(l(),s("}")),l(),s("}"),{ast:n,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function J$(n,t){const{ssr:r,prefixIdentifiers:i,push:s,newline:o,runtimeModuleName:a,runtimeGlobalName:l,ssrRuntimeModuleName:u}=t,h=l,c=Array.from(n.helpers);if(c.length>0&&(s(`const _Vue = ${h}
`,-1),n.hoists.length)){const f=[Um,Vm,xc,$m,W1].filter(d=>c.includes(d)).map($D).join(", ");s(`const { ${f} } = _Vue
`,-1)}Q$(n.hoists,t),o(),s("return ")}function F0(n,t,{helper:r,push:i,newline:s,isTS:o}){const a=r(t==="filter"?Hm:t==="component"?jm:Gm);for(let l=0;l<n.length;l++){let u=n[l];const h=u.endsWith("__self");h&&(u=u.slice(0,-6)),i(`const ${ac(u,t)} = ${a}(${JSON.stringify(u)}${h?", true":""})${o?"!":""}`),l<n.length-1&&s()}}function Q$(n,t){if(!n.length)return;t.pure=!0;const{push:r,newline:i}=t;i();for(let s=0;s<n.length;s++){const o=n[s];o&&(r(`const _hoisted_${s+1} = `),mi(o,t),i())}t.pure=!1}function ib(n,t){const r=n.length>3||!1;t.push("["),r&&t.indent(),Ef(n,t,r),r&&t.deindent(),t.push("]")}function Ef(n,t,r=!1,i=!0){const{push:s,newline:o}=t;for(let a=0;a<n.length;a++){const l=n[a];Bt(l)?s(l,-3):dt(l)?ib(l,t):mi(l,t),a<n.length-1&&(r?(i&&s(","),o()):i&&s(", "))}}function mi(n,t){if(Bt(n)){t.push(n,-3);return}if(ki(n)){t.push(t.helper(n));return}switch(n.type){case 1:case 9:case 11:mi(n.codegenNode,t);break;case 2:ej(n,t);break;case 4:zD(n,t);break;case 5:tj(n,t);break;case 12:mi(n.codegenNode,t);break;case 8:GD(n,t);break;case 3:rj(n,t);break;case 13:ij(n,t);break;case 14:oj(n,t);break;case 15:aj(n,t);break;case 17:lj(n,t);break;case 18:uj(n,t);break;case 19:cj(n,t);break;case 20:hj(n,t);break;case 21:Ef(n.body,t,!0,!1);break}}function ej(n,t){t.push(JSON.stringify(n.content),-3,n)}function zD(n,t){const{content:r,isStatic:i}=n;t.push(i?JSON.stringify(r):r,-3,n)}function tj(n,t){const{push:r,helper:i,pure:s}=t;s&&r(eg),r(`${i(bf)}(`),mi(n.content,t),r(")")}function GD(n,t){for(let r=0;r<n.children.length;r++){const i=n.children[r];Bt(i)?t.push(i,-3):mi(i,t)}}function nj(n,t){const{push:r}=t;if(n.type===8)r("["),GD(n,t),r("]");else if(n.isStatic){const i=xf(n.content)?n.content:JSON.stringify(n.content);r(i,-2,n)}else r(`[${n.content}]`,-3,n)}function rj(n,t){const{push:r,helper:i,pure:s}=t;s&&r(eg),r(`${i(xc)}(${JSON.stringify(n.content)})`,-3,n)}function ij(n,t){const{push:r,helper:i,pure:s}=t,{tag:o,props:a,children:l,patchFlag:u,dynamicProps:h,directives:c,isBlock:f,disableTracking:d,isComponent:p}=n;let m;u&&(m=String(u)),c&&r(i(Wm)+"("),f&&r(`(${i(ka)}(${d?"true":""}), `),s&&r(eg);const g=f?Vl(t.inSSR,p):Ul(t.inSSR,p);r(i(g)+"(",-2,n),Ef(sj([o,a,l,m,h]),t),r(")"),f&&r(")"),c&&(r(", "),mi(c,t),r(")"))}function sj(n){let t=n.length;for(;t--&&n[t]==null;);return n.slice(0,t+1).map(r=>r||"null")}function oj(n,t){const{push:r,helper:i,pure:s}=t,o=Bt(n.callee)?n.callee:i(n.callee);s&&r(eg),r(o+"(",-2,n),Ef(n.arguments,t),r(")")}function aj(n,t){const{push:r,indent:i,deindent:s,newline:o}=t,{properties:a}=n;if(!a.length){r("{}",-2,n);return}const l=a.length>1||!1;r(l?"{":"{ "),l&&i();for(let u=0;u<a.length;u++){const{key:h,value:c}=a[u];nj(h,t),r(": "),mi(c,t),u<a.length-1&&(r(","),o())}l&&s(),r(l?"}":" }")}function lj(n,t){ib(n.elements,t)}function uj(n,t){const{push:r,indent:i,deindent:s}=t,{params:o,returns:a,body:l,newline:u,isSlot:h}=n;h&&r(`_${Rl[Zm]}(`),r("(",-2,n),dt(o)?Ef(o,t):o&&mi(o,t),r(") => "),(u||l)&&(r("{"),i()),a?(u&&r("return "),dt(a)?ib(a,t):mi(a,t)):l&&mi(l,t),(u||l)&&(s(),r("}")),h&&(n.isNonScopedSlot&&r(", undefined, true"),r(")"))}function cj(n,t){const{test:r,consequent:i,alternate:s,newline:o}=n,{push:a,indent:l,deindent:u,newline:h}=t;if(r.type===4){const f=!xf(r.content);f&&a("("),zD(r,t),f&&a(")")}else a("("),mi(r,t),a(")");o&&l(),t.indentLevel++,o||a(" "),a("? "),mi(i,t),t.indentLevel--,o&&h(),o||a(" "),a(": ");const c=s.type===19;c||t.indentLevel++,mi(s,t),c||t.indentLevel--,o&&u(!0)}function hj(n,t){const{push:r,helper:i,indent:s,deindent:o,newline:a}=t,{needPauseTracking:l,needArraySpread:u}=n;u&&r("[...("),r(`_cache[${n.index}] || (`),l&&(s(),r(`${i(Rh)}(-1`),n.inVOnce&&r(", true"),r("),"),a(),r("(")),r(`_cache[${n.index}] = `),mi(n.value,t),l&&(r(`).cacheIndex = ${n.index},`),a(),r(`${i(Rh)}(1),`),a(),r(`_cache[${n.index}]`),o()),r(")"),u&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const fj=(n,t)=>{if(n.type===5)n.content=qd(n.content,t);else if(n.type===1){const r=Ai(n,"memo");for(let i=0;i<n.props.length;i++){const s=n.props[i];if(s.type===7&&s.name!=="for"){const o=s.exp,a=s.arg;o&&o.type===4&&!(s.name==="on"&&a)&&!(r&&a&&a.type===4&&a.content==="key")&&(s.exp=qd(o,t,s.name==="slot")),a&&a.type===4&&!a.isStatic&&(s.arg=qd(a,t))}}}};function qd(n,t,r=!1,i=!1,s=Object.create(t.identifiers)){return n}function HD(n){return Bt(n)?n:n.type===4?n.content:n.children.map(HD).join("")}const dj=rb(/^(?:if|else|else-if)$/,(n,t,r)=>WD(n,t,r,(i,s,o)=>{const a=r.parent.children;let l=a.indexOf(i),u=0;for(;l-->=0;){const h=a[l];h&&h.type===9&&(u+=h.branches.length)}return()=>{if(o)i.codegenNode=kE(s,u,r);else{const h=pj(i.codegenNode);h.alternate=kE(s,u+i.branches.length-1,r)}}}));function WD(n,t,r,i){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const s=t.exp?t.exp.loc:n.loc;r.onError(Yn(28,t.loc)),t.exp=Yt("true",!1,s)}if(t.name==="if"){const s=FE(n,t),o={type:9,loc:G$(n.loc),branches:[s]};if(r.replaceNode(o),i)return i(o,s,!0)}else{const s=r.parent.children;let o=s.indexOf(n);for(;o-->=-1;){const a=s[o];if(a&&a.type===3){r.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){r.removeNode(a);continue}if(a&&a.type===9){(t.name==="else-if"||t.name==="else")&&a.branches[a.branches.length-1].condition===void 0&&r.onError(Yn(30,n.loc)),r.removeNode();const l=FE(n,t);a.branches.push(l);const u=i&&i(a,l,!1);wf(l,r),u&&u(),r.currentNode=null}else r.onError(Yn(30,n.loc));break}}}function FE(n,t){const r=n.tagType===3;return{type:10,loc:n.loc,condition:t.name==="else"?void 0:t.exp,children:r&&!Ai(n,"for")?n.children:[n],userKey:_f(n,"key"),isTemplateIf:r}}function kE(n,t,r){return n.condition?Ip(n.condition,ME(n,t,r),Tr(r.helper(xc),['""',"true"])):ME(n,t,r)}function ME(n,t,r){const{helper:i}=r,s=Sr("key",Yt(`${t}`,!1,Ur,2)),{children:o}=n,a=o[0];if(o.length!==1||a.type!==1)if(o.length===1&&a.type===11){const u=a.codegenNode;return Uh(u,s,r),u}else return ic(r,i(nc),ls([s]),o,64,void 0,void 0,!0,!1,!1,n.loc);else{const u=a.codegenNode,h=DD(u);return h.type===13&&Qm(h,r),Uh(h,s,r),u}}function pj(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}const mj=rb("for",(n,t,r)=>{const{helper:i,removeHelper:s}=r;return XD(n,t,r,o=>{const a=Tr(i(Xm),[o.source]),l=oc(n),u=Ai(n,"memo"),h=_f(n,"key",!1,!0);h&&h.type;let c=h&&(h.type===6?h.value?Yt(h.value.content,!0):void 0:h.exp);const f=h&&c?Sr("key",c):null,d=o.source.type===4&&o.source.constType>0,p=d?64:h?128:256;return o.codegenNode=ic(r,i(nc),void 0,a,p,void 0,void 0,!0,!d,!1,n.loc),()=>{let m;const{children:g}=o,v=g.length!==1||g[0].type!==1,E=Bh(n)?n:l&&n.children.length===1&&Bh(n.children[0])?n.children[0]:null;if(E?(m=E.codegenNode,l&&f&&Uh(m,f,r)):v?m=ic(r,i(nc),f?ls([f]):void 0,n.children,64,void 0,void 0,!0,void 0,!1):(m=g[0].codegenNode,l&&f&&Uh(m,f,r),m.isBlock!==!d&&(m.isBlock?(s(ka),s(Vl(r.inSSR,m.isComponent))):s(Ul(r.inSSR,m.isComponent))),m.isBlock=!d,m.isBlock?(i(ka),i(Vl(r.inSSR,m.isComponent))):i(Ul(r.inSSR,m.isComponent))),u){const y=Bl(Np(o.parseResult,[Yt("_cached")]));y.body=gD([Es(["const _memo = (",u.exp,")"]),Es(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${r.helperString(Y1)}(_cached, _memo)) return _cached`]),Es(["const _item = ",m]),Yt("_item.memo = _memo"),Yt("return _item")]),a.arguments.push(y,Yt("_cache"),Yt(String(r.cached.length))),r.cached.push(null)}else a.arguments.push(Bl(Np(o.parseResult),m,!0))}})});function XD(n,t,r,i){if(!t.exp){r.onError(Yn(31,t.loc));return}const s=t.forParseResult;if(!s){r.onError(Yn(32,t.loc));return}sb(s);const{addIdentifiers:o,removeIdentifiers:a,scopes:l}=r,{source:u,value:h,key:c,index:f}=s,d={type:11,loc:t.loc,source:u,valueAlias:h,keyAlias:c,objectIndexAlias:f,parseResult:s,children:oc(n)?n.children:[n]};r.replaceNode(d),l.vFor++;const p=i&&i(d);return()=>{l.vFor--,p&&p()}}function sb(n,t){n.finalized||(n.finalized=!0)}function Np({value:n,key:t,index:r},i=[]){return gj([n,t,r,...i])}function gj(n){let t=n.length;for(;t--&&!n[t];);return n.slice(0,t+1).map((r,i)=>r||Yt("_".repeat(i+1),!1))}const OE=Yt("undefined",!1),qD=(n,t)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){const r=Ai(n,"slot");if(r)return r.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},vj=(n,t)=>{let r;if(oc(n)&&n.props.some(eb)&&(r=Ai(n,"for"))){const i=r.forParseResult;if(i){sb(i);const{value:s,key:o,index:a}=i,{addIdentifiers:l,removeIdentifiers:u}=t;return s&&l(s),o&&l(o),a&&l(a),()=>{s&&u(s),o&&u(o),a&&u(a)}}}},yj=(n,t,r,i)=>Bl(n,r,!1,!0,r.length?r[0].loc:i);function YD(n,t,r=yj){t.helper(Zm);const{children:i,loc:s}=n,o=[],a=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const u=Ai(n,"slot",!0);if(u){const{arg:v,exp:E}=u;v&&!Ni(v)&&(l=!0),o.push(Sr(v||Yt("default",!0),r(E,void 0,i,s)))}let h=!1,c=!1;const f=[],d=new Set;let p=0;for(let v=0;v<i.length;v++){const E=i[v];let y;if(!oc(E)||!(y=Ai(E,"slot",!0))){E.type!==3&&f.push(E);continue}if(u){t.onError(Yn(37,y.loc));break}h=!0;const{children:x,loc:b}=E,{arg:w=Yt("default",!0),exp:S,loc:_}=y;let T;Ni(w)?T=w?w.content:"default":l=!0;const C=Ai(E,"for"),F=r(S,C,x,b);let k,D;if(k=Ai(E,"if"))l=!0,a.push(Ip(k.exp,sd(w,F,p++),OE));else if(D=Ai(E,/^else(?:-if)?$/,!0)){let N=v,M;for(;N--&&(M=i[N],!(M.type!==3&&py(M))););if(M&&oc(M)&&Ai(M,/^(?:else-)?if$/)){let U=a[a.length-1];for(;U.alternate.type===19;)U=U.alternate;U.alternate=D.exp?Ip(D.exp,sd(w,F,p++),OE):sd(w,F,p++)}else t.onError(Yn(30,D.loc))}else if(C){l=!0;const N=C.forParseResult;N?(sb(N),a.push(Tr(t.helper(Xm),[N.source,Bl(Np(N),sd(w,F),!0)]))):t.onError(Yn(32,C.loc))}else{if(T){if(d.has(T)){t.onError(Yn(38,_));continue}d.add(T),T==="default"&&(c=!0)}o.push(Sr(w,F))}}if(!u){const v=(E,y)=>{const x=r(E,void 0,y,s);return t.compatConfig&&(x.isNonScopedSlot=!0),Sr("default",x)};h?f.length&&f.some(E=>py(E))&&(c?t.onError(Yn(39,f[0].loc)):o.push(v(void 0,f))):o.push(v(void 0,i))}const m=l?2:Yd(n.children)?3:1;let g=ls(o.concat(Sr("_",Yt(m+"",!1))),s);return a.length&&(g=Tr(t.helper(q1),[g,Da(a)])),{slots:g,hasDynamicSlots:l}}function sd(n,t,r){const i=[Sr("name",n),Sr("fn",t)];return r!=null&&i.push(Sr("key",Yt(String(r),!0))),ls(i)}function Yd(n){for(let t=0;t<n.length;t++){const r=n[t];switch(r.type){case 1:if(r.tagType===2||Yd(r.children))return!0;break;case 9:if(Yd(r.branches))return!0;break;case 10:case 11:if(Yd(r.children))return!0;break}}return!1}function py(n){return n.type!==2&&n.type!==12?!0:n.type===2?!!n.content.trim():py(n.content)}const KD=new WeakMap,ZD=(n,t)=>function(){if(n=t.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;const{tag:i,props:s}=n,o=n.tagType===1;let a=o?JD(n,t):`"${i}"`;const l=En(a)&&a.callee===zm;let u,h,c=0,f,d,p,m=l||a===ju||a===Bm||!o&&(i==="svg"||i==="foreignObject"||i==="math");if(s.length>0){const g=ob(n,t,void 0,o,l);u=g.props,c=g.patchFlag,d=g.dynamicPropNames;const v=g.directives;p=v&&v.length?Da(v.map(E=>QD(E,t))):void 0,g.shouldUseBlock&&(m=!0)}if(n.children.length>0)if(a===Lh&&(m=!0,c|=1024),o&&a!==ju&&a!==Lh){const{slots:v,hasDynamicSlots:E}=YD(n,t);h=v,E&&(c|=1024)}else if(n.children.length===1&&a!==ju){const v=n.children[0],E=v.type,y=E===5||E===8;y&&Hi(v,t)===0&&(c|=1),y||E===2?h=v:h=n.children}else h=n.children;d&&d.length&&(f=xj(d)),n.codegenNode=ic(t,a,u,h,c===0?void 0:c,f,p,!!m,!1,o,n.loc)};function JD(n,t,r=!1){let{tag:i}=n;const s=my(i),o=_f(n,"is",!1,!0);if(o)if(s||Tl("COMPILER_IS_ON_ELEMENT",t)){let l;if(o.type===6?l=o.value&&Yt(o.value.content,!0):(l=o.exp,l||(l=Yt("is",!1,o.arg.loc))),l)return Tr(t.helper(zm),[l])}else o.type===6&&o.value.content.startsWith("vue:")&&(i=o.value.content.slice(4));const a=Z1(i)||t.isBuiltInComponent(i);return a?(r||t.helper(a),a):(t.helper(jm),t.components.add(i),ac(i,"component"))}function ob(n,t,r=n.props,i,s,o=!1){const{tag:a,loc:l,children:u}=n;let h=[];const c=[],f=[],d=u.length>0;let p=!1,m=0,g=!1,v=!1,E=!1,y=!1,x=!1,b=!1;const w=[],S=F=>{h.length&&(c.push(ls(LE(h),l)),h=[]),F&&c.push(F)},_=()=>{t.scopes.vFor>0&&h.push(Sr(Yt("ref_for",!0),Yt("true")))},T=({key:F,value:k})=>{if(Ni(F)){const D=F.content,N=Ba(D);if(N&&(!i||s)&&D.toLowerCase()!=="onclick"&&D!=="onUpdate:modelValue"&&!Vo(D)&&(y=!0),N&&Vo(D)&&(b=!0),N&&k.type===14&&(k=k.arguments[0]),k.type===20||(k.type===4||k.type===8)&&Hi(k,t)>0)return;D==="ref"?g=!0:D==="class"?v=!0:D==="style"?E=!0:D!=="key"&&!w.includes(D)&&w.push(D),i&&(D==="class"||D==="style")&&!w.includes(D)&&w.push(D)}else x=!0};for(let F=0;F<r.length;F++){const k=r[F];if(k.type===6){const{loc:D,name:N,nameLoc:M,value:U}=k;let B=!0;if(N==="ref"&&(g=!0,_()),N==="is"&&(my(a)||U&&U.content.startsWith("vue:")||Tl("COMPILER_IS_ON_ELEMENT",t)))continue;h.push(Sr(Yt(N,!0,M),Yt(U?U.content:"",B,U?U.loc:D)))}else{const{name:D,arg:N,exp:M,loc:U,modifiers:B}=k,W=D==="bind",Z=D==="on";if(D==="slot"){i||t.onError(Yn(40,U));continue}if(D==="once"||D==="memo"||D==="is"||W&&xa(N,"is")&&(my(a)||Tl("COMPILER_IS_ON_ELEMENT",t))||Z&&o)continue;if((W&&xa(N,"key")||Z&&d&&xa(N,"vue:before-update"))&&(p=!0),W&&xa(N,"ref")&&_(),!N&&(W||Z)){if(x=!0,M)if(W){if(S(),Tl("COMPILER_V_BIND_OBJECT_ORDER",t)){c.unshift(M);continue}_(),S(),c.push(M)}else S({type:14,loc:U,callee:t.helper(Km),arguments:i?[M]:[M,"true"]});else t.onError(Yn(W?34:35,U));continue}W&&B.some(Q=>Q.content==="prop")&&(m|=32);const fe=t.directiveTransforms[D];if(fe){const{props:Q,needRuntime:J}=fe(k,n,t);!o&&Q.forEach(T),Z&&N&&!Ni(N)?S(ls(Q,l)):h.push(...Q),J&&(f.push(k),ki(J)&&KD.set(k,J))}else lA(D)||(f.push(k),d&&(p=!0))}}let C;if(c.length?(S(),c.length>1?C=Tr(t.helper(Ph),c,l):C=c[0]):h.length&&(C=ls(LE(h),l)),x?m|=16:(v&&!i&&(m|=2),E&&!i&&(m|=4),w.length&&(m|=8),y&&(m|=32)),!p&&(m===0||m===32)&&(g||b||f.length>0)&&(m|=512),!t.inSSR&&C)switch(C.type){case 15:let F=-1,k=-1,D=!1;for(let U=0;U<C.properties.length;U++){const B=C.properties[U].key;Ni(B)?B.content==="class"?F=U:B.content==="style"&&(k=U):B.isHandlerKey||(D=!0)}const N=C.properties[F],M=C.properties[k];D?C=Tr(t.helper(rc),[C]):(N&&!Ni(N.value)&&(N.value=Tr(t.helper(qm),[N.value])),M&&(E||M.value.type===4&&M.value.content.trim()[0]==="["||M.value.type===17)&&(M.value=Tr(t.helper(Ym),[M.value])));break;case 14:break;default:C=Tr(t.helper(rc),[Tr(t.helper(_c),[C])]);break}return{props:C,directives:f,patchFlag:m,dynamicPropNames:w,shouldUseBlock:p}}function LE(n){const t=new Map,r=[];for(let i=0;i<n.length;i++){const s=n[i];if(s.key.type===8||!s.key.isStatic){r.push(s);continue}const o=s.key.content,a=t.get(o);a?(o==="style"||o==="class"||Ba(o))&&bj(a,s):(t.set(o,s),r.push(s))}return r}function bj(n,t){n.value.type===17?n.value.elements.push(t.value):n.value=Da([n.value,t.value],n.loc)}function QD(n,t){const r=[],i=KD.get(n);i?r.push(t.helperString(i)):(t.helper(Gm),t.directives.add(n.name),r.push(ac(n.name,"directive")));const{loc:s}=n;if(n.exp&&r.push(n.exp),n.arg&&(n.exp||r.push("void 0"),r.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||r.push("void 0"),r.push("void 0"));const o=Yt("true",!1,s);r.push(ls(n.modifiers.map(a=>Sr(a,o)),s))}return Da(r,n.loc)}function xj(n){let t="[";for(let r=0,i=n.length;r<i;r++)t+=JSON.stringify(n[r]),r<i-1&&(t+=", ");return t+"]"}function my(n){return n==="component"||n==="Component"}const _j=(n,t)=>{if(Bh(n)){const{children:r,loc:i}=n,{slotName:s,slotProps:o}=eN(n,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let l=2;o&&(a[2]=o,l=3),r.length&&(a[3]=Bl([],r,!1,!1,i),l=4),t.scopeId&&!t.slotted&&(l=5),a.splice(l),n.codegenNode=Tr(t.helper(X1),a,i)}};function eN(n,t){let r='"default"',i;const s=[];for(let o=0;o<n.props.length;o++){const a=n.props[o];if(a.type===6)a.value&&(a.name==="name"?r=JSON.stringify(a.value.content):(a.name=qn(a.name),s.push(a)));else if(a.name==="bind"&&xa(a.arg,"name")){if(a.exp)r=a.exp;else if(a.arg&&a.arg.type===4){const l=qn(a.arg.content);r=a.exp=Yt(l,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&Ni(a.arg)&&(a.arg.content=qn(a.arg.content)),s.push(a)}if(s.length>0){const{props:o,directives:a}=ob(n,t,s,!1,!1);i=o,a.length&&t.onError(Yn(36,a[0].loc))}return{slotName:r,slotProps:i}}const ab=(n,t,r,i)=>{const{loc:s,modifiers:o,arg:a}=n;!n.exp&&!o.length&&r.onError(Yn(35,s));let l;if(a.type===4)if(a.isStatic){let f=a.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const d=t.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?_l(qn(f)):`on:${f}`;l=Yt(d,!0,a.loc)}else l=Es([`${r.helperString(Tp)}(`,a,")"]);else l=a,l.children.unshift(`${r.helperString(Tp)}(`),l.children.push(")");let u=n.exp;u&&!u.content.trim()&&(u=void 0);let h=r.cacheHandlers&&!u&&!r.inVOnce;if(u){const f=Q1(u),d=!(f||CD(u)),p=u.content.includes(";");(d||h&&f)&&(u=Es([`${d?"$event":"(...args)"} => ${p?"{":"("}`,u,p?"}":")"]))}let c={props:[Sr(l,u||Yt("() => {}",!1,s))]};return i&&(c=i(c)),h&&(c.props[0].value=r.cache(c.props[0].value)),c.props.forEach(f=>f.key.isHandlerKey=!0),c},tN=(n,t,r)=>{const{modifiers:i,loc:s}=n,o=n.arg;let{exp:a}=n;return a&&a.type===4&&!a.content.trim()&&(a=void 0),o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=o.content?`${o.content} || ""`:'""'),i.some(l=>l.content==="camel")&&(o.type===4?o.isStatic?o.content=qn(o.content):o.content=`${r.helperString(Ap)}(${o.content})`:(o.children.unshift(`${r.helperString(Ap)}(`),o.children.push(")"))),r.inSSR||(i.some(l=>l.content==="prop")&&PE(o,"."),i.some(l=>l.content==="attr")&&PE(o,"^")),{props:[Sr(o,a)]}},PE=(n,t)=>{n.type===4?n.isStatic?n.content=t+n.content:n.content=`\`${t}\${${n.content}}\``:(n.children.unshift(`'${t}' + (`),n.children.push(")"))},wj=(n,t)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{const r=n.children;let i,s=!1;for(let o=0;o<r.length;o++){const a=r[o];if(Gd(a)){s=!0;for(let l=o+1;l<r.length;l++){const u=r[l];if(Gd(u))i||(i=r[o]=Es([a],a.loc)),i.children.push(" + ",u),r.splice(l,1),l--;else{i=void 0;break}}}}if(!(!s||r.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(o=>o.type===7&&!t.directiveTransforms[o.name])&&n.tag!=="template")))for(let o=0;o<r.length;o++){const a=r[o];if(Gd(a)||a.type===8){const l=[];(a.type!==2||a.content!==" ")&&l.push(a),!t.ssr&&Hi(a,t)===0&&l.push("1"),r[o]={type:12,content:a,loc:a.loc,codegenNode:Tr(t.helper($m),l)}}}}},RE=new WeakSet,Ej=(n,t)=>{if(n.type===1&&Ai(n,"once",!0))return RE.has(n)||t.inVOnce||t.inSSR?void 0:(RE.add(n),t.inVOnce=!0,t.helper(Rh),()=>{t.inVOnce=!1;const r=t.currentNode;r.codegenNode&&(r.codegenNode=t.cache(r.codegenNode,!0,!0))})},lb=(n,t,r)=>{const{exp:i,arg:s}=n;if(!i)return r.onError(Yn(41,n.loc)),od();const o=i.loc.source.trim(),a=i.type===4?i.content:o,l=r.bindingMetadata[o];if(l==="props"||l==="props-aliased")return r.onError(Yn(44,i.loc)),od();if(!a.trim()||!Q1(i))return r.onError(Yn(42,i.loc)),od();const u=s||Yt("modelValue",!0),h=s?Ni(s)?`onUpdate:${qn(s.content)}`:Es(['"onUpdate:" + ',s]):"onUpdate:modelValue";let c;const f=r.isTS?"($event: any)":"$event";c=Es([`${f} => ((`,i,") = $event)"]);const d=[Sr(u,n.exp),Sr(h,c)];if(n.modifiers.length&&t.tagType===1){const p=n.modifiers.map(g=>g.content).map(g=>(xf(g)?g:JSON.stringify(g))+": true").join(", "),m=s?Ni(s)?`${s.content}Modifiers`:Es([s,' + "Modifiers"']):"modelModifiers";d.push(Sr(m,Yt(`{ ${p} }`,!1,n.loc,2)))}return od(d)};function od(n=[]){return{props:n}}const Sj=/[\w).+\-_$\]]/,Cj=(n,t)=>{Tl("COMPILER_FILTERS",t)&&(n.type===5?Fp(n.content,t):n.type===1&&n.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&Fp(r.exp,t)}))};function Fp(n,t){if(n.type===4)BE(n,t);else for(let r=0;r<n.children.length;r++){const i=n.children[r];typeof i=="object"&&(i.type===4?BE(i,t):i.type===8?Fp(n,t):i.type===5&&Fp(i.content,t))}}function BE(n,t){const r=n.content;let i=!1,s=!1,o=!1,a=!1,l=0,u=0,h=0,c=0,f,d,p,m,g=[];for(p=0;p<r.length;p++)if(d=f,f=r.charCodeAt(p),i)f===39&&d!==92&&(i=!1);else if(s)f===34&&d!==92&&(s=!1);else if(o)f===96&&d!==92&&(o=!1);else if(a)f===47&&d!==92&&(a=!1);else if(f===124&&r.charCodeAt(p+1)!==124&&r.charCodeAt(p-1)!==124&&!l&&!u&&!h)m===void 0?(c=p+1,m=r.slice(0,p).trim()):v();else{switch(f){case 34:s=!0;break;case 39:i=!0;break;case 96:o=!0;break;case 40:h++;break;case 41:h--;break;case 91:u++;break;case 93:u--;break;case 123:l++;break;case 125:l--;break}if(f===47){let E=p-1,y;for(;E>=0&&(y=r.charAt(E),y===" ");E--);(!y||!Sj.test(y))&&(a=!0)}}m===void 0?m=r.slice(0,p).trim():c!==0&&v();function v(){g.push(r.slice(c,p).trim()),c=p+1}if(g.length){for(p=0;p<g.length;p++)m=Aj(m,g[p],t);n.content=m,n.ast=void 0}}function Aj(n,t,r){r.helper(Hm);const i=t.indexOf("(");if(i<0)return r.filters.add(t),`${ac(t,"filter")}(${n})`;{const s=t.slice(0,i),o=t.slice(i+1);return r.filters.add(s),`${ac(s,"filter")}(${n}${o!==")"?","+o:o}`}}const UE=new WeakSet,Tj=(n,t)=>{if(n.type===1){const r=Ai(n,"memo");return!r||UE.has(n)||t.inSSR?void 0:(UE.add(n),()=>{const i=n.codegenNode||t.currentNode.codegenNode;i&&i.type===13&&(n.tagType!==1&&Qm(i,t),n.codegenNode=Tr(t.helper(Jm),[r.exp,Bl(void 0,i),"_cache",String(t.cached.length)]),t.cached.push(null))})}},nN=(n,t)=>{if(n.type===1){for(const r of n.props)if(r.type===7&&r.name==="bind"&&!r.exp){const i=r.arg;if(i.type!==4||!i.isStatic)t.onError(Yn(52,i.loc)),r.exp=Yt("",!0,i.loc);else{const s=qn(i.content);(J1.test(s[0])||s[0]==="-")&&(r.exp=Yt(s,!1,i.loc))}}}};function rN(n){return[[nN,Ej,dj,Tj,mj,Cj,_j,ZD,qD,wj],{on:ab,bind:tN,model:lb}]}function iN(n,t={}){const r=t.onError||K1,i=t.mode==="module";t.prefixIdentifiers===!0?r(Yn(47)):i&&r(Yn(48));const s=!1;t.cacheHandlers&&r(Yn(49)),t.scopeId&&!i&&r(Yn(50));const o=ln({},t,{prefixIdentifiers:s}),a=Bt(n)?nb(n,o):n,[l,u]=rN();return VD(a,ln({},o,{nodeTransforms:[...l,...t.nodeTransforms||[]],directiveTransforms:ln({},u,t.directiveTransforms||{})})),jD(a,o)}const Ij={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},sN=()=>({props:[]});/**
* @vue/compiler-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ub=Symbol(""),cb=Symbol(""),hb=Symbol(""),fb=Symbol(""),kp=Symbol(""),db=Symbol(""),pb=Symbol(""),mb=Symbol(""),gb=Symbol(""),vb=Symbol("");dD({[ub]:"vModelRadio",[cb]:"vModelCheckbox",[hb]:"vModelText",[fb]:"vModelSelect",[kp]:"vModelDynamic",[db]:"withModifiers",[pb]:"withKeys",[mb]:"vShow",[gb]:"Transition",[vb]:"TransitionGroup"});let yu;function Dj(n,t=!1){return yu||(yu=document.createElement("div")),t?(yu.innerHTML=`<div foo="${n.replace(/"/g,"&quot;")}">`,yu.children[0].getAttribute("foo")):(yu.innerHTML=n,yu.textContent)}const yb={parseMode:"html",isVoidTag:pA,isNativeTag:n=>hA(n)||fA(n)||dA(n),isPreTag:n=>n==="pre",isIgnoreNewlineTag:n=>n==="pre"||n==="textarea",decodeEntities:Dj,isBuiltInComponent:n=>{if(n==="Transition"||n==="transition")return gb;if(n==="TransitionGroup"||n==="transition-group")return vb},getNamespace(n,t,r){let i=t?t.ns:r;if(t&&i===2)if(t.tag==="annotation-xml"){if(n==="svg")return 1;t.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&n!=="mglyph"&&n!=="malignmark"&&(i=0);else t&&i===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(i=0);if(i===0){if(n==="svg")return 1;if(n==="math")return 2}return i}},oN=n=>{n.type===1&&n.props.forEach((t,r)=>{t.type===6&&t.name==="style"&&t.value&&(n.props[r]={type:7,name:"bind",arg:Yt("style",!0,t.loc),exp:Nj(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Nj=(n,t)=>{const r=u1(n);return Yt(JSON.stringify(r),!1,t,3)};function jo(n,t){return Yn(n,t)}const Fj={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},kj={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},Mj=(n,t,r)=>{const{exp:i,loc:s}=n;return i||r.onError(jo(53,s)),t.children.length&&(r.onError(jo(54,s)),t.children.length=0),{props:[Sr(Yt("innerHTML",!0,s),i||Yt("",!0))]}},Oj=(n,t,r)=>{const{exp:i,loc:s}=n;return i||r.onError(jo(55,s)),t.children.length&&(r.onError(jo(56,s)),t.children.length=0),{props:[Sr(Yt("textContent",!0),i?Hi(i,r)>0?i:Tr(r.helperString(bf),[i],s):Yt("",!0))]}},Lj=(n,t,r)=>{const i=lb(n,t,r);if(!i.props.length||t.tagType===1)return i;n.arg&&r.onError(jo(58,n.arg.loc));const{tag:s}=t,o=r.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||o){let a=hb,l=!1;if(s==="input"||o){const u=_f(t,"type");if(u){if(u.type===7)a=kp;else if(u.value)switch(u.value.content){case"radio":a=ub;break;case"checkbox":a=cb;break;case"file":l=!0,r.onError(jo(59,n.loc));break}}else TD(t)&&(a=kp)}else s==="select"&&(a=fb);l||(i.needRuntime=r.helper(a))}else r.onError(jo(57,n.loc));return i.props=i.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),i},Pj=Xr("passive,once,capture"),Rj=Xr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Bj=Xr("left,right"),aN=Xr("onkeyup,onkeydown,onkeypress"),Uj=(n,t,r,i)=>{const s=[],o=[],a=[];for(let l=0;l<t.length;l++){const u=t[l].content;u==="native"&&sc("COMPILER_V_ON_NATIVE",r)||Pj(u)?a.push(u):Bj(u)?Ni(n)?aN(n.content.toLowerCase())?s.push(u):o.push(u):(s.push(u),o.push(u)):Rj(u)?o.push(u):s.push(u)}return{keyModifiers:s,nonKeyModifiers:o,eventOptionModifiers:a}},VE=(n,t)=>Ni(n)&&n.content.toLowerCase()==="onclick"?Yt(t,!0):n.type!==4?Es(["(",n,`) === "onClick" ? "${t}" : (`,n,")"]):n,Vj=(n,t,r)=>ab(n,t,r,i=>{const{modifiers:s}=n;if(!s.length)return i;let{key:o,value:a}=i.props[0];const{keyModifiers:l,nonKeyModifiers:u,eventOptionModifiers:h}=Uj(o,s,r,n.loc);if(u.includes("right")&&(o=VE(o,"onContextmenu")),u.includes("middle")&&(o=VE(o,"onMouseup")),u.length&&(a=Tr(r.helper(db),[a,JSON.stringify(u)])),l.length&&(!Ni(o)||aN(o.content.toLowerCase()))&&(a=Tr(r.helper(pb),[a,JSON.stringify(l)])),h.length){const c=h.map(Va).join("");o=Ni(o)?Yt(`${o.content}${c}`,!0):Es(["(",o,`) + "${c}"`])}return{props:[Sr(o,a)]}}),$j=(n,t,r)=>{const{exp:i,loc:s}=n;return i||r.onError(jo(61,s)),{props:[],needRuntime:r.helper(mb)}},jj=(n,t)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&t.removeNode()},lN=[oN],uN={cloak:sN,html:Mj,text:Oj,model:Lj,on:Vj,show:$j};function zj(n,t={}){return iN(n,ln({},yb,t,{nodeTransforms:[jj,...lN,...t.nodeTransforms||[]],directiveTransforms:ln({},uN,t.directiveTransforms||{}),transformHoist:null}))}function Gj(n,t={}){return nb(n,ln({},yb,t))}const Hj=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:z1,BindingTypes:Ij,CAMELIZE:Ap,CAPITALIZE:lD,CREATE_BLOCK:G1,CREATE_COMMENT:xc,CREATE_ELEMENT_BLOCK:H1,CREATE_ELEMENT_VNODE:Vm,CREATE_SLOTS:q1,CREATE_STATIC:W1,CREATE_TEXT:$m,CREATE_VNODE:Um,CompilerDeprecationTypes:h$,ConstantTypes:r$,DOMDirectiveTransforms:uN,DOMErrorCodes:Fj,DOMErrorMessages:kj,DOMNodeTransforms:lN,ElementTypes:n$,ErrorCodes:p$,FRAGMENT:nc,GUARD_REACTIVE_PROPS:_c,IS_MEMO_SAME:Y1,IS_REF:fD,KEEP_ALIVE:Lh,MERGE_PROPS:Ph,NORMALIZE_CLASS:qm,NORMALIZE_PROPS:rc,NORMALIZE_STYLE:Ym,Namespaces:e$,NodeTypes:t$,OPEN_BLOCK:ka,POP_SCOPE_ID:cD,PUSH_SCOPE_ID:uD,RENDER_LIST:Xm,RENDER_SLOT:X1,RESOLVE_COMPONENT:jm,RESOLVE_DIRECTIVE:Gm,RESOLVE_DYNAMIC_COMPONENT:zm,RESOLVE_FILTER:Hm,SET_BLOCK_TRACKING:Rh,SUSPENSE:Bm,TELEPORT:ju,TO_DISPLAY_STRING:bf,TO_HANDLERS:Km,TO_HANDLER_KEY:Tp,TRANSITION:gb,TRANSITION_GROUP:vb,TS_NODE_TYPES:xD,UNREF:hD,V_MODEL_CHECKBOX:cb,V_MODEL_DYNAMIC:kp,V_MODEL_RADIO:ub,V_MODEL_SELECT:fb,V_MODEL_TEXT:hb,V_ON_WITH_KEYS:pb,V_ON_WITH_MODIFIERS:db,V_SHOW:mb,WITH_CTX:Zm,WITH_DIRECTIVES:Wm,WITH_MEMO:Jm,advancePositionWithClone:k$,advancePositionWithMutation:AD,assert:M$,baseCompile:iN,baseParse:nb,buildDirectiveArgs:QD,buildProps:ob,buildSlots:YD,checkCompatEnabled:sc,compile:zj,convertToBlock:Qm,createArrayExpression:Da,createAssignmentExpression:a$,createBlockStatement:gD,createCacheExpression:mD,createCallExpression:Tr,createCompilerError:Yn,createCompoundExpression:Es,createConditionalExpression:Ip,createDOMCompilerError:jo,createForLoopParams:Np,createFunctionExpression:Bl,createIfStatement:o$,createInterpolation:i$,createObjectExpression:ls,createObjectProperty:Sr,createReturnStatement:u$,createRoot:pD,createSequenceExpression:l$,createSimpleExpression:Yt,createStructuralDirectiveTransform:rb,createTemplateLiteral:s$,createTransformContext:UD,createVNodeCall:ic,errorMessages:m$,extractIdentifiers:uo,findDir:Ai,findProp:_f,forAliasRE:ND,generate:jD,generateCodeFrame:uA,getBaseTransformPreset:rN,getConstantType:Hi,getMemoedVNodeCall:DD,getVNodeBlockHelper:Vl,getVNodeHelper:Ul,hasDynamicKeyVBind:TD,hasScopeRef:Rs,helperNameMap:Rl,injectProp:Uh,isCoreComponent:Z1,isFnExpression:CD,isFnExpressionBrowser:SD,isFnExpressionNode:F$,isFunctionType:S$,isInDestructureAssignment:y$,isInNewExpression:b$,isMemberExpression:Q1,isMemberExpressionBrowser:ED,isMemberExpressionNode:D$,isReferencedIdentifier:v$,isSimpleIdentifier:xf,isSlotOutlet:Bh,isStaticArgOf:xa,isStaticExp:Ni,isStaticProperty:bD,isStaticPropertyKey:C$,isTemplateNode:oc,isText:Gd,isVPre:hy,isVSlot:eb,locStub:Ur,noopDirectiveTransform:sN,parse:Gj,parserOptions:yb,processExpression:qd,processFor:XD,processIf:WD,processSlotOutlet:eN,registerRuntimeHelpers:dD,resolveComponentType:JD,stringifyExpression:HD,toValidAssetId:ac,trackSlotScopes:qD,trackVForSlotScopes:vj,transform:VD,transformBind:tN,transformElement:ZD,transformExpression:fj,transformModel:lb,transformOn:ab,transformStyle:oN,transformVBindShorthand:nN,traverseNode:wf,unwrapTSNode:_D,validFirstIdentCharRE:J1,walkBlockDeclarations:yD,walkFunctionParams:x$,walkIdentifiers:g$,warnDeprecation:d$},Symbol.toStringTag,{value:"Module"})),Wj=um(Hj),Xj=um(D4),qj=um(vL);/**
* vue v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var $E;function Yj(){return $E||($E=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});var t=Wj,r=Xj,i=qj;function s(u){var h=Object.create(null);if(u)for(var c in u)h[c]=u[c];return h.default=u,Object.freeze(h)}var o=s(r);const a=Object.create(null);function l(u,h){if(!i.isString(u))if(u.nodeType)u=u.innerHTML;else return i.NOOP;const c=i.genCacheKey(u,h),f=a[c];if(f)return f;if(u[0]==="#"){const g=document.querySelector(u);u=g?g.innerHTML:""}const d=i.extend({hoistStatic:!0,onError:void 0,onWarn:i.NOOP},h);!d.isCustomElement&&typeof customElements<"u"&&(d.isCustomElement=g=>!!customElements.get(g));const{code:p}=t.compile(u,d),m=new Function("Vue",p)(o);return m._rc=!0,a[c]=m}r.registerRuntimeCompiler(l),n.compile=l,Object.keys(r).forEach(function(u){u!=="default"&&!Object.prototype.hasOwnProperty.call(n,u)&&(n[u]=r[u])})})(N0)),N0}var jE;function Kj(){return jE||(jE=1,D0.exports=Yj()),D0.exports}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function zE(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function po(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(i){Zj(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Kd(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kd=function(t){return typeof t}:Kd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(n)}function Zj(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Ts(){return Ts=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Ts.apply(this,arguments)}function Jj(n,t){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(t.indexOf(s)>=0)&&(r[s]=n[s]);return r}function Qj(n,t){if(n==null)return{};var r=Jj(n,t),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function ez(n){return tz(n)||nz(n)||rz(n)||iz()}function tz(n){if(Array.isArray(n))return gy(n)}function nz(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function rz(n,t){if(n){if(typeof n=="string")return gy(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gy(n,t)}}function gy(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=n[r];return i}function iz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sz="1.14.0";function zo(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var ta=zo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Sf=zo(/Edge/i),GE=zo(/firefox/i),ch=zo(/safari/i)&&!zo(/chrome/i)&&!zo(/android/i),cN=zo(/iP(ad|od|hone)/i),oz=zo(/chrome/i)&&zo(/android/i),hN={capture:!1,passive:!1};function pn(n,t,r){n.addEventListener(t,r,!ta&&hN)}function on(n,t,r){n.removeEventListener(t,r,!ta&&hN)}function Mp(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function az(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Us(n,t,r,i){if(n){r=r||document;do{if(t!=null&&(t[0]===">"?n.parentNode===r&&Mp(n,t):Mp(n,t))||i&&n===r)return n;if(n===r)break}while(n=az(n))}return null}var HE=/\s+/g;function ur(n,t,r){if(n&&t)if(n.classList)n.classList[r?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(HE," ").replace(" "+t+" "," ");n.className=(i+(r?" "+t:"")).replace(HE," ")}}function St(n,t,r){var i=n&&n.style;if(i){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(r=n.currentStyle),t===void 0?r:r[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=r+(typeof r=="string"?"":"px")}}function Il(n,t){var r="";if(typeof n=="string")r=n;else do{var i=St(n,"transform");i&&i!=="none"&&(r=i+" "+r)}while(!t&&(n=n.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(r)}function fN(n,t,r){if(n){var i=n.getElementsByTagName(t),s=0,o=i.length;if(r)for(;s<o;s++)r(i[s],s);return i}return[]}function ho(){var n=document.scrollingElement;return n||document.documentElement}function tr(n,t,r,i,s){if(!(!n.getBoundingClientRect&&n!==window)){var o,a,l,u,h,c,f;if(n!==window&&n.parentNode&&n!==ho()?(o=n.getBoundingClientRect(),a=o.top,l=o.left,u=o.bottom,h=o.right,c=o.height,f=o.width):(a=0,l=0,u=window.innerHeight,h=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||r)&&n!==window&&(s=s||n.parentNode,!ta))do if(s&&s.getBoundingClientRect&&(St(s,"transform")!=="none"||r&&St(s,"position")!=="static")){var d=s.getBoundingClientRect();a-=d.top+parseInt(St(s,"border-top-width")),l-=d.left+parseInt(St(s,"border-left-width")),u=a+o.height,h=l+o.width;break}while(s=s.parentNode);if(i&&n!==window){var p=Il(s||n),m=p&&p.a,g=p&&p.d;p&&(a/=g,l/=m,f/=m,c/=g,u=a+c,h=l+f)}return{top:a,left:l,bottom:u,right:h,width:f,height:c}}}function WE(n,t,r){for(var i=_a(n,!0),s=tr(n)[t];i;){var o=tr(i)[r],a=void 0;if(a=s>=o,!a)return i;if(i===ho())break;i=_a(i,!1)}return!1}function lc(n,t,r,i){for(var s=0,o=0,a=n.children;o<a.length;){if(a[o].style.display!=="none"&&a[o]!==Rt.ghost&&(i||a[o]!==Rt.dragged)&&Us(a[o],r.draggable,n,!1)){if(s===t)return a[o];s++}o++}return null}function bb(n,t){for(var r=n.lastElementChild;r&&(r===Rt.ghost||St(r,"display")==="none"||t&&!Mp(r,t));)r=r.previousElementSibling;return r||null}function vr(n,t){var r=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Rt.clone&&(!t||Mp(n,t))&&r++;return r}function XE(n){var t=0,r=0,i=ho();if(n)do{var s=Il(n),o=s.a,a=s.d;t+=n.scrollLeft*o,r+=n.scrollTop*a}while(n!==i&&(n=n.parentNode));return[t,r]}function lz(n,t){for(var r in n)if(n.hasOwnProperty(r)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[r][i])return Number(r)}return-1}function _a(n,t){if(!n||!n.getBoundingClientRect)return ho();var r=n,i=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var s=St(r);if(r.clientWidth<r.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return ho();if(i||t)return r;i=!0}}while(r=r.parentNode);return ho()}function uz(n,t){if(n&&t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function k0(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var hh;function dN(n,t){return function(){if(!hh){var r=arguments,i=this;r.length===1?n.call(i,r[0]):n.apply(i,r),hh=setTimeout(function(){hh=void 0},t)}}}function cz(){clearTimeout(hh),hh=void 0}function pN(n,t,r){n.scrollLeft+=t,n.scrollTop+=r}function xb(n){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):r?r(n).clone(!0)[0]:n.cloneNode(!0)}function qE(n,t){St(n,"position","absolute"),St(n,"top",t.top),St(n,"left",t.left),St(n,"width",t.width),St(n,"height",t.height)}function M0(n){St(n,"position",""),St(n,"top",""),St(n,"left",""),St(n,"width",""),St(n,"height","")}var fi="Sortable"+new Date().getTime();function hz(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(s){if(!(St(s,"display")==="none"||s===Rt.ghost)){n.push({target:s,rect:tr(s)});var o=po({},n[n.length-1].rect);if(s.thisAnimationDuration){var a=Il(s,!0);a&&(o.top-=a.f,o.left-=a.e)}s.fromRect=o}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(lz(n,{target:i}),1)},animateAll:function(i){var s=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var o=!1,a=0;n.forEach(function(l){var u=0,h=l.target,c=h.fromRect,f=tr(h),d=h.prevFromRect,p=h.prevToRect,m=l.rect,g=Il(h,!0);g&&(f.top-=g.f,f.left-=g.e),h.toRect=f,h.thisAnimationDuration&&k0(d,f)&&!k0(c,f)&&(m.top-f.top)/(m.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(u=dz(m,d,p,s.options)),k0(f,c)||(h.prevFromRect=c,h.prevToRect=f,u||(u=s.options.animation),s.animate(h,m,f,u)),u&&(o=!0,a=Math.max(a,u),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},u),h.thisAnimationDuration=u)}),clearTimeout(t),o?t=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),n=[]},animate:function(i,s,o,a){if(a){St(i,"transition",""),St(i,"transform","");var l=Il(this.el),u=l&&l.a,h=l&&l.d,c=(s.left-o.left)/(u||1),f=(s.top-o.top)/(h||1);i.animatingX=!!c,i.animatingY=!!f,St(i,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=fz(i),St(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),St(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){St(i,"transition",""),St(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function fz(n){return n.offsetWidth}function dz(n,t,r,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*i.animation}var bu=[],O0={initializeByDefault:!0},Cf={mount:function(t){for(var r in O0)O0.hasOwnProperty(r)&&!(r in t)&&(t[r]=O0[r]);bu.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),bu.push(t)},pluginEvent:function(t,r,i){var s=this;this.eventCanceled=!1,i.cancel=function(){s.eventCanceled=!0};var o=t+"Global";bu.forEach(function(a){r[a.pluginName]&&(r[a.pluginName][o]&&r[a.pluginName][o](po({sortable:r},i)),r.options[a.pluginName]&&r[a.pluginName][t]&&r[a.pluginName][t](po({sortable:r},i)))})},initializePlugins:function(t,r,i,s){bu.forEach(function(l){var u=l.pluginName;if(!(!t.options[u]&&!l.initializeByDefault)){var h=new l(t,r,t.options);h.sortable=t,h.options=t.options,t[u]=h,Ts(i,h.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var a=this.modifyOption(t,o,t.options[o]);typeof a<"u"&&(t.options[o]=a)}},getEventProperties:function(t,r){var i={};return bu.forEach(function(s){typeof s.eventProperties=="function"&&Ts(i,s.eventProperties.call(r[s.pluginName],t))}),i},modifyOption:function(t,r,i){var s;return bu.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[r]=="function"&&(s=o.optionListeners[r].call(t[o.pluginName],i))}),s}};function Kc(n){var t=n.sortable,r=n.rootEl,i=n.name,s=n.targetEl,o=n.cloneEl,a=n.toEl,l=n.fromEl,u=n.oldIndex,h=n.newIndex,c=n.oldDraggableIndex,f=n.newDraggableIndex,d=n.originalEvent,p=n.putSortable,m=n.extraEventProperties;if(t=t||r&&r[fi],!!t){var g,v=t.options,E="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!ta&&!Sf?g=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(i,!0,!0)),g.to=a||r,g.from=l||r,g.item=s||r,g.clone=o,g.oldIndex=u,g.newIndex=h,g.oldDraggableIndex=c,g.newDraggableIndex=f,g.originalEvent=d,g.pullMode=p?p.lastPutMode:void 0;var y=po(po({},m),Cf.getEventProperties(i,t));for(var x in y)g[x]=y[x];r&&r.dispatchEvent(g),v[E]&&v[E].call(t,g)}}var pz=["evt"],Li=function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.evt,o=Qj(i,pz);Cf.pluginEvent.bind(Rt)(t,r,po({dragEl:ot,parentEl:pr,ghostEl:Zt,rootEl:Zn,nextEl:ol,lastDownEl:Zd,cloneEl:mr,cloneHidden:ya,dragStarted:Zc,putSortable:qr,activeSortable:Rt.active,originalEvent:s,oldIndex:Mu,oldDraggableIndex:fh,newIndex:ss,newDraggableIndex:va,hideGhostForTarget:yN,unhideGhostForTarget:bN,cloneNowHidden:function(){ya=!0},cloneNowShown:function(){ya=!1},dispatchSortableEvent:function(l){_i({sortable:r,name:l,originalEvent:s})}},o))};function _i(n){Kc(po({putSortable:qr,cloneEl:mr,targetEl:ot,rootEl:Zn,oldIndex:Mu,oldDraggableIndex:fh,newIndex:ss,newDraggableIndex:va},n))}var ot,pr,Zt,Zn,ol,Zd,mr,ya,Mu,ss,fh,va,ad,qr,Nu=!1,Op=!1,Lp=[],nl,Os,L0,P0,YE,KE,Zc,xu,dh,ph=!1,ld=!1,Jd,ni,R0=[],vy=!1,Pp=[],tg=typeof document<"u",ud=cN,ZE=Sf||ta?"cssFloat":"float",mz=tg&&!oz&&!cN&&"draggable"in document.createElement("div"),mN=(function(){if(tg){if(ta)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}})(),gN=function(t,r){var i=St(t),s=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=lc(t,0,r),a=lc(t,1,r),l=o&&St(o),u=a&&St(a),h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+tr(o).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+tr(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return a&&(u.clear==="both"||u.clear===f)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||h>=s&&i[ZE]==="none"||a&&i[ZE]==="none"&&h+c>s)?"vertical":"horizontal"},gz=function(t,r,i){var s=i?t.left:t.top,o=i?t.right:t.bottom,a=i?t.width:t.height,l=i?r.left:r.top,u=i?r.right:r.bottom,h=i?r.width:r.height;return s===l||o===u||s+a/2===l+h/2},vz=function(t,r){var i;return Lp.some(function(s){var o=s[fi].options.emptyInsertThreshold;if(!(!o||bb(s))){var a=tr(s),l=t>=a.left-o&&t<=a.right+o,u=r>=a.top-o&&r<=a.bottom+o;if(l&&u)return i=s}}),i},vN=function(t){function r(o,a){return function(l,u,h,c){var f=l.options.group.name&&u.options.group.name&&l.options.group.name===u.options.group.name;if(o==null&&(a||f))return!0;if(o==null||o===!1)return!1;if(a&&o==="clone")return o;if(typeof o=="function")return r(o(l,u,h,c),a)(l,u,h,c);var d=(a?l:u).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}var i={},s=t.group;(!s||Kd(s)!="object")&&(s={name:s}),i.name=s.name,i.checkPull=r(s.pull,!0),i.checkPut=r(s.put),i.revertClone=s.revertClone,t.group=i},yN=function(){!mN&&Zt&&St(Zt,"display","none")},bN=function(){!mN&&Zt&&St(Zt,"display","")};tg&&document.addEventListener("click",function(n){if(Op)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Op=!1,!1},!0);var rl=function(t){if(ot){t=t.touches?t.touches[0]:t;var r=vz(t.clientX,t.clientY);if(r){var i={};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);i.target=i.rootEl=r,i.preventDefault=void 0,i.stopPropagation=void 0,r[fi]._onDragOver(i)}}},yz=function(t){ot&&ot.parentNode[fi]._isOutsideThisEl(t.target)};function Rt(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=Ts({},t),n[fi]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return gN(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Rt.supportPointer!==!1&&"PointerEvent"in window&&!ch,emptyInsertThreshold:5};Cf.initializePlugins(this,n,r);for(var i in r)!(i in t)&&(t[i]=r[i]);vN(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:mz,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?pn(n,"pointerdown",this._onTapStart):(pn(n,"mousedown",this._onTapStart),pn(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(pn(n,"dragover",this),pn(n,"dragenter",this)),Lp.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ts(this,hz())}Rt.prototype={constructor:Rt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(xu=null)},_getDirection:function(t,r){return typeof this.options.direction=="function"?this.options.direction.call(this,t,r,ot):this.options.direction},_onTapStart:function(t){if(t.cancelable){var r=this,i=this.el,s=this.options,o=s.preventOnFilter,a=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(l||t).target,h=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,c=s.filter;if(Az(i),!ot&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||s.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&ch&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=Us(u,s.draggable,i,!1),!(u&&u.animated)&&Zd!==u)){if(Mu=vr(u),fh=vr(u,s.draggable),typeof c=="function"){if(c.call(this,t,u,this)){_i({sortable:r,rootEl:h,name:"filter",targetEl:u,toEl:i,fromEl:i}),Li("filter",r,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=Us(h,f.trim(),i,!1),f)return _i({sortable:r,rootEl:f,name:"filter",targetEl:u,fromEl:i,toEl:i}),Li("filter",r,{evt:t}),!0}),c)){o&&t.cancelable&&t.preventDefault();return}s.handle&&!Us(h,s.handle,i,!1)||this._prepareDragStart(t,l,u)}}},_prepareDragStart:function(t,r,i){var s=this,o=s.el,a=s.options,l=o.ownerDocument,u;if(i&&!ot&&i.parentNode===o){var h=tr(i);if(Zn=o,ot=i,pr=ot.parentNode,ol=ot.nextSibling,Zd=i,ad=a.group,Rt.dragged=ot,nl={target:ot,clientX:(r||t).clientX,clientY:(r||t).clientY},YE=nl.clientX-h.left,KE=nl.clientY-h.top,this._lastX=(r||t).clientX,this._lastY=(r||t).clientY,ot.style["will-change"]="all",u=function(){if(Li("delayEnded",s,{evt:t}),Rt.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!GE&&s.nativeDraggable&&(ot.draggable=!0),s._triggerDragStart(t,r),_i({sortable:s,name:"choose",originalEvent:t}),ur(ot,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){fN(ot,c.trim(),B0)}),pn(l,"dragover",rl),pn(l,"mousemove",rl),pn(l,"touchmove",rl),pn(l,"mouseup",s._onDrop),pn(l,"touchend",s._onDrop),pn(l,"touchcancel",s._onDrop),GE&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ot.draggable=!0),Li("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(Sf||ta))){if(Rt.eventCanceled){this._onDrop();return}pn(l,"mouseup",s._disableDelayedDrag),pn(l,"touchend",s._disableDelayedDrag),pn(l,"touchcancel",s._disableDelayedDrag),pn(l,"mousemove",s._delayedDragTouchMoveHandler),pn(l,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&pn(l,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(u,a.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ot&&B0(ot),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;on(t,"mouseup",this._disableDelayedDrag),on(t,"touchend",this._disableDelayedDrag),on(t,"touchcancel",this._disableDelayedDrag),on(t,"mousemove",this._delayedDragTouchMoveHandler),on(t,"touchmove",this._delayedDragTouchMoveHandler),on(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,r){r=r||t.pointerType=="touch"&&t,!this.nativeDraggable||r?this.options.supportPointer?pn(document,"pointermove",this._onTouchMove):r?pn(document,"touchmove",this._onTouchMove):pn(document,"mousemove",this._onTouchMove):(pn(ot,"dragend",this),pn(Zn,"dragstart",this._onDragStart));try{document.selection?Qd(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,r){if(Nu=!1,Zn&&ot){Li("dragStarted",this,{evt:r}),this.nativeDraggable&&pn(document,"dragover",yz);var i=this.options;!t&&ur(ot,i.dragClass,!1),ur(ot,i.ghostClass,!0),Rt.active=this,t&&this._appendGhost(),_i({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Os){this._lastX=Os.clientX,this._lastY=Os.clientY,yN();for(var t=document.elementFromPoint(Os.clientX,Os.clientY),r=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Os.clientX,Os.clientY),t!==r);)r=t;if(ot.parentNode[fi]._isOutsideThisEl(t),r)do{if(r[fi]){var i=void 0;if(i=r[fi]._onDragOver({clientX:Os.clientX,clientY:Os.clientY,target:t,rootEl:r}),i&&!this.options.dragoverBubble)break}t=r}while(r=r.parentNode);bN()}},_onTouchMove:function(t){if(nl){var r=this.options,i=r.fallbackTolerance,s=r.fallbackOffset,o=t.touches?t.touches[0]:t,a=Zt&&Il(Zt,!0),l=Zt&&a&&a.a,u=Zt&&a&&a.d,h=ud&&ni&&XE(ni),c=(o.clientX-nl.clientX+s.x)/(l||1)+(h?h[0]-R0[0]:0)/(l||1),f=(o.clientY-nl.clientY+s.y)/(u||1)+(h?h[1]-R0[1]:0)/(u||1);if(!Rt.active&&!Nu){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(Zt){a?(a.e+=c-(L0||0),a.f+=f-(P0||0)):a={a:1,b:0,c:0,d:1,e:c,f};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");St(Zt,"webkitTransform",d),St(Zt,"mozTransform",d),St(Zt,"msTransform",d),St(Zt,"transform",d),L0=c,P0=f,Os=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Zt){var t=this.options.fallbackOnBody?document.body:Zn,r=tr(ot,!0,ud,!0,t),i=this.options;if(ud){for(ni=t;St(ni,"position")==="static"&&St(ni,"transform")==="none"&&ni!==document;)ni=ni.parentNode;ni!==document.body&&ni!==document.documentElement?(ni===document&&(ni=ho()),r.top+=ni.scrollTop,r.left+=ni.scrollLeft):ni=ho(),R0=XE(ni)}Zt=ot.cloneNode(!0),ur(Zt,i.ghostClass,!1),ur(Zt,i.fallbackClass,!0),ur(Zt,i.dragClass,!0),St(Zt,"transition",""),St(Zt,"transform",""),St(Zt,"box-sizing","border-box"),St(Zt,"margin",0),St(Zt,"top",r.top),St(Zt,"left",r.left),St(Zt,"width",r.width),St(Zt,"height",r.height),St(Zt,"opacity","0.8"),St(Zt,"position",ud?"absolute":"fixed"),St(Zt,"zIndex","100000"),St(Zt,"pointerEvents","none"),Rt.ghost=Zt,t.appendChild(Zt),St(Zt,"transform-origin",YE/parseInt(Zt.style.width)*100+"% "+KE/parseInt(Zt.style.height)*100+"%")}},_onDragStart:function(t,r){var i=this,s=t.dataTransfer,o=i.options;if(Li("dragStart",this,{evt:t}),Rt.eventCanceled){this._onDrop();return}Li("setupClone",this),Rt.eventCanceled||(mr=xb(ot),mr.draggable=!1,mr.style["will-change"]="",this._hideClone(),ur(mr,this.options.chosenClass,!1),Rt.clone=mr),i.cloneId=Qd(function(){Li("clone",i),!Rt.eventCanceled&&(i.options.removeCloneOnHide||Zn.insertBefore(mr,ot),i._hideClone(),_i({sortable:i,name:"clone"}))}),!r&&ur(ot,o.dragClass,!0),r?(Op=!0,i._loopId=setInterval(i._emulateDragOver,50)):(on(document,"mouseup",i._onDrop),on(document,"touchend",i._onDrop),on(document,"touchcancel",i._onDrop),s&&(s.effectAllowed="move",o.setData&&o.setData.call(i,s,ot)),pn(document,"drop",i),St(ot,"transform","translateZ(0)")),Nu=!0,i._dragStartId=Qd(i._dragStarted.bind(i,r,t)),pn(document,"selectstart",i),Zc=!0,ch&&St(document.body,"user-select","none")},_onDragOver:function(t){var r=this.el,i=t.target,s,o,a,l=this.options,u=l.group,h=Rt.active,c=ad===u,f=l.sort,d=qr||h,p,m=this,g=!1;if(vy)return;function v(Z,fe){Li(Z,m,po({evt:t,isOwner:c,axis:p?"vertical":"horizontal",revert:a,dragRect:s,targetRect:o,canSort:f,fromSortable:d,target:i,completed:y,onMove:function(J,ae){return cd(Zn,r,ot,s,J,tr(J),t,ae)},changed:x},fe))}function E(){v("dragOverAnimationCapture"),m.captureAnimationState(),m!==d&&d.captureAnimationState()}function y(Z){return v("dragOverCompleted",{insertion:Z}),Z&&(c?h._hideClone():h._showClone(m),m!==d&&(ur(ot,qr?qr.options.ghostClass:h.options.ghostClass,!1),ur(ot,l.ghostClass,!0)),qr!==m&&m!==Rt.active?qr=m:m===Rt.active&&qr&&(qr=null),d===m&&(m._ignoreWhileAnimating=i),m.animateAll(function(){v("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(i===ot&&!ot.animated||i===r&&!i.animated)&&(xu=null),!l.dragoverBubble&&!t.rootEl&&i!==document&&(ot.parentNode[fi]._isOutsideThisEl(t.target),!Z&&rl(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function x(){ss=vr(ot),va=vr(ot,l.draggable),_i({sortable:m,name:"change",toEl:r,newIndex:ss,newDraggableIndex:va,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=Us(i,l.draggable,r,!0),v("dragOver"),Rt.eventCanceled)return g;if(ot.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||m._ignoreWhileAnimating===i)return y(!1);if(Op=!1,h&&!l.disabled&&(c?f||(a=pr!==Zn):qr===this||(this.lastPutMode=ad.checkPull(this,h,ot,t))&&u.checkPut(this,h,ot,t))){if(p=this._getDirection(t,i)==="vertical",s=tr(ot),v("dragOverValid"),Rt.eventCanceled)return g;if(a)return pr=Zn,E(),this._hideClone(),v("revert"),Rt.eventCanceled||(ol?Zn.insertBefore(ot,ol):Zn.appendChild(ot)),y(!0);var b=bb(r,l.draggable);if(!b||wz(t,p,this)&&!b.animated){if(b===ot)return y(!1);if(b&&r===t.target&&(i=b),i&&(o=tr(i)),cd(Zn,r,ot,s,i,o,t,!!i)!==!1)return E(),r.appendChild(ot),pr=r,x(),y(!0)}else if(b&&_z(t,p,this)){var w=lc(r,0,l,!0);if(w===ot)return y(!1);if(i=w,o=tr(i),cd(Zn,r,ot,s,i,o,t,!1)!==!1)return E(),r.insertBefore(ot,w),pr=r,x(),y(!0)}else if(i.parentNode===r){o=tr(i);var S=0,_,T=ot.parentNode!==r,C=!gz(ot.animated&&ot.toRect||s,i.animated&&i.toRect||o,p),F=p?"top":"left",k=WE(i,"top","top")||WE(ot,"top","top"),D=k?k.scrollTop:void 0;xu!==i&&(_=o[F],ph=!1,ld=!C&&l.invertSwap||T),S=Ez(t,i,o,p,C?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,ld,xu===i);var N;if(S!==0){var M=vr(ot);do M-=S,N=pr.children[M];while(N&&(St(N,"display")==="none"||N===Zt))}if(S===0||N===i)return y(!1);xu=i,dh=S;var U=i.nextElementSibling,B=!1;B=S===1;var W=cd(Zn,r,ot,s,i,o,t,B);if(W!==!1)return(W===1||W===-1)&&(B=W===1),vy=!0,setTimeout(xz,30),E(),B&&!U?r.appendChild(ot):i.parentNode.insertBefore(ot,B?U:i),k&&pN(k,0,D-k.scrollTop),pr=ot.parentNode,_!==void 0&&!ld&&(Jd=Math.abs(_-tr(i)[F])),x(),y(!0)}if(r.contains(ot))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){on(document,"mousemove",this._onTouchMove),on(document,"touchmove",this._onTouchMove),on(document,"pointermove",this._onTouchMove),on(document,"dragover",rl),on(document,"mousemove",rl),on(document,"touchmove",rl)},_offUpEvents:function(){var t=this.el.ownerDocument;on(t,"mouseup",this._onDrop),on(t,"touchend",this._onDrop),on(t,"pointerup",this._onDrop),on(t,"touchcancel",this._onDrop),on(document,"selectstart",this)},_onDrop:function(t){var r=this.el,i=this.options;if(ss=vr(ot),va=vr(ot,i.draggable),Li("drop",this,{evt:t}),pr=ot&&ot.parentNode,ss=vr(ot),va=vr(ot,i.draggable),Rt.eventCanceled){this._nulling();return}Nu=!1,ld=!1,ph=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),yy(this.cloneId),yy(this._dragStartId),this.nativeDraggable&&(on(document,"drop",this),on(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ch&&St(document.body,"user-select",""),St(ot,"transform",""),t&&(Zc&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),Zt&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),(Zn===pr||qr&&qr.lastPutMode!=="clone")&&mr&&mr.parentNode&&mr.parentNode.removeChild(mr),ot&&(this.nativeDraggable&&on(ot,"dragend",this),B0(ot),ot.style["will-change"]="",Zc&&!Nu&&ur(ot,qr?qr.options.ghostClass:this.options.ghostClass,!1),ur(ot,this.options.chosenClass,!1),_i({sortable:this,name:"unchoose",toEl:pr,newIndex:null,newDraggableIndex:null,originalEvent:t}),Zn!==pr?(ss>=0&&(_i({rootEl:pr,name:"add",toEl:pr,fromEl:Zn,originalEvent:t}),_i({sortable:this,name:"remove",toEl:pr,originalEvent:t}),_i({rootEl:pr,name:"sort",toEl:pr,fromEl:Zn,originalEvent:t}),_i({sortable:this,name:"sort",toEl:pr,originalEvent:t})),qr&&qr.save()):ss!==Mu&&ss>=0&&(_i({sortable:this,name:"update",toEl:pr,originalEvent:t}),_i({sortable:this,name:"sort",toEl:pr,originalEvent:t})),Rt.active&&((ss==null||ss===-1)&&(ss=Mu,va=fh),_i({sortable:this,name:"end",toEl:pr,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Li("nulling",this),Zn=ot=pr=Zt=ol=mr=Zd=ya=nl=Os=Zc=ss=va=Mu=fh=xu=dh=qr=ad=Rt.dragged=Rt.ghost=Rt.clone=Rt.active=null,Pp.forEach(function(t){t.checked=!0}),Pp.length=L0=P0=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ot&&(this._onDragOver(t),bz(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],r,i=this.el.children,s=0,o=i.length,a=this.options;s<o;s++)r=i[s],Us(r,a.draggable,this.el,!1)&&t.push(r.getAttribute(a.dataIdAttr)||Cz(r));return t},sort:function(t,r){var i={},s=this.el;this.toArray().forEach(function(o,a){var l=s.children[a];Us(l,this.options.draggable,s,!1)&&(i[o]=l)},this),r&&this.captureAnimationState(),t.forEach(function(o){i[o]&&(s.removeChild(i[o]),s.appendChild(i[o]))}),r&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,r){return Us(t,r||this.options.draggable,this.el,!1)},option:function(t,r){var i=this.options;if(r===void 0)return i[t];var s=Cf.modifyOption(this,t,r);typeof s<"u"?i[t]=s:i[t]=r,t==="group"&&vN(i)},destroy:function(){Li("destroy",this);var t=this.el;t[fi]=null,on(t,"mousedown",this._onTapStart),on(t,"touchstart",this._onTapStart),on(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(on(t,"dragover",this),on(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Lp.splice(Lp.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ya){if(Li("hideClone",this),Rt.eventCanceled)return;St(mr,"display","none"),this.options.removeCloneOnHide&&mr.parentNode&&mr.parentNode.removeChild(mr),ya=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ya){if(Li("showClone",this),Rt.eventCanceled)return;ot.parentNode==Zn&&!this.options.group.revertClone?Zn.insertBefore(mr,ot):ol?Zn.insertBefore(mr,ol):Zn.appendChild(mr),this.options.group.revertClone&&this.animate(ot,mr),St(mr,"display",""),ya=!1}}};function bz(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function cd(n,t,r,i,s,o,a,l){var u,h=n[fi],c=h.options.onMove,f;return window.CustomEvent&&!ta&&!Sf?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=n,u.dragged=r,u.draggedRect=i,u.related=s||t,u.relatedRect=o||tr(t),u.willInsertAfter=l,u.originalEvent=a,n.dispatchEvent(u),c&&(f=c.call(h,u,a)),f}function B0(n){n.draggable=!1}function xz(){vy=!1}function _z(n,t,r){var i=tr(lc(r.el,0,r.options,!0)),s=10;return t?n.clientX<i.left-s||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-s||n.clientY<i.bottom&&n.clientX<i.left}function wz(n,t,r){var i=tr(bb(r.el,r.options.draggable)),s=10;return t?n.clientX>i.right+s||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+s}function Ez(n,t,r,i,s,o,a,l){var u=i?n.clientY:n.clientX,h=i?r.height:r.width,c=i?r.top:r.left,f=i?r.bottom:r.right,d=!1;if(!a){if(l&&Jd<h*s){if(!ph&&(dh===1?u>c+h*o/2:u<f-h*o/2)&&(ph=!0),ph)d=!0;else if(dh===1?u<c+Jd:u>f-Jd)return-dh}else if(u>c+h*(1-s)/2&&u<f-h*(1-s)/2)return Sz(t)}return d=d||a,d&&(u<c+h*o/2||u>f-h*o/2)?u>c+h/2?1:-1:0}function Sz(n){return vr(ot)<vr(n)?1:-1}function Cz(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,r=t.length,i=0;r--;)i+=t.charCodeAt(r);return i.toString(36)}function Az(n){Pp.length=0;for(var t=n.getElementsByTagName("input"),r=t.length;r--;){var i=t[r];i.checked&&Pp.push(i)}}function Qd(n){return setTimeout(n,0)}function yy(n){return clearTimeout(n)}tg&&pn(document,"touchmove",function(n){(Rt.active||Nu)&&n.cancelable&&n.preventDefault()});Rt.utils={on:pn,off:on,css:St,find:fN,is:function(t,r){return!!Us(t,r,t,!1)},extend:uz,throttle:dN,closest:Us,toggleClass:ur,clone:xb,index:vr,nextTick:Qd,cancelNextTick:yy,detectDirection:gN,getChild:lc};Rt.get=function(n){return n[fi]};Rt.mount=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Rt.utils=po(po({},Rt.utils),i.utils)),Cf.mount(i)})};Rt.create=function(n,t){return new Rt(n,t)};Rt.version=sz;var Ar=[],Jc,by,xy=!1,U0,V0,Rp,Qc;function Tz(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(r){var i=r.originalEvent;this.sortable.nativeDraggable?pn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?pn(document,"pointermove",this._handleFallbackAutoScroll):i.touches?pn(document,"touchmove",this._handleFallbackAutoScroll):pn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var i=r.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?on(document,"dragover",this._handleAutoScroll):(on(document,"pointermove",this._handleFallbackAutoScroll),on(document,"touchmove",this._handleFallbackAutoScroll),on(document,"mousemove",this._handleFallbackAutoScroll)),JE(),ep(),cz()},nulling:function(){Rp=by=Jc=xy=Qc=U0=V0=null,Ar.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,i){var s=this,o=(r.touches?r.touches[0]:r).clientX,a=(r.touches?r.touches[0]:r).clientY,l=document.elementFromPoint(o,a);if(Rp=r,i||this.options.forceAutoScrollFallback||Sf||ta||ch){$0(r,this.options,l,i);var u=_a(l,!0);xy&&(!Qc||o!==U0||a!==V0)&&(Qc&&JE(),Qc=setInterval(function(){var h=_a(document.elementFromPoint(o,a),!0);h!==u&&(u=h,ep()),$0(r,s.options,h,i)},10),U0=o,V0=a)}else{if(!this.options.bubbleScroll||_a(l,!0)===ho()){ep();return}$0(r,this.options,_a(l,!1),!1)}}},Ts(n,{pluginName:"scroll",initializeByDefault:!0})}function ep(){Ar.forEach(function(n){clearInterval(n.pid)}),Ar=[]}function JE(){clearInterval(Qc)}var $0=dN(function(n,t,r,i){if(t.scroll){var s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,u=ho(),h=!1,c;by!==r&&(by=r,ep(),Jc=t.scroll,c=t.scrollFn,Jc===!0&&(Jc=_a(r,!0)));var f=0,d=Jc;do{var p=d,m=tr(p),g=m.top,v=m.bottom,E=m.left,y=m.right,x=m.width,b=m.height,w=void 0,S=void 0,_=p.scrollWidth,T=p.scrollHeight,C=St(p),F=p.scrollLeft,k=p.scrollTop;p===u?(w=x<_&&(C.overflowX==="auto"||C.overflowX==="scroll"||C.overflowX==="visible"),S=b<T&&(C.overflowY==="auto"||C.overflowY==="scroll"||C.overflowY==="visible")):(w=x<_&&(C.overflowX==="auto"||C.overflowX==="scroll"),S=b<T&&(C.overflowY==="auto"||C.overflowY==="scroll"));var D=w&&(Math.abs(y-s)<=a&&F+x<_)-(Math.abs(E-s)<=a&&!!F),N=S&&(Math.abs(v-o)<=a&&k+b<T)-(Math.abs(g-o)<=a&&!!k);if(!Ar[f])for(var M=0;M<=f;M++)Ar[M]||(Ar[M]={});(Ar[f].vx!=D||Ar[f].vy!=N||Ar[f].el!==p)&&(Ar[f].el=p,Ar[f].vx=D,Ar[f].vy=N,clearInterval(Ar[f].pid),(D!=0||N!=0)&&(h=!0,Ar[f].pid=setInterval((function(){i&&this.layer===0&&Rt.active._onTouchMove(Rp);var U=Ar[this.layer].vy?Ar[this.layer].vy*l:0,B=Ar[this.layer].vx?Ar[this.layer].vx*l:0;typeof c=="function"&&c.call(Rt.dragged.parentNode[fi],B,U,n,Rp,Ar[this.layer].el)!=="continue"||pN(Ar[this.layer].el,B,U)}).bind({layer:f}),24))),f++}while(t.bubbleScroll&&d!==u&&(d=_a(d,!1)));xy=h}},30),xN=function(t){var r=t.originalEvent,i=t.putSortable,s=t.dragEl,o=t.activeSortable,a=t.dispatchSortableEvent,l=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(r){var h=i||o;l();var c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,f=document.elementFromPoint(c.clientX,c.clientY);u(),h&&!h.el.contains(f)&&(a("spill"),this.onSpill({dragEl:s,putSortable:i}))}};function _b(){}_b.prototype={startIndex:null,dragStart:function(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function(t){var r=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var s=lc(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(r,s):this.sortable.el.appendChild(r),this.sortable.animateAll(),i&&i.animateAll()},drop:xN};Ts(_b,{pluginName:"revertOnSpill"});function wb(){}wb.prototype={onSpill:function(t){var r=t.dragEl,i=t.putSortable,s=i||this.sortable;s.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),s.animateAll()},drop:xN};Ts(wb,{pluginName:"removeOnSpill"});var ys;function Iz(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(r){var i=r.dragEl;ys=i},dragOverValid:function(r){var i=r.completed,s=r.target,o=r.onMove,a=r.activeSortable,l=r.changed,u=r.cancel;if(a.options.swap){var h=this.sortable.el,c=this.options;if(s&&s!==h){var f=ys;o(s)!==!1?(ur(s,c.swapClass,!0),ys=s):ys=null,f&&f!==ys&&ur(f,c.swapClass,!1)}l(),i(!0),u()}},drop:function(r){var i=r.activeSortable,s=r.putSortable,o=r.dragEl,a=s||this.sortable,l=this.options;ys&&ur(ys,l.swapClass,!1),ys&&(l.swap||s&&s.options.swap)&&o!==ys&&(a.captureAnimationState(),a!==i&&i.captureAnimationState(),Dz(o,ys),a.animateAll(),a!==i&&i.animateAll())},nulling:function(){ys=null}},Ts(n,{pluginName:"swap",eventProperties:function(){return{swapItem:ys}}})}function Dz(n,t){var r=n.parentNode,i=t.parentNode,s,o;!r||!i||r.isEqualNode(t)||i.isEqualNode(n)||(s=vr(n),o=vr(t),r.isEqualNode(i)&&s<o&&o++,r.insertBefore(t,r.children[s]),i.insertBefore(n,i.children[o]))}var Wt=[],is=[],Vc,Ls,$c=!1,Pi=!1,_u=!1,Gn,jc,hd;function Nz(){function n(t){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));t.options.supportPointer?pn(document,"pointerup",this._deselectMultiDrag):(pn(document,"mouseup",this._deselectMultiDrag),pn(document,"touchend",this._deselectMultiDrag)),pn(document,"keydown",this._checkKeyDown),pn(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(s,o){var a="";Wt.length&&Ls===t?Wt.forEach(function(l,u){a+=(u?", ":"")+l.textContent}):a=o.textContent,s.setData("Text",a)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var i=r.dragEl;Gn=i},delayEnded:function(){this.isMultiDrag=~Wt.indexOf(Gn)},setupClone:function(r){var i=r.sortable,s=r.cancel;if(this.isMultiDrag){for(var o=0;o<Wt.length;o++)is.push(xb(Wt[o])),is[o].sortableIndex=Wt[o].sortableIndex,is[o].draggable=!1,is[o].style["will-change"]="",ur(is[o],this.options.selectedClass,!1),Wt[o]===Gn&&ur(is[o],this.options.chosenClass,!1);i._hideClone(),s()}},clone:function(r){var i=r.sortable,s=r.rootEl,o=r.dispatchSortableEvent,a=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Wt.length&&Ls===i&&(QE(!0,s),o("clone"),a()))},showClone:function(r){var i=r.cloneNowShown,s=r.rootEl,o=r.cancel;this.isMultiDrag&&(QE(!1,s),is.forEach(function(a){St(a,"display","")}),i(),hd=!1,o())},hideClone:function(r){var i=this;r.sortable;var s=r.cloneNowHidden,o=r.cancel;this.isMultiDrag&&(is.forEach(function(a){St(a,"display","none"),i.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),s(),hd=!0,o())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&Ls&&Ls.multiDrag._deselectMultiDrag(),Wt.forEach(function(i){i.sortableIndex=vr(i)}),Wt=Wt.sort(function(i,s){return i.sortableIndex-s.sortableIndex}),_u=!0},dragStarted:function(r){var i=this,s=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(s.captureAnimationState(),this.options.animation)){Wt.forEach(function(a){a!==Gn&&St(a,"position","absolute")});var o=tr(Gn,!1,!0,!0);Wt.forEach(function(a){a!==Gn&&qE(a,o)}),Pi=!0,$c=!0}s.animateAll(function(){Pi=!1,$c=!1,i.options.animation&&Wt.forEach(function(a){M0(a)}),i.options.sort&&fd()})}},dragOver:function(r){var i=r.target,s=r.completed,o=r.cancel;Pi&&~Wt.indexOf(i)&&(s(!1),o())},revert:function(r){var i=r.fromSortable,s=r.rootEl,o=r.sortable,a=r.dragRect;Wt.length>1&&(Wt.forEach(function(l){o.addAnimationState({target:l,rect:Pi?tr(l):a}),M0(l),l.fromRect=a,i.removeAnimationState(l)}),Pi=!1,Fz(!this.options.removeCloneOnHide,s))},dragOverCompleted:function(r){var i=r.sortable,s=r.isOwner,o=r.insertion,a=r.activeSortable,l=r.parentEl,u=r.putSortable,h=this.options;if(o){if(s&&a._hideClone(),$c=!1,h.animation&&Wt.length>1&&(Pi||!s&&!a.options.sort&&!u)){var c=tr(Gn,!1,!0,!0);Wt.forEach(function(d){d!==Gn&&(qE(d,c),l.appendChild(d))}),Pi=!0}if(!s)if(Pi||fd(),Wt.length>1){var f=hd;a._showClone(i),a.options.animation&&!hd&&f&&is.forEach(function(d){a.addAnimationState({target:d,rect:jc}),d.fromRect=jc,d.thisAnimationDuration=null})}else a._showClone(i)}},dragOverAnimationCapture:function(r){var i=r.dragRect,s=r.isOwner,o=r.activeSortable;if(Wt.forEach(function(l){l.thisAnimationDuration=null}),o.options.animation&&!s&&o.multiDrag.isMultiDrag){jc=Ts({},i);var a=Il(Gn,!0);jc.top-=a.f,jc.left-=a.e}},dragOverAnimationComplete:function(){Pi&&(Pi=!1,fd())},drop:function(r){var i=r.originalEvent,s=r.rootEl,o=r.parentEl,a=r.sortable,l=r.dispatchSortableEvent,u=r.oldIndex,h=r.putSortable,c=h||this.sortable;if(i){var f=this.options,d=o.children;if(!_u)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),ur(Gn,f.selectedClass,!~Wt.indexOf(Gn)),~Wt.indexOf(Gn))Wt.splice(Wt.indexOf(Gn),1),Vc=null,Kc({sortable:a,rootEl:s,name:"deselect",targetEl:Gn});else{if(Wt.push(Gn),Kc({sortable:a,rootEl:s,name:"select",targetEl:Gn}),i.shiftKey&&Vc&&a.el.contains(Vc)){var p=vr(Vc),m=vr(Gn);if(~p&&~m&&p!==m){var g,v;for(m>p?(v=p,g=m):(v=m,g=p+1);v<g;v++)~Wt.indexOf(d[v])||(ur(d[v],f.selectedClass,!0),Wt.push(d[v]),Kc({sortable:a,rootEl:s,name:"select",targetEl:d[v]}))}}else Vc=Gn;Ls=c}if(_u&&this.isMultiDrag){if(Pi=!1,(o[fi].options.sort||o!==s)&&Wt.length>1){var E=tr(Gn),y=vr(Gn,":not(."+this.options.selectedClass+")");if(!$c&&f.animation&&(Gn.thisAnimationDuration=null),c.captureAnimationState(),!$c&&(f.animation&&(Gn.fromRect=E,Wt.forEach(function(b){if(b.thisAnimationDuration=null,b!==Gn){var w=Pi?tr(b):E;b.fromRect=w,c.addAnimationState({target:b,rect:w})}})),fd(),Wt.forEach(function(b){d[y]?o.insertBefore(b,d[y]):o.appendChild(b),y++}),u===vr(Gn))){var x=!1;Wt.forEach(function(b){if(b.sortableIndex!==vr(b)){x=!0;return}}),x&&l("update")}Wt.forEach(function(b){M0(b)}),c.animateAll()}Ls=c}(s===o||h&&h.lastPutMode!=="clone")&&is.forEach(function(b){b.parentNode&&b.parentNode.removeChild(b)})}},nullingGlobal:function(){this.isMultiDrag=_u=!1,is.length=0},destroyGlobal:function(){this._deselectMultiDrag(),on(document,"pointerup",this._deselectMultiDrag),on(document,"mouseup",this._deselectMultiDrag),on(document,"touchend",this._deselectMultiDrag),on(document,"keydown",this._checkKeyDown),on(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof _u<"u"&&_u)&&Ls===this.sortable&&!(r&&Us(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;Wt.length;){var i=Wt[0];ur(i,this.options.selectedClass,!1),Wt.shift(),Kc({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:i})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Ts(n,{pluginName:"multiDrag",utils:{select:function(r){var i=r.parentNode[fi];!i||!i.options.multiDrag||~Wt.indexOf(r)||(Ls&&Ls!==i&&(Ls.multiDrag._deselectMultiDrag(),Ls=i),ur(r,i.options.selectedClass,!0),Wt.push(r))},deselect:function(r){var i=r.parentNode[fi],s=Wt.indexOf(r);!i||!i.options.multiDrag||!~s||(ur(r,i.options.selectedClass,!1),Wt.splice(s,1))}},eventProperties:function(){var r=this,i=[],s=[];return Wt.forEach(function(o){i.push({multiDragElement:o,index:o.sortableIndex});var a;Pi&&o!==Gn?a=-1:Pi?a=vr(o,":not(."+r.options.selectedClass+")"):a=vr(o),s.push({multiDragElement:o,index:a})}),{items:ez(Wt),clones:[].concat(is),oldIndicies:i,newIndicies:s}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function Fz(n,t){Wt.forEach(function(r,i){var s=t.children[r.sortableIndex+(n?Number(i):0)];s?t.insertBefore(r,s):t.appendChild(r)})}function QE(n,t){is.forEach(function(r,i){var s=t.children[r.sortableIndex+(n?Number(i):0)];s?t.insertBefore(r,s):t.appendChild(r)})}function fd(){Wt.forEach(function(n){n!==Gn&&n.parentNode&&n.parentNode.removeChild(n)})}Rt.mount(new Tz);Rt.mount(wb,_b);const kz=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Nz,Sortable:Rt,Swap:Iz,default:Rt},Symbol.toStringTag,{value:"Module"})),Mz=um(kz);var Oz=zd.exports,e2;function Lz(){return e2||(e2=1,(function(n,t){(function(i,s){n.exports=s(Kj(),Mz)})(typeof self<"u"?self:Oz,function(r,i){return(function(s){var o={};function a(l){if(o[l])return o[l].exports;var u=o[l]={i:l,l:!1,exports:{}};return s[l].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=s,a.c=o,a.d=function(l,u,h){a.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:h})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,u){if(u&1&&(l=a(l)),u&8||u&4&&typeof l=="object"&&l&&l.__esModule)return l;var h=Object.create(null);if(a.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:l}),u&2&&typeof l!="string")for(var c in l)a.d(h,c,(function(f){return l[f]}).bind(null,c));return h},a.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(u,"a",u),u},a.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},a.p="",a(a.s="fb15")})({"00ee":(function(s,o,a){var l=a("b622"),u=l("toStringTag"),h={};h[u]="z",s.exports=String(h)==="[object z]"}),"0366":(function(s,o,a){var l=a("1c0b");s.exports=function(u,h,c){if(l(u),h===void 0)return u;switch(c){case 0:return function(){return u.call(h)};case 1:return function(f){return u.call(h,f)};case 2:return function(f,d){return u.call(h,f,d)};case 3:return function(f,d,p){return u.call(h,f,d,p)}}return function(){return u.apply(h,arguments)}}}),"057f":(function(s,o,a){var l=a("fc6a"),u=a("241c").f,h={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(d){try{return u(d)}catch{return c.slice()}};s.exports.f=function(p){return c&&h.call(p)=="[object Window]"?f(p):u(l(p))}}),"06cf":(function(s,o,a){var l=a("83ab"),u=a("d1e7"),h=a("5c6c"),c=a("fc6a"),f=a("c04e"),d=a("5135"),p=a("0cfb"),m=Object.getOwnPropertyDescriptor;o.f=l?m:function(v,E){if(v=c(v),E=f(E,!0),p)try{return m(v,E)}catch{}if(d(v,E))return h(!u.f.call(v,E),v[E])}}),"0cfb":(function(s,o,a){var l=a("83ab"),u=a("d039"),h=a("cc12");s.exports=!l&&!u(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})}),"13d5":(function(s,o,a){var l=a("23e7"),u=a("d58f").left,h=a("a640"),c=a("ae40"),f=h("reduce"),d=c("reduce",{1:0});l({target:"Array",proto:!0,forced:!f||!d},{reduce:function(m){return u(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})}),"14c3":(function(s,o,a){var l=a("c6b6"),u=a("9263");s.exports=function(h,c){var f=h.exec;if(typeof f=="function"){var d=f.call(h,c);if(typeof d!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return d}if(l(h)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(h,c)}}),"159b":(function(s,o,a){var l=a("da84"),u=a("fdbc"),h=a("17c2"),c=a("9112");for(var f in u){var d=l[f],p=d&&d.prototype;if(p&&p.forEach!==h)try{c(p,"forEach",h)}catch{p.forEach=h}}}),"17c2":(function(s,o,a){var l=a("b727").forEach,u=a("a640"),h=a("ae40"),c=u("forEach"),f=h("forEach");s.exports=!c||!f?function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach}),"1be4":(function(s,o,a){var l=a("d066");s.exports=l("document","documentElement")}),"1c0b":(function(s,o){s.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}}),"1c7e":(function(s,o,a){var l=a("b622"),u=l("iterator"),h=!1;try{var c=0,f={next:function(){return{done:!!c++}},return:function(){h=!0}};f[u]=function(){return this},Array.from(f,function(){throw 2})}catch{}s.exports=function(d,p){if(!p&&!h)return!1;var m=!1;try{var g={};g[u]=function(){return{next:function(){return{done:m=!0}}}},d(g)}catch{}return m}}),"1d80":(function(s,o){s.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}}),"1dde":(function(s,o,a){var l=a("d039"),u=a("b622"),h=a("2d00"),c=u("species");s.exports=function(f){return h>=51||!l(function(){var d=[],p=d.constructor={};return p[c]=function(){return{foo:1}},d[f](Boolean).foo!==1})}}),"23cb":(function(s,o,a){var l=a("a691"),u=Math.max,h=Math.min;s.exports=function(c,f){var d=l(c);return d<0?u(d+f,0):h(d,f)}}),"23e7":(function(s,o,a){var l=a("da84"),u=a("06cf").f,h=a("9112"),c=a("6eeb"),f=a("ce4e"),d=a("e893"),p=a("94ca");s.exports=function(m,g){var v=m.target,E=m.global,y=m.stat,x,b,w,S,_,T;if(E?b=l:y?b=l[v]||f(v,{}):b=(l[v]||{}).prototype,b)for(w in g){if(_=g[w],m.noTargetGet?(T=u(b,w),S=T&&T.value):S=b[w],x=p(E?w:v+(y?".":"#")+w,m.forced),!x&&S!==void 0){if(typeof _==typeof S)continue;d(_,S)}(m.sham||S&&S.sham)&&h(_,"sham",!0),c(b,w,_,m)}}}),"241c":(function(s,o,a){var l=a("ca84"),u=a("7839"),h=u.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(f){return l(f,h)}}),"25f0":(function(s,o,a){var l=a("6eeb"),u=a("825a"),h=a("d039"),c=a("ad6d"),f="toString",d=RegExp.prototype,p=d[f],m=h(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),g=p.name!=f;(m||g)&&l(RegExp.prototype,f,function(){var E=u(this),y=String(E.source),x=E.flags,b=String(x===void 0&&E instanceof RegExp&&!("flags"in d)?c.call(E):x);return"/"+y+"/"+b},{unsafe:!0})}),"2ca0":(function(s,o,a){var l=a("23e7"),u=a("06cf").f,h=a("50c4"),c=a("5a34"),f=a("1d80"),d=a("ab13"),p=a("c430"),m="".startsWith,g=Math.min,v=d("startsWith"),E=!p&&!v&&!!(function(){var y=u(String.prototype,"startsWith");return y&&!y.writable})();l({target:"String",proto:!0,forced:!E&&!v},{startsWith:function(x){var b=String(f(this));c(x);var w=h(g(arguments.length>1?arguments[1]:void 0,b.length)),S=String(x);return m?m.call(b,S,w):b.slice(w,w+S.length)===S}})}),"2d00":(function(s,o,a){var l=a("da84"),u=a("342f"),h=l.process,c=h&&h.versions,f=c&&c.v8,d,p;f?(d=f.split("."),p=d[0]+d[1]):u&&(d=u.match(/Edge\/(\d+)/),(!d||d[1]>=74)&&(d=u.match(/Chrome\/(\d+)/),d&&(p=d[1]))),s.exports=p&&+p}),"342f":(function(s,o,a){var l=a("d066");s.exports=l("navigator","userAgent")||""}),"35a1":(function(s,o,a){var l=a("f5df"),u=a("3f8c"),h=a("b622"),c=h("iterator");s.exports=function(f){if(f!=null)return f[c]||f["@@iterator"]||u[l(f)]}}),"37e8":(function(s,o,a){var l=a("83ab"),u=a("9bf2"),h=a("825a"),c=a("df75");s.exports=l?Object.defineProperties:function(d,p){h(d);for(var m=c(p),g=m.length,v=0,E;g>v;)u.f(d,E=m[v++],p[E]);return d}}),"3bbe":(function(s,o,a){var l=a("861d");s.exports=function(u){if(!l(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}}),"3ca3":(function(s,o,a){var l=a("6547").charAt,u=a("69f3"),h=a("7dd0"),c="String Iterator",f=u.set,d=u.getterFor(c);h(String,"String",function(p){f(this,{type:c,string:String(p),index:0})},function(){var m=d(this),g=m.string,v=m.index,E;return v>=g.length?{value:void 0,done:!0}:(E=l(g,v),m.index+=E.length,{value:E,done:!1})})}),"3f8c":(function(s,o){s.exports={}}),4160:(function(s,o,a){var l=a("23e7"),u=a("17c2");l({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})}),"428f":(function(s,o,a){var l=a("da84");s.exports=l}),"44ad":(function(s,o,a){var l=a("d039"),u=a("c6b6"),h="".split;s.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return u(c)=="String"?h.call(c,""):Object(c)}:Object}),"44d2":(function(s,o,a){var l=a("b622"),u=a("7c73"),h=a("9bf2"),c=l("unscopables"),f=Array.prototype;f[c]==null&&h.f(f,c,{configurable:!0,value:u(null)}),s.exports=function(d){f[c][d]=!0}}),"44e7":(function(s,o,a){var l=a("861d"),u=a("c6b6"),h=a("b622"),c=h("match");s.exports=function(f){var d;return l(f)&&((d=f[c])!==void 0?!!d:u(f)=="RegExp")}}),4930:(function(s,o,a){var l=a("d039");s.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})}),"4d64":(function(s,o,a){var l=a("fc6a"),u=a("50c4"),h=a("23cb"),c=function(f){return function(d,p,m){var g=l(d),v=u(g.length),E=h(m,v),y;if(f&&p!=p){for(;v>E;)if(y=g[E++],y!=y)return!0}else for(;v>E;E++)if((f||E in g)&&g[E]===p)return f||E||0;return!f&&-1}};s.exports={includes:c(!0),indexOf:c(!1)}}),"4de4":(function(s,o,a){var l=a("23e7"),u=a("b727").filter,h=a("1dde"),c=a("ae40"),f=h("filter"),d=c("filter");l({target:"Array",proto:!0,forced:!f||!d},{filter:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}})}),"4df4":(function(s,o,a){var l=a("0366"),u=a("7b0b"),h=a("9bdd"),c=a("e95a"),f=a("50c4"),d=a("8418"),p=a("35a1");s.exports=function(g){var v=u(g),E=typeof this=="function"?this:Array,y=arguments.length,x=y>1?arguments[1]:void 0,b=x!==void 0,w=p(v),S=0,_,T,C,F,k,D;if(b&&(x=l(x,y>2?arguments[2]:void 0,2)),w!=null&&!(E==Array&&c(w)))for(F=w.call(v),k=F.next,T=new E;!(C=k.call(F)).done;S++)D=b?h(F,x,[C.value,S],!0):C.value,d(T,S,D);else for(_=f(v.length),T=new E(_);_>S;S++)D=b?x(v[S],S):v[S],d(T,S,D);return T.length=S,T}}),"4fad":(function(s,o,a){var l=a("23e7"),u=a("6f53").entries;l({target:"Object",stat:!0},{entries:function(c){return u(c)}})}),"50c4":(function(s,o,a){var l=a("a691"),u=Math.min;s.exports=function(h){return h>0?u(l(h),9007199254740991):0}}),5135:(function(s,o){var a={}.hasOwnProperty;s.exports=function(l,u){return a.call(l,u)}}),5319:(function(s,o,a){var l=a("d784"),u=a("825a"),h=a("7b0b"),c=a("50c4"),f=a("a691"),d=a("1d80"),p=a("8aa5"),m=a("14c3"),g=Math.max,v=Math.min,E=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,x=/\$([$&'`]|\d\d?)/g,b=function(w){return w===void 0?w:String(w)};l("replace",2,function(w,S,_,T){var C=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,F=T.REPLACE_KEEPS_$0,k=C?"$":"$0";return[function(M,U){var B=d(this),W=M?.[w];return W!==void 0?W.call(M,B,U):S.call(String(B),M,U)},function(N,M){if(!C&&F||typeof M=="string"&&M.indexOf(k)===-1){var U=_(S,N,this,M);if(U.done)return U.value}var B=u(N),W=String(this),Z=typeof M=="function";Z||(M=String(M));var fe=B.global;if(fe){var Q=B.unicode;B.lastIndex=0}for(var J=[];;){var ae=m(B,W);if(ae===null||(J.push(ae),!fe))break;var be=String(ae[0]);be===""&&(B.lastIndex=p(W,c(B.lastIndex),Q))}for(var ee="",K=0,xe=0;xe<J.length;xe++){ae=J[xe];for(var ie=String(ae[0]),ge=g(v(f(ae.index),W.length),0),z=[],se=1;se<ae.length;se++)z.push(b(ae[se]));var ye=ae.groups;if(Z){var Ce=[ie].concat(z,ge,W);ye!==void 0&&Ce.push(ye);var $=String(M.apply(void 0,Ce))}else $=D(ie,W,ge,z,ye,M);ge>=K&&(ee+=W.slice(K,ge)+$,K=ge+ie.length)}return ee+W.slice(K)}];function D(N,M,U,B,W,Z){var fe=U+N.length,Q=B.length,J=x;return W!==void 0&&(W=h(W),J=y),S.call(Z,J,function(ae,be){var ee;switch(be.charAt(0)){case"$":return"$";case"&":return N;case"`":return M.slice(0,U);case"'":return M.slice(fe);case"<":ee=W[be.slice(1,-1)];break;default:var K=+be;if(K===0)return ae;if(K>Q){var xe=E(K/10);return xe===0?ae:xe<=Q?B[xe-1]===void 0?be.charAt(1):B[xe-1]+be.charAt(1):ae}ee=B[K-1]}return ee===void 0?"":ee})}})}),5692:(function(s,o,a){var l=a("c430"),u=a("c6cd");(s.exports=function(h,c){return u[h]||(u[h]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})}),"56ef":(function(s,o,a){var l=a("d066"),u=a("241c"),h=a("7418"),c=a("825a");s.exports=l("Reflect","ownKeys")||function(d){var p=u.f(c(d)),m=h.f;return m?p.concat(m(d)):p}}),"5a34":(function(s,o,a){var l=a("44e7");s.exports=function(u){if(l(u))throw TypeError("The method doesn't accept regular expressions");return u}}),"5c6c":(function(s,o){s.exports=function(a,l){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:l}}}),"5db7":(function(s,o,a){var l=a("23e7"),u=a("a2bf"),h=a("7b0b"),c=a("50c4"),f=a("1c0b"),d=a("65f0");l({target:"Array",proto:!0},{flatMap:function(m){var g=h(this),v=c(g.length),E;return f(m),E=d(g,0),E.length=u(E,g,g,v,0,1,m,arguments.length>1?arguments[1]:void 0),E}})}),6547:(function(s,o,a){var l=a("a691"),u=a("1d80"),h=function(c){return function(f,d){var p=String(u(f)),m=l(d),g=p.length,v,E;return m<0||m>=g?c?"":void 0:(v=p.charCodeAt(m),v<55296||v>56319||m+1===g||(E=p.charCodeAt(m+1))<56320||E>57343?c?p.charAt(m):v:c?p.slice(m,m+2):(v-55296<<10)+(E-56320)+65536)}};s.exports={codeAt:h(!1),charAt:h(!0)}}),"65f0":(function(s,o,a){var l=a("861d"),u=a("e8b5"),h=a("b622"),c=h("species");s.exports=function(f,d){var p;return u(f)&&(p=f.constructor,typeof p=="function"&&(p===Array||u(p.prototype))?p=void 0:l(p)&&(p=p[c],p===null&&(p=void 0))),new(p===void 0?Array:p)(d===0?0:d)}}),"69f3":(function(s,o,a){var l=a("7f9a"),u=a("da84"),h=a("861d"),c=a("9112"),f=a("5135"),d=a("f772"),p=a("d012"),m=u.WeakMap,g,v,E,y=function(C){return E(C)?v(C):g(C,{})},x=function(C){return function(F){var k;if(!h(F)||(k=v(F)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return k}};if(l){var b=new m,w=b.get,S=b.has,_=b.set;g=function(C,F){return _.call(b,C,F),F},v=function(C){return w.call(b,C)||{}},E=function(C){return S.call(b,C)}}else{var T=d("state");p[T]=!0,g=function(C,F){return c(C,T,F),F},v=function(C){return f(C,T)?C[T]:{}},E=function(C){return f(C,T)}}s.exports={set:g,get:v,has:E,enforce:y,getterFor:x}}),"6eeb":(function(s,o,a){var l=a("da84"),u=a("9112"),h=a("5135"),c=a("ce4e"),f=a("8925"),d=a("69f3"),p=d.get,m=d.enforce,g=String(String).split("String");(s.exports=function(v,E,y,x){var b=x?!!x.unsafe:!1,w=x?!!x.enumerable:!1,S=x?!!x.noTargetGet:!1;if(typeof y=="function"&&(typeof E=="string"&&!h(y,"name")&&u(y,"name",E),m(y).source=g.join(typeof E=="string"?E:"")),v===l){w?v[E]=y:c(E,y);return}else b?!S&&v[E]&&(w=!0):delete v[E];w?v[E]=y:u(v,E,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||f(this)})}),"6f53":(function(s,o,a){var l=a("83ab"),u=a("df75"),h=a("fc6a"),c=a("d1e7").f,f=function(d){return function(p){for(var m=h(p),g=u(m),v=g.length,E=0,y=[],x;v>E;)x=g[E++],(!l||c.call(m,x))&&y.push(d?[x,m[x]]:m[x]);return y}};s.exports={entries:f(!0),values:f(!1)}}),"73d9":(function(s,o,a){var l=a("44d2");l("flatMap")}),7418:(function(s,o){o.f=Object.getOwnPropertySymbols}),"746f":(function(s,o,a){var l=a("428f"),u=a("5135"),h=a("e538"),c=a("9bf2").f;s.exports=function(f){var d=l.Symbol||(l.Symbol={});u(d,f)||c(d,f,{value:h.f(f)})}}),7839:(function(s,o){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"7b0b":(function(s,o,a){var l=a("1d80");s.exports=function(u){return Object(l(u))}}),"7c73":(function(s,o,a){var l=a("825a"),u=a("37e8"),h=a("7839"),c=a("d012"),f=a("1be4"),d=a("cc12"),p=a("f772"),m=">",g="<",v="prototype",E="script",y=p("IE_PROTO"),x=function(){},b=function(C){return g+E+m+C+g+"/"+E+m},w=function(C){C.write(b("")),C.close();var F=C.parentWindow.Object;return C=null,F},S=function(){var C=d("iframe"),F="java"+E+":",k;return C.style.display="none",f.appendChild(C),C.src=String(F),k=C.contentWindow.document,k.open(),k.write(b("document.F=Object")),k.close(),k.F},_,T=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch{}T=_?w(_):S();for(var C=h.length;C--;)delete T[v][h[C]];return T()};c[y]=!0,s.exports=Object.create||function(F,k){var D;return F!==null?(x[v]=l(F),D=new x,x[v]=null,D[y]=F):D=T(),k===void 0?D:u(D,k)}}),"7dd0":(function(s,o,a){var l=a("23e7"),u=a("9ed3"),h=a("e163"),c=a("d2bb"),f=a("d44e"),d=a("9112"),p=a("6eeb"),m=a("b622"),g=a("c430"),v=a("3f8c"),E=a("ae93"),y=E.IteratorPrototype,x=E.BUGGY_SAFARI_ITERATORS,b=m("iterator"),w="keys",S="values",_="entries",T=function(){return this};s.exports=function(C,F,k,D,N,M,U){u(k,F,D);var B=function(xe){if(xe===N&&J)return J;if(!x&&xe in fe)return fe[xe];switch(xe){case w:return function(){return new k(this,xe)};case S:return function(){return new k(this,xe)};case _:return function(){return new k(this,xe)}}return function(){return new k(this)}},W=F+" Iterator",Z=!1,fe=C.prototype,Q=fe[b]||fe["@@iterator"]||N&&fe[N],J=!x&&Q||B(N),ae=F=="Array"&&fe.entries||Q,be,ee,K;if(ae&&(be=h(ae.call(new C)),y!==Object.prototype&&be.next&&(!g&&h(be)!==y&&(c?c(be,y):typeof be[b]!="function"&&d(be,b,T)),f(be,W,!0,!0),g&&(v[W]=T))),N==S&&Q&&Q.name!==S&&(Z=!0,J=function(){return Q.call(this)}),(!g||U)&&fe[b]!==J&&d(fe,b,J),v[F]=J,N)if(ee={values:B(S),keys:M?J:B(w),entries:B(_)},U)for(K in ee)(x||Z||!(K in fe))&&p(fe,K,ee[K]);else l({target:F,proto:!0,forced:x||Z},ee);return ee}}),"7f9a":(function(s,o,a){var l=a("da84"),u=a("8925"),h=l.WeakMap;s.exports=typeof h=="function"&&/native code/.test(u(h))}),"825a":(function(s,o,a){var l=a("861d");s.exports=function(u){if(!l(u))throw TypeError(String(u)+" is not an object");return u}}),"83ab":(function(s,o,a){var l=a("d039");s.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),8418:(function(s,o,a){var l=a("c04e"),u=a("9bf2"),h=a("5c6c");s.exports=function(c,f,d){var p=l(f);p in c?u.f(c,p,h(0,d)):c[p]=d}}),"861d":(function(s,o){s.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}}),8875:(function(s,o,a){var l,u,h;(function(c,f){u=[],l=f,h=typeof l=="function"?l.apply(o,u):l,h!==void 0&&(s.exports=h)})(typeof self<"u"?self:this,function(){function c(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(_){var d=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,m=d.exec(_.stack)||p.exec(_.stack),g=m&&m[1]||!1,v=m&&m[2]||!1,E=document.location.href.replace(document.location.hash,""),y,x,b,w=document.getElementsByTagName("script");g===E&&(y=document.documentElement.outerHTML,x=new RegExp("(?:[^\\n]+?\\n){0,"+(v-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),b=y.replace(x,"$1").trim());for(var S=0;S<w.length;S++)if(w[S].readyState==="interactive"||w[S].src===g||g===E&&w[S].innerHTML&&w[S].innerHTML.trim()===b)return w[S];return null}}return c})}),8925:(function(s,o,a){var l=a("c6cd"),u=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(h){return u.call(h)}),s.exports=l.inspectSource}),"8aa5":(function(s,o,a){var l=a("6547").charAt;s.exports=function(u,h,c){return h+(c?l(u,h).length:1)}}),"8bbf":(function(s,o){s.exports=r}),"90e3":(function(s,o){var a=0,l=Math.random();s.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++a+l).toString(36)}}),9112:(function(s,o,a){var l=a("83ab"),u=a("9bf2"),h=a("5c6c");s.exports=l?function(c,f,d){return u.f(c,f,h(1,d))}:function(c,f,d){return c[f]=d,c}}),9263:(function(s,o,a){var l=a("ad6d"),u=a("9f7f"),h=RegExp.prototype.exec,c=String.prototype.replace,f=h,d=(function(){var v=/a/,E=/b*/g;return h.call(v,"a"),h.call(E,"a"),v.lastIndex!==0||E.lastIndex!==0})(),p=u.UNSUPPORTED_Y||u.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0,g=d||m||p;g&&(f=function(E){var y=this,x,b,w,S,_=p&&y.sticky,T=l.call(y),C=y.source,F=0,k=E;return _&&(T=T.replace("y",""),T.indexOf("g")===-1&&(T+="g"),k=String(E).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&E[y.lastIndex-1]!==`
`)&&(C="(?: "+C+")",k=" "+k,F++),b=new RegExp("^(?:"+C+")",T)),m&&(b=new RegExp("^"+C+"$(?!\\s)",T)),d&&(x=y.lastIndex),w=h.call(_?b:y,k),_?w?(w.input=w.input.slice(F),w[0]=w[0].slice(F),w.index=y.lastIndex,y.lastIndex+=w[0].length):y.lastIndex=0:d&&w&&(y.lastIndex=y.global?w.index+w[0].length:x),m&&w&&w.length>1&&c.call(w[0],b,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(w[S]=void 0)}),w}),s.exports=f}),"94ca":(function(s,o,a){var l=a("d039"),u=/#|\.prototype\./,h=function(m,g){var v=f[c(m)];return v==p?!0:v==d?!1:typeof g=="function"?l(g):!!g},c=h.normalize=function(m){return String(m).replace(u,".").toLowerCase()},f=h.data={},d=h.NATIVE="N",p=h.POLYFILL="P";s.exports=h}),"99af":(function(s,o,a){var l=a("23e7"),u=a("d039"),h=a("e8b5"),c=a("861d"),f=a("7b0b"),d=a("50c4"),p=a("8418"),m=a("65f0"),g=a("1dde"),v=a("b622"),E=a("2d00"),y=v("isConcatSpreadable"),x=9007199254740991,b="Maximum allowed index exceeded",w=E>=51||!u(function(){var C=[];return C[y]=!1,C.concat()[0]!==C}),S=g("concat"),_=function(C){if(!c(C))return!1;var F=C[y];return F!==void 0?!!F:h(C)},T=!w||!S;l({target:"Array",proto:!0,forced:T},{concat:function(F){var k=f(this),D=m(k,0),N=0,M,U,B,W,Z;for(M=-1,B=arguments.length;M<B;M++)if(Z=M===-1?k:arguments[M],_(Z)){if(W=d(Z.length),N+W>x)throw TypeError(b);for(U=0;U<W;U++,N++)U in Z&&p(D,N,Z[U])}else{if(N>=x)throw TypeError(b);p(D,N++,Z)}return D.length=N,D}})}),"9bdd":(function(s,o,a){var l=a("825a");s.exports=function(u,h,c,f){try{return f?h(l(c)[0],c[1]):h(c)}catch(p){var d=u.return;throw d!==void 0&&l(d.call(u)),p}}}),"9bf2":(function(s,o,a){var l=a("83ab"),u=a("0cfb"),h=a("825a"),c=a("c04e"),f=Object.defineProperty;o.f=l?f:function(p,m,g){if(h(p),m=c(m,!0),h(g),u)try{return f(p,m,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(p[m]=g.value),p}}),"9ed3":(function(s,o,a){var l=a("ae93").IteratorPrototype,u=a("7c73"),h=a("5c6c"),c=a("d44e"),f=a("3f8c"),d=function(){return this};s.exports=function(p,m,g){var v=m+" Iterator";return p.prototype=u(l,{next:h(1,g)}),c(p,v,!1,!0),f[v]=d,p}}),"9f7f":(function(s,o,a){var l=a("d039");function u(h,c){return RegExp(h,c)}o.UNSUPPORTED_Y=l(function(){var h=u("a","y");return h.lastIndex=2,h.exec("abcd")!=null}),o.BROKEN_CARET=l(function(){var h=u("^r","gy");return h.lastIndex=2,h.exec("str")!=null})}),a2bf:(function(s,o,a){var l=a("e8b5"),u=a("50c4"),h=a("0366"),c=function(f,d,p,m,g,v,E,y){for(var x=g,b=0,w=E?h(E,y,3):!1,S;b<m;){if(b in p){if(S=w?w(p[b],b,d):p[b],v>0&&l(S))x=c(f,d,S,u(S.length),x,v-1)-1;else{if(x>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[x]=S}x++}b++}return x};s.exports=c}),a352:(function(s,o){s.exports=i}),a434:(function(s,o,a){var l=a("23e7"),u=a("23cb"),h=a("a691"),c=a("50c4"),f=a("7b0b"),d=a("65f0"),p=a("8418"),m=a("1dde"),g=a("ae40"),v=m("splice"),E=g("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,x=Math.min,b=9007199254740991,w="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!v||!E},{splice:function(_,T){var C=f(this),F=c(C.length),k=u(_,F),D=arguments.length,N,M,U,B,W,Z;if(D===0?N=M=0:D===1?(N=0,M=F-k):(N=D-2,M=x(y(h(T),0),F-k)),F+N-M>b)throw TypeError(w);for(U=d(C,M),B=0;B<M;B++)W=k+B,W in C&&p(U,B,C[W]);if(U.length=M,N<M){for(B=k;B<F-M;B++)W=B+M,Z=B+N,W in C?C[Z]=C[W]:delete C[Z];for(B=F;B>F-M+N;B--)delete C[B-1]}else if(N>M)for(B=F-M;B>k;B--)W=B+M-1,Z=B+N-1,W in C?C[Z]=C[W]:delete C[Z];for(B=0;B<N;B++)C[B+k]=arguments[B+2];return C.length=F-M+N,U}})}),a4d3:(function(s,o,a){var l=a("23e7"),u=a("da84"),h=a("d066"),c=a("c430"),f=a("83ab"),d=a("4930"),p=a("fdbf"),m=a("d039"),g=a("5135"),v=a("e8b5"),E=a("861d"),y=a("825a"),x=a("7b0b"),b=a("fc6a"),w=a("c04e"),S=a("5c6c"),_=a("7c73"),T=a("df75"),C=a("241c"),F=a("057f"),k=a("7418"),D=a("06cf"),N=a("9bf2"),M=a("d1e7"),U=a("9112"),B=a("6eeb"),W=a("5692"),Z=a("f772"),fe=a("d012"),Q=a("90e3"),J=a("b622"),ae=a("e538"),be=a("746f"),ee=a("d44e"),K=a("69f3"),xe=a("b727").forEach,ie=Z("hidden"),ge="Symbol",z="prototype",se=J("toPrimitive"),ye=K.set,Ce=K.getterFor(ge),$=Object[z],q=u.Symbol,te=h("JSON","stringify"),Ae=D.f,_e=N.f,Ee=F.f,pe=M.f,ve=W("symbols"),De=W("op-symbols"),Me=W("string-to-symbol-registry"),R=W("symbol-to-string-registry"),Ve=W("wks"),Le=u.QObject,Qe=!Le||!Le[z]||!Le[z].findChild,We=f&&m(function(){return _(_e({},"a",{get:function(){return _e(this,"a",{value:7}).a}})).a!=7})?function(me,Ie,Te){var qe=Ae($,Ie);qe&&delete $[Ie],_e(me,Ie,Te),qe&&me!==$&&_e($,Ie,qe)}:_e,gt=function(me,Ie){var Te=ve[me]=_(q[z]);return ye(Te,{type:ge,tag:me,description:Ie}),f||(Te.description=Ie),Te},Se=p?function(me){return typeof me=="symbol"}:function(me){return Object(me)instanceof q},Ne=function(Ie,Te,qe){Ie===$&&Ne(De,Te,qe),y(Ie);var et=w(Te,!0);return y(qe),g(ve,et)?(qe.enumerable?(g(Ie,ie)&&Ie[ie][et]&&(Ie[ie][et]=!1),qe=_(qe,{enumerable:S(0,!1)})):(g(Ie,ie)||_e(Ie,ie,S(1,{})),Ie[ie][et]=!0),We(Ie,et,qe)):_e(Ie,et,qe)},Pe=function(Ie,Te){y(Ie);var qe=b(Te),et=T(qe).concat(ne(qe));return xe(et,function(vt){(!f||Ue.call(qe,vt))&&Ne(Ie,vt,qe[vt])}),Ie},je=function(Ie,Te){return Te===void 0?_(Ie):Pe(_(Ie),Te)},Ue=function(Ie){var Te=w(Ie,!0),qe=pe.call(this,Te);return this===$&&g(ve,Te)&&!g(De,Te)?!1:qe||!g(this,Te)||!g(ve,Te)||g(this,ie)&&this[ie][Te]?qe:!0},L=function(Ie,Te){var qe=b(Ie),et=w(Te,!0);if(!(qe===$&&g(ve,et)&&!g(De,et))){var vt=Ae(qe,et);return vt&&g(ve,et)&&!(g(qe,ie)&&qe[ie][et])&&(vt.enumerable=!0),vt}},V=function(Ie){var Te=Ee(b(Ie)),qe=[];return xe(Te,function(et){!g(ve,et)&&!g(fe,et)&&qe.push(et)}),qe},ne=function(Ie){var Te=Ie===$,qe=Ee(Te?De:b(Ie)),et=[];return xe(qe,function(vt){g(ve,vt)&&(!Te||g($,vt))&&et.push(ve[vt])}),et};if(d||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var Ie=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Te=Q(Ie),qe=function(et){this===$&&qe.call(De,et),g(this,ie)&&g(this[ie],Te)&&(this[ie][Te]=!1),We(this,Te,S(1,et))};return f&&Qe&&We($,Te,{configurable:!0,set:qe}),gt(Te,Ie)},B(q[z],"toString",function(){return Ce(this).tag}),B(q,"withoutSetter",function(me){return gt(Q(me),me)}),M.f=Ue,N.f=Ne,D.f=L,C.f=F.f=V,k.f=ne,ae.f=function(me){return gt(J(me),me)},f&&(_e(q[z],"description",{configurable:!0,get:function(){return Ce(this).description}}),c||B($,"propertyIsEnumerable",Ue,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:q}),xe(T(Ve),function(me){be(me)}),l({target:ge,stat:!0,forced:!d},{for:function(me){var Ie=String(me);if(g(Me,Ie))return Me[Ie];var Te=q(Ie);return Me[Ie]=Te,R[Te]=Ie,Te},keyFor:function(Ie){if(!Se(Ie))throw TypeError(Ie+" is not a symbol");if(g(R,Ie))return R[Ie]},useSetter:function(){Qe=!0},useSimple:function(){Qe=!1}}),l({target:"Object",stat:!0,forced:!d,sham:!f},{create:je,defineProperty:Ne,defineProperties:Pe,getOwnPropertyDescriptor:L}),l({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:V,getOwnPropertySymbols:ne}),l({target:"Object",stat:!0,forced:m(function(){k.f(1)})},{getOwnPropertySymbols:function(Ie){return k.f(x(Ie))}}),te){var he=!d||m(function(){var me=q();return te([me])!="[null]"||te({a:me})!="{}"||te(Object(me))!="{}"});l({target:"JSON",stat:!0,forced:he},{stringify:function(Ie,Te,qe){for(var et=[Ie],vt=1,hn;arguments.length>vt;)et.push(arguments[vt++]);if(hn=Te,!(!E(Te)&&Ie===void 0||Se(Ie)))return v(Te)||(Te=function(O,H){if(typeof hn=="function"&&(H=hn.call(this,O,H)),!Se(H))return H}),et[1]=Te,te.apply(null,et)}})}q[z][se]||U(q[z],se,q[z].valueOf),ee(q,ge),fe[ie]=!0}),a630:(function(s,o,a){var l=a("23e7"),u=a("4df4"),h=a("1c7e"),c=!h(function(f){Array.from(f)});l({target:"Array",stat:!0,forced:c},{from:u})}),a640:(function(s,o,a){var l=a("d039");s.exports=function(u,h){var c=[][u];return!!c&&l(function(){c.call(null,h||function(){throw 1},1)})}}),a691:(function(s,o){var a=Math.ceil,l=Math.floor;s.exports=function(u){return isNaN(u=+u)?0:(u>0?l:a)(u)}}),ab13:(function(s,o,a){var l=a("b622"),u=l("match");s.exports=function(h){var c=/./;try{"/./"[h](c)}catch{try{return c[u]=!1,"/./"[h](c)}catch{}}return!1}}),ac1f:(function(s,o,a){var l=a("23e7"),u=a("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})}),ad6d:(function(s,o,a){var l=a("825a");s.exports=function(){var u=l(this),h="";return u.global&&(h+="g"),u.ignoreCase&&(h+="i"),u.multiline&&(h+="m"),u.dotAll&&(h+="s"),u.unicode&&(h+="u"),u.sticky&&(h+="y"),h}}),ae40:(function(s,o,a){var l=a("83ab"),u=a("d039"),h=a("5135"),c=Object.defineProperty,f={},d=function(p){throw p};s.exports=function(p,m){if(h(f,p))return f[p];m||(m={});var g=[][p],v=h(m,"ACCESSORS")?m.ACCESSORS:!1,E=h(m,0)?m[0]:d,y=h(m,1)?m[1]:void 0;return f[p]=!!g&&!u(function(){if(v&&!l)return!0;var x={length:-1};v?c(x,1,{enumerable:!0,get:d}):x[1]=1,g.call(x,E,y)})}}),ae93:(function(s,o,a){var l=a("e163"),u=a("9112"),h=a("5135"),c=a("b622"),f=a("c430"),d=c("iterator"),p=!1,m=function(){return this},g,v,E;[].keys&&(E=[].keys(),"next"in E?(v=l(l(E)),v!==Object.prototype&&(g=v)):p=!0),g==null&&(g={}),!f&&!h(g,d)&&u(g,d,m),s.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:p}}),b041:(function(s,o,a){var l=a("00ee"),u=a("f5df");s.exports=l?{}.toString:function(){return"[object "+u(this)+"]"}}),b0c0:(function(s,o,a){var l=a("83ab"),u=a("9bf2").f,h=Function.prototype,c=h.toString,f=/^\s*function ([^ (]*)/,d="name";l&&!(d in h)&&u(h,d,{configurable:!0,get:function(){try{return c.call(this).match(f)[1]}catch{return""}}})}),b622:(function(s,o,a){var l=a("da84"),u=a("5692"),h=a("5135"),c=a("90e3"),f=a("4930"),d=a("fdbf"),p=u("wks"),m=l.Symbol,g=d?m:m&&m.withoutSetter||c;s.exports=function(v){return h(p,v)||(f&&h(m,v)?p[v]=m[v]:p[v]=g("Symbol."+v)),p[v]}}),b64b:(function(s,o,a){var l=a("23e7"),u=a("7b0b"),h=a("df75"),c=a("d039"),f=c(function(){h(1)});l({target:"Object",stat:!0,forced:f},{keys:function(p){return h(u(p))}})}),b727:(function(s,o,a){var l=a("0366"),u=a("44ad"),h=a("7b0b"),c=a("50c4"),f=a("65f0"),d=[].push,p=function(m){var g=m==1,v=m==2,E=m==3,y=m==4,x=m==6,b=m==5||x;return function(w,S,_,T){for(var C=h(w),F=u(C),k=l(S,_,3),D=c(F.length),N=0,M=T||f,U=g?M(w,D):v?M(w,0):void 0,B,W;D>N;N++)if((b||N in F)&&(B=F[N],W=k(B,N,C),m)){if(g)U[N]=W;else if(W)switch(m){case 3:return!0;case 5:return B;case 6:return N;case 2:d.call(U,B)}else if(y)return!1}return x?-1:E||y?y:U}};s.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}}),c04e:(function(s,o,a){var l=a("861d");s.exports=function(u,h){if(!l(u))return u;var c,f;if(h&&typeof(c=u.toString)=="function"&&!l(f=c.call(u))||typeof(c=u.valueOf)=="function"&&!l(f=c.call(u))||!h&&typeof(c=u.toString)=="function"&&!l(f=c.call(u)))return f;throw TypeError("Can't convert object to primitive value")}}),c430:(function(s,o){s.exports=!1}),c6b6:(function(s,o){var a={}.toString;s.exports=function(l){return a.call(l).slice(8,-1)}}),c6cd:(function(s,o,a){var l=a("da84"),u=a("ce4e"),h="__core-js_shared__",c=l[h]||u(h,{});s.exports=c}),c740:(function(s,o,a){var l=a("23e7"),u=a("b727").findIndex,h=a("44d2"),c=a("ae40"),f="findIndex",d=!0,p=c(f);f in[]&&Array(1)[f](function(){d=!1}),l({target:"Array",proto:!0,forced:d||!p},{findIndex:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}}),h(f)}),c8ba:(function(s,o){var a;a=(function(){return this})();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}s.exports=a}),c975:(function(s,o,a){var l=a("23e7"),u=a("4d64").indexOf,h=a("a640"),c=a("ae40"),f=[].indexOf,d=!!f&&1/[1].indexOf(1,-0)<0,p=h("indexOf"),m=c("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:d||!p||!m},{indexOf:function(v){return d?f.apply(this,arguments)||0:u(this,v,arguments.length>1?arguments[1]:void 0)}})}),ca84:(function(s,o,a){var l=a("5135"),u=a("fc6a"),h=a("4d64").indexOf,c=a("d012");s.exports=function(f,d){var p=u(f),m=0,g=[],v;for(v in p)!l(c,v)&&l(p,v)&&g.push(v);for(;d.length>m;)l(p,v=d[m++])&&(~h(g,v)||g.push(v));return g}}),caad:(function(s,o,a){var l=a("23e7"),u=a("4d64").includes,h=a("44d2"),c=a("ae40"),f=c("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!f},{includes:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}}),h("includes")}),cc12:(function(s,o,a){var l=a("da84"),u=a("861d"),h=l.document,c=u(h)&&u(h.createElement);s.exports=function(f){return c?h.createElement(f):{}}}),ce4e:(function(s,o,a){var l=a("da84"),u=a("9112");s.exports=function(h,c){try{u(l,h,c)}catch{l[h]=c}return c}}),d012:(function(s,o){s.exports={}}),d039:(function(s,o){s.exports=function(a){try{return!!a()}catch{return!0}}}),d066:(function(s,o,a){var l=a("428f"),u=a("da84"),h=function(c){return typeof c=="function"?c:void 0};s.exports=function(c,f){return arguments.length<2?h(l[c])||h(u[c]):l[c]&&l[c][f]||u[c]&&u[c][f]}}),d1e7:(function(s,o,a){var l={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,h=u&&!l.call({1:2},1);o.f=h?function(f){var d=u(this,f);return!!d&&d.enumerable}:l}),d28b:(function(s,o,a){var l=a("746f");l("iterator")}),d2bb:(function(s,o,a){var l=a("825a"),u=a("3bbe");s.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var h=!1,c={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(c,[]),h=c instanceof Array}catch{}return function(p,m){return l(p),u(m),h?f.call(p,m):p.__proto__=m,p}})():void 0)}),d3b7:(function(s,o,a){var l=a("00ee"),u=a("6eeb"),h=a("b041");l||u(Object.prototype,"toString",h,{unsafe:!0})}),d44e:(function(s,o,a){var l=a("9bf2").f,u=a("5135"),h=a("b622"),c=h("toStringTag");s.exports=function(f,d,p){f&&!u(f=p?f:f.prototype,c)&&l(f,c,{configurable:!0,value:d})}}),d58f:(function(s,o,a){var l=a("1c0b"),u=a("7b0b"),h=a("44ad"),c=a("50c4"),f=function(d){return function(p,m,g,v){l(m);var E=u(p),y=h(E),x=c(E.length),b=d?x-1:0,w=d?-1:1;if(g<2)for(;;){if(b in y){v=y[b],b+=w;break}if(b+=w,d?b<0:x<=b)throw TypeError("Reduce of empty array with no initial value")}for(;d?b>=0:x>b;b+=w)b in y&&(v=m(v,y[b],b,E));return v}};s.exports={left:f(!1),right:f(!0)}}),d784:(function(s,o,a){a("ac1f");var l=a("6eeb"),u=a("d039"),h=a("b622"),c=a("9263"),f=a("9112"),d=h("species"),p=!u(function(){var y=/./;return y.exec=function(){var x=[];return x.groups={a:"7"},x},"".replace(y,"$<a>")!=="7"}),m=(function(){return"a".replace(/./,"$0")==="$0"})(),g=h("replace"),v=(function(){return/./[g]?/./[g]("a","$0")==="":!1})(),E=!u(function(){var y=/(?:)/,x=y.exec;y.exec=function(){return x.apply(this,arguments)};var b="ab".split(y);return b.length!==2||b[0]!=="a"||b[1]!=="b"});s.exports=function(y,x,b,w){var S=h(y),_=!u(function(){var N={};return N[S]=function(){return 7},""[y](N)!=7}),T=_&&!u(function(){var N=!1,M=/a/;return y==="split"&&(M={},M.constructor={},M.constructor[d]=function(){return M},M.flags="",M[S]=/./[S]),M.exec=function(){return N=!0,null},M[S](""),!N});if(!_||!T||y==="replace"&&!(p&&m&&!v)||y==="split"&&!E){var C=/./[S],F=b(S,""[y],function(N,M,U,B,W){return M.exec===c?_&&!W?{done:!0,value:C.call(M,U,B)}:{done:!0,value:N.call(U,M,B)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),k=F[0],D=F[1];l(String.prototype,y,k),l(RegExp.prototype,S,x==2?function(N,M){return D.call(N,this,M)}:function(N){return D.call(N,this)})}w&&f(RegExp.prototype[S],"sham",!0)}}),d81d:(function(s,o,a){var l=a("23e7"),u=a("b727").map,h=a("1dde"),c=a("ae40"),f=h("map"),d=c("map");l({target:"Array",proto:!0,forced:!f||!d},{map:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}})}),da84:(function(s,o,a){(function(l){var u=function(h){return h&&h.Math==Math&&h};s.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof l=="object"&&l)||Function("return this")()}).call(this,a("c8ba"))}),dbb4:(function(s,o,a){var l=a("23e7"),u=a("83ab"),h=a("56ef"),c=a("fc6a"),f=a("06cf"),d=a("8418");l({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(m){for(var g=c(m),v=f.f,E=h(g),y={},x=0,b,w;E.length>x;)w=v(g,b=E[x++]),w!==void 0&&d(y,b,w);return y}})}),dbf1:(function(s,o,a){(function(l){a.d(o,"a",function(){return h});function u(){return typeof window<"u"?window.console:l.console}var h=u()}).call(this,a("c8ba"))}),ddb0:(function(s,o,a){var l=a("da84"),u=a("fdbc"),h=a("e260"),c=a("9112"),f=a("b622"),d=f("iterator"),p=f("toStringTag"),m=h.values;for(var g in u){var v=l[g],E=v&&v.prototype;if(E){if(E[d]!==m)try{c(E,d,m)}catch{E[d]=m}if(E[p]||c(E,p,g),u[g]){for(var y in h)if(E[y]!==h[y])try{c(E,y,h[y])}catch{E[y]=h[y]}}}}}),df75:(function(s,o,a){var l=a("ca84"),u=a("7839");s.exports=Object.keys||function(c){return l(c,u)}}),e01a:(function(s,o,a){var l=a("23e7"),u=a("83ab"),h=a("da84"),c=a("5135"),f=a("861d"),d=a("9bf2").f,p=a("e893"),m=h.Symbol;if(u&&typeof m=="function"&&(!("description"in m.prototype)||m().description!==void 0)){var g={},v=function(){var S=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),_=this instanceof v?new m(S):S===void 0?m():m(S);return S===""&&(g[_]=!0),_};p(v,m);var E=v.prototype=m.prototype;E.constructor=v;var y=E.toString,x=String(m("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/;d(E,"description",{configurable:!0,get:function(){var S=f(this)?this.valueOf():this,_=y.call(S);if(c(g,S))return"";var T=x?_.slice(7,-1):_.replace(b,"$1");return T===""?void 0:T}}),l({global:!0,forced:!0},{Symbol:v})}}),e163:(function(s,o,a){var l=a("5135"),u=a("7b0b"),h=a("f772"),c=a("e177"),f=h("IE_PROTO"),d=Object.prototype;s.exports=c?Object.getPrototypeOf:function(p){return p=u(p),l(p,f)?p[f]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?d:null}}),e177:(function(s,o,a){var l=a("d039");s.exports=!l(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})}),e260:(function(s,o,a){var l=a("fc6a"),u=a("44d2"),h=a("3f8c"),c=a("69f3"),f=a("7dd0"),d="Array Iterator",p=c.set,m=c.getterFor(d);s.exports=f(Array,"Array",function(g,v){p(this,{type:d,target:l(g),index:0,kind:v})},function(){var g=m(this),v=g.target,E=g.kind,y=g.index++;return!v||y>=v.length?(g.target=void 0,{value:void 0,done:!0}):E=="keys"?{value:y,done:!1}:E=="values"?{value:v[y],done:!1}:{value:[y,v[y]],done:!1}},"values"),h.Arguments=h.Array,u("keys"),u("values"),u("entries")}),e439:(function(s,o,a){var l=a("23e7"),u=a("d039"),h=a("fc6a"),c=a("06cf").f,f=a("83ab"),d=u(function(){c(1)}),p=!f||d;l({target:"Object",stat:!0,forced:p,sham:!f},{getOwnPropertyDescriptor:function(g,v){return c(h(g),v)}})}),e538:(function(s,o,a){var l=a("b622");o.f=l}),e893:(function(s,o,a){var l=a("5135"),u=a("56ef"),h=a("06cf"),c=a("9bf2");s.exports=function(f,d){for(var p=u(d),m=c.f,g=h.f,v=0;v<p.length;v++){var E=p[v];l(f,E)||m(f,E,g(d,E))}}}),e8b5:(function(s,o,a){var l=a("c6b6");s.exports=Array.isArray||function(h){return l(h)=="Array"}}),e95a:(function(s,o,a){var l=a("b622"),u=a("3f8c"),h=l("iterator"),c=Array.prototype;s.exports=function(f){return f!==void 0&&(u.Array===f||c[h]===f)}}),f5df:(function(s,o,a){var l=a("00ee"),u=a("c6b6"),h=a("b622"),c=h("toStringTag"),f=u((function(){return arguments})())=="Arguments",d=function(p,m){try{return p[m]}catch{}};s.exports=l?u:function(p){var m,g,v;return p===void 0?"Undefined":p===null?"Null":typeof(g=d(m=Object(p),c))=="string"?g:f?u(m):(v=u(m))=="Object"&&typeof m.callee=="function"?"Arguments":v}}),f772:(function(s,o,a){var l=a("5692"),u=a("90e3"),h=l("keys");s.exports=function(c){return h[c]||(h[c]=u(c))}}),fb15:(function(s,o,a){if(a.r(o),typeof window<"u"){var l=window.document.currentScript;{var u=a("8875");l=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var h=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);h&&(a.p=h[1])}a("99af"),a("4de4"),a("4160"),a("c975"),a("d81d"),a("a434"),a("159b"),a("a4d3"),a("e439"),a("dbb4"),a("b64b");function c(Se,Ne,Pe){return Ne in Se?Object.defineProperty(Se,Ne,{value:Pe,enumerable:!0,configurable:!0,writable:!0}):Se[Ne]=Pe,Se}function f(Se,Ne){var Pe=Object.keys(Se);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(Se);Ne&&(je=je.filter(function(Ue){return Object.getOwnPropertyDescriptor(Se,Ue).enumerable})),Pe.push.apply(Pe,je)}return Pe}function d(Se){for(var Ne=1;Ne<arguments.length;Ne++){var Pe=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?f(Object(Pe),!0).forEach(function(je){c(Se,je,Pe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Pe)):f(Object(Pe)).forEach(function(je){Object.defineProperty(Se,je,Object.getOwnPropertyDescriptor(Pe,je))})}return Se}function p(Se){if(Array.isArray(Se))return Se}a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function m(Se,Ne){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Se)))){var Pe=[],je=!0,Ue=!1,L=void 0;try{for(var V=Se[Symbol.iterator](),ne;!(je=(ne=V.next()).done)&&(Pe.push(ne.value),!(Ne&&Pe.length===Ne));je=!0);}catch(he){Ue=!0,L=he}finally{try{!je&&V.return!=null&&V.return()}finally{if(Ue)throw L}}return Pe}}a("a630"),a("fb6a"),a("b0c0"),a("25f0");function g(Se,Ne){(Ne==null||Ne>Se.length)&&(Ne=Se.length);for(var Pe=0,je=new Array(Ne);Pe<Ne;Pe++)je[Pe]=Se[Pe];return je}function v(Se,Ne){if(Se){if(typeof Se=="string")return g(Se,Ne);var Pe=Object.prototype.toString.call(Se).slice(8,-1);if(Pe==="Object"&&Se.constructor&&(Pe=Se.constructor.name),Pe==="Map"||Pe==="Set")return Array.from(Se);if(Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return g(Se,Ne)}}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(Se,Ne){return p(Se)||m(Se,Ne)||v(Se,Ne)||E()}function x(Se){if(Array.isArray(Se))return g(Se)}function b(Se){if(typeof Symbol<"u"&&Symbol.iterator in Object(Se))return Array.from(Se)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(Se){return x(Se)||b(Se)||v(Se)||w()}var _=a("a352"),T=a.n(_);function C(Se){Se.parentElement!==null&&Se.parentElement.removeChild(Se)}function F(Se,Ne,Pe){var je=Pe===0?Se.children[0]:Se.children[Pe-1].nextSibling;Se.insertBefore(Ne,je)}var k=a("dbf1");a("13d5"),a("4fad"),a("ac1f"),a("5319");function D(Se){var Ne=Object.create(null);return function(je){var Ue=Ne[je];return Ue||(Ne[je]=Se(je))}}var N=/-(\w)/g,M=D(function(Se){return Se.replace(N,function(Ne,Pe){return Pe.toUpperCase()})});a("5db7"),a("73d9");var U=["Start","Add","Remove","Update","End"],B=["Choose","Unchoose","Sort","Filter","Clone"],W=["Move"],Z=[W,U,B].flatMap(function(Se){return Se}).map(function(Se){return"on".concat(Se)}),fe={manage:W,manageAndEmit:U,emit:B};function Q(Se){return Z.indexOf(Se)!==-1}a("caad"),a("2ca0");var J=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ae(Se){return J.includes(Se)}function be(Se){return["transition-group","TransitionGroup"].includes(Se)}function ee(Se){return["id","class","role","style"].includes(Se)||Se.startsWith("data-")||Se.startsWith("aria-")||Se.startsWith("on")}function K(Se){return Se.reduce(function(Ne,Pe){var je=y(Pe,2),Ue=je[0],L=je[1];return Ne[Ue]=L,Ne},{})}function xe(Se){var Ne=Se.$attrs,Pe=Se.componentData,je=Pe===void 0?{}:Pe,Ue=K(Object.entries(Ne).filter(function(L){var V=y(L,2),ne=V[0];return V[1],ee(ne)}));return d(d({},Ue),je)}function ie(Se){var Ne=Se.$attrs,Pe=Se.callBackBuilder,je=K(ge(Ne));Object.entries(Pe).forEach(function(L){var V=y(L,2),ne=V[0],he=V[1];fe[ne].forEach(function(me){je["on".concat(me)]=he(me)})});var Ue="[data-draggable]".concat(je.draggable||"");return d(d({},je),{},{draggable:Ue})}function ge(Se){return Object.entries(Se).filter(function(Ne){var Pe=y(Ne,2),je=Pe[0];return Pe[1],!ee(je)}).map(function(Ne){var Pe=y(Ne,2),je=Pe[0],Ue=Pe[1];return[M(je),Ue]}).filter(function(Ne){var Pe=y(Ne,2),je=Pe[0];return Pe[1],!Q(je)})}a("c740");function z(Se,Ne){if(!(Se instanceof Ne))throw new TypeError("Cannot call a class as a function")}function se(Se,Ne){for(var Pe=0;Pe<Ne.length;Pe++){var je=Ne[Pe];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(Se,je.key,je)}}function ye(Se,Ne,Pe){return Ne&&se(Se.prototype,Ne),Se}var Ce=function(Ne){var Pe=Ne.el;return Pe},$=function(Ne,Pe){return Ne.__draggable_context=Pe},q=function(Ne){return Ne.__draggable_context},te=(function(){function Se(Ne){var Pe=Ne.nodes,je=Pe.header,Ue=Pe.default,L=Pe.footer,V=Ne.root,ne=Ne.realList;z(this,Se),this.defaultNodes=Ue,this.children=[].concat(S(je),S(Ue),S(L)),this.externalComponent=V.externalComponent,this.rootTransition=V.transition,this.tag=V.tag,this.realList=ne}return ye(Se,[{key:"render",value:function(Pe,je){var Ue=this.tag,L=this.children,V=this._isRootComponent,ne=V?{default:function(){return L}}:L;return Pe(Ue,je,ne)}},{key:"updated",value:function(){var Pe=this.defaultNodes,je=this.realList;Pe.forEach(function(Ue,L){$(Ce(Ue),{element:je[L],index:L})})}},{key:"getUnderlyingVm",value:function(Pe){return q(Pe)}},{key:"getVmIndexFromDomIndex",value:function(Pe,je){var Ue=this.defaultNodes,L=Ue.length,V=je.children,ne=V.item(Pe);if(ne===null)return L;var he=q(ne);if(he)return he.index;if(L===0)return 0;var me=Ce(Ue[0]),Ie=S(V).findIndex(function(Te){return Te===me});return Pe<Ie?0:L}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),Se})(),Ae=a("8bbf");function _e(Se,Ne){var Pe=Se[Ne];return Pe?Pe():[]}function Ee(Se){var Ne=Se.$slots,Pe=Se.realList,je=Se.getKey,Ue=Pe||[],L=["header","footer"].map(function(Te){return _e(Ne,Te)}),V=y(L,2),ne=V[0],he=V[1],me=Ne.item;if(!me)throw new Error("draggable element must have an item slot");var Ie=Ue.flatMap(function(Te,qe){return me({element:Te,index:qe}).map(function(et){return et.key=je(Te),et.props=d(d({},et.props||{}),{},{"data-draggable":!0}),et})});if(Ie.length!==Ue.length)throw new Error("Item slot must have only one child");return{header:ne,footer:he,default:Ie}}function pe(Se){var Ne=be(Se),Pe=!ae(Se)&&!Ne;return{transition:Ne,externalComponent:Pe,tag:Pe?Object(Ae.resolveComponent)(Se):Ne?Ae.TransitionGroup:Se}}function ve(Se){var Ne=Se.$slots,Pe=Se.tag,je=Se.realList,Ue=Se.getKey,L=Ee({$slots:Ne,realList:je,getKey:Ue}),V=pe(Pe);return new te({nodes:L,root:V,realList:je})}function De(Se,Ne){var Pe=this;Object(Ae.nextTick)(function(){return Pe.$emit(Se.toLowerCase(),Ne)})}function Me(Se){var Ne=this;return function(Pe,je){if(Ne.realList!==null)return Ne["onDrag".concat(Se)](Pe,je)}}function R(Se){var Ne=this,Pe=Me.call(this,Se);return function(je,Ue){Pe.call(Ne,je,Ue),De.call(Ne,Se,je)}}var Ve=null,Le={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(Ne){return Ne}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Qe=["update:modelValue","change"].concat(S([].concat(S(fe.manageAndEmit),S(fe.emit)).map(function(Se){return Se.toLowerCase()}))),We=Object(Ae.defineComponent)({name:"draggable",inheritAttrs:!1,props:Le,emits:Qe,data:function(){return{error:!1}},render:function(){try{this.error=!1;var Ne=this.$slots,Pe=this.$attrs,je=this.tag,Ue=this.componentData,L=this.realList,V=this.getKey,ne=ve({$slots:Ne,tag:je,realList:L,getKey:V});this.componentStructure=ne;var he=xe({$attrs:Pe,componentData:Ue});return ne.render(Ae.h,he)}catch(me){return this.error=!0,Object(Ae.h)("pre",{style:{color:"red"}},me.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&k.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var Ne=this;if(!this.error){var Pe=this.$attrs,je=this.$el,Ue=this.componentStructure;Ue.updated();var L=ie({$attrs:Pe,callBackBuilder:{manageAndEmit:function(he){return R.call(Ne,he)},emit:function(he){return De.bind(Ne,he)},manage:function(he){return Me.call(Ne,he)}}}),V=je.nodeType===1?je:je.parentElement;this._sortable=new T.a(V,L),this.targetDomElement=V,V.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var Ne=this.list;return Ne||this.modelValue},getKey:function(){var Ne=this.itemKey;return typeof Ne=="function"?Ne:function(Pe){return Pe[Ne]}}},watch:{$attrs:{handler:function(Ne){var Pe=this._sortable;Pe&&ge(Ne).forEach(function(je){var Ue=y(je,2),L=Ue[0],V=Ue[1];Pe.option(L,V)})},deep:!0}},methods:{getUnderlyingVm:function(Ne){return this.componentStructure.getUnderlyingVm(Ne)||null},getUnderlyingPotencialDraggableComponent:function(Ne){return Ne.__draggable_component__},emitChanges:function(Ne){var Pe=this;Object(Ae.nextTick)(function(){return Pe.$emit("change",Ne)})},alterList:function(Ne){if(this.list){Ne(this.list);return}var Pe=S(this.modelValue);Ne(Pe),this.$emit("update:modelValue",Pe)},spliceList:function(){var Ne=arguments,Pe=function(Ue){return Ue.splice.apply(Ue,S(Ne))};this.alterList(Pe)},updatePosition:function(Ne,Pe){var je=function(L){return L.splice(Pe,0,L.splice(Ne,1)[0])};this.alterList(je)},getRelatedContextFromMoveEvent:function(Ne){var Pe=Ne.to,je=Ne.related,Ue=this.getUnderlyingPotencialDraggableComponent(Pe);if(!Ue)return{component:Ue};var L=Ue.realList,V={list:L,component:Ue};if(Pe!==je&&L){var ne=Ue.getUnderlyingVm(je)||{};return d(d({},ne),V)}return V},getVmIndexFromDomIndex:function(Ne){return this.componentStructure.getVmIndexFromDomIndex(Ne,this.targetDomElement)},onDragStart:function(Ne){this.context=this.getUnderlyingVm(Ne.item),Ne.item._underlying_vm_=this.clone(this.context.element),Ve=Ne.item},onDragAdd:function(Ne){var Pe=Ne.item._underlying_vm_;if(Pe!==void 0){C(Ne.item);var je=this.getVmIndexFromDomIndex(Ne.newIndex);this.spliceList(je,0,Pe);var Ue={element:Pe,newIndex:je};this.emitChanges({added:Ue})}},onDragRemove:function(Ne){if(F(this.$el,Ne.item,Ne.oldIndex),Ne.pullMode==="clone"){C(Ne.clone);return}var Pe=this.context,je=Pe.index,Ue=Pe.element;this.spliceList(je,1);var L={element:Ue,oldIndex:je};this.emitChanges({removed:L})},onDragUpdate:function(Ne){C(Ne.item),F(Ne.from,Ne.item,Ne.oldIndex);var Pe=this.context.index,je=this.getVmIndexFromDomIndex(Ne.newIndex);this.updatePosition(Pe,je);var Ue={element:this.context.element,oldIndex:Pe,newIndex:je};this.emitChanges({moved:Ue})},computeFutureIndex:function(Ne,Pe){if(!Ne.element)return 0;var je=S(Pe.to.children).filter(function(ne){return ne.style.display!=="none"}),Ue=je.indexOf(Pe.related),L=Ne.component.getVmIndexFromDomIndex(Ue),V=je.indexOf(Ve)!==-1;return V||!Pe.willInsertAfter?L:L+1},onDragMove:function(Ne,Pe){var je=this.move,Ue=this.realList;if(!je||!Ue)return!0;var L=this.getRelatedContextFromMoveEvent(Ne),V=this.computeFutureIndex(L,Ne),ne=d(d({},this.context),{},{futureIndex:V}),he=d(d({},Ne),{},{relatedContext:L,draggedContext:ne});return je(he,Pe)},onDragEnd:function(){Ve=null}}}),gt=We;o.default=gt}),fb6a:(function(s,o,a){var l=a("23e7"),u=a("861d"),h=a("e8b5"),c=a("23cb"),f=a("50c4"),d=a("fc6a"),p=a("8418"),m=a("b622"),g=a("1dde"),v=a("ae40"),E=g("slice"),y=v("slice",{ACCESSORS:!0,0:0,1:2}),x=m("species"),b=[].slice,w=Math.max;l({target:"Array",proto:!0,forced:!E||!y},{slice:function(_,T){var C=d(this),F=f(C.length),k=c(_,F),D=c(T===void 0?F:T,F),N,M,U;if(h(C)&&(N=C.constructor,typeof N=="function"&&(N===Array||h(N.prototype))?N=void 0:u(N)&&(N=N[x],N===null&&(N=void 0)),N===Array||N===void 0))return b.call(C,k,D);for(M=new(N===void 0?Array:N)(w(D-k,0)),U=0;k<D;k++,U++)k in C&&p(M,U,C[k]);return M.length=U,M}})}),fc6a:(function(s,o,a){var l=a("44ad"),u=a("1d80");s.exports=function(h){return l(u(h))}}),fdbc:(function(s,o){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),fdbf:(function(s,o,a){var l=a("4930");s.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"})}).default})})(zd)),zd.exports}var Pz=Lz();const Rz=i1(Pz),Bz={name:"ConfirmDeleteModal",props:{show:{type:Boolean,default:!1},message:{type:String,default:"?"}},emits:["confirm","close"],methods:{confirm(){this.$emit("confirm")},close(){this.$emit("close")}}},Uz={class:"modal-content"},Vz={class:"button-group"};function $z(n,t,r,i,s,o){return r.show?(re(),ce("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=br((...a)=>o.close&&o.close(...a),["self"])),style:{"font-family":"'SUIT', sans-serif"}},[A("div",Uz,[A("p",null,Be(r.message),1),A("div",Vz,[A("button",{class:"btn btn-cancel",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},""),A("button",{class:"btn btn-confirm",onClick:t[1]||(t[1]=(...a)=>o.confirm&&o.confirm(...a))},"")])])])):rt("",!0)}const _N=wt(Bz,[["render",$z],["__scopeId","data-v-d3ea8c76"]]),jz={name:"AddPlaceModal",props:{show:{type:Boolean,default:!1}},emits:["close","add-item"],data(){return{searchQuery:"",places:[],loading:!1,currentLocation:"   ...",addedPlaceIds:new Set,searchTimeout:null,ps:null}},mounted(){this.initializeKakaoServices(),this.getCurrentLocation()},methods:{initializeKakaoServices(){window.kakao&&window.kakao.maps&&window.kakao.maps.services?(this.ps=new window.kakao.maps.services.Places,this.geocoder=new window.kakao.maps.services.Geocoder,console.log(" Places  Geocoder   .")):(console.error(" services API  ."),this.currentLocation="    .")},getCurrentLocation(){if(!navigator.geolocation){this.currentLocation=" Geolocation  .",console.error("Geolocation not supported by this browser.");return}console.log("   ..."),this.currentLocation="   ...",navigator.geolocation.getCurrentPosition(n=>{this.currentLat=n.coords.latitude,this.currentLng=n.coords.longitude,console.log(` : ${this.currentLat}, ${this.currentLng}`),this.getAddressFromCoords(this.currentLat,this.currentLng)},n=>{this.currentLocation="    .",console.error("Geolocation :",n.message),this.currentLat=37.566826,this.currentLng=126.9786567,this.currentLocation=" () "},{enableHighAccuracy:!1,timeout:1e4,maximumAge:0})},getAddressFromCoords(n,t){if(!this.geocoder){console.error("Geocoder   .");return}const r=new window.kakao.maps.LatLng(n,t);this.geocoder.coord2Address(r.getLng(),r.getLat(),(i,s)=>{if(s===window.kakao.maps.services.Status.OK){const o=i[0]?.road_address?.address_name||i[0]?.address?.address_name;o?(this.currentLocation=o,console.log("  :",o)):(this.currentLocation="    .",console.warn("   ,   :",i))}else this.currentLocation="  ",console.error("Geocoder :",s)})},onSearchInput(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchQuery.trim()&&(this.searchTimeout=setTimeout(()=>{this.searchPlaces()},500))},searchPlaces(){if(!this.ps||!this.searchQuery.trim()||this.currentLat===null||this.currentLng===null){console.warn("    (ps, searchQuery, currentCoords):",this.ps,this.searchQuery,this.currentLat,this.currentLng);return}this.loading=!0;const n={location:new window.kakao.maps.LatLng(this.currentLat,this.currentLng),radius:1e4,sort:window.kakao.maps.services.SortBy.ACCURACY};this.ps.keywordSearch(this.searchQuery,this.searchCallback,n)},searchCallback(n,t,r){this.loading=!1,t===window.kakao.maps.services.Status.OK?(this.places=n.map((i,s)=>({id:i.id||`search-${s}`,name:i.place_name,address:i.road_address_name||i.address_name,lat:parseFloat(i.y),lng:parseFloat(i.x),phone:i.phone||"",category:i.category_name||"",url:i.place_url||""})),console.log(" :",this.places)):t===window.kakao.maps.services.Status.ZERO_RESULT?(this.places=[],console.log("  .")):(console.error("   :",t),this.places=[])},clearSearch(){this.searchQuery="",this.places=[]},isPlaceAdded(n){return this.addedPlaceIds.has(n)},addItem(n){this.addedPlaceIds.add(n.id),this.$emit("add-item",{name:n.name,address:n.address,lat:n.lat,lng:n.lng,phone:n.phone||"",category:n.category||"",imageUrl:"https://placehold.co/800x600/AACCFF/000000"}),console.log(" :",n)},close(){this.searchQuery="",this.places=[],this.addedPlaceIds.clear(),this.$emit("close")}},beforeUnmount(){this.searchTimeout&&clearTimeout(this.searchTimeout)}},zz={class:"modal-content"},Gz={class:"header"},Hz={class:"content"},Wz={class:"current-location"},Xz={class:"search-bar"},qz={key:0,class:"loading-state"},Yz={key:1,class:"no-results"},Kz={key:2,class:"place-list"},Zz={class:"place-info"},Jz={class:"place-name"},Qz={class:"place-address"},eG={key:0,class:"place-phone"},tG={key:1,class:"place-category"},nG=["disabled","onClick"],rG={key:0,class:"bi bi-plus"};function iG(n,t,r,i,s,o){return r.show?(re(),ce("div",{key:0,class:"modal-overlay",style:{"font-family":"'SUIT', sans-serif"},onClick:t[5]||(t[5]=br((...a)=>o.close&&o.close(...a),["self"]))},[A("div",zz,[A("div",Gz,[t[6]||(t[6]=A("span",{class:"title"},"  ",-1)),A("button",{class:"close-btn",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},"")]),A("div",Hz,[A("div",Wz,[t[7]||(t[7]=A("i",{class:"bi bi-geo-alt-fill"},null,-1)),Nt("  : "+Be(s.currentLocation),1)]),A("div",Xz,[t[9]||(t[9]=A("i",{class:"bi bi-search"},null,-1)),an(A("input",{type:"text",placeholder:"    ","onUpdate:modelValue":t[1]||(t[1]=a=>s.searchQuery=a),onInput:t[2]||(t[2]=(...a)=>o.onSearchInput&&o.onSearchInput(...a)),onKeyup:t[3]||(t[3]=L1((...a)=>o.searchPlaces&&o.searchPlaces(...a),["enter"]))},null,544),[[nr,s.searchQuery]]),s.searchQuery?(re(),ce("button",{key:0,onClick:t[4]||(t[4]=(...a)=>o.clearSearch&&o.clearSearch(...a)),class:"clear-btn"},[...t[8]||(t[8]=[A("i",{class:"bi bi-x"},null,-1)])])):rt("",!0)]),s.loading?(re(),ce("div",qz,[...t[10]||(t[10]=[A("div",{class:"spinner"},null,-1),A("span",null," ...",-1)])])):s.searchQuery&&s.places.length===0&&!s.loading?(re(),ce("div",Yz,[t[11]||(t[11]=A("i",{class:"bi bi-search"},null,-1)),A("span",null,'"'+Be(s.searchQuery)+'"    .',1)])):(re(),ce("ul",Kz,[(re(!0),ce(at,null,At(s.places,a=>(re(),ce("li",{key:a.id,class:"place-item"},[A("div",Zz,[A("span",Jz,Be(a.name),1),A("span",Qz,Be(a.address),1),a.phone?(re(),ce("span",eG,Be(a.phone),1)):rt("",!0),a.category?(re(),ce("span",tG,Be(a.category),1)):rt("",!0)]),A("button",{class:"btn-add",disabled:o.isPlaceAdded(a.id),onClick:l=>o.addItem(a)},[o.isPlaceAdded(a.id)?rt("",!0):(re(),ce("i",rG)),Nt(" "+Be(o.isPlaceAdded(a.id)?"":""),1)],8,nG)]))),128))]))])])])):rt("",!0)}const sG=wt(jz,[["render",iG],["__scopeId","data-v-13aef927"]]),oG={class:"map-rv-container"},aG={key:0,class:"map-toggle-buttons"},lG={__name:"CourseMap",props:{items:{type:Array,required:!0},title:{type:String,default:" "},isSingleLocation:{type:Boolean,default:!1},defaultZoomLevel:{type:Number,default:5},pageType:{type:String,default:"place"}},setup(n){const t=n,r=Xe(null),i=Xe(null),s=Xe([]),o=Xe(null),a=Xe(null),l=Xe(null),u=Xe(!1),h=Xe(null);xr(()=>{if(window.kakao&&window.kakao.maps){const E={center:new window.kakao.maps.LatLng(36.3758,127.3845),level:t.isSingleLocation?t.defaultZoomLevel:5};i.value=new window.kakao.maps.Map(r.value,E),l.value=new window.kakao.maps.Roadview(a.value),h.value=new window.kakao.maps.RoadviewClient,m(t.items)}else console.error(" API  .")}),Wi(()=>t.items,E=>{i.value&&(m(E),u.value&&f(!1))});const c=async E=>{if(t.pageType==="exhibition")return console.log('[API] pageType "exhibition" API      .'),null;if(E.length<2)return console.warn("[API]    ."),null;const y=E[0],x=E[E.length-1],b=E.slice(1,-1),w={origin:{x:y.lng.toString(),y:y.lat.toString()},destination:{x:x.lng.toString(),y:x.lat.toString()},waypoints:b.map(T=>({x:T.lng.toString(),y:T.lat.toString()})),priority:"TIME"},S="28242ddd7cda15c60301eff5cada6efc",_="https://apis-navi.kakaomobility.com/v1/waypoints/directions";try{const T=await fetch(_,{method:"POST",headers:{Authorization:`KakaoAK ${S}`,"Content-Type":"application/json"},body:JSON.stringify(w)});if(!T.ok)throw new Error(`Kakao Directions API : ${T.status} ${T.statusText}`);const C=await T.json();if(C.routes&&C.routes.length>0){const F=C.routes[0],k=[];return F.sections.forEach(D=>{D.roads.forEach(N=>{N.vertexes.forEach((M,U)=>{if(U%2===0){const B=M,W=N.vertexes[U+1];k.push(new window.kakao.maps.LatLng(W,B))}})})}),console.log(`[API]    ${k.length}  .`),k}return null}catch(T){return console.error("[API]  API    :",T),null}},f=E=>{if(u.value=E,E){if(!t.items||t.items.length===0)return;const y=t.items[0],x=new window.kakao.maps.LatLng(Number(y.lat),Number(y.lng));setTimeout(()=>{l.value.relayout(),h.value.getNearestPanoId(x,200,b=>{b?(l.value.setPanoId(b,x),new window.kakao.maps.Marker({position:x,map:l.value})):(alert("    ."),u.value=!1)})},0)}else i.value&&setTimeout(()=>{if(i.value.relayout(),p&&!p.isEmpty())if(t.isSingleLocation){const y=new window.kakao.maps.LatLng(Number(t.items[0].lat),Number(t.items[0].lng));i.value.setCenter(y)}else i.value.setBounds(p)},0)},d=()=>{s.value.length>0&&(s.value.forEach(E=>E.setMap(null)),s.value=[]),o.value&&(o.value.setMap(null),o.value=null)};let p=null;const m=async E=>{if(console.log("[CourseMap] drawCourseOnMap  / pageType:",t.pageType),!i.value||!r.value||!E||E.length===0){(!E||E.length===0)&&d();return}d();const y=[],x=[];if(p=new window.kakao.maps.LatLngBounds,E.forEach((b,w)=>{if(b.lat==null||b.lng==null||isNaN(Number(b.lat))||isNaN(Number(b.lng))){console.error(`[CourseMap]  ${w}   .   .`,b);return}const S=new window.kakao.maps.LatLng(Number(b.lat),Number(b.lng)),_=t.isSingleLocation?"":b.number||w+1,T=t.isSingleLocation?"#FF5A5A":g(_),C=v(_,T);if(!C||typeof C!="string"||!C.startsWith("data:image/svg+xml")){console.error(`[CourseMap]  ${w}     .`,C);return}let F;try{F=new window.kakao.maps.MarkerImage(C,new window.kakao.maps.Size(24,35),{offset:new window.kakao.maps.Point(12,35)})}catch(k){console.error(`[CourseMap]  ${w} MarkerImage    :`,k);return}try{const k=new window.kakao.maps.Marker({position:S,image:F,map:i.value});y.push(k),x.push(S),p.extend(S)}catch(k){console.error(`[CourseMap]  ${w}     :`,k)}}),s.value=y,t.isSingleLocation)console.log("[CourseMap]   .     .");else{let b=x;if(t.pageType!=="exhibition"){const w=await c(E);w?(b=w,console.log("[CourseMap] API   .")):console.log("[CourseMap] API  .   .")}else console.log('[CourseMap] "exhibition"    .');if(b.length>1)try{const w=new window.kakao.maps.Polyline({path:b,strokeWeight:4,strokeColor:"#4A7CEC",strokeOpacity:.8,strokeStyle:"solid"});w.setMap(i.value),o.value=w,console.log("[CourseMap]     .")}catch(w){console.error("[CourseMap]     :",w,b)}else console.log("[CourseMap]    .")}if(p.isEmpty())console.warn("[CourseMap]        .");else if(t.isSingleLocation){const b=new window.kakao.maps.LatLng(Number(E[0].lat),Number(E[0].lng));i.value.setCenter(b),i.value.setLevel(t.defaultZoomLevel)}else try{i.value.setBounds(p)}catch(b){console.error("[CourseMap]      :",b,p)}},g=E=>{const y=["#FF5A5A","#4A7CEC","#28A745","#FFC107","#DC3545","#6F42C1","#E83E8C"];return typeof E!="number"||isNaN(E)||E<1?y[1]:y[(E-1)%y.length]},v=(E,y)=>{const x=`
  <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
      fill="${y}" stroke="#fff" stroke-width="2"/>
    <circle cx="12" cy="12" r="8" fill="#fff"/>
    <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
      font-size="10" font-weight="bold" fill="${y}">${E}</text>
  </svg>
  `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(x)};return(E,y)=>(re(),ce("div",oG,[an(A("div",{ref_key:"mapContainer",ref:r,class:"course-map"},null,512),[[Mh,!u.value]]),an(A("div",{ref_key:"roadviewContainer",ref:a,class:"course-map"},null,512),[[Mh,u.value]]),t.isSingleLocation?(re(),ce("div",aG,[A("button",{onClick:y[0]||(y[0]=x=>f(!1)),class:ht({active:!u.value})},"",2),A("button",{onClick:y[1]||(y[1]=x=>f(!0)),class:ht({active:u.value})},"",2)])):rt("",!0)]))}},Eb=wt(lG,[["__scopeId","data-v-556952f3"]]),uG={name:"CourseExhibitionCard",components:{PillTag:As,HashTag:$a},props:{item:{type:Object,required:!0}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t||"https://via.placeholder.com/60x60"},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)},formattedExhibitions(){const n=this.item.exhibitionList||[];return Array.isArray(n)?n.map(t=>t.split(" - ")[0]||t):[]},exhibitionCount(){return this.formattedExhibitions.length},displaySubject(){return Array.isArray(this.item.subject)&&this.item.subject.length>0?this.item.subject[0]:typeof this.item.subject=="string"?this.item.subject:null},displayGrade(){if(Array.isArray(this.item.grade)&&this.item.grade.length>0){const n=this.item.grade[0];return typeof n=="string"?n.replace(" ",""):null}return typeof this.item.grade=="string"?this.item.grade.replace(" ",""):null}},methods:{getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]},createMarkerSvg(n,t){const r=`
  <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
  <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
   fill="${t}" stroke="#fff" stroke-width="2"/>
  <circle cx="12" cy="12" r="8" fill="#fff"/>
  <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
   font-size="10" font-weight="bold" fill="${t}">${n}</text>
  </svg>
 `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)}}},cG={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},hG={class:"timeline-marker-wrapper"},fG={class:"content-card"},dG={class:"card-body"},pG={class:"card-image"},mG=["src"],gG={class:"card-text"},vG={class:"d-flex align-items-center justify-content-left gap-1"},yG={class:"place-name"},bG={class:"d-flex gap-1"},xG={class:"d-flex gap-1"},_G={key:0,class:"more-tags"},wG={class:"exhibition-section"},EG={class:"exhibition-header"},SG={class:"exhibition-count"},CG={class:"exhibition-list"},AG={class:"exhibition-number"},TG={class:"exhibition-name"};function IG(n,t,r,i,s,o){const a=Lt("PillTag"),l=Lt("HashTag");return re(),ce("div",cG,[A("div",hG,[A("div",{class:"timeline-marker-svg",style:Xn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[0]||(t[0]=A("div",{class:"timeline-line"},null,-1))]),A("div",fG,[A("div",dG,[A("div",pG,[A("img",{src:o.computedImageUrl,alt:" "},null,8,mG)]),A("div",gG,[A("div",vG,[A("h5",yG,Be(r.item.title),1)]),A("div",bG,[o.displaySubject?(re(),Kt(a,{key:0,text:o.displaySubject,type:"subject"},null,8,["text"])):rt("",!0),o.displayGrade?(re(),Kt(a,{key:1,text:o.displayGrade,type:"grade"},null,8,["text"])):rt("",!0)]),A("div",xG,[(re(!0),ce(at,null,At(o.visibleHashtags,u=>(re(),Kt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(re(),ce("span",_G," +"+Be(o.remainingHashtagsCount),1)):rt("",!0)])])]),t[3]||(t[3]=A("hr",{class:"hr"},null,-1)),A("div",wG,[A("div",EG,[t[1]||(t[1]=A("i",{class:"bi bi-palette-fill"},null,-1)),t[2]||(t[2]=A("span",{class:"exhibition-title"}," ",-1)),A("span",SG,"("+Be(o.exhibitionCount)+")",1)]),A("div",CG,[(re(!0),ce(at,null,At(o.formattedExhibitions,(u,h)=>(re(),ce("div",{key:h,class:"exhibition-item"},[A("span",AG,Be(h+1),1),A("span",TG,Be(u),1)]))),128))])])])])}const DG=wt(uG,[["render",IG],["__scopeId","data-v-b0593dd5"]]),NG={name:"CourseExhibitionCard",components:{PillTag:As,HashTag:$a},props:{item:{type:Object,required:!0}},emits:["edit","delete"],methods:{onEdit(){this.$emit("edit",this.item.id)},onDelete(){this.$emit("delete",this.item.id)},createMarkerSvg(n,t){const r=`
    <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
     <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
       fill="${t}" stroke="#fff" stroke-width="2"/>
     <circle cx="12" cy="12" r="8" fill="#fff"/>
     <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
       font-size="10" font-weight="bold" fill="${t}">${n}</text>
    </svg>
   `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)},getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t||"https://placehold.co/800x600/AACCFF/000000"},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},displaySubject(){return Array.isArray(this.item.subject)&&this.item.subject.length>0?this.item.subject[0]:null},displayGrade(){return Array.isArray(this.item.grade)&&this.item.grade.length>0?(this.item.grade[0]||"").replace(" ",""):null}}},FG={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},kG={class:"timeline-marker-wrapper"},MG={class:"content-card"},OG={class:"icon-buttons"},LG={class:"card-body"},PG={class:"card-image"},RG=["src"],BG={class:"card-text"},UG={class:"d-flex align-items-center justify-content-left gap-1"},VG={class:"place-name"},$G={class:"d-flex gap-1"},jG={class:"d-flex gap-1"},zG={key:0,class:"more-tags"},GG={class:"location-label"},HG={class:"address"};function WG(n,t,r,i,s,o){const a=Lt("PillTag"),l=Lt("HashTag");return re(),ce("div",FG,[A("div",kG,[A("div",{class:"timeline-marker-svg",style:Xn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[1]||(t[1]=A("div",{class:"timeline-line"},null,-1))]),A("div",MG,[A("div",OG,[A("i",{class:"bi bi-trash",onClick:t[0]||(t[0]=(...u)=>o.onDelete&&o.onDelete(...u))})]),A("div",LG,[A("div",PG,[A("img",{src:o.computedImageUrl,alt:" "},null,8,RG)]),A("div",BG,[A("div",UG,[A("h5",VG,Be(r.item.title),1)]),A("div",$G,[o.displaySubject?(re(),Kt(a,{key:0,text:o.displaySubject,type:"subject"},null,8,["text"])):rt("",!0),o.displayGrade?(re(),Kt(a,{key:1,text:o.displayGrade,type:"grade"},null,8,["text"])):rt("",!0)]),A("div",jG,[(re(!0),ce(at,null,At(o.visibleHashtags,u=>(re(),Kt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(re(),ce("span",zG," +"+Be(o.remainingHashtagsCount),1)):rt("",!0)])])]),t[3]||(t[3]=A("hr",{class:"hr"},null,-1)),A("span",GG,[t[2]||(t[2]=Nt("  ",-1)),A("span",HG,Be(r.item.place),1)])])])}const XG=wt(NG,[["render",WG],["__scopeId","data-v-efd8774e"]]),qG={name:"UserLikeCourseDetail",components:{draggable:Rz,CourseMap:Eb,ConfirmDeleteModal:_N,AddPlaceModal:sG,CourseExhibitionCard:DG,CoursePlaceEditCard:XG},setup(){const n=gi(),{isLoggedIn:t,currentUserId:r}=Cs(n);return{isLoggedIn:t,currentUserId:r}},data(){return{course:null,error:null,loading:!0,exhibitionName:"",pageType:"",courseItems:[],originalCourseItems:[],showDeleteModal:!1,showAddModal:!1,itemToDeleteId:null,hasChanges:!1,isSaving:!1,saveMessage:"",saveStatus:"",isDragging:!1,mapKey:0}},watch:{courseItems:{handler(n,t){!this.isDragging&&t&&t.length>0&&this.checkForChanges()},deep:!0}},created(){this.loadCourse()},methods:{async loadCourse(){this.loading=!0,this.error=null;let n=null;try{const t=this.$route.params.courseId,r=history.state?.courseData;if(r&&r.id==t&&(console.log("history.state   :",r),n=r),!n){const i=sessionStorage.getItem(`courseData_${t}`);i&&(console.log("sessionStorage   "),n=JSON.parse(i))}if(!n){if(console.log("  . API fallback "),n=(await cn.get(`/api/schedules/user/${this.currentUserId}`)).data.map(o=>{const a=o.items.map(l=>({id:l.sourceItemId,number:l.sequence,title:l.itemName,place:l.addressDetail,imageUrl:l.mainImageUrl,lat:l.latitude,lng:l.longitude,type:l.itemType,itemType:l.itemType,subject:l.mainCategoryNames&&l.mainCategoryNames.length>0?l.mainCategoryNames[0]:null,grade:l.gradeNames&&l.gradeNames.length>0?l.gradeNames[0]:null,hashtags:l.subCategoryNames||[]})).sort((l,u)=>l.number-u.number);return{id:o.scheduleId,ExhibitionName:o.scheduleName,type:o.sourceCourseType,imageUrl:a[0]?.imageUrl||"https://placehold.co/600x400",address:a[0]?.place||" ",coursePlaces:a.map(l=>l.title),courseItems:a,subject:null,grade:null}}).find(o=>o.id==t),!n)throw new Error(`ID [${t}]     .`);sessionStorage.setItem(`courseData_${t}`,JSON.stringify(n))}this.course=n,this.exhibitionName=n.ExhibitionName,this.courseItems=(n.courseItems||[]).map(i=>i.type==="custom"&&!i.id?{...i,id:`custom_${i.title}_${i.place}_${Date.now()}_${Math.random().toString(36).substr(2,5)}`}:i),this.originalCourseItems=JSON.parse(JSON.stringify(this.courseItems)),n.type==="inner_course"?this.pageType="exhibition":n.type==="ai_course"?this.pageType="place":this.pageType="exhibition",console.log("    :",JSON.stringify(n,null,2))}catch(t){console.error("    :",t),this.error=t.message||"    ."}finally{this.loading=!1}},checkForChanges(){const n=s=>s.id?s.id:`custom_${s.title}_${s.place}_${s.lat}_${s.lng}`,t=this.courseItems.map(n),r=this.originalCourseItems.map(n),i=JSON.stringify(t)!==JSON.stringify(r);this.hasChanges=i,this.hasChanges&&this.reorderCourseItems()},onDragStart(){this.isDragging=!0,console.log(" ")},async saveChanges(){if(!(!this.hasChanges||this.isSaving)){this.isSaving=!0,this.saveMessage="";try{const t={scheduleId:this.course.id,items:this.courseItems.map((i,s)=>{const o=i.itemType==="custom";return{itemId:i.itemId||null,sourceItemId:o?null:i.id,sequence:s+1,itemType:o?"custom":i.itemType,customName:o&&i.title||null,customAddress:o&&i.place||null,customLatitude:o&&i.lat||null,customLongitude:o&&i.lng||null,categoryName:Array.isArray(i.subject)&&i.subject.length>0?i.subject[0]:i.subject||null,gradeName:Array.isArray(i.grade)&&i.grade.length>0?i.grade[0]:i.grade||null,subCategories:i.hashtags}})};console.log(" :",JSON.stringify(t,null,2)),(await cn.post("/api/schedules/items",t)).status===200&&(this.saveStatus="success",this.saveMessage="  .",sessionStorage.removeItem(`courseData_${this.course.id}`),setTimeout(()=>{this.saveMessage="",this.loadCourse(),this.hasChanges=!1},1500))}catch(n){console.error(" :",n),this.saveStatus="error",this.saveMessage=n.response?.data?.message||"   .",setTimeout(()=>{this.saveMessage=""},5e3)}finally{this.isSaving=!1}}},goBack(){if(this.hasChanges){ct.emit("show-global-confirm",{message:"   .  ?",msg:"",onConfirm:()=>{this.$router.back()}});return}this.$router.back()},handleDelete(n){if(!n){console.error(" ID  .");return}console.log(" ID ( ):",n),this.itemToDeleteId=n,this.showDeleteModal=!0},closeDeleteModal(){this.itemToDeleteId=null,this.showDeleteModal=!1},openAddModal(){this.showAddModal=!0},closeAddModal(){this.showAddModal=!1},reorderCourseItems(){this.courseItems.forEach((n,t)=>{n.number=t+1})},updateMapKey(){this.mapKey+=1,console.log("  :",this.mapKey)},onDragEnd(){this.isDragging=!1,console.log("  (  )")},onDragChange(){console.log("  v-model .     ."),this.reorderCourseItems(),this.checkForChanges(),this.updateMapKey()},confirmDeleteItem(){console.log(" , ID:",this.itemToDeleteId),this.courseItems=this.courseItems.filter(n=>n.id!==this.itemToDeleteId),this.reorderCourseItems(),this.checkForChanges(),this.updateMapKey(),this.closeDeleteModal()},addNewItem(n){console.log(" :",JSON.stringify(n,null,2));const t={id:`custom_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,color:"#3B82F6",imageUrl:n.imageUrl||"https://placehold.co/600x400/AACCFF/000000",subject:n.subject||"",grade:n.grade||"",title:n.name,type:"  ",place:n.address,hashtags:[" "],lat:n.lat,lng:n.lng,itemType:"custom",isNew:!0,customName:n.name,customAddress:n.address,customLatitude:n.lat,customLongitude:n.lng};this.courseItems.push(t),this.reorderCourseItems(),this.checkForChanges(),this.updateMapKey(),this.closeAddModal()},goToVirtualTour(){Dg.push("/virtualTour")}}},YG={class:"course-recommend-container",style:{"font-family":"'SUIT', sans-serif"}},KG={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},ZG={class:"header-left",style:{flex:"1"}},JG={key:0,class:"status-container"},QG={key:1,class:"status-container"},eH={class:"text-danger"},tH={class:"course-root-name-improved"},nH={class:"fw-bolder me-2"},rH={key:0,class:"d-flex justify-content-center align-items-center mt-2 mb-2"},iH={class:"scrollable-content"},sH={class:"course-list-container"},oH={key:0},aH={key:1},lH={class:"d-flex justify-content-center mt-3"},uH={key:2},cH={key:1,class:"save-section"},hH=["disabled"],fH={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function dH(n,t,r,i,s,o){const a=Lt("CourseMap"),l=Lt("CourseExhibitionCard"),u=Lt("CoursePlaceEditCard"),h=Lt("draggable"),c=Lt("ConfirmDeleteModal"),f=Lt("AddPlaceModal");return re(),ce("div",YG,[A("div",KG,[A("div",ZG,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...d)=>o.goBack&&o.goBack(...d))})]),t[6]||(t[6]=A("div",{class:"header-center fw-bold fs-6",style:{flex:"1","text-align":"center"}},"   ",-1)),t[7]||(t[7]=A("div",{class:"header-right",style:{flex:"1"}},null,-1))]),s.loading?(re(),ce("div",JG,[...t[8]||(t[8]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"mt-2 text-muted"},"   ...",-1)])])):s.error?(re(),ce("div",QG,[A("p",eH,Be(s.error),1),A("button",{onClick:t[1]||(t[1]=(...d)=>o.goBack&&o.goBack(...d)),class:"btn btn-sm btn-outline-primary"}," ")])):(re(),ce(at,{key:2},[(re(),Kt(a,{items:s.courseItems,key:s.mapKey,pageType:s.pageType,class:"map-area"},null,8,["items","pageType"])),A("div",tH,[A("span",nH,Be(s.exhibitionName||"  "),1),s.pageType?(re(),ce("span",{key:0,class:ht(["type-badge",{"badge-place":s.pageType==="place","badge-exhibition":s.pageType==="exhibition"}])},Be(s.pageType==="place"?" ":" "),3)):rt("",!0)]),s.pageType==="exhibition"?(re(),ce("div",rH,[A("button",{class:"btn virtual-tour-btn",onClick:t[2]||(t[2]=(...d)=>o.goToVirtualTour&&o.goToVirtualTour(...d))},"    ")])):rt("",!0),A("div",iH,[A("div",sH,[s.pageType==="exhibition"?(re(),ce("div",oH,[(re(!0),ce(at,null,At(s.courseItems,d=>(re(),Kt(l,{key:d.id,item:d,showControls:!0,couseType:"",onDelete:p=>o.handleDelete(d.id)},null,8,["item","onDelete"]))),128))])):s.pageType==="place"?(re(),ce("div",aH,[lt(h,{modelValue:s.courseItems,"onUpdate:modelValue":t[3]||(t[3]=d=>s.courseItems=d),animation:200,"ghost-class":"ghost-item","chosen-class":"chosen-item","drag-class":"drag-item",onStart:o.onDragStart,onEnd:o.onDragEnd,onChange:o.onDragChange,"item-key":"id"},{item:Hr(({element:d})=>[lt(u,{item:d,showControls:!0,couseType:"",onDelete:p=>o.handleDelete(d.id),class:"draggable-item"},null,8,["item","onDelete"])]),_:1},8,["modelValue","onStart","onEnd","onChange"]),A("div",lH,[A("button",{class:"btn btn-outline-secondary rounded-pill add-item-inline",onClick:t[4]||(t[4]=(...d)=>o.openAddModal&&o.openAddModal(...d))},[...t[9]||(t[9]=[A("i",{class:"bi bi-plus-circle-fill"},null,-1),Nt("   ",-1)])])])])):(re(),ce("div",uH,[...t[10]||(t[10]=[A("p",{class:"text-muted"},"  .",-1)])]))])]),s.hasChanges?(re(),ce("div",cH,[s.saveMessage?(re(),ce("div",{key:0,class:ht(["save-status-message",`alert-${s.saveStatus==="success"?"success":"danger"}`])},Be(s.saveMessage),3)):rt("",!0),A("button",{class:"btn save-btn-bottom",onClick:t[5]||(t[5]=(...d)=>o.saveChanges&&o.saveChanges(...d)),disabled:!s.hasChanges||s.isSaving},[s.isSaving?(re(),ce("span",fH)):rt("",!0),Nt(" "+Be(s.isSaving?" ...":" "),1)],8,hH)])):rt("",!0)],64)),lt(c,{show:s.showDeleteModal,message:" ?",onConfirm:o.confirmDeleteItem,onClose:o.closeDeleteModal},null,8,["show","onConfirm","onClose"]),lt(f,{show:s.showAddModal,onAddItem:o.addNewItem,onClose:o.closeAddModal},null,8,["show","onAddItem","onClose"])])}const pH=wt(qG,[["render",dH],["__scopeId","data-v-c5b0f336"]]),mH={name:"PageHeader",props:{pageTitle:String,isFavorite:{type:Boolean,default:!1}},data(){return{}},methods:{goBack(){this.$router.back()},toggleFavorite(){this.$emit("toggle-favorite")}}},gH={class:"header"},vH={class:"page-title"};function yH(n,t,r,i,s,o){return re(),ce("header",gH,[A("button",{class:"back-btn",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[2]||(t[2]=[A("i",{class:"bi bi-arrow-left"},null,-1)])]),A("h1",vH,Be(r.pageTitle),1),A("button",{class:"favorite-btn",onClick:t[1]||(t[1]=(...a)=>o.toggleFavorite&&o.toggleFavorite(...a))},[A("i",{class:ht(r.isFavorite?"bi-heart-fill":"bi-heart"),style:Xn({color:r.isFavorite?"Red":"black"})},null,6)])])}const bH=wt(mH,[["render",yH],["__scopeId","data-v-08124c14"]]),xH="https://storage.googleapis.com/science_book/",_H={name:"InfoSection",components:{PillTag:As,Hashtag:$a},emits:["authenticate-visit"],created(){console.log(" [InfoSection] created -  Props:",{mainCategory:this.mainCategory,subCategories:this.subCategories,gradeTag:this.gradeTag})},data(){return{isExpanded:!1}},props:{exhibition:{type:Object,required:!1,default:()=>null},place:{type:Object,required:!1,default:()=>null},mainCategory:{type:String,default:""},subCategories:{type:Array,default:()=>[]},gradeTag:{type:String,default:""}},computed:{mainImageSrc(){const n=this.exhibition?.mainImage||this.place?.mainImage;return n&&!n.startsWith("http")?xH+n:n||"https://via.placeholder.com/600x400"},item(){return this.exhibition||this.place||{}},isExhibition(){return!!this.exhibition},isPlace(){return!!this.place},shouldShowTags(){return this.isExhibition||this.isPlace},isLongText(){return this.item.description&&this.item.description.length>150},displayedDescription(){return!this.isLongText||this.isExpanded?this.item.description:this.item.description.substring(0,150)+"..."}},methods:{toggleDescription(){this.isExpanded=!this.isExpanded},onAuthButtonClick(){console.log("InfoSection:  !  ."),this.$emit("authenticate-visit")}}},wH={key:0,class:"info-section"},EH={class:"top-meta"},SH={class:"image-area"},CH=["src"],AH={class:"content-body"},TH={class:"title"},IH={class:"rating"},DH={class:"stars"},NH={key:0,class:"bi bi-star-half"},FH={class:"score"},kH={class:"rating-value"},MH={class:"review-count-value"},OH={key:0,class:"subject-tags-container"},LH={key:0,class:"hashtags-area"},PH={key:1,class:"floor-map-section"},RH={class:"map-container"},BH=["src"],UH={key:1,class:"map-placeholder"};function VH(n,t,r,i,s,o){const a=Lt("PillTag"),l=Lt("Hashtag");return o.item.title?(re(),ce("section",wH,[A("div",EH,[A("div",SH,[A("img",{src:o.mainImageSrc,alt:" ",class:"main-image"},null,8,CH),o.item.visited?(re(),ce("div",{key:0,class:"visit-stamp",onClick:t[0]||(t[0]=(...u)=>o.onAuthButtonClick&&o.onAuthButtonClick(...u))},[...t[3]||(t[3]=[A("i",{class:"bi bi-postage-heart-fill"},null,-1),A("span",null," ",-1)])])):(re(),ce("div",{key:1,class:"visit-stamp inactive",onClick:t[1]||(t[1]=(...u)=>o.onAuthButtonClick&&o.onAuthButtonClick(...u))},[...t[4]||(t[4]=[A("i",{class:"bi bi-postage-heart"},null,-1),A("span",null," ",-1)])]))])]),A("div",AH,[A("h2",TH,Be(o.item.title),1),A("div",IH,[A("span",DH,[(re(!0),ce(at,null,At(Math.floor(o.item.rating),u=>(re(),ce("i",{key:"full-"+u,class:"bi bi-star-fill"}))),128)),o.item.rating%1>=.5?(re(),ce("i",NH)):rt("",!0),(re(!0),ce(at,null,At(5-Math.ceil(o.item.rating),u=>(re(),ce("i",{key:"empty-"+u,class:"bi bi-star"}))),128))]),A("span",FH,[A("span",kH,Be(o.item.rating)+"",1),A("span",MH,"("+Be(o.item.reviewCount)+")",1)]),r.mainCategory||r.gradeTag?(re(),ce("div",OH,[r.mainCategory?(re(),Kt(a,{key:0,text:r.mainCategory,type:"subject"},null,8,["text"])):rt("",!0),r.gradeTag?(re(),Kt(a,{key:1,text:r.gradeTag.replace(" ",""),type:"grade"},null,8,["text"])):rt("",!0)])):rt("",!0)]),r.subCategories.length>0?(re(),ce("div",LH,[(re(!0),ce(at,null,At(r.subCategories,u=>(re(),Kt(l,{key:u,text:u},null,8,["text"]))),128))])):rt("",!0),A("div",{class:ht(["description",{expanded:s.isExpanded}])},[Nt(Be(o.displayedDescription)+" ",1),o.isLongText?(re(),ce("button",{key:0,onClick:t[2]||(t[2]=(...u)=>o.toggleDescription&&o.toggleDescription(...u)),class:"btn btn-white"},Be(s.isExpanded?"":"()"),1)):rt("",!0)],2),o.item.type===""?(re(),ce("div",PH,[A("div",RH,[o.item.floorMapUrl?(re(),ce("img",{key:0,src:o.item.floorMapUrl,alt:" ",class:"img-fluid rounded-3 border"},null,8,BH)):(re(),ce("div",UH,"    . "))])])):rt("",!0)])])):rt("",!0)}const $H=wt(_H,[["render",VH],["__scopeId","data-v-d907004b"]]),jH={name:"TabMenu",props:{isPlace:{type:Boolean,required:!0,default:!1},activeTab:{type:String,required:!0,default:"detail"}},emits:["updateTab"],computed:{rightTabText(){return this.isPlace?"AI  ":"AI  "}}},zH={class:"tab-section"},GH={class:"tabs"};function HH(n,t,r,i,s,o){return re(),ce("section",zH,[A("div",GH,[A("button",{class:ht(["tab-item",{active:r.activeTab==="detail"}]),onClick:t[0]||(t[0]=a=>n.$emit("updateTab","detail"))}," ",2),A("button",{class:ht(["tab-item",{active:r.activeTab==="recommend"}]),onClick:t[1]||(t[1]=a=>n.$emit("updateTab","recommend"))},Be(o.rightTabText),3)])])}const WH=wt(jH,[["render",HH],["__scopeId","data-v-a2878f5c"]]),XH={name:"LocationSection",props:{exhibitionInformation:{type:Object,required:!1,default:()=>null},placeInformation:{type:Object,required:!1,default:()=>null}},components:{CourseMap:Eb},methods:{goToIndoorMap(){const n=this.information;this.$router.push({path:"/indoormap",query:{scienceCenterName:n.scienceCenterName,selectedHallId:n.hallId}})}},computed:{isPlace(){return!!this.placeInformation},sectionTitle(){return this.isPlace?" ":" "},information(){return this.placeInformation||this.exhibitionInformation||{}},mapItems(){const n=this.information;return n&&n.lat&&n.lng?[{lat:n.lat,lng:n.lng}]:[]},infoItems(){const n=this.information;return Object.keys(n).length===0?[]:this.isPlace?[{label:"",text:n.placeAddress,icon:"bi bi-geo-alt"},{label:"",text:n.operationPeriod,icon:"bi bi-calendar-event"},{label:"",text:n.operationHours,icon:"bi bi-clock"},{label:"",text:n.entranceFee,icon:"bi bi-cash-coin"}]:[{label:"",text:n.exhibitionLocation,icon:"bi bi-geo-alt"},{label:"",text:n.operationPeriod,icon:"bi bi-calendar-event"},{label:"",text:n.operationHours,icon:"bi bi-clock"},{label:"",text:n.entranceFee,icon:"bi bi-cash-coin"}]}}},qH={key:0,class:"location-section"},YH={class:"header-wrap"},KH={class:"section-title"},ZH={class:"map-area"},JH={class:"operation-info"},QH={class:"detail-icon"},eW={class:"detail-label"},tW={class:"detail-text"};function nW(n,t,r,i,s,o){const a=Lt("CourseMap");return o.infoItems.length>0?(re(),ce("section",qH,[A("div",YH,[A("h3",KH,Be(o.sectionTitle),1),o.isPlace?rt("",!0):(re(),ce("button",{key:0,class:"indoor-map-btn",onClick:t[0]||(t[0]=(...l)=>o.goToIndoorMap&&o.goToIndoorMap(...l))}," "))]),A("div",ZH,[lt(a,{items:o.mapItems,"is-single-location":!0,"default-zoom-level":8},null,8,["items"])]),A("ul",JH,[(re(!0),ce(at,null,At(o.infoItems,l=>(re(),ce("li",{class:"info-item",key:l.label},[A("span",QH,[A("i",{class:ht(l.icon)},null,2)]),A("span",eW,Be(l.label),1),A("span",tW,Be(l.text),1)]))),128))])])):rt("",!0)}const rW=wt(XH,[["render",nW],["__scopeId","data-v-b90cea15"]]),iW={name:"PhotoModal",props:{show:Boolean,images:{type:Array,default:()=>[]},startIndex:{type:Number,default:0}},emits:["close"],data(){return{currentIndex:0}},methods:{close(){this.$emit("close")},nextImage(){this.currentIndex=(this.currentIndex+1)%this.images.length},prevImage(){this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length}},watch:{show(n){n&&(this.currentIndex=this.startIndex)}}},sW={class:"modal-content"},oW={class:"image-wrapper"},aW=["src"],lW={key:0,class:"image-counter"},uW={key:1,class:"button-group"};function cW(n,t,r,i,s,o){return r.show?(re(),ce("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=br((...a)=>o.close&&o.close(...a),["self"]))},[A("div",sW,[A("button",{class:"close-btn-corner",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},""),A("div",oW,[r.images&&r.images.length>0?(re(),ce("img",{key:0,src:r.images[s.currentIndex],alt:" ",class:"modal-image"},null,8,aW)):rt("",!0)]),r.images&&r.images.length>1?(re(),ce("p",lW,Be(s.currentIndex+1)+" / "+Be(r.images.length),1)):rt("",!0),r.images&&r.images.length>1?(re(),ce("div",uW,[A("button",{class:"btn btn-nav",onClick:t[1]||(t[1]=(...a)=>o.prevImage&&o.prevImage(...a))},"  "),A("button",{class:"btn btn-nav",onClick:t[2]||(t[2]=(...a)=>o.nextImage&&o.nextImage(...a))},"  ")])):rt("",!0)])])):rt("",!0)}const wN=wt(iW,[["render",cW],["__scopeId","data-v-72d7ed1c"]]),hW={name:"ReportModal",props:{show:{type:Boolean,default:!1}},emits:["close","submit"],data(){return{reason:""}},methods:{closeModal(){this.reason="",this.$emit("close")},submitReport(){this.$emit("submit",this.reason)}},watch:{show(n){n||(this.reason="")}}},fW={class:"report-modal"},dW={class:"modal-header report-header"},pW={class:"modal-body"},mW={class:"modal-footer two-button-footer"};function gW(n,t,r,i,s,o){return r.show?(re(),ce("div",{key:0,class:"modal-backdrop",onClick:t[4]||(t[4]=br((...a)=>o.closeModal&&o.closeModal(...a),["self"]))},[A("div",fW,[A("header",dW,[t[5]||(t[5]=A("div",{class:"title-wrap"},[A("span",{class:"icon"},[A("i",{class:"bi bi-bell-fill"})]),A("h2",{class:"modal-title"}," ")],-1)),A("button",{class:"close-btn",onClick:t[0]||(t[0]=(...a)=>o.closeModal&&o.closeModal(...a))},"  ")]),t[7]||(t[7]=A("hr",{class:"header-divider"},null,-1)),A("main",pW,[t[6]||(t[6]=A("p",{class:"report-guide"},"  .",-1)),an(A("textarea",{"onUpdate:modelValue":t[1]||(t[1]=a=>s.reason=a),rows:"6",placeholder:": /, /,   ",class:"review-textarea"},null,512),[[nr,s.reason]])]),A("footer",mW,[A("button",{onClick:t[2]||(t[2]=(...a)=>o.closeModal&&o.closeModal(...a)),class:"btn-cancel"},""),A("button",{onClick:t[3]||(t[3]=(...a)=>o.submitReport&&o.submitReport(...a)),class:"btn-submit"},"")])])])):rt("",!0)}const vW=wt(hW,[["render",gW],["__scopeId","data-v-fbd53e5c"]]),yW={name:"ReviewSection",components:{PhotoModal:wN,ReportModal:vW},props:{targetId:{type:[Number,String],required:!0},targetType:{type:String,required:!0},currentUserId:{type:[Number,String],required:!0},rating:{type:Number,required:!0,default:0},reviewCount:{type:Number,required:!0,default:0},photoReviewCount:{type:Number,default:0},isPlace:{type:Boolean,required:!1,default:!1}},emits:["show-modal","edit-review","request-delete"],computed:{sectionTitle(){return this.isPlace?" ":" "},allPhotoUrls(){const n=[];for(const t of this.reviews)Array.isArray(t.photoUrls)&&n.push(...t.photoUrls);return n.filter(Boolean)},morePhotoCountToShow(){const n=this.photoReviewCount-this.allPhotoThumbnails.length;return Math.max(0,n)},visiblePages(){const t=this.totalPages,r=this.currentPage;if(t<=5)return Array.from({length:t},(a,l)=>l+1);let i=r-2,s=r+2;i<1?(i=1,s=5):s>t&&(s=t,i=t-5+1);const o=[];for(let a=i;a<=s;a++)o.push(a);return o}},watch:{targetId:{handler(n){n&&this.targetType&&(this.currentPage=1,this.fetchReviews(),this.fetchPhotoThumbnails(),this.allPhotoUrlsCache=null)},immediate:!0},targetType:{handler(n){n&&this.targetId&&(this.currentPage=1,this.fetchReviews(),this.fetchPhotoThumbnails(),this.allPhotoUrlsCache=null)},immediate:!0},currentUserId(n,t){n&&!t&&(console.log("  ,   "),this.fetchLikedStatus())}},data(){return{reviews:[],isLoading:!1,error:null,openReportMenuId:null,likedStatus:{},photoModal:{visible:!1,images:[],startIndex:0},currentPage:1,pageSize:3,totalPages:1,totalReviews:0,allPhotoThumbnails:[],allPhotoUrlsCache:null,reportModal:{visible:!1,reviewId:null}}},methods:{async fetchReviews(){if(!(!this.targetId||!this.targetType)){this.isLoading=!0,this.error=null;try{const n={targetId:this.targetId,targetType:this.targetType,page:this.currentPage,size:this.pageSize},{data:t}=await cn.get("/api/reviews",{params:n});this.reviews=Array.isArray(t.content)?t.content:[],this.totalPages=t.totalPages||1,this.totalReviews=t.totalElements||0,await this.fetchLikedStatus()}catch(n){console.error("[reviews] FAIL:",n?.response?.status,n?.response?.data||n.message),this.error=n}finally{this.isLoading=!1}}},onClickWriteReview(){if(this.currentUserId)this.$emit("show-modal");else{ct.emit("show-global-confirm",{message:"  ",onConfirm:()=>{this.$router.push({name:"login"})}});return}},async fetchLikedStatus(){let n=new Set;if(this.currentUserId!=null&&this.currentUserId!==""){const r={targetId:this.targetId,targetType:this.targetType};try{const{data:i}=await cn.get("/api/reviews/liked-status",{params:r}),s=Array.isArray(i)?i:[];n=new Set(s.map(o=>Number(o)))}catch(i){console.error("[liked-status] FAIL:",i?.response?.status,i?.response?.data||i.message)}}const t={};for(const r of this.reviews){const i=Number(r.reviewId);t[r.reviewId]=n.has(i)}this.likedStatus=t},goToPage(n){n<1||n>this.totalPages||n===this.currentPage||(this.currentPage=n,this.fetchReviews())},async openModalFromThumb(n,t){let r=this.allPhotoUrlsCache;if(!r)try{const{data:s}=await cn.get(`/api/reviews/target/${this.targetType}/${this.targetId}/photos`);if(!Array.isArray(s)||s.length===0)return;r=s,this.allPhotoUrlsCache=r}catch(s){console.error("[modal-thumb]   URL  :",s),ct.emit("show-global-alert",{message:"   .",type:"error"});return}let i=r.indexOf(n.url);i===-1&&(i=t),this.photoModal.images=r,this.photoModal.startIndex=i,this.photoModal.visible=!0},openPhotoViewer(n,t=0){const r=Array.isArray(n.photoUrls)?n.photoUrls.filter(Boolean):[];r.length&&(this.photoModal.images=r,this.photoModal.startIndex=t,this.photoModal.visible=!0)},onClickDelete(n){this.$emit("request-delete",{reviewId:n}),this.openReportMenuId=null},async fetchPhotoThumbnails(){if(!(!this.targetId||!this.targetType))try{const n={targetId:this.targetId,targetType:this.targetType,limit:3},{data:t}=await cn.get("/api/reviews/photos-summary",{params:n});this.allPhotoThumbnails=Array.isArray(t)?t:[]}catch(n){console.error("[photo-thumbs]  :",n?.response?.data||n.message),this.allPhotoThumbnails=[]}},formatReviewDate(n){if(!n)return"";try{return new Date(n).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,".").replace(/\.$/,"")}catch(t){return console.log(`->${t}`),n}},getFilledStars(n){typeof n!="number"&&(n=0);const t=Math.floor(n),r=n%1>=.5?1:0,i=5-t-r;let s="";return s+='<i class="bi bi-star-fill"></i>'.repeat(t),s+='<i class="bi bi-star-half"></i>'.repeat(r),s+='<i class="bi bi-star"></i>'.repeat(i),s},toggleReportMenu(n){this.openReportMenuId=this.openReportMenuId===n?null:n},async reportReview(n){if(!this.currentUserId){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}const t=this.reviews.find(r=>r.reviewId===n);if(t&&String(t.authorId)===String(this.currentUserId)){ct.emit("show-global-alert",{message:"     .",type:"error"}),this.openReportMenuId=null;return}this.reportModal.reviewId=n,this.reportModal.visible=!0,this.openReportMenuId=null},async handleReportSubmit(n){const t=this.reportModal.reviewId;if(!n||!n.trim()){ct.emit("show-global-alert",{message:"   .",type:"error"});return}try{await cn.post(`/api/reviews/${t}/report`),ct.emit("show-global-alert",{message:" .",type:"success"})}catch(r){console.error(" :",r),r.response&&r.response.data&&r.response.data.includes(" ")?ct.emit("show-global-alert",{message:"  .",type:"error"}):ct.emit("show-global-alert",{message:" .",type:"error"})}finally{this.reportModal.visible=!1,this.reportModal.reviewId=null}},getLikeIcon(n){return this.likedStatus[n]?"bi bi-hand-thumbs-up-fill":"bi bi-hand-thumbs-up"},async toggleLike(n){if(!this.currentUserId){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}const t=this.likedStatus[n];try{t?await cn.delete(`/api/reviews/${n}/unlike`):await cn.post(`/api/reviews/${n}/like`),this.likedStatus[n]=!t;const r=this.reviews.find(i=>i.reviewId===n);r&&(r.likeCount+=t?-1:1)}catch(r){console.error("  :",r),ct.emit("show-global-alert",{message:`   : ${r.response?.data||r.message}`,type:"error"})}},goToAllPhotosPage(){const n=`/photos/${this.targetType}/${this.targetId}`;Dg.push(n)}}},bW={class:"review-section"},xW={class:"section-title"},_W={class:"review-summary"},wW=["innerHTML"],EW={class:"total-score"},SW={class:"review-count"},CW={class:"subsection-title"},AW={class:"photo-reviews"},TW=["onClick","title"],IW={key:1,class:"photo-btn more-btn"},DW={key:0,class:"loading-message"},NW={key:1,class:"error-message"},FW={key:2,class:"review-list"},kW=["data-review-id"],MW={class:"reviewer-profile"},OW=["src"],LW={class:"name"},PW=["innerHTML"],RW={class:"review-content"},BW={key:0,class:"review-photos-grid"},UW=["onClick","aria-label"],VW={class:"review-meta"},$W={class:"date"},jW=["onClick"],zW=["onClick"],GW={key:1,class:"report-menu"},HW={key:0},WW=["onClick"],XW=["onClick"],qW={key:1},YW=["onClick"],KW={key:1,class:"deleted-message"},ZW={key:3,class:"pagination"},JW=["disabled"],QW=["onClick"],eX=["disabled"];function tX(n,t,r,i,s,o){const a=Lt("PhotoModal"),l=Lt("ReportModal");return re(),ce("section",bW,[A("h3",xW,Be(o.sectionTitle),1),A("div",_W,[A("span",{class:"review-stars",innerHTML:o.getFilledStars(r.rating)},null,8,wW),A("span",EW,Be(r.rating.toFixed(1)),1),A("span",SW,"("+Be(s.totalReviews)+" )",1)]),A("span",CW,"  ("+Be(r.photoReviewCount)+")",1),A("div",AW,[(re(!0),ce(at,null,At(s.allPhotoThumbnails,(u,h)=>(re(),ce("button",{key:u.reviewId||h,class:"photo-btn",style:Xn({backgroundImage:`url(${u.url})`,backgroundSize:"cover",backgroundPosition:"center"}),onClick:c=>o.openModalFromThumb(u,h),title:` ${u.reviewId}`},null,12,TW))),128)),o.morePhotoCountToShow>0?(re(),ce("button",{key:0,class:"photo-btn more-btn",onClick:t[0]||(t[0]=(...u)=>o.goToAllPhotosPage&&o.goToAllPhotosPage(...u))},[...t[6]||(t[6]=[A("i",{class:"bi bi-plus-circle"},null,-1)])])):s.allPhotoThumbnails.length===0&&r.photoReviewCount===0?(re(),ce("button",IW," ")):rt("",!0)]),A("button",{class:"write-review-btn",onClick:t[1]||(t[1]=(...u)=>o.onClickWriteReview&&o.onClickWriteReview(...u))},[...t[7]||(t[7]=[A("i",{class:"bi bi-pencil-square"},null,-1),Nt("  ",-1)])]),s.isLoading?(re(),ce("div",DW,"  ...")):s.error?(re(),ce("div",NW,"  ")):(re(),ce("div",FW,[(re(!0),ce(at,null,At(s.reviews,u=>(re(),ce("div",{class:"review-item",key:u.reviewId,"data-review-id":u.reviewId},[u.status!=="DELETED_BY_ADMIN"?(re(),ce(at,{key:0},[A("div",MW,[A("img",{src:u.authorProfileImageUrl||"https://via.placeholder.com/40",alt:" ",class:"avatar"},null,8,OW),A("span",LW,Be(u.authorName),1),A("span",{class:"stars",innerHTML:o.getFilledStars(u.rating)},null,8,PW)]),A("p",RW,Be(u.content),1),Array.isArray(u.photoUrls)&&u.photoUrls.length?(re(),ce("div",BW,[(re(!0),ce(at,null,At(u.photoUrls,(h,c)=>(re(),ce("button",{key:c,class:"photo-cell",style:Xn({backgroundImage:`url(${h})`}),onClick:f=>o.openPhotoViewer(u,c),"aria-label":` ${u.reviewId}  ${c+1}`},null,12,UW))),128))])):rt("",!0),A("div",VW,[A("span",$W,Be(o.formatReviewDate(u.createdAt)),1),A("span",{class:ht(["likes",{active:s.likedStatus[u.reviewId]}]),onClick:h=>o.toggleLike(u.reviewId)},[A("i",{class:ht(o.getLikeIcon(u.reviewId))},null,2),Nt("  "+Be(u.likeCount),1)],10,jW)]),A("button",{class:"more-options",onClick:h=>o.toggleReportMenu(u.reviewId)},[...t[8]||(t[8]=[A("i",{class:"bi bi-three-dots"},null,-1)])],8,zW),s.openReportMenuId===u.reviewId?(re(),ce("div",GW,[String(u.authorId)===String(r.currentUserId)?(re(),ce("div",HW,[A("button",{class:"edit-btn",onClick:h=>n.$emit("edit-review",u)},[...t[9]||(t[9]=[A("i",{class:"bi bi-pencil"},null,-1),Nt("  ",-1)])],8,WW),A("button",{class:"edit-btn-delete",onClick:h=>o.onClickDelete(u.reviewId)},[...t[10]||(t[10]=[A("i",{class:"bi bi-trash3"},null,-1),Nt("  ",-1)])],8,XW)])):(re(),ce("div",qW,[A("button",{class:"report-btn",onClick:h=>o.reportReview(u.reviewId)},[...t[11]||(t[11]=[A("i",{class:"bi bi-bell"},null,-1),Nt("  ",-1)])],8,YW)]))])):rt("",!0)],64)):(re(),ce("div",KW,[...t[12]||(t[12]=[A("i",{class:"bi bi-info-circle"},null,-1),Nt("   . ",-1)])]))],8,kW))),128))])),s.totalPages>1&&!s.isLoading?(re(),ce("div",ZW,[A("button",{onClick:t[2]||(t[2]=u=>o.goToPage(s.currentPage-1)),disabled:s.currentPage===1,class:"page-btn"},"< ",8,JW),(re(!0),ce(at,null,At(o.visiblePages,u=>(re(),ce("button",{key:u,onClick:h=>o.goToPage(u),class:ht(["page-btn",{active:u===s.currentPage}])},Be(u),11,QW))),128)),A("button",{onClick:t[3]||(t[3]=u=>o.goToPage(s.currentPage+1)),disabled:s.currentPage===s.totalPages,class:"page-btn"}," >",8,eX)])):rt("",!0),lt(a,{show:s.photoModal.visible,images:s.photoModal.images,startIndex:s.photoModal.startIndex,onClose:t[4]||(t[4]=u=>s.photoModal.visible=!1)},null,8,["show","images","startIndex"]),lt(l,{show:s.reportModal.visible,onClose:t[5]||(t[5]=u=>s.reportModal.visible=!1),onSubmit:o.handleReportSubmit},null,8,["show","onSubmit"])])}const nX=wt(yW,[["render",tX],["__scopeId","data-v-9a5e33b9"]]),rX={name:"ReviewModal",props:{reviewText:String,selectedRating:Number,isFormValid:Boolean,uploadedFiles:{type:Array,default:()=>[]}},emits:["close","submit","update:reviewText","update:selectedRating","files-selected","remove-file"],computed:{filePreviews(){return this.uploadedFiles?this.uploadedFiles.map(n=>({file:n,url:URL.createObjectURL(n)})):[]}},methods:{setRating(n){this.$emit("update:selectedRating",n)},openFilePicker(){this.$refs.fileInput.click()},onFileChange(n){const t=n.target.files;t.length>0&&this.$emit("files-selected",t),n.target.value=null},removeFile(n){this.$emit("remove-file",n)}},beforeUnmount(){this.filePreviews&&this.filePreviews.forEach(n=>{URL.revokeObjectURL(n.url)})}},iX={class:"modal-backdrop"},sX={class:"review-modal"},oX={class:"modal-header"},aX={class:"modal-body"},lX={class:"image-preview-list"},uX=["onClick"],cX={class:"preview-label"},hX={class:"upload-count"},fX=["value"],dX={class:"rating-area"},pX=["onClick"],mX={class:"rating-score"},gX={class:"modal-footer"},vX=["disabled"];function yX(n,t,r,i,s,o){return re(),ce("div",iX,[A("div",sX,[A("header",oX,[t[5]||(t[5]=A("div",{class:"title-wrap"},[A("span",{class:"icon"},[A("i",{class:"bi bi-pencil-square"})]),A("h2",{class:"modal-title"},"")],-1)),A("button",{class:"close-btn",onClick:t[0]||(t[0]=a=>n.$emit("close"))},"  ")]),t[7]||(t[7]=A("hr",{class:"header-divider"},null,-1)),A("main",aX,[A("div",lX,[(re(!0),ce(at,null,At(o.filePreviews,(a,l)=>(re(),ce("div",{key:l,class:"preview-item",style:Xn({backgroundImage:"url("+a.url+")"})},[A("button",{class:"remove-btn",onClick:br(u=>o.removeFile(l),["stop"])},"",8,uX),A("span",cX,""+Be(l+1),1)],4))),128)),r.uploadedFiles.length<5?(re(),ce("div",{key:0,class:"image-upload-area",onClick:t[1]||(t[1]=(...a)=>o.openFilePicker&&o.openFilePicker(...a))},[t[6]||(t[6]=A("span",{class:"gallery-icon"},[A("i",{class:"bi bi-image"})],-1)),A("span",hX,Be(r.uploadedFiles.length)+"/5",1)])):rt("",!0)]),A("input",{type:"file",ref:"fileInput",onChange:t[2]||(t[2]=(...a)=>o.onFileChange&&o.onFileChange(...a)),hidden:"",multiple:"",accept:"image/*"},null,544),A("textarea",{value:r.reviewText,onInput:t[3]||(t[3]=a=>n.$emit("update:reviewText",a.target.value)),placeholder:" .",class:"review-textarea"},null,40,fX),A("div",dX,[(re(),ce(at,null,At(5,a=>A("span",{key:a,class:ht(["star-icon",{filled:a<=r.selectedRating}]),onClick:l=>o.setRating(a)},"  ",10,pX)),64)),A("span",mX,Be(r.selectedRating.toFixed(1)),1)])]),A("footer",gX,[A("button",{class:"submit-btn",disabled:!r.isFormValid,onClick:t[4]||(t[4]=a=>n.$emit("submit"))},"   ",8,vX)])])])}const bX=wt(rX,[["render",yX],["__scopeId","data-v-b3aadf9d"]]),xX={name:"ActivityRecommender",props:{placeId:{type:[String,Number],required:!0},placeMainCategory:String,placeSubCategories:{type:Array,default:()=>[]},placeGradeTag:{type:String,default:""}},data(){return{isLoading:!1,hasSearched:!1,recommendations:[]}},computed:{parsedGrade(){if(!this.placeGradeTag)return null;const n=this.placeGradeTag.match(/(\d+)/);return n?n[1]:null},canRecommend(){return!!this.placeId&&!!this.parsedGrade&&!!this.placeMainCategory}},methods:{async fetchRecommendations(){if(!this.canRecommend){alert("   (  ) .");return}this.isLoading=!0,this.hasSearched=!0,this.recommendations=[];try{const n=await cn.get("/api/recommend/activities",{params:{placeId:this.placeId,grade:this.parsedGrade,unit:this.placeMainCategory}});await new Promise(t=>setTimeout(t,1500)),this.recommendations=n.data}catch(n){console.error("AI   :",n),alert("    .")}finally{this.isLoading=!1}}}},_X={class:"activity-recommender-section"},wX={key:0,class:"criteria-card"},EX={class:"criteria-content"},SX={class:"criteria-text"},CX={class:"criteria-description"},AX={class:"highlight-badge"},TX={class:"highlight-badge subject-badge"},IX={key:1,class:"criteria-card warning-card"},DX={class:"button-wrapper"},NX=["disabled"],FX={key:0,class:"btn-content loading"},kX={key:1,class:"btn-content"},MX={key:0,class:"loading-container"},OX={class:"loading-animation"},LX={class:"loading-text"},PX={class:"loading-description"},RX={class:"skeleton-cards"},BX={class:"card-header"},UX={class:"badge-wrapper"},VX={class:"unit-badge"},$X={class:"card-title"},jX={class:"card-description"},zX={key:0,class:"card-footer"},GX={class:"location-info"},HX={class:"location-value"},WX={key:0,class:"no-results"};function XX(n,t,r,i,s,o){return re(),ce("div",_X,[t[19]||(t[19]=pi('<div class="section-header" data-v-d812520a><div class="header-icon-wrapper" data-v-d812520a><div class="icon-bg" data-v-d812520a><span class="header-icon" data-v-d812520a></span></div></div><div class="header-content" data-v-d812520a><h4 class="section-title" data-v-d812520a>AI   </h4><p class="section-subtitle" data-v-d812520a>    </p></div></div>',1)),o.canRecommend?(re(),ce("div",wX,[A("div",EX,[A("div",SX,[A("p",CX,[A("span",AX,Be(r.placeGradeTag),1),A("span",TX,Be(r.placeMainCategory),1),t[2]||(t[2]=Nt("   ",-1))])])])])):(re(),ce("div",IX,[...t[3]||(t[3]=[pi('<div class="criteria-content" data-v-d812520a><div class="criteria-icon warning" data-v-d812520a><i class="bi bi-exclamation-circle-fill" data-v-d812520a></i></div><div class="criteria-text" data-v-d812520a><p class="criteria-description" data-v-d812520a>      <br data-v-d812520a> AI    . </p></div></div>',1)])])),A("div",DX,[A("button",{class:ht(["btn-recommend",{loading:s.isLoading,disabled:!o.canRecommend}]),onClick:t[0]||(t[0]=(...a)=>o.fetchRecommendations&&o.fetchRecommendations(...a)),disabled:s.isLoading||!o.canRecommend},[s.isLoading?(re(),ce("span",FX,[...t[4]||(t[4]=[A("span",{class:"spinner"},null,-1),A("span",{class:"btn-text"},"AI  ...",-1)])])):(re(),ce("span",kX,[...t[5]||(t[5]=[A("i",{class:"bi bi-stars"},null,-1),A("span",{class:"btn-text"},"AI  ",-1)])]))],10,NX)]),lt($s,{name:"fade"},{default:Hr(()=>[s.isLoading?(re(),ce("div",MX,[A("div",OX,[t[11]||(t[11]=A("div",{class:"robot-icon"},[A("span",{class:"robot-emoji"},""),A("div",{class:"loading-pulse"})],-1)),A("div",LX,[t[9]||(t[9]=A("h5",{class:"loading-title"},"AI  ",-1)),A("p",PX,[Nt(Be(r.placeGradeTag)+" ",1),A("strong",null,Be(r.placeMainCategory),1),t[6]||(t[6]=Nt(" ",-1)),t[7]||(t[7]=A("br",null,null,-1)),t[8]||(t[8]=Nt("     ",-1))])]),A("div",RX,[(re(),ce(at,null,At(2,a=>A("div",{key:a,class:"skeleton-card",style:Xn({animationDelay:`${a*.1}s`})},[...t[10]||(t[10]=[A("div",{class:"skeleton-header"},[A("div",{class:"skeleton-badge"})],-1),A("div",{class:"skeleton-title"},null,-1),A("div",{class:"skeleton-desc line-1"},null,-1),A("div",{class:"skeleton-desc line-2"},null,-1),A("div",{class:"skeleton-location"},null,-1)])],4)),64))])])])):rt("",!0)]),_:1}),lt(sI,{name:"slide-up",tag:"div",class:"results-wrapper"},{default:Hr(()=>[(re(!0),ce(at,null,At(s.recommendations,(a,l)=>(re(),ce("div",{key:`rec-${l}`,class:"recommend-card",style:Xn({animationDelay:`${l*.1}s`})},[A("div",BX,[A("div",UX,[A("span",VX,[t[12]||(t[12]=A("i",{class:"bi bi-book"},null,-1)),Nt(" "+Be(a.relatedUnit),1)])]),A("h5",$X,Be(a.title),1)]),A("p",jX,Be(a.description),1),a.relatedExhibit?(re(),ce("div",zX,[A("div",GX,[t[13]||(t[13]=A("i",{class:"bi bi-geo-alt-fill"},null,-1)),t[14]||(t[14]=A("span",{class:"location-label"}," ",-1)),A("span",HX,Be(a.relatedExhibit),1)])])):rt("",!0)],4))),128))]),_:1}),lt($s,{name:"fade"},{default:Hr(()=>[!s.isLoading&&s.recommendations.length===0&&s.hasSearched?(re(),ce("div",WX,[t[16]||(t[16]=A("div",{class:"no-results-icon"},[A("span",{class:"icon-emoji"},"")],-1)),t[17]||(t[17]=A("h5",{class:"no-results-title"},"  ",-1)),t[18]||(t[18]=A("p",{class:"no-results-text"},[Nt("    "),A("br"),Nt("     ")],-1)),A("button",{class:"btn-retry",onClick:t[1]||(t[1]=(...a)=>o.fetchRecommendations&&o.fetchRecommendations(...a))},[...t[15]||(t[15]=[A("i",{class:"bi bi-arrow-clockwise"},null,-1),Nt("   ",-1)])])])):rt("",!0)]),_:1})])}const qX=wt(xX,[["render",XX],["__scopeId","data-v-d812520a"]]),ru=Math.PI,Sb="2.1.1",$l="p2d",YX="p2d-hdr",Ma="webgl",Ir="webgl2",EN="default",_y="simple",wy="full",SN="crosshair",CN="pointer",AN="move",TN="text",IN="wait",al=ru/2,Ey=ru,KX=ru/4,ZX=ru*2,Si=ru*2,ll=ru/180,ul=180/ru,hs="corner",$h="corners",jh="radius",Bp="right",DN="left",zi="center",JX="top",Sy="bottom",NN="alphabetic",Up=0,uc=1,QX=3,eq=2,Dl=4,ng=6,zh=5,mh="quads",Gh="quad_strip",tq="tess",zu=7,qs=8,Hh="close",jl="open",Vp="chord",Wh="pie",Cb="square",Ab="butt",Na="round",Tb="bevel",Ib="miter",FN="auto",nq="Alt",rq="Backspace",iq="Control",sq="Delete",oq="ArrowDown",aq="Enter",lq="Escape",uq="ArrowLeft",cq="Alt",hq="Enter",fq="ArrowRight",dq="Shift",pq="Tab",mq="ArrowUp",Ii="source-over",zl="destination-out",Xh="lighter",rg="darken",ig="lighten",kN="difference",sg="subtract",og="exclusion",ag="multiply",lg="screen",ug="copy",Db="overlay",Nb="hard-light",Fb="soft-light",kb="color-dodge",Mb="color-burn",cg="threshold",Ob="gray",Lb="opaque",Pb="invert",hg="posterize",Rb="dilate",Bb="erode",cc="blur",co="normal",gq="italic",vq="bold",yq="bold italic",bq="CHAR",MN="WORD",xq="#000000",_q=1.25,wq="middle",Cy="linear",Eq="quadratic",Sq="bezier",Cq="curve",Aq="stroke",$p="fill",jp="texture",Tq="immediate",fg="image",ON="nearest",Ay="repeat",Ty="clamp",Iy="mirror",LN="flat",PN="smooth",Iq="landscape",Dq="portrait",RN="#000000",BN="#FFFFFF",UN="grid",VN="axes",Nq="label",Fq="fallback",$N="contain",jN="cover",ba="unsigned-byte",gh="unsigned-int",Ui="float",Fu="half-float",Gu=Symbol("include"),Ou=Symbol("exclude"),Dy=Symbol("join");var Oa=Object.freeze({__proto__:null,ADD:Xh,ALT:nq,ARROW:EN,AUTO:FN,AXES:VN,BACKSPACE:rq,BASELINE:NN,BEVEL:Tb,BEZIER:Sq,BLEND:Ii,BLUR:cc,BOLD:vq,BOLDITALIC:yq,BOTTOM:Sy,BURN:Mb,CENTER:zi,CHAR:bq,CHORD:Vp,CLAMP:Ty,CLOSE:Hh,CONTAIN:$N,CONTROL:iq,CORNER:hs,CORNERS:$h,COVER:jN,CROSS:SN,CURVE:Cq,DARKEST:rg,DEG_TO_RAD:ll,DELETE:sq,DIFFERENCE:kN,DILATE:Rb,DODGE:kb,DOWN_ARROW:oq,EMPTY_PATH:zu,ENTER:aq,ERODE:Bb,ESCAPE:lq,EXCLUDE:Ou,EXCLUSION:og,FALLBACK:Fq,FILL:$p,FLAT:LN,FLOAT:Ui,FULL:wy,GRAY:Ob,GRID:UN,HALF_FLOAT:Fu,HALF_PI:al,HAND:CN,HARD_LIGHT:Nb,IMAGE:fg,IMMEDIATE:Tq,INCLUDE:Gu,INVERT:Pb,ITALIC:gq,JOIN:Dy,LABEL:Nq,LANDSCAPE:Iq,LEFT:DN,LEFT_ARROW:uq,LIGHTEST:ig,LINEAR:Cy,LINES:uc,LINE_LOOP:eq,LINE_STRIP:QX,MIRROR:Iy,MITER:Ib,MOVE:AN,MULTIPLY:ag,NEAREST:ON,NORMAL:co,OPAQUE:Lb,OPEN:jl,OPTION:cq,OVERLAY:Db,P2D:$l,P2DHDR:YX,PATH:qs,PI:Ey,PIE:Wh,POINTS:Up,PORTRAIT:Dq,POSTERIZE:hg,PROJECT:Cb,QUADRATIC:Eq,QUADS:mh,QUAD_STRIP:Gh,QUARTER_PI:KX,RADIUS:jh,RAD_TO_DEG:ul,REMOVE:zl,REPEAT:Ay,REPLACE:ug,RETURN:hq,RIGHT:Bp,RIGHT_ARROW:fq,ROUND:Na,SCREEN:lg,SHIFT:dq,SIMPLE:_y,SMOOTH:PN,SOFT_LIGHT:Fb,SQUARE:Ab,STROKE:Aq,SUBTRACT:sg,TAB:pq,TAU:ZX,TESS:tq,TEXT:TN,TEXTURE:jp,THRESHOLD:cg,TOP:JX,TRIANGLES:Dl,TRIANGLE_FAN:ng,TRIANGLE_STRIP:zh,TWO_PI:Si,UNSIGNED_BYTE:ba,UNSIGNED_INT:gh,UP_ARROW:mq,VERSION:Sb,WAIT:IN,WEBGL:Ma,WEBGL2:Ir,WORD:MN,_CTX_MIDDLE:wq,_DEFAULT_FILL:BN,_DEFAULT_LEADMULT:_q,_DEFAULT_STROKE:RN,_DEFAULT_TEXT_FILL:xq});function Ub(n,t){t.applyMatrix=function(...r){let i=r[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(r[0])||i?this._renderer.applyMatrix(...r[0]):this._renderer.applyMatrix(...r),this},t.resetMatrix=function(){return this._renderer.resetMatrix(),this},t.rotate=function(r,i){return this._renderer.rotate(this._toRadians(r),i),this},t.rotateX=function(r){return this._assert3d("rotateX"),this._renderer.rotateX(this._toRadians(r)),this},t.rotateY=function(r){return this._assert3d("rotateY"),this._renderer.rotateY(this._toRadians(r)),this},t.rotateZ=function(r){return this._assert3d("rotateZ"),this._renderer.rotateZ(this._toRadians(r)),this},t.scale=function(r,i,s){if(r instanceof n.Vector){const o=r;r=o.x,i=o.y,s=o.z}else if(Array.isArray(r)){const o=r;r=o[0],i=o[1],s=o[2]||1}return isNaN(i)?i=s=r:isNaN(s)&&(s=1),this._renderer.scale(r,i,s),this},t.shearX=function(r){const i=this._toRadians(r);return this._renderer.applyMatrix(1,0,Math.tan(i),1,0,0),this},t.shearY=function(r){const i=this._toRadians(r);return this._renderer.applyMatrix(1,Math.tan(i),0,1,0,0),this},t.translate=function(r,i,s){return this._renderer.isP3D?this._renderer.translate(r,i,s):this._renderer.translate(r,i),this},t.push=function(){this._renderer.push()},t.pop=function(){this._renderer.pop()}}typeof p5<"u"&&Ub(p5,p5.prototype);function zN(n,t){t.noLoop=function(){this._loop=!1},t.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.isLooping=function(){return this._loop},t.redraw=async function(r){if(this._inUserDraw||!this._setupDone)return;let i=parseInt(r);(isNaN(i)||i<1)&&(i=1);const s=this._isGlobal?window:this;if(typeof s.draw=="function"){typeof s.setup>"u"&&s.scale(s._pixelDensity,s._pixelDensity);for(let o=0;o<i;o++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),this._renderer.isP3D&&this._renderer._update(),this.frameCount=s.frameCount+1,await this._runLifecycleHook("predraw"),this._inUserDraw=!0;try{await s.draw()}finally{this._inUserDraw=!1}await this._runLifecycleHook("postdraw")}}}}typeof p5<"u"&&zN(p5,p5.prototype);function GN(n,t,r){const i=[EN,SN,CN,AN,TN,IN];t._frameRate=0,t._lastFrameTime=window.performance.now(),t._targetFrameRate=60;const s=window.print;let o=!1;r.presetup=function(){const c=["resize"];for(const f of c)window.addEventListener(f,this[`_on${f}`].bind(this),{passive:!1,signal:this._removeSignal})},t.print=function(...c){c.length?console.log(...c):o||(s(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(o=!0))},t.frameCount=0,t.deltaTime=0,t.focused=document.hasFocus(),t.cursor=function(c,f,d){let p="auto";const m=this._curElement.elt;if(i.includes(c))p=c;else if(typeof c=="string"){let g="";f&&d&&typeof f=="number"&&typeof d=="number"&&(g=`${f} ${d}`),c.substring(0,7)==="http://"||c.substring(0,8)==="https://"?p=`url(${c}) ${g}, auto`:/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?p=`url(${c}) ${g}, auto`:p=c}m.style.cursor=p},t.frameRate=function(c){return typeof c!="number"||c<0?this._frameRate:(this._targetFrameRate=c,c===0&&(this._frameRate=c),this)},t.getFrameRate=function(){return this.frameRate()},t.setFrameRate=function(c){return this.frameRate(c)},t.getTargetFrameRate=function(){return this._targetFrameRate},t.noCursor=function(){this._curElement.elt.style.cursor="none"},t.webglVersion=$l,t.displayWidth=screen.width,t.displayHeight=screen.height,t.windowWidth=0,t.windowHeight=0,t._onresize=function(c){this.windowWidth=a(),this.windowHeight=l();let f;typeof this._customActions.windowResized=="function"&&(f=this._customActions.windowResized(c),f!==void 0&&!f&&c.preventDefault())};function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function l(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}t._updateWindowSize=function(){this.windowWidth=a(),this.windowHeight=l()},Object.defineProperty(t,"width",{get(){return this._renderer.width}}),Object.defineProperty(t,"height",{get(){return this._renderer.height}}),t.fullscreen=function(c){if(typeof c>"u")return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;c?u(document.documentElement):h()},t.pixelDensity=function(c){let f;return typeof c=="number"?(c!==this._renderer._pixelDensity&&(this._renderer._pixelDensity=c),f=this,this.resizeCanvas(this.width,this.height,!0)):f=this._renderer._pixelDensity,f},t.displayDensity=()=>window.devicePixelRatio;function u(c){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}function h(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}t.getURL=()=>location.href,t.getURLPath=()=>location.pathname.split("/").filter(c=>c!==""),t.getURLParams=function(){const c=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim;let f;const d={};for(;(f=c.exec(location.search))!=null;)f.index===c.lastIndex&&c.lastIndex++,d[f[1]]=f[2];return d},t.worldToScreen=function(c){return typeof c=="number"&&(c=this.createVector(...arguments)),this._renderer.getWorldToScreenMatrix().multiplyAndNormalizePoint(c)},t.screenToWorld=function(c){typeof c=="number"&&(c=this.createVector(...arguments));const f=this._renderer.getWorldToScreenMatrix();if(c.dimensions===2){let m=f.mat4[14]/f.mat4[15];c=this.createVector(c.x,c.y,m)}return f.invert(f).multiplyAndNormalizePoint(c)}}typeof p5<"u"&&GN(p5,p5.prototype);function Rr(n,t){let r=n.length;Array.isArray(n[0])||(n=[n]),Array.isArray(t[0])||(t=t.map(a=>[a]));let i=t[0].length,s=t[0].map((a,l)=>t.map(u=>u[l])),o=n.map(a=>s.map(l=>{let u=0;if(!Array.isArray(a)){for(let h of l)u+=a*h;return u}for(let h=0;h<a.length;h++)u+=a[h]*(l[h]||0);return u}));return r===1&&(o=o[0]),i===1?o.map(a=>a[0]):o}function HN(n){return Hu(n)==="string"}function Hu(n){return(Object.prototype.toString.call(n).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function Ny(n,{precision:t,unit:r}){return Fy(n)?"none":kq(n,t)+(r??"")}function Fy(n){return Number.isNaN(n)||n instanceof Number&&n?.none}function kq(n,t){if(n===0)return 0;let r=~~n,i=0;r&&t&&(i=~~Math.log10(Math.abs(r))+1);const s=10**(t-i);return Math.floor(n*s+.5)/s}const Mq={deg:1,grad:.9,rad:180/Math.PI,turn:360};function Oq(n){if(!n)return;n=n.trim();const t=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/,i=/%|deg|g?rad|turn$/,s=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g;let o=n.match(t);if(o){let a=[];return o[2].replace(s,(l,u)=>{let h=u.match(i),c=u;if(h){let f=h[0],d=c.slice(0,-f.length);f==="%"?(c=new Number(d/100),c.type="<percentage>"):(c=new Number(d*Mq[f]),c.type="<angle>",c.unit=f)}else r.test(c)?(c=new Number(c),c.type="<number>"):c==="none"&&(c=new Number(NaN),c.none=!0);l.startsWith("/")&&(c=c instanceof Number?c:new Number(c),c.alpha=!0),typeof c=="object"&&c instanceof Number&&(c.raw=u),a.push(c)}),{name:o[1].toLowerCase(),rawName:o[1],rawArgs:o[2],args:a}}}function Lq(n){return n[n.length-1]}function zp(n,t,r){return isNaN(n)?t:isNaN(t)?n:n+(t-n)*r}function Pq(n,t,r){return(r-n)/(t-n)}function WN(n,t,r){return zp(t[0],t[1],Pq(n[0],n[1],r))}function Rq(n){return n.map(t=>t.split("|").map(r=>{r=r.trim();let i=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(i){let s=new String(i[1]);return s.range=[+i[2],+i[3]],s}return r}))}function Bq(n,t,r){return Math.max(Math.min(r,t),n)}function Vb(n,t){return Math.sign(n)===Math.sign(t)?n:-n}function Ro(n,t){return Vb(Math.abs(n)**t,n)}function XN(n,t){return t===0?0:n/t}function Uq(n,t,r=0,i=n.length){for(;r<i;){const s=r+i>>1;n[s]<t?r=s+1:i=s}return r}class Vq{add(t,r,i){if(typeof arguments[0]!="string"){for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1]);return}(Array.isArray(t)?t:[t]).forEach(function(s){this[s]=this[s]||[],r&&this[s][i?"unshift":"push"](r)},this)}run(t,r){this[t]=this[t]||[],this[t].forEach(function(i){i.call(r&&r.context?r.context:r,r)})}}const Gp=new Vq,Bo={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function ky(n){return Array.isArray(n)?n:Bo[n]}function Hp(n,t,r,i={}){if(n=ky(n),t=ky(t),!n||!t)throw new TypeError(`Missing white point to convert ${n?"":"from"}${!n&&!t?"/":""}${t?"":"to"}`);if(n===t)return r;let s={W1:n,W2:t,XYZ:r,options:i};if(Gp.run("chromatic-adaptation-start",s),s.M||(s.W1===Bo.D65&&s.W2===Bo.D50?s.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:s.W1===Bo.D50&&s.W2===Bo.D65&&(s.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),Gp.run("chromatic-adaptation-end",s),s.M)return Rr(s.M,s.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const Gl={gamut_mapping:"css",precision:5,deltaE:"76",verbose:"production".toLowerCase()!=="test",warn:function(t){this.verbose&&globalThis?.console?.warn?.(t)}},$q=new Set(["<number>","<percentage>","<angle>"]);function t2(n,t,r,i){return Object.entries(n.coords).map(([o,a],l)=>{let u=t.coordGrammar[l],h=i[l],c=h?.type,f;if(h.none?f=u.find(m=>$q.has(m)):f=u.find(m=>m==c),!f){let m=a.name||o;throw new TypeError(`${c??h.raw} not allowed for ${m} in ${r}()`)}let d=f.range;c==="<percentage>"&&(d||=[0,1]);let p=a.range||a.refRange;return d&&p&&(i[l]=WN(d,p,i[l])),f})}function qN(n,{meta:t}={}){let r={str:String(n)?.trim()};if(Gp.run("parse-start",r),r.color)return r.color;if(r.parsed=Oq(r.str),r.parsed){let i=r.parsed.name;if(i==="color"){let s=r.parsed.args.shift(),o=s.startsWith("--")?s.substring(2):`--${s}`,a=[s,o],l=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let c of Ft.all){let f=c.getFormat("color");if(f&&(a.includes(f.id)||f.ids?.filter(d=>a.includes(d)).length)){const d=Object.keys(c.coords).map((m,g)=>r.parsed.args[g]||0);let p;return f.coordGrammar&&(p=t2(c,f,"color",d)),t&&Object.assign(t,{formatId:"color",types:p}),f.id.startsWith("--")&&!s.startsWith("--")&&Gl.warn(`${c.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${f.id}) instead of color(${s}).`),s.startsWith("--")&&!f.id.startsWith("--")&&Gl.warn(`${c.name} is a standard space and supported in the CSS spec. Use color(${f.id}) instead of prefixed color(${s}).`),{spaceId:c.id,coords:d,alpha:l}}}let u="",h=s in Ft.registry?s:o;if(h in Ft.registry){let c=Ft.registry[h].formats?.color?.id;c&&(u=`Did you mean color(${c})?`)}throw new TypeError(`Cannot parse color(${s}). `+(u||"Missing a plugin?"))}else for(let s of Ft.all){let o=s.getFormat(i);if(o&&o.type==="function"){let a=1;(o.lastAlpha||Lq(r.parsed.args).alpha)&&(a=r.parsed.args.pop());let l=r.parsed.args,u;return o.coordGrammar&&(u=t2(s,o,i,l)),t&&Object.assign(t,{formatId:o.name,types:u}),{spaceId:s.id,coords:l,alpha:a}}}}else for(let i of Ft.all)for(let s in i.formats){let o=i.formats[s];if(o.type!=="custom"||o.test&&!o.test(r.str))continue;let a=o.parse(r.str);if(a)return a.alpha??=1,t&&(t.formatId=s),a}throw new TypeError(`Could not parse ${n} as a color. Missing a plugin?`)}function or(n){if(Array.isArray(n))return n.map(or);if(!n)throw new TypeError("Empty color reference");HN(n)&&(n=qN(n));let t=n.space||n.spaceId;return t instanceof Ft||(n.space=Ft.get(t)),n.alpha===void 0&&(n.alpha=1),n}const jq=75e-6;class Ft{constructor(t){this.id=t.id,this.name=t.name,this.base=t.base?Ft.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let r=t.coords??this.base.coords;for(let s in r)"name"in r[s]||(r[s].name=s);this.coords=r;let i=t.white??this.base.white??"D65";this.white=ky(i),this.formats=t.formats??{};for(let s in this.formats){let o=this.formats[s];o.type||="function",o.name||=s}this.formats.color?.id||(this.formats.color={...this.formats.color??{},id:t.cssId||this.id}),t.gamutSpace?this.gamutSpace=t.gamutSpace==="self"?this:Ft.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(s,o)=>!0),this.referred=t.referred,Object.defineProperty(this,"path",{value:zq(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),Gp.run("colorspace-init-end",this)}inGamut(t,{epsilon:r=jq}={}){if(!this.equals(this.gamutSpace))return t=this.to(this.gamutSpace,t),this.gamutSpace.inGamut(t,{epsilon:r});let i=Object.values(this.coords);return t.every((s,o)=>{let a=i[o];if(a.type!=="angle"&&a.range){if(Number.isNaN(s))return!0;let[l,u]=a.range;return(l===void 0||s>=l-r)&&(u===void 0||s<=u+r)}return!0})}get isUnbounded(){return Object.values(this.coords).every(t=>!("range"in t))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let t in this.coords)if(this.coords[t].type==="angle")return!0;return!1}getFormat(t){if(typeof t=="object")return t=n2(t,this),t;let r;return t==="default"?r=Object.values(this.formats)[0]:r=this.formats[t],r?(r=n2(r,this),r):null}equals(t){return t?this===t||this.id===t||this.id===t.id:!1}to(t,r){if(arguments.length===1){const l=or(t);[t,r]=[l.space,l.coords]}if(t=Ft.get(t),this.equals(t))return r;r=r.map(l=>Number.isNaN(l)?0:l);let i=this.path,s=t.path,o,a;for(let l=0;l<i.length&&i[l].equals(s[l]);l++)o=i[l],a=l;if(!o)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let l=i.length-1;l>a;l--)r=i[l].toBase(r);for(let l=a+1;l<s.length;l++)r=s[l].fromBase(r);return r}from(t,r){if(arguments.length===1){const i=or(t);[t,r]=[i.space,i.coords]}return t=Ft.get(t),t.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let r in this.coords){let i=this.coords[r],s=i.range||i.refRange;t.push(s?.min??0)}return t}static registry={};static get all(){return[...new Set(Object.values(Ft.registry))]}static register(t,r){if(arguments.length===1&&(r=arguments[0],t=r.id),r=this.get(r),this.registry[t]&&this.registry[t]!==r)throw new Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=r,arguments.length===1&&r.aliases)for(let i of r.aliases)this.register(i,r);return r}static get(t,...r){if(!t||t instanceof Ft)return t;if(Hu(t)==="string"){let s=Ft.registry[t.toLowerCase()];if(!s)throw new TypeError(`No color space found with id = "${t}"`);return s}if(r.length)return Ft.get(...r);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,r){let i=Hu(t),s,o;if(i==="string"?t.includes(".")?[s,o]=t.split("."):[s,o]=[,t]:Array.isArray(t)?[s,o]=t:(s=t.space,o=t.coordId),s=Ft.get(s),s||(s=r),!s)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(i=Hu(o),i==="number"||i==="string"&&o>=0){let u=Object.entries(s.coords)[o];if(u)return{space:s,id:u[0],index:o,...u[1]}}s=Ft.get(s);let a=o.toLowerCase(),l=0;for(let u in s.coords){let h=s.coords[u];if(u.toLowerCase()===a||h.name?.toLowerCase()===a)return{space:s,id:u,index:l,...h};l++}throw new TypeError(`No "${o}" coordinate found in ${s.name}. Its coordinates are: ${Object.keys(s.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}function zq(n){let t=[n];for(let r=n;r=r.base;)t.push(r);return t}function n2(n,{coords:t}={}){if(n.coords&&!n.coordGrammar){n.type||="function",n.name||="color",n.coordGrammar=Rq(n.coords);let r=Object.entries(t).map(([i,s],o)=>{let a=n.coordGrammar[o][0],l=s.range||s.refRange,u=a.range,h="";return a=="<percentage>"?(u=[0,100],h="%"):a=="<angle>"&&(h="deg"),{fromRange:l,toRange:u,suffix:h}});n.serializeCoords=(i,s)=>i.map((o,a)=>{let{fromRange:l,toRange:u,suffix:h}=r[a];return l&&u&&(o=WN(l,u,o)),o=Ny(o,{precision:s,unit:h}),o})}return n}const Go=new Ft({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class dg extends Ft{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=Go),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??=r=>{let i=Rr(t.toXYZ_M,r);return this.white!==this.base.white&&(i=Hp(this.white,this.base.white,i)),i},t.fromBase??=r=>(r=Hp(this.base.white,this.white,r),Rr(t.fromXYZ_M,r))),t.referred??="display",super(t)}}function YN(n,t){return n=or(n),!t||n.space.equals(t)?n.coords.slice():(t=Ft.get(t),t.from(n))}function wa(n,t){n=or(n);let{space:r,index:i}=Ft.resolveCoord(t,n.space);return YN(n,r)[i]}function KN(n,t,r){return n=or(n),t=Ft.get(t),n.coords=t.to(n.space,r),n}KN.returns="color";function qh(n,t,r){if(n=or(n),arguments.length===2&&Hu(arguments[1])==="object"){let i=arguments[1];for(let s in i)qh(n,s,i[s])}else{typeof r=="function"&&(r=r(wa(n,t)));let{space:i,index:s}=Ft.resolveCoord(t,n.space),o=YN(n,i);o[s]=r,KN(n,i,o)}return n}qh.returns="color";const Gq=new Ft({id:"xyz-d50",name:"XYZ D50",white:"D50",base:Go,fromBase:n=>Hp(Go.white,"D50",n),toBase:n=>Hp("D50",Go.white,n)}),Hq=216/24389,r2=24/116,dd=24389/27;let j0=Bo.D50;const Gs=new Ft({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:j0,base:Gq,fromBase(n){let r=n.map((i,s)=>i/j0[s]).map(i=>i>Hq?Math.cbrt(i):(dd*i+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(n){let t=[];return t[1]=(n[0]+16)/116,t[0]=n[1]/500+t[1],t[2]=t[1]-n[2]/200,[t[0]>r2?Math.pow(t[0],3):(116*t[0]-16)/dd,n[0]>8?Math.pow((n[0]+16)/116,3):n[0]/dd,t[2]>r2?Math.pow(t[2],3):(116*t[2]-16)/dd].map((i,s)=>i*j0[s])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function na(n){return(n%360+360)%360}function Wq(n,t){if(n==="raw")return t;let[r,i]=t.map(na),s=i-r;return n==="increasing"?s<0&&(i+=360):n==="decreasing"?s>0&&(r+=360):n==="longer"?-180<s&&s<180&&(s>0?r+=360:i+=360):n==="shorter"&&(s>180?r+=360:s<-180&&(i+=360)),[r,i]}const hc=new Ft({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Gs,fromBase(n){let[t,r,i]=n,s;const o=.02;return Math.abs(r)<o&&Math.abs(i)<o?s=NaN:s=Math.atan2(i,r)*180/Math.PI,[t,Math.sqrt(r**2+i**2),na(s)]},toBase(n){let[t,r,i]=n;return r<0&&(r=0),isNaN(i)&&(i=0),[t,r*Math.cos(i*Math.PI/180),r*Math.sin(i*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),i2=25**7,Wp=Math.PI,s2=180/Wp,wu=Wp/180;function o2(n){const t=n*n;return t*t*t*n}function ZN(n,t,{kL:r=1,kC:i=1,kH:s=1}={}){[n,t]=or([n,t]);let[o,a,l]=Gs.from(n),u=hc.from(Gs,[o,a,l])[1],[h,c,f]=Gs.from(t),d=hc.from(Gs,[h,c,f])[1];u<0&&(u=0),d<0&&(d=0);let p=(u+d)/2,m=o2(p),g=.5*(1-Math.sqrt(m/(m+i2))),v=(1+g)*a,E=(1+g)*c,y=Math.sqrt(v**2+l**2),x=Math.sqrt(E**2+f**2),b=v===0&&l===0?0:Math.atan2(l,v),w=E===0&&f===0?0:Math.atan2(f,E);b<0&&(b+=2*Wp),w<0&&(w+=2*Wp),b*=s2,w*=s2;let S=h-o,_=x-y,T=w-b,C=b+w,F=Math.abs(T),k;y*x===0?k=0:F<=180?k=T:T>180?k=T-360:T<-180?k=T+360:Gl.warn("the unthinkable has happened");let D=2*Math.sqrt(x*y)*Math.sin(k*wu/2),N=(o+h)/2,M=(y+x)/2,U=o2(M),B;y*x===0?B=C:F<=180?B=C/2:C<360?B=(C+360)/2:B=(C-360)/2;let W=(N-50)**2,Z=1+.015*W/Math.sqrt(20+W),fe=1+.045*M,Q=1;Q-=.17*Math.cos((B-30)*wu),Q+=.24*Math.cos(2*B*wu),Q+=.32*Math.cos((3*B+6)*wu),Q-=.2*Math.cos((4*B-63)*wu);let J=1+.015*M*Q,ae=30*Math.exp(-1*((B-275)/25)**2),be=2*Math.sqrt(U/(U+i2)),ee=-1*Math.sin(2*ae*wu)*be,K=(S/(r*Z))**2;return K+=(_/(i*fe))**2,K+=(D/(s*J))**2,K+=ee*(_/(i*fe))*(D/(s*J)),Math.sqrt(K)}const Xq=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],qq=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Yq=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],Kq=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],Hl=new Ft({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:Go,fromBase(n){let r=Rr(Xq,n).map(i=>Math.cbrt(i));return Rr(Yq,r)},toBase(n){let r=Rr(Kq,n).map(i=>i**3);return Rr(qq,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function My(n,t){[n,t]=or([n,t]);let[r,i,s]=Hl.from(n),[o,a,l]=Hl.from(t),u=r-o,h=i-a,c=s-l;return Math.sqrt(u**2+h**2+c**2)}const Zq=75e-6;function Wu(n,t,{epsilon:r=Zq}={}){n=or(n),t||(t=n.space),t=Ft.get(t);let i=n.coords;return t!==n.space&&(i=t.from(n)),t.inGamut(i,{epsilon:r})}function Yh(n){return{space:n.space,coords:n.coords.slice(),alpha:n.alpha}}function Jq(n,t,r="lab"){r=Ft.get(r);let i=r.from(n),s=r.from(t);return Math.sqrt(i.reduce((o,a,l)=>{let u=s[l];return isNaN(a)||isNaN(u)?o:o+(u-a)**2},0))}function Qq(n,t){return Jq(n,t,"lab")}const eY=Math.PI,a2=eY/180;function tY(n,t,{l:r=2,c:i=1}={}){[n,t]=or([n,t]);let[s,o,a]=Gs.from(n),[,l,u]=hc.from(Gs,[s,o,a]),[h,c,f]=Gs.from(t),d=hc.from(Gs,[h,c,f])[1];l<0&&(l=0),d<0&&(d=0);let p=s-h,m=l-d,g=o-c,v=a-f,E=g**2+v**2-m**2,y=.511;s>=16&&(y=.040975*s/(1+.01765*s));let x=.0638*l/(1+.0131*l)+.638,b;Number.isNaN(u)&&(u=0),u>=164&&u<=345?b=.56+Math.abs(.2*Math.cos((u+168)*a2)):b=.36+Math.abs(.4*Math.cos((u+35)*a2));let w=Math.pow(l,4),S=Math.sqrt(w/(w+1900)),_=x*(S*b+1-S),T=(p/(r*y))**2;return T+=(m/(i*x))**2,T+=E/_**2,Math.sqrt(T)}const l2=203,JN=new Ft({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:Go,fromBase(n){return n.map(t=>Math.max(t*l2,0))},toBase(n){return n.map(t=>Math.max(t/l2,0))}}),pd=1.15,md=.66,u2=2610/2**14,nY=2**14/2610,c2=3424/2**12,h2=2413/2**7,f2=2392/2**7,rY=1.7*2523/2**5,d2=2**5/(1.7*2523),gd=-.56,z0=16295499532821565e-27,iY=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],sY=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],oY=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],aY=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],lY=new Ft({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:JN,fromBase(n){let[t,r,i]=n,s=pd*t-(pd-1)*i,o=md*r-(md-1)*t,l=Rr(iY,[s,o,i]).map(function(d){let p=c2+h2*(d/1e4)**u2,m=1+f2*(d/1e4)**u2;return(p/m)**rY}),[u,h,c]=Rr(oY,l);return[(1+gd)*u/(1+gd*u)-z0,h,c]},toBase(n){let[t,r,i]=n,s=(t+z0)/(1+gd-gd*(t+z0)),a=Rr(aY,[s,r,i]).map(function(d){let p=c2-d**d2,m=f2*d**d2-h2;return 1e4*(p/m)**nY}),[l,u,h]=Rr(sY,a),c=(l+(pd-1)*h)/pd,f=(u+(md-1)*c)/md;return[c,f,h]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),p2=new Ft({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:lY,fromBase(n){let[t,r,i]=n,s;const o=2e-4;return Math.abs(r)<o&&Math.abs(i)<o?s=NaN:s=Math.atan2(i,r)*180/Math.PI,[t,Math.sqrt(r**2+i**2),na(s)]},toBase(n){return[n[0],n[1]*Math.cos(n[2]*Math.PI/180),n[1]*Math.sin(n[2]*Math.PI/180)]}});function uY(n,t){[n,t]=or([n,t]);let[r,i,s]=p2.from(n),[o,a,l]=p2.from(t),u=r-o,h=i-a;Number.isNaN(s)&&Number.isNaN(l)?(s=0,l=0):Number.isNaN(s)?s=l:Number.isNaN(l)&&(l=s);let c=s-l,f=2*Math.sqrt(i*a)*Math.sin(c/2*(Math.PI/180));return Math.sqrt(u**2+h**2+f**2)}const QN=3424/4096,e5=2413/128,t5=2392/128,m2=2610/16384,cY=2523/32,hY=16384/2610,g2=32/2523,fY=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],dY=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],pY=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],mY=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],v2=new Ft({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:JN,fromBase(n){let t=Rr(fY,n);return gY(t)},toBase(n){let t=vY(n);return Rr(mY,t)}});function gY(n){let t=n.map(function(r){let i=QN+e5*(r/1e4)**m2,s=1+t5*(r/1e4)**m2;return(i/s)**cY});return Rr(dY,t)}function vY(n){return Rr(pY,n).map(function(i){let s=Math.max(i**g2-QN,0),o=e5-t5*i**g2;return 1e4*(s/o)**hY})}function yY(n,t){[n,t]=or([n,t]);let[r,i,s]=v2.from(n),[o,a,l]=v2.from(t);return 720*Math.sqrt((r-o)**2+.25*(i-a)**2+(s-l)**2)}const bY=Bo.D65,n5=.42,y2=1/n5,G0=2*Math.PI,r5=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],xY=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],_Y=[[460,451,288],[460,-891,-261],[460,-220,-6300]],wY={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},hl={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},EY=180/Math.PI,b2=Math.PI/180;function i5(n,t){return n.map(i=>{const s=Ro(t*Math.abs(i)*.01,n5);return 400*Vb(s,i)/(s+27.13)})}function SY(n,t){const r=100/t*27.13**y2;return n.map(i=>{const s=Math.abs(i);return Vb(r*Ro(s/(400-s),y2),i)})}function CY(n){let t=na(n);t<=hl.h[0]&&(t+=360);const r=Uq(hl.h,t)-1,[i,s]=hl.h.slice(r,r+2),[o,a]=hl.e.slice(r,r+2),l=hl.H[r],u=(t-i)/o;return l+100*u/(u+(s-t)/a)}function AY(n){let t=(n%400+400)%400;const r=Math.floor(.01*t);t=t%100;const[i,s]=hl.h.slice(r,r+2),[o,a]=hl.e.slice(r,r+2);return na((t*(a*i-o*s)-100*i*a)/(t*(a-o)-100*a))}function s5(n,t,r,i,s){const o={};o.discounting=s,o.refWhite=n,o.surround=i;const a=n.map(g=>g*100);o.la=t,o.yb=r;const l=a[1],u=Rr(r5,a);i=wY[o.surround];const h=i[0];o.c=i[1],o.nc=i[2];const f=(1/(5*o.la+1))**4;o.fl=f*o.la+.1*(1-f)*(1-f)*Math.cbrt(5*o.la),o.flRoot=o.fl**.25,o.n=o.yb/l,o.z=1.48+Math.sqrt(o.n),o.nbb=.725*o.n**-.2,o.ncb=o.nbb;const d=Math.max(Math.min(h*(1-1/3.6*Math.exp((-o.la-42)/92)),1),0);o.dRgb=u.map(g=>zp(1,l/g,d)),o.dRgbInv=o.dRgb.map(g=>1/g);const p=u.map((g,v)=>g*o.dRgb[v]),m=i5(p,o.fl);return o.aW=o.nbb*(2*m[0]+m[1]+.05*m[2]),o}const x2=s5(bY,64/Math.PI*.2,20,"average",!1);function Oy(n,t){if(!(n.J!==void 0^n.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(n.C!==void 0^n.M!==void 0^n.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(n.h!==void 0^n.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(n.J===0||n.Q===0)return[0,0,0];let r=0;n.h!==void 0?r=na(n.h)*b2:r=AY(n.H)*b2;const i=Math.cos(r),s=Math.sin(r);let o=0;n.J!==void 0?o=Ro(n.J,1/2)*.1:n.Q!==void 0&&(o=.25*t.c*n.Q/((t.aW+4)*t.flRoot));let a=0;n.C!==void 0?a=n.C/o:n.M!==void 0?a=n.M/t.flRoot/o:n.s!==void 0&&(a=4e-4*n.s**2*(t.aW+4)/t.c);const l=Ro(a*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),u=.25*(Math.cos(r+2)+3.8),h=t.aW*Ro(o,2/t.c/t.z),c=5e4/13*t.nc*t.ncb*u,f=h/t.nbb,d=23*(f+.305)*XN(l,23*c+l*(11*i+108*s)),p=d*i,m=d*s,g=SY(Rr(_Y,[f,p,m]).map(v=>v*1/1403),t.fl);return Rr(xY,g.map((v,E)=>v*t.dRgbInv[E])).map(v=>v/100)}function o5(n,t){const r=n.map(x=>x*100),i=i5(Rr(r5,r).map((x,b)=>x*t.dRgb[b]),t.fl),s=i[0]+(-12*i[1]+i[2])/11,o=(i[0]+i[1]-2*i[2])/9,a=(Math.atan2(o,s)%G0+G0)%G0,l=.25*(Math.cos(a+2)+3.8),u=5e4/13*t.nc*t.ncb*XN(l*Math.sqrt(s**2+o**2),i[0]+i[1]+1.05*i[2]+.305),h=Ro(u,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),c=t.nbb*(2*i[0]+i[1]+.05*i[2]),f=Ro(c/t.aW,.5*t.c*t.z),d=100*Ro(f,2),p=4/t.c*f*(t.aW+4)*t.flRoot,m=h*f,g=m*t.flRoot,v=na(a*EY),E=CY(v),y=50*Ro(t.c*h/(t.aW+4),1/2);return{J:d,C:m,h:v,s:y,Q:p,M:g,H:E}}new Ft({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Go,fromBase(n){const t=o5(n,x2);return[t.J,t.M,t.h]},toBase(n){return Oy({J:n[0],M:n[1],h:n[2]},x2)}});const TY=Bo.D65,IY=216/24389,a5=24389/27;function DY(n){return 116*(n>IY?Math.cbrt(n):(a5*n+16)/116)-16}function Ly(n){return n>8?Math.pow((n+16)/116,3):n/a5}function NY(n,t){let[r,i,s]=n,o=[],a=0;if(s===0)return[0,0,0];let l=Ly(s);s>0?a=.00379058511492914*s**2+.608983189401032*s+.9155088574762233:a=9514440756550361e-21*s**2+.08693057439788597*s-21.928975842194614;const u=2e-12,h=15;let c=0,f=1/0;for(;c<=h;){o=Oy({J:a,C:i,h:r},t);const d=Math.abs(o[1]-l);if(d<f){if(d<=u)return o;f=d}a=a-(o[1]-l)*a/(2*o[1]),c+=1}return Oy({J:a,C:i,h:r},t)}function FY(n,t){const r=DY(n[1]);if(r===0)return[0,0,0];const i=o5(n,$b);return[na(i.h),i.C,r]}const $b=s5(TY,200/Math.PI*Ly(50),Ly(50)*100,"average",!1),Xp=new Ft({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:Go,fromBase(n){return FY(n)},toBase(n){return NY(n,$b)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),kY=Math.PI/180,_2=[1,.007,.0228];function w2(n){n[1]<0&&(n=Xp.fromBase(Xp.toBase(n)));const t=Math.log(Math.max(1+_2[2]*n[1]*$b.flRoot,1))/_2[2],r=n[0]*kY,i=t*Math.cos(r),s=t*Math.sin(r);return[n[2],i,s]}function MY(n,t){[n,t]=or([n,t]);let[r,i,s]=w2(Xp.from(n)),[o,a,l]=w2(Xp.from(t));return Math.sqrt((r-o)**2+(i-a)**2+(s-l)**2)}const E2={deltaE76:Qq,deltaECMC:tY,deltaE2000:ZN,deltaEJz:uY,deltaEITP:yY,deltaEOK:My,deltaEHCT:MY};function OY(n){const t=n?Math.floor(Math.log10(Math.abs(n))):0;return Math.max(parseFloat(`1e${t-2}`),1e-6)}const S2={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Wl(n,{method:t=Gl.gamut_mapping,space:r=void 0,deltaEMethod:i="",jnd:s=2,blackWhiteClamp:o={}}={}){if(n=or(n),HN(arguments[1])?r=arguments[1]:r||(r=n.space),r=Ft.get(r),Wu(n,r,{epsilon:0}))return n;let a;if(t==="css")a=LY(n,{space:r});else{if(t!=="clip"&&!Wu(n,r)){Object.prototype.hasOwnProperty.call(S2,t)&&({method:t,jnd:s,deltaEMethod:i,blackWhiteClamp:o}=S2[t]);let l=ZN;if(i!==""){for(let h in E2)if("deltae"+i.toLowerCase()===h.toLowerCase()){l=E2[h];break}}let u=Wl(rn(n,r),{method:"clip",space:r});if(l(n,u)>s){if(Object.keys(o).length===3){let y=Ft.resolveCoord(o.channel),x=wa(rn(n,y.space),y.id);if(Fy(x)&&(x=0),x>=o.max)return rn({space:"xyz-d65",coords:Bo.D65},n.space);if(x<=o.min)return rn({space:"xyz-d65",coords:[0,0,0]},n.space)}let h=Ft.resolveCoord(t),c=h.space,f=h.id,d=rn(n,c);d.coords.forEach((y,x)=>{Fy(y)&&(d.coords[x]=0)});let m=(h.range||h.refRange)[0],g=OY(s),v=m,E=wa(d,f);for(;E-v>g;){let y=Yh(d);y=Wl(y,{space:r,method:"clip"}),l(d,y)-s<g?v=wa(d,f):E=wa(d,f),qh(d,f,(v+E)/2)}a=rn(d,r)}else a=u}else a=rn(n,r);if(t==="clip"||!Wu(a,r,{epsilon:0})){let l=Object.values(r.coords).map(u=>u.range||[]);a.coords=a.coords.map((u,h)=>{let[c,f]=l[h];return c!==void 0&&(u=Math.max(c,u)),f!==void 0&&(u=Math.min(u,f)),u})}}return r!==n.space&&(a=rn(a,n.space)),n.coords=a.coords,n}Wl.returns="color";const C2={WHITE:{space:Hl,coords:[1,0,0]},BLACK:{space:Hl,coords:[0,0,0]}};function LY(n,{space:t}={}){n=or(n),t||(t=n.space),t=Ft.get(t);const s=Ft.get("oklch");if(t.isUnbounded)return rn(n,t);const o=rn(n,s);let a=o.coords[0];if(a>=1){const m=rn(C2.WHITE,t);return m.alpha=n.alpha,rn(m,t)}if(a<=0){const m=rn(C2.BLACK,t);return m.alpha=n.alpha,rn(m,t)}if(Wu(o,t,{epsilon:0}))return rn(o,t);function l(m){const g=rn(m,t),v=Object.values(t.coords);return g.coords=g.coords.map((E,y)=>{if("range"in v[y]){const[x,b]=v[y].range;return Bq(x,E,b)}return E}),g}let u=0,h=o.coords[1],c=!0,f=Yh(o),d=l(f),p=My(d,f);if(p<.02)return d;for(;h-u>1e-4;){const m=(u+h)/2;if(f.coords[1]=m,c&&Wu(f,t,{epsilon:0}))u=m;else if(d=l(f),p=My(d,f),p<.02){if(.02-p<1e-4)break;c=!1,u=m}else h=m}return d}function rn(n,t,{inGamut:r}={}){n=or(n),t=Ft.get(t);let i=t.from(n),s={space:t,coords:i,alpha:n.alpha};return r&&(s=Wl(s,r===!0?void 0:r)),s}rn.returns="color";function PY(n,{precision:t=Gl.precision,format:r="default",inGamut:i=!0,...s}={}){let o;n=or(n);let a=r;r=n.space.getFormat(r)??n.space.getFormat("default")??Ft.DEFAULT_FORMAT;let l=n.coords.slice();if(i||=r.toGamut,i&&!Wu(n)&&(l=Wl(Yh(n),i===!0?void 0:i).coords),r.type==="custom")if(s.precision=t,r.serialize)o=r.serialize(l,n.alpha,s);else throw new TypeError(`format ${a} can only be used to parse colors, not for serialization`);else{let u=r.name||"color";r.serializeCoords?l=r.serializeCoords(l,t):t!==null&&(l=l.map(d=>Ny(d,{precision:t})));let h=[...l];if(u==="color"){let d=r.id||r.ids?.[0]||n.space.id;h.unshift(d)}let c=n.alpha;t!==null&&(c=Ny(c,{precision:t}));let f=n.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${c}`;o=`${u}(${h.join(r.commas?", ":" ")}${f})`}return o}const RY=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],BY=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],UY=new dg({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:RY,fromXYZ_M:BY}),VY=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],$Y=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],jY=new dg({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:VY,fromXYZ_M:$Y}),A2={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let T2=Array(3).fill("<percentage> | <number>[0, 255]"),I2=Array(3).fill("<number>[0, 255]");const fc=new dg({id:"srgb",name:"sRGB",base:jY,fromBase:n=>n.map(t=>{let r=t<0?-1:1,i=t*r;return i>.0031308?r*(1.055*i**(1/2.4)-.055):12.92*t}),toBase:n=>n.map(t=>{let r=t<0?-1:1,i=t*r;return i<=.04045?t/12.92:r*((i+.055)/1.055)**2.4}),formats:{rgb:{coords:T2},rgb_number:{name:"rgb",commas:!0,coords:I2,noAlpha:!0},color:{},rgba:{coords:T2,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:I2},hex:{type:"custom",toGamut:!0,test:n=>/^#([a-f0-9]{3,4}){1,2}$/i.test(n),parse(n){n.length<=5&&(n=n.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return n.replace(/[a-f0-9]{2}/gi,r=>{t.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(n,t,{collapse:r=!0}={})=>{t<1&&n.push(t),n=n.map(o=>Math.round(o*255));let i=r&&n.every(o=>o%17===0);return"#"+n.map(o=>i?(o/17).toString(16):o.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:n=>/^[a-z]+$/i.test(n),parse(n){n=n.toLowerCase();let t={spaceId:"srgb",coords:null,alpha:1};if(n==="transparent"?(t.coords=A2.black,t.alpha=0):t.coords=A2[n],t.coords)return t}}}}),D2=new dg({id:"p3",cssId:"display-p3",name:"P3",base:UY,fromBase:fc.fromBase,toBase:fc.toBase});function N2(n){return wa(n,[Go,"y"])}function F2(n,t){n=or(n),t=or(t);let r=Math.max(N2(n),0),i=Math.max(N2(t),0);return i>r&&([r,i]=[i,r]),(r+.05)/(i+.05)}const zY=.56,GY=.57,HY=.62,WY=.65,k2=.022,XY=1.414,qY=.1,YY=5e-4,KY=1.14,M2=.027,ZY=1.14;function O2(n){return n>=k2?n:n+(k2-n)**XY}function Eu(n){let t=n<0?-1:1,r=Math.abs(n);return t*Math.pow(r,2.4)}function L2(n,t){t=or(t),n=or(n);let r,i,s,o,a,l;t=rn(t,"srgb"),[o,a,l]=t.coords;let u=Eu(o)*.2126729+Eu(a)*.7151522+Eu(l)*.072175;n=rn(n,"srgb"),[o,a,l]=n.coords;let h=Eu(o)*.2126729+Eu(a)*.7151522+Eu(l)*.072175,c=O2(u),f=O2(h),d=f>c;return Math.abs(f-c)<YY?i=0:d?(r=f**zY-c**GY,i=r*KY):(r=f**WY-c**HY,i=r*ZY),Math.abs(i)<qY?s=0:i>0?s=i-M2:s=i+M2,s*100}function l5(n,t,r={}){if(JY(n)){let[u,h]=[n,t];return l5(...u.rangeArgs.colors,{...u.rangeArgs.options,...h})}let{space:i,outputSpace:s,progression:o,premultiplied:a}=r;n=or(n),t=or(t),n=Yh(n),t=Yh(t);let l={colors:[n,t],options:r};if(i?i=Ft.get(i):i=Ft.registry[Gl.interpolationSpace]||n.space,s=s?Ft.get(s):i,n=rn(n,i),t=rn(t,i),n=Wl(n),t=Wl(t),i.coords.h&&i.coords.h.type==="angle"){let u=r.hue=r.hue||"shorter",h=[i,"h"],[c,f]=[wa(n,h),wa(t,h)];isNaN(c)&&!isNaN(f)?c=f:isNaN(f)&&!isNaN(c)&&(f=c),[c,f]=Wq(u,[c,f]),qh(n,h,c),qh(t,h,f)}return a&&(n.coords=n.coords.map(u=>u*n.alpha),t.coords=t.coords.map(u=>u*t.alpha)),Object.assign(u=>{u=o?o(u):u;let h=n.coords.map((d,p)=>{let m=t.coords[p];return zp(d,m,u)}),c=zp(n.alpha,t.alpha,u),f={space:i,coords:h,alpha:c};return a&&(f.coords=f.coords.map(d=>d/c)),s!==i&&(f=rn(f,s)),f},{rangeArgs:l})}function JY(n){return Hu(n)==="function"&&!!n.rangeArgs}Gl.interpolationSpace="lab";const Py=new Ft({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:fc,fromBase:n=>{let t=Math.max(...n),r=Math.min(...n),[i,s,o]=n,[a,l,u]=[NaN,0,(r+t)/2],h=t-r;if(h!==0){switch(l=u===0||u===1?0:(t-u)/Math.min(u,1-u),t){case i:a=(s-o)/h+(s<o?6:0);break;case s:a=(o-i)/h+2;break;case o:a=(i-s)/h+4}a=a*60}return l<0&&(a+=180,l=Math.abs(l)),a>=360&&(a-=360),[a,l*100,u*100]},toBase:n=>{let[t,r,i]=n;t=t%360,t<0&&(t+=360),r/=100,i/=100;function s(o){let a=(o+t/30)%12,l=r*Math.min(i,1-i);return i-l*Math.max(-1,Math.min(a-3,9-a,1))}return[s(0),s(8),s(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),QY=new Ft({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Py,fromBase(n){let[t,r,i]=n;r/=100,i/=100;let s=i+r*Math.min(i,1-i);return[t,s===0?0:200*(1-i/s),100*s]},toBase(n){let[t,r,i]=n;r/=100,i/=100;let s=i*(1-r/2);return[t,s===0||s===1?0:(i-s)/Math.min(s,1-s)*100,s*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),P2=new Ft({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:QY,fromBase(n){let[t,r,i]=n;return[t,i*(100-r)/100,100-i]},toBase(n){let[t,r,i]=n;r/=100,i/=100;let s=r+i;if(s>=1){let l=r/s;return[t,0,l*100]}let o=1-i,a=o===0?0:1-r/o;return[t,a*100,o*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),R2=new Ft({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:Hl,fromBase(n){let[t,r,i]=n,s;const o=2e-4;return Math.abs(r)<o&&Math.abs(i)<o?s=NaN:s=Math.atan2(i,r)*180/Math.PI,[t,Math.sqrt(r**2+i**2),na(s)]},toBase(n){let[t,r,i]=n,s,o;return isNaN(i)?(s=0,o=0):(s=r*Math.cos(i*Math.PI/180),o=r*Math.sin(i*Math.PI/180)),[t,s,o]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});var B2=new Ft({id:"hsb",name:"HSB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},b:{range:[0,100],name:"Brightness"}},base:fc,fromBase:n=>{const t=Math.max(...n),r=t-Math.min(...n);let[i,s,o]=n,a,l;return r===0?(a=0,l=0):(l=r/t,i===t?a=(s-o)/r:s===t?a=2+(o-i)/r:o===t&&(a=4+(i-s)/r),a<0?a+=6:a>=6&&(a-=6)),[a/6*360,l*100,t*100]},toBase:U2,formats:{default:{type:"custom",serialize:(n,t)=>{const r=U2(n);let i=`rgb(${Math.round(r[0]*100*100)/100}% ${Math.round(r[1]*100*100)/100}% ${Math.round(r[2]*100*100)/100}%`;return t<1&&(i+=` / ${t}`),i+=")",i}},hsb:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsba:{coords:["<number> | <angle>","<percentage>","<percentage>"],commans:!0,lastAlpha:!0}}});function U2(n){const t=n[0]/360*6,r=n[1]/100,i=n[2]/100;let s=[];if(r===0)s=[i,i,i];else{const o=Math.floor(t),a=i*(1-r),l=i*(1-r*(t-o)),u=i*(1-r*(1+o-t));let h,c,f;o===1?(h=l,c=i,f=a):o===2?(h=a,c=i,f=u):o===3?(h=a,c=l,f=i):o===4?(h=u,c=a,f=i):o===5?(h=i,c=a,f=l):(h=i,c=u,f=a),s=[h,c,f]}return s}const Vn=(n,t,r,i,s,o)=>{let a=(n-t)/(r-t)*(s-i)+i;return o&&(a=Math.max(a,Math.min(i,s)),a=Math.min(a,Math.max(i,s))),a},V2={};class yt{_color;mode;static colorMap={};static#e={};static#t={};static addColorMode(t,r){Ft.register(r),yt.colorMap[t]=r.id,yt.#e[t]=Object.values(r.coords).reduce((i,s)=>(i.push(s.refRange||s.range),i),[]),yt.#e[t].push([0,1]),yt.#t[t]=r.fromGray}constructor(t,r,i,{clamp:s=!1}={}){if(this.mode=r||Wn,t instanceof yt){const o=r?yt.colorMap[r]:yt.colorMap[t.mode];this._color=rn(t._color,o),this.mode=o}else if(typeof t=="object"&&!Array.isArray(t)&&t!==null){const o=r?yt.colorMap[r]:t.spaceId;this._color=rn(t,o),this.mode=r||Object.entries(yt.colorMap).find(([a,l])=>l===this._color.spaceId)}else if(typeof t[0]=="string")try{this._color=qN(t[0]);const[o]=Object.entries(yt.colorMap).find(([a,l])=>l===this._color.spaceId);this.mode=o,this._color=rn(this._color,this._color.spaceId)}catch{throw new Error("Invalid color string")}else{let o;if(i)if(t.length===4)o=yt.mapColorRange(t,this.mode,i,s);else if(t.length===3)o=yt.mapColorRange([t[0],t[1],t[2]],this.mode,i,s),o.push(1);else if(t.length===2){yt.#t[this.mode]?o=yt.#t[this.mode](t[0],i,s):o=yt.mapColorRange([t[0],t[0],t[0]],this.mode,i,s);const h=Array.isArray(i[i.length-1])?i[i.length-1]:[0,i[i.length-1]];o.push(Vn(t[1],h[0],h[1],0,1,s))}else if(t.length===1)yt.#t[this.mode]?o=yt.#t[this.mode](t[0],i,s):o=yt.mapColorRange([t[0],t[0],t[0]],this.mode,i,s),o.push(1);else throw new Error("Invalid color");else o=t;const a=yt.colorMap[this.mode]||console.error("Invalid color mode"),l=o.slice(0,3),u={space:a,coords:l,alpha:o[3]};this._color=rn(u,a)}}static mapColorRange(t,r,i,s){const o=i.map(l=>Array.isArray(l)?l:[0,l]),a=yt.#e[r];return t.map((l,u)=>Vn(l,o[u][0],o[u][1],a[u][0],a[u][1],s))}static unmapColorRange(t,r,i){const s=i.map(a=>Array.isArray(a)?a:[0,a]),o=yt.#e[r];return t.map((a,l)=>Vn(a,o[l][0],o[l][1],s[l][0],s[l][1]))}#n(t){return new yt(this._color,t)}get _array(){return this._getRGBA()}array(){return this._array}lerp(t,r,i){let s=-1;for(;(s+1<this._color.space.path.length||s+1<t._color.space.path.length)&&this._color.space.path[s+1]===t._color.space.path[s+1];)s+=1;if(s===-1)throw new Error("Cannot lerp colors. No common color space found");const o=l5(this._color,t._color,{space:this._color.space.path[s].id})(r);return new yt(o,i||this.mode)}toString(t){const r=`${this._color.space.id}-${this._color.coords.join(",")}-${this._color.alpha}-${t}`;let i=V2[r];return i||(i=PY(this._color,{format:t}),V2[r]=i),i}contrast(t,r="WCAG21"){if(r!=="all"){let i,s;switch(r){case"WCAG21":i=F2(this._color,t._color),s=4.5;break;case"APCA":i=Math.abs(L2(this._color,t._color)),s=75;break;default:return null}return i>=s}else{const i=F2(this._color,t._color),s=L2(this._color,t._color);return{WCAG21:{value:i,passedMinimum:i>=4.5,passedAAA:i>=7},APCA:{value:s,passedMinimum:Math.abs(s)>=75}}}}setRed(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=yt.#e[Wn][0],s=Vn(t,r[0],r[1],i[0],i[1]);if(this.mode===Wn||this.mode===Ti)this._color.coords[0]=s;else{const o=this._color.space.id,a=rn(this._color,"srgb");a.coords[0]=s,this._color=rn(a,o)}}setGreen(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=yt.#e[Wn][1],s=Vn(t,r[0],r[1],i[0],i[1]);if(this.mode===Wn||this.mode===Ti)this._color.coords[1]=s;else{const o=this._color.space.id,a=rn(this._color,"srgb");a.coords[1]=s,this._color=rn(a,o)}}setBlue(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=yt.#e[Wn][2],s=Vn(t,r[0],r[1],i[0],i[1]);if(this.mode===Wn||this.mode===Ti)this._color.coords[2]=s;else{const o=this._color.space.id,a=rn(this._color,"srgb");a.coords[2]=s,this._color=rn(a,o)}}setAlpha(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const i=yt.#e[this.mode][3],s=Vn(t,r[0],r[1],i[0],i[1]);this._color.alpha=s}_getRGBA(t=[1,1,1,1]){const r=yt.#e[Wn];let i=structuredClone(rn(this._color,"srgb").coords);i.push(this._color.alpha);const s=t.map(o=>Array.isArray(o)?o:[0,o]);return i=i.map((o,a)=>Vn(o,r[a][0],r[a][1],s[a][0],s[a][1])),i}_getMode(){return this.mode}_getRed(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Wn||this.mode===Ti){const r=yt.#e[this.mode][0];return Vn(this._color.coords[0],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Wn][0];return Vn(rn(this._color,"srgb").coords[0],r[0],r[1],t[0],t[1])}}_getGreen(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Wn||this.mode===Ti){const r=yt.#e[this.mode][1];return Vn(this._color.coords[1],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Wn][1];return Vn(rn(this._color,"srgb").coords[1],r[0],r[1],t[0],t[1])}}_getBlue(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Wn||this.mode===Ti){const r=yt.#e[this.mode][2];return Vn(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Wn][2];return Vn(rn(this._color,"srgb").coords[2],r[0],r[1],t[0],t[1])}}_getAlpha(t=[0,1]){Array.isArray(t)||(t=[0,t]);const r=yt.#e[this.mode][3];return Vn(this._color.alpha,r[0],r[1],t[0],t[1])}_getHue(t=[0,360]){if(Array.isArray(t)||(t=[0,t]),this.mode===Di||this.mode===Zr){const r=yt.#e[this.mode][0];return Vn(this._color.coords[0],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Zr][0];return Vn(rn(this._color,"hsl").coords[0],r[0],r[1],t[0],t[1])}}_getSaturation(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Di||this.mode===Zr){const r=yt.#e[this.mode][1];return Vn(this._color.coords[1],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Zr][1];return Vn(rn(this._color,"hsl").coords[1],r[0],r[1],t[0],t[1])}}_getBrightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Di){const r=yt.#e[this.mode][2];return Vn(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Di][2];return Vn(rn(this._color,"hsb").coords[2],r[0],r[1],t[0],t[1])}}_getLightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Zr){const r=yt.#e[this.mode][2];return Vn(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=yt.#e[Zr][2];return Vn(rn(this._color,"hsl").coords[2],r[0],r[1],t[0],t[1])}}}function u5(n,t,r){n.Color=yt,fc.fromGray=D2.fromGray=function(i,s,o){const a=s.map(u=>Array.isArray(u)?u:[0,u]),l=Vn(i,a[2][0],a[2][1],0,1,o);return[l,l,l]},B2.fromGray=Py.fromGray=function(i,s,o){const a=s.map(u=>Array.isArray(u)?u:[0,u]);return[0,0,Vn(i,a[2][0],a[2][1],0,100,o)]},P2.fromGray=function(i,s,o){const a=s.map(f=>Array.isArray(f)?f:[0,f]),l=Math.abs(a[1][0]-a[1][1])/2+Math.abs(a[2][0]-a[2][1])/2,u=Vn(i,0,l,0,100);let h,c;return u<50?(c=u,h=100-u):u>=50&&(h=u,c=100-u),[0,h,c]},Gs.fromGray=hc.fromGray=Hl.fromGray=R2.fromGray=function(i,s,o){const a=s.map(u=>Array.isArray(u)?u:[0,u]);return[Vn(i,a[0][0],a[0][1],0,100,o),0,0]},n.Color.addColorMode(Wn,fc),n.Color.addColorMode(Ti,D2),n.Color.addColorMode(Di,B2),n.Color.addColorMode(Zr,Py),n.Color.addColorMode(Xu,P2),n.Color.addColorMode(Kh,Gs),n.Color.addColorMode(Nl,hc),n.Color.addColorMode(Zh,Hl),n.Color.addColorMode(Fl,R2),r.presetup=function(){const i=this,s=["Red","Green","Blue","Alpha"];for(let a in s){const l=s[a],u=n.Color.prototype["set"+l];n.Color.prototype["set"+l]=function(h,c){return c=c||i?._renderer?.states?.colorMaxes?.[Wn][a],u.call(this,h,c)}}function o(a,l){const u=n.Color.prototype["_get"+a];n.Color.prototype["_get"+a]=function(h){if(Object.keys(l).includes(this.mode))h=h||i?._renderer?.states?.colorMaxes?.[this.mode][l[this.mode]];else{const c=Object.keys(l)[0];h=h||i?._renderer?.states?.colorMaxes?.[c][l[c]]}return u.call(this,h)}}o("Red",{[Wn]:0,[Ti]:0}),o("Green",{[Wn]:1,[Ti]:1}),o("Blue",{[Wn]:2,[Ti]:2}),o("Alpha",{[Wn]:3,[Ti]:3,[Di]:3,[Zr]:3,[Xu]:3,[Kh]:3,[Nl]:3,[Zh]:3,[Fl]:3}),o("Hue",{[Zr]:0,[Di]:0,[Xu]:0,[Nl]:2,[Fl]:2}),o("Saturation",{[Zr]:1,[Di]:1}),o("Brightness",{[Di]:2}),o("Lightness",{[Zr]:2})}}typeof p5<"u"&&u5(p5,p5.prototype);const Wn="rgb",Ti="rgbhdr",Di="hsb",Zr="hsl",Xu="hwb",Kh="lab",Nl="lch",Zh="oklab",Fl="oklch",tp="rgba";function jb(n,t){t.RGB=Wn,t.RGBHDR=Ti,t.HSB=Di,t.HSL=Zr,t.HWB=Xu,t.LAB=Kh,t.LCH=Nl,t.OKLAB=Zh,t.OKLCH=Fl,t.RGBA=tp,n.Renderer.states.colorMode=Wn,n.Renderer.states.colorMaxes={[Wn]:[255,255,255,255],[Ti]:[255,255,255,255],[Di]:[360,100,100,1],[Zr]:[360,100,100,1],[Xu]:[360,100,100,1],[Kh]:[100,[-125,125],[-125,125],1],[Nl]:[100,150,360,1],[Zh]:[100,[-125,125],[-125,125],1],[Fl]:[100,150,360,1],clone:function(){const r={...this};for(const i in r)r[i]instanceof Array&&(r[i]=[...r[i]]);return r}},t.color=function(...r){if(r[0]instanceof yt)return r[0];const i=Array.isArray(r[0])?r[0]:r;return new yt(i,this._renderer.states.colorMode,this._renderer.states.colorMaxes[this._renderer.states.colorMode],{clamp:!0})},t.red=function(r){return this.color(r)._getRed()},t.green=function(r){return this.color(r)._getGreen()},t.blue=function(r){return this.color(r)._getBlue()},t.alpha=function(r){return this.color(r)._getAlpha()},t.hue=function(r){let i=Zr,s=0;return this._renderer.states.colorMode===Di||this._renderer.states.colorMode===Zr?i=this._renderer.states.colorMode:(this._renderer.states.colorMode===Nl||this._renderer.states.colorMode===Fl)&&(i=this._renderer.states.colorMode,s=2),this.color(r)._getHue(this._renderer.states.colorMaxes[i][s])},t.saturation=function(r){const i=this._renderer.states.colorMode===Di?Di:Zr;return this.color(r)._getSaturation(this._renderer.states.colorMaxes[i][1])},t.brightness=function(r){return this.color(r)._getBrightness(this._renderer.states.colorMaxes.hsb[2])},t.lightness=function(r){return this.color(r)._getLightness(this._renderer.states.colorMaxes.hsl[2])},t.lerpColor=function(r,i,s){return r.lerp(i,s,this._renderer.states.colorMode)},t.paletteLerp=function(r,i){const s=r[0];if(i<s[1])return this.color(s[0]);for(let o=1;o<r.length;o++){const a=r[o];if(i<a[1]){const l=r[o-1];return this.lerpColor(this.color(l[0]),this.color(a[0]),(i-l[1])/(a[1]-l[1]))}}return this.color(r[r.length-1][0])}}typeof p5<"u"&&jb(p5,p5.prototype);class Ea{constructor(t){if(t)this.DOM=t;else{const r=document.implementation.createDocument(null,"doc");this.DOM=r.createElement("root")}}getParent(){return new Ea(this.DOM.parentElement)}getName(){return this.DOM.tagName}setName(t){const r=this.DOM.innerHTML,i=this.DOM.attributes,o=document.implementation.createDocument(null,"default").createElement(t);o.innerHTML=r;for(let a=0;a<i.length;a++)o.setAttribute(i[a].nodeName,i[a].nodeValue);this.DOM=o}hasChildren(){return this.DOM.children.length>0}listChildren(){const t=[];for(let r=0;r<this.DOM.childNodes.length;r++)t.push(this.DOM.childNodes[r].nodeName);return t}getChildren(t){return $2(t?this.DOM.getElementsByTagName(t):this.DOM.children)}getChild(t){if(typeof t=="string"){for(const r of this.DOM.children)if(r.tagName===t)return new Ea(r)}else return new Ea(this.DOM.children[t])}addChild(t){t instanceof Ea&&this.DOM.appendChild(t.DOM)}removeChild(t){let r=-1;if(typeof t=="string"){for(let i=0;i<this.DOM.children.length;i++)if(this.DOM.children[i].tagName===t){r=i;break}}else r=t;r!==-1&&this.DOM.removeChild(this.DOM.children[r])}getAttributeCount(){return this.DOM.attributes.length}listAttributes(){const t=[];for(const r of this.DOM.attributes)t.push(r.nodeName);return t}hasAttribute(t){const r={};for(const i of this.DOM.attributes)r[i.nodeName]=i.nodeValue;return!!r[t]}getNum(t,r){const i={};for(const s of this.DOM.attributes)i[s.nodeName]=s.nodeValue;return Number(i[t])||r||0}getString(t,r){const i={};for(const s of this.DOM.attributes)i[s.nodeName]=s.nodeValue;return i[t]?String(i[t]):r||null}setAttribute(t,r){this.DOM.setAttribute(t,r)}getContent(t){let r;return r=this.DOM.textContent,r=r.replace(/\s\s+/g,","),r||t||null}setContent(t){this.DOM.children.length||(this.DOM.textContent=t)}serialize(){return new XMLSerializer().serializeToString(this.DOM)}}function $2(n){const t=[];for(let r=0;r<n.length;r++)t.push(new Ea(n[r]));return t}function c5(n,t){n.XML=Ea}typeof p5<"u"&&c5(p5,p5.prototype);class Sa{constructor(t,r){this.file=t,this._pInst=r;const i=t.type.split("/");this.type=i[0],this.subtype=i[1],this.name=t.name,this.size=t.size,this.data=void 0}static _createLoader(t,r){const i=new FileReader;return i.onload=function(s){const o=new Sa(t);if(o.file.type==="application/json")o.data=JSON.parse(s.target.result);else if(o.file.type==="text/xml"){const l=new DOMParser().parseFromString(s.target.result,"text/xml");o.data=new Ea(l.documentElement)}else o.data=s.target.result;r(o)},i}static _load(t,r){if(/^text\//.test(t.type)||t.type==="application/json")Sa._createLoader(t,r).readAsText(t);else if(!/^(video|audio)\//.test(t.type))Sa._createLoader(t,r).readAsDataURL(t);else{const i=new Sa(t);i.data=URL.createObjectURL(t),r(i)}}}function h5(n,t){n.File=Sa}typeof p5<"u"&&h5(p5,p5.prototype);let Pr=class Or{width;height;elt;constructor(t,r){this.elt=t,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}remove(){if(this.stop){this.stop();const r=this.elt.srcObject;r!==null&&r.getTracks().forEach(s=>{s.stop()})}let t=this._pInst;if(t&&!t._elements&&t._pInst&&(t=t._pInst),t&&t._elements){const r=t._elements.indexOf(this);r!==-1&&t._elements.splice(r,1)}for(let r in this._events)this.elt.removeEventListener(r,this._events[r]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)}parent(t){return typeof t>"u"?this.elt.parentNode:(typeof t=="string"?(t[0]==="#"&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof Or&&(t=t.elt),t.appendChild(this.elt),this)}child(t){return typeof t>"u"?this.elt.childNodes:(typeof t=="string"?(t[0]==="#"&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof Or&&(t=t.elt),t instanceof HTMLElement&&this.elt.appendChild(t),this)}html(...t){return t.length===0?this.elt.innerHTML:t[1]?(this.elt.insertAdjacentHTML("beforeend",t[0]),this):(this.elt.innerHTML=t[0],this)}id(t){return typeof t>"u"?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}class(t){return typeof t>"u"?this.elt.className:(this.elt.className=t,this)}addClass(t){return this.elt.className?this.hasClass(t)||(this.elt.className=this.elt.className+" "+t):this.elt.className=t,this}removeClass(t){return this.elt.classList.remove(t),this}hasClass(t){return this.elt.classList.contains(t)}toggleClass(t){return this.elt.classList.contains(t)?this.elt.classList.remove(t):this.elt.classList.add(t),this}center(t){const r=this.elt.style.display,i=this.elt.style.display==="none",s=this.parent().style.display==="none",o={x:this.elt.offsetLeft,y:this.elt.offsetTop};i&&this.show(),s&&this.parent().show(),this.elt.style.display="block",this.position(0,0);const a=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),l=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return t==="both"||t===void 0?this.position(a/2+this.parent().offsetLeft,l/2+this.parent().offsetTop):t==="horizontal"?this.position(a/2+this.parent().offsetLeft,o.y):t==="vertical"&&this.position(o.x,l/2+this.parent().offsetTop),this.style("display",r),i&&this.hide(),s&&this.parent().hide(),this}position(...t){if(t.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};{let r="absolute";return(t[2]==="static"||t[2]==="fixed"||t[2]==="relative"||t[2]==="sticky"||t[2]==="initial"||t[2]==="inherit")&&(r=t[2]),this.elt.style.position=r,this.elt.style.left=t[0]+"px",this.elt.style.top=t[1]+"px",this.x=t[0],this.y=t[1],this}}show(){return this.elt.style.display="block",this}hide(){return this.elt.style.display="none",this}size(t,r){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};{let i=t,s=r;const o=FN;if(i!==o||s!==o){if(i===o?i=r*this.width/this.height:s===o&&(s=t*this.height/this.width),this.elt instanceof HTMLCanvasElement){const a={},l=this.elt.getContext("2d");let u;for(u in l)a[u]=l[u];this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",s*this._pInst._pixelDensity),this.elt.style.width=i+"px",this.elt.style.height=s+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity);for(u in a)this.elt.getContext("2d")[u]=a[u]}else this.elt.style.width=i+"px",this.elt.style.height=s+"px",this.elt.width=i,this.elt.height=s;this.width=i,this.height=s,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst.width=i,this._pInst.height=s)}return this}}style(t,r){const i=this;if(r instanceof yt&&(r=r.toString()),typeof r>"u"){if(t.indexOf(":")===-1)return window.getComputedStyle(i.elt).getPropertyValue(t);{const s=t.split(";");for(let o=0;o<s.length;o++){const a=s[o].split(":");a[0]&&a[1]&&(this.elt.style[a[0].trim()]=a[1].trim())}}}else if(this.elt.style[t]=r,t==="width"||t==="height"||t==="left"||t==="top"){let a=window.getComputedStyle(i.elt).getPropertyValue(t).replace(/[^\d.]/g,"");this[t]=Math.round(parseFloat(a,10))}return this}_translate(...t){this.elt.style.position="absolute";let r="";return this.elt.style.transform&&(r=this.elt.style.transform.replace(/translate3d\(.*\)/g,""),r=r.replace(/translate[X-Z]?\(.*\)/g,"")),t.length===2?this.elt.style.transform="translate("+t[0]+"px, "+t[1]+"px)":t.length>2&&(this.elt.style.transform="translate3d("+t[0]+"px,"+t[1]+"px,"+t[2]+"px)",t.length===3?this.elt.parentElement.style.perspective="1000px":this.elt.parentElement.style.perspective=t[3]+"px"),this.elt.style.transform+=r,this}_rotate(...t){let r="";return this.elt.style.transform&&(r=this.elt.style.transform.replace(/rotate3d\(.*\)/g,""),r=r.replace(/rotate[X-Z]?\(.*\)/g,"")),t.length===1?this.elt.style.transform="rotate("+t[0]+"deg)":t.length===2?this.elt.style.transform="rotate("+t[0]+"deg, "+t[1]+"deg)":t.length===3&&(this.elt.style.transform="rotateX("+t[0]+"deg)",this.elt.style.transform+="rotateY("+t[1]+"deg)",this.elt.style.transform+="rotateZ("+t[2]+"deg)"),this.elt.style.transform+=r,this}attribute(t,r){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio")){if(typeof r>"u")return this.elt.firstChild.getAttribute(t);for(let i=0;i<this.elt.childNodes.length;i++)this.elt.childNodes[i].setAttribute(t,r)}else return typeof r>"u"?this.elt.getAttribute(t):(this.elt.setAttribute(t,r),this)}removeAttribute(t){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(let r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].removeAttribute(t);return this.elt.removeAttribute(t),this}value(...t){return t.length>0?(this.elt.value=t[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value}mousePressed(t){const r=function(i){return this._pInst.mouseIsPressed=!0,this._pInst._activePointers.set(i.pointerId,i),this._pInst._setMouseButton(i),this._pInst._updatePointerCoords(i),t.call(this,i)};return Or._adjustListener("pointerdown",r,this),this}doubleClicked(t){return Or._adjustListener("dblclick",t,this),this}mouseWheel(t){return Or._adjustListener("wheel",t,this),this}mouseReleased(t){return Or._adjustListener("pointerup",t,this),this}mouseClicked(t){return Or._adjustListener("click",t,this),this}mouseMoved(t){return Or._adjustListener("pointermove",t,this),this}mouseOver(t){return Or._adjustListener("pointerover",t,this),this}mouseOut(t){return Or._adjustListener("pointerout",t,this),this}dragOver(t){return Or._adjustListener("dragover",t,this),this}dragLeave(t){return Or._adjustListener("dragleave",t,this),this}changed(t){return Or._adjustListener("change",t,this),this}input(t){return Or._adjustListener("input",t,this),this}drop(t,r){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;const i=function(s){s.preventDefault()};this.elt.addEventListener("dragover",i),this.elt.addEventListener("dragleave",i)}Or._attachListener("drop",function(i){i.preventDefault(),typeof r=="function"&&r.call(this,i);const s=i.dataTransfer.files;for(const o of s)Sa._load(o,t)},this)}else console.log("The File APIs are not fully supported in this browser.");return this}draggable(t){let r="ontouchstart"in window,i=0,s=0,o=0,a=0,l,u=r?"touchstart":"mousedown",h=r?"touchend":"mouseup",c=r?"touchmove":"mousemove";t===void 0?(t=this.elt,l=t):t!==this.elt&&t.elt!==this.elt&&(t=t.elt,l=this.elt),l.addEventListener(u,f,!1),l.style.cursor="move";function f(m){if(m=m||window.event,r){const g=m.changedTouches;o=parseInt(g[0].clientX),a=parseInt(g[0].clientY)}else o=parseInt(m.clientX),a=parseInt(m.clientY);return document.addEventListener(h,p,!1),document.addEventListener(c,d,!1),!1}function d(m){if(m=m||window.event,r){const g=m.changedTouches;i=o-parseInt(g[0].clientX),s=a-parseInt(g[0].clientY),o=parseInt(g[0].clientX),a=parseInt(g[0].clientY)}else i=o-parseInt(m.clientX),s=a-parseInt(m.clientY),o=parseInt(m.clientX),a=parseInt(m.clientY);t.style.left=t.offsetLeft-i+"px",t.style.top=t.offsetTop-s+"px"}function p(){document.removeEventListener(h,p,!1),document.removeEventListener(c,d,!1)}return this}static _adjustListener(t,r,i){return r===!1?Or._detachListener(t,i):Or._attachListener(t,r,i),this}static _attachListener(t,r,i){i._events[t]&&Or._detachListener(t,i);const s=r.bind(i);i.elt.addEventListener(t,s,{capture:!1,signal:i._pInst._removeSignal}),i._events[t]=s}static _detachListener(t,r){const i=r._events[t];r.elt.removeEventListener(t,i,!1),r._events[t]=null}};function f5(n,t){n.Element=Pr}typeof p5<"u"&&f5(p5,p5.prototype);const Cn={_toPixels(n){if(n instanceof ImageData)return n.data;if(n.getContext("2d"))return n.getContext("2d").getImageData(0,0,n.width,n.height).data;if(n.getContext("webgl")){const t=n.getContext("webgl"),r=t.drawingBufferWidth*t.drawingBufferHeight*4,i=new Uint8Array(r);return t.readPixels(0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,i),i}},_getARGB(n,t){const r=t*4;return n[r+3]<<24&4278190080|n[r]<<16&16711680|n[r+1]<<8&65280|n[r+2]&255},_setPixels(n,t){let r=0;for(let i=0,s=n.length;i<s;i++)r=i*4,n[r+0]=(t[i]&16711680)>>>16,n[r+1]=(t[i]&65280)>>>8,n[r+2]=t[i]&255,n[r+3]=(t[i]&4278190080)>>>24},_toImageData(n){return n instanceof ImageData?n:n.getContext("2d").getImageData(0,0,n.width,n.height)},_createImageData(n,t){return Cn._tmpCanvas=document.createElement("canvas"),Cn._tmpCtx=Cn._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(n,t)},apply(n,t,r){const i=n.getContext("2d"),s=i.getImageData(0,0,n.width,n.height),o=t(s,r);o instanceof ImageData?i.putImageData(o,0,0,0,0,n.width,n.height):i.putImageData(s,0,0,0,0,n.width,n.height)},threshold(n,t=.5){const r=Cn._toPixels(n),i=Math.floor(t*255);for(let s=0;s<r.length;s+=4){const o=r[s],a=r[s+1],l=r[s+2],u=.2126*o+.7152*a+.0722*l;let h;u>=i?h=255:h=0,r[s]=r[s+1]=r[s+2]=h}},gray(n){const t=Cn._toPixels(n);for(let r=0;r<t.length;r+=4){const i=t[r],s=t[r+1],o=t[r+2],a=.2126*i+.7152*s+.0722*o;t[r]=t[r+1]=t[r+2]=a}},opaque(n){const t=Cn._toPixels(n);for(let r=0;r<t.length;r+=4)t[r+3]=255;return t},invert(n){const t=Cn._toPixels(n);for(let r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},posterize(n,t=4){const r=Cn._toPixels(n);if(t<2||t>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");const i=t-1;for(let s=0;s<r.length;s+=4){const o=r[s],a=r[s+1],l=r[s+2];r[s]=(o*t>>8)*255/i,r[s+1]=(a*t>>8)*255/i,r[s+2]=(l*t>>8)*255/i}},dilate(n){const t=Cn._toPixels(n);let r=0;const i=t.length?t.length/4:0,s=new Int32Array(i);let o,a,l,u,h,c,f,d,p,m,g,v,E,y,x,b,w;for(;r<i;)for(o=r,a=r+n.width;r<a;)l=u=Cn._getARGB(t,r),f=r-1,c=r+1,d=r-n.width,p=r+n.width,f<o&&(f=r),c>=a&&(c=r),d<0&&(d=0),p>=i&&(p=r),v=Cn._getARGB(t,d),g=Cn._getARGB(t,f),E=Cn._getARGB(t,p),m=Cn._getARGB(t,c),h=77*(l>>16&255)+151*(l>>8&255)+28*(l&255),x=77*(g>>16&255)+151*(g>>8&255)+28*(g&255),y=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),b=77*(v>>16&255)+151*(v>>8&255)+28*(v&255),w=77*(E>>16&255)+151*(E>>8&255)+28*(E&255),x>h&&(u=g,h=x),y>h&&(u=m,h=y),b>h&&(u=v,h=b),w>h&&(u=E,h=w),s[r++]=u;Cn._setPixels(t,s)},erode(n){const t=Cn._toPixels(n);let r=0;const i=t.length?t.length/4:0,s=new Int32Array(i);let o,a,l,u,h,c,f,d,p,m,g,v,E,y,x,b,w;for(;r<i;)for(o=r,a=r+n.width;r<a;)l=u=Cn._getARGB(t,r),f=r-1,c=r+1,d=r-n.width,p=r+n.width,f<o&&(f=r),c>=a&&(c=r),d<0&&(d=0),p>=i&&(p=r),v=Cn._getARGB(t,d),g=Cn._getARGB(t,f),E=Cn._getARGB(t,p),m=Cn._getARGB(t,c),h=77*(l>>16&255)+151*(l>>8&255)+28*(l&255),x=77*(g>>16&255)+151*(g>>8&255)+28*(g&255),y=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),b=77*(v>>16&255)+151*(v>>8&255)+28*(v&255),w=77*(E>>16&255)+151*(E>>8&255)+28*(E&255),x<h&&(u=g,h=x),y<h&&(u=m,h=y),b<h&&(u=v,h=b),w<h&&(u=E,h=w),s[r++]=u;Cn._setPixels(t,s)},blur(n,t){tK(n,t)}};let vh,Lu,Pu,fl;function eK(n){let t=n*3.5|0;if(t=t<1?1:t<248?t:248,vh!==t){vh=t,Lu=1+vh<<1,Pu=new Int32Array(Lu),fl=new Array(Lu);for(let a=0;a<Lu;a++)fl[a]=new Int32Array(256);let r,i,s,o;for(let a=1,l=t-1;a<t;a++){Pu[t+a]=Pu[l]=i=l*l,s=fl[t+a],o=fl[l--];for(let u=0;u<256;u++)s[u]=o[u]=i*u}r=Pu[t]=t*t,s=fl[t];for(let a=0;a<256;a++)s[a]=r*a}}function tK(n,t){const r=Cn._toPixels(n),i=n.width,s=n.height,o=i*s,a=new Int32Array(o);for(let F=0;F<o;F++)a[F]=Cn._getARGB(r,F);let l,u,h,c,f,d,p,m,g,v;const E=new Int32Array(o),y=new Int32Array(o),x=new Int32Array(o),b=new Int32Array(o);let w=0;eK(t);let S,_,T,C;for(_=0;_<s;_++){for(S=0;S<i;S++){if(c=h=u=f=l=0,d=S-vh,d<0)v=-d,d=0;else{if(d>=i)break;v=0}for(T=v;T<Lu&&!(d>=i);T++){const F=a[d+w];C=fl[T],f+=C[(F&-16777216)>>>24],u+=C[(F&16711680)>>16],h+=C[(F&65280)>>8],c+=C[F&255],l+=Pu[T],d++}p=w+S,E[p]=f/l,y[p]=u/l,x[p]=h/l,b[p]=c/l}w+=i}for(w=0,m=-vh,g=m*i,_=0;_<s;_++){for(S=0;S<i;S++){if(c=h=u=f=l=0,m<0)v=p=-m,d=S;else{if(m>=s)break;v=0,p=m,d=S+g}for(T=v;T<Lu&&!(p>=s);T++)C=fl[T],f+=C[E[d]],u+=C[y[d]],h+=C[x[d]],c+=C[b[d]],l+=Pu[T],p++,d+=i;a[S+w]=f/l<<24|u/l<<16|h/l<<8|c/l}w+=i,g+=i,m++}Cn._setPixels(r,a)}const j2=function(n,t){return n!==0&&(this.x=this.x%n),t!==0&&(this.y=this.y%t),this},H0=function(n,t,r){return n!==0&&(this.x=this.x%n),t!==0&&(this.y=this.y%t),r!==0&&(this.z=this.z%r),this};class Fe{constructor(...t){let r=t;typeof t[0]=="function"&&(this.isPInst=!0,this._fromRadians=t[0],this._toRadians=t[1],r=t.slice(2));let i=r.length;i===0?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=i,this._values=r)}get values(){return this._values}set values(t){let r=t.length;r===0?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=r,this._values=t.slice())}get x(){return this._values[0]||0}getValue(t){if(t<this._values.length)return this._values[t];p5._friendlyError("The index parameter is trying to set a value outside the bounds of the vector","p5.Vector.setValue")}setValue(t,r){t<this._values.length?this._values[t]=r:p5._friendlyError("The index parameter is trying to set a value outside the bounds of the vector","p5.Vector.setValue")}get y(){return this._values[1]||0}get z(){return this._values[2]||0}get w(){return this._values[3]||0}set x(t){this._values.length>1&&(this._values[0]=t)}set y(t){this._values.length>1&&(this._values[1]=t)}set z(t){this._values.length>2&&(this._values[2]=t)}set w(t){this._values.length>3&&(this._values[3]=t)}toString(){return`vector[${this._values.join(", ")}]`}set(...t){return t[0]instanceof Fe?this._values=t[0].values.slice():Array.isArray(t[0])?this._values=t[0].map(r=>r||0):this._values=t.map(r=>r||0),this.dimensions=this._values.length,this}copy(){return this.isPInst?new Fe(this._fromRadians,this._toRadians,...this._values):new Fe(...this._values)}add(...t){return t[0]instanceof Fe?t=t[0].values:Array.isArray(t[0])&&(t=t[0]),t.forEach((r,i)=>{this._values[i]=(this._values[i]||0)+(r||0)}),this}rem(t,r,i){if(t instanceof Fe){if([t.x,t.y,t.z].every(Number.isFinite)){const s=parseFloat(t.x),o=parseFloat(t.y),a=parseFloat(t.z);return H0.call(this,s,o,a)}}else if(Array.isArray(t)){if(t.every(s=>Number.isFinite(s))){if(t.length===2)return j2.call(this,t[0],t[1]);if(t.length===3)return H0.call(this,t[0],t[1],t[2])}}else if(arguments.length===1){if(Number.isFinite(arguments[0])&&arguments[0]!==0)return this.x=this.x%arguments[0],this.y=this.y%arguments[0],this.z=this.z%arguments[0],this}else if(arguments.length===2){const s=[...arguments];if(s.every(o=>Number.isFinite(o))&&s.length===2)return j2.call(this,s[0],s[1])}else if(arguments.length===3){const s=[...arguments];if(s.every(o=>Number.isFinite(o))&&s.length===3)return H0.call(this,s[0],s[1],s[2])}}sub(...t){return t[0]instanceof Fe?t[0].values.forEach((r,i)=>{this._values[i]-=r||0}):Array.isArray(t[0])?t[0].forEach((r,i)=>{this._values[i]-=r||0}):t.forEach((r,i)=>{this._values[i]-=r||0}),this}mult(...t){if(t.length===1&&t[0]instanceof Fe){const r=t[0],i=Math.min(this._values.length,r.values.length);for(let s=0;s<i;s++)if(Number.isFinite(r.values[s])&&typeof r.values[s]=="number")this._values[s]*=r.values[s];else return console.warn("p5.Vector.prototype.mult:","v contains components that are either undefined or not finite numbers"),this}else if(t.length===1&&Array.isArray(t[0])){const r=t[0],i=Math.min(this._values.length,r.length);for(let s=0;s<i;s++)if(Number.isFinite(r[s])&&typeof r[s]=="number")this._values[s]*=r[s];else return console.warn("p5.Vector.prototype.mult:","arr contains elements that are either undefined or not finite numbers"),this}else if(t.length===1&&typeof t[0]=="number"&&Number.isFinite(t[0]))for(let r=0;r<this._values.length;r++)this._values[r]*=t[0];return this}div(...t){if(t.length===0)return this;if(t.length===1&&t[0]instanceof Fe){const r=t[0];if(r._values.every(i=>Number.isFinite(i)&&typeof i=="number")){if(r._values.some(i=>i===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((i,s)=>i/r._values[s])}else console.warn("p5.Vector.prototype.div:","vector contains components that are either undefined or not finite numbers");return this}if(t.length===1&&Array.isArray(t[0])){const r=t[0];if(r.every(i=>Number.isFinite(i)&&typeof i=="number")){if(r.some(i=>i===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((i,s)=>i/r[s])}else console.warn("p5.Vector.prototype.div:","array contains components that are either undefined or not finite numbers");return this}if(t.every(r=>Number.isFinite(r)&&typeof r=="number")){if(t.some(r=>r===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((r,i)=>r/t[0])}else console.warn("p5.Vector.prototype.div:","arguments contain components that are either undefined or not finite numbers");return this}mag(){return Math.sqrt(this.magSq())}magSq(){return this._values.reduce((t,r)=>t+r*r,0)}dot(...t){return t[0]instanceof Fe?this.dot(...t[0]._values):this._values.reduce((r,i,s)=>r+i*(t[s]||0),0)}cross(t){const r=this.y*t.z-this.z*t.y,i=this.z*t.x-this.x*t.z,s=this.x*t.y-this.y*t.x;return this.isPInst?new Fe(this._fromRadians,this._toRadians,r,i,s):new Fe(r,i,s)}dist(t){return t.copy().sub(this).mag()}normalize(){const t=this.mag();return t!==0&&this.mult(1/t),this}limit(t){const r=this.magSq();return r>t*t&&this.div(Math.sqrt(r)).mult(t),this}setMag(t){return this.normalize().mult(t)}heading(){const t=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(t):t}setHeading(t){this.isPInst&&(t=this._toRadians(t));let r=this.mag();return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this}rotate(t){let r=this.heading()+t;this.isPInst&&(r=this._toRadians(r));const i=this.mag();return this.x=Math.cos(r)*i,this.y=Math.sin(r)*i,this}angleBetween(t){if(this.magSq()*t.magSq()===0)return NaN;const i=this.cross(t);let s=Math.atan2(i.mag(),this.dot(t))*Math.sign(i.z||1);return this.isPInst&&(s=this._fromRadians(s)),s}lerp(t,r,i,s){return t instanceof Fe?this.lerp(t.x,t.y,t.z,r):(this.x+=(t-this.x)*s||0,this.y+=(r-this.y)*s||0,this.z+=(i-this.z)*s||0,this)}slerp(t,r){if(r===0)return this;if(r===1)return this.set(t);const i=this.mag(),s=t.mag();if(i*s===0)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;const a=this.cross(t),l=a.mag(),u=Math.atan2(l,this.dot(t));if(l>0)a.x/=l,a.y/=l,a.z/=l;else{if(u<Math.PI*.5)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;this.z===0&&t.z===0?a.set(0,0,1):this.x!==0?a.set(this.y,-this.x,0).normalize():a.set(1,0,0)}const h=a.cross(this),c=1-r+r*s/i,f=c*Math.cos(r*u),d=c*Math.sin(r*u);return this.x=this.x*f+h.x*d,this.y=this.y*f+h.y*d,this.z=this.z*f+h.z*d,this}reflect(t){const r=Fe.normalize(t);return this.sub(r.mult(2*this.dot(r)))}array(){return[this.x||0,this.y||0,this.z||0]}equals(...t){let r;t[0]instanceof Fe?r=t[0]._values:Array.isArray(t[0])?r=t[0]:r=t;for(let i=0;i<this._values.length;i++)if(this._values[i]!==(r[i]||0))return!1;return!0}clampToZero(){for(let t=0;t<this._values.length;t++)this._values[t]=this._clampToZero(this._values[t]);return this}_clampToZero(t){return Math.abs((t||0)-0)<=Number.EPSILON?0:t}static fromAngle(t,r){return typeof r>"u"&&(r=1),new Fe(r*Math.cos(t),r*Math.sin(t))}static fromAngles(t,r,i){typeof i>"u"&&(i=1);const s=Math.cos(r),o=Math.sin(r),a=Math.cos(t),l=Math.sin(t);return new Fe(i*l*o,-i*a,i*l*s)}static random2D(){return this.fromAngle(Math.random()*Si)}static random3D(){const t=Math.random()*Si,r=Math.random()*2-1,i=Math.sqrt(1-r*r),s=i*Math.cos(t),o=i*Math.sin(t);return new Fe(s,o,r)}static copy(t){return t.copy(t)}static add(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),i.add(r),i}static rem(t,r){if(t instanceof Fe&&r instanceof Fe){let i=t.copy();return i.rem(r),i}}static sub(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),i.sub(r),i}static mult(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),i.mult(r),i}static rotate(t,r,i){return arguments.length===2?i=t.copy():(i instanceof Fe||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),i.set(t)),i.rotate(r),i}static div(t,r,i){return i?i.set(t):(i=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),i.div(r),i}static dot(t,r){return t.dot(r)}static cross(t,r){return t.cross(r)}static dist(t,r){return t.dist(r)}static lerp(t,r,i,s){return s?s.set(t):(s=t.copy(),arguments.length===4&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),s.lerp(r,i),s}static slerp(t,r,i,s){return s?s.set(t):(s=t.copy(),arguments.length===4&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),s.slerp(r,i),s}static mag(t){return t.mag()}static magSq(t){return t.magSq()}static normalize(t,r){return arguments.length<2?r=t.copy():(r instanceof Fe||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),r.set(t)),r.normalize()}static limit(t,r,i){return arguments.length<3?i=t.copy():(i instanceof Fe||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),i.set(t)),i.limit(r)}static setMag(t,r,i){return arguments.length<3?i=t.copy():(i instanceof Fe||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),i.set(t)),i.setMag(r)}static heading(t){return t.heading()}static angleBetween(t,r){return t.angleBetween(r)}static reflect(t,r,i){return arguments.length<3?i=t.copy():(i instanceof Fe||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),i.set(t)),i.reflect(r)}static array(t){return t.array()}static equals(t,r){let i;return t instanceof Fe?i=t:t instanceof Array?i=new Fe().set(t):p5._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),i.equals(r)}}function d5(n,t){n.Vector=Fe}typeof p5<"u"&&d5(p5,p5.prototype);function m5(n){let t=0;for(let r=1;r<n.length;r++)t+=n[r-1].position.dist(n[r].position);return t}class g5{constructor(t){for(const[r,i]of Object.entries(t))this[r]=i}}class Ns{vertices;_shape=null;_primitivesIndex=null;_contoursIndex=null;isClosing=!1;constructor(...t){if(this.constructor===Ns)throw new Error("ShapePrimitive is an abstract class: it cannot be instantiated.");if(t.length>0)this.vertices=t;else throw new Error("At least one vertex must be passed to the constructor.")}get vertexCount(){return this.vertices.length}get vertexCapacity(){throw new Error("Getter vertexCapacity must be implemented.")}get _firstInterpolatedVertex(){return this.startVertex()}get canOverrideAnchor(){return!1}accept(t){throw new Error("Method accept() must be implemented.")}addToShape(t){let r=t.at(-1);if(r.primitives.length===0)r.primitives.push(this);else{let s=t.at(-1,-1),o=s instanceof this.constructor,a=s.vertexCapacity-s.vertexCount,l,u;o&&a>0?(l=this.vertices.splice(0,a),u=this.vertices,s.vertices.push(...l),u.length>0&&r.primitives.push(this)):r.primitives.push(this)}if(this.vertices.length>0){let s=t.at(-1);this._primitivesIndex=s.primitives.length-1,this._contoursIndex=t.contours.length-1,this._shape=t}return t.at(-1,-1)}get _nextPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex+1):null}get _belongsToShape(){return this._shape!==null}handlesClose(){return!1}close(t){throw new Error("Unimplemented!")}}class v5{#e;primitives;constructor(t=qs){this.#e=t,this.primitives=[]}get kind(){const t=this.primitives.length===0,r=this.#e===qs;return t&&r?zu:this.#e}accept(t){for(const r of this.primitives)r.accept(t)}}class np extends Ns{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitAnchor(this)}getEndVertex(){return this.vertices[0]}}class Xl extends Ns{constructor(...t){if(super(...t),this.constructor===Xl)throw new Error("Segment is an abstract class: it cannot be instantiated.")}get _previousPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex-1):null}getStartVertex(){return this._previousPrimitive.getEndVertex()}getEndVertex(){return this.vertices.at(-1)}}class y5 extends Xl{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitLineSegment(this)}}class b5 extends Xl{#e;#t;constructor(t,...r){super(...r);let i=Array.isArray(t)?t[0]:t;this.#e=i,this.#t=i}get order(){return this.#e}get vertexCapacity(){return this.#t}#n;hullLength(){return this.#n===void 0&&(this.#n=m5([this.getStartVertex(),...this.vertices])),this.#n}accept(t){t.visitBezierSegment(this)}}class x5 extends Xl{#e=1/0;_splineProperties={ends:Gu,tightness:0};get vertexCapacity(){return this.#e}accept(t){t.visitSplineSegment(this)}get _comesAfterSegment(){return this._previousPrimitive instanceof Xl}get canOverrideAnchor(){return this._splineProperties.ends===Ou}get _firstInterpolatedVertex(){return this._splineProperties.ends===Ou?this._comesAfterSegment?this.vertices[1]:this.vertices[0]:this.getStartVertex()}get _chainedToSegment(){if(this._belongsToShape&&this._comesAfterSegment){let t=this._firstInterpolatedVertex.position;return this.getStartVertex().position.equals(t)}else return!1}addToShape(t){const r=super.addToShape(t);if(this._splineProperties.ends=t._splineProperties.ends,this._splineProperties.tightness=t._splineProperties.tightness,this._splineProperties.ends!==Ou)return r;let i=!this._belongsToShape,s=t.at(-1,-1),o=(a,l)=>`Spline does not start where previous path segment ends:
      second spline vertex at (${a})
      expected to be at (${l}).`;if(i&&s.vertices.length===2&&s._comesAfterSegment&&!s._chainedToSegment){let a=s._firstInterpolatedVertex.position,l=s.getStartVertex().position;console.warn(o(a.array(),l.array()))}return r}getEndVertex(){return this._splineProperties.ends===Gu?super.getEndVertex():this._splineProperties.ends===Ou?this.vertices.at(-2):this.getStartVertex()}getControlPoints(){let t=[];this._comesAfterSegment&&t.push(this.getStartVertex()),t.push(this.getStartVertex());for(const i of this.vertices)t.push(i);const r=this.getStartVertex();return this._splineProperties.ends===Gu?(t.unshift(r),t.push(this.vertices.at(-1))):this._splineProperties.ends===Dy&&(t.unshift(this.vertices.at(-1)),t.push(r,this.vertices.at(0))),t}handlesClose(){return this._belongsToShape?this._shape.at(this._contoursIndex).primitives.length===2&&this._primitivesIndex===1:!1}close(){this._splineProperties.ends=Dy}}class _5 extends Ns{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitPoint(this)}}class w5 extends Ns{#e=2;get vertexCapacity(){return this.#e}accept(t){t.visitLine(this)}}class E5 extends Ns{#e=3;get vertexCapacity(){return this.#e}accept(t){t.visitTriangle(this)}}class S5 extends Ns{#e=4;get vertexCapacity(){return this.#e}accept(t){t.visitQuad(this)}}class C5 extends Ns{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitTriangleFan(this)}}class A5 extends Ns{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitTriangleStrip(this)}}class T5 extends Ns{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitQuadStrip(this)}}class nK{creators;constructor(){let t=new Map;t.set(`vertex-${zu}`,(...r)=>new np(...r)),t.set(`vertex-${qs}`,(...r)=>new y5(...r)),t.set(`vertex-${Up}`,(...r)=>new _5(...r)),t.set(`vertex-${uc}`,(...r)=>new w5(...r)),t.set(`vertex-${Dl}`,(...r)=>new E5(...r)),t.set(`vertex-${mh}`,(...r)=>new S5(...r)),t.set(`vertex-${ng}`,(...r)=>new C5(...r)),t.set(`vertex-${zh}`,(...r)=>new A5(...r)),t.set(`vertex-${Gh}`,(...r)=>new T5(...r)),t.set(`bezierVertex-${zu}`,(r,...i)=>new np(...i)),t.set(`bezierVertex-${qs}`,(r,...i)=>new b5(r,...i)),t.set(`splineVertex-${zu}`,(...r)=>new np(...r)),t.set(`splineVertex-${qs}`,(...r)=>new x5(...r)),this.creators=t}get(t,r){const i=`${t}-${r}`;return this.creators.get(i)}set(t,r,i){const s=`${t}-${r}`;this.creators.set(s,i)}clear(){this.creators.clear()}}class I5{#e;#t;#n;#i=3;kind=null;contours=[];_splineProperties={tightness:0,ends:Gu};userVertexProperties=null;constructor(t,r=new nK){this.#t=t,this.#e=t,this.#n=r;for(const i in this.#e)i!=="position"&&i!=="textureCoordinates"&&(this[i]=function(s){this.#e[i]=s})}serializeToArray(t){if(t==null)return[];if(t instanceof Number)return[t];if(t instanceof Array)return t;if(t.array instanceof Function)return t.array();throw new Error(`Can't convert ${t} to array!`)}vertexToArray(t){const r=[];for(const i in this.#e){if(this.userVertexProperties&&i in this.userVertexProperties)continue;const s=t[i];r.push(...this.serializeToArray(s))}for(const i in this.userVertexProperties)i in t?r.push(...this.serializeToArray(t[i])):r.push(...new Array(this.userVertexProperties[i]).fill(0));return r}hydrateValue(t,r){if(r===null)return null;if(r instanceof Number)return t.shift();if(r instanceof Array){const i=[];for(let s=0;s<r.length;s++)i.push(t.shift());return i}else{if(r instanceof Fe)return new Fe(t.shift(),t.shift(),t.shift());if(r instanceof yt){const i=[t.shift(),t.shift(),t.shift(),t.shift()];return new yt(i)}}}arrayToVertex(t){const r={},i=[...t];for(const s in this.#e){if(this.userVertexProperties&&s in this.userVertexProperties)continue;const o=this.#e[s];r[s]=this.hydrateValue(i,o)}for(const s in this.userVertexProperties){const o=this.#e[s];r[s]=this.hydrateValue(i,o)}return r}arrayScale(t,r){return t.map(i=>i*r)}arraySum(t,...r){return t.map((i,s)=>{let o=i;for(let a=0;a<r.length;a++)o+=r[a][s];return o})}arrayMinus(t,r){return t.map((i,s)=>i-r[s])}evaluateCubicBezier([t,r,i,s],o){return this.arraySum(this.arrayScale(t,Math.pow(1-o,3)),this.arrayScale(r,3*Math.pow(1-o,2)*o),this.arrayScale(i,3*(1-o)*Math.pow(o,2)),this.arrayScale(s,Math.pow(o,3)))}evaluateQuadraticBezier([t,r,i],s){return this.arraySum(this.arrayScale(t,Math.pow(1-s,2)),this.arrayScale(r,2*(1-s)*s),this.arrayScale(i,s*s))}catmullRomToBezier(t,r){let i=1-r,s=[];for(let o=0;o+3<t.length;o++){const[a,l,u,h]=t.slice(o,o+4),c=this.arraySum(l,this.arrayScale(this.arrayMinus(u,a),i/6)),f=this.arraySum(u,this.arrayScale(this.arrayMinus(l,h),i/6)),d=u;s.push([c,f,d])}return s}at(t,r,i){let s,o;switch(s=this.contours.at(t),arguments.length){case 1:return s;case 2:return s.primitives.at(r);case 3:return o=s.primitives.at(r),o.vertices.at(i)}}reset(){this.#e={...this.#t},this.kind=null,this.contours=[],this.userVertexProperties=null}vertexProperty(t,r){this.userVertexProperties=this.userVertexProperties||{};const i=this.vertexPropertyKey(t),s=Array.isArray(r)?r:[r];this.userVertexProperties[i]||(this.userVertexProperties[i]=s.length),this.#e[i]=s}vertexPropertyName(t){return t.replace(/Src$/,"")}vertexPropertyKey(t){return t+"Src"}bezierOrder(...t){this.#i=t}splineProperty(t,r){this._splineProperties[t]=r}splineProperties(t){if(t)for(const r in t)this.splineProperty(r,t[r]);else return this._splineProperties}#s(t,r){return this.#e.position=t,r!==void 0&&(this.#e.textureCoordinates=r),new g5(this.#e)}#o(t,r,...i){let s=this.#n.get(t,r);return t==="bezierVertex"?s(this.#i,...i):s(...i)}#r(t,r,i){let s=t,o=this.at(-1).kind,a=this.#s(r,i);return this.#o(s,o,a).addToShape(this)}vertex(t,r,{isClosing:i=!1}={}){const s=this.#r("vertex",t,r);s.isClosing=i}bezierVertex(t,r){this.#r("bezierVertex",t,r)}splineVertex(t,r){this.#r("splineVertex",t,r)}arcVertex(t,r){this.#r("arcVertex",t,r)}beginContour(t=qs){this.at(-1)?.kind===zu&&this.contours.pop(),this.contours.push(new v5(t))}endContour(t=jl,r=this.contours.length-1){const i=this.at(r);if(t===Hh){const s=i.kind===qs,o=this.at(r,0,0),a=Object.hasOwn(o,"position"),l=this.at(r,-1);if(s&&a)if(l.handlesClose())l.close(o);else{const u=this.contours.splice(r+1,this.contours.length-r-1),h=this.#e;this.#e={...h};for(const c in o)["position","textureCoordinates"].includes(c)||(this.#e[c]=o[c]);this.vertex(o.position,o.textureCoordinates,{isClosing:!0}),this.#e=h,this.contours.push(...u)}}}beginShape(t=qs){this.kind=t,this.beginContour(t)}endShape(t=jl){t===Hh&&this.endContour(t,0)}accept(t){for(const r of this.contours)r.accept(t)}}class wc{constructor(){if(this.constructor===wc)throw new Error("PrimitiveVisitor is an abstract class: it cannot be instantiated.")}visitAnchor(t){throw new Error("Method visitAnchor() has not been implemented.")}visitLineSegment(t){throw new Error("Method visitLineSegment() has not been implemented.")}visitBezierSegment(t){throw new Error("Method visitBezierSegment() has not been implemented.")}visitSplineSegment(t){throw new Error("Method visitSplineSegment() has not been implemented.")}visitArcSegment(t){throw new Error("Method visitArcSegment() has not been implemented.")}visitPoint(t){throw new Error("Method visitPoint() has not been implemented.")}visitLine(t){throw new Error("Method visitLine() has not been implemented.")}visitTriangle(t){throw new Error("Method visitTriangle() has not been implemented.")}visitQuad(t){throw new Error("Method visitQuad() has not been implemented.")}visitTriangleFan(t){throw new Error("Method visitTriangleFan() has not been implemented.")}visitTriangleStrip(t){throw new Error("Method visitTriangleStrip() has not been implemented.")}visitQuadStrip(t){throw new Error("Method visitQuadStrip() has not been implemented.")}}class D5 extends wc{path=new Path2D;strokeWeight;constructor({strokeWeight:t}){super(),this.strokeWeight=t}visitAnchor(t){let r=t.getEndVertex();this.path.moveTo(r.position.x,r.position.y)}visitLineSegment(t){if(t.isClosing)this.path.closePath();else{let r=t.getEndVertex();this.path.lineTo(r.position.x,r.position.y)}}visitBezierSegment(t){let[r,i,s]=t.vertices;switch(t.order){case 2:this.path.quadraticCurveTo(r.position.x,r.position.y,i.position.x,i.position.y);break;case 3:this.path.bezierCurveTo(r.position.x,r.position.y,i.position.x,i.position.y,s.position.x,s.position.y);break}}visitSplineSegment(t){const r=t._shape;if(t._splineProperties.ends===Ou&&!t._comesAfterSegment){let o=t._firstInterpolatedVertex;this.path.moveTo(o.position.x,o.position.y)}const i=t.getControlPoints().map(o=>r.vertexToArray(o));let s=r.catmullRomToBezier(i,t._splineProperties.tightness).map(o=>o.map(a=>r.arrayToVertex(a)));for(const o of s){const a=o.flatMap(l=>[l.position.x,l.position.y]);this.path.bezierCurveTo(...a)}}visitPoint(t){const{x:r,y:i}=t.vertices[0].position;this.path.moveTo(r,i),this.path.lineTo(r+1e-5,i)}visitLine(t){const{x:r,y:i}=t.vertices[0].position,{x:s,y:o}=t.vertices[1].position;this.path.moveTo(r,i),this.path.lineTo(s,o)}visitTriangle(t){const[r,i,s]=t.vertices;this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.closePath()}visitQuad(t){const[r,i,s,o]=t.vertices;this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}visitTriangleFan(t){const[r,...i]=t.vertices;for(let s=0;s<i.length-1;s++){const o=i[s],a=i[s+1];this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.closePath()}}visitTriangleStrip(t){for(let r=0;r<t.vertices.length-2;r++){const i=t.vertices[r],s=t.vertices[r+1],o=t.vertices[r+2];this.path.moveTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}}visitQuadStrip(t){for(let r=0;r<t.vertices.length-3;r+=2){const i=t.vertices[r],s=t.vertices[r+1],o=t.vertices[r+2],a=t.vertices[r+3];this.path.moveTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}}}class N5 extends wc{contours=[];curveDetail;constructor({curveDetail:t=1}={}){super(),this.curveDetail=t}lastContour(){return this.contours[this.contours.length-1]}visitAnchor(t){this.contours.push([]);const r=t._nextPrimitive;r?.canOverrideAnchor?this.lastContour().push(r._firstInterpolatedVertex):this.lastContour().push(t.getEndVertex())}visitLineSegment(t){this.lastContour().push(t.getEndVertex())}visitBezierSegment(t){const r=this.lastContour(),i=Math.max(1,Math.ceil(t.hullLength()*this.curveDetail)),s=[t.getStartVertex(),...t.vertices].map(o=>t._shape.vertexToArray(o));for(let o=0;o<i;o++){const a=(o+1)/i;r.push(t._shape.arrayToVertex(t.order===3?t._shape.evaluateCubicBezier(s,a):t._shape.evaluateQuadraticBezier(s,a)))}}visitSplineSegment(t){const r=t._shape,i=this.lastContour(),s=t.getControlPoints().map(l=>r.vertexToArray(l));let o=r.catmullRomToBezier(s,t._splineProperties.tightness),a=r.vertexToArray(t._firstInterpolatedVertex);for(const l of o){const u=[a,...l],h=Math.max(1,Math.ceil(m5(u.map(c=>r.arrayToVertex(c)))*this.curveDetail));for(let c=0;c<h;c++){const f=(c+1)/h;i.push(r.arrayToVertex(r.evaluateCubicBezier(u,f)))}a=l[2]}}visitPoint(t){this.contours.push(t.vertices.slice())}visitLine(t){this.contours.push(t.vertices.slice())}visitTriangle(t){this.contours.push(t.vertices.slice())}visitQuad(t){this.contours.push(t.vertices.slice())}visitTriangleFan(t){this.contours.push(t.vertices.slice())}visitTriangleStrip(t){this.contours.push(t.vertices.slice())}visitQuadStrip(t){this.contours.push(t.vertices.slice())}}class rK extends wc{constructor(){super()}}function zb(n,t){n.Shape=I5,n.Contour=v5,n.ShapePrimitive=Ns,n.Vertex=g5,n.Anchor=np,n.Segment=Xl,n.LineSegment=y5,n.BezierSegment=b5,n.SplineSegment=x5,n.Point=_5,n.Line=w5,n.Triangle=E5,n.Quad=S5,n.TriangleFan=C5,n.TriangleStrip=A5,n.QuadStrip=T5,n.PrimitiveVisitor=wc,n.PrimitiveToPath2DConverter=D5,n.PrimitiveToVerticesConverter=N5,n.PointAtLengthGetter=rK,t.bezierOrder=function(r){return this._renderer.bezierOrder(r)},t.splineVertex=function(...r){let i=0,s=0,o=0,a=0,l=0;r.length===2?[i,s]=r:r.length===4?[i,s,a,l]=r:r.length===3?[i,s,o]=r:r.length===5&&([i,s,o,a,l]=r),this._renderer.splineVertex(i,s,o,a,l)},t.splineProperty=function(r,i){return this._renderer.splineProperty(r,i)},t.splineProperties=function(r){return this._renderer.splineProperties(r)},t.vertex=function(r,i){let s,o,a;s=o=a=0,arguments.length===3?s=arguments[2]:arguments.length===4?(o=arguments[2],a=arguments[3]):arguments.length===5&&(s=arguments[2],o=arguments[3],a=arguments[4]),this._renderer.vertex(r,i,s,o,a)},t.beginContour=function(r){this._renderer.beginContour(r)},t.endContour=function(r=jl){this._renderer.endContour(r)}}typeof p5<"u"&&zb(p5,p5.prototype);class iK{#e={};constructor(t){for(const r in t)this[r]=t[r]}setValue(t,r){t in this.#e||(this.#e[t]=this[t]),this[t]=r}getDiff(){const t=this.#e;return this.#e={},t}getModified(){return this.#e}applyDiff(t){for(const r in this.#e)this[r]=this.#e[r];this.#e=t}}var rp={exports:{}},sK=rp.exports,z2;function oK(){return z2||(z2=1,(function(n){/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var t=t||(function(r){if(!(typeof r>"u"||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var i=r.document,s=function(){return r.URL||r.webkitURL||r},o=i.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in o,l=function(x){var b=new MouseEvent("click");x.dispatchEvent(b)},u=/constructor/i.test(r.HTMLElement)||r.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(x){(r.setImmediate||r.setTimeout)(function(){throw x},0)},f="application/octet-stream",d=1e3*40,p=function(x){var b=function(){typeof x=="string"?s().revokeObjectURL(x):x.remove()};setTimeout(b,d)},m=function(x,b,w){b=[].concat(b);for(var S=b.length;S--;){var _=x["on"+b[S]];if(typeof _=="function")try{_.call(x,w||x)}catch(T){c(T)}}},g=function(x){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob(["\uFEFF",x],{type:x.type}):x},v=function(x,b,w){w||(x=g(x));var S=this,_=x.type,T=_===f,C,F=function(){m(S,"writestart progress write writeend".split(" "))},k=function(){if((h||T&&u)&&r.FileReader){var D=new FileReader;D.onloadend=function(){var M=h?D.result:D.result.replace(/^data:[^;]*;/,"data:attachment/file;"),U=r.open(M,"_blank");U||(r.location.href=M),M=void 0,S.readyState=S.DONE,F()},D.readAsDataURL(x),S.readyState=S.INIT;return}if(C||(C=s().createObjectURL(x)),T)r.location.href=C;else{var N=r.open(C,"_blank");N||(r.location.href=C)}S.readyState=S.DONE,F(),p(C)};if(S.readyState=S.INIT,a){C=s().createObjectURL(x),setTimeout(function(){o.href=C,o.download=b,l(o),F(),p(C),S.readyState=S.DONE});return}k()},E=v.prototype,y=function(x,b,w){return new v(x,b||x.name||"download",w)};return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(x,b,w){return b=b||x.name||"download",w||(x=g(x)),navigator.msSaveOrOpenBlob(x,b)}:(E.abort=function(){},E.readyState=E.INIT=0,E.WRITING=1,E.DONE=2,E.error=E.onwritestart=E.onprogress=E.onwrite=E.onabort=E.onerror=E.onwriteend=null,y)}})(typeof self<"u"&&self||typeof window<"u"&&window||sK.content);n.exports&&(n.exports.saveAs=t)})(rp)),rp.exports}var aK=oK();function Jh(n,t,r){const s=qp(t,r)[0];let o=n;o instanceof Blob||(o=new Blob([n])),aK.saveAs(o,s)}function qp(n,t){(!t||t===!0||t==="true")&&(t=""),n||(n="untitled");let r="";return n&&n.includes(".")&&(r=n.split(".").pop()),t&&r!==t&&(r=t,n=`${n}.${r}`),[n,r]}let La=class Ry{constructor(t,r){this.width=t,this.height=r,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this._pixelsState=this,this._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}pixelDensity(t){return typeof t<"u"?(t<=0&&(t=1),this._pixelDensity=t,this.width/=t,this.height/=t,this):this._pixelDensity}_animateGif(t){const r=this.gifProperties,i=t._lastRealFrameTime||window.performance.now();if(r.lastChangeTime===0&&(r.lastChangeTime=i),r.playing){r.timeDisplayed=i-r.lastChangeTime;const s=r.frames[r.displayIndex].delay;if(r.timeDisplayed>=s){const o=Math.floor(r.timeDisplayed/s);if(r.timeDisplayed=0,r.lastChangeTime=i,r.displayIndex+=o,r.loopCount=Math.floor(r.displayIndex/r.numFrames),r.loopLimit!==null&&r.loopCount>=r.loopLimit)r.playing=!1;else{const a=r.displayIndex%r.numFrames;this.drawingContext.putImageData(r.frames[a].image,0,0),r.displayIndex=a,this.setModified(!0)}}}}loadPixels(){const t=this._pixelsState,r=this._pixelDensity,i=this.width*r,s=this.height*r,o=this.drawingContext.getImageData(0,0,i,s);t.imageData=o,this.pixels=t.pixels=o.data,this.setModified(!0)}updatePixels(t,r,i,s){const o=this._pixelsState,a=this._pixelDensity;t===void 0&&r===void 0&&i===void 0&&s===void 0&&(t=0,r=0,i=this.width,s=this.height),t*=a,r*=a,i*=a,s*=a,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=o.imageData),this.drawingContext.putImageData(o.imageData,t,r,0,0,i,s),this.setModified(!0)}get(t,r,i,s){const o=this._pixelsState,a=this._pixelDensity,l=this.canvas;if(typeof t>"u"&&typeof r>"u")t=r=0,i=o.width,s=o.height;else if(t*=a,r*=a,typeof i>"u"&&typeof s>"u")return t<0||r<0||t>=l.width||r>=l.height?[0,0,0,0]:this._getPixel(t,r);const u=new Ry(i*a,s*a);return u.pixelDensity(a),u.canvas.getContext("2d").drawImage(l,t,r,i*a,s*a,0,0,i*a,s*a),u}_getPixel(t,r){let i,s;return i=this.drawingContext.getImageData(t,r,1,1).data,s=0,[i[s+0],i[s+1],i[s+2],i[s+3]]}set(t,r,i){t=Math.floor(t),r=Math.floor(r);const s=this._pixelsState;if(i instanceof Ry)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,i.width,i.height),this.drawingContext.drawImage(i.canvas,t,r),this.drawingContext.restore();else{let o=0,a=0,l=0,u=0,h=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(s.imageData||s.loadPixels(),typeof i=="number")h<s.pixels.length&&(o=i,a=i,l=i,u=255);else if(Array.isArray(i)){if(i.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");h<s.pixels.length&&(o=i[0],a=i[1],l=i[2],u=i[3])}else i instanceof p5.Color&&h<s.pixels.length&&([o,a,l,u]=i._getRGBA([255,255,255,255]));for(let c=0;c<this._pixelDensity;c++)for(let f=0;f<this._pixelDensity;f++)h=4*((r*this._pixelDensity+f)*this.width*this._pixelDensity+(t*this._pixelDensity+c)),s.pixels[h]=o,s.pixels[h+1]=a,s.pixels[h+2]=l,s.pixels[h+3]=u}this.setModified(!0)}resize(t,r){t===0&&r===0?(t=this.canvas.width,r=this.canvas.height):t===0?t=this.canvas.width*r/this.canvas.height:r===0&&(r=this.canvas.height*t/this.canvas.width),t=Math.floor(t),r=Math.floor(r);const i=document.createElement("canvas");if(i.width=t,i.height=r,this.gifProperties){const s=this.gifProperties,o=(a,l)=>{let u=0;for(let h=0;h<l.height;h++)for(let c=0;c<l.width;c++){const f=Math.floor(c*a.width/l.width);let p=(Math.floor(h*a.height/l.height)*a.width+f)*4;l.data[u++]=a.data[p++],l.data[u++]=a.data[p++],l.data[u++]=a.data[p++],l.data[u++]=a.data[p++]}};for(let a=0;a<s.numFrames;a++){const l=this.drawingContext.createImageData(t,r);o(s.frames[a].image,l),s.frames[a].image=l}}i.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,i.width,i.height),this.canvas.width=this.width=t,this.canvas.height=this.height=r,this.drawingContext.drawImage(i,0,0,t,r,0,0,t,r),this.pixels.length>0&&this.loadPixels(),this.setModified(!0)}copy(...t){let r,i,s,o,a,l,u,h,c;if(t.length===9)r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8];else if(t.length===8)r=this,i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],u=t[5],h=t[6],c=t[7];else throw new Error("Signature not supported");this._copyHelper(this,r,i,s,o,a,l,u,h,c)}_copyHelper(t,r,i,s,o,a,l,u,h,c){const f=r.canvas.width/r.width;let d=0,p=0;r._renderer&&r._renderer.isP3D&&(d=r.width/2,p=r.height/2),t._renderer&&t._renderer.isP3D?(t.push(),t.resetMatrix(),t.noLights(),t.blendMode(t.BLEND),t.imageMode(t.CORNER),t._renderer.image(r,i+d,s+p,o,a,l,u,h,c),t.pop()):t.drawingContext.drawImage(r.canvas,f*(i+d),f*(s+p),f*o,f*a,l,u,h,c)}mask(t){t===void 0&&(t=this);const r=this.drawingContext.globalCompositeOperation;let i=this._pixelDensity,s=1;t instanceof It&&(s=t._pInst._renderer._pixelDensity);const o=[t,0,0,s*t.width,s*t.height,0,0,i*this.width,i*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(let a=0;a<this.gifProperties.frames.length;a++)this.drawingContext.putImageData(this.gifProperties.frames[a].image,0,0),this.copy(...o),this.gifProperties.frames[a].image=this.drawingContext.getImageData(0,0,i*this.width,i*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy(...o);this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}filter(t,r){Cn.apply(this.canvas,Cn[t],r),this.setModified(!0)}blend(...t){const r=this.drawingContext.globalCompositeOperation,i=t[t.length-1],s=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=i,this.copy(...s),this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}setModified(t){this._modified=t}isModified(){return this._modified}save(t,r){if(this.gifProperties)lK(this,t);else{let i=this.canvas;r=r||qp(t,r)[1]||"png";let s;switch(r){default:s="image/png";break;case"webp":s="image/webp";break;case"jpeg":case"jpg":s="image/jpeg";break}i.toBlob(o=>{Jh(o,t,r)},s)}}async toBlob(){return new Promise(t=>{this.canvas.toBlob(t)})}reset(){if(this.gifProperties){const t=this.gifProperties;t.playing=!0,t.timeSinceStart=0,t.timeDisplayed=0,t.lastChangeTime=0,t.loopCount=0,t.displayIndex=0,this.drawingContext.putImageData(t.frames[0].image,0,0)}}getCurrentFrame(){if(this.gifProperties){const t=this.gifProperties;return t.displayIndex%t.numFrames}}setFrame(t){if(this.gifProperties){const r=this.gifProperties;t<r.numFrames&&t>=0?(r.timeDisplayed=0,r.lastChangeTime=0,r.displayIndex=t,this.drawingContext.putImageData(r.frames[t].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}}numFrames(){if(this.gifProperties)return this.gifProperties.numFrames}play(){this.gifProperties&&(this.gifProperties.playing=!0)}pause(){this.gifProperties&&(this.gifProperties.playing=!1)}delay(t,r){if(this.gifProperties){const i=this.gifProperties;if(r<i.numFrames&&r>=0)i.frames[r].delay=t;else for(const s of i.frames)s.delay=t}}};function lK(n,t){const r=n.gifProperties;let i=r.loopLimit;i===1?i=null:i===null&&(i=0);const s=new Uint8Array(n.width*n.height*r.numFrames),o=[],a={};for(let y=0;y<r.numFrames;y++){const x=new Set,b=r.frames[y].image.data,w=b.length,S=new Uint32Array(n.width*n.height);for(let T=0,C=0;T<w;T+=4,C++){const F=b[T+0],k=b[T+1],D=b[T+2],N=F<<16|k<<8|D<<0;x.add(N),S[C]=N}const _=[...x].sort().toString();a[_]===void 0?a[_]={freq:1,frames:[y]}:(a[_].freq+=1,a[_].frames.push(y)),o.push(S)}let l=[];const u=Object.keys(a).sort(function(y,x){return a[x].freq-a[y].freq}),h=u[0].split(",").map(y=>parseInt(y));l=l.concat(a[h].frames);const c=new Set(h);for(let y=1;y<u.length;y++){const b=u[y].split(",").map(w=>parseInt(w)).filter(w=>!c.has(w));if(h.length+b.length<=256){for(let w=0;w<b.length;w++)h.push(b[w]),c.add(b[w]);l=l.concat(a[u[y]].frames)}}l=new Set(l);const f={};for(let y=0;y<h.length;y++)f[h[y]]||(f[h[y]]=y);let d=1;for(;d<h.length;)d<<=1;h.length=d;const p={loop:i,palette:new Uint32Array(h)},m=new omggif.GifWriter(s,n.width,n.height,p);let g={};for(let y=0;y<r.numFrames;y++){const x=!l.has(y),b=x?[]:h,w=new Uint8Array(n.width*n.height),S={},_=new Set;o[y].forEach((F,k)=>{x?(S[F]===void 0&&(S[F]=b.length,b.push(F)),w[k]=S[F]):w[k]=f[F],y>0&&o[y-1][k]!==F&&_.add(F)});const T={},C=b.filter(F=>!_.has(F));if(C.length>0){const F=C[0],k=x?S[F]:f[F];if(y>0){for(let D=0;D<o[y].length;D++)o[y-1][D]===o[y][D]&&(w[D]=k);T.transparent=k,g.frameOpts.disposal=1}}if(T.delay=r.frames[y].delay/10,x){let F=1;for(;F<b.length;)F<<=1;b.length=F,T.palette=new Uint32Array(b)}y>0&&m.addFrame(0,0,n.width,n.height,g.pixelPaletteIndex,g.frameOpts),g={pixelPaletteIndex:w,frameOpts:T}}g.frameOpts.disposal=1,m.addFrame(0,0,n.width,n.height,g.pixelPaletteIndex,g.frameOpts);const v="gif",E=new Blob([s.slice(0,m.end())],{type:"image/gif"});Jh(E,t,v)}function F5(n,t){n.Image=La}typeof p5<"u"&&F5(p5,p5.prototype);class Gb{constructor(t={}){for(const r in t)this[r]=t[r]}clone(){return new Gb(this)}}class It{static states={strokeColor:null,strokeSet:!1,fillColor:null,fillSet:!1,tint:null,imageMode:hs,rectMode:hs,ellipseMode:zi,strokeWeight:1,textFont:{family:"sans-serif"},textLeading:15,leadingSet:!1,textSize:12,textAlign:DN,textBaseline:NN,bezierOrder:3,splineProperties:new Gb({ends:Gu,tightness:0}),textWrap:MN,fontStyle:co,fontStretch:co,fontWeight:co,lineHeight:co,fontVariant:co,direction:"inherit"};constructor(t,r,i,s){this._pInst=t,this._isMainCanvas=s,this.pixels=[],this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this.width=r,this.height=i,this._events={},s&&(this._isMainCanvas=!0),this.states=new iK(It.states),this.states.strokeColor=new yt([0,0,0]),this.states.fillColor=new yt([1,1,1]),this._pushPopStack=[],this._pushPopDepth=0,this._clipping=!1,this._clipInvert=!1,this._currentShape=void 0}get currentShape(){return this._currentShape||(this._currentShape=new I5(this.getCommonVertexProperties())),this._currentShape}remove(){}pixelDensity(t){let r;return typeof t=="number"?(t!==this._pixelDensity&&(this._pixelDensity=t),r=this,this.resize(this.width,this.height)):r=this._pixelDensity,r}push(){this._pushPopDepth++,this._pushPopStack.push(this.states.getDiff())}pop(){this._pushPopDepth--;const t=this._pushPopStack.pop()||{},r=this.states.getModified();this.states.applyDiff(t),this.updateShapeVertexProperties(r),this.updateShapeProperties(r)}bezierOrder(t){if(t===void 0)return this.states.bezierOrder;this.states.setValue("bezierOrder",t),this.updateShapeProperties()}bezierVertex(t,r,i=0,s=0,o=0){const a=new Fe(t,r,i),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new Fe(s,o):void 0;this.currentShape.bezierVertex(a,l)}splineProperty(t,r){if(r===void 0)return this.states.splineProperties[t];this.states.setValue("splineProperties",this.states.splineProperties.clone()),this.states.splineProperties[t]=r,this.updateShapeProperties()}splineProperties(t){if(t)for(const r in t)this.splineProperty(r,t[r]);else return{...this.states.splineProperties}}splineVertex(t,r,i=0,s=0,o=0){const a=new Fe(t,r,i),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new Fe(s,o):void 0;this.currentShape.splineVertex(a,l)}curveDetail(t){if(t===void 0)return this.states.curveDetail;this.states.setValue("curveDetail",t)}beginShape(...t){this.currentShape.reset(),this.updateShapeVertexProperties(),this.currentShape.beginShape(...t)}endShape(...t){this.currentShape.endShape(...t),this.drawShape(this.currentShape)}beginContour(t){this.currentShape.beginContour(t)}endContour(t){this.currentShape.endContour(t)}drawShape(t,r){throw new Error("Unimplemented")}vertex(t,r,i=0,s=0,o=0){const a=new Fe(t,r,i),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new Fe(s,o):void 0;this.currentShape.vertex(a,l)}bezier(t,r,i,s,o,a,l,u){const h=this._pInst.bezierOrder();return this._pInst.bezierOrder(h),this._pInst.beginShape(),this._pInst.bezierVertex(t,r),this._pInst.bezierVertex(i,s),this._pInst.bezierVertex(o,a),this._pInst.bezierVertex(l,u),this._pInst.endShape(),this}spline(...t){if(t.length===8){const[r,i,s,o,a,l,u,h]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,i),this._pInst.splineVertex(s,o),this._pInst.splineVertex(a,l),this._pInst.splineVertex(u,h),this._pInst.endShape()}else if(t.length===12){const[r,i,s,o,a,l,u,h,c,f,d,p]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,i,s),this._pInst.splineVertex(o,a,l),this._pInst.splineVertex(u,h,c),this._pInst.splineVertex(f,d,p),this._pInst.endShape()}return this}beginClip(t={}){if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=t.invert}endClip(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}resize(t,r){this.width=t,this.height=r}get(t,r,i,s){const o=this._pixelDensity,a=this.canvas;if(typeof t>"u"&&typeof r>"u")t=r=0,i=this.width,s=this.height;else if(t*=o,r*=o,typeof i>"u"&&typeof s>"u")return t<0||r<0||t>=a.width||r>=a.height?[0,0,0,0]:this._getPixel(t,r);const l=new La(i*o,s*o);return l.pixelDensity(o),l.canvas.getContext("2d").drawImage(a,t,r,i*o,s*o,0,0,i*o,s*o),l}scale(t,r){}fill(...t){this.states.setValue("fillSet",!0),this.states.setValue("fillColor",this._pInst.color(...t)),this.updateShapeVertexProperties()}noFill(){this.states.setValue("fillColor",null)}strokeWeight(t){if(t===void 0)return this.states.strokeWeight;this.states.setValue("strokeWeight",t)}stroke(...t){this.states.setValue("strokeSet",!0),this.states.setValue("strokeColor",this._pInst.color(...t)),this.updateShapeVertexProperties()}noStroke(){this.states.setValue("strokeColor",null)}getCommonVertexProperties(){return{}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!1}}updateShapeProperties(t){if(!t||t.bezierOrder||t.splineProperties){const r=this.currentShape;r.bezierOrder(this.states.bezierOrder),r.splineProperty("ends",this.states.splineProperties.ends),r.splineProperty("tightness",this.states.splineProperties.tightness)}}updateShapeVertexProperties(t){const r=this.getCommonVertexProperties();if(!t||Object.keys(t).some(i=>i in r)){const i=this.currentShape;for(const s in r)i[s](r[s])}}_applyDefaults(){return this}}function uK(n,t){n.Renderer=It}const W0="video",G2="audio";class cK{constructor(t,r,i,s){this.callback=t,this.time=r,this.id=i,this.val=s}}class yl extends Pr{constructor(t,r){super(t,r);const i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],this.pixels=[],this._pixelsState=this,this._pixelDensity=1,this._modified=!1,this._frameOnCanvas=-1,Object.defineProperty(i,"src",{get(){const s=i.elt.children[0].src,o=i.elt.src===window.location.href?"":i.elt.src;return s===window.location.href?o:s},set(s){for(let a=0;a<i.elt.children.length;a++)i.elt.removeChild(i.elt.children[a]);const o=document.createElement("source");o.src=s,t.appendChild(o),i.elt.src=s,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}}play(){this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0);let t;return this.elt.readyState>1?t=this.elt.play():(this.elt.load(),t=this.elt.play()),t&&t.catch&&t.catch(r=>{r.name==="NotAllowedError"?typeof IS_MINIFIED>"u"?p5._friendlyAutoplayError(this.src):console.error(r):console.error("Media play method encountered an unexpected error",r)}),this}stop(){return this.elt.pause(),this.elt.currentTime=0,this}pause(){return this.elt.pause(),this}loop(){return this.elt.setAttribute("loop",!0),this.play(),this}noLoop(){return this.elt.removeAttribute("loop"),this}_setupAutoplayFailDetection(){const t=setTimeout(()=>{typeof IS_MINIFIED>"u"?p5._friendlyAutoplayError(this.src):console.error(e)},500);this.elt.addEventListener("play",()=>clearTimeout(t),{passive:!0,once:!0})}autoplay(t){const r=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",t),t&&!r){const i=()=>this._setupAutoplayFailDetection();this.elt.readyState===4?i():this.elt.addEventListener("canplay",i,{passive:!0,once:!0})}return this}volume(t){if(typeof t>"u")return this.elt.volume;this.elt.volume=t}speed(t){if(typeof t>"u")return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=t:this.presetPlaybackRate=t}time(t){return typeof t<"u"&&(this.elt.currentTime=t),this.elt.currentTime}duration(){return this.elt.duration}_ensureCanvas(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));const t=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&t&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}loadPixels(...t){return this._ensureCanvas(),p5.Renderer2D.prototype.loadPixels.apply(this,t)}updatePixels(t,r,i,s){return this.loadedmetadata&&(this._ensureCanvas(),p5.Renderer2D.prototype.updatePixels.call(this,t,r,i,s)),this.setModified(!0),this}get(...t){return this._ensureCanvas(),p5.Renderer2D.prototype.get.apply(this,t)}_getPixel(...t){return this.loadPixels(),p5.Renderer2D.prototype._getPixel.apply(this,t)}set(t,r,i){this.loadedmetadata&&(this._ensureCanvas(),p5.Renderer2D.prototype.set.call(this,t,r,i),this.setModified(!0))}copy(...t){this._ensureCanvas(),p5.prototype.copy.apply(this,t)}mask(...t){this.loadPixels(),this.setModified(!0),p5.Image.prototype.mask.apply(this,t)}isModified(){return this._modified}setModified(t){this._modified=t}onended(t){return this._onended=t,this}_getAudioContext(){}_getSoundOut(){}connect(t){let r,i;if(this._getAudioContext()&&this._getSoundOut())r=this._getAudioContext(),i=this._getSoundOut().input;else try{r=t.context,i=r.destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=r.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),t?t.input?this.audioSourceNode.connect(t.input):this.audioSourceNode.connect(t):this.audioSourceNode.connect(i)}disconnect(){if(this.audioSourceNode)this.audioSourceNode.disconnect();else throw"nothing to disconnect"}showControls(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}hideControls(){this.elt.controls=!1}addCue(t,r,i){const s=this._cueIDCounter++,o=new cK(r,t,s,i);return this._cues.push(o),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),s}removeCue(t){for(let r=0;r<this._cues.length;r++)this._cues[r].id===t&&(console.log(t),this._cues.splice(r,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}clearCues(){this._cues=[],this.elt.ontimeupdate=null}_onTimeUpdate(){const t=this.time();for(let r=0;r<this._cues.length;r++){const i=this._cues[r].time,s=this._cues[r].val;this._prevTime<i&&i<=t&&this._cues[r].callback(s)}this._prevTime=t}}function k5(n,t){function r(s,o,a){(o._userNode?o._userNode:document.body).appendChild(s);const u=a?new yl(s,o):new Pr(s,o);return o._elements.push(u),u}function i(s,o,a,l){const u=document.createElement(o);a=a||"",typeof a=="string"&&(a=[a]);for(const c of a){const f=document.createElement("source");f.setAttribute("src",c),u.appendChild(f)}const h=r(u,s,!0);if(h.loadedmetadata=!1,u.addEventListener("loadedmetadata",()=>{h.width=u.videoWidth,h.height=u.videoHeight,h.elt.width===0&&(h.elt.width=u.videoWidth),h.elt.height===0&&(h.elt.height=u.videoHeight),h.presetPlaybackRate&&(h.elt.playbackRate=h.presetPlaybackRate,delete h.presetPlaybackRate),h.loadedmetadata=!0}),typeof l=="function"){const c=()=>{l(h),u.removeEventListener("canplaythrough",c)};u.addEventListener("canplaythrough",c)}return h}t.createVideo=function(s,o){return i(this,W0,s,o)},t.createAudio=function(s,o){return i(this,G2,s,o)},t.VIDEO=W0,t.AUDIO=G2,navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(s){const o=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return o?new Promise(function(a,l){o.call(navigator,s,a,l)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.createCapture=function(...s){if(!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia))throw new DOMException("getUserMedia not supported in this browser");let o=!0,a=!0,l,u,h=!1;for(const p of s)p===t.VIDEO?a=!1:p===t.AUDIO?o=!1:typeof p=="object"?(p.flipped!==void 0&&(h=p.flipped,delete p.flipped),l=Object.assign({},l,p)):typeof p=="function"&&(u=p);l=Object.assign({},{video:o,audio:a},l);const f=document.createElement(W0);f.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(l).then(function(p){try{"srcObject"in f?f.srcObject=p:f.src=window.URL.createObjectURL(p)}catch{f.src=p}}).catch(p=>{p.name==="NotFoundError"&&n._friendlyError("No webcam found on this device","createCapture"),p.name==="NotAllowedError"&&n._friendlyError("Access to the camera was denied","createCapture"),console.error(p)});const d=r(f,this,!0);return d.loadedmetadata=!1,f.addEventListener("loadedmetadata",function(){f.play(),f.width?(d.width=f.width,d.height=f.height,h&&(d.elt.style.transform="scaleX(-1)")):(d.width=d.elt.width=f.videoWidth,d.height=d.elt.height=f.videoHeight),d.loadedmetadata=!0,u&&u(f.srcObject)}),d.flipped=h,d},n.MediaElement=yl,yl.prototype._getSoundOut=function(){return n.soundOut},yl.prototype._getAudioContext=function(){if(typeof t.getAudioContext=="function")return t.getAudioContext()}}typeof p5<"u"&&k5(p5,p5.prototype);function hK(n,t,r,i,s){let o;return s===hs?o={x:n,y:t,w:Math.abs(r),h:Math.abs(i)}:s===$h?o={x:Math.min(n,r),y:Math.min(t,i),w:Math.abs(r-n),h:Math.abs(i-t)}:s===jh?(r=Math.abs(r),i=Math.abs(i),o={x:n-r,y:t-i,w:2*r,h:2*i}):s===zi&&(r=Math.abs(r),i=Math.abs(i),o={x:n-r*.5,y:t-i*.5,w:r,h:i}),o}var ip={modeAdjust:hK};function Hb(n,t){t._normalizeArcAngles=(r,i,s,o,a)=>{let u;return r=r-Si*Math.floor(r/Si),i=i-Si*Math.floor(i/Si),u=Math.min(Math.abs(r-i),Si-Math.abs(r-i)),a&&(r<=al?r=Math.atan(s/o*Math.tan(r)):r>al&&r<=3*al?r=Math.atan(s/o*Math.tan(r))+Ey:r=Math.atan(s/o*Math.tan(r))+Si,i<=al?i=Math.atan(s/o*Math.tan(i)):i>al&&i<=3*al?i=Math.atan(s/o*Math.tan(i))+Ey:i=Math.atan(s/o*Math.tan(i))+Si),r>i&&(i+=Si),{start:r,stop:i,correspondToSamePoint:u<1e-5}},t.arc=function(r,i,s,o,a,l,u,h){if(!this._renderer.states.strokeColor&&!this._renderer.states.fillColor)return this;if(a===l)return this;a=this._toRadians(a),l=this._toRadians(l);const c=ip.modeAdjust(r,i,s,o,this._renderer.states.ellipseMode),f=this._normalizeArcAngles(a,l,c.w,c.h,!0);return f.correspondToSamePoint?this._renderer.ellipse([c.x,c.y,c.w,c.h,h]):(this._renderer.arc(c.x,c.y,c.w,c.h,f.start,f.stop,u,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[c.x,c.y,c.w,c.h,f.start,f.stop,u])),this},t.ellipse=function(r,i,s,o,a){return this._renderEllipse(...arguments)},t.circle=function(...r){const i=r.slice(0,2);return i.push(r[2],r[2]),this._renderEllipse(...i)},t._renderEllipse=function(r,i,s,o,a){if(!this._renderer.states.strokeColor&&!this._renderer.states.fillColor)return this;typeof o>"u"&&(o=s);const l=ip.modeAdjust(r,i,s,o,this._renderer.states.ellipseMode);return this._renderer.ellipse([l.x,l.y,l.w,l.h,a]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[l.x,l.y,l.w,l.h]),this},t.line=function(...r){return this._renderer.states.strokeColor&&this._renderer.line(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",r),this},t.point=function(...r){return this._renderer.states.strokeColor&&(r.length===1&&r[0]instanceof n.Vector?this._renderer.point.call(this._renderer,r[0].x,r[0].y,r[0].z):(this._renderer.point(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",r))),this},t.quad=function(...r){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&(this._renderer.isP3D&&r.length<12?this._renderer.quad.call(this._renderer,r[0],r[1],0,r[2],r[3],0,r[4],r[5],0,r[6],r[7],0,r[8],r[9]):(this._renderer.quad(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",r))),this},t.rect=function(...r){return this._renderRect(...r)},t.square=function(r,i,s,o,a,l,u){return this._renderRect.call(this,r,i,s,s,o,a,l,u)},t._renderRect=function(){if(this._renderer.states.strokeColor||this._renderer.states.fillColor){arguments.length===3&&(arguments[3]=arguments[2]);const r=ip.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer.states.rectMode);this._renderer.states.rectMode===hs&&(r.w=arguments[2],r.h=arguments[3]);const i=[r.x,r.y,r.w,r.h];for(let s=4;s<arguments.length;s++)i[s]=arguments[s];this._renderer.rect(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[r.x,r.y,r.w,r.h])}return this},t.triangle=function(...r){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&this._renderer.triangle(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",r),this}}typeof p5<"u"&&Hb(p5,p5.prototype);function Wb(n,t){t.ellipseMode=function(r){return(r===hs||r===$h||r===jh||r===zi)&&this._renderer.states.setValue("ellipseMode",r),this},t.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},t.rectMode=function(r){return(r===hs||r===$h||r===jh||r===zi)&&this._renderer.states.setValue("rectMode",r),this},t.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},t.strokeCap=function(r){return(r===Na||r===Ab||r===Cb)&&this._renderer.strokeCap(r),this},t.strokeJoin=function(r){return(r===Na||r===Tb||r===Ib)&&this._renderer.strokeJoin(r),this},t.strokeWeight=function(r){return this._renderer.strokeWeight(r),this}}typeof p5<"u"&&Wb(p5,p5.prototype);function Xb(n,t){t.bezier=function(...r){return!this._renderer.states.strokeColor&&!this._renderer.states.fillColor?this:(this._renderer.bezier(...r),this)},t.bezierPoint=function(r,i,s,o,a){const l=1-a;return Math.pow(l,3)*r+3*Math.pow(l,2)*a*i+3*l*Math.pow(a,2)*s+Math.pow(a,3)*o},t.bezierTangent=function(r,i,s,o,a){const l=1-a;return 3*o*Math.pow(a,2)-3*s*Math.pow(a,2)+6*s*l*a-6*i*l*a+3*i*Math.pow(l,2)-3*r*Math.pow(l,2)},t.spline=function(...r){return!this._renderer.states.strokeColor&&!this._renderer.states.fillColor?this:(this._renderer.spline(...r),this)},t.splinePoint=function(r,i,s,o,a){const l=this._renderer.states.splineProperties.tightness,u=a*a*a,h=a*a,c=(l-1)/2*u+(1-l)*h+(l-1)/2*a,f=(l+3)/2*u+(-5-l)/2*h+1,d=(-3-l)/2*u+(l+2)*h+(1-l)/2*a,p=(1-l)/2*u+(l-1)/2*h;return r*c+i*f+s*d+o*p},t.splineTangent=function(r,i,s,o,a){const l=this._renderer.states.splineProperties.tightness,u=a*a*3,h=a*2,c=(l-1)/2*u+(1-l)*h+(l-1)/2,f=(l+3)/2*u+(-5-l)/2*h,d=(-3-l)/2*u+(l+2)*h+(1-l)/2,p=(1-l)/2*u+(l-1)/2*h;return r*c+i*f+s*d+o*p}}typeof p5<"u"&&Xb(p5,p5.prototype);function qb(n,t){t.beginShape=function(r){this._renderer.beginShape(...arguments)},t.bezierVertex=function(...r){this._renderer.bezierVertex(...r)},t.endShape=function(r,i=1){i<1&&(console.log(" p5.js says: You can not have less than one instance"),i=1),this._renderer.endShape(r,i)},t.normal=function(r,i,s){return this._assert3d("normal"),this._renderer.normal(...arguments),this},t.vertexProperty=function(r,i){this._renderer.vertexProperty(r,i)}}typeof p5<"u"&&qb(p5,p5.prototype);function Yb(n,t){t.beginClip=function(r={}){this._renderer.beginClip(r)},t.endClip=function(){this._renderer.endClip()},t.clip=function(r,i){this._renderer.beginClip(i),r(),this._renderer.endClip(i)},t.background=function(...r){return this._renderer.background(...r),this},t.clear=function(...r){const i=r[0]||0,s=r[1]||0,o=r[2]||0,a=r[3]||0;return this._renderer.clear(i,s,o,a),this},t.colorMode=function(r,i,s,o,a){if([Wn,Ti,Di,Zr,Xu,Kh,Nl,Zh,Fl].includes(r)){this._renderer.states.setValue("colorMode",r),this._renderer.states.setValue("colorMaxes",this._renderer.states.colorMaxes.clone());const l=this._renderer.states.colorMaxes[r];arguments.length===2?(l[0]=i,l[1]=i,l[2]=i,l[3]=i):arguments.length===4?(l[0]=i,l[1]=s,l[2]=o):arguments.length===5&&(l[0]=i,l[1]=s,l[2]=o,l[3]=a)}return this._renderer.states.colorMode},t.fill=function(...r){return this._renderer.fill(...r),this},t.noFill=function(){return this._renderer.noFill(),this},t.noStroke=function(){return this._renderer.states.setValue("strokeColor",null),this},t.stroke=function(...r){return this._renderer.stroke(...r),this},t.erase=function(r=255,i=255){return this._renderer.erase(r,i),this},t.noErase=function(){return this._renderer.noErase(),this},t.blendMode=function(r){r===co&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=Ii),this._renderer.blendMode(r)}}typeof p5<"u"&&Yb(p5,p5.prototype);var vd={},H2;function fK(){if(H2)return vd;H2=1;function n(s,o,a,h){var u=0,h=h===void 0?{}:h,c=h.loop===void 0?null:h.loop,f=h.palette===void 0?null:h.palette;if(o<=0||a<=0||o>65535||a>65535)throw new Error("Width/Height invalid.");function d(b){var w=b.length;if(w<2||w>256||w&w-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return w}s[u++]=71,s[u++]=73,s[u++]=70,s[u++]=56,s[u++]=57,s[u++]=97;var p=0,m=0;if(f!==null){for(var g=d(f);g>>=1;)++p;if(g=1<<p,--p,h.background!==void 0){if(m=h.background,m>=g)throw new Error("Background index out of range.");if(m===0)throw new Error("Background index explicitly passed as 0.")}}if(s[u++]=o&255,s[u++]=o>>8&255,s[u++]=a&255,s[u++]=a>>8&255,s[u++]=(f!==null?128:0)|p,s[u++]=m,s[u++]=0,f!==null)for(var v=0,E=f.length;v<E;++v){var y=f[v];s[u++]=y>>16&255,s[u++]=y>>8&255,s[u++]=y&255}if(c!==null){if(c<0||c>65535)throw new Error("Loop count invalid.");s[u++]=33,s[u++]=255,s[u++]=11,s[u++]=78,s[u++]=69,s[u++]=84,s[u++]=83,s[u++]=67,s[u++]=65,s[u++]=80,s[u++]=69,s[u++]=50,s[u++]=46,s[u++]=48,s[u++]=3,s[u++]=1,s[u++]=c&255,s[u++]=c>>8&255,s[u++]=0}var x=!1;this.addFrame=function(b,w,S,_,T,C){if(x===!0&&(--u,x=!1),C=C===void 0?{}:C,b<0||w<0||b>65535||w>65535)throw new Error("x/y invalid.");if(S<=0||_<=0||S>65535||_>65535)throw new Error("Width/Height invalid.");if(T.length<S*_)throw new Error("Not enough pixels for the frame size.");var F=!0,k=C.palette;if(k==null&&(F=!1,k=f),k==null)throw new Error("Must supply either a local or global palette.");for(var D=d(k),N=0;D>>=1;)++N;D=1<<N;var M=C.delay===void 0?0:C.delay,U=C.disposal===void 0?0:C.disposal;if(U<0||U>3)throw new Error("Disposal out of range.");var B=!1,W=0;if(C.transparent!==void 0&&C.transparent!==null&&(B=!0,W=C.transparent,W<0||W>=D))throw new Error("Transparent color index.");if((U!==0||B||M!==0)&&(s[u++]=33,s[u++]=249,s[u++]=4,s[u++]=U<<2|(B===!0?1:0),s[u++]=M&255,s[u++]=M>>8&255,s[u++]=W,s[u++]=0),s[u++]=44,s[u++]=b&255,s[u++]=b>>8&255,s[u++]=w&255,s[u++]=w>>8&255,s[u++]=S&255,s[u++]=S>>8&255,s[u++]=_&255,s[u++]=_>>8&255,s[u++]=F===!0?128|N-1:0,F===!0)for(var Z=0,fe=k.length;Z<fe;++Z){var Q=k[Z];s[u++]=Q>>16&255,s[u++]=Q>>8&255,s[u++]=Q&255}return u=t(s,u,N<2?2:N,T),u},this.end=function(){return x===!1&&(s[u++]=59,x=!0),u},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(b){s=b},this.getOutputBufferPosition=function(){return u},this.setOutputBufferPosition=function(b){u=b}}function t(s,o,a,l){s[o++]=a;var u=o++,h=1<<a,c=h-1,f=h+1,d=f+1,p=a+1,m=0,g=0;function v(C){for(;m>=C;)s[o++]=g&255,g>>=8,m-=8,o===u+256&&(s[u]=255,u=o++)}function E(C){g|=C<<m,m+=p,v(8)}var y=l[0]&c,x={};E(h);for(var b=1,w=l.length;b<w;++b){var S=l[b]&c,_=y<<8|S,T=x[_];if(T===void 0){for(g|=y<<m,m+=p;m>=8;)s[o++]=g&255,g>>=8,m-=8,o===u+256&&(s[u]=255,u=o++);d===4096?(E(h),d=f+1,p=a+1,x={}):(d>=1<<p&&++p,x[_]=d++),y=S}else y=T}return E(y),E(f),v(1),u+1===o?s[u]=0:(s[u]=o-u-1,s[o++]=0),o}function r(s){var o=0;if(s[o++]!==71||s[o++]!==73||s[o++]!==70||s[o++]!==56||(s[o++]+1&253)!==56||s[o++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=s[o++]|s[o++]<<8,l=s[o++]|s[o++]<<8,u=s[o++],h=u>>7,c=u&7,f=1<<c+1;s[o++],s[o++];var d=null,p=null;h&&(d=o,p=f,o+=f*3);var m=!0,g=[],v=0,E=null,y=0,x=null;for(this.width=a,this.height=l;m&&o<s.length;)switch(s[o++]){case 33:switch(s[o++]){case 255:if(s[o]!==11||s[o+1]==78&&s[o+2]==69&&s[o+3]==84&&s[o+4]==83&&s[o+5]==67&&s[o+6]==65&&s[o+7]==80&&s[o+8]==69&&s[o+9]==50&&s[o+10]==46&&s[o+11]==48&&s[o+12]==3&&s[o+13]==1&&s[o+16]==0)o+=14,x=s[o++]|s[o++]<<8,o++;else for(o+=12;;){var b=s[o++];if(!(b>=0))throw Error("Invalid block size");if(b===0)break;o+=b}break;case 249:if(s[o++]!==4||s[o+4]!==0)throw new Error("Invalid graphics extension block.");var w=s[o++];v=s[o++]|s[o++]<<8,E=s[o++],(w&1)===0&&(E=null),y=w>>2&7,o++;break;case 254:for(;;){var b=s[o++];if(!(b>=0))throw Error("Invalid block size");if(b===0)break;o+=b}break;default:throw new Error("Unknown graphic control label: 0x"+s[o-1].toString(16))}break;case 44:var S=s[o++]|s[o++]<<8,_=s[o++]|s[o++]<<8,T=s[o++]|s[o++]<<8,C=s[o++]|s[o++]<<8,F=s[o++],k=F>>7,D=F>>6&1,N=F&7,M=1<<N+1,U=d,B=p,W=!1;if(k){var W=!0;U=o,B=M,o+=M*3}var Z=o;for(o++;;){var b=s[o++];if(!(b>=0))throw Error("Invalid block size");if(b===0)break;o+=b}g.push({x:S,y:_,width:T,height:C,has_local_palette:W,palette_offset:U,palette_size:B,data_offset:Z,data_length:o-Z,transparent_index:E,interlaced:!!D,delay:v,disposal:y});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+s[o-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return x},this.frameInfo=function(fe){if(fe<0||fe>=g.length)throw new Error("Frame index out of range.");return g[fe]},this.decodeAndBlitFrameBGRA=function(fe,Q){var J=this.frameInfo(fe),ae=J.width*J.height,be=new Uint8Array(ae);i(s,J.data_offset,be,ae);var ee=J.palette_offset,K=J.transparent_index;K===null&&(K=256);var xe=J.width,ie=a-xe,ge=xe,z=(J.y*a+J.x)*4,se=((J.y+J.height)*a+J.x)*4,ye=z,Ce=ie*4;J.interlaced===!0&&(Ce+=a*4*7);for(var $=8,q=0,te=be.length;q<te;++q){var Ae=be[q];if(ge===0&&(ye+=Ce,ge=xe,ye>=se&&(Ce=ie*4+a*4*($-1),ye=z+(xe+ie)*($<<1),$>>=1)),Ae===K)ye+=4;else{var _e=s[ee+Ae*3],Ee=s[ee+Ae*3+1],pe=s[ee+Ae*3+2];Q[ye++]=pe,Q[ye++]=Ee,Q[ye++]=_e,Q[ye++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(fe,Q){var J=this.frameInfo(fe),ae=J.width*J.height,be=new Uint8Array(ae);i(s,J.data_offset,be,ae);var ee=J.palette_offset,K=J.transparent_index;K===null&&(K=256);var xe=J.width,ie=a-xe,ge=xe,z=(J.y*a+J.x)*4,se=((J.y+J.height)*a+J.x)*4,ye=z,Ce=ie*4;J.interlaced===!0&&(Ce+=a*4*7);for(var $=8,q=0,te=be.length;q<te;++q){var Ae=be[q];if(ge===0&&(ye+=Ce,ge=xe,ye>=se&&(Ce=ie*4+a*4*($-1),ye=z+(xe+ie)*($<<1),$>>=1)),Ae===K)ye+=4;else{var _e=s[ee+Ae*3],Ee=s[ee+Ae*3+1],pe=s[ee+Ae*3+2];Q[ye++]=_e,Q[ye++]=Ee,Q[ye++]=pe,Q[ye++]=255}--ge}}}function i(s,o,a,l){for(var u=s[o++],h=1<<u,c=h+1,f=c+1,d=u+1,p=(1<<d)-1,m=0,g=0,v=0,E=s[o++],y=new Int32Array(4096),x=null;;){for(;m<16&&E!==0;)g|=s[o++]<<m,m+=8,E===1?E=s[o++]:--E;if(m<d)break;var b=g&p;if(g>>=d,m-=d,b===h){f=c+1,d=u+1,p=(1<<d)-1,x=null;continue}else if(b===c)break;for(var w=b<f?b:x,S=0,_=w;_>h;)_=y[_]>>8,++S;var T=_,C=v+S+(w!==b?1:0);if(C>l){console.log("Warning, gif stream longer than expected.");return}a[v++]=T,v+=S;var F=v;for(w!==b&&(a[v++]=T),_=w;S--;)_=y[_],a[--F]=_&255,_>>=8;x!==null&&f<4096&&(y[f++]=x<<8|T,f>=p+1&&d<12&&(++d,p=p<<1|1)),x=b}return v!==l&&console.log("Warning, gif stream shorter than expected."),a}try{vd.GifWriter=n,vd.GifReader=r}catch{}return vd}var M5=fK();function dK(n,t,r=i=>i){const i=Object.create(null);if(i.options=t||{},i.reviver=r,i.value="",i.entry=[],i.output=[],i.col=1,i.row=1,i.options.delimiter=i.options.delimiter===void 0?'"':t.delimiter,i.options.delimiter.length>1||i.options.delimiter.length===0)throw Error(`CSVError: delimiter must be one character [${i.options.separator}]`);if(i.options.separator=i.options.separator===void 0?",":t.separator,i.options.separator.length>1||i.options.separator.length===0)throw Error(`CSVError: separator must be one character [${i.options.separator}]`);const s=new RegExp(`${Ru(i.options.delimiter)}|${Ru(i.options.separator)}|\r
|
|\r|[^${Ru(i.options.delimiter)}${Ru(i.options.separator)}\r
]+`,"y"),o=/^(\r\n|\n|\r)$/;let a=[],l="",u=0;for(;(a=s.exec(n))!==null;)switch(l=a[0],u){case 0:switch(!0){case l===i.options.delimiter:u=3;break;case l===i.options.separator:u=0,il(i);break;case o.test(l):u=0,il(i),yd(i);break;default:i.value+=l,u=2;break}break;case 2:switch(!0){case l===i.options.separator:u=0,il(i);break;case o.test(l):u=0,il(i),yd(i);break;default:throw u=4,Error(`CSVError: Illegal state [row:${i.row}, col:${i.col}]`)}break;case 3:switch(!0){case l===i.options.delimiter:u=4;break;default:u=3,i.value+=l;break}break;case 4:switch(!0){case l===i.options.delimiter:u=3,i.value+=l;break;case l===i.options.separator:u=0,il(i);break;case o.test(l):u=0,il(i),yd(i);break;default:throw Error(`CSVError: Illegal state [row:${i.row}, col:${i.col}]`)}break}return i.entry.length!==0&&(il(i),yd(i)),i.output}function pK(n,t={},r=i=>i){const i=Object.create(null);if(i.options=t,i.options.eof=i.options.eof!==void 0?i.options.eof:!0,i.row=1,i.col=1,i.output="",i.options.delimiter=i.options.delimiter===void 0?'"':t.delimiter,i.options.delimiter.length>1||i.options.delimiter.length===0)throw Error(`CSVError: delimiter must be one character [${i.options.separator}]`);if(i.options.separator=i.options.separator===void 0?",":t.separator,i.options.separator.length>1||i.options.separator.length===0)throw Error(`CSVError: separator must be one character [${i.options.separator}]`);const s=new RegExp(`${Ru(i.options.delimiter)}|${Ru(i.options.separator)}|\r
|
|\r`);return n.forEach((o,a)=>{let l="";switch(i.col=1,o.forEach((u,h)=>{typeof u=="string"&&(u=u.replace(new RegExp(i.options.delimiter,"g"),`${i.options.delimiter}${i.options.delimiter}`),u=s.test(u)?`${i.options.delimiter}${u}${i.options.delimiter}`:u),l+=r(u,i.row,i.col),h!==o.length-1&&(l+=i.options.separator),i.col++}),!0){case i.options.eof:case(!i.options.eof&&a!==n.length-1):i.output+=`${l}
`;break;default:i.output+=`${l}`;break}i.row++}),i.output}function il(n){const t=n.options.typed?mK(n.value):n.value;n.entry.push(n.reviver(t,n.row,n.col)),n.value="",n.col++}function yd(n){n.output.push(n.entry),n.entry=[],n.row++,n.col=1}function mK(n){const t=/.\./;switch(!0){case n==="true":case n==="false":return n==="true";case t.test(n):return parseFloat(n);case isFinite(n):return parseInt(n);default:return n}}function Ru(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var gK={trailer:59};function O5(n=256){let t=0,r=new Uint8Array(n);return{get buffer(){return r.buffer},reset(){t=0},bytesView(){return r.subarray(0,t)},bytes(){return r.slice(0,t)},writeByte(s){i(t+1),r[t]=s,t++},writeBytes(s,o=0,a=s.length){i(t+a);for(let l=0;l<a;l++)r[t++]=s[l+o]},writeBytesView(s,o=0,a=s.byteLength){i(t+a),r.set(s.subarray(o,o+a),t),t+=a}};function i(s){var o=r.length;if(o>=s)return;var a=1024*1024;s=Math.max(s,o*(o<a?2:1.125)>>>0),o!=0&&(s=Math.max(s,256));let l=r;r=new Uint8Array(s),t>0&&r.set(l.subarray(0,t),0)}}var X0=12,W2=5003,vK=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function yK(n,t,r,i,s=O5(512),o=new Uint8Array(256),a=new Int32Array(W2),l=new Int32Array(W2)){let u=a.length,h=Math.max(2,i);o.fill(0),l.fill(0),a.fill(-1);let c=0,f=0,d=h+1,p=d,m=!1,g=p,v=(1<<g)-1,E=1<<d-1,y=E+1,x=E+2,b=0,w=r[0],S=0;for(let C=u;C<65536;C*=2)++S;S=8-S,s.writeByte(h),T(E);let _=r.length;for(let C=1;C<_;C++)e:{let F=r[C],k=(F<<X0)+w,D=F<<S^w;if(a[D]===k){w=l[D];break e}let N=D===0?1:u-D;for(;a[D]>=0;)if(D-=N,D<0&&(D+=u),a[D]===k){w=l[D];break e}T(w),w=F,x<1<<X0?(l[D]=x++,a[D]=k):(a.fill(-1),x=E+2,m=!0,T(E))}return T(w),T(y),s.writeByte(0),s.bytesView();function T(C){for(c&=vK[f],f>0?c|=C<<f:c=C,f+=g;f>=8;)o[b++]=c&255,b>=254&&(s.writeByte(b),s.writeBytesView(o,0,b),b=0),c>>=8,f-=8;if((x>v||m)&&(m?(g=p,v=(1<<g)-1,m=!1):(++g,v=g===X0?1<<g:(1<<g)-1)),C==y){for(;f>0;)o[b++]=c&255,b>=254&&(s.writeByte(b),s.writeBytesView(o,0,b),b=0),c>>=8,f-=8;b>0&&(s.writeByte(b),s.writeBytesView(o,0,b),b=0)}}}var bK=yK;function xK(n,t,r){return n<<8&63488|t<<2&992|r>>3}function _K(n,t,r,i){return n>>4|t&240|(r&240)<<4|(i&240)<<8}function wK(n,t,r){return n>>4<<8|t&240|r>>4}function bd(n,t,r){return n<t?t:n>r?r:n}function sp(n){return n*n}function X2(n,t,r){var i=0,s=1e100;let o=n[t],a=o.cnt;o.ac;let l=o.rc,u=o.gc,h=o.bc;for(var c=o.fw;c!=0;c=n[c].fw){let d=n[c],p=d.cnt,m=a*p/(a+p);if(!(m>=s)){var f=0;f+=m*sp(d.rc-l),!(f>=s)&&(f+=m*sp(d.gc-u),!(f>=s)&&(f+=m*sp(d.bc-h),!(f>=s)&&(s=f,i=c)))}}o.err=s,o.nn=i}function q0(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function EK(n,t){let r=t==="rgb444"?4096:65536,i=new Array(r),s=n.length;if(t==="rgba4444")for(let o=0;o<s;++o){let a=n[o],l=a>>24&255,u=a>>16&255,h=a>>8&255,c=a&255,f=_K(c,h,u,l),d=f in i?i[f]:i[f]=q0();d.rc+=c,d.gc+=h,d.bc+=u,d.ac+=l,d.cnt++}else if(t==="rgb444")for(let o=0;o<s;++o){let a=n[o],l=a>>16&255,u=a>>8&255,h=a&255,c=wK(h,u,l),f=c in i?i[c]:i[c]=q0();f.rc+=h,f.gc+=u,f.bc+=l,f.cnt++}else for(let o=0;o<s;++o){let a=n[o],l=a>>16&255,u=a>>8&255,h=a&255,c=xK(h,u,l),f=c in i?i[c]:i[c]=q0();f.rc+=h,f.gc+=u,f.bc+=l,f.cnt++}return i}function SK(n,t,r={}){let{format:i="rgb565",clearAlpha:s=!0,clearAlphaColor:o=0,clearAlphaThreshold:a=0,oneBitAlpha:l=!1}=r;if(!n||!n.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(n instanceof Uint8Array)&&!(n instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");let u=new Uint32Array(n.buffer),h=r.useSqrt!==!1,c=i==="rgba4444",f=EK(u,i),d=f.length,p=d-1,m=new Uint32Array(d+1);for(var g=0,v=0;v<d;++v){let M=f[v];if(M!=null){var E=1/M.cnt;c&&(M.ac*=E),M.rc*=E,M.gc*=E,M.bc*=E,f[g++]=M}}sp(t)/g<.022&&(h=!1);for(var v=0;v<g-1;++v)f[v].fw=v+1,f[v+1].bk=v,h&&(f[v].cnt=Math.sqrt(f[v].cnt));h&&(f[v].cnt=Math.sqrt(f[v].cnt));var y,x,b;for(v=0;v<g;++v){X2(f,v);var w=f[v].err;for(x=++m[0];x>1&&(b=x>>1,!(f[y=m[b]].err<=w));x=b)m[x]=y;m[x]=v}var S=g-t;for(v=0;v<S;){for(var _;;){var T=m[1];if(_=f[T],_.tm>=_.mtm&&f[_.nn].mtm<=_.tm)break;_.mtm==p?T=m[1]=m[m[0]--]:(X2(f,T),_.tm=v);var w=f[T].err;for(x=1;(b=x+x)<=m[0]&&(b<m[0]&&f[m[b]].err>f[m[b+1]].err&&b++,!(w<=f[y=m[b]].err));x=b)m[x]=y;m[x]=T}var C=f[_.nn],F=_.cnt,k=C.cnt,E=1/(F+k);c&&(_.ac=E*(F*_.ac+k*C.ac)),_.rc=E*(F*_.rc+k*C.rc),_.gc=E*(F*_.gc+k*C.gc),_.bc=E*(F*_.bc+k*C.bc),_.cnt+=C.cnt,_.mtm=++v,f[C.bk].fw=C.fw,f[C.fw].bk=C.bk,C.mtm=p}let D=[];var N=0;for(v=0;;++N){let M=bd(Math.round(f[v].rc),0,255),U=bd(Math.round(f[v].gc),0,255),B=bd(Math.round(f[v].bc),0,255),W=255;c&&(W=bd(Math.round(f[v].ac),0,255),l&&(W=W<=(typeof l=="number"?l:127)?0:255),s&&W<=a&&(M=U=B=o,W=0));let Z=c?[M,U,B,W]:[M,U,B];if(CK(D,Z)||D.push(Z),(v=f[v].fw)==0)break}return D}function CK(n,t){for(let r=0;r<n.length;r++){let i=n[r],s=i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2],o=i.length>=4&&t.length>=4?i[3]===t[3]:!0;if(s&&o)return!0}return!1}function AK(n,t){var r=0,i;for(i=0;i<n.length;i++){let s=n[i]-t[i];r+=s*s}return r}function TK(n,t,r=AK){let i=1/0,s=-1;for(let o=0;o<n.length;o++){let a=n[o],l=r(t,a);l<i&&(i=l,s=o)}return s}function IK(n={}){let{initialCapacity:t=4096,auto:r=!0}=n,i=O5(t),s=5003,o=new Uint8Array(256),a=new Int32Array(s),l=new Int32Array(s),u=!1;return{reset(){i.reset(),u=!1},finish(){i.writeByte(gK.trailer)},bytes(){return i.bytes()},bytesView(){return i.bytesView()},get buffer(){return i.buffer},get stream(){return i},writeHeader:h,writeFrame(c,f,d,p={}){let{transparent:m=!1,transparentIndex:g=0,delay:v=0,palette:E=null,repeat:y=0,colorDepth:x=8,dispose:b=-1}=p,w=!1;if(r?u||(w=!0,h(),u=!0):w=!!p.first,f=Math.max(0,Math.floor(f)),d=Math.max(0,Math.floor(d)),w){if(!E)throw new Error("First frame must include a { palette } option");NK(i,f,d,E,x),q2(i,E),y>=0&&FK(i,y)}let S=Math.round(v/10);DK(i,b,S,m,g);let _=!!E&&!w;kK(i,f,d,_?E:null),_&&q2(i,E),MK(i,c,f,d,x,o,a,l)}};function h(){L5(i,"GIF89a")}}function DK(n,t,r,i,s){n.writeByte(33),n.writeByte(249),n.writeByte(4),s<0&&(s=0,i=!1);var o,a;i?(o=1,a=2):(o=0,a=0),t>=0&&(a=t&7),a<<=2,n.writeByte(0|a|0|o),Ca(n,r),n.writeByte(s||0),n.writeByte(0)}function NK(n,t,r,i,s=8){let o=1,a=0,l=Kb(i.length)-1,u=o<<7|s-1<<4|a<<3|l;Ca(n,t),Ca(n,r),n.writeBytes([u,0,0])}function FK(n,t){n.writeByte(33),n.writeByte(255),n.writeByte(11),L5(n,"NETSCAPE2.0"),n.writeByte(3),n.writeByte(1),Ca(n,t),n.writeByte(0)}function q2(n,t){let r=1<<Kb(t.length);for(let i=0;i<r;i++){let s=[0,0,0];i<t.length&&(s=t[i]),n.writeByte(s[0]),n.writeByte(s[1]),n.writeByte(s[2])}}function kK(n,t,r,i){if(n.writeByte(44),Ca(n,0),Ca(n,0),Ca(n,t),Ca(n,r),i){let s=0,o=0,a=Kb(i.length)-1;n.writeByte(128|s|o|0|a)}else n.writeByte(0)}function MK(n,t,r,i,s=8,o,a,l){bK(r,i,t,s,n,o,a,l)}function Ca(n,t){n.writeByte(t&255),n.writeByte(t>>8&255)}function L5(n,t){for(var r=0;r<t.length;r++)n.writeByte(t.charCodeAt(r))}function Kb(n){return Math.max(Math.ceil(Math.log2(n)),1)}function Zb(n,t){t.blend=function(...i){this._renderer?this._renderer.blend(...i):n.Renderer2D.prototype.blend.apply(this,i)},t.copy=function(...i){let s,o,a,l,u,h,c,f,d;if(i.length===9)s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],c=i[6],f=i[7],d=i[8];else if(i.length===8)s=this,o=i[0],a=i[1],l=i[2],u=i[3],h=i[4],c=i[5],f=i[6],d=i[7];else throw new Error("Signature not supported");t._copyHelper(this,s,o,a,l,u,h,c,f,d)},t._copyHelper=(i,s,o,a,l,u,h,c,f,d)=>{const p=s.canvas.width/s.width;let m=0,g=0;s._renderer&&s._renderer.isP3D&&(m=s.width/2,g=s.height/2),i._renderer&&i._renderer.isP3D?(i.push(),i.resetMatrix(),i.noLights(),i.blendMode(i.BLEND),i.imageMode(i.CORNER),i._renderer.image(s,o+m,a+g,l,u,h,c,f,d),i.pop()):i.drawingContext.drawImage(s.canvas,p*(o+m),p*(a+g),p*l,p*u,h,c,f,d)},t.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},t.filter=function(...i){let{shader:s,operation:o,value:a,useWebGL:l}=r(...i);if(this._renderer.isP3D&&s){this._renderer.filter(s);return}if(!l&&!this._renderer.isP3D){this.canvas!==void 0?Cn.apply(this.canvas,Cn[o],a):Cn.apply(this.elt,Cn[o],a);return}!l&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?this._renderer.filter(o,a):(s?this._renderer.filterRenderer.setOperation(o,a,s):this._renderer.filterRenderer.setOperation(o,a),this._renderer.filterRenderer.applyFilter())};function r(...i){let s={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return i[0]instanceof n.Shader?(s.shader=i[0],s):(s.operation=i[0],i.length>1&&typeof i[1]=="number"&&(s.value=i[1]),i[i.length-1]===!1&&(s.useWebGL=!1),s)}t.get=function(i,s,o,a){return this._renderer.get(...arguments)},t.loadPixels=function(...i){this._renderer.loadPixels()},t.set=function(i,s,o){this._renderer.set(i,s,o)},t.updatePixels=function(i,s,o,a){this.pixels.length!==0&&this._renderer.updatePixels(i,s,o,a)}}typeof p5<"u"&&Zb(p5,p5.prototype);class Jb{#e=null;constructor(...t){if(this.constructor===Jb)throw new Error("Class is of abstract type and can't be instantiated")}}const Y0=n=>{if(Math.sqrt(n.length)%1!==0)throw new Error("Array length must be a perfect square.");return!0};let No=Array,cl=n=>Array.isArray(n);typeof Float32Array<"u"&&(No=Float32Array,cl=n=>Array.isArray(n)||n instanceof Float32Array);class Rn extends Jb{matrix;#e;constructor(...t){if(super(...t),cl(t[0])&&Y0(t[0])){const r=Math.sqrt(t[0].length);this.#e=r,this.matrix=No.from(t[0])}else typeof t[0]=="number"&&(this.#e=Number(t[0]),this.matrix=this.#t(t[0]));return this}get mat3(){if(this.#e===3)return this.matrix}get mat4(){if(this.#e===4)return this.matrix}add(t){if(this.matrix.length!==t.matrix.length)throw new Error("Matrices must be of the same dimension to add.");for(let r=0;r<this.matrix.length;r++)this.matrix[r]+=t.matrix[r];return this}setElement(t,r){return t>=0&&t<this.matrix.length&&(this.matrix[t]=r),this}reset(){return this.matrix=this.#t(this.#e),this}set(t){let r=No.from([...arguments]);return t instanceof Rn?r=No.from(t.matrix):cl(t)&&(r=No.from(t)),r.length!==this.matrix.length?(p5._friendlyError(`Expected same dimensions values but received different ${r.length}.`,"p5.Matrix.set"),this):(this.matrix=r,this)}get(){return new Rn(this.matrix)}copy(){return new Rn(this.matrix)}clone(){return this.copy()}diagonal(){const t=[];for(let r=0;r<this.#e;r++)t.push(this.matrix[r*(this.#e+1)]);return t}row(t){const r=[];for(let i=0;i<this.#e;i++)r.push(this.matrix[i*this.#e+t]);return new Fe(...r)}column(t){const r=[];for(let i=0;i<this.#e;i++)r.push(this.matrix[t*this.#e+i]);return new Fe(...r)}transpose(t){return this.#e===4?this.#r(t):this.#e===3?this.#a(t):this.#o(t)}mult(t){let r;return t===this||t===this.matrix?r=this.copy().matrix:t instanceof Rn?r=t.matrix:cl(t)&&Y0(t)?r=t:Y0(Array.from(arguments))&&(r=Array.from(arguments)),this.#e===4&&r.length===16?this.#n(r):this.#e===3&&r.length===9?this.#s(r):this.#i(r)}multiplyVec(t,r){r===void 0&&(r=t.copy());for(let i=0;i<this.#e;i++)r.values[i]=this.row(i).dot(t);return r}invert(t){if(this.#e===4)return this.#l(t);if(this.#e===3)return this.#u(t);throw new Error("Invert is not implemented for N>4 at the moment, we are working on it")}createSubMatrix3x3(){if(this.#e===4){const t=new Rn(3);return t.mat3[0]=this.matrix[0],t.mat3[1]=this.matrix[1],t.mat3[2]=this.matrix[2],t.mat3[3]=this.matrix[4],t.mat3[4]=this.matrix[5],t.mat3[5]=this.matrix[6],t.mat3[6]=this.matrix[8],t.mat3[7]=this.matrix[9],t.mat3[8]=this.matrix[10],t}else throw new Error("Matrix dimension must be 4 to create a 3x3 submatrix.")}inverseTranspose4x4({mat4:t}){if(this.#e!==3)throw new Error("This function only works with 33 matrices.");this.matrix[0]=t[0],this.matrix[1]=t[1],this.matrix[2]=t[2],this.matrix[3]=t[4],this.matrix[4]=t[5],this.matrix[5]=t[6],this.matrix[6]=t[8],this.matrix[7]=t[9],this.matrix[8]=t[10];const r=this.invert();if(r)r.transpose(this.matrix);else for(let i=0;i<9;i++)this.matrix[i]=0;return this}apply(t){let r;if(t===this||t===this.matrix)r=this.copy().matrix;else if(t instanceof Rn)r=t.matrix;else if(cl(t))r=t;else if(arguments.length===16)r=arguments;else return;const i=this.matrix,s=i[0],o=i[4],a=i[8],l=i[12];i[0]=r[0]*s+r[1]*o+r[2]*a+r[3]*l,i[4]=r[4]*s+r[5]*o+r[6]*a+r[7]*l,i[8]=r[8]*s+r[9]*o+r[10]*a+r[11]*l,i[12]=r[12]*s+r[13]*o+r[14]*a+r[15]*l;const u=i[1],h=i[5],c=i[9],f=i[13];i[1]=r[0]*u+r[1]*h+r[2]*c+r[3]*f,i[5]=r[4]*u+r[5]*h+r[6]*c+r[7]*f,i[9]=r[8]*u+r[9]*h+r[10]*c+r[11]*f,i[13]=r[12]*u+r[13]*h+r[14]*c+r[15]*f;const d=i[2],p=i[6],m=i[10],g=i[14];i[2]=r[0]*d+r[1]*p+r[2]*m+r[3]*g,i[6]=r[4]*d+r[5]*p+r[6]*m+r[7]*g,i[10]=r[8]*d+r[9]*p+r[10]*m+r[11]*g,i[14]=r[12]*d+r[13]*p+r[14]*m+r[15]*g;const v=i[3],E=i[7],y=i[11],x=i[15];return i[3]=r[0]*v+r[1]*E+r[2]*y+r[3]*x,i[7]=r[4]*v+r[5]*E+r[6]*y+r[7]*x,i[11]=r[8]*v+r[9]*E+r[10]*y+r[11]*x,i[15]=r[12]*v+r[13]*E+r[14]*y+r[15]*x,this}scale(t,r,i){return t instanceof Fe?(r=t.y,i=t.z,t=t.x):t instanceof Array&&(r=t[1],i=t[2],t=t[0]),this.matrix[0]*=t,this.matrix[1]*=t,this.matrix[2]*=t,this.matrix[3]*=t,this.matrix[4]*=r,this.matrix[5]*=r,this.matrix[6]*=r,this.matrix[7]*=r,this.matrix[8]*=i,this.matrix[9]*=i,this.matrix[10]*=i,this.matrix[11]*=i,this}rotate4x4(t,r,i,s){r instanceof Fe?(i=r.y,s=r.z,r=r.x):r instanceof Array&&(i=r[1],s=r[2],r=r[0]);const o=Math.sqrt(r*r+i*i+s*s);r*=1/o,i*=1/o,s*=1/o;const a=this.matrix[0],l=this.matrix[1],u=this.matrix[2],h=this.matrix[3],c=this.matrix[4],f=this.matrix[5],d=this.matrix[6],p=this.matrix[7],m=this.matrix[8],g=this.matrix[9],v=this.matrix[10],E=this.matrix[11],y=Math.sin(t),x=Math.cos(t),b=1-x,w=r*r*b+x,S=i*r*b+s*y,_=s*r*b-i*y,T=r*i*b-s*y,C=i*i*b+x,F=s*i*b+r*y,k=r*s*b+i*y,D=i*s*b-r*y,N=s*s*b+x;return this.matrix[0]=a*w+c*S+m*_,this.matrix[1]=l*w+f*S+g*_,this.matrix[2]=u*w+d*S+v*_,this.matrix[3]=h*w+p*S+E*_,this.matrix[4]=a*T+c*C+m*F,this.matrix[5]=l*T+f*C+g*F,this.matrix[6]=u*T+d*C+v*F,this.matrix[7]=h*T+p*C+E*F,this.matrix[8]=a*k+c*D+m*N,this.matrix[9]=l*k+f*D+g*N,this.matrix[10]=u*k+d*D+v*N,this.matrix[11]=h*k+p*D+E*N,this}translate(t){const r=t[0],i=t[1],s=t[2]||0;return this.matrix[12]+=this.matrix[0]*r+this.matrix[4]*i+this.matrix[8]*s,this.matrix[13]+=this.matrix[1]*r+this.matrix[5]*i+this.matrix[9]*s,this.matrix[14]+=this.matrix[2]*r+this.matrix[6]*i+this.matrix[10]*s,this.matrix[15]+=this.matrix[3]*r+this.matrix[7]*i+this.matrix[11]*s,this}rotateX(t){this.rotate4x4(t,1,0,0)}rotateY(t){this.rotate4x4(t,0,1,0)}rotateZ(t){this.rotate4x4(t,0,0,1)}perspective(t,r,i,s){const o=1/Math.tan(t/2),a=1/(i-s);return this.matrix[0]=o/r,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=o,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=(s+i)*a,this.matrix[11]=-1,this.matrix[12]=0,this.matrix[13]=0,this.matrix[14]=2*s*i*a,this.matrix[15]=0,this}ortho(t,r,i,s,o,a){const l=1/(t-r),u=1/(i-s),h=1/(o-a);return this.matrix[0]=-2*l,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=-2*u,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=2*h,this.matrix[11]=0,this.matrix[12]=(t+r)*l,this.matrix[13]=(s+i)*u,this.matrix[14]=(a+o)*h,this.matrix[15]=1,this}multiplyVec4(t,r,i,s){const o=new Array(4),a=this.matrix;return o[0]=a[0]*t+a[4]*r+a[8]*i+a[12]*s,o[1]=a[1]*t+a[5]*r+a[9]*i+a[13]*s,o[2]=a[2]*t+a[6]*r+a[10]*i+a[14]*s,o[3]=a[3]*t+a[7]*r+a[11]*i+a[15]*s,o}multiplyPoint({x:t,y:r,z:i}){const s=this.multiplyVec4(t,r,i,1);return new Fe(s[0],s[1],s[2])}multiplyAndNormalizePoint({x:t,y:r,z:i}){const s=this.multiplyVec4(t,r,i,1);return s[0]/=s[3],s[1]/=s[3],s[2]/=s[3],new Fe(s[0],s[1],s[2])}multiplyDirection({x:t,y:r,z:i}){const s=this.multiplyVec4(t,r,i,0);return new Fe(s[0],s[1],s[2])}multiplyVec3(t,r){return r===void 0&&(r=t.copy()),r.x=this.row(0).dot(t),r.y=this.row(1).dot(t),r.z=this.row(2).dot(t),r}#t(t){if(t===3)return new No([1,0,0,0,1,0,0,0,1]);if(t===4)return new No([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);const r=new No(t*t).fill(0);for(let i=0;i<t;i++)r[i*t+i]=1;return r}#n(t){let r=this.matrix[0],i=this.matrix[1],s=this.matrix[2],o=this.matrix[3];return this.matrix[0]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[1]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[2]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[3]=r*t[3]+i*t[7]+s*t[11]+o*t[15],r=this.matrix[4],i=this.matrix[5],s=this.matrix[6],o=this.matrix[7],this.matrix[4]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[5]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[6]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[7]=r*t[3]+i*t[7]+s*t[11]+o*t[15],r=this.matrix[8],i=this.matrix[9],s=this.matrix[10],o=this.matrix[11],this.matrix[8]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[9]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[10]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[11]=r*t[3]+i*t[7]+s*t[11]+o*t[15],r=this.matrix[12],i=this.matrix[13],s=this.matrix[14],o=this.matrix[15],this.matrix[12]=r*t[0]+i*t[4]+s*t[8]+o*t[12],this.matrix[13]=r*t[1]+i*t[5]+s*t[9]+o*t[13],this.matrix[14]=r*t[2]+i*t[6]+s*t[10]+o*t[14],this.matrix[15]=r*t[3]+i*t[7]+s*t[11]+o*t[15],this}#i(t){if(t.length!==this.matrix.length)throw new Error("Matrices must be of the same dimension to multiply.");const r=new No(this.matrix.length).fill(0);for(let i=0;i<this.#e;i++)for(let s=0;s<this.#e;s++)for(let o=0;o<this.#e;o++)r[i*this.#e+s]+=this.matrix[i*this.#e+o]*t[o*this.#e+s];return this.matrix=r,this}#s(t){let r=this.mat3[0],i=this.mat3[1],s=this.mat3[2];return this.mat3[0]=r*t[0]+i*t[3]+s*t[6],this.mat3[1]=r*t[1]+i*t[4]+s*t[7],this.mat3[2]=r*t[2]+i*t[5]+s*t[8],r=this.mat3[3],i=this.mat3[4],s=this.mat3[5],this.mat3[3]=r*t[0]+i*t[3]+s*t[6],this.mat3[4]=r*t[1]+i*t[4]+s*t[7],this.mat3[5]=r*t[2]+i*t[5]+s*t[8],r=this.mat3[6],i=this.mat3[7],s=this.mat3[8],this.mat3[6]=r*t[0]+i*t[3]+s*t[6],this.mat3[7]=r*t[1]+i*t[4]+s*t[7],this.mat3[8]=r*t[2]+i*t[5]+s*t[8],this}#o(){const t=this.#e;for(let r=0;r<t;r++)for(let i=0;i<t;i++)this.matrix[r*t+i]=this.matrix[i*t+r];return this}#r(t){console.log("====> 4x4");let r,i,s,o,a,l;return t instanceof Rn?(r=t.matrix[1],i=t.matrix[2],s=t.matrix[3],o=t.matrix[6],a=t.matrix[7],l=t.matrix[11],this.matrix[0]=t.matrix[0],this.matrix[1]=t.matrix[4],this.matrix[2]=t.matrix[8],this.matrix[3]=t.matrix[12],this.matrix[4]=r,this.matrix[5]=t.matrix[5],this.matrix[6]=t.matrix[9],this.matrix[7]=t.matrix[13],this.matrix[8]=i,this.matrix[9]=o,this.matrix[10]=t.matrix[10],this.matrix[11]=t.matrix[14],this.matrix[12]=s,this.matrix[13]=a,this.matrix[14]=l,this.matrix[15]=t.matrix[15]):cl(t)&&(r=t[1],i=t[2],s=t[3],o=t[6],a=t[7],l=t[11],this.matrix[0]=t[0],this.matrix[1]=t[4],this.matrix[2]=t[8],this.matrix[3]=t[12],this.matrix[4]=r,this.matrix[5]=t[5],this.matrix[6]=t[9],this.matrix[7]=t[13],this.matrix[8]=i,this.matrix[9]=o,this.matrix[10]=t[10],this.matrix[11]=t[14],this.matrix[12]=s,this.matrix[13]=a,this.matrix[14]=l,this.matrix[15]=t[15]),this}#a(t){t===void 0&&(t=this.mat3);const r=t[1],i=t[2],s=t[5];return this.mat3[0]=t[0],this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=r,this.mat3[4]=t[4],this.mat3[5]=t[7],this.mat3[6]=i,this.mat3[7]=s,this.mat3[8]=t[8],this}#l(t){let r,i,s,o,a,l,u,h,c,f,d,p,m,g,v,E;t instanceof Rn?(r=t.matrix[0],i=t.matrix[1],s=t.matrix[2],o=t.matrix[3],a=t.matrix[4],l=t.matrix[5],u=t.matrix[6],h=t.matrix[7],c=t.matrix[8],f=t.matrix[9],d=t.matrix[10],p=t.matrix[11],m=t.matrix[12],g=t.matrix[13],v=t.matrix[14],E=t.matrix[15]):cl(t)&&(r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],f=t[9],d=t[10],p=t[11],m=t[12],g=t[13],v=t[14],E=t[15]);const y=r*l-i*a,x=r*u-s*a,b=r*h-o*a,w=i*u-s*l,S=i*h-o*l,_=s*h-o*u,T=c*g-f*m,C=c*v-d*m,F=c*E-p*m,k=f*v-d*g,D=f*E-p*g,N=d*E-p*v;let M=y*N-x*D+b*k+w*F-S*C+_*T;return M?(M=1/M,this.matrix[0]=(l*N-u*D+h*k)*M,this.matrix[1]=(s*D-i*N-o*k)*M,this.matrix[2]=(g*_-v*S+E*w)*M,this.matrix[3]=(d*S-f*_-p*w)*M,this.matrix[4]=(u*F-a*N-h*C)*M,this.matrix[5]=(r*N-s*F+o*C)*M,this.matrix[6]=(v*b-m*_-E*x)*M,this.matrix[7]=(c*_-d*b+p*x)*M,this.matrix[8]=(a*D-l*F+h*T)*M,this.matrix[9]=(i*F-r*D-o*T)*M,this.matrix[10]=(m*S-g*b+E*y)*M,this.matrix[11]=(f*b-c*S-p*y)*M,this.matrix[12]=(l*C-a*k-u*T)*M,this.matrix[13]=(r*k-i*C+s*T)*M,this.matrix[14]=(g*x-m*w-v*y)*M,this.matrix[15]=(c*w-f*x+d*y)*M,this):null}#u(){const t=this.mat3[0],r=this.mat3[1],i=this.mat3[2],s=this.mat3[3],o=this.mat3[4],a=this.mat3[5],l=this.mat3[6],u=this.mat3[7],h=this.mat3[8],c=h*o-a*u,f=-h*s+a*l,d=u*s-o*l;let p=t*c+r*f+i*d;return p?(p=1/p,this.mat3[0]=c*p,this.mat3[1]=(-h*r+i*u)*p,this.mat3[2]=(a*r-i*o)*p,this.mat3[3]=f*p,this.mat3[4]=(h*t-i*l)*p,this.mat3[5]=(-a*t+i*s)*p,this.mat3[6]=d*p,this.mat3[7]=(-u*t+r*l)*p,this.mat3[8]=(o*t-r*s)*p,this):null}#c(){if(this.#e!==4)throw new Error("Determinant is only implemented for 4x4 matrices. We are working on it.");const t=this.matrix[0]*this.matrix[5]-this.matrix[1]*this.matrix[4],r=this.matrix[0]*this.matrix[6]-this.matrix[2]*this.matrix[4],i=this.matrix[0]*this.matrix[7]-this.matrix[3]*this.matrix[4],s=this.matrix[1]*this.matrix[6]-this.matrix[2]*this.matrix[5],o=this.matrix[1]*this.matrix[7]-this.matrix[3]*this.matrix[5],a=this.matrix[2]*this.matrix[7]-this.matrix[3]*this.matrix[6],l=this.matrix[8]*this.matrix[13]-this.matrix[9]*this.matrix[12],u=this.matrix[8]*this.matrix[14]-this.matrix[10]*this.matrix[12],h=this.matrix[8]*this.matrix[15]-this.matrix[11]*this.matrix[12],c=this.matrix[9]*this.matrix[14]-this.matrix[10]*this.matrix[13],f=this.matrix[9]*this.matrix[15]-this.matrix[11]*this.matrix[13],d=this.matrix[10]*this.matrix[15]-this.matrix[11]*this.matrix[14];return t*d-r*f+i*c+s*h-o*u+a*l}}function P5(n,t){n.Matrix=Rn}typeof p5<"u"&&P5(p5,p5.prototype);class dl{constructor(t=128){this.length=0,this.data=new Float32Array(t),this.initialLength=t}dataArray(){return this.subArray(0,this.length)}clear(){this.length=0}rescale(){if(this.length<this.data.length/2){const t=1<<Math.ceil(Math.log2(this.length)),r=new Float32Array(t);r.set(this.data.subarray(0,this.length),0),this.data=r}}reset(){this.clear(),this.data=new Float32Array(this.initialLength)}push(...t){this.ensureLength(this.length+t.length),this.data.set(t,this.length),this.length+=t.length}slice(t,r){return this.data.slice(t,Math.min(r,this.length))}subArray(t,r){return this.data.subarray(t,Math.min(r,this.length))}ensureLength(t){for(;this.data.length<t;){const r=new Float32Array(this.data.length*2);r.set(this.data,0),this.data=r}}}function R5(n,t){n.DataArray=dl}typeof p5<"u"&&R5(p5,p5.prototype);class zr{constructor(t,r,i,s){this.renderer=s,this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new dl,this.lineTangentsIn=new dl,this.lineTangentsOut=new dl,this.lineSides=new dl,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.userVertexProperties={},this.lineVertexColors=new dl,this.detailX=t!==void 0?t:1,this.detailY=r!==void 0?r:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.gid=`_p5_Geometry_${zr.nextId}`,zr.nextId++,i instanceof Function&&i.call(this)}calculateBoundingBox(){if(this.boundingBoxCache)return this.boundingBoxCache;let t=new Fe(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),r=new Fe(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE);for(let o=0;o<this.vertices.length;o++){let a=this.vertices[o];t.x=Math.min(t.x,a.x),t.y=Math.min(t.y,a.y),t.z=Math.min(t.z,a.z),r.x=Math.max(r.x,a.x),r.y=Math.max(r.y,a.y),r.z=Math.max(r.z,a.z)}let i=new Fe(r.x-t.x,r.y-t.y,r.z-t.z),s=new Fe((t.x+r.x)/2,(t.y+r.y)/2,(t.z+r.z)/2);return this.boundingBoxCache={min:t,max:r,size:i,offset:s},this.boundingBoxCache}reset(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0;for(const t in this.userVertexProperties)this.userVertexProperties[t].delete();this.userVertexProperties={},this.dirtyFlags={}}hasFillTransparency(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(let t=0;t<this.vertexColors.length;t+=4)if(this.vertexColors[t+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}hasStrokeTransparency(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(let t=0;t<this.lineVertexColors.length;t+=4)if(this.lineVertexColors[t+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}clearColors(){return this.vertexColors=[],this}saveObj(t="model.obj"){let r="";if(this.vertices.forEach(s=>{r+=`v ${s.x} ${s.y} ${s.z}
`}),this.uvs&&this.uvs.length>0)for(let s=0;s<this.uvs.length;s+=2)r+=`vt ${this.uvs[s]} ${this.uvs[s+1]}
`;this.vertexNormals&&this.vertexNormals.length>0&&this.vertexNormals.forEach(s=>{r+=`vn ${s.x} ${s.y} ${s.z}
`}),this.faces.forEach(s=>{let o="f";s.forEach(a=>{o+=" ",o+=a+1,(this.vertexNormals.length>0||this.uvs.length>0)&&(o+="/",this.uvs.length>0&&(o+=a+1),o+="/",this.vertexNormals.length>0&&(o+=a+1))}),r+=o+`
`});const i=new Blob([r],{type:"text/plain"});Jh(i,t,"obj")}saveStl(t="model.stl",{binary:r=!1}={}){let i,s=t.substring(0,t.lastIndexOf(".")),o=[];for(let l of this.faces){const u=Fe.sub(this.vertices[l[1]],this.vertices[l[0]]),h=Fe.sub(this.vertices[l[2]],this.vertices[l[0]]),c=u.y*h.z-u.z*h.y,f=u.z*h.x-u.x*h.z,d=u.x*h.y-u.y*h.x;o.push(new Fe(c,f,d).normalize())}if(r){let l=80;const u=this.faces.length*2+this.faces.length*3*4*4+80+4,h=new ArrayBuffer(u);i=new DataView(h),i.setUint32(l,this.faces.length,!0),l+=4;for(const[c,f]of Object.entries(this.faces)){const d=o[c];i.setFloat32(l,d.x,!0),l+=4,i.setFloat32(l,d.y,!0),l+=4,i.setFloat32(l,d.z,!0),l+=4;for(let p of f){const m=this.vertices[p];i.setFloat32(l,m.x,!0),l+=4,i.setFloat32(l,m.y,!0),l+=4,i.setFloat32(l,m.z,!0),l+=4}i.setUint16(l,0,!0),l+=2}}else{i="solid "+s+`
`;for(const[l,u]of Object.entries(this.faces)){const h=o[l];i+=" facet norm "+h.x+" "+h.y+" "+h.z+`
`,i+=`  outer loop
`;for(let c of u){const f=this.vertices[c];i+="   vertex "+f.x+" "+f.y+" "+f.z+`
`}i+=`  endloop
`,i+=` endfacet
`}i+="endsolid "+s+`
`}const a=new Blob([i],{type:"text/plain"});Jh(a,t,"stl")}flipU(){this.uvs=this.uvs.flat().map((t,r)=>r%2===0?1-t:t)}flipV(){this.uvs=this.uvs.flat().map((t,r)=>r%2===0?t:1-t)}computeFaces(){this.faces.length=0;const t=this.detailX+1;let r,i,s,o;for(let a=0;a<this.detailY;a++)for(let l=0;l<this.detailX;l++)r=a*t+l,i=a*t+l+1,s=(a+1)*t+l+1,o=(a+1)*t+l,this.faces.push([r,i,o]),this.faces.push([o,i,s]);return this}_getFaceNormal(t){const r=this.faces[t],i=this.vertices[r[0]],s=this.vertices[r[1]],o=this.vertices[r[2]],a=Fe.sub(s,i),l=Fe.sub(o,i),u=Fe.cross(a,l),h=Fe.mag(u);let c=h/(Fe.mag(a)*Fe.mag(l));return c===0||isNaN(c)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),u):(c>1&&(c=1),u.mult(Math.asin(c)/h))}computeNormals(t=LN,{roundToPrecision:r=3}={}){const i=this.vertexNormals;let s=this.vertices;const o=this.faces;let a;if(t===PN){const l={},u=[],h=Math.pow(10,r),c=d=>Math.round(d*h)/h,f=d=>`${c(d.x)},${c(d.y)},${c(d.z)}`;for(let d=0;d<s.length;d++){const p=s[d],m=f(p);l[m]===void 0&&(l[m]=u.length,u.push(p))}o.forEach(d=>{for(let p=0;p<3;++p){const m=d[p],g=s[m],v=f(g);d[p]=l[v]}}),this.edges.forEach(d=>{for(let p=0;p<2;++p){const m=d[p],g=s[m],v=f(g);d[p]=l[v]}}),this.vertices=s=u}for(i.length=0,a=0;a<s.length;++a)i.push(new Fe);for(o.forEach((l,u)=>{const h=this._getFaceNormal(u);for(let c=0;c<3;++c){const f=l[c];i[f].add(h)}}),a=0;a<s.length;++a)i[a].normalize();return this}averageNormals(){for(let t=0;t<=this.detailY;t++){const r=this.detailX+1;let i=Fe.add(this.vertexNormals[t*r],this.vertexNormals[t*r+this.detailX]);i=Fe.div(i,2),this.vertexNormals[t*r]=i,this.vertexNormals[t*r+this.detailX]=i}return this}averagePoleNormals(){let t=new Fe(0,0,0);for(let r=0;r<this.detailX;r++)t.add(this.vertexNormals[r]);t=Fe.div(t,this.detailX);for(let r=0;r<this.detailX;r++)this.vertexNormals[r]=t;t=new Fe(0,0,0);for(let r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)t.add(this.vertexNormals[r]);t=Fe.div(t,this.detailX);for(let r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)this.vertexNormals[r]=t;return this}_makeTriangleEdges(){this.edges.length=0;for(let t=0;t<this.faces.length;t++)this.edges.push([this.faces[t][0],this.faces[t][1]]),this.edges.push([this.faces[t][1],this.faces[t][2]]),this.edges.push([this.faces[t][2],this.faces[t][0]]);return this}makeEdgesFromFaces(){this._makeTriangleEdges()}_edgesToVertices(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();const t=new Map,r=new Set;let i;for(let s=0;s<this.edges.length;s++){const o=this.edges[s-1],a=this.edges[s],l=this.vertices[a[0]],u=this.vertices[a[1]],h=this.vertexStrokeColors.length>0&&o?this.vertexStrokeColors.slice(o[1]*4,(o[1]+1)*4):[0,0,0,0],c=this.vertexStrokeColors.length>0?this.vertexStrokeColors.slice(a[0]*4,(a[0]+1)*4):[0,0,0,0],f=this.vertexStrokeColors.length>0?this.vertexStrokeColors.slice(a[1]*4,(a[1]+1)*4):[0,0,0,0],d=u.copy().sub(l).normalize(),p=d.magSq()>0;if(p&&this._addSegment(l,u,c,f,d),!this.renderer?._simpleLines){if(s>0&&o[1]===a[0])r.has(a[0])||(r.add(a[0]),t.delete(a[0]),i&&p&&d.dot(i)<1-1e-8&&this._addJoin(l,i,d,c));else{if(p&&!r.has(a[0])){const m=t.get(a[0]);m?(this._addJoin(l,m.dir,d,c),t.delete(a[0]),r.add(a[0])):t.set(a[0],{point:l,dir:d.copy().mult(-1),color:c})}if(i&&!r.has(o[1])){const m=t.get(o[1]);m?(this._addJoin(this.vertices[o[1]],i,m.dir.copy().mult(-1),h),t.delete(o[1]),r.add(o[1])):t.set(o[1],{point:this.vertices[o[1]],dir:i,color:h}),i=void 0}}if(s===this.edges.length-1&&!r.has(a[1])){const m=t.get(a[1]);m?(this._addJoin(u,d,m.dir.copy().mult(-1),f),t.delete(a[1]),r.add(a[1])):t.set(a[1],{point:u,dir:d,color:f})}p&&(i=d)}}for(const{point:s,dir:o,color:a}of t.values())this._addCap(s,o,a);return this}_addSegment(t,r,i,s,o){const a=t.array(),l=r.array(),u=o.array();this.lineSides.push(1,1,-1,1,-1,-1);for(const h of[this.lineTangentsIn,this.lineTangentsOut])for(let c=0;c<6;c++)h.push(...u);return this.lineVertices.push(...a,...l,...a,...l,...l,...a),this.renderer?._simpleLines||this.lineVertexColors.push(...i,...s,...i,...s,...s,...i),this}_addCap(t,r,i){const s=t.array(),o=r.array(),a=[0,0,0];for(let l=0;l<6;l++)this.lineVertices.push(...s),this.lineTangentsIn.push(...o),this.lineTangentsOut.push(...a),this.lineVertexColors.push(...i);return this.lineSides.push(-1,2,-2,1,2,-1),this}_addJoin(t,r,i,s){const o=t.array(),a=r.array(),l=i.array();for(let u=0;u<12;u++)this.lineVertices.push(...o),this.lineTangentsIn.push(...a),this.lineTangentsOut.push(...l),this.lineVertexColors.push(...s);return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}normalize(){if(this.vertices.length>0){const t=this.vertices[0].copy(),r=this.vertices[0].copy();for(let l=0;l<this.vertices.length;l++)t.x=Math.max(t.x,this.vertices[l].x),r.x=Math.min(r.x,this.vertices[l].x),t.y=Math.max(t.y,this.vertices[l].y),r.y=Math.min(r.y,this.vertices[l].y),t.z=Math.max(t.z,this.vertices[l].z),r.z=Math.min(r.z,this.vertices[l].z);const i=Fe.lerp(t,r,.5),s=Fe.sub(t,r),a=200/Math.max(Math.max(s.x,s.y),s.z);for(let l=0;l<this.vertices.length;l++)this.vertices[l].sub(i),this.vertices[l].mult(a)}return this}vertexProperty(t,r,i){let s;this.userVertexProperties[t]||(s=this.userVertexProperties[t]=this._userVertexPropertyHelper(t,r,i)),s=this.userVertexProperties[t],i?s.pushDirect(r):(s.setCurrentData(r),s.pushCurrentData())}_userVertexPropertyHelper(t,r,i){const s=this,o=this.userVertexProperties[t]={name:t,dataSize:i||(r.length?r.length:1),geometry:s,getName(){return this.name},getCurrentData(){return this.currentData===void 0&&(this.currentData=new Array(this.getDataSize()).fill(0)),this.currentData},getDataSize(){return this.dataSize},getSrcName(){return this.name.concat("Src")},getDstName(){return this.name.concat("Buffer")},getSrcArray(){const a=this.getSrcName();return this.geometry[a]},setCurrentData(a){a.length&&a.length,this.currentData=a},pushCurrentData(){const a=this.getCurrentData();this.pushDirect(a)},pushDirect(a){a.length?this.getSrcArray().push(...a):this.getSrcArray().push(a)},resetSrcArray(){this.geometry[this.getSrcName()]=[]},delete(){const a=this.getSrcName();delete this.geometry[a],delete this}};return this[o.getSrcName()]=[],this.userVertexProperties[t]}}zr.nextId=0;function B5(n,t){n.Geometry=zr}typeof p5<"u"&&B5(p5,p5.prototype);class Qh{constructor(t){this.renderer=t,t._pInst.push(),this.identityMatrix=new Rn(4),t.states.setValue("uModelMatrix",new Rn(4)),this.geometry=new zr(void 0,void 0,void 0,this.renderer),this.geometry.gid=`_p5_GeometryBuilder_${Qh.nextGeometryId}`,Qh.nextGeometryId++,this.hasTransform=!1}transformVertices(t){return this.hasTransform?t.map(r=>this.renderer.states.uModelMatrix.multiplyPoint(r)):t}transformNormals(t){return this.hasTransform?t.map(r=>this.renderer.scratchMat3.multiplyVec(r)):t}addGeometry(t){this.hasTransform=!this.renderer.states.uModelMatrix.mat4.every((l,u)=>l===this.identityMatrix.mat4[u]),this.hasTransform&&this.renderer.scratchMat3.inverseTranspose4x4(this.renderer.states.uModelMatrix);let r=this.geometry.vertices.length;this.geometry.vertices.push(...this.transformVertices(t.vertices)),this.geometry.vertexNormals.push(...this.transformNormals(t.vertexNormals)),this.geometry.uvs.push(...t.uvs);const i=t.userVertexProperties,s=this.geometry.userVertexProperties,o=this.geometry.vertices.length-t.vertices.length;for(const l in s){if(l in i)continue;const u=s[l],c=u.getDataSize()*t.vertices.length,f=Array(c).fill(0);u.pushDirect(f)}for(const l in i){const u=i[l],h=u.getSrcArray(),c=u.getDataSize();if(o>0&&!(l in s)){const f=c*o,d=Array(f).fill(0);this.geometry.vertexProperty(l,d,c)}this.geometry.vertexProperty(l,h,c)}this.renderer.states.fillColor&&this.geometry.faces.push(...t.faces.map(l=>l.map(u=>u+r))),this.renderer.states.strokeColor&&this.geometry.edges.push(...t.edges.map(l=>l.map(u=>u+r)));const a=[...t.vertexColors];for(;a.length<t.vertices.length*4;)a.push(...this.renderer.states.curFillColor);this.geometry.vertexColors.push(...a)}addImmediate(t,r,{validateFaces:i=!1}={}){const s=[];if(this.renderer.states.fillColor){if(r===zh||r===Gh)for(let o=2;o<t.vertices.length;o++)o%2===0?s.push([o,o-1,o-2]):s.push([o,o-2,o-1]);else if(r===ng)for(let o=2;o<t.vertices.length;o++)s.push([0,o-1,o]);else if(r===Dl)for(let o=0;o<t.vertices.length;o+=3)(!i||t.vertices[o].copy().sub(t.vertices[o+1]).cross(t.vertices[o].copy().sub(t.vertices[o+2])).magSq()>0)&&s.push([o,o+1,o+2])}this.addGeometry(Object.assign({},t,{faces:s}))}addRetained(t){this.addGeometry(t)}finish(){return this.renderer._pInst.pop(),this.geometry}}Qh.nextGeometryId=0;class qu{constructor(t,r,i,s){this.w=t,this.vec=new Fe(r,i,s)}static fromAxisAngle(t,r,i,s){const o=Math.cos(t/2),a=new Fe(r,i,s).normalize().mult(Math.sin(t/2));return new qu(o,a.x,a.y,a.z)}conjugate(){return new qu(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}multiply(t){return new qu(this.w*t.w-this.vec.x*t.vec.x-this.vec.y*t.vec.y-this.vec.z-t.vec.z,this.w*t.vec.x+this.vec.x*t.w+this.vec.y*t.vec.z-this.vec.z*t.vec.y,this.w*t.vec.y-this.vec.x*t.vec.z+this.vec.y*t.w+this.vec.z*t.vec.x,this.w*t.vec.z+this.vec.x*t.vec.y-this.vec.y*t.vec.x+this.vec.z*t.w)}rotateVector(t){return Fe.mult(t,this.w*this.w-this.vec.dot(this.vec)).add(Fe.mult(this.vec,2*t.dot(this.vec))).add(Fe.mult(this.vec,2*this.w).cross(t)).clampToZero()}rotateBy(t){return t.multiply(this).multiply(t.conjugate()).vec.clampToZero()}}function U5(n,t){n.Quat=qu}typeof p5<"u"&&U5(p5,p5.prototype);class wi{constructor(t,r,i,s,o,a){this.size=t,this.src=r,this.dst=i,this.attr=s,this._renderer=o,this.map=a}_prepareBuffer(t,r){const i=r.attributes,s=this._renderer.GL,o=this._renderer._getOrMakeCachedBuffers(t),a=i[this.attr];if(!a)return;let l=o[this.dst];const u=t[this.src];if(u&&u.length>0){const h=!l;if(h&&(o[this.dst]=l=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,l),h||t.dirtyFlags[this.src]!==!1){const c=this.map,f=c?c(u):u;this._renderer._bindBuffer(l,s.ARRAY_BUFFER,f),t.dirtyFlags[this.src]=!1}r.enableAttrib(a,this.size)}else{const h=a.location;if(h===-1||!this._renderer.registerEnabled.has(h))return;s.disableVertexAttribArray(h),this._renderer.registerEnabled.delete(h)}}}function V5(n,t){n.RenderBuffer=wi}typeof p5<"u"&&V5(p5,p5.prototype);var op={exports:{}},Y2=op.exports,K2;function OK(){return K2||(K2=1,(function(n){var t;function r(L,V){return L.b===V.b&&L.a===V.a}function i(L,V){return L.b<V.b||L.b===V.b&&L.a<=V.a}function s(L,V,ne){var he=V.b-L.b,me=ne.b-V.b;return 0<he+me?he<me?V.a-L.a+he/(he+me)*(L.a-ne.a):V.a-ne.a+me/(he+me)*(ne.a-L.a):0}function o(L,V,ne){var he=V.b-L.b,me=ne.b-V.b;return 0<he+me?(V.a-ne.a)*he+(V.a-L.a)*me:0}function a(L,V){return L.a<V.a||L.a===V.a&&L.b<=V.b}function l(L,V,ne){var he=V.a-L.a,me=ne.a-V.a;return 0<he+me?he<me?V.b-L.b+he/(he+me)*(L.b-ne.b):V.b-ne.b+me/(he+me)*(ne.b-L.b):0}function u(L,V,ne){var he=V.a-L.a,me=ne.a-V.a;return 0<he+me?(V.b-ne.b)*he+(V.b-L.b)*me:0}function h(L){return i(L.b.a,L.a)}function c(L){return i(L.a,L.b.a)}function f(L,V,ne,he){return L=0>L?0:L,ne=0>ne?0:ne,L<=ne?ne===0?(V+he)/2:V+L/(L+ne)*(he-V):he+ne/(L+ne)*(V-he)}function d(L){var V=E(L.b);return x(V,L.c),x(V.b,L.c),b(V,L.a),V}function p(L,V){var ne=!1,he=!1;L!==V&&(V.a!==L.a&&(he=!0,S(V.a,L.a)),V.d!==L.d&&(ne=!0,_(V.d,L.d)),y(V,L),he||(x(V,L.a),L.a.c=L),ne||(b(V,L.d),L.d.a=L))}function m(L){var V=L.b,ne=!1;L.d!==L.b.d&&(ne=!0,_(L.d,L.b.d)),L.c===L?S(L.a,null):(L.b.d.a=_e(L),L.a.c=L.c,y(L,_e(L)),ne||b(L,L.d)),V.c===V?(S(V.a,null),_(V.d,null)):(L.d.a=_e(V),V.a.c=V.c,y(V,_e(V))),w(L)}function g(L){var V=E(L),ne=V.b;return y(V,L.e),V.a=L.b.a,x(ne,V.a),V.d=ne.d=L.d,V=V.b,y(L.b,_e(L.b)),y(L.b,V),L.b.a=V.a,V.b.a.c=V.b,V.b.d=L.b.d,V.f=L.f,V.b.f=L.b.f,V}function v(L,V){var ne=!1,he=E(L),me=he.b;return V.d!==L.d&&(ne=!0,_(V.d,L.d)),y(he,L.e),y(me,V),he.a=L.b.a,me.a=V.a,he.d=me.d=L.d,L.d.a=me,ne||b(he,L.d),he}function E(L){var V=new Ae,ne=new Ae,he=L.b.h;return ne.h=he,he.b.h=V,V.h=L,L.b.h=ne,V.b=ne,V.c=V,V.e=ne,ne.b=V,ne.c=ne,ne.e=V}function y(L,V){var ne=L.c,he=V.c;ne.b.e=V,he.b.e=L,L.c=he,V.c=ne}function x(L,V){var ne=V.f,he=new pe(V,ne);ne.e=he,V.f=he,ne=he.c=L;do ne.a=he,ne=ne.c;while(ne!==L)}function b(L,V){var ne=V.d,he=new te(V,ne);ne.b=he,V.d=he,he.a=L,he.c=V.c,ne=L;do ne.d=he,ne=ne.e;while(ne!==L)}function w(L){var V=L.h;L=L.b.h,V.b.h=L,L.b.h=V}function S(L,V){var ne=L.c,he=ne;do he.a=V,he=he.c;while(he!==ne);ne=L.f,he=L.e,he.f=ne,ne.e=he}function _(L,V){var ne=L.a,he=ne;do he.d=V,he=he.e;while(he!==ne);ne=L.d,he=L.b,he.d=ne,ne.b=he}function T(L){var V=0;return Math.abs(L[1])>Math.abs(L[0])&&(V=1),Math.abs(L[2])>Math.abs(L[V])&&(V=2),V}var C=4*1e150;function F(L,V){L.f+=V.f,L.b.f+=V.b.f}function k(L,V,ne){return L=L.a,V=V.a,ne=ne.a,V.b.a===L?ne.b.a===L?i(V.a,ne.a)?0>=o(ne.b.a,V.a,ne.a):0<=o(V.b.a,ne.a,V.a):0>=o(ne.b.a,L,ne.a):ne.b.a===L?0<=o(V.b.a,L,V.a):(V=s(V.b.a,L,V.a),L=s(ne.b.a,L,ne.a),V>=L)}function D(L){L.a.i=null;var V=L.e;V.a.c=V.c,V.c.a=V.a,L.e=null}function N(L,V){m(L.a),L.c=!1,L.a=V,V.i=L}function M(L){var V=L.a.a;do L=Ue(L);while(L.a.a===V);return L.c&&(V=v(je(L).a.b,L.a.e),N(L,V),L=Ue(L)),L}function U(L,V,ne){var he=new Pe;return he.a=ne,he.e=z(L.f,V.e,he),ne.i=he}function B(L,V){switch(L.s){case 100130:return(V&1)!==0;case 100131:return V!==0;case 100132:return 0<V;case 100133:return 0>V;case 100134:return 2<=V||-2>=V}return!1}function W(L){var V=L.a,ne=V.d;ne.c=L.d,ne.a=V,D(L)}function Z(L,V,ne){for(L=V,V=V.a;L!==ne;){L.c=!1;var he=je(L),me=he.a;if(me.a!==V.a){if(!he.c){W(L);break}me=v(V.c.b,me.b),N(he,me)}V.c!==me&&(p(_e(me),me),p(V,me)),W(L),V=he.a,L=he}return V}function fe(L,V,ne,he,me,Ie){var Te=!0;do U(L,V,ne.b),ne=ne.c;while(ne!==he);for(me===null&&(me=je(V).a.b.c);he=je(V),ne=he.a.b,ne.a===me.a;)ne.c!==me&&(p(_e(ne),ne),p(_e(me),ne)),he.f=V.f-ne.f,he.d=B(L,he.f),V.b=!0,!Te&&be(L,V)&&(F(ne,me),D(V),m(me)),Te=!1,V=he,me=ne;V.b=!0,Ie&&K(L,V)}function Q(L,V,ne,he,me){var Ie=[V.g[0],V.g[1],V.g[2]];V.d=null,V.d=L.o&&L.o(Ie,ne,he,L.c)||null,V.d===null&&(me?L.n||(q(L,100156),L.n=!0):V.d=ne[0])}function J(L,V,ne){var he=[null,null,null,null];he[0]=V.a.d,he[1]=ne.a.d,Q(L,V.a,he,[.5,.5,0,0],!1),p(V,ne)}function ae(L,V,ne,he,me){var Ie=Math.abs(V.b-L.b)+Math.abs(V.a-L.a),Te=Math.abs(ne.b-L.b)+Math.abs(ne.a-L.a),qe=me+1;he[me]=.5*Te/(Ie+Te),he[qe]=.5*Ie/(Ie+Te),L.g[0]+=he[me]*V.g[0]+he[qe]*ne.g[0],L.g[1]+=he[me]*V.g[1]+he[qe]*ne.g[1],L.g[2]+=he[me]*V.g[2]+he[qe]*ne.g[2]}function be(L,V){var ne=je(V),he=V.a,me=ne.a;if(i(he.a,me.a)){if(0<o(me.b.a,he.a,me.a))return!1;if(!r(he.a,me.a))g(me.b),p(he,_e(me)),V.b=ne.b=!0;else if(he.a!==me.a){var ne=L.e,Ie=he.a.h;if(0<=Ie){var ne=ne.b,Te=ne.d,qe=ne.e,et=ne.c,vt=et[Ie];Te[vt]=Te[ne.a],et[Te[vt]]=vt,vt<=--ne.a&&(1>=vt||i(qe[Te[vt>>1]],qe[Te[vt]])?Se(ne,vt):Ne(ne,vt)),qe[Ie]=null,et[Ie]=ne.b,ne.b=Ie}else for(ne.c[-(Ie+1)]=null;0<ne.a&&ne.c[ne.d[ne.a-1]]===null;)--ne.a;J(L,_e(me),he)}}else{if(0>o(he.b.a,me.a,he.a))return!1;Ue(V).b=V.b=!0,g(he.b),p(_e(me),he)}return!0}function ee(L,V){var ne=je(V),he=V.a,me=ne.a,Ie=he.a,Te=me.a,qe=he.b.a,et=me.b.a,vt=new pe;if(o(qe,L.a,Ie),o(et,L.a,Te),Ie===Te||Math.min(Ie.a,qe.a)>Math.max(Te.a,et.a))return!1;if(i(Ie,Te)){if(0<o(et,Ie,Te))return!1}else if(0>o(qe,Te,Ie))return!1;var hn=qe,O=Ie,H=et,j=Te,G,de;if(i(hn,O)||(G=hn,hn=O,O=G),i(H,j)||(G=H,H=j,j=G),i(hn,H)||(G=hn,hn=H,H=G,G=O,O=j,j=G),i(H,O)?i(O,j)?(G=s(hn,H,O),de=s(H,O,j),0>G+de&&(G=-G,de=-de),vt.b=f(G,H.b,de,O.b)):(G=o(hn,H,O),de=-o(hn,j,O),0>G+de&&(G=-G,de=-de),vt.b=f(G,H.b,de,j.b)):vt.b=(H.b+O.b)/2,a(hn,O)||(G=hn,hn=O,O=G),a(H,j)||(G=H,H=j,j=G),a(hn,H)||(G=hn,hn=H,H=G,G=O,O=j,j=G),a(H,O)?a(O,j)?(G=l(hn,H,O),de=l(H,O,j),0>G+de&&(G=-G,de=-de),vt.a=f(G,H.a,de,O.a)):(G=u(hn,H,O),de=-u(hn,j,O),0>G+de&&(G=-G,de=-de),vt.a=f(G,H.a,de,j.a)):vt.a=(H.a+O.a)/2,i(vt,L.a)&&(vt.b=L.a.b,vt.a=L.a.a),hn=i(Ie,Te)?Ie:Te,i(hn,vt)&&(vt.b=hn.b,vt.a=hn.a),r(vt,Ie)||r(vt,Te))return be(L,V),!1;if(!r(qe,L.a)&&0<=o(qe,L.a,vt)||!r(et,L.a)&&0>=o(et,L.a,vt)){if(et===L.a)return g(he.b),p(me.b,he),V=M(V),he=je(V).a,Z(L,je(V),ne),fe(L,V,_e(he),he,he,!0),!0;if(qe===L.a){g(me.b),p(he.e,_e(me)),Ie=ne=V,Te=Ie.a.b.a;do Ie=Ue(Ie);while(Ie.a.b.a===Te);return V=Ie,Ie=je(V).a.b.c,ne.a=_e(me),me=Z(L,ne,null),fe(L,V,me.c,he.b.c,Ie,!0),!0}return 0<=o(qe,L.a,vt)&&(Ue(V).b=V.b=!0,g(he.b),he.a.b=L.a.b,he.a.a=L.a.a),0>=o(et,L.a,vt)&&(V.b=ne.b=!0,g(me.b),me.a.b=L.a.b,me.a.a=L.a.a),!1}return g(he.b),g(me.b),p(_e(me),he),he.a.b=vt.b,he.a.a=vt.a,he.a.h=Me(L.e,he.a),he=he.a,me=[0,0,0,0],vt=[Ie.d,qe.d,Te.d,et.d],he.g[0]=he.g[1]=he.g[2]=0,ae(he,Ie,qe,me,0),ae(he,Te,et,me,2),Q(L,he,vt,me,!0),Ue(V).b=V.b=ne.b=!0,!1}function K(L,V){for(var ne=je(V);;){for(;ne.b;)V=ne,ne=je(ne);if(!V.b&&(ne=V,V=Ue(V),V===null||!V.b))break;V.b=!1;var he=V.a,me=ne.a,Ie;if(Ie=he.b.a!==me.b.a)e:{Ie=V;var Te=je(Ie),qe=Ie.a,et=Te.a,vt=void 0;if(i(qe.b.a,et.b.a)){if(0>o(qe.b.a,et.b.a,qe.a)){Ie=!1;break e}Ue(Ie).b=Ie.b=!0,vt=g(qe),p(et.b,vt),vt.d.c=Ie.d}else{if(0<o(et.b.a,qe.b.a,et.a)){Ie=!1;break e}Ie.b=Te.b=!0,vt=g(et),p(qe.e,et.b),vt.b.d.c=Ie.d}Ie=!0}if(Ie&&(ne.c?(D(ne),m(me),ne=je(V),me=ne.a):V.c&&(D(V),m(he),V=Ue(ne),he=V.a)),he.a!==me.a){if(he.b.a===me.b.a||V.c||ne.c||he.b.a!==L.a&&me.b.a!==L.a)be(L,V);else if(ee(L,V))break}he.a===me.a&&he.b.a===me.b.a&&(F(me,he),D(V),m(he),V=Ue(ne))}}function xe(L,V){L.a=V;for(var ne=V.c;ne.i===null;)if(ne=ne.c,ne===V.c){var ne=L,he=V,Te=new Pe;Te.a=he.c.b;var me=ne.f,qe=me.a;do qe=qe.a;while(qe.b!==null&&!me.c(me.b,Te,qe.b));var me=qe.b,Ie=je(me),Te=me.a,qe=Ie.a;if(o(Te.b.a,he,Te.a)===0)Te=me.a,r(Te.a,he)||r(Te.b.a,he)||(g(Te.b),me.c&&(m(Te.c),me.c=!1),p(he.c,Te),xe(ne,he));else{var et=i(qe.b.a,Te.b.a)?me:Ie,Ie=void 0;me.d||et.c?(et===me?Ie=v(he.c.b,Te.e):Ie=v(qe.b.c.b,he.c).b,et.c?N(et,Ie):(Te=ne,me=U(ne,me,Ie),me.f=Ue(me).f+me.a.f,me.d=B(Te,me.f)),xe(ne,he)):fe(ne,me,he.c,he.c,null,!0)}return}if(ne=M(ne.i),Te=je(ne),me=Te.a,Te=Z(L,Te,null),Te.c===me){var me=Te,Te=me.c,qe=je(ne),Ie=ne.a,et=qe.a,vt=!1;Ie.b.a!==et.b.a&&ee(L,ne),r(Ie.a,L.a)&&(p(_e(Te),Ie),ne=M(ne),Te=je(ne).a,Z(L,je(ne),qe),vt=!0),r(et.a,L.a)&&(p(me,_e(et)),me=Z(L,qe,null),vt=!0),vt?fe(L,ne,me.c,Te,Te,!0):(i(et.a,Ie.a)?he=_e(et):he=Ie,he=v(me.c.b,he),fe(L,ne,he,he.c,he.c,!1),he.b.i.c=!0,K(L,ne))}else fe(L,ne,Te.c,me,me,!0)}function ie(L,V){var ne=new Pe,he=d(L.b);he.a.b=C,he.a.a=V,he.b.a.b=-C,he.b.a.a=V,L.a=he.b.a,ne.a=he,ne.f=0,ne.d=!1,ne.c=!1,ne.h=!0,ne.b=!1,he=L.f,he=z(he,he.a,ne),ne.e=he}function ge(L){this.a=new se,this.b=L,this.c=k}function z(L,V,ne){do V=V.c;while(V.b!==null&&!L.c(L.b,V.b,ne));return L=new se(ne,V.a,V),V.a.c=L,V.a=L}function se(L,V,ne){this.b=L||null,this.a=V||this,this.c=ne||this}function ye(){this.d=Ce,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var Ce=0;t=ye.prototype,t.x=function(){$(this,Ce)},t.B=function(L,V){switch(L){case 100142:return;case 100140:switch(V){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=V;return}break;case 100141:this.m=!!V;return;default:q(this,100900);return}q(this,100901)},t.y=function(L){switch(L){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:q(this,100900)}return!1},t.A=function(L,V,ne){this.j[0]=L,this.j[1]=V,this.j[2]=ne},t.z=function(L,V){var ne=V||null;switch(L){case 100100:case 100106:this.h=ne;break;case 100104:case 100110:this.l=ne;break;case 100101:case 100107:this.k=ne;break;case 100102:case 100108:this.i=ne;break;case 100103:case 100109:this.p=ne;break;case 100105:case 100111:this.o=ne;break;case 100112:this.r=ne;break;default:q(this,100900)}},t.C=function(L,V){var ne=!1,he=[0,0,0];$(this,2);for(var me=0;3>me;++me){var Ie=L[me];-1e150>Ie&&(Ie=-1e150,ne=!0),1e150<Ie&&(Ie=1e150,ne=!0),he[me]=Ie}ne&&q(this,100155),ne=this.q,ne===null?(ne=d(this.b),p(ne,ne.b)):(g(ne),ne=ne.e),ne.a.d=V,ne.a.g[0]=he[0],ne.a.g[1]=he[1],ne.a.g[2]=he[2],ne.f=1,ne.b.f=-1,this.q=ne},t.u=function(L){$(this,Ce),this.d=1,this.b=new Ee,this.c=L},t.t=function(){$(this,1),this.d=2,this.q=null},t.v=function(){$(this,2),this.d=1},t.w=function(){$(this,1),this.d=Ce;var L=this.j[0],V=this.j[1],ne=this.j[2],he=!1,me=[L,V,ne];if(L===0&&V===0&&ne===0){for(var V=[-2*1e150,-2*1e150,-2*1e150],Ie=[2*1e150,2*1e150,2*1e150],ne=[],Te=[],he=this.b.c,L=he.e;L!==he;L=L.e)for(var qe=0;3>qe;++qe){var et=L.g[qe];et<Ie[qe]&&(Ie[qe]=et,Te[qe]=L),et>V[qe]&&(V[qe]=et,ne[qe]=L)}if(L=0,V[1]-Ie[1]>V[0]-Ie[0]&&(L=1),V[2]-Ie[2]>V[L]-Ie[L]&&(L=2),Ie[L]>=V[L])me[0]=0,me[1]=0,me[2]=1;else{for(V=0,Ie=Te[L],ne=ne[L],Te=[0,0,0],Ie=[Ie.g[0]-ne.g[0],Ie.g[1]-ne.g[1],Ie.g[2]-ne.g[2]],qe=[0,0,0],L=he.e;L!==he;L=L.e)qe[0]=L.g[0]-ne.g[0],qe[1]=L.g[1]-ne.g[1],qe[2]=L.g[2]-ne.g[2],Te[0]=Ie[1]*qe[2]-Ie[2]*qe[1],Te[1]=Ie[2]*qe[0]-Ie[0]*qe[2],Te[2]=Ie[0]*qe[1]-Ie[1]*qe[0],et=Te[0]*Te[0]+Te[1]*Te[1]+Te[2]*Te[2],et>V&&(V=et,me[0]=Te[0],me[1]=Te[1],me[2]=Te[2]);0>=V&&(me[0]=me[1]=me[2]=0,me[T(Ie)]=1)}he=!0}for(Te=T(me),L=this.b.c,V=(Te+1)%3,ne=(Te+2)%3,Te=0<me[Te]?1:-1,me=L.e;me!==L;me=me.e)me.b=me.g[V],me.a=Te*me.g[ne];if(he){for(me=0,he=this.b.a,L=he.b;L!==he;L=L.b)if(V=L.a,!(0>=V.f))do me+=(V.a.b-V.b.a.b)*(V.a.a+V.b.a.a),V=V.e;while(V!==L.a);if(0>me)for(me=this.b.c,he=me.e;he!==me;he=he.e)he.a=-he.a}for(this.n=!1,me=this.b.b,L=me.h;L!==me;L=he)he=L.h,V=L.e,r(L.a,L.b.a)&&L.e.e!==L&&(J(this,V,L),m(L),L=V,V=L.e),V.e===L&&(V!==L&&((V===he||V===he.b)&&(he=he.h),m(V)),(L===he||L===he.b)&&(he=he.h),m(L));for(this.e=me=new ve,he=this.b.c,L=he.e;L!==he;L=L.e)L.h=Me(me,L);for(De(me),this.f=new ge(this),ie(this,-C),ie(this,C);(me=R(this.e))!==null;){for(;;){e:if(L=this.e,L.a===0)he=We(L.b);else if(he=L.c[L.d[L.a-1]],L.b.a!==0&&(L=We(L.b),i(L,he))){he=L;break e}if(he===null||!r(he,me))break;he=R(this.e),J(this,me.c,he.c)}xe(this,me)}for(this.a=this.f.a.a.b.a.a,me=0;(he=this.f.a.a.b)!==null;)he.h||++me,D(he);for(this.f=null,me=this.e,me.b=null,me.d=null,this.e=me.c=null,me=this.b,L=me.a.b;L!==me.a;L=he)he=L.b,L=L.a,L.e.e===L&&(F(L.c,L),m(L));if(!this.n){if(me=this.b,this.m)for(L=me.b.h;L!==me.b;L=he)he=L.h,L.b.d.c!==L.d.c?L.f=L.d.c?1:-1:m(L);else for(L=me.a.b;L!==me.a;L=he)if(he=L.b,L.c){for(L=L.a;i(L.b.a,L.a);L=L.c.b);for(;i(L.a,L.b.a);L=L.e);for(V=L.c.b,ne=void 0;L.e!==V;)if(i(L.b.a,V.a)){for(;V.e!==L&&(h(V.e)||0>=o(V.a,V.b.a,V.e.b.a));)ne=v(V.e,V),V=ne.b;V=V.c.b}else{for(;V.e!==L&&(c(L.c.b)||0<=o(L.b.a,L.a,L.c.b.a));)ne=v(L,L.c.b),L=ne.b;L=L.e}for(;V.e.e!==L;)ne=v(V.e,V),V=ne.b}if(this.h||this.i||this.k||this.l)if(this.m){for(me=this.b,he=me.a.b;he!==me.a;he=he.b)if(he.c){this.h&&this.h(2,this.c),L=he.a;do this.k&&this.k(L.a.d,this.c),L=L.e;while(L!==he.a);this.i&&this.i(this.c)}}else{for(me=this.b,he=!!this.l,L=!1,V=-1,ne=me.a.d;ne!==me.a;ne=ne.d)if(ne.c){L||(this.h&&this.h(4,this.c),L=!0),Te=ne.a;do he&&(Ie=Te.b.d.c?0:1,V!==Ie&&(V=Ie,this.l&&this.l(!!V,this.c))),this.k&&this.k(Te.a.d,this.c),Te=Te.e;while(Te!==ne.a)}L&&this.i&&this.i(this.c)}if(this.r){for(me=this.b,L=me.a.b;L!==me.a;L=he)if(he=L.b,!L.c){V=L.a,ne=V.e,Te=void 0;do Te=ne,ne=Te.e,Te.d=null,Te.b.d===null&&(Te.c===Te?S(Te.a,null):(Te.a.c=Te.c,y(Te,_e(Te))),Ie=Te.b,Ie.c===Ie?S(Ie.a,null):(Ie.a.c=Ie.c,y(Ie,_e(Ie))),w(Te));while(Te!==V);V=L.d,L=L.b,L.d=V,V.b=L}this.r(this.b),this.c=this.b=null;return}}this.b=this.c=null};function $(L,V){if(L.d!==V)for(;L.d!==V;)if(L.d<V)switch(L.d){case Ce:q(L,100151),L.u(null);break;case 1:q(L,100152),L.t()}else switch(L.d){case 2:q(L,100154),L.v();break;case 1:q(L,100153),L.w()}}function q(L,V){L.p&&L.p(V,L.c)}function te(L,V){this.b=L||this,this.d=V||this,this.a=null,this.c=!1}function Ae(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function _e(L){return L.b.e}function Ee(){this.c=new pe,this.a=new te,this.b=new Ae,this.d=new Ae,this.b.b=this.d,this.d.b=this.b}function pe(L,V){this.e=L||this,this.f=V||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ve(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ve}function De(L){L.d=[];for(var V=0;V<L.a;V++)L.d[V]=V;L.d.sort((function(ne){return function(he,me){return i(ne[he],ne[me])?1:-1}})(L.c)),L.e=!0,Qe(L.b)}function Me(L,V){if(L.e){var ne=L.b,he=++ne.a;2*he>ne.f&&(ne.f*=2,ne.c=Le(ne.c,ne.f+1));var me;return ne.b===0?me=he:(me=ne.b,ne.b=ne.c[ne.b]),ne.e[me]=V,ne.c[me]=he,ne.d[he]=me,ne.h&&Ne(ne,he),me}return ne=L.a++,L.c[ne]=V,-(ne+1)}function R(L){if(L.a===0)return gt(L.b);var V=L.c[L.d[L.a-1]];if(L.b.a!==0&&i(We(L.b),V))return gt(L.b);do--L.a;while(0<L.a&&L.c[L.d[L.a-1]]===null);return V}function Ve(){this.d=Le([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Le(L,V){for(var ne=Array(V),he=0;he<L.length;he++)ne[he]=L[he];for(;he<V;he++)ne[he]=0;return ne}function Qe(L){for(var V=L.a;1<=V;--V)Se(L,V);L.h=!0}function We(L){return L.e[L.d[1]]}function gt(L){var V=L.d,ne=L.e,he=L.c,me=V[1],Ie=ne[me];return 0<L.a&&(V[1]=V[L.a],he[V[1]]=1,ne[me]=null,he[me]=L.b,L.b=me,0<--L.a&&Se(L,1)),Ie}function Se(L,V){for(var ne=L.d,he=L.e,me=L.c,Ie=V,Te=ne[Ie];;){var qe=Ie<<1;qe<L.a&&i(he[ne[qe+1]],he[ne[qe]])&&(qe+=1);var et=ne[qe];if(qe>L.a||i(he[Te],he[et])){ne[Ie]=Te,me[Te]=Ie;break}ne[Ie]=et,me[et]=Ie,Ie=qe}}function Ne(L,V){for(var ne=L.d,he=L.e,me=L.c,Ie=V,Te=ne[Ie];;){var qe=Ie>>1,et=ne[qe];if(qe===0||i(he[et],he[Te])){ne[Ie]=Te,me[Te]=Ie;break}ne[Ie]=et,me[et]=Ie,Ie=qe}}function Pe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function je(L){return L.e.c.b}function Ue(L){return L.e.a.b}Y2.libtess={GluTesselator:ye,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ye.prototype.gluDeleteTess=ye.prototype.x,ye.prototype.gluTessProperty=ye.prototype.B,ye.prototype.gluGetTessProperty=ye.prototype.y,ye.prototype.gluTessNormal=ye.prototype.A,ye.prototype.gluTessCallback=ye.prototype.z,ye.prototype.gluTessVertex=ye.prototype.C,ye.prototype.gluTessBeginPolygon=ye.prototype.u,ye.prototype.gluTessBeginContour=ye.prototype.t,ye.prototype.gluTessEndContour=ye.prototype.v,ye.prototype.gluTessEndPolygon=ye.prototype.w,n.exports=Y2.libtess})(op)),op.exports}var LK=OK();const To=i1(LK),$5={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},Z2=Object.values($5).reduce((n,t)=>n+t);class PK{constructor(t){this.renderer=t,this.shapeMode=qs,this.geometry=new zr(void 0,void 0,void 0,this.renderer),this.geometry.gid="__IMMEDIATE_MODE_GEOMETRY__",this.contourIndices=[],this._useUserVertexProperties=void 0,this._bezierVertex=[],this._quadraticVertex=[],this._curveVertex=[],this.isProcessingVertices=!1,this._tessy=this._initTessy(),this.tessyVertexSize=Z2,this.bufferStrides={...$5}}constructFromContours(t,r){this._useUserVertexProperties&&this._resetUserVertexProperties(),this.geometry.reset(),this.contourIndices=[],this.shapeMode=t.contours[0].kind;const i=!!this.renderer.states.strokeColor,s={};if(t.userVertexProperties){this._useUserVertexProperties=!0;for(const o in t.userVertexProperties){const a=t.vertexPropertyName(o),l=this.geometry._userVertexPropertyHelper(a,[],t.userVertexProperties[o]);s[o]=l,this.tessyVertexSize+=l.getDataSize(),this.bufferStrides[l.getSrcName()]=l.getDataSize(),this.renderer.buffers.user.push(new wi(l.getDataSize(),l.getSrcName(),l.getDstName(),a,this.renderer))}}else this._useUserVertexProperties=!1;for(const o of r){this.contourIndices.push(this.geometry.vertices.length);for(const a of o){if(this.shapeMode===mh&&this.geometry.vertices.length%6===3)for(const l in this.bufferStrides){const u=this.bufferStrides[l],h=this.geometry[l];h.push(...h.slice(h.length-3*u,h.length-2*u),...h.slice(h.length-u,h.length))}this.geometry.vertices.push(a.position),this.geometry.vertexNormals.push(a.normal||new Fe(0,0,0)),this.geometry.uvs.push(a.textureCoordinates.x,a.textureCoordinates.y),this.renderer.states.fillColor?this.geometry.vertexColors.push(...a.fill.array()):this.geometry.vertexColors.push(0,0,0,0),this.renderer.states.strokeColor?this.geometry.vertexStrokeColors.push(...a.stroke.array()):this.geometry.vertexStrokeColors.push(0,0,0,0);for(const l in s){const u=s[l];l in a&&u.setCurrentData(a[l]),u.pushCurrentData()}}}i&&(this.geometry.edges=this._calculateEdges(this.shapeMode,this.geometry.vertices)),i&&!this.renderer.geometryBuilder&&this.geometry._edgesToVertices(),this.shapeMode===qs?(this.isProcessingVertices=!0,this._tesselateShape(),this.isProcessingVertices=!1):this.shapeMode===Gh?this.shapeMode=zh:this.shapeMode===mh&&(this.shapeMode=Dl),this.renderer.states.textureMode===fg&&this.renderer.states._tex!==null&&this.renderer.states._tex.width>0&&this.renderer.states._tex.height>0&&(this.geometry.uvs=this.geometry.uvs.map((o,a)=>a%2===0?o/this.renderer.states._tex.width:o/this.renderer.states._tex.height))}_resetUserVertexProperties(){const t=this.geometry.userVertexProperties;for(const r in t){const i=t[r];delete this.bufferStrides[r],i.delete()}this._useUserVertexProperties=!1,this.tessyVertexSize=Z2,this.geometry.userVertexProperties={}}_calculateEdges(t,r){const i=[];let s=0;const o=this.contourIndices.slice();let a=-1;switch(t){case zh:for(s=0;s<r.length-2;s++)i.push([s,s+1]),i.push([s,s+2]);i.push([s,s+1]);break;case ng:for(s=1;s<r.length-1;s++)i.push([0,s]),i.push([s,s+1]);i.push([0,r.length-1]);break;case Dl:for(s=0;s<r.length-2;s=s+3)i.push([s,s+1]),i.push([s+1,s+2]),i.push([s+2,s]);break;case uc:for(s=0;s<r.length-1;s=s+2)i.push([s,s+1]);break;case mh:for(s=0;s<r.length-5;s+=6)i.push([s,s+1]),i.push([s+1,s+2]),i.push([s+2,s+5]),i.push([s+5,s]);break;case Gh:for(s=0;s<r.length-2;s+=2)i.push([s,s+1]),i.push([s+1,s+3]),i.push([s,s+2]);i.push([s,s+1]);break;default:for(s=0;s<r.length;s++)s===o[0]?a=o.shift():r[a]&&r[s].equals(r[a])?i.push([s-1,a]):i.push([s-1,s]);break}return i}_tesselateShape(){const t=[];for(let o=0;o<this.geometry.vertices.length;o++){this.contourIndices.length>0&&this.contourIndices[0]===o&&(this.contourIndices.shift(),t.push([])),t[t.length-1].push(this.geometry.vertices[o].x,this.geometry.vertices[o].y,this.geometry.vertices[o].z,this.geometry.uvs[o*2],this.geometry.uvs[o*2+1],this.geometry.vertexColors[o*4],this.geometry.vertexColors[o*4+1],this.geometry.vertexColors[o*4+2],this.geometry.vertexColors[o*4+3],this.geometry.vertexNormals[o].x,this.geometry.vertexNormals[o].y,this.geometry.vertexNormals[o].z);for(const a in this.geometry.userVertexProperties){const l=this.geometry.userVertexProperties[a],u=o*l.getDataSize(),h=u+l.getDataSize(),c=l.getSrcArray().slice(u,h);t[t.length-1].push(...c)}}const r=this._triangulate(t);if(r.length===0)return;this.shapeMode=Dl;const i=this.geometry.vertices;this.geometry.vertices=[],this.geometry.vertexNormals=[],this.geometry.uvs=[];for(const o in this.geometry.userVertexProperties)this.geometry.userVertexProperties[o].resetSrcArray();const s=[];for(let o=0,a=r.length;o<a;o=o+this.tessyVertexSize){s.push(...r.slice(o+5,o+9)),this.geometry.vertexNormals.push(new Fe(...r.slice(o+9,o+12)));{let l=12;for(const u in this.geometry.userVertexProperties){const h=this.geometry.userVertexProperties[u],c=h.getDataSize(),f=o+l,d=f+c;h.setCurrentData(r.slice(f,d)),h.pushCurrentData(),l+=c}}this.geometry.vertices.push(new Fe(...r.slice(o,o+3))),this.geometry.uvs.push(...r.slice(o+3,o+5))}if(this.renderer.geometryBuilder){const o=new Map;this.geometry.edges=this.geometry.edges.map(a=>a.map(l=>{if(!o.has(l)){const u=i[l];let h=this.geometry.vertices.findIndex(c=>u.x===c.x&&u.y===c.y&&u.z===c.z);if(h===-1){let c=1/0,f=0;for(let d=0;d<this.geometry.vertices.length;d++){const p=this.geometry.vertices[d],m=u.x-p.x,g=u.y-p.y,v=u.z-p.z,E=m*m+g*g+v*v;E<c&&(c=E,f=d)}h=f}o.set(l,h)}return o.get(l)}))}this.geometry.vertexColors=s}_initTessy(){function t(l,u){for(const h of l)u.push(h)}function r(l){l!==To.primitiveType.GL_TRIANGLES&&console.log(`expected TRIANGLES but got type: ${l}`)}function i(l){console.log("error callback"),console.log(`error number: ${l}`)}const s=(l,u,h)=>{const c=new Array(this.tessyVertexSize).fill(0);for(let f=0;f<h.length;f++)for(let d=0;d<c.length;d++)h[f]===0||!u[f]||(c[d]+=u[f][d]*h[f]);return c};function o(l){}const a=new To.GluTesselator;return a.gluTessCallback(To.gluEnum.GLU_TESS_VERTEX_DATA,t),a.gluTessCallback(To.gluEnum.GLU_TESS_BEGIN,r),a.gluTessCallback(To.gluEnum.GLU_TESS_ERROR,i),a.gluTessCallback(To.gluEnum.GLU_TESS_COMBINE,s),a.gluTessCallback(To.gluEnum.GLU_TESS_EDGE_FLAG,o),a.gluTessProperty(To.gluEnum.GLU_TESS_WINDING_RULE,To.windingRule.GLU_TESS_WINDING_NONZERO),a}_triangulate(t){const r=t[0]?t[0][2]:void 0;let i=!0;for(const o of t)for(let a=0;a<o.length;a+=this.tessyVertexSize)if(o[a+2]!==r){i=!1;break}i?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);const s=[];this._tessy.gluTessBeginPolygon(s);for(const o of t){this._tessy.gluTessBeginContour();for(let a=0;a<o.length;a+=this.tessyVertexSize){const l=o.slice(a,a+this.tessyVertexSize);this._tessy.gluTessVertex(l,l)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),s}}class RK{constructor(t){this.renderer=t,this.cache={}}numCached(){return Object.keys(this.cache).length}isCached(t){return this.cache[t]!==void 0}getGeometryByID(t){return this.cache[t]?.geometry}getCached(t){return this.getCachedID(t.gid)}getCachedID(t){return this.cache[t]}ensureCached(t){const r=t.gid;if(!r)throw new Error("The p5.Geometry you passed in has no gid property!");if(this.isCached(t.gid))return this.getCached(t);const i=this.renderer.GL;if(this.freeBuffers(r),Object.keys(this.cache).length>1e3){const a=Object.keys(this.cache)[0];this.freeBuffers(a)}const s={};this.cache[r]=s,s.geometry=t;let o=s.indexBuffer;if(t.faces.length){o||(o=s.indexBuffer=i.createBuffer());const a=t.faces.flat(),l=a.some(h=>h>65535);let u=l?Uint32Array:Uint16Array;this.renderer._bindBuffer(o,i.ELEMENT_ARRAY_BUFFER,a,u),s.indexBufferType=l?i.UNSIGNED_INT:i.UNSIGNED_SHORT}else o&&(i.deleteBuffer(o),s.indexBuffer=null);return s}freeBuffers(t){const r=this.cache[t];if(!r)return;delete this.cache[t];const i=this.renderer.GL;r.indexBuffer&&i.deleteBuffer(r.indexBuffer);function s(o){for(const a of o)r[a.dst]&&(i.deleteBuffer(r[a.dst]),r[a.dst]=null)}s(this.renderer.buffers.stroke),s(this.renderer.buffers.fill),s(this.renderer.buffers.user)}}const Yp={[cc]:3,[hg]:4,[cg]:.5};function Qb(n,t){const r=t.DEGREES="degrees",i=t.RADIANS="radians";t._angleMode=i,t.acos=function(s){return this._fromRadians(Math.acos(s))},t.asin=function(s){return this._fromRadians(Math.asin(s))},t.atan=function(s){return this._fromRadians(Math.atan(s))},t.atan2=function(s,o){return this._fromRadians(Math.atan2(s,o))},t.cos=function(s){return Math.cos(this._toRadians(s))},t.sin=function(s){return Math.sin(this._toRadians(s))},t.tan=function(s){return Math.tan(this._toRadians(s))},t.degrees=s=>s*ul,t.radians=s=>s*ll,t.angleMode=function(s){if(typeof s>"u")return this._angleMode;if(s===r||s===i){const o=this._angleMode;if(s===o)return;s===i?(this.pRotationX=this.pRotationX*ll,this.pRotationY=this.pRotationY*ll,this.pRotationZ=this.pRotationZ*ll):(this.pRotationX=this.pRotationX*ul,this.pRotationY=this.pRotationY*ul,this.pRotationZ=this.pRotationZ*ul),this._angleMode=s}},t._toRadians=function(s){return this._angleMode===r?s*ll:s},t._toDegrees=function(s){return this._angleMode===i?s*ul:s},t._fromRadians=function(s){return this._angleMode===r?s*ul:s},t._fromDegrees=function(s){return this._angleMode===i?s*ll:s}}typeof p5<"u"&&Qb(p5,p5.prototype);function ex(n,t){t.createImage=function(r,i){return new n.Image(r,i)},t.saveCanvas=function(...r){let i,s,o,a;if(r[0]instanceof HTMLCanvasElement)i=r[0],r.shift();else if(r[0]instanceof Pr)i=r[0].elt,r.shift();else if(r[0]instanceof Vs){const u=r[0];a=this.createGraphics(u.width,u.height),a.pixelDensity(u.pixelDensity()),u.loadPixels(),a.loadPixels(),a.pixels.set(u.pixels),a.updatePixels(),i=a._renderer.canvas,r.shift()}else i=this._curElement&&this._curElement.elt;r.length>=1&&(s=r[0]),r.length>=2&&(o=r[1]),o=o||t._checkFileExtension(s,o)[1]||"png";let l;switch(o){default:l="image/png";break;case"webp":l="image/webp";break;case"jpeg":case"jpg":l="image/jpeg";break}i.toBlob(u=>{t.downloadFile(u,s,o),a&&a.remove()},l)},t.encodeAndDownloadGif=function(r,i){const s=r.gifProperties;let o=s.loopLimit;o===1?o=null:o===null&&(o=0);const a=new Uint8Array(r.width*r.height*s.numFrames),l=[],u={};for(let b=0;b<s.numFrames;b++){const w=new Set,S=s.frames[b].image.data,_=S.length,T=new Uint32Array(r.width*r.height);for(let F=0,k=0;F<_;F+=4,k++){const D=S[F+0],N=S[F+1],M=S[F+2],U=D<<16|N<<8|M<<0;w.add(U),T[k]=U}const C=[...w].sort().toString();u[C]===void 0?u[C]={freq:1,frames:[b]}:(u[C].freq+=1,u[C].frames.push(b)),l.push(T)}let h=[];const c=Object.keys(u).sort(function(b,w){return u[w].freq-u[b].freq}),f=c[0].split(",").map(b=>parseInt(b));h=h.concat(u[f].frames);const d=new Set(f);for(let b=1;b<c.length;b++){const S=c[b].split(",").map(_=>parseInt(_)).filter(_=>!d.has(_));if(f.length+S.length<=256){for(let _=0;_<S.length;_++)f.push(S[_]),d.add(S[_]);h=h.concat(u[c[b]].frames)}}h=new Set(h);const p={};for(let b=0;b<f.length;b++)p[f[b]]||(p[f[b]]=b);let m=1;for(;m<f.length;)m<<=1;f.length=m;const g={loop:o,palette:new Uint32Array(f)},v=new M5.GifWriter(a,r.width,r.height,g);let E={};for(let b=0;b<s.numFrames;b++){const w=!h.has(b),S=w?[]:f,_=new Uint8Array(r.width*r.height),T={},C=new Set;l[b].forEach((D,N)=>{w?(T[D]===void 0&&(T[D]=S.length,S.push(D)),_[N]=T[D]):_[N]=p[D],b>0&&l[b-1][N]!==D&&C.add(D)});const F={},k=S.filter(D=>!C.has(D));if(k.length>0){const D=k[0],N=w?T[D]:p[D];if(b>0){for(let M=0;M<l[b].length;M++)l[b-1][M]===l[b][M]&&(_[M]=N);F.transparent=N,E.frameOpts.disposal=1}}if(F.delay=s.frames[b].delay/10,w){let D=1;for(;D<S.length;)D<<=1;S.length=D,F.palette=new Uint32Array(S)}b>0&&v.addFrame(0,0,r.width,r.height,E.pixelPaletteIndex,E.frameOpts),E={pixelPaletteIndex:_,frameOpts:F}}E.frameOpts.disposal=1,v.addFrame(0,0,r.width,r.height,E.pixelPaletteIndex,E.frameOpts);const y="gif",x=new Blob([a.slice(0,v.end())],{type:"image/gif"});t.downloadFile(x,i,y)},t.saveFrames=function(r,i,s,o,a){let l=s||3;l=Math.max(Math.min(l,15),0),l=l*1e3;let u=o||15;u=Math.max(Math.min(u,22),0);let h=0;const c=t._makeFrame,f=this._curElement.elt;let d=[];const p=setInterval(()=>{d.push(c(r+h,i,f)),h++},1e3/u);setTimeout(()=>{if(clearInterval(p),a)a(d);else for(const m of d)t.downloadFile(m.imageData,m.filename,m.ext);d=[]},l+.01)},t._makeFrame=function(r,i,s){let o;this?o=this._curElement.elt:o=s;let a;if(!i)i="png",a="image/png";else switch(i.toLowerCase()){case"png":a="image/png";break;case"jpeg":a="image/jpeg";break;case"jpg":a="image/jpeg";break;default:a="image/png";break}const l="image/octet-stream";let u=o.toDataURL(a);u=u.replace(a,l);const h={};return h.imageData=u,h.filename=r,h.ext=i,h}}typeof p5<"u"&&ex(p5,p5.prototype);class J2 extends Error{status;response;ok}async function as(n,t){try{const r=await fetch(n);if(r.ok){let i;switch(t){case"json":i=await r.json();break;case"text":i=await r.text();break;case"arrayBuffer":i=await r.arrayBuffer();break;case"blob":i=await r.blob();break;case"bytes":if(r.bytes)i=await r.bytes();else{const s=await r.arrayBuffer();i=new Uint8Array(s)}break;default:throw new Error("Unsupported response type")}return{data:i,headers:r.headers}}else{const i=new J2(r.statusText);throw i.status=r.status,i.response=r,i.ok=!1,i}}catch(r){throw r instanceof TypeError?console.log("You may have encountered a CORS error"):r instanceof J2?console.log("You have encountered a HTTP error"):r instanceof SyntaxError&&console.log("There is an error parsing the response to requested data structure"),r}}function j5(n,t){t.loadJSON=async function(i,s,o){try{const{data:a}=await as(i,"json");return s?s(a):a}catch(a){if(n._friendlyFileLoadError(5,i),o)return o(a);throw a}},t.loadStrings=async function(i,s,o){try{let{data:a}=await as(i,"text");return a=a.split(/\r?\n/),s?s(a):a}catch(a){if(n._friendlyFileLoadError(3,i),o)return o(a);throw a}},t.loadTable=async function(i,s,o,a,l){typeof arguments[arguments.length-1]=="function"&&(typeof arguments[arguments.length-2]=="function"?(a=arguments[arguments.length-2],l=arguments[arguments.length-1]):a=arguments[arguments.length-1]),typeof s!="string"&&(s=","),typeof o=="function"&&(o=!1);try{let{data:u}=await as(i,"text"),h=new n.Table;return u=dK(u,{separator:s}),o?h.columns=u.shift():h.columns=Array(u[0].length).fill(null),u.forEach(c=>{const f=new n.TableRow(c);h.addRow(f)}),a?a(h):h}catch(u){if(n._friendlyFileLoadError(2,i),l)return l(u);throw u}},t.loadXML=async function(i,s,o){try{const a=new DOMParser;let{data:l}=await as(i,"text");const u=a.parseFromString(l,"application/xml");return l=new n.XML(u),s?s(l):l}catch(a){if(n._friendlyFileLoadError(1,i),o)return o(a);throw a}},t.loadBytes=async function(i,s,o){try{let{data:a}=await as(i,"arrayBuffer");return a=new Uint8Array(a),s?s(a):a}catch(a){if(n._friendlyFileLoadError(6,i),o)return o(a);throw a}},t.loadBlob=async function(i,s,o){try{const{data:a}=await as(i,"blob");return s?s(a):a}catch(a){if(o)return o(a);throw a}},t.httpGet=async function(i,s="text",o,a){return typeof s=="function"&&(a=o,o=s,s="text"),this.httpDo(i,"GET",s,o,a)},t.httpPost=async function(i,s,o="text",a,l){typeof s=="function"?(a=s,l=o,s=void 0,o="text"):typeof o=="function"&&(l=a,a=o,o="text");let u=s,h="text/plain";s instanceof n.XML?(u=s.serialize(),h="application/xml"):s instanceof n.Image?(u=await s.toBlob(),h="image/png"):typeof s=="object"&&(u=JSON.stringify(s),h="application/json");const c={method:"POST",body:u,headers:{"Content-Type":h}};u&&(c.body=u);const f=new Request(i,c);return this.httpDo(f,"POST",o,a,l)},t.httpDo=async function(i,s,o,a,l){if(typeof o=="function"&&(l=a,a=o,o=void 0),!o)switch(typeof i=="string"?i.split(".").pop():i.url.split(".").pop()){case"json":o="json";break;case"jpg":case"jpeg":case"png":case"webp":case"gif":o="blob";break;case"xml":case"txt":default:o="text"}const u=new Request(i,{method:s});try{const{data:h}=await as(u,o);return a?a(h):h}catch(h){if(l)return l(h);throw h}},t._pWriters=[],t.createWriter=function(i,s){let o;for(const a in t._pWriters)if(t._pWriters[a].name===i)return o=new n.PrintWriter(i+this.millis(),s),t._pWriters.push(o),o;return o=new n.PrintWriter(i,s),t._pWriters.push(o),o},n.PrintWriter=function(i,s){let o=this;this.name=i,this.content="",this.write=function(a){this.content+=a},this.print=function(a){this.content+=`${a}
`},this.clear=function(){this.content=""},this.close=function(){const a=[];a.push(this.content),t.writeFile(a,i,s);for(const l in t._pWriters)t._pWriters[l].name===this.name&&t._pWriters.splice(l,1);o.clear(),o={}}},t.save=function(i,s,o){const a=arguments,l=this._curElement?this._curElement.elt:this.elt;if(a.length===0){t.saveCanvas(l);return}else if(a[0]instanceof It||a[0]instanceof dc){t.saveCanvas(a[0].canvas,a[1],a[2]);return}else if(a.length===1&&typeof a[0]=="string")t.saveCanvas(l,a[0]);else switch(qp(a[1],a[2])[1]){case"json":t.saveJSON(a[0],a[1],a[2]);return;case"txt":t.saveStrings(a[0],a[1],a[2]);return;default:a[0]instanceof Array?t.saveStrings(a[0],a[1],a[2]):a[0]instanceof n.Table?t.saveTable(a[0],a[1],a[2]):a[0]instanceof n.Image?t.saveCanvas(a[0].canvas,a[1]):a[0]instanceof n.SoundFile&&t.saveSound(a[0],a[1],a[2],a[3])}},t.saveJSON=function(i,s,o){let a;o?a=JSON.stringify(i):a=JSON.stringify(i,void 0,2),this.saveStrings(a.split(`
`),s,"json")},t.saveStrings=function(i,s,o,a){const l=o||"txt",u=new n.PrintWriter(s,l);for(let h of i)a?u.write(h+`\r
`):u.write(h+`
`);u.close(),u.clear()};function r(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}t.saveTable=function(i,s,o){let a;o===void 0?(a=s.substring(s.lastIndexOf(".")+1,s.length),a===s&&(a="csv")):a=o;const l=this.createWriter(s,a),u=i.columns;let h=",";if(a==="tsv"&&(h="	"),a!=="html"){const c=i.toString(h);l.write(c)}else{l.print("<html>"),l.print("<head>");let c='  <meta http-equiv="content-type" content';if(c+='="text/html;charset=utf-8" />',l.print(c),l.print("</head>"),l.print("<body>"),l.print("  <table>"),u[0]!=="0"){l.print("    <tr>");for(let f=0;f<u.length;f++){const d=r(u[f]);l.print(`      <td>${d}`),l.print("      </td>")}l.print("    </tr>")}for(let f=0;f<i.rows.length;f++){l.print("    <tr>");for(let d=0;d<i.columns.length;d++){const p=i.rows[f].getString(d),m=r(p);l.print(`      <td>${m}`),l.print("      </td>")}l.print("    </tr>")}l.print("  </table>"),l.print("</body>"),l.print("</html>")}l.close(),l.clear()},t.writeFile=function(i,s,o){let a="application/octet-stream";t._isSafari()&&(a="text/plain");const l=new Blob(i,{type:a});t.downloadFile(l,s,o)},t.downloadFile=Jh,t._checkFileExtension=qp,t._isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}typeof p5<"u"&&j5(p5,p5.prototype);function tx(n,t){t.loadImage=async function(h,c,f){try{let d=new n.Image(1,1,this);const p=new Request(h,{method:"GET",mode:"cors"}),{data:m,headers:g}=await as(p,"bytes"),v=g.get("content-type");if(v===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),v&&v.includes("image/gif"))await s(m,d);else{const E=new Blob([m]),y=await createImageBitmap(E);d.width=d.canvas.width=y.width,d.height=d.canvas.height=y.height,d.drawingContext.drawImage(y,0,0)}return d.modified=!0,c?c(d):d}catch(d){if(n._friendlyFileLoadError(0,h),typeof f=="function")return f(d);throw d}},t.saveGif=async function(h,c,f={delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar",reset:!0}){if(typeof h!="string")throw TypeError("fileName parameter must be a string");if(typeof c!="number")throw TypeError("Duration parameter must be a number");const d=f&&f.delay||0,p=f&&f.units||"seconds",m=f&&f.silent||!1,g=f&&f.notificationDuration||0,v=f&&f.notificationID||"progressBar",E=f&&f.reset!==void 0?f.reset:!0;if(typeof d!="number")throw TypeError("Delay parameter must be a number");if(p!=="seconds"&&p!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');if(typeof m!="boolean")throw TypeError("Silent parameter must be a boolean");if(typeof g!="number")throw TypeError("Notification duration parameter must be a number");if(typeof v!="string")throw TypeError("Notification ID parameter must be a string");this._recording=!0;let y=this._targetFrameRate;(y===1/0||y===void 0||y===0)&&(y=60);let x=1/y*1e3;x=x<20?20:x;const b=p==="seconds"?c*y:c,w=p==="seconds"?d*y:d;let S,_;E?(S=w,this.frameCount=S,_=b+w):(S=this.frameCount+w,_=S+b);const T=this._renderer._pixelDensity;this.pixelDensity(1);let C=[];document.getElementById(v)!==null&&document.getElementById(v).remove();let F;m||(F=this.createP(""),F.id(v),F.style("font-size","16px"),F.style("font-family","Montserrat"),F.style("background-color","#ffffffa0"),F.style("padding","8px"),F.style("border-radius","10px"),F.position(0,0));let k,D;for(this._renderer instanceof n.RendererGL&&(D=this.drawingContext,k=new Uint8Array(D.drawingBufferWidth*D.drawingBufferHeight*4)),this.noLoop(),await new Promise(requestAnimationFrame);S<_;){this.redraw(),await new Promise(requestAnimationFrame);let ae;this._renderer instanceof n.RendererGL?(k=new Uint8Array(D.drawingBufferWidth*D.drawingBufferHeight*4),D.readPixels(0,0,D.drawingBufferWidth,D.drawingBufferHeight,D.RGBA,D.UNSIGNED_BYTE,k),ae=r(k,this.width,this.height)):ae=this.drawingContext.getImageData(0,0,this.width,this.height).data,C.push(ae),S++,m||F.html("Saved frame <b>"+C.length.toString()+"</b> out of "+b.toString()),await new Promise(be=>setTimeout(be,0))}m||F.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(T);const N=IK(),M=i(C),U={},B=ae=>{const be=ae.length/4,ee=new Uint8Array(be);for(let K=0;K<be;K++){const xe=ae[K*4]<<24|ae[K*4+1]<<16|ae[K*4+2]<<8|ae[K*4+3];U[xe]===void 0&&(U[xe]=TK(M,ae.slice(K*4,(K+1)*4))),ee[K]=U[xe]}return ee},W=M.length-1;let Z=[];for(let ae=0;ae<C.length;ae++){const be=B(C[ae]),ee=be.slice();if(ae===0)N.writeFrame(be,this.width,this.height,{palette:M,delay:x,dispose:1});else{for(let K=0;K<be.length;K++)be[K]===Z[K]&&(be[K]=W);N.writeFrame(be,this.width,this.height,{delay:x,transparent:!0,transparentIndex:W,dispose:1})}Z=ee,m||F.html("Rendered frame <b>"+ae.toString()+"</b> out of "+b.toString()),await new Promise(K=>setTimeout(K,0))}N.finish();const fe=N.bytesView(),Q="gif",J=new Blob([fe],{type:"image/gif"});C=[],this._recording=!1,this.loop(),m||(F.html("Done. Downloading your gif!"),g>0&&setTimeout(()=>F.remove(),g*1e3)),t.downloadFile(J,h,Q)};function r(h,c,f){const d=parseInt(f/2),p=c*4,m=new Uint8Array(c*4);for(let g=0;g<d;++g){const v=g*p,E=(f-g-1)*p;m.set(h.subarray(v,v+p)),h.copyWithin(v,E,E+p),h.set(m,E)}return h}function i(h){let c=new Uint8Array(h.length*h[0].length);for(let d=0;d<h.length;d++)c.set(h[d],d*h[0].length);let f=SK(c,256,{format:"rgba4444",oneBitAlpha:!0});return f.length===256?f[f.length-1]=[Math.random()*255,Math.random()*255,Math.random()*255,0]:f.push([Math.random()*255,Math.random()*255,Math.random()*255,0]),f}async function s(h,c){const f=new M5.GifReader(h);c.width=c.canvas.width=f.width,c.height=c.canvas.height=f.height;const d=[],p=f.numFrames();let m=new Uint8ClampedArray(c.width*c.height*4);const g=(E,y)=>{try{y.decodeAndBlitFrameRGBA(E,m)}catch(x){throw n._friendlyFileLoadError(8,c.src),x}};for(let E=0;E<p;E++){const y=f.frameInfo(E),x=c.drawingContext.getImageData(0,0,c.width,c.height);m=x.data.slice(),g(E,f);const b=new ImageData(m,c.width,c.height);c.drawingContext.putImageData(b,0,0);let w=y.delay;w===0&&(w=10),d.push({image:c.drawingContext.getImageData(0,0,c.width,c.height),delay:w*10}),y.disposal===2?c.drawingContext.clearRect(y.x,y.y,y.width,y.height):y.disposal===3&&c.drawingContext.putImageData(x,0,0,y.x,y.y,y.width,y.height)}let v=f.loopCount();return v===null?v=1:v===0&&(v=null),c.drawingContext.putImageData(d[0].image,0,0),d.length>1&&(c.gifProperties={displayIndex:0,loopLimit:v,loopCount:0,frames:d,numFrames:p,playing:!0,timeDisplayed:0,lastChangeTime:0}),c}function o(h,c,f,d,p,m,g,v){const E=Math.max(g/p,v/m),[y,x]=[g/E,v/E];let b=f,w=d;return h===zi?b+=(p-y)/2:h===Bp&&(b+=p-y),c===zi?w+=(m-x)/2:c===Sy&&(w+=m-x),{x:b,y:w,w:y,h:x}}function a(h,c,f,d,p,m,g,v){const E=Math.max(f/g,d/v),[y,x]=[f/E,d/E];let b=p,w=m;return h===zi?b+=(g-y)/2:h===Bp&&(b+=g-y),c===zi?w+=(v-x)/2:c===Sy&&(w+=v-x),{x:b,y:w,w:y,h:x}}function l(h,c,f,d,p,m,g,v,E,y,x){if(h===jN){const{x:b,y:w,w:S,h:_}=a(c,f,m,g,v,E,y,x);v=b,E=w,y=S,x=_}if(h===$N){const{x:b,y:w,w:S,h:_}=o(c,f,d,p,m,g,y,x);d=b,p=w,m=S,g=_}return{sx:v,sy:E,sw:y,sh:x,dx:d,dy:p,dw:m,dh:g}}function u(h,c){return h>0&&h<c?h:c}t.image=function(h,c,f,d,p,m,g,v,E,y,x,b){let w=h.width,S=h.height;b=b||zi,x=x||zi,h.elt&&(w=w!==void 0?w:h.elt.width,S=S!==void 0?S:h.elt.height),h.elt&&h.elt.videoWidth&&!h.canvas&&(w=w!==void 0?w:h.elt.videoWidth,S=S!==void 0?S:h.elt.videoHeight);let _=c,T=f,C=d||w,F=p||S,k=m||0,D=g||0,N=v!==void 0?v:w,M=E!==void 0?E:S;N=u(N,w),M=u(M,S);let U=1;h.elt&&!h.canvas&&h.elt.style.width&&(h.elt.videoWidth&&!d?U=h.elt.videoWidth:U=h.elt.width,U/=parseInt(h.elt.style.width,10)),k*=U,D*=U,M*=U,N*=U;let B=ip.modeAdjust(_,T,C,F,this._renderer.states.imageMode);B=l(y,x,b,B.x,B.y,B.w,B.h,k,D,N,M),this._renderer.image(h,B.sx,B.sy,B.sw,B.sh,B.dx,B.dy,B.dw,B.dh)},t.tint=function(...h){const c=this.color(...h);this._renderer.states.setValue("tint",c._getRGBA([255,255,255,255]))},t.noTint=function(){this._renderer.states.setValue("tint",null)},t.imageMode=function(h){(h===hs||h===$h||h===zi)&&this._renderer.states.setValue("imageMode",h)}}typeof p5<"u"&&tx(p5,p5.prototype);class ql{constructor(t){this._renderer=t,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new Rn(4),this.projMatrix=new Rn(4),this.yScale=1}perspective(t,r,i,s){this.cameraType=arguments.length>0?"custom":"default",typeof t>"u"?(t=this.defaultCameraFOV,this.cameraFOV=t):this.cameraFOV=this._renderer._pInst._toRadians(t),typeof r>"u"&&(r=this.defaultAspectRatio),typeof i>"u"&&(i=this.defaultCameraNear),typeof s>"u"&&(s=this.defaultCameraFar),i<=1e-4&&(i=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),s<i&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=r,this.cameraNear=i,this.cameraFar=s,this.projMatrix=new Rn(4);const o=1/Math.tan(this.cameraFOV/2),a=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(o/r,0,0,0,0,-o*this.yScale,0,0,0,0,(s+i)*a,-1,0,0,2*s*i*a,0),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix))}ortho(t,r,i,s,o,a){const l=this.fbo||this._renderer;t===void 0&&(t=-l.width/2),r===void 0&&(r=+l.width/2),i===void 0&&(i=-l.height/2),s===void 0&&(s=+l.height/2),o===void 0&&(o=0),a===void 0&&(a=Math.max(l.width,l.height)+800),this.cameraNear=o,this.cameraFar=a;const u=r-t,h=s-i,c=a-o,f=2/u,d=2/h*this.yScale,p=-2/c,m=-(r+t)/u,g=-(s+i)/h,v=-(a+o)/c;this.projMatrix=new Rn(4),this.projMatrix.set(f,0,0,0,0,-d,0,0,0,0,p,0,m,g,v,1),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType="custom"}frustum(t,r,i,s,o,a){t===void 0&&(t=-this._renderer.width*.05),r===void 0&&(r=+this._renderer.width*.05),i===void 0&&(i=+this._renderer.height*.05),s===void 0&&(s=-this._renderer.height*.05),o===void 0&&(o=this.defaultCameraNear),a===void 0&&(a=this.defaultCameraFar),this.cameraNear=o,this.cameraFar=a;const l=r-t,u=s-i,h=a-o,c=+(2*o)/l,f=+(2*o)/u*this.yScale,d=-(2*a*o)/h,p=(r+t)/l,m=(s+i)/u,g=-(a+o)/h;this.projMatrix=new Rn(4),this.projMatrix.set(c,0,0,0,0,-f,0,0,p,m,g,-1,0,0,d,0),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType="custom"}_rotateView(t,r,i,s){let o=this.centerX,a=this.centerY,l=this.centerZ;o-=this.eyeX,a-=this.eyeY,l-=this.eyeZ;const u=new Rn(4);u.rotate4x4(this._renderer._pInst._toRadians(t),r,i,s);const h=[o*u.mat4[0]+a*u.mat4[4]+l*u.mat4[8],o*u.mat4[1]+a*u.mat4[5]+l*u.mat4[9],o*u.mat4[2]+a*u.mat4[6]+l*u.mat4[10]];h[0]+=this.eyeX,h[1]+=this.eyeY,h[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,h[0],h[1],h[2],this.upX,this.upY,this.upZ)}roll(t){const r=this._getLocalAxes(),s=qu.fromAxisAngle(this._renderer._pInst._toRadians(t),r.z[0],r.z[1],r.z[2]).rotateVector(new Fe(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,s.x,s.y,s.z)}pan(t){const r=this._getLocalAxes();this._rotateView(t,r.y[0],r.y[1],r.y[2])}tilt(t){const r=this._getLocalAxes();this._rotateView(t,r.x[0],r.x[1],r.x[2])}lookAt(t,r,i){this.camera(this.eyeX,this.eyeY,this.eyeZ,t,r,i,this.upX,this.upY,this.upZ)}camera(t,r,i,s,o,a,l,u,h){typeof t>"u"&&(t=this.defaultEyeX,r=this.defaultEyeY,i=this.defaultEyeZ,s=t,o=r,a=0,l=0,u=1,h=0),this.eyeX=t,this.eyeY=r,this.eyeZ=i,typeof s<"u"&&(this.centerX=s,this.centerY=o,this.centerZ=a),typeof l<"u"&&(this.upX=l,this.upY=u,this.upZ=h);const c=this._getLocalAxes();this.cameraMatrix.set(c.x[0],c.y[0],c.z[0],0,c.x[1],c.y[1],c.z[1],0,c.x[2],c.y[2],c.z[2],0,0,0,0,1);const f=-t,d=-r,p=-i;return this.cameraMatrix.translate([f,d,p]),this._isActive()&&(this._renderer.states.setValue("uViewMatrix",this._renderer.states.uViewMatrix.clone()),this._renderer.states.uViewMatrix.set(this.cameraMatrix)),this}move(t,r,i){const s=this._getLocalAxes(),o=[s.x[0]*t,s.x[1]*t,s.x[2]*t],a=[s.y[0]*r,s.y[1]*r,s.y[2]*r],l=[s.z[0]*i,s.z[1]*i,s.z[2]*i];this.camera(this.eyeX+o[0]+a[0]+l[0],this.eyeY+o[1]+a[1]+l[1],this.eyeZ+o[2]+a[2]+l[2],this.centerX+o[0]+a[0]+l[0],this.centerY+o[1]+a[1]+l[1],this.centerZ+o[2]+a[2]+l[2],this.upX,this.upY,this.upZ)}setPosition(t,r,i){const s=t-this.eyeX,o=r-this.eyeY,a=i-this.eyeZ;this.camera(t,r,i,this.centerX+s,this.centerY+o,this.centerZ+a,this.upX,this.upY,this.upZ)}set(t){const r=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];for(const i of r)this[i]=t[i];this.cameraMatrix=t.cameraMatrix.copy(),this.projMatrix=t.projMatrix.copy(),this._isActive()&&(this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.setValue("uViewMatrix",this._renderer.states.uViewMatrix.clone()),this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this._renderer.states.uViewMatrix.set(this.cameraMatrix),this._renderer.states.uPMatrix.set(this.projMatrix))}slerp(t,r,i){if(i===0){this.set(t);return}else if(i===1){this.set(r);return}this.projMatrix.mat4[15]!==0&&(this.projMatrix.setElement(0,t.projMatrix.mat4[0]*Math.pow(r.projMatrix.mat4[0]/t.projMatrix.mat4[0],i)),this.projMatrix.setElement(5,t.projMatrix.mat4[5]*Math.pow(r.projMatrix.mat4[5]/t.projMatrix.mat4[5],i)),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4=this.projMatrix.mat4.slice()));const s=new Fe(t.eyeX,t.eyeY,t.eyeZ),o=new Fe(r.eyeX,r.eyeY,r.eyeZ),a=new Fe(t.centerX,t.centerY,t.centerZ),l=new Fe(r.centerX,r.centerY,r.centerZ),u=Fe.dist(s,a),h=Fe.dist(o,l),c=u*Math.pow(h/u,i),f=Fe.sub(s,o),d=s.copy().sub(o).sub(a).add(l),p=d.magSq();let m=1;p>1e-6&&(m=Fe.dot(f,d)/p,m=Math.max(0,Math.min(m,1)));const g=Fe.lerp(Fe.lerp(s,a,m),Fe.lerp(o,l,m),i),v=t.cameraMatrix.createSubMatrix3x3(),E=r.cameraMatrix.createSubMatrix3x3(),y=v.row(2),x=E.row(2),b=v.row(1),w=E.row(1),S=new Fe,_=new Fe,T=new Fe,C=new Fe,F=E.mult(v.copy().transpose()),k=F.diagonal();let D=.5*(k[0]+k[1]+k[2]-1);if(1-D<1e-7){S.set(Fe.lerp(y,x,i)).normalize(),T.set(S).mult(m*c).add(g),C.set(S).mult((m-1)*c).add(g),_.set(Fe.lerp(b,w,i)).normalize(),this.camera(T.x,T.y,T.z,C.x,C.y,C.z,_.x,_.y,_.z);return}let N,M,U,B,W=1/(1-D);const Z=Math.max(k[0],k[1],k[2]),fe=F.mat3[1]+F.mat3[3],Q=F.mat3[2]+F.mat3[6],J=F.mat3[5]+F.mat3[7];Z===k[0]?(N=Math.sqrt((k[0]-D)*W),W/=N,M=.5*fe*W,U=.5*Q*W,B=.5*(F.mat3[7]-F.mat3[5])/N):Z===k[1]?(M=Math.sqrt((k[1]-D)*W),W/=M,U=.5*J*W,N=.5*fe*W,B=.5*(F.mat3[2]-F.mat3[6])/M):(U=Math.sqrt((k[2]-D)*W),W/=U,N=.5*Q*W,M=.5*J*W,B=.5*(F.mat3[3]-F.mat3[1])/U);const ae=i*Math.atan2(B,D),be=Math.cos(ae),ee=Math.sin(ae),K=1-be,xe=N*M,ie=M*U,ge=U*N,z=new Rn([be+K*N*N,K*xe+ee*U,K*ge-ee*M,K*xe-ee*U,be+K*M*M,K*ie+ee*N,K*ge+ee*M,K*ie-ee*N,be+K*U*U]);z.multiplyVec(y,S),T.set(S).mult(m*c).add(g),C.set(S).mult((m-1)*c).add(g),z.multiplyVec(b,_),this.camera(T.x,T.y,T.z,C.x,C.y,C.z,_.x,_.y,_.z)}_computeCameraDefaultSettings(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=this.defaultEyeZ*.1,this.defaultCameraFar=this.defaultEyeZ*10}_setDefaultCamera(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}_resize(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}copy(){const t=new ql(this._renderer);return t.cameraFOV=this.cameraFOV,t.aspectRatio=this.aspectRatio,t.eyeX=this.eyeX,t.eyeY=this.eyeY,t.eyeZ=this.eyeZ,t.centerX=this.centerX,t.centerY=this.centerY,t.centerZ=this.centerZ,t.upX=this.upX,t.upY=this.upY,t.upZ=this.upZ,t.cameraNear=this.cameraNear,t.cameraFar=this.cameraFar,t.cameraType=this.cameraType,t.useLinePerspective=this.useLinePerspective,t.cameraMatrix=this.cameraMatrix.copy(),t.projMatrix=this.projMatrix.copy(),t.yScale=this.yScale,t}clone(){return this.copy()}_getLocalAxes(){let t=this.eyeX-this.centerX,r=this.eyeY-this.centerY,i=this.eyeZ-this.centerZ;const s=Math.sqrt(t*t+r*r+i*i);s!==0&&(t/=s,r/=s,i/=s);let o=this.upX,a=this.upY,l=this.upZ,u=a*i-l*r,h=-o*i+l*t,c=o*r-a*t;o=r*c-i*h,a=-t*c+i*u,l=t*h-r*u;const f=Math.sqrt(u*u+h*h+c*c);f!==0&&(u/=f,h/=f,c/=f);const d=Math.sqrt(o*o+a*a+l*l);return d!==0&&(o/=d,a/=d,l/=d),{x:[u,h,c],y:[o,a,l],z:[t,r,i]}}_orbit(t,r,i){const s=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ;let l=Math.hypot(s,o,a);const u=new Fe(s,o,a).normalize(),h=new Fe(this.upX,this.upY,this.upZ).normalize(),c=Fe.cross(h,u).normalize(),f=Fe.cross(c,h);l*=Math.pow(10,i),l<this.cameraNear&&(l=this.cameraNear),l>this.cameraFar&&(l=this.cameraFar);const d=Math.acos(Math.max(-1,Math.min(1,Fe.dot(u,h))))+r,p=t;(d<=0||d>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),h.mult(Math.cos(d)),f.mult(Math.cos(p)*Math.sin(d)),c.mult(Math.sin(p)*Math.sin(d)),u.set(h).add(f).add(c),this.eyeX=l*u.x+this.centerX,this.eyeY=l*u.y+this.centerY,this.eyeZ=l*u.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}_orbitFree(t,r,i){const s=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ;let l=Math.hypot(s,o,a);const u=new Fe(s,o,a).normalize(),h=new Fe(this.upX,this.upY,this.upZ),c=Fe.cross(h,u).normalize(),f=Fe.cross(u,c),d=Math.atan2(r,t);f.mult(Math.sin(d)),c.mult(Math.cos(d)).add(f);const p=Math.sqrt(t*t+r*r),m=Fe.cross(u,c);l*=Math.pow(10,i),l<this.cameraNear&&(l=this.cameraNear),l>this.cameraFar&&(l=this.cameraFar);const g=Math.cos(p),v=Math.sin(p),E=h.dot(u),y=h.dot(c),x=E*g+y*v,b=-E*v+y*g,w=h.dot(m);h.x=x*u.x+b*c.x+w*m.x,h.y=x*u.y+b*c.y+w*m.y,h.z=x*u.z+b*c.z+w*m.z,c.mult(-v),u.mult(g).add(c).mult(l),this.camera(u.x+this.centerX,u.y+this.centerY,u.z+this.centerZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}_isActive(){return this===this._renderer.states.curCamera}}function z5(n,t){t.camera=function(...r){return this._assert3d("camera"),this._renderer.camera(...r),this},t.perspective=function(...r){return this._assert3d("perspective"),this._renderer.perspective(...r),this},t.linePerspective=function(r){if(!(this._renderer instanceof Ot))throw new Error("linePerspective() must be called in WebGL mode.");return this._renderer.linePerspective(r)},t.ortho=function(...r){return this._assert3d("ortho"),this._renderer.ortho(...r),this},t.frustum=function(...r){return this._assert3d("frustum"),this._renderer.frustum(...r),this},t.createCamera=function(){return this._assert3d("createCamera"),this._renderer.createCamera()},t.setCamera=function(r){this._renderer.setCamera(r)},n.Camera=ql,Ot.prototype.camera=function(...r){this.states.curCamera.camera(...r)},Ot.prototype.perspective=function(...r){this.states.curCamera.perspective(...r)},Ot.prototype.linePerspective=function(r){if(r!==void 0)this.states.curCamera.useLinePerspective=r;else return this.states.curCamera.useLinePerspective},Ot.prototype.ortho=function(...r){this.states.curCamera.ortho(...r)},Ot.prototype.frustum=function(...r){this.states.curCamera.frustum(...r)},Ot.prototype.createCamera=function(){const r=new ql(this);return r._computeCameraDefaultSettings(),r._setDefaultCamera(),r},Ot.prototype.setCamera=function(r){this.states.setValue("curCamera",r),this.states.setValue("uPMatrix",this.states.uPMatrix.clone()),this.states.uPMatrix.set(r.projMatrix),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(r.cameraMatrix)}}typeof p5<"u"&&z5(p5,p5.prototype);class Gr{constructor(t,r,i,s={}){this._renderer=t,this._vertSrc=r,this._fragSrc=i,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:s.uniforms||{},declarations:s.declarations,helpers:s.helpers||{},vertex:s.vertex||{},fragment:s.fragment||{},modified:{vertex:s.modified&&s.modified.vertex||{},fragment:s.modified&&s.modified.fragment||{}}}}hookTypes(t){let r=this._vertSrc,i=this.hooks.vertex[t];if(i||(i=this.hooks.fragment[t],r=this._fragSrc),!i)throw new Error(`Can't find hook ${t}!`);const s=t.split(/\s+/g),o=s.pop(),a=s.pop(),l=[...s],u=/\(([^\)]*)\)/.exec(i);if(!u)throw new Error(`Couldn't find function parameters in hook body:
${i}`);const h=f=>{const d=new RegExp(`struct\\s+${f}\\s*{([^}]*)}`).exec(r);if(!d)return;const p=[];for(const m of d[1].split(";")){const g=m.trim().split(/\s+|,/g),v=g.shift(),E=[...g],y=h(v);for(const x of E)p.push({name:x,type:{typeName:v,qualifiers:[],properties:y}})}return p},c=u[1].split(",").map(f=>{const d=f.trim().split(/\s+/g),p=d.pop(),m=d.pop(),g=[...d],v=h(m);return{name:p,type:{typeName:m,qualifiers:g,properties:v}}});return{name:o,returnType:{typeName:a,qualifiers:l,properties:h(a)},parameters:c}}shaderSrc(t,r){const i="void main";let[s,o]=t.split(i),a="",l="";for(const u in this.hooks.uniforms)a+=`uniform ${u};
`;this.hooks.declarations&&(a+=this.hooks.declarations+`
`),this.hooks[r].declarations&&(a+=this.hooks[r].declarations+`
`);for(const u in this.hooks.helpers)a+=`${u}${this.hooks.helpers[u]}
`;for(const u in this.hooks[r]){if(u==="declarations")continue;const[h,c]=u.split(" ");this.hooks.modified[r][u]&&(l+="#define AUGMENTED_HOOK_"+c+`
`),a+=h+" HOOK_"+c+this.hooks[r][u]+`
`}return s.indexOf("#define HOOK_DEFINES")!==-1&&(s=s.replace("#define HOOK_DEFINES",`
`+l+`
`),l=""),s+`
`+l+a+i+o}version(){const t=/#version (.+)$/.exec(this.vertSrc());return t?t[1]:"100 es"}vertSrc(){return this.shaderSrc(this._vertSrc,"vertex")}fragSrc(){return this.shaderSrc(this._fragSrc,"fragment")}inspectHooks(){console.log("==== Vertex shader hooks: ====");for(const t in this.hooks.vertex)console.log((this.hooks.modified.vertex[t]?"[MODIFIED] ":"")+t+this.hooks.vertex[t]);console.log(""),console.log("==== Fragment shader hooks: ====");for(const t in this.hooks.fragment)console.log((this.hooks.modified.fragment[t]?"[MODIFIED] ":"")+t+this.hooks.fragment[t]);console.log(""),console.log("==== Helper functions: ====");for(const t in this.hooks.helpers)console.log(t+this.hooks.helpers[t])}modify(t){const r={vertex:{},fragment:{},helpers:{}};for(const o in t)o!=="declarations"&&o!=="uniforms"&&(o==="vertexDeclarations"?r.vertex.declarations=(r.vertex.declarations||"")+`
`+t[o]:o==="fragmentDeclarations"?r.fragment.declarations=(r.fragment.declarations||"")+`
`+t[o]:this.hooks.vertex[o]?r.vertex[o]=t[o]:this.hooks.fragment[o]?r.fragment[o]=t[o]:r.helpers[o]=t[o]);const i=Object.assign({},this.hooks.modified.vertex),s=Object.assign({},this.hooks.modified.fragment);for(const o in r.vertex||{})o!=="declarations"&&(i[o]=!0);for(const o in r.fragment||{})o!=="declarations"&&(s[o]=!0);return new Gr(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(t.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,t.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,r.fragment||{}),vertex:Object.assign({},this.hooks.vertex,r.vertex||{}),helpers:Object.assign({},this.hooks.helpers,r.helpers||{}),modified:{vertex:i,fragment:s}})}init(){if(this._glProgram===0){const t=this._renderer.GL;if(this._vertShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertShader,this.vertSrc()),t.compileShader(this._vertShader),!t.getShaderParameter(this._vertShader,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(this._vertShader);if(typeof IS_MINIFIED<"u")console.error(r);else throw p5._friendlyError(`Yikes! An error occurred compiling the vertex shader:${r}`),r;return null}if(this._fragShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragShader,this.fragSrc()),t.compileShader(this._fragShader),!t.getShaderParameter(this._fragShader,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(this._fragShader);if(typeof IS_MINIFIED<"u")console.error(r);else throw p5._friendlyError(`Darn! An error occurred compiling the fragment shader:${r}`),r;return null}this._glProgram=t.createProgram(),t.attachShader(this._glProgram,this._vertShader),t.attachShader(this._glProgram,this._fragShader),t.linkProgram(this._glProgram),t.getProgramParameter(this._glProgram,t.LINK_STATUS)||p5._friendlyError(`Snap! Error linking shader program: ${t.getProgramInfoLog(this._glProgram)}`),this._loadAttributes(),this._loadUniforms()}return this}setDefaultUniforms(){for(const t in this.hooks.uniforms){const[,r]=t.split(" "),i=this.hooks.uniforms[t];let s;i instanceof Function?s=i():s=i,s!=null&&this.setUniform(r,s)}}copyToContext(t){const r=new Gr(t._renderer,this._vertSrc,this._fragSrc);return r.ensureCompiledOnContext(t._renderer),r}ensureCompiledOnContext(t){if(this._glProgram!==0&&this._renderer!==t)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=t?._renderer?.filterRenderer?._renderer||t,this.init())}_loadAttributes(){if(this._loadedAttributes)return;this.attributes={};const t=this._renderer.GL,r=t.getProgramParameter(this._glProgram,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;++i){const s=t.getActiveAttrib(this._glProgram,i),o=s.name,a=t.getAttribLocation(this._glProgram,o),l={};l.name=o,l.location=a,l.index=i,l.type=s.type,l.size=s.size,this.attributes[o]=l}this._loadedAttributes=!0}_loadUniforms(){if(this._loadedUniforms)return;const t=this._renderer.GL,r=t.getProgramParameter(this._glProgram,t.ACTIVE_UNIFORMS);let i=0;for(let s=0;s<r;++s){const o=t.getActiveUniform(this._glProgram,s),a={};a.location=t.getUniformLocation(this._glProgram,o.name),a.size=o.size;let l=o.name;o.size>1&&(l=l.substring(0,l.indexOf("[0]"))),a.name=l,a.type=o.type,a._cachedData=void 0,a.type===t.SAMPLER_2D&&(a.samplerIndex=i,i++,this.samplers.push(a)),a.isArray=o.size>1||a.type===t.FLOAT_MAT3||a.type===t.FLOAT_MAT4||a.type===t.FLOAT_VEC2||a.type===t.FLOAT_VEC3||a.type===t.FLOAT_VEC4||a.type===t.INT_VEC2||a.type===t.INT_VEC4||a.type===t.INT_VEC3,this.uniforms[l]=a}this._loadedUniforms=!0}compile(){}bindShader(){this.init(),this._bound||(this.useProgram(),this._bound=!0)}unbindShader(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}bindTextures(){const t=this._renderer.GL,r=this._renderer._getEmptyTexture();for(const i of this.samplers){let s=i.texture;s===void 0&&(i.texture=s=r),t.activeTexture(t.TEXTURE0+i.samplerIndex),s.bindTexture(),s.update(),t.uniform1i(i.location,i.samplerIndex)}}updateTextures(){for(const t of this.samplers){const r=t.texture;r&&r.update()}}unbindTextures(){const t=this._renderer.GL,r=this._renderer._getEmptyTexture();for(const i of this.samplers)i.texture?.isFramebufferTexture&&(t.activeTexture(t.TEXTURE0+i.samplerIndex),r.bindTexture(),t.uniform1i(i.location,i.samplerIndex))}useProgram(){const t=this._renderer.GL;return this._renderer._curShader!==this&&(t.useProgram(this._glProgram),this._renderer._curShader=this),this}setUniform(t,r){this.init();const i=this.uniforms[t];if(!i)return;const s=this._renderer.GL;if(i.isArray){if(i._cachedData&&this._renderer._arraysEqual(i._cachedData,r))return;i._cachedData=r.slice(0)}else{if(i._cachedData&&i._cachedData===r)return;Array.isArray(r)?i._cachedData=r.slice(0):i._cachedData=r}const o=i.location;switch(this.useProgram(),i.type){case s.BOOL:r===!0?s.uniform1i(o,1):s.uniform1i(o,0);break;case s.INT:i.size>1?r.length&&s.uniform1iv(o,r):s.uniform1i(o,r);break;case s.FLOAT:i.size>1?r.length&&s.uniform1fv(o,r):s.uniform1f(o,r);break;case s.FLOAT_MAT3:s.uniformMatrix3fv(o,!1,r);break;case s.FLOAT_MAT4:s.uniformMatrix4fv(o,!1,r);break;case s.FLOAT_VEC2:i.size>1?r.length&&s.uniform2fv(o,r):s.uniform2f(o,r[0],r[1]);break;case s.FLOAT_VEC3:i.size>1?r.length&&s.uniform3fv(o,r):s.uniform3f(o,r[0],r[1],r[2]);break;case s.FLOAT_VEC4:i.size>1?r.length&&s.uniform4fv(o,r):s.uniform4f(o,r[0],r[1],r[2],r[3]);break;case s.INT_VEC2:i.size>1?r.length&&s.uniform2iv(o,r):s.uniform2i(o,r[0],r[1]);break;case s.INT_VEC3:i.size>1?r.length&&s.uniform3iv(o,r):s.uniform3i(o,r[0],r[1],r[2]);break;case s.INT_VEC4:i.size>1?r.length&&s.uniform4iv(o,r):s.uniform4i(o,r[0],r[1],r[2],r[3]);break;case s.SAMPLER_2D:if(typeof r=="number"){if(r<s.TEXTURE0||r>s.TEXTURE31||r!==Math.ceil(r))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;s.activeTexture(r),s.uniform1i(o,r)}else s.activeTexture(s.TEXTURE0+i.samplerIndex),i.texture=r instanceof Zo?r:this._renderer.getTexture(r),s.uniform1i(o,i.samplerIndex),i.texture.src.gifProperties&&i.texture.src._animateGif(this._renderer._pInst);break;case s.SAMPLER_CUBE:case s.SAMPLER_3D:case s.SAMPLER_2D_SHADOW:case s.SAMPLER_2D_ARRAY:case s.SAMPLER_2D_ARRAY_SHADOW:case s.SAMPLER_CUBE_SHADOW:case s.INT_SAMPLER_2D:case s.INT_SAMPLER_3D:case s.INT_SAMPLER_CUBE:case s.INT_SAMPLER_2D_ARRAY:case s.UNSIGNED_INT_SAMPLER_2D:case s.UNSIGNED_INT_SAMPLER_3D:case s.UNSIGNED_INT_SAMPLER_CUBE:case s.UNSIGNED_INT_SAMPLER_2D_ARRAY:if(typeof r!="number")break;if(r<s.TEXTURE0||r>s.TEXTURE31||r!==Math.ceil(r)){console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture.");break}s.activeTexture(r),s.uniform1i(o,r);break}return this}enableAttrib(t,r,i,s,o,a){if(t){typeof IS_MINIFIED>"u"&&this.attributes[t.name]!==t&&console.warn(`The attribute "${t.name}"passed to enableAttrib does not belong to this shader.`);const l=t.location;if(l!==-1){const u=this._renderer.GL;this._renderer.registerEnabled.has(l)||(u.enableVertexAttribArray(l),this._renderer.registerEnabled.add(l)),this._renderer.GL.vertexAttribPointer(l,r,i||u.FLOAT,s||!1,o||0,a||0)}}return this}disableRemainingAttributes(){for(const t of this._renderer.registerEnabled.values())Object.keys(this.attributes).some(r=>this.attributes[r].location===t)||(this._renderer.GL.disableVertexAttribArray(t),this._renderer.registerEnabled.delete(t))}}function nx(n,t){n.Shader=Gr}typeof p5<"u"&&nx(p5,p5.prototype);var G5=`precision highp int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

IN vec3 aPosition;
IN vec2 aTexCoord;
OUT vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // project to 3D space
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,Q2=`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,By=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif

#ifdef FRAGMENT_SHADER
vec4 getTexture(in sampler2D content, vec2 coord) {
  vec4 color = TEXTURE(content, coord);
  color.rgb /= color.a;
  return color;
}
#endif
`,BK=`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

#define HOOK_DEFINES

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
uniform mat3 uModelNormalMatrix;
uniform mat3 uCameraNormalMatrix;
#else
uniform mat4 uModelViewMatrix;
uniform mat3 uNormalMatrix;
#endif
uniform mat4 uProjectionMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

struct Vertex {
  vec3 position;
  vec3 normal;
  vec2 texCoord;
  vec4 color;
};

void main(void) {
  HOOK_beforeVertex();

  Vertex inputs;
  inputs.position = aPosition;
  inputs.normal = aNormal;
  inputs.texCoord = aTexCoord;
  inputs.color = (uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor;
#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uModelNormalMatrix * inputs.normal;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uCameraNormalMatrix * inputs.normal;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uNormalMatrix * inputs.normal;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = HOOK_getCameraInputs(inputs);
#endif

  // Pass varyings to fragment shader
  vVertTexCoord = inputs.texCoord;
  vVertexNormal = normalize(inputs.normal);
  vColor = inputs.color;

  gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);

  HOOK_afterVertex();
}
`,UK=`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,VK=`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,$K=`#define PI 3.141592

precision highp float;
  
uniform sampler2D uEnvMap;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    vec4 newTexColor = texture2D(uEnvMap, suv.xy);
    gl_FragColor = newTexColor;
}
`,jK=`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = ((uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor);
}
`,zK=`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,GK=`precision highp int;

#define HOOK_DEFINES

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
uniform mat3 uModelNormalMatrix;
uniform mat3 uCameraNormalMatrix;
#else
uniform mat4 uModelViewMatrix;
uniform mat3 uNormalMatrix;
#endif
uniform mat4 uProjectionMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

struct Vertex {
  vec3 position;
  vec3 normal;
  vec2 texCoord;
  vec4 color;
};

void main(void) {
  HOOK_beforeVertex();

  Vertex inputs;
  inputs.position = aPosition;
  inputs.normal = aNormal;
  inputs.texCoord = aTexCoord;
  inputs.color = (uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor;
#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uModelNormalMatrix * inputs.normal;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uCameraNormalMatrix * inputs.normal;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uNormalMatrix * inputs.normal;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = HOOK_getCameraInputs(inputs);
#endif

  // Pass varyings to fragment shader
  vViewPosition = inputs.position;
  vTexCoord = inputs.texCoord;
  vNormal = inputs.normal;
  vColor = inputs.color;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }

  gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);
  HOOK_afterVertex();
}
`,HK=`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      ? TEXTURE(uSampler, vTexCoord) * (vec4(uTint.rgb/255., 1.) * uTint.a/255.)
      : vColor;
  if (isTexture && inputs.color.a > 0.0) {
    // Textures come in with premultiplied alpha. Temporarily unpremultiply it
    // so hooks users don't have to think about premultiplied alpha.
    inputs.color.rgb /= inputs.color.a;
  }
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  OUT_COLOR.rgb *= OUT_COLOR.a; // Premultiply alpha before rendering
  HOOK_afterFragment();
}
`,WK=`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5));
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,XK=`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,qK=`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

#define HOOK_DEFINES

precision highp int;
precision highp float;

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
#else
uniform mat4 uModelViewMatrix;
#endif

uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform bool uSimpleLines;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec3 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

struct StrokeVertex {
  vec3 position;
  vec3 tangentIn;
  vec3 tangentOut;
  vec4 color;
  float weight;
};

void main() {
  HOOK_beforeVertex();

  if (!uSimpleLines) {
      // Caps have one of either the in or out tangent set to 0
      vCap = (aTangentIn == vec3(0.)) != (aTangentOut == vec3(0.)) ? 1. : 0.;

      // Joins have two unique, defined tangents
      vJoin = (
          aTangentIn != vec3(0.) &&
          aTangentOut != vec3(0.) &&
          aTangentIn != aTangentOut
      ) ? 1. : 0.;
  }

  StrokeVertex inputs;
  inputs.position = aPosition.xyz;
  inputs.color = uUseLineColor ? aVertexColor : uMaterialColor;
  inputs.weight = uStrokeWeight;
  inputs.tangentIn = aTangentIn;
  inputs.tangentOut = aTangentOut;

#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uModelMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uModelMatrix * vec4(aTangentOut, 0.)).xyz;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uViewMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uViewMatrix * vec4(aTangentOut, 0.)).xyz;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uModelViewMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uModelViewMatrix * vec4(aTangentOut, 0.)).xyz;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = hook_getCameraInputs(inputs);
#endif

  vec4 posp = vec4(inputs.position, 1.);
  vec4 posqIn = vec4(inputs.position + inputs.tangentIn, 1.);
  vec4 posqOut = vec4(inputs.position + inputs.tangentOut, 1.);
  vStrokeWeight = inputs.weight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(0., -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1. && !uSimpleLines) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * inputs.weight / 2.),
          tangentIn,
          c + (side * normalOut * inputs.weight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * inputs.weight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * inputs.weight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * inputs.weight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * inputs.weight / 2.));
    } else {
      vMaxDist = inputs.weight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      inputs.weight * 0.5;
    vMaxDist = inputs.weight / 2.;
  }

  vCenter = p.xy;
  vPosition = vCenter + offset;
  vColor = inputs.color;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  HOOK_afterVertex();
}
`,YK=`precision highp int;
precision highp float;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,KK=`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,ZK=`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,JK=`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,QK=`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,eZ=`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`,H5=`precision highp float;

uniform sampler2D tex0;
uniform vec2 canvasSize;
uniform vec2 texelSize;

IN vec2 vTexCoord;

struct FilterInputs {
  vec2 texCoord;
  vec2 canvasSize;
  vec2 texelSize;
};

void main(void) {
  FilterInputs inputs;
  inputs.texCoord = vTexCoord;
  inputs.canvasSize = canvasSize;
  inputs.texelSize = texelSize;
  OUT_COLOR = HOOK_getColor(inputs, tex0);
  OUT_COLOR.rgb *= outColor.a;
}
`,W5=`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`,X5=`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`,q5=`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`,Y5=`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`,K5=`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`,Z5=`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`,J5=`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`,Q5=`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`,eF=`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`;const tF={},nF={};let Kp="";const rx=function(n,t){Kp+=`#define STROKE_CAP_${n} ${t}
`,tF[Oa[n]]=t},ix=function(n,t){Kp+=`#define STROKE_JOIN_${n} ${t}
`,nF[Oa[n]]=t};rx("ROUND",0);rx("PROJECT",1);rx("SQUARE",2);ix("ROUND",0);ix("MITER",1);ix("BEVEL",2);const Jn={normalVert:BK,normalFrag:UK,basicFrag:VK,sphereMappingFrag:$K,lightVert:Q2+jK,lightTextureFrag:zK,phongVert:GK,phongFrag:Q2+HK,fontVert:WK,fontFrag:XK,lineVert:Kp+qK,lineFrag:Kp+YK,pointVert:KK,pointFrag:ZK,imageLightVert:JK,imageLightDiffusedFrag:QK,imageLightSpecularFrag:eZ,filterBaseVert:G5,filterBaseFrag:H5};let tZ=Jn.sphereMappingFrag;for(const n in Jn)Jn[n]=By+Jn[n];const nZ={[Ob]:W5,[Bb]:X5,[Rb]:q5,[cc]:Y5,[hg]:K5,[Lb]:Z5,[Pb]:J5,[cg]:Q5};class Ot extends It{constructor(t,r,i,s,o,a){super(t,r,i,s),this.canvas=this.elt=o||document.createElement("canvas"),this._setAttributeDefaults(t),this._initContext(),this.GL=this.drawingContext,this._isMainCanvas?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display="none",this.elt.id="defaultCanvas0",this.elt.classList.add("p5Canvas"),this.wrappedElt=new Pr(this.elt,this._pInst);for(const u of Object.getOwnPropertyNames(Pr.prototype))u!=="constructor"&&u[0]!=="_"&&Object.defineProperty(this,u,{get(){return this.wrappedElt[u]}});const l=this._adjustDimensions(r,i);if(r=l.adjustedWidth,i=l.adjustedHeight,this.width=r,this.height=i,this.elt.width=r*this._pixelDensity,this.elt.height=i*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${i}px`,this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(document.getElementsByTagName("main").length===0){let u=document.createElement("main");document.body.appendChild(u)}document.getElementsByTagName("main")[0].appendChild(this.elt)}this.isP3D=!0,this.geometryBuilder=void 0,this.states.uModelMatrix=new Rn(4),this.states.uViewMatrix=new Rn(4),this.states.uPMatrix=new Rn(4),this.states.curCamera=new ql(this),this.states.uPMatrix.set(this.states.curCamera.projMatrix),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.enableLighting=!1,this.states.ambientLightColors=[],this.states.specularColors=[1,1,1],this.states.directionalLightDirections=[],this.states.directionalLightDiffuseColors=[],this.states.directionalLightSpecularColors=[],this.states.pointLightPositions=[],this.states.pointLightDiffuseColors=[],this.states.pointLightSpecularColors=[],this.states.spotLightPositions=[],this.states.spotLightDirections=[],this.states.spotLightDiffuseColors=[],this.states.spotLightSpecularColors=[],this.states.spotLightAngle=[],this.states.spotLightConc=[],this.states.activeImageLight=null,this.states.curFillColor=[1,1,1,1],this.states.curAmbientColor=[1,1,1,1],this.states.curSpecularColor=[0,0,0,0],this.states.curEmissiveColor=[0,0,0,0],this.states.curStrokeColor=[0,0,0,1],this.states.curBlendMode=Ii,this.states._hasSetAmbient=!1,this.states._useSpecularMaterial=!1,this.states._useEmissiveMaterial=!1,this.states._useNormalMaterial=!1,this.states._useShininess=1,this.states._useMetalness=0,this.states.tint=[255,255,255,255],this.states.constantAttenuation=1,this.states.linearAttenuation=0,this.states.quadraticAttenuation=0,this.states._currentNormal=new Fe(0,0,1),this.states.drawMode=$p,this.states._tex=null,this.states.textureMode=fg,this.states.textureWrapX=Ty,this.states.textureWrapY=Ty,this._isErasing=!1,this._simpleLines=!1,this._clipDepths=[],this._isClipApplied=!1,this._stencilTestOn=!1,this.mixedAmbientLight=[],this.mixedSpecularColor=[],this.diffusedTextures=new Map,this.specularTextures=new Map,this.preEraseBlend=void 0,this._cachedBlendMode=void 0,this._cachedFillStyle=[1,1,1,1],this._cachedStrokeStyle=[0,0,0,1],this.webglVersion===Ir?this.blendExt=this.GL:this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useLineColor=!1,this._useVertexColor=!1,this.registerEnabled=new Set,this.states.curCamera._computeCameraDefaultSettings(),this.states.curCamera._setDefaultCamera(),this.filterCamera=new ql(this),this.filterCamera._computeCameraDefaultSettings(),this.filterCamera._setDefaultCamera(),this.prevTouches=[],this.zoomVelocity=0,this.rotateVelocity=new Fe(0,0),this.moveVelocity=new Fe(0,0),this.executeZoom=!1,this.executeRotateAndMove=!1,this._drawingFilter=!1,this._drawingImage=!1,this.specularShader=void 0,this.sphereMapping=void 0,this.diffusedShader=void 0,this._baseFilterShader=void 0,this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.states.userFillShader=void 0,this.states.userStrokeShader=void 0,this.states.userPointShader=void 0,this.states.userImageShader=void 0,this.states.curveDetail=1/4,this.shapeBuilder=new PK(this),this.buffers={fill:[new wi(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new wi(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new wi(4,"vertexColors","colorBuffer","aVertexColor",this),new wi(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new wi(2,"uvs","uvBuffer","aTexCoord",this,u=>u.flat())],stroke:[new wi(4,"lineVertexColors","lineColorBuffer","aVertexColor",this),new wi(3,"lineVertices","lineVerticesBuffer","aPosition",this),new wi(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this),new wi(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this),new wi(1,"lineSides","lineSidesBuffer","aSide",this)],text:[new wi(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new wi(2,"uvs","uvBuffer","aTexCoord",this,u=>u.flat())],point:this.GL.createBuffer(),user:[]},this.geometryBufferCache=new RK(this),this.curStrokeCap=Na,this.curStrokeJoin=Na,this.textures=new Map,this.framebuffers=new Set,this.activeFramebuffers=[],this.states.filterShader=void 0,this.filterLayer=void 0,this.filterLayerTemp=void 0,this.defaultFilterShaders={},this.fontInfos={},this._curShader=void 0,this.drawShapeCount=1,this.scratchMat3=new Rn(3),this._userEnabledStencil=!1,this._internalEnable=this.drawingContext.enable,this._internalDisable=this.drawingContext.disable,this.drawingContext.enable=u=>(u===this.drawingContext.STENCIL_TEST&&(this._clipping||(this._userEnabledStencil=!0)),this._internalEnable.call(this.drawingContext,u)),this.drawingContext.disable=u=>(u===this.drawingContext.STENCIL_TEST&&(this._userEnabledStencil=!1),this._internalDisable.call(this.drawingContext,u)),this._validateFaces=!1}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}beginGeometry(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new Qh(this),this.geometryBuilder.prevFillColor=this.states.fillColor,this.fill(new yt([-1,-1,-1,-1]))}endGeometry(){if(!this.geometryBuilder)throw new Error("Make sure you call beginGeometry() before endGeometry()!");const t=this.geometryBuilder.finish();return this.geometryBuilder.prevFillColor?this.fill(this.geometryBuilder.prevFillColor):this.noFill(),this.geometryBuilder=void 0,t}buildGeometry(t){return this.beginGeometry(),t(),this.endGeometry()}beginShape(...t){super.beginShape(...t)}curveDetail(t){if(t===void 0)return this.states.curveDetail;this.states.setValue("curveDetail",t)}drawShape(t){const r=new N5({curveDetail:this.states.curveDetail});t.accept(r),this.shapeBuilder.constructFromContours(t,r.contours),this.geometryBuilder?this.geometryBuilder.addImmediate(this.shapeBuilder.geometry,this.shapeBuilder.shapeMode,{validateFaces:this._validateFaces}):(this.states.fillColor||this.states.strokeColor)&&(this.shapeBuilder.shapeMode===Up?this._drawPoints(this.shapeBuilder.geometry.vertices,this.buffers.point):this._drawGeometry(this.shapeBuilder.geometry,{mode:this.shapeBuilder.shapeMode,count:this.drawShapeCount})),this.drawShapeCount=1}endShape(t,r){this.drawShapeCount=r,super.endShape(t,r)}vertexProperty(...t){this.currentShape.vertexProperty(...t)}normal(t,r,i){t instanceof Fe?this.states.setValue("_currentNormal",t):this.states.setValue("_currentNormal",new Fe(t,r,i)),this.updateShapeVertexProperties()}model(t,r=1){t.vertices.length>0&&(this.geometryBuilder?this.geometryBuilder.addRetained(t):(this.geometryInHash(t.gid)||(t._edgesToVertices(),this._getOrMakeCachedBuffers(t)),this._drawGeometry(t,{count:r})))}_drawGeometry(t,{mode:r=Dl,count:i=1}={}){for(const s in t.userVertexProperties){const o=t.userVertexProperties[s];this.buffers.user.push(new wi(o.getDataSize(),o.getSrcName(),o.getDstName(),o.getName(),this))}this.states.fillColor&&t.vertices.length>=3&&![uc,Up].includes(r)&&this._drawFills(t,{mode:r,count:i}),this.states.strokeColor&&t.lineVertices.length>=1&&this._drawStrokes(t,{count:i}),this.buffers.user=[]}_drawGeometryScaled(t,r,i,s){let o=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone());try{this.states.uModelMatrix.scale(r,i,s),this.geometryBuilder?this.geometryBuilder.addRetained(t):this._drawGeometry(t)}finally{this.states.setValue("uModelMatrix",o)}}_drawFills(t,{count:r,mode:i}={}){this._useVertexColor=t.vertexColors.length>0;const s=!this._drawingFilter&&this.states.userFillShader?this.states.userFillShader:this._getFillShader();s.bindShader(),this._setGlobalUniforms(s),this._setFillUniforms(s),s.bindTextures();for(const o of this.buffers.fill)o._prepareBuffer(t,s);this._prepareUserAttributes(t,s),s.disableRemainingAttributes(),this._applyColorBlend(this.states.curFillColor,t.hasFillTransparency()),this._drawBuffers(t,{mode:i,count:r}),s.unbindShader()}_drawStrokes(t,{count:r}={}){const i=this.GL;this._useLineColor=t.vertexStrokeColors.length>0;const s=this._getStrokeShader();s.bindShader(),this._setGlobalUniforms(s),this._setStrokeUniforms(s),s.bindTextures();for(const o of this.buffers.stroke)o._prepareBuffer(t,s);if(this._prepareUserAttributes(t,s),s.disableRemainingAttributes(),this._applyColorBlend(this.states.curStrokeColor,t.hasStrokeTransparency()),r===1)i.drawArrays(i.TRIANGLES,0,t.lineVertices.length/3);else try{i.drawArraysInstanced(i.TRIANGLES,0,t.lineVertices.length/3,r)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}s.unbindShader()}_drawPoints(t,r){const i=this.GL,s=this._getPointShader();s.bindShader(),this._setGlobalUniforms(s),this._setPointUniforms(s),s.bindTextures(),this._bindBuffer(r,i.ARRAY_BUFFER,this._vToNArray(t),Float32Array,i.STATIC_DRAW),s.enableAttrib(s.attributes.aPosition,3),this._applyColorBlend(this.states.curStrokeColor),i.drawArrays(i.Points,0,t.length),s.unbindShader()}_prepareUserAttributes(t,r){for(const i of this.buffers.user){if(!this._pInst.constructor.disableFriendlyErrors){const s=t.userVertexProperties[i.attr];if(s){const o=s.getSrcArray().length/s.getDataSize();o>t.vertices.length?this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property '${s.getName()}' with more values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,"vertexProperty()"):o<t.vertices.length&&this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property '${s.getName()}' with fewer values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,"vertexProperty()")}}i._prepareBuffer(t,r)}}_drawBuffers(t,{mode:r=this.GL.TRIANGLES,count:i}){const s=this.GL,o=this.geometryBufferCache.getCached(t);if(o)if(o.indexBuffer){if(this._bindBuffer(o.indexBuffer,s.ELEMENT_ARRAY_BUFFER),this._pInst.webglVersion!==Ir&&o.indexBufferType===s.UNSIGNED_INT&&!s.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");if(i===1)s.drawElements(s.TRIANGLES,t.faces.length*3,o.indexBufferType,0);else try{s.drawElementsInstanced(s.TRIANGLES,t.faces.length*3,o.indexBufferType,0,i)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}}else if(i===1)s.drawArrays(r,0,t.vertices.length);else try{s.drawArraysInstanced(r,0,t.vertices.length,i)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}}_getOrMakeCachedBuffers(t){return this.geometryBufferCache.ensureCached(t)}_setAttributeDefaults(t){const i={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};t._glAttributes===null?t._glAttributes=i:t._glAttributes=Object.assign(i,t._glAttributes)}_initContext(){if(this._pInst._glAttributes?.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?Ir:Ma,this._pInst.webglVersion=this.webglVersion,this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");{const t=this.drawingContext;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}}_getMaxTextureSize(){const t=this.drawingContext;return t.getParameter(t.MAX_TEXTURE_SIZE)}_adjustDimensions(t,r){this._maxTextureSize||(this._maxTextureSize=this._getMaxTextureSize());let i=this._maxTextureSize,s=Math.floor(i/this._pixelDensity),o=Math.min(t,s),a=Math.min(r,s);return(o!==t||a!==r)&&console.warn(`Warning: The requested width/height exceeds hardware limits. Adjusting dimensions to width: ${o}, height: ${a}.`),{adjustedWidth:o,adjustedHeight:a}}_resetContext(t,r){const i=this.width,s=this.height,o=this.canvas.id,a=this._pInst instanceof dc,l={position:this.canvas.style.position,top:this.canvas.style.top,left:this.canvas.style.left};if(a){const h=this._pInst;h.canvas.parentNode.removeChild(h.canvas),h.canvas=document.createElement("canvas"),(h._pInst._userNode||document.body).appendChild(h.canvas),Pr.call(h,h.canvas,h._pInst),h.width=i,h.height=s}else{let h=this.canvas;h&&h.parentNode.removeChild(h),h=document.createElement("canvas"),h.id=o,this._pInst._userNode?this._pInst._userNode.appendChild(h):document.body.appendChild(h),this._pInst.canvas=h,this.canvas=h,this.canvas.style.position=l.position,this.canvas.style.top=l.top,this.canvas.style.left=l.left}const u=new Ot(this._pInst,i,s,!a,this._pInst.canvas);this._pInst._renderer=u,u._applyDefaults(),typeof r=="function"&&setTimeout(()=>{r.apply(window._renderer,t)},0)}_update(){this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.setValue("ambientLightColors",[]),this.states.setValue("specularColors",[1,1,1]),this.states.setValue("directionalLightDirections",[]),this.states.setValue("directionalLightDiffuseColors",[]),this.states.setValue("directionalLightSpecularColors",[]),this.states.setValue("pointLightPositions",[]),this.states.setValue("pointLightDiffuseColors",[]),this.states.setValue("pointLightSpecularColors",[]),this.states.setValue("spotLightPositions",[]),this.states.setValue("spotLightDirections",[]),this.states.setValue("spotLightDiffuseColors",[]),this.states.setValue("spotLightSpecularColors",[]),this.states.setValue("spotLightAngle",[]),this.states.setValue("spotLightConc",[]),this.states.setValue("enableLighting",!1),this.states.setValue("tint",[255,255,255,255]),this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)}background(...t){const r=this._pInst.color(...t);this.clear(...r._getRGBA())}get uModelMatrix(){return this.states.uModelMatrix}get uViewMatrix(){return this.states.uViewMatrix}get uPMatrix(){return this.states.uPMatrix}get uMVMatrix(){const t=this.uModelMatrix.copy();return t.mult(this.uViewMatrix),t}getWorldToScreenMatrix(){const t=this.states.uModelMatrix,r=this.states.uViewMatrix,i=this.states.uPMatrix,s=new Rn(4);return s.scale(this.width,this.height,1),s.translate([.5,.5,.5]),s.scale(.5,-.5,.5),t.copy().mult(r).mult(i).mult(s)}fill(...t){super.fill(...t);const r=this.states.fillColor;this.states.setValue("curFillColor",r._array),this.states.setValue("drawMode",$p),this.states.setValue("_useNormalMaterial",!1),this.states.setValue("_tex",null)}stroke(...t){super.stroke(...t),this.states.setValue("curStrokeColor",this.states.strokeColor._array)}getCommonVertexProperties(){return{...super.getCommonVertexProperties(),stroke:this.states.strokeColor,fill:this.states.fillColor,normal:this.states._currentNormal}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!0}}strokeCap(t){this.curStrokeCap=t}strokeJoin(t){this.curStrokeJoin=t}getFilterLayer(){return this.filterLayer||(this.filterLayer=new Vs(this)),this.filterLayer}getFilterLayerTemp(){return this.filterLayerTemp||(this.filterLayerTemp=new Vs(this)),this.filterLayerTemp}matchSize(t,r){(t.width!==r.width||t.height!==r.height)&&t.resize(r.width,r.height),t.pixelDensity()!==r.pixelDensity()&&t.pixelDensity(r.pixelDensity())}filter(...t){let r=this.getFilterLayer(),i,s;typeof t[0]=="string"?(s=t[0],i=s in Yp&&t[1]===void 0?Yp[s]:t[1],s in this.defaultFilterShaders||(this.defaultFilterShaders[s]=new Gr(r.renderer,eF,nZ[s])),this.states.setValue("filterShader",this.defaultFilterShaders[s])):this.states.setValue("filterShader",t[0]);const o=this.activeFramebuffer()||this;this.matchSize(r,o),r.draw(()=>this.clear());let a=[1/(o.width*o.pixelDensity()),1/(o.height*o.pixelDensity())];if(s===cc){const l=this.getFilterLayerTemp();this.matchSize(l,o),this.push(),this.states.setValue("strokeColor",null),this.blendMode(Ii),this.shader(this.states.filterShader),this.states.filterShader.setUniform("texelSize",a),this.states.filterShader.setUniform("canvasSize",[o.width,o.height]),this.states.filterShader.setUniform("radius",Math.max(1,i)),l.draw(()=>{this.states.filterShader.setUniform("direction",[1,0]),this.states.filterShader.setUniform("tex0",o),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(o.width,o.height)}),r.draw(()=>{this.states.filterShader.setUniform("direction",[0,1]),this.states.filterShader.setUniform("tex0",l),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(o.width,o.height)}),this.pop()}else r.draw(()=>{this.states.setValue("strokeColor",null),this.blendMode(Ii),this.shader(this.states.filterShader),this.states.filterShader.setUniform("tex0",o),this.states.filterShader.setUniform("texelSize",a),this.states.filterShader.setUniform("canvasSize",[o.width,o.height]),this.states.filterShader.setUniform("filterParameter",i),this.noLights(),this.plane(o.width,o.height)});this.push(),this.states.setValue("strokeColor",null),this.clear(),this.push(),this.states.setValue("imageMode",hs),this.blendMode(Ii),o.filterCamera._resize(),this.setCamera(o.filterCamera),this.resetMatrix(),this._drawingFilter=!0,this.image(r,0,0,r.width,r.height,-o.width/2,-o.height/2,o.width,o.height),this._drawingFilter=!1,this.clearDepth(),this.pop(),this.pop()}pixelDensity(t){return t?this._pInst.pixelDensity(t):this._pInst.pixelDensity()}blendMode(t){t===rg||t===ig||t===Xh||t===Ii||t===sg||t===lg||t===og||t===ug||t===ag||t===zl?this.states.setValue("curBlendMode",t):(t===Mb||t===Db||t===Nb||t===Fb||t===kb)&&console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}erase(t,r){this._isErasing||(this.preEraseBlend=this.states.curBlendMode,this._isErasing=!0,this.blendMode(zl),this._cachedFillStyle=this.states.curFillColor.slice(),this.states.setValue("curFillColor",[1,1,1,t/255]),this._cachedStrokeStyle=this.states.curStrokeColor.slice(),this.states.setValue("curStrokeColor",[1,1,1,r/255]))}noErase(){this._isErasing&&(this.states.setValue("curFillColor",this._cachedFillStyle.slice()),this.states.setValue("curStrokeColor",this._cachedStrokeStyle.slice()),this.states.setValue("curBlendMode",this.preEraseBlend),this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}drawTarget(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}beginClip(t={}){super.beginClip(t),this.drawTarget()._isClipApplied=!0;const r=this.GL;r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),this._internalEnable.call(r,r.STENCIL_TEST),this._stencilTestOn=!0,r.stencilFunc(r.ALWAYS,1,255),r.stencilOp(r.KEEP,r.KEEP,r.REPLACE),r.disable(r.DEPTH_TEST),this.push(),this.resetShader(),this.states.fillColor&&this.fill(0,0),this.states.strokeColor&&this.stroke(0,0)}endClip(){this.pop();const t=this.GL;t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.stencilFunc(this._clipInvert?t.EQUAL:t.NOTEQUAL,0,255),t.enable(t.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),super.endClip()}_clearClip(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),this._clipDepths.length>0&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}_getPixel(t,r){const i=this.GL;return iF(i,null,t,r,i.RGBA,i.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}loadPixels(){if(this._pInst._glAttributes.preserveDrawingBuffer!==!0){console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.");return}const t=this._pixelDensity,r=this.GL;this.pixels=Uy(this.pixels,r,null,0,0,this.width*t,this.height*t,r.RGBA,r.UNSIGNED_BYTE,this.height*t)}updatePixels(){const t=this._getTempFramebuffer();t.pixels=this.pixels,t.updatePixels(),this.push(),this.resetMatrix(),this.clear(),this.states.setValue("imageMode",hs),this.image(t,0,0,t.width,t.height,-t.width/2,-t.height/2,t.width,t.height),this.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}_getTempFramebuffer(){return this._tempFramebuffer||(this._tempFramebuffer=new Vs(this,{format:ba,useDepth:this._pInst._glAttributes.depth,depthFormat:gh,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}geometryInHash(t){return this.geometryBufferCache.isCached(t)}viewport(t,r){this._viewport=[0,0,t,r],this.GL.viewport(0,0,t,r)}resize(t,r){super.resize(t,r);const i={};for(const o in this.drawingContext){const a=this.drawingContext[o];typeof a!="object"&&typeof a!="function"&&(i[o]=a)}const s=this._adjustDimensions(t,r);t=s.adjustedWidth,r=s.adjustedHeight,this.width=t,this.height=r,this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this.states.curCamera._resize(),typeof this.pixels<"u"&&(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4));for(const o of this.framebuffers)o._canvasSizeChanged();for(const o in i)try{this.drawingContext[o]=i[o]}catch{}}clear(...t){const r=t[0]||0,i=t[1]||0,s=t[2]||0;let o=t[3]||0;const a=this.activeFramebuffer();a&&a.format===ba&&!a.antialias&&o===0&&(o=1e-10),this.GL.clearColor(r*o,i*o,s*o,o),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}clearDepth(t=1){this.GL.clearDepth(t),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}applyMatrix(t,r,i,s,o,a){this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),arguments.length===16?Rn.prototype.apply.apply(this.states.uModelMatrix,arguments):this.states.uModelMatrix.apply([t,r,0,0,i,s,0,0,0,0,1,0,o,a,0,1])}translate(t,r,i){return t instanceof Fe&&(i=t.z,r=t.y,t=t.x),this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.translate([t,r,i]),this}scale(t,r,i){return this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.scale(t,r,i),this}rotate(t,r){return typeof r>"u"?this.rotateZ(t):(this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),Rn.prototype.rotate4x4.apply(this.states.uModelMatrix,arguments),this)}rotateX(t){return this.rotate(t,1,0,0),this}rotateY(t){return this.rotate(t,0,1,0),this}rotateZ(t){return this.rotate(t,0,0,1),this}pop(...t){this._clipDepths.length>0&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&(this._clearClip(),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)),super.pop(...t),this._applyStencilTestIfClipping()}_applyStencilTestIfClipping(){const t=this.drawTarget();t._isClipApplied!==this._stencilTestOn&&(t._isClipApplied?(this._internalEnable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!1))}resetMatrix(){return this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this}_getStrokeShader(){const t=this.states.userStrokeShader;return t||this._getLineShader()}_getSphereMapping(t){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(tZ)),this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),this.scratchMat3.invert(this.scratchMat3),this.sphereMapping.setUniform("uFovY",this.states.curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this.states.curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.scratchMat3.mat3),this.sphereMapping.setUniform("uEnvMap",t),this.sphereMapping}_getFillShader(){return this._drawingImage?this.states.userImageShader&&!this._drawingFilter?this.states.userImageShader:this._getLightShader():this.states.userFillShader?this.states.userFillShader:this.states._useNormalMaterial?this._getNormalShader():this.states.enableLighting||this.states._tex?this._getLightShader():this._getColorShader()}_getPointShader(){const t=this.states.userPointShader;return!t||!t.isPointShader()?this._getPointShader():t}baseMaterialShader(){if(!this._pInst._glAttributes.perPixelLighting)throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.");return this._getLightShader()}_getLightShader(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","highp")+Jn.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+Jn.phongFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","highp")+Jn.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+Jn.lightTextureFrag)),this._defaultLightShader}baseNormalShader(){return this._getNormalShader()}_getNormalShader(){return this._defaultNormalShader||(this._defaultNormalShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","mediump")+Jn.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Jn.normalFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}baseColorShader(){return this._getColorShader()}_getColorShader(){return this._defaultColorShader||(this._defaultColorShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","mediump")+Jn.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Jn.basicFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}pointShader(){return this._getPointShader()}_getPointShader(){return this._defaultPointShader||(this._defaultPointShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","mediump")+Jn.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+Jn.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}baseStrokeShader(){return this._getLineShader()}_getLineShader(){return this._defaultLineShader||(this._defaultLineShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","mediump")+Jn.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+Jn.lineFrag,{vertex:{"void beforeVertex":"() {}","StrokeVertex getObjectInputs":"(StrokeVertex inputs) { return inputs; }","StrokeVertex getWorldInputs":"(StrokeVertex inputs) { return inputs; }","StrokeVertex getCameraInputs":"(StrokeVertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}_getFontShader(){return this._defaultFontShader||(this.webglVersion===Ma&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","highp")+Jn.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+Jn.fontFrag)),this._defaultFontShader}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new Gr(this,this._webGL2CompatibilityPrefix("vert","highp")+Jn.filterBaseVert,this._webGL2CompatibilityPrefix("frag","highp")+Jn.filterBaseFrag,{vertex:{},fragment:{"vec4 getColor":`(FilterInputs inputs, in sampler2D canvasContent) {
                return getTexture(canvasContent, inputs.texCoord);
              }`}})),this._baseFilterShader}_webGL2CompatibilityPrefix(t,r){let i="";return this.webglVersion===Ir&&(i+=`#version 300 es
#define WEBGL2
`),t==="vert"?i+=`#define VERTEX_SHADER
`:t==="frag"&&(i+=`#define FRAGMENT_SHADER
`),r&&(i+=`precision ${r} float;
`),i}_getEmptyTexture(){if(!this._emptyTexture){const t=new La(1,1);t.set(0,0,255),this._emptyTexture=new Zo(this,t)}return this._emptyTexture}getTexture(t){let r=t;r instanceof Vs&&(r=r.color);const i=this.textures.get(r);if(i)return i;const s=new Zo(this,r);return this.textures.set(r,s),s}getDiffusedTexture(t){if(this.diffusedTextures.get(t)!=null)return this.diffusedTextures.get(t);let r,i=200,s=i,o=Math.floor(i*(t.height/t.width));return r=new Vs(this,{width:s,height:o,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(Jn.imageLightVert,Jn.imageLightDiffusedFrag)),r.draw(()=>{this.shader(this.diffusedShader),this.diffusedShader.setUniform("environmentMap",t),this.states.setValue("strokeColor",null),this.noLights(),this.plane(s,o)}),this.diffusedTextures.set(t,r),r}getSpecularTexture(t){if(this.specularTextures.get(t)!=null)return this.specularTextures.get(t);const r=512;let i;const s=[],o=new Vs(this,{width:r,height:r,density:1});let a=Math.log(r)/Math.log(2);this.specularShader||(this.specularShader=this._pInst.createShader(Jn.imageLightVert,Jn.imageLightSpecularFrag));for(let l=r;l>=1;l/=2){o.resize(l,l);let h=1-Math.log(l)/Math.log(2)/a;o.draw(()=>{this.shader(this.specularShader),this.clear(),this.specularShader.setUniform("environmentMap",t),this.specularShader.setUniform("roughness",h),this.states.setValue("strokeColor",null),this.noLights(),this.plane(l,l)}),s.push(o.get().drawingContext.getImageData(0,0,l,l))}return o.remove(),i=new oF(this,s,{}),this.specularTextures.set(t,i),i}activeFramebuffer(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}createFramebuffer(t){return new Vs(this,t)}_setGlobalUniforms(t){const r=this.states.uModelMatrix,i=this.states.uViewMatrix,s=this.states.uPMatrix,o=r.copy().mult(i);if(t.setUniform("uPerspective",this.states.curCamera.useLinePerspective?1:0),t.setUniform("uViewMatrix",i.mat4),t.setUniform("uProjectionMatrix",s.mat4),t.setUniform("uModelMatrix",r.mat4),t.setUniform("uModelViewMatrix",o.mat4),t.uniforms.uModelViewProjectionMatrix){const a=o.copy();a.mult(s),t.setUniform("uModelViewProjectionMatrix",a.mat4)}t.uniforms.uNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(o),t.setUniform("uNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uModelNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(this.states.uModelMatrix),t.setUniform("uModelNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uCameraNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform("uCameraNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uCameraRotation&&(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform("uCameraRotation",this.scratchMat3.mat3)),t.setUniform("uViewport",this._viewport)}_setStrokeUniforms(t){t.setUniform("uSimpleLines",this._simpleLines),t.setUniform("uUseLineColor",this._useLineColor),t.setUniform("uMaterialColor",this.states.curStrokeColor),t.setUniform("uStrokeWeight",this.states.strokeWeight),t.setUniform("uStrokeCap",tF[this.curStrokeCap]),t.setUniform("uStrokeJoin",nF[this.curStrokeJoin])}_setFillUniforms(t){this.mixedSpecularColor=[...this.states.curSpecularColor];const r=this._getEmptyTexture();this.states._useMetalness>0&&(this.mixedSpecularColor=this.mixedSpecularColor.map((l,u)=>this.states.curFillColor[u]*this.states._useMetalness+l*(1-this.states._useMetalness))),t.setUniform("uUseVertexColor",this._useVertexColor),t.setUniform("uMaterialColor",this.states.curFillColor),t.setUniform("isTexture",!!this.states._tex),t.setUniform("uSampler",this.states._tex||r),t.setUniform("uTint",this.states.tint),t.setUniform("uHasSetAmbient",this.states._hasSetAmbient),t.setUniform("uAmbientMatColor",this.states.curAmbientColor),t.setUniform("uSpecularMatColor",this.mixedSpecularColor),t.setUniform("uEmissiveMatColor",this.states.curEmissiveColor),t.setUniform("uSpecular",this.states._useSpecularMaterial),t.setUniform("uEmissive",this.states._useEmissiveMaterial),t.setUniform("uShininess",this.states._useShininess),t.setUniform("uMetallic",this.states._useMetalness),this._setImageLightUniforms(t),t.setUniform("uUseLighting",this.states.enableLighting);const i=this.states.pointLightDiffuseColors.length/3;t.setUniform("uPointLightCount",i),t.setUniform("uPointLightLocation",this.states.pointLightPositions),t.setUniform("uPointLightDiffuseColors",this.states.pointLightDiffuseColors),t.setUniform("uPointLightSpecularColors",this.states.pointLightSpecularColors);const s=this.states.directionalLightDiffuseColors.length/3;t.setUniform("uDirectionalLightCount",s),t.setUniform("uLightingDirection",this.states.directionalLightDirections),t.setUniform("uDirectionalDiffuseColors",this.states.directionalLightDiffuseColors),t.setUniform("uDirectionalSpecularColors",this.states.directionalLightSpecularColors);const o=this.states.ambientLightColors.length/3;this.mixedAmbientLight=[...this.states.ambientLightColors],this.states._useMetalness>0&&(this.mixedAmbientLight=this.mixedAmbientLight.map(l=>{let u=l-this.states._useMetalness;return Math.max(0,u)})),t.setUniform("uAmbientLightCount",o),t.setUniform("uAmbientColor",this.mixedAmbientLight);const a=this.states.spotLightDiffuseColors.length/3;t.setUniform("uSpotLightCount",a),t.setUniform("uSpotLightAngle",this.states.spotLightAngle),t.setUniform("uSpotLightConc",this.states.spotLightConc),t.setUniform("uSpotLightDiffuseColors",this.states.spotLightDiffuseColors),t.setUniform("uSpotLightSpecularColors",this.states.spotLightSpecularColors),t.setUniform("uSpotLightLocation",this.states.spotLightPositions),t.setUniform("uSpotLightDirection",this.states.spotLightDirections),t.setUniform("uConstantAttenuation",this.states.constantAttenuation),t.setUniform("uLinearAttenuation",this.states.linearAttenuation),t.setUniform("uQuadraticAttenuation",this.states.quadraticAttenuation)}_setImageLightUniforms(t){if(t.setUniform("uUseImageLight",this.states.activeImageLight!=null),this.states.activeImageLight){let r=this.getDiffusedTexture(this.states.activeImageLight);t.setUniform("environmentMapDiffused",r);let i=this.getSpecularTexture(this.states.activeImageLight);t.setUniform("environmentMapSpecular",i)}}_setPointUniforms(t){t.setUniform("uMaterialColor",this.states.curStrokeColor),t.setUniform("uPointSize",this.states.strokeWeight*this._pixelDensity)}_bindBuffer(t,r,i,s,o){if(r||(r=this.GL.ARRAY_BUFFER),this.GL.bindBuffer(r,t),i!==void 0){let a=i;i instanceof dl?a=i.dataArray():a instanceof(s||Float32Array)||(a=new(s||Float32Array)(a)),this.GL.bufferData(r,a,o||this.GL.STATIC_DRAW)}}_arraysEqual(t,r){return t.length!==r.length?!1:t.every((s,o)=>s===r[o])}_isTypedArray(t){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(r=>t instanceof r)}_vToNArray(t){return t.flatMap(r=>[r.x,r.y,r.z])}}function rF(n,t){n.RendererGL=Ot,t.setAttributes=function(r,i){if(typeof this._glAttributes>"u"){console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");return}let s=!0;if(typeof i<"u"?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[r]!==i&&(this._glAttributes[r]=i,s=!1)):r instanceof Object&&this._glAttributes!==r&&(this._glAttributes=r,s=!1),!(!this._renderer.isP3D||s)){if(!this._setupDone&&this._renderer.geometryBufferCache.numCached()>0){n._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");return}this._renderer._resetContext(),this._renderer.states.curCamera&&(this._renderer.states.curCamera._renderer=this._renderer)}},t._assert3d=function(r){if(!this._renderer.isP3D)throw new Error(`${r}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)},n.renderers[Ma]=n.RendererGL,n.renderers[Ir]=n.RendererGL}function Uy(n,t,r,i,s,o,a,l,u,h){const c=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,r);const f=l===t.RGBA?4:3,d=o*a*f,p=u===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if((!(n instanceof p)||n.length!==d)&&(n=new p(d)),t.readPixels(i,h?h-s-a:s,o,a,l,u,n),t.bindFramebuffer(t.FRAMEBUFFER,c),h){const m=Math.floor(a/2),g=new p(o*f);for(let v=0;v<m;v++){const E=v*o*4,y=(a-v-1)*o*4;g.set(n.subarray(E,E+o*4)),n.copyWithin(E,y,y+o*4),n.set(g,y)}}return n}function iF(n,t,r,i,s,o,a){const l=n.getParameter(n.FRAMEBUFFER_BINDING);n.bindFramebuffer(n.FRAMEBUFFER,t);const u=s===n.RGBA?4:3,h=o===n.UNSIGNED_BYTE?Uint8Array:Float32Array,c=new h(u);return n.readPixels(r,a?a-i-1:i,1,1,s,o,c),n.bindFramebuffer(n.FRAMEBUFFER,l),Array.from(c)}typeof p5<"u"&&rF(p5,p5.prototype);function sx(n,t){t.strokeMode=function(i){if(i===void 0)return this._renderer._simpleLines?_y:wy;if(i===_y)this._renderer._simpleLines=!0;else if(i===wy)this._renderer._simpleLines=!1;else throw Error("no such parameter")},t.buildGeometry=function(i){return this._renderer.buildGeometry(i)},t.freeGeometry=function(i){this._renderer.geometryBufferCache.freeBuffers(i.gid)},t.plane=function(i=50,s=i,o=1,a=1){return this._assert3d("plane"),this._renderer.plane(i,s,o,a),this},t.box=function(i,s,o,a,l){return this._assert3d("box"),this._renderer.box(i,s,o,a,l),this},t.sphere=function(i=50,s=24,o=16){return this._assert3d("sphere"),this._renderer.sphere(i,s,o),this},t.cylinder=function(i=50,s=i,o=24,a=1,l=!0,u=!0){return this._assert3d("cylinder"),this._renderer.cylinder(i,s,o,a,l,u),this},t.cone=function(i=50,s=i,o=24,a=1,l=!0){return this._assert3d("cone"),this._renderer.cone(i,s,o,a,l),this},t.ellipsoid=function(i=50,s=i,o=i,a=24,l=16){return this._assert3d("ellipsoid"),this._renderer.ellipsoid(i,s,o,a,l),this},t.torus=function(i,s,o,a){return this._assert3d("torus"),this._renderer.torus(i,s,o,a),this},Ot.prototype.point=function(i,s,o=0){const a=[];return a.push(new Fe(i,s,o)),this._drawPoints(a,this.buffers.point),this},Ot.prototype.triangle=function(i){const s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],c="tri";if(!this.geometryInHash(c)){const d=function(){const m=[];m.push(new Fe(0,0,0)),m.push(new Fe(1,0,0)),m.push(new Fe(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=m,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]},p=new zr(1,1,d,this);p._edgesToVertices(),p.computeNormals(),p.gid=c,this.geometryBufferCache.ensureCached(p)}const f=this.states.uModelMatrix.copy();try{const d=Math.sign(s*l-a*o+a*h-u*l+u*o-s*h),p=new Rn([a-s,l-o,0,0,u-s,h-o,0,0,0,0,d,0,s,o,0,1]).mult(this.states.uModelMatrix);this.states.setValue("uModelMatrix",p),this.model(this.geometryBufferCache.getGeometryByID(c))}finally{this.states.setValue("uModelMatrix",f)}return this},Ot.prototype.ellipse=function(i){this.arc(i[0],i[1],i[2],i[3],0,Si,jl,i[4])},Ot.prototype.arc=function(...i){const s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],c=i[6],f=i[7]||25;let d,p;if(Math.abs(h-u)>=Si?(d="ellipse",p=`${d}|${f}|`):(d="arc",p=`${d}|${u}|${h}|${c}|${f}|`),!this.geometryInHash(p)){const g=function(){if(u.toFixed(10)!==h.toFixed(10)){(c===Wh||typeof c>"u")&&(this.vertices.push(new Fe(.5,.5,0)),this.uvs.push([.5,.5]));for(let E=0;E<=f;E++){const y=E/f,x=(h-u)*y+u,b=.5+Math.cos(x)/2,w=.5+Math.sin(x)/2;this.vertices.push(new Fe(b,w,0)),this.uvs.push([b,w]),E<f-1&&(this.faces.push([0,E+1,E+2]),this.edges.push([E+1,E+2]))}switch(c){case Wh:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case Vp:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case jl:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}},v=new zr(f,1,g,this);v.computeNormals(),f<=50?v._edgesToVertices(v):this.states.strokeColor&&console.log(`Cannot apply a stroke to an ${d} with more than 50 detail`),v.gid=p,this.geometryBufferCache.ensureCached(v)}const m=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone());try{this.states.uModelMatrix.translate([s,o,0]),this.states.uModelMatrix.scale(a,l,1),this.model(this.geometryBufferCache.getGeometryByID(p))}finally{this.states.setValue("uModelMatrix",m)}return this},Ot.prototype.rect=function(i){const s=i[0],o=i[1],a=i[2],l=i[3];if(typeof i[4]>"u"){const u=this._pInst._glAttributes.perPixelLighting,h=i[4]||(u?1:24),c=i[5]||(u?1:16),f=`rect|${h}|${c}`;if(!this.geometryInHash(f)){const p=function(){for(let g=0;g<=this.detailY;g++){const v=g/this.detailY;for(let E=0;E<=this.detailX;E++){const y=E/this.detailX,x=new Fe(y,v,0);this.vertices.push(x),this.uvs.push(y,v)}}h>0&&c>0&&(this.edges=[[0,h],[h,(h+1)*(c+1)-1],[(h+1)*(c+1)-1,(h+1)*c],[(h+1)*c,0]])},m=new zr(h,c,p,this);m.computeFaces().computeNormals()._edgesToVertices(),m.gid=f,this.geometryBufferCache.ensureCached(m)}const d=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.copy());try{this.states.uModelMatrix.translate([s,o,0]),this.states.uModelMatrix.scale(a,l,1),this.model(this.geometryBufferCache.getGeometryByID(f))}finally{this.states.setValue("uModelMatrix",d)}}else{let u=i[4],h=typeof i[5]>"u"?u:i[5],c=typeof i[6]>"u"?h:i[6],f=typeof i[7]>"u"?c:i[7],d=s,p=o,m=a,g=l;if(m+=d,g+=p,d>m){const T=d;d=m,m=T}if(p>g){const T=p;p=g,g=T}const v=Math.min((m-d)/2,(g-p)/2);u>v&&(u=v),h>v&&(h=v),c>v&&(c=v),f>v&&(f=v);let E=d,y=p,x=m,b=g;const w=this.states.textureMode;this.states.setValue("textureMode",co);const S=this.bezierOrder();this.bezierOrder(2),this.beginShape();const _=(T,C)=>[T,C,0,(T-E)/a,(C-y)/l];h!==0?(this.vertex(..._(x-h,y)),this.bezierVertex(..._(x,y)),this.bezierVertex(..._(x,y+h))):this.vertex(..._(x,y)),c!==0?(this.vertex(..._(x,b-c)),this.bezierVertex(..._(x,b)),this.bezierVertex(..._(x-c,b))):this.vertex(..._(x,b)),f!==0?(this.vertex(..._(E+f,b)),this.bezierVertex(..._(E,b)),this.bezierVertex(..._(E,b-f))):this.vertex(..._(E,b)),u!==0?(this.vertex(..._(E,y+u)),this.bezierVertex(..._(E,y)),this.bezierVertex(..._(E+u,y))):this.vertex(..._(E,y)),this.endShape(Hh),this.states.setValue("textureMode",w),this.bezierOrder(S)}return this},Ot.prototype.quad=function(i,s,o,a,l,u,h,c,f,d,p,m,g=2,v=2){const E=`quad|${i}|${s}|${o}|${a}|${l}|${u}|${h}|${c}|${f}|${d}|${p}|${m}|${g}|${v}`;if(!this.geometryInHash(E)){const y=new zr(g,v,function(){let b=1/(this.detailX-1),w=1/(this.detailY-1);for(let S=0;S<this.detailY;S++)for(let _=0;_<this.detailX;_++){let T=_*b,C=S*w,F=(1-C)*i+C*d,k=(1-C)*s+C*p,D=(1-C)*o+C*m,N=(1-C)*a+C*h,M=(1-C)*l+C*c,U=(1-C)*u+C*f,B=(1-T)*F+T*N,W=(1-T)*k+T*M,Z=(1-T)*D+T*U;this.vertices.push(new Fe(B,W,Z)),this.uvs.push([T,C])}},this);y.faces=[];for(let b=0;b<v-1;b++)for(let w=0;w<g-1;w++){let S=w+b*g,_=w+1+b*g,T=w+1+(b+1)*g,C=w+(b+1)*g;y.faces.push([S,_,T]),y.faces.push([S,T,C])}y.computeNormals(),y.edges.length=0;const x=[0,2,3,1];for(let b=0;b<x.length;b++){const w=x[b],S=x[(b+1)%x.length];y.edges.push([w,S])}y._edgesToVertices(),y.gid=E,this.geometryBufferCache.ensureCached(y)}return this.model(this.geometryBufferCache.getGeometryByID(E)),this},Ot.prototype.bezier=function(i,s,o,a,l,u,h,c,f,d,p,m){arguments.length===8&&(p=c,d=h,c=u,h=l,l=a,a=o,o=u=f=m=0),this.bezierOrder(),this.bezierOrder(3),this.beginShape(),this.vertex(i,s,o),this.bezierVertex(a,l,u),this.bezierVertex(h,c,f),this.bezierVertex(d,p,m),this.endShape()},Ot.prototype.curve=function(i,s,o,a,l,u,h,c,f,d,p,m){arguments.length===8&&(d=h,p=c,h=l,c=a,a=o,l=a,o=u=f=m=0),this.beginShape(),this.splineVertex(i,s,o),this.splineVertex(a,l,u),this.splineVertex(h,c,f),this.splineVertex(d,p,m),this.endShape()},Ot.prototype.line=function(...i){return i.length===6?(this.beginShape(uc),this.vertex(i[0],i[1],i[2]),this.vertex(i[3],i[4],i[5]),this.endShape()):i.length===4&&(this.beginShape(uc),this.vertex(i[0],i[1],0),this.vertex(i[2],i[3],0),this.endShape()),this},Ot.prototype.image=function(i,s,o,a,l,u,h,c,f){this._isErasing&&this.blendMode(this._cachedBlendMode),this.push(),this.noLights(),this.states.setValue("strokeColor",null),this.texture(i),this.states.setValue("textureMode",co);let d=0;s<=i.width&&(d=s/i.width);let p=1;s+a<=i.width&&(p=(s+a)/i.width);let m=0;o<=i.height&&(m=o/i.height);let g=1;o+l<=i.height&&(g=(o+l)/i.height),this._drawingImage=!0,this.beginShape(),this.vertex(u,h,0,d,m),this.vertex(u+c,h,0,p,m),this.vertex(u+c,h+f,0,p,g),this.vertex(u,h+f,0,d,g),this.endShape(Hh),this._drawingImage=!1,this.pop(),this._isErasing&&this.blendMode(zl)};const r=function(i,s,o,a,l,u,h){i=i<=0?1:i,s=s<0?0:s,o=o<=0?i:o,a=a<3?3:a,l=l<1?1:l,u=u===void 0?!0:u,h=h===void 0?s!==0:h;const c=u?-2:0,f=l+(h?2:0),d=Math.atan2(i-s,o),p=Math.sin(d),m=Math.cos(d);let g,v,E;for(g=c;g<=f;++g){let x=g/l,b=o*x,w;for(g<0?(b=0,x=0,w=i):g>l?(b=o,x=1,w=s):w=i+(s-i)*x,(g===-2||g===l+2)&&(w=0),b-=o/2,v=0;v<a;++v){const S=v/(a-1),_=2*Math.PI*S,T=Math.sin(_),C=Math.cos(_);this.vertices.push(new Fe(T*w,b,C*w));let F;g<0?F=new Fe(0,-1,0):g>l&&s?F=new Fe(0,1,0):F=new Fe(T*m,p,C*m),this.vertexNormals.push(F),this.uvs.push(S,x)}}let y=0;if(u){for(E=0;E<a;++E){const x=(E+1)%a;this.faces.push([y+E,y+a+x,y+a+E])}y+=a*2}for(g=0;g<l;++g){for(v=0;v<a;++v){const x=(v+1)%a;this.faces.push([y+v,y+x,y+a+x]),this.faces.push([y+v,y+a+x,y+a+v])}y+=a}if(h)for(y+=a,v=0;v<a;++v)this.faces.push([y+v,y+(v+1)%a,y+a])};Ot.prototype.plane=function(i=50,s=i,o=1,a=1){const l=`plane|${o}|${a}`;if(!this.geometryInHash(l)){const u=function(){let c,f,d;for(let p=0;p<=this.detailY;p++){f=p/this.detailY;for(let m=0;m<=this.detailX;m++)c=m/this.detailX,d=new Fe(c-.5,f-.5,0),this.vertices.push(d),this.uvs.push(c,f)}},h=new zr(o,a,u,this);h.computeFaces().computeNormals(),o<=1&&a<=1?h._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),h.gid=l,this.geometryBufferCache.ensureCached(h)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(l),i,s,1)},Ot.prototype.box=function(i=50,s=i,o=s,a,l){const u=this.attributes&&this.attributes.perPixelLighting;typeof a>"u"&&(a=u?1:4),typeof l>"u"&&(l=u?1:4);const h=`box|${a}|${l}`;if(!this.geometryInHash(h)){const c=function(){const d=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],d.forEach((p,m)=>{const g=m*4;for(let v=0;v<4;v++){const E=p[v],y=new Fe(((E&1)*2-1)/2,((E&2)-1)/2,((E&4)/2-1)/2);this.vertices.push(y),this.uvs.push(v&1,(v&2)/2)}this.faces.push([g,g+1,g+2]),this.faces.push([g+2,g+1,g+3])})},f=new zr(a,l,c,this);f.computeNormals(),a<=4&&l<=4?f._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),f.gid=h,this.geometryBufferCache.ensureCached(f)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(h),i,s,o)},Ot.prototype.sphere=function(i=50,s=24,o=16){this.ellipsoid(i,i,i,s,o)},Ot.prototype.ellipsoid=function(i=50,s=i,o=i,a=24,l=16){const u=`ellipsoid|${a}|${l}`;if(!this.geometryInHash(u)){const h=function(){for(let f=0;f<=this.detailY;f++){const d=f/this.detailY,p=Math.PI*d-Math.PI/2,m=Math.cos(p),g=Math.sin(p);for(let v=0;v<=this.detailX;v++){const E=v/this.detailX,y=2*Math.PI*E,x=Math.cos(y),b=Math.sin(y),w=new n.Vector(m*b,g,m*x);this.vertices.push(w),this.vertexNormals.push(w),this.uvs.push(E,d)}}},c=new zr(a,l,h,this);c.computeFaces(),a<=24&&l<=24?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),c.gid=u,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),i,s,o)},Ot.prototype.cylinder=function(i=50,s=i,o=24,a=1,l=!0,u=!0){const h=`cylinder|${o}|${a}|${l}|${u}`;if(!this.geometryInHash(h)){const c=new n.Geometry(o,a,function(){r.call(this,1,1,1,o,a,l,u)},this);o<=24&&a<=16?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),c.gid=h,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(h),i,s,i)},Ot.prototype.cone=function(i=50,s=i,o=24,a=1,l=!0){const u=`cone|${o}|${a}|${l}`;if(!this.geometryInHash(u)){const h=new zr(o,a,function(){r.call(this,1,0,1,o,a,l,!1)},this);o<=24&&a<=16?h._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),h.gid=u,this.geometryBufferCache.ensureCached(h)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),i,s,i)},Ot.prototype.torus=function(i=50,s=10,o=24,a=16){if(i===0||s===0)return;const l=(s/i).toPrecision(4),u=`torus|${l}|${o}|${a}`;if(!this.geometryInHash(u)){const h=function(){for(let f=0;f<=this.detailY;f++){const d=f/this.detailY,p=2*Math.PI*d,m=Math.cos(p),g=Math.sin(p),v=1+l*m;for(let E=0;E<=this.detailX;E++){const y=E/this.detailX,x=2*Math.PI*y,b=Math.cos(x),w=Math.sin(x),S=new Fe(v*b,v*w,l*g),_=new Fe(m*b,m*w,g);this.vertices.push(S),this.vertexNormals.push(_),this.uvs.push(y,d)}}},c=new zr(o,a,h,this);c.computeFaces(),o<=24&&a<=16?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),c.gid=u,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),i,i,i)},t.curveDetail=function(i){if(!(this._renderer instanceof Ot))throw new Error("curveDetail() only works in WebGL mode. Did you mean to call createCanvas(width, height, WEBGL)?");return this._renderer.curveDetail(i)}}typeof p5<"u"&&sx(p5,p5.prototype);function ox(n,t){t.ambientLight=function(r,i,s,o){return this._assert3d("ambientLight"),this._renderer.ambientLight(...arguments),this},t.specularColor=function(r,i,s){return this._assert3d("specularColor"),this._renderer.specularColor(...arguments),this},t.directionalLight=function(r,i,s,o,a,l){return this._assert3d("directionalLight"),this._renderer.directionalLight(...arguments),this},t.pointLight=function(r,i,s,o,a,l){return this._assert3d("pointLight"),this._renderer.pointLight(...arguments),this},t.imageLight=function(r){this._renderer.imageLight(r)},t.panorama=function(r){this.filter(this._renderer._getSphereMapping(r))},t.lights=function(){return this._assert3d("lights"),this._renderer.lights(),this},t.lightFalloff=function(r,i,s){return this._assert3d("lightFalloff"),this._renderer.lightFalloff(r,i,s),this},t.spotLight=function(r,i,s,o,a,l,u,h,c,f,d){return this._assert3d("spotLight"),this._renderer.spotLight(...arguments),this},t.noLights=function(...r){return this._assert3d("noLights"),this._renderer.noLights(),this},Ot.prototype.ambientLight=function(r,i,s,o){const a=this._pInst.color(...arguments);this.states.setValue("ambientLightColors",[...this.states.ambientLightColors]),this.states.ambientLightColors.push(a._array[0],a._array[1],a._array[2]),this.states.setValue("enableLighting",!0)},Ot.prototype.specularColor=function(r,i,s){const o=this._pInst.color(...arguments);this.states.setValue("specularColors",[o._array[0],o._array[1],o._array[2]])},Ot.prototype.directionalLight=function(r,i,s,o,a,l){let u;r instanceof yt?u=r:u=this._pInst.color(r,i,s);let h,c,f;const d=arguments[arguments.length-1];typeof d=="number"?(h=arguments[arguments.length-3],c=arguments[arguments.length-2],f=arguments[arguments.length-1]):(h=d.x,c=d.y,f=d.z);const p=Math.sqrt(h*h+c*c+f*f);this.states.setValue("directionalLightDirections",[...this.states.directionalLightDirections]),this.states.directionalLightDirections.push(h/p,c/p,f/p),this.states.setValue("directionalLightDiffuseColors",[...this.states.directionalLightDiffuseColors]),this.states.directionalLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),this.states.setValue("directionalLightSpecularColors",[...this.states.directionalLightSpecularColors]),Array.prototype.push.apply(this.states.directionalLightSpecularColors,this.states.specularColors),this.states.setValue("enableLighting",!0)},Ot.prototype.pointLight=function(r,i,s,o,a,l){let u;r instanceof yt?u=r:u=this._pInst.color(r,i,s);let h,c,f;const d=arguments[arguments.length-1];typeof d=="number"?(h=arguments[arguments.length-3],c=arguments[arguments.length-2],f=arguments[arguments.length-1]):(h=d.x,c=d.y,f=d.z),this.states.setValue("pointLightPositions",[...this.states.pointLightPositions]),this.states.pointLightPositions.push(h,c,f),this.states.setValue("pointLightDiffuseColors",[...this.states.pointLightDiffuseColors]),this.states.pointLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),this.states.setValue("pointLightSpecularColors",[...this.states.pointLightSpecularColors]),Array.prototype.push.apply(this.states.pointLightSpecularColors,this.states.specularColors),this.states.setValue("enableLighting",!0)},Ot.prototype.imageLight=function(r){this.states.setValue("activeImageLight",r),this.states.setValue("enableLighting",!0)},Ot.prototype.lights=function(){const r=this._pInst.color("rgb(128,128,128)");this.ambientLight(r),this.directionalLight(r,0,0,-1)},Ot.prototype.lightFalloff=function(r,i,s){r<0&&(r=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),r===0&&i===0&&s===0&&(r=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this.states.setValue("constantAttenuation",r),this.states.setValue("linearAttenuation",i),this.states.setValue("quadraticAttenuation",s)},Ot.prototype.spotLight=function(r,i,s,o,a,l,u,h,c,f,d){let p,m,g;const v=arguments.length;switch(v){case 11:case 10:p=this._pInst.color(r,i,s),m=new Fe(o,a,l),g=new Fe(u,h,c);break;case 9:r instanceof yt?(p=r,m=new Fe(i,s,o),g=new Fe(a,l,u),f=h,d=c):o instanceof Fe?(p=this._pInst.color(r,i,s),m=o,g=new Fe(a,l,u),f=h,d=c):u instanceof Fe?(p=this._pInst.color(r,i,s),m=new Fe(o,a,l),g=u,f=h,d=c):(p=this._pInst.color(r,i,s),m=new Fe(o,a,l),g=new Fe(u,h,c));break;case 8:r instanceof yt?(p=r,m=new Fe(i,s,o),g=new Fe(a,l,u),f=h):o instanceof Fe?(p=this._pInst.color(r,i,s),m=o,g=new Fe(a,l,u),f=h):(p=this._pInst.color(r,i,s),m=new Fe(o,a,l),g=u,f=h);break;case 7:r instanceof yt&&i instanceof Fe?(p=r,m=i,g=new Fe(s,o,a),f=l,d=u):r instanceof yt&&a instanceof Fe?(p=r,m=new Fe(i,s,o),g=a,f=l,d=u):o instanceof Fe&&a instanceof Fe?(p=this._pInst.color(r,i,s),m=o,g=a,f=l,d=u):r instanceof yt?(p=r,m=new Fe(i,s,o),g=new Fe(a,l,u)):o instanceof Fe?(p=this._pInst.color(r,i,s),m=o,g=new Fe(a,l,u)):(p=this._pInst.color(r,i,s),m=new Fe(o,a,l),g=u);break;case 6:o instanceof Fe&&a instanceof Fe?(p=this._pInst.color(r,i,s),m=o,g=a,f=l):r instanceof yt&&a instanceof Fe?(p=r,m=new Fe(i,s,o),g=a,f=l):r instanceof yt&&i instanceof Fe&&(p=r,m=i,g=new Fe(s,o,a),f=l);break;case 5:r instanceof yt&&i instanceof Fe&&s instanceof Fe?(p=r,m=i,g=s,f=o,d=a):o instanceof Fe&&a instanceof Fe?(p=this._pInst.color(r,i,s),m=o,g=a):r instanceof yt&&a instanceof Fe?(p=r,m=new Fe(i,s,o),g=a):r instanceof yt&&i instanceof Fe&&(p=r,m=i,g=new Fe(s,o,a));break;case 4:p=r,m=i,g=s,f=o;break;case 3:p=r,m=i,g=s;break;default:console.warn(`Sorry, input for spotlight() is not in prescribed format. Too ${v<3?"few":"many"} arguments were provided`);return}this.states.setValue("spotLightDiffuseColors",[p._array[0],p._array[1],p._array[2]]),this.states.setValue("spotLightSpecularColors",[...this.states.specularColors]),this.states.setValue("spotLightPositions",[m.x,m.y,m.z]),g.normalize(),this.states.setValue("spotLightDirections",[g.x,g.y,g.z]),f===void 0&&(f=Math.PI/3),d!==void 0&&d<1?(d=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):d===void 0&&(d=100),f=this._pInst._toRadians(f),this.states.setValue("spotLightAngle",[Math.cos(f)]),this.states.setValue("spotLightConc",[d]),this.states.setValue("enableLighting",!0)},Ot.prototype.noLights=function(){this.states.setValue("activeImageLight",null),this.states.setValue("enableLighting",!1),this.states.setValue("ambientLightColors",[]),this.states.setValue("specularColors",[1,1,1]),this.states.setValue("directionalLightDirections",[]),this.states.setValue("directionalLightDiffuseColors",[]),this.states.setValue("directionalLightSpecularColors",[]),this.states.setValue("pointLightPositions",[]),this.states.setValue("pointLightDiffuseColors",[]),this.states.setValue("pointLightSpecularColors",[]),this.states.setValue("spotLightPositions",[]),this.states.setValue("spotLightDirections",[]),this.states.setValue("spotLightDiffuseColors",[]),this.states.setValue("spotLightSpecularColors",[]),this.states.setValue("spotLightAngle",[]),this.states.setValue("spotLightConc",[]),this.states.setValue("constantAttenuation",1),this.states.setValue("linearAttenuation",0),this.states.setValue("quadraticAttenuation",0),this.states.setValue("_useShininess",1),this.states.setValue("_useMetalness",0)}}typeof p5<"u"&&ox(p5,p5.prototype);function sF(n,t){t.loadShader=async function(r,i,s,o){const a=new Gr;try{return a._vertSrc=(await as(r,"text")).data,a._fragSrc=(await as(i,"text")).data,s?s(a):a}catch(l){if(o)return o(l);throw l}},t.createShader=function(r,i,s){return new Gr(this._renderer,r,i,s)},t.loadFilterShader=async function(r,i,s){try{const a=await(await this.loadStrings(r)).join(`
`),l=this.createFilterShader(a,!0);return i&&i(l),l}catch(o){s?s(o):console.error(o)}},t.createFilterShader=function(r,i=!1){let a=r.includes("#version 300 es")?`#version 300 es
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;

      in vec3 aPosition;
      in vec2 aTexCoord;
      out vec2 vTexCoord;

      void main() {
        // transferring texcoords for the frag shader
        vTexCoord = aTexCoord;

        // copy position with a fourth coordinate for projection (1.0 is normal)
        vec4 positionVec4 = vec4(aPosition, 1.0);

        // project to 3D space
        gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
      }
    `:`
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;

      attribute vec3 aPosition;
      // texcoords only come from p5 to vertex shader
      // so pass texcoords on to the fragment shader in a varying variable
      attribute vec2 aTexCoord;
      varying vec2 vTexCoord;

      void main() {
        // transferring texcoords for the frag shader
        vTexCoord = aTexCoord;

        // copy position with a fourth coordinate for projection (1.0 is normal)
        vec4 positionVec4 = vec4(aPosition, 1.0);

        // project to 3D space
        gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
      }
    `;const l=new Gr(this._renderer,a,r);return i||(this._renderer.GL?l.ensureCompiledOnContext(this._renderer):l.ensureCompiledOnContext(this)),l},t.shader=function(r){return this._assert3d("shader"),this._renderer.shader(r),this},t.strokeShader=function(r){return this._assert3d("strokeShader"),this._renderer.strokeShader(r),this},t.imageShader=function(r){return this._assert3d("imageShader"),this._renderer.imageShader(r),this},t.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},t.baseFilterShader=function(){return(this._renderer.filterRenderer||this._renderer).baseFilterShader()},t.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},t.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},t.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},t.resetShader=function(){return this._renderer.resetShader(),this},t.texture=function(r){return this._assert3d("texture"),r.gifProperties&&r._animateGif(this),this._renderer.texture(r),this},t.textureMode=function(r){r!==fg&&r!==co?console.warn(`You tried to set ${r} textureMode only supports IMAGE & NORMAL `):this._renderer.states.setValue("textureMode",r)},t.textureWrap=function(r,i=r){this._renderer.states.setValue("textureWrapX",r),this._renderer.states.setValue("textureWrapY",i);for(const s of this._renderer.textures.values())s.setWrapMode(r,i)},t.normalMaterial=function(...r){return this._assert3d("normalMaterial"),this._renderer.normalMaterial(...r),this},t.ambientMaterial=function(r,i,s){this._assert3d("ambientMaterial");const o=t.color.apply(this,arguments);return this._renderer.states.setValue("_hasSetAmbient",!0),this._renderer.states.setValue("curAmbientColor",o._array),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this._renderer.states.fillColor||this._renderer.states.setValue("fillColor",new yt([1,1,1])),this},t.emissiveMaterial=function(r,i,s,o){this._assert3d("emissiveMaterial");const a=t.color.apply(this,arguments);return this._renderer.states.setValue("curEmissiveColor",a._array),this._renderer.states.setValue("_useEmissiveMaterial",!0),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this},t.specularMaterial=function(r,i,s,o){this._assert3d("specularMaterial");const a=t.color.apply(this,arguments);return this._renderer.states.setValue("curSpecularColor",a._array),this._renderer.states.setValue("_useSpecularMaterial",!0),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this},t.shininess=function(r){return this._assert3d("shininess"),this._renderer.shininess(r),this},t.metalness=function(r){return this._assert3d("metalness"),this._renderer.metalness(r),this},Ot.prototype._applyColorBlend=function(r,i){const s=this.GL,o=this.states.drawMode===jp,a=i||this.states.userFillShader||this.states.userStrokeShader||this.states.userPointShader||o||this.states.curBlendMode!==Ii||r[r.length-1]<1||this._isErasing;return a!==this._isBlending&&(a||this.states.curBlendMode!==Ii&&this.states.curBlendMode!==Xh?s.enable(s.BLEND):s.disable(s.BLEND),s.depthMask(!0),this._isBlending=a),this._applyBlendMode(),r},Ot.prototype._applyBlendMode=function(){if(this._cachedBlendMode===this.states.curBlendMode)return;const r=this.GL;switch(this.states.curBlendMode){case Ii:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Xh:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case zl:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case ag:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case lg:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case og:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case ug:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case sg:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case rg:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case ig:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.");break}this._cachedBlendMode=this.states.curBlendMode},Ot.prototype.shader=function(r){this.states.setValue("userFillShader",r),this.states.setValue("_useNormalMaterial",!1),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Ot.prototype.strokeShader=function(r){this.states.setValue("userStrokeShader",r),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Ot.prototype.imageShader=function(r){this.states.setValue("userImageShader",r),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Ot.prototype.resetShader=function(){this.states.setValue("userFillShader",null),this.states.setValue("userStrokeShader",null),this.states.setValue("userImageShader",null)},Ot.prototype.texture=function(r){this.states.setValue("drawMode",jp),this.states.setValue("_useNormalMaterial",!1),this.states.setValue("_tex",r),this.states.setValue("fillColor",new yt([1,1,1]))},Ot.prototype.normalMaterial=function(...r){this.states.setValue("drawMode",$p),this.states.setValue("_useSpecularMaterial",!1),this.states.setValue("_useEmissiveMaterial",!1),this.states.setValue("_useNormalMaterial",!0),this.states.setValue("curFillColor",[1,1,1,1]),this.states.setValue("fillColor",new yt([1,1,1])),this.states.setValue("strokeColor",null)},Ot.prototype.shininess=function(r){r<1&&(r=1),this.states.setValue("_useShininess",r)},Ot.prototype.metalness=function(r){const i=1-Math.exp(-r/100);this.states.setValue("_useMetalness",i)}}typeof p5<"u"&&loading(p5,p5.prototype);class dc{constructor(t,r,i,s,o){const a=i||$l;return this._pInst=s,this._renderer=new ap[a](this,t,r,!1,o),this._initializeInstanceVariables(this),this._renderer._applyDefaults(),this}get elt(){return this.canvas}get deltaTime(){return this._pInst.deltaTime}get canvas(){return this._renderer?.canvas}get drawingContext(){return this._renderer.drawingContext}get width(){return this._renderer?.width}get height(){return this._renderer?.height}get pixels(){return this._renderer?.pixels}pixelDensity(t){let r;return typeof t=="number"?(t!==this._renderer._pixelDensity&&(this._renderer._pixelDensity=t),r=this,this.resizeCanvas(this.width,this.height,!0)):r=this._renderer._pixelDensity,r}resizeCanvas(t,r){this._renderer.resize(t,r)}reset(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}remove(){this._renderer.remove(),this._renderer=void 0}createFramebuffer(t){return new Vs(this._renderer,t)}_assert3d(t){if(!this._renderer.isP3D)throw new Error(`${t}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={}}}function rZ(n,t){n.Graphics=dc,Hb(n,n.Graphics.prototype),Wb(n,n.Graphics.prototype),Xb(n,n.Graphics.prototype),qb(n,n.Graphics.prototype),zb(n,n.Graphics.prototype),Yb(n,n.Graphics.prototype),tx(n,n.Graphics.prototype),ex(n,n.Graphics.prototype),Zb(n,n.Graphics.prototype),Ub(n,n.Graphics.prototype),sx(n,n.Graphics.prototype),ox(n,n.Graphics.prototype),sF(n,n.Graphics.prototype),jb(n,n.Graphics.prototype),Qb(n,n.Graphics.prototype)}class Zo{constructor(t,r,i){this._renderer=t;const s=this._renderer.GL;i=i||{},this.src=r,this.glTex=void 0,this.glTarget=s.TEXTURE_2D,this.glFormat=i.format||s.RGBA,this.mipmaps=!1,this.glMinFilter=i.minFilter||s.LINEAR,this.glMagFilter=i.magFilter||s.LINEAR,this.glWrapS=i.wrapS||s.CLAMP_TO_EDGE,this.glWrapT=i.wrapT||s.CLAMP_TO_EDGE,this.glDataType=i.dataType||s.UNSIGNED_BYTE;const o=aF(t);this.glFormat===s.HALF_FLOAT&&!o.halfFloat&&(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=s.FLOAT),this.glFormat===s.HALF_FLOAT&&(this.glMinFilter===s.LINEAR||this.glMagFilter===s.LINEAR)&&!o.halfFloatLinear&&(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.NEAREST),this.glMagFilter===s.LINEAR&&(this.glMagFilter=s.NEAREST)),this.glFormat===s.FLOAT&&!o.float&&(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=s.UNSIGNED_BYTE),this.glFormat===s.FLOAT&&(this.glMinFilter===s.LINEAR||this.glMagFilter===s.LINEAR)&&!o.floatLinear&&(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.NEAREST),this.glMagFilter===s.LINEAR&&(this.glMagFilter=s.NEAREST)),this.isSrcMediaElement=!1,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=typeof Pr<"u"&&r instanceof Pr&&!(r instanceof dc)&&!(r instanceof It),this.isSrcP5Image=r instanceof La,this.isSrcP5Graphics=r instanceof dc,this.isSrcP5Renderer=r instanceof It,this.isImageData=typeof ImageData<"u"&&r instanceof ImageData,this.isFramebufferTexture=r instanceof Zp;const a=this._getTextureDataFromSource();return this.width=a.width,this.height=a.height,this.init(a),this}remove(){this.glTex&&(this._renderer.GL.deleteTexture(this.glTex),this.glTex=void 0)}_getTextureDataFromSource(){let t;return this.isFramebufferTexture?t=this.src.rawTexture():this.isSrcP5Image?t=this.src.canvas:this.isSrcMediaElement||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),t=this.src.elt):this.isSrcP5Graphics||this.isSrcP5Renderer?t=this.src.canvas:this.isImageData&&(t=this.src),t}init(t){const r=this._renderer.GL;if(this.isFramebufferTexture||(this.glTex=r.createTexture()),this.glWrapS=this._renderer.states.textureWrapX,this.glWrapT=this._renderer.states.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),!this.isFramebufferTexture)if(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){const i=new Uint8Array([1,1,1,1]);r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,i)}else r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,t)}update(){const t=this.src;if(t.width===0||t.height===0)return!1;if(this.isFramebufferTexture)return this.src.update(),!1;const r=this._getTextureDataFromSource();let i=!1;const s=this._renderer.GL;return r.width!==this.width||r.height!==this.height?(i=!0,this.width=r.width||t.width,this.height=r.height||t.height,this.isSrcP5Image?t.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&t.setModified&&t.setModified(!0)):this.isSrcP5Image?t.isModified()&&(i=!0,t.setModified(!1)):this.isSrcMediaElement?t.isModified()?(i=!0,t.setModified(!1)):t.loadedmetadata&&this._videoPrevUpdateTime!==t.time()&&(this._videoPrevUpdateTime=t.time(),i=!0):this.isImageData?t._dirty&&(t._dirty=!1,i=!0):i=!0,i&&(this.bindTexture(),s.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,r)),i}bindTexture(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}unbindTexture(){this._renderer.GL.bindTexture(this.glTarget,null)}getTexture(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}setInterpolation(t,r){const i=this._renderer.GL;this.glMinFilter=this.glFilter(t),this.glMagFilter=this.glFilter(r),this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}glFilter(t){const r=this._renderer.GL;return t===ON?r.NEAREST:r.LINEAR}setWrapMode(t,r){const i=this._renderer.GL,s=c=>(c&c-1)===0,o=this._getTextureDataFromSource();let a,l;o.naturalWidth&&o.naturalHeight?(a=o.naturalWidth,l=o.naturalHeight):(a=this.width,l=this.height);const u=s(a),h=s(l);t===Ay?this._renderer.webglVersion===Ir||u&&h?this.glWrapS=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):t===Iy?this._renderer.webglVersion===Ir||u&&h?this.glWrapS=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):this.glWrapS=i.CLAMP_TO_EDGE,r===Ay?this._renderer.webglVersion===Ir||u&&h?this.glWrapT=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):r===Iy?this._renderer.webglVersion===Ir||u&&h?this.glWrapT=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):this.glWrapT=i.CLAMP_TO_EDGE,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.glWrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}class oF extends Zo{constructor(t,r,i){super(t,r,i);const s=this._renderer.GL;this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.LINEAR_MIPMAP_LINEAR)}glFilter(t){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}_getTextureDataFromSource(){return this.src}init(t){const r=this._renderer.GL;this.glTex=r.createTexture(),this.bindTexture();for(let i=0;i<t.length;i++)r.texImage2D(this.glTarget,i,this.glFormat,this.glFormat,this.glDataType,t[i]);this.glMinFilter=r.LINEAR_MIPMAP_LINEAR,r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}update(){}}function ax(n,t){n.Texture=Zo,n.MipmapTexture=oF}function aF({GL:n,webglVersion:t}){const r=n,i=t===Ir?r.getExtension("EXT_color_buffer_float")&&r.getExtension("EXT_float_blend"):r.getExtension("OES_texture_float"),s=i&&r.getExtension("OES_texture_float_linear"),o=t===Ir?r.getExtension("EXT_color_buffer_float"):r.getExtension("OES_texture_half_float"),a=o&&r.getExtension("OES_texture_half_float_linear");return{float:i,floatLinear:s,halfFloat:o,halfFloatLinear:a}}typeof p5<"u"&&ax(p5,p5.prototype);const Su=(n,t,r)=>Math.max(Math.min(n,r),t);class lF extends ql{constructor(t){super(t.renderer),this.fbo=t,this.yScale=-1}_computeCameraDefaultSettings(){super._computeCameraDefaultSettings(),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}class Zp{constructor(t,r){this.framebuffer=t,this.property=r}get width(){return this.framebuffer.width*this.framebuffer.density}get height(){return this.framebuffer.height*this.framebuffer.density}update(){this.framebuffer._update(this.property)}rawTexture(){return this.framebuffer[this.property]}}class Vs{constructor(t,r={}){this.renderer=t,this.renderer.framebuffers.add(this),this._isClipApplied=!1,this.dirty={colorTexture:!1,depthTexture:!1},this.pixels=[],this.format=r.format||ba,this.channels=r.channels||(this.renderer._pInst._glAttributes.alpha?tp:Wn),this.useDepth=r.depth===void 0?!0:r.depth,this.depthFormat=r.depthFormat||Ui,this.textureFiltering=r.textureFiltering||Cy,r.antialias===void 0?this.antialiasSamples=this.renderer._pInst._glAttributes.antialias?2:0:typeof r.antialias=="number"?this.antialiasSamples=r.antialias:this.antialiasSamples=r.antialias?2:0,this.antialias=this.antialiasSamples>0,this.antialias&&this.renderer.webglVersion!==Ir&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=r.density||this.renderer._pixelDensity;const i=this.renderer.GL;if(this.gl=i,r.width&&r.height){const o=this.renderer._adjustDimensions(r.width,r.height);this.width=o.adjustedWidth,this.height=o.adjustedHeight,this._autoSized=!1}else r.width===void 0!=(r.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=this.renderer.width,this.height=this.renderer.height,this._autoSized=!0;if(this._checkIfFormatsAvailable(),r.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(r.stencil===void 0?!0:r.stencil),this.framebuffer=i.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=i.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();const s=this.renderer.states.curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.renderer.states.setValue("curCamera",s),this.draw(()=>this.renderer.clear())}resize(t,r){this._autoSized=!1;const i=this.renderer._adjustDimensions(t,r);t=i.adjustedWidth,r=i.adjustedHeight,this.width=t,this.height=r,this._handleResize()}pixelDensity(t){if(t)this._autoSized=!1,this.density=t,this._handleResize();else return this.density}autoSized(t){if(t===void 0)return this._autoSized;this._autoSized=t,this._handleResize()}_checkIfFormatsAvailable(){const t=this.gl;this.useDepth&&this.renderer.webglVersion===Ma&&!t.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.renderer.webglVersion===Ma&&this.depthFormat===Ui&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=gh),[ba,Ui,Fu].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=ba),this.useDepth&&![gh,Ui].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=Ui);const r=aF(this.renderer);!r.float&&this.format===Ui&&(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=ba),this.useDepth&&!r.float&&this.depthFormat===Ui&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=gh),!r.halfFloat&&this.format===Fu&&(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=ba),this.channels===Wn&&[Ui,Fu].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=tp)}_recreateTextures(){const t=this.gl;this._updateSize();const r=t.getParameter(t.TEXTURE_BINDING_2D),i=t.getParameter(t.FRAMEBUFFER_BINDING),s=t.createTexture();if(!s)throw new Error("Unable to create color texture");t.bindTexture(t.TEXTURE_2D,s);const o=this._glColorFormat();if(t.texImage2D(t.TEXTURE_2D,0,o.internalFormat,this.width*this.density,this.height*this.density,0,o.format,o.type,null),this.colorTexture=s,t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),this.useDepth){const l=t.createTexture();if(!l)throw new Error("Unable to create depth texture");const u=this._glDepthFormat();t.bindTexture(t.TEXTURE_2D,l),t.texImage2D(t.TEXTURE_2D,0,u.internalFormat,this.width*this.density,this.height*this.density,0,u.format,u.type,null),t.framebufferTexture2D(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.TEXTURE_2D,l,0),this.depthTexture=l}if(this.antialias){if(this.colorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.colorRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),o.internalFormat,this.width*this.density,this.height*this.density),this.useDepth){const l=this._glDepthFormat();this.depthRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.depthRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),l.internalFormat,this.width*this.density,this.height*this.density)}t.bindFramebuffer(t.FRAMEBUFFER,this.aaFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&t.framebufferRenderbuffer(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depthRenderbuffer)}if(this.useDepth){this.depth=new Zp(this,"depthTexture");const l=t.NEAREST;this.depthP5Texture=new Zo(this.renderer,this.depth,{minFilter:l,magFilter:l}),this.renderer.textures.set(this.depth,this.depthP5Texture)}this.color=new Zp(this,"colorTexture");const a=this.textureFiltering===Cy?t.LINEAR:t.NEAREST;this.colorP5Texture=new Zo(this.renderer,this.color,{minFilter:a,magFilter:a}),this.renderer.textures.set(this.color,this.colorP5Texture),t.bindTexture(t.TEXTURE_2D,r),t.bindFramebuffer(t.FRAMEBUFFER,i)}_glColorFormat(){let t,r,i;const s=this.gl;return this.format===Ui?t=s.FLOAT:this.format===Fu?t=this.renderer.webglVersion===Ir?s.HALF_FLOAT:s.getExtension("OES_texture_half_float").HALF_FLOAT_OES:t=s.UNSIGNED_BYTE,this.channels===tp?r=s.RGBA:r=s.RGB,this.renderer.webglVersion===Ir?i={[s.FLOAT]:{[s.RGBA]:s.RGBA32F},[s.HALF_FLOAT]:{[s.RGBA]:s.RGBA16F},[s.UNSIGNED_BYTE]:{[s.RGBA]:s.RGBA8,[s.RGB]:s.RGB8}}[t][r]:this.format===Fu?i=s.RGBA:i=r,{internalFormat:i,format:r,type:t}}_glDepthFormat(){let t,r,i;const s=this.gl;return this.useStencil?this.depthFormat===Ui?t=s.FLOAT_32_UNSIGNED_INT_24_8_REV:this.renderer.webglVersion===Ir?t=s.UNSIGNED_INT_24_8:t=s.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===Ui?t=s.FLOAT:t=s.UNSIGNED_INT,this.useStencil?r=s.DEPTH_STENCIL:r=s.DEPTH_COMPONENT,this.useStencil?this.depthFormat===Ui?i=s.DEPTH32F_STENCIL8:this.renderer.webglVersion===Ir?i=s.DEPTH24_STENCIL8:i=s.DEPTH_STENCIL:this.renderer.webglVersion===Ir?this.depthFormat===Ui?i=s.DEPTH_COMPONENT32F:i=s.DEPTH_COMPONENT24:i=s.DEPTH_COMPONENT,{internalFormat:i,format:r,type:t}}_updateSize(){this._autoSized&&(this.width=this.renderer.width,this.height=this.renderer.height,this.density=this.renderer._pixelDensity)}_canvasSizeChanged(){this._autoSized&&this._handleResize()}_handleResize(){const t=this.color,r=this.depth,i=this.colorRenderbuffer,s=this.depthRenderbuffer;this._deleteTexture(t),r&&this._deleteTexture(r);const o=this.gl;i&&o.deleteRenderbuffer(i),s&&o.deleteRenderbuffer(s),this._recreateTextures(),this.defaultCamera._resize()}createCamera(){const t=new lF(this);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),t}_deleteTexture(t){this.gl.deleteTexture(t.rawTexture()),this.renderer.textures.delete(t)}remove(){const t=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),t.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&t.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&t.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&t.deleteRenderbuffer(this.colorRenderbuffer),this.renderer.framebuffers.delete(this)}begin(){this.prevFramebuffer=this.renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.renderer.activeFramebuffers.push(this),this._beforeBegin(),this.renderer.push(),this.renderer.states.setValue("curCamera",this.defaultCamera),this.renderer.states.setValue("uPMatrix",this.renderer.states.uPMatrix.clone()),this.renderer.states.uPMatrix.set(this.defaultCamera.projMatrix),this.renderer.states.setValue("uViewMatrix",this.renderer.states.uViewMatrix.clone()),this.renderer.states.uViewMatrix.set(this.defaultCamera.cameraMatrix),this.renderer.resetMatrix(),this.renderer.states.uViewMatrix.set(this.renderer.states.curCamera.cameraMatrix),this.renderer.states.uModelMatrix.reset(),this.renderer._applyStencilTestIfClipping()}_framebufferToBind(){return this.antialias?this.aaFramebuffer:this.framebuffer}_update(t){if(this.dirty[t]&&this.antialias){const r=this.gl;r.bindFramebuffer(r.READ_FRAMEBUFFER,this.aaFramebuffer),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.framebuffer);const i={colorTexture:[r.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]};this.useDepth&&(i.depthTexture=[r.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);const[s,o]=i[t];r.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,s,o),this.dirty[t]=!1;const a=this.renderer.activeFramebuffer();a?r.bindFramebuffer(r.FRAMEBUFFER,a._framebufferToBind()):r.bindFramebuffer(r.FRAMEBUFFER,null)}}_beforeBegin(){const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebufferToBind()),this.renderer.viewport(this.width*this.density,this.height*this.density)}_beforeEnd(){this.antialias&&(this.dirty={colorTexture:!0,depthTexture:!0})}end(){const t=this.gl;if(this.renderer.pop(),this.renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(t.bindFramebuffer(t.FRAMEBUFFER,null),this.renderer.viewport(this.renderer._origViewport.width,this.renderer._origViewport.height)),this.renderer._applyStencilTestIfClipping()}draw(t){this.begin(),t(),this.end()}loadPixels(){this._update("colorTexture");const t=this.gl,r=this.renderer.activeFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer);const i=this._glColorFormat();this.pixels=Uy(this.pixels,t,this.framebuffer,0,0,this.width*this.density,this.height*this.density,i.format,i.type),r?t.bindFramebuffer(t.FRAMEBUFFER,r._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null)}get(t,r,i,s){this._update("colorTexture");const o=this._glColorFormat();if(t===void 0&&r===void 0)t=0,r=0,i=this.width,s=this.height;else if(i===void 0&&s===void 0)return(t<0||r<0||t>=this.width||r>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),t=Su(t,0,this.width-1),r=Su(r,0,this.height-1)),iF(this.gl,this.framebuffer,t*this.density,r*this.density,o.format,o.type);t=Su(t,0,this.width-1),r=Su(r,0,this.height-1),i=Su(i,1,this.width-t),s=Su(s,1,this.height-r);const a=Uy(void 0,this.gl,this.framebuffer,t*this.density,r*this.density,i*this.density,s*this.density,o.format,o.type),l=new Uint8ClampedArray(i*s*this.density*this.density*4);l.fill(255);const u=o.type===this.gl.RGB?3:4;for(let c=0;c<s*this.density;c++)for(let f=0;f<i*this.density;f++)for(let d=0;d<4;d++){const p=(c*i*this.density+f)*4+d;if(d<u){const m=u===4?p:(c*i*this.density+f)*u+d;l[p]=a[m]}}const h=new La(i*this.density,s*this.density);return h.imageData=h.canvas.getContext("2d").createImageData(h.width,h.height),h.imageData.data.set(l),h.pixels=h.imageData.data,h.updatePixels(),this.density!==1&&h.resize(i,s),h}updatePixels(){const t=this.gl;this.colorP5Texture.bindTexture();const r=this._glColorFormat(),i=r.format===t.RGBA?4:3,s=this.width*this.height*this.density*this.density*i,o=r.type===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof o)||this.pixels.length!==s)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");t.texImage2D(t.TEXTURE_2D,0,r.internalFormat,this.width*this.density,this.height*this.density,0,r.format,r.type,this.pixels),this.colorP5Texture.unbindTexture(),this.dirty.colorTexture=!1;const a=this.renderer.activeFramebuffer();this.antialias?(this.begin(),this.renderer.push(),this.renderer.states.setValue("imageMode",hs),this.renderer.setCamera(this.filterCamera),this.renderer.resetMatrix(),this.renderer.states.setValue("strokeColor",null),this.renderer.clear(),this.renderer._drawingFilter=!0,this.renderer.image(this,0,0,this.width,this.height,-this.renderer.width/2,-this.renderer.height/2,this.renderer.width,this.renderer.height),this.renderer._drawingFilter=!1,this.renderer.pop(),this.useDepth&&(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),this.end()):(t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this.useDepth&&(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),a?t.bindFramebuffer(t.FRAMEBUFFER,a._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null))}}function uF(n,t){n.FramebufferCamera=lF,n.FramebufferTexture=Zp,n.Framebuffer=Vs}typeof p5<"u"&&uF(p5,p5.prototype);let ap;function cF(n,t){ap=n.renderers={},t.createCanvas=function(r,i,s,...o){let a=$l;return Reflect.ownKeys(ap).includes(s)?a=s:o.unshift(s),this._renderer&&this._renderer.remove(),this._renderer=new ap[a](this,r,i,!0,...o),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer),this._renderer._applyDefaults(),Object.hasOwn(this,"pixels")||Object.defineProperty(this,"pixels",{get(){return this._renderer?.pixels}}),this._renderer},t.resizeCanvas=function(r,i,s){this._renderer&&(this._renderer.resize(r,i),s||this.redraw()),this._addAccsOutput()&&this._updateAccsOutput()},t.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},t.createGraphics=function(r,i,...s){return s[0]instanceof HTMLCanvasElement&&(s[1]=s[0],s[0]=$l),new n.Graphics(r,i,s[0],this,s[1])},t.createFramebuffer=function(r){return new Vs(this._renderer,r)},t.clearDepth=function(r){this._assert3d("clearDepth"),this._renderer.clearDepth(r)}}typeof p5<"u"&&cF(p5,p5.prototype);class iZ{constructor(t){this.pInst=t,this.canvas=document.createElement("canvas"),this.canvas.width=t.width,this.canvas.height=t.height;let r=Ir;if(this.gl=this.canvas.getContext("webgl2"),this.gl||(r=Ma,this.gl=this.canvas.getContext("webgl")),!this.gl){console.error("WebGL not supported, cannot apply filter.");return}this._renderer={GL:this.gl,registerEnabled:new Set,_curShader:null,_emptyTexture:null,webglVersion:r,states:{textureWrapX:this.gl.CLAMP_TO_EDGE,textureWrapY:this.gl.CLAMP_TO_EDGE},_arraysEqual:(i,s)=>JSON.stringify(i)===JSON.stringify(s),_getEmptyTexture:()=>{if(!this._emptyTexture){const i=new La(1,1);i.set(0,0,255),this._emptyTexture=new Zo(this._renderer,i)}return this._emptyTexture}},this._baseFilterShader=void 0,this.filterShaderSources={[cc]:Y5,[Pb]:J5,[cg]:Q5,[Bb]:X5,[Ob]:W5,[Rb]:q5,[hg]:K5,[Lb]:Z5},this.filterShaders={},this.operation=null,this.filterParameter=1,this.customShader=null,this._shader=null,this.vertexBuffer=this.gl.createBuffer(),this.texcoordBuffer=this.gl.createBuffer(),this.vertices=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.texcoords=new Float32Array([0,1,1,1,0,0,1,0]),this._bindBufferData(this.vertexBuffer,this.gl.ARRAY_BUFFER,this.vertices),this._bindBufferData(this.texcoordBuffer,this.gl.ARRAY_BUFFER,this.texcoords)}_webGL2CompatibilityPrefix(t,r){let i="";return this._renderer.webglVersion===Ir&&(i+=`#version 300 es
#define WEBGL2
`),t==="vert"?i+=`#define VERTEX_SHADER
`:t==="frag"&&(i+=`#define FRAGMENT_SHADER
`),r&&(i+=`precision ${r} float;
`),i}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new Gr(this._renderer,this._webGL2CompatibilityPrefix("vert","highp")+By+G5,this._webGL2CompatibilityPrefix("frag","highp")+By+H5,{vertex:{},fragment:{"vec4 getColor":`(FilterInputs inputs, in sampler2D canvasContent) {
              return getTexture(canvasContent, inputs.texCoord);
            }`}})),this._baseFilterShader}setOperation(t,r,i=null){this.operation=t,this.filterParameter=r,t in Yp&&r===void 0&&(this.filterParameter=Yp[t]),this.customShader=i,this._initializeShader()}_initializeShader(){if(this.customShader){this._shader=this.customShader;return}if(!this.operation){console.error("No operation set for FilterRenderer2D, cannot initialize shader.");return}if(this.filterShaders[this.operation]){this._shader=this.filterShaders[this.operation];return}const t=this.filterShaderSources[this.operation];if(!t){console.error("No shader available for this operation:",this.operation);return}const r=new Gr(this._renderer,eF,t);this.filterShaders[this.operation]=r,this._shader=r}_bindBufferData(t,r,i){const s=this.gl;s.bindBuffer(r,t),s.bufferData(r,i,s.STATIC_DRAW)}get canvasTexture(){return this._canvasTexture||(this._canvasTexture=new Zo(this._renderer,this.pInst.wrappedElt)),this._canvasTexture}_renderPass(){const t=this.gl;this._shader.bindShader();const r=this.pInst.pixelDensity?this.pInst.pixelDensity():1,i=[1/(this.pInst.width*r),1/(this.pInst.height*r)],s=this.canvasTexture;this._shader.setUniform("tex0",s),this._shader.setUniform("texelSize",i),this._shader.setUniform("canvasSize",[this.pInst.width,this.pInst.height]),this._shader.setUniform("radius",Math.max(1,this.filterParameter)),this._shader.setUniform("filterParameter",this.filterParameter),this._shader.setDefaultUniforms(),this.pInst.states.setValue("rectMode",hs),this.pInst.states.setValue("imageMode",hs),this.pInst.blendMode(Ii),this.pInst.resetMatrix();const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this._shader.setUniform("uModelViewMatrix",o),this._shader.setUniform("uProjectionMatrix",o),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this._shader.enableAttrib(this._shader.attributes.aPosition,2),t.bindBuffer(t.ARRAY_BUFFER,this.texcoordBuffer),this._shader.enableAttrib(this._shader.attributes.aTexCoord,2),this._shader.bindTextures(),this._shader.disableRemainingAttributes(),t.drawArrays(t.TRIANGLE_STRIP,0,4),this._shader.unbindShader()}applyFilter(){if(!this._shader){console.error("Cannot apply filter: shader not initialized.");return}this.pInst.push(),this.pInst.resetMatrix(),this.operation===cc&&!this.customShader?(this._shader.setUniform("direction",[1,0]),this._renderPass(),this.pInst.clear(),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height),this._shader.setUniform("direction",[0,1]),this._renderPass(),this.pInst.clear(),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height)):(this._renderPass(),this.pInst.clear(),this.pInst.blendMode(Ii),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height)),this.pInst.pop()}}const ro="rgba(0,0,0,0)";class K0 extends It{constructor(t,r,i,s,o,a={}){super(t,r,i,s),this.canvas=this.elt=o||document.createElement("canvas"),s?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display="none",this.elt.id="defaultCanvas0",this.elt.classList.add("p5Canvas");for(const l of Object.getOwnPropertyNames(Pr.prototype))l!=="constructor"&&l[0]!=="_"&&Object.defineProperty(this,l,{get(){return this.wrappedElt[l]}});if(this.elt.width=r*this._pixelDensity,this.elt.height=i*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${i}px`,this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(document.getElementsByTagName("main").length===0){let l=document.createElement("main");document.body.appendChild(l)}document.getElementsByTagName("main")[0].appendChild(this.elt)}this.drawingContext=this.canvas.getContext("2d",a),a.colorSpace==="display-p3"&&(this.states.colorMode=Ti),this.scale(this._pixelDensity,this._pixelDensity),this.wrappedElt=new Pr(this.elt,this._pInst),this.clipPath=null}get filterRenderer(){return this._filterRenderer||(this._filterRenderer=new iZ(this)),this._filterRenderer}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}getFilterGraphicsLayer(){if(!this.filterGraphicsLayer){const t=this._pInst;this.filterGraphicsLayer=new dc(this.width,this.height,Ma,t)}return(this.filterGraphicsLayer.width!==this.width||this.filterGraphicsLayer.height!==this.height)&&this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}_applyDefaults(){this.states.setValue("_cachedFillStyle",void 0),this.states.setValue("_cachedStrokeStyle",void 0),this._cachedBlendMode=Ii,this._setFill(BN),this._setStroke(RN),this.drawingContext.lineCap=Na,this.drawingContext.font="normal 12px sans-serif"}resize(t,r){super.resize(t,r);const i={};for(const s in this.drawingContext){const o=this.drawingContext[s];typeof o!="object"&&typeof o!="function"&&(i[s]=o)}this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this.drawingContext.scale(this._pixelDensity,this._pixelDensity);for(const s in i)try{this.drawingContext[s]=i[s]}catch{}}background(...t){if(this.push(),this.resetMatrix(),t[0]instanceof La)if(t[1]>=0){const r=t[0];this.drawingContext.globalAlpha=t[1]/255,this._pInst.image(r,0,0,this.width,this.height)}else this._pInst.image(t[0],0,0,this.width,this.height);else{const r=this._pInst.color(...t);this._pInst._addAccsOutput?.()&&this._pInst._accsBackground?.(r._getRGBA([255,255,255,255]));const i=r.toString();this._setFill(i),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._isErasing&&this._pInst.erase()}this.pop()}clear(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}fill(...t){super.fill(...t);const r=this.states.fillColor;this._setFill(r.toString()),this._pInst._addAccsOutput?.()&&this._pInst._accsCanvasColors?.("fill",r._getRGBA([255,255,255,255]))}stroke(...t){super.stroke(...t);const r=this.states.strokeColor;this._setStroke(r.toString()),this._pInst._addAccsOutput?.()&&this._pInst._accsCanvasColors?.("stroke",r._getRGBA([255,255,255,255]))}erase(t,r){if(!this._isErasing){this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle);const i=this._pInst.color(255,t).toString();this.drawingContext.fillStyle=i,this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle);const s=this._pInst.color(255,r).toString();this.drawingContext.strokeStyle=s;const o=this._cachedBlendMode;this.blendMode(zl),this._cachedBlendMode=o,this._isErasing=!0}}noErase(){this._isErasing&&(this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}drawShape(t){const r=new D5({strokeWeight:this.states.strokeWeight});t.accept(r),this._clipping?(this.clipPath.addPath(r.path),this.clipPath.closePath()):(this.states.fillColor&&this.drawingContext.fill(r.path),this.states.strokeColor&&this.drawingContext.stroke(r.path))}beginClip(t={}){super.beginClip(t),this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle);const r=this._pInst.color(255,0).toString();this.drawingContext.fillStyle=r,this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle);const i=this._pInst.color(255,0).toString();this.drawingContext.strokeStyle=i;const s=this._cachedBlendMode;this.blendMode(Ii),this._cachedBlendMode=s,this.clipPath=new Path2D,this._clipInvert&&(this.clipPath.moveTo(-2*this.width,-2*this.height),this.clipPath.lineTo(-2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,-2*this.height),this.clipPath.closePath())}endClip(){this.drawingContext.clip(this.clipPath),this.clipPath=null,super.endClip(),this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}image(t,r,i,s,o,a,l,u,h){let c;t.gifProperties&&t._animateGif(this._pInst);try{t instanceof yl&&t._ensureCanvas(),this.states.tint&&t.canvas&&(c=this._getTintedImageCanvas(t)),c||(c=t.canvas||t.elt);let f=1;t.width&&t.width>0&&(f=c.width/t.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(c,f*r,f*i,f*s,f*o,a,l,u,h),this._isErasing&&this._pInst.erase()}catch(f){if(f.name!=="NS_ERROR_NOT_AVAILABLE")throw f}}_getTintedImageCanvas(t){if(!t.canvas)return t;t.tintCanvas||(t.tintCanvas=document.createElement("canvas")),t.tintCanvas.width!==t.canvas.width&&(t.tintCanvas.width=t.canvas.width),t.tintCanvas.height!==t.canvas.height&&(t.tintCanvas.height=t.canvas.height);const r=t.tintCanvas.getContext("2d");return r.save(),r.clearRect(0,0,t.canvas.width,t.canvas.height),this.states.tint[0]<255||this.states.tint[1]<255||this.states.tint[2]<255?(r.drawImage(t.canvas,0,0),r.globalCompositeOperation="luminosity",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="color",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="multiply",r.fillStyle=`rgb(${this.states.tint.slice(0,3).join(", ")})`,r.fillRect(0,0,t.canvas.width,t.canvas.height),r.globalCompositeOperation="destination-in",r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0)):(r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0)),r.restore(),t.tintCanvas}blendMode(t){if(t===sg)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else if(t===Ii||t===zl||t===rg||t===ig||t===kN||t===ag||t===og||t===lg||t===ug||t===Db||t===Nb||t===Fb||t===kb||t===Mb||t===Xh)this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t;else throw new Error(`Mode ${t} not recognized.`)}blend(...t){const r=this.drawingContext.globalCompositeOperation,i=t[t.length-1],s=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=i,zt.prototype.copy.apply(this,s),this.drawingContext.globalCompositeOperation=r}_getPixel(t,r){let i,s;return i=this.drawingContext.getImageData(t,r,1,1).data,s=0,[i[s+0],i[s+1],i[s+2],i[s+3]]}loadPixels(){const t=this._pixelDensity,r=this.width*t,i=this.height*t,s=this.drawingContext.getImageData(0,0,r,i);this.imageData=s,this.pixels=s.data}set(t,r,i){if(t=Math.floor(t),r=Math.floor(r),i instanceof La)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,i.width,i.height),this.drawingContext.drawImage(i.canvas,t,r),this.drawingContext.restore();else{let s=0,o=0,a=0,l=0,u=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(this.imageData||this.loadPixels(),typeof i=="number")u<this.pixels.length&&(s=i,o=i,a=i,l=255);else if(Array.isArray(i)){if(i.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");u<this.pixels.length&&(s=i[0],o=i[1],a=i[2],l=i[3])}else i instanceof zt.Color&&u<this.pixels.length&&([s,o,a,l]=i._getRGBA([255,255,255,255]));for(let h=0;h<this._pixelDensity;h++)for(let c=0;c<this._pixelDensity;c++)u=4*((r*this._pixelDensity+c)*this.width*this._pixelDensity+(t*this._pixelDensity+h)),this.pixels[u]=s,this.pixels[u+1]=o,this.pixels[u+2]=a,this.pixels[u+3]=l}}updatePixels(t,r,i,s){const o=this._pixelDensity;t===void 0&&r===void 0&&i===void 0&&s===void 0&&(t=0,r=0,i=this.width,s=this.height),t*=o,r*=o,i*=o,s*=o,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=this.imageData),this.drawingContext.putImageData(this.imageData,0,0,t,r,i,s)}arc(t,r,i,s,o,a,l){const u=this.clipPa||this.drawingContext,h=t+i/2,c=r+s/2,f=i/2,d=s/2,p=!(l===Vp||l===jl||(a-o)%Si===0);return this.states.fillColor&&(this._clipping||u.beginPath(),u.ellipse(h,c,f,d,0,o,a),p&&u.lineTo(h,c),u.closePath(),this._clipping||u.fill()),this.states.strokeColor&&(this._clipping||u.beginPath(),u.ellipse(h,c,f,d,0,o,a),l===Wh&&p&&u.lineTo(h,c),(l===Wh||l===Vp)&&u.closePath(),this._clipping||u.stroke()),this}ellipse(t){const r=this.clipPath||this.drawingContext,i=!!this.states.fillColor,s=this.states.strokeColor,o=parseFloat(t[0]),a=parseFloat(t[1]),l=parseFloat(t[2]),u=parseFloat(t[3]);if(i&&!s){if(this._getFill()===ro)return this}else if(!i&&s&&this._getStroke()===ro)return this;const h=o+l/2,c=a+u/2,f=l/2,d=u/2;this._clipping||r.beginPath(),r.ellipse(h,c,f,d,0,0,2*Math.PI),r.closePath(),!this._clipping&&i&&r.fill(),!this._clipping&&s&&r.stroke()}line(t,r,i,s){const o=this.clipPath||this.drawingContext;if(this.states.strokeColor){if(this._getStroke()===ro)return this}else return this;return this._clipping||o.beginPath(),o.moveTo(t,r),o.lineTo(i,s),o.stroke(),this}point(t,r){const i=this.clipPath||this.drawingContext;if(this.states.strokeColor){if(this._getStroke()===ro)return this}else return this;const s=this._getStroke(),o=this._getFill();this._clipping||this._setFill(s),this._clipping||i.beginPath(),i.arc(t,r,i.lineWidth/2,0,Si,!1),this._clipping||(i.fill(),this._setFill(o))}quad(t,r,i,s,o,a,l,u){const h=this.clipPath||this.drawingContext,c=!!this.states.fillColor,f=this.states.strokeColor;if(c&&!f){if(this._getFill()===ro)return this}else if(!c&&f&&this._getStroke()===ro)return this;return this._clipping||h.beginPath(),h.moveTo(t,r),h.lineTo(i,s),h.lineTo(o,a),h.lineTo(l,u),h.closePath(),!this._clipping&&c&&h.fill(),!this._clipping&&f&&h.stroke(),this}rect(t){const r=t[0],i=t[1],s=t[2],o=t[3];let a=t[4],l=t[5],u=t[6],h=t[7];const c=this.clipPath||this.drawingContext,f=!!this.states.fillColor,d=this.states.strokeColor;if(f&&!d){if(this._getFill()===ro)return this}else if(!f&&d&&this._getStroke()===ro)return this;if(this._clipping||c.beginPath(),typeof a>"u")c.rect(r,i,s,o);else{typeof l>"u"&&(l=a),typeof u>"u"&&(u=l),typeof h>"u"&&(h=u);const p=Math.abs(s),m=Math.abs(o),g=p/2,v=m/2;p<2*a&&(a=g),m<2*a&&(a=v),p<2*l&&(l=g),m<2*l&&(l=v),p<2*u&&(u=g),m<2*u&&(u=v),p<2*h&&(h=g),m<2*h&&(h=v),c.roundRect(r,i,s,o,[a,l,u,h])}return!this._clipping&&this.states.fillColor&&c.fill(),!this._clipping&&this.states.strokeColor&&c.stroke(),this}triangle(t){const r=this.clipPath||this.drawingContext,i=!!this.states.fillColor,s=this.states.strokeColor,o=t[0],a=t[1],l=t[2],u=t[3],h=t[4],c=t[5];if(i&&!s){if(this._getFill()===ro)return this}else if(!i&&s&&this._getStroke()===ro)return this;this._clipping||r.beginPath(),r.moveTo(o,a),r.lineTo(l,u),r.lineTo(h,c),r.closePath(),!this._clipping&&i&&r.fill(),!this._clipping&&s&&r.stroke()}strokeCap(t){return(t===Na||t===Ab||t===Cb)&&(this.drawingContext.lineCap=t),this}strokeJoin(t){return(t===Na||t===Tb||t===Ib)&&(this.drawingContext.lineJoin=t),this}strokeWeight(t){return super.strokeWeight(t),typeof t>"u"||t===0?this.drawingContext.lineWidth=1e-4:this.drawingContext.lineWidth=t,this}_getFill(){return this.states._cachedFillStyle||this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle),this.states._cachedFillStyle}_setFill(t){t!==this.states._cachedFillStyle&&(this.drawingContext.fillStyle=t,this.states.setValue("_cachedFillStyle",t))}_getStroke(){return this.states._cachedStrokeStyle||this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle),this.states._cachedStrokeStyle}_setStroke(t){t!==this.states._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this.states.setValue("_cachedStrokeStyle",t))}applyMatrix(t,r,i,s,o,a){this.drawingContext.transform(t,r,i,s,o,a)}getWorldToScreenMatrix(){let t=new DOMMatrix().scale(1/this._pixelDensity).multiply(this.drawingContext.getTransform());return new Rn(t.toFloat32Array())}resetMatrix(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this}rotate(t){this.drawingContext.rotate(t)}scale(t,r){return this.drawingContext.scale(t,r),this}translate(t,r){return t instanceof zt.Vector&&(r=t.y,t=t.x),this.drawingContext.translate(t,r),this}push(){return this.drawingContext.save(),super.push()}pop(t){this.drawingContext.restore(),super.pop(t)}}function sZ(n,t){n.Renderer2D=K0,n.renderers[$l]=K0,n.renderers["p2d-hdr"]=new Proxy(K0,{construct(r,[i,s,o,a,l]){return new r(i,s,o,a,l,{colorSpace:"display-p3"})}})}let zt=class Cr{static VERSION=Sb;static instance=null;static lifecycleHooks={presetup:[],postsetup:[],predraw:[],postdraw:[],remove:[]};static _checkForUserDefinedFunctions=()=>{};static _friendlyFileLoadError=()=>{};constructor(t,r){if(Cr.decorations.size>0){for(const[a,l]of Cr.decorations)for(const u in Cr.prototype)typeof Cr.prototype[u]=="function"&&a.some(h=>{if(typeof h=="string")return h===u;if(h instanceof RegExp)return h.test(u)})&&(Cr.prototype[u]=l(Cr.prototype[u],{kind:"method",name:u,access:{},static:!1,private:!1,addInitializer(h){}}));Cr.decorations.clear()}this.hitCriticalError=!1,this._setupDone=!1,this._userNode=r,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._events={},this._removeAbortController=new AbortController,this._removeSignal=this._removeAbortController.signal,this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._updateWindowSize();const i=oZ(this);if(t)t(this),Cr._checkForUserDefinedFunctions(this);else{if(this._isGlobal=!0,window.hitCriticalError)return;Cr.instance=this;for(const l of Object.getOwnPropertyNames(Cr.prototype))l[0]!=="_"&&i(l);const a=["constructor","length"];for(const l in this)if(this.hasOwnProperty(l)){if(l[0]==="_"||a.includes(l))continue;i(l)}}const s=()=>{this.focused=!0},o=()=>{this.focused=!1};window.addEventListener("focus",s),window.addEventListener("blur",o),Cr.lifecycleHooks.remove.push(function(){window.removeEventListener("focus",s),window.removeEventListener("blur",o)}),document.readyState==="complete"?this.#t():(this._startListener=this.#t.bind(this),window.addEventListener("load",this._startListener,!1))}get pixels(){return this._renderer.pixels}get drawingContext(){return this._renderer.drawingContext}static registerAddon(t){const r={};t(Cr,Cr.prototype,r);const i=Object.keys(Cr.lifecycleHooks);for(const s of i)typeof r[s]=="function"&&Cr.lifecycleHooks[s].push(r[s])}static decorations=new Map;static decorateHelper(t,r){let i=t;Array.isArray(t)||(i=[t]),Cr.decorations.set(i,r)}#e={};_customActions=new Proxy({},{get:(t,r)=>{if(!this.#e[r]){const i=this._isGlobal?window:this;typeof i[r]=="function"&&(this.#e[r]=i[r].bind(this))}return this.#e[r]}});async#t(){this.hitCriticalError||(this._userNode&&typeof this._userNode=="string"&&(this._userNode=document.getElementById(this._userNode)),await this.#n(),!this.hitCriticalError&&(this._recording||this._draw()))}async#n(){if(await this._runLifecycleHook("presetup"),this.hitCriticalError)return;this.createCanvas(100,100,$l),this._millisStart=window.performance.now();const t=this._isGlobal?window:this;if(typeof t.setup=="function"&&await t.setup(),this.hitCriticalError)return;const r=document.getElementsByTagName("canvas");for(const i of r)i.style.touchAction="none",i.dataset.hidden==="true"&&(i.style.visibility="",delete i.dataset.hidden);this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),this._setupDone=!0,(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),await this._runLifecycleHook("postsetup"),this._millisStart=window.performance.now()}async _draw(t){if(this.hitCriticalError)return;const r=t||window.performance.now(),i=r-this._lastTargetFrameTime,s=1e3/this._targetFrameRate;(!this._loop||i>=s-5)&&(this.deltaTime=r-this._lastRealFrameTime,this._frameRate=1e3/this.deltaTime,await this.redraw(),this._lastTargetFrameTime=Math.max(this._lastTargetFrameTime+s,r),this._lastRealFrameTime=r,typeof this._updateMouseCoords<"u"&&(this._updateMouseCoords(),this.movedX=0,this.movedY=0)),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw.bind(this)))}async remove(){if(this._startListener&&window.removeEventListener("load",this._startListener,!1),this._curElement){this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId),this._removeAbortController.abort();for(const t of this._elements)t.elt&&t.elt.parentNode&&t.elt.parentNode.removeChild(t.elt);await this._runLifecycleHook("remove")}if(this._isGlobal){for(const t in Cr.prototype)try{delete window[t]}catch{window[t]=void 0}for(const t in this)if(this.hasOwnProperty(t))try{delete window[t]}catch{window[t]=void 0}Cr.instance=null}}async _runLifecycleHook(t){await Promise.all(Cr.lifecycleHooks[t].map(r=>r.call(this)))}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={},this._downKeyCodes={}}};function oZ(n){return function(r){if(r==="constructor")return;const i=Object.getOwnPropertyDescriptor(n,r),s=Object.getOwnPropertyDescriptor(zt.prototype,r),o=i&&i.get||s&&s.get;let a=!1,l=!1,u;if(!o){const h=zt.prototype[r];a=typeof h=="function",!a&&Oa[r]!==void 0&&(l=!0,u=h)}if(a){const h=zt.prototype[r].bind(n);Object.defineProperty(window,r,{configurable:!0,enumerable:!0,value:h})}else if(l)Object.defineProperty(window,r,{configurable:!0,enumerable:!0,value:u});else if(o||!a){let h=null,c=null,f=null;Object.defineProperty(window,r,{configurable:!0,enumerable:!0,get:()=>{const d=n[r];return f===null?(f=typeof d=="function",f?(h=d,c=d.bind(n),c):d):f?(d!==h&&(h=d,c=d.bind(n)),c):d}})}}}for(const n in Oa)zt.prototype[n]=Oa[n];zt.registerAddon(Ub);zt.registerAddon(zN);zt.registerAddon(GN);zt.registerAddon(cF);zt.registerAddon(uK);zt.registerAddon(sZ);zt.registerAddon(rZ);function aZ(n){n.registerAddon(Hb),n.registerAddon(Wb),n.registerAddon(Xb),n.registerAddon(qb),n.registerAddon(zb)}function hF(n,t){const r="_Description",i="_fallbackDesc",s="_fallbackTable",o="_fte_",a="_Label",l="_labelDesc",u="_labelTable",h="_lte_";t.describe=function(d,p){if(typeof d!="string")return;const m=this.canvas.id;d=c(d),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==d&&(this.descriptions.fallback.innerHTML=d):this._describeHTML("fallback",d),p===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==d&&(this.descriptions.label.innerHTML=d):this._describeHTML("label",d))},t.describeElement=function(d,p,m){if(typeof p!="string"||typeof d!="string")return;const g=this.canvas.id;p=c(p);let v=f(d);d=d.replace(/[^a-zA-Z0-9]/g,"");let E=`<th scope="row">${v}</th><td>${p}</td>`;this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[d]?this.descriptions.fallbackElements[d].innerHTML!==E&&(this.descriptions.fallbackElements[d].innerHTML=E):this._describeElementHTML("fallback",d,E),m===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[d]?this.descriptions.labelElements[d].innerHTML!==E&&(this.descriptions.labelElements[d].innerHTML=E):this._describeElementHTML("label",d,E))};function c(d){if(d==="label"||d==="fallback")throw new Error("description should not be LABEL or FALLBACK");return!d.endsWith(".")&&!d.endsWith(";")&&!d.endsWith(",")&&!d.endsWith("?")&&!d.endsWith("!")&&(d=d+"."),d}t._describeHTML=function(d,p){const m=this.canvas.id;if(d==="fallback"){if(this.dummyDOM.querySelector(`#${m+r}`))this.dummyDOM.querySelector("#"+m+s).insertAdjacentHTML("beforebegin",`<p id="${m+i}"></p>`);else{let g=`<div id="${m}${r}" role="region" aria-label="Canvas Description"><p id="${m}${i}"></p></div>`;this.dummyDOM.querySelector(`#${m}accessibleOutput`)?this.dummyDOM.querySelector(`#${m}accessibleOutput`).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector(`#${m}`).innerHTML=g}this.descriptions.fallback=this.dummyDOM.querySelector(`#${m}${i}`),this.descriptions.fallback.innerHTML=p;return}else if(d==="label"){if(this.dummyDOM.querySelector(`#${m+a}`))this.dummyDOM.querySelector(`#${m+u}`)&&this.dummyDOM.querySelector(`#${m+u}`).insertAdjacentHTML("beforebegin",`<p id="${m}${l}"></p>`);else{let g=`<div id="${m}${a}" class="p5Label"><p id="${m}${l}"></p></div>`;this.dummyDOM.querySelector(`#${m}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${m}accessibleOutputLabel`).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",g)}this.descriptions.label=this.dummyDOM.querySelector("#"+m+l),this.descriptions.label.innerHTML=p;return}};function f(d){if(d==="label"||d==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return d.endsWith(".")||d.endsWith(";")||d.endsWith(",")?d=d.replace(/.$/,":"):d.endsWith(":")||(d=d+":"),d}t._describeElementHTML=function(d,p,m){const g=this.canvas.id;if(d==="fallback"){if(this.dummyDOM.querySelector(`#${g+r}`))this.dummyDOM.querySelector("#"+g+s)||this.dummyDOM.querySelector("#"+g+i).insertAdjacentHTML("afterend",`<table id="${g}${s}"><caption>Canvas elements and their descriptions</caption></table>`);else{let E=`<div id="${g}${r}" role="region" aria-label="Canvas Description"><table id="${g}${s}"><caption>Canvas elements and their descriptions</caption></table></div>`;this.dummyDOM.querySelector(`#${g}accessibleOutput`)?this.dummyDOM.querySelector(`#${g}accessibleOutput`).insertAdjacentHTML("beforebegin",E):this.dummyDOM.querySelector("#"+g).innerHTML=E}let v=document.createElement("tr");v.id=g+o+p,this.dummyDOM.querySelector("#"+g+s).appendChild(v),this.descriptions.fallbackElements[p]=this.dummyDOM.querySelector(`#${g}${o}${p}`),this.descriptions.fallbackElements[p].innerHTML=m;return}else if(d==="label"){if(this.dummyDOM.querySelector(`#${g+a}`))this.dummyDOM.querySelector(`#${g+u}`)||this.dummyDOM.querySelector("#"+g+l).insertAdjacentHTML("afterend",`<table id="${g+u}"></table>`);else{let E=`<div id="${g}${a}" class="p5Label"><table id="${g}${u}"></table></div>`;this.dummyDOM.querySelector(`#${g}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${g}accessibleOutputLabel`).insertAdjacentHTML("beforebegin",E):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",E)}let v=document.createElement("tr");v.id=g+h+p,this.dummyDOM.querySelector("#"+g+u).appendChild(v),this.descriptions.labelElements[p]=this.dummyDOM.querySelector(`#${g}${h}${p}`),this.descriptions.labelElements[p].innerHTML=m}}}typeof p5<"u"&&hF(p5,p5.prototype);function fF(n,t){t._updateGridOutput=function(o){if(this._renderer&&this._renderer instanceof n.RendererGL){this._didOutputGridWebGLMessage||(this._didOutputGridWebGLMessage=!0,console.error("gridOutput() does not yet work in WebGL mode."));return}if(!this.dummyDOM.querySelector(`#${o}_summary`))return;let a=this._accessibleOutputs[o],l=s(o,this.ingredients.shapes),u=i(l.numShapes,this.ingredients.colors.background,this.width,this.height),h=r(o,this.ingredients.shapes);u!==a.summary.innerHTML&&(a.summary.innerHTML=u),h!==a.map.innerHTML&&(a.map.innerHTML=h),l.details!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=l.details),this._accessibleOutputs[o]=a};function r(o,a){let l=0,u="",h=Array.from(Array(10),()=>Array(10));for(let c in a)for(let f in a[c]){let d;c!=="line"?d=`<a href="#${o}shape${l}">${a[c][f].color} ${c}</a>`:d=`<a href="#${o}shape${l}">${a[c][f].color} ${c} midpoint</a>`,a[c][f].loc.locY<h.length&&a[c][f].loc.locX<h[a[c][f].loc.locY].length&&(h[a[c][f].loc.locY][a[c][f].loc.locX]?h[a[c][f].loc.locY][a[c][f].loc.locX]=h[a[c][f].loc.locY][a[c][f].loc.locX]+"  "+d:h[a[c][f].loc.locY][a[c][f].loc.locX]=d,l++)}for(let c in h){let f="<tr>";for(let d in h[c])f=f+"<td>",h[c][d]!==void 0&&(f=f+h[c][d]),f=f+"</td>";u=u+f+"</tr>"}return u}function i(o,a,l,u){let h=`${a} canvas, ${l} by ${u} pixels, contains ${o[0]}`;return o[0]===1?h=`${h} shape: ${o[1]}`:h=`${h} shapes: ${o[1]}`,h}function s(o,a){let l="",u="",h=0;for(let c in a){let f=0;for(let d in a[c]){let p=`<li id="${o}shape${h}">${a[c][d].color} ${c},`;c==="line"?p=p+` location = ${a[c][d].pos}, length = ${a[c][d].length} pixels`:(p=p+` location = ${a[c][d].pos}`,c!=="point"&&(p=p+`, area = ${a[c][d].area} %`),p=p+"</li>"),l=l+p,f++,h++}f>1?u=`${u} ${f} ${c}s`:u=`${u} ${f} ${c}`}return{numShapes:[h,u],details:l}}}typeof p5<"u"&&fF(p5,p5.prototype);function dF(n,t){t._updateTextOutput=function(o){if(this._renderer&&this._renderer instanceof n.RendererGL){this._didOutputTextWebGLMessage||(this._didOutputTextWebGLMessage=!0,console.error("textOutput() does not yet work in WebGL mode."));return}if(!this.dummyDOM.querySelector(`#${o}_summary`))return;let a=this._accessibleOutputs[o],l=s(o,this.ingredients.shapes),u=r(l.numShapes,this.ingredients.colors.background,this.width,this.height),h=i(o,this.ingredients.shapes);u!==a.summary.innerHTML&&(a.summary.innerHTML=u),l.listShapes!==a.list.innerHTML&&(a.list.innerHTML=l.listShapes),h!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=h),this._accessibleOutputs[o]=a};function r(o,a,l,u){let h=`Your output is a, ${l} by ${u} pixels, ${a} canvas containing the following`;return o===1?h=`${h} shape:`:h=`${h} ${o} shapes:`,h}function i(o,a){let l="",u=0;for(let h in a)for(let c in a[h]){let f=`<tr id="${o}shape${u}"><th>${a[h][c].color} ${h}</th>`;h==="line"?f=f+`<td>location = ${a[h][c].pos}</td><td>length = ${a[h][c].length} pixels</td></tr>`:(f=f+`<td>location = ${a[h][c].pos}</td>`,h!=="point"&&(f=f+`<td> area = ${a[h][c].area}%</td>`),f=f+"</tr>"),l=l+f,u++}return l}function s(o,a){let l="",u=0;for(let h in a)for(let c in a[h]){let f=`<li><a href="#${o}shape${u}">${a[h][c].color} ${h}</a>`;h==="line"?f=f+`, ${a[h][c].pos}, ${a[h][c].length} pixels long.</li>`:(f=f+`, at ${a[h][c].pos}`,h!=="point"&&(f=f+`, covering ${a[h][c].area}% of the canvas`),f=f+".</li>"),l=l+f,u++}return{numShapes:u,listShapes:l}}}typeof p5<"u"&&dF(p5,p5.prototype);function pF(n,t){t.textOutput=function(s){this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),s===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},t.gridOutput=function(s){this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),s===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},t._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},t._createOutput=function(s,o){let a=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode);let l,u,h,c="";o==="Fallback"?(l=a+s,u=a+"accessibleOutput",this.dummyDOM.querySelector(`#${u}`)||(this.dummyDOM.querySelector(`#${a}_Description`)?this.dummyDOM.querySelector(`#${a}_Description`).insertAdjacentHTML("afterend",`<div id="${u}" role="region" aria-label="Canvas Outputs"></div>`):this.dummyDOM.querySelector(`#${a}`).innerHTML=`<div id="${u}" role="region" aria-label="Canvas Outputs"></div>`)):o==="Label"&&(c=o,l=a+s+o,u=a+"accessibleOutput"+o,this.dummyDOM.querySelector(`#${u}`)||(this.dummyDOM.querySelector(`#${a}_Label`)?this.dummyDOM.querySelector(`#${a}_Label`).insertAdjacentHTML("afterend",`<div id="${u}"></div>`):this.dummyDOM.querySelector(`#${a}`).insertAdjacentHTML("afterend",`<div id="${u}"></div>`))),this._accessibleOutputs[l]={},s==="textOutput"?(c=`#${a}gridOutput${c}`,h=`<div id="${l}">Text Output<div id="${l}Summary" aria-label="text output summary"><p id="${l}_summary"></p><ul id="${l}_list"></ul></div><table id="${l}_shapeDetails" summary="text output shape details"></table></div>`,this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector(`#${u}`).innerHTML=h,this._accessibleOutputs[l].list=this.dummyDOM.querySelector(`#${l}_list`)):s==="gridOutput"&&(c=`#${a}textOutput${c}`,h=`<div id="${l}">Grid Output<p id="${l}_summary" aria-label="grid output summary"><table id="${l}_map" summary="grid output content"></table><ul id="${l}_shapeDetails" aria-label="grid output shape details"></ul></div>`,this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("afterend",h):this.dummyDOM.querySelector(`#${u}`).innerHTML=h,this._accessibleOutputs[l].map=this.dummyDOM.querySelector(`#${l}_map`)),this._accessibleOutputs[l].shapeDetails=this.dummyDOM.querySelector(`#${l}_shapeDetails`),this._accessibleOutputs[l].summary=this.dummyDOM.querySelector(`#${l}_summary`)},t._updateAccsOutput=function(){let s=this.canvas.id;(JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes||this.ingredients.colors.background!==this.ingredients.pBackground)&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(s+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(s+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(s+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(s+"gridOutputLabel"))},t._accsBackground=function(s){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==s&&(this.ingredients.colors.backgroundRGBA=s,this.ingredients.colors.background=this._rgbColorName(s))},t._accsCanvasColors=function(s,o){s==="fill"?this.ingredients.colors.fillRGBA!==o&&(this.ingredients.colors.fillRGBA=o,this.ingredients.colors.fill=this._rgbColorName(o)):s==="stroke"&&this.ingredients.colors.strokeRGBA!==o&&(this.ingredients.colors.strokeRGBA=o,this.ingredients.colors.stroke=this._rgbColorName(o))},t._accsOutput=function(s,o){s==="ellipse"&&o[2]===o[3]?s="circle":s==="rectangle"&&o[2]===o[3]&&(s="square");let a={},l=!0,u=r(s,o);if(s==="line"){a.color=this.ingredients.colors.stroke,a.length=Math.round(Math.hypot(o[2]-o[0],o[3]-o[1]));let h=this._getPos(o[0],[1]),c=this._getPos(o[2],[3]);a.loc=i(u,this.width,this.height),h===c?a.pos=`at ${h}`:a.pos=`from ${h} to ${c}`}else s==="point"?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=this._getArea(s,o)),a.pos=this._getPos(...u),a.loc=i(u,this.width,this.height);if(!this.ingredients.shapes[s])this.ingredients.shapes[s]=[a];else{for(let h in this.ingredients.shapes[s])JSON.stringify(this.ingredients.shapes[s][h])===JSON.stringify(a)&&(l=!1);l===!0&&this.ingredients.shapes[s].push(a)}};function r(s,o){let a,l;return s==="rectangle"||s==="ellipse"||s==="arc"||s==="circle"||s==="square"?(a=Math.round(o[0]+o[2]/2),l=Math.round(o[1]+o[3]/2)):s==="triangle"?(a=(o[0]+o[2]+o[4])/3,l=(o[1]+o[3]+o[5])/3):s==="quadrilateral"?(a=(o[0]+o[2]+o[4]+o[6])/4,l=(o[1]+o[3]+o[5]+o[7])/4):s==="line"?(a=(o[0]+o[2])/2,l=(o[1]+o[3])/2):(a=o[0],l=o[1]),[a,l]}t._getPos=function(s,o){const{x:a,y:l}=this.worldToScreen(new n.Vector(s,o)),u=this.width,h=this.height;return a<.4*u?l<.4*h?"top left":l>.6*h?"bottom left":"mid left":a>.6*u?l<.4*h?"top right":l>.6*h?"bottom right":"mid right":l<.4*h?"top middle":l>.6*h?"bottom middle":"middle"};function i(s,o,a){let h=Math.floor(s[0]/o*10),c=Math.floor(s[1]/a*10);return h===10&&(h=h-1),c===10&&(c=c-1),{locX:h,locY:c}}t._getArea=function(s,o){let a=0;if(s==="arc"){const g=((o[5]-o[4])%(Math.PI*2)+Math.PI*2)%(Math.PI*2);if(a=g*o[2]*o[3]/8,o[6]==="open"||o[6]==="chord"){const v=o[0],E=o[1],y=o[0]+o[2]/2*Math.cos(o[4]).toFixed(2),x=o[1]+o[3]/2*Math.sin(o[4]).toFixed(2),b=o[0]+o[2]/2*Math.cos(o[5]).toFixed(2),w=o[1]+o[3]/2*Math.sin(o[5]).toFixed(2),S=Math.abs(v*(x-w)+y*(w-E)+b*(E-x))/2;g>Math.PI?a=a+S:a=a-S}}else s==="ellipse"||s==="circle"?a=3.14*o[2]/2*o[3]/2:s==="line"||s==="point"?a=0:s==="quadrilateral"?a=Math.abs((o[6]+o[0])*(o[7]-o[1])+(o[0]+o[2])*(o[1]-o[3])+(o[2]+o[4])*(o[3]-o[5])+(o[4]+o[6])*(o[5]-o[7]))/2:s==="rectangle"||s==="square"?a=o[2]*o[3]:s==="triangle"&&(a=Math.abs(o[0]*(o[3]-o[5])+o[2]*(o[5]-o[1])+o[4]*(o[1]-o[3]))/2);const l=this.width*this._renderer._pixelDensity,u=this.height*this._renderer._pixelDensity,h=[new DOMPoint(0,0),new DOMPoint(l,0),new DOMPoint(l,u),new DOMPoint(0,u)],f=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),d=h.map(g=>g.matrixTransform(f)),p=Math.abs((d[3].x+d[0].x)*(d[3].y-d[0].y)+(d[0].x+d[1].x)*(d[0].y-d[1].y)+(d[1].x+d[2].x)*(d[1].y-d[2].y)+(d[2].x+d[3].x)*(d[2].y-d[3].y))/2;return Math.round(a*100/p)}}typeof p5<"u"&&pF(p5,p5.prototype);zt.ColorConversion={_hsbaToHSLA(n){const t=n[0];let r=n[1];const i=n[2],s=(2-r)*i/2;return s!==0&&(s===1?r=0:s<.5?r=r/(2-r):r=r*i/(2-s*2)),[t,r,s,n[3]]},_hsbaToRGBA(n){const t=n[0]*6,r=n[1],i=n[2];let s=[];if(r===0)s=[i,i,i,n[3]];else{const o=Math.floor(t),a=i*(1-r),l=i*(1-r*(t-o)),u=i*(1-r*(1+o-t));let h,c,f;o===1?(h=l,c=i,f=a):o===2?(h=a,c=i,f=u):o===3?(h=a,c=l,f=i):o===4?(h=u,c=a,f=i):o===5?(h=i,c=a,f=l):(h=i,c=u,f=a),s=[h,c,f,n[3]]}return s},_hslaToHSBA(n){const t=n[0];let r=n[1];const i=n[2];let s;return i<.5?s=(1+r)*i:s=i+r-i*r,r=2*(s-i)/s,[t,r,s,n[3]]},_hslaToRGBA(n){const t=n[0]*6,r=n[1],i=n[2];let s=[];if(r===0)s=[i,i,i,n[3]];else{let o;i<.5?o=(1+r)*i:o=i+r-i*r;const a=2*i-o,l=(u,h,c)=>(u<0?u+=6:u>=6&&(u-=6),u<1?h+(c-h)*u:u<3?c:u<4?h+(c-h)*(4-u):h);s=[l(t+2,a,o),l(t,a,o),l(t-2,a,o),n[3]]}return s},_rgbaToHSBA(n){const t=n[0],r=n[1],i=n[2],s=Math.max(t,r,i),o=s-Math.min(t,r,i);let a,l;return o===0?(a=0,l=0):(l=o/s,t===s?a=(r-i)/o:r===s?a=2+(i-t)/o:i===s&&(a=4+(t-r)/o),a<0?a+=6:a>=6&&(a-=6)),[a/6,l,s,n[3]]},_rgbaToHSLA(n){const t=n[0],r=n[1],i=n[2],s=Math.max(t,r,i),o=Math.min(t,r,i),a=s+o,l=s-o;let u,h;return l===0?(u=0,h=0):(a<1?h=l/a:h=l/(2-a),t===s?u=(r-i)/l:r===s?u=2+(i-t)/l:i===s&&(u=4+(t-r)/l),u<0?u+=6:u>=6&&(u-=6)),[u/6,h,a/2,n[3]]}};var lZ=zt.ColorConversion;function mF(n,t){let r;const i=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],s=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];function o(a){let l;if(a[0]!==0){a[0]=Math.round(a[0]*100);let u=a[0].toString().split("");const h=u.length-1;u[h]=parseInt(u[h]),u[h]<2.5?u[h]=0:u[h]>=2.5&&u[h]<7.5&&(u[h]=5),u.length===2?(u[0]=parseInt(u[0]),u[h]>=7.5&&(u[h]=0,u[0]=u[0]+1),a[0]=u[0]*10+u[1]):u[h]>=7.5?a[0]=10:a[0]=u[h]}a[2]=a[2]/255;for(let u=a.length-1;u>=1;u--)a[u]<=.25?a[u]=0:a[u]>.25&&a[u]<.75?a[u]=.5:a[u]=1;if(a[0]===0&&a[1]===0&&a[2]===1){for(let u=2;u>=0;u--)r[u]=Math.round(r[u]*1e4)/1e4;for(let u=0;u<i.length;u++)if(i[u].h===r[0]&&i[u].s===r[1]&&i[u].b===r[2]){l=i[u].name;break}else l="white"}else for(let u=0;u<s.length;u++)if(s[u].h===a[0]&&s[u].s===a[1]&&s[u].b===a[2]){l=s[u].name;break}return l}t._rgbColorName=function(a){let l=lZ._rgbaToHSBA(a);return r=l,o([l[0],l[1],l[2]])}}typeof p5<"u"&&mF(p5,p5.prototype);function uZ(n){n.registerAddon(hF),n.registerAddon(fF),n.registerAddon(dF),n.registerAddon(pF),n.registerAddon(mF)}function cZ(n){n.registerAddon(jb),n.registerAddon(u5),n.registerAddon(Yb)}function Ys(n){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(n)}function hZ(n,t){if(Ys(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t);if(Ys(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function gF(n){var t=hZ(n,"string");return Ys(t)=="symbol"?t:t+""}function fZ(n,t,r){return(t=gF(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function li(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&i.push.apply(i,Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),i.forEach(function(s){fZ(n,s,r[s])})}return n}function go(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function eS(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,gF(i.key),i)}}function vo(n,t,r){return t&&eS(n.prototype,t),r&&eS(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function Yl(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ef(n,t){if(t&&(Ys(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yl(n)}function pc(n){return pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pc(n)}function Vy(n,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vy(n,t)}function pg(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Vy(n,t)}var dZ={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},pZ=(function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};go(this,n),this.init(t,r)}return vo(n,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=r||dZ,this.options=i,this.debug=i.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,i,s,o){return o&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(s).concat(this.prefix," ").concat(r[0])),this.logger[i](r))}},{key:"create",value:function(r){return new n(this.logger,li({},{prefix:"".concat(this.prefix,":").concat(r,":")},this.options))}}]),n})(),Uo=new pZ,Pa=(function(){function n(){go(this,n),this.observers={}}return vo(n,[{key:"on",value:function(r,i){var s=this;return r.split(" ").forEach(function(o){s.observers[o]=s.observers[o]||[],s.observers[o].push(i)}),this}},{key:"off",value:function(r,i){if(this.observers[r]){if(!i){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(s){return s!==i})}}},{key:"emit",value:function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(this.observers[r]){var a=[].concat(this.observers[r]);a.forEach(function(u){u.apply(void 0,s)})}if(this.observers["*"]){var l=[].concat(this.observers["*"]);l.forEach(function(u){u.apply(u,[r].concat(s))})}}}]),n})();function zc(){var n,t,r=new Promise(function(i,s){n=i,t=s});return r.resolve=n,r.reject=t,r}function tS(n){return n==null?"":""+n}function mZ(n,t,r){n.forEach(function(i){t[i]&&(r[i]=t[i])})}function lx(n,t,r){function i(l){return l&&l.indexOf("###")>-1?l.replace(/###/g,"."):l}function s(){return!n||typeof n=="string"}for(var o=typeof t!="string"?[].concat(t):t.split(".");o.length>1;){if(s())return{};var a=i(o.shift());!n[a]&&r&&(n[a]=new r),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={}}return s()?{}:{obj:n,k:i(o.shift())}}function nS(n,t,r){var i=lx(n,t,Object),s=i.obj,o=i.k;s[o]=r}function gZ(n,t,r,i){var s=lx(n,t,Object),o=s.obj,a=s.k;o[a]=o[a]||[],o[a].push(r)}function Jp(n,t){var r=lx(n,t),i=r.obj,s=r.k;if(i)return i[s]}function rS(n,t,r){var i=Jp(n,r);return i!==void 0?i:Jp(t,r)}function vF(n,t,r){for(var i in t)i!=="__proto__"&&i!=="constructor"&&(i in n?typeof n[i]=="string"||n[i]instanceof String||typeof t[i]=="string"||t[i]instanceof String?r&&(n[i]=t[i]):vF(n[i],t[i],r):n[i]=t[i]);return n}function Cu(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var vZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function yZ(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,function(t){return vZ[t]}):n}var mg=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,bZ=(function(n){pg(t,n);function t(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return go(this,t),i=ef(this,pc(t).call(this)),mg&&Pa.call(Yl(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i}return vo(t,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=[i,s];return o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split(".")),Jp(this.data,u)}},{key:"addResource",value:function(i,s,o,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=this.options.keySeparator;u===void 0&&(u=".");var h=[i,s];o&&(h=h.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(h=i.split("."),a=s,s=h[1]),this.addNamespaces(s),nS(this.data,h,a),l.silent||this.emit("added",i,s,o,a)}},{key:"addResources",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in o)(typeof o[l]=="string"||Object.prototype.toString.apply(o[l])==="[object Array]")&&this.addResource(i,s,l,o[l],{silent:!0});a.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},h=[i,s];i.indexOf(".")>-1&&(h=i.split("."),a=o,o=s,s=h[1]),this.addNamespaces(s);var c=Jp(this.data,h)||{};a?vF(c,o,l):c=li({},c,o),nS(this.data,h,c),u.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?li({},{},this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"toJSON",value:function(){return this.data}}]),t})(Pa),yF={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,i,s,o){var a=this;return t.forEach(function(l){a.processors[l]&&(r=a.processors[l].process(r,i,s,o))}),r}},iS={},sS=(function(n){pg(t,n);function t(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return go(this,t),i=ef(this,pc(t).call(this)),mg&&Pa.call(Yl(i)),mZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Yl(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Uo.create("translator"),i}return vo(t,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS;if(o&&i.indexOf(o)>-1){var u=i.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:i,namespaces:l};var h=i.split(o);(o!==a||o===a&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),i=h.join(a)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,o){var a=this;if(Ys(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],s),h=u.key,c=u.namespaces,f=c[c.length-1],d=s.lng||this.language,p=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(p){var m=s.nsSeparator||this.options.nsSeparator;return f+m+h}return h}var g=this.resolve(i,s),v=g&&g.res,E=g&&g.usedKey||h,y=g&&g.exactUsedKey||h,x=Object.prototype.toString.apply(v),b=["[object Number]","[object Function]","[object RegExp]"],w=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,_=typeof v!="string"&&typeof v!="boolean"&&typeof v!="number";if(S&&v&&_&&b.indexOf(x)<0&&!(typeof w=="string"&&x==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,v,s):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");if(l){var T=x==="[object Array]",C=T?[]:{},F=T?y:E;for(var k in v)if(Object.prototype.hasOwnProperty.call(v,k)){var D="".concat(F).concat(l).concat(k);C[k]=this.translate(D,li({},s,{joinArrays:!1,ns:c})),C[k]===D&&(C[k]=v[k])}v=C}}else if(S&&typeof w=="string"&&x==="[object Array]")v=v.join(w),v&&(v=this.extendTranslation(v,i,s,o));else{var N=!1,M=!1,U=s.count!==void 0&&typeof s.count!="string",B=t.hasDefaultValue(s),W=U?this.pluralResolver.getSuffix(d,s.count):"",Z=s["defaultValue".concat(W)]||s.defaultValue;!this.isValidLookup(v)&&B&&(N=!0,v=Z),this.isValidLookup(v)||(M=!0,v=h);var fe=B&&Z!==v&&this.options.updateMissing;if(M||N||fe){if(this.logger.log(fe?"updateKey":"missingKey",d,f,h,fe?Z:v),l){var Q=this.resolve(h,li({},s,{keySeparator:!1}));Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var J=[],ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ae&&ae[0])for(var be=0;be<ae.length;be++)J.push(ae[be]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(s.lng||this.language):J.push(s.lng||this.language);var ee=function(xe,ie,ge){a.options.missingKeyHandler?a.options.missingKeyHandler(xe,f,ie,fe?ge:v,fe,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(xe,f,ie,fe?ge:v,fe,s),a.emit("missingKey",xe,f,ie,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?J.forEach(function(K){a.pluralResolver.getSuffixes(K).forEach(function(xe){ee([K],h+xe,s["defaultValue".concat(xe)]||Z)})}):ee(J,h,Z))}v=this.extendTranslation(v,i,s,g,o),M&&v===h&&this.options.appendNamespaceToMissingKey&&(v="".concat(f,":").concat(h)),M&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(i,s,o,a,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,o,a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(li({},o,{interpolation:li({},this.options.interpolation,o.interpolation)}));var h=o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,c;if(h){var f=i.match(this.interpolator.nestingRegexp);c=f&&f.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=li({},this.options.interpolation.defaultVariables,d)),i=this.interpolator.interpolate(i,d,o.lng||this.language,o),h){var p=i.match(this.interpolator.nestingRegexp),m=p&&p.length;c<m&&(o.nest=!1)}o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var E=arguments.length,y=new Array(E),x=0;x<E;x++)y[x]=arguments[x];return l&&l[0]===y[0]&&!o.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(y[0]," in key: ").concat(s[0])),null):u.translate.apply(u,y.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var g=o.postProcess||this.options.postProcess,v=typeof g=="string"?[g]:g;return i!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(i=yF.handle(v,i,s,this.options&&this.options.postProcessPassResolved?li({i18nResolved:a},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,l,u,h,c;return typeof i=="string"&&(i=[i]),i.forEach(function(f){if(!s.isValidLookup(a)){var d=s.extractFromKey(f,o),p=d.key;l=p;var m=d.namespaces;s.options.fallbackNS&&(m=m.concat(s.options.fallbackNS));var g=o.count!==void 0&&typeof o.count!="string",v=o.context!==void 0&&typeof o.context=="string"&&o.context!=="",E=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);m.forEach(function(y){s.isValidLookup(a)||(c=y,!iS["".concat(E[0],"-").concat(y)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(c)&&(iS["".concat(E[0],"-").concat(y)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(E.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(function(x){if(!s.isValidLookup(a)){h=x;var b=p,w=[b];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(w,p,x,y,o);else{var S;g&&(S=s.pluralResolver.getSuffix(x,o.count)),g&&v&&w.push(b+S),v&&w.push(b+="".concat(s.options.contextSeparator).concat(o.context)),g&&w.push(b+=S)}for(var _;_=w.pop();)s.isValidLookup(a)||(u=_,a=s.getResource(x,y,_,o))}}))})}}),{res:a,usedKey:l,exactUsedKey:u,usedLng:h,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,a):this.resourceStore.getResource(i,s,o,a)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),t})(Pa);function Z0(n){return n.charAt(0).toUpperCase()+n.slice(1)}var xZ=(function(){function n(t){go(this,n),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Uo.create("languageUtils")}return vo(n,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var i=r.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var i=r.split("-");return this.formatLanguageCode(i[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var i=["hans","hant","latn","cyrl","cans","mong","arab"],s=r.split("-");return this.options.lowerCaseLng?s=s.map(function(o){return o.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=Z0(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=Z0(s[1].toLowerCase())),i.indexOf(s[2].toLowerCase())>-1&&(s[2]=Z0(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isWhitelisted",value:function(r){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(r)}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var i=this;if(!r)return null;var s;return r.forEach(function(o){if(!s){var a=i.formatLanguageCode(o);(!i.options.supportedLngs||i.isSupportedCode(a))&&(s=a)}}),!s&&this.options.supportedLngs&&r.forEach(function(o){if(!s){var a=i.getLanguagePartFromCode(o);if(i.isSupportedCode(a))return s=a;s=i.options.supportedLngs.find(function(l){if(l.indexOf(a)===0)return l})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(r,i){if(!r)return[];if(typeof r=="function"&&(r=r(i)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!i)return r.default||[];var s=r[i];return s||(s=r[this.getScriptPartFromCode(i)]),s||(s=r[this.formatLanguageCode(i)]),s||(s=r[this.getLanguagePartFromCode(i)]),s||(s=r.default),s||[]}},{key:"toResolveHierarchy",value:function(r,i){var s=this,o=this.getFallbackCodes(i||this.options.fallbackLng||[],r),a=[],l=function(h){h&&(s.isSupportedCode(h)?a.push(h):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(h)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(r))):typeof r=="string"&&l(this.formatLanguageCode(r)),o.forEach(function(u){a.indexOf(u)<0&&l(s.formatLanguageCode(u))}),a}}]),n})(),_Z=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],wZ={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};function EZ(){var n={};return _Z.forEach(function(t){t.lngs.forEach(function(r){n[r]={numbers:t.nr,plurals:wZ[t.fc]}})}),n}var SZ=(function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};go(this,n),this.languageUtils=t,this.options=r,this.logger=Uo.create("pluralResolver"),this.rules=EZ()}return vo(n,[{key:"addRule",value:function(r,i){this.rules[r]=i}},{key:"getRule",value:function(r){return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var i=this.getRule(r);return i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,i){return this.getSuffixes(r).map(function(s){return i+s})}},{key:"getSuffixes",value:function(r){var i=this,s=this.getRule(r);return s?s.numbers.map(function(o){return i.getSuffix(r,o)}):[]}},{key:"getSuffix",value:function(r,i){var s=this,o=this.getRule(r);if(o){var a=o.noAbs?o.plurals(i):o.plurals(Math.abs(i)),l=o.numbers[a];this.options.simplifyPluralSuffix&&o.numbers.length===2&&o.numbers[0]===1&&(l===2?l="plural":l===1&&(l=""));var u=function(){return s.options.prepend&&l.toString()?s.options.prepend+l.toString():l.toString()};return this.options.compatibilityJSON==="v1"?l===1?"":typeof l=="number"?"_plural_".concat(l.toString()):u():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&o.numbers.length===2&&o.numbers[0]===1?u():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}return this.logger.warn("no plural rule found for: ".concat(r)),""}}]),n})(),CZ=(function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};go(this,n),this.logger=Uo.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return vo(n,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var i=r.interpolation;this.escape=i.escape!==void 0?i.escape:yZ,this.escapeValue=i.escapeValue!==void 0?i.escapeValue:!0,this.useRawValueToEscape=i.useRawValueToEscape!==void 0?i.useRawValueToEscape:!1,this.prefix=i.prefix?Cu(i.prefix):i.prefixEscaped||"{{",this.suffix=i.suffix?Cu(i.suffix):i.suffixEscaped||"}}",this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||",",this.unescapePrefix=i.unescapeSuffix?"":i.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":i.unescapeSuffix||"",this.nestingPrefix=i.nestingPrefix?Cu(i.nestingPrefix):i.nestingPrefixEscaped||Cu("$t("),this.nestingSuffix=i.nestingSuffix?Cu(i.nestingSuffix):i.nestingSuffixEscaped||Cu(")"),this.nestingOptionsSeparator=i.nestingOptionsSeparator?i.nestingOptionsSeparator:i.nestingOptionsSeparator||",",this.maxReplaces=i.maxReplaces?i.maxReplaces:1e3,this.alwaysFormat=i.alwaysFormat!==void 0?i.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var i="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(i,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(r,i,s,o){var a=this,l,u,h,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(v){return v.replace(/\$/g,"$$$$")}var d=function(E){if(E.indexOf(a.formatSeparator)<0){var y=rS(i,c,E);return a.alwaysFormat?a.format(y,void 0,s):y}var x=E.split(a.formatSeparator),b=x.shift().trim(),w=x.join(a.formatSeparator).trim();return a.format(rS(i,c,b),w,s,o)};this.resetRegExp();var p=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,m=o&&o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,g=[{regex:this.regexpUnescape,safeValue:function(E){return f(E)}},{regex:this.regexp,safeValue:function(E){return a.escapeValue?f(a.escape(E)):f(E)}}];return g.forEach(function(v){for(h=0;l=v.regex.exec(r);){if(u=d(l[1].trim()),u===void 0)if(typeof p=="function"){var E=p(r,l,o);u=typeof E=="string"?E:""}else if(m){u=l[0];continue}else a.logger.warn("missed to pass in variable ".concat(l[1]," for interpolating ").concat(r)),u="";else typeof u!="string"&&!a.useRawValueToEscape&&(u=tS(u));if(r=r.replace(l[0],v.safeValue(u)),v.regex.lastIndex=0,h++,h>=a.maxReplaces)break}}),r}},{key:"nest",value:function(r,i){var s=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,l,u=li({},o);u.applyPostProcessor=!1,delete u.defaultValue;function h(p,m){var g=this.nestingOptionsSeparator;if(p.indexOf(g)<0)return p;var v=p.split(new RegExp("".concat(g,"[ ]*{"))),E="{".concat(v[1]);p=v[0],E=this.interpolate(E,u),E=E.replace(/'/g,'"');try{u=JSON.parse(E),m&&(u=li({},m,u))}catch(y){return this.logger.warn("failed parsing options string in nesting for key ".concat(p),y),"".concat(p).concat(g).concat(E)}return delete u.defaultValue,p}for(;a=this.nestingRegexp.exec(r);){var c=[],f=!1;if(a[0].includes(this.formatSeparator)&&!/{.*}/.test(a[1])){var d=a[1].split(this.formatSeparator).map(function(p){return p.trim()});a[1]=d.shift(),c=d,f=!0}if(l=i(h.call(this,a[1].trim(),u),u),l&&a[0]===r&&typeof l!="string")return l;typeof l!="string"&&(l=tS(l)),l||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(r)),l=""),f&&(l=c.reduce(function(p,m){return s.format(p,m,o.lng,o)},l.trim())),r=r.replace(a[0],l),this.regexp.lastIndex=0}return r}}]),n})();function AZ(n,t){for(var r=n.indexOf(t);r!==-1;)n.splice(r,1),r=n.indexOf(t)}var TZ=(function(n){pg(t,n);function t(r,i,s){var o,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return go(this,t),o=ef(this,pc(t).call(this)),mg&&Pa.call(Yl(o)),o.backend=r,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=a,o.logger=Uo.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,a.backend,a),o}return vo(t,[{key:"queueLoad",value:function(i,s,o,a){var l=this,u=[],h=[],c=[],f=[];return i.forEach(function(d){var p=!0;s.forEach(function(m){var g="".concat(d,"|").concat(m);!o.reload&&l.store.hasResourceBundle(d,m)?l.state[g]=2:l.state[g]<0||(l.state[g]===1?h.indexOf(g)<0&&h.push(g):(l.state[g]=1,p=!1,h.indexOf(g)<0&&h.push(g),u.indexOf(g)<0&&u.push(g),f.indexOf(m)<0&&f.push(m)))}),p||c.push(d)}),(u.length||h.length)&&this.queue.push({pending:h,loaded:{},errors:[],callback:a}),{toLoad:u,pending:h,toLoadLanguages:c,toLoadNamespaces:f}}},{key:"loaded",value:function(i,s,o){var a=i.split("|"),l=a[0],u=a[1];s&&this.emit("failedLoading",l,u,s),o&&this.store.addResourceBundle(l,u,o),this.state[i]=s?-1:2;var h={};this.queue.forEach(function(c){gZ(c.loaded,[l],u),AZ(c.pending,i),s&&c.errors.push(s),c.pending.length===0&&!c.done&&(Object.keys(c.loaded).forEach(function(f){h[f]||(h[f]=[]),c.loaded[f].length&&c.loaded[f].forEach(function(d){h[f].indexOf(d)<0&&h[f].push(d)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,s,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,h=arguments.length>5?arguments[5]:void 0;return i.length?this.backend[o](i,s,function(c,f){if(c&&f&&l<5){setTimeout(function(){a.read.call(a,i,s,o,l+1,u*2,h)},u);return}h(c,f)}):h(null,{})}},{key:"prepareLoading",value:function(i,s){var o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,a,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(h){o.loadOne(h)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=i.split("|"),l=a[0],u=a[1];this.read(l,u,"read",void 0,void 0,function(h,c){h&&s.logger.warn("".concat(o,"loading namespace ").concat(u," for language ").concat(l," failed"),h),!h&&c&&s.logger.log("".concat(o,"loaded namespace ").concat(u," for language ").concat(l),c),s.loaded(i,h,c)})}},{key:"saveMissing",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}o==null||o===""||(this.backend&&this.backend.create&&this.backend.create(i,s,o,a,null,li({},u,{isUpdate:l})),!(!i||!i[0])&&this.store.addResource(i[0],s,o,a))}}]),t})(Pa);function IZ(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(Ys(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),Ys(t[2])==="object"||Ys(t[3])==="object"){var i=t[3]||t[2];Object.keys(i).forEach(function(s){r[s]=i[s]})}return r},interpolation:{escapeValue:!0,format:function(t,r,i,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function oS(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.whitelist&&(n.whitelist&&n.whitelist.indexOf("cimode")<0&&(n.whitelist=n.whitelist.concat(["cimode"])),n.supportedLngs=n.whitelist),n.nonExplicitWhitelist&&(n.nonExplicitSupportedLngs=n.nonExplicitWhitelist),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function xd(){}var DZ=(function(n){pg(t,n);function t(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(go(this,t),r=ef(this,pc(t).call(this)),mg&&Pa.call(Yl(r)),r.options=oS(i),r.services={},r.logger=Uo,r.modules={external:[]},s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),ef(r,Yl(r));setTimeout(function(){r.init(i,s)},0)}return r}return vo(t,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),s.whitelist&&!s.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),s.nonExplicitWhitelist&&!s.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=li({},IZ(),this.options,oS(s)),this.format=this.options.interpolation.format,o||(o=xd);function a(m){return m?typeof m=="function"?new m:m:null}if(!this.options.isClone){this.modules.logger?Uo.init(a(this.modules.logger),this.options):Uo.init(null,this.options);var l=new xZ(this.options);this.store=new bZ(this.options.resources,this.options);var u=this.services;u.logger=Uo,u.resourceStore=this.store,u.languageUtils=l,u.pluralResolver=new SZ(l,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u.interpolator=new CZ(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new TZ(a(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(m){for(var g=arguments.length,v=new Array(g>1?g-1:0),E=1;E<g;E++)v[E-1]=arguments[E];i.emit.apply(i,[m].concat(v))}),this.modules.languageDetector&&(u.languageDetector=a(this.modules.languageDetector),u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=a(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new sS(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,v=new Array(g>1?g-1:0),E=1;E<g;E++)v[E-1]=arguments[E];i.emit.apply(i,[m].concat(v))}),this.modules.external.forEach(function(m){m.init&&m.init(i)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach(function(m){i[m]=function(){var g;return(g=i.store)[m].apply(g,arguments)}});var f=["addResource","addResources","addResourceBundle","removeResourceBundle"];f.forEach(function(m){i[m]=function(){var g;return(g=i.store)[m].apply(g,arguments),i}});var d=zc(),p=function(){var g=function(E,y){i.isInitialized&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),d.resolve(y),o(E,y)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return g(null,i.t.bind(i));i.changeLanguage(i.options.lng,g)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),d}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xd,a=o,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return a();var u=[],h=function(d){if(d){var p=s.services.languageUtils.toResolveHierarchy(d);p.forEach(function(m){u.indexOf(m)<0&&u.push(m)})}};if(l)h(l);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(f){return h(f)})}this.options.preload&&this.options.preload.forEach(function(f){return h(f)}),this.services.backendConnector.load(u,this.options.ns,a)}else a(null)}},{key:"reloadResources",value:function(i,s,o){var a=zc();return i||(i=this.languages),s||(s=this.options.ns),o||(o=xd),this.services.backendConnector.reload(i,s,function(l){a.resolve(),o(l)}),a}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&yF.addPostProcessor(i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var a=zc();this.emit("languageChanging",i);var l=function(c,f){f?(o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f),o.translator.changeLanguage(f),o.isLanguageChangingTo=void 0,o.emit("languageChanged",f),o.logger.log("languageChanged",f)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),s&&s(c,function(){return o.t.apply(o,arguments)})},u=function(c){var f=typeof c=="string"?c:o.services.languageUtils.getBestMatchFromCodes(c);f&&(o.language||(o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f)),o.translator.language||o.translator.changeLanguage(f),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage(f)),o.loadResources(f,function(d){l(d,f)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(u):u(i),a}},{key:"getFixedT",value:function(i,s){var o=this,a=function l(u,h){var c;if(Ys(h)!=="object"){for(var f=arguments.length,d=new Array(f>2?f-2:0),p=2;p<f;p++)d[p-2]=arguments[p];c=o.options.overloadTranslationOptionHandler([u,h].concat(d))}else c=li({},h);return c.lng=c.lng||l.lng,c.lngs=c.lngs||l.lngs,c.ns=c.ns||l.ns,o.t(u,c)};return typeof i=="string"?a.lng=i:a.lngs=i,a.ns=s,a}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var h=function(d,p){var m=s.services.backendConnector.state["".concat(d,"|").concat(p)];return m===-1||m===2};if(o.precheck){var c=o.precheck(this,h);if(c!==void 0)return c}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||h(a,i)&&(!l||h(u,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,a=zc();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){o.options.ns.indexOf(l)<0&&o.options.ns.push(l)}),this.loadResources(function(l){a.resolve(),s&&s(l)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=zc();typeof i=="string"&&(i=[i]);var a=this.options.preload||[],l=i.filter(function(u){return a.indexOf(u)<0});return l.length?(this.options.preload=a.concat(l),this.loadResources(function(u){o.resolve(),s&&s(u)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.languages&&this.languages.length>0?this.languages[0]:this.language),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return s.indexOf(this.services.languageUtils.getLanguagePartFromCode(i))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new t(i,s)}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xd,a=li({},this.options,s,{isClone:!0}),l=new t(a),u=["store","services","language"];return u.forEach(function(h){l[h]=i[h]}),l.services=li({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new sS(l.services,l.options),l.translator.on("*",function(h){for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];l.emit.apply(l,[h].concat(f))}),l.init(a,o),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}}]),t})(Pa),bF=new DZ,xF=[],NZ=xF.forEach,FZ=xF.slice;function kZ(n){return NZ.call(FZ.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n}var aS={create:function(t,r,i,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/"},a;if(i){var l=new Date;l.setTime(l.getTime()+i*60*1e3),a="; expires="+l.toUTCString()}else a="";s=s?"domain="+s+";":"",o=Object.keys(o).reduce(function(u,h){return u+";"+h.replace(/([A-Z])/g,function(c){return"-"+c.toLowerCase()})+"="+o[h]},""),document.cookie=t+"="+encodeURIComponent(r)+a+";"+s+o},read:function(t){for(var r=t+"=",i=document.cookie.split(";"),s=0;s<i.length;s++){for(var o=i[s];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(r)===0)return o.substring(r.length,o.length)}return null},remove:function(t){this.create(t,"",-1)}},MZ={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var i=aS.read(t.lookupCookie);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&aS.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},OZ={name:"querystring",lookup:function(t){var r;if(typeof window<"u")for(var i=window.location.search.substring(1),s=i.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("=");if(a>0){var l=s[o].substring(0,a);l===t.lookupQuerystring&&(r=s[o].substring(a+1))}}return r}},Qp;try{Qp=window!=="undefined"&&window.localStorage!==null;var lS="i18next.translate.boo";window.localStorage.setItem(lS,"foo"),window.localStorage.removeItem(lS)}catch{Qp=!1}var LZ={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&Qp){var i=window.localStorage.getItem(t.lookupLocalStorage);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&Qp&&window.localStorage.setItem(r.lookupLocalStorage,t)}},em;try{em=window!=="undefined"&&window.sessionStorage!==null;var uS="i18next.translate.boo";window.sessionStorage.setItem(uS,"foo"),window.sessionStorage.removeItem(uS)}catch{em=!1}var PZ={name:"sessionStorage",lookup:function(t){var r;if(t.lookupsessionStorage&&em){var i=window.sessionStorage.getItem(t.lookupsessionStorage);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupsessionStorage&&em&&window.sessionStorage.setItem(r.lookupsessionStorage,t)}},RZ={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)r.push(navigator.languages[i]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},BZ={name:"htmlTag",lookup:function(t){var r,i=t.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(r=i.getAttribute("lang")),r}},UZ={name:"path",lookup:function(t){var r;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof i[t.lookupFromPathIndex]!="string")return;r=i[t.lookupFromPathIndex].replace("/","")}else r=i[0].replace("/","")}return r}},VZ={name:"subdomain",lookup:function(t){var r;if(typeof window<"u"){var i=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);i instanceof Array&&(typeof t.lookupFromSubdomainIndex=="number"?r=i[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):r=i[0].replace("http://","").replace("https://","").replace(".",""))}return r}};function $Z(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0,checkForSimilarInWhitelist:!1}}var _F=(function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};go(this,n),this.type="languageDetector",this.detectors={},this.init(t,r)}return vo(n,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=kZ(i,this.options||{},$Z()),this.options.checkForSimilarInWhitelist&&(this.options.checkWhitelist=!0),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(MZ),this.addDetector(OZ),this.addDetector(LZ),this.addDetector(PZ),this.addDetector(RZ),this.addDetector(BZ),this.addDetector(UZ),this.addDetector(VZ)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var i=this;r||(r=this.options.order);var s=[];r.forEach(function(l){if(i.detectors[l]){var u=i.detectors[l].lookup(i.options);u&&typeof u=="string"&&(u=[u]),u&&(s=s.concat(u))}});var o;if(s.forEach(function(l){if(!o){var u=i.services.languageUtils.formatLanguageCode(l);(!i.options.checkWhitelist||i.services.languageUtils.isWhitelisted(u))&&(o=u),!o&&i.options.checkForSimilarInWhitelist&&(o=i.getSimilarInWhitelist(u))}}),!o){var a=this.i18nOptions.fallbackLng;typeof a=="string"&&(a=[a]),a||(a=[]),Object.prototype.toString.apply(a)==="[object Array]"?o=a[0]:o=a[0]||a.default&&a.default[0]}return o}},{key:"cacheUserLanguage",value:function(r,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||i.forEach(function(o){s.detectors[o]&&s.detectors[o].cacheUserLanguage(r,s.options)}))}},{key:"getSimilarInWhitelist",value:function(r){var i=this;if(this.i18nOptions.whitelist){if(r.includes("-")){var s=r.split("-")[0],o=this.services.languageUtils.formatLanguageCode(s);if(this.services.languageUtils.isWhitelisted(o))return o;r=o}var a=this.i18nOptions.whitelist.find(function(l){var u=i.services.languageUtils.formatLanguageCode(l);if(u.startsWith(r))return u});if(a)return a}}}]),n})();_F.type="languageDetector";var jZ={autoplay:`The media that tried to play (with '{{src}}') wasn't allowed to by this browser, most likely due to the browser's autoplay policy.

+ More info: {{url}}`,checkUserDefinedFns:"It seems that you may have accidentally written {{name}} instead of {{actualName}}. Please correct it if it's not intentional.",fileLoadError:{bytes:"It looks like there was a problem loading your file. {{suggestion}}",font:"It looks like there was a problem loading your font. {{suggestion}}",gif:"There was some trouble loading your GIF. Make sure that your GIF is using 87a or 89a encoding.",image:"It looks like there was a problem loading your image. {{suggestion}}",json:"It looks like there was a problem loading your JSON file. {{suggestion}}",large:"If your large file isn't fetched successfully, we recommend splitting the file into smaller segments and fetching those.",strings:"It looks like there was a problem loading your text file. {{suggestion}}",suggestion:`Try checking if the file path ({{filePath}}) is correct, hosting the file online, or running a local server.

+ More info: {{url}}`,table:"It looks like there was a problem loading your table file. {{suggestion}}",xml:"It looks like there was a problem loading your XML file. {{suggestion}}"},friendlyParamError:{type_EMPTY_VAR:`{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received an empty variable instead. If not intentional, this is often a problem with scope.

+ More info: {{url}}`,type_TOO_FEW_ARGUMENTS:"{{location}} {{func}}() was expecting at least {{minParams}} arguments, but received only {{argCount}}.",type_TOO_MANY_ARGUMENTS:"{{location}} {{func}}() was expecting no more than {{maxParams}} arguments, but received {{argCount}}.",type_WRONG_TYPE:"{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received {{argType}} instead."},globalErrors:{reference:{cannotAccess:`
{{location}} "{{symbol}}" is used before declaration. Make sure you have declared the variable before using it.

+ More info: {{url}}`,notDefined:`
{{location}} "{{symbol}}" is not defined in the current scope. If you have defined it in your code, you should check its scope, spelling, and letter-casing (JavaScript is case-sensitive).

+ More info: {{url}}`},stackSubseq:`[{{location}}] 
	 Called from line {{line}} in {{func}}()
`,stackTop:`[{{location}}] 
	 Error at line {{line}} in {{func}}()
`,syntax:{badReturnOrYield:`
Syntax Error - return lies outside of a function. Make sure youre not missing any brackets, so that return lies inside a function.

+ More info: {{url}}`,invalidToken:`
Syntax Error - Found a symbol that JavaScript doesn't recognize or didn't expect at it's place.

+ More info: {{url}}`,missingInitializer:`
Syntax Error - A const variable is declared but not initialized. In JavaScript, an initializer for a const is required. A value must be specified in the same statement in which the variable is declared. Check the line number in the error and assign the const variable a value.

+ More info: {{url}}`,redeclaredVariable:`
Syntax Error - "{{symbol}}" is being redeclared. JavaScript doesn't allow declaring a variable more than once. Check the line number in error for redeclaration of the variable.

+ More info: {{url}}`,unexpectedToken:`
Syntax Error - Symbol present at a place that wasn't expected.
Usually this is due to a typo. Check the line number in the error for anything missing/extra.

+ More info: {{url}}`},type:{constAssign:`
{{location}} A const variable is being re-assigned. In javascript, re-assigning a value to a constant is not allowed. If you want to re-assign new values to a variable, make sure it is declared as var or let.

+ More info: {{url}}`,notfunc:`
{{location}} "{{symbol}}" could not be called as a function.
Check the spelling, letter-casing (JavaScript is case-sensitive) and its type.

+ More info: {{url}}`,notfuncObj:`
{{location}} "{{symbol}}" could not be called as a function.
Verify whether "{{obj}}" has "{{symbol}}" in it and check the spelling, letter-casing (JavaScript is case-sensitive) and its type.

+ More info: {{url}}`,readFromNull:`
{{location}} The property of null can't be read. In javascript the value null indicates that an object has no value.

+ More info: {{url}}`,readFromUndefined:`
{{location}} Cannot read property of undefined. Check the line number in error and make sure the variable which is being operated is not undefined.

 + More info: {{url}}`}},libraryError:'{{location}} An error with message "{{error}}" occurred inside the p5js library when {{func}} was called. If not stated otherwise, it might be an issue with the arguments passed to {{func}}.',location:"[{{file}}, line {{line}}]",misspelling:'{{location}} It seems that you may have accidentally written "{{name}}" instead of "{{actualName}}". Please correct it to {{actualName}} if you wish to use the {{type}} from p5.js.',misspelling_plural:`{{location}} It seems that you may have accidentally written "{{name}}".
You may have meant one of the following: 
{{suggestions}}`,misusedTopLevel:`Did you just try to use p5.js's {{symbolName}} {{symbolType}}? If so, you may want to move it into your sketch's setup() function.

+ More info: {{url}}`,preloadDisabled:"The preload() function has been removed in p5.js 2.0. Please load assets in setup() using async / await keywords or callbacks instead. See https://github.com/processing/p5.js-compatibility for more information about 2.0 and compatibility, or https://dev.to/limzykenneth/asynchronous-p5js-20-458f for more information about promises and async/await.",positions:{p_1:"first",p_10:"tenth",p_11:"eleventh",p_12:"twelfth",p_2:"second",p_3:"third",p_4:"fourth",p_5:"fifth",p_6:"sixth",p_7:"seventh",p_8:"eighth",p_9:"ninth"},pre:`
 p5.js says: {{message}}`,sketchReaderErrors:{reservedConst:`you have used a p5.js reserved variable "{{symbol}}" make sure you change the variable name to something else.

+ More info: {{url}}`,reservedFunc:`you have used a p5.js reserved function "{{symbol}}" make sure you change the function name to something else.

+ More info: {{url}}`},welcome:"Welcome! This is your friendly debugger. To turn me off, switch to using p5.min.js.",wrongPreload:'{{location}} An error with message "{{error}}" occurred inside the p5js library when "{{func}}" was called. If not stated otherwise, it might be due to "{{func}}" being called from preload. Nothing besides load calls (loadImage, loadJSON, loadFont, loadStrings, etc.) should be inside the preload function.'},zZ={fes:jZ},yh={en:{translation:zZ}};const GZ=["en","es","ko","zh","hi","ja"];if(typeof IS_MINIFIED>"u"&&typeof P5_DEV_BUILD<"u"){let n=require("../../translations/dev");for(const t of Object.keys(n)){const r=t.split("_"),i=r.slice(0,r.length-1).join("-"),s=r[r.length-1];yh[i]=yh[i]||{},yh[i][s]=n[t]}}class wF{constructor(t,r){this.init(t,r)}fetchWithTimeout(t,r,i=2e3){return Promise.race([fetch(t,r),new Promise((s,o)=>setTimeout(()=>o(new Error("timeout")),i))])}init(t,r={}){this.services=t,this.options=r}read(t,r,i){const s=this.options.loadPath;if(t===this.options.fallback)i(null,yh[t][r]);else if(GZ.includes(t)){const o=this.services.interpolator.interpolate(s,{lng:t,ns:r});this.loadUrl(o,i)}else i("Not found",!1)}loadUrl(t,r){this.fetchWithTimeout(t).then(i=>{if(!i.ok)throw new Error(`failed loading ${t}`);return i.json()},()=>{throw new Error(`failed loading ${t}`)}).then(i=>r(null,i)).catch(r)}}wF.type="backend";let jt=(n,t)=>{console.debug("p5.js translator called before translations were loaded"),bF.t(n,t)};const HZ=()=>bF.use(_F).use(wF).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:`https://cdn.jsdelivr.net/npm/p5@${Sb.replace(/^(\d+\.\d+)\.\d+.*$/,"$1")}/translations/{{lng}}/{{ns}}.json`},partialBundledLanguages:!0,resources:yh}).then(t=>{jt=t},t=>console.debug(`Translations failed to load (${t})`)),WZ={ReferenceError:[{msg:"{{}} is not defined",type:"NOTDEFINED",browser:"all"},{msg:"Can't find variable: {{}}",type:"NOTDEFINED",browser:"Safari"},{msg:"Cannot access '{{.}}' before initialization",type:"CANNOTACCESS",browser:"Chrome"},{msg:"can't access lexical declaration '{{.}}' before initialization",type:"CANNOTACCESS",browser:"Firefox"}],SyntaxError:[{msg:"illegal character",type:"INVALIDTOKEN",browser:"Firefox"},{msg:"Invalid character",type:"INVALIDTOKEN",browser:"Safari"},{msg:"Invalid or unexpected token",type:"INVALIDTOKEN",browser:"Chrome"},{msg:"Unexpected token '{{.}}'",type:"UNEXPECTEDTOKEN",browser:"Chrome"},{msg:"expected {{.}}, got '{{.}}'",type:"UNEXPECTEDTOKEN",browser:"Chrome"},{msg:"Identifier '{{.}}' has already been declared",type:"REDECLAREDVARIABLE",browser:"Chrome"},{msg:"redeclaration of {} {{.}}",type:"REDECLAREDVARIABLE",browser:"Firefox"},{msg:"Missing initializer in const declaration",type:"MISSINGINITIALIZER",browser:"Chrome"},{msg:"missing = in const declaration",type:"MISSINGINITIALIZER",browser:"Firefox"},{msg:"Illegal return statement",type:"BADRETURNORYIELD",browser:"Chrome"},{msg:"return not in function",type:"BADRETURNORYIELD",browser:"Firefox"}],TypeError:[{msg:"{{.}} is not a function",type:"NOTFUNC",browser:"all"},{msg:"Cannot read {{.}} null",type:"READNULL",browser:"Chrome"},{msg:"{{.}} is null",type:"READNULL",browser:"Firefox"},{msg:"Cannot read {{.}} undefined",type:"READUDEFINED",browser:"Chrome"},{msg:"{{.}} is undefined",type:"READUDEFINED",browser:"Firefox"},{msg:"Assignment to constant variable",type:"CONSTASSIGN",browser:"Chrome"},{msg:"invalid assignment to const '{{.}}'",type:"CONSTASSIGN",browser:"Firefox"}]};function EF(n,t){const r=["#2D7BB6","#EE9900","#4DB200","#C83C00"];let i=null,s=null;const o=2;class a extends Error{}if(typeof IS_MINIFIED<"u")n._friendlyError=n._checkForUserDefinedFunctions=n._fesErrorMonitor=()=>{};else{const h={},c=h.toString,f=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"];for(let w=0;w<f.length;w++)h[`[object ${f[w]}]`]=f[w].toLowerCase();const d=w=>w==null?`${w}`:typeof w=="object"||typeof w=="function"?h[c.call(w)]||"object":typeof w,p=["setup","draw","deviceMoved","deviceTurned","deviceShaken","doubleClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","mouseClicked","mouseWheel","touchStarted","touchMoved","touchEnded","keyPressed","keyReleased","keyTyped","windowResized"],m=(w,S)=>{let _="";if(S==null||S.substring(0,4)==="load")_=w;else{const T=S.split("."),C=T.length>1?`${T[0]}.${T[1]}`:"p5",F=T.length===1?S:T.slice(2).join("/");F.startsWith("p5.")?_=`${w} (https://p5js.org/reference/${C}.${F})`:_=`${w} (https://p5js.org/reference/${C}/${F})`}return _};n._report=(w,S,_)=>{const T=n._fesLogger==null?console.log.bind(console):n._fesLogger;d(_)==="undefined"?_="#B40033":d(_)==="number"&&(_=r[_]),w=m(w,S);const C=jt("fes.pre",{message:w});T(C)},n._error=(w,S,_)=>{throw n._report(S,_),w.hitCriticalError=!0,new a("Stopping sketch to prevent more errors")},n._friendlyError=function(w,S,_){n.disableFriendlyErrors||n._report(w,S,_)},n._friendlyAutoplayError=function(w){const S=jt("fes.autoplay",{src:w,url:"https://developer.mozilla.org/docs/Web/Media/Autoplay_guide"});console.log(jt("fes.pre",{message:S}))};const g=(w,S)=>{const _=w.length,T=S.length;if(_===0)return S;if(T===0)return w;let C=[],F=[];for(let k=0;k<T+1;k++)F[k]=k;C=F;for(let k=1;k<_+1;k++){F=[];for(let D=0;D<T+1;D++)if(D===0)F[D]=k;else{let N=w[k-1],M=S[D-1],U=999999,B=N.toLowerCase()===M.toLowerCase()?0:1;U=U>B+C[D-1]?B+C[D-1]:U,U=U>1+F[D-1]?1+F[D-1]:U,U=U>1+C[D]?1+C[D]:U,F[D]=U}C=F}return F[T]};n.isPreloadSupported=function(){return!1};const v=w=>{if(n.disableFriendlyErrors)return;w=w instanceof n?w:window;const _=p;w.preload&&!n.isPreloadSupported()&&n._error(w,jt("fes.preloadDisabled"));const T={};_.forEach(C=>{T[C.toLowerCase()]=C});for(const C of Object.keys(w)){const F=C.toLowerCase();if(T.hasOwnProperty(F)&&!w[T[F]]&&typeof w[C]=="function"){const k=jt("fes.checkUserDefinedFns",{name:C,actualName:T[F]});n._friendlyError(k,T[F])}}},E=(w,S)=>{i||s();const _={};let T=999999;if(i.forEach(F=>{let k=g(w,F.name);_[k]?_[k].push(F):_[k]=[F],k<T&&(T=k)}),T>Math.min(o,w.length))return!1;const C=_[T].filter(F=>F.name!==w);if(C.length!==0){const F=n._getErrorStackParser().parse(S);let k;F&&F[0]&&F[0].fileName&&F[0].lineNumber&&F[0].columnNumber&&(k={location:`${F[0].fileName}:${F[0].lineNumber}:${F[0].columnNumber}`,file:F[0].fileName.split("/").slice(-1),line:F[0].lineNumber});let D;if(C.length===1)D=jt("fes.misspelling",{name:w,actualName:C[0].name,type:C[0].type,location:k?jt("fes.location",k):"",count:C.length});else{const N=C.map(M=>{const U=" "+M.name+(M.type==="function"?"()":"");return m(U,M.name)}).join(`
`);D=jt("fes.misspelling",{name:w,suggestions:N,location:k?jt("fes.location",k):"",count:C.length})}return n._friendlyError(D,C.length===1?C[0].name:void 0),!0}return!1},y=w=>{const S=n._fesLogger&&typeof n._fesLogger=="function"?n._fesLogger:console.log.bind(console);if(w.length>1){let _="";w.forEach((T,C)=>{const F=`${T.fileName}:${T.lineNumber}:${T.columnNumber}`;let k,D={func:T.functionName,line:T.lineNumber,location:F,file:T.fileName.split("/").slice(-1)};C===0?k=jt("fes.globalErrors.stackTop",D):k=jt("fes.globalErrors.stackSubseq",D),_+=k}),S(_)}},x=(w,S)=>{if(!S)return[!1,null];S.forEach(k=>{k.functionName=k.functionName||""});let _=!1,T,C,F;try{throw new Error}catch(k){T=n._getErrorStackParser().parse(k)[0].fileName}for(let k=S.length-1;k>=0;k--){let D=S[k].functionName.split(".");if(p.includes(D[D.length-1])){if(C=S.slice(0,k+1),F=D[D.length-1],S[0].fileName===T){_=!0;break}break}}if(C||(C=S),_){if(C=C.map((N,M)=>(N.frameIndex=M,N)).filter(N=>N.fileName!==T),C.length===0)return[!0,null];const k=S[C[0].frameIndex-1].functionName.split(".").slice(-1)[0];let D;if(C[0].fileName&&C[0].lineNumber&&C[0].columnNumber&&(D={location:`${C[0].fileName}:${C[0].lineNumber}:${C[0].columnNumber}`,file:C[0].fileName.split("/").slice(-1),line:C[0].lineNumber},n._fesLogCache[D.location]))return[!0,null];F==="preload"&&t._preloadMethods[k]==null?n._friendlyError(jt("fes.wrongPreload",{func:k,location:D?jt("fes.location",D):"",error:w.message}),"preload"):n._friendlyError(jt("fes.libraryError",{func:k,location:D?jt("fes.location",D):"",error:w.message}),k),C&&C.length&&y(C)}return[_,C]},b=w=>{if(n.disableFriendlyErrors||w&&(w instanceof a||w.reason instanceof a))return;let S;if(w instanceof Error)S=w;else if(w instanceof ErrorEvent)S=w.error;else if(w instanceof PromiseRejectionEvent&&(S=w.reason,!(S instanceof Error)))return;if(!S)return;let _=n._getErrorStackParser().parse(S),[T,C]=x(S,_);if(T)return;const F=WZ[S.name];if(!F)return;let k;for(const N of F){let M=N.msg;M=M.replace(new RegExp("{{}}","g"),"([a-zA-Z0-9_]+)"),M=M.replace(new RegExp("{{.}}","g"),"(.+)"),M=M.replace(new RegExp("{}","g"),"(?:[a-zA-Z0-9_]+)");let U=S.message.match(M);if(U){k=Object.assign({},N),k.match=U;break}}if(!k)return;let D;switch(_&&_[0].fileName&&_[0].lineNumber&&_[0].columnNumber&&(D={location:`${_[0].fileName}:${_[0].lineNumber}:${_[0].columnNumber}`,file:_[0].fileName.split("/").slice(-1),line:C[0].lineNumber}),S.name){case"SyntaxError":{switch(k.type){case"INVALIDTOKEN":{n._friendlyError(jt("fes.globalErrors.syntax.invalidToken",{url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Illegal_character#What_went_wrong"}));break}case"UNEXPECTEDTOKEN":{n._friendlyError(jt("fes.globalErrors.syntax.unexpectedToken",{url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Unexpected_token#What_went_wrong"}));break}case"REDECLAREDVARIABLE":{let N=k.match[1];n._friendlyError(jt("fes.globalErrors.syntax.redeclaredVariable",{symbol:N,url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Redeclared_parameter#what_went_wrong"}));break}case"MISSINGINITIALIZER":{n._friendlyError(jt("fes.globalErrors.syntax.missingInitializer",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Missing_initializer_in_const#what_went_wrong"}));break}case"BADRETURNORYIELD":{n._friendlyError(jt("fes.globalErrors.syntax.badReturnOrYield",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Bad_return_or_yield#what_went_wrong"}));break}}break}case"ReferenceError":{switch(k.type){case"NOTDEFINED":{let N=k.match[1];if(N&&E(N,S))break;n._friendlyError(jt("fes.globalErrors.reference.notDefined",{url:"https://p5js.org/examples/data-variable-scope.html",symbol:N,location:D?jt("fes.location",D):""})),C&&y(C);break}case"CANNOTACCESS":{let N=k.match[1];n._friendlyError(jt("fes.globalErrors.reference.cannotAccess",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_lexical_declaration_before_init#what_went_wrong",symbol:N,location:D?jt("fes.location",D):""})),C&&y(C);break}}break}case"TypeError":switch(k.type){case"NOTFUNC":{let M=k.match[1].split("."),B={url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Not_a_function#What_went_wrong",symbol:M[M.length-1],obj:M.slice(0,M.length-1).join("."),location:D?jt("fes.location",D):""};M.length>1?n._friendlyError(jt("fes.globalErrors.type.notfuncObj",B)):n._friendlyError(jt("fes.globalErrors.type.notfunc",B)),C&&y(C);break}case"READNULL":{let N=k.match[1];n._friendlyError(jt("fes.globalErrors.type.readFromNull",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong",symbol:N,location:D?jt("fes.location",D):""})),C&&y(C);break}case"READUDEFINED":{let N=k.match[1];n._friendlyError(jt("fes.globalErrors.type.readFromUndefined",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong",symbol:N,location:D?jt("fes.location",D):""})),C&&y(C);break}case"CONSTASSIGN":{n._friendlyError(jt("fes.globalErrors.type.constAssign",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_const_assignment#what_went_wrong",location:D?jt("fes.location",D):""})),C&&y(C);break}}}};n._fesErrorMonitor=b,n._checkForUserDefinedFunctions=v,n._fesLogger=null,n._fesLogCache={},window.addEventListener("load",v,!1),window.addEventListener("error",n._fesErrorMonitor,!1),window.addEventListener("unhandledrejection",n._fesErrorMonitor,!1)}i=null;const l="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";s=()=>{const h={},c=f=>Object.getOwnPropertyNames(f).filter(d=>d[0]==="_"||d in h?!1:(h[d]=!0,!0)).map(d=>{let p;return typeof f[d]=="function"?p="function":d===d.toUpperCase()?p="constant":p="variable",{name:d,type:p}});i=[].concat(c(t),c(Oa)),i.sort((f,d)=>d.name.length-f.name.length)};const u=(h,c)=>{c||(c=console.log.bind(console)),i||s(),i.some(f=>{if(h.message&&h.message.match(`\\W?${f.name}\\W`)!==null){const d=f.type==="function"?`${f.name}()`:f.name;return c(typeof IS_MINIFIED<"u"?`Did you just try to use p5.js's ${d} ${f.type}? If so, you may want to move it into your sketch's setup() function.

For more details, see: ${l}`:jt("fes.misusedTopLevel",{symbolName:d,symbolType:f.type,url:l})),!0}})};t._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",()=>{window.removeEventListener("error",u,!1)}))}typeof p5<"u"&&EF(p5,p5.prototype);function XZ(){let n=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(s){if(typeof s.stacktrace<"u"||typeof s["opera#sourceloc"]<"u")return this.parseOpera(s);if(s.stack&&s.stack.match(t))return this.parseV8OrIE(s);if(s.stack)return this.parseFFOrSafari(s)},extractLocation:function(s){if(s.indexOf(":")===-1)return[s];let a=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s.replace(/[()]/g,""));return[a[1],a[2]||void 0,a[3]||void 0]},parseV8OrIE:function(s){return s.stack.split(`
`).filter(function(a){return!!a.match(t)},this).map(function(a){a.indexOf("(eval ")>-1&&(a=a.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));let l=a.replace(/^\s+/,"").replace(/\(eval code/g,"("),u=l.match(/ (\((.+):(\d+):(\d+)\)$)/);l=u?l.replace(u[0],""):l;let h=l.split(/\s+/).slice(1),c=this.extractLocation(u?u[1]:h.pop()),f=h.join(" ")||void 0,d=["eval","<anonymous>"].indexOf(c[0])>-1?void 0:c[0];return{functionName:f,fileName:d,lineNumber:c[1],columnNumber:c[2],source:a}},this)},parseFFOrSafari:function(s){return s.stack.split(`
`).filter(function(a){return!a.match(r)},this).map(function(a){if(a.indexOf(" > eval")>-1&&(a=a.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),a.indexOf("@")===-1&&a.indexOf(":")===-1)return{functionName:a};{let l=/((.*".+"[^@]*)?[^@]*)(?:@)/,u=a.match(l),h=u&&u[1]?u[1]:void 0,c=this.extractLocation(a.replace(l,""));return{functionName:h,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:a}}},this)},parseOpera:function(s){return!s.stacktrace||s.message.indexOf(`
`)>-1&&s.message.split(`
`).length>s.stacktrace.split(`
`).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){let o=/Line (\d+).*script (?:in )?(\S+)/i,a=s.message.split(`
`),l=[];for(let u=2,h=a.length;u<h;u+=2){let c=o.exec(a[u]);c&&l.push({fileName:c[2],lineNumber:c[1],source:a[u]})}return l},parseOpera10:function(s){let o=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=s.stacktrace.split(`
`),l=[];for(let u=0,h=a.length;u<h;u+=2){let c=o.exec(a[u]);c&&l.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:a[u]})}return l},parseOpera11:function(s){return s.stack.split(`
`).filter(function(a){return!!a.match(n)&&!a.match(/^Error created at/)},this).map(function(a){let l=a.split("@"),u=this.extractLocation(l.pop()),h=l.shift()||"",c=h.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,f;h.match(/\(([^)]*)\)/)&&(f=h.replace(/^[^(]+\(([^)]*)\)$/,"$1"));let d=f===void 0||f==="[arguments not available]"?void 0:f.split(",");return{functionName:c,args:d,fileName:u[0],lineNumber:u[1],columnNumber:u[2],source:a}},this)}}}function SF(n,t){n._getErrorStackParser=function(){return new XZ}}typeof p5<"u"&&SF(p5,p5.prototype);function Ye(n,t,r){function i(l,u){var h;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(h=l._zod).traits??(h.traits=new Set),l._zod.traits.add(n),t(l,u);for(const c in a.prototype)c in l||Object.defineProperty(l,c,{value:a.prototype[c].bind(l)});l._zod.constr=a,l._zod.def=u}const s=r?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:n});function a(l){var u;const h=r?.Parent?new o:this;i(h,l),(u=h._zod).deferred??(u.deferred=[]);for(const c of h._zod.deferred)c();return h}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>r?.Parent&&l instanceof r.Parent?!0:l?._zod?.traits?.has(n)}),Object.defineProperty(a,"name",{value:n}),a}class tf extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const CF={};function Kl(n){return CF}function qZ(n){const t=Object.values(n).filter(i=>typeof i=="number");return Object.entries(n).filter(([i,s])=>t.indexOf(+i)===-1).map(([i,s])=>s)}function YZ(n,t){return typeof t=="bigint"?t.toString():t}function AF(n){return{get value(){{const t=n();return Object.defineProperty(this,"value",{value:t}),t}}}}function ux(n){return n==null}function cx(n){const t=n.startsWith("^")?1:0,r=n.endsWith("$")?n.length-1:n.length;return n.slice(t,r)}function KZ(n,t){const r=(n.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,s=r>i?r:i,o=Number.parseInt(n.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return o%a/10**s}function ir(n,t,r){Object.defineProperty(n,t,{get(){{const i=r();return n[t]=i,i}},set(i){Object.defineProperty(n,t,{value:i})},configurable:!0})}function hx(n,t,r){Object.defineProperty(n,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Gc(n){return JSON.stringify(n)}const TF=Error.captureStackTrace?Error.captureStackTrace:(...n)=>{};function $y(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const ZZ=AF(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function jy(n){if($y(n)===!1)return!1;const t=n.constructor;if(t===void 0)return!0;const r=t.prototype;return!($y(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const JZ=new Set(["string","number","symbol"]);function Af(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function iu(n,t,r){const i=new n._zod.constr(t??n._zod.def);return(!t||r?.parent)&&(i._zod.parent=n),i}function Ct(n){const t=n;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function QZ(n){return Object.keys(n).filter(t=>n[t]._zod.optin==="optional"&&n[t]._zod.optout==="optional")}const eJ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function tJ(n,t){const r={},i=n._zod.def;for(const s in t){if(!(s in i.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(r[s]=i.shape[s])}return iu(n,{...n._zod.def,shape:r,checks:[]})}function nJ(n,t){const r={...n._zod.def.shape},i=n._zod.def;for(const s in t){if(!(s in i.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete r[s]}return iu(n,{...n._zod.def,shape:r,checks:[]})}function rJ(n,t){if(!jy(t))throw new Error("Invalid input to extend: expected a plain object");const r={...n._zod.def,get shape(){const i={...n._zod.def.shape,...t};return hx(this,"shape",i),i},checks:[]};return iu(n,r)}function iJ(n,t){return iu(n,{...n._zod.def,get shape(){const r={...n._zod.def.shape,...t._zod.def.shape};return hx(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function sJ(n,t,r){const i=t._zod.def.shape,s={...i};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=n?new n({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)s[o]=n?new n({type:"optional",innerType:i[o]}):i[o];return iu(t,{...t._zod.def,shape:s,checks:[]})}function oJ(n,t,r){const i=t._zod.def.shape,s={...i};if(r)for(const o in r){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=new n({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new n({type:"nonoptional",innerType:i[o]});return iu(t,{...t._zod.def,shape:s,checks:[]})}function bh(n,t=0){for(let r=t;r<n.issues.length;r++)if(n.issues[r]?.continue!==!0)return!0;return!1}function gg(n,t){return t.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(n),r})}function _d(n){return typeof n=="string"?n:n?.message}function Zl(n,t,r){const i={...n,path:n.path??[]};if(!n.message){const s=_d(n.inst?._zod.def?.error?.(n))??_d(t?.error?.(n))??_d(r.customError?.(n))??_d(r.localeError?.(n))??"Invalid input";i.message=s}return delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function fx(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function nf(...n){const[t,r,i]=n;return typeof t=="string"?{message:t,code:"custom",input:r,inst:i}:{...t}}const IF=(n,t)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:t,enumerable:!1}),Object.defineProperty(n,"message",{get(){return JSON.stringify(t,YZ,2)},enumerable:!0}),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},DF=Ye("$ZodError",IF),vg=Ye("$ZodError",IF,{Parent:Error});function aJ(n,t=r=>r.message){const r={},i=[];for(const s of n.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:r}}function lJ(n,t){const r=t||function(o){return o.message},i={_errors:[]},s=o=>{for(const a of o.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>s({issues:l}));else if(a.code==="invalid_key")s({issues:a.issues});else if(a.code==="invalid_element")s({issues:a.issues});else if(a.path.length===0)i._errors.push(r(a));else{let l=i,u=0;for(;u<a.path.length;){const h=a.path[u];u===a.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(r(a))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return s(n),i}const NF=n=>(t,r,i,s)=>{const o=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new tf;if(a.issues.length){const l=new(s?.Err??n)(a.issues.map(u=>Zl(u,o,Kl())));throw TF(l,s?.callee),l}return a.value},cS=NF(vg),FF=n=>async(t,r,i,s)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new(s?.Err??n)(a.issues.map(u=>Zl(u,o,Kl())));throw TF(l,s?.callee),l}return a.value},hS=FF(vg),kF=n=>(t,r,i)=>{const s=i?{...i,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new tf;return o.issues.length?{success:!1,error:new(n??DF)(o.issues.map(a=>Zl(a,s,Kl())))}:{success:!0,data:o.value}},uJ=kF(vg),MF=n=>async(t,r,i)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new n(o.issues.map(a=>Zl(a,s,Kl())))}:{success:!0,data:o.value}},cJ=MF(vg),hJ=/^[cC][^\s-]{8,}$/,fJ=/^[0-9a-z]+$/,dJ=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,pJ=/^[0-9a-vA-V]{20}$/,mJ=/^[A-Za-z0-9]{27}$/,gJ=/^[a-zA-Z0-9_-]{21}$/,vJ=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,yJ=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,fS=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,bJ=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,xJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function _J(){return new RegExp(xJ,"u")}const wJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,EJ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,SJ=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,CJ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AJ=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,OF=/^[A-Za-z0-9_-]*$/,TJ=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,IJ=/^\+(?:[0-9]){6,14}[0-9]$/,LF="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",DJ=new RegExp(`^${LF}$`);function PF(n){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${t}`:n.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${n.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function NJ(n){return new RegExp(`^${PF(n)}$`)}function FJ(n){const t=PF({precision:n.precision}),r=["Z"];n.local&&r.push(""),n.offset&&r.push("([+-]\\d{2}:\\d{2})");const i=`${t}(?:${r.join("|")})`;return new RegExp(`^${LF}T(?:${i})$`)}const kJ=n=>{const t=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},MJ=/^\d+$/,OJ=/^-?\d+(?:\.\d+)?/i,LJ=/true|false/i,PJ=/^[^A-Z]*$/,RJ=/^[^a-z]*$/,es=Ye("$ZodCheck",(n,t)=>{var r;n._zod??(n._zod={}),n._zod.def=t,(r=n._zod).onattach??(r.onattach=[])}),RF={number:"number",bigint:"bigint",object:"date"},BF=Ye("$ZodCheckLessThan",(n,t)=>{es.init(n,t);const r=RF[typeof t.value];n._zod.onattach.push(i=>{const s=i._zod.bag,o=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),n._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:r,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:n,continue:!t.abort})}}),UF=Ye("$ZodCheckGreaterThan",(n,t)=>{es.init(n,t);const r=RF[typeof t.value];n._zod.onattach.push(i=>{const s=i._zod.bag,o=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),n._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:r,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:n,continue:!t.abort})}}),BJ=Ye("$ZodCheckMultipleOf",(n,t)=>{es.init(n,t),n._zod.onattach.push(r=>{var i;(i=r._zod.bag).multipleOf??(i.multipleOf=t.value)}),n._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):KZ(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:n,continue:!t.abort})}}),UJ=Ye("$ZodCheckNumberFormat",(n,t)=>{es.init(n,t),t.format=t.format||"float64";const r=t.format?.includes("int"),i=r?"int":"number",[s,o]=eJ[t.format];n._zod.onattach.push(a=>{const l=a._zod.bag;l.format=t.format,l.minimum=s,l.maximum=o,r&&(l.pattern=MJ)}),n._zod.check=a=>{const l=a.value;if(r){if(!Number.isInteger(l)){a.issues.push({expected:i,format:t.format,code:"invalid_type",input:l,inst:n});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:i,continue:!t.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:i,continue:!t.abort});return}}l<s&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:s,inclusive:!0,inst:n,continue:!t.abort}),l>o&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inst:n})}}),VJ=Ye("$ZodCheckMaxLength",(n,t)=>{var r;es.init(n,t),(r=n._zod.def).when??(r.when=i=>{const s=i.value;return!ux(s)&&s.length!==void 0}),n._zod.onattach.push(i=>{const s=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(i._zod.bag.maximum=t.maximum)}),n._zod.check=i=>{const s=i.value;if(s.length<=t.maximum)return;const a=fx(s);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:n,continue:!t.abort})}}),$J=Ye("$ZodCheckMinLength",(n,t)=>{var r;es.init(n,t),(r=n._zod.def).when??(r.when=i=>{const s=i.value;return!ux(s)&&s.length!==void 0}),n._zod.onattach.push(i=>{const s=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(i._zod.bag.minimum=t.minimum)}),n._zod.check=i=>{const s=i.value;if(s.length>=t.minimum)return;const a=fx(s);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:n,continue:!t.abort})}}),jJ=Ye("$ZodCheckLengthEquals",(n,t)=>{var r;es.init(n,t),(r=n._zod.def).when??(r.when=i=>{const s=i.value;return!ux(s)&&s.length!==void 0}),n._zod.onattach.push(i=>{const s=i._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),n._zod.check=i=>{const s=i.value,o=s.length;if(o===t.length)return;const a=fx(s),l=o>t.length;i.issues.push({origin:a,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:n,continue:!t.abort})}}),yg=Ye("$ZodCheckStringFormat",(n,t)=>{var r,i;es.init(n,t),n._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=n._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:n,continue:!t.abort})}):(i=n._zod).check??(i.check=()=>{})}),zJ=Ye("$ZodCheckRegex",(n,t)=>{yg.init(n,t),n._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:n,continue:!t.abort})}}),GJ=Ye("$ZodCheckLowerCase",(n,t)=>{t.pattern??(t.pattern=PJ),yg.init(n,t)}),HJ=Ye("$ZodCheckUpperCase",(n,t)=>{t.pattern??(t.pattern=RJ),yg.init(n,t)}),WJ=Ye("$ZodCheckIncludes",(n,t)=>{es.init(n,t);const r=Af(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=i,n._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(i)}),n._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:n,continue:!t.abort})}}),XJ=Ye("$ZodCheckStartsWith",(n,t)=>{es.init(n,t);const r=new RegExp(`^${Af(t.prefix)}.*`);t.pattern??(t.pattern=r),n._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),n._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:n,continue:!t.abort})}}),qJ=Ye("$ZodCheckEndsWith",(n,t)=>{es.init(n,t);const r=new RegExp(`.*${Af(t.suffix)}$`);t.pattern??(t.pattern=r),n._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),n._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:n,continue:!t.abort})}}),YJ=Ye("$ZodCheckOverwrite",(n,t)=>{es.init(n,t),n._zod.check=r=>{r.value=t.tx(r.value)}});class KJ{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),s=Math.min(...i.map(a=>a.length-a.trimStart().length)),o=i.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of o)this.content.push(a)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...r,s.join(`
`))}}const ZJ={major:4,minor:0,patch:0},jn=Ye("$ZodType",(n,t)=>{var r;n??(n={}),n._zod.def=t,n._zod.bag=n._zod.bag||{},n._zod.version=ZJ;const i=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&i.unshift(n);for(const s of i)for(const o of s._zod.onattach)o(n);if(i.length===0)(r=n._zod).deferred??(r.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const s=(o,a,l)=>{let u=bh(o),h;for(const c of a){if(c._zod.def.when){if(!c._zod.def.when(o))continue}else if(u)continue;const f=o.issues.length,d=c._zod.check(o);if(d instanceof Promise&&l?.async===!1)throw new tf;if(h||d instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await d,o.issues.length!==f&&(u||(u=bh(o,f)))});else{if(o.issues.length===f)continue;u||(u=bh(o,f))}}return h?h.then(()=>o):o};n._zod.run=(o,a)=>{const l=n._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new tf;return l.then(u=>s(u,i,a))}return s(l,i,a)}}n["~standard"]={validate:s=>{try{const o=uJ(n,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return cJ(n,s).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),dx=Ye("$ZodString",(n,t)=>{jn.init(n,t),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??kJ(n._zod.bag),n._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:n}),r}}),ar=Ye("$ZodStringFormat",(n,t)=>{yg.init(n,t),dx.init(n,t)}),JJ=Ye("$ZodGUID",(n,t)=>{t.pattern??(t.pattern=yJ),ar.init(n,t)}),QJ=Ye("$ZodUUID",(n,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=fS(i))}else t.pattern??(t.pattern=fS());ar.init(n,t)}),eQ=Ye("$ZodEmail",(n,t)=>{t.pattern??(t.pattern=bJ),ar.init(n,t)}),tQ=Ye("$ZodURL",(n,t)=>{ar.init(n,t),n._zod.check=r=>{try{const i=r.value,s=new URL(i),o=s.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:TJ.source,input:r.value,inst:n,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:n,continue:!t.abort})),!i.endsWith("/")&&o.endsWith("/")?r.value=o.slice(0,-1):r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:n,continue:!t.abort})}}}),nQ=Ye("$ZodEmoji",(n,t)=>{t.pattern??(t.pattern=_J()),ar.init(n,t)}),rQ=Ye("$ZodNanoID",(n,t)=>{t.pattern??(t.pattern=gJ),ar.init(n,t)}),iQ=Ye("$ZodCUID",(n,t)=>{t.pattern??(t.pattern=hJ),ar.init(n,t)}),sQ=Ye("$ZodCUID2",(n,t)=>{t.pattern??(t.pattern=fJ),ar.init(n,t)}),oQ=Ye("$ZodULID",(n,t)=>{t.pattern??(t.pattern=dJ),ar.init(n,t)}),aQ=Ye("$ZodXID",(n,t)=>{t.pattern??(t.pattern=pJ),ar.init(n,t)}),lQ=Ye("$ZodKSUID",(n,t)=>{t.pattern??(t.pattern=mJ),ar.init(n,t)}),uQ=Ye("$ZodISODateTime",(n,t)=>{t.pattern??(t.pattern=FJ(t)),ar.init(n,t)}),cQ=Ye("$ZodISODate",(n,t)=>{t.pattern??(t.pattern=DJ),ar.init(n,t)}),hQ=Ye("$ZodISOTime",(n,t)=>{t.pattern??(t.pattern=NJ(t)),ar.init(n,t)}),fQ=Ye("$ZodISODuration",(n,t)=>{t.pattern??(t.pattern=vJ),ar.init(n,t)}),dQ=Ye("$ZodIPv4",(n,t)=>{t.pattern??(t.pattern=wJ),ar.init(n,t),n._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),pQ=Ye("$ZodIPv6",(n,t)=>{t.pattern??(t.pattern=EJ),ar.init(n,t),n._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),n._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:n,continue:!t.abort})}}}),mQ=Ye("$ZodCIDRv4",(n,t)=>{t.pattern??(t.pattern=SJ),ar.init(n,t)}),gQ=Ye("$ZodCIDRv6",(n,t)=>{t.pattern??(t.pattern=CJ),ar.init(n,t),n._zod.check=r=>{const[i,s]=r.value.split("/");try{if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:n,continue:!t.abort})}}});function VF(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const vQ=Ye("$ZodBase64",(n,t)=>{t.pattern??(t.pattern=AJ),ar.init(n,t),n._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),n._zod.check=r=>{VF(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:n,continue:!t.abort})}});function yQ(n){if(!OF.test(n))return!1;const t=n.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return VF(r)}const bQ=Ye("$ZodBase64URL",(n,t)=>{t.pattern??(t.pattern=OF),ar.init(n,t),n._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),n._zod.check=r=>{yQ(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:n,continue:!t.abort})}}),xQ=Ye("$ZodE164",(n,t)=>{t.pattern??(t.pattern=IJ),ar.init(n,t)});function _Q(n,t=null){try{const r=n.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const s=JSON.parse(atob(i));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const wQ=Ye("$ZodJWT",(n,t)=>{ar.init(n,t),n._zod.check=r=>{_Q(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:n,continue:!t.abort})}}),$F=Ye("$ZodNumber",(n,t)=>{jn.init(n,t),n._zod.pattern=n._zod.bag.pattern??OJ,n._zod.parse=(r,i)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:n,...o?{received:o}:{}}),r}}),EQ=Ye("$ZodNumber",(n,t)=>{UJ.init(n,t),$F.init(n,t)}),SQ=Ye("$ZodBoolean",(n,t)=>{jn.init(n,t),n._zod.pattern=LJ,n._zod.parse=(r,i)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:n}),r}}),CQ=Ye("$ZodAny",(n,t)=>{jn.init(n,t),n._zod.parse=r=>r}),zy=Ye("$ZodUnknown",(n,t)=>{jn.init(n,t),n._zod.parse=r=>r}),AQ=Ye("$ZodNever",(n,t)=>{jn.init(n,t),n._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:n}),r)});function dS(n,t,r){n.issues.length&&t.issues.push(...gg(r,n.issues)),t.value[r]=n.value}const jF=Ye("$ZodArray",(n,t)=>{jn.init(n,t),n._zod.parse=(r,i)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:n}),r;r.value=Array(s.length);const o=[];for(let a=0;a<s.length;a++){const l=s[a],u=t.element._zod.run({value:l,issues:[]},i);u instanceof Promise?o.push(u.then(h=>dS(h,r,a))):dS(u,r,a)}return o.length?Promise.all(o).then(()=>r):r}});function wd(n,t,r){n.issues.length&&t.issues.push(...gg(r,n.issues)),t.value[r]=n.value}function pS(n,t,r,i){n.issues.length?i[r]===void 0?r in i?t.value[r]=void 0:t.value[r]=n.value:t.issues.push(...gg(r,n.issues)):n.value===void 0?r in i&&(t.value[r]=void 0):t.value[r]=n.value}const TQ=Ye("$ZodObject",(n,t)=>{jn.init(n,t);const r=AF(()=>{const f=Object.keys(t.shape);for(const p of f)if(!(t.shape[p]instanceof jn))throw new Error(`Invalid element at key "${p}": expected a Zod schema`);const d=QZ(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(d)}});ir(n._zod,"propValues",()=>{const f=t.shape,d={};for(const p in f){const m=f[p]._zod;if(m.values){d[p]??(d[p]=new Set);for(const g of m.values)d[p].add(g)}}return d});const i=f=>{const d=new KJ(["shape","payload","ctx"]),p=r.value,m=y=>{const x=Gc(y);return`shape[${x}]._zod.run({ value: input[${x}], issues: [] }, ctx)`};d.write("const input = payload.value;");const g=Object.create(null);let v=0;for(const y of p.keys)g[y]=`key_${v++}`;d.write("const newResult = {}");for(const y of p.keys)if(p.optionalKeys.has(y)){const x=g[y];d.write(`const ${x} = ${m(y)};`);const b=Gc(y);d.write(`
        if (${x}.issues.length) {
          if (input[${b}] === undefined) {
            if (${b} in input) {
              newResult[${b}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${x}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${b}, ...iss.path] : [${b}],
              }))
            );
          }
        } else if (${x}.value === undefined) {
          if (${b} in input) newResult[${b}] = undefined;
        } else {
          newResult[${b}] = ${x}.value;
        }
        `)}else{const x=g[y];d.write(`const ${x} = ${m(y)};`),d.write(`
          if (${x}.issues.length) payload.issues = payload.issues.concat(${x}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Gc(y)}, ...iss.path] : [${Gc(y)}]
          })));`),d.write(`newResult[${Gc(y)}] = ${x}.value`)}d.write("payload.value = newResult;"),d.write("return payload;");const E=d.compile();return(y,x)=>E(f,y,x)};let s;const o=$y,a=!CF.jitless,u=a&&ZZ.value,h=t.catchall;let c;n._zod.parse=(f,d)=>{c??(c=r.value);const p=f.value;if(!o(p))return f.issues.push({expected:"object",code:"invalid_type",input:p,inst:n}),f;const m=[];if(a&&u&&d?.async===!1&&d.jitless!==!0)s||(s=i(t.shape)),f=s(f,d);else{f.value={};const x=c.shape;for(const b of c.keys){const w=x[b],S=w._zod.run({value:p[b],issues:[]},d),_=w._zod.optin==="optional"&&w._zod.optout==="optional";S instanceof Promise?m.push(S.then(T=>_?pS(T,f,b,p):wd(T,f,b))):_?pS(S,f,b,p):wd(S,f,b)}}if(!h)return m.length?Promise.all(m).then(()=>f):f;const g=[],v=c.keySet,E=h._zod,y=E.def.type;for(const x of Object.keys(p)){if(v.has(x))continue;if(y==="never"){g.push(x);continue}const b=E.run({value:p[x],issues:[]},d);b instanceof Promise?m.push(b.then(w=>wd(w,f,x))):wd(b,f,x)}return g.length&&f.issues.push({code:"unrecognized_keys",keys:g,input:p,inst:n}),m.length?Promise.all(m).then(()=>f):f}});function mS(n,t,r,i){for(const s of n)if(s.issues.length===0)return t.value=s.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:n.map(s=>s.issues.map(o=>Zl(o,i,Kl())))}),t}const IQ=Ye("$ZodUnion",(n,t)=>{jn.init(n,t),ir(n._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),ir(n._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),ir(n._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),ir(n._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${r.map(i=>cx(i.source)).join("|")})$`)}}),n._zod.parse=(r,i)=>{let s=!1;const o=[];for(const a of t.options){const l=a._zod.run({value:r.value,issues:[]},i);if(l instanceof Promise)o.push(l),s=!0;else{if(l.issues.length===0)return l;o.push(l)}}return s?Promise.all(o).then(a=>mS(a,r,n,i)):mS(o,r,n,i)}}),DQ=Ye("$ZodIntersection",(n,t)=>{jn.init(n,t),n._zod.parse=(r,i)=>{const s=r.value,o=t.left._zod.run({value:s,issues:[]},i),a=t.right._zod.run({value:s,issues:[]},i);return o instanceof Promise||a instanceof Promise?Promise.all([o,a]).then(([u,h])=>gS(r,u,h)):gS(r,o,a)}});function Gy(n,t){if(n===t)return{valid:!0,data:n};if(n instanceof Date&&t instanceof Date&&+n==+t)return{valid:!0,data:n};if(jy(n)&&jy(t)){const r=Object.keys(t),i=Object.keys(n).filter(o=>r.indexOf(o)!==-1),s={...n,...t};for(const o of i){const a=Gy(n[o],t[o]);if(!a.valid)return{valid:!1,mergeErrorPath:[o,...a.mergeErrorPath]};s[o]=a.data}return{valid:!0,data:s}}if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<n.length;i++){const s=n[i],o=t[i],a=Gy(s,o);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function gS(n,t,r){if(t.issues.length&&n.issues.push(...t.issues),r.issues.length&&n.issues.push(...r.issues),bh(n))return n;const i=Gy(t.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return n.value=i.data,n}const px=Ye("$ZodTuple",(n,t)=>{jn.init(n,t);const r=t.items,i=r.length-[...r].reverse().findIndex(s=>s._zod.optin!=="optional");n._zod.parse=(s,o)=>{const a=s.value;if(!Array.isArray(a))return s.issues.push({input:a,inst:n,expected:"tuple",code:"invalid_type"}),s;s.value=[];const l=[];if(!t.rest){const h=a.length>r.length,c=a.length<i-1;if(h||c)return s.issues.push({input:a,inst:n,origin:"array",...h?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length}}),s}let u=-1;for(const h of r){if(u++,u>=a.length&&u>=i)continue;const c=h._zod.run({value:a[u],issues:[]},o);c instanceof Promise?l.push(c.then(f=>Ed(f,s,u))):Ed(c,s,u)}if(t.rest){const h=a.slice(r.length);for(const c of h){u++;const f=t.rest._zod.run({value:c,issues:[]},o);f instanceof Promise?l.push(f.then(d=>Ed(d,s,u))):Ed(f,s,u)}}return l.length?Promise.all(l).then(()=>s):s}});function Ed(n,t,r){n.issues.length&&t.issues.push(...gg(r,n.issues)),t.value[r]=n.value}const NQ=Ye("$ZodEnum",(n,t)=>{jn.init(n,t);const r=qZ(t.entries);n._zod.values=new Set(r),n._zod.pattern=new RegExp(`^(${r.filter(i=>JZ.has(typeof i)).map(i=>typeof i=="string"?Af(i):i.toString()).join("|")})$`),n._zod.parse=(i,s)=>{const o=i.value;return n._zod.values.has(o)||i.issues.push({code:"invalid_value",values:r,input:o,inst:n}),i}}),FQ=Ye("$ZodLiteral",(n,t)=>{jn.init(n,t),n._zod.values=new Set(t.values),n._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Af(r):r?r.toString():String(r)).join("|")})$`),n._zod.parse=(r,i)=>{const s=r.value;return n._zod.values.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:n}),r}}),kQ=Ye("$ZodTransform",(n,t)=>{jn.init(n,t),n._zod.parse=(r,i)=>{const s=t.transform(r.value,r);if(i.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(r.value=a,r));if(s instanceof Promise)throw new tf;return r.value=s,r}}),MQ=Ye("$ZodOptional",(n,t)=>{jn.init(n,t),n._zod.optin="optional",n._zod.optout="optional",ir(n._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ir(n._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${cx(r.source)})?$`):void 0}),n._zod.parse=(r,i)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(r,i):r.value===void 0?r:t.innerType._zod.run(r,i)}),OQ=Ye("$ZodNullable",(n,t)=>{jn.init(n,t),ir(n._zod,"optin",()=>t.innerType._zod.optin),ir(n._zod,"optout",()=>t.innerType._zod.optout),ir(n._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${cx(r.source)}|null)$`):void 0}),ir(n._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),n._zod.parse=(r,i)=>r.value===null?r:t.innerType._zod.run(r,i)}),LQ=Ye("$ZodDefault",(n,t)=>{jn.init(n,t),n._zod.optin="optional",ir(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(r,i)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(o=>vS(o,t)):vS(s,t)}});function vS(n,t){return n.value===void 0&&(n.value=t.defaultValue),n}const PQ=Ye("$ZodPrefault",(n,t)=>{jn.init(n,t),n._zod.optin="optional",ir(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(r,i)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,i))}),RQ=Ye("$ZodNonOptional",(n,t)=>{jn.init(n,t),ir(n._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),n._zod.parse=(r,i)=>{const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(o=>yS(o,n)):yS(s,n)}});function yS(n,t){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:t}),n}const BQ=Ye("$ZodCatch",(n,t)=>{jn.init(n,t),n._zod.optin="optional",ir(n._zod,"optout",()=>t.innerType._zod.optout),ir(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(r,i)=>{const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(a=>Zl(a,i,Kl()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>Zl(o,i,Kl()))},input:r.value}),r.issues=[]),r)}}),UQ=Ye("$ZodPipe",(n,t)=>{jn.init(n,t),ir(n._zod,"values",()=>t.in._zod.values),ir(n._zod,"optin",()=>t.in._zod.optin),ir(n._zod,"optout",()=>t.out._zod.optout),n._zod.parse=(r,i)=>{const s=t.in._zod.run(r,i);return s instanceof Promise?s.then(o=>bS(o,t,i)):bS(s,t,i)}});function bS(n,t,r){return bh(n)?n:t.out._zod.run({value:n.value,issues:n.issues},r)}const VQ=Ye("$ZodReadonly",(n,t)=>{jn.init(n,t),ir(n._zod,"propValues",()=>t.innerType._zod.propValues),ir(n._zod,"values",()=>t.innerType._zod.values),ir(n._zod,"optin",()=>t.innerType._zod.optin),ir(n._zod,"optout",()=>t.innerType._zod.optout),n._zod.parse=(r,i)=>{const s=t.innerType._zod.run(r,i);return s instanceof Promise?s.then(xS):xS(s)}});function xS(n){return n.value=Object.freeze(n.value),n}const $Q=Ye("$ZodCustom",(n,t)=>{es.init(n,t),jn.init(n,t),n._zod.parse=(r,i)=>r,n._zod.check=r=>{const i=r.value,s=t.fn(i);if(s instanceof Promise)return s.then(o=>_S(o,r,i,n));_S(s,r,i,n)}});function _S(n,t,r,i){if(!n){const s={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(s.params=i._zod.def.params),t.issues.push(nf(s))}}class jQ{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const i=r[0];if(this._map.set(t,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const i={...this.get(r)??{}};return delete i.id,{...i,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function zQ(){return new jQ}const Sd=zQ();function GQ(n,t){return new n({type:"string",...Ct(t)})}function HQ(n,t){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Ct(t)})}function wS(n,t){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Ct(t)})}function WQ(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Ct(t)})}function XQ(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ct(t)})}function qQ(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ct(t)})}function YQ(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ct(t)})}function KQ(n,t){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Ct(t)})}function ZQ(n,t){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Ct(t)})}function JQ(n,t){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ct(t)})}function QQ(n,t){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Ct(t)})}function eee(n,t){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ct(t)})}function tee(n,t){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Ct(t)})}function nee(n,t){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Ct(t)})}function ree(n,t){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ct(t)})}function iee(n,t){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ct(t)})}function see(n,t){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ct(t)})}function oee(n,t){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ct(t)})}function aee(n,t){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ct(t)})}function lee(n,t){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Ct(t)})}function uee(n,t){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Ct(t)})}function cee(n,t){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Ct(t)})}function hee(n,t){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Ct(t)})}function fee(n,t){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ct(t)})}function dee(n,t){return new n({type:"string",format:"date",check:"string_format",...Ct(t)})}function pee(n,t){return new n({type:"string",format:"time",check:"string_format",precision:null,...Ct(t)})}function mee(n,t){return new n({type:"string",format:"duration",check:"string_format",...Ct(t)})}function gee(n,t){return new n({type:"number",checks:[],...Ct(t)})}function vee(n,t){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Ct(t)})}function yee(n,t){return new n({type:"boolean",...Ct(t)})}function bee(n){return new n({type:"any"})}function Hy(n){return new n({type:"unknown"})}function xee(n,t){return new n({type:"never",...Ct(t)})}function ES(n,t){return new BF({check:"less_than",...Ct(t),value:n,inclusive:!1})}function J0(n,t){return new BF({check:"less_than",...Ct(t),value:n,inclusive:!0})}function SS(n,t){return new UF({check:"greater_than",...Ct(t),value:n,inclusive:!1})}function Q0(n,t){return new UF({check:"greater_than",...Ct(t),value:n,inclusive:!0})}function CS(n,t){return new BJ({check:"multiple_of",...Ct(t),value:n})}function zF(n,t){return new VJ({check:"max_length",...Ct(t),maximum:n})}function tm(n,t){return new $J({check:"min_length",...Ct(t),minimum:n})}function GF(n,t){return new jJ({check:"length_equals",...Ct(t),length:n})}function _ee(n,t){return new zJ({check:"string_format",format:"regex",...Ct(t),pattern:n})}function wee(n){return new GJ({check:"string_format",format:"lowercase",...Ct(n)})}function Eee(n){return new HJ({check:"string_format",format:"uppercase",...Ct(n)})}function See(n,t){return new WJ({check:"string_format",format:"includes",...Ct(t),includes:n})}function Cee(n,t){return new XJ({check:"string_format",format:"starts_with",...Ct(t),prefix:n})}function Aee(n,t){return new qJ({check:"string_format",format:"ends_with",...Ct(t),suffix:n})}function Tf(n){return new YJ({check:"overwrite",tx:n})}function Tee(n){return Tf(t=>t.normalize(n))}function Iee(){return Tf(n=>n.trim())}function Dee(){return Tf(n=>n.toLowerCase())}function Nee(){return Tf(n=>n.toUpperCase())}function HF(n,t,r){return new n({type:"array",element:t,...Ct(r)})}function Fee(n,t,r,i){const s=r instanceof jn,o=s?i:r,a=s?r:null;return new n({type:"tuple",items:t,rest:a,...Ct(o)})}function kee(n,t,r){const i=Ct(r);return i.abort??(i.abort=!0),new n({type:"custom",check:"custom",fn:t,...i})}function Mee(n,t,r){return new n({type:"custom",check:"custom",fn:t,...Ct(r)})}class Oee{constructor(t){this._def=t,this.def=t}implement(t){if(typeof t!="function")throw new Error("implement() must be called with a function");const r=((...i)=>{const s=this._def.input?cS(this._def.input,i,void 0,{callee:r}):i;if(!Array.isArray(s))throw new Error("Invalid arguments schema: not an array or tuple schema.");const o=t(...s);return this._def.output?cS(this._def.output,o,void 0,{callee:r}):o});return r}implementAsync(t){if(typeof t!="function")throw new Error("implement() must be called with a function");const r=(async(...i)=>{const s=this._def.input?await hS(this._def.input,i,void 0,{callee:r}):i;if(!Array.isArray(s))throw new Error("Invalid arguments schema: not an array or tuple schema.");const o=await t(...s);return this._def.output?hS(this._def.output,o,void 0,{callee:r}):o});return r}input(...t){const r=this.constructor;return Array.isArray(t[0])?new r({type:"function",input:new px({type:"tuple",items:t[0],rest:t[1]}),output:this._def.output}):new r({type:"function",input:t[0],output:this._def.output})}output(t){const r=this.constructor;return new r({type:"function",input:this._def.input,output:t})}}function AS(n){return new Oee({type:"function",input:Array.isArray(n?.input)?Fee(px,n?.input):HF(jF,Hy(zy)),output:Hy(zy)})}const Lee=Ye("ZodISODateTime",(n,t)=>{uQ.init(n,t),hr.init(n,t)});function Pee(n){return fee(Lee,n)}const Ree=Ye("ZodISODate",(n,t)=>{cQ.init(n,t),hr.init(n,t)});function Bee(n){return dee(Ree,n)}const Uee=Ye("ZodISOTime",(n,t)=>{hQ.init(n,t),hr.init(n,t)});function Vee(n){return pee(Uee,n)}const $ee=Ye("ZodISODuration",(n,t)=>{fQ.init(n,t),hr.init(n,t)});function jee(n){return mee($ee,n)}const zee=(n,t)=>{DF.init(n,t),n.name="ZodError",Object.defineProperties(n,{format:{value:r=>lJ(n,r)},flatten:{value:r=>aJ(n,r)},addIssue:{value:r=>n.issues.push(r)},addIssues:{value:r=>n.issues.push(...r)},isEmpty:{get(){return n.issues.length===0}}})},bg=Ye("ZodError",zee,{Parent:Error}),Gee=NF(bg),Hee=FF(bg),Wee=kF(bg),Xee=MF(bg),cr=Ye("ZodType",(n,t)=>(jn.init(n,t),n.def=t,Object.defineProperty(n,"_def",{value:t}),n.check=(...r)=>n.clone({...t,checks:[...t.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),n.clone=(r,i)=>iu(n,r,i),n.brand=()=>n,n.register=((r,i)=>(r.add(n,i),n)),n.parse=(r,i)=>Gee(n,r,i,{callee:n.parse}),n.safeParse=(r,i)=>Wee(n,r,i),n.parseAsync=async(r,i)=>Hee(n,r,i,{callee:n.parseAsync}),n.safeParseAsync=async(r,i)=>Xee(n,r,i),n.spa=n.safeParseAsync,n.refine=(r,i)=>n.check($te(r,i)),n.superRefine=r=>n.check(jte(r)),n.overwrite=r=>n.check(Tf(r)),n.optional=()=>MS(n),n.nullable=()=>OS(n),n.nullish=()=>MS(OS(n)),n.nonoptional=r=>Ote(n,r),n.array=()=>Wy(n),n.or=r=>Xy([n,r]),n.and=r=>Ste(n,r),n.transform=r=>LS(n,Ite(r)),n.default=r=>Fte(n,r),n.prefault=r=>Mte(n,r),n.catch=r=>Pte(n,r),n.pipe=r=>LS(n,r),n.readonly=()=>Ute(n),n.describe=r=>{const i=n.clone();return Sd.add(i,{description:r}),i},Object.defineProperty(n,"description",{get(){return Sd.get(n)?.description},configurable:!0}),n.meta=(...r)=>{if(r.length===0)return Sd.get(n);const i=n.clone();return Sd.add(i,r[0]),i},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),WF=Ye("_ZodString",(n,t)=>{dx.init(n,t),cr.init(n,t);const r=n._zod.bag;n.format=r.format??null,n.minLength=r.minimum??null,n.maxLength=r.maximum??null,n.regex=(...i)=>n.check(_ee(...i)),n.includes=(...i)=>n.check(See(...i)),n.startsWith=(...i)=>n.check(Cee(...i)),n.endsWith=(...i)=>n.check(Aee(...i)),n.min=(...i)=>n.check(tm(...i)),n.max=(...i)=>n.check(zF(...i)),n.length=(...i)=>n.check(GF(...i)),n.nonempty=(...i)=>n.check(tm(1,...i)),n.lowercase=i=>n.check(wee(i)),n.uppercase=i=>n.check(Eee(i)),n.trim=()=>n.check(Iee()),n.normalize=(...i)=>n.check(Tee(...i)),n.toLowerCase=()=>n.check(Dee()),n.toUpperCase=()=>n.check(Nee())}),qee=Ye("ZodString",(n,t)=>{dx.init(n,t),WF.init(n,t),n.email=r=>n.check(HQ(Kee,r)),n.url=r=>n.check(KQ(Zee,r)),n.jwt=r=>n.check(hee(fte,r)),n.emoji=r=>n.check(ZQ(Jee,r)),n.guid=r=>n.check(wS(TS,r)),n.uuid=r=>n.check(WQ(Cd,r)),n.uuidv4=r=>n.check(XQ(Cd,r)),n.uuidv6=r=>n.check(qQ(Cd,r)),n.uuidv7=r=>n.check(YQ(Cd,r)),n.nanoid=r=>n.check(JQ(Qee,r)),n.guid=r=>n.check(wS(TS,r)),n.cuid=r=>n.check(QQ(ete,r)),n.cuid2=r=>n.check(eee(tte,r)),n.ulid=r=>n.check(tee(nte,r)),n.base64=r=>n.check(lee(ute,r)),n.base64url=r=>n.check(uee(cte,r)),n.xid=r=>n.check(nee(rte,r)),n.ksuid=r=>n.check(ree(ite,r)),n.ipv4=r=>n.check(iee(ste,r)),n.ipv6=r=>n.check(see(ote,r)),n.cidrv4=r=>n.check(oee(ate,r)),n.cidrv6=r=>n.check(aee(lte,r)),n.e164=r=>n.check(cee(hte,r)),n.datetime=r=>n.check(Pee(r)),n.date=r=>n.check(Bee(r)),n.time=r=>n.check(Vee(r)),n.duration=r=>n.check(jee(r))});function Yee(n){return GQ(qee,n)}const hr=Ye("ZodStringFormat",(n,t)=>{ar.init(n,t),WF.init(n,t)}),Kee=Ye("ZodEmail",(n,t)=>{eQ.init(n,t),hr.init(n,t)}),TS=Ye("ZodGUID",(n,t)=>{JJ.init(n,t),hr.init(n,t)}),Cd=Ye("ZodUUID",(n,t)=>{QJ.init(n,t),hr.init(n,t)}),Zee=Ye("ZodURL",(n,t)=>{tQ.init(n,t),hr.init(n,t)}),Jee=Ye("ZodEmoji",(n,t)=>{nQ.init(n,t),hr.init(n,t)}),Qee=Ye("ZodNanoID",(n,t)=>{rQ.init(n,t),hr.init(n,t)}),ete=Ye("ZodCUID",(n,t)=>{iQ.init(n,t),hr.init(n,t)}),tte=Ye("ZodCUID2",(n,t)=>{sQ.init(n,t),hr.init(n,t)}),nte=Ye("ZodULID",(n,t)=>{oQ.init(n,t),hr.init(n,t)}),rte=Ye("ZodXID",(n,t)=>{aQ.init(n,t),hr.init(n,t)}),ite=Ye("ZodKSUID",(n,t)=>{lQ.init(n,t),hr.init(n,t)}),ste=Ye("ZodIPv4",(n,t)=>{dQ.init(n,t),hr.init(n,t)}),ote=Ye("ZodIPv6",(n,t)=>{pQ.init(n,t),hr.init(n,t)}),ate=Ye("ZodCIDRv4",(n,t)=>{mQ.init(n,t),hr.init(n,t)}),lte=Ye("ZodCIDRv6",(n,t)=>{gQ.init(n,t),hr.init(n,t)}),ute=Ye("ZodBase64",(n,t)=>{vQ.init(n,t),hr.init(n,t)}),cte=Ye("ZodBase64URL",(n,t)=>{bQ.init(n,t),hr.init(n,t)}),hte=Ye("ZodE164",(n,t)=>{xQ.init(n,t),hr.init(n,t)}),fte=Ye("ZodJWT",(n,t)=>{wQ.init(n,t),hr.init(n,t)}),XF=Ye("ZodNumber",(n,t)=>{$F.init(n,t),cr.init(n,t),n.gt=(i,s)=>n.check(SS(i,s)),n.gte=(i,s)=>n.check(Q0(i,s)),n.min=(i,s)=>n.check(Q0(i,s)),n.lt=(i,s)=>n.check(ES(i,s)),n.lte=(i,s)=>n.check(J0(i,s)),n.max=(i,s)=>n.check(J0(i,s)),n.int=i=>n.check(DS(i)),n.safe=i=>n.check(DS(i)),n.positive=i=>n.check(SS(0,i)),n.nonnegative=i=>n.check(Q0(0,i)),n.negative=i=>n.check(ES(0,i)),n.nonpositive=i=>n.check(J0(0,i)),n.multipleOf=(i,s)=>n.check(CS(i,s)),n.step=(i,s)=>n.check(CS(i,s)),n.finite=()=>n;const r=n._zod.bag;n.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),n.isFinite=!0,n.format=r.format??null});function IS(n){return gee(XF,n)}const dte=Ye("ZodNumberFormat",(n,t)=>{EQ.init(n,t),XF.init(n,t)});function DS(n){return vee(dte,n)}const pte=Ye("ZodBoolean",(n,t)=>{SQ.init(n,t),cr.init(n,t)});function mte(n){return yee(pte,n)}const gte=Ye("ZodAny",(n,t)=>{CQ.init(n,t),cr.init(n,t)});function ev(){return bee(gte)}const vte=Ye("ZodUnknown",(n,t)=>{zy.init(n,t),cr.init(n,t)});function NS(){return Hy(vte)}const yte=Ye("ZodNever",(n,t)=>{AQ.init(n,t),cr.init(n,t)});function bte(n){return xee(yte,n)}const xte=Ye("ZodArray",(n,t)=>{jF.init(n,t),cr.init(n,t),n.element=t.element,n.min=(r,i)=>n.check(tm(r,i)),n.nonempty=r=>n.check(tm(1,r)),n.max=(r,i)=>n.check(zF(r,i)),n.length=(r,i)=>n.check(GF(r,i)),n.unwrap=()=>n.element});function Wy(n,t){return HF(xte,n,t)}const _te=Ye("ZodObject",(n,t)=>{TQ.init(n,t),cr.init(n,t),ir(n,"shape",()=>t.shape),n.keyof=()=>Cte(Object.keys(n._zod.def.shape)),n.catchall=r=>n.clone({...n._zod.def,catchall:r}),n.passthrough=()=>n.clone({...n._zod.def,catchall:NS()}),n.loose=()=>n.clone({...n._zod.def,catchall:NS()}),n.strict=()=>n.clone({...n._zod.def,catchall:bte()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=r=>rJ(n,r),n.merge=r=>iJ(n,r),n.pick=r=>tJ(n,r),n.omit=r=>nJ(n,r),n.partial=(...r)=>sJ(KF,n,r[0]),n.required=(...r)=>oJ(ZF,n,r[0])});function wte(n,t){const r={type:"object",get shape(){return hx(this,"shape",{...n}),this.shape},...Ct(t)};return new _te(r)}const qF=Ye("ZodUnion",(n,t)=>{IQ.init(n,t),cr.init(n,t),n.options=t.options});function Xy(n,t){return new qF({type:"union",options:n,...Ct(t)})}const Ete=Ye("ZodIntersection",(n,t)=>{DQ.init(n,t),cr.init(n,t)});function Ste(n,t){return new Ete({type:"intersection",left:n,right:t})}const YF=Ye("ZodTuple",(n,t)=>{px.init(n,t),cr.init(n,t),n.rest=r=>n.clone({...n._zod.def,rest:r})});function FS(n,t,r){const i=t instanceof jn,s=i?r:t,o=i?t:null;return new YF({type:"tuple",items:n,rest:o,...Ct(s)})}const qy=Ye("ZodEnum",(n,t)=>{NQ.init(n,t),cr.init(n,t),n.enum=t.entries,n.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));n.extract=(i,s)=>{const o={};for(const a of i)if(r.has(a))o[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new qy({...t,checks:[],...Ct(s),entries:o})},n.exclude=(i,s)=>{const o={...t.entries};for(const a of i)if(r.has(a))delete o[a];else throw new Error(`Key ${a} not found in enum`);return new qy({...t,checks:[],...Ct(s),entries:o})}});function Cte(n,t){const r=Array.isArray(n)?Object.fromEntries(n.map(i=>[i,i])):n;return new qy({type:"enum",entries:r,...Ct(t)})}const Ate=Ye("ZodLiteral",(n,t)=>{FQ.init(n,t),cr.init(n,t),n.values=new Set(t.values),Object.defineProperty(n,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function kS(n,t){return new Ate({type:"literal",values:Array.isArray(n)?n:[n],...Ct(t)})}const Tte=Ye("ZodTransform",(n,t)=>{kQ.init(n,t),cr.init(n,t),n._zod.parse=(r,i)=>{r.addIssue=o=>{if(typeof o=="string")r.issues.push(nf(o,r.value,t));else{const a=o;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=n),a.continue??(a.continue=!0),r.issues.push(nf(a))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(o=>(r.value=o,r)):(r.value=s,r)}});function Ite(n){return new Tte({type:"transform",transform:n})}const KF=Ye("ZodOptional",(n,t)=>{MQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function MS(n){return new KF({type:"optional",innerType:n})}const Dte=Ye("ZodNullable",(n,t)=>{OQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function OS(n){return new Dte({type:"nullable",innerType:n})}const Nte=Ye("ZodDefault",(n,t)=>{LQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function Fte(n,t){return new Nte({type:"default",innerType:n,get defaultValue(){return typeof t=="function"?t():t}})}const kte=Ye("ZodPrefault",(n,t)=>{PQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function Mte(n,t){return new kte({type:"prefault",innerType:n,get defaultValue(){return typeof t=="function"?t():t}})}const ZF=Ye("ZodNonOptional",(n,t)=>{RQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType});function Ote(n,t){return new ZF({type:"nonoptional",innerType:n,...Ct(t)})}const Lte=Ye("ZodCatch",(n,t)=>{BQ.init(n,t),cr.init(n,t),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function Pte(n,t){return new Lte({type:"catch",innerType:n,catchValue:typeof t=="function"?t:()=>t})}const Rte=Ye("ZodPipe",(n,t)=>{UQ.init(n,t),cr.init(n,t),n.in=t.in,n.out=t.out});function LS(n,t){return new Rte({type:"pipe",in:n,out:t})}const Bte=Ye("ZodReadonly",(n,t)=>{VQ.init(n,t),cr.init(n,t)});function Ute(n){return new Bte({type:"readonly",innerType:n})}const mx=Ye("ZodCustom",(n,t)=>{$Q.init(n,t),cr.init(n,t)});function Vte(n){const t=new es({check:"custom"});return t._zod.check=n,t}function PS(n,t){return kee(mx,n??(()=>!0),t)}function $te(n,t={}){return Mee(mx,n,t)}function jte(n){const t=Vte(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(nf(i,r.value,t._zod.def));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(nf(s))}},n(r.value,r)));return t}function RS(n,t={error:`Input not instance of ${n.name}`}){const r=new mx({type:"custom",check:"custom",fn:i=>i instanceof n,abort:!0,...Ct(t)});return r._zod.bag.Class=n,r}var zte={describe:{overloads:[["String","FALLBACK|LABEL?"]]},describeElement:{overloads:[["String","String","FALLBACK|LABEL?"]]},textOutput:{overloads:[["FALLBACK|LABEL?"]]},gridOutput:{overloads:[["FALLBACK|LABEL?"]]},remove:{overloads:[[]]},p5:{overloads:[["Object","String|HTMLElement"]]},color:{overloads:[["Number","Number?"],["Number","Number","Number","Number?"],["String"],["Number[]"],["p5.Color"]]},red:{overloads:[["p5.Color|Number[]|String"]]},green:{overloads:[["p5.Color|Number[]|String"]]},blue:{overloads:[["p5.Color|Number[]|String"]]},alpha:{overloads:[["p5.Color|Number[]|String"]]},hue:{overloads:[["p5.Color|Number[]|String"]]},saturation:{overloads:[["p5.Color|Number[]|String"]]},brightness:{overloads:[["p5.Color|Number[]|String"]]},lightness:{overloads:[["p5.Color|Number[]|String"]]},lerpColor:{overloads:[["p5.Color","p5.Color","Number"]]},paletteLerp:{overloads:[["[p5.Color|String|Number|Number[], Number][]","Number"]]},beginClip:{overloads:[["Object?"]]},endClip:{overloads:[[]]},clip:{overloads:[["Function","Object?"]]},background:{overloads:[["p5.Color"],["String","Number?"],["Number","Number?"],["Number","Number","Number","Number?"],["Number[]"],["p5.Image","Number?"]]},clear:{overloads:[["Number?","Number?","Number?","Number?"],[]]},colorMode:{overloads:[["RGB|HSB|HSL|RGBHDR|HWB|LAB|LCH|OKLAB|OKLCH","Number?"],["RGB|HSB|HSL|RGBHDR|HWB|LAB|LCH|OKLAB|OKLCH","Number","Number","Number","Number?"],[]]},fill:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},noFill:{overloads:[[]]},noStroke:{overloads:[[]]},stroke:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},erase:{overloads:[["Number?","Number?"]]},noErase:{overloads:[[]]},blendMode:{overloads:[["BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|REMOVE|SUBTRACT"]]},print:{overloads:[["Any"],["String|Number|Array"]]},cursor:{overloads:[["ARROW|CROSS|HAND|MOVE|TEXT|WAIT|String","Number?","Number?"]]},frameRate:{overloads:[["Number"],[]]},getTargetFrameRate:{overloads:[[]]},noCursor:{overloads:[[]]},windowResized:{overloads:[["Event?"]]},fullscreen:{overloads:[["Boolean?"]]},pixelDensity:{overloads:[["Number?"],[]]},displayDensity:{overloads:[[]]},getURL:{overloads:[[]]},getURLPath:{overloads:[[]]},getURLParams:{overloads:[[]]},worldToScreen:{overloads:[["Number|p5.Vector","Number","Number?"]]},screenToWorld:{overloads:[["Number|p5.Vector","Number","Number?"]]},setup:{overloads:[[]]},draw:{overloads:[[]]},registerAddon:{overloads:[["Function"]]},createCanvas:{overloads:[["Number?","Number?","P2D|WEBGL|P2DHDR?","HTMLCanvasElement?"],["Number?","Number?","HTMLCanvasElement?"]]},resizeCanvas:{overloads:[["Number","Number","Boolean?"]]},noCanvas:{overloads:[[]]},createGraphics:{overloads:[["Number","Number","P2D|WEBGL?","HTMLCanvasElement?"],["Number","Number","HTMLCanvasElement?"]]},createFramebuffer:{overloads:[["Object?"]]},clearDepth:{overloads:[["Number?"]]},noLoop:{overloads:[[]]},loop:{overloads:[[]]},isLooping:{overloads:[[]]},redraw:{overloads:[["Integer?"]]},applyMatrix:{overloads:[["Number[]"],["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},resetMatrix:{overloads:[[]]},rotate:{overloads:[["Number","p5.Vector|Number[]?"]]},rotateX:{overloads:[["Number"]]},rotateY:{overloads:[["Number"]]},rotateZ:{overloads:[["Number"]]},scale:{overloads:[["Number|p5.Vector|Number[]","Number?","Number?"],["p5.Vector|Number[]"]]},shearX:{overloads:[["Number"]]},shearY:{overloads:[["Number"]]},translate:{overloads:[["Number","Number","Number?"],["p5.Vector"]]},push:{overloads:[[]]},pop:{overloads:[[]]},storeItem:{overloads:[["String","String|Number|Boolean|Object|Array"]]},getItem:{overloads:[["String"]]},clearStorage:{overloads:[[]]},removeItem:{overloads:[["String"]]},select:{overloads:[["String","String|p5.Element|HTMLElement?"]]},selectAll:{overloads:[["String","String|p5.Element|HTMLElement?"]]},createElement:{overloads:[["String","String?"]]},removeElements:{overloads:[[]]},addElement:{overloads:[[]]},createDiv:{overloads:[["String?"]]},createP:{overloads:[["String?"]]},createSpan:{overloads:[["String?"]]},createImg:{overloads:[["String","String"],["String","String","String?","Function?"]]},createA:{overloads:[["String","String","String?"]]},createSlider:{overloads:[["Number","Number","Number?","Number?"]]},createButton:{overloads:[["String","String?"]]},createCheckbox:{overloads:[["String?","Boolean?"]]},createSelect:{overloads:[["Boolean?"],["Object"]]},createRadio:{overloads:[["Object?"],["String?"],[]]},createColorPicker:{overloads:[["String|p5.Color?"]]},createInput:{overloads:[["String?","String?"],["String?"]]},createFileInput:{overloads:[["Function","Boolean?"]]},createVideo:{overloads:[["String|String[]?","Function?"]]},createAudio:{overloads:[["String|String[]?","Function?"]]},createCapture:{overloads:[["AUDIO|VIDEO|Object?","Object?","Function?"]]},setMoveThreshold:{overloads:[["Number"]]},setShakeThreshold:{overloads:[["Number"]]},deviceMoved:{overloads:[[]]},deviceTurned:{overloads:[[]]},deviceShaken:{overloads:[[]]},keyPressed:{overloads:[["KeyboardEvent?"]]},keyReleased:{overloads:[["KeyboardEvent?"]]},keyTyped:{overloads:[["KeyboardEvent?"]]},keyIsDown:{overloads:[["Number|String"]]},mouseMoved:{overloads:[["MouseEvent?"]]},mouseDragged:{overloads:[["MouseEvent?"]]},mousePressed:{overloads:[["MouseEvent?"]]},mouseReleased:{overloads:[["MouseEvent?"]]},mouseClicked:{overloads:[["MouseEvent?"]]},doubleClicked:{overloads:[["MouseEvent?"]]},mouseWheel:{overloads:[["WheelEvent?"]]},requestPointerLock:{overloads:[[]]},exitPointerLock:{overloads:[[]]},createImage:{overloads:[["Integer","Integer"]]},saveCanvas:{overloads:[["p5.Framebuffer|p5.Element|HTMLCanvasElement","String?","String?"],["String?","String?"]]},saveFrames:{overloads:[["String","String","Number","Number","function(Array)?"]]},loadImage:{overloads:[["String|Request","function(p5.Image)?","function(Event)?"]]},saveGif:{overloads:[["String","Number","Object?"]]},image:{overloads:[["p5.Image|p5.Element|p5.Texture|p5.Framebuffer|p5.FramebufferTexture|p5.Renderer|p5.Graphics","Number","Number","Number?","Number?"],["p5.Image|p5.Element|p5.Texture|p5.Framebuffer|p5.FramebufferTexture","Number","Number","Number","Number","Number","Number","Number?","Number?","CONTAIN|COVER?","LEFT|RIGHT|CENTER?","TOP|BOTTOM|CENTER?"]]},tint:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},noTint:{overloads:[[]]},imageMode:{overloads:[["CORNER|CORNERS|CENTER"]]},blend:{overloads:[["p5.Image","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"]]},copy:{overloads:[["p5.Image|p5.Element","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"]]},filter:{overloads:[["THRESHOLD|GRAY|OPAQUE|INVERT|POSTERIZE|BLUR|ERODE|DILATE|BLUR","Number?","Boolean?"],["p5.Shader"]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]},loadPixels:{overloads:[[]]},set:{overloads:[["Number","Number","Number|Number[]|Object"]]},updatePixels:{overloads:[["Number?","Number?","Number?","Number?"],[]]},loadJSON:{overloads:[["String|Request","Function?","Function?"]]},loadStrings:{overloads:[["String|Request","Function?","Function?"]]},loadTable:{overloads:[["String|Request","String?","String?","Function?","Function?"]]},loadXML:{overloads:[["String|Request","Function?","Function?"]]},loadBytes:{overloads:[["String|Request","Function?","Function?"]]},loadBlob:{overloads:[["String|Request","Function?","Function?"]]},httpGet:{overloads:[["String|Request","String?","Function?","Function?"],["String|Request","Function","Function?"]]},httpPost:{overloads:[["String|Request","Object|Boolean?","String?","Function?","Function?"],["String|Request","Object|Boolean","Function?","Function?"],["String|Request","Function?","Function?"]]},httpDo:{overloads:[["String|Request","String?","String?","Object?","Function?","Function?"],["String|Request","Function?","Function?"]]},createWriter:{overloads:[["String","String?"]]},write:{overloads:[["String|Number|Array"]]},close:{overloads:[[]]},save:{overloads:[["Object|String?","String?","Boolean|String?"]]},saveJSON:{overloads:[["Array|Object","String","Boolean?"]]},saveStrings:{overloads:[["String[]","String","String?","Boolean?"]]},saveTable:{overloads:[["p5.Table","String","String?"]]},setContent:{overloads:[["String"]]},abs:{overloads:[["Number"]]},ceil:{overloads:[["Number"]]},constrain:{overloads:[["Number","Number","Number"]]},dist:{overloads:[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number"]]},exp:{overloads:[["Number"]]},floor:{overloads:[["Number"]]},lerp:{overloads:[["Number","Number","Number"]]},log:{overloads:[["Number"]]},mag:{overloads:[["Number","Number"]]},map:{overloads:[["Number","Number","Number","Number","Number","Boolean?"]]},max:{overloads:[["Number","Number"],["Number[]"]]},min:{overloads:[["Number","Number"],["Number[]"]]},norm:{overloads:[["Number","Number","Number"]]},pow:{overloads:[["Number","Number"]]},round:{overloads:[["Number","Number?"]]},sq:{overloads:[["Number"]]},sqrt:{overloads:[["Number"]]},fract:{overloads:[["Number"]]},createVector:{overloads:[["...Number[]"]]},noise:{overloads:[["Number","Number?","Number?"]]},noiseDetail:{overloads:[["Number","Number"]]},noiseSeed:{overloads:[["Number"]]},randomSeed:{overloads:[["Number"]]},random:{overloads:[["Number?","Number?"],["Array"]]},randomGaussian:{overloads:[["Number?","Number?"]]},acos:{overloads:[["Number"]]},asin:{overloads:[["Number"]]},atan:{overloads:[["Number"]]},atan2:{overloads:[["Number","Number"]]},cos:{overloads:[["Number"]]},sin:{overloads:[["Number"]]},tan:{overloads:[["Number"]]},degrees:{overloads:[["Number"]]},radians:{overloads:[["Number"]]},angleMode:{overloads:[["RADIANS|DEGREES"],[]]},arc:{overloads:[["Number","Number","Number","Number","Number","Number","CHORD|PIE|OPEN?","Integer?"]]},ellipse:{overloads:[["Number","Number","Number","Number?"],["Number","Number","Number","Number","Integer?"]]},circle:{overloads:[["Number","Number","Number"]]},line:{overloads:[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number"]]},point:{overloads:[["Number","Number","Number?"],["p5.Vector"]]},quad:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number","Integer?","Integer?"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Integer?","Integer?"]]},rect:{overloads:[["Number","Number","Number","Number?","Number?","Number?","Number?","Number?"],["Number","Number","Number","Number","Integer?","Integer?"]]},square:{overloads:[["Number","Number","Number","Number?","Number?","Number?","Number?"]]},triangle:{overloads:[["Number","Number","Number","Number","Number","Number"]]},ellipseMode:{overloads:[["CENTER|RADIUS|CORNER|CORNERS"]]},noSmooth:{overloads:[[]]},rectMode:{overloads:[["CENTER|RADIUS|CORNER|CORNERS"]]},smooth:{overloads:[[]]},strokeCap:{overloads:[["ROUND|SQUARE|PROJECT"]]},strokeJoin:{overloads:[["MITER|BEVEL|ROUND"]]},strokeWeight:{overloads:[["Number"]]},bezier:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},bezierPoint:{overloads:[["Number","Number","Number","Number","Number"]]},bezierTangent:{overloads:[["Number","Number","Number","Number","Number"]]},spline:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},splinePoint:{overloads:[["Number","Number","Number","Number","Number"]]},splineTangent:{overloads:[["Number","Number","Number","Number","Number"]]},bezierOrder:{overloads:[["Number"],[]]},splineVertex:{overloads:[["Number","Number"],["Number","Number","Number?"],["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},splineProperty:{overloads:[["String",null],["String"]]},splineProperties:{overloads:[["Object"],[]]},vertex:{overloads:[["Number","Number"],["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},beginContour:{overloads:[[]]},endContour:{overloads:[["OPEN|CLOSE?"]]},beginShape:{overloads:[["POINTS|LINES|TRIANGLES|TRIANGLE_FAN|TRIANGLE_STRIP|QUADS|QUAD_STRIP|PATH?"]]},bezierVertex:{overloads:[["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},endShape:{overloads:[["CLOSE?","Integer?"]]},normal:{overloads:[["p5.Vector"],["Number","Number","Number"]]},vertexProperty:{overloads:[["String","Number|Number[]"]]},getWorldInputs:{overloads:[["Function"]]},combineColors:{overloads:[["Function"]]},getPixelInputs:{overloads:[["Function"]]},getFinalColor:{overloads:[["Function"]]},getColor:{overloads:[["Function"]]},getObjectInputs:{overloads:[["Function"]]},getCameraInputs:{overloads:[["Function"]]},loadFont:{overloads:[["String","String?","Object?","Function?","Function?"],["String","Function?","Function?"]]},text:{overloads:[["String|Object|Array|Number|Boolean","Number","Number","Number?","Number?"]]},textAlign:{overloads:[["LEFT|CENTER|RIGHT?","TOP|BOTTOM|CENTER|BASELINE?"]]},textAscent:{overloads:[["String?"]]},textDescent:{overloads:[["String?"]]},textLeading:{overloads:[["Number?"]]},textFont:{overloads:[["p5.Font|String|Object?","Number?"]]},textSize:{overloads:[["Number"],[]]},textStyle:{overloads:[["NORMAL|ITALIC|BOLD|BOLDITALIC"],[]]},textWidth:{overloads:[["String"]]},textWrap:{overloads:[["WORD|CHAR"],[]]},textBounds:{overloads:[["String","Number","Number","Number?","Number?"]]},textDirection:{overloads:[["String"],[]]},textProperty:{overloads:[["String",null],["String"]]},textProperties:{overloads:[["Object"],[]]},fontBounds:{overloads:[["String","Number","Number","Number?","Number?"]]},fontWidth:{overloads:[["String"]]},fontAscent:{overloads:[[]]},fontDescent:{overloads:[[]]},textWeight:{overloads:[["Number"],[]]},float:{overloads:[["String"],["String[]"]]},int:{overloads:[["String|Boolean|Number"],["Array"]]},str:{overloads:[["String|Boolean|Number"]]},boolean:{overloads:[["String|Boolean|Number"],["Array"]]},byte:{overloads:[["String|Boolean|Number"],["Array"]]},char:{overloads:[["String|Number"],["Array"]]},unchar:{overloads:[["String"],["String[]"]]},hex:{overloads:[["Number","Number?"],["Number[]","Number?"]]},unhex:{overloads:[["String"],["String[]"]]},day:{overloads:[[]]},hour:{overloads:[[]]},minute:{overloads:[[]]},millis:{overloads:[[]]},month:{overloads:[[]]},second:{overloads:[[]]},year:{overloads:[[]]},nf:{overloads:[["Number|String","Integer|String?","Integer|String?"],["Number[]","Integer|String?","Integer|String?"]]},nfc:{overloads:[["Number|String","Integer|String?"],["Number[]","Integer|String?"]]},nfp:{overloads:[["Number","Integer?","Integer?"],["Number[]","Integer?","Integer?"]]},nfs:{overloads:[["Number","Integer?","Integer?"],["Array","Integer?","Integer?"]]},splitTokens:{overloads:[["String","String?"]]},shuffle:{overloads:[["Array","Boolean?"]]},strokeMode:{overloads:[["String"]]},buildGeometry:{overloads:[["Function"]]},freeGeometry:{overloads:[["p5.Geometry"]]},plane:{overloads:[["Number?","Number?","Integer?","Integer?"]]},box:{overloads:[["Number?","Number?","Number?","Integer?","Integer?"]]},sphere:{overloads:[["Number?","Integer?","Integer?"]]},cylinder:{overloads:[["Number?","Number?","Integer?","Integer?","Boolean?","Boolean?"]]},cone:{overloads:[["Number?","Number?","Integer?","Integer?","Boolean?"]]},ellipsoid:{overloads:[["Number?","Number?","Number?","Integer?","Integer?"]]},torus:{overloads:[["Number?","Number?","Integer?","Integer?"]]},curveDetail:{overloads:[["Number"]]},orbitControl:{overloads:[["Number?","Number?","Number?","Object?"]]},debugMode:{overloads:[[],["GRID|AXES"],["GRID|AXES","Number?","Number?","Number?","Number?","Number?"],["GRID|AXES","Number?","Number?","Number?","Number?"],["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},noDebugMode:{overloads:[[]]},ambientLight:{overloads:[["Number","Number","Number","Number?"],["Number","Number?"],["String"],["Number[]"],["p5.Color"]]},specularColor:{overloads:[["Number","Number","Number"],["Number"],["String"],["Number[]"],["p5.Color"]]},directionalLight:{overloads:[["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","p5.Vector"],["p5.Color|Number[]|String","Number","Number","Number"],["p5.Color|Number[]|String","p5.Vector"]]},pointLight:{overloads:[["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","p5.Vector"],["p5.Color|Number[]|String","Number","Number","Number"],["p5.Color|Number[]|String","p5.Vector"]]},imageLight:{overloads:[["p5.Image"]]},panorama:{overloads:[["p5.Image"]]},lights:{overloads:[[]]},lightFalloff:{overloads:[["Number","Number","Number"]]},spotLight:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number?","Number?"],["p5.Color|Number[]|String","p5.Vector","p5.Vector","Number?","Number?"],["Number","Number","Number","p5.Vector","p5.Vector","Number?","Number?"],["p5.Color|Number[]|String","Number","Number","Number","p5.Vector","Number?","Number?"],["p5.Color|Number[]|String","p5.Vector","Number","Number","Number","Number?","Number?"],["Number","Number","Number","Number","Number","Number","p5.Vector","Number?","Number?"],["Number","Number","Number","p5.Vector","Number","Number","Number","Number?","Number?"],["p5.Color|Number[]|String","Number","Number","Number","Number","Number","Number","Number?","Number?"]]},noLights:{overloads:[[]]},loadModel:{overloads:[["String|Request","String?","Boolean?","function(p5.Geometry)?","function(Event)?"],["String|Request","String?","function(p5.Geometry)?","function(Event)?"],["String|Request","Object?"]]},model:{overloads:[["p5.Geometry","Number?"]]},createModel:{overloads:[["String","String?","Boolean?","function(p5.Geometry)?","function(Event)?"],["String","String?","function(p5.Geometry)?","function(Event)?"],["String","String?","Object?"]]},loadShader:{overloads:[["String|Request","String|Request","Function?","Function?"]]},createShader:{overloads:[["String","String","Object?"]]},loadFilterShader:{overloads:[["String","Function?","Function?"]]},createFilterShader:{overloads:[["String"]]},shader:{overloads:[["p5.Shader"]]},strokeShader:{overloads:[["p5.Shader"]]},imageShader:{overloads:[["p5.Shader"]]},baseMaterialShader:{overloads:[[]]},baseFilterShader:{overloads:[[]]},baseNormalShader:{overloads:[[]]},baseColorShader:{overloads:[[]]},baseStrokeShader:{overloads:[[]]},resetShader:{overloads:[[]]},texture:{overloads:[["p5.Image|p5.MediaElement|p5.Graphics|p5.Texture|p5.Framebuffer|p5.FramebufferTexture"]]},textureMode:{overloads:[["IMAGE|NORMAL"]]},textureWrap:{overloads:[["CLAMP|REPEAT|MIRROR","CLAMP|REPEAT|MIRROR?"]]},normalMaterial:{overloads:[[]]},ambientMaterial:{overloads:[["Number","Number","Number"],["Number"],["p5.Color|Number[]|String"]]},emissiveMaterial:{overloads:[["Number","Number","Number","Number?"],["Number"],["p5.Color|Number[]|String"]]},specularMaterial:{overloads:[["Number","Number?"],["Number","Number","Number","Number?"],["p5.Color|Number[]|String"]]},shininess:{overloads:[["Number"]]},metalness:{overloads:[["Number"]]},roll:{overloads:[["Number"]]},camera:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},perspective:{overloads:[["Number?","Number?","Number?","Number?"]]},linePerspective:{overloads:[["Boolean"],[]]},ortho:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},frustum:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},createCamera:{overloads:[[]]},setCamera:{overloads:[["p5.Camera"]]},saveObj:{overloads:[["String?"]]},saveStl:{overloads:[["String?","Object?"]]},fromAxisAngle:{overloads:[["Number?","Number?","Number?","Number?"]]},mult:{overloads:[["p5.Quat?"]]},rotateBy:{overloads:[["p5.Quat?"]]},setAttributes:{overloads:[["String","Boolean"],["Object"]]}},Gte={p5:zte,"p5.Color":{toString:{overloads:[["String?"]]},contrast:{overloads:[["Color"]]},setRed:{overloads:[["Number"]]},setGreen:{overloads:[["Number"]]},setBlue:{overloads:[["Number"]]},setAlpha:{overloads:[["Number"]]}},"p5.Graphics":{reset:{overloads:[[]]},remove:{overloads:[[]]},createFramebuffer:{overloads:[["Object?"]]}},"p5.Element":{remove:{overloads:[[]]},parent:{overloads:[["String|p5.Element|Object"],[]]},child:{overloads:[[],["String|p5.Element?"]]},html:{overloads:[[],["String?","Boolean?"]]},id:{overloads:[["String"],[]]},class:{overloads:[["String"],[]]},addClass:{overloads:[["String"]]},removeClass:{overloads:[["String"]]},hasClass:{overloads:[[null]]},toggleClass:{overloads:[[null]]},center:{overloads:[["String?"]]},position:{overloads:[[],["Number?","Number?","String?"]]},show:{overloads:[[]]},hide:{overloads:[[]]},size:{overloads:[[],["Number|AUTO?","Number|AUTO?"]]},style:{overloads:[["String"],["String","String|p5.Color"]]},attribute:{overloads:[[],["String","String"]]},removeAttribute:{overloads:[["String"]]},value:{overloads:[[],["String|Number"]]},mousePressed:{overloads:[["Function|Boolean"]]},doubleClicked:{overloads:[["Function|Boolean"]]},mouseWheel:{overloads:[["Function|Boolean"]]},mouseReleased:{overloads:[["Function|Boolean"]]},mouseClicked:{overloads:[["Function|Boolean"]]},mouseMoved:{overloads:[["Function|Boolean"]]},mouseOver:{overloads:[["Function|Boolean"]]},mouseOut:{overloads:[["Function|Boolean"]]},dragOver:{overloads:[["Function|Boolean"]]},dragLeave:{overloads:[["Function|Boolean"]]},changed:{overloads:[["Function|Boolean"]]},input:{overloads:[["Function|Boolean"]]},drop:{overloads:[["Function","Function?"]]},draggable:{overloads:[["p5.Element?"]]}},"p5.MediaElement":{play:{overloads:[[]]},stop:{overloads:[[]]},pause:{overloads:[[]]},loop:{overloads:[[]]},noLoop:{overloads:[[]]},autoplay:{overloads:[["Boolean?"]]},volume:{overloads:[[],["Number"]]},speed:{overloads:[[],["Number"]]},time:{overloads:[["Number?"]]},duration:{overloads:[[]]},onended:{overloads:[["Function"]]},connect:{overloads:[["AudioNode|Object"]]},disconnect:{overloads:[[]]},showControls:{overloads:[[]]},hideControls:{overloads:[[]]},addCue:{overloads:[["Number","Function","Object?"]]},removeCue:{overloads:[["Number"]]},clearCues:{overloads:[[]]}},"p5.Image":{pixelDensity:{overloads:[["Number?"]]},loadPixels:{overloads:[[]]},updatePixels:{overloads:[["Integer?","Integer?","Integer?","Integer?"]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]},set:{overloads:[["Number","Number","Number|Number[]|Object"]]},resize:{overloads:[["Number","Number"]]},copy:{overloads:[["p5.Image|p5.Element","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"]]},mask:{overloads:[["p5.Image"]]},filter:{overloads:[["THRESHOLD|GRAY|OPAQUE|INVERT|POSTERIZE|ERODE|DILATE|BLUR","Number?"]]},blend:{overloads:[["p5.Image","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"]]},save:{overloads:[["String","String?"]]},reset:{overloads:[[]]},getCurrentFrame:{overloads:[[]]},setFrame:{overloads:[["Number"]]},numFrames:{overloads:[[]]},play:{overloads:[[]]},pause:{overloads:[[]]},delay:{overloads:[["Number","Number?"]]}},"p5.Table":{addRow:{overloads:[["p5.TableRow?"]]},removeRow:{overloads:[["Integer"]]},getRow:{overloads:[["Integer"]]},getRows:{overloads:[[]]},findRow:{overloads:[["String","Integer|String"]]},findRows:{overloads:[["String","Integer|String"]]},matchRow:{overloads:[["String|RegExp","String|Integer"]]},matchRows:{overloads:[["String","String|Integer?"]]},getColumn:{overloads:[["String|Number"]]},clearRows:{overloads:[[]]},addColumn:{overloads:[["String?"]]},getColumnCount:{overloads:[[]]},getRowCount:{overloads:[[]]},removeTokens:{overloads:[["String","String|Integer?"]]},trim:{overloads:[["String|Integer?"]]},removeColumn:{overloads:[["String|Integer"]]},set:{overloads:[["Integer","String|Integer","String|Number"]]},setNum:{overloads:[["Integer","String|Integer","Number"]]},setString:{overloads:[["Integer","String|Integer","String"]]},get:{overloads:[["Integer","String|Integer"]]},getNum:{overloads:[["Integer","String|Integer"]]},getString:{overloads:[["Integer","String|Integer"]]},getObject:{overloads:[["String?"]]},getArray:{overloads:[[]]}},"p5.TableRow":{set:{overloads:[["String|Integer","String|Number"]]},setNum:{overloads:[["String|Integer","Number|String"]]},setString:{overloads:[["String|Integer","String|Number|Boolean|Object"]]},get:{overloads:[["String|Integer"]]},getNum:{overloads:[["String|Integer"]]},getString:{overloads:[["String|Integer"]]}},"p5.XML":{getParent:{overloads:[[]]},getName:{overloads:[[]]},setName:{overloads:[["String"]]},hasChildren:{overloads:[[]]},listChildren:{overloads:[[]]},getChildren:{overloads:[["String?"]]},getChild:{overloads:[["String|Integer"]]},addChild:{overloads:[["p5.XML"]]},removeChild:{overloads:[["String|Integer"]]},getAttributeCount:{overloads:[[]]},listAttributes:{overloads:[[]]},hasAttribute:{overloads:[["String"]]},getNum:{overloads:[["String","Number?"]]},getString:{overloads:[["String","Number?"]]},setAttribute:{overloads:[["String","Number|String|Boolean"]]},getContent:{overloads:[["String?"]]},serialize:{overloads:[[]]}},"p5.Vector":{getValue:{overloads:[["Number"]]},setValue:{overloads:[["Number","Number"]]},set:{overloads:[["Number?","Number?","Number?"],["p5.Vector|Number[]"]]},copy:{overloads:[[]]},add:{overloads:[["Number|Array","Number?","Number?"],["p5.Vector|Number[]"]]},rem:{overloads:[["Number","Number","Number"],["p5.Vector|Number[]"]]},sub:{overloads:[["Number","Number?","Number?"],["p5.Vector|Number[]"]]},mult:{overloads:[["Number"],["Number","Number","Number?"],["Number[]"],["p5.Vector"]]},div:{overloads:[["Number"],["Number","Number","Number?"],["Number[]"],["p5.Vector"]]},mag:{overloads:[[]]},magSq:{overloads:[[]]},dot:{overloads:[["Number","Number?","Number?"],["p5.Vector"]]},cross:{overloads:[["p5.Vector"]]},dist:{overloads:[["p5.Vector"]]},normalize:{overloads:[[]]},limit:{overloads:[["Number"]]},setMag:{overloads:[["Number"]]},heading:{overloads:[[]]},setHeading:{overloads:[["Number"]]},rotate:{overloads:[["Number"]]},angleBetween:{overloads:[["p5.Vector"]]},lerp:{overloads:[["Number","Number","Number","Number"],["p5.Vector","Number"]]},slerp:{overloads:[["p5.Vector","Number"]]},reflect:{overloads:[["p5.Vector"]]},array:{overloads:[[]]},equals:{overloads:[["Number?","Number?","Number?"],["p5.Vector|Array"]]},clampToZero:{overloads:[[]]},fromAngle:{overloads:[["Number","Number?"]]},fromAngles:{overloads:[["Number","Number","Number?"]]},random2D:{overloads:[[]]},random3D:{overloads:[[]]}},"p5.Font":{textToPaths:{overloads:[["String","Number","Number","Number?","Number?"]]},textToPoints:{overloads:[["String","Number","Number","Object?"]]},textToContours:{overloads:[["String","Number","Number","Object?"]]},textToModel:{overloads:[["String","Number","Number","Number","Number","Object?"]]}},"p5.Camera":{perspective:{overloads:[["Number?","Number?","Number?","Number?"]]},ortho:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},frustum:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},pan:{overloads:[["Number"]]},tilt:{overloads:[["Number"]]},lookAt:{overloads:[["Number","Number","Number"]]},camera:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},move:{overloads:[["Number","Number","Number"]]},setPosition:{overloads:[["Number","Number","Number"]]},set:{overloads:[["p5.Camera"]]},slerp:{overloads:[["p5.Camera","p5.Camera","Number"]]}},"p5.Framebuffer":{resize:{overloads:[["Number","Number"]]},pixelDensity:{overloads:[["Number?"]]},autoSized:{overloads:[["Boolean?"]]},createCamera:{overloads:[[]]},remove:{overloads:[[]]},begin:{overloads:[[]]},end:{overloads:[[]]},draw:{overloads:[["Function"]]},loadPixels:{overloads:[[]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]}},"p5.Geometry":{calculateBoundingBox:{overloads:[[]]},clearColors:{overloads:[[]]},flipU:{overloads:[[]]},computeFaces:{overloads:[[]]},computeNormals:{overloads:[["FLAT|SMOOTH?","Object?"]]},makeEdgesFromFaces:{overloads:[[]]},normalize:{overloads:[[]]},vertexProperty:{overloads:[["String","Number|Number[]","Number?"]]},flipV:{overloads:[[]]}},"p5.Shader":{version:{overloads:[[]]},inspectHooks:{overloads:[[]]},modify:{overloads:[["Function","Object?"],["Object?"]]},copyToContext:{overloads:[["p5|p5.Graphics"]]},setUniform:{overloads:[["String","Boolean|Number|Number[]|p5.Image|p5.Graphics|p5.MediaElement|p5.Texture"]]}}};function JF(n,t,r){let i=new Map;const s=Object.keys(n).reduce((y,x)=>(x.match(/^[A-Z]/)&&!x.match(/^[A-Z][A-Z0-9]*$/)&&n[x]instanceof Function&&(y[x]=n[x]),y),{});function o(){for(let y of Object.keys(n))typeof n[y]=="function"&&y[0]!==y[0].toLowerCase()&&(s[y]=n[y])}const a={};for(const[y,x]of Object.entries(Oa))a[y]=x;const l={Any:ev(),Array:Wy(ev()),Boolean:mte(),Function:AS(),Integer:IS().int(),Number:IS(),Object:wte({}),String:Yee()},u=["AudioNode","HTMLCanvasElement","HTMLElement","KeyboardEvent","MouseEvent","RegExp","TouchEvent","UIEvent","WheelEvent"];function h(y){return y.reduce((x,b)=>(x[b]=PS(w=>w instanceof globalThis[b],{message:`Expected a ${b}`}),x),{})}const c=h(u);Object.assign(l,c);const f=["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth"];function d(y){const x=y.lastIndexOf("."),b=y.slice(x+1),w=y.slice(0,x!==-1?x:0)||"p5";return{funcName:b,funcClass:w}}function p(y){let x=0;for(let b=0;b<y.length;b++)if(y[b]==="[")x++;else if(y[b]==="]"&&(x--,x<0))return!1;return x===0}const m=function(y){const{funcName:x,funcClass:b}=d(y);let w=Gte[b][x];if(!w)return;let S=[];w.hasOwnProperty("overloads")&&(S=w.overloads);const _=k=>{if(!k)return ev();let D;if(k in a)D=kS(a[k]);else if(k.match(/^[A-Z][A-Z0-9]*$/)&&k in t)D=kS(t[k]);else if(k.startsWith("function"))D=AS();else if(/^p5\.[a-zA-Z0-9]+$/.exec(k)||k==="p5"){const N=k.substring(k.indexOf(".")+1);D=RS(s[N])}else if(l[k])D=l[k];else if(k.startsWith("[")&&k.endsWith("]")&&p(k.slice(1,-1)))D=FS(k.slice(1,-1).split(/, */g).map(N=>_(N)));else if(k.match(/^[A-Z]/)&&k in window)D=RS(window[k]);else if(k.includes("|")&&k.split("|").every(N=>p(N))){const N=k.split("|");D=Xy(N.map(M=>_(M)).filter(M=>M!==void 0))}else if(k.endsWith("[]"))D=Wy(_(k.slice(0,-2)));else throw new Error(`Unsupported type '${k}' in parameter validation. Please report this issue.`);return D},T=k=>{const D=k?.endsWith("?");k=k?.replace(/\?$/,"");const N=k?.startsWith("...")&&k?.endsWith("[]");k=k?.replace(/^\.\.\.(.+)\[\]$/,"$1");let M=_(k);return M.def.type==="function"&&(M=PS(U=>U instanceof Function)),D&&(M=M.optional()),{schema:M,rest:N}},C=k=>{if(!k.some(M=>M?.endsWith("?")))return[k];const D=k.filter(M=>M===null||!M.endsWith("?")).length,N=[];for(let M=D;M<=k.length;M++)N.push(k.slice(0,M));return N},F=S.flatMap(k=>C(k).map(N=>{const M=N.map(W=>T(W)).filter(W=>W.schema!==void 0);let U;M.at(-1)?.rest&&(U=M.pop());let B=FS(M.map(W=>W.schema));return U&&(B=B.rest(U.schema)),B}));return F.length===1?F[0]:Xy(F)},g=function(y,x){if(!(y instanceof qF))return y;const b=T=>{let C=1/0;if(!(T instanceof YF))return console.warn("Schema below is not a tuple: "),printZodSchema(T),C;const F=x.length,k=T.def.items,D=k.length,N=k.filter(M=>!M.isOptional()).length;F>=N&&F<=D?C=0:C=Math.abs(F<N?N-F:F-D)*4;for(let M=0;M<Math.min(k.length,x.length);M++){const U=k[M],B=x[M];U.safeParse(B).success||C++}return C};let w=y.def.options[0],S=1/0;return y.def.options.forEach(T=>{const C=b(T);C<S&&(w=T,S=C)}),w},v=function(y,x,b){let w=" p5.js says: ",S=!1,_=y.issues[0];const T=(k,D,N)=>{const M=N?`at the ${f[N]} parameter`:"",U=k?`, but received ${k}`:"";return`Expected ${D} ${M}${U}`},C=k=>{const D=new Set;let N;if(k.errors.forEach(M=>{const U=M[0];if(U){if(N||(N=U.message),U.code==="invalid_type")N=U.message.split(", received ")[1],D.add(U.expected);else if(U.code==="invalid_value")D.add("constant (please refer to documentation for allowed values)"),N=b[k.path[0]];else if(U.code==="custom"){const B=U.message.match(/Input not instance of (\w+)/);B&&D.add(B[1]),N=void 0}}}),D.size>0){k.path?.length>0&&b[k.path[0]]instanceof Promise&&(w+="Did you mean to put `await` before a loading function? An unexpected Promise was found. ",S=!0);const M=Array.from(D).join(" or "),U=k.path.join(".");w+=T(N,M,U)}return w};switch(_.code){case"invalid_union":{C(_);break}case"too_small":{const k=_.minimum;w+=`Expected at least ${k} argument${k>1?"s":""}, but received fewer`;break}case"invalid_type":{w+=T(_.message.split(", received ")[1],_.expected,_.path.join("."));break}case"too_big":{const k=_.maximum;w+=`Expected at most ${k} argument${k>1?"s":""}, but received more`;break}default:console.log("Zod error object",_)}w+=` in ${x}().`;const F=k=>{const{funcName:D,funcClass:N}=d(k);return`https://p5js.org/reference/${N}/${D}`};if(_.code==="too_big"||_.code==="too_small"){const k=F(x);w+=` For more information, see ${k}.`}return S?n._error(this,w):console.log(w),w},E=function(y,x){if(n.disableFriendlyErrors)return;if(Array.isArray(x)||(x=Array.from(x)),Array.isArray(x)&&x.length>0&&x.every(w=>w===void 0))return{success:!1,error:` p5.js says: All arguments for ${y}() are undefined. There is likely an error in the code.`};let b=i.get(y);if(!b){if(b=m(y),!b)return;i.set(y,b)}try{return{success:!0,data:b.parse(x)}}catch{const _=g(b,x).safeParse(x).error;return{success:!1,error:v(_,y,x)}}};t._validate=E,n.decorateHelper(/^(?!_).+$/,function(y,{name:x}){return function(...b){return!n.disableFriendlyErrors&&!n.disableParameterValidator&&E(x,b),y.call(this,...b)}}),r.presetup=function(){o()}}typeof p5<"u"&&JF(p5,p5.prototype);var Hte=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],QF=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Wte="-----------------------------------------------------------------------------------------------------------------------------------------------------",ek="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",tv={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},nv="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Xte={5:nv,"5module":nv+" export import",6:nv+" const class extends export import super"},qte=/^in(stanceof)?$/,Yte=new RegExp("["+ek+"]"),Kte=new RegExp("["+ek+Wte+"]");function Yy(n,t){for(var r=65536,i=0;i<t.length;i+=2){if(r+=t[i],r>n)return!1;if(r+=t[i+1],r>=n)return!0}return!1}function mo(n,t){return n<65?n===36:n<91?!0:n<97?n===95:n<123?!0:n<=65535?n>=170&&Yte.test(String.fromCharCode(n)):t===!1?!1:Yy(n,QF)}function Ra(n,t){return n<48?n===36:n<58?!0:n<65?!1:n<91?!0:n<97?n===95:n<123?!0:n<=65535?n>=170&&Kte.test(String.fromCharCode(n)):t===!1?!1:Yy(n,QF)||Yy(n,Hte)}var bn=function(t,r){r===void 0&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function bs(n,t){return new bn(n,{beforeExpr:!0,binop:t})}var xs={beforeExpr:!0},Ri={startsExpr:!0},gx={};function yn(n,t){return t===void 0&&(t={}),t.keyword=n,gx[n]=new bn(n,t)}var oe={num:new bn("num",Ri),regexp:new bn("regexp",Ri),string:new bn("string",Ri),name:new bn("name",Ri),privateId:new bn("privateId",Ri),eof:new bn("eof"),bracketL:new bn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new bn("]"),braceL:new bn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new bn("}"),parenL:new bn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new bn(")"),comma:new bn(",",xs),semi:new bn(";",xs),colon:new bn(":",xs),dot:new bn("."),question:new bn("?",xs),questionDot:new bn("?."),arrow:new bn("=>",xs),template:new bn("template"),invalidTemplate:new bn("invalidTemplate"),ellipsis:new bn("...",xs),backQuote:new bn("`",Ri),dollarBraceL:new bn("${",{beforeExpr:!0,startsExpr:!0}),eq:new bn("=",{beforeExpr:!0,isAssign:!0}),assign:new bn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new bn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new bn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:bs("||",1),logicalAND:bs("&&",2),bitwiseOR:bs("|",3),bitwiseXOR:bs("^",4),bitwiseAND:bs("&",5),equality:bs("==/!=/===/!==",6),relational:bs("</>/<=/>=",7),bitShift:bs("<</>>/>>>",8),plusMin:new bn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:bs("%",10),star:bs("*",10),slash:bs("/",10),starstar:new bn("**",{beforeExpr:!0}),coalesce:bs("??",1),_break:yn("break"),_case:yn("case",xs),_catch:yn("catch"),_continue:yn("continue"),_debugger:yn("debugger"),_default:yn("default",xs),_do:yn("do",{isLoop:!0,beforeExpr:!0}),_else:yn("else",xs),_finally:yn("finally"),_for:yn("for",{isLoop:!0}),_function:yn("function",Ri),_if:yn("if"),_return:yn("return",xs),_switch:yn("switch"),_throw:yn("throw",xs),_try:yn("try"),_var:yn("var"),_const:yn("const"),_while:yn("while",{isLoop:!0}),_with:yn("with"),_new:yn("new",{beforeExpr:!0,startsExpr:!0}),_this:yn("this",Ri),_super:yn("super",Ri),_class:yn("class",Ri),_extends:yn("extends",xs),_export:yn("export"),_import:yn("import",Ri),_null:yn("null",Ri),_true:yn("true",Ri),_false:yn("false",Ri),_in:yn("in",{beforeExpr:!0,binop:7}),_instanceof:yn("instanceof",{beforeExpr:!0,binop:7}),_typeof:yn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:yn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:yn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ki=/\r\n?|\n|\u2028|\u2029/,Zte=new RegExp(Ki.source,"g");function Ec(n){return n===10||n===13||n===8232||n===8233}function tk(n,t,r){r===void 0&&(r=n.length);for(var i=t;i<r;i++){var s=n.charCodeAt(i);if(Ec(s))return i<r-1&&s===13&&n.charCodeAt(i+1)===10?i+2:i+1}return-1}var nk=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ui=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,rk=Object.prototype,Jte=rk.hasOwnProperty,Qte=rk.toString,Sc=Object.hasOwn||(function(n,t){return Jte.call(n,t)}),BS=Array.isArray||(function(n){return Qte.call(n)==="[object Array]"}),US=Object.create(null);function Aa(n){return US[n]||(US[n]=new RegExp("^(?:"+n.replace(/ /g,"|")+")$"))}function Jo(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}var ene=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,rf=function(t,r){this.line=t,this.column=r};rf.prototype.offset=function(t){return new rf(this.line,this.column+t)};var xg=function(t,r,i){this.start=r,this.end=i,t.sourceFile!==null&&(this.source=t.sourceFile)};function ik(n,t){for(var r=1,i=0;;){var s=tk(n,i,t);if(s<0)return new rf(r,t-i);++r,i=s}}var Ky={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},VS=!1;function tne(n){var t={};for(var r in Ky)t[r]=n&&Sc(n,r)?n[r]:Ky[r];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!VS&&typeof console=="object"&&console.warn&&(VS=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!n||n.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),BS(t.onToken)){var i=t.onToken;t.onToken=function(s){return i.push(s)}}return BS(t.onComment)&&(t.onComment=nne(t,t.onComment)),t}function nne(n,t){return function(r,i,s,o,a,l){var u={type:r?"Block":"Line",value:i,start:s,end:o};n.locations&&(u.loc=new xg(this,a,l)),n.ranges&&(u.range=[s,o]),t.push(u)}}var sf=1,Cc=2,vx=4,sk=8,yx=16,ok=32,_g=64,ak=128,su=256,If=512,wg=sf|Cc|su;function bx(n,t){return Cc|(n?vx:0)|(t?sk:0)}var nm=0,xx=1,ra=2,lk=3,uk=4,ck=5,Br=function(t,r,i){this.options=t=tne(t),this.sourceFile=t.sourceFile,this.keywords=Aa(Xte[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var s="";t.allowReserved!==!0&&(s=tv[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(s+=" await")),this.reservedWords=Aa(s);var o=(s?s+" ":"")+tv.strict;this.reservedWordsStrict=Aa(o),this.reservedWordsStrictBind=Aa(o+" "+tv.strictBind),this.input=String(r),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ki).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=oe.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(sf),this.regexpState=null,this.privateNameStack=[]},yo={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Br.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};yo.inFunction.get=function(){return(this.currentVarScope().flags&Cc)>0};yo.inGenerator.get=function(){return(this.currentVarScope().flags&sk)>0};yo.inAsync.get=function(){return(this.currentVarScope().flags&vx)>0};yo.canAwait.get=function(){for(var n=this.scopeStack.length-1;n>=0;n--){var t=this.scopeStack[n],r=t.flags;if(r&(su|If))return!1;if(r&Cc)return(r&vx)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};yo.allowSuper.get=function(){var n=this.currentThisScope(),t=n.flags;return(t&_g)>0||this.options.allowSuperOutsideMethod};yo.allowDirectSuper.get=function(){return(this.currentThisScope().flags&ak)>0};yo.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};yo.allowNewDotTarget.get=function(){for(var n=this.scopeStack.length-1;n>=0;n--){var t=this.scopeStack[n],r=t.flags;if(r&(su|If)||r&Cc&&!(r&yx))return!0}return!1};yo.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&su)>0};Br.extend=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var i=this,s=0;s<t.length;s++)i=t[s](i);return i};Br.parse=function(t,r){return new this(r,t).parse()};Br.parseExpressionAt=function(t,r,i){var s=new this(i,t,r);return s.nextToken(),s.parseExpression()};Br.tokenizer=function(t,r){return new this(r,t)};Object.defineProperties(Br.prototype,yo);var Mi=Br.prototype,rne=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Mi.strictDirective=function(n){if(this.options.ecmaVersion<5)return!1;for(;;){ui.lastIndex=n,n+=ui.exec(this.input)[0].length;var t=rne.exec(this.input.slice(n));if(!t)return!1;if((t[1]||t[2])==="use strict"){ui.lastIndex=n+t[0].length;var r=ui.exec(this.input),i=r.index+r[0].length,s=this.input.charAt(i);return s===";"||s==="}"||Ki.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(i+1)==="=")}n+=t[0].length,ui.lastIndex=n,n+=ui.exec(this.input)[0].length,this.input[n]===";"&&n++}};Mi.eat=function(n){return this.type===n?(this.next(),!0):!1};Mi.isContextual=function(n){return this.type===oe.name&&this.value===n&&!this.containsEsc};Mi.eatContextual=function(n){return this.isContextual(n)?(this.next(),!0):!1};Mi.expectContextual=function(n){this.eatContextual(n)||this.unexpected()};Mi.canInsertSemicolon=function(){return this.type===oe.eof||this.type===oe.braceR||Ki.test(this.input.slice(this.lastTokEnd,this.start))};Mi.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Mi.semicolon=function(){!this.eat(oe.semi)&&!this.insertSemicolon()&&this.unexpected()};Mi.afterTrailingComma=function(n,t){if(this.type===n)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Mi.expect=function(n){this.eat(n)||this.unexpected()};Mi.unexpected=function(n){this.raise(n??this.start,"Unexpected token")};var Eg=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Mi.checkPatternErrors=function(n,t){if(n){n.trailingComma>-1&&this.raiseRecoverable(n.trailingComma,"Comma is not permitted after the rest element");var r=t?n.parenthesizedAssign:n.parenthesizedBind;r>-1&&this.raiseRecoverable(r,t?"Assigning to rvalue":"Parenthesized pattern")}};Mi.checkExpressionErrors=function(n,t){if(!n)return!1;var r=n.shorthandAssign,i=n.doubleProto;if(!t)return r>=0||i>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")};Mi.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Mi.isSimpleAssignTarget=function(n){return n.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(n.expression):n.type==="Identifier"||n.type==="MemberExpression"};var Et=Br.prototype;Et.parseTopLevel=function(n){var t=Object.create(null);for(n.body||(n.body=[]);this.type!==oe.eof;){var r=this.parseStatement(null,!0,t);n.body.push(r)}if(this.inModule)for(var i=0,s=Object.keys(this.undefinedExports);i<s.length;i+=1){var o=s[i];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(n.body),this.next(),n.sourceType=this.options.sourceType,this.finishNode(n,"Program")};var _x={kind:"loop"},ine={kind:"switch"};Et.isLet=function(n){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ui.lastIndex=this.pos;var t=ui.exec(this.input),r=this.pos+t[0].length,i=this.input.charCodeAt(r);if(i===91||i===92)return!0;if(n)return!1;if(i===123||i>55295&&i<56320)return!0;if(mo(i,!0)){for(var s=r+1;Ra(i=this.input.charCodeAt(s),!0);)++s;if(i===92||i>55295&&i<56320)return!0;var o=this.input.slice(r,s);if(!qte.test(o))return!0}return!1};Et.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ui.lastIndex=this.pos;var n=ui.exec(this.input),t=this.pos+n[0].length,r;return!Ki.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(Ra(r=this.input.charCodeAt(t+8))||r>55295&&r<56320))};Et.isUsingKeyword=function(n,t){if(this.options.ecmaVersion<17||!this.isContextual(n?"await":"using"))return!1;ui.lastIndex=this.pos;var r=ui.exec(this.input),i=this.pos+r[0].length;if(Ki.test(this.input.slice(this.pos,i)))return!1;if(n){var s=i+5,o;if(this.input.slice(i,s)!=="using"||s===this.input.length||Ra(o=this.input.charCodeAt(s))||o>55295&&o<56320)return!1;ui.lastIndex=s;var a=ui.exec(this.input);if(a&&Ki.test(this.input.slice(s,s+a[0].length)))return!1}if(t){var l=i+2,u;if(this.input.slice(i,l)==="of"&&(l===this.input.length||!Ra(u=this.input.charCodeAt(l))&&!(u>55295&&u<56320)))return!1}var h=this.input.charCodeAt(i);return mo(h,!0)||h===92};Et.isAwaitUsing=function(n){return this.isUsingKeyword(!0,n)};Et.isUsing=function(n){return this.isUsingKeyword(!1,n)};Et.parseStatement=function(n,t,r){var i=this.type,s=this.startNode(),o;switch(this.isLet(n)&&(i=oe._var,o="let"),i){case oe._break:case oe._continue:return this.parseBreakContinueStatement(s,i.keyword);case oe._debugger:return this.parseDebuggerStatement(s);case oe._do:return this.parseDoStatement(s);case oe._for:return this.parseForStatement(s);case oe._function:return n&&(this.strict||n!=="if"&&n!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!n);case oe._class:return n&&this.unexpected(),this.parseClass(s,!0);case oe._if:return this.parseIfStatement(s);case oe._return:return this.parseReturnStatement(s);case oe._switch:return this.parseSwitchStatement(s);case oe._throw:return this.parseThrowStatement(s);case oe._try:return this.parseTryStatement(s);case oe._const:case oe._var:return o=o||this.value,n&&o!=="var"&&this.unexpected(),this.parseVarStatement(s,o);case oe._while:return this.parseWhileStatement(s);case oe._with:return this.parseWithStatement(s);case oe.braceL:return this.parseBlock(!0,s);case oe.semi:return this.parseEmptyStatement(s);case oe._export:case oe._import:if(this.options.ecmaVersion>10&&i===oe._import){ui.lastIndex=this.pos;var a=ui.exec(this.input),l=this.pos+a[0].length,u=this.input.charCodeAt(l);if(u===40||u===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===oe._import?this.parseImport(s):this.parseExport(s,r);default:if(this.isAsyncFunction())return n&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!n);var h=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(h)return t&&this.options.sourceType==="script"&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),h==="await using"&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(s,!1,h),this.semicolon(),this.finishNode(s,"VariableDeclaration");var c=this.value,f=this.parseExpression();return i===oe.name&&f.type==="Identifier"&&this.eat(oe.colon)?this.parseLabeledStatement(s,c,f,n):this.parseExpressionStatement(s,f)}};Et.parseBreakContinueStatement=function(n,t){var r=t==="break";this.next(),this.eat(oe.semi)||this.insertSemicolon()?n.label=null:this.type!==oe.name?this.unexpected():(n.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var s=this.labels[i];if((n.label==null||s.name===n.label.name)&&(s.kind!=null&&(r||s.kind==="loop")||n.label&&r))break}return i===this.labels.length&&this.raise(n.start,"Unsyntactic "+t),this.finishNode(n,r?"BreakStatement":"ContinueStatement")};Et.parseDebuggerStatement=function(n){return this.next(),this.semicolon(),this.finishNode(n,"DebuggerStatement")};Et.parseDoStatement=function(n){return this.next(),this.labels.push(_x),n.body=this.parseStatement("do"),this.labels.pop(),this.expect(oe._while),n.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(oe.semi):this.semicolon(),this.finishNode(n,"DoWhileStatement")};Et.parseForStatement=function(n){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(_x),this.enterScope(0),this.expect(oe.parenL),this.type===oe.semi)return t>-1&&this.unexpected(t),this.parseFor(n,null);var r=this.isLet();if(this.type===oe._var||this.type===oe._const||r){var i=this.startNode(),s=r?"let":this.value;return this.next(),this.parseVar(i,!0,s),this.finishNode(i,"VariableDeclaration"),this.parseForAfterInit(n,i,t)}var o=this.isContextual("let"),a=!1,l=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(l){var u=this.startNode();return this.next(),l==="await using"&&this.next(),this.parseVar(u,!0,l),this.finishNode(u,"VariableDeclaration"),this.parseForAfterInit(n,u,t)}var h=this.containsEsc,c=new Eg,f=this.start,d=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===oe._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===oe._in&&this.unexpected(t),n.await=!0):a&&this.options.ecmaVersion>=8&&(d.start===f&&!h&&d.type==="Identifier"&&d.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(n.await=!1)),o&&a&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,c),this.checkLValPattern(d),this.parseForIn(n,d)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(n,d))};Et.parseForAfterInit=function(n,t,r){return(this.type===oe._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&t.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===oe._in?r>-1&&this.unexpected(r):n.await=r>-1),this.parseForIn(n,t)):(r>-1&&this.unexpected(r),this.parseFor(n,t))};Et.parseFunctionStatement=function(n,t,r){return this.next(),this.parseFunction(n,xh|(r?0:Zy),!1,t)};Et.parseIfStatement=function(n){return this.next(),n.test=this.parseParenExpression(),n.consequent=this.parseStatement("if"),n.alternate=this.eat(oe._else)?this.parseStatement("if"):null,this.finishNode(n,"IfStatement")};Et.parseReturnStatement=function(n){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(oe.semi)||this.insertSemicolon()?n.argument=null:(n.argument=this.parseExpression(),this.semicolon()),this.finishNode(n,"ReturnStatement")};Et.parseSwitchStatement=function(n){this.next(),n.discriminant=this.parseParenExpression(),n.cases=[],this.expect(oe.braceL),this.labels.push(ine),this.enterScope(0);for(var t,r=!1;this.type!==oe.braceR;)if(this.type===oe._case||this.type===oe._default){var i=this.type===oe._case;t&&this.finishNode(t,"SwitchCase"),n.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(oe.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(n,"SwitchStatement")};Et.parseThrowStatement=function(n){return this.next(),Ki.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),n.argument=this.parseExpression(),this.semicolon(),this.finishNode(n,"ThrowStatement")};var sne=[];Et.parseCatchClauseParam=function(){var n=this.parseBindingAtom(),t=n.type==="Identifier";return this.enterScope(t?ok:0),this.checkLValPattern(n,t?uk:ra),this.expect(oe.parenR),n};Et.parseTryStatement=function(n){if(this.next(),n.block=this.parseBlock(),n.handler=null,this.type===oe._catch){var t=this.startNode();this.next(),this.eat(oe.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),n.handler=this.finishNode(t,"CatchClause")}return n.finalizer=this.eat(oe._finally)?this.parseBlock():null,!n.handler&&!n.finalizer&&this.raise(n.start,"Missing catch or finally clause"),this.finishNode(n,"TryStatement")};Et.parseVarStatement=function(n,t,r){return this.next(),this.parseVar(n,!1,t,r),this.semicolon(),this.finishNode(n,"VariableDeclaration")};Et.parseWhileStatement=function(n){return this.next(),n.test=this.parseParenExpression(),this.labels.push(_x),n.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(n,"WhileStatement")};Et.parseWithStatement=function(n){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),n.object=this.parseParenExpression(),n.body=this.parseStatement("with"),this.finishNode(n,"WithStatement")};Et.parseEmptyStatement=function(n){return this.next(),this.finishNode(n,"EmptyStatement")};Et.parseLabeledStatement=function(n,t,r,i){for(var s=0,o=this.labels;s<o.length;s+=1){var a=o[s];a.name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var l=this.type.isLoop?"loop":this.type===oe._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var h=this.labels[u];if(h.statementStart===n.start)h.statementStart=this.start,h.kind=l;else break}return this.labels.push({name:t,kind:l,statementStart:this.start}),n.body=this.parseStatement(i?i.indexOf("label")===-1?i+"label":i:"label"),this.labels.pop(),n.label=r,this.finishNode(n,"LabeledStatement")};Et.parseExpressionStatement=function(n,t){return n.expression=t,this.semicolon(),this.finishNode(n,"ExpressionStatement")};Et.parseBlock=function(n,t,r){for(n===void 0&&(n=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(oe.braceL),n&&this.enterScope(0);this.type!==oe.braceR;){var i=this.parseStatement(null);t.body.push(i)}return r&&(this.strict=!1),this.next(),n&&this.exitScope(),this.finishNode(t,"BlockStatement")};Et.parseFor=function(n,t){return n.init=t,this.expect(oe.semi),n.test=this.type===oe.semi?null:this.parseExpression(),this.expect(oe.semi),n.update=this.type===oe.parenR?null:this.parseExpression(),this.expect(oe.parenR),n.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(n,"ForStatement")};Et.parseForIn=function(n,t){var r=this.type===oe._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!r||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"),n.left=t,n.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(oe.parenR),n.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(n,r?"ForInStatement":"ForOfStatement")};Et.parseVar=function(n,t,r,i){for(n.declarations=[],n.kind=r;;){var s=this.startNode();if(this.parseVarId(s,r),this.eat(oe.eq)?s.init=this.parseMaybeAssign(t):!i&&r==="const"&&!(this.type===oe._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!i&&(r==="using"||r==="await using")&&this.options.ecmaVersion>=17&&this.type!==oe._in&&!this.isContextual("of")?this.raise(this.lastTokEnd,"Missing initializer in "+r+" declaration"):!i&&s.id.type!=="Identifier"&&!(t&&(this.type===oe._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):s.init=null,n.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(oe.comma))break}return n};Et.parseVarId=function(n,t){n.id=t==="using"||t==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(n.id,t==="var"?xx:ra,!1)};var xh=1,Zy=2,hk=4;Et.parseFunction=function(n,t,r,i,s){this.initFunction(n),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===oe.star&&t&Zy&&this.unexpected(),n.generator=this.eat(oe.star)),this.options.ecmaVersion>=8&&(n.async=!!i),t&xh&&(n.id=t&hk&&this.type!==oe.name?null:this.parseIdent(),n.id&&!(t&Zy)&&this.checkLValSimple(n.id,this.strict||n.generator||n.async?this.treatFunctionsAsVar?xx:ra:lk));var o=this.yieldPos,a=this.awaitPos,l=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(bx(n.async,n.generator)),t&xh||(n.id=this.type===oe.name?this.parseIdent():null),this.parseFunctionParams(n),this.parseFunctionBody(n,r,!1,s),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=l,this.finishNode(n,t&xh?"FunctionDeclaration":"FunctionExpression")};Et.parseFunctionParams=function(n){this.expect(oe.parenL),n.params=this.parseBindingList(oe.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Et.parseClass=function(n,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(n,t),this.parseClassSuper(n);var i=this.enterClassBody(),s=this.startNode(),o=!1;for(s.body=[],this.expect(oe.braceL);this.type!==oe.braceR;){var a=this.parseClassElement(n.superClass!==null);a&&(s.body.push(a),a.type==="MethodDefinition"&&a.kind==="constructor"?(o&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),o=!0):a.key&&a.key.type==="PrivateIdentifier"&&one(i,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=r,this.next(),n.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(n,t?"ClassDeclaration":"ClassExpression")};Et.parseClassElement=function(n){if(this.eat(oe.semi))return null;var t=this.options.ecmaVersion,r=this.startNode(),i="",s=!1,o=!1,a="method",l=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(oe.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===oe.star?l=!0:i="static"}if(r.static=l,!i&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===oe.star)&&!this.canInsertSemicolon()?o=!0:i="async"),!i&&(t>=9||!o)&&this.eat(oe.star)&&(s=!0),!i&&!o&&!s){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=u:i=u)}if(i?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=i,this.finishNode(r.key,"Identifier")):this.parseClassElementName(r),t<13||this.type===oe.parenL||a!=="method"||s||o){var h=!r.static&&rm(r,"constructor"),c=h&&n;h&&a!=="method"&&this.raise(r.key.start,"Constructor can't have get/set modifier"),r.kind=h?"constructor":a,this.parseClassMethod(r,s,o,c)}else this.parseClassField(r);return r};Et.isClassElementNameStart=function(){return this.type===oe.name||this.type===oe.privateId||this.type===oe.num||this.type===oe.string||this.type===oe.bracketL||this.type.keyword};Et.parseClassElementName=function(n){this.type===oe.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),n.computed=!1,n.key=this.parsePrivateIdent()):this.parsePropertyName(n)};Et.parseClassMethod=function(n,t,r,i){var s=n.key;n.kind==="constructor"?(t&&this.raise(s.start,"Constructor can't be a generator"),r&&this.raise(s.start,"Constructor can't be an async method")):n.static&&rm(n,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var o=n.value=this.parseMethod(t,r,i);return n.kind==="get"&&o.params.length!==0&&this.raiseRecoverable(o.start,"getter should have no params"),n.kind==="set"&&o.params.length!==1&&this.raiseRecoverable(o.start,"setter should have exactly one param"),n.kind==="set"&&o.params[0].type==="RestElement"&&this.raiseRecoverable(o.params[0].start,"Setter cannot use rest params"),this.finishNode(n,"MethodDefinition")};Et.parseClassField=function(n){return rm(n,"constructor")?this.raise(n.key.start,"Classes can't have a field named 'constructor'"):n.static&&rm(n,"prototype")&&this.raise(n.key.start,"Classes can't have a static field named 'prototype'"),this.eat(oe.eq)?(this.enterScope(If|_g),n.value=this.parseMaybeAssign(),this.exitScope()):n.value=null,this.semicolon(),this.finishNode(n,"PropertyDefinition")};Et.parseClassStaticBlock=function(n){n.body=[];var t=this.labels;for(this.labels=[],this.enterScope(su|_g);this.type!==oe.braceR;){var r=this.parseStatement(null);n.body.push(r)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(n,"StaticBlock")};Et.parseClassId=function(n,t){this.type===oe.name?(n.id=this.parseIdent(),t&&this.checkLValSimple(n.id,ra,!1)):(t===!0&&this.unexpected(),n.id=null)};Et.parseClassSuper=function(n){n.superClass=this.eat(oe._extends)?this.parseExprSubscripts(null,!1):null};Et.enterClassBody=function(){var n={declared:Object.create(null),used:[]};return this.privateNameStack.push(n),n.declared};Et.exitClassBody=function(){var n=this.privateNameStack.pop(),t=n.declared,r=n.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,s=i===0?null:this.privateNameStack[i-1],o=0;o<r.length;++o){var a=r[o];Sc(t,a.name)||(s?s.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}};function one(n,t){var r=t.key.name,i=n[r],s="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(s=(t.static?"s":"i")+t.kind),i==="iget"&&s==="iset"||i==="iset"&&s==="iget"||i==="sget"&&s==="sset"||i==="sset"&&s==="sget"?(n[r]="true",!1):i?!0:(n[r]=s,!1)}function rm(n,t){var r=n.computed,i=n.key;return!r&&(i.type==="Identifier"&&i.name===t||i.type==="Literal"&&i.value===t)}Et.parseExportAllDeclaration=function(n,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(n.exported=this.parseModuleExportName(),this.checkExport(t,n.exported,this.lastTokStart)):n.exported=null),this.expectContextual("from"),this.type!==oe.string&&this.unexpected(),n.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(n,"ExportAllDeclaration")};Et.parseExport=function(n,t){if(this.next(),this.eat(oe.star))return this.parseExportAllDeclaration(n,t);if(this.eat(oe._default))return this.checkExport(t,"default",this.lastTokStart),n.declaration=this.parseExportDefaultDeclaration(),this.finishNode(n,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())n.declaration=this.parseExportDeclaration(n),n.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,n.declaration.declarations):this.checkExport(t,n.declaration.id,n.declaration.id.start),n.specifiers=[],n.source=null,this.options.ecmaVersion>=16&&(n.attributes=[]);else{if(n.declaration=null,n.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==oe.string&&this.unexpected(),n.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause());else{for(var r=0,i=n.specifiers;r<i.length;r+=1){var s=i[r];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type==="Literal"&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}n.source=null,this.options.ecmaVersion>=16&&(n.attributes=[])}this.semicolon()}return this.finishNode(n,"ExportNamedDeclaration")};Et.parseExportDeclaration=function(n){return this.parseStatement(null)};Et.parseExportDefaultDeclaration=function(){var n;if(this.type===oe._function||(n=this.isAsyncFunction())){var t=this.startNode();return this.next(),n&&this.next(),this.parseFunction(t,xh|hk,!1,n)}else if(this.type===oe._class){var r=this.startNode();return this.parseClass(r,"nullableID")}else{var i=this.parseMaybeAssign();return this.semicolon(),i}};Et.checkExport=function(n,t,r){n&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),Sc(n,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),n[t]=!0)};Et.checkPatternExport=function(n,t){var r=t.type;if(r==="Identifier")this.checkExport(n,t,t.start);else if(r==="ObjectPattern")for(var i=0,s=t.properties;i<s.length;i+=1){var o=s[i];this.checkPatternExport(n,o)}else if(r==="ArrayPattern")for(var a=0,l=t.elements;a<l.length;a+=1){var u=l[a];u&&this.checkPatternExport(n,u)}else r==="Property"?this.checkPatternExport(n,t.value):r==="AssignmentPattern"?this.checkPatternExport(n,t.left):r==="RestElement"&&this.checkPatternExport(n,t.argument)};Et.checkVariableExport=function(n,t){if(n)for(var r=0,i=t;r<i.length;r+=1){var s=i[r];this.checkPatternExport(n,s.id)}};Et.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Et.parseExportSpecifier=function(n){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(n,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};Et.parseExportSpecifiers=function(n){var t=[],r=!0;for(this.expect(oe.braceL);!this.eat(oe.braceR);){if(r)r=!1;else if(this.expect(oe.comma),this.afterTrailingComma(oe.braceR))break;t.push(this.parseExportSpecifier(n))}return t};Et.parseImport=function(n){return this.next(),this.type===oe.string?(n.specifiers=sne,n.source=this.parseExprAtom()):(n.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),n.source=this.type===oe.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(n,"ImportDeclaration")};Et.parseImportSpecifier=function(){var n=this.startNode();return n.imported=this.parseModuleExportName(),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLValSimple(n.local,ra),this.finishNode(n,"ImportSpecifier")};Et.parseImportDefaultSpecifier=function(){var n=this.startNode();return n.local=this.parseIdent(),this.checkLValSimple(n.local,ra),this.finishNode(n,"ImportDefaultSpecifier")};Et.parseImportNamespaceSpecifier=function(){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLValSimple(n.local,ra),this.finishNode(n,"ImportNamespaceSpecifier")};Et.parseImportSpecifiers=function(){var n=[],t=!0;if(this.type===oe.name&&(n.push(this.parseImportDefaultSpecifier()),!this.eat(oe.comma)))return n;if(this.type===oe.star)return n.push(this.parseImportNamespaceSpecifier()),n;for(this.expect(oe.braceL);!this.eat(oe.braceR);){if(t)t=!1;else if(this.expect(oe.comma),this.afterTrailingComma(oe.braceR))break;n.push(this.parseImportSpecifier())}return n};Et.parseWithClause=function(){var n=[];if(!this.eat(oe._with))return n;this.expect(oe.braceL);for(var t={},r=!0;!this.eat(oe.braceR);){if(r)r=!1;else if(this.expect(oe.comma),this.afterTrailingComma(oe.braceR))break;var i=this.parseImportAttribute(),s=i.key.type==="Identifier"?i.key.name:i.key.value;Sc(t,s)&&this.raiseRecoverable(i.key.start,"Duplicate attribute key '"+s+"'"),t[s]=!0,n.push(i)}return n};Et.parseImportAttribute=function(){var n=this.startNode();return n.key=this.type===oe.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(oe.colon),this.type!==oe.string&&this.unexpected(),n.value=this.parseExprAtom(),this.finishNode(n,"ImportAttribute")};Et.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===oe.string){var n=this.parseLiteral(this.value);return ene.test(n.value)&&this.raise(n.start,"An export name cannot include a lone surrogate."),n}return this.parseIdent(!0)};Et.adaptDirectivePrologue=function(n){for(var t=0;t<n.length&&this.isDirectiveCandidate(n[t]);++t)n[t].directive=n[t].expression.raw.slice(1,-1)};Et.isDirectiveCandidate=function(n){return this.options.ecmaVersion>=5&&n.type==="ExpressionStatement"&&n.expression.type==="Literal"&&typeof n.expression.value=="string"&&(this.input[n.start]==='"'||this.input[n.start]==="'")};var Fs=Br.prototype;Fs.toAssignable=function(n,t,r){if(this.options.ecmaVersion>=6&&n)switch(n.type){case"Identifier":this.inAsync&&n.name==="await"&&this.raise(n.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":n.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];this.toAssignable(o,t),o.type==="RestElement"&&(o.argument.type==="ArrayPattern"||o.argument.type==="ObjectPattern")&&this.raise(o.argument.start,"Unexpected token")}break;case"Property":n.kind!=="init"&&this.raise(n.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(n.value,t);break;case"ArrayExpression":n.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(n.elements,t);break;case"SpreadElement":n.type="RestElement",this.toAssignable(n.argument,t),n.argument.type==="AssignmentPattern"&&this.raise(n.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":n.operator!=="="&&this.raise(n.left.end,"Only '=' operator can be used for specifying default value."),n.type="AssignmentPattern",delete n.operator,this.toAssignable(n.left,t);break;case"ParenthesizedExpression":this.toAssignable(n.expression,t,r);break;case"ChainExpression":this.raiseRecoverable(n.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(n.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return n};Fs.toAssignableList=function(n,t){for(var r=n.length,i=0;i<r;i++){var s=n[i];s&&this.toAssignable(s,t)}if(r){var o=n[r-1];this.options.ecmaVersion===6&&t&&o&&o.type==="RestElement"&&o.argument.type!=="Identifier"&&this.unexpected(o.argument.start)}return n};Fs.parseSpread=function(n){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,n),this.finishNode(t,"SpreadElement")};Fs.parseRestBinding=function(){var n=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==oe.name&&this.unexpected(),n.argument=this.parseBindingAtom(),this.finishNode(n,"RestElement")};Fs.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case oe.bracketL:var n=this.startNode();return this.next(),n.elements=this.parseBindingList(oe.bracketR,!0,!0),this.finishNode(n,"ArrayPattern");case oe.braceL:return this.parseObj(!0)}return this.parseIdent()};Fs.parseBindingList=function(n,t,r,i){for(var s=[],o=!0;!this.eat(n);)if(o?o=!1:this.expect(oe.comma),t&&this.type===oe.comma)s.push(null);else{if(r&&this.afterTrailingComma(n))break;if(this.type===oe.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),s.push(a),this.type===oe.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(n);break}else s.push(this.parseAssignableListItem(i))}return s};Fs.parseAssignableListItem=function(n){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Fs.parseBindingListItem=function(n){return n};Fs.parseMaybeDefault=function(n,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(oe.eq))return r;var i=this.startNodeAt(n,t);return i.left=r,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")};Fs.checkLValSimple=function(n,t,r){t===void 0&&(t=nm);var i=t!==nm;switch(n.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(n.name)&&this.raiseRecoverable(n.start,(i?"Binding ":"Assigning to ")+n.name+" in strict mode"),i&&(t===ra&&n.name==="let"&&this.raiseRecoverable(n.start,"let is disallowed as a lexically bound name"),r&&(Sc(r,n.name)&&this.raiseRecoverable(n.start,"Argument name clash"),r[n.name]=!0),t!==ck&&this.declareName(n.name,t,n.start));break;case"ChainExpression":this.raiseRecoverable(n.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(n.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(n.start,"Binding parenthesized expression"),this.checkLValSimple(n.expression,t,r);default:this.raise(n.start,(i?"Binding":"Assigning to")+" rvalue")}};Fs.checkLValPattern=function(n,t,r){switch(t===void 0&&(t=nm),n.type){case"ObjectPattern":for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];this.checkLValInnerPattern(o,t,r)}break;case"ArrayPattern":for(var a=0,l=n.elements;a<l.length;a+=1){var u=l[a];u&&this.checkLValInnerPattern(u,t,r)}break;default:this.checkLValSimple(n,t,r)}};Fs.checkLValInnerPattern=function(n,t,r){switch(t===void 0&&(t=nm),n.type){case"Property":this.checkLValInnerPattern(n.value,t,r);break;case"AssignmentPattern":this.checkLValPattern(n.left,t,r);break;case"RestElement":this.checkLValPattern(n.argument,t,r);break;default:this.checkLValPattern(n,t,r)}};var Bs=function(t,r,i,s,o){this.token=t,this.isExpr=!!r,this.preserveSpace=!!i,this.override=s,this.generator=!!o},rr={b_stat:new Bs("{",!1),b_expr:new Bs("{",!0),b_tmpl:new Bs("${",!1),p_stat:new Bs("(",!1),p_expr:new Bs("(",!0),q_tmpl:new Bs("`",!0,!0,function(n){return n.tryReadTemplateToken()}),f_stat:new Bs("function",!1),f_expr:new Bs("function",!0),f_expr_gen:new Bs("function",!0,!1,null,!0),f_gen:new Bs("function",!1,!1,null,!0)},Ac=Br.prototype;Ac.initialContext=function(){return[rr.b_stat]};Ac.curContext=function(){return this.context[this.context.length-1]};Ac.braceIsBlock=function(n){var t=this.curContext();return t===rr.f_expr||t===rr.f_stat?!0:n===oe.colon&&(t===rr.b_stat||t===rr.b_expr)?!t.isExpr:n===oe._return||n===oe.name&&this.exprAllowed?Ki.test(this.input.slice(this.lastTokEnd,this.start)):n===oe._else||n===oe.semi||n===oe.eof||n===oe.parenR||n===oe.arrow?!0:n===oe.braceL?t===rr.b_stat:n===oe._var||n===oe._const||n===oe.name?!1:!this.exprAllowed};Ac.inGeneratorContext=function(){for(var n=this.context.length-1;n>=1;n--){var t=this.context[n];if(t.token==="function")return t.generator}return!1};Ac.updateContext=function(n){var t,r=this.type;r.keyword&&n===oe.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,n):this.exprAllowed=r.beforeExpr};Ac.overrideContext=function(n){this.curContext()!==n&&(this.context[this.context.length-1]=n)};oe.parenR.updateContext=oe.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var n=this.context.pop();n===rr.b_stat&&this.curContext().token==="function"&&(n=this.context.pop()),this.exprAllowed=!n.isExpr};oe.braceL.updateContext=function(n){this.context.push(this.braceIsBlock(n)?rr.b_stat:rr.b_expr),this.exprAllowed=!0};oe.dollarBraceL.updateContext=function(){this.context.push(rr.b_tmpl),this.exprAllowed=!0};oe.parenL.updateContext=function(n){var t=n===oe._if||n===oe._for||n===oe._with||n===oe._while;this.context.push(t?rr.p_stat:rr.p_expr),this.exprAllowed=!0};oe.incDec.updateContext=function(){};oe._function.updateContext=oe._class.updateContext=function(n){n.beforeExpr&&n!==oe._else&&!(n===oe.semi&&this.curContext()!==rr.p_stat)&&!(n===oe._return&&Ki.test(this.input.slice(this.lastTokEnd,this.start)))&&!((n===oe.colon||n===oe.braceL)&&this.curContext()===rr.b_stat)?this.context.push(rr.f_expr):this.context.push(rr.f_stat),this.exprAllowed=!1};oe.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};oe.backQuote.updateContext=function(){this.curContext()===rr.q_tmpl?this.context.pop():this.context.push(rr.q_tmpl),this.exprAllowed=!1};oe.star.updateContext=function(n){if(n===oe._function){var t=this.context.length-1;this.context[t]===rr.f_expr?this.context[t]=rr.f_expr_gen:this.context[t]=rr.f_gen}this.exprAllowed=!0};oe.name.updateContext=function(n){var t=!1;this.options.ecmaVersion>=6&&n!==oe.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var $t=Br.prototype;$t.checkPropClash=function(n,t,r){if(!(this.options.ecmaVersion>=9&&n.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(n.computed||n.method||n.shorthand))){var i=n.key,s;switch(i.type){case"Identifier":s=i.name;break;case"Literal":s=String(i.value);break;default:return}var o=n.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&o==="init"&&(t.proto&&(r?r.doubleProto<0&&(r.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);return}s="$"+s;var a=t[s];if(a){var l;o==="init"?l=this.strict&&a.init||a.get||a.set:l=a.init||a[o],l&&this.raiseRecoverable(i.start,"Redefinition of property")}else a=t[s]={init:!1,get:!1,set:!1};a[o]=!0}};$t.parseExpression=function(n,t){var r=this.start,i=this.startLoc,s=this.parseMaybeAssign(n,t);if(this.type===oe.comma){var o=this.startNodeAt(r,i);for(o.expressions=[s];this.eat(oe.comma);)o.expressions.push(this.parseMaybeAssign(n,t));return this.finishNode(o,"SequenceExpression")}return s};$t.parseMaybeAssign=function(n,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(n);this.exprAllowed=!1}var i=!1,s=-1,o=-1,a=-1;t?(s=t.parenthesizedAssign,o=t.trailingComma,a=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new Eg,i=!0);var l=this.start,u=this.startLoc;(this.type===oe.parenL||this.type===oe.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=n==="await");var h=this.parseMaybeConditional(n,t);if(r&&(h=r.call(this,h,l,u)),this.type.isAssign){var c=this.startNodeAt(l,u);return c.operator=this.value,this.type===oe.eq&&(h=this.toAssignable(h,!1,t)),i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=h.start&&(t.shorthandAssign=-1),this.type===oe.eq?this.checkLValPattern(h):this.checkLValSimple(h),c.left=h,this.next(),c.right=this.parseMaybeAssign(n),a>-1&&(t.doubleProto=a),this.finishNode(c,"AssignmentExpression")}else i&&this.checkExpressionErrors(t,!0);return s>-1&&(t.parenthesizedAssign=s),o>-1&&(t.trailingComma=o),h};$t.parseMaybeConditional=function(n,t){var r=this.start,i=this.startLoc,s=this.parseExprOps(n,t);if(this.checkExpressionErrors(t))return s;if(this.eat(oe.question)){var o=this.startNodeAt(r,i);return o.test=s,o.consequent=this.parseMaybeAssign(),this.expect(oe.colon),o.alternate=this.parseMaybeAssign(n),this.finishNode(o,"ConditionalExpression")}return s};$t.parseExprOps=function(n,t){var r=this.start,i=this.startLoc,s=this.parseMaybeUnary(t,!1,!1,n);return this.checkExpressionErrors(t)||s.start===r&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,r,i,-1,n)};$t.parseExprOp=function(n,t,r,i,s){var o=this.type.binop;if(o!=null&&(!s||this.type!==oe._in)&&o>i){var a=this.type===oe.logicalOR||this.type===oe.logicalAND,l=this.type===oe.coalesce;l&&(o=oe.logicalAND.binop);var u=this.value;this.next();var h=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),h,c,o,s),d=this.buildBinary(t,r,n,f,u,a||l);return(a&&this.type===oe.coalesce||l&&(this.type===oe.logicalOR||this.type===oe.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,r,i,s)}return n};$t.buildBinary=function(n,t,r,i,s,o){i.type==="PrivateIdentifier"&&this.raise(i.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(n,t);return a.left=r,a.operator=s,a.right=i,this.finishNode(a,o?"LogicalExpression":"BinaryExpression")};$t.parseMaybeUnary=function(n,t,r,i){var s=this.start,o=this.startLoc,a;if(this.isContextual("await")&&this.canAwait)a=this.parseAwait(i),t=!0;else if(this.type.prefix){var l=this.startNode(),u=this.type===oe.incDec;l.operator=this.value,l.prefix=!0,this.next(),l.argument=this.parseMaybeUnary(null,!0,u,i),this.checkExpressionErrors(n,!0),u?this.checkLValSimple(l.argument):this.strict&&l.operator==="delete"&&fk(l.argument)?this.raiseRecoverable(l.start,"Deleting local variable in strict mode"):l.operator==="delete"&&Jy(l.argument)?this.raiseRecoverable(l.start,"Private fields can not be deleted"):t=!0,a=this.finishNode(l,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===oe.privateId)(i||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),a=this.parsePrivateIdent(),this.type!==oe._in&&this.unexpected();else{if(a=this.parseExprSubscripts(n,i),this.checkExpressionErrors(n))return a;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(s,o);h.operator=this.value,h.prefix=!1,h.argument=a,this.checkLValSimple(a),this.next(),a=this.finishNode(h,"UpdateExpression")}}if(!r&&this.eat(oe.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(s,o,a,this.parseMaybeUnary(null,!1,!1,i),"**",!1);else return a};function fk(n){return n.type==="Identifier"||n.type==="ParenthesizedExpression"&&fk(n.expression)}function Jy(n){return n.type==="MemberExpression"&&n.property.type==="PrivateIdentifier"||n.type==="ChainExpression"&&Jy(n.expression)||n.type==="ParenthesizedExpression"&&Jy(n.expression)}$t.parseExprSubscripts=function(n,t){var r=this.start,i=this.startLoc,s=this.parseExprAtom(n,t);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var o=this.parseSubscripts(s,r,i,!1,t);return n&&o.type==="MemberExpression"&&(n.parenthesizedAssign>=o.start&&(n.parenthesizedAssign=-1),n.parenthesizedBind>=o.start&&(n.parenthesizedBind=-1),n.trailingComma>=o.start&&(n.trailingComma=-1)),o};$t.parseSubscripts=function(n,t,r,i,s){for(var o=this.options.ecmaVersion>=8&&n.type==="Identifier"&&n.name==="async"&&this.lastTokEnd===n.end&&!this.canInsertSemicolon()&&n.end-n.start===5&&this.potentialArrowAt===n.start,a=!1;;){var l=this.parseSubscript(n,t,r,i,o,a,s);if(l.optional&&(a=!0),l===n||l.type==="ArrowFunctionExpression"){if(a){var u=this.startNodeAt(t,r);u.expression=l,l=this.finishNode(u,"ChainExpression")}return l}n=l}};$t.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(oe.arrow)};$t.parseSubscriptAsyncArrow=function(n,t,r,i){return this.parseArrowExpression(this.startNodeAt(n,t),r,!0,i)};$t.parseSubscript=function(n,t,r,i,s,o,a){var l=this.options.ecmaVersion>=11,u=l&&this.eat(oe.questionDot);i&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(oe.bracketL);if(h||u&&this.type!==oe.parenL&&this.type!==oe.backQuote||this.eat(oe.dot)){var c=this.startNodeAt(t,r);c.object=n,h?(c.property=this.parseExpression(),this.expect(oe.bracketR)):this.type===oe.privateId&&n.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!h,l&&(c.optional=u),n=this.finishNode(c,"MemberExpression")}else if(!i&&this.eat(oe.parenL)){var f=new Eg,d=this.yieldPos,p=this.awaitPos,m=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(oe.parenR,this.options.ecmaVersion>=8,!1,f);if(s&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=p,this.awaitIdentPos=m,this.parseSubscriptAsyncArrow(t,r,g,a);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=m||this.awaitIdentPos;var v=this.startNodeAt(t,r);v.callee=n,v.arguments=g,l&&(v.optional=u),n=this.finishNode(v,"CallExpression")}else if(this.type===oe.backQuote){(u||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var E=this.startNodeAt(t,r);E.tag=n,E.quasi=this.parseTemplate({isTagged:!0}),n=this.finishNode(E,"TaggedTemplateExpression")}return n};$t.parseExprAtom=function(n,t,r){this.type===oe.slash&&this.readRegexp();var i,s=this.potentialArrowAt===this.start;switch(this.type){case oe._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===oe.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==oe.dot&&this.type!==oe.bracketL&&this.type!==oe.parenL&&this.unexpected(),this.finishNode(i,"Super");case oe._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case oe.name:var o=this.start,a=this.startLoc,l=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(oe._function))return this.overrideContext(rr.f_expr),this.parseFunction(this.startNodeAt(o,a),0,!1,!0,t);if(s&&!this.canInsertSemicolon()){if(this.eat(oe.arrow))return this.parseArrowExpression(this.startNodeAt(o,a),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===oe.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(oe.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(o,a),[u],!0,t)}return u;case oe.regexp:var h=this.value;return i=this.parseLiteral(h.value),i.regex={pattern:h.pattern,flags:h.flags},i;case oe.num:case oe.string:return this.parseLiteral(this.value);case oe._null:case oe._true:case oe._false:return i=this.startNode(),i.value=this.type===oe._null?null:this.type===oe._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case oe.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(s,t);return n&&(n.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(n.parenthesizedAssign=c),n.parenthesizedBind<0&&(n.parenthesizedBind=c)),f;case oe.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(oe.bracketR,!0,!0,n),this.finishNode(i,"ArrayExpression");case oe.braceL:return this.overrideContext(rr.b_expr),this.parseObj(!1,n);case oe._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case oe._class:return this.parseClass(this.startNode(),!1);case oe._new:return this.parseNew();case oe.backQuote:return this.parseTemplate();case oe._import:return this.options.ecmaVersion>=11?this.parseExprImport(r):this.unexpected();default:return this.parseExprAtomDefault()}};$t.parseExprAtomDefault=function(){this.unexpected()};$t.parseExprImport=function(n){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===oe.parenL&&!n)return this.parseDynamicImport(t);if(this.type===oe.dot){var r=this.startNodeAt(t.start,t.loc&&t.loc.start);return r.name="import",t.meta=this.finishNode(r,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};$t.parseDynamicImport=function(n){if(this.next(),n.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(oe.parenR)?n.options=null:(this.expect(oe.comma),this.afterTrailingComma(oe.parenR)?n.options=null:(n.options=this.parseMaybeAssign(),this.eat(oe.parenR)||(this.expect(oe.comma),this.afterTrailingComma(oe.parenR)||this.unexpected())));else if(!this.eat(oe.parenR)){var t=this.start;this.eat(oe.comma)&&this.eat(oe.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(n,"ImportExpression")};$t.parseImportMeta=function(n){this.next();var t=this.containsEsc;return n.property=this.parseIdent(!0),n.property.name!=="meta"&&this.raiseRecoverable(n.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(n.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(n.start,"Cannot use 'import.meta' outside a module"),this.finishNode(n,"MetaProperty")};$t.parseLiteral=function(n){var t=this.startNode();return t.value=n,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.value!=null?t.value.toString():t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};$t.parseParenExpression=function(){this.expect(oe.parenL);var n=this.parseExpression();return this.expect(oe.parenR),n};$t.shouldParseArrow=function(n){return!this.canInsertSemicolon()};$t.parseParenAndDistinguishExpression=function(n,t){var r=this.start,i=this.startLoc,s,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,l=this.startLoc,u=[],h=!0,c=!1,f=new Eg,d=this.yieldPos,p=this.awaitPos,m;for(this.yieldPos=0,this.awaitPos=0;this.type!==oe.parenR;)if(h?h=!1:this.expect(oe.comma),o&&this.afterTrailingComma(oe.parenR,!0)){c=!0;break}else if(this.type===oe.ellipsis){m=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===oe.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var g=this.lastTokEnd,v=this.lastTokEndLoc;if(this.expect(oe.parenR),n&&this.shouldParseArrow(u)&&this.eat(oe.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=p,this.parseParenArrowList(r,i,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),m&&this.unexpected(m),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,u.length>1?(s=this.startNodeAt(a,l),s.expressions=u,this.finishNodeAt(s,"SequenceExpression",g,v)):s=u[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var E=this.startNodeAt(r,i);return E.expression=s,this.finishNode(E,"ParenthesizedExpression")}else return s};$t.parseParenItem=function(n){return n};$t.parseParenArrowList=function(n,t,r,i){return this.parseArrowExpression(this.startNodeAt(n,t),r,!1,i)};var ane=[];$t.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var n=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===oe.dot){var t=this.startNodeAt(n.start,n.loc&&n.loc.start);t.name="new",n.meta=this.finishNode(t,"Identifier"),this.next();var r=this.containsEsc;return n.property=this.parseIdent(!0),n.property.name!=="target"&&this.raiseRecoverable(n.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(n.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(n.start,"'new.target' can only be used in functions and class static block"),this.finishNode(n,"MetaProperty")}var i=this.start,s=this.startLoc;return n.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,s,!0,!1),this.eat(oe.parenL)?n.arguments=this.parseExprList(oe.parenR,this.options.ecmaVersion>=8,!1):n.arguments=ane,this.finishNode(n,"NewExpression")};$t.parseTemplateElement=function(n){var t=n.isTagged,r=this.startNode();return this.type===oe.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),r.tail=this.type===oe.backQuote,this.finishNode(r,"TemplateElement")};$t.parseTemplate=function(n){n===void 0&&(n={});var t=n.isTagged;t===void 0&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(r.quasis=[i];!i.tail;)this.type===oe.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(oe.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(oe.braceR),r.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")};$t.isAsyncProp=function(n){return!n.computed&&n.key.type==="Identifier"&&n.key.name==="async"&&(this.type===oe.name||this.type===oe.num||this.type===oe.string||this.type===oe.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===oe.star)&&!Ki.test(this.input.slice(this.lastTokEnd,this.start))};$t.parseObj=function(n,t){var r=this.startNode(),i=!0,s={};for(r.properties=[],this.next();!this.eat(oe.braceR);){if(i)i=!1;else if(this.expect(oe.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(oe.braceR))break;var o=this.parseProperty(n,t);n||this.checkPropClash(o,s,t),r.properties.push(o)}return this.finishNode(r,n?"ObjectPattern":"ObjectExpression")};$t.parseProperty=function(n,t){var r=this.startNode(),i,s,o,a;if(this.options.ecmaVersion>=9&&this.eat(oe.ellipsis))return n?(r.argument=this.parseIdent(!1),this.type===oe.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(r.argument=this.parseMaybeAssign(!1,t),this.type===oe.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(n||t)&&(o=this.start,a=this.startLoc),n||(i=this.eat(oe.star)));var l=this.containsEsc;return this.parsePropertyName(r),!n&&!l&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(r)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(oe.star),this.parsePropertyName(r)):s=!1,this.parsePropertyValue(r,n,i,s,o,a,t,l),this.finishNode(r,"Property")};$t.parseGetterSetter=function(n){var t=n.key.name;this.parsePropertyName(n),n.value=this.parseMethod(!1),n.kind=t;var r=n.kind==="get"?0:1;if(n.value.params.length!==r){var i=n.value.start;n.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else n.kind==="set"&&n.value.params[0].type==="RestElement"&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params")};$t.parsePropertyValue=function(n,t,r,i,s,o,a,l){(r||i)&&this.type===oe.colon&&this.unexpected(),this.eat(oe.colon)?(n.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),n.kind="init"):this.options.ecmaVersion>=6&&this.type===oe.parenL?(t&&this.unexpected(),n.method=!0,n.value=this.parseMethod(r,i),n.kind="init"):!t&&!l&&this.options.ecmaVersion>=5&&!n.computed&&n.key.type==="Identifier"&&(n.key.name==="get"||n.key.name==="set")&&this.type!==oe.comma&&this.type!==oe.braceR&&this.type!==oe.eq?((r||i)&&this.unexpected(),this.parseGetterSetter(n)):this.options.ecmaVersion>=6&&!n.computed&&n.key.type==="Identifier"?((r||i)&&this.unexpected(),this.checkUnreserved(n.key),n.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t?n.value=this.parseMaybeDefault(s,o,this.copyNode(n.key)):this.type===oe.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),n.value=this.parseMaybeDefault(s,o,this.copyNode(n.key))):n.value=this.copyNode(n.key),n.kind="init",n.shorthand=!0):this.unexpected()};$t.parsePropertyName=function(n){if(this.options.ecmaVersion>=6){if(this.eat(oe.bracketL))return n.computed=!0,n.key=this.parseMaybeAssign(),this.expect(oe.bracketR),n.key;n.computed=!1}return n.key=this.type===oe.num||this.type===oe.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};$t.initFunction=function(n){n.id=null,this.options.ecmaVersion>=6&&(n.generator=n.expression=!1),this.options.ecmaVersion>=8&&(n.async=!1)};$t.parseMethod=function(n,t,r){var i=this.startNode(),s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=n),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(bx(t,i.generator)|_g|(r?ak:0)),this.expect(oe.parenL),i.params=this.parseBindingList(oe.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(i,"FunctionExpression")};$t.parseArrowExpression=function(n,t,r,i){var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(bx(r,!1)|yx),this.initFunction(n),this.options.ecmaVersion>=8&&(n.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,n.params=this.toAssignableList(t,!0),this.parseFunctionBody(n,!0,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(n,"ArrowFunctionExpression")};$t.parseFunctionBody=function(n,t,r,i){var s=t&&this.type!==oe.braceL,o=this.strict,a=!1;if(s)n.body=this.parseMaybeAssign(i),n.expression=!0,this.checkParams(n,!1);else{var l=this.options.ecmaVersion>=7&&!this.isSimpleParamList(n.params);(!o||l)&&(a=this.strictDirective(this.end),a&&l&&this.raiseRecoverable(n.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(n,!o&&!a&&!t&&!r&&this.isSimpleParamList(n.params)),this.strict&&n.id&&this.checkLValSimple(n.id,ck),n.body=this.parseBlock(!1,void 0,a&&!o),n.expression=!1,this.adaptDirectivePrologue(n.body.body),this.labels=u}this.exitScope()};$t.isSimpleParamList=function(n){for(var t=0,r=n;t<r.length;t+=1){var i=r[t];if(i.type!=="Identifier")return!1}return!0};$t.checkParams=function(n,t){for(var r=Object.create(null),i=0,s=n.params;i<s.length;i+=1){var o=s[i];this.checkLValInnerPattern(o,xx,t?null:r)}};$t.parseExprList=function(n,t,r,i){for(var s=[],o=!0;!this.eat(n);){if(o)o=!1;else if(this.expect(oe.comma),t&&this.afterTrailingComma(n))break;var a=void 0;r&&this.type===oe.comma?a=null:this.type===oe.ellipsis?(a=this.parseSpread(i),i&&this.type===oe.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),s.push(a)}return s};$t.checkUnreserved=function(n){var t=n.start,r=n.end,i=n.name;if(this.inGenerator&&i==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&wg)&&i==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(i==="arguments"||i==="await")&&this.raise(t,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,r).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(i)&&(!this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))}};$t.parseIdent=function(n){var t=this.parseIdentNode();return this.next(!!n),this.finishNode(t,"Identifier"),n||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};$t.parseIdentNode=function(){var n=this.startNode();return this.type===oe.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,(n.name==="class"||n.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=oe.name):this.unexpected(),n};$t.parsePrivateIdent=function(){var n=this.startNode();return this.type===oe.privateId?n.name=this.value:this.unexpected(),this.next(),this.finishNode(n,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(n.start,"Private field '#"+n.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(n)),n};$t.parseYield=function(n){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===oe.semi||this.canInsertSemicolon()||this.type!==oe.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(oe.star),t.argument=this.parseMaybeAssign(n)),this.finishNode(t,"YieldExpression")};$t.parseAwait=function(n){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,n),this.finishNode(t,"AwaitExpression")};var im=Br.prototype;im.raise=function(n,t){var r=ik(this.input,n);t+=" ("+r.line+":"+r.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var i=new SyntaxError(t);throw i.pos=n,i.loc=r,i.raisedAt=this.pos,i};im.raiseRecoverable=im.raise;im.curPosition=function(){if(this.options.locations)return new rf(this.curLine,this.pos-this.lineStart)};var ja=Br.prototype,lne=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};ja.enterScope=function(n){this.scopeStack.push(new lne(n))};ja.exitScope=function(){this.scopeStack.pop()};ja.treatFunctionsAsVarInScope=function(n){return n.flags&Cc||!this.inModule&&n.flags&sf};ja.declareName=function(n,t,r){var i=!1;if(t===ra){var s=this.currentScope();i=s.lexical.indexOf(n)>-1||s.functions.indexOf(n)>-1||s.var.indexOf(n)>-1,s.lexical.push(n),this.inModule&&s.flags&sf&&delete this.undefinedExports[n]}else if(t===uk){var o=this.currentScope();o.lexical.push(n)}else if(t===lk){var a=this.currentScope();this.treatFunctionsAsVar?i=a.lexical.indexOf(n)>-1:i=a.lexical.indexOf(n)>-1||a.var.indexOf(n)>-1,a.functions.push(n)}else for(var l=this.scopeStack.length-1;l>=0;--l){var u=this.scopeStack[l];if(u.lexical.indexOf(n)>-1&&!(u.flags&ok&&u.lexical[0]===n)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(n)>-1){i=!0;break}if(u.var.push(n),this.inModule&&u.flags&sf&&delete this.undefinedExports[n],u.flags&wg)break}i&&this.raiseRecoverable(r,"Identifier '"+n+"' has already been declared")};ja.checkLocalExport=function(n){this.scopeStack[0].lexical.indexOf(n.name)===-1&&this.scopeStack[0].var.indexOf(n.name)===-1&&(this.undefinedExports[n.name]=n)};ja.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};ja.currentVarScope=function(){for(var n=this.scopeStack.length-1;;n--){var t=this.scopeStack[n];if(t.flags&(wg|If|su))return t}};ja.currentThisScope=function(){for(var n=this.scopeStack.length-1;;n--){var t=this.scopeStack[n];if(t.flags&(wg|If|su)&&!(t.flags&yx))return t}};var Sg=function(t,r,i){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new xg(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},Df=Br.prototype;Df.startNode=function(){return new Sg(this,this.start,this.startLoc)};Df.startNodeAt=function(n,t){return new Sg(this,n,t)};function dk(n,t,r,i){return n.type=t,n.end=r,this.options.locations&&(n.loc.end=i),this.options.ranges&&(n.range[1]=r),n}Df.finishNode=function(n,t){return dk.call(this,n,t,this.lastTokEnd,this.lastTokEndLoc)};Df.finishNodeAt=function(n,t,r,i){return dk.call(this,n,t,r,i)};Df.copyNode=function(n){var t=new Sg(this,n.start,this.startLoc);for(var r in n)t[r]=n[r];return t};var une="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",pk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",mk=pk+" Extended_Pictographic",gk=mk,vk=gk+" EBase EComp EMod EPres ExtPict",yk=vk,cne=yk,hne={9:pk,10:mk,11:gk,12:vk,13:yk,14:cne},fne="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",dne={9:"",10:"",11:"",12:"",13:"",14:fne},$S="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",bk="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",xk=bk+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",_k=xk+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",wk=_k+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Ek=wk+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",pne=Ek+" "+une,mne={9:bk,10:xk,11:_k,12:wk,13:Ek,14:pne},Sk={};function gne(n){var t=Sk[n]={binary:Aa(hne[n]+" "+$S),binaryOfStrings:Aa(dne[n]),nonBinary:{General_Category:Aa($S),Script:Aa(mne[n])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var rv=0,jS=[9,10,11,12,13,14];rv<jS.length;rv+=1){var vne=jS[rv];gne(vne)}var _t=Br.prototype,sm=function(t,r){this.parent=t,this.base=r||this};sm.prototype.separatedFrom=function(t){for(var r=this;r;r=r.parent)for(var i=t;i;i=i.parent)if(r.base===i.base&&r!==i)return!0;return!1};sm.prototype.sibling=function(){return new sm(this.parent,this.base)};var bo=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Sk[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};bo.prototype.reset=function(t,r,i){var s=i.indexOf("v")!==-1,o=i.indexOf("u")!==-1;this.start=t|0,this.source=r+"",this.flags=i,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=o&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=o&&this.parser.options.ecmaVersion>=9)};bo.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};bo.prototype.at=function(t,r){r===void 0&&(r=!1);var i=this.source,s=i.length;if(t>=s)return-1;var o=i.charCodeAt(t);if(!(r||this.switchU)||o<=55295||o>=57344||t+1>=s)return o;var a=i.charCodeAt(t+1);return a>=56320&&a<=57343?(o<<10)+a-56613888:o};bo.prototype.nextIndex=function(t,r){r===void 0&&(r=!1);var i=this.source,s=i.length;if(t>=s)return s;var o=i.charCodeAt(t),a;return!(r||this.switchU)||o<=55295||o>=57344||t+1>=s||(a=i.charCodeAt(t+1))<56320||a>57343?t+1:t+2};bo.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};bo.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};bo.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};bo.prototype.eat=function(t,r){return r===void 0&&(r=!1),this.current(r)===t?(this.advance(r),!0):!1};bo.prototype.eatChars=function(t,r){r===void 0&&(r=!1);for(var i=this.pos,s=0,o=t;s<o.length;s+=1){var a=o[s],l=this.at(i,r);if(l===-1||l!==a)return!1;i=this.nextIndex(i,r)}return this.pos=i,!0};_t.validateRegExpFlags=function(n){for(var t=n.validFlags,r=n.flags,i=!1,s=!1,o=0;o<r.length;o++){var a=r.charAt(o);t.indexOf(a)===-1&&this.raise(n.start,"Invalid regular expression flag"),r.indexOf(a,o+1)>-1&&this.raise(n.start,"Duplicate regular expression flag"),a==="u"&&(i=!0),a==="v"&&(s=!0)}this.options.ecmaVersion>=15&&i&&s&&this.raise(n.start,"Invalid regular expression flag")};function yne(n){for(var t in n)return!0;return!1}_t.validateRegExpPattern=function(n){this.regexp_pattern(n),!n.switchN&&this.options.ecmaVersion>=9&&yne(n.groupNames)&&(n.switchN=!0,this.regexp_pattern(n))};_t.regexp_pattern=function(n){n.pos=0,n.lastIntValue=0,n.lastStringValue="",n.lastAssertionIsQuantifiable=!1,n.numCapturingParens=0,n.maxBackReference=0,n.groupNames=Object.create(null),n.backReferenceNames.length=0,n.branchID=null,this.regexp_disjunction(n),n.pos!==n.source.length&&(n.eat(41)&&n.raise("Unmatched ')'"),(n.eat(93)||n.eat(125))&&n.raise("Lone quantifier brackets")),n.maxBackReference>n.numCapturingParens&&n.raise("Invalid escape");for(var t=0,r=n.backReferenceNames;t<r.length;t+=1){var i=r[t];n.groupNames[i]||n.raise("Invalid named capture referenced")}};_t.regexp_disjunction=function(n){var t=this.options.ecmaVersion>=16;for(t&&(n.branchID=new sm(n.branchID,null)),this.regexp_alternative(n);n.eat(124);)t&&(n.branchID=n.branchID.sibling()),this.regexp_alternative(n);t&&(n.branchID=n.branchID.parent),this.regexp_eatQuantifier(n,!0)&&n.raise("Nothing to repeat"),n.eat(123)&&n.raise("Lone quantifier brackets")};_t.regexp_alternative=function(n){for(;n.pos<n.source.length&&this.regexp_eatTerm(n););};_t.regexp_eatTerm=function(n){return this.regexp_eatAssertion(n)?(n.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(n)&&n.switchU&&n.raise("Invalid quantifier"),!0):(n.switchU?this.regexp_eatAtom(n):this.regexp_eatExtendedAtom(n))?(this.regexp_eatQuantifier(n),!0):!1};_t.regexp_eatAssertion=function(n){var t=n.pos;if(n.lastAssertionIsQuantifiable=!1,n.eat(94)||n.eat(36))return!0;if(n.eat(92)){if(n.eat(66)||n.eat(98))return!0;n.pos=t}if(n.eat(40)&&n.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=n.eat(60)),n.eat(61)||n.eat(33))return this.regexp_disjunction(n),n.eat(41)||n.raise("Unterminated group"),n.lastAssertionIsQuantifiable=!r,!0}return n.pos=t,!1};_t.regexp_eatQuantifier=function(n,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(n,t)?(n.eat(63),!0):!1};_t.regexp_eatQuantifierPrefix=function(n,t){return n.eat(42)||n.eat(43)||n.eat(63)||this.regexp_eatBracedQuantifier(n,t)};_t.regexp_eatBracedQuantifier=function(n,t){var r=n.pos;if(n.eat(123)){var i=0,s=-1;if(this.regexp_eatDecimalDigits(n)&&(i=n.lastIntValue,n.eat(44)&&this.regexp_eatDecimalDigits(n)&&(s=n.lastIntValue),n.eat(125)))return s!==-1&&s<i&&!t&&n.raise("numbers out of order in {} quantifier"),!0;n.switchU&&!t&&n.raise("Incomplete quantifier"),n.pos=r}return!1};_t.regexp_eatAtom=function(n){return this.regexp_eatPatternCharacters(n)||n.eat(46)||this.regexp_eatReverseSolidusAtomEscape(n)||this.regexp_eatCharacterClass(n)||this.regexp_eatUncapturingGroup(n)||this.regexp_eatCapturingGroup(n)};_t.regexp_eatReverseSolidusAtomEscape=function(n){var t=n.pos;if(n.eat(92)){if(this.regexp_eatAtomEscape(n))return!0;n.pos=t}return!1};_t.regexp_eatUncapturingGroup=function(n){var t=n.pos;if(n.eat(40)){if(n.eat(63)){if(this.options.ecmaVersion>=16){var r=this.regexp_eatModifiers(n),i=n.eat(45);if(r||i){for(var s=0;s<r.length;s++){var o=r.charAt(s);r.indexOf(o,s+1)>-1&&n.raise("Duplicate regular expression modifiers")}if(i){var a=this.regexp_eatModifiers(n);!r&&!a&&n.current()===58&&n.raise("Invalid regular expression modifiers");for(var l=0;l<a.length;l++){var u=a.charAt(l);(a.indexOf(u,l+1)>-1||r.indexOf(u)>-1)&&n.raise("Duplicate regular expression modifiers")}}}}if(n.eat(58)){if(this.regexp_disjunction(n),n.eat(41))return!0;n.raise("Unterminated group")}}n.pos=t}return!1};_t.regexp_eatCapturingGroup=function(n){if(n.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(n):n.current()===63&&n.raise("Invalid group"),this.regexp_disjunction(n),n.eat(41))return n.numCapturingParens+=1,!0;n.raise("Unterminated group")}return!1};_t.regexp_eatModifiers=function(n){for(var t="",r=0;(r=n.current())!==-1&&bne(r);)t+=Jo(r),n.advance();return t};function bne(n){return n===105||n===109||n===115}_t.regexp_eatExtendedAtom=function(n){return n.eat(46)||this.regexp_eatReverseSolidusAtomEscape(n)||this.regexp_eatCharacterClass(n)||this.regexp_eatUncapturingGroup(n)||this.regexp_eatCapturingGroup(n)||this.regexp_eatInvalidBracedQuantifier(n)||this.regexp_eatExtendedPatternCharacter(n)};_t.regexp_eatInvalidBracedQuantifier=function(n){return this.regexp_eatBracedQuantifier(n,!0)&&n.raise("Nothing to repeat"),!1};_t.regexp_eatSyntaxCharacter=function(n){var t=n.current();return Ck(t)?(n.lastIntValue=t,n.advance(),!0):!1};function Ck(n){return n===36||n>=40&&n<=43||n===46||n===63||n>=91&&n<=94||n>=123&&n<=125}_t.regexp_eatPatternCharacters=function(n){for(var t=n.pos,r=0;(r=n.current())!==-1&&!Ck(r);)n.advance();return n.pos!==t};_t.regexp_eatExtendedPatternCharacter=function(n){var t=n.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(n.advance(),!0):!1};_t.regexp_groupSpecifier=function(n){if(n.eat(63)){this.regexp_eatGroupName(n)||n.raise("Invalid group");var t=this.options.ecmaVersion>=16,r=n.groupNames[n.lastStringValue];if(r)if(t)for(var i=0,s=r;i<s.length;i+=1){var o=s[i];o.separatedFrom(n.branchID)||n.raise("Duplicate capture group name")}else n.raise("Duplicate capture group name");t?(r||(n.groupNames[n.lastStringValue]=[])).push(n.branchID):n.groupNames[n.lastStringValue]=!0}};_t.regexp_eatGroupName=function(n){if(n.lastStringValue="",n.eat(60)){if(this.regexp_eatRegExpIdentifierName(n)&&n.eat(62))return!0;n.raise("Invalid capture group name")}return!1};_t.regexp_eatRegExpIdentifierName=function(n){if(n.lastStringValue="",this.regexp_eatRegExpIdentifierStart(n)){for(n.lastStringValue+=Jo(n.lastIntValue);this.regexp_eatRegExpIdentifierPart(n);)n.lastStringValue+=Jo(n.lastIntValue);return!0}return!1};_t.regexp_eatRegExpIdentifierStart=function(n){var t=n.pos,r=this.options.ecmaVersion>=11,i=n.current(r);return n.advance(r),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(n,r)&&(i=n.lastIntValue),xne(i)?(n.lastIntValue=i,!0):(n.pos=t,!1)};function xne(n){return mo(n,!0)||n===36||n===95}_t.regexp_eatRegExpIdentifierPart=function(n){var t=n.pos,r=this.options.ecmaVersion>=11,i=n.current(r);return n.advance(r),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(n,r)&&(i=n.lastIntValue),_ne(i)?(n.lastIntValue=i,!0):(n.pos=t,!1)};function _ne(n){return Ra(n,!0)||n===36||n===95||n===8204||n===8205}_t.regexp_eatAtomEscape=function(n){return this.regexp_eatBackReference(n)||this.regexp_eatCharacterClassEscape(n)||this.regexp_eatCharacterEscape(n)||n.switchN&&this.regexp_eatKGroupName(n)?!0:(n.switchU&&(n.current()===99&&n.raise("Invalid unicode escape"),n.raise("Invalid escape")),!1)};_t.regexp_eatBackReference=function(n){var t=n.pos;if(this.regexp_eatDecimalEscape(n)){var r=n.lastIntValue;if(n.switchU)return r>n.maxBackReference&&(n.maxBackReference=r),!0;if(r<=n.numCapturingParens)return!0;n.pos=t}return!1};_t.regexp_eatKGroupName=function(n){if(n.eat(107)){if(this.regexp_eatGroupName(n))return n.backReferenceNames.push(n.lastStringValue),!0;n.raise("Invalid named reference")}return!1};_t.regexp_eatCharacterEscape=function(n){return this.regexp_eatControlEscape(n)||this.regexp_eatCControlLetter(n)||this.regexp_eatZero(n)||this.regexp_eatHexEscapeSequence(n)||this.regexp_eatRegExpUnicodeEscapeSequence(n,!1)||!n.switchU&&this.regexp_eatLegacyOctalEscapeSequence(n)||this.regexp_eatIdentityEscape(n)};_t.regexp_eatCControlLetter=function(n){var t=n.pos;if(n.eat(99)){if(this.regexp_eatControlLetter(n))return!0;n.pos=t}return!1};_t.regexp_eatZero=function(n){return n.current()===48&&!Cg(n.lookahead())?(n.lastIntValue=0,n.advance(),!0):!1};_t.regexp_eatControlEscape=function(n){var t=n.current();return t===116?(n.lastIntValue=9,n.advance(),!0):t===110?(n.lastIntValue=10,n.advance(),!0):t===118?(n.lastIntValue=11,n.advance(),!0):t===102?(n.lastIntValue=12,n.advance(),!0):t===114?(n.lastIntValue=13,n.advance(),!0):!1};_t.regexp_eatControlLetter=function(n){var t=n.current();return Ak(t)?(n.lastIntValue=t%32,n.advance(),!0):!1};function Ak(n){return n>=65&&n<=90||n>=97&&n<=122}_t.regexp_eatRegExpUnicodeEscapeSequence=function(n,t){t===void 0&&(t=!1);var r=n.pos,i=t||n.switchU;if(n.eat(117)){if(this.regexp_eatFixedHexDigits(n,4)){var s=n.lastIntValue;if(i&&s>=55296&&s<=56319){var o=n.pos;if(n.eat(92)&&n.eat(117)&&this.regexp_eatFixedHexDigits(n,4)){var a=n.lastIntValue;if(a>=56320&&a<=57343)return n.lastIntValue=(s-55296)*1024+(a-56320)+65536,!0}n.pos=o,n.lastIntValue=s}return!0}if(i&&n.eat(123)&&this.regexp_eatHexDigits(n)&&n.eat(125)&&wne(n.lastIntValue))return!0;i&&n.raise("Invalid unicode escape"),n.pos=r}return!1};function wne(n){return n>=0&&n<=1114111}_t.regexp_eatIdentityEscape=function(n){if(n.switchU)return this.regexp_eatSyntaxCharacter(n)?!0:n.eat(47)?(n.lastIntValue=47,!0):!1;var t=n.current();return t!==99&&(!n.switchN||t!==107)?(n.lastIntValue=t,n.advance(),!0):!1};_t.regexp_eatDecimalEscape=function(n){n.lastIntValue=0;var t=n.current();if(t>=49&&t<=57){do n.lastIntValue=10*n.lastIntValue+(t-48),n.advance();while((t=n.current())>=48&&t<=57);return!0}return!1};var Tk=0,Qo=1,_s=2;_t.regexp_eatCharacterClassEscape=function(n){var t=n.current();if(Ene(t))return n.lastIntValue=-1,n.advance(),Qo;var r=!1;if(n.switchU&&this.options.ecmaVersion>=9&&((r=t===80)||t===112)){n.lastIntValue=-1,n.advance();var i;if(n.eat(123)&&(i=this.regexp_eatUnicodePropertyValueExpression(n))&&n.eat(125))return r&&i===_s&&n.raise("Invalid property name"),i;n.raise("Invalid property name")}return Tk};function Ene(n){return n===100||n===68||n===115||n===83||n===119||n===87}_t.regexp_eatUnicodePropertyValueExpression=function(n){var t=n.pos;if(this.regexp_eatUnicodePropertyName(n)&&n.eat(61)){var r=n.lastStringValue;if(this.regexp_eatUnicodePropertyValue(n)){var i=n.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(n,r,i),Qo}}if(n.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(n)){var s=n.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(n,s)}return Tk};_t.regexp_validateUnicodePropertyNameAndValue=function(n,t,r){Sc(n.unicodeProperties.nonBinary,t)||n.raise("Invalid property name"),n.unicodeProperties.nonBinary[t].test(r)||n.raise("Invalid property value")};_t.regexp_validateUnicodePropertyNameOrValue=function(n,t){if(n.unicodeProperties.binary.test(t))return Qo;if(n.switchV&&n.unicodeProperties.binaryOfStrings.test(t))return _s;n.raise("Invalid property name")};_t.regexp_eatUnicodePropertyName=function(n){var t=0;for(n.lastStringValue="";Ik(t=n.current());)n.lastStringValue+=Jo(t),n.advance();return n.lastStringValue!==""};function Ik(n){return Ak(n)||n===95}_t.regexp_eatUnicodePropertyValue=function(n){var t=0;for(n.lastStringValue="";Sne(t=n.current());)n.lastStringValue+=Jo(t),n.advance();return n.lastStringValue!==""};function Sne(n){return Ik(n)||Cg(n)}_t.regexp_eatLoneUnicodePropertyNameOrValue=function(n){return this.regexp_eatUnicodePropertyValue(n)};_t.regexp_eatCharacterClass=function(n){if(n.eat(91)){var t=n.eat(94),r=this.regexp_classContents(n);return n.eat(93)||n.raise("Unterminated character class"),t&&r===_s&&n.raise("Negated character class may contain strings"),!0}return!1};_t.regexp_classContents=function(n){return n.current()===93?Qo:n.switchV?this.regexp_classSetExpression(n):(this.regexp_nonEmptyClassRanges(n),Qo)};_t.regexp_nonEmptyClassRanges=function(n){for(;this.regexp_eatClassAtom(n);){var t=n.lastIntValue;if(n.eat(45)&&this.regexp_eatClassAtom(n)){var r=n.lastIntValue;n.switchU&&(t===-1||r===-1)&&n.raise("Invalid character class"),t!==-1&&r!==-1&&t>r&&n.raise("Range out of order in character class")}}};_t.regexp_eatClassAtom=function(n){var t=n.pos;if(n.eat(92)){if(this.regexp_eatClassEscape(n))return!0;if(n.switchU){var r=n.current();(r===99||Fk(r))&&n.raise("Invalid class escape"),n.raise("Invalid escape")}n.pos=t}var i=n.current();return i!==93?(n.lastIntValue=i,n.advance(),!0):!1};_t.regexp_eatClassEscape=function(n){var t=n.pos;if(n.eat(98))return n.lastIntValue=8,!0;if(n.switchU&&n.eat(45))return n.lastIntValue=45,!0;if(!n.switchU&&n.eat(99)){if(this.regexp_eatClassControlLetter(n))return!0;n.pos=t}return this.regexp_eatCharacterClassEscape(n)||this.regexp_eatCharacterEscape(n)};_t.regexp_classSetExpression=function(n){var t=Qo,r;if(!this.regexp_eatClassSetRange(n))if(r=this.regexp_eatClassSetOperand(n)){r===_s&&(t=_s);for(var i=n.pos;n.eatChars([38,38]);){if(n.current()!==38&&(r=this.regexp_eatClassSetOperand(n))){r!==_s&&(t=Qo);continue}n.raise("Invalid character in character class")}if(i!==n.pos)return t;for(;n.eatChars([45,45]);)this.regexp_eatClassSetOperand(n)||n.raise("Invalid character in character class");if(i!==n.pos)return t}else n.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(n)){if(r=this.regexp_eatClassSetOperand(n),!r)return t;r===_s&&(t=_s)}};_t.regexp_eatClassSetRange=function(n){var t=n.pos;if(this.regexp_eatClassSetCharacter(n)){var r=n.lastIntValue;if(n.eat(45)&&this.regexp_eatClassSetCharacter(n)){var i=n.lastIntValue;return r!==-1&&i!==-1&&r>i&&n.raise("Range out of order in character class"),!0}n.pos=t}return!1};_t.regexp_eatClassSetOperand=function(n){return this.regexp_eatClassSetCharacter(n)?Qo:this.regexp_eatClassStringDisjunction(n)||this.regexp_eatNestedClass(n)};_t.regexp_eatNestedClass=function(n){var t=n.pos;if(n.eat(91)){var r=n.eat(94),i=this.regexp_classContents(n);if(n.eat(93))return r&&i===_s&&n.raise("Negated character class may contain strings"),i;n.pos=t}if(n.eat(92)){var s=this.regexp_eatCharacterClassEscape(n);if(s)return s;n.pos=t}return null};_t.regexp_eatClassStringDisjunction=function(n){var t=n.pos;if(n.eatChars([92,113])){if(n.eat(123)){var r=this.regexp_classStringDisjunctionContents(n);if(n.eat(125))return r}else n.raise("Invalid escape");n.pos=t}return null};_t.regexp_classStringDisjunctionContents=function(n){for(var t=this.regexp_classString(n);n.eat(124);)this.regexp_classString(n)===_s&&(t=_s);return t};_t.regexp_classString=function(n){for(var t=0;this.regexp_eatClassSetCharacter(n);)t++;return t===1?Qo:_s};_t.regexp_eatClassSetCharacter=function(n){var t=n.pos;if(n.eat(92))return this.regexp_eatCharacterEscape(n)||this.regexp_eatClassSetReservedPunctuator(n)?!0:n.eat(98)?(n.lastIntValue=8,!0):(n.pos=t,!1);var r=n.current();return r<0||r===n.lookahead()&&Cne(r)||Ane(r)?!1:(n.advance(),n.lastIntValue=r,!0)};function Cne(n){return n===33||n>=35&&n<=38||n>=42&&n<=44||n===46||n>=58&&n<=64||n===94||n===96||n===126}function Ane(n){return n===40||n===41||n===45||n===47||n>=91&&n<=93||n>=123&&n<=125}_t.regexp_eatClassSetReservedPunctuator=function(n){var t=n.current();return Tne(t)?(n.lastIntValue=t,n.advance(),!0):!1};function Tne(n){return n===33||n===35||n===37||n===38||n===44||n===45||n>=58&&n<=62||n===64||n===96||n===126}_t.regexp_eatClassControlLetter=function(n){var t=n.current();return Cg(t)||t===95?(n.lastIntValue=t%32,n.advance(),!0):!1};_t.regexp_eatHexEscapeSequence=function(n){var t=n.pos;if(n.eat(120)){if(this.regexp_eatFixedHexDigits(n,2))return!0;n.switchU&&n.raise("Invalid escape"),n.pos=t}return!1};_t.regexp_eatDecimalDigits=function(n){var t=n.pos,r=0;for(n.lastIntValue=0;Cg(r=n.current());)n.lastIntValue=10*n.lastIntValue+(r-48),n.advance();return n.pos!==t};function Cg(n){return n>=48&&n<=57}_t.regexp_eatHexDigits=function(n){var t=n.pos,r=0;for(n.lastIntValue=0;Dk(r=n.current());)n.lastIntValue=16*n.lastIntValue+Nk(r),n.advance();return n.pos!==t};function Dk(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}function Nk(n){return n>=65&&n<=70?10+(n-65):n>=97&&n<=102?10+(n-97):n-48}_t.regexp_eatLegacyOctalEscapeSequence=function(n){if(this.regexp_eatOctalDigit(n)){var t=n.lastIntValue;if(this.regexp_eatOctalDigit(n)){var r=n.lastIntValue;t<=3&&this.regexp_eatOctalDigit(n)?n.lastIntValue=t*64+r*8+n.lastIntValue:n.lastIntValue=t*8+r}else n.lastIntValue=t;return!0}return!1};_t.regexp_eatOctalDigit=function(n){var t=n.current();return Fk(t)?(n.lastIntValue=t-48,n.advance(),!0):(n.lastIntValue=0,!1)};function Fk(n){return n>=48&&n<=55}_t.regexp_eatFixedHexDigits=function(n,t){var r=n.pos;n.lastIntValue=0;for(var i=0;i<t;++i){var s=n.current();if(!Dk(s))return n.pos=r,!1;n.lastIntValue=16*n.lastIntValue+Nk(s),n.advance()}return!0};var wx=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new xg(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},gn=Br.prototype;gn.next=function(n){!n&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new wx(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};gn.getToken=function(){return this.next(),new wx(this)};typeof Symbol<"u"&&(gn[Symbol.iterator]=function(){var n=this;return{next:function(){var t=n.getToken();return{done:t.type===oe.eof,value:t}}}});gn.nextToken=function(){var n=this.curContext();if((!n||!n.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(oe.eof);if(n.override)return n.override(this);this.readToken(this.fullCharCodeAtPos())};gn.readToken=function(n){return mo(n,this.options.ecmaVersion>=6)||n===92?this.readWord():this.getTokenFromCode(n)};gn.fullCharCodeAtPos=function(){var n=this.input.charCodeAt(this.pos);if(n<=55295||n>=56320)return n;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?n:(n<<10)+t-56613888};gn.skipBlockComment=function(){var n=this.options.onComment&&this.curPosition(),t=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(var i=void 0,s=t;(i=tk(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,r),t,this.pos,n,this.curPosition())};gn.skipLineComment=function(n){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=n);this.pos<this.input.length&&!Ec(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+n,this.pos),t,this.pos,r,this.curPosition())};gn.skipSpace=function(){e:for(;this.pos<this.input.length;){var n=this.input.charCodeAt(this.pos);switch(n){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(n>8&&n<14||n>=5760&&nk.test(String.fromCharCode(n)))++this.pos;else break e}}};gn.finishToken=function(n,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=n,this.value=t,this.updateContext(r)};gn.readToken_dot=function(){var n=this.input.charCodeAt(this.pos+1);if(n>=48&&n<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&n===46&&t===46?(this.pos+=3,this.finishToken(oe.ellipsis)):(++this.pos,this.finishToken(oe.dot))};gn.readToken_slash=function(){var n=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):n===61?this.finishOp(oe.assign,2):this.finishOp(oe.slash,1)};gn.readToken_mult_modulo_exp=function(n){var t=this.input.charCodeAt(this.pos+1),r=1,i=n===42?oe.star:oe.modulo;return this.options.ecmaVersion>=7&&n===42&&t===42&&(++r,i=oe.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(oe.assign,r+1):this.finishOp(i,r)};gn.readToken_pipe_amp=function(n){var t=this.input.charCodeAt(this.pos+1);if(t===n){if(this.options.ecmaVersion>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(oe.assign,3)}return this.finishOp(n===124?oe.logicalOR:oe.logicalAND,2)}return t===61?this.finishOp(oe.assign,2):this.finishOp(n===124?oe.bitwiseOR:oe.bitwiseAND,1)};gn.readToken_caret=function(){var n=this.input.charCodeAt(this.pos+1);return n===61?this.finishOp(oe.assign,2):this.finishOp(oe.bitwiseXOR,1)};gn.readToken_plus_min=function(n){var t=this.input.charCodeAt(this.pos+1);return t===n?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ki.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(oe.incDec,2):t===61?this.finishOp(oe.assign,2):this.finishOp(oe.plusMin,1)};gn.readToken_lt_gt=function(n){var t=this.input.charCodeAt(this.pos+1),r=1;return t===n?(r=n===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(oe.assign,r+1):this.finishOp(oe.bitShift,r)):t===33&&n===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(r=2),this.finishOp(oe.relational,r))};gn.readToken_eq_excl=function(n){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(oe.equality,this.input.charCodeAt(this.pos+2)===61?3:2):n===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(oe.arrow)):this.finishOp(n===61?oe.eq:oe.prefix,1)};gn.readToken_question=function(){var n=this.options.ecmaVersion;if(n>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(oe.questionDot,2)}if(t===63){if(n>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(oe.assign,3)}return this.finishOp(oe.coalesce,2)}}return this.finishOp(oe.question,1)};gn.readToken_numberSign=function(){var n=this.options.ecmaVersion,t=35;if(n>=13&&(++this.pos,t=this.fullCharCodeAtPos(),mo(t,!0)||t===92))return this.finishToken(oe.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Jo(t)+"'")};gn.getTokenFromCode=function(n){switch(n){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(oe.parenL);case 41:return++this.pos,this.finishToken(oe.parenR);case 59:return++this.pos,this.finishToken(oe.semi);case 44:return++this.pos,this.finishToken(oe.comma);case 91:return++this.pos,this.finishToken(oe.bracketL);case 93:return++this.pos,this.finishToken(oe.bracketR);case 123:return++this.pos,this.finishToken(oe.braceL);case 125:return++this.pos,this.finishToken(oe.braceR);case 58:return++this.pos,this.finishToken(oe.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(oe.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(n);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(n);case 124:case 38:return this.readToken_pipe_amp(n);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(n);case 60:case 62:return this.readToken_lt_gt(n);case 61:case 33:return this.readToken_eq_excl(n);case 63:return this.readToken_question();case 126:return this.finishOp(oe.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Jo(n)+"'")};gn.finishOp=function(n,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(n,r)};gn.readRegexp=function(){for(var n,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(Ki.test(i)&&this.raise(r,"Unterminated regular expression"),n)n=!1;else{if(i==="[")t=!0;else if(i==="]"&&t)t=!1;else if(i==="/"&&!t)break;n=i==="\\"}++this.pos}var s=this.input.slice(r,this.pos);++this.pos;var o=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(o);var l=this.regexpState||(this.regexpState=new bo(this));l.reset(r,s,a),this.validateRegExpFlags(l),this.validateRegExpPattern(l);var u=null;try{u=new RegExp(s,a)}catch{}return this.finishToken(oe.regexp,{pattern:s,flags:a,value:u})};gn.readInt=function(n,t,r){for(var i=this.options.ecmaVersion>=12&&t===void 0,s=r&&this.input.charCodeAt(this.pos)===48,o=this.pos,a=0,l=0,u=0,h=t??1/0;u<h;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(i&&c===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),l===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),l=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=n)break;l=c,a=a*n+f}return i&&l===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||t!=null&&this.pos-o!==t?null:a};function Ine(n,t){return t?parseInt(n,8):parseFloat(n.replace(/_/g,""))}function kk(n){return typeof BigInt!="function"?null:BigInt(n.replace(/_/g,""))}gn.readRadixNumber=function(n){var t=this.pos;this.pos+=2;var r=this.readInt(n);return r==null&&this.raise(this.start+2,"Expected number in radix "+n),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(r=kk(this.input.slice(t,this.pos)),++this.pos):mo(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(oe.num,r)};gn.readNumber=function(n){var t=this.pos;!n&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var r=this.pos-t>=2&&this.input.charCodeAt(t)===48;r&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!r&&!n&&this.options.ecmaVersion>=11&&i===110){var s=kk(this.input.slice(t,this.pos));return++this.pos,mo(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(oe.num,s)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),i===46&&!r&&(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),(i===69||i===101)&&!r&&(i=this.input.charCodeAt(++this.pos),(i===43||i===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),mo(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=Ine(this.input.slice(t,this.pos),r);return this.finishToken(oe.num,o)};gn.readCodePoint=function(){var n=this.input.charCodeAt(this.pos),t;if(n===123){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else t=this.readHexChar(4);return t};gn.readString=function(n){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===n)break;i===92?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):i===8232||i===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ec(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(oe.string,t)};var Mk={};gn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(n){if(n===Mk)this.readInvalidTemplateToken();else throw n}this.inTemplateElement=!1};gn.invalidStringToken=function(n,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Mk;this.raise(n,t)};gn.readTmplToken=function(){for(var n="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(r===96||r===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===oe.template||this.type===oe.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(oe.dollarBraceL)):(++this.pos,this.finishToken(oe.backQuote)):(n+=this.input.slice(t,this.pos),this.finishToken(oe.template,n));if(r===92)n+=this.input.slice(t,this.pos),n+=this.readEscapedChar(!0),t=this.pos;else if(Ec(r)){switch(n+=this.input.slice(t,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:n+=`
`;break;default:n+=String.fromCharCode(r);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};gn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(oe.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};gn.readEscapedChar=function(n){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Jo(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),n){var r=this.pos-1;this.invalidStringToken(r,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(i,8);return s>255&&(i=i.slice(0,-1),s=parseInt(i,8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),(i!=="0"||t===56||t===57)&&(this.strict||n)&&this.invalidStringToken(this.pos-1-i.length,n?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return Ec(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}};gn.readHexChar=function(n){var t=this.pos,r=this.readInt(16,n);return r===null&&this.invalidStringToken(t,"Bad character escape sequence"),r};gn.readWord1=function(){this.containsEsc=!1;for(var n="",t=!0,r=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(Ra(s,i))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,n+=this.input.slice(r,this.pos);var o=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?mo:Ra)(a,i)||this.invalidStringToken(o,"Invalid Unicode escape"),n+=Jo(a),r=this.pos}else break;t=!1}return n+this.input.slice(r,this.pos)};gn.readWord=function(){var n=this.readWord1(),t=oe.name;return this.keywords.test(n)&&(t=gx[n]),this.finishToken(t,n)};var Dne="8.15.0";Br.acorn={Parser:Br,version:Dne,defaultOptions:Ky,Position:rf,SourceLocation:xg,getLineInfo:ik,Node:Sg,TokenType:bn,tokTypes:oe,keywordTypes:gx,TokContext:Bs,tokContexts:rr,isIdentifierChar:Ra,isIdentifierStart:mo,Token:wx,isNewLine:Ec,lineBreak:Ki,lineBreakG:Zte,nonASCIIwhitespace:nk};function Ok(n,t){return Br.parse(n,t)}function Nne(n,t,r,i,s){r||(r=it),(function o(a,l,u){var h=u||a.type;r[h](a,l,o),t[h]&&t[h](a,l)})(n,i,s)}function Fne(n,t,r,i,s){var o=[];r||(r=it),(function a(l,u,h){var c=h||l.type,f=l!==o[o.length-1];f&&o.push(l),r[c](l,u,a),t[c]&&t[c](l,u||o,o),f&&o.pop()})(n,i,s)}function kne(n,t,r,i,s){var o=r?Mne(r):i;(function a(l,u,h){o[h||l.type](l,u,a)})(n,t,s)}function Mne(n,t){var r=Object.create(it);for(var i in n)r[i]=n[i];return r}function Ex(n,t,r){r(n,t)}function ou(n,t,r){}var it={};it.Program=it.BlockStatement=it.StaticBlock=function(n,t,r){for(var i=0,s=n.body;i<s.length;i+=1){var o=s[i];r(o,t,"Statement")}};it.Statement=Ex;it.EmptyStatement=ou;it.ExpressionStatement=it.ParenthesizedExpression=it.ChainExpression=function(n,t,r){return r(n.expression,t,"Expression")};it.IfStatement=function(n,t,r){r(n.test,t,"Expression"),r(n.consequent,t,"Statement"),n.alternate&&r(n.alternate,t,"Statement")};it.LabeledStatement=function(n,t,r){return r(n.body,t,"Statement")};it.BreakStatement=it.ContinueStatement=ou;it.WithStatement=function(n,t,r){r(n.object,t,"Expression"),r(n.body,t,"Statement")};it.SwitchStatement=function(n,t,r){r(n.discriminant,t,"Expression");for(var i=0,s=n.cases;i<s.length;i+=1){var o=s[i];r(o,t)}};it.SwitchCase=function(n,t,r){n.test&&r(n.test,t,"Expression");for(var i=0,s=n.consequent;i<s.length;i+=1){var o=s[i];r(o,t,"Statement")}};it.ReturnStatement=it.YieldExpression=it.AwaitExpression=function(n,t,r){n.argument&&r(n.argument,t,"Expression")};it.ThrowStatement=it.SpreadElement=function(n,t,r){return r(n.argument,t,"Expression")};it.TryStatement=function(n,t,r){r(n.block,t,"Statement"),n.handler&&r(n.handler,t),n.finalizer&&r(n.finalizer,t,"Statement")};it.CatchClause=function(n,t,r){n.param&&r(n.param,t,"Pattern"),r(n.body,t,"Statement")};it.WhileStatement=it.DoWhileStatement=function(n,t,r){r(n.test,t,"Expression"),r(n.body,t,"Statement")};it.ForStatement=function(n,t,r){n.init&&r(n.init,t,"ForInit"),n.test&&r(n.test,t,"Expression"),n.update&&r(n.update,t,"Expression"),r(n.body,t,"Statement")};it.ForInStatement=it.ForOfStatement=function(n,t,r){r(n.left,t,"ForInit"),r(n.right,t,"Expression"),r(n.body,t,"Statement")};it.ForInit=function(n,t,r){n.type==="VariableDeclaration"?r(n,t):r(n,t,"Expression")};it.DebuggerStatement=ou;it.FunctionDeclaration=function(n,t,r){return r(n,t,"Function")};it.VariableDeclaration=function(n,t,r){for(var i=0,s=n.declarations;i<s.length;i+=1){var o=s[i];r(o,t)}};it.VariableDeclarator=function(n,t,r){r(n.id,t,"Pattern"),n.init&&r(n.init,t,"Expression")};it.Function=function(n,t,r){n.id&&r(n.id,t,"Pattern");for(var i=0,s=n.params;i<s.length;i+=1){var o=s[i];r(o,t,"Pattern")}r(n.body,t,n.expression?"Expression":"Statement")};it.Pattern=function(n,t,r){n.type==="Identifier"?r(n,t,"VariablePattern"):n.type==="MemberExpression"?r(n,t,"MemberPattern"):r(n,t)};it.VariablePattern=ou;it.MemberPattern=Ex;it.RestElement=function(n,t,r){return r(n.argument,t,"Pattern")};it.ArrayPattern=function(n,t,r){for(var i=0,s=n.elements;i<s.length;i+=1){var o=s[i];o&&r(o,t,"Pattern")}};it.ObjectPattern=function(n,t,r){for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];o.type==="Property"?(o.computed&&r(o.key,t,"Expression"),r(o.value,t,"Pattern")):o.type==="RestElement"&&r(o.argument,t,"Pattern")}};it.Expression=Ex;it.ThisExpression=it.Super=it.MetaProperty=ou;it.ArrayExpression=function(n,t,r){for(var i=0,s=n.elements;i<s.length;i+=1){var o=s[i];o&&r(o,t,"Expression")}};it.ObjectExpression=function(n,t,r){for(var i=0,s=n.properties;i<s.length;i+=1){var o=s[i];r(o,t)}};it.FunctionExpression=it.ArrowFunctionExpression=it.FunctionDeclaration;it.SequenceExpression=function(n,t,r){for(var i=0,s=n.expressions;i<s.length;i+=1){var o=s[i];r(o,t,"Expression")}};it.TemplateLiteral=function(n,t,r){for(var i=0,s=n.quasis;i<s.length;i+=1){var o=s[i];r(o,t)}for(var a=0,l=n.expressions;a<l.length;a+=1){var u=l[a];r(u,t,"Expression")}};it.TemplateElement=ou;it.UnaryExpression=it.UpdateExpression=function(n,t,r){r(n.argument,t,"Expression")};it.BinaryExpression=it.LogicalExpression=function(n,t,r){r(n.left,t,"Expression"),r(n.right,t,"Expression")};it.AssignmentExpression=it.AssignmentPattern=function(n,t,r){r(n.left,t,"Pattern"),r(n.right,t,"Expression")};it.ConditionalExpression=function(n,t,r){r(n.test,t,"Expression"),r(n.consequent,t,"Expression"),r(n.alternate,t,"Expression")};it.NewExpression=it.CallExpression=function(n,t,r){if(r(n.callee,t,"Expression"),n.arguments)for(var i=0,s=n.arguments;i<s.length;i+=1){var o=s[i];r(o,t,"Expression")}};it.MemberExpression=function(n,t,r){r(n.object,t,"Expression"),n.computed&&r(n.property,t,"Expression")};it.ExportNamedDeclaration=it.ExportDefaultDeclaration=function(n,t,r){n.declaration&&r(n.declaration,t,n.type==="ExportNamedDeclaration"||n.declaration.id?"Statement":"Expression"),n.source&&r(n.source,t,"Expression")};it.ExportAllDeclaration=function(n,t,r){n.exported&&r(n.exported,t),r(n.source,t,"Expression")};it.ImportDeclaration=function(n,t,r){for(var i=0,s=n.specifiers;i<s.length;i+=1){var o=s[i];r(o,t)}r(n.source,t,"Expression")};it.ImportExpression=function(n,t,r){r(n.source,t,"Expression")};it.ImportSpecifier=it.ImportDefaultSpecifier=it.ImportNamespaceSpecifier=it.Identifier=it.PrivateIdentifier=it.Literal=ou;it.TaggedTemplateExpression=function(n,t,r){r(n.tag,t,"Expression"),r(n.quasi,t,"Expression")};it.ClassDeclaration=it.ClassExpression=function(n,t,r){return r(n,t,"Class")};it.Class=function(n,t,r){n.id&&r(n.id,t,"Pattern"),n.superClass&&r(n.superClass,t,"Expression"),r(n.body,t)};it.ClassBody=function(n,t,r){for(var i=0,s=n.body;i<s.length;i+=1){var o=s[i];r(o,t)}};it.MethodDefinition=it.PropertyDefinition=it.Property=function(n,t,r){n.computed&&r(n.key,t,"Expression"),n.value&&r(n.value,t,"Expression")};const One=["setup","draw","preload","deviceMoved","deviceTurned","deviceShaken","doubleClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","mouseClicked","mouseWheel","touchStarted","touchMoved","touchEnded","keyPressed","keyReleased","keyTyped","windowResized"],eh={fetchScript:async function(n){if(n.src)try{return await fetch(n.src).then(r=>r.text())}catch(t){return console.error("Error fetching script:",t),""}else return n.textContent},extractUserDefinedVariablesAndFuncs:function(n){const t={variables:[],functions:[]},r=-1;try{const i=Ok(n,{ecmaVersion:2021,sourceType:"module",locations:!0});Nne(i,{VariableDeclarator(s){if(s.id.type==="Identifier"){const o=s.init&&["ArrowFunctionExpression","FunctionExpression"].includes(s.init.type)?"functions":"variables";t[o].push({name:s.id.name,line:s.loc.start.line+r})}},FunctionDeclaration(s){s.id&&s.id.type==="Identifier"&&t.functions.push({name:s.id.name,line:s.loc.start.line+r})},ClassDeclaration(s){s.id&&s.id.type==="Identifier"&&t.variables.push({name:s.id.name,line:s.loc.start.line+r})}})}catch(i){console.error("Error parsing code:",i)}return t},checkForConstsAndFuncs:function(n,t){const r=[...n.variables,...n.functions];function i(o,a,l){const u=`https://p5js.org/reference/p5/${a}`;return`${o} "${a}" on line ${l} is being redeclared and conflicts with a p5.js ${o.toLowerCase()}. p5.js reference: ${u}`}for(let{name:o,line:a}of r)if(Oa[o]!==void 0){const u=i("Constant",o,a);return console.log(u),!0}const s=new Set(Object.getOwnPropertyNames(t.prototype).filter(o=>!o.startsWith("_")&&o!=="constructor"));for(let{name:o,line:a}of r)if(!One.includes(o)&&s.has(o)){const l=i("Function",o,a);return console.log(l),!0}return!1},getUserCode:async function(){const n=document.querySelectorAll("script"),t=n[n.length-1];return await eh.fetchScript(t)},runFES:async function(n){const t=await eh.getUserCode(),r=eh.extractUserDefinedVariablesAndFuncs(t);eh.checkForConstsAndFuncs(r,n)}};function Lk(n,t,r){r.presetup=async function(){!n.disableFriendlyErrors&&!n.disableSketchChecker&&eh.runFES(n)}}typeof p5<"u"&&Lk(p5,p5.prototype);function Pk(n,t){const r=(i,s)=>{const o=jt("fes.fileLoadError.suggestion",{filePath:s,url:"https://github.com/processing/p5.js/wiki/Local-server"});switch(i){case 0:return{message:jt("fes.fileLoadError.image",{suggestion:o}),method:"loadImage"};case 1:return{message:jt("fes.fileLoadError.xml",{suggestion:o}),method:"loadXML"};case 2:return{message:jt("fes.fileLoadError.table",{suggestion:o}),method:"loadTable"};case 3:return{message:jt("fes.fileLoadError.strings",{suggestion:o}),method:"loadStrings"};case 4:return{message:jt("fes.fileLoadError.font",{suggestion:o}),method:"loadFont"};case 5:return{message:jt("fes.fileLoadError.json",{suggestion:o}),method:"loadJSON"};case 6:return{message:jt("fes.fileLoadError.bytes",{suggestion:o}),method:"loadBytes"};case 7:return{message:jt("fes.fileLoadError.large"),method:"loadX"};case 8:return{message:jt("fes.fileLoadError.gif"),method:"loadImage"}}};n._friendlyFileLoadError=function(i,s){const{message:o,method:a}=r(i,s);n._friendlyError(o,a,3)}}typeof p5<"u"&&Pk(p5,p5.prototype);function Lne(n){n.registerAddon(EF),n.registerAddon(SF),n.registerAddon(JF),n.registerAddon(Lk),n.registerAddon(Pk)}function Rk(n,t){t.storeItem=function(r,i){typeof r!="string"&&console.log(`The argument that you passed to storeItem() - ${r} is not a string.`),r.endsWith("p5TypeID")&&console.log(`The argument that you passed to storeItem() - ${r} must not end with 'p5TypeID'.`),typeof i>"u"&&console.log("You cannot store undefined variables using storeItem().");let s=typeof i;switch(s){case"number":case"boolean":i=i.toString();break;case"object":i instanceof n.Color?(s="p5.Color",i=i.toString()):i instanceof n.Vector&&(s="p5.Vector",i=i.values),i=JSON.stringify(i);break}localStorage.setItem(r,i);const o=`${r}p5TypeID`;localStorage.setItem(o,s)},t.getItem=function(r){let i=localStorage.getItem(r);const s=localStorage.getItem(`${r}p5TypeID`);if(typeof s>"u")console.log(`Unable to determine type of item stored under ${r}in local storage. Did you save the item with something other than setItem()?`);else if(i!==null)switch(s){case"number":i=parseFloat(i);break;case"boolean":i=i==="true";break;case"object":i=JSON.parse(i);break;case"p5.Color":i=this.color(JSON.parse(i));break;case"p5.Vector":i=JSON.parse(i),i=this.createVector(...i);break}return i},t.clearStorage=function(){Object.keys(localStorage).forEach(i=>{i.endsWith("p5TypeID")&&this.removeItem(i.replace("p5TypeID",""))})},t.removeItem=function(r){typeof r!="string"&&console.log(`The argument that you passed to removeItem() - ${r} is not a string.`),localStorage.removeItem(r),localStorage.removeItem(`${r}p5TypeID`)}}typeof p5<"u"&&Rk(p5,p5.prototype);function Pne(n){n.registerAddon(Rk)}function Bk(n,t){t.select=function(s,o){const l=this._getContainer(o).querySelector(s);return l?this._wrapElement(l):null},t.selectAll=function(s,o){const a=[],u=this._getContainer(o).querySelectorAll(s);if(u)for(let h=0;h<u.length;h++){const c=this._wrapElement(u[h]);a.push(c)}return a},t._getContainer=function(s){let o=document;return typeof s=="string"?o=document.querySelector(s)||document:s instanceof Pr?o=s.elt:s instanceof HTMLElement&&(o=s),o},t._wrapElement=function(s){const o=Array.prototype.slice.call(s.children);if(s.tagName==="INPUT"&&s.type==="checkbox"){let a=new Pr(s,this);return a.checked=function(...l){return l.length===0?this.elt.checked:(l[0]?this.elt.checked=!0:this.elt.checked=!1,this)},a}else return s.tagName==="VIDEO"||s.tagName==="AUDIO"?new yl(s,this):s.tagName==="SELECT"?this.createSelect(new Pr(s,this)):o.length>0&&o.every(function(a){return a.tagName==="INPUT"||a.tagName==="LABEL"})&&(s.tagName==="DIV"||s.tagName==="SPAN")?this.createRadio(new Pr(s,this)):new Pr(s,this)},t.createElement=function(s,o){const a=document.createElement(s);return typeof o<"u"&&(a.innerHTML=o),r(a,this)},t.removeElements=function(s){const o=l=>!(l.elt instanceof HTMLCanvasElement);this._elements.filter(o).map(l=>l.remove())};function r(s,o,a){(o._userNode?o._userNode:document.body).appendChild(s);const u=a?new yl(s,o):new Pr(s,o);return o._elements.push(u),u}t.createDiv=function(s=""){let o=document.createElement("div");return o.innerHTML=s,r(o,this)},t.createP=function(s=""){let o=document.createElement("p");return o.innerHTML=s,r(o,this)},t.createSpan=function(s=""){let o=document.createElement("span");return o.innerHTML=s,r(o,this)},t.createImg=function(){const s=document.createElement("img"),o=arguments;let a;return o.length>1&&typeof o[1]=="string"&&(s.alt=o[1]),o.length>2&&typeof o[2]=="string"&&(s.crossOrigin=o[2]),s.src=o[0],a=r(s,this),s.addEventListener("load",function(){a.width=s.offsetWidth||s.width,a.height=s.offsetHeight||s.height;const l=o[o.length-1];typeof l=="function"&&l(a)}),a},t.createA=function(s,o,a){const l=document.createElement("a");return l.href=s,l.innerHTML=o,a&&(l.target=a),r(l,this)},t.createSlider=function(s,o,a,l){const u=document.createElement("input");return u.type="range",u.min=s,u.max=o,l===0?u.step=1e-18:l&&(u.step=l),typeof a=="number"&&(u.value=a),r(u,this)},t.createButton=function(s,o){const a=document.createElement("button");return a.innerHTML=s,o&&(a.value=o),r(a,this)},t.createCheckbox=function(...s){const o=document.createElement("div"),a=document.createElement("input");a.type="checkbox";const l=document.createElement("label");l.appendChild(a),o.appendChild(l);const u=r(o,this);if(u.checked=function(...h){const c=u.elt.firstElementChild.getElementsByTagName("input")[0];if(c){if(h.length===0)return c.checked;h[0]?c.checked=!0:c.checked=!1}return u},this.value=function(h){return u.value=h,this},s[0]){u.value(s[0]);const h=document.createElement("span");h.innerHTML=s[0],l.appendChild(h)}return s[1]&&(a.checked=!0),u},t.createSelect=function(...s){let o,a=s[0];if(a instanceof Pr&&a.elt instanceof HTMLSelectElement)o=a,this.elt=a.elt;else if(a instanceof HTMLSelectElement)o=r(a,this),this.elt=a;else{const l=document.createElement("select");a&&typeof a=="boolean"&&l.setAttribute("multiple","true"),o=r(l,this),this.elt=l}return o.option=function(l,u){let h;if(l!==void 0){for(let c=0;c<this.elt.length;c+=1)if(this.elt[c].textContent===l){h=c;break}if(h!==void 0)u===!1?this.elt.remove(h):this.elt[h].value=u;else{const c=document.createElement("option");c.textContent=l,c.value=u===void 0?l:u,this.elt.appendChild(c),this._pInst._elements.push(c)}}},o.selected=function(l){if(l!==void 0){for(let u=0;u<this.elt.length;u+=1)this.elt[u].value.toString()===l.toString()&&(this.elt.selectedIndex=u);return this}else if(this.elt.getAttribute("multiple")){let u=[];for(const h of this.elt.selectedOptions)u.push(h.value);return u}else return this.elt.value},o.disable=function(l){if(typeof l=="string")for(let u=0;u<this.elt.length;u++)this.elt[u].value.toString()===l&&(this.elt[u].disabled=!0,this.elt[u].selected=!1);else this.elt.disabled=!0;return this},o.enable=function(l){if(typeof l=="string")for(let u=0;u<this.elt.length;u++)this.elt[u].value.toString()===l&&(this.elt[u].disabled=!1,this.elt[u].selected=!1);else{this.elt.disabled=!1;for(let u=0;u<this.elt.length;u++)this.elt[u].disabled=!1,this.elt[u].selected=!1}return this},o};let i=0;t.createRadio=function(...s){let o,a,l;const u=s[0];u instanceof Pr&&(u.elt instanceof HTMLDivElement||u.elt instanceof HTMLSpanElement)?(o=u,this.elt=u.elt):u instanceof HTMLDivElement||u instanceof HTMLSpanElement?(o=r(u,this),this.elt=u,a=u,typeof s[1]=="string"&&(l=s[1])):(typeof u=="string"&&(l=u),a=document.createElement("div"),o=r(a,this),this.elt=a),o._name=l||`radioOption_${i++}`;const h=d=>d instanceof HTMLInputElement&&d.type==="radio",c=d=>d instanceof HTMLLabelElement,f=d=>d instanceof HTMLSpanElement;return o._getOptionsArray=function(){return Array.from(this.elt.children).filter(d=>h(d)||c(d)&&h(d.firstElementChild)).map(d=>h(d)?d:d.firstElementChild)},o.option=function(d,p){let m;for(const E of o._getOptionsArray())if(E.value===d){m=E;break}m===void 0&&(m=document.createElement("input"),m.setAttribute("type","radio"),m.setAttribute("value",d)),m.setAttribute("name",o._name);let g;c(m.parentElement)?g=m.parentElement:(g=document.createElement("label"),g.insertAdjacentElement("afterbegin",m));let v;return f(g.lastElementChild)?v=g.lastElementChild:(v=document.createElement("span"),m.insertAdjacentElement("afterend",v)),v.innerHTML=p===void 0?d:p,this.elt.appendChild(g),m},o.remove=function(d){for(const p of o._getOptionsArray())if(p.value===d){c(p.parentElement)?p.parentElement.remove():p.remove();return}},o.value=function(){let d="";for(const p of o._getOptionsArray())if(p.checked){d=p.value;break}return d},o.selected=function(d){let p=null;if(d===void 0){for(const m of o._getOptionsArray())if(m.checked){p=m;break}}else{o._getOptionsArray().forEach(m=>{m.checked=!1,m.removeAttribute("checked")});for(const m of o._getOptionsArray())m.value===d&&(m.setAttribute("checked",!0),m.checked=!0,p=m)}return p},o.disable=function(d=!0){for(const p of o._getOptionsArray())p.setAttribute("disabled",d)},o},t.createColorPicker=function(s){const o=document.createElement("input");let a;o.type="color",s?s instanceof n.Color?o.value=s.toString("#rrggbb"):(this.push(),this.colorMode("rgb"),o.value=this.color(s).toString("#rrggbb"),this.pop()):o.value="#000000",a=r(o,this);const l=this;return a.color=function(){l.push(),s&&s.mode&&l.colorMode(s.mode,...s?.maxes?s.maxes[s.mode]||[]:[]);const u=l.color(this.elt.value);return l.pop(),u},a},t.createInput=function(s="",o="text"){let a=document.createElement("input");return a.setAttribute("value",s),a.setAttribute("type",o),r(a,this)},t.createFileInput=function(s,o=!1){const a=function(u){for(const h of u.target.files)Sa._load(h,s)};if(!(window.File&&window.FileReader&&window.FileList&&window.Blob)){console.log("The File APIs are not fully supported in this browser. Cannot create element.");return}const l=document.createElement("input");return l.setAttribute("type","file"),o&&l.setAttribute("multiple",!0),l.addEventListener("change",a,!1),r(l,this)}}typeof p5<"u"&&Bk(p5,p5.prototype);function Rne(n){n.registerAddon(Bk),n.registerAddon(f5),n.registerAddon(k5),n.registerAddon(h5)}function Uk(n,t,r){r.presetup=function(){const f=["deviceorientation","devicemotion"];for(const d of f)window.addEventListener(d,this[`_on${d}`].bind(this),{passive:!1,signal:this._removeSignal})},t.deviceOrientation=window.innerWidth/window.innerHeight>1?"landscape":"portrait",t.accelerationX=0,t.accelerationY=0,t.accelerationZ=0,t.pAccelerationX=0,t.pAccelerationY=0,t.pAccelerationZ=0,t._updatePAccelerations=function(){this.pAccelerationX=this.accelerationX,this.pAccelerationY=this.accelerationY,this.pAccelerationZ=this.accelerationZ},t.rotationX=0,t.rotationY=0,t.rotationZ=0,t.pRotationX=0,t.pRotationY=0,t.pRotationZ=0;let i=0,s=0,o=0,a="clockwise",l="clockwise",u="clockwise";t.pRotateDirectionX=void 0,t.pRotateDirectionY=void 0,t.pRotateDirectionZ=void 0,t._updatePRotations=function(){this.pRotationX=this.rotationX,this.pRotationY=this.rotationY,this.pRotationZ=this.rotationZ},t.turnAxis=void 0;let h=.5,c=30;t.setMoveThreshold=function(f){h=f},t.setShakeThreshold=function(f){c=f},t._ondeviceorientation=function(f){this._updatePRotations(),this.rotationX=this._fromDegrees(f.beta),this.rotationY=this._fromDegrees(f.gamma),this.rotationZ=this._fromDegrees(f.alpha),this._handleMotion()},t._ondevicemotion=function(f){this._updatePAccelerations(),this.accelerationX=f.acceleration.x*2,this.accelerationY=f.acceleration.y*2,this.accelerationZ=f.acceleration.z*2,this._handleMotion()},t._handleMotion=function(){if(screen.orientation.type==="landscape-primary"||screen.orientation.type==="landscape-secondary"?this.deviceOrientation="landscape":screen.orientation.type==="portrait-primary"||screen.orientation.type==="portrait-secondary"?this.deviceOrientation="portrait":this.deviceOrientation="undefined",typeof this._customActions.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>h||Math.abs(this.accelerationY-this.pAccelerationY)>h||Math.abs(this.accelerationZ-this.pAccelerationZ)>h)&&this._customActions.deviceMoved(),typeof this._customActions.deviceTurned=="function"){const f=this._toDegrees(this.rotationX)+180,d=this._toDegrees(this.pRotationX)+180;let p=i+180;f-d>0&&f-d<270||f-d<-270?a="clockwise":(f-d<0||f-d>270)&&(a="counter-clockwise"),a!==this.pRotateDirectionX&&(p=f),Math.abs(f-p)>90&&Math.abs(f-p)<270&&(p=f,this.turnAxis="X",this._customActions.deviceTurned()),this.pRotateDirectionX=a,i=p-180;const m=this._toDegrees(this.rotationY)+180,g=this._toDegrees(this.pRotationY)+180;let v=s+180;m-g>0&&m-g<270||m-g<-270?l="clockwise":(m-g<0||m-this.pRotationY>270)&&(l="counter-clockwise"),l!==this.pRotateDirectionY&&(v=m),Math.abs(m-v)>90&&Math.abs(m-v)<270&&(v=m,this.turnAxis="Y",this._customActions.deviceTurned()),this.pRotateDirectionY=l,s=v-180;const E=this._toDegrees(this.rotationZ),y=this._toDegrees(this.pRotationZ);E-y>0&&E-y<270||E-y<-270?u="clockwise":(E-y<0||E-y>270)&&(u="counter-clockwise"),u!==this.pRotateDirectionZ&&(o=E),Math.abs(E-o)>90&&Math.abs(E-o)<270&&(o=E,this.turnAxis="Z",this._customActions.deviceTurned()),this.pRotateDirectionZ=u,this.turnAxis=void 0}if(typeof this._customActions.deviceShaken=="function"){let f,d;this.pAccelerationX!==null&&(f=Math.abs(this.accelerationX-this.pAccelerationX),d=Math.abs(this.accelerationY-this.pAccelerationY)),f+d>c&&this._customActions.deviceShaken()}}}typeof p5<"u"&&Uk(p5,p5.prototype);function Bne(n){return["Alt","Shift","Control","Meta"].includes(n)||typeof n!="string"?!1:n.length>1}function Vk(n,t,r){r.presetup=function(){const i=["keydown","keyup","keypress","blur"];for(const s of i)window.addEventListener(s,this[`_on${s}`].bind(this),{passive:!1,signal:this._removeSignal})},t.keyIsPressed=!1,t.key="",t.code="",t.keyCode=0,t._onkeydown=function(i){this._downKeys[i.code]||(this.keyIsPressed=!0,this.keyCode=i.which,this.key=i.key,this.code=i.code,this._downKeyCodes[i.code]=!0,this._downKeys[i.key]=!0,typeof this._customActions.keyPressed=="function"&&!i.charCode&&this._customActions.keyPressed(i)===!1&&i.preventDefault())},t._onkeyup=function(i){if(typeof this._customActions.keyReleased=="function"&&this._customActions.keyReleased(i)===!1&&i.preventDefault(),delete this._downKeyCodes[i.code],delete this._downKeys[i.key],!this._areDownKeys())this.keyIsPressed=!1,this.key="",this.code="";else{const s=Object.keys(this._downKeyCodes).pop();this.code=s;const o=Object.keys(this._downKeys).pop();this.key=o}},t._onkeypress=function(i){i.which===this._lastKeyCodeTyped&&i.repeat||(this._lastKeyCodeTyped=i.which,this.key=i.key||String.fromCharCode(i.which)||i.which,typeof this._customActions.keyTyped=="function"&&this._customActions.keyTyped(i)===!1&&i.preventDefault())},t._onblur=function(i){this._downKeys={}},t.keyIsDown=function(i){return Bne(i)?this._downKeyCodes[i]||this._downKeys[i]||!1:this._downKeys[i]||this._downKeyCodes[i]||!1},t._areDownKeys=function(){for(const i in this._downKeys)if(this._downKeys.hasOwnProperty(i)&&this._downKeys[i]===!0)return!0;return!1}}typeof p5<"u"&&Vk(p5,p5.prototype);function $k(n,t,r){r.presetup=function(){const o=["pointerdown","pointerup","pointermove","dragend","dragover","click","dblclick","wheel"];for(const a of o)window.addEventListener(a,this[`_on${a}`].bind(this),{passive:!1,signal:this._removeSignal})},t.movedX=0,t.movedY=0,t._hasMouseInteracted=!1,t.mouseX=0,t.mouseY=0,t.pmouseX=0,t.pmouseY=0,t.winMouseX=0,t.winMouseY=0,t.pwinMouseX=0,t.pwinMouseY=0,t.mouseButton={left:!1,right:!1,center:!1},t.touches=[],t._activePointers=new Map,t.mouseIsPressed=!1,t._updatePointerCoords=function(o){if(this._curElement!==null){const a=this._curElement.elt,l=a.scrollWidth/this.width||1,u=a.scrollHeight/this.height||1;if(o.pointerType==="touch"){const c=[];for(const f of this._activePointers.values())c.push(s(a,l,u,f));this.touches=c}const h=i(a,l,u,o);this.movedX=o.movementX||0,this.movedY=o.movementY||0,this.mouseX=h.x,this.mouseY=h.y,this.winMouseX=h.winX,this.winMouseY=h.winY,this._hasMouseInteracted||(this._updateMouseCoords(),this._hasMouseInteracted=!0)}},t._updateMouseCoords=function(){this.pmouseX=this.mouseX,this.pmouseY=this.mouseY,this.pwinMouseX=this.winMouseX,this.pwinMouseY=this.winMouseY,this._pmouseWheelDeltaY=this._mouseWheelDeltaY};function i(o,a,l,u){const h=o.getBoundingClientRect();return{x:(u.clientX-h.left)/a,y:(u.clientY-h.top)/l,winX:u.clientX,winY:u.clientY}}function s(o,a,l,u){const h=o.getBoundingClientRect();return{x:(u.clientX-h.left)/a,y:(u.clientY-h.top)/l,winX:u.clientX,winY:u.clientY,id:u.pointerId}}t._setMouseButton=function(o){this.mouseButton.left=Array.from(this._activePointers.values()).some(a=>(a.buttons&1)!==0),this.mouseButton.center=Array.from(this._activePointers.values()).some(a=>(a.buttons&4)!==0),this.mouseButton.right=Array.from(this._activePointers.values()).some(a=>(a.buttons&2)!==0)},t._onpointermove=function(o){let a;this._updatePointerCoords(o),this._activePointers.set(o.pointerId,o),this._setMouseButton(o),!this.mouseIsPressed&&typeof this._customActions.mouseMoved=="function"?(a=this._customActions.mouseMoved(o),a===!1&&o.preventDefault()):this.mouseIsPressed&&typeof this._customActions.mouseDragged=="function"&&(a=this._customActions.mouseDragged(o),a===!1&&o.preventDefault())},t._onpointerdown=function(o){let a;this.mouseIsPressed=!0,this._activePointers.set(o.pointerId,o),this._setMouseButton(o),this._updatePointerCoords(o),typeof this._customActions.mousePressed=="function"&&(a=this._customActions.mousePressed(o),a===!1&&o.preventDefault())},t._onpointerup=function(o){let a;this.mouseIsPressed=!1,this._activePointers.delete(o.pointerId),this._setMouseButton(o),this._updatePointerCoords(o),typeof this._customActions.mouseReleased=="function"&&(a=this._customActions.mouseReleased(o),a===!1&&o.preventDefault())},t._ondragend=t._onpointerup,t._ondragover=t._onpointermove,t._onclick=function(o){typeof this._customActions.mouseClicked=="function"&&this._customActions.mouseClicked(o)===!1&&o.preventDefault()},t._ondblclick=function(o){typeof this._customActions.doubleClicked=="function"&&this._customActions.doubleClicked(o)===!1&&o.preventDefault()},t._mouseWheelDeltaY=0,t._pmouseWheelDeltaY=0,t._onwheel=function(o){this._mouseWheelDeltaY=o.deltaY,typeof this._customActions.mouseWheel=="function"&&(o.delta=o.deltaY,this._customActions.mouseWheel(o)===!1&&o.preventDefault())},t.requestPointerLock=function(){const o=this._curElement.elt;return o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock,o.requestPointerLock?(o.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},t.exitPointerLock=function(){document.exitPointerLock()}}typeof p5<"u"&&$k(p5,p5.prototype);function Une(n){n.registerAddon(Uk),n.registerAddon(Vk),n.registerAddon($k)}function Vne(n){n.registerAddon(ex),n.registerAddon(tx),n.registerAddon(F5),n.registerAddon(Zb),n.registerAddon(nx),n.registerAddon(ax)}class $ne{constructor(t){this.columns=[],this.rows=[]}toString(t=","){let r=this.rows.map(i=>i.arr);return this.columns.some(i=>i===null)||(r=[this.columns,...r]),pK(r,{separator:t})}addRow(t){const r=t||new p5.TableRow;if(typeof r.arr>"u"||typeof r.obj>"u")throw new Error(`invalid TableRow: ${r}`);return r.table=this,this.rows.push(r),r}removeRow(t){this.rows[t].table=null;const r=this.rows.splice(t+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(r)}getRow(t){return this.rows[t]}getRows(){return this.rows}findRow(t,r){if(typeof r=="string"){for(let i=0;i<this.rows.length;i++)if(this.rows[i].obj[this.columns.indexOf(r)]===t)return this.rows[i]}else for(let i=0;i<this.rows.length;i++)if(this.rows[i].arr[r]===t)return this.rows[i];return null}findRows(t,r){const i=[];if(typeof r=="string")for(let s=0;s<this.rows.length;s++)this.rows[s].obj[this.columns.indexOf(r)]===t&&i.push(this.rows[s]);else for(let s=0;s<this.rows.length;s++)this.rows[s].arr[r]===t&&i.push(this.rows[s]);return i}matchRow(t,r){if(typeof r=="number"){for(let i=0;i<this.rows.length;i++)if(this.rows[i].arr[r].match(t))return this.rows[i]}else for(let i=0;i<this.rows.length;i++)if(this.rows[i].obj[this.columns.indexOf(r)].match(t))return this.rows[i];return null}matchRows(t,r){const i=[];if(typeof r=="number")for(let s=0;s<this.rows.length;s++)this.rows[s].arr[r].match(t)&&i.push(this.rows[s]);else for(let s=0;s<this.rows.length;s++)this.rows[s].obj[this.columns.indexOf(r)].match(t)&&i.push(this.rows[s]);return i}getColumn(t){const r=[];if(typeof t=="string")for(let i=0;i<this.rows.length;i++)r.push(this.rows[i].obj[this.columns.indexOf(t)]);else for(let i=0;i<this.rows.length;i++)r.push(this.rows[i].arr[t]);return r}clearRows(){delete this.rows,this.rows=[]}addColumn(t){const r=t||null;this.columns.push(r)}getColumnCount(){return this.columns.length}getRowCount(){return this.rows.length}removeTokens(t,r){const i=a=>a.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),s=[];for(let a=0;a<t.length;a++)s.push(i(t.charAt(a)));const o=new RegExp(s.join("|"),"g");if(typeof r>"u")for(let a=0;a<this.columns.length;a++)for(let l=0;l<this.rows.length;l++){let u=this.rows[l].arr[a];u=u.replace(o,""),this.rows[l].arr[a]=u,this.rows[l].obj[this.columns[a]]=u}else if(typeof r=="string")for(let a=0;a<this.rows.length;a++){let l=this.rows[a].obj[r];l=l.replace(o,""),this.rows[a].obj[r]=l;const u=this.columns.indexOf(r);this.rows[a].arr[u]=l}else for(let a=0;a<this.rows.length;a++){let l=this.rows[a].arr[r];l=l.replace(o,""),this.rows[a].arr[r]=l,this.rows[a].obj[this.columns[r]]=l}}trim(t){const r=new RegExp(" ","g");if(typeof t>"u")for(let i=0;i<this.columns.length;i++)for(let s=0;s<this.rows.length;s++){let o=this.rows[s].arr[i];o=o.replace(r,""),this.rows[s].arr[i]=o,this.rows[s].obj[this.columns[i]]=o}else if(typeof t=="string")for(let i=0;i<this.rows.length;i++){let s=this.rows[i].obj[t];s=s.replace(r,""),this.rows[i].obj[t]=s;const o=this.columns.indexOf(t);this.rows[i].arr[o]=s}else for(let i=0;i<this.rows.length;i++){let s=this.rows[i].arr[t];s=s.replace(r,""),this.rows[i].arr[t]=s,this.rows[i].obj[this.columns[t]]=s}}removeColumn(t){let r,i;typeof t=="string"?(r=t,i=this.columns.indexOf(t)):(i=t,r=this.columns[t]);const s=this.columns.splice(i+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(s);for(let o=0;o<this.rows.length;o++){const a=this.rows[o].arr,l=a.splice(i+1,a.length);a.pop(),this.rows[o].arr=a.concat(l),delete this.rows[o].obj[r]}}set(t,r,i){this.rows[t].set(r,i)}setNum(t,r,i){this.rows[t].setNum(r,i)}setString(t,r,i){this.rows[t].setString(r,i)}get(t,r){return typeof r=="string"?this.rows[t].get(this.columns.indexOf(r)):this.rows[t].get(r)}getNum(t,r){return this.rows[t].getNum(r)}getString(t,r){return this.rows[t].getString(r)}getObject(t){const r={};let i,s,o;for(let a=0;a<this.rows.length;a++)if(i=this.rows[a].obj,typeof t=="string")if(s=this.columns.indexOf(t),s>=0)o=i[t],r[o]=i;else throw new Error(`This table has no column named "${t}"`);else r[a]=this.rows[a].obj;return r}getArray(){const t=[];for(let r=0;r<this.rows.length;r++)t.push(this.rows[r].arr);return t}}function jk(n,t){n.Table=$ne}typeof p5<"u"&&jk(p5,p5.prototype);class jne{constructor(t=[]){let r=t;this.arr=r,this.obj=Object.fromEntries(r.entries()),this.table=null}set(t,r){if(typeof t=="string"){const i=this.table.columns.indexOf(t);if(i>=0)this.obj[t]=r,this.arr[i]=r;else throw new Error(`This table has no column named "${t}"`)}else if(t<this.table.columns.length){this.arr[t]=r;const i=this.table.columns[t];this.obj[i]=r}else throw new Error(`Column #${t} is out of the range of this table`)}setNum(t,r){const i=parseFloat(r);this.set(t,i)}setString(t,r){const i=r.toString();this.set(t,i)}get(t){return typeof t=="string"?this.obj[this.table.columns.indexOf(t)]:this.arr[t]}getNum(t){let r;if(typeof t=="string"?r=parseFloat(this.obj[this.table.columns.indexOf(t)]):r=parseFloat(this.arr[t]),r.toString()==="NaN")throw`Error: ${this.obj[t]} is NaN (Not a Number)`;return r}getString(t){return typeof t=="string"?this.obj[this.table.columns.indexOf(t)].toString():this.arr[t].toString()}}function zk(n,t){n.TableRow=jne}typeof p5<"u"&&zk(p5,p5.prototype);function zne(n){n.registerAddon(j5),n.registerAddon(jk),n.registerAddon(zk),n.registerAddon(c5)}function Gk(n,t){t.abs=Math.abs,t.ceil=Math.ceil,t.constrain=function(r,i,s){return Math.max(Math.min(r,s),i)},t.dist=function(...r){if(r.length===4)return Math.hypot(r[2]-r[0],r[3]-r[1]);if(r.length===6)return Math.hypot(r[3]-r[0],r[4]-r[1],r[5]-r[2])},t.exp=Math.exp,t.floor=Math.floor,t.lerp=function(r,i,s){return s*(i-r)+r},t.log=Math.log,t.mag=function(r,i){return Math.hypot(r,i)},t.map=function(r,i,s,o,a,l){const u=(r-i)/(s-i)*(a-o)+o;return l?o<a?this.constrain(u,o,a):this.constrain(u,a,o):u},t.max=function(...r){const i=s=>{let o=-1/0;for(let a of s)o=Math.max(o,a);return o};return r[0]instanceof Array?i(r[0]):i(r)},t.min=function(...r){const i=s=>{let o=1/0;for(let a of s)o=Math.min(o,a);return o};return r[0]instanceof Array?i(r[0]):i(r)},t.norm=function(r,i,s){return this.map(r,i,s,0,1)},t.pow=Math.pow,t.round=function(r,i){if(!i)return Math.round(r);const s=Math.pow(10,i);return Math.round(r*s)/s},t.sq=r=>r*r,t.sqrt=Math.sqrt,t.fract=function(r){let i=0,s=Number(r);if(isNaN(s)||Math.abs(s)===1/0)return s;if(s<0&&(s=-s,i=1),String(s).includes(".")&&!String(s).includes("e")){let o=String(s);return o=+("0"+o.slice(o.indexOf("."))),Math.abs(i-o)}else return s<1?Math.abs(i-s):0}}typeof p5<"u"&&Gk(p5,p5.prototype);function Hk(n,t){let l=4,u=.5;const h=f=>.5*(1-Math.cos(f*Math.PI));let c;t.noise=function(f,d=0,p=0){if(c==null){c=new Array(4096);for(let k=0;k<4096;k++)c[k]=Math.random()}f<0&&(f=-f),d<0&&(d=-d),p<0&&(p=-p);let m=Math.floor(f),g=Math.floor(d),v=Math.floor(p),E=f-m,y=d-g,x=p-v,b,w,S=0,_=.5,T,C,F;for(let k=0;k<l;k++){let D=m+(g<<4)+(v<<8);b=h(E),w=h(y),T=c[D&4095],T+=b*(c[D+1&4095]-T),C=c[D+16&4095],C+=b*(c[D+16+1&4095]-C),T+=w*(C-T),D+=256,C=c[D&4095],C+=b*(c[D+1&4095]-C),F=c[D+16&4095],F+=b*(c[D+16+1&4095]-F),C+=w*(F-C),T+=h(x)*(C-T),S+=T*_,_*=u,m<<=1,E*=2,g<<=1,y*=2,v<<=1,x*=2,E>=1&&(m++,E--),y>=1&&(g++,y--),x>=1&&(v++,x--)}return S},t.noiseDetail=function(f,d){f>0&&(l=f),d>0&&(u=d)},t.noiseSeed=function(f){const d=(()=>{let v,E;return{setSeed(y){E=v=(y??Math.random()*4294967296)>>>0},getSeed(){return v},rand(){return E=(1664525*E+1013904223)%4294967296,E/4294967296}}})();d.setSeed(f),c=new Array(4096);for(let p=0;p<4096;p++)c[p]=d.rand()}}typeof p5<"u"&&Hk(p5,p5.prototype);function Wk(n,t){const r="_lcg_random_state";let a=0;t._lcg=function(l){return this[l]=(1664525*this[l]+1013904223)%4294967296,this[l]/4294967296},t._lcgSetSeed=function(l,u){this[l]=(u??Math.random()*4294967296)>>>0},t.randomSeed=function(l){this._lcgSetSeed(r,l),this._gaussian_previous=!1},t.random=function(l,u){let h;if(this[r]!=null?h=this._lcg(r):h=Math.random(),typeof l>"u")return h;if(typeof u>"u")return l instanceof Array?l[Math.floor(h*l.length)]:h*l;if(l>u){const c=l;l=u,u=c}return h*(u-l)+l},t.randomGaussian=function(l,u=1){let h,c,f,d;if(this._gaussian_previous)h=a,this._gaussian_previous=!1;else{do c=this.random(2)-1,f=this.random(2)-1,d=c*c+f*f;while(d>=1);d=Math.sqrt(-2*Math.log(d)/d),h=c*d,a=f*d,this._gaussian_previous=!0}const p=l||0;return h*u+p}}typeof p5<"u"&&Wk(p5,p5.prototype);function Xk(n,t){t.createVector=function(r,i,s){return arguments.length===0&&n._friendlyError("In 1.x, createVector() was a shortcut for createVector(0, 0, 0). In 2.x, p5.js has vectors of any dimension, so you must provide your desired number of zeros. Use createVector(0, 0) for a 2D vector and createVector(0, 0, 0) for a 3D vector."),this instanceof n?new n.Vector(this._fromRadians.bind(this),this._toRadians.bind(this),...arguments):new n.Vector(r,i,s)},t.createMatrix=function(...r){return new n.Matrix(...r)}}typeof p5<"u"&&Xk(p5,p5.prototype);function Gne(n){n.registerAddon(Gk),n.registerAddon(Hk),n.registerAddon(Wk),n.registerAddon(Qb),n.registerAddon(Xk),n.registerAddon(d5)}function qk(n,t){t.float=function(r){return r instanceof Array?r.map(parseFloat):parseFloat(r)},t.int=function(r,i=10){if(r===1/0||r==="Infinity")return 1/0;if(r===-1/0||r==="-Infinity")return-1/0;if(typeof r=="string")return parseInt(r,i);if(typeof r=="number")return r|0;if(typeof r=="boolean")return r?1:0;if(r instanceof Array)return r.map(s=>t.int(s,i))},t.str=function(r){return r instanceof Array?r.map(t.str):String(r)},t.boolean=function(r){if(typeof r=="number")return r!==0;if(typeof r=="string")return r.toLowerCase()==="true";if(typeof r=="boolean")return r;if(r instanceof Array)return r.map(t.boolean)},t.byte=function(r){const i=t.int(r,10);if(typeof i=="number")return(i+128)%256-128;if(i instanceof Array)return i.map(t.byte)},t.char=function(r){if(typeof r=="number"&&!isNaN(r))return String.fromCharCode(r);if(r instanceof Array)return r.map(t.char);if(typeof r=="string")return t.char(parseInt(r,10))},t.unchar=function(r){if(typeof r=="string"&&r.length===1)return r.charCodeAt(0);if(r instanceof Array)return r.map(t.unchar)},t.hex=function(r,i){if(i=i??(i=8),r instanceof Array)return r.map(s=>t.hex(s,i));if(r===1/0||r===-1/0)return(r===1/0?"F":"0").repeat(i);if(typeof r=="number"){r<0&&(r=4294967295+r+1);let s=Number(r).toString(16).toUpperCase();for(;s.length<i;)s=`0${s}`;return s.length>=i&&(s=s.substring(s.length-i,s.length)),s}},t.unhex=function(r){return r instanceof Array?r.map(t.unhex):parseInt(`0x${r}`,16)}}typeof p5<"u"&&qk(p5,p5.prototype);function Yk(n,t){t.nf=function(a,l,u){return a instanceof Array?a.map(h=>r(h,l,u)):Object.prototype.toString.call(a)==="[object Arguments]"?a.length===3?this.nf(a[0],a[1],a[2]):a.length===2?this.nf(a[0],a[1]):this.nf(a[0]):r(a,l,u)};function r(a,l,u){let h=a<0;a=Math.abs(a);let[c,f]=a.toString().split(".");if(typeof u>"u"){c=c.padStart(l,"0");let d=f?c+"."+f:c;return h?"-"+d:d}else{[c,f]=a.toFixed(u).toString().split("."),c=c.padStart(l,"0");let p=typeof f>"u"?c:c+"."+f;return h?"-"+p:p}}t.nfc=function(a,l){return a instanceof Array?a.map(u=>i(u,l)):i(a,l)};function i(a,l){a=a.toString();const u=a.indexOf(".");let h=u!==-1?a.substring(u):"",c=u!==-1?a.substring(0,u):a;if(c=c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),l===0)h="";else if(typeof l<"u")if(l>h.length){h+=u===-1?".":"";const f=l-h.length+1;for(let d=0;d<f;d++)h+="0"}else h=h.substring(0,l+1);return c+h}t.nfp=function(...a){const l=t.nf.apply(this,a);return l instanceof Array?l.map(s):s(l)};function s(a){return parseFloat(a)>0?`+${a.toString()}`:a.toString()}t.nfs=function(...a){const l=t.nf.apply(this,a);return l instanceof Array?l.map(o):o(l)};function o(a){return parseFloat(a)>=0?` ${a.toString()}`:a.toString()}t.splitTokens=function(a,l){let u;if(typeof l<"u"){let h=l;const c=/\]/g.exec(h);let f=/\[/g.exec(h);f&&c?(h=h.slice(0,c.index)+h.slice(c.index+1),f=/\[/g.exec(h),h=h.slice(0,f.index)+h.slice(f.index+1),u=new RegExp(`[\\[${h}\\]]`,"g")):c?(h=h.slice(0,c.index)+h.slice(c.index+1),u=new RegExp(`[${h}\\]]`,"g")):f?(h=h.slice(0,f.index)+h.slice(f.index+1),u=new RegExp(`[${h}\\[]`,"g")):u=new RegExp(`[${h}]`,"g")}else u=/\s/g;return a.split(u).filter(h=>h)},t.shuffle=function(a,l){const u=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(a);a=l||u?a:a.slice();let h,c,f=a.length;for(;f>1;)h=this.random(0,1)*f|0,c=a[--f],a[f]=a[h],a[h]=c;return a}}typeof p5<"u"&&Yk(p5,p5.prototype);function Kk(n,t){t.day=function(){return new Date().getDate()},t.hour=function(){return new Date().getHours()},t.minute=function(){return new Date().getMinutes()},t.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.month=function(){return new Date().getMonth()+1},t.second=function(){return new Date().getSeconds()},t.year=function(){return new Date().getFullYear()}}typeof p5<"u"&&Kk(p5,p5.prototype);function Hne(n){n.registerAddon(qk),n.registerAddon(Yk),n.registerAddon(Kk)}function Zk(n,t){t.orbitControl=function(r,i,s,o){this._assert3d("orbitControl");const a=this._renderer.states.curCamera;typeof r>"u"&&(r=1),typeof i>"u"&&(i=r),typeof s>"u"&&(s=1),typeof o!="object"&&(o={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=()=>!1,this.contextMenuDisabled=!0),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=()=>!1,this.wheelDefaultDisabled=!0);const{disableTouchActions:l=!0}=o;this.touchActionsDisabled!==!0&&l&&(this.canvas.style["touch-action"]="none",this.touchActionsDisabled=!0);const{freeRotation:u=!1}=o,h=[];this.touches.forEach(S=>{this._renderer.prevTouches.forEach(_=>{if(S.id===_.id){const T={x:S.x,y:S.y,px:_.x,py:_.y};h.push(T)}})}),this._renderer.prevTouches=this.touches;let c=0,f=0,d=0,p=0,m=0;const g=.85,v=.6,E=.15,y=.01,x=4e-4,b=this.height<this.width?this.height:this.width;let w=!1;if(h.length>0){if(w=h[0].x>0&&h[0].x<this.width&&h[0].y>0&&h[0].y<this.height,h.length===1){const S=h[0];f=-r*(S.x-S.px)/b,d=i*(S.y-S.py)/b}else{const S=h[0],_=h[1],T=Math.hypot(S.x-_.x,S.y-_.y),C=Math.hypot(S.px-_.px,S.py-_.py);c=-(T-C)*s*x,p=.5*(S.x+_.x)-.5*(S.px+_.px),m=.5*(S.y+_.y)-.5*(S.py+_.py)}this.touches.length>0?w&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)}else w=this.mouseX>0&&this.mouseX<this.width&&this.mouseY>0&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(c=Math.sign(this._mouseWheelDeltaY)*s,c*=y,this._mouseWheelDeltaY=0,w&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton.left?(f=-r*this.movedX/b,d=i*this.movedY/b):this.mouseButton.right&&(p=this.movedX,m=this.movedY*a.yScale),w&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1;if(c!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=c),Math.abs(this._renderer.zoomVelocity)>.001?(u?a._orbitFree(0,0,this._renderer.zoomVelocity):a._orbit(0,0,this._renderer.zoomVelocity),a.projMatrix.mat4[15]!==0&&(a.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),a.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4[0]=a.projMatrix.mat4[0],this._renderer.states.uPMatrix.mat4[5]=a.projMatrix.mat4[5]),this._renderer.zoomVelocity*=g):this._renderer.zoomVelocity=0,(f!==0||d!==0)&&this._renderer.executeRotateAndMove&&this._renderer.rotateVelocity.add(f*v,d*v),this._renderer.rotateVelocity.magSq()>1e-6?(u?a._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):a._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(g)):this._renderer.rotateVelocity.set(0,0),(p!==0||m!==0)&&this._renderer.executeRotateAndMove){const S=p*2/this.width,_=-m*2/this.height;this._renderer.moveVelocity.add(S*E,_*E)}if(this._renderer.moveVelocity.magSq()>1e-6){const S=a._getLocalAxes(),_=a.eyeX-a.centerX,T=a.eyeY-a.centerY,C=a.eyeZ-a.centerZ,F=Math.sqrt(_*_+T*T+C*C);let k=new Fe(a.centerX,a.centerY,a.centerZ);k=a.cameraMatrix.multiplyPoint(k),k=this._renderer.states.uPMatrix.multiplyAndNormalizePoint(k),k.x-=this._renderer.moveVelocity.x,k.y-=this._renderer.moveVelocity.y;let D,N;const M=this._renderer.states.uPMatrix.mat4;M[15]===0?(D=(M[8]+k.x)/M[0]*F,N=(M[9]+k.y)/M[5]*F):(D=(k.x-M[12])/M[0],N=(k.y-M[13])/M[5]),a.setPosition(a.eyeX+D*S.x[0]+N*S.y[0],a.eyeY+D*S.x[1]+N*S.y[1],a.eyeZ+D*S.x[2]+N*S.y[2]),this._renderer.moveVelocity.mult(g)}else this._renderer.moveVelocity.set(0,0);return this},t.debugMode=function(...r){this._assert3d("debugMode");for(let i=n.lifecycleHooks.postdraw.length-1;i>=0;i--)(n.lifecycleHooks.postdraw[i].toString()===this._grid().toString()||n.lifecycleHooks.postdraw[i].toString()===this._axesIcon().toString())&&n.lifecycleHooks.postdraw.splice(i,1);r[0]===UN?n.lifecycleHooks.postdraw.push(this._grid(r[1],r[2],r[3],r[4],r[5])):r[0]===VN?n.lifecycleHooks.postdraw.push(this._axesIcon(r[1],r[2],r[3],r[4])):(n.lifecycleHooks.postdraw.push(this._grid(r[0],r[1],r[2],r[3],r[4])),n.lifecycleHooks.postdraw.push(this._axesIcon(r[5],r[6],r[7],r[8])))},t.noDebugMode=function(){this._assert3d("noDebugMode");for(let r=n.lifecycleHooks.postdraw.length-1;r>=0;r--)(n.lifecycleHooks.postdraw[r].toString()===this._grid().toString()||n.lifecycleHooks.postdraw[r].toString()===this._axesIcon().toString())&&n.lifecycleHooks.postdraw.splice(r,1)},t._grid=function(r,i,s,o,a){typeof r>"u"&&(r=this.width/2),typeof i>"u"&&(i=Math.round(r/30)<4?4:Math.round(r/30)),typeof s>"u"&&(s=0),typeof o>"u"&&(o=0),typeof a>"u"&&(a=0);const l=r/i,u=r/2;return function(){this.push(),this.stroke(this._renderer.states.curStrokeColor[0]*255,this._renderer.states.curStrokeColor[1]*255,this._renderer.states.curStrokeColor[2]*255),this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset();for(let h=0;h<=i;h++)this.beginShape(this.LINES),this.vertex(-u+s,o,h*l-u+a),this.vertex(+u+s,o,h*l-u+a),this.endShape();for(let h=0;h<=i;h++)this.beginShape(this.LINES),this.vertex(h*l-u+s,o,-u+a),this.vertex(h*l-u+s,o,+u+a),this.endShape();this.pop()}},t._axesIcon=function(r,i,s,o){return typeof r>"u"&&(r=this.width/20>40?this.width/20:40),typeof i>"u"&&(i=-this.width/4),typeof s>"u"&&(s=i),typeof o>"u"&&(o=i),()=>{this.push(),this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(i,s,o),this.vertex(i+r,s,o),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(i,s,o),this.vertex(i,s+r,o),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(i,s,o),this.vertex(i,s,o+r),this.endShape(),this.pop()}}}typeof p5<"u"&&Zk(p5,p5.prototype);async function Wne(n){try{return(await fetch(n,{method:"HEAD"})).ok}catch{return!1}}function Jk(n,t){t.loadModel=async function(c,f,d,p,m){let g=!1,v=!1;typeof f=="object"?(d=f.normalize||!1,p=f.successCallback,m=f.failureCallback,f=f.fileType||f,g=f.flipU||!1,v=f.flipV||!1):(typeof arguments[arguments.length-1]=="function"&&(typeof arguments[arguments.length-2]=="function"?(p=arguments[arguments.length-2],m=arguments[arguments.length-1]):p=arguments[arguments.length-1]),typeof f=="string"?typeof d!="boolean"&&(d=!1):typeof f=="boolean"?(d=f,f=c.slice(-4)):(f=c.slice(-4),d=!1)),f.toLowerCase()!==".obj"&&f.toLowerCase()!==".stl"&&(f=".obj");const E=new zr(void 0,void 0,void 0,this._renderer);E.gid=`${c}|${d}`;async function y(x){const b=[];for(let w of x){const S=w.match(/^mtllib (.+)/);if(S){let _="";const T=S[1],C=c.split("/");C.length>1?(C.pop(),_=C.join("/")+"/"+T):_=T,b.push(Wne(_).then(F=>F?r(_):(console.warn(`MTL file not found or error in parsing; proceeding without materials: ${_}`),{})).catch(F=>(console.warn(`Error loading MTL file: ${_}`,F),{})))}}try{const w=await Promise.all(b);return Object.assign({},...w)}catch{return{}}}try{if(f.match(/\.stl$/i)){const{data:x}=await as(c,"arrayBuffer");return s(E,x),d&&E.normalize(),g&&E.flipU(),v&&E.flipV(),E._makeTriangleEdges(),p?p(E):E}else if(f.match(/\.obj$/i)){const{data:x}=await as(c,"text"),b=x.split(`
`),w=await y(b);return i(E,b,w),d&&E.normalize(),g&&E.flipU(),v&&E.flipV(),E._makeTriangleEdges(),p?p(E):E}}catch(x){if(n._friendlyFileLoadError(3,c),m)return m(x);throw x}};async function r(c){let f=null,d={};const{data:p}=await as(c,"text"),m=p.split(`
`);for(let g=0;g<m.length;++g){const v=m[g].trim().split(/\s+/);v[0]==="newmtl"?(f=v[1],d[f]={}):v[0]==="Kd"?d[f].diffuseColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]==="Ka"?d[f].ambientColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]==="Ks"?d[f].specularColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]==="map_Kd"&&(d[f].texturePath=v[1])}return d}function i(c,f,d={}){const p={v:[],vt:[],vn:[]},m={};let g=null,v=!1,E=!1;for(let y=0;y<f.length;++y){const x=f[y].trim().split(/\b\s+/);if(x.length>0){if(x[0]==="usemtl")g=x[1];else if(x[0]==="v"||x[0]==="vn"){const b=new Fe(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3]));p[x[0]].push(b)}else if(x[0]==="vt"){const b=[parseFloat(x[1]),1-parseFloat(x[2])];p[x[0]].push(b)}else if(x[0]==="f")for(let b=3;b<x.length;++b){const w=[],S=[1,b-1,b];for(let _=0;_<S.length;++_){const T=x[S[_]];let C=T.split("/");for(let F=0;F<C.length;F++)C[F]=parseInt(C[F])-1;if(m[T]||(m[T]={}),m[T][g]===void 0){const F=c.vertices.length;if(c.vertices.push(p.v[C[0]].copy()),c.uvs.push(p.vt[C[1]]?p.vt[C[1]].slice():[0,0]),c.vertexNormals.push(p.vn[C[2]]?p.vn[C[2]].copy():new Fe),m[T][g]=F,w.push(F),g&&d[g]&&d[g].diffuseColor){v=!0;const k=d[g].diffuseColor;c.vertexColors.push(k[0]),c.vertexColors.push(k[1]),c.vertexColors.push(k[2]),c.vertexColors.push(1)}else E=!0}else w.push(m[T][g])}w[0]!==w[1]&&w[0]!==w[2]&&w[1]!==w[2]&&c.faces.push(w)}}}if(c.vertexNormals.length===0&&c.computeNormals(),v===E)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.");return c}function s(c,f){if(o(f))l(c,f);else{const d=new DataView(f);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)"),c;const g=new TextDecoder("utf-8").decode(d).split(`
`);u(c,g)}return c}function o(c){const f=new DataView(c),d=[115,111,108,105,100];for(let p=0;p<5;p++)if(a(d,f,p))return!1;return!0}function a(c,f,d){for(let p=0,m=c.length;p<m;p++)if(c[p]!==f.getUint8(d+p,!1))return!1;return!0}function l(c,f){const d=new DataView(f),p=d.getUint32(80,!0);let m,g,v,E=!1,y,x,b,w;for(let T=0;T<70;T++)d.getUint32(T,!1)===1129270351&&d.getUint8(T+4)===82&&d.getUint8(T+5)===61&&(E=!0,y=[],x=d.getUint8(T+6)/255,b=d.getUint8(T+7)/255,w=d.getUint8(T+8)/255);const S=84,_=50;for(let T=0;T<p;T++){const C=S+T*_,F=d.getFloat32(C,!0),k=d.getFloat32(C+4,!0),D=d.getFloat32(C+8,!0);if(E){const M=d.getUint16(C+48,!0);(M&32768)===0?(m=(M&31)/31,g=(M>>5&31)/31,v=(M>>10&31)/31):(m=x,g=b,v=w)}const N=new Fe(F,k,D);for(let M=1;M<=3;M++){const U=C+M*12,B=new Fe(d.getFloat32(U,!0),d.getFloat32(U+4,!0),d.getFloat32(U+8,!0));c.vertices.push(B),c.vertexNormals.push(N),E&&y.push(m,g,v)}c.faces.push([3*T,3*T+1,3*T+2]),c.uvs.push([0,0],[0,0],[0,0])}return c}function u(c,f){let d="",p=[],m,g;for(let v=0;v<f.length;++v){const E=f[v].trim(),y=E.split(" ");for(let x=0;x<y.length;++x)y[x]===""&&y.splice(x,1);if(y.length!==0)switch(d){case"":if(y[0]!=="solid"){console.error(E),console.error(`Invalid state "${y[0]}", should be "solid"`);return}else d="solid";break;case"solid":if(y[0]!=="facet"||y[1]!=="normal"){console.error(E),console.error(`Invalid state "${y[0]}", should be "facet normal"`);return}else m=new Fe(parseFloat(y[2]),parseFloat(y[3]),parseFloat(y[4])),c.vertexNormals.push(m,m,m),d="facet normal";break;case"facet normal":if(y[0]!=="outer"||y[1]!=="loop"){console.error(E),console.error(`Invalid state "${y[0]}", should be "outer loop"`);return}else d="vertex";break;case"vertex":if(y[0]==="vertex")g=new Fe(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])),c.vertices.push(g),c.uvs.push([0,0]),p.push(c.vertices.indexOf(g));else if(y[0]==="endloop")c.faces.push(p),p=[],d="endloop";else{console.error(E),console.error(`Invalid state "${y[0]}", should be "vertex" or "endloop"`);return}break;case"endloop":if(y[0]!=="endfacet"){console.error(E),console.error(`Invalid state "${y[0]}", should be "endfacet"`);return}else d="endfacet";break;case"endfacet":if(y[0]!=="endsolid")if(y[0]==="facet"&&y[1]==="normal")m=new Fe(parseFloat(y[2]),parseFloat(y[3]),parseFloat(y[4])),c.vertexNormals.push(m,m,m),d="facet normal";else{console.error(E),console.error(`Invalid state "${y[0]}", should be "endsolid" or "facet normal"`);return}break;default:console.error(`Invalid state "${d}"`);break}}return c}t.model=function(c,f=1){this._assert3d("model"),this._renderer.model(c,f)};let h=0;t.createModel=function(c,f=" ",d){let p=!1,m,g,v=!1,E=!1;d&&typeof d=="object"?(p=d.normalize||!1,m=d.successCallback,g=d.failureCallback,v=d.flipU||!1,E=d.flipV||!1):typeof d=="boolean"?(p=d,m=arguments[3],g=arguments[4]):(m=typeof arguments[2]=="function"?arguments[2]:void 0,g=arguments[3]);const y=new n.Geometry;if(y.gid=`${f}|${p}|${h++}`,f.match(/\.stl$/i))try{let b=new TextEncoder().encode(c).buffer;s(y,b)}catch(x){g?g(x):n._friendlyError("Error during parsing: "+x.message);return}else if(f.match(/\.obj$/i))try{const x=c.split(`
`);i(y,x)}catch(x){g?g(x):n._friendlyError("Error during parsing: "+x.message);return}else n._friendlyFileLoadError(3,c),g?g():n._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return p&&y.normalize(),v&&y.flipU(),E&&y.flipV(),y._makeTriangleEdges(),typeof m=="function"&&m(y),y}}typeof p5<"u"&&Jk(p5,p5.prototype);const Vi={IDEOGRAPHIC:"ideographic",_CTX_MIDDLE:"middle",_TEXT_BOUNDS:"_textBoundsSingle",_FONT_BOUNDS:"_fontBoundsSingle",HANGING:"hanging",START:"start",END:"end"};function Qk(n,t){const i="#000000",s=/\r?\n/g,o=/,\s+/,a=/^".*"$/,l=/\t/g,u="fontVariationSettings",h=["wght","wdth","ital","slnt","opsz"],c=new RegExp(`(?:${h.join("|")})`);["text","textAlign","textAscent","textDescent","textLeading","textMode","textFont","textSize","textStyle","textWidth","textWrap","textBounds","textDirection","textProperty","textProperties","fontBounds","fontWidth","fontAscent","fontDescent","textWeight"].forEach(y=>{t[y]=function(...x){if(!(y in It.prototype))throw Error(`Renderer2D.prototype.${y} is not defined.`);return this._renderer[y](...x)},n.Graphics.prototype[y]=function(...x){return this._renderer[y](...x)}});const d={textAlign:{default:t.LEFT,type:"Context2d"},textBaseline:{default:t.BASELINE,type:"Context2d"},textFont:{default:{family:"sans-serif"}},textLeading:{default:15},textSize:{default:12},textWrap:{default:t.WORD},fontStretch:{default:t.NORMAL,isShorthand:!0},fontWeight:{default:t.NORMAL,isShorthand:!0},lineHeight:{default:t.NORMAL,isShorthand:!0},fontVariant:{default:t.NORMAL,isShorthand:!0},fontStyle:{default:t.NORMAL,isShorthand:!0},direction:{default:"inherit"}},p=["font","direction","fontKerning","fontStretch","fontVariantCaps","letterSpacing","textAlign","textBaseline","textRendering","wordSpacing"],m=Object.keys(d).filter(y=>d[y].isShorthand),g=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"];let v,E;if(It.prototype.text=function(y,x,b,w,S){let _=this.textDrawingContext().textBaseline;({x,y:b,width:w,height:S}=this._handleRectMode(x,b,w,S));let T=this._processLines(y,w,S);T=this._positionLines(x,b,w,S,T),T.forEach(C=>this._renderText(C.text,C.x,C.y)),this.textDrawingContext().textBaseline=_},It.prototype.textBounds=function(y,x,b,w,S){return this._computeBounds(Vi._TEXT_BOUNDS,y,x,b,w,S).bounds},It.prototype.fontBounds=function(y,x,b,w,S){return this._computeBounds(Vi._FONT_BOUNDS,y,x,b,w,S).bounds},It.prototype.textWidth=function(y){let x=this._processLines(y);return Math.max(...x.map(b=>this._textWidthSingle(b)))},It.prototype.fontWidth=function(y){let x=this._processLines(y);return Math.max(...x.map(b=>this._fontWidthSingle(b)))},It.prototype.textAscent=function(y=""){return y.length?this.textDrawingContext().measureText(y).actualBoundingBoxAscent:this.fontAscent()},It.prototype.fontAscent=function(){return this.textDrawingContext().measureText("_").fontBoundingBoxAscent},It.prototype.textDescent=function(y=""){return y.length?this.textDrawingContext().measureText(y).actualBoundingBoxDescent:this.fontDescent()},It.prototype.fontDescent=function(){return this.textDrawingContext().measureText("_").fontBoundingBoxDescent},It.prototype.textAlign=function(y,x){return typeof y<"u"?(this.states.setValue("textAlign",y),typeof x<"u"&&(x===t.CENTER&&(x=Vi._CTX_MIDDLE),this.states.setValue("textBaseline",x)),this._applyTextProperties()):{horizontal:this.states.textAlign,vertical:this.states.textBaseline}},It.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},It.prototype.textFont=function(y,x,b){if(arguments.length===0)return this._currentTextFont();let w=y;if(y instanceof n.Font?w=y.face.family:y.data instanceof Uint8Array?(w=y.name.fontFamily,y.name?.fontSubfamily&&(w+="-"+y.name.fontSubfamily)):typeof y=="string"&&typeof x>"u"&&/[.0-9]+(%|em|p[xt])/.test(w)&&({family:w,size:x}=this._directSetFontString(w)),typeof w!="string")throw Error("null font in textFont()");return arguments.length===2&&typeof x=="object"&&(b=x,x=void 0),this.states.setValue("textFont",{font:y,family:w,size:x}),typeof x<"u"&&this._setTextSize(x),typeof b=="object"&&this.textProperties(b),this._applyTextProperties()},It.prototype._directSetFontString=function(y,x=0){x&&console.log('_directSetFontString"'+y+'"');let b=m.reduce((_,T)=>(_[T]=d[T].default,_),{}),w=this._cachedDiv(b);w.style.font=y;let S=getComputedStyle(w);return m.forEach(_=>{this.states[_]=S[_],x&&console.log("  this.states."+_+'="'+S[_]+'"')}),{family:S.fontFamily,size:S.fontSize}},It.prototype.textLeading=function(y){return typeof y=="number"?(this.states.setValue("leadingSet",!0),this.states.setValue("textLeading",y),this._applyTextProperties()):this.states.textLeading},It.prototype.textWeight=function(y){if(typeof y=="number"){this.states.setValue("fontWeight",y),this._applyTextProperties(),n.prototype._isSafari()||this._setCanvasStyleProperty("font-variation-settings",`"wght" ${y}`);return}return this.states.fontWeight},It.prototype.textSize=function(y){return typeof y<"u"?(this._setTextSize(y),this._applyTextProperties()):this.states.textSize},It.prototype.textStyle=function(y){return typeof y<"u"?(this.states.setValue("fontStyle",y),this._applyTextProperties()):this.states.fontStyle},It.prototype.textWrap=function(y){return y===t.WORD||y===t.CHAR?(this.states.setValue("textWrap",y),this._pInst):this.states.textWrap},It.prototype.textDirection=function(y){return typeof y<"u"?(this.states.setValue("direction",y),this._applyTextProperties()):this.states.direction},It.prototype.textProperty=function(y,x,b){let w=!1,S=b?.debug||!1;if(typeof x>"u"){let _=this.textProperties();if(y in _)return _[y];throw Error('Unknown text option "'+y+'"')}return y in this.states&&this.states[y]!==x?(this.states[y]=x,w=!0,S&&console.log("this.states."+y+'="'+options[y]+'"')):y in this.textDrawingContext()?(this._setContextProperty(y,x,S),w=!0):y in this.textCanvas().style?(this._setCanvasStyleProperty(y,x,S),w=!0):console.warn('Ignoring unknown text option: "'+y+`"
`),w?this._applyTextProperties():this._pInst},It.prototype.textProperties=function(y){if(typeof y<"u")return Object.keys(y).forEach(b=>{this.textProperty(b,y[b])}),this._pInst;let x=this.textDrawingContext();return y=p.reduce((b,w)=>(b[w]=x[w],b),{}),Object.keys(d).forEach(b=>{if(d[b]?.type==="Context2d")y[b]=x[b];else if(b==="textFont"){let w=this._currentTextFont();typeof w=="object"&&"_pInst"in w&&(w=Object.assign({},w),delete w._pInst),y[b]=w}else y[b]=this.states[b]}),y},It.prototype.textMode=function(){},It.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},It.prototype._computeBounds=function(y,x,b,w,S,_,T){let C=this.textDrawingContext(),F=C.textBaseline,{textLeading:k,textAlign:D}=this.states;({width:S,height:_}=this._rectModeAdjust(b,w,S,_));let N=this._processLines(x,S,_),M=N.map((B,W)=>this[y].bind(this)(B,b,w+W*k));if(N.length>1){const B=M.reduce((W,Z)=>Math.max(W,Z.w||0),0);M.forEach(W=>{const Z=S??B;W.x+=n.Renderer2D.prototype._xAlignOffset.call(this,D,Z)})}typeof _<"u"&&n.Renderer2D.prototype._yAlignOffset.call(this,M,_);let U=M[0];return N.length>1&&(U=this._aggregateBounds(M),T?.ignoreRectMode||this._rectModeAlign(U,S||0,_||0)),C.textBaseline=F,{bounds:U,lines:N}},It.prototype._rectModeAdjust=function(y,x,b,w){if(typeof b<"u")switch(this.states.rectMode){case t.CENTER:break;case t.CORNERS:b-=y,w-=x;break;case t.RADIUS:b*=2,w*=2;break}return{x:y,y:x,width:b,height:w}},It.prototype._setCanvasStyleProperty=function(y,x,b){let w=x.toString();b&&console.log("canvas.style."+y+'="'+w+'"'),y===u&&this._handleFontVariationSettings(w),this.textCanvas().style[y]=w,this.textCanvas().style[y]},It.prototype._handleFontVariationSettings=function(y,x=!1){typeof y=="object"&&(y=Object.keys(y).map(w=>w+" "+y[w]).join(", ")),y.split(o).forEach(w=>{w=w.replace(/["']/g,"");let S=c.exec(w);if(S&&S.length){let _=S[0],T=parseFloat(parseFloat(w.replace(_,"").trim()).toFixed(3));switch(_){case"wght":return x&&console.log("setting font-weight="+T),this.states.fontWeight!==T&&this.textWeight(T),T;case"wdth":break;case"ital":x&&console.log("setting font-style="+(T?"italic":"normal"));break;case"slnt":x&&console.log("setting font-style="+(T?"oblique":"normal"));break;case"opsz":x&&console.log("setting font-optical-size="+T);break}}})},It.prototype._setContextProperty=function(y,x,b=!1){if(this.textDrawingContext()[y]===x)return this._pInst;(v??=[]).push([y,x]),b&&console.log("queued context2d."+y+'="'+x+'"')},It.prototype._handleRectMode=function(y,x,b,w){let S=this.states.rectMode;if(typeof b<"u")switch(S){case t.RADIUS:b*=2,y-=b/2,typeof w<"u"&&(w*=2,x-=w/2);break;case t.CENTER:y-=b/2,typeof w<"u"&&(x-=w/2);break;case t.CORNERS:b-=y,typeof w<"u"&&(w-=x);break}return{x:y,y:x,width:b,height:w}},It.prototype._fontSizePx=function(y,{family:x}=this.states.textFont){if((T=>!isNaN(T)&&T.trim()!=="")(y))return parseFloat(y);let w=this._cachedDiv({fontSize:y});w.style.fontSize=y,w.style.fontFamily=x;let S=getComputedStyle(w).fontSize,_=parseFloat(S);if(typeof _!="number")throw Error("textSize: invalid font-size");return _},It.prototype._cachedDiv=function(y){if(typeof E>"u"){let x=document.createElement("div");x.ariaHidden="true",x.style.display="none",Object.entries(y).forEach(([b,w])=>{x.style[b]=w}),this.textCanvas().appendChild(x),E=x}return E},It.prototype._aggregateBounds=function(y){let x=Math.min(...y.map(_=>_.x)),b=Math.min(...y.map(_=>_.y)),w=Math.max(...y.map(_=>_.y+_.h)),S=Math.max(...y.map(_=>_.x+_.w));return{x,y:b,w:S-x,h:w-b}},It.prototype._processLines=function(y,x,b){typeof x<"u"&&this.textDrawingContext().textBaseline===t.BASELINE&&(this.drawingContext.textBaseline=t.TOP);let w=this._splitOnBreaks(y.toString()),S=w.length>1,_=typeof x<"u",T=_&&w.some(k=>this._textWidthSingle(k)>x),{textLeading:C,textWrap:F}=this.states;if((S||T)&&_&&(w=this._lineate(F,w,x)),_&&typeof b<"u"){if(typeof C>"u")throw Error("leading is required if height is specified");for(let k=0;k<w.length;k++)if(C*(k+1)>b){w=w.slice(0,k);break}}return w},It.prototype._xAlignOffset=function(y,x){switch(y){case t.LEFT:return 0;case t.CENTER:return x/2;case t.RIGHT:return x;case Vi.START:return 0;case Vi.END:throw new Error("textBounds: END not yet supported for textAlign");default:return 0}},It.prototype._rectModeAlign=function(y,x,b){if(typeof x<"u"){switch(this.states.rectMode){case t.CENTER:y.x-=(x-y.w)/2,y.y-=(b-y.h)/2;break;case t.CORNERS:y.w+=y.x,y.h+=y.y;break;case t.RADIUS:y.x-=(x-y.w)/2,y.y-=(b-y.h)/2,y.w/=2,y.h/=2;break}return y}},It.prototype._rectModeAlignRevert=function(y,x,b){if(typeof x<"u"){switch(this.states.rectMode){case t.CENTER:y.x+=(x-y.w)/2,y.y+=(b-y.h)/2;break;case t.CORNERS:y.w-=y.x,y.h-=y.y;break;case t.RADIUS:y.x+=(x-y.w)/2,y.y+=(b-y.h)/2,y.w*=2,y.h*=2;break}return y}},It.prototype._textWidthSingle=function(y){let x=this.textDrawingContext().measureText(y),b=x.actualBoundingBoxLeft;return x.actualBoundingBoxRight+b},It.prototype._fontWidthSingle=function(y){return this.textDrawingContext().measureText(y).width},It.prototype._textBoundsSingle=function(y,x=0,b=0){let w=this.textDrawingContext().measureText(y),S=w.actualBoundingBoxAscent,_=w.actualBoundingBoxDescent,T=w.actualBoundingBoxLeft,C=w.actualBoundingBoxRight;return{x:x-T,y:b-S,w:C+T,h:S+_}},It.prototype._fontBoundsSingle=function(y,x=0,b=0){let w=this.textDrawingContext().measureText(y),S=w.fontBoundingBoxAscent,_=w.fontBoundingBoxDescent;return x-=this._xAlignOffset(this.states.textAlign,w.width),{x,y:b-S,w:w.width,h:S+_}},It.prototype._setTextSize=function(y){if(typeof y=="string"&&(y=this._fontSizePx(y)),typeof y=="number"){if(this.states.textSize!==y)return this.states.setValue("textSize",y),this.states.leadingSet||this.states.setValue("textLeading",this.states.textSize*1.275),!0}else console.warn("textSize: invalid size: "+y);return!1},It.prototype._lineate=function(y,x,b=1/0,w={}){let S=w.splitChar??(y===t.WORD?" ":""),_,T,C,F,k=[];for(let D=0;D<x.length;D++){_="",F=x[D].split(S);for(let N=0;N<F.length;N++)T=`${_+F[N]}`+S,C=this._textWidthSingle(T),_.length>0&&C>b?(k.push(_.trim()),_=`${F[N]}`+S):_=T;k.push(_.trim())}return k},It.prototype._splitOnBreaks=function(y){return!y||y.length===0?[""]:y.replace(l,"  ").split(s)},It.prototype._parseFontFamily=function(y){return y.split(o).map(w=>(w=w.trim(),w.indexOf(" ")>-1&&!a.test(w)&&(w=`"${w}"`),w)).join(", ")},It.prototype._applyFontString=function(){let{textFont:y,textSize:x,lineHeight:b,fontStyle:w,fontWeight:S,fontVariant:_}=this.states,T=this.textDrawingContext(),C=this._parseFontFamily(y.family),F=w!==t.NORMAL?`${w} `:"",k=S!==t.NORMAL?`${S} `:"",D=_!==t.NORMAL?`${_} `:"",N=`${x}px`+(b!==t.NORMAL?`/${b} `:" "),M=`${F}${D}${k}${N}${C}`.trim();if(T.font=M,T.font!==M){let U=M,B=T.font;if(U!==B)return!1}return!0},It.prototype._applyTextProperties=function(y=!1){this._applyFontString();let x=this.textDrawingContext();x.direction=this.states.direction,x.textAlign=this.states.textAlign,x.textBaseline=this.states.textBaseline;let b=this.states.fontStretch;for(g.includes(b)&&x.fontStretch!==b&&(x.fontStretch=b);v?.length;){let[w,S]=v.shift();y&&console.log('apply context property "'+w+'" = "'+S+'"'),x[w]=S,x[w]!==S&&(console.warn(`Unable to set '${w}' property on context2d. It may not be supported.`),console.log('Expected "'+S+'" but got: "'+x[w]+'"'))}return this._pInst},n.Renderer2D&&(n.Renderer2D.prototype.textCanvas=function(){return this.canvas},n.Renderer2D.prototype.textDrawingContext=function(){return this.drawingContext},n.Renderer2D.prototype._renderText=function(y,x,b,w,S){let _=this.states,T=this.textDrawingContext();b<S||b>=w||(this.push(),_.strokeColor&&_.strokeSet&&T.strokeText(y,x,b),!this._clipping&&_.fillColor&&(_.fillSet||this._setFill(i),T.fillText(y,x,b)),this.pop())},n.Renderer2D.prototype._positionLines=function(y,x,b,w,S){let{textLeading:_,textAlign:T}=this.states,C,F=new Array(S.length),k=typeof b>"u"?0:b,D=typeof w>"u"?0:w;for(let N=0;N<S.length;N++){switch(T){case Vi.START:throw new Error("textBounds: START not yet supported for textAlign");case t.LEFT:C=y;break;case t.CENTER:C=y+k/2;break;case t.RIGHT:C=y+k;break;case Vi.END:throw new Error("textBounds: END not yet supported for textAlign")}F[N]={text:S[N],x:C,y:x+N*_}}return this._yAlignOffset(F,D)},n.Renderer2D.prototype._yAlignOffset=function(y,x){if(typeof x>"u")throw Error("_yAlignOffset: height is required");let{textLeading:b,textBaseline:w}=this.states,S=0,_=y.length,T=x-b*(_-1);switch(w){case t.TOP:break;case t.BASELINE:break;case Vi._CTX_MIDDLE:S=T/2;break;case t.BOTTOM:S=T;break;case Vi.IDEOGRAPHIC:console.warn("textBounds: IDEOGRAPHIC not yet supported for textBaseline");break;case Vi.HANGING:console.warn("textBounds: HANGING not yet supported for textBaseline");break}return y.forEach(C=>C.y+=S),y}),n.RendererGL){n.RendererGL.prototype.textCanvas=function(){return this._textCanvas||(this._textCanvas=document.createElement("canvas"),this._textCanvas.width=1,this._textCanvas.height=1,this._textCanvas.style.display="none",this.canvas.parentElement.insertBefore(this._textCanvas,this.canvas)),this._textCanvas},n.RendererGL.prototype.textDrawingContext=function(){if(!this._textDrawingContext){const x=this.textCanvas();this._textDrawingContext=x.getContext("2d")}return this._textDrawingContext};const y=n.RendererGL.prototype.remove;n.RendererGL.prototype.remove=function(){this._textCanvas&&this._textCanvas.parentElement.removeChild(this._textCanvas),y.call(this)},n.RendererGL.prototype._positionLines=function(x,b,w,S,_){let{textLeading:T,textAlign:C}=this.states;const F=_.map(U=>this._fontWidthSingle(U));let k,D=new Array(_.length),N=typeof w>"u"?Math.max(0,...F):w,M=typeof S>"u"?0:S;for(let U=0;U<_.length;U++){switch(C){case Vi.START:throw new Error("textBounds: START not yet supported for textAlign");case t.LEFT:k=x;break;case t.CENTER:k=x+(N-F[U])/2-N/2+(w||0)/2;break;case t.RIGHT:k=x+N-F[U]-N+(w||0);break;case Vi.END:throw new Error("textBounds: END not yet supported for textAlign")}D[U]={text:_[U],x:k,y:b+U*T}}return this._yAlignOffset(D,M)},n.RendererGL.prototype._yAlignOffset=function(x,b){if(typeof b>"u")throw Error("_yAlignOffset: height is required");let{textLeading:w,textBaseline:S,textSize:_,textFont:T}=this.states,C=0,F=x.length,k=_*F+(w-_)*(F-1);switch(S){case t.TOP:C=_;break;case t.BASELINE:break;case Vi._CTX_MIDDLE:C=-k/2+_+(b||0)/2;break;case t.BOTTOM:C=-(k-_)+(b||0);break;default:console.warn(`${S} is not supported in WebGL mode.`);break}return C+=this.states.textFont.font?._verticalAlign(_)||0,x.forEach(D=>D.y+=C),x}}}typeof p5<"u"&&Qk(p5,p5.prototype);var Ad={},zS;function Xne(){if(zS)return Ad;zS=1,Object.defineProperty(Ad,"__esModule",{value:!0});var n=(function(){function t(){}return t.parse=function(r){for(var i=new Set,s=0,o=r;s<o.length;s++){var a=o[s];if(!t.REGEXP.test(a))throw new TypeError('"'+a+'" is invalid unicode-range.');var l=a.match(t.REGEXP),u=l[1],h=l[2],c=l[3];if(u){if(/\?[^?]+$/.test(u))throw new TypeError('"'+a+'" is invalid unicode-range.');if(u.includes("?"))for(var f=u.replace(/\?/g,"0"),d=u.replace(/\?/g,"F"),p=t.parse(["U+"+f+"-"+d]),m=0,g=p;m<g.length;m++){var v=g[m];i.add(v)}else i.add(parseInt(u,16))}if(h&&c)for(var E=parseInt(h,16),y=parseInt(c,16),v=E;v<=y;v++)i.add(v)}return Array.from(i).sort(function(x,b){return x-b})},t.stringify=function(r){for(var i=Array.from(new Set(r)).sort(function(h,c){return h-c}),s=[],o,a=0;a<i.length;a++){var l=i[a],u=i[a-1];o&&l-u!==1&&(s.push(t.rangeString(o,u)),o=l),o||(o=l),a===i.length-1&&(o===l?s.push(t.rangeString(l)):s.push(t.rangeString(o,l)))}return s},t.rangeString=function(r,i){return!i||r===i?"U+"+r.toString(16):"U+"+r.toString(16)+"-"+i.toString(16)},t.REGEXP=/^u\+(?:([0-9a-f]?[0-9a-f?]{1,5})|([0-9a-f]{1,6})-([0-9a-f]{1,6}))?$/i,t})();return Ad.UnicodeRange=n,Ad}var GS=Xne();const qne=[{category:"control character",hexrange:["0000","001f"]},{category:"basic latin",hexrange:["0000","007f"]},{category:"latin-1 supplement",hexrange:["0080","00ff"]},{category:"latin extended-a",hexrange:["0100","017f"]},{category:"latin extended-b",hexrange:["0180","024f"]},{category:"ipa extensions",hexrange:["0250","02af"]},{category:"spacing modifier letters",hexrange:["02b0","02ff"]},{category:"combining diacritical marks",hexrange:["0300","036f"]},{category:"greek and coptic",hexrange:["0370","03ff"]},{category:"cyrillic",hexrange:["0400","04ff"]},{category:"cyrillic supplement",hexrange:["0500","052f"]},{category:"armenian",hexrange:["0530","058f"]},{category:"hebrew",hexrange:["0590","05ff"]},{category:"arabic",hexrange:["0600","06ff"]},{category:"syriac",hexrange:["0700","074f"]},{category:"arabic supplement",hexrange:["0750","077f"]},{category:"thaana",hexrange:["0780","07bf"]},{category:"nko",hexrange:["07c0","07ff"]},{category:"samaritan",hexrange:["0800","083f"]},{category:"mandaic",hexrange:["0840","085f"]},{category:"syriac supplement",hexrange:["0860","086f"]},{category:"arabic extended-b",hexrange:["0870","089f"]},{category:"arabic extended-a",hexrange:["08a0","08ff"]},{category:"devanagari",hexrange:["0900","097f"]},{category:"bengali",hexrange:["0980","09ff"]},{category:"gurmukhi",hexrange:["0a00","0a7f"]},{category:"gujarati",hexrange:["0a80","0aff"]},{category:"oriya",hexrange:["0b00","0b7f"]},{category:"tamil",hexrange:["0b80","0bff"]},{category:"telugu",hexrange:["0c00","0c7f"]},{category:"kannada",hexrange:["0c80","0cff"]},{category:"malayalam",hexrange:["0d00","0d7f"]},{category:"sinhala",hexrange:["0d80","0dff"]},{category:"thai",hexrange:["0e00","0e7f"]},{category:"lao",hexrange:["0e80","0eff"]},{category:"tibetan",hexrange:["0f00","0fff"]},{category:"myanmar",hexrange:["1000","109f"]},{category:"georgian",hexrange:["10a0","10ff"]},{category:"hangul jamo",hexrange:["1100","11ff"]},{category:"ethiopic",hexrange:["1200","137f"]},{category:"ethiopic supplement",hexrange:["1380","139f"]},{category:"cherokee",hexrange:["13a0","13ff"]},{category:"unified canadian aboriginal syllabics",hexrange:["1400","167f"]},{category:"ogham",hexrange:["1680","169f"]},{category:"runic",hexrange:["16a0","16ff"]},{category:"tagalog",hexrange:["1700","171f"]},{category:"hanunoo",hexrange:["1720","173f"]},{category:"buhid",hexrange:["1740","175f"]},{category:"tagbanwa",hexrange:["1760","177f"]},{category:"khmer",hexrange:["1780","17ff"]},{category:"mongolian",hexrange:["1800","18af"]},{category:"unified canadian aboriginal syllabics extended",hexrange:["18b0","18ff"]},{category:"limbu",hexrange:["1900","194f"]},{category:"tai le",hexrange:["1950","197f"]},{category:"new tai lue",hexrange:["1980","19df"]},{category:"khmer symbols",hexrange:["19e0","19ff"]},{category:"buginese",hexrange:["1a00","1a1f"]},{category:"tai tham",hexrange:["1a20","1aaf"]},{category:"combining diacritical marks extended",hexrange:["1ab0","1aff"]},{category:"balinese",hexrange:["1b00","1b7f"]},{category:"sundanese",hexrange:["1b80","1bbf"]},{category:"batak",hexrange:["1bc0","1bff"]},{category:"lepcha",hexrange:["1c00","1c4f"]},{category:"ol chiki",hexrange:["1c50","1c7f"]},{category:"cyrillic extended-c",hexrange:["1c80","1c8f"]},{category:"georgian extended",hexrange:["1c90","1cbf"]},{category:"sundanese supplement",hexrange:["1cc0","1ccf"]},{category:"vedic extensions",hexrange:["1cd0","1cff"]},{category:"phonetic extensions",hexrange:["1d00","1d7f"]},{category:"phonetic extensions supplement",hexrange:["1d80","1dbf"]},{category:"combining diacritical marks supplement",hexrange:["1dc0","1dff"]},{category:"latin extended additional",hexrange:["1e00","1eff"]},{category:"greek extended",hexrange:["1f00","1fff"]},{category:"general punctuation",hexrange:["2000","206f"]},{category:"superscripts and subscripts",hexrange:["2070","209f"]},{category:"currency symbols",hexrange:["20a0","20cf"]},{category:"combining diacritical marks for symbols",hexrange:["20d0","20ff"]},{category:"letterlike symbols",hexrange:["2100","214f"]},{category:"number forms",hexrange:["2150","218f"]},{category:"arrows",hexrange:["2190","21ff"]},{category:"mathematical operators",hexrange:["2200","22ff"]},{category:"miscellaneous technical",hexrange:["2300","23ff"]},{category:"control pictures",hexrange:["2400","243f"]},{category:"optical character recognition",hexrange:["2440","245f"]},{category:"enclosed alphanumerics",hexrange:["2460","24ff"]},{category:"box drawing",hexrange:["2500","257f"]},{category:"block elements",hexrange:["2580","259f"]},{category:"geometric shapes",hexrange:["25a0","25ff"]},{category:"miscellaneous symbols",hexrange:["2600","26ff"]},{category:"dingbats",hexrange:["2700","27bf"]},{category:"miscellaneous mathematical symbols-a",hexrange:["27c0","27ef"]},{category:"supplemental arrows-a",hexrange:["27f0","27ff"]},{category:"braille patterns",hexrange:["2800","28ff"]},{category:"supplemental arrows-b",hexrange:["2900","297f"]},{category:"miscellaneous mathematical symbols-b",hexrange:["2980","29ff"]},{category:"supplemental mathematical operators",hexrange:["2a00","2aff"]},{category:"miscellaneous symbols and arrows",hexrange:["2b00","2bff"]},{category:"glagolitic",hexrange:["2c00","2c5f"]},{category:"latin extended-c",hexrange:["2c60","2c7f"]},{category:"coptic",hexrange:["2c80","2cff"]},{category:"georgian supplement",hexrange:["2d00","2d2f"]},{category:"tifinagh",hexrange:["2d30","2d7f"]},{category:"ethiopic extended",hexrange:["2d80","2ddf"]},{category:"cyrillic extended-a",hexrange:["2de0","2dff"]},{category:"supplemental punctuation",hexrange:["2e00","2e7f"]},{category:"cjk radicals supplement",hexrange:["2e80","2eff"]},{category:"kangxi radicals",hexrange:["2f00","2fdf"]},{category:"ideographic description characters",hexrange:["2ff0","2fff"]},{category:"cjk symbols and punctuation",hexrange:["3000","303f"]},{category:"hiragana",hexrange:["3040","309f"]},{category:"katakana",hexrange:["30a0","30ff"]},{category:"bopomofo",hexrange:["3100","312f"]},{category:"hangul compatibility jamo",hexrange:["3130","318f"]},{category:"kanbun",hexrange:["3190","319f"]},{category:"bopomofo extended",hexrange:["31a0","31bf"]},{category:"cjk strokes",hexrange:["31c0","31ef"]},{category:"katakana phonetic extensions",hexrange:["31f0","31ff"]},{category:"enclosed cjk letters and months",hexrange:["3200","32ff"]},{category:"cjk compatibility",hexrange:["3300","33ff"]},{category:"cjk unified ideographs extension a",hexrange:["3400","4dbf"]},{category:"yijing hexagram symbols",hexrange:["4dc0","4dff"]},{category:"cjk unified ideographs",hexrange:["4e00","9fff"]},{category:"yi syllables",hexrange:["a000","a48f"]},{category:"yi radicals",hexrange:["a490","a4cf"]},{category:"lisu",hexrange:["a4d0","a4ff"]},{category:"vai",hexrange:["a500","a63f"]},{category:"cyrillic extended-b",hexrange:["a640","a69f"]},{category:"bamum",hexrange:["a6a0","a6ff"]},{category:"modifier tone letters",hexrange:["a700","a71f"]},{category:"latin extended-d",hexrange:["a720","a7ff"]},{category:"syloti nagri",hexrange:["a800","a82f"]},{category:"common indic number forms",hexrange:["a830","a83f"]},{category:"phags-pa",hexrange:["a840","a87f"]},{category:"saurashtra",hexrange:["a880","a8df"]},{category:"devanagari extended",hexrange:["a8e0","a8ff"]},{category:"kayah li",hexrange:["a900","a92f"]},{category:"rejang",hexrange:["a930","a95f"]},{category:"hangul jamo extended-a",hexrange:["a960","a97f"]},{category:"javanese",hexrange:["a980","a9df"]},{category:"myanmar extended-b",hexrange:["a9e0","a9ff"]},{category:"cham",hexrange:["aa00","aa5f"]},{category:"myanmar extended-a",hexrange:["aa60","aa7f"]},{category:"tai viet",hexrange:["aa80","aadf"]},{category:"meetei mayek extensions",hexrange:["aae0","aaff"]},{category:"ethiopic extended-a",hexrange:["ab00","ab2f"]},{category:"latin extended-e",hexrange:["ab30","ab6f"]},{category:"cherokee supplement",hexrange:["ab70","abbf"]},{category:"meetei mayek",hexrange:["abc0","abff"]},{category:"hangul syllables",hexrange:["ac00","d7af"]},{category:"hangul jamo extended-b",hexrange:["d7b0","d7ff"]},{category:"high surrogates",hexrange:["d800","db7f"]},{category:"high private use surrogates",hexrange:["db80","dbff"]},{category:"low surrogates",hexrange:["dc00","dfff"]},{category:"private use area",hexrange:["e000","f8ff"]},{category:"cjk compatibility ideographs",hexrange:["f900","faff"]},{category:"alphabetic presentation forms",hexrange:["fb00","fb4f"]},{category:"arabic presentation forms-a",hexrange:["fb50","fdff"]},{category:"variation selectors",hexrange:["fe00","fe0f"]},{category:"vertical forms",hexrange:["fe10","fe1f"]},{category:"combining half marks",hexrange:["fe20","fe2f"]},{category:"cjk compatibility forms",hexrange:["fe30","fe4f"]},{category:"small form variants",hexrange:["fe50","fe6f"]},{category:"arabic presentation forms-b",hexrange:["fe70","feff"]},{category:"halfwidth and fullwidth forms",hexrange:["ff00","ffef"]},{category:"specials",hexrange:["fff0","ffff"]},{category:"linear b syllabary",hexrange:["10000","1007f"]},{category:"linear b ideograms",hexrange:["10080","100ff"]},{category:"aegean numbers",hexrange:["10100","1013f"]},{category:"ancient greek numbers",hexrange:["10140","1018f"]},{category:"ancient symbols",hexrange:["10190","101cf"]},{category:"phaistos disc",hexrange:["101d0","101ff"]},{category:"lycian",hexrange:["10280","1029f"]},{category:"carian",hexrange:["102a0","102df"]},{category:"coptic epact numbers",hexrange:["102e0","102ff"]},{category:"old italic",hexrange:["10300","1032f"]},{category:"gothic",hexrange:["10330","1034f"]},{category:"old permic",hexrange:["10350","1037f"]},{category:"ugaritic",hexrange:["10380","1039f"]},{category:"old persian",hexrange:["103a0","103df"]},{category:"deseret",hexrange:["10400","1044f"]},{category:"shavian",hexrange:["10450","1047f"]},{category:"osmanya",hexrange:["10480","104af"]},{category:"osage",hexrange:["104b0","104ff"]},{category:"elbasan",hexrange:["10500","1052f"]},{category:"caucasian albanian",hexrange:["10530","1056f"]},{category:"vithkuqi",hexrange:["10570","105bf"]},{category:"linear a",hexrange:["10600","1077f"]},{category:"latin extended-f",hexrange:["10780","107bf"]},{category:"cypriot syllabary",hexrange:["10800","1083f"]},{category:"imperial aramaic",hexrange:["10840","1085f"]},{category:"palmyrene",hexrange:["10860","1087f"]},{category:"nabataean",hexrange:["10880","108af"]},{category:"hatran",hexrange:["108e0","108ff"]},{category:"phoenician",hexrange:["10900","1091f"]},{category:"lydian",hexrange:["10920","1093f"]},{category:"meroitic hieroglyphs",hexrange:["10980","1099f"]},{category:"meroitic cursive",hexrange:["109a0","109ff"]},{category:"kharoshthi",hexrange:["10a00","10a5f"]},{category:"old south arabian",hexrange:["10a60","10a7f"]},{category:"old north arabian",hexrange:["10a80","10a9f"]},{category:"manichaean",hexrange:["10ac0","10aff"]},{category:"avestan",hexrange:["10b00","10b3f"]},{category:"inscriptional parthian",hexrange:["10b40","10b5f"]},{category:"inscriptional pahlavi",hexrange:["10b60","10b7f"]},{category:"psalter pahlavi",hexrange:["10b80","10baf"]},{category:"old turkic",hexrange:["10c00","10c4f"]},{category:"old hungarian",hexrange:["10c80","10cff"]},{category:"hanifi rohingya",hexrange:["10d00","10d3f"]},{category:"rumi numeral symbols",hexrange:["10e60","10e7f"]},{category:"yezidi",hexrange:["10e80","10ebf"]},{category:"arabic extended-c",hexrange:["10ec0","10eff"]},{category:"old sogdian",hexrange:["10f00","10f2f"]},{category:"sogdian",hexrange:["10f30","10f6f"]},{category:"old uyghur",hexrange:["10f70","10faf"]},{category:"chorasmian",hexrange:["10fb0","10fdf"]},{category:"elymaic",hexrange:["10fe0","10fff"]},{category:"brahmi",hexrange:["11000","1107f"]},{category:"kaithi",hexrange:["11080","110cf"]},{category:"sora sompeng",hexrange:["110d0","110ff"]},{category:"chakma",hexrange:["11100","1114f"]},{category:"mahajani",hexrange:["11150","1117f"]},{category:"sharada",hexrange:["11180","111df"]},{category:"sinhala archaic numbers",hexrange:["111e0","111ff"]},{category:"khojki",hexrange:["11200","1124f"]},{category:"multani",hexrange:["11280","112af"]},{category:"khudawadi",hexrange:["112b0","112ff"]},{category:"grantha",hexrange:["11300","1137f"]},{category:"newa",hexrange:["11400","1147f"]},{category:"tirhuta",hexrange:["11480","114df"]},{category:"siddham",hexrange:["11580","115ff"]},{category:"modi",hexrange:["11600","1165f"]},{category:"mongolian supplement",hexrange:["11660","1167f"]},{category:"takri",hexrange:["11680","116cf"]},{category:"ahom",hexrange:["11700","1174f"]},{category:"dogra",hexrange:["11800","1184f"]},{category:"warang citi",hexrange:["118a0","118ff"]},{category:"dives akuru",hexrange:["11900","1195f"]},{category:"nandinagari",hexrange:["119a0","119ff"]},{category:"zanabazar square",hexrange:["11a00","11a4f"]},{category:"soyombo",hexrange:["11a50","11aaf"]},{category:"unified canadian aboriginal syllabics extended-a",hexrange:["11ab0","11abf"]},{category:"pau cin hau",hexrange:["11ac0","11aff"]},{category:"devanagari extended-a",hexrange:["11b00","11b5f"]},{category:"bhaiksuki",hexrange:["11c00","11c6f"]},{category:"marchen",hexrange:["11c70","11cbf"]},{category:"masaram gondi",hexrange:["11d00","11d5f"]},{category:"gunjala gondi",hexrange:["11d60","11daf"]},{category:"makasar",hexrange:["11ee0","11eff"]},{category:"kawi",hexrange:["11f00","11f5f"]},{category:"lisu supplement",hexrange:["11fb0","11fbf"]},{category:"tamil supplement",hexrange:["11fc0","11fff"]},{category:"cuneiform",hexrange:["12000","123ff"]},{category:"cuneiform numbers and punctuation",hexrange:["12400","1247f"]},{category:"early dynastic cuneiform",hexrange:["12480","1254f"]},{category:"cypro-minoan",hexrange:["12f90","12fff"]},{category:"egyptian hieroglyphs",hexrange:["13000","1342f"]},{category:"egyptian hieroglyph format controls",hexrange:["13430","1345f"]},{category:"anatolian hieroglyphs",hexrange:["14400","1467f"]},{category:"bamum supplement",hexrange:["16800","16a3f"]},{category:"mro",hexrange:["16a40","16a6f"]},{category:"tangsa",hexrange:["16a70","16acf"]},{category:"bassa vah",hexrange:["16ad0","16aff"]},{category:"pahawh hmong",hexrange:["16b00","16b8f"]},{category:"medefaidrin",hexrange:["16e40","16e9f"]},{category:"miao",hexrange:["16f00","16f9f"]},{category:"ideographic symbols and punctuation",hexrange:["16fe0","16fff"]},{category:"tangut",hexrange:["17000","187ff"]},{category:"tangut components",hexrange:["18800","18aff"]},{category:"khitan small script",hexrange:["18b00","18cff"]},{category:"tangut supplement",hexrange:["18d00","18d7f"]},{category:"kana extended-b",hexrange:["1aff0","1afff"]},{category:"kana supplement",hexrange:["1b000","1b0ff"]},{category:"kana extended-a",hexrange:["1b100","1b12f"]},{category:"small kana extension",hexrange:["1b130","1b16f"]},{category:"nushu",hexrange:["1b170","1b2ff"]},{category:"duployan",hexrange:["1bc00","1bc9f"]},{category:"shorthand format controls",hexrange:["1bca0","1bcaf"]},{category:"znamenny musical notation",hexrange:["1cf00","1cfcf"]},{category:"byzantine musical symbols",hexrange:["1d000","1d0ff"]},{category:"musical symbols",hexrange:["1d100","1d1ff"]},{category:"ancient greek musical notation",hexrange:["1d200","1d24f"]},{category:"kaktovik numerals",hexrange:["1d2c0","1d2df"]},{category:"mayan numerals",hexrange:["1d2e0","1d2ff"]},{category:"tai xuan jing symbols",hexrange:["1d300","1d35f"]},{category:"counting rod numerals",hexrange:["1d360","1d37f"]},{category:"mathematical alphanumeric symbols",hexrange:["1d400","1d7ff"]},{category:"sutton signwriting",hexrange:["1d800","1daaf"]},{category:"latin extended-g",hexrange:["1df00","1dfff"]},{category:"glagolitic supplement",hexrange:["1e000","1e02f"]},{category:"cyrillic extended-d",hexrange:["1e030","1e08f"]},{category:"nyiakeng puachue hmong",hexrange:["1e100","1e14f"]},{category:"toto",hexrange:["1e290","1e2bf"]},{category:"wancho",hexrange:["1e2c0","1e2ff"]},{category:"nag mundari",hexrange:["1e4d0","1e4ff"]},{category:"ethiopic extended-b",hexrange:["1e7e0","1e7ff"]},{category:"mende kikakui",hexrange:["1e800","1e8df"]},{category:"adlam",hexrange:["1e900","1e95f"]},{category:"indic siyaq numbers",hexrange:["1ec70","1ecbf"]},{category:"ottoman siyaq numbers",hexrange:["1ed00","1ed4f"]},{category:"arabic mathematical alphabetic symbols",hexrange:["1ee00","1eeff"]},{category:"mahjong tiles",hexrange:["1f000","1f02f"]},{category:"domino tiles",hexrange:["1f030","1f09f"]},{category:"playing cards",hexrange:["1f0a0","1f0ff"]},{category:"enclosed alphanumeric supplement",hexrange:["1f100","1f1ff"]},{category:"enclosed ideographic supplement",hexrange:["1f200","1f2ff"]},{category:"miscellaneous symbols and pictographs",hexrange:["1f300","1f5ff"]},{category:"emoticons (emoji)",hexrange:["1f600","1f64f"]},{category:"ornamental dingbats",hexrange:["1f650","1f67f"]},{category:"transport and map symbols",hexrange:["1f680","1f6ff"]},{category:"alchemical symbols",hexrange:["1f700","1f77f"]},{category:"geometric shapes extended",hexrange:["1f780","1f7ff"]},{category:"supplemental arrows-c",hexrange:["1f800","1f8ff"]},{category:"supplemental symbols and pictographs",hexrange:["1f900","1f9ff"]},{category:"chess symbols",hexrange:["1fa00","1fa6f"]},{category:"symbols and pictographs extended-a",hexrange:["1fa70","1faff"]},{category:"symbols for legacy computing",hexrange:["1fb00","1fbff"]},{category:"cjk unified ideographs extension b",hexrange:["20000","2a6df"]},{category:"cjk unified ideographs extension c",hexrange:["2a700","2b73f"]},{category:"cjk unified ideographs extension d",hexrange:["2b740","2b81f"]},{category:"cjk unified ideographs extension e",hexrange:["2b820","2ceaf"]},{category:"cjk unified ideographs extension f",hexrange:["2ceb0","2ebef"]},{category:"cjk unified ideographs extension i",hexrange:["2ebf0","2ee5f"]},{category:"cjk compatibility ideographs supplement",hexrange:["2f800","2fa1f"]},{category:"cjk unified ideographs extension g",hexrange:["30000","3134f"]},{category:"cjk unified ideographs extension h",hexrange:["31350","323af"]},{category:"tags",hexrange:["e0000","e007f"]},{category:"variation selectors supplement",hexrange:["e0100","e01ef"]},{category:"supplementary private use area-a",hexrange:["f0000","fffff"]},{category:"supplementary private use area-b",hexrange:["100000","10ffff"]}];function Tc(n){let t=n.length;for(;--t>=0;)n[t]=0}const Yne=3,Kne=258,eM=29,Zne=256,Jne=Zne+1+eM,tM=30,Qne=512,ere=new Array((Jne+2)*2);Tc(ere);const tre=new Array(tM*2);Tc(tre);const nre=new Array(Qne);Tc(nre);const rre=new Array(Kne-Yne+1);Tc(rre);const ire=new Array(eM);Tc(ire);const sre=new Array(tM);Tc(sre);const ore=(n,t,r,i)=>{let s=n&65535|0,o=n>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[i++]|0,o=o+s|0;while(--a);s%=65521,o%=65521}return s|o<<16|0};var Qy=ore;const are=()=>{let n,t=[];for(var r=0;r<256;r++){n=r;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[r]=n}return t},lre=new Uint32Array(are()),ure=(n,t,r,i)=>{const s=lre,o=i+r;n^=-1;for(let a=i;a<o;a++)n=n>>>8^s[(n^t[a])&255];return n^-1};var io=ure,e1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nM={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const cre=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var hre=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const i in r)cre(r,i)&&(n[i]=r[i])}}return n},fre=n=>{let t=0;for(let i=0,s=n.length;i<s;i++)t+=n[i].length;const r=new Uint8Array(t);for(let i=0,s=0,o=n.length;i<o;i++){let a=n[i];r.set(a,s),s+=a.length}return r},rM={assign:hre,flattenChunks:fre};let iM=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{iM=!1}const of=new Uint8Array(256);for(let n=0;n<256;n++)of[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;of[254]=of[254]=1;var dre=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,r,i,s,o,a=n.length,l=0;for(s=0;s<a;s++)r=n.charCodeAt(s),(r&64512)===55296&&s+1<a&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),o=0,s=0;o<l;s++)r=n.charCodeAt(s),(r&64512)===55296&&s+1<a&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),s++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};const pre=(n,t)=>{if(t<65534&&n.subarray&&iM)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let r="";for(let i=0;i<t;i++)r+=String.fromCharCode(n[i]);return r};var mre=(n,t)=>{const r=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let i,s;const o=new Array(r*2);for(s=0,i=0;i<r;){let a=n[i++];if(a<128){o[s++]=a;continue}let l=of[a];if(l>4){o[s++]=65533,i+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&i<r;)a=a<<6|n[i++]&63,l--;if(l>1){o[s++]=65533;continue}a<65536?o[s++]=a:(a-=65536,o[s++]=55296|a>>10&1023,o[s++]=56320|a&1023)}return pre(o,s)},gre=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let r=t-1;for(;r>=0&&(n[r]&192)===128;)r--;return r<0||r===0?t:r+of[n[r]]>t?r:t},t1={string2buf:dre,buf2string:mre,utf8border:gre};function vre(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var yre=vre;const Td=16209,bre=16191;var xre=function(t,r){let i,s,o,a,l,u,h,c,f,d,p,m,g,v,E,y,x,b,w,S,_,T,C,F;const k=t.state;i=t.next_in,C=t.input,s=i+(t.avail_in-5),o=t.next_out,F=t.output,a=o-(r-t.avail_out),l=o+(t.avail_out-257),u=k.dmax,h=k.wsize,c=k.whave,f=k.wnext,d=k.window,p=k.hold,m=k.bits,g=k.lencode,v=k.distcode,E=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;e:do{m<15&&(p+=C[i++]<<m,m+=8,p+=C[i++]<<m,m+=8),x=g[p&E];t:for(;;){if(b=x>>>24,p>>>=b,m-=b,b=x>>>16&255,b===0)F[o++]=x&65535;else if(b&16){w=x&65535,b&=15,b&&(m<b&&(p+=C[i++]<<m,m+=8),w+=p&(1<<b)-1,p>>>=b,m-=b),m<15&&(p+=C[i++]<<m,m+=8,p+=C[i++]<<m,m+=8),x=v[p&y];n:for(;;){if(b=x>>>24,p>>>=b,m-=b,b=x>>>16&255,b&16){if(S=x&65535,b&=15,m<b&&(p+=C[i++]<<m,m+=8,m<b&&(p+=C[i++]<<m,m+=8)),S+=p&(1<<b)-1,S>u){t.msg="invalid distance too far back",k.mode=Td;break e}if(p>>>=b,m-=b,b=o-a,S>b){if(b=S-b,b>c&&k.sane){t.msg="invalid distance too far back",k.mode=Td;break e}if(_=0,T=d,f===0){if(_+=h-b,b<w){w-=b;do F[o++]=d[_++];while(--b);_=o-S,T=F}}else if(f<b){if(_+=h+f-b,b-=f,b<w){w-=b;do F[o++]=d[_++];while(--b);if(_=0,f<w){b=f,w-=b;do F[o++]=d[_++];while(--b);_=o-S,T=F}}}else if(_+=f-b,b<w){w-=b;do F[o++]=d[_++];while(--b);_=o-S,T=F}for(;w>2;)F[o++]=T[_++],F[o++]=T[_++],F[o++]=T[_++],w-=3;w&&(F[o++]=T[_++],w>1&&(F[o++]=T[_++]))}else{_=o-S;do F[o++]=F[_++],F[o++]=F[_++],F[o++]=F[_++],w-=3;while(w>2);w&&(F[o++]=F[_++],w>1&&(F[o++]=F[_++]))}}else if((b&64)===0){x=v[(x&65535)+(p&(1<<b)-1)];continue n}else{t.msg="invalid distance code",k.mode=Td;break e}break}}else if((b&64)===0){x=g[(x&65535)+(p&(1<<b)-1)];continue t}else if(b&32){k.mode=bre;break e}else{t.msg="invalid literal/length code",k.mode=Td;break e}break}}while(i<s&&o<l);w=m>>3,i-=w,m-=w<<3,p&=(1<<m)-1,t.next_in=i,t.next_out=o,t.avail_in=i<s?5+(s-i):5-(i-s),t.avail_out=o<l?257+(l-o):257-(o-l),k.hold=p,k.bits=m};const Au=15,HS=852,WS=592,XS=0,iv=1,qS=2,_re=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wre=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ere=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Sre=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Cre=(n,t,r,i,s,o,a,l)=>{const u=l.bits;let h=0,c=0,f=0,d=0,p=0,m=0,g=0,v=0,E=0,y=0,x,b,w,S,_,T=null,C;const F=new Uint16Array(Au+1),k=new Uint16Array(Au+1);let D=null,N,M,U;for(h=0;h<=Au;h++)F[h]=0;for(c=0;c<i;c++)F[t[r+c]]++;for(p=u,d=Au;d>=1&&F[d]===0;d--);if(p>d&&(p=d),d===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<d&&F[f]===0;f++);for(p<f&&(p=f),v=1,h=1;h<=Au;h++)if(v<<=1,v-=F[h],v<0)return-1;if(v>0&&(n===XS||d!==1))return-1;for(k[1]=0,h=1;h<Au;h++)k[h+1]=k[h]+F[h];for(c=0;c<i;c++)t[r+c]!==0&&(a[k[t[r+c]]++]=c);if(n===XS?(T=D=a,C=20):n===iv?(T=_re,D=wre,C=257):(T=Ere,D=Sre,C=0),y=0,c=0,h=f,_=o,m=p,g=0,w=-1,E=1<<p,S=E-1,n===iv&&E>HS||n===qS&&E>WS)return 1;for(;;){N=h-g,a[c]+1<C?(M=0,U=a[c]):a[c]>=C?(M=D[a[c]-C],U=T[a[c]-C]):(M=96,U=0),x=1<<h-g,b=1<<m,f=b;do b-=x,s[_+(y>>g)+b]=N<<24|M<<16|U|0;while(b!==0);for(x=1<<h-1;y&x;)x>>=1;if(x!==0?(y&=x-1,y+=x):y=0,c++,--F[h]===0){if(h===d)break;h=t[r+a[c]]}if(h>p&&(y&S)!==w){for(g===0&&(g=p),_+=f,m=h-g,v=1<<m;m+g<d&&(v-=F[m+g],!(v<=0));)m++,v<<=1;if(E+=1<<m,n===iv&&E>HS||n===qS&&E>WS)return 1;w=y&S,s[w]=p<<24|m<<16|_-o|0}}return y!==0&&(s[_+y]=h-g<<24|64<<16|0),l.bits=p,0};var _h=Cre;const Are=0,sM=1,oM=2,{Z_FINISH:YS,Z_BLOCK:Tre,Z_TREES:Id,Z_OK:Jl,Z_STREAM_END:Ire,Z_NEED_DICT:Dre,Z_STREAM_ERROR:Is,Z_DATA_ERROR:aM,Z_MEM_ERROR:lM,Z_BUF_ERROR:Nre,Z_DEFLATED:KS}=nM,Ag=16180,ZS=16181,JS=16182,QS=16183,eC=16184,tC=16185,nC=16186,rC=16187,iC=16188,sC=16189,om=16190,Io=16191,sv=16192,oC=16193,ov=16194,aC=16195,lC=16196,uC=16197,cC=16198,Dd=16199,Nd=16200,hC=16201,fC=16202,dC=16203,pC=16204,mC=16205,av=16206,gC=16207,vC=16208,Kn=16209,uM=16210,cM=16211,Fre=852,kre=592,Mre=15,Ore=Mre,yC=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Lre(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const au=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<Ag||t.mode>cM?1:0},hM=n=>{if(au(n))return Is;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=Ag,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Fre),t.distcode=t.distdyn=new Int32Array(kre),t.sane=1,t.back=-1,Jl},fM=n=>{if(au(n))return Is;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,hM(n)},dM=(n,t)=>{let r;if(au(n))return Is;const i=n.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Is:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,fM(n))},pM=(n,t)=>{if(!n)return Is;const r=new Lre;n.state=r,r.strm=n,r.window=null,r.mode=Ag;const i=dM(n,t);return i!==Jl&&(n.state=null),i},Pre=n=>pM(n,Ore);let bC=!0,lv,uv;const Rre=n=>{if(bC){lv=new Int32Array(512),uv=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(_h(sM,n.lens,0,288,lv,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;_h(oM,n.lens,0,32,uv,0,n.work,{bits:5}),bC=!1}n.lencode=lv,n.lenbits=9,n.distcode=uv,n.distbits=5},mM=(n,t,r,i)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>i&&(s=i),o.window.set(t.subarray(r-i,r-i+s),o.wnext),i-=s,i?(o.window.set(t.subarray(r-i,r),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},Bre=(n,t)=>{let r,i,s,o,a,l,u,h,c,f,d,p,m,g,v=0,E,y,x,b,w,S,_,T;const C=new Uint8Array(4);let F,k;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(au(n)||!n.output||!n.input&&n.avail_in!==0)return Is;r=n.state,r.mode===Io&&(r.mode=sv),a=n.next_out,s=n.output,u=n.avail_out,o=n.next_in,i=n.input,l=n.avail_in,h=r.hold,c=r.bits,f=l,d=u,T=Jl;e:for(;;)switch(r.mode){case Ag:if(r.wrap===0){r.mode=sv;break}for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,C[0]=h&255,C[1]=h>>>8&255,r.check=io(r.check,C,2,0),h=0,c=0,r.mode=ZS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",r.mode=Kn;break}if((h&15)!==KS){n.msg="unknown compression method",r.mode=Kn;break}if(h>>>=4,c-=4,_=(h&15)+8,r.wbits===0&&(r.wbits=_),_>15||_>r.wbits){n.msg="invalid window size",r.mode=Kn;break}r.dmax=1<<r.wbits,r.flags=0,n.adler=r.check=1,r.mode=h&512?sC:Io,h=0,c=0;break;case ZS:for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.flags=h,(r.flags&255)!==KS){n.msg="unknown compression method",r.mode=Kn;break}if(r.flags&57344){n.msg="unknown header flags set",r.mode=Kn;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(C[0]=h&255,C[1]=h>>>8&255,r.check=io(r.check,C,2,0)),h=0,c=0,r.mode=JS;case JS:for(;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(C[0]=h&255,C[1]=h>>>8&255,C[2]=h>>>16&255,C[3]=h>>>24&255,r.check=io(r.check,C,4,0)),h=0,c=0,r.mode=QS;case QS:for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(C[0]=h&255,C[1]=h>>>8&255,r.check=io(r.check,C,2,0)),h=0,c=0,r.mode=eC;case eC:if(r.flags&1024){for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(C[0]=h&255,C[1]=h>>>8&255,r.check=io(r.check,C,2,0)),h=0,c=0}else r.head&&(r.head.extra=null);r.mode=tC;case tC:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(_=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(o,o+p),_)),r.flags&512&&r.wrap&4&&(r.check=io(r.check,i,p,o)),l-=p,o+=p,r.length-=p),r.length))break e;r.length=0,r.mode=nC;case nC:if(r.flags&2048){if(l===0)break e;p=0;do _=i[o+p++],r.head&&_&&r.length<65536&&(r.head.name+=String.fromCharCode(_));while(_&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=io(r.check,i,p,o)),l-=p,o+=p,_)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=rC;case rC:if(r.flags&4096){if(l===0)break e;p=0;do _=i[o+p++],r.head&&_&&r.length<65536&&(r.head.comment+=String.fromCharCode(_));while(_&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=io(r.check,i,p,o)),l-=p,o+=p,_)break e}else r.head&&(r.head.comment=null);r.mode=iC;case iC:if(r.flags&512){for(;c<16;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.wrap&4&&h!==(r.check&65535)){n.msg="header crc mismatch",r.mode=Kn;break}h=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),n.adler=r.check=0,r.mode=Io;break;case sC:for(;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}n.adler=r.check=yC(h),h=0,c=0,r.mode=om;case om:if(r.havedict===0)return n.next_out=a,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=h,r.bits=c,Dre;n.adler=r.check=1,r.mode=Io;case Io:if(t===Tre||t===Id)break e;case sv:if(r.last){h>>>=c&7,c-=c&7,r.mode=av;break}for(;c<3;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}switch(r.last=h&1,h>>>=1,c-=1,h&3){case 0:r.mode=oC;break;case 1:if(Rre(r),r.mode=Dd,t===Id){h>>>=2,c-=2;break e}break;case 2:r.mode=lC;break;case 3:n.msg="invalid block type",r.mode=Kn}h>>>=2,c-=2;break;case oC:for(h>>>=c&7,c-=c&7;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",r.mode=Kn;break}if(r.length=h&65535,h=0,c=0,r.mode=ov,t===Id)break e;case ov:r.mode=aC;case aC:if(p=r.length,p){if(p>l&&(p=l),p>u&&(p=u),p===0)break e;s.set(i.subarray(o,o+p),a),l-=p,o+=p,u-=p,a+=p,r.length-=p;break}r.mode=Io;break;case lC:for(;c<14;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.nlen=(h&31)+257,h>>>=5,c-=5,r.ndist=(h&31)+1,h>>>=5,c-=5,r.ncode=(h&15)+4,h>>>=4,c-=4,r.nlen>286||r.ndist>30){n.msg="too many length or distance symbols",r.mode=Kn;break}r.have=0,r.mode=uC;case uC:for(;r.have<r.ncode;){for(;c<3;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.lens[D[r.have++]]=h&7,h>>>=3,c-=3}for(;r.have<19;)r.lens[D[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},T=_h(Are,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,T){n.msg="invalid code lengths set",r.mode=Kn;break}r.have=0,r.mode=cC;case cC:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[h&(1<<r.lenbits)-1],E=v>>>24,y=v>>>16&255,x=v&65535,!(E<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(x<16)h>>>=E,c-=E,r.lens[r.have++]=x;else{if(x===16){for(k=E+2;c<k;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(h>>>=E,c-=E,r.have===0){n.msg="invalid bit length repeat",r.mode=Kn;break}_=r.lens[r.have-1],p=3+(h&3),h>>>=2,c-=2}else if(x===17){for(k=E+3;c<k;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=E,c-=E,_=0,p=3+(h&7),h>>>=3,c-=3}else{for(k=E+7;c<k;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=E,c-=E,_=0,p=11+(h&127),h>>>=7,c-=7}if(r.have+p>r.nlen+r.ndist){n.msg="invalid bit length repeat",r.mode=Kn;break}for(;p--;)r.lens[r.have++]=_}}if(r.mode===Kn)break;if(r.lens[256]===0){n.msg="invalid code -- missing end-of-block",r.mode=Kn;break}if(r.lenbits=9,F={bits:r.lenbits},T=_h(sM,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,T){n.msg="invalid literal/lengths set",r.mode=Kn;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},T=_h(oM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,T){n.msg="invalid distances set",r.mode=Kn;break}if(r.mode=Dd,t===Id)break e;case Dd:r.mode=Nd;case Nd:if(l>=6&&u>=258){n.next_out=a,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=h,r.bits=c,xre(n,d),a=n.next_out,s=n.output,u=n.avail_out,o=n.next_in,i=n.input,l=n.avail_in,h=r.hold,c=r.bits,r.mode===Io&&(r.back=-1);break}for(r.back=0;v=r.lencode[h&(1<<r.lenbits)-1],E=v>>>24,y=v>>>16&255,x=v&65535,!(E<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(y&&(y&240)===0){for(b=E,w=y,S=x;v=r.lencode[S+((h&(1<<b+w)-1)>>b)],E=v>>>24,y=v>>>16&255,x=v&65535,!(b+E<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=b,c-=b,r.back+=b}if(h>>>=E,c-=E,r.back+=E,r.length=x,y===0){r.mode=mC;break}if(y&32){r.back=-1,r.mode=Io;break}if(y&64){n.msg="invalid literal/length code",r.mode=Kn;break}r.extra=y&15,r.mode=hC;case hC:if(r.extra){for(k=r.extra;c<k;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=fC;case fC:for(;v=r.distcode[h&(1<<r.distbits)-1],E=v>>>24,y=v>>>16&255,x=v&65535,!(E<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if((y&240)===0){for(b=E,w=y,S=x;v=r.distcode[S+((h&(1<<b+w)-1)>>b)],E=v>>>24,y=v>>>16&255,x=v&65535,!(b+E<=c);){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}h>>>=b,c-=b,r.back+=b}if(h>>>=E,c-=E,r.back+=E,y&64){n.msg="invalid distance code",r.mode=Kn;break}r.offset=x,r.extra=y&15,r.mode=dC;case dC:if(r.extra){for(k=r.extra;c<k;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){n.msg="invalid distance too far back",r.mode=Kn;break}r.mode=pC;case pC:if(u===0)break e;if(p=d-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){n.msg="invalid distance too far back",r.mode=Kn;break}p>r.wnext?(p-=r.wnext,m=r.wsize-p):m=r.wnext-p,p>r.length&&(p=r.length),g=r.window}else g=s,m=a-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do s[a++]=g[m++];while(--p);r.length===0&&(r.mode=Nd);break;case mC:if(u===0)break e;s[a++]=r.length,u--,r.mode=Nd;break;case av:if(r.wrap){for(;c<32;){if(l===0)break e;l--,h|=i[o++]<<c,c+=8}if(d-=u,n.total_out+=d,r.total+=d,r.wrap&4&&d&&(n.adler=r.check=r.flags?io(r.check,s,d,a-d):Qy(r.check,s,d,a-d)),d=u,r.wrap&4&&(r.flags?h:yC(h))!==r.check){n.msg="incorrect data check",r.mode=Kn;break}h=0,c=0}r.mode=gC;case gC:if(r.wrap&&r.flags){for(;c<32;){if(l===0)break e;l--,h+=i[o++]<<c,c+=8}if(r.wrap&4&&h!==(r.total&4294967295)){n.msg="incorrect length check",r.mode=Kn;break}h=0,c=0}r.mode=vC;case vC:T=Ire;break e;case Kn:T=aM;break e;case uM:return lM;case cM:default:return Is}return n.next_out=a,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=h,r.bits=c,(r.wsize||d!==n.avail_out&&r.mode<Kn&&(r.mode<av||t!==YS))&&mM(n,n.output,n.next_out,d-n.avail_out),f-=n.avail_in,d-=n.avail_out,n.total_in+=f,n.total_out+=d,r.total+=d,r.wrap&4&&d&&(n.adler=r.check=r.flags?io(r.check,s,d,n.next_out-d):Qy(r.check,s,d,n.next_out-d)),n.data_type=r.bits+(r.last?64:0)+(r.mode===Io?128:0)+(r.mode===Dd||r.mode===ov?256:0),(f===0&&d===0||t===YS)&&T===Jl&&(T=Nre),T},Ure=n=>{if(au(n))return Is;let t=n.state;return t.window&&(t.window=null),n.state=null,Jl},Vre=(n,t)=>{if(au(n))return Is;const r=n.state;return(r.wrap&2)===0?Is:(r.head=t,t.done=!1,Jl)},$re=(n,t)=>{const r=t.length;let i,s,o;return au(n)||(i=n.state,i.wrap!==0&&i.mode!==om)?Is:i.mode===om&&(s=1,s=Qy(s,t,r,0),s!==i.check)?aM:(o=mM(n,t,r,r),o?(i.mode=uM,lM):(i.havedict=1,Jl))};var jre=fM,zre=dM,Gre=hM,Hre=Pre,Wre=pM,Xre=Bre,qre=Ure,Yre=Vre,Kre=$re,Zre="pako inflate (from Nodeca project)",Mo={inflateReset:jre,inflateReset2:zre,inflateResetKeep:Gre,inflateInit:Hre,inflateInit2:Wre,inflate:Xre,inflateEnd:qre,inflateGetHeader:Yre,inflateSetDictionary:Kre,inflateInfo:Zre};function Jre(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Qre=Jre;const gM=Object.prototype.toString,{Z_NO_FLUSH:eie,Z_FINISH:tie,Z_OK:af,Z_STREAM_END:cv,Z_NEED_DICT:hv,Z_STREAM_ERROR:nie,Z_DATA_ERROR:xC,Z_MEM_ERROR:rie}=nM;function Tg(n){this.options=rM.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yre,this.strm.avail_out=0;let r=Mo.inflateInit2(this.strm,t.windowBits);if(r!==af)throw new Error(e1[r]);if(this.header=new Qre,Mo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=t1.string2buf(t.dictionary):gM.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Mo.inflateSetDictionary(this.strm,t.dictionary),r!==af)))throw new Error(e1[r])}Tg.prototype.push=function(n,t){const r=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let o,a,l;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?tie:eie,gM.call(n)==="[object ArrayBuffer]"?r.input=new Uint8Array(n):r.input=n,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),o=Mo.inflate(r,a),o===hv&&s&&(o=Mo.inflateSetDictionary(r,s),o===af?o=Mo.inflate(r,a):o===xC&&(o=hv));r.avail_in>0&&o===cv&&r.state.wrap>0&&n[r.next_in]!==0;)Mo.inflateReset(r),o=Mo.inflate(r,a);switch(o){case nie:case xC:case hv:case rie:return this.onEnd(o),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||o===cv))if(this.options.to==="string"){let u=t1.utf8border(r.output,r.next_out),h=r.next_out-u,c=t1.buf2string(r.output,u);r.next_out=h,r.avail_out=i-h,h&&r.output.set(r.output.subarray(u,u+h),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===af&&l===0)){if(o===cv)return o=Mo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Tg.prototype.onData=function(n){this.chunks.push(n)};Tg.prototype.onEnd=function(n){n===af&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rM.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function iie(n,t){const r=new Tg(t);if(r.push(n),r.err)throw r.msg||e1[r.err];return r.result}var sie=iie,oie={inflate:sie};const{inflate:aie}=oie;var lie=aie;const vM={inflate:lie};var Ze={};Ze.parse=function(n){var t=Ze.B,r=function(b,w,S,_){var T=Ze.T,C={cmap:T.cmap,head:T.head,hhea:T.hhea,maxp:T.maxp,hmtx:T.hmtx,name:T.name,"OS/2":T.OS2,post:T.post,loca:T.loca,kern:T.kern,glyf:T.glyf,"CFF ":T.CFF,GSUB:T.GSUB,CBLC:T.CBLC,CBDT:T.CBDT,"SVG ":T.SVG,COLR:T.colr,CPAL:T.cpal,sbix:T.sbix,fvar:T.fvar,gvar:T.gvar,avar:T.avar,HVAR:T.HVAR},F={_data:b,_index:w,_offset:S};for(var k in C){var D=Ze.findTable(b,k,S);if(D){var N=D[0],M=_[N];M==null&&(M=C[k].parseTab(b,N,D[1],F)),F[k]=_[N]=M}}return F};function i(b){var w=t.readUshort(b,12),S=t.readUint(b,16),_=new Uint8Array(S),T=12+w*16;t.writeASCII(_,0,"OTTO"),t.writeUshort(_,4,w);for(var C=44,F=0;F<w;F++){var k=t.readASCII(b,C,4),D=t.readUint(b,C+4),N=t.readUint(b,C+8),M=t.readUint(b,C+12);C+=20;var U=b.slice(D,D+N);N!=M&&(U=vM.inflate(U));var B=12+F*16;t.writeASCII(_,B,k),t.writeUint(_,B+8,T),t.writeUint(_,B+12,M),_.set(U,T),T+=M}return _}var s=new Uint8Array(n);let o;s[0]==119&&(o=s,s=i(s));var a={},l=t.readASCII(s,0,4);if(l=="ttcf"){var u=4;t.readUshort(s,u),u+=2,t.readUshort(s,u),u+=2;var h=t.readUint(s,u);u+=4;for(var c=[],f=0;f<h;f++){var d=t.readUint(s,u);u+=4,c.push(r(s,f,d,a))}return c}var p=r(s,0,0,a);p._compressedData=o;var m=p.fvar;if(m){for(var g=[p],f=0;f<m[1].length;f++){var v=m[1][f],E={};g.push(E);for(var y in p)E[y]=p[y];E._index=f;var x=E.name=JSON.parse(JSON.stringify(E.name));x.fontSubfamily=v[0],v[3]==null&&(v[3]=(x.fontFamily+"-"+x.fontSubfamily).replaceAll(" ","")),x.postScriptName=v[3]}return g}return[p]};Ze.findTable=function(n,t,r){for(var i=Ze.B,s=i.readUshort(n,r+4),o=r+12,a=0;a<s;a++){var l=i.readASCII(n,o,4);i.readUint(n,o+4);var u=i.readUint(n,o+8),h=i.readUint(n,o+12);if(l==t)return[u,h];o+=16}return null};Ze.T={};Ze.B={readFixed:function(n,t){return(n[t]<<8|n[t+1])+(n[t+2]<<8|n[t+3])/(256*256+4)},readF2dot14:function(n,t){var r=Ze.B.readShort(n,t);return r/16384},readInt:function(n,t){var r=Ze.B.t.uint8;return r[0]=n[t+3],r[1]=n[t+2],r[2]=n[t+1],r[3]=n[t],Ze.B.t.int32[0]},readInt8:function(n,t){var r=Ze.B.t.uint8;return r[0]=n[t],Ze.B.t.int8[0]},readShort:function(n,t){var r=Ze.B.t.uint16;return r[0]=n[t]<<8|n[t+1],Ze.B.t.int16[0]},readUshort:function(n,t){return n[t]<<8|n[t+1]},writeUshort:function(n,t,r){n[t]=r>>8&255,n[t+1]=r&255},readUshorts:function(n,t,r){for(var i=[],s=0;s<r;s++){var o=Ze.B.readUshort(n,t+s*2);i.push(o)}return i},readUint:function(n,t){var r=Ze.B.t.uint8;return r[3]=n[t],r[2]=n[t+1],r[1]=n[t+2],r[0]=n[t+3],Ze.B.t.uint32[0]},writeUint:function(n,t,r){n[t]=r>>24&255,n[t+1]=r>>16&255,n[t+2]=r>>8&255,n[t+3]=r>>0&255},readUint64:function(n,t){return Ze.B.readUint(n,t)*4294967296+Ze.B.readUint(n,t+4)},readASCII:function(n,t,r){for(var i="",s=0;s<r;s++)i+=String.fromCharCode(n[t+s]);return i},writeASCII:function(n,t,r){for(var i=0;i<r.length;i++)n[t+i]=r.charCodeAt(i)},readUnicode:function(n,t,r){for(var i="",s=0;s<r;s++){var o=n[t++]<<8|n[t++];i+=String.fromCharCode(o)}return i},_tdec:window.TextDecoder?new window.TextDecoder:null,readUTF8:function(n,t,r){var i=Ze.B._tdec;return i&&t==0&&r==n.length?i.decode(n):Ze.B.readASCII(n,t,r)},readBytes:function(n,t,r){for(var i=[],s=0;s<r;s++)i.push(n[t+s]);return i},readASCIIArray:function(n,t,r){for(var i=[],s=0;s<r;s++)i.push(String.fromCharCode(n[t+s]));return i},t:(function(){var n=new ArrayBuffer(8);return{buff:n,int8:new Int8Array(n),uint8:new Uint8Array(n),int16:new Int16Array(n),uint16:new Uint16Array(n),int32:new Int32Array(n),uint32:new Uint32Array(n)}})()};Ze.T.CFF={parseTab:function(n,t,r){var i=Ze.B,s=Ze.T.CFF;n=new Uint8Array(n.buffer,t,r),t=0,n[t],t++,n[t],t++,n[t],t++,n[t],t++;var o=[];t=s.readIndex(n,t,o);for(var a=[],l=0;l<o.length-1;l++)a.push(i.readASCII(n,t+o[l],o[l+1]-o[l]));t+=o[o.length-1];var u=[];t=s.readIndex(n,t,u);for(var h=[],l=0;l<u.length-1;l++)h.push(s.readDict(n,t+u[l],t+u[l+1]));t+=u[u.length-1];var c=h[0],f=[];t=s.readIndex(n,t,f);for(var d=[],l=0;l<f.length-1;l++)d.push(i.readASCII(n,t+f[l],f[l+1]-f[l]));if(t+=f[f.length-1],s.readSubrs(n,t,c),c.CharStrings&&(c.CharStrings=s.readBytes(n,c.CharStrings)),c.ROS){t=c.FDArray;var p=[];t=s.readIndex(n,t,p),c.FDArray=[];for(var l=0;l<p.length-1;l++){var m=s.readDict(n,t+p[l],t+p[l+1]);s._readFDict(n,m,d),c.FDArray.push(m)}t+=p[p.length-1],t=c.FDSelect,c.FDSelect=[];var g=n[t];if(t++,g==3){var v=i.readUshort(n,t);t+=2;for(var l=0;l<v+1;l++)c.FDSelect.push(i.readUshort(n,t),n[t+2]),t+=3}else throw g}return c.charset&&(c.charset=s.readCharset(n,c.charset,c.CharStrings.length)),s._readFDict(n,c,d),c},_readFDict:function(n,t,r){var i=Ze.T.CFF,s;t.Private&&(s=t.Private[1],t.Private=i.readDict(n,s,s+t.Private[0]),t.Private.Subrs&&i.readSubrs(n,s+t.Private.Subrs,t.Private));for(var o in t)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(o)!=-1&&(t[o]=r[t[o]-426+35])},readSubrs:function(n,t,r){r.Subrs=Ze.T.CFF.readBytes(n,t);var i,s=r.Subrs.length+1;s<1240?i=107:s<33900?i=1131:i=32768,r.Bias=i},readBytes:function(n,t){Ze.B;var r=[];t=Ze.T.CFF.readIndex(n,t,r);for(var i=[],s=r.length-1,o=n.byteOffset+t,a=0;a<s;a++){var l=r[a];i.push(new Uint8Array(n.buffer,o+l,r[a+1]-l))}return i},tableSE:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],glyphByUnicode:function(n,t){for(var r=0;r<n.charset.length;r++)if(n.charset[r]==t)return r;return-1},glyphBySE:function(n,t){return t<0||t>255?-1:Ze.T.CFF.glyphByUnicode(n,Ze.T.CFF.tableSE[t])},readCharset:function(n,t,r){var i=Ze.B,s=[".notdef"],o=n[t];if(t++,o==0)for(var a=0;a<r;a++){var l=i.readUshort(n,t);t+=2,s.push(l)}else if(o==1||o==2)for(;s.length<r;){var l=i.readUshort(n,t);t+=2;var u=0;o==1?(u=n[t],t++):(u=i.readUshort(n,t),t+=2);for(var a=0;a<=u;a++)s.push(l),l++}else throw"error: format: "+o;return s},readIndex:function(n,t,r){var i=Ze.B,s=i.readUshort(n,t)+1;t+=2;var o=n[t];if(t++,o==1)for(var a=0;a<s;a++)r.push(n[t+a]);else if(o==2)for(var a=0;a<s;a++)r.push(i.readUshort(n,t+a*2));else if(o==3)for(var a=0;a<s;a++)r.push(i.readUint(n,t+a*3-1)&16777215);else if(o==4)for(var a=0;a<s;a++)r.push(i.readUint(n,t+a*4));else if(s!=1)throw"unsupported offset size: "+o+", count: "+s;return t+=s*o,t-1},getCharString:function(n,t,r){var i=Ze.B,s=n[t],o=n[t+1];n[t+2],n[t+3],n[t+4];var a=1,l=null,u=null;s<=20&&(l=s,a=1),s==12&&(l=s*100+o,a=2),21<=s&&s<=27&&(l=s,a=1),s==28&&(u=i.readShort(n,t+1),a=3),29<=s&&s<=31&&(l=s,a=1),32<=s&&s<=246&&(u=s-139,a=1),247<=s&&s<=250&&(u=(s-247)*256+o+108,a=2),251<=s&&s<=254&&(u=-(s-251)*256-o-108,a=2),s==255&&(u=i.readInt(n,t+1)/65535,a=5),r.val=u??"o"+l,r.size=a},readCharString:function(n,t,r){for(var i=t+r,s=Ze.B,o=[];t<i;){var a=n[t],l=n[t+1];n[t+2],n[t+3],n[t+4];var u=1,h=null,c=null;a<=20&&(h=a,u=1),a==12&&(h=a*100+l,u=2),(a==19||a==20)&&(h=a,u=2),21<=a&&a<=27&&(h=a,u=1),a==28&&(c=s.readShort(n,t+1),u=3),29<=a&&a<=31&&(h=a,u=1),32<=a&&a<=246&&(c=a-139,u=1),247<=a&&a<=250&&(c=(a-247)*256+l+108,u=2),251<=a&&a<=254&&(c=-(a-251)*256-l-108,u=2),a==255&&(c=s.readInt(n,t+1)/65535,u=5),o.push(c??"o"+h),t+=u}return o},readDict:function(n,t,r){for(var i=Ze.B,s={},o=[];t<r;){var a=n[t],l=n[t+1];n[t+2],n[t+3],n[t+4];var u=1,h=null,c=null;if(a==28&&(c=i.readShort(n,t+1),u=3),a==29&&(c=i.readInt(n,t+1),u=5),32<=a&&a<=246&&(c=a-139,u=1),247<=a&&a<=250&&(c=(a-247)*256+l+108,u=2),251<=a&&a<=254&&(c=-(a-251)*256-l-108,u=2),a==255)throw c=i.readInt(n,t+1)/65535,u=5,"unknown number";if(a==30){var f=[];for(u=1;;){var d=n[t+u];u++;var p=d>>4,m=d&15;if(p!=15&&f.push(p),m!=15&&f.push(m),m==15)break}for(var g="",v=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<f.length;E++)g+=v[f[E]];c=parseFloat(g)}if(a<=21){var y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"];if(h=y[a],u=1,a==12){var y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold","","","LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend","","","","","","","ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"];h=y[l],u=2}}h!=null?(s[h]=o.length==1?o[0]:o,o=[]):o.push(c),t+=u}return s}};Ze.T.cmap={parseTab:function(n,t,r){var i={tables:[],ids:{},off:t};n=new Uint8Array(n.buffer,t,r),t=0;var s=Ze.B,o=s.readUshort,a=Ze.T.cmap;o(n,t),t+=2;var l=o(n,t);t+=2;for(var u=[],h=0;h<l;h++){var c=o(n,t);t+=2;var f=o(n,t);t+=2;var d=s.readUint(n,t);t+=4;var p="p"+c+"e"+f,m=u.indexOf(d);if(m==-1){m=i.tables.length;var g={};u.push(d);var v=g.format=o(n,d);v==0?g=a.parse0(n,d,g):v==4?g=a.parse4(n,d,g):v==6?g=a.parse6(n,d,g):v==12&&(g=a.parse12(n,d,g)),i.tables.push(g)}i.ids[p]!=null&&console.log("multiple tables for one platform+encoding: "+p),i.ids[p]=m}return i},parse0:function(n,t,r){var i=Ze.B;t+=2;var s=i.readUshort(n,t);t+=2,i.readUshort(n,t),t+=2,r.map=[];for(var o=0;o<s-6;o++)r.map.push(n[t+o]);return r},parse4:function(n,t,r){var i=Ze.B,s=i.readUshort,o=i.readUshorts,a=t;t+=2;var l=s(n,t);t+=2,s(n,t),t+=2;var u=s(n,t);t+=2;var h=u>>>1;r.searchRange=s(n,t),t+=2,r.entrySelector=s(n,t),t+=2,r.rangeShift=s(n,t),t+=2,r.endCount=o(n,t,h),t+=h*2,t+=2,r.startCount=o(n,t,h),t+=h*2,r.idDelta=[];for(var c=0;c<h;c++)r.idDelta.push(i.readShort(n,t)),t+=2;return r.idRangeOffset=o(n,t,h),t+=h*2,r.glyphIdArray=o(n,t,a+l-t>>1),r},parse6:function(n,t,r){var i=Ze.B;t+=2,i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2,r.firstCode=i.readUshort(n,t),t+=2;var s=i.readUshort(n,t);t+=2,r.glyphIdArray=[];for(var o=0;o<s;o++)r.glyphIdArray.push(i.readUshort(n,t)),t+=2;return r},parse12:function(n,t,r){var i=Ze.B,s=i.readUint;t+=4,s(n,t),t+=4,s(n,t),t+=4;var o=s(n,t)*3;t+=4;for(var a=r.groups=new Uint32Array(o),l=0;l<o;l+=3)a[l]=s(n,t+(l<<2)),a[l+1]=s(n,t+(l<<2)+4),a[l+2]=s(n,t+(l<<2)+8);return r}};Ze.T.CBLC={parseTab:function(n,t,r){var i=Ze.B,s=t;i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2;var o=i.readUint(n,t);t+=4;for(var a=[],l=0;l<o;l++){var u=i.readUint(n,t);t+=4,i.readUint(n,t),t+=4,i.readUint(n,t),t+=4,t+=4,t+=24,i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2,t+=4;for(var h=s+u,c=0;c<3;c++){var f=i.readUshort(n,h);h+=2;var d=i.readUshort(n,h);h+=2;var p=i.readUint(n,h);h+=4;var m=d-f+1,g=s+u+p,v=i.readUshort(n,g);if(g+=2,v!=1)throw v;var E=i.readUshort(n,g);g+=2;var y=i.readUint(n,g);g+=4;for(var x=[],b=0;b<m;b++){var w=i.readUint(n,g+b*4);x.push(y+w)}a.push([f,d,E,x])}}return a}};Ze.T.CBDT={parseTab:function(n,t,r){return Ze.B,new Uint8Array(n.buffer,n.byteOffset+t,r)}};Ze.T.glyf={parseTab:function(n,t,r,i){for(var s=[],o=i.maxp.numGlyphs,a=0;a<o;a++)s.push(null);return s},_parseGlyf:function(n,t){var r=Ze.B,i=n._data,s=n.loca;if(s[t]==s[t+1])return null;var o=Ze.findTable(i,"glyf",n._offset)[0]+s[t],a={};if(a.noc=r.readShort(i,o),o+=2,a.xMin=r.readShort(i,o),o+=2,a.yMin=r.readShort(i,o),o+=2,a.xMax=r.readShort(i,o),o+=2,a.yMax=r.readShort(i,o),o+=2,a.xMin>=a.xMax||a.yMin>=a.yMax)return null;if(a.noc>0){a.endPts=[];for(var l=0;l<a.noc;l++)a.endPts.push(r.readUshort(i,o)),o+=2;var u=r.readUshort(i,o);if(o+=2,i.length-o<u)return null;a.instructions=r.readBytes(i,o,u),o+=u;var h=a.endPts[a.noc-1]+1;a.flags=[];for(var l=0;l<h;l++){var c=i[o];if(o++,a.flags.push(c),(c&8)!=0){var f=i[o];o++;for(var d=0;d<f;d++)a.flags.push(c),l++}}a.xs=[];for(var l=0;l<h;l++){var p=(a.flags[l]&2)!=0,m=(a.flags[l]&16)!=0;p?(a.xs.push(m?i[o]:-i[o]),o++):m?a.xs.push(0):(a.xs.push(r.readShort(i,o)),o+=2)}a.ys=[];for(var l=0;l<h;l++){var p=(a.flags[l]&4)!=0,m=(a.flags[l]&32)!=0;p?(a.ys.push(m?i[o]:-i[o]),o++):m?a.ys.push(0):(a.ys.push(r.readShort(i,o)),o+=2)}for(var g=0,v=0,l=0;l<h;l++)g+=a.xs[l],v+=a.ys[l],a.xs[l]=g,a.ys[l]=v}else{var E=1,y=2,x=8,b=32,w=64,S=128,_=256;a.parts=[];var T;do{T=r.readUshort(i,o),o+=2;var C={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(a.parts.push(C),C.glyphIndex=r.readUshort(i,o),o+=2,T&E){var F=r.readShort(i,o);o+=2;var k=r.readShort(i,o);o+=2}else{var F=r.readInt8(i,o);o++;var k=r.readInt8(i,o);o++}T&y?(C.m.tx=F,C.m.ty=k):(C.p1=F,C.p2=k),T&x?(C.m.a=C.m.d=r.readF2dot14(i,o),o+=2):T&w?(C.m.a=r.readF2dot14(i,o),o+=2,C.m.d=r.readF2dot14(i,o),o+=2):T&S&&(C.m.a=r.readF2dot14(i,o),o+=2,C.m.b=r.readF2dot14(i,o),o+=2,C.m.c=r.readF2dot14(i,o),o+=2,C.m.d=r.readF2dot14(i,o),o+=2)}while(T&b);if(T&_){var D=r.readUshort(i,o);o+=2,a.instr=[];for(var l=0;l<D;l++)a.instr.push(i[o]),o++}}return a}};Ze.T.head={parseTab:function(n,t,r){var i=Ze.B,s={};return i.readFixed(n,t),t+=4,s.fontRevision=i.readFixed(n,t),t+=4,i.readUint(n,t),t+=4,i.readUint(n,t),t+=4,s.flags=i.readUshort(n,t),t+=2,s.unitsPerEm=i.readUshort(n,t),t+=2,s.created=i.readUint64(n,t),t+=8,s.modified=i.readUint64(n,t),t+=8,s.xMin=i.readShort(n,t),t+=2,s.yMin=i.readShort(n,t),t+=2,s.xMax=i.readShort(n,t),t+=2,s.yMax=i.readShort(n,t),t+=2,s.macStyle=i.readUshort(n,t),t+=2,s.lowestRecPPEM=i.readUshort(n,t),t+=2,s.fontDirectionHint=i.readShort(n,t),t+=2,s.indexToLocFormat=i.readShort(n,t),t+=2,s.glyphDataFormat=i.readShort(n,t),t+=2,s}};Ze.T.hhea={parseTab:function(n,t,r){var i=Ze.B,s={};i.readFixed(n,t),t+=4;for(var o=["ascender","descender","lineGap","advanceWidthMax","minLeftSideBearing","minRightSideBearing","xMaxExtent","caretSlopeRise","caretSlopeRun","caretOffset","res0","res1","res2","res3","metricDataFormat","numberOfHMetrics"],a=0;a<o.length;a++){var l=o[a],u=l=="advanceWidthMax"||l=="numberOfHMetrics"?i.readUshort:i.readShort;s[l]=u(n,t+a*2)}return s}};Ze.T.hmtx={parseTab:function(n,t,r,i){for(var s=Ze.B,o=[],a=[],l=i.maxp.numGlyphs,u=i.hhea.numberOfHMetrics,h=0,c=0,f=0;f<u;)h=s.readUshort(n,t+(f<<2)),c=s.readShort(n,t+(f<<2)+2),o.push(h),a.push(c),f++;for(;f<l;)o.push(h),a.push(c),f++;return{aWidth:o,lsBearing:a}}};Ze.T.kern={parseTab:function(n,t,r,i){var s=Ze.B,o=Ze.T.kern,a=s.readUshort(n,t);if(a==1)return o.parseV1(n,t,r,i);var l=s.readUshort(n,t+2);t+=4;for(var u={glyph1:[],rval:[]},h=0;h<l;h++){t+=2;var r=s.readUshort(n,t);t+=2;var c=s.readUshort(n,t);t+=2;var f=c>>>8;f&=15,f==0&&(t=o.readFormat0(n,t,u))}return u},parseV1:function(n,t,r,i){var s=Ze.B,o=Ze.T.kern;s.readFixed(n,t);var a=s.readUint(n,t+4);t+=8;for(var l={glyph1:[],rval:[]},u=0;u<a;u++){s.readUint(n,t),t+=4;var h=s.readUshort(n,t);t+=2,s.readUshort(n,t),t+=2;var c=h&255;c==0&&(t=o.readFormat0(n,t,l))}return l},readFormat0:function(n,t,r){var i=Ze.B,s=i.readUshort,o=-1,a=s(n,t);s(n,t+2),s(n,t+4),s(n,t+6),t+=8;for(var l=0;l<a;l++){var u=s(n,t);t+=2;var h=s(n,t);t+=2;var c=i.readShort(n,t);t+=2,u!=o&&(r.glyph1.push(u),r.rval.push({glyph2:[],vals:[]}));var f=r.rval[r.rval.length-1];f.glyph2.push(h),f.vals.push(c),o=u}return t}};Ze.T.loca={parseTab:function(n,t,r,i){var s=Ze.B,o=[],a=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(a==0)for(var u=0;u<l;u++)o.push(s.readUshort(n,t+(u<<1))<<1);if(a==1)for(var u=0;u<l;u++)o.push(s.readUint(n,t+(u<<2)));return o}};Ze.T.maxp={parseTab:function(n,t,r){var i=Ze.B,s=i.readUshort,o={};return i.readUint(n,t),t+=4,o.numGlyphs=s(n,t),t+=2,o}};Ze.T.name={parseTab:function(n,t,r){var i=Ze.B,s={};i.readUshort(n,t),t+=2;var o=i.readUshort(n,t);t+=2;var a=i.readUshort(n,t);t+=2;for(var l=t-6+a,u=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=i.readUshort,c=0;c<o;c++){var f=h(n,t);t+=2;var d=h(n,t);t+=2;var p=h(n,t);t+=2;var m=h(n,t);t+=2;var g=h(n,t);t+=2;var v=h(n,t);t+=2;var E=l+v,y;f==0||f==3&&d==0||f==1&&d==25?y=i.readUnicode(n,E,g/2):d==0?y=i.readASCII(n,E,g):d==1||d==3||d==4||d==5||d==10?y=i.readUnicode(n,E,g/2):f==1?(y=i.readASCII(n,E,g),console.log("reading unknown MAC encoding "+d+" as ASCII")):(console.log("unknown encoding "+d+", platformID: "+f),y=i.readASCII(n,E,g));var x="p"+f+","+p.toString(16);s[x]==null&&(s[x]={});var b=u[m];b==null&&(b="_"+m),s[x][b]=y,s[x]._lang=p}var w=Ze.T.name.selectOne(s),S="fontFamily";if(w[S]==null)for(var _ in s)s[_][S]!=null&&(w[S]=s[_][S]);return w},selectOne:function(n){var t="postScriptName";for(var r in n)if(n[r][t]!=null&&n[r]._lang==1033)return n[r];for(var r in n)if(n[r][t]!=null&&n[r]._lang==0)return n[r];for(var r in n)if(n[r][t]!=null&&n[r]._lang==3084)return n[r];for(var r in n)if(n[r][t]!=null)return n[r];var i;for(var r in n){i=n[r];break}return console.log("returning name table with languageID "+i._lang),i[t]==null&&i.ID!=null&&(i[t]=i.ID),i}};Ze.T.OS2={parseTab:function(n,t,r){var i=Ze.B,s=i.readUshort(n,t);t+=2;var o=Ze.T.OS2,a={};if(s==0)o.version0(n,t,a);else if(s==1)o.version1(n,t,a);else if(s==2||s==3||s==4)o.version2(n,t,a);else if(s==5)o.version5(n,t,a);else throw"unknown OS/2 table version: "+s;return a},version0:function(n,t,r){var i=Ze.B;return r.xAvgCharWidth=i.readShort(n,t),t+=2,r.usWeightClass=i.readUshort(n,t),t+=2,r.usWidthClass=i.readUshort(n,t),t+=2,r.fsType=i.readUshort(n,t),t+=2,r.ySubscriptXSize=i.readShort(n,t),t+=2,r.ySubscriptYSize=i.readShort(n,t),t+=2,r.ySubscriptXOffset=i.readShort(n,t),t+=2,r.ySubscriptYOffset=i.readShort(n,t),t+=2,r.ySuperscriptXSize=i.readShort(n,t),t+=2,r.ySuperscriptYSize=i.readShort(n,t),t+=2,r.ySuperscriptXOffset=i.readShort(n,t),t+=2,r.ySuperscriptYOffset=i.readShort(n,t),t+=2,r.yStrikeoutSize=i.readShort(n,t),t+=2,r.yStrikeoutPosition=i.readShort(n,t),t+=2,r.sFamilyClass=i.readShort(n,t),t+=2,r.panose=i.readBytes(n,t,10),t+=10,r.ulUnicodeRange1=i.readUint(n,t),t+=4,r.ulUnicodeRange2=i.readUint(n,t),t+=4,r.ulUnicodeRange3=i.readUint(n,t),t+=4,r.ulUnicodeRange4=i.readUint(n,t),t+=4,r.achVendID=i.readASCII(n,t,4),t+=4,r.fsSelection=i.readUshort(n,t),t+=2,r.usFirstCharIndex=i.readUshort(n,t),t+=2,r.usLastCharIndex=i.readUshort(n,t),t+=2,r.sTypoAscender=i.readShort(n,t),t+=2,r.sTypoDescender=i.readShort(n,t),t+=2,r.sTypoLineGap=i.readShort(n,t),t+=2,r.usWinAscent=i.readUshort(n,t),t+=2,r.usWinDescent=i.readUshort(n,t),t+=2,t},version1:function(n,t,r){var i=Ze.B;return t=Ze.T.OS2.version0(n,t,r),r.ulCodePageRange1=i.readUint(n,t),t+=4,r.ulCodePageRange2=i.readUint(n,t),t+=4,t},version2:function(n,t,r){var i=Ze.B,s=i.readUshort;return t=Ze.T.OS2.version1(n,t,r),r.sxHeight=i.readShort(n,t),t+=2,r.sCapHeight=i.readShort(n,t),t+=2,r.usDefault=s(n,t),t+=2,r.usBreak=s(n,t),t+=2,r.usMaxContext=s(n,t),t+=2,t},version5:function(n,t,r){var i=Ze.B.readUshort;return t=Ze.T.OS2.version2(n,t,r),r.usLowerOpticalPointSize=i(n,t),t+=2,r.usUpperOpticalPointSize=i(n,t),t+=2,t}};Ze.T.post={parseTab:function(n,t,r){var i=Ze.B,s={};return s.version=i.readFixed(n,t),t+=4,s.italicAngle=i.readFixed(n,t),t+=4,s.underlinePosition=i.readShort(n,t),t+=2,s.underlineThickness=i.readShort(n,t),t+=2,s}};Ze.T.SVG={parseTab:function(n,t,r){var i=Ze.B,s={entries:[],svgs:[]},o=t;i.readUshort(n,t),t+=2;var a=i.readUint(n,t);t+=4,i.readUint(n,t),t+=4,t=a+o;var l=i.readUshort(n,t);t+=2;for(var u=0;u<l;u++){var h=i.readUshort(n,t);t+=2;var c=i.readUshort(n,t);t+=2;var f=i.readUint(n,t);t+=4;var d=i.readUint(n,t);t+=4;var p=new Uint8Array(n.buffer,o+f+a,d);p[0]==31&&p[1]==139&&p[2]==8&&(p=vM.inflate(p));for(var m=i.readUTF8(p,0,p.length),g=h;g<=c;g++)s.entries[g]=s.svgs.length;s.svgs.push(m)}return s}};Ze.T.sbix={parseTab:function(n,t,r,i){for(var s=i.maxp.numGlyphs,o=t,a=Ze.B,l=a.readUint(n,t+4),u=[],h=l-1;h<l;h++)for(var c=o+a.readUint(n,t+8+h*4),f=0;f<s;f++){var d=a.readUint(n,c+4+f*4),p=a.readUint(n,c+4+f*4+4);if(d==p){u[f]=null;continue}var m=c+d,g=a.readASCII(n,m+4,4);if(g!="png ")throw g;u[f]=new Uint8Array(n.buffer,n.byteOffset+m+8,p-d-8)}return u}};Ze.T.colr={parseTab:function(n,t,r){var i=Ze.B,s=t;t+=2;var o=i.readUshort(n,t);t+=2;var a=i.readUint(n,t);t+=4;var l=i.readUint(n,t);t+=4;var u=i.readUshort(n,t);t+=2;for(var h={},c=s+a,f=0;f<o;f++)h["g"+i.readUshort(n,c)]=[i.readUshort(n,c+2),i.readUshort(n,c+4)],c+=6;var d=[];c=s+l;for(var f=0;f<u;f++)d.push(i.readUshort(n,c),i.readUshort(n,c+2)),c+=4;return[h,d]}};Ze.T.cpal={parseTab:function(n,t,r){var i=Ze.B,s=t,o=i.readUshort(n,t);if(t+=2,o==0){i.readUshort(n,t),t+=2,i.readUshort(n,t),t+=2;var a=i.readUshort(n,t);t+=2;var l=i.readUint(n,t);return t+=4,new Uint8Array(n.buffer,s+l,a*4)}else throw o}};Ze.T.GSUB={parseTab:function(n,t,r,i){var s=Ze.B,o=s.readUshort;s.readUint;var a=t;o(n,a),a+=2,o(n,a),a+=2,o(n,a),a+=2;var l=o(n,a);a+=2,o(n,a),a+=2,a=t+l;var u={},h=o(n,a);a+=2;for(var c=0;c<h;c++){var f=s.readASCII(n,a,4);a+=4,o(n,a),a+=2,u[f]=!0}return u}};Ze.T.fvar={parseTab:function(n,t,r,i){var s=i.name,o=t,a=Ze.B,l=[],u=[];o+=8;var h=a.readUshort(n,o);o+=2,o+=2;var c=a.readUshort(n,o);o+=2;var f=a.readUshort(n,o);o+=2;for(var d=0;d<h;d++){var p=a.readASCII(n,o,4),m=a.readFixed(n,o+4),g=a.readFixed(n,o+8),v=a.readFixed(n,o+12),E=a.readUshort(n,o+16),y=a.readUshort(n,o+18);l.push([p,m,g,v,E,s["_"+y]]),o+=20}for(var d=0;d<c;d++){for(var x=a.readUshort(n,o),b=null,E=a.readUshort(n,o+2),w=[],S=0;S<h;S++)w.push(a.readFixed(n,o+4+S*4));o+=4+h*4,(f&3)==2&&(b=a.readUshort(n,o),o+=2),u.push([s["_"+x],E,w,b])}return[l,u]}};Ze.T.gvar=(function(){var n=32768,t=16384,r=8192,i=128,s=64,o=128,a=32768,l=Ze.B;function u(d,p,m){for(var g=[],v=0;v<m;v++)g.push(l.readF2dot14(d,p+v*2));return g}function h(d,p,m,g,v){for(var E=[],y=0;y<m;y++){var x=l.readUshort(d,p);p+=2;var b=l.readUshort(d,p),w=b&61440;b=b&4095,p+=2;var S=null,_=null,T=null;w&n&&(S=u(d,p,g),p+=g*2),w&t&&(_=u(d,p,g),p+=g*2),w&t&&(T=u(d,p,g),p+=g*2),E.push([x,b,w,_,S,T])}return E}function c(d,p,m){var g=d[p];if(p++,g==0)return[[],p];127<g&&(g=(g&127)<<8|d[p++]);for(var v=[],E=0;v.length<g;){var y=d[p];p++;var x=(y&o)!=0;y=(y&127)+1;for(var b=0;b<y;b++){var w=0;x?(w=l.readUshort(d,p),p+=2):(w=d[p],p++),E+=w,v.push(E)}}return[v,p]}function f(d,p,m,g){var v=p+4,E=l.readUshort(d,v);v+=2;var y=l.readUshort(d,v);v+=2;var x=l.readUint(d,v);v+=4;var b=l.readUshort(d,v);v+=2,l.readUshort(d,v),v+=2;var w=l.readUint(d,v);v+=4;for(var S=[],_=0;_<b+1;_++)S.push(l.readUint(d,v+_*4));var T=[],C=[],F=[];v=p+x;for(var _=0;_<y;_++){var k=u(d,v+_*E*2,E),D=[],N=[];T.push(k),C.push(D),F.push(N);for(var M=0;M<E;M++)D[M]=Math.min(k[M],0),N[M]=Math.max(k[M],0)}for(var U=new Int8Array(d.buffer),B=[],_=0;_<b;_++){v=p+w+S[_];var W=l.readUshort(d,v);v+=2;var Z=W&a;W&=4095;var fe=l.readUshort(d,v);v+=2;var Q=h(d,v,W,E),J=[];B.push(J),v=p+w+S[_]+fe;var ae=null;if(Z){var be=c(d,v);ae=be[0],v=be[1]}for(var ee=0;ee<W;ee++){var K=Q[ee],xe=v+K[0],ie=ae;if(K[2]&r){var be=c(d,v);ie=be[0],v=be[1]}for(var ge=[];v<xe;){var z=d[v++],se=(z&63)+1;if(z&i)for(var M=0;M<se;M++)ge.push(0);else if(z&s){for(var M=0;M<se;M++)ge.push(l.readShort(d,v+M*2));v+=se*2}else{for(var M=0;M<se;M++)ge.push(U[v+M]);v+=se}}var ye=K[1];if(J.push([[K[3]?K[3]:C[ye],K[4]?K[4]:T[ye],K[5]?K[5]:F[ye]],ge,ie.length==0?null:ie]),ie.length!=0&&ie.length*2!=ge.length)throw"e"}}return B}return{parseTab:f}})();Ze.T.avar={parseTab:function(n,t,r,i){var s=t,o=Ze.B,a=[];s+=6;var l=o.readUshort(n,s);s+=2;for(var u=0;u<l;u++){var h=o.readUshort(n,s);s+=2;var c=[];a.push(c);for(var f=0;f<h;f++){var d=o.readF2dot14(n,s),p=o.readF2dot14(n,s+2);s+=4,c.push(d,p)}}return a}};Ze.T.HVAR={parseTab:function(n,t,r,i){var s=t,o=t,a=Ze.B;s+=4;var l=a.readUint(n,s);s+=4;var u=a.readUint(n,s);s+=4;var h=a.readUint(n,s);s+=4;var c=a.readUint(n,s);if(s+=4,h!=0||c!=0)throw h;s=o+l;var f=s,U=a.readUshort(n,s);if(s+=2,U!=1)throw"e";var d=a.readUint(n,s);s+=4;var p=a.readUshort(n,s);s+=2;for(var m=[],g=0;g<p;g++)m.push(a.readUint(n,s+g*4));s+=p*4,s=f+d;var v=a.readUshort(n,s);s+=2;var E=a.readUshort(n,s);s+=2;for(var y=[],g=0;g<E;g++){var x=[[],[],[]];y.push(x);for(var b=0;b<v;b++)x[0].push(a.readF2dot14(n,s+0)),x[1].push(a.readF2dot14(n,s+2)),x[2].push(a.readF2dot14(n,s+4)),s+=6}for(var w=new Int8Array(n.buffer),S=[],g=0;g<m.length;g++){s=o+l+m[g];var _=[];S.push(_);var T=a.readUshort(n,s);s+=2;var C=a.readUshort(n,s);if(s+=2,C&32768)throw"e";var E=a.readUshort(n,s);s+=2;for(var F=[],b=0;b<E;b++)F.push(a.readUshort(n,s+b*2));s+=E*2;for(var k=0;k<T;k++){for(var D=[],N=0;N<E;N++)D.push(N<C?a.readShort(n,s):w[s]),s+=N<C?2:1;var M=new Array(y.length);M.fill(0),_.push(M);for(var b=0;b<F.length;b++)M[F[b]]=D[b]}}s=o+u;var U=n[s++];if(U!=0)throw"e";var B=n[s++],W=a.readUshort(n,s);s+=2;for(var Z=15,fe=48,Q=((B&fe)>>4)+1,J=[],g=0;g<W;g++){var ae=0;Q==1?ae=n[s++]:(ae=a.readUshort(n,s),s+=2);var be=ae>>(B&Z)+1,ee=ae&(1<<(B&Z)+1)-1;J.push(S[be][ee])}return[y,J]}};Ze.U=(function(){var n={MoveTo:function(T,C,F){T.cmds.push("M"),T.crds.push(C,F)},LineTo:function(T,C,F){T.cmds.push("L"),T.crds.push(C,F)},CurveTo:function(T,C,F,k,D,N,M){T.cmds.push("C"),T.crds.push(C,F,k,D,N,M)},qCurveTo:function(T,C,F,k,D){T.cmds.push("Q"),T.crds.push(C,F,k,D)},ClosePath:function(T){T.cmds.push("Z")}};function t(T,C,F,k){var D=C[F],N=C[F+1],M=T.kern;if(M){var U=M.glyph1.indexOf(D);if(U!=-1){var B=M.rval[U].glyph2.indexOf(N);if(B!=-1)return[0,0,M.rval[U].vals[B],0]}}return[0,0,0,0]}function r(T,C,F){F==null&&(F={}),F.ltr,F.fts;var k=F.axs;T.fvar&&k==null&&(k=T.fvar[1][T._index][2]);var D=T.HVAR;k&&D&&(k=d(T,k));for(var N=[],M=0;M<C.length;M++){var U=C.codePointAt(M);U>65535&&M++,N.push(u(T,U))}for(var B=[],M=0;M<N.length;M++){var W=t(T,N,M),Z=N[M],fe=T.hmtx.aWidth[Z]+W[2];if(D&&D[1][Z])for(var Q=D[1][Z],J=0;J<D[0].length;J++)fe+=f(D[0][J],k)*Q[J];B.push({g:Z,cl:M,dx:0,dy:0,ax:fe,ay:0})}return B}function i(T,C,F){var k={cmds:[],crds:[]},D=0,N=0,M,U;F&&(M=F.clr,U=F.axs);for(var B=0;B<C.length;B++){for(var W=C[B],Z=h(T,W.g,!1,U),fe=Z.crds,Q=0;Q<fe.length;Q+=2)k.crds.push(fe[Q]+D+W.dx),k.crds.push(fe[Q+1]+N+W.dy);M&&k.cmds.push(M);for(var Q=0;Q<Z.cmds.length;Q++)k.cmds.push(Z.cmds[Q]);var J=k.cmds.length;M&&J!=0&&k.cmds[J-1]!="X"&&k.cmds.push("X"),D+=W.ax,N+=W.ay}return{cmds:k.cmds,crds:k.crds}}function s(T,C,F){for(var k=0,D=~~(T.length/C);k+1!=D;){var N=k+(D-k>>>1);T[N*C]<=F?k=N:D=N}return k*C}for(var o=[9,10,11,12,13,32,133,160,5760,6158,8232,8233,8239,8288,12288,65279],a={},l=0;l<o.length;l++)a[o[l]]=1;for(var l=8192;l<=8205;l++)a[l]=1;function u(T,C){if(T._ctab==null){for(var F=T.cmap,k=-1,D=["p3e10","p0e4","p3e1","p1e0","p0e3","p0e1","p3e0","p3e5"],N=0;N<D.length;N++)if(F.ids[D[N]]!=null){k=F.ids[D[N]];break}if(k==-1)throw"no familiar platform and encoding!";T._ctab=F.tables[k]}var M=T._ctab,U=M.format,B=-1;if(U==0)C>=M.map.length?B=0:B=M.map[C];else if(U==4){var W=M.endCount;if(B=0,C<=W[W.length-1]){var Z=s(W,1,C);if(W[Z]<C&&Z++,C>=M.startCount[Z]){var fe=0;M.idRangeOffset[Z]!=0?fe=M.glyphIdArray[C-M.startCount[Z]+(M.idRangeOffset[Z]>>1)-(M.idRangeOffset.length-Z)]:fe=C+M.idDelta[Z],B=fe&65535}}}else if(U==6){var Q=C-M.firstCode,J=M.glyphIdArray;Q<0||Q>=J.length?B=0:B=J[Q]}else if(U==12){var ae=M.groups;if(B=0,C<=ae[ae.length-2]){var N=s(ae,3,C);ae[N]<=C&&C<=ae[N+1]&&(B=ae[N+2]+(C-ae[N]))}}else throw"unknown cmap table format "+M.format;var be=T["SVG "],ee=T.loca;return B!=0&&T["CFF "]==null&&(be==null||be.entries[B]==null)&&ee&&ee[B]==ee[B+1]&&a[C]==null&&(B=0),B}function h(T,C,F,k){var D={cmds:[],crds:[]};T.fvar&&(k==null&&(k=T.fvar[1][T._index][2]),k=d(T,k));var N=T["SVG "],M=T["CFF "],U=T.COLR,B=T.CBLC,W=T.CBDT,Z=T.sbix,fe=window.UPNG,Q=null;if(B&&fe)for(var J=0;J<B.length;J++)B[J][0]<=C&&C<=B[J][1]&&(Q=B[J]);if(Q||Z&&Z[C]){if(Q&&Q[2]!=17)throw"not a PNG";T.__tmp==null&&(T.__tmp={});var ae=T.__tmp["g"+C];if(ae==null){var be,ee;if(Z)be=Z[C],ee=be.length;else{var K=Q[3][C-Q[0]]+5;ee=W[K+1]<<16|W[K+2]<<8|W[K+3],K+=4,be=new Uint8Array(W.buffer,W.byteOffset+K,ee)}for(var xe="",J=0;J<ee;J++)xe+=String.fromCharCode(be[J]);ae=T.__tmp["g"+C]="data:image/png;base64,"+btoa(xe)}D.cmds.push(ae);var ie=T.head.unitsPerEm*1.15,ge=Math.round(ie),z=Math.round(ie),se=Math.round(-z*.15);D.crds.push(0,z+se,ge,z+se,ge,se,0,se)}else if(N&&N.entries[C]){var ye=N.entries[C];if(ye!=null){if(typeof ye=="number"){var Ce=N.svgs[ye];if(typeof Ce=="string"){var $=new DOMParser,q=$.parseFromString(Ce,"image/svg+xml");Ce=N.svgs[ye]=q.getElementsByTagName("svg")[0]}ye=Ze.U.SVG.toPath(Ce,C),N.entries[C]=ye}D=ye}}else if(F!=!0&&U&&U[0]["g"+C]&&U[0]["g"+C][1]>1){let Qe=function(We){var gt=We.toString(16);return(gt.length==1?"0":"")+gt};for(var Le=Qe,te=T.CPAL,Ae=U[0]["g"+C],J=0;J<Ae[1];J++){var _e=Ae[0]+J,Ee=U[1][2*_e],pe=U[1][2*_e+1]*4,ve=h(T,Ee,Ee==C),De="#"+Qe(te[pe+2])+Qe(te[pe+1])+Qe(te[pe+0]);D.cmds.push(De),D.cmds=D.cmds.concat(ve.cmds),D.crds=D.crds.concat(ve.crds),D.cmds.push("X")}}else if(M){var Me=M.Private,R={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:Me?Me.defaultWidthX:0,open:!1};if(M.ROS){for(var Ve=0;M.FDSelect[Ve+2]<=C;)Ve+=2;Me=M.FDArray[M.FDSelect[Ve+1]].Private}S(M.CharStrings[C],R,M,Me,D)}else T.glyf&&c(C,T,D,k);return{cmds:D.cmds,crds:D.crds}}function c(T,C,F,k){var D=C.glyf[T];D==null&&(D=C.glyf[T]=Ze.T.glyf._parseGlyf(C,T)),D!=null&&(D.noc>-1?m(D,C,T,F,k):g(D,C,T,F,k))}function f(T,C){C.length;for(var F=1,k=T[0],D=T[1],N=T[2],M=0;M<C.length;M++){var U=1;k[M]>D[M]||D[M]>N[M]||k[M]<0&&N[M]>0&&D[M]!=0||D[M]==0?U=1:C[M]<k[M]||C[M]>N[M]?U=0:C[M]==D[M]?U=1:C[M]<D[M]?U=(C[M]-k[M])/(D[M]-k[M]):U=(N[M]-C[M])/(N[M]-D[M]),F=F*U}return F}function d(T,C){for(var F=T.fvar,k=T.avar,D=F?F[0]:null,N=[],M=0;M<D.length;M++){var U=D[M][1],B=D[M][2],W=D[M][3],Z=Math.max(U,Math.min(W,C[M]));if(Z<B?N[M]=(B-Z)/(U-B):Z>B?N[M]=(Z-B)/(W-B):N[M]=0,k&&N[M]!=-1){for(var fe=k[M],Q=0;Q<fe.length&&!(fe[Q]>=N[M]);Q+=2);var J=(N[M]-fe[Q-2])/(fe[Q]-fe[Q-2]);N[M]=J*fe[Q+1]+(1-J)*fe[Q-1]}}return N}function p(T,C,F,k,D){var N=F.length,M=new Array(N*2+8);M.fill(0);for(var U=0;U<N;U++){var B=0,W=0,Z=C.indexOf(U);if(Z!=-1)B=T[Z],W=T[C.length+Z];else{for(var fe=0;D[fe]<U;)fe++;for(var Q=fe==0?0:D[fe-1]+1,J=D[fe],ae=-1,be=-1,ee=0;ee<C.length;ee++){var K=C[ee];K<Q||K>J||K>=N||(ae=ee,be==-1&&(be=ee))}for(var ee=0;ee<C.length;ee++){var K=C[ee];if(!(K<Q||K>J||K>=N)&&(K<U&&(ae=ee),U<K)){be=ee;break}}for(var xe=0;xe<2;xe++){var ie=xe==0?F:k,ge=xe*C.length,z=0,se=ie[C[ae]],ye=ie[C[be]],Ce=ie[U],$=T[ge+ae],q=T[ge+be];if(se==ye)$==q?z=$:z=0;else if(Ce<=Math.min(se,ye))se<ye?z=$:z=q;else if(Math.max(se,ye)<=Ce)se<ye?z=q:z=$;else{var te=(Ce-se)/(ye-se);z=te*q+(1-te)*$}xe==0?B=z:W=z}}M[U]=B,M[N+4+U]=W}return M}function m(T,C,F,k,D){var N=T.xs,M=T.ys;if(C.fvar&&D){N=N.slice(0),M=M.slice(0);for(var U=C.gvar,B=U?U[F]:null,W=0;W<B.length;W++){var Z=B[W][0],fe=f(Z,D);if(!(fe<1e-9)){var Q=B[W][1],J=B[W][2];if(J&&(Q=B[W][1]=p(Q,J,N,M,T.endPts),B[W][2]=null),Q.length==N.length*2+8)for(var ae=0;ae<N.length;ae++)N[ae]+=fe*Q[ae],M[ae]+=fe*Q[ae+N.length+4]}}}for(var be=0;be<T.noc;be++){for(var ee=be==0?0:T.endPts[be-1]+1,K=T.endPts[be],ae=ee;ae<=K;ae++){var xe=ae==ee?K:ae-1,ie=ae==K?ee:ae+1,ge=T.flags[ae]&1,z=T.flags[xe]&1,se=T.flags[ie]&1,ye=N[ae],Ce=M[ae];if(ae==ee)if(ge)if(z)n.MoveTo(k,N[xe],M[xe]);else{n.MoveTo(k,ye,Ce);continue}else z?n.MoveTo(k,N[xe],M[xe]):n.MoveTo(k,Math.floor((N[xe]+ye)*.5),Math.floor((M[xe]+Ce)*.5));ge?z&&n.LineTo(k,ye,Ce):se?n.qCurveTo(k,ye,Ce,N[ie],M[ie]):n.qCurveTo(k,ye,Ce,Math.floor((ye+N[ie])*.5),Math.floor((Ce+M[ie])*.5))}n.ClosePath(k)}}function g(T,C,F,k,D){var N=[0,0,0,0,0,0],M=[0,0,0,0,0,0],U=T.parts.length;if(C.fvar&&D)for(var B=C.gvar,W=B?B[F]:null,Z=0;Z<W.length;Z++){var fe=W[Z][0],Q=f(fe,D);if(!(Q<1e-6)){var J=W[Z][1],ae=W[Z][2];if(ae==null)for(var be=0;be<U;be++)N[be]+=Q*J[be],M[be]+=Q*J[be+U+4];else for(var ee=0;ee<ae.length;ee++){var be=ae[ee];N[be]+=Q*J[0],M[be]+=Q*J[0+U]}}}for(var ee=0;ee<U;ee++){var K={cmds:[],crds:[]},xe=T.parts[ee];c(xe.glyphIndex,C,K,D);for(var ie=xe.m,ge=ie.tx+N[ee],z=ie.ty+M[ee],be=0;be<K.crds.length;be+=2){var se=K.crds[be],ye=K.crds[be+1];k.crds.push(se*ie.a+ye*ie.c+ge),k.crds.push(se*ie.b+ye*ie.d+z)}for(var be=0;be<K.cmds.length;be++)k.cmds.push(K.cmds[be])}}function v(T,C){var F=T.cmds,k=T.crds;C==null&&(C=5);function D($){return parseFloat($.toFixed(C))}function N($){for(var q=[],te=!1,Ae="",_e=0;_e<$.length;_e++){var Ee=$[_e],pe=typeof Ee=="number";if(!pe){if(Ee==Ae&&Ee.length==1&&Ee!="m")continue;Ae=Ee}te&&pe&&Ee>=0&&q.push(" "),q.push(Ee),te=pe}return q.join("")}for(var M=[],U=0,B={M:2,L:2,Q:4,C:6},W=0,Z=0,fe=0,Q=0,J=0,ae=0,be=0;be<F.length;be++){var ee=F[be],K=B[ee]?B[ee]:0,xe=[],ie,ge,z,se;if(ee=="L")ie=k[U]-W,ge=k[U+1]-Z,z=D(ie+fe),se=D(ge+Q),F[be+1]=="Z"&&k[U]==J&&k[U+1]==ae?(z=ie,se=ge):z==0&&se==0||(z==0?xe.push("v",se):se==0?xe.push("h",z):xe.push("l",z,se));else{xe.push(ee.toLowerCase());for(var ye=0;ye<K;ye+=2)ie=k[U+ye]-W,ge=k[U+ye+1]-Z,z=D(ie+fe),se=D(ge+Q),xe.push(z,se)}K!=0&&(fe+=ie-z,Q+=ge-se);for(var Ce=xe,ye=0;ye<Ce.length;ye++)M.push(Ce[ye]);K!=0&&(U+=K,W=k[U-2],Z=k[U-1]),ee=="M"&&(J=W,ae=Z),ee=="Z"&&(W=J,Z=ae)}return N(M)}function E(T){var C={cmds:[],crds:[]};return Ze.U.SVG.svgToPath(T,C),{cmds:C.cmds,crds:C.crds}}function y(T,C,F,k){for(var D=C>>1,N=F>>1,M=new Uint8Array(D*N*4),U=new Uint32Array(T.buffer),B=new Uint32Array(M.buffer),W=0;W<N;W++)for(var Z=0;Z<D;Z++){var fe=W*D+Z,Q=(W<<1)*C+(Z<<1),J=U[Q],ae=U[Q+1],be=U[Q+C],ee=U[Q+C+1],K=J>>>24,xe=ae>>>24,ie=be>>>24,ge=ee>>>24,z=K+xe+ie+ge;if(z==1020){var se=(J>>>0&255)+(ae>>>0&255)+(be>>>0&255)+(ee>>>0&255)+2>>>2,ye=(J>>>8&255)+(ae>>>8&255)+(be>>>8&255)+(ee>>>8&255)+2>>>2,Ce=(J>>>16&255)+(ae>>>16&255)+(be>>>16&255)+(ee>>>16&255)+2>>>2;B[fe]=255<<24|Ce<<16|ye<<8|se}else if(z==0)B[fe]=0;else{var se=(J>>>0&255)*K+(ae>>>0&255)*xe+(be>>>0&255)*ie+(ee>>>0&255)*ge,ye=(J>>>8&255)*K+(ae>>>8&255)*xe+(be>>>8&255)*ie+(ee>>>8&255)*ge,Ce=(J>>>16&255)*K+(ae>>>16&255)*xe+(be>>>16&255)*ie+(ee>>>16&255)*ge,$=1/z;se=~~(se*$+.5),ye=~~(ye*$+.5),Ce=~~(Ce*$+.5),B[fe]=z+2>>>2<<24|Ce<<16|ye<<8|se}}return{buff:M,w:D,h:N}}var x,b;function w(T,C){for(var F=0,k=T.cmds,D=T.crds,N=0;N<k.length;N++){var M=k[N];if(M=="M")C.moveTo(D[F],D[F+1]),F+=2;else if(M=="L")C.lineTo(D[F],D[F+1]),F+=2;else if(M=="C")C.bezierCurveTo(D[F],D[F+1],D[F+2],D[F+3],D[F+4],D[F+5]),F+=6;else if(M=="Q")C.quadraticCurveTo(D[F],D[F+1],D[F+2],D[F+3]),F+=4;else if(M[0]=="d"){var U=window.UPNG,B=D[F],W=D[F+1],Z=D[F+2],fe=D[F+3],Q=D[F+4],J=D[F+5],ae=D[F+6],be=D[F+7];if(F+=8,U==null){C.moveTo(B,W),C.lineTo(Z,fe),C.lineTo(Q,J),C.lineTo(ae,be),C.closePath();continue}for(var ee=Z-B,K=fe-W,xe=ae-B,ie=be-W,ge=atob(M.slice(22)),z=new Uint8Array(ge.length),se=0;se<ge.length;se++)z[se]=ge.charCodeAt(se);for(var ye=U.decode(z.buffer),Ce=ye.width,$=ye.height,q=new Uint8Array(U.toRGBA8(ye)[0]),te=C.getTransform(),Ae=Math.sqrt(Math.abs(te.a*te.d-te.b*te.c))*Math.sqrt(xe*xe+ie*ie)/$;Ae<.5;){var _e=y(q,Ce,$);q=_e.buff,Ce=_e.w,$=_e.h,Ae*=2}x==null&&(x=document.createElement("canvas"),b=x.getContext("2d")),(x.width!=Ce||x.height!=$)&&(x.width=Ce,x.height=$),b.putImageData(new ImageData(new Uint8ClampedArray(q.buffer),Ce,$),0,0),C.save(),C.transform(ee,K,xe,ie,B,W),C.scale(1/Ce,1/$),C.drawImage(x,0,0),C.restore()}else if(M.charAt(0)=="#"||M.charAt(0)=="r")C.beginPath(),C.fillStyle=M;else if(M.charAt(0)=="O"&&M!="OX"){C.beginPath();var Ee=M.split("-");C.lineWidth=parseFloat(Ee[2]),C.lineCap=["butt","round","square"][parseFloat(Ee[3])],C.lineJoin=["miter","round","bevel"][parseFloat(Ee[4])],C.miterLimit=parseFloat(Ee[5]),C.lineDashOffset=parseFloat(Ee[6]),C.setLineDash(Ee[7].split(",").map(parseFloat)),C.strokeStyle=Ee[1]}else M=="Z"?C.closePath():M=="X"?C.fill():M=="OX"&&C.stroke()}}function S(T,C,F,k,D){for(var N=C.stack,M=C.nStems,U=C.haveWidth,B=C.width,W=C.open,Z=0,fe=C.x,Q=C.y,J=0,ae=0,be=0,ee=0,K=0,xe=0,ie=0,ge=0,z=0,se=0,ye=Ze.T.CFF,Ce=k.nominalWidthX,$={val:0,size:0};Z<T.length;){ye.getCharString(T,Z,$);var q=$.val;if(Z+=$.size,q=="o1"||q=="o18"){var te;te=N.length%2!==0,te&&!U&&(B=N.shift()+Ce),M+=N.length>>1,N.length=0,U=!0}else if(q=="o3"||q=="o23"){var te;te=N.length%2!==0,te&&!U&&(B=N.shift()+Ce),M+=N.length>>1,N.length=0,U=!0}else if(q=="o4")N.length>1&&!U&&(B=N.shift()+Ce,U=!0),W&&n.ClosePath(D),Q+=N.pop(),n.MoveTo(D,fe,Q),W=!0;else if(q=="o5")for(;N.length>0;)fe+=N.shift(),Q+=N.shift(),n.LineTo(D,fe,Q);else if(q=="o6"||q=="o7")for(var Ae=N.length,_e=q=="o6",Ee=0;Ee<Ae;Ee++){var pe=N.shift();_e?fe+=pe:Q+=pe,_e=!_e,n.LineTo(D,fe,Q)}else if(q=="o8"||q=="o24"){for(var Ae=N.length,ve=0;ve+6<=Ae;)J=fe+N.shift(),ae=Q+N.shift(),be=J+N.shift(),ee=ae+N.shift(),fe=be+N.shift(),Q=ee+N.shift(),n.CurveTo(D,J,ae,be,ee,fe,Q),ve+=6;q=="o24"&&(fe+=N.shift(),Q+=N.shift(),n.LineTo(D,fe,Q))}else{if(q=="o11")break;if(q=="o1234"||q=="o1235"||q=="o1236"||q=="o1237")q=="o1234"&&(J=fe+N.shift(),ae=Q,be=J+N.shift(),ee=ae+N.shift(),z=be+N.shift(),se=ee,K=z+N.shift(),xe=ee,ie=K+N.shift(),ge=Q,fe=ie+N.shift(),n.CurveTo(D,J,ae,be,ee,z,se),n.CurveTo(D,K,xe,ie,ge,fe,Q)),q=="o1235"&&(J=fe+N.shift(),ae=Q+N.shift(),be=J+N.shift(),ee=ae+N.shift(),z=be+N.shift(),se=ee+N.shift(),K=z+N.shift(),xe=se+N.shift(),ie=K+N.shift(),ge=xe+N.shift(),fe=ie+N.shift(),Q=ge+N.shift(),N.shift(),n.CurveTo(D,J,ae,be,ee,z,se),n.CurveTo(D,K,xe,ie,ge,fe,Q)),q=="o1236"&&(J=fe+N.shift(),ae=Q+N.shift(),be=J+N.shift(),ee=ae+N.shift(),z=be+N.shift(),se=ee,K=z+N.shift(),xe=ee,ie=K+N.shift(),ge=xe+N.shift(),fe=ie+N.shift(),n.CurveTo(D,J,ae,be,ee,z,se),n.CurveTo(D,K,xe,ie,ge,fe,Q)),q=="o1237"&&(J=fe+N.shift(),ae=Q+N.shift(),be=J+N.shift(),ee=ae+N.shift(),z=be+N.shift(),se=ee+N.shift(),K=z+N.shift(),xe=se+N.shift(),ie=K+N.shift(),ge=xe+N.shift(),Math.abs(ie-fe)>Math.abs(ge-Q)?fe=ie+N.shift():Q=ge+N.shift(),n.CurveTo(D,J,ae,be,ee,z,se),n.CurveTo(D,K,xe,ie,ge,fe,Q));else if(q=="o14"){if(N.length>0&&N.length!=4&&!U&&(B=N.shift()+F.nominalWidthX,U=!0),N.length==4){var De=N.shift(),Me=N.shift(),R=N.shift(),Ve=N.shift(),Le=ye.glyphBySE(F,R),Qe=ye.glyphBySE(F,Ve);S(F.CharStrings[Le],C,F,k,D),C.x=De,C.y=Me,S(F.CharStrings[Qe],C,F,k,D)}W&&(n.ClosePath(D),W=!1)}else if(q=="o19"||q=="o20"){var te;te=N.length%2!==0,te&&!U&&(B=N.shift()+Ce),M+=N.length>>1,N.length=0,U=!0,Z+=M+7>>3}else if(q=="o21")N.length>2&&!U&&(B=N.shift()+Ce,U=!0),Q+=N.pop(),fe+=N.pop(),W&&n.ClosePath(D),n.MoveTo(D,fe,Q),W=!0;else if(q=="o22")N.length>1&&!U&&(B=N.shift()+Ce,U=!0),fe+=N.pop(),W&&n.ClosePath(D),n.MoveTo(D,fe,Q),W=!0;else if(q=="o25"){for(;N.length>6;)fe+=N.shift(),Q+=N.shift(),n.LineTo(D,fe,Q);J=fe+N.shift(),ae=Q+N.shift(),be=J+N.shift(),ee=ae+N.shift(),fe=be+N.shift(),Q=ee+N.shift(),n.CurveTo(D,J,ae,be,ee,fe,Q)}else if(q=="o26")for(N.length%2&&(fe+=N.shift());N.length>0;)J=fe,ae=Q+N.shift(),be=J+N.shift(),ee=ae+N.shift(),fe=be,Q=ee+N.shift(),n.CurveTo(D,J,ae,be,ee,fe,Q);else if(q=="o27")for(N.length%2&&(Q+=N.shift());N.length>0;)J=fe+N.shift(),ae=Q,be=J+N.shift(),ee=ae+N.shift(),fe=be+N.shift(),Q=ee,n.CurveTo(D,J,ae,be,ee,fe,Q);else if(q=="o10"||q=="o29"){var We=q=="o10"?k:F;if(N.length==0)console.log("error: empty stack");else{var gt=N.pop(),Se=We.Subrs[gt+We.Bias];C.x=fe,C.y=Q,C.nStems=M,C.haveWidth=U,C.width=B,C.open=W,S(Se,C,F,k,D),fe=C.x,Q=C.y,M=C.nStems,U=C.haveWidth,B=C.width,W=C.open}}else if(q=="o30"||q=="o31"){var Ae,Ne=N.length,ve=0,Pe=q=="o31";for(Ae=Ne&-3,ve+=Ne-Ae;ve<Ae;)Pe?(J=fe+N.shift(),ae=Q,be=J+N.shift(),ee=ae+N.shift(),Q=ee+N.shift(),Ae-ve==5?(fe=be+N.shift(),ve++):fe=be,Pe=!1):(J=fe,ae=Q+N.shift(),be=J+N.shift(),ee=ae+N.shift(),fe=be+N.shift(),Ae-ve==5?(Q=ee+N.shift(),ve++):Q=ee,Pe=!0),n.CurveTo(D,J,ae,be,ee,fe,Q),ve+=4}else{if((q+"").charAt(0)=="o")throw console.log("Unknown operation: "+q,T),q;N.push(q)}}}C.x=fe,C.y=Q,C.nStems=M,C.haveWidth=U,C.width=B,C.open=W}function _(T,C){var F=function(k){var D=0;return(k&4294967168)==0?D=1:(k&4294965248)==0?D=2:(k&4294901760)==0?D=3:(k&4292870144)==0&&(D=4),D};fetch(T).then(function(k){return k.arrayBuffer()}).then(function(k){return WebAssembly.instantiate(k)}).then(function(k){console.log("HB ready");var D=k.instance.exports,N=D.memory,M,U,B,W,Z,fe,Q,J,ae;Ze.U.shapeHB=(function(){var be=function(K){for(var xe=D.hb_buffer_get_length(K),ie=[],ge=D.hb_buffer_get_glyph_infos(K,0)>>>2,z=D.hb_buffer_get_glyph_positions(K,0)>>>2,se=0;se<xe;++se){var ye=ge+se*5,Ce=z+se*5;ie.push({g:U[ye+0],cl:U[ye+2],ax:B[Ce+0],ay:B[Ce+1],dx:B[Ce+2],dy:B[Ce+3]})}return ie},ee;return function(K,xe,ie){var ge=K._data,z=K.name.postScriptName,se=ie.ltr,ye=ie.fts,Ce=ie.axs;if(K.fvar&&Ce==null&&(Ce=K.fvar[1][K._index][2]),M=new Uint8Array(N.buffer),U=new Uint32Array(N.buffer),B=new Int32Array(N.buffer),W=new Float32Array(N.buffer),Z!=z&&(fe!=null&&(D.hb_blob_destroy(fe),D.free(Q),D.hb_face_destroy(J),D.hb_font_destroy(ae)),Q=D.malloc(ge.byteLength),M.set(ge,Q),fe=D.hb_blob_create(Q,ge.byteLength,2,0,0),J=D.hb_face_create(fe,K._index),ae=D.hb_font_create(J),Z=z),window.TextEncoder==null){alert("Your browser is too old. Please, update it.");return}ee==null&&(ee=new window.TextEncoder("utf8"));var $=D.hb_buffer_create(),q=ee.encode(xe),te=q.length,Ae=D.malloc(te);M.set(q,Ae),D.hb_buffer_add_utf8($,Ae,te,0,te),D.free(Ae);var _e=Ze.B,Ee=0;if(ye){Ee=D.malloc(16*ye.length);for(var pe=0;pe<ye.length;pe++){var ve=ye[pe],De=Ee+pe*16,Me=De>>>2;_e.writeASCII(M,De,ve[0].split("").reverse().join("")),U[Me+1]=ve[1],U[Me+2]=ve[2],U[Me+3]=ve[3]}}var R=0;if(Ce&&K.fvar){var Ve=K.fvar[0];R=D.malloc(8*Ce.length);for(var pe=0;pe<Ce.length;pe++){var De=R+pe*8,Me=De>>>2;_e.writeASCII(M,De,Ve[pe][0].split("").reverse().join("")),W[Me+1]=Ce[pe]}}Ce&&D.hb_font_set_variations(ae,R,Ce.length),D.hb_buffer_set_direction($,se?4:5),D.hb_buffer_guess_segment_properties($),D.hb_shape(ae,$,Ee,ye?ye.length:0);var Le=be($);D.hb_buffer_destroy($),ye&&D.free(Ee),Ce&&D.free(R);var Qe=Le.slice(0);se||Qe.reverse();for(var We=0,gt=0,pe=1;pe<Qe.length;pe++){for(var Se=Qe[pe],Ne=Se.cl;;){var Pe=xe.codePointAt(We),je=F(Pe);if(gt+je<=Ne)gt+=je,We+=Pe<=65535?1:2;else break}Se.cl=We}return Le}})(),C()})}return{shape:r,shapeToPath:i,codeToGlyph:u,glyphToPath:h,pathToSVG:v,SVGToPath:E,pathToContext:w,initHB:_}})();var fv={exports:{}},_C;function uie(){return _C||(_C=1,(function(n,t){(function(r,i){n.exports=i()})(self,(()=>(()=>{var r={177:(s,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BezierPath=void 0;const l=a(558),u=a(188);o.BezierPath=class{constructor(h){this.samples=[],this.segments=h;const c=h.map((v=>v.getTotalLength())),f=[0];for(let v=1;v<c.length;v++)f.push(f[v-1]+c[v-1]);this._totalLength=f[f.length-1]+c[c.length-1];const d=h.map((v=>Math.max(4,Math.ceil(v.getTotalLength()/l.BezierSegment.sampleSpacing())))),p=d.reduce(((v,E)=>v+E)),m=1/p/10,g=this._totalLength/p;this.samples.push({dist:0,pt:this.segments[0].A,tan:this.segments[0].tangentAtParameter(0),segIdx:0,t:0}),h.forEach(((v,E)=>{const y=d[E],x=(0,u.times)(y+1).map((_=>_/y)),b=x.map((_=>v.pointAtParameter(_)));let w;for(let _=0;_<4;_++){w=(0,u.times)(y).map((F=>Math.hypot(b[F+1].x-b[F].x,b[F+1].y-b[F].y)));const T=w.map((F=>F-g));let C=0;for(let F=1;F<x.length-1;F++)C+=T[F-1],x[F]-=m*C,b[F]=v.pointAtParameter(x[F])}let S=0;b.slice(1).forEach(((_,T)=>{S+=w[T],this.samples.push({dist:f[E]+S,pt:_,tan:this.segments[E].tangentAtParameter(x[T+1]),segIdx:E,t:x[T+1]})}))})),this._jumps=[],this.segmentStartEnds=[{start:0,end:0}];for(let v=1;v<this.samples.length;v++){const E=this.samples[v-1],y=this.samples[v];if(y.segIdx===E.segIdx?this.segmentStartEnds[this.segmentStartEnds.length-1].end=y.dist:this.segmentStartEnds[y.segIdx]={start:y.dist,end:y.dist},E.segIdx!==y.segIdx&&(this.segments[E.segIdx].D.x!==this.segments[y.segIdx].A.x||this.segments[E.segIdx].D.y!==this.segments[y.segIdx].A.y)){const x=(E.dist+y.dist)/2,b={dist:x-1e-8,pt:this.segments[E.segIdx].D,tan:this.segments[E.segIdx].tangentAtParameter(1),segIdx:E.segIdx,t:1},w={dist:x+1e-8,pt:this.segments[y.segIdx].A,tan:this.segments[y.segIdx].tangentAtParameter(0),segIdx:y.segIdx,t:0};this._jumps.push(x),this.samples.splice(v,0,b,w),v+=2}}}jumps(){return[...this._jumps]}getTotalLength(){return this._totalLength}findClosestSampleIdx(h){let c=0,f=this.samples.length-1;for(;c<f;){const d=Math.floor((c+f)/2);if(this.samples[d].dist>h)f=d-1;else{if(!(this.samples[d].dist<h))return d;c=d+1}}return Math.max(0,Math.min(this.samples.length-1,Math.floor((c+f)/2)))}getPointAtLength(h,c=!1){if(h<=0)return this.samples[0].pt;if(h>=this._totalLength)return this.samples[this.samples.length-1].pt;const f=this.findClosestSampleIdx(h),d=this.samples[f].dist<h?Math.min(f+1,this.samples.length-1):Math.max(0,f-1),p=Math.abs(this.samples[d].dist-this.samples[f].dist)<1e-6?0:(h-this.samples[f].dist)/(this.samples[d].dist-this.samples[f].dist);if(c||this.samples[f].segIdx>this.samples[d].segIdx)return{x:(1-p)*this.samples[f].pt.x+p*this.samples[d].pt.x,y:(1-p)*this.samples[f].pt.y+p*this.samples[d].pt.y};if(this.samples[f].segIdx!==this.samples[d].segIdx){if(p<.5){const m=this.segments[this.samples[f].segIdx],g=2*p,v=(1-g)*this.samples[f].t+g;return m.pointAtParameter(v)}{const m=this.segments[this.samples[d].segIdx],g=2*(p-.5)*this.samples[d].t;return m.pointAtParameter(g)}}{const m=this.segments[this.samples[f].segIdx],g=(1-p)*this.samples[f].t+p*this.samples[d].t;return m.pointAtParameter(g)}}getAngleAtLength(h,c=!1){const f=this.getTangentAtLength(h,c);return Math.atan2(f.y,f.x)}getTangentAtLength(h,c=!1){if(h<=0)return this.samples[0].tan;if(h>=this._totalLength)return this.samples[this.samples.length-1].tan;const f=this.findClosestSampleIdx(h),d=this.samples[f].dist<h?Math.min(f+1,this.samples.length-1):Math.max(0,f-1),p=(h-this.samples[f].dist)/(this.samples[d].dist-this.samples[f].dist);if(c||this.samples[f].segIdx>this.samples[d].segIdx){let m=(1-p)*this.samples[f].tan.x+p*this.samples[d].tan.x,g=(1-p)*this.samples[f].tan.y+p*this.samples[d].tan.y;const v=Math.max(Math.hypot(m,g),1e-4);return m/=v,g/=v,{x:m,y:g}}if(this.samples[f].segIdx!==this.samples[d].segIdx){if(p<.5){const m=this.segments[this.samples[f].segIdx],g=2*p,v=(1-g)*this.samples[f].t+g;return m.tangentAtParameter(v)}{const m=this.segments[this.samples[d].segIdx],g=2*(p-.5)*this.samples[d].t;return m.tangentAtParameter(g)}}{const m=this.segments[this.samples[f].segIdx],g=(1-p)*this.samples[f].t+p*this.samples[d].t;return m.tangentAtParameter(g)}}}},558:(s,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BezierSegment=void 0;const l=a(188);class u{constructor(c,f,d,p){this._totalLength=void 0,this.A=c,this.B=f,this.C=d,this.D=p}static sampleSpacing(){return 2}tangentAtParameter(c){const f=Math.max(0,Math.min(1,c));if(f===0||f===1){let v,E;f===0?this.A.x===this.B.x&&this.A.y===this.B.y?(v=this.C.x-this.A.x,E=this.C.y-this.A.y):(v=this.B.x-this.A.x,E=this.B.y-this.A.y):this.D.x===this.C.x&&this.D.y===this.C.y?(v=this.D.x-this.B.x,E=this.D.y-this.B.y):(v=this.D.x-this.C.x,E=this.D.y-this.C.y);const y=Math.hypot(v,E);return Math.abs(y)>1e-4&&(v/=y,E/=y),{x:v,y:E}}const d=1-f;let p=3*this.D.x*Math.pow(f,2)-3*this.C.x*Math.pow(f,2)+6*this.C.x*d*f-6*this.B.x*d*f+3*this.B.x*Math.pow(d,2)-3*this.A.x*Math.pow(d,2),m=3*this.D.y*Math.pow(f,2)-3*this.C.y*Math.pow(f,2)+6*this.C.y*d*f-6*this.B.y*d*f+3*this.B.y*Math.pow(d,2)-3*this.A.y*Math.pow(d,2);const g=Math.hypot(p,m);return Math.abs(g)>1e-4&&(p/=g,m/=g),{x:p,y:m}}isLinear(){return this.A.x===this.B.x&&this.A.y===this.B.y&&this.C.x===this.D.x&&this.C.y===this.D.y}pointAtParameter(c){const f=Math.max(0,Math.min(1,c));return{x:Math.pow(1-f,3)*this.A.x+3*Math.pow(1-f,2)*f*this.B.x+3*(1-f)*Math.pow(f,2)*this.C.x+Math.pow(f,3)*this.D.x,y:Math.pow(1-f,3)*this.A.y+3*Math.pow(1-f,2)*f*this.B.y+3*(1-f)*Math.pow(f,2)*this.C.y+Math.pow(f,3)*this.D.y}}getTotalLength(){if(this._totalLength===void 0)if(this.isLinear())this._totalLength=Math.hypot(this.D.x-this.A.x,this.D.y-this.A.y);else{const c=Math.max(10,Math.ceil((Math.hypot(this.B.x-this.A.x,this.B.y-this.A.y)+Math.hypot(this.C.x-this.B.x,this.C.y-this.B.y)+Math.hypot(this.D.x-this.C.x,this.D.y-this.C.y))/u.sampleSpacing())),f=(0,l.times)(c).map((p=>this.pointAtParameter(p/(c-1))));let d=0;for(let p=1;p<f.length;p++)d+=Math.hypot(f[p].x-f[p-1].x,f[p].y-f[p-1].y);this._totalLength=d}return this._totalLength}}o.BezierSegment=u},729:(s,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createFromCommands=o.create=o.createFromElement=o.createFromCircle=o.createFromLine=o.createFromPath=void 0;const l=a(821),u=a(558),h={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};o.createFromPath=c=>{const f=(function(m){const g=m.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").replace(/(\d)([A-Za-z])/g,"$1 $2").replace(/([A-Za-z])(\d)/g,"$1 $2").trim().split(/\s*,|\s+/),v=[];let E="",y={};for(;g.length>0;){let x=g.shift();h.hasOwnProperty(x)?E=x:g.unshift(x),y={type:E},h[E].forEach((b=>{x=g.shift(),y[b]=parseFloat(x)})),E==="M"?E="L":E==="m"&&(E="l"),v.push(y)}return v})(c.getAttribute("d"));if(f.length<2)throw new Error(`Path doesn't have enough commands: ${JSON.stringify(f)}`);if(f[0].type!=="M")throw new Error(`Path starts with ${f[0].type} instead of M!`);let d={x:f[0].x,y:f[0].y};f.shift();const p=[];for(;f.length>0;){const m=f.shift();if(m.type==="C")p.push(new u.BezierSegment(d,{x:m.x1,y:m.y1},{x:m.x2,y:m.y2},{x:m.x,y:m.y})),d={x:m.x,y:m.y};else if(m.type==="L")p.push(new u.BezierSegment(d,d,{x:m.x,y:m.y},{x:m.x,y:m.y})),d={x:m.x,y:m.y};else if(m.type==="H")p.push(new u.BezierSegment(d,d,{x:m.x,y:d.y},{x:m.x,y:d.y})),d={x:m.x,y:d.y};else if(m.type==="V")p.push(new u.BezierSegment(d,d,{x:d.x,y:m.y},{x:d.x,y:m.y})),d={x:d.x,y:m.y};else if(m.type!=="Z")throw new Error(`Unsupported path command ${m.type}; use only H, V, M, L, C, Z!`)}return new l.BezierPath(p)},o.createFromLine=c=>{const[f,d,p,m]=["x1","x2","y1","y2"].map((g=>parseFloat(c.getAttribute(g)||"0")));return new l.BezierPath([new u.BezierSegment({x:f,y:p},{x:f,y:p},{x:d,y:m},{x:d,y:m})])},o.createFromCircle=c=>{const[f,d,p]=["cx","cy","r"].map((g=>parseFloat(c.getAttribute(g)||"0"))),m=1.3;return new l.BezierPath([new u.BezierSegment({x:f-p,y:d},{x:f-p,y:d-m*p},{x:f+p,y:d-m*p},{x:f+p,y:d}),new u.BezierSegment({x:f+p,y:d},{x:f+p,y:d+m*p},{x:f-p,y:d+m*p},{x:f-p,y:d})])},o.createFromElement=c=>{const f=c.tagName.toLowerCase();if(f==="path")return(0,o.createFromPath)(c);if(f==="line")return(0,o.createFromLine)(c);if(f==="circle")return(0,o.createFromCircle)(c);throw new Error(`Unsupported SVG tag: ${f}`)},o.create=c=>{const f=[];for(let d=1;d<c.length;d++){const p=c[d-1],m=c[d];f.push(new u.BezierSegment(p.pt,p.right||p.pt,m.left||m.pt,m.pt))}return new l.BezierPath(f)},o.createFromCommands=c=>{const f=c.slice();if(f.length<2)throw new Error(`Path doesn't have enough commands: ${JSON.stringify(f)}`);if(f[0].type!=="M")throw new Error(`Path starts with ${f[0].type} instead of M!`);let d={x:f[0].x,y:f[0].y},p=Object.assign({},d);const m=[];for(;f.length>0;){const g=f.shift();if(g.type==="M")p={x:g.x,y:g.y},d=p;else if(g.type==="C")m.push(new u.BezierSegment(d,{x:g.x1,y:g.y1},{x:g.x2,y:g.y2},{x:g.x,y:g.y})),d={x:g.x,y:g.y};else if(g.type==="L")g.x===d.x&&g.y===d.y||m.push(new u.BezierSegment(d,d,{x:g.x,y:g.y},{x:g.x,y:g.y})),d={x:g.x,y:g.y};else if(g.type==="H")g.x!==d.x&&m.push(new u.BezierSegment(d,d,{x:g.x,y:d.y},{x:g.x,y:d.y})),d={x:g.x,y:d.y};else if(g.type==="V")g.y!==d.y&&m.push(new u.BezierSegment(d,d,{x:d.x,y:g.y},{x:d.x,y:g.y})),d={x:d.x,y:g.y};else if(g.type==="Q")m.push(new u.BezierSegment(d,{x:d.x+.6666666666666666*(g.x1-d.x),y:d.y+.6666666666666666*(g.y1-d.y)},{x:g.x+.6666666666666666*(g.x1-g.x),y:g.y+.6666666666666666*(g.y1-g.y)},{x:g.x,y:g.y})),d={x:g.x,y:g.y};else{if(g.type!=="Z")throw new Error(`Unsupported path command ${g.type}; use only H, V, M, L, C, Z!`);Math.hypot(d.x-p.x,d.y-p.y)>0&&m.push(new u.BezierSegment(d,d,p,p))}}return new l.BezierPath(m)}},821:function(s,o,a){var l=this&&this.__createBinding||(Object.create?function(h,c,f,d){d===void 0&&(d=f);var p=Object.getOwnPropertyDescriptor(c,f);p&&!("get"in p?!c.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(h,d,p)}:function(h,c,f,d){d===void 0&&(d=f),h[d]=c[f]}),u=this&&this.__exportStar||function(h,c){for(var f in h)f==="default"||Object.prototype.hasOwnProperty.call(c,f)||l(c,h,f)};Object.defineProperty(o,"__esModule",{value:!0}),u(a(177),o),u(a(558),o),u(a(729),o),u(a(856),o)},856:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0})},188:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.times=void 0,o.times=function(a){const l=[];for(let u=0;u<a;u++)l.push(u);return l}}},i={};return(function s(o){var a=i[o];if(a!==void 0)return a.exports;var l=i[o]={exports:{}};return r[o].call(l.exports,l,l.exports,s),l.exports})(821)})()))})(fv)),fv.exports}var cie=uie();const wC={M:2,L:2,C:6,Q:4},yM=["ttf","otf","woff"],hie=new RegExp(`\\.(${yM.join("|")})`,"i"),fie=new RegExp(`([^/]+)(\\.(?:${yM.join("|")}))`,"i"),bM="Sorry, only TTF, OTF and WOFF files are supported.",die=["weight","stretch","style"];class Sx{constructor(t,r,i,s,o){if(!(r instanceof FontFace))throw Error("FontFace is required");this._pInst=t,this.name=i,this.path=s,this.data=o,this.face=r}static hasGlyphData(t){let{font:r}=t;return typeof r=="object"&&typeof r.data<"u"}fontBounds(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));let l=a?.graphics?._renderer||this._pInst._renderer;if(!l)throw Error("p5 or graphics required for fontBounds()");return l.fontBounds(t,r,i,s,o)}textBounds(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));let l=a?.graphics?._renderer||this._pInst._renderer;if(!l)throw Error("p5 or graphics required for fontBounds()");return l.textBounds(t,r,i,s,o)}textToPaths(t,r,i,s,o,a){if({width:s,height:o,options:a}=this._parseArgs(s,o,a),!this.data)throw Error('No font data available for "'+this.name+`"
Try downloading a local copy of the font file`);return this._lineateAndPathify(t,r,i,s,o,a).map(h=>h.glyphs).flat().map(h=>h.path.commands).flat()}textToPoints(t,r,i,s,o,a){return this.textToContours(t,r,i,s,o,a).reduce((u,h)=>(u.push(...h),u),[])}textToContours(t,r=0,i=0,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));const l=this.textToPaths(t,r,i,s,o,a),u=[];for(const h of l)h[0]==="M"&&u.push([]),u[u.length-1].push(h);return u.map(h=>vie(h,a,this))}textToModel(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));const l=a?.extrude||0,u=this.textToContours(t,r,i,s,o,a),h=this._pInst.buildGeometry(()=>{if(l===0){const c=this._pInst._renderer._validateFaces;this._pInst._renderer._validateFaces=!0,this._pInst.beginShape(),this._pInst.normal(0,0,1);for(const f of u){this._pInst.beginContour();for(const{x:d,y:p}of f)this._pInst.vertex(d,p);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape(),this._pInst._renderer._validateFaces=c}else{const c=this._pInst._renderer._validateFaces;this._pInst._renderer._validateFaces=!0;for(const f of[1,-1]){this._pInst.beginShape();for(const d of u){this._pInst.beginContour();for(const{x:p,y:m}of d)this._pInst.vertex(p,m,f*l*.5);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape()}this._pInst._renderer._validateFaces=c;for(const f of u){this._pInst.beginShape(this._pInst.QUAD_STRIP);for(const d of f)for(const p of[-1,1])this._pInst.vertex(d.x,d.y,p*l*.5);this._pInst.endShape()}}});if(l!==0){h.computeNormals();for(const c of h.faces)if(c.every(f=>h.vertices[f].z<=-l*.5+.1)){for(const f of c)h.vertexNormals[f].set(0,0,-1);c.reverse()}}return h}variations(){let t={};if(this.data){let r=this.face?.axes;r&&r.forEach(i=>{t[i.tag]=i.value})}return die.forEach(r=>{let i=this.face[r];i!=="normal"&&(t[r]=t[r]||i)}),t}metadata(){let t=this.data?.name||{};for(let r in this.face)/^load/.test(r)||(t[r]=t[r]||this.face[r]);return t}static async list(t=!1){if(t){console.log("There are",document.fonts.size,`font-faces
`);let r=0;for(let i of document.fonts.values()){console.log("FontFace: {");for(let s in i)console.log("  "+s+": "+i[s]);console.log(`}
`),i.status==="loaded"&&r++}console.log(r+" loaded")}return await Array.from(document.fonts)}_verticalAlign(t){const{sCapHeight:r}=this.data?.["OS/2"]||{},{unitsPerEm:i=1e3}=this.data?.head||{},{ascender:s=0,descender:o=0}=this.data?.hhea||{},a=s/2;return((r||s+o)/2-a)*t/i}_lineateAndPathify(t,r,i,s,o,a={}){let l=a?.graphics?._renderer||this._pInst._renderer,u=l.drawingContext.textBaseline,{lines:h,bounds:c}=l._computeBounds(Vi._FONT_BOUNDS,t,r,i,s,o,{ignoreRectMode:!0,...a});h=this._position(l,h,c,s,o);let f=this.data?.head?.unitsPerEm||1e3,d=l.states.textSize/f;const p=this._currentAxes(l);let m=h.map(g=>this._lineToGlyphs(g,{scale:d,axs:p}));return l.drawingContext.textBaseline=u,m}_currentAxes(t){let r;return(this.data?.fvar?.length??0)>0&&(r=this.data.fvar[0].map(([s,o,a,l,u,h])=>{if(!t)return a;if(s==="wght")return t.states.fontWeight;if(s==="wdth")return 100;if(t.textCanvas().style.fontVariationSettings){const c=new RegExp(`\\b${s}s+(d+)`).exec(t.textCanvas().style.fontVariationSettings);return c?parseInt(c[1]):a}else return a})),r}_textToPathPoints(t,r,i,s,o,a){({width:s,height:o,options:a}=this._parseArgs(s,o,a));let l=this.textToPaths(t,r,i,s,o,a);const u=(d,p,m,g)=>{if(fn.dist(p.x,p.y,m.x,m.y)>g){let v={x:(p.x+m.x)/2,y:(p.y+m.y)/2};d.push(v),u(d,p,v,g),u(d,v,m,g)}};let h=[],{textSize:c}=this._pInst._renderer.states,f=c/this.data.head.unitsPerEm*500;for(let d=0;d<l.length;d++){let{type:p,data:m}=l[d];if(p!=="Z"){let g={x:m[m.length-2],y:m[m.length-1]};p==="L"&&h.length&&!a?.nodivide>0&&u(h,h[h.length-1],g,f),h.push(g)}}return h}_parseArgs(t,r,i={}){return typeof t=="object"?(i=t,t=r=void 0):typeof r=="object"&&(i=r,r=void 0),{width:t,height:r,options:i}}_position(t,r,i,s,o){let{textAlign:a,textLeading:l}=t.states,h=this._measureTextDefault(t,"X").fontBoundingBoxAscent,c=(f,d)=>{let p=i.x,m=i.y+d*l+h,g=t._fontWidthSingle(f);if(a===zi?p+=(i.w-g)/2:a===Bp&&(p+=i.w-g),typeof s<"u")switch(t.states.rectMode){case zi:p-=s/2,m-=o/2;break;case jh:p-=s,m-=o;break}return{text:f,x:p,y:m}};return r.map(c)}_lineToGlyphs(t,{scale:r=1,axs:i}={}){if(!this.data)throw Error('No font data available for "'+this.name+`"
Try downloading a local copy of the font file`);let s=Ze.U.shape(this.data,t.text,{axs:i});return t.glyphShapes=s,t.glyphs=this._shapeToPaths(s,t,{scale:r,axs:i}),t}_positionGlyphs(t,r){let i=r?.graphics?._renderer||this._pInst._renderer;const s=this._currentAxes(i),o=Ze.U.shape(this.data,t,{axs:s}),a=[];let l=0;for(const u of o)a.push({x:l,index:u.g,shape:u}),l+=u.ax;return a}_singleShapeToPath(t,{scale:r=1,x:i=0,y:s=0,lineX:o=0,lineY:a=0,axs:l}={}){let u=this.data,h=0,{g:c,ax:f,ay:d,dx:p,dy:m}=t,{crds:g,cmds:v}=Ze.U.glyphToPath(u,c,!0,l),E={path:{commands:[]}};for(let y=0;y<v.length;y++){let x=v[y],b=[x];if(x in wC){let w=wC[x];for(let S=0;S<w;S+=2){let _=g[S+h]+i+p,T=g[S+h+1]+s+m,C=o+_*r,F=a+T*-r;b.push(C),b.push(F)}h+=w}E.path.commands.push(b)}return{glyph:E,ax:f,ay:d}}_shapeToPaths(t,r,{scale:i=1,axs:s}={}){let o=0,a=0,l=[];if(t.length!==r.text.length)throw Error("Invalid shape data");for(let u=0;u<t.length;u++){const{glyph:h,ax:c,ay:f}=this._singleShapeToPath(t[u],{scale:i,x:o,y:a,lineX:r.x,lineY:r.y,axs:s});l.push(h),o+=c,a+=f}return l}_measureTextDefault(t,r){let{textAlign:i,textBaseline:s}=t.states,o=t.textDrawingContext();o.textAlign="left",o.textBaseline="alphabetic";let a=o.measureText(r);return o.textAlign=i,o.textBaseline=s,a}drawPaths(t,r,i){t.strokeStyle=i?.stroke||t.strokeStyle,t.fillStyle=i?.fill||t.fillStyle,t.beginPath(),r.forEach(([s,...o])=>{s==="M"?t.moveTo(...o):s==="L"?t.lineTo(...o):s==="C"?t.bezierCurveTo(...o):s==="Q"?t.quadraticCurveTo(...o):s==="Z"&&t.closePath()}),i?.fill&&t.fill(),i?.stroke&&t.stroke()}_pathsToCommands(t,r){let i=[];for(let s=0;s<t.length;s++){let o=t[s],{x:a,y:l,path:u}=o,{crds:h,cmds:c}=u;for(let f=0,d=0;d<c.length;d++){let p=c[d],m={type:p,data:[]};if(p==="M"||p==="L")m.data.push(a+h[f]*r,l+h[f+1]*-r),f+=2;else if(p==="C"){for(let g=0;g<6;g+=2)m.data.push(a+h[f+g]*r,l+h[f+g+1]*-r);f+=6}else if(p==="Q"){for(let g=0;g<4;g+=2)m.data.push(a+h[f+g]*r,l+h[f+g+1]*-r);f+=4}i.push(m)}}return i}}async function Fd(n,t,r,i,s){let o=mie(t,r,i,s);return o.status!=="loaded"&&await o.load(),document.fonts.add(o),await document.fonts.ready,new Sx(n,o,t,r,s)}function pie(n){return/^[A-Za-z][A-Za-z0-9_-]*$/.test(n)||(n="'"+String(n).replace(/'/g,"\\'")+"'"),n}function mie(n,t,r,i){n=pie(n);let s=i?._compressedData??i?._data;if(!s){if(!hie.test(t))throw Error(bM);t.startsWith("url(")||(t="url("+t+")"),s=t}if((i?.fvar?.length??0)>0){r=r||{};for(const[a,l,u,h,c,f]of i.fvar[0])a==="wght"?r.weight=`${l} ${h}`:a==="wdth"&&(r.stretch=`${l}% ${h}%`)}let o=new FontFace(n,s,r);if(o.status==="error")throw Error('Failed to create FontFace for "'+n+'"');return o}function gie(n,t){let r,i=n?.name;if(i){if(i.fullName)return i.fullName;i.familyName&&(r=i.familyName)}if(!r){let s=fie.exec(t);s&&s.length>=3?r=s[1]:r=t}return r.includes(" ")&&(r=r.replace(/ /g,"_")),r}function vie(n,t,r){const i=(m,g)=>{if(typeof m!="object")m=g;else for(const v in g)typeof m[v]>"u"&&(m[v]=g[v]);return m},s=(m,g)=>{const v=m.length;return m[g<0?g%v+v:g%v]},o=(m,g)=>{g=g||0;let v=0;for(let E=m.length-1;m.length>3&&E>=0;--E)a(s(m,E-1),s(m,E),s(m,E+1),g)&&(m.splice(E%m.length,1),v++);return v},a=(m,g,v,E)=>{if(!E)return l(m,g,v)===0;typeof a.tmpPoint1>"u"&&(a.tmpPoint1=[],a.tmpPoint2=[]);const y=a.tmpPoint1,x=a.tmpPoint2;y.x=g.x-m.x,y.y=g.y-m.y,x.x=v.x-g.x,x.y=v.y-g.y;const b=y.x*x.x+y.y*x.y,w=Math.sqrt(y.x*y.x+y.y*y.y),S=Math.sqrt(x.x*x.x+x.y*x.y);return Math.acos(b/(w*S))<E},l=(m,g,v)=>(g[0]-m[0])*(v[1]-m[1])-(v[0]-m[0])*(g[1]-m[1]),u=cie.createFromCommands(_M(n));let h=i(t,{sampleFactor:.1,simplifyThreshold:0});const c=Math.max(1,Math.ceil(u.getTotalLength()*h.sampleFactor));let f=[];const d=r._pInst.angleMode(),p=r._pInst.DEGREES;for(let m=0;m<c;m++){const g=u.getTotalLength()*(c===1?0:m/(c-1));f.push({...u.getPointAtLength(g),get angle(){const v=u.getAngleAtLength(g);return d===p?v*180/Math.PI:v},get alpha(){return this.angle}})}return h.simplifyThreshold&&o(f,h.simplifyThreshold),f}function yie(n){return(n.startsWith('"')||n.startsWith("'"))&&n.at(0)===n.at(-1)?n.slice(1,-1).replace(/\/(['"])/g,"$1"):n}function bie(...n){let t=n.shift();(typeof t!="string"||t.length===0)&&p5._friendlyError(bM,"p5.loadFont");let r;typeof n[0]=="string"&&(r=n.shift());let i,s,o;for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?i?s=l:i=l:typeof l=="object"&&(o=l)}return{path:t,name:r,success:i,error:s,options:o}}function xM(n,t){n.Font=Sx,t.parseFontData=async function(r){let i=r instanceof Uint8Array?r:await t.loadBytes(r);if(!i)throw Error("Failed to load font data");let s=Ze.parse(i);if(s.length===0||s[0].cmap===void 0)throw Error("parsing font data");return s[0]},t.loadFont=async function(...r){let{path:i,name:s,success:o,error:a,options:{sets:l,...u}={}}=bie(...r),h=i.includes("@font-face");if(h||(await fetch(i,{method:"HEAD"})).headers.get("content-type")?.startsWith("text/css")&&(h=!0,i=await fetch(i).then(p=>p.text())),h){const f=new CSSStyleSheet;await f.replace(i);const d=[];for(const b of f.cssRules)if(b instanceof CSSFontFaceRule){const w=b.style;let S=yie(w.getPropertyValue("font-family"));const _=w.getPropertyValue("src"),T={...u||{}};for(const C of w){if(C==="font-family"||C==="src")continue;const F=C.replace(/^font-/,"").split("-").map((k,D)=>D===0?k:`${k[0].toUpperCase()}${k.slice(1)}`).join("");T[F]=w.getPropertyValue(C)}d.push({name:S,src:_,fontDescriptors:T,loadWithData:async()=>{let C;try{const F=/url\(([^\)]+)\)/.exec(_);if(F){let k=F[1];/^['"]/.exec(k)&&k.at(0)===k.at(-1)&&(k=k.slice(1,-1)),C=await t.parseFontData(k)}}catch{}return Fd(this,S,_,T,C)},loadWithoutData:()=>Fd(this,S,_,T)})}l=l||["latin"];const p=(l instanceof Array?l:[l]).map(b=>b.toLowerCase()),m=qne.filter(b=>p.some(w=>b.category.includes(w)&&b.category.includes("ext")===w.includes("ext"))),g=new Set(GS.UnicodeRange.parse(m.map(b=>`U+${b.hexrange[0]}-${b.hexrange[1]}`)));let v=0,E=0,y;for(const b of d){if(!b.fontDescriptors.unicodeRange)continue;const S=[...new Set(GS.UnicodeRange.parse(b.fontDescriptors.unicodeRange.split(/,\s*/g))).values()].filter(C=>g.has(C)).length,_={style:"normal",weight:400,...u},T=Object.keys(b.fontDescriptors).filter(C=>b.fontDescriptors[C]===_[C]).length;(T>E||T===E&&S>=v)&&(E=T,v=S,y=b)}const x=y||d.at(-1);for(const b of d)b!==x&&b.loadWithoutData();return x?.loadWithData()}let c;try{const f=await t.parseFontData(i);s=s||gie(f,i),c=await Fd(this,s,i,u,f)}catch{let d=s||i.substring(i.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"");console.warn(`WARN: No glyph data for '${d}', retrying as FontFace`);try{c=await Fd(this,d,i,u)}catch(p){if(a)return a(p);throw p}}return o?o(c):c}}const _M=n=>n.map(t=>{const r=t[0];switch(r){case"Z":return{type:r};case"M":case"L":{const[,i,s]=t;return{type:r,x:i,y:s}}case"Q":{const[,i,s,o,a]=t;return{type:r,x1:i,y1:s,x:o,y:a}}case"C":{const[,i,s,o,a,l,u]=t;return{type:r,x1:i,y1:s,x2:o,y2:a,x:l,y:u}}default:throw new Error(`Unexpected path command: ${r}`)}});typeof p5<"u"&&xM(p5,p5.prototype);function xie(n,t){Ot.prototype.maxCachedGlyphs=function(){return 200},Sx.prototype._getFontInfo=function(m){this._fontInfos=this._fontInfos||{};const g=JSON.stringify(m);if(this._fontInfos[g])return this._fontInfos[g];{const v=new p(this,{axs:m});return this._fontInfos[g]=v,v}};const r=9,i=r,s=64,o=64,a=64,l=64,u=64,h=64;class c{constructor(g,v){this.width=g,this.height=v,this.infos=[]}findImage(g){const v=this.width*this.height;if(g>v)throw new Error("font is too complex to render in 3D");let E,y;for(let b=this.infos.length-1;b>=0;--b){const w=this.infos[b];if(w.index+g<v){E=w,y=w.imageData;break}}if(!E){try{y=new ImageData(this.width,this.height)}catch{let w=document.getElementsByTagName("canvas")[0];const S=!w;w||(w=document.createElement("canvas"),w.style.display="none",document.body.appendChild(w));const _=w.getContext("2d");_&&(y=_.createImageData(this.width,this.height)),S&&document.body.removeChild(w)}E={index:0,imageData:y},this.infos.push(E)}const x=E.index;return E.index+=g,y._dirty=!0,{imageData:y,index:x}}}function f(m,g,v,E,y){const b=m.imageData.data;let w=m.index++*4;b[w++]=g,b[w++]=v,b[w++]=E,b[w++]=y}const d=Math.sqrt(3);class p{constructor(g,{axs:v}={}){this.font=g,this.axs=v,this.strokeImageInfos=new c(s,o),this.colDimImageInfos=new c(a,l),this.rowDimImageInfos=new c(a,l),this.colCellImageInfos=new c(u,h),this.rowCellImageInfos=new c(u,h),this.glyphInfos={}}getGlyphInfo(g){let v=this.glyphInfos[g.index];if(v)return v;const E=this.axs,{glyph:{path:{commands:y}}}=this.font._singleShapeToPath(g.shape,{axs:E});let x=1/0,b=-1/0,w=1/0,S=-1/0;for(const z of y)for(let se=1;se<z.length;se+=2)x=Math.min(x,z[se]),b=Math.max(b,z[se]),w=Math.min(w,z[se+1]),S=Math.max(S,z[se+1]);if(x>=b||w>=S||!y.length)return this.glyphInfos[g.index]={};const _=b-x,T=S-w,C=_M(y);let F;const k=[],D=[],N=[];for(F=r-1;F>=0;--F)N.push([]);for(F=i-1;F>=0;--F)D.push([]);function M(z,se,ye){const Ce=k.length;k.push(ye);function $(De,Me,R){for(let Ve=De.length;Ve-- >0;){const Le=De[Ve];Me>Le&&(Me=Le),R<Le&&(R=Le)}return{min:Me,max:R}}const q=.5,te=$(z,1,0),Ae=Math.max(Math.floor(te.min*r-q),0),_e=Math.min(Math.ceil(te.max*r+q),r);for(let De=Ae;De<_e;++De)N[De].push(Ce);const Ee=$(se,1,0),pe=Math.max(Math.floor(Ee.min*i-q),0),ve=Math.min(Math.ceil(Ee.max*i+q),i);for(let De=pe;De<ve;++De)D[De].push(Ce)}function U(z,se,ye){return z<se?se:z>ye?ye:z}function B(z){return U(255*z,0,255)}class W{constructor(se,ye,Ce,$){this.p0=se,this.c0=ye,this.c1=Ce,this.p1=$}toQuadratic(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:((this.c0.x+this.c1.x)*3-(this.p0.x+this.p1.x))/4,cy:((this.c0.y+this.c1.y)*3-(this.p0.y+this.p1.y))/4}}quadError(){return Fe.sub(Fe.sub(this.p1,this.p0),Fe.mult(Fe.sub(this.c1,this.c0),3)).mag()/2}split(se){const ye=Fe.lerp(this.p0,this.c0,se),Ce=Fe.lerp(this.c0,this.c1,se),$=Fe.lerp(ye,Ce,se);this.c1=Fe.lerp(this.c1,this.p1,se),this.c0=Fe.lerp(Ce,this.c1,se);const q=Fe.lerp($,this.c0,se),te=new W(this.p0,ye,$,q);return this.p0=q,te}splitInflections(){const se=Fe.sub(this.c0,this.p0),ye=Fe.sub(Fe.sub(this.c1,this.c0),se),Ce=Fe.sub(Fe.sub(Fe.sub(this.p1,this.c1),se),Fe.mult(ye,2)),$=[];let q=ye.x*Ce.y-ye.y*Ce.x;if(q!==0){let te=se.x*Ce.y-se.y*Ce.x,Ae=se.x*ye.y-se.y*ye.x;const _e=te*te-4*q*Ae;if(_e>=0){q<0&&(q=-q,te=-te,Ae=-Ae);const Ee=Math.sqrt(_e),pe=(-te-Ee)/(2*q);let ve=(-te+Ee)/(2*q);pe>0&&pe<1&&($.push(this.split(pe)),ve=1-(1-ve)/(1-pe)),ve>0&&ve<1&&$.push(this.split(ve))}}return $.push(this),$}}function Z(z,se,ye,Ce,$,q,te,Ae){const _e=new W(new Fe(z,se),new Fe(ye,Ce),new Fe($,q),new Fe(te,Ae)).splitInflections(),Ee=[],pe=30/d;for(let ve of _e){const De=[];let Me;for(;Me=pe/ve.quadError(),!(Me>=.5*.5*.5);){const R=Math.pow(Me,1/3),Ve=ve.split(R),Le=ve.split(1-R/(1-R));Ee.push(Ve),De.push(ve),ve=Le}Me<1&&Ee.push(ve.split(.5)),Ee.push(ve),Array.prototype.push.apply(Ee,De.reverse())}return Ee}function fe(z,se,ye,Ce){const $=(z+ye)/2,q=(se+Ce)/2;M([z,ye],[se,Ce],{x:z,y:se,cx:$,cy:q})}function Q(z,se,ye,Ce){return Math.abs(ye-z)<1e-5&&Math.abs(Ce-se)<1e-5}let J,ae,be,ee;for(const z of C){const se=(z.x-x)/_,ye=(z.y-w)/T;if(!Q(J,ae,se,ye)){switch(z.type){case"M":{be=se,ee=ye;break}case"L":{fe(J,ae,se,ye);break}case"Q":{const Ce=(z.x1-x)/_,$=(z.y1-w)/T;M([J,se,Ce],[ae,ye,$],{x:J,y:ae,cx:Ce,cy:$});break}case"Z":{Q(J,ae,be,ee)?k.push({x:J,y:ae}):(fe(J,ae,be,ee),k.push({x:be,y:ee}));break}case"C":{const Ce=(z.x1-x)/_,$=(z.y1-w)/T,q=(z.x2-x)/_,te=(z.y2-w)/T,Ae=Z(J,ae,Ce,$,q,te,se,ye);for(let _e=0;_e<Ae.length;_e++){const Ee=Ae[_e].toQuadratic();M([Ee.x,Ee.x1,Ee.cx],[Ee.y,Ee.y1,Ee.cy],Ee)}break}default:throw new Error(`unknown command type: ${z.type}`)}J=se,ae=ye}}const K=k.length,xe=this.strokeImageInfos.findImage(K),ie=xe.index;for(let z=0;z<K;++z){const se=k[z];f(xe,B(se.x),B(se.y),B(se.cx),B(se.cy))}function ge(z,se,ye){const Ce=z.length,$=se.findImage(Ce),q=$.index;let te=0;for(let _e=0;_e<Ce;++_e)te+=z[_e].length;const Ae=ye.findImage(te);for(let _e=0;_e<Ce;++_e){const Ee=z[_e],pe=Ee.length,ve=Ae.index;f($,ve>>7,ve&127,pe>>7,pe&127);for(let De=0;De<pe;++De){const Me=Ee[De]+ie;f(Ae,Me>>7,Me&127,0,0)}}return{cellImageInfo:Ae,dimOffset:q,dimImageInfo:$}}return v=this.glyphInfos[g.index]={glyph:g,uGlyphRect:[x,w,b,S],strokeImageInfo:xe,strokes:k,colInfo:ge(N,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ge(D,this.rowDimImageInfos,this.rowCellImageInfos)},v.uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset],v}}Ot.prototype._renderText=function(m,g,v,E,y){if(!this.states.textFont||typeof this.states.textFont=="string"){console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.");return}if(v>=E||!this.states.fillColor)return;if(!n.Font.hasGlyphData(this.states.textFont)){console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts with glyph data are supported");return}this.push();const x=this.states.strokeColor,b=this.states.drawMode;this.states.setValue("strokeColor",null),this.states.setValue("drawMode",jp);const{font:w}=this.states.textFont;if(!w)throw new Error("In WebGL mode, textFont() needs to be given the result of loadFont() instead of a font family name.");const S=w._currentAxes(this);let _=w._getFontInfo(S);const T={x:g,y:v},F=this.states.textSize/(w.data?.head?.unitsPerEm||1e3);this.translate(T.x,T.y,0),this.scale(F,F,1);const k=this.GL,D=!this._defaultFontShader,N=this._getFontShader();N.init(),N.bindShader(),D&&(N.setUniform("uGridImageSize",[a,l]),N.setUniform("uCellsImageSize",[u,h]),N.setUniform("uStrokeImageSize",[s,o]),N.setUniform("uGridSize",[r,i]));const M=this.states.fillSet?this.states.curFillColor:[0,0,0,255];this._setGlobalUniforms(N),this._applyColorBlend(M);let U=this.geometryBufferCache.getGeometryByID("glyph");U||(U=this._textGeom=new zr(1,1,function(){for(let B=0;B<=1;B++)for(let W=0;W<=1;W++)this.vertices.push(new Fe(W,B,0)),this.uvs.push(W,B)},this),U.gid="glyph",U.computeFaces().computeNormals(),this.geometryBufferCache.ensureCached(U));for(const B of this.buffers.text)B._prepareBuffer(U,N);this._bindBuffer(this.geometryBufferCache.cache.glyph.indexBuffer,k.ELEMENT_ARRAY_BUFFER),N.setUniform("uMaterialColor",M),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.glyphDataCache=this.glyphDataCache||new Set;try{const B=w._positionGlyphs(m);for(const W of B){const Z=_.getGlyphInfo(W);if(Z.uGlyphRect){const fe=Z.rowInfo,Q=Z.colInfo,J=[Z.strokeImageInfo.imageData,fe.cellImageInfo.imageData,fe.dimImageInfo.imageData,Q.cellImageInfo.imageData,Q.dimImageInfo.imageData];for(const ae of J)this.glyphDataCache.delete(ae),this.glyphDataCache.add(ae);for(;this.glyphDataCache.size>this.maxCachedGlyphs();){const ae=this.glyphDataCache.values().next().value;this.glyphDataCache.delete(ae);const be=this.textures.get(ae);be&&(be.remove(),this.textures.delete(ae))}N.setUniform("uSamplerStrokes",Z.strokeImageInfo.imageData),N.setUniform("uSamplerRowStrokes",fe.cellImageInfo.imageData),N.setUniform("uSamplerRows",fe.dimImageInfo.imageData),N.setUniform("uSamplerColStrokes",Q.cellImageInfo.imageData),N.setUniform("uSamplerCols",Q.dimImageInfo.imageData),N.setUniform("uGridOffset",Z.uGridOffset),N.setUniform("uGlyphRect",Z.uGlyphRect),N.setUniform("uGlyphOffset",W.x),N.bindTextures(),k.drawElements(k.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}}}finally{N.unbindShader(),this.states.setValue("strokeColor",x),this.states.setValue("drawMode",b),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.pop()}}}const Dt={OPERATION:"operation",LITERAL:"literal",VARIABLE:"variable",CONSTANT:"constant",STRUCT:"struct",PHI:"phi",STATEMENT:"statement",ASSIGNMENT:"assignment"},n1=Object.fromEntries(Object.entries(Dt).map(([n,t])=>[t,n])),_ie={[Dt.OPERATION]:["opCode","dependsOn","dimension","baseType"],[Dt.LITERAL]:["value","dimension","baseType"],[Dt.VARIABLE]:["identifier","dimension","baseType"],[Dt.CONSTANT]:["value","dimension","baseType"],[Dt.STRUCT]:[""],[Dt.PHI]:["dependsOn","phiBlocks","dimension","baseType"],[Dt.STATEMENT]:["statementType"],[Dt.ASSIGNMENT]:["dependsOn"]},zs={DISCARD:"discard",BREAK:"break",EXPRESSION:"expression",EMPTY:"empty"},Xt={FLOAT:"float",INT:"int",BOOL:"bool",MAT:"mat",DEFER:"defer",SAMPLER2D:"sampler2D"},wM={[Xt.FLOAT]:3,[Xt.INT]:2,[Xt.BOOL]:1,[Xt.MAT]:0,[Xt.DEFER]:-1,[Xt.SAMPLER2D]:-10},_n={float1:{fnName:"float",baseType:Xt.FLOAT,dimension:1,priority:3},float2:{fnName:"vec2",baseType:Xt.FLOAT,dimension:2,priority:3},float3:{fnName:"vec3",baseType:Xt.FLOAT,dimension:3,priority:3},float4:{fnName:"vec4",baseType:Xt.FLOAT,dimension:4,priority:3},int1:{fnName:"int",baseType:Xt.INT,dimension:1,priority:2},int2:{fnName:"ivec2",baseType:Xt.INT,dimension:2,priority:2},int3:{fnName:"ivec3",baseType:Xt.INT,dimension:3,priority:2},int4:{fnName:"ivec4",baseType:Xt.INT,dimension:4,priority:2},bool1:{fnName:"bool",baseType:Xt.BOOL,dimension:1,priority:1},bool2:{fnName:"bvec2",baseType:Xt.BOOL,dimension:2,priority:1},bool3:{fnName:"bvec3",baseType:Xt.BOOL,dimension:3,priority:1},bool4:{fnName:"bvec4",baseType:Xt.BOOL,dimension:4,priority:1},mat2:{fnName:"mat2x2",baseType:Xt.MAT,dimension:2,priority:0},mat3:{fnName:"mat3x3",baseType:Xt.MAT,dimension:3,priority:0},mat4:{fnName:"mat4x4",baseType:Xt.MAT,dimension:4,priority:0},defer:{fnName:null,baseType:Xt.DEFER,dimension:null,priority:-1},sampler2D:{fnName:"sampler2D",baseType:Xt.SAMPLER2D,dimension:1,priority:-10}},Cx=function(n){let t=n.type===void 0?n:n.type;const r={name:n.name,properties:[],typeName:t.typeName};for(const i of t.properties){const s=Ig[i.type.typeName];r.properties.push({name:i.name,dataType:s})}return r};function Ax(n){return!wie(n)}function wie(n){return Object.keys(_n).includes(n)?!0:!!{float:!0,vec2:!0,vec3:!0,vec4:!0,int:!0,ivec2:!0,ivec3:!0,ivec4:!0,bool:!0,bvec2:!0,bvec3:!0,bvec4:!0,mat2:!0,mat3:!0,mat4:!0,sampler2D:!0}[n]}const Re={FLOAT:{baseType:Xt.FLOAT,dimension:null,priority:3},INT:{baseType:Xt.INT,dimension:null,priority:2},BOOL:{baseType:Xt.BOOL,dimension:null,priority:1}};function Eie(n,t){return n.dimension===t.dimension&&n.baseType===t.baseType}const Ig=Object.fromEntries(Object.values(_n).filter(n=>n.fnName!==null).map(n=>[n.fnName,n])),An={Binary:{ADD:0,SUBTRACT:1,MULTIPLY:2,DIVIDE:3,MODULO:4,EQUAL:5,NOT_EQUAL:6,GREATER_THAN:7,GREATER_EQUAL:8,LESS_THAN:9,LESS_EQUAL:10,LOGICAL_AND:11,LOGICAL_OR:12,MEMBER_ACCESS:13},Unary:{LOGICAL_NOT:100,NEGATE:101,PLUS:102,SWIZZLE:103},Nary:{FUNCTION_CALL:200,CONSTRUCTOR:201}},EM=[{arity:"unary",name:"not",symbol:"!",opCode:An.Unary.LOGICAL_NOT},{arity:"unary",name:"neg",symbol:"-",opCode:An.Unary.NEGATE},{arity:"unary",name:"plus",symbol:"+",opCode:An.Unary.PLUS},{arity:"binary",name:"add",symbol:"+",opCode:An.Binary.ADD},{arity:"binary",name:"sub",symbol:"-",opCode:An.Binary.SUBTRACT},{arity:"binary",name:"mult",symbol:"*",opCode:An.Binary.MULTIPLY},{arity:"binary",name:"div",symbol:"/",opCode:An.Binary.DIVIDE},{arity:"binary",name:"mod",symbol:"%",opCode:An.Binary.MODULO},{arity:"binary",name:"equalTo",symbol:"==",opCode:An.Binary.EQUAL},{arity:"binary",name:"notEqual",symbol:"!=",opCode:An.Binary.NOT_EQUAL},{arity:"binary",name:"greaterThan",symbol:">",opCode:An.Binary.GREATER_THAN},{arity:"binary",name:"greaterEqual",symbol:">=",opCode:An.Binary.GREATER_EQUAL},{arity:"binary",name:"lessThan",symbol:"<",opCode:An.Binary.LESS_THAN},{arity:"binary",name:"lessEqual",symbol:"<=",opCode:An.Binary.LESS_EQUAL},{arity:"binary",name:"and",symbol:"&&",opCode:An.Binary.LOGICAL_AND},{arity:"binary",name:"or",symbol:"||",opCode:An.Binary.LOGICAL_OR}],am={},SM={};for(const{symbol:n,opCode:t,name:r,arity:i}of EM)am[t]=n,i==="unary"&&(SM[n]=r);const qt={GLOBAL:"global",FUNCTION:"function",BRANCH:"branch",IF_COND:"if_cond",IF_BODY:"if_body",ELSE_COND:"else_cond",SCOPE_START:"scope_start",SCOPE_END:"scope_end",FOR:"for",MERGE:"merge",DEFAULT:"default"};Object.fromEntries(Object.entries(qt).map(([n,t])=>[t,n]));function Ql(n){const t=`[p5.strands internal error]: ${n}`;throw new Error(t)}function Yi(n,t){const r=`[p5.strands ${n}]: ${t}`;throw new Error(r)}function EC(){return{nextID:0,cache:new Map,nodeTypes:[],baseTypes:[],dimensions:[],opCodes:[],values:[],identifiers:[],phiBlocks:[],dependsOn:[],usedBy:[],statementTypes:[],swizzles:[]}}function Dn(n,t){return Sie(n,t)}function Pn(n={}){const t={nodeType:n.nodeType??null,baseType:n.baseType??null,dimension:n.dimension??null,opCode:n.opCode??null,value:n.value??null,identifier:n.identifier??null,statementType:n.statementType??null,swizzle:n.swizzle??null,dependsOn:Array.isArray(n.dependsOn)?n.dependsOn:[],usedBy:Array.isArray(n.usedBy)?n.usedBy:[],phiBlocks:Array.isArray(n.phiBlocks)?n.phiBlocks:[]};return Cie(t),t}function Dr(n,t){return{id:t,nodeType:n.nodeTypes[t],opCode:n.opCodes[t],value:n.values[t],identifier:n.identifiers[t],dependsOn:n.dependsOn[t],usedBy:n.usedBy[t],phiBlocks:n.phiBlocks[t],dimension:n.dimensions[t],baseType:n.baseTypes[t],statementType:n.statementTypes[t],swizzle:n.swizzles[t]}}function lm(n,t){return{baseType:n.baseTypes[t],dimension:n.dimensions[t],priority:wM[n.baseTypes[t]]}}function Sie(n,t){const r=n.nextID++;n.nodeTypes[r]=t.nodeType,n.opCodes[r]=t.opCode,n.values[r]=t.value,n.identifiers[r]=t.identifier,n.dependsOn[r]=t.dependsOn.slice(),n.usedBy[r]=t.usedBy,n.phiBlocks[r]=t.phiBlocks.slice(),n.baseTypes[r]=t.baseType,n.dimensions[r]=t.dimension,n.statementTypes[r]=t.statementType,n.swizzles[r]=t.swizzle;for(const i of t.dependsOn)Array.isArray(n.usedBy[i])||(n.usedBy[i]=[]),n.usedBy[i].push(r);return r}function Cie(n){const t=n.nodeType,r=_ie[t];r.length===2&&Ql(`Required fields for node type '${n1[t]}' not defined. Please add them to the utils.js file in p5.strands!`);const i=[];for(const s of r)n[s]===null&&i.push(s);if(n.dependsOn?.some(s=>s===void 0))throw new Error("Undefined dependency!");i.length>0&&Ql(`Missing fields ${i.join(", ")} for a node type '${n1[t]}'.`)}function SC(n,t){return n.nodeTypes[t]!==Dt.OPERATION||n.baseTypes[t]===Xt.SAMPLER2D?!1:(n.usedBy[t]||[]).length>1}const Aie={float1:"float",float2:"vec2",float3:"vec3",float4:"vec4",int1:"int",int2:"ivec2",int3:"ivec3",int4:"ivec4",bool1:"bool",bool2:"bvec2",bool3:"bvec3",bool4:"bvec4",mat2:"mat2x2",mat3:"mat3x3",mat4:"mat4x4"},dv={[qt.DEFAULT]:(n,t,r)=>{const{dag:i,cfg:s}=t,o=s.blockInstructions[n]||[];for(const a of o){const l=i.nodeTypes[a];if(SC(i,a)){const u=oo.generateDeclaration(r,i,a);r.write(u)}l===Dt.STATEMENT&&oo.generateStatement(r,i,a),l===Dt.ASSIGNMENT&&(oo.generateAssignment(r,i,a),r.visitedNodes.add(a))}},[qt.BRANCH](n,t,r){const{dag:i,cfg:s}=t,o=s.blockInstructions[n]||[];for(const a of o){const l=Dr(i,a);if(l.nodeType===Dt.PHI){const u=l.dependsOn||[];if(u.length>0){const d=u[0],p=r.tempNames[d];if(p){r.tempNames[a]=p;continue}}const h=`T${r.nextTempID++}`;r.tempNames[a]=h;const c=lm(i,a),f=oo.getTypeName(c.baseType,c.dimension);r.write(`${f} ${h};`)}}this[qt.DEFAULT](n,t,r)},[qt.IF_COND](n,t,r){const{dag:i,cfg:s}=t,o=s.blockConditions[n],a=oo.generateExpression(r,i,o);r.write(`if (${a})`),this[qt.DEFAULT](n,t,r)},[qt.ELSE_COND](n,t,r){r.write("else"),this[qt.DEFAULT](n,t,r)},[qt.IF_BODY](n,t,r){this[qt.DEFAULT](n,t,r),this.assignPhiNodeValues(n,t,r)},[qt.SCOPE_START](n,t,r){r.write("{"),r.indent++},[qt.SCOPE_END](n,t,r){r.indent--,r.write("}")},[qt.MERGE](n,t,r){this[qt.DEFAULT](n,t,r)},[qt.FUNCTION](n,t,r){this[qt.DEFAULT](n,t,r)},[qt.FOR](n,t,r){const{dag:i,cfg:s}=t,o=s.blockInstructions[n]||[];r.write("for (");const a=r.suppressSemicolon;for(let l=0;l<o.length;l++){const u=o[l],h=Dr(i,u),c=l===o.length-1;if(r.suppressSemicolon=c,SC(i,u)){const f=oo.generateDeclaration(r,i,u);r.write(f)}h.nodeType===Dt.STATEMENT&&oo.generateStatement(r,i,u),h.nodeType===Dt.ASSIGNMENT&&(oo.generateAssignment(r,i,u),r.visitedNodes.add(u))}r.suppressSemicolon=a,r.write(")")},assignPhiNodeValues(n,t,r){const{dag:i,cfg:s}=t,o=s.outgoingEdges[n]||[];for(const a of o){const l=s.blockInstructions[a]||[];for(const u of l){const h=Dr(i,u);if(h.nodeType===Dt.PHI){const c=h.phiBlocks?.indexOf(n);if(c!==-1&&c<h.dependsOn.length){const f=h.dependsOn[c],d=r.tempNames[u];if(d&&f!==null){const p=oo.generateExpression(r,i,f);r.write(`${d} = ${p};`)}}}}}}},oo={hookEntry(n){return`(${n.parameters.flatMap(r=>`${r.qualifiers?.length?r.qualifiers.join(" "):""}${r.type.typeName} ${r.name}`).join(", ")}) {`},getTypeName(n,t){const r=Aie[n+t];return r||n},generateUniformDeclaration(n,t){return`${this.getTypeName(t.baseType,t.dimension)} ${n}`},generateStatement(n,t,r){const i=Dr(t,r),s=n.suppressSemicolon?"":";";if(i.statementType===zs.DISCARD)n.write(`discard${s}`);else if(i.statementType===zs.BREAK)n.write(`break${s}`);else if(i.statementType===zs.EXPRESSION){const o=i.dependsOn[0],a=this.generateExpression(n,t,o);n.write(`${a}${s}`)}else i.statementType===zs.EMPTY&&n.write(s)},generateAssignment(n,t,r){const i=Dr(t,r),s=i.dependsOn[0],o=i.dependsOn[1],a=this.generateExpression(n,t,s),l=this.generateExpression(n,t,o),u=n.suppressSemicolon?"":";";a&&l&&a!==l&&n.write(`${a} = ${l}${u}`)},generateDeclaration(n,t,r){const i=this.generateExpression(n,t,r),s=`T${n.nextTempID++}`;n.tempNames[r]=s;const o=lm(t,r);return`${this.getTypeName(o.baseType,o.dimension)} ${s} = ${i};`},generateReturnStatement(n,t,r,i){const s=n.dag,o=Dr(s,r);if(Ax(o.baseType)){const a=i;for(let l=0;l<a.properties.length;l++){const u=a.properties[l],h=this.generateExpression(t,s,o.dependsOn[l]);u.name!==h&&t.write(`${o.identifier}.${u.name} = ${h};`)}}t.write(`return ${this.generateExpression(t,s,r)};`)},generateExpression(n,t,r){const i=Dr(t,r);if(n.tempNames?.[r])return n.tempNames[r];switch(i.nodeType){case Dt.LITERAL:return i.baseType===Xt.FLOAT?i.value.toFixed(4):i.value;case Dt.VARIABLE:if(n.shaderContext&&n.strandsContext?.sharedVariables?.has(i.identifier)){const o=n.strandsContext.sharedVariables.get(i.identifier);n.shaderContext==="vertex"?o.usedInVertex=!0:n.shaderContext==="fragment"&&(o.usedInFragment=!0)}return i.identifier;case Dt.OPERATION:const s=i.usedBy.length>0;if(i.opCode===An.Nary.CONSTRUCTOR){if(i.baseType===Xt.SAMPLER2D)return this.generateExpression(n,t,i.dependsOn[0]);const o=this.getTypeName(i.baseType,i.dimension),a=i.dependsOn.map(l=>this.generateExpression(n,t,l));return`${o}(${a.join(", ")})`}if(i.opCode===An.Nary.FUNCTION_CALL){const o=i.dependsOn.map(a=>this.generateExpression(n,t,a));return`${i.identifier}(${o.join(", ")})`}if(i.opCode===An.Binary.MEMBER_ACCESS){const[o,a]=i.dependsOn,l=this.generateExpression(n,t,o),u=this.generateExpression(n,t,a);return`${l}.${u}`}if(i.opCode===An.Unary.SWIZZLE){const o=i.dependsOn[0];return`${this.generateExpression(n,t,o)}.${i.swizzle}`}if(i.dependsOn.length===2){const[o,a]=i.dependsOn,l=this.generateExpression(n,t,o),u=this.generateExpression(n,t,a);if(i.opCode===An.Binary.MODULO){const c=Dr(t,o),f=Dr(t,a);return c.baseType===Xt.FLOAT||f.baseType===Xt.FLOAT?`mod(${l}, ${u})`:`(${l} % ${u})`}const h=am[i.opCode];return s?`(${l} ${h} ${u})`:`${l} ${h} ${u}`}if(i.opCode===An.Unary.LOGICAL_NOT||i.opCode===An.Unary.NEGATE||i.opCode===An.Unary.PLUS){const[o]=i.dependsOn,a=this.generateExpression(n,t,o);return`${am[i.opCode]}${a}`}case Dt.PHI:if(i.identifier)return i.identifier;if(n.tempNames?.[r])return n.tempNames[r];{const o=i.dependsOn.filter(a=>a!==null);if(o.length>0)return this.generateExpression(n,t,o[0]);throw new Error("No valid inputs for node")}case Dt.ASSIGNMENT:Ql("ASSIGNMENT nodes should not be used as expressions");default:Ql(`${n1[i.nodeType]} code generation not implemented yet`)}},generateBlock(n,t,r){const i=t.cfg.blockTypes[n];(dv[i]||dv[qt.DEFAULT]).call(dv,n,t,r)}};var pv={},mv={},CC;function Tie(){return CC||(CC=1,(function(n){(function t(r){var i,s,o,a,l,u;function h(w){var S={},_,T;for(_ in w)w.hasOwnProperty(_)&&(T=w[_],typeof T=="object"&&T!==null?S[_]=h(T):S[_]=T);return S}function c(w,S){var _,T,C,F;for(T=w.length,C=0;T;)_=T>>>1,F=C+_,S(w[F])?T=_:(C=F+1,T-=_+1);return C}i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},o={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},a={},l={},u={},s={Break:a,Skip:l,Remove:u};function f(w,S){this.parent=w,this.key=S}f.prototype.replace=function(S){this.parent[this.key]=S},f.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function d(w,S,_,T){this.node=w,this.path=S,this.wrap=_,this.ref=T}function p(){}p.prototype.path=function(){var S,_,T,C,F,k;function D(N,M){if(Array.isArray(M))for(T=0,C=M.length;T<C;++T)N.push(M[T]);else N.push(M)}if(!this.__current.path)return null;for(F=[],S=2,_=this.__leavelist.length;S<_;++S)k=this.__leavelist[S],D(F,k.path);return D(F,this.__current.path),F},p.prototype.type=function(){var w=this.current();return w.type||this.__current.wrap},p.prototype.parents=function(){var S,_,T;for(T=[],S=1,_=this.__leavelist.length;S<_;++S)T.push(this.__leavelist[S].node);return T},p.prototype.current=function(){return this.__current.node},p.prototype.__execute=function(S,_){var T,C;return C=void 0,T=this.__current,this.__current=_,this.__state=null,S&&(C=S.call(this,_.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=T,C},p.prototype.notify=function(S){this.__state=S},p.prototype.skip=function(){this.notify(l)},p.prototype.break=function(){this.notify(a)},p.prototype.remove=function(){this.notify(u)},p.prototype.__initialize=function(w,S){this.visitor=S,this.root=w,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,S.fallback==="iteration"?this.__fallback=Object.keys:typeof S.fallback=="function"&&(this.__fallback=S.fallback),this.__keys=o,S.keys&&(this.__keys=Object.assign(Object.create(this.__keys),S.keys))};function m(w){return w==null?!1:typeof w=="object"&&typeof w.type=="string"}function g(w,S){return(w===i.ObjectExpression||w===i.ObjectPattern)&&S==="properties"}function v(w,S){for(var _=w.length-1;_>=0;--_)if(w[_].node===S)return!0;return!1}p.prototype.traverse=function(S,_){var T,C,F,k,D,N,M,U,B,W,Z,fe;for(this.__initialize(S,_),fe={},T=this.__worklist,C=this.__leavelist,T.push(new d(S,null,null,null)),C.push(new d(null,null,null,null));T.length;){if(F=T.pop(),F===fe){if(F=C.pop(),N=this.__execute(_.leave,F),this.__state===a||N===a)return;continue}if(F.node){if(N=this.__execute(_.enter,F),this.__state===a||N===a)return;if(T.push(fe),C.push(F),this.__state===l||N===l)continue;if(k=F.node,D=k.type||F.wrap,W=this.__keys[D],!W)if(this.__fallback)W=this.__fallback(k);else throw new Error("Unknown node type "+D+".");for(U=W.length;(U-=1)>=0;)if(M=W[U],Z=k[M],!!Z){if(Array.isArray(Z)){for(B=Z.length;(B-=1)>=0;)if(Z[B]&&!v(C,Z[B])){if(g(D,W[U]))F=new d(Z[B],[M,B],"Property",null);else if(m(Z[B]))F=new d(Z[B],[M,B],null,null);else continue;T.push(F)}}else if(m(Z)){if(v(C,Z))continue;T.push(new d(Z,M,null,null))}}}}},p.prototype.replace=function(S,_){var T,C,F,k,D,N,M,U,B,W,Z,fe,Q;function J(ae){var be,ee,K,xe;if(ae.ref.remove()){for(ee=ae.ref.key,xe=ae.ref.parent,be=T.length;be--;)if(K=T[be],K.ref&&K.ref.parent===xe){if(K.ref.key<ee)break;--K.ref.key}}}for(this.__initialize(S,_),Z={},T=this.__worklist,C=this.__leavelist,fe={root:S},N=new d(S,null,null,new f(fe,"root")),T.push(N),C.push(N);T.length;){if(N=T.pop(),N===Z){if(N=C.pop(),D=this.__execute(_.leave,N),D!==void 0&&D!==a&&D!==l&&D!==u&&N.ref.replace(D),(this.__state===u||D===u)&&J(N),this.__state===a||D===a)return fe.root;continue}if(D=this.__execute(_.enter,N),D!==void 0&&D!==a&&D!==l&&D!==u&&(N.ref.replace(D),N.node=D),(this.__state===u||D===u)&&(J(N),N.node=null),this.__state===a||D===a)return fe.root;if(F=N.node,!!F&&(T.push(Z),C.push(N),!(this.__state===l||D===l))){if(k=F.type||N.wrap,B=this.__keys[k],!B)if(this.__fallback)B=this.__fallback(F);else throw new Error("Unknown node type "+k+".");for(M=B.length;(M-=1)>=0;)if(Q=B[M],W=F[Q],!!W)if(Array.isArray(W)){for(U=W.length;(U-=1)>=0;)if(W[U]){if(g(k,B[M]))N=new d(W[U],[Q,U],"Property",new f(W,U));else if(m(W[U]))N=new d(W[U],[Q,U],null,new f(W,U));else continue;T.push(N)}}else m(W)&&T.push(new d(W,Q,null,new f(F,Q)))}}return fe.root};function E(w,S){var _=new p;return _.traverse(w,S)}function y(w,S){var _=new p;return _.replace(w,S)}function x(w,S){var _;return _=c(S,function(C){return C.range[0]>w.range[0]}),w.extendedRange=[w.range[0],w.range[1]],_!==S.length&&(w.extendedRange[1]=S[_].range[0]),_-=1,_>=0&&(w.extendedRange[0]=S[_].range[1]),w}function b(w,S,_){var T=[],C,F,k,D;if(!w.range)throw new Error("attachComments needs range information");if(!_.length){if(S.length){for(k=0,F=S.length;k<F;k+=1)C=h(S[k]),C.extendedRange=[0,w.range[0]],T.push(C);w.leadingComments=T}return w}for(k=0,F=S.length;k<F;k+=1)T.push(x(h(S[k]),_));return D=0,E(w,{enter:function(N){for(var M;D<T.length&&(M=T[D],!(M.extendedRange[1]>N.range[0]));)M.extendedRange[1]===N.range[0]?(N.leadingComments||(N.leadingComments=[]),N.leadingComments.push(M),T.splice(D,1)):D+=1;if(D===T.length)return s.Break;if(T[D].extendedRange[0]>N.range[1])return s.Skip}}),D=0,E(w,{leave:function(N){for(var M;D<T.length&&(M=T[D],!(N.range[1]<M.extendedRange[0]));)N.range[1]===M.extendedRange[0]?(N.trailingComments||(N.trailingComments=[]),N.trailingComments.push(M),T.splice(D,1)):D+=1;if(D===T.length)return s.Break;if(T[D].extendedRange[0]>N.range[1])return s.Skip}}),w}return r.Syntax=i,r.traverse=E,r.replace=y,r.attachComments=b,r.VisitorKeys=o,r.VisitorOption=s,r.Controller=p,r.cloneEnvironment=function(){return t({})},r})(n)})(mv)),mv}var Hc={},gv={exports:{}},AC;function Iie(){return AC||(AC=1,(function(){function n(a){if(a==null)return!1;switch(a.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function t(a){if(a==null)return!1;switch(a.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function r(a){if(a==null)return!1;switch(a.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(a){return r(a)||a!=null&&a.type==="FunctionDeclaration"}function s(a){switch(a.type){case"IfStatement":return a.alternate!=null?a.alternate:a.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return a.body}return null}function o(a){var l;if(a.type!=="IfStatement"||a.alternate==null)return!1;l=a.consequent;do{if(l.type==="IfStatement"&&l.alternate==null)return!0;l=s(l)}while(l);return!1}gv.exports={isExpression:n,isStatement:r,isIterationStatement:t,isSourceElement:i,isProblematicIfStatement:o,trailingStatement:s}})()),gv.exports}var vv={exports:{}},TC;function CM(){return TC||(TC=1,(function(){var n,t,r,i,s,o;t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function a(v){return 48<=v&&v<=57}function l(v){return 48<=v&&v<=57||97<=v&&v<=102||65<=v&&v<=70}function u(v){return v>=48&&v<=55}r=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function h(v){return v===32||v===9||v===11||v===12||v===160||v>=5760&&r.indexOf(v)>=0}function c(v){return v===10||v===13||v===8232||v===8233}function f(v){if(v<=65535)return String.fromCharCode(v);var E=String.fromCharCode(Math.floor((v-65536)/1024)+55296),y=String.fromCharCode((v-65536)%1024+56320);return E+y}for(i=new Array(128),o=0;o<128;++o)i[o]=o>=97&&o<=122||o>=65&&o<=90||o===36||o===95;for(s=new Array(128),o=0;o<128;++o)s[o]=o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===36||o===95;function d(v){return v<128?i[v]:t.NonAsciiIdentifierStart.test(f(v))}function p(v){return v<128?s[v]:t.NonAsciiIdentifierPart.test(f(v))}function m(v){return v<128?i[v]:n.NonAsciiIdentifierStart.test(f(v))}function g(v){return v<128?s[v]:n.NonAsciiIdentifierPart.test(f(v))}vv.exports={isDecimalDigit:a,isHexDigit:l,isOctalDigit:u,isWhiteSpace:h,isLineTerminator:c,isIdentifierStartES5:d,isIdentifierPartES5:p,isIdentifierStartES6:m,isIdentifierPartES6:g}})()),vv.exports}var yv={exports:{}},IC;function Die(){return IC||(IC=1,(function(){var n=CM();function t(d){switch(d){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function r(d,p){return!p&&d==="yield"?!1:i(d,p)}function i(d,p){if(p&&t(d))return!0;switch(d.length){case 2:return d==="if"||d==="in"||d==="do";case 3:return d==="var"||d==="for"||d==="new"||d==="try";case 4:return d==="this"||d==="else"||d==="case"||d==="void"||d==="with"||d==="enum";case 5:return d==="while"||d==="break"||d==="catch"||d==="throw"||d==="const"||d==="yield"||d==="class"||d==="super";case 6:return d==="return"||d==="typeof"||d==="delete"||d==="switch"||d==="export"||d==="import";case 7:return d==="default"||d==="finally"||d==="extends";case 8:return d==="function"||d==="continue"||d==="debugger";case 10:return d==="instanceof";default:return!1}}function s(d,p){return d==="null"||d==="true"||d==="false"||r(d,p)}function o(d,p){return d==="null"||d==="true"||d==="false"||i(d,p)}function a(d){return d==="eval"||d==="arguments"}function l(d){var p,m,g;if(d.length===0||(g=d.charCodeAt(0),!n.isIdentifierStartES5(g)))return!1;for(p=1,m=d.length;p<m;++p)if(g=d.charCodeAt(p),!n.isIdentifierPartES5(g))return!1;return!0}function u(d,p){return(d-55296)*1024+(p-56320)+65536}function h(d){var p,m,g,v,E;if(d.length===0)return!1;for(E=n.isIdentifierStartES6,p=0,m=d.length;p<m;++p){if(g=d.charCodeAt(p),55296<=g&&g<=56319){if(++p,p>=m||(v=d.charCodeAt(p),!(56320<=v&&v<=57343)))return!1;g=u(g,v)}if(!E(g))return!1;E=n.isIdentifierPartES6}return!0}function c(d,p){return l(d)&&!s(d,p)}function f(d,p){return h(d)&&!o(d,p)}yv.exports={isKeywordES5:r,isKeywordES6:i,isReservedWordES5:s,isReservedWordES6:o,isRestrictedWord:a,isIdentifierNameES5:l,isIdentifierNameES6:h,isIdentifierES5:c,isIdentifierES6:f}})()),yv.exports}var DC;function Nie(){return DC||(DC=1,(function(){Hc.ast=Iie(),Hc.code=CM(),Hc.keyword=Die()})()),Hc}var Wc={},bv={},kd={},Md={},NC;function Fie(){if(NC)return Md;NC=1;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Md.encode=function(t){if(0<=t&&t<n.length)return n[t];throw new TypeError("Must be between 0 and 63: "+t)},Md.decode=function(t){var r=65,i=90,s=97,o=122,a=48,l=57,u=43,h=47,c=26,f=52;return r<=t&&t<=i?t-r:s<=t&&t<=o?t-s+c:a<=t&&t<=l?t-a+f:t==u?62:t==h?63:-1},Md}var FC;function AM(){if(FC)return kd;FC=1;var n=Fie(),t=5,r=1<<t,i=r-1,s=r;function o(l){return l<0?(-l<<1)+1:(l<<1)+0}function a(l){var u=(l&1)===1,h=l>>1;return u?-h:h}return kd.encode=function(u){var h="",c,f=o(u);do c=f&i,f>>>=t,f>0&&(c|=s),h+=n.encode(c);while(f>0);return h},kd.decode=function(u,h,c){var f=u.length,d=0,p=0,m,g;do{if(h>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(g=n.decode(u.charCodeAt(h++)),g===-1)throw new Error("Invalid base64 digit: "+u.charAt(h-1));m=!!(g&s),g&=i,d=d+(g<<p),p+=t}while(m);c.value=a(d),c.rest=h},kd}var xv={},kC;function Nf(){return kC||(kC=1,(function(n){function t(b,w,S){if(w in b)return b[w];if(arguments.length===3)return S;throw new Error('"'+w+'" is a required argument.')}n.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function s(b){var w=b.match(r);return w?{scheme:w[1],auth:w[2],host:w[3],port:w[4],path:w[5]}:null}n.urlParse=s;function o(b){var w="";return b.scheme&&(w+=b.scheme+":"),w+="//",b.auth&&(w+=b.auth+"@"),b.host&&(w+=b.host),b.port&&(w+=":"+b.port),b.path&&(w+=b.path),w}n.urlGenerate=o;function a(b){var w=b,S=s(b);if(S){if(!S.path)return b;w=S.path}for(var _=n.isAbsolute(w),T=w.split(/\/+/),C,F=0,k=T.length-1;k>=0;k--)C=T[k],C==="."?T.splice(k,1):C===".."?F++:F>0&&(C===""?(T.splice(k+1,F),F=0):(T.splice(k,2),F--));return w=T.join("/"),w===""&&(w=_?"/":"."),S?(S.path=w,o(S)):w}n.normalize=a;function l(b,w){b===""&&(b="."),w===""&&(w=".");var S=s(w),_=s(b);if(_&&(b=_.path||"/"),S&&!S.scheme)return _&&(S.scheme=_.scheme),o(S);if(S||w.match(i))return w;if(_&&!_.host&&!_.path)return _.host=w,o(_);var T=w.charAt(0)==="/"?w:a(b.replace(/\/+$/,"")+"/"+w);return _?(_.path=T,o(_)):T}n.join=l,n.isAbsolute=function(b){return b.charAt(0)==="/"||r.test(b)};function u(b,w){b===""&&(b="."),b=b.replace(/\/$/,"");for(var S=0;w.indexOf(b+"/")!==0;){var _=b.lastIndexOf("/");if(_<0||(b=b.slice(0,_),b.match(/^([^\/]+:\/)?\/*$/)))return w;++S}return Array(S+1).join("../")+w.substr(b.length+1)}n.relative=u;var h=(function(){var b=Object.create(null);return!("__proto__"in b)})();function c(b){return b}function f(b){return p(b)?"$"+b:b}n.toSetString=h?c:f;function d(b){return p(b)?b.slice(1):b}n.fromSetString=h?c:d;function p(b){if(!b)return!1;var w=b.length;if(w<9||b.charCodeAt(w-1)!==95||b.charCodeAt(w-2)!==95||b.charCodeAt(w-3)!==111||b.charCodeAt(w-4)!==116||b.charCodeAt(w-5)!==111||b.charCodeAt(w-6)!==114||b.charCodeAt(w-7)!==112||b.charCodeAt(w-8)!==95||b.charCodeAt(w-9)!==95)return!1;for(var S=w-10;S>=0;S--)if(b.charCodeAt(S)!==36)return!1;return!0}function m(b,w,S){var _=v(b.source,w.source);return _!==0||(_=b.originalLine-w.originalLine,_!==0)||(_=b.originalColumn-w.originalColumn,_!==0||S)||(_=b.generatedColumn-w.generatedColumn,_!==0)||(_=b.generatedLine-w.generatedLine,_!==0)?_:v(b.name,w.name)}n.compareByOriginalPositions=m;function g(b,w,S){var _=b.generatedLine-w.generatedLine;return _!==0||(_=b.generatedColumn-w.generatedColumn,_!==0||S)||(_=v(b.source,w.source),_!==0)||(_=b.originalLine-w.originalLine,_!==0)||(_=b.originalColumn-w.originalColumn,_!==0)?_:v(b.name,w.name)}n.compareByGeneratedPositionsDeflated=g;function v(b,w){return b===w?0:b===null?1:w===null?-1:b>w?1:-1}function E(b,w){var S=b.generatedLine-w.generatedLine;return S!==0||(S=b.generatedColumn-w.generatedColumn,S!==0)||(S=v(b.source,w.source),S!==0)||(S=b.originalLine-w.originalLine,S!==0)||(S=b.originalColumn-w.originalColumn,S!==0)?S:v(b.name,w.name)}n.compareByGeneratedPositionsInflated=E;function y(b){return JSON.parse(b.replace(/^\)]}'[^\n]*\n/,""))}n.parseSourceMapInput=y;function x(b,w,S){if(w=w||"",b&&(b[b.length-1]!=="/"&&w[0]!=="/"&&(b+="/"),w=b+w),S){var _=s(S);if(!_)throw new Error("sourceMapURL could not be parsed");if(_.path){var T=_.path.lastIndexOf("/");T>=0&&(_.path=_.path.substring(0,T+1))}w=l(o(_),w)}return a(w)}n.computeSourceURL=x})(xv)),xv}var _v={},MC;function TM(){if(MC)return _v;MC=1;var n=Nf(),t=Object.prototype.hasOwnProperty,r=typeof Map<"u";function i(){this._array=[],this._set=r?new Map:Object.create(null)}return i.fromArray=function(o,a){for(var l=new i,u=0,h=o.length;u<h;u++)l.add(o[u],a);return l},i.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(o,a){var l=r?o:n.toSetString(o),u=r?this.has(o):t.call(this._set,l),h=this._array.length;(!u||a)&&this._array.push(o),u||(r?this._set.set(o,h):this._set[l]=h)},i.prototype.has=function(o){if(r)return this._set.has(o);var a=n.toSetString(o);return t.call(this._set,a)},i.prototype.indexOf=function(o){if(r){var a=this._set.get(o);if(a>=0)return a}else{var l=n.toSetString(o);if(t.call(this._set,l))return this._set[l]}throw new Error('"'+o+'" is not in the set.')},i.prototype.at=function(o){if(o>=0&&o<this._array.length)return this._array[o];throw new Error("No element indexed by "+o)},i.prototype.toArray=function(){return this._array.slice()},_v.ArraySet=i,_v}var wv={},OC;function kie(){if(OC)return wv;OC=1;var n=Nf();function t(i,s){var o=i.generatedLine,a=s.generatedLine,l=i.generatedColumn,u=s.generatedColumn;return a>o||a==o&&u>=l||n.compareByGeneratedPositionsInflated(i,s)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(s,o){this._array.forEach(s,o)},r.prototype.add=function(s){t(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},wv.MappingList=r,wv}var LC;function IM(){if(LC)return bv;LC=1;var n=AM(),t=Nf(),r=TM().ArraySet,i=kie().MappingList;function s(o){o||(o={}),this._file=t.getArg(o,"file",null),this._sourceRoot=t.getArg(o,"sourceRoot",null),this._skipValidation=t.getArg(o,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new i,this._sourcesContents=null}return s.prototype._version=3,s.fromSourceMap=function(a){var l=a.sourceRoot,u=new s({file:a.file,sourceRoot:l});return a.eachMapping(function(h){var c={generated:{line:h.generatedLine,column:h.generatedColumn}};h.source!=null&&(c.source=h.source,l!=null&&(c.source=t.relative(l,c.source)),c.original={line:h.originalLine,column:h.originalColumn},h.name!=null&&(c.name=h.name)),u.addMapping(c)}),a.sources.forEach(function(h){var c=h;l!==null&&(c=t.relative(l,h)),u._sources.has(c)||u._sources.add(c);var f=a.sourceContentFor(h);f!=null&&u.setSourceContent(h,f)}),u},s.prototype.addMapping=function(a){var l=t.getArg(a,"generated"),u=t.getArg(a,"original",null),h=t.getArg(a,"source",null),c=t.getArg(a,"name",null);this._skipValidation||this._validateMapping(l,u,h,c),h!=null&&(h=String(h),this._sources.has(h)||this._sources.add(h)),c!=null&&(c=String(c),this._names.has(c)||this._names.add(c)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:u!=null&&u.line,originalColumn:u!=null&&u.column,source:h,name:c})},s.prototype.setSourceContent=function(a,l){var u=a;this._sourceRoot!=null&&(u=t.relative(this._sourceRoot,u)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(u)]=l):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(u)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(a,l,u){var h=l;if(l==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);h=a.file}var c=this._sourceRoot;c!=null&&(h=t.relative(c,h));var f=new r,d=new r;this._mappings.unsortedForEach(function(p){if(p.source===h&&p.originalLine!=null){var m=a.originalPositionFor({line:p.originalLine,column:p.originalColumn});m.source!=null&&(p.source=m.source,u!=null&&(p.source=t.join(u,p.source)),c!=null&&(p.source=t.relative(c,p.source)),p.originalLine=m.line,p.originalColumn=m.column,m.name!=null&&(p.name=m.name))}var g=p.source;g!=null&&!f.has(g)&&f.add(g);var v=p.name;v!=null&&!d.has(v)&&d.add(v)},this),this._sources=f,this._names=d,a.sources.forEach(function(p){var m=a.sourceContentFor(p);m!=null&&(u!=null&&(p=t.join(u,p)),c!=null&&(p=t.relative(c,p)),this.setSourceContent(p,m))},this)},s.prototype._validateMapping=function(a,l,u,h){if(l&&typeof l.line!="number"&&typeof l.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!l&&!u&&!h)){if(a&&"line"in a&&"column"in a&&l&&"line"in l&&"column"in l&&a.line>0&&a.column>=0&&l.line>0&&l.column>=0&&u)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:u,original:l,name:h}))}},s.prototype._serializeMappings=function(){for(var a=0,l=1,u=0,h=0,c=0,f=0,d="",p,m,g,v,E=this._mappings.toArray(),y=0,x=E.length;y<x;y++){if(m=E[y],p="",m.generatedLine!==l)for(a=0;m.generatedLine!==l;)p+=";",l++;else if(y>0){if(!t.compareByGeneratedPositionsInflated(m,E[y-1]))continue;p+=","}p+=n.encode(m.generatedColumn-a),a=m.generatedColumn,m.source!=null&&(v=this._sources.indexOf(m.source),p+=n.encode(v-f),f=v,p+=n.encode(m.originalLine-1-h),h=m.originalLine-1,p+=n.encode(m.originalColumn-u),u=m.originalColumn,m.name!=null&&(g=this._names.indexOf(m.name),p+=n.encode(g-c),c=g)),d+=p}return d},s.prototype._generateSourcesContent=function(a,l){return a.map(function(u){if(!this._sourcesContents)return null;l!=null&&(u=t.relative(l,u));var h=t.toSetString(u);return Object.prototype.hasOwnProperty.call(this._sourcesContents,h)?this._sourcesContents[h]:null},this)},s.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},bv.SourceMapGenerator=s,bv}var Xc={},Ev={},PC;function Mie(){return PC||(PC=1,(function(n){n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2;function t(r,i,s,o,a,l){var u=Math.floor((i-r)/2)+r,h=a(s,o[u],!0);return h===0?u:h>0?i-u>1?t(u,i,s,o,a,l):l==n.LEAST_UPPER_BOUND?i<o.length?i:-1:u:u-r>1?t(r,u,s,o,a,l):l==n.LEAST_UPPER_BOUND?u:r<0?-1:r}n.search=function(i,s,o,a){if(s.length===0)return-1;var l=t(-1,s.length,i,s,o,a||n.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&o(s[l],s[l-1],!0)===0;)--l;return l}})(Ev)),Ev}var Sv={},RC;function Oie(){if(RC)return Sv;RC=1;function n(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function t(i,s){return Math.round(i+Math.random()*(s-i))}function r(i,s,o,a){if(o<a){var l=t(o,a),u=o-1;n(i,l,a);for(var h=i[a],c=o;c<a;c++)s(i[c],h)<=0&&(u+=1,n(i,u,c));n(i,u+1,c);var f=u+1;r(i,s,o,f-1),r(i,s,f+1,a)}}return Sv.quickSort=function(i,s){r(i,s,0,i.length-1)},Sv}var BC;function Lie(){if(BC)return Xc;BC=1;var n=Nf(),t=Mie(),r=TM().ArraySet,i=AM(),s=Oie().quickSort;function o(h,c){var f=h;return typeof h=="string"&&(f=n.parseSourceMapInput(h)),f.sections!=null?new u(f,c):new a(f,c)}o.fromSourceMap=function(h,c){return a.fromSourceMap(h,c)},o.prototype._version=3,o.prototype.__generatedMappings=null,Object.defineProperty(o.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),o.prototype.__originalMappings=null,Object.defineProperty(o.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),o.prototype._charIsMappingSeparator=function(c,f){var d=c.charAt(f);return d===";"||d===","},o.prototype._parseMappings=function(c,f){throw new Error("Subclasses must implement _parseMappings")},o.GENERATED_ORDER=1,o.ORIGINAL_ORDER=2,o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.prototype.eachMapping=function(c,f,d){var p=f||null,m=d||o.GENERATED_ORDER,g;switch(m){case o.GENERATED_ORDER:g=this._generatedMappings;break;case o.ORIGINAL_ORDER:g=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;g.map(function(E){var y=E.source===null?null:this._sources.at(E.source);return y=n.computeSourceURL(v,y,this._sourceMapURL),{source:y,generatedLine:E.generatedLine,generatedColumn:E.generatedColumn,originalLine:E.originalLine,originalColumn:E.originalColumn,name:E.name===null?null:this._names.at(E.name)}},this).forEach(c,p)},o.prototype.allGeneratedPositionsFor=function(c){var f=n.getArg(c,"line"),d={source:n.getArg(c,"source"),originalLine:f,originalColumn:n.getArg(c,"column",0)};if(d.source=this._findSourceIndex(d.source),d.source<0)return[];var p=[],m=this._findMapping(d,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(m>=0){var g=this._originalMappings[m];if(c.column===void 0)for(var v=g.originalLine;g&&g.originalLine===v;)p.push({line:n.getArg(g,"generatedLine",null),column:n.getArg(g,"generatedColumn",null),lastColumn:n.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++m];else for(var E=g.originalColumn;g&&g.originalLine===f&&g.originalColumn==E;)p.push({line:n.getArg(g,"generatedLine",null),column:n.getArg(g,"generatedColumn",null),lastColumn:n.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++m]}return p},Xc.SourceMapConsumer=o;function a(h,c){var f=h;typeof h=="string"&&(f=n.parseSourceMapInput(h));var d=n.getArg(f,"version"),p=n.getArg(f,"sources"),m=n.getArg(f,"names",[]),g=n.getArg(f,"sourceRoot",null),v=n.getArg(f,"sourcesContent",null),E=n.getArg(f,"mappings"),y=n.getArg(f,"file",null);if(d!=this._version)throw new Error("Unsupported version: "+d);g&&(g=n.normalize(g)),p=p.map(String).map(n.normalize).map(function(x){return g&&n.isAbsolute(g)&&n.isAbsolute(x)?n.relative(g,x):x}),this._names=r.fromArray(m.map(String),!0),this._sources=r.fromArray(p,!0),this._absoluteSources=this._sources.toArray().map(function(x){return n.computeSourceURL(g,x,c)}),this.sourceRoot=g,this.sourcesContent=v,this._mappings=E,this._sourceMapURL=c,this.file=y}a.prototype=Object.create(o.prototype),a.prototype.consumer=o,a.prototype._findSourceIndex=function(h){var c=h;if(this.sourceRoot!=null&&(c=n.relative(this.sourceRoot,c)),this._sources.has(c))return this._sources.indexOf(c);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==h)return f;return-1},a.fromSourceMap=function(c,f){var d=Object.create(a.prototype),p=d._names=r.fromArray(c._names.toArray(),!0),m=d._sources=r.fromArray(c._sources.toArray(),!0);d.sourceRoot=c._sourceRoot,d.sourcesContent=c._generateSourcesContent(d._sources.toArray(),d.sourceRoot),d.file=c._file,d._sourceMapURL=f,d._absoluteSources=d._sources.toArray().map(function(S){return n.computeSourceURL(d.sourceRoot,S,f)});for(var g=c._mappings.toArray().slice(),v=d.__generatedMappings=[],E=d.__originalMappings=[],y=0,x=g.length;y<x;y++){var b=g[y],w=new l;w.generatedLine=b.generatedLine,w.generatedColumn=b.generatedColumn,b.source&&(w.source=m.indexOf(b.source),w.originalLine=b.originalLine,w.originalColumn=b.originalColumn,b.name&&(w.name=p.indexOf(b.name)),E.push(w)),v.push(w)}return s(d.__originalMappings,n.compareByOriginalPositions),d},a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}a.prototype._parseMappings=function(c,f){for(var d=1,p=0,m=0,g=0,v=0,E=0,y=c.length,x=0,b={},w={},S=[],_=[],T,C,F,k,D;x<y;)if(c.charAt(x)===";")d++,x++,p=0;else if(c.charAt(x)===",")x++;else{for(T=new l,T.generatedLine=d,k=x;k<y&&!this._charIsMappingSeparator(c,k);k++);if(C=c.slice(x,k),F=b[C],F)x+=C.length;else{for(F=[];x<k;)i.decode(c,x,w),D=w.value,x=w.rest,F.push(D);if(F.length===2)throw new Error("Found a source, but no line and column");if(F.length===3)throw new Error("Found a source and line, but no column");b[C]=F}T.generatedColumn=p+F[0],p=T.generatedColumn,F.length>1&&(T.source=v+F[1],v+=F[1],T.originalLine=m+F[2],m=T.originalLine,T.originalLine+=1,T.originalColumn=g+F[3],g=T.originalColumn,F.length>4&&(T.name=E+F[4],E+=F[4])),_.push(T),typeof T.originalLine=="number"&&S.push(T)}s(_,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=_,s(S,n.compareByOriginalPositions),this.__originalMappings=S},a.prototype._findMapping=function(c,f,d,p,m,g){if(c[d]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+c[d]);if(c[p]<0)throw new TypeError("Column must be greater than or equal to 0, got "+c[p]);return t.search(c,f,m,g)},a.prototype.computeColumnSpans=function(){for(var c=0;c<this._generatedMappings.length;++c){var f=this._generatedMappings[c];if(c+1<this._generatedMappings.length){var d=this._generatedMappings[c+1];if(f.generatedLine===d.generatedLine){f.lastGeneratedColumn=d.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},a.prototype.originalPositionFor=function(c){var f={generatedLine:n.getArg(c,"line"),generatedColumn:n.getArg(c,"column")},d=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(c,"bias",o.GREATEST_LOWER_BOUND));if(d>=0){var p=this._generatedMappings[d];if(p.generatedLine===f.generatedLine){var m=n.getArg(p,"source",null);m!==null&&(m=this._sources.at(m),m=n.computeSourceURL(this.sourceRoot,m,this._sourceMapURL));var g=n.getArg(p,"name",null);return g!==null&&(g=this._names.at(g)),{source:m,line:n.getArg(p,"originalLine",null),column:n.getArg(p,"originalColumn",null),name:g}}}return{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(c){return c==null}):!1},a.prototype.sourceContentFor=function(c,f){if(!this.sourcesContent)return null;var d=this._findSourceIndex(c);if(d>=0)return this.sourcesContent[d];var p=c;this.sourceRoot!=null&&(p=n.relative(this.sourceRoot,p));var m;if(this.sourceRoot!=null&&(m=n.urlParse(this.sourceRoot))){var g=p.replace(/^file:\/\//,"");if(m.scheme=="file"&&this._sources.has(g))return this.sourcesContent[this._sources.indexOf(g)];if((!m.path||m.path=="/")&&this._sources.has("/"+p))return this.sourcesContent[this._sources.indexOf("/"+p)]}if(f)return null;throw new Error('"'+p+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(c){var f=n.getArg(c,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var d={source:f,originalLine:n.getArg(c,"line"),originalColumn:n.getArg(c,"column")},p=this._findMapping(d,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(c,"bias",o.GREATEST_LOWER_BOUND));if(p>=0){var m=this._originalMappings[p];if(m.source===d.source)return{line:n.getArg(m,"generatedLine",null),column:n.getArg(m,"generatedColumn",null),lastColumn:n.getArg(m,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Xc.BasicSourceMapConsumer=a;function u(h,c){var f=h;typeof h=="string"&&(f=n.parseSourceMapInput(h));var d=n.getArg(f,"version"),p=n.getArg(f,"sections");if(d!=this._version)throw new Error("Unsupported version: "+d);this._sources=new r,this._names=new r;var m={line:-1,column:0};this._sections=p.map(function(g){if(g.url)throw new Error("Support for url field in sections not implemented.");var v=n.getArg(g,"offset"),E=n.getArg(v,"line"),y=n.getArg(v,"column");if(E<m.line||E===m.line&&y<m.column)throw new Error("Section offsets must be ordered and non-overlapping.");return m=v,{generatedOffset:{generatedLine:E+1,generatedColumn:y+1},consumer:new o(n.getArg(g,"map"),c)}})}return u.prototype=Object.create(o.prototype),u.prototype.constructor=o,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var h=[],c=0;c<this._sections.length;c++)for(var f=0;f<this._sections[c].consumer.sources.length;f++)h.push(this._sections[c].consumer.sources[f]);return h}}),u.prototype.originalPositionFor=function(c){var f={generatedLine:n.getArg(c,"line"),generatedColumn:n.getArg(c,"column")},d=t.search(f,this._sections,function(m,g){var v=m.generatedLine-g.generatedOffset.generatedLine;return v||m.generatedColumn-g.generatedOffset.generatedColumn}),p=this._sections[d];return p?p.consumer.originalPositionFor({line:f.generatedLine-(p.generatedOffset.generatedLine-1),column:f.generatedColumn-(p.generatedOffset.generatedLine===f.generatedLine?p.generatedOffset.generatedColumn-1:0),bias:c.bias}):{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(c){return c.consumer.hasContentsOfAllSources()})},u.prototype.sourceContentFor=function(c,f){for(var d=0;d<this._sections.length;d++){var p=this._sections[d],m=p.consumer.sourceContentFor(c,!0);if(m)return m}if(f)return null;throw new Error('"'+c+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(c){for(var f=0;f<this._sections.length;f++){var d=this._sections[f];if(d.consumer._findSourceIndex(n.getArg(c,"source"))!==-1){var p=d.consumer.generatedPositionFor(c);if(p){var m={line:p.line+(d.generatedOffset.generatedLine-1),column:p.column+(d.generatedOffset.generatedLine===p.line?d.generatedOffset.generatedColumn-1:0)};return m}}}return{line:null,column:null}},u.prototype._parseMappings=function(c,f){this.__generatedMappings=[],this.__originalMappings=[];for(var d=0;d<this._sections.length;d++)for(var p=this._sections[d],m=p.consumer._generatedMappings,g=0;g<m.length;g++){var v=m[g],E=p.consumer._sources.at(v.source);E=n.computeSourceURL(p.consumer.sourceRoot,E,this._sourceMapURL),this._sources.add(E),E=this._sources.indexOf(E);var y=null;v.name&&(y=p.consumer._names.at(v.name),this._names.add(y),y=this._names.indexOf(y));var x={source:E,generatedLine:v.generatedLine+(p.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(p.generatedOffset.generatedLine===v.generatedLine?p.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:y};this.__generatedMappings.push(x),typeof x.originalLine=="number"&&this.__originalMappings.push(x)}s(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),s(this.__originalMappings,n.compareByOriginalPositions)},Xc.IndexedSourceMapConsumer=u,Xc}var Cv={},UC;function Pie(){if(UC)return Cv;UC=1;var n=IM().SourceMapGenerator,t=Nf(),r=/(\r?\n)/,i=10,s="$$$isSourceNode$$$";function o(a,l,u,h,c){this.children=[],this.sourceContents={},this.line=a??null,this.column=l??null,this.source=u??null,this.name=c??null,this[s]=!0,h!=null&&this.add(h)}return o.fromStringWithSourceMap=function(l,u,h){var c=new o,f=l.split(r),d=0,p=function(){var y=b(),x=b()||"";return y+x;function b(){return d<f.length?f[d++]:void 0}},m=1,g=0,v=null;return u.eachMapping(function(y){if(v!==null)if(m<y.generatedLine)E(v,p()),m++,g=0;else{var x=f[d]||"",b=x.substr(0,y.generatedColumn-g);f[d]=x.substr(y.generatedColumn-g),g=y.generatedColumn,E(v,b),v=y;return}for(;m<y.generatedLine;)c.add(p()),m++;if(g<y.generatedColumn){var x=f[d]||"";c.add(x.substr(0,y.generatedColumn)),f[d]=x.substr(y.generatedColumn),g=y.generatedColumn}v=y},this),d<f.length&&(v&&E(v,p()),c.add(f.splice(d).join(""))),u.sources.forEach(function(y){var x=u.sourceContentFor(y);x!=null&&(h!=null&&(y=t.join(h,y)),c.setSourceContent(y,x))}),c;function E(y,x){if(y===null||y.source===void 0)c.add(x);else{var b=h?t.join(h,y.source):y.source;c.add(new o(y.originalLine,y.originalColumn,b,x,y.name))}}},o.prototype.add=function(l){if(Array.isArray(l))l.forEach(function(u){this.add(u)},this);else if(l[s]||typeof l=="string")l&&this.children.push(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},o.prototype.prepend=function(l){if(Array.isArray(l))for(var u=l.length-1;u>=0;u--)this.prepend(l[u]);else if(l[s]||typeof l=="string")this.children.unshift(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},o.prototype.walk=function(l){for(var u,h=0,c=this.children.length;h<c;h++)u=this.children[h],u[s]?u.walk(l):u!==""&&l(u,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(l){var u,h,c=this.children.length;if(c>0){for(u=[],h=0;h<c-1;h++)u.push(this.children[h]),u.push(l);u.push(this.children[h]),this.children=u}return this},o.prototype.replaceRight=function(l,u){var h=this.children[this.children.length-1];return h[s]?h.replaceRight(l,u):typeof h=="string"?this.children[this.children.length-1]=h.replace(l,u):this.children.push("".replace(l,u)),this},o.prototype.setSourceContent=function(l,u){this.sourceContents[t.toSetString(l)]=u},o.prototype.walkSourceContents=function(l){for(var u=0,h=this.children.length;u<h;u++)this.children[u][s]&&this.children[u].walkSourceContents(l);for(var c=Object.keys(this.sourceContents),u=0,h=c.length;u<h;u++)l(t.fromSetString(c[u]),this.sourceContents[c[u]])},o.prototype.toString=function(){var l="";return this.walk(function(u){l+=u}),l},o.prototype.toStringWithSourceMap=function(l){var u={code:"",line:1,column:0},h=new n(l),c=!1,f=null,d=null,p=null,m=null;return this.walk(function(g,v){u.code+=g,v.source!==null&&v.line!==null&&v.column!==null?((f!==v.source||d!==v.line||p!==v.column||m!==v.name)&&h.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:u.line,column:u.column},name:v.name}),f=v.source,d=v.line,p=v.column,m=v.name,c=!0):c&&(h.addMapping({generated:{line:u.line,column:u.column}}),f=null,c=!1);for(var E=0,y=g.length;E<y;E++)g.charCodeAt(E)===i?(u.line++,u.column=0,E+1===y?(f=null,c=!1):c&&h.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:u.line,column:u.column},name:v.name})):u.column++}),this.walkSourceContents(function(g,v){h.setSourceContent(g,v)}),{code:u.code,map:h}},Cv.SourceNode=o,Cv}var VC;function Rie(){return VC||(VC=1,Wc.SourceMapGenerator=IM().SourceMapGenerator,Wc.SourceMapConsumer=Lie().SourceMapConsumer,Wc.SourceNode=Pie().SourceNode),Wc}const Bie="2.1.0",Uie={version:Bie};var $C;function Vie(){return $C||($C=1,(function(n){(function(){var t,r,i,s,o,a,l,u,h,c,f,d,p,m,g,v,E,y,x,b,w,S,_,T,C,F;o=Tie(),a=Nie(),t=o.Syntax;function k(O){return me.Expression.hasOwnProperty(O.type)}function D(O){return me.Statement.hasOwnProperty(O.type)}r={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},i={"??":r.Coalesce,"||":r.LogicalOR,"&&":r.LogicalAND,"|":r.BitwiseOR,"^":r.BitwiseXOR,"&":r.BitwiseAND,"==":r.Equality,"!=":r.Equality,"===":r.Equality,"!==":r.Equality,is:r.Equality,isnt:r.Equality,"<":r.Relational,">":r.Relational,"<=":r.Relational,">=":r.Relational,in:r.Relational,instanceof:r.Relational,"<<":r.BitwiseSHIFT,">>":r.BitwiseSHIFT,">>>":r.BitwiseSHIFT,"+":r.Additive,"-":r.Additive,"*":r.Multiplicative,"%":r.Multiplicative,"/":r.Multiplicative,"**":r.Exponentiation};var N=1,M=2,U=4,B=8,W=16,Z=32,fe=64,Q=M|U,J=N|M,ae=N|M|U,be=N,ee=U,K=N|U,xe=N,ie=N|Z,ge=0,z=N|W,se=N|B;function ye(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Ce(O,H){var j="";for(H|=0;H>0;H>>>=1,O+=O)H&1&&(j+=O);return j}function $(O){return/[\r\n]/g.test(O)}function q(O){var H=O.length;return H&&a.code.isLineTerminator(O.charCodeAt(H-1))}function te(O,H){var j;for(j in H)H.hasOwnProperty(j)&&(O[j]=H[j]);return O}function Ae(O,H){var j,G;function de($e){return typeof $e=="object"&&$e instanceof Object&&!($e instanceof RegExp)}for(j in H)H.hasOwnProperty(j)&&(G=H[j],de(G)?de(O[j])?Ae(O[j],G):O[j]=Ae({},G):O[j]=G);return O}function _e(O){var H,j,G,de,$e;if(O!==O)throw new Error("Numeric literal whose value is NaN");if(O<0||O===0&&1/O<0)throw new Error("Numeric literal whose value is negative");if(O===1/0)return h?"null":c?"1e400":"1e+400";if(H=""+O,!c||H.length<3)return H;for(j=H.indexOf("."),!h&&H.charCodeAt(0)===48&&j===1&&(j=0,H=H.slice(1)),G=H,H=H.replace("e+","e"),de=0,($e=G.indexOf("e"))>0&&(de=+G.slice($e+1),G=G.slice(0,$e)),j>=0&&(de-=G.length-j-1,G=+(G.slice(0,j)+G.slice(j+1))+""),$e=0;G.charCodeAt(G.length+$e-1)===48;)--$e;return $e!==0&&(de-=$e,G=G.slice(0,$e)),de!==0&&(G+="e"+de),(G.length<H.length||f&&O>1e12&&Math.floor(O)===O&&(G="0x"+O.toString(16)).length<H.length)&&+G===O&&(H=G),H}function Ee(O,H){return(O&-2)===8232?(H?"u":"\\u")+(O===8232?"2028":"2029"):O===10||O===13?(H?"":"\\")+(O===10?"n":"r"):String.fromCharCode(O)}function pe(O){var H,j,G,de,$e,He,tt,pt;if(j=O.toString(),O.source){if(H=j.match(/\/([^/]*)$/),!H)return j;for(G=H[1],j="",tt=!1,pt=!1,de=0,$e=O.source.length;de<$e;++de)He=O.source.charCodeAt(de),pt?(j+=Ee(He,pt),pt=!1):(tt?He===93&&(tt=!1):He===47?j+="\\":He===91&&(tt=!0),j+=Ee(He,pt),pt=He===92);return"/"+j+"/"+G}return j}function ve(O,H){var j;return O===8?"\\b":O===12?"\\f":O===9?"\\t":(j=O.toString(16).toUpperCase(),h||O>255?"\\u"+"0000".slice(j.length)+j:O===0&&!a.code.isDecimalDigit(H)?"\\0":O===11?"\\x0B":"\\x"+"00".slice(j.length)+j)}function De(O){if(O===92)return"\\\\";if(O===10)return"\\n";if(O===13)return"\\r";if(O===8232)return"\\u2028";if(O===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function Me(O){var H,j,G,de;for(de=d==="double"?'"':"'",H=0,j=O.length;H<j;++H)if(G=O.charCodeAt(H),G===39){de='"';break}else if(G===34){de="'";break}else G===92&&++H;return de+O+de}function R(O){var H="",j,G,de,$e=0,He=0,tt,pt;for(j=0,G=O.length;j<G;++j){if(de=O.charCodeAt(j),de===39)++$e;else if(de===34)++He;else if(de===47&&h)H+="\\";else if(a.code.isLineTerminator(de)||de===92){H+=De(de);continue}else if(!a.code.isIdentifierPartES5(de)&&(h&&de<32||!h&&!p&&(de<32||de>126))){H+=ve(de,O.charCodeAt(j+1));continue}H+=String.fromCharCode(de)}if(tt=!(d==="double"||d==="auto"&&He<$e),pt=tt?"'":'"',!(tt?$e:He))return pt+H+pt;for(O=H,H=pt,j=0,G=O.length;j<G;++j)de=O.charCodeAt(j),(de===39&&tt||de===34&&!tt)&&(H+="\\"),H+=String.fromCharCode(de);return H+pt}function Ve(O){var H,j,G,de="";for(H=0,j=O.length;H<j;++H)G=O[H],de+=Array.isArray(G)?Ve(G):G;return de}function Le(O,H){if(!S)return Array.isArray(O)?Ve(O):O;if(H==null){if(O instanceof s)return O;H={}}return H.loc==null?new s(null,null,S,O,H.name||null):new s(H.loc.start.line,H.loc.start.column,S===!0?H.loc.source||null:S,O,H.name||null)}function Qe(){return g||" "}function We(O,H){var j,G,de,$e;return j=Le(O).toString(),j.length===0?[H]:(G=Le(H).toString(),G.length===0?[O]:(de=j.charCodeAt(j.length-1),$e=G.charCodeAt(0),(de===43||de===45)&&de===$e||a.code.isIdentifierPartES5(de)&&a.code.isIdentifierPartES5($e)||de===47&&$e===105?[O,Qe(),H]:a.code.isWhiteSpace(de)||a.code.isLineTerminator(de)||a.code.isWhiteSpace($e)||a.code.isLineTerminator($e)?[O,H]:[O,g,H]))}function gt(O){return[l,O]}function Se(O){var H;H=l,l+=u,O(l),l=H}function Ne(O){var H;for(H=O.length-1;H>=0&&!a.code.isLineTerminator(O.charCodeAt(H));--H);return O.length-1-H}function Pe(O,H){var j,G,de,$e,He,tt,pt,Qt;for(j=O.split(/\r\n|[\r\n]/),tt=Number.MAX_VALUE,G=1,de=j.length;G<de;++G){for($e=j[G],He=0;He<$e.length&&a.code.isWhiteSpace($e.charCodeAt(He));)++He;tt>He&&(tt=He)}for(typeof H<"u"?(pt=l,j[1][tt]==="*"&&(H+=" "),l=H):(tt&1&&--tt,pt=l),G=1,de=j.length;G<de;++G)Qt=Le(gt(j[G].slice(tt))),j[G]=S?Qt.join(""):Qt;return l=pt,j.join(`
`)}function je(O,H){if(O.type==="Line"){if(q(O.value))return"//"+O.value;var j="//"+O.value;return T||(j+=`
`),j}return b.format.indent.adjustMultilineComment&&/[\n\r]/.test(O.value)?Pe("/*"+O.value+"*/",H):"/*"+O.value+"*/"}function Ue(O,H){var j,G,de,$e,He,tt,pt,Qt,en,Bn,lr,Nr,mt,ei;if(O.leadingComments&&O.leadingComments.length>0){if($e=H,T){for(de=O.leadingComments[0],H=[],Qt=de.extendedRange,en=de.range,lr=_.substring(Qt[0],en[0]),ei=(lr.match(/\n/g)||[]).length,ei>0?(H.push(Ce(`
`,ei)),H.push(gt(je(de)))):(H.push(lr),H.push(je(de))),Bn=en,j=1,G=O.leadingComments.length;j<G;j++)de=O.leadingComments[j],en=de.range,Nr=_.substring(Bn[1],en[0]),ei=(Nr.match(/\n/g)||[]).length,H.push(Ce(`
`,ei)),H.push(gt(je(de))),Bn=en;mt=_.substring(en[1],Qt[1]),ei=(mt.match(/\n/g)||[]).length,H.push(Ce(`
`,ei))}else for(de=O.leadingComments[0],H=[],y&&O.type===t.Program&&O.body.length===0&&H.push(`
`),H.push(je(de)),q(Le(H).toString())||H.push(`
`),j=1,G=O.leadingComments.length;j<G;++j)de=O.leadingComments[j],pt=[je(de)],q(Le(pt).toString())||pt.push(`
`),H.push(gt(pt));H.push(gt($e))}if(O.trailingComments)if(T)de=O.trailingComments[0],Qt=de.extendedRange,en=de.range,lr=_.substring(Qt[0],en[0]),ei=(lr.match(/\n/g)||[]).length,ei>0?(H.push(Ce(`
`,ei)),H.push(gt(je(de)))):(H.push(lr),H.push(je(de)));else for(He=!q(Le(H).toString()),tt=Ce(" ",Ne(Le([l,H,u]).toString())),j=0,G=O.trailingComments.length;j<G;++j)de=O.trailingComments[j],He?(j===0?H=[H,u]:H=[H,tt],H.push(je(de,tt))):H=[H,gt(je(de))],j!==G-1&&!q(Le(H).toString())&&(H=[H,`
`]);return H}function L(O,H,j){var G,de=0;for(G=O;G<H;G++)_[G]===`
`&&de++;for(G=1;G<de;G++)j.push(m)}function V(O,H,j){return H<j?["(",O,")"]:O}function ne(O){var H,j,G;for(G=O.split(/\r\n|\n/),H=1,j=G.length;H<j;H++)G[H]=m+l+G[H];return G}function he(O,H){var j,G,de;return j=O[b.verbatim],typeof j=="string"?G=V(ne(j),r.Sequence,H):(G=ne(j.content),de=j.precedence!=null?j.precedence:r.Sequence,G=V(G,de,H)),Le(G,O)}function me(){}me.prototype.maybeBlock=function(O,H){var j,G,de=this;return G=!b.comment||!O.leadingComments,O.type===t.BlockStatement&&G?[g,this.generateStatement(O,H)]:O.type===t.EmptyStatement&&G?";":(Se(function(){j=[m,gt(de.generateStatement(O,H))]}),j)},me.prototype.maybeBlockSuffix=function(O,H){var j=q(Le(H).toString());return O.type===t.BlockStatement&&(!b.comment||!O.leadingComments)&&!j?[H,g]:j?[H,l]:[H,m,l]};function Ie(O){return Le(O.name,O)}function Te(O,H){return O.async?"async"+(H?Qe():g):""}function qe(O){var H=O.generator&&!b.moz.starlessGenerator;return H?"*"+g:""}function et(O){var H=O.value,j="";return H.async&&(j+=Te(H,!O.computed)),H.generator&&(j+=qe(H)?"*":""),j}me.prototype.generatePattern=function(O,H,j){return O.type===t.Identifier?Ie(O):this.generateExpression(O,H,j)},me.prototype.generateFunctionParams=function(O){var H,j,G,de;if(de=!1,O.type===t.ArrowFunctionExpression&&!O.rest&&(!O.defaults||O.defaults.length===0)&&O.params.length===1&&O.params[0].type===t.Identifier)G=[Te(O,!0),Ie(O.params[0])];else{for(G=O.type===t.ArrowFunctionExpression?[Te(O,!1)]:[],G.push("("),O.defaults&&(de=!0),H=0,j=O.params.length;H<j;++H)de&&O.defaults[H]?G.push(this.generateAssignment(O.params[H],O.defaults[H],"=",r.Assignment,ae)):G.push(this.generatePattern(O.params[H],r.Assignment,ae)),H+1<j&&G.push(","+g);O.rest&&(O.params.length&&G.push(","+g),G.push("..."),G.push(Ie(O.rest))),G.push(")")}return G},me.prototype.generateFunctionBody=function(O){var H,j;return H=this.generateFunctionParams(O),O.type===t.ArrowFunctionExpression&&(H.push(g),H.push("=>")),O.expression?(H.push(g),j=this.generateExpression(O.body,r.Assignment,ae),j.toString().charAt(0)==="{"&&(j=["(",j,")"]),H.push(j)):H.push(this.maybeBlock(O.body,se)),H},me.prototype.generateIterationForStatement=function(O,H,j){var G=["for"+(H.await?Qe()+"await":"")+g+"("],de=this;return Se(function(){H.left.type===t.VariableDeclaration?Se(function(){G.push(H.left.kind+Qe()),G.push(de.generateStatement(H.left.declarations[0],ge))}):G.push(de.generateExpression(H.left,r.Call,ae)),G=We(G,O),G=[We(G,de.generateExpression(H.right,r.Assignment,ae)),")"]}),G.push(this.maybeBlock(H.body,j)),G},me.prototype.generatePropertyKey=function(O,H){var j=[];return H&&j.push("["),j.push(this.generateExpression(O,r.Assignment,ae)),H&&j.push("]"),j},me.prototype.generateAssignment=function(O,H,j,G,de){return r.Assignment<G&&(de|=N),V([this.generateExpression(O,r.Call,de),g+j+g,this.generateExpression(H,r.Assignment,de)],r.Assignment,G)},me.prototype.semicolon=function(O){return!E&&O&Z?"":";"},me.Statement={BlockStatement:function(O,H){var j,G,de=["{",m],$e=this;return Se(function(){O.body.length===0&&T&&(j=O.range,j[1]-j[0]>2&&(G=_.substring(j[0]+1,j[1]-1),G[0]===`
`&&(de=["{"]),de.push(G)));var He,tt,pt,Qt;for(Qt=xe,H&B&&(Qt|=W),He=0,tt=O.body.length;He<tt;++He)T&&(He===0&&(O.body[0].leadingComments&&(j=O.body[0].leadingComments[0].extendedRange,G=_.substring(j[0],j[1]),G[0]===`
`&&(de=["{"])),O.body[0].leadingComments||L(O.range[0],O.body[0].range[0],de)),He>0&&!O.body[He-1].trailingComments&&!O.body[He].leadingComments&&L(O.body[He-1].range[1],O.body[He].range[0],de)),He===tt-1&&(Qt|=Z),O.body[He].leadingComments&&T?pt=$e.generateStatement(O.body[He],Qt):pt=gt($e.generateStatement(O.body[He],Qt)),de.push(pt),q(Le(pt).toString())||T&&He<tt-1&&O.body[He+1].leadingComments||de.push(m),T&&He===tt-1&&(O.body[He].trailingComments||L(O.body[He].range[1],O.range[1],de))}),de.push(gt("}")),de},BreakStatement:function(O,H){return O.label?"break "+O.label.name+this.semicolon(H):"break"+this.semicolon(H)},ContinueStatement:function(O,H){return O.label?"continue "+O.label.name+this.semicolon(H):"continue"+this.semicolon(H)},ClassBody:function(O,H){var j=["{",m],G=this;return Se(function(de){var $e,He;for($e=0,He=O.body.length;$e<He;++$e)j.push(de),j.push(G.generateExpression(O.body[$e],r.Sequence,ae)),$e+1<He&&j.push(m)}),q(Le(j).toString())||j.push(m),j.push(l),j.push("}"),j},ClassDeclaration:function(O,H){var j,G;return j=["class"],O.id&&(j=We(j,this.generateExpression(O.id,r.Sequence,ae))),O.superClass&&(G=We("extends",this.generateExpression(O.superClass,r.Unary,ae)),j=We(j,G)),j.push(g),j.push(this.generateStatement(O.body,ie)),j},DirectiveStatement:function(O,H){return b.raw&&O.raw?O.raw+this.semicolon(H):Me(O.directive)+this.semicolon(H)},DoWhileStatement:function(O,H){var j=We("do",this.maybeBlock(O.body,xe));return j=this.maybeBlockSuffix(O.body,j),We(j,["while"+g+"(",this.generateExpression(O.test,r.Sequence,ae),")"+this.semicolon(H)])},CatchClause:function(O,H){var j,G=this;return Se(function(){var de;O.param?(j=["catch"+g+"(",G.generateExpression(O.param,r.Sequence,ae),")"],O.guard&&(de=G.generateExpression(O.guard,r.Sequence,ae),j.splice(2,0," if ",de))):j=["catch"]}),j.push(this.maybeBlock(O.body,xe)),j},DebuggerStatement:function(O,H){return"debugger"+this.semicolon(H)},EmptyStatement:function(O,H){return";"},ExportDefaultDeclaration:function(O,H){var j=["export"],G;return G=H&Z?ie:xe,j=We(j,"default"),D(O.declaration)?j=We(j,this.generateStatement(O.declaration,G)):j=We(j,this.generateExpression(O.declaration,r.Assignment,ae)+this.semicolon(H)),j},ExportNamedDeclaration:function(O,H){var j=["export"],G,de=this;return G=H&Z?ie:xe,O.declaration?We(j,this.generateStatement(O.declaration,G)):(O.specifiers&&(O.specifiers.length===0?j=We(j,"{"+g+"}"):O.specifiers[0].type===t.ExportBatchSpecifier?j=We(j,this.generateExpression(O.specifiers[0],r.Sequence,ae)):(j=We(j,"{"),Se(function($e){var He,tt;for(j.push(m),He=0,tt=O.specifiers.length;He<tt;++He)j.push($e),j.push(de.generateExpression(O.specifiers[He],r.Sequence,ae)),He+1<tt&&j.push(","+m)}),q(Le(j).toString())||j.push(m),j.push(l+"}")),O.source?j=We(j,["from"+g,this.generateExpression(O.source,r.Sequence,ae),this.semicolon(H)]):j.push(this.semicolon(H))),j)},ExportAllDeclaration:function(O,H){return["export"+g,"*"+g,"from"+g,this.generateExpression(O.source,r.Sequence,ae),this.semicolon(H)]},ExpressionStatement:function(O,H){var j,G;function de(tt){var pt;return tt.slice(0,5)!=="class"?!1:(pt=tt.charCodeAt(5),pt===123||a.code.isWhiteSpace(pt)||a.code.isLineTerminator(pt))}function $e(tt){var pt;return tt.slice(0,8)!=="function"?!1:(pt=tt.charCodeAt(8),pt===40||a.code.isWhiteSpace(pt)||pt===42||a.code.isLineTerminator(pt))}function He(tt){var pt,Qt,en;if(tt.slice(0,5)!=="async"||!a.code.isWhiteSpace(tt.charCodeAt(5)))return!1;for(Qt=6,en=tt.length;Qt<en&&a.code.isWhiteSpace(tt.charCodeAt(Qt));++Qt);return Qt===en||tt.slice(Qt,Qt+8)!=="function"?!1:(pt=tt.charCodeAt(Qt+8),pt===40||a.code.isWhiteSpace(pt)||pt===42||a.code.isLineTerminator(pt))}return j=[this.generateExpression(O.expression,r.Sequence,ae)],G=Le(j).toString(),G.charCodeAt(0)===123||de(G)||$e(G)||He(G)||x&&H&W&&O.expression.type===t.Literal&&typeof O.expression.value=="string"?j=["(",j,")"+this.semicolon(H)]:j.push(this.semicolon(H)),j},ImportDeclaration:function(O,H){var j,G,de=this;return O.specifiers.length===0?["import",g,this.generateExpression(O.source,r.Sequence,ae),this.semicolon(H)]:(j=["import"],G=0,O.specifiers[G].type===t.ImportDefaultSpecifier&&(j=We(j,[this.generateExpression(O.specifiers[G],r.Sequence,ae)]),++G),O.specifiers[G]&&(G!==0&&j.push(","),O.specifiers[G].type===t.ImportNamespaceSpecifier?j=We(j,[g,this.generateExpression(O.specifiers[G],r.Sequence,ae)]):(j.push(g+"{"),O.specifiers.length-G===1?(j.push(g),j.push(this.generateExpression(O.specifiers[G],r.Sequence,ae)),j.push(g+"}"+g)):(Se(function($e){var He,tt;for(j.push(m),He=G,tt=O.specifiers.length;He<tt;++He)j.push($e),j.push(de.generateExpression(O.specifiers[He],r.Sequence,ae)),He+1<tt&&j.push(","+m)}),q(Le(j).toString())||j.push(m),j.push(l+"}"+g)))),j=We(j,["from"+g,this.generateExpression(O.source,r.Sequence,ae),this.semicolon(H)]),j)},VariableDeclarator:function(O,H){var j=H&N?ae:Q;return O.init?[this.generateExpression(O.id,r.Assignment,j),g,"=",g,this.generateExpression(O.init,r.Assignment,j)]:this.generatePattern(O.id,r.Assignment,j)},VariableDeclaration:function(O,H){var j,G,de,$e,He,tt=this;j=[O.kind],He=H&N?xe:ge;function pt(){for($e=O.declarations[0],b.comment&&$e.leadingComments?(j.push(`
`),j.push(gt(tt.generateStatement($e,He)))):(j.push(Qe()),j.push(tt.generateStatement($e,He))),G=1,de=O.declarations.length;G<de;++G)$e=O.declarations[G],b.comment&&$e.leadingComments?(j.push(","+m),j.push(gt(tt.generateStatement($e,He)))):(j.push(","+g),j.push(tt.generateStatement($e,He)))}return O.declarations.length>1?Se(pt):pt(),j.push(this.semicolon(H)),j},ThrowStatement:function(O,H){return[We("throw",this.generateExpression(O.argument,r.Sequence,ae)),this.semicolon(H)]},TryStatement:function(O,H){var j,G,de,$e;if(j=["try",this.maybeBlock(O.block,xe)],j=this.maybeBlockSuffix(O.block,j),O.handlers)for(G=0,de=O.handlers.length;G<de;++G)j=We(j,this.generateStatement(O.handlers[G],xe)),(O.finalizer||G+1!==de)&&(j=this.maybeBlockSuffix(O.handlers[G].body,j));else{for($e=O.guardedHandlers||[],G=0,de=$e.length;G<de;++G)j=We(j,this.generateStatement($e[G],xe)),(O.finalizer||G+1!==de)&&(j=this.maybeBlockSuffix($e[G].body,j));if(O.handler)if(Array.isArray(O.handler))for(G=0,de=O.handler.length;G<de;++G)j=We(j,this.generateStatement(O.handler[G],xe)),(O.finalizer||G+1!==de)&&(j=this.maybeBlockSuffix(O.handler[G].body,j));else j=We(j,this.generateStatement(O.handler,xe)),O.finalizer&&(j=this.maybeBlockSuffix(O.handler.body,j))}return O.finalizer&&(j=We(j,["finally",this.maybeBlock(O.finalizer,xe)])),j},SwitchStatement:function(O,H){var j,G,de,$e,He,tt=this;if(Se(function(){j=["switch"+g+"(",tt.generateExpression(O.discriminant,r.Sequence,ae),")"+g+"{"+m]}),O.cases)for(He=xe,de=0,$e=O.cases.length;de<$e;++de)de===$e-1&&(He|=Z),G=gt(this.generateStatement(O.cases[de],He)),j.push(G),q(Le(G).toString())||j.push(m);return j.push(gt("}")),j},SwitchCase:function(O,H){var j,G,de,$e,He,tt=this;return Se(function(){for(O.test?j=[We("case",tt.generateExpression(O.test,r.Sequence,ae)),":"]:j=["default:"],de=0,$e=O.consequent.length,$e&&O.consequent[0].type===t.BlockStatement&&(G=tt.maybeBlock(O.consequent[0],xe),j.push(G),de=1),de!==$e&&!q(Le(j).toString())&&j.push(m),He=xe;de<$e;++de)de===$e-1&&H&Z&&(He|=Z),G=gt(tt.generateStatement(O.consequent[de],He)),j.push(G),de+1!==$e&&!q(Le(G).toString())&&j.push(m)}),j},IfStatement:function(O,H){var j,G,de,$e=this;return Se(function(){j=["if"+g+"(",$e.generateExpression(O.test,r.Sequence,ae),")"]}),de=H&Z,G=xe,de&&(G|=Z),O.alternate?(j.push(this.maybeBlock(O.consequent,xe)),j=this.maybeBlockSuffix(O.consequent,j),O.alternate.type===t.IfStatement?j=We(j,["else ",this.generateStatement(O.alternate,G)]):j=We(j,We("else",this.maybeBlock(O.alternate,G)))):j.push(this.maybeBlock(O.consequent,G)),j},ForStatement:function(O,H){var j,G=this;return Se(function(){j=["for"+g+"("],O.init?O.init.type===t.VariableDeclaration?j.push(G.generateStatement(O.init,ge)):(j.push(G.generateExpression(O.init,r.Sequence,Q)),j.push(";")):j.push(";"),O.test&&(j.push(g),j.push(G.generateExpression(O.test,r.Sequence,ae))),j.push(";"),O.update&&(j.push(g),j.push(G.generateExpression(O.update,r.Sequence,ae))),j.push(")")}),j.push(this.maybeBlock(O.body,H&Z?ie:xe)),j},ForInStatement:function(O,H){return this.generateIterationForStatement("in",O,H&Z?ie:xe)},ForOfStatement:function(O,H){return this.generateIterationForStatement("of",O,H&Z?ie:xe)},LabeledStatement:function(O,H){return[O.label.name+":",this.maybeBlock(O.body,H&Z?ie:xe)]},Program:function(O,H){var j,G,de,$e,He;for($e=O.body.length,j=[y&&$e>0?`
`:""],He=z,de=0;de<$e;++de)!y&&de===$e-1&&(He|=Z),T&&(de===0&&(O.body[0].leadingComments||L(O.range[0],O.body[de].range[0],j)),de>0&&!O.body[de-1].trailingComments&&!O.body[de].leadingComments&&L(O.body[de-1].range[1],O.body[de].range[0],j)),G=gt(this.generateStatement(O.body[de],He)),j.push(G),de+1<$e&&!q(Le(G).toString())&&(T&&O.body[de+1].leadingComments||j.push(m)),T&&de===$e-1&&(O.body[de].trailingComments||L(O.body[de].range[1],O.range[1],j));return j},FunctionDeclaration:function(O,H){return[Te(O,!0),"function",qe(O)||Qe(),O.id?Ie(O.id):"",this.generateFunctionBody(O)]},ReturnStatement:function(O,H){return O.argument?[We("return",this.generateExpression(O.argument,r.Sequence,ae)),this.semicolon(H)]:["return"+this.semicolon(H)]},WhileStatement:function(O,H){var j,G=this;return Se(function(){j=["while"+g+"(",G.generateExpression(O.test,r.Sequence,ae),")"]}),j.push(this.maybeBlock(O.body,H&Z?ie:xe)),j},WithStatement:function(O,H){var j,G=this;return Se(function(){j=["with"+g+"(",G.generateExpression(O.object,r.Sequence,ae),")"]}),j.push(this.maybeBlock(O.body,H&Z?ie:xe)),j}},te(me.prototype,me.Statement),me.Expression={SequenceExpression:function(O,H,j){var G,de,$e;for(r.Sequence<H&&(j|=N),G=[],de=0,$e=O.expressions.length;de<$e;++de)G.push(this.generateExpression(O.expressions[de],r.Assignment,j)),de+1<$e&&G.push(","+g);return V(G,r.Sequence,H)},AssignmentExpression:function(O,H,j){return this.generateAssignment(O.left,O.right,O.operator,H,j)},ArrowFunctionExpression:function(O,H,j){return V(this.generateFunctionBody(O),r.ArrowFunction,H)},ConditionalExpression:function(O,H,j){return r.Conditional<H&&(j|=N),V([this.generateExpression(O.test,r.Coalesce,j),g+"?"+g,this.generateExpression(O.consequent,r.Assignment,j),g+":"+g,this.generateExpression(O.alternate,r.Assignment,j)],r.Conditional,H)},LogicalExpression:function(O,H,j){return O.operator==="??"&&(j|=fe),this.BinaryExpression(O,H,j)},BinaryExpression:function(O,H,j){var G,de,$e,He,tt,pt;return He=i[O.operator],de=O.operator==="**"?r.Postfix:He,$e=O.operator==="**"?He:He+1,He<H&&(j|=N),tt=this.generateExpression(O.left,de,j),pt=tt.toString(),pt.charCodeAt(pt.length-1)===47&&a.code.isIdentifierPartES5(O.operator.charCodeAt(0))?G=[tt,Qe(),O.operator]:G=We(tt,O.operator),tt=this.generateExpression(O.right,$e,j),O.operator==="/"&&tt.toString().charAt(0)==="/"||O.operator.slice(-1)==="<"&&tt.toString().slice(0,3)==="!--"?(G.push(Qe()),G.push(tt)):G=We(G,tt),O.operator==="in"&&!(j&N)?["(",G,")"]:(O.operator==="||"||O.operator==="&&")&&j&fe?["(",G,")"]:V(G,He,H)},CallExpression:function(O,H,j){var G,de,$e;for(G=[this.generateExpression(O.callee,r.Call,J)],O.optional&&G.push("?."),G.push("("),de=0,$e=O.arguments.length;de<$e;++de)G.push(this.generateExpression(O.arguments[de],r.Assignment,ae)),de+1<$e&&G.push(","+g);return G.push(")"),j&M?V(G,r.Call,H):["(",G,")"]},ChainExpression:function(O,H,j){r.OptionalChaining<H&&(j|=M);var G=this.generateExpression(O.expression,r.OptionalChaining,j);return V(G,r.OptionalChaining,H)},NewExpression:function(O,H,j){var G,de,$e,He,tt;if(de=O.arguments.length,tt=j&U&&!v&&de===0?K:be,G=We("new",this.generateExpression(O.callee,r.New,tt)),!(j&U)||v||de>0){for(G.push("("),$e=0,He=de;$e<He;++$e)G.push(this.generateExpression(O.arguments[$e],r.Assignment,ae)),$e+1<He&&G.push(","+g);G.push(")")}return V(G,r.New,H)},MemberExpression:function(O,H,j){var G,de;return G=[this.generateExpression(O.object,r.Call,j&M?J:be)],O.computed?(O.optional&&G.push("?."),G.push("["),G.push(this.generateExpression(O.property,r.Sequence,j&M?ae:K)),G.push("]")):(!O.optional&&O.object.type===t.Literal&&typeof O.object.value=="number"&&(de=Le(G).toString(),de.indexOf(".")<0&&!/[eExX]/.test(de)&&a.code.isDecimalDigit(de.charCodeAt(de.length-1))&&!(de.length>=2&&de.charCodeAt(0)===48)&&G.push(" ")),G.push(O.optional?"?.":"."),G.push(Ie(O.property))),V(G,r.Member,H)},MetaProperty:function(O,H,j){var G;return G=[],G.push(typeof O.meta=="string"?O.meta:Ie(O.meta)),G.push("."),G.push(typeof O.property=="string"?O.property:Ie(O.property)),V(G,r.Member,H)},UnaryExpression:function(O,H,j){var G,de,$e,He,tt;return de=this.generateExpression(O.argument,r.Unary,ae),g===""?G=We(O.operator,de):(G=[O.operator],O.operator.length>2?G=We(G,de):(He=Le(G).toString(),tt=He.charCodeAt(He.length-1),$e=de.toString().charCodeAt(0),((tt===43||tt===45)&&tt===$e||a.code.isIdentifierPartES5(tt)&&a.code.isIdentifierPartES5($e))&&G.push(Qe()),G.push(de))),V(G,r.Unary,H)},YieldExpression:function(O,H,j){var G;return O.delegate?G="yield*":G="yield",O.argument&&(G=We(G,this.generateExpression(O.argument,r.Yield,ae))),V(G,r.Yield,H)},AwaitExpression:function(O,H,j){var G=We(O.all?"await*":"await",this.generateExpression(O.argument,r.Await,ae));return V(G,r.Await,H)},UpdateExpression:function(O,H,j){return O.prefix?V([O.operator,this.generateExpression(O.argument,r.Unary,ae)],r.Unary,H):V([this.generateExpression(O.argument,r.Postfix,ae),O.operator],r.Postfix,H)},FunctionExpression:function(O,H,j){var G=[Te(O,!0),"function"];return O.id?(G.push(qe(O)||Qe()),G.push(Ie(O.id))):G.push(qe(O)||g),G.push(this.generateFunctionBody(O)),G},ArrayPattern:function(O,H,j){return this.ArrayExpression(O,H,j,!0)},ArrayExpression:function(O,H,j,G){var de,$e,He=this;return O.elements.length?($e=G?!1:O.elements.length>1,de=["[",$e?m:""],Se(function(tt){var pt,Qt;for(pt=0,Qt=O.elements.length;pt<Qt;++pt)O.elements[pt]?(de.push($e?tt:""),de.push(He.generateExpression(O.elements[pt],r.Assignment,ae))):($e&&de.push(tt),pt+1===Qt&&de.push(",")),pt+1<Qt&&de.push(","+($e?m:g))}),$e&&!q(Le(de).toString())&&de.push(m),de.push($e?l:""),de.push("]"),de):"[]"},RestElement:function(O,H,j){return"..."+this.generatePattern(O.argument)},ClassExpression:function(O,H,j){var G,de;return G=["class"],O.id&&(G=We(G,this.generateExpression(O.id,r.Sequence,ae))),O.superClass&&(de=We("extends",this.generateExpression(O.superClass,r.Unary,ae)),G=We(G,de)),G.push(g),G.push(this.generateStatement(O.body,ie)),G},MethodDefinition:function(O,H,j){var G,de;return O.static?G=["static"+g]:G=[],O.kind==="get"||O.kind==="set"?de=[We(O.kind,this.generatePropertyKey(O.key,O.computed)),this.generateFunctionBody(O.value)]:de=[et(O),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)],We(G,de)},Property:function(O,H,j){return O.kind==="get"||O.kind==="set"?[O.kind,Qe(),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)]:O.shorthand?O.value.type==="AssignmentPattern"?this.AssignmentPattern(O.value,r.Sequence,ae):this.generatePropertyKey(O.key,O.computed):O.method?[et(O),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)]:[this.generatePropertyKey(O.key,O.computed),":"+g,this.generateExpression(O.value,r.Assignment,ae)]},ObjectExpression:function(O,H,j){var G,de,$e,He=this;return O.properties.length?(G=O.properties.length>1,Se(function(){$e=He.generateExpression(O.properties[0],r.Sequence,ae)}),!G&&!$(Le($e).toString())?["{",g,$e,g,"}"]:(Se(function(tt){var pt,Qt;if(de=["{",m,tt,$e],G)for(de.push(","+m),pt=1,Qt=O.properties.length;pt<Qt;++pt)de.push(tt),de.push(He.generateExpression(O.properties[pt],r.Sequence,ae)),pt+1<Qt&&de.push(","+m)}),q(Le(de).toString())||de.push(m),de.push(l),de.push("}"),de)):"{}"},AssignmentPattern:function(O,H,j){return this.generateAssignment(O.left,O.right,"=",H,j)},ObjectPattern:function(O,H,j){var G,de,$e,He,tt,pt=this;if(!O.properties.length)return"{}";if(He=!1,O.properties.length===1)tt=O.properties[0],tt.type===t.Property&&tt.value.type!==t.Identifier&&(He=!0);else for(de=0,$e=O.properties.length;de<$e;++de)if(tt=O.properties[de],tt.type===t.Property&&!tt.shorthand){He=!0;break}return G=["{",He?m:""],Se(function(Qt){var en,Bn;for(en=0,Bn=O.properties.length;en<Bn;++en)G.push(He?Qt:""),G.push(pt.generateExpression(O.properties[en],r.Sequence,ae)),en+1<Bn&&G.push(","+(He?m:g))}),He&&!q(Le(G).toString())&&G.push(m),G.push(He?l:""),G.push("}"),G},ThisExpression:function(O,H,j){return"this"},Super:function(O,H,j){return"super"},Identifier:function(O,H,j){return Ie(O)},ImportDefaultSpecifier:function(O,H,j){return Ie(O.id||O.local)},ImportNamespaceSpecifier:function(O,H,j){var G=["*"],de=O.id||O.local;return de&&G.push(g+"as"+Qe()+Ie(de)),G},ImportSpecifier:function(O,H,j){var G=O.imported,de=[G.name],$e=O.local;return $e&&$e.name!==G.name&&de.push(Qe()+"as"+Qe()+Ie($e)),de},ExportSpecifier:function(O,H,j){var G=O.local,de=[G.name],$e=O.exported;return $e&&$e.name!==G.name&&de.push(Qe()+"as"+Qe()+Ie($e)),de},Literal:function(O,H,j){var G;if(O.hasOwnProperty("raw")&&w&&b.raw)try{if(G=w(O.raw).body[0].expression,G.type===t.Literal&&G.value===O.value)return O.raw}catch{}return O.regex?"/"+O.regex.pattern+"/"+O.regex.flags:typeof O.value=="bigint"?O.value.toString()+"n":O.bigint?O.bigint+"n":O.value===null?"null":typeof O.value=="string"?R(O.value):typeof O.value=="number"?_e(O.value):typeof O.value=="boolean"?O.value?"true":"false":pe(O.value)},GeneratorExpression:function(O,H,j){return this.ComprehensionExpression(O,H,j)},ComprehensionExpression:function(O,H,j){var G,de,$e,He,tt=this;return G=O.type===t.GeneratorExpression?["("]:["["],b.moz.comprehensionExpressionStartsWithAssignment&&(He=this.generateExpression(O.body,r.Assignment,ae),G.push(He)),O.blocks&&Se(function(){for(de=0,$e=O.blocks.length;de<$e;++de)He=tt.generateExpression(O.blocks[de],r.Sequence,ae),de>0||b.moz.comprehensionExpressionStartsWithAssignment?G=We(G,He):G.push(He)}),O.filter&&(G=We(G,"if"+g),He=this.generateExpression(O.filter,r.Sequence,ae),G=We(G,["(",He,")"])),b.moz.comprehensionExpressionStartsWithAssignment||(He=this.generateExpression(O.body,r.Assignment,ae),G=We(G,He)),G.push(O.type===t.GeneratorExpression?")":"]"),G},ComprehensionBlock:function(O,H,j){var G;return O.left.type===t.VariableDeclaration?G=[O.left.kind,Qe(),this.generateStatement(O.left.declarations[0],ge)]:G=this.generateExpression(O.left,r.Call,ae),G=We(G,O.of?"of":"in"),G=We(G,this.generateExpression(O.right,r.Sequence,ae)),["for"+g+"(",G,")"]},SpreadElement:function(O,H,j){return["...",this.generateExpression(O.argument,r.Assignment,ae)]},TaggedTemplateExpression:function(O,H,j){var G=J;j&M||(G=be);var de=[this.generateExpression(O.tag,r.Call,G),this.generateExpression(O.quasi,r.Primary,ee)];return V(de,r.TaggedTemplate,H)},TemplateElement:function(O,H,j){return O.value.raw},TemplateLiteral:function(O,H,j){var G,de,$e;for(G=["`"],de=0,$e=O.quasis.length;de<$e;++de)G.push(this.generateExpression(O.quasis[de],r.Primary,ae)),de+1<$e&&(G.push("${"+g),G.push(this.generateExpression(O.expressions[de],r.Sequence,ae)),G.push(g+"}"));return G.push("`"),G},ModuleSpecifier:function(O,H,j){return this.Literal(O,H,j)},ImportExpression:function(O,H,j){return V(["import(",this.generateExpression(O.source,r.Assignment,ae),")"],r.Call,H)}},te(me.prototype,me.Expression),me.prototype.generateExpression=function(O,H,j){var G,de;return de=O.type||t.Property,b.verbatim&&O.hasOwnProperty(b.verbatim)?he(O,H):(G=this[de](O,H,j),b.comment&&(G=Ue(O,G)),Le(G,O))},me.prototype.generateStatement=function(O,H){var j,G;return j=this[O.type](O,H),b.comment&&(j=Ue(O,j)),G=Le(j).toString(),O.type===t.Program&&!y&&m===""&&G.charAt(G.length-1)===`
`&&(j=S?Le(j).replaceRight(/\s+$/,""):G.replace(/\s+$/,"")),Le(j,O)};function vt(O){var H;if(H=new me,D(O))return H.generateStatement(O,xe);if(k(O))return H.generateExpression(O,r.Sequence,ae);throw new Error("Unknown node type: "+O.type)}function hn(O,H){var j=ye(),G,de;return H!=null?(typeof H.indent=="string"&&(j.format.indent.style=H.indent),typeof H.base=="number"&&(j.format.indent.base=H.base),H=Ae(j,H),u=H.format.indent.style,typeof H.base=="string"?l=H.base:l=Ce(u,H.format.indent.base)):(H=j,u=H.format.indent.style,l=Ce(u,H.format.indent.base)),h=H.format.json,c=H.format.renumber,f=h?!1:H.format.hexadecimal,d=h?"double":H.format.quotes,p=H.format.escapeless,m=H.format.newline,g=H.format.space,H.format.compact&&(m=g=u=l=""),v=H.format.parentheses,E=H.format.semicolons,y=H.format.safeConcatenation,x=H.directive,w=h?null:H.parse,S=H.sourceMap,_=H.sourceCode,T=H.format.preserveBlankLines&&_!==null,b=H,S&&(n.browser?s=EO.sourceMap.SourceNode:s=Rie().SourceNode),G=vt(O),S?(de=G.toStringWithSourceMap({file:H.file,sourceRoot:H.sourceMapRoot}),H.sourceContent&&de.map.setSourceContent(H.sourceMap,H.sourceContent),H.sourceMapWithCode?de:de.map.toString()):(de={code:G.toString(),map:null},H.sourceMapWithCode?de:de.code)}C={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},F=ye().format,n.version=Uie.version,n.generate=hn,n.attachComments=o.attachComments,n.Precedence=Ae({},r),n.browser=!1,n.FORMAT_MINIFY=C,n.FORMAT_DEFAULTS=F})()})(pv)),pv}var $ie=Vie();const jie=i1($ie);let Od=0;function jC(n){switch(n){case"+":return"add";case"-":return"sub";case"*":return"mult";case"/":return"div";case"%":return"mod";case"==":case"===":return"equalTo";case"!=":case"!==":return"notEqual";case">":return"greaterThan";case">=":return"greaterEqual";case"<":return"lessThan";case"<=":return"lessEqual";case"&&":return"and";case"||":return"or"}}function Ps(n){return n.type==="CallExpression"&&(n.callee?.type==="Identifier"&&n.callee?.name.startsWith("uniform")||n.callee?.type==="MemberExpression"&&n.callee?.property.name.startsWith("uniform"))}function zie(n){return n?.type==="CallExpression"&&(n.callee?.type==="Identifier"&&(n.callee?.name.startsWith("varying")||n.callee?.name.startsWith("shared"))||n.callee?.type==="MemberExpression"&&(n.callee?.property.name.startsWith("varying")||n.callee?.property.name.startsWith("shared")))}const Av={UnaryExpression(n,t,r){if(r.some(Ps))return;const i=SM[n.operator],s=o=>{o.type="CallExpression",o.callee={type:"Identifier",name:`__p5.${i}`},o.arguments=[o.argument]};if(n.type==="MemberExpression"){const o=n.argument.property.name;[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].some(u=>[...o].every(h=>u.includes(h)))&&n.argument.type==="MemberExpression"?(n.type="MemberExpression",n.object={type:"CallExpression",callee:{type:"Identifier",name:`__p5.${i}`},arguments:[n.argument.object]},n.property={type:"Identifier",name:o}):s(n)}else s(n);delete n.argument,delete n.operator},BreakStatement(n,t,r){r.some(Ps)||(n.callee={type:"Identifier",name:"__p5.break"},n.arguments=[],n.type="CallExpression")},VariableDeclarator(n,t,r){if(!r.some(Ps)){if(Ps(n.init)){const i={type:"Literal",value:n.id.name};n.init.arguments.unshift(i)}if(zie(n.init)){const i={type:"Literal",value:n.id.name};n.init.arguments.unshift(i),t.varyings[n.id.name]=i}}},Identifier(n,t,r){r.some(Ps)||t.varyings[n.name]&&!r.some(i=>i.type==="AssignmentExpression"&&i.left===n)&&(n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:n.name},property:{type:"Identifier",name:"getValue"}},arguments:[]})},ArrayExpression(n,t,r){if(r.some(Ps))return;const i=JSON.parse(JSON.stringify(n));n.type="CallExpression",n.callee={type:"Identifier",name:"__p5.strandsNode"},n.arguments=[i]},AssignmentExpression(n,t,r){if(!r.some(Ps)){if(n.operator!=="="){const i=jC(n.operator.replace("=","")),s={type:"CallExpression",callee:{type:"MemberExpression",object:n.left,property:{type:"Identifier",name:i}},arguments:[n.right]};n.operator="=",n.right=s}if(t.varyings[n.left.name])n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:n.left.name},property:{type:"Identifier",name:"bridge"}},arguments:[n.right]};else if(n.left.type==="MemberExpression"){let i=null;if(n.left.object.type==="Identifier"&&t.varyings[n.left.object.name]?i=n.left.object.name:n.left.object.type==="ExpressionStatement"&&n.left.object.expression?.type==="CallExpression"&&n.left.object.expression.callee?.type==="MemberExpression"&&n.left.object.expression.callee.property?.name==="getValue"&&n.left.object.expression.callee.object?.type==="Identifier"&&t.varyings[n.left.object.expression.callee.object.name]&&(i=n.left.object.expression.callee.object.name),i){const s=n.left.property.name;n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:i},property:{type:"Identifier",name:"bridgeSwizzle"}},arguments:[{type:"Literal",value:s},n.right]}}}}},BinaryExpression(n,t,r){if(r.some(Ps))return;if(["Literal","ArrayExpression","Identifier"].includes(n.left.type)){const s={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[n.left]};n.left=s}n.type="CallExpression",n.callee={type:"MemberExpression",object:n.left,property:{type:"Identifier",name:jC(n.operator)}},n.arguments=[n.right]},IfStatement(n,t,r){if(r.some(Ps))return;const i=n.test,s={type:"ArrowFunctionExpression",params:[],body:n.consequent.type==="BlockStatement"?n.consequent:{type:"BlockStatement",body:[n.consequent]}};let o={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsIf"},arguments:[i,s]},a;n.alternate?a={type:"ArrowFunctionExpression",params:[],body:n.alternate.type==="BlockStatement"?n.alternate:{type:"BlockStatement",body:[n.alternate]}}:a={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[]}},o={type:"CallExpression",callee:{type:"MemberExpression",object:o,property:{type:"Identifier",name:"Else"}},arguments:[a]};const l=new Set,u=h=>{if(h.type!=="BlockStatement")return;const c=new Set;for(const f of h.body)if(f.type==="VariableDeclaration")for(const d of f.declarations)d.id.type==="Identifier"&&c.add(d.id.name);for(const f of h.body)if(f.type==="ExpressionStatement"&&f.expression.type==="AssignmentExpression"){const d=f.expression.left;d.type==="Identifier"?c.has(d.name)||l.add(d.name):d.type==="MemberExpression"&&d.object.type==="Identifier"&&(c.has(d.object.name)||l.add(d.object.name))}else f.type==="BlockStatement"&&u(f)};if(u(s.body),u(a.body),l.size>0){const h=(d,p)=>{if(d.type==="BlockStatement"){const m=new Map,g=[];for(const y of p){const x=`__copy_${y}_${Od++}`;m.set(y,x),g.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:x},init:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:y},property:{type:"Identifier",name:"copy"},computed:!1},arguments:[]}}],kind:"let"})}const v=y=>{if(!(!y||typeof y!="object")){y.type==="Identifier"&&m.has(y.name)?y.name=m.get(y.name):y.type==="MemberExpression"&&y.object.type==="Identifier"&&m.has(y.object.name)&&(y.object.name=m.get(y.object.name)),y.type==="AssignmentExpression"&&y.left.type==="Identifier"&&m.has(y.left.name)&&(y.right.type==="Literal"||y.right.type==="ArrayExpression")&&(y.right={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[y.right]});for(const x in y)y.hasOwnProperty(x)&&x!=="parent"&&(Array.isArray(y[x])?y[x].forEach(v):typeof y[x]=="object"&&v(y[x]))}};d.body.forEach(v),d.body.unshift(...g);const E={type:"ObjectExpression",properties:Array.from(p).map(y=>({type:"Property",key:{type:"Identifier",name:y},value:{type:"Identifier",name:m.get(y)},kind:"init",computed:!1,shorthand:!1}))};d.body.push({type:"ReturnStatement",argument:E})}};h(s.body,l),h(a.body,l);const c=`__block_${Od++}`,f=[];for(const d of l)f.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:d},right:{type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[{type:"Identifier",name:d}]}}});f.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:c},init:o}],kind:"const"});for(const d of l)f.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:d},right:{type:"MemberExpression",object:{type:"Identifier",name:c},property:{type:"Identifier",name:d},computed:!1}}});n.type="BlockStatement",n.body=f}else n.type="ExpressionStatement",n.expression=o;delete n.test,delete n.consequent,delete n.alternate},UpdateExpression(n,t,r){if(r.some(Ps))return;let i;if(n.operator==="++")i="+";else if(n.operator==="--")i="-";else return;const s={type:"AssignmentExpression",operator:"=",left:n.argument,right:{type:"BinaryExpression",operator:i,left:n.argument,right:{type:"Literal",value:1}}};Object.assign(n,s),delete n.prefix,this.BinaryExpression(n.right,t,[...r,n]),this.AssignmentExpression(n,t,r)},ForStatement(n,t,r){if(r.some(Ps))return;let i;if(n.init&&n.init.type==="VariableDeclaration"){let p=n.init.declarations[0].init;p={body:[{type:"ExpressionStatement",expression:p}]}.body[0].expression,i={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:p}]}}}else i={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"Literal",value:0}}]}};let s=n.test||{type:"Literal",value:!0};if(n.init?.type==="VariableDeclaration"){const d=n.init.declarations[0].id.name;s=this.replaceIdentifierReferences(s,d,"loopVar")}s={body:[{type:"ExpressionStatement",expression:s}]}.body[0].expression;const a={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"}],body:s};let l;if(n.update){let d=n.update;if(n.init?.type==="VariableDeclaration"){const m=n.init.declarations[0].id.name;d=this.replaceIdentifierReferences(d,m,"loopVar")}d={body:[{type:"ExpressionStatement",expression:d}]}.body[0].expression,l={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:d}]}}}else l={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"Identifier",name:"loopVar"}}]}};let u=n.body.type==="BlockStatement"?n.body:{type:"BlockStatement",body:[n.body]};if(n.init?.type==="VariableDeclaration"){const d=n.init.declarations[0].id.name;u=this.replaceIdentifierReferences(u,d,"loopVar")}const h={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"loopVar"},{type:"Identifier",name:"vars"}],body:u},c=new Set,f=(d,p=new Set)=>{if(d.type!=="BlockStatement")return;const m=new Set([...p]);for(const g of d.body)if(g.type==="VariableDeclaration")for(const v of g.declarations)v.id.type==="Identifier"&&m.add(v.id.name);for(const g of d.body)if(g.type==="ExpressionStatement"&&g.expression.type==="AssignmentExpression"){const v=g.expression.left;v.type==="Identifier"?m.has(v.name)||c.add(v.name):v.type==="MemberExpression"&&v.object.type==="Identifier"&&(m.has(v.object.name)||c.add(v.object.name))}else g.type==="BlockStatement"&&f(g,m)};if(f(h.body),c.size>0){((y,x)=>{if(y.type==="BlockStatement"){const b=new Map,w=[];for(const T of x){const C=`__copy_${T}_${Od++}`;b.set(T,C),w.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:C},init:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:"vars"},property:{type:"Identifier",name:T},computed:!1},property:{type:"Identifier",name:"copy"},computed:!1},arguments:[]}}],kind:"let"})}const S=T=>{if(!(!T||typeof T!="object")){T.type==="Identifier"&&b.has(T.name)&&(T.name=b.get(T.name));for(const C in T)T.hasOwnProperty(C)&&C!=="parent"&&(Array.isArray(T[C])?T[C].forEach(S):typeof T[C]=="object"&&S(T[C]))}};y.body.forEach(S),y.body.unshift(...w);const _={type:"ObjectExpression",properties:Array.from(x).map(T=>({type:"Property",key:{type:"Identifier",name:T},value:{type:"Identifier",name:b.get(T)},kind:"init",computed:!1,shorthand:!1}))};y.body.push({type:"ReturnStatement",argument:_})}})(h.body,c);const p=`__block_${Od++}`,m=[],g=[];for(const y of c)g.push({type:"Property",key:{type:"Identifier",name:y},value:{type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[{type:"Identifier",name:y}]},kind:"init",method:!1,shorthand:!1,computed:!1});const E={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsFor"},arguments:[i,a,l,h,{type:"ObjectExpression",properties:g}]};m.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:p},init:E}],kind:"const"});for(const y of c)m.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:y},right:{type:"MemberExpression",object:{type:"Identifier",name:p},property:{type:"Identifier",name:y},computed:!1}}});n.type="BlockStatement",n.body=m}else n.type="ExpressionStatement",n.expression={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsFor"},arguments:[i,a,l,h,{type:"ObjectExpression",properties:[]}]};delete n.init,delete n.test,delete n.update},replaceIdentifierReferences(n,t,r){if(!n||typeof n!="object")return n;const i=s=>{if(!s||typeof s!="object")return s;if(s.type==="Identifier"&&s.name===t)return{...s,name:r};const o={...s};for(const a in s)s.hasOwnProperty(a)&&a!=="parent"&&(Array.isArray(s[a])?o[a]=s[a].map(i):typeof s[a]=="object"&&(o[a]=i(s[a])));return o};return i(n)}};function Gie(n,t,r,i){const s=Ok(t,{ecmaVersion:2021,locations:r}),o={...Av};delete o.IfStatement,delete o.ForStatement,Fne(s,o,void 0,{varyings:{}}),kne(s,{varyings:{}},{IfStatement(c,f,d){c.test&&d(c.test,f),c.consequent&&d(c.consequent,f),c.alternate&&d(c.alternate,f),Av.IfStatement(c,f,[])},ForStatement(c,f,d){c.init&&d(c.init,f),c.test&&d(c.test,f),c.update&&d(c.update,f),c.body&&d(c.body,f),Av.ForStatement(c,f,[])}});const l=jie.generate(s),u=Object.keys(i),h=new Function("__p5",...u,l.slice(l.indexOf("{")+1,l.lastIndexOf("}")).replaceAll(";",""));return()=>h(n,...u.map(c=>i[c]))}function zC(){return{blockTypes:[],incomingEdges:[],outgoingEdges:[],blockInstructions:[],nextID:0,blockStack:[],blockOrder:[],blockConditions:{},currentBlock:-1}}function ji(n,t){n.blockStack.push(t),n.blockOrder.push(t),n.currentBlock=t}function jr(n){n.blockStack.pop();const t=n.blockStack.length;n.currentBlock=n.blockStack[t-1]}function Bu(n,t){n.blockStack.push(t),n.currentBlock=t}function er(n,t){const r=n.nextID++;return n.blockTypes[r]=t,n.incomingEdges[r]=[],n.outgoingEdges[r]=[],n.blockInstructions[r]=[],r}function Ln(n,t,r){n.outgoingEdges[t].push(r),n.incomingEdges[r].push(t)}function $n(n,t,r){r===void 0&&Ql("undefined nodeID in `recordInBasicBlock()`"),t===void 0&&Ql("undefined blockID in `recordInBasicBlock()"),n.blockInstructions[t]=n.blockInstructions[t]||[],n.blockInstructions[t].push(r)}function Hie(n,t){const r=new Set,i=[];function s(o){if(!r.has(o)){r.add(o);for(let a of n[o].sort((l,u)=>u-l)||[])s(a);i.push(o)}}return s(t),i.reverse()}function Wie(n){const{cfg:t,backend:r,vertexDeclarations:i,fragmentDeclarations:s}=n,o={uniforms:{}};for(const{name:a,typeInfo:l,defaultValue:u}of n.uniforms){const h=r.generateUniformDeclaration(a,l);o.uniforms[h]=u}for(const{hookType:a,rootNodeID:l,entryBlockID:u,shaderContext:h}of n.hooks){const c={indent:1,codeLines:[],write(m){this.codeLines.push("  ".repeat(this.indent)+m)},tempNames:{},declarations:[],nextTempID:0,visitedNodes:new Set,shaderContext:h,strandsContext:n},f=Hie(t.outgoingEdges,u);for(const m of f)r.generateBlock(m,n,c);for(const m of n.globalAssignments)c.visitedNodes.has(m)||(r.generateAssignment(c,n.dag,m),c.visitedNodes.add(m));n.globalAssignments=[];const d=r.hookEntry(a);let p=a.returnType.properties?Cx(a.returnType):Ig[a.returnType.typeName];r.generateReturnStatement(n,c,l,p),o[`${a.returnType.typeName} ${a.name}`]=[d,...c.codeLines,"}"].join(`
`)}if(n.sharedVariables)for(const[a,l]of n.sharedVariables)l.usedInVertex&&l.usedInFragment?(i.add(`OUT ${l.typeInfo.fnName} ${a};`),s.add(`IN ${l.typeInfo.fnName} ${a};`)):l.usedInVertex?i.add(`${l.typeInfo.fnName} ${a};`):l.usedInFragment&&s.add(`${l.typeInfo.fnName} ${a};`);return o.vertexDeclarations=[...i].join(`
`),o.fragmentDeclarations=[...s].join(`
`),o}const Xie={acos:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],acosh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],asin:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],asinh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],atan:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],atanh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],cos:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],cosh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],degrees:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],radians:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],sin:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],sinh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],tan:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],tanh:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],abs:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.FLOAT],returnType:Re.INT,isp5Function:!0}],ceil:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],clamp:[{params:[Re.FLOAT,Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1},{params:[Re.FLOAT,_n.float1,_n.float1],returnType:Re.FLOAT,isp5Function:!1},{params:[Re.INT,Re.INT,Re.INT],returnType:Re.INT,isp5Function:!1},{params:[Re.INT,_n.int1,_n.int1],returnType:Re.INT,isp5Function:!1}],dFdx:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],dFdy:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],exp:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],exp2:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],floor:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],fma:[{params:[Re.FLOAT,Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],fract:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],fwidth:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],inversesqrt:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],log:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],log2:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],max:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.FLOAT,_n.float1],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.INT,Re.INT],returnType:Re.INT,isp5Function:!0},{params:[Re.INT,_n.int1],returnType:Re.INT,isp5Function:!0}],min:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.FLOAT,_n.float1],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.INT,Re.INT],returnType:Re.INT,isp5Function:!0},{params:[Re.INT,_n.int1],returnType:Re.INT,isp5Function:!0}],mix:[{params:[Re.FLOAT,Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1},{params:[Re.FLOAT,Re.FLOAT,_n.float1],returnType:Re.FLOAT,isp5Function:!1},{params:[Re.FLOAT,Re.FLOAT,Re.BOOL],returnType:Re.FLOAT,isp5Function:!1}],mod:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0},{params:[Re.FLOAT,_n.float1],returnType:Re.FLOAT,isp5Function:!0}],pow:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],round:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],roundEven:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],sign:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1},{params:[Re.INT],returnType:Re.INT,isp5Function:!1}],smoothstep:[{params:[Re.FLOAT,Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1},{params:[_n.float1,_n.float1,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],sqrt:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],step:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],trunc:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],cross:[{params:[_n.float3,_n.float3],returnType:_n.float3,isp5Function:!0}],distance:[{params:[Re.FLOAT,Re.FLOAT],returnType:_n.float1,isp5Function:!0}],dot:[{params:[Re.FLOAT,Re.FLOAT],returnType:_n.float1,isp5Function:!0}],equal:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.BOOL,isp5Function:!1},{params:[Re.INT,Re.INT],returnType:Re.BOOL,isp5Function:!1},{params:[Re.BOOL,Re.BOOL],returnType:Re.BOOL,isp5Function:!1}],faceforward:[{params:[Re.FLOAT,Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],length:[{params:[Re.FLOAT],returnType:_n.float1,isp5Function:!1}],normalize:[{params:[Re.FLOAT],returnType:Re.FLOAT,isp5Function:!0}],notEqual:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.BOOL,isp5Function:!1},{params:[Re.INT,Re.INT],returnType:Re.BOOL,isp5Function:!1},{params:[Re.BOOL,Re.BOOL],returnType:Re.BOOL,isp5Function:!1}],reflect:[{params:[Re.FLOAT,Re.FLOAT],returnType:Re.FLOAT,isp5Function:!1}],refract:[{params:[Re.FLOAT,Re.FLOAT,_n.float1],returnType:Re.FLOAT,isp5Function:!1}],texture:[{params:[_n.sampler2D,_n.float2],returnType:_n.float4,isp5Function:!0}],getTexture:[{params:[_n.sampler2D,_n.float2],returnType:_n.float4,isp5Function:!0}]},DM={...Xie};class Zi{constructor(t,r,i){this.id=t,this.strandsContext=i,this.dimension=r;const s=this.strandsContext.dag,o=Dr(s,this.id);o&&o.identifier&&(this._originalIdentifier=o.identifier,this._originalBaseType=o.baseType,this._originalDimension=o.dimension)}copy(){return xn(this.id,this.dimension,this.strandsContext)}bridge(t){const{dag:r,cfg:i}=this.strandsContext,o=Dr(r,this.id)?.baseType??Xt.FLOAT;let a;if(t instanceof Zi?a=t.id:a=Fi(this.strandsContext,{baseType:o,dimension:this.dimension},t).id,this._originalIdentifier){const{id:l}=kl(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier),u=Pn({nodeType:Dt.ASSIGNMENT,dependsOn:[l,a],phiBlocks:[]}),h=Dn(r,u);$n(i,i.currentBlock,h),this.strandsContext.globalAssignments.push(h);const c=Pn({nodeType:Dt.VARIABLE,baseType:this._originalBaseType,dimension:this._originalDimension,identifier:this._originalIdentifier}),f=Dn(r,c);this.id=f}else this.id=a;return this}bridgeSwizzle(t,r){const{dag:i,cfg:s}=this.strandsContext,a=Dr(i,this.id)?.baseType??Xt.FLOAT;let l;if(r instanceof Zi?l=r.id:l=Fi(this.strandsContext,{baseType:a,dimension:this.dimension},r).id,this._originalIdentifier){const{id:u}=kl(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier),h=Pn({nodeType:Dt.OPERATION,opCode:An.Unary.SWIZZLE,baseType:this._originalBaseType,dimension:t.length,swizzle:t,dependsOn:[u]}),c=Dn(i,h),f=Pn({nodeType:Dt.ASSIGNMENT,dependsOn:[c,l],phiBlocks:[]}),d=Dn(i,f);$n(s,s.currentBlock,d),this.strandsContext.globalAssignments.push(d);const p=Pn({nodeType:Dt.VARIABLE,baseType:this._originalBaseType,dimension:this._originalDimension,identifier:this._originalIdentifier}),m=Dn(i,p);this.id=m}else this.id=l;return this}getValue(){if(this._originalIdentifier){const{id:t,dimension:r}=kl(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier);return xn(t,r,this.strandsContext)}return this}}function xn(n,t,r,i){return new Proxy(new Zi(n,t,r),Jie(n,t,r,i))}function qie(n,t,r){const{cfg:i,dag:s}=n;let{dimension:o,baseType:a}=t;o!==1&&Ql("Created a scalar literal node with dimension > 1.");const l=Pn({nodeType:Dt.LITERAL,dimension:o,baseType:a,value:r}),u=Dn(s,l);return $n(i,i.currentBlock,u),{id:u,dimension:o}}function kl(n,t,r){const{cfg:i,dag:s}=n,{dimension:o,baseType:a}=t,l=Pn({nodeType:Dt.VARIABLE,dimension:o,baseType:a,identifier:r}),u=Dn(s,l);return $n(i,i.currentBlock,u),{id:u,dimension:o}}function Yie(n,t,r){const{dag:i,cfg:s}=n;let o,a;if(t instanceof Zi)a=t;else{const{id:h,dimension:c}=Fi(n,{baseType:Xt.FLOAT,dimension:null},t);a=xn(h,c,n)}o=[a.id];const l=Pn({nodeType:Dt.OPERATION,opCode:r,dependsOn:o,baseType:i.baseTypes[a.id],dimension:a.dimension}),u=Dn(i,l);return $n(s,s.currentBlock,u),{id:u,dimension:a.dimension}}function Kie(n,t,r,i){const{dag:s,cfg:o}=n;let a;if(r[0]instanceof Zi&&r.length===1)a=r[0];else{const{id:g,dimension:v}=Fi(n,{baseType:Xt.FLOAT,dimension:null},r);a=xn(g,v,n)}let l=t.id,u=a.id;const h=lm(s,t.id),c=lm(s,a.id),f={node:null,toType:h};if(h.baseType===c.baseType&&h.baseType===Xt.DEFER){f.toType.baseType=Xt.FLOAT,h.dimension===c.dimension?f.toType.dimension=h.dimension:h.dimension===1&&c.dimension>1?f.toType.dimension=c.dimension:c.dimension===1&&h.dimension>1?f.toType.dimension=h.dimension:Yi("type error",`You have tried to perform a binary operation:
${h.baseType+h.dimension} ${am[i]} ${c.baseType+c.dimension}
It's only possible to operate on two nodes with the same dimension, or a scalar value and a vector.`);const g=Fi(n,f.toType,t),v=Fi(n,f.toType,a);l=g.id,u=v.id}else if(h.baseType!==c.baseType||h.dimension!==c.dimension){h.dimension===1&&c.dimension>1?(f.node=t,f.toType=c):c.dimension===1&&h.dimension>1||h.priority>c.priority?(f.node=a,f.toType=h):c.priority>h.priority?(f.node=t,f.toType=c):Yi("type error",`A vector of length ${h.dimension} operated with a vector of length ${c.dimension} is not allowed.`);const g=Fi(n,f.toType,f.node);f.node===t?(t=xn(g.id,g.dimension,n),l=t.id):(a=xn(g.id,g.dimension,n),u=a.id)}const p=Pn({nodeType:Dt.OPERATION,opCode:i,dependsOn:[l,u],baseType:f.toType.baseType,dimension:f.toType.dimension}),m=Dn(s,p);return $n(o,o.currentBlock,m),{id:m,dimension:p.dimension}}function Tv(n,t,r,i){const{cfg:s,dag:o}=n;if(i.length===0)for(const u of t.properties){const h=u.dataType,c=Pn({nodeType:Dt.VARIABLE,baseType:h.baseType,dimension:h.dimension,identifier:`${r}.${u.name}`}),f=Dn(o,c);$n(s,s.currentBlock,f),i.push(f)}const a=Pn({nodeType:Dt.VARIABLE,dimension:t.properties.length,baseType:t.typeName,identifier:r,dependsOn:i}),l=Dn(o,a);return $n(s,s.currentBlock,l),{id:l,dimension:0,components:i}}function Tx(n,t,r){const i=Array.isArray(r)?r:[r],s=[];let{dimension:o,baseType:a}=t;const l=n.dag;let u=0,h=null;for(const f of i.flat(1/0))if(f instanceof Zi){const d=Dr(l,f.id);if(h=f.id,a=d.baseType,d.opCode===An.Nary.CONSTRUCTOR)for(const p of d.dependsOn)s.push(p);else s.push(f.id);u+=d.dimension;continue}else if(typeof f=="number"){const{id:d,dimension:p}=qie(n,{dimension:1,baseType:a},f);s.push(d),u+=p;continue}else Yi("type error",`You've tried to construct a scalar or vector type with a non-numeric value: ${f}`);o===null?o=u:o>u&&u===1?u=o:u!==1&&u!==o&&Yi("type error",`You've tried to construct a ${a+o} with ${u} components`);const c={dimension:o,baseType:a,priority:wM[a]};return{originalNodeID:h,mappedDependencies:s,inferredTypeInfo:c}}function Ix(n,t,r){const i=Pn({nodeType:Dt.OPERATION,opCode:An.Nary.CONSTRUCTOR,dimension:t.dimension,baseType:t.baseType,dependsOn:r});return Dn(n.dag,i)}function Fi(n,t,r){const i=n.cfg,{mappedDependencies:s,inferredTypeInfo:o}=Tx(n,t,r),a={baseType:t.baseType,dimension:o.dimension},l=Ix(n,a,s);return t.baseType!==Xt.DEFER&&$n(i,i.currentBlock,l),{id:l,dimension:a.dimension,components:s}}function Zie(n,t,r){const{cfg:i,dag:s}=n,{identifer:o,properties:a}=t;r.length!==a.length&&Yi("type error",`You've tried to construct a ${t.typeName} struct with ${r.length} properties, but it expects ${a.length} properties.
The properties it expects are:
${a.map(c=>c.name+" "+c.DataType.baseType+c.DataType.dimension)}`);const l=[];for(let c=0;c<a.length;c++){const f=a[c],{originalNodeID:d,mappedDependencies:p}=Tx(n,f.dataType,r[c]);d?l.push(d):l.push(Ix(n,f.dataType,p))}const u=Pn({nodeType:Dt.OPERATION,opCode:An.Nary.CONSTRUCTOR,dimension:a.length,baseType:t.typeName,dependsOn:l}),h=Dn(s,u);return $n(i,i.currentBlock,h),{id:h,dimension:a.length,components:t.components}}function Iv(n,t,r,{overloads:i}={}){const{cfg:s,dag:o}=n,a=i||DM[t],l=r.map(E=>Tx(n,_n.defer,E)),u=a.filter(E=>E.params.length===l.length);if(u.length===0){const E=new Set,y=[];a.forEach(b=>E.add(b.params.length)),E.forEach(b=>y.push(`${b}`));const x=y.join(", or ");Yi("parameter validation error",`Function '${t}' has ${a.length} variants which expect ${x} arguments, but ${l.length} arguments were provided.`)}const h=E=>E.dimension===null;let c=null,f=0,d=null,p=null;for(const E of u){let y=!0,x=0;for(let b=0;b<l.length;b++){const S=l[b].inferredTypeInfo,_=E.params[b];let T=_.dimension;h(_)?((p===null||p===1)&&(p=S.dimension),p!==S.dimension&&!(S.dimension===1&&p>=1)&&(y=!1),T=p):S.dimension>T&&(y=!1),S.baseType===_.baseType?x+=2:_.priority>S.priority&&(x+=1)}y&&(!c||x>f)&&(c=E,f=x,d={...E.returnType},h(d)&&(d.dimension=p))}c===null&&Yi("parameter validation",`No matching overload for ${t} was found!`);let m=[];for(let E=0;E<c.params.length;E++){const y=l[E],x={...c.params[E]};if(h(x)&&(x.dimension=p),y.originalNodeID&&Eie(y.inferredTypeInfo,x))m.push(y.originalNodeID);else{const b=Ix(n,x,y.mappedDependencies);$n(s,s.currentBlock,b),m.push(b)}}const g=Pn({nodeType:Dt.OPERATION,opCode:An.Nary.FUNCTION_CALL,identifier:t,dependsOn:m,baseType:d.baseType,dimension:d.dimension}),v=Dn(o,g);return $n(s,s.currentBlock,v),{id:v,dimension:d.dimension}}function GC(n,t){const{dag:r,cfg:i}=n,s=Pn({nodeType:Dt.STATEMENT,statementType:t}),o=Dn(r,s);return $n(i,i.currentBlock,o),o}function Dv(n,t,r){const{dag:i,cfg:s}=n,o=i.baseTypes[t.id],a=Pn({nodeType:Dt.OPERATION,baseType:o,dimension:r.length,opCode:An.Unary.SWIZZLE,dependsOn:[t.id],swizzle:r}),l=Dn(i,a);return $n(s,s.currentBlock,l),{id:l,dimension:r.length}}function Jie(n,t,r,i){const s=[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].map(a=>a.slice(0,t));return{get(a,l,u){if(l in a)return Reflect.get(...arguments);for(const h of s)if([...l.toString()].every(c=>h.includes(c))){const c=[...l].map(d=>{const p=h.indexOf(d);return s[0][p]}).join(""),f=Dv(r,a,c);return xn(f.id,f.dimension,r)}},set(a,l,u,h){for(const c of s){const f=[...l];if(!(f.every(x=>c.includes(x))&&new Set(f).size===f.length&&a.dimension>=f.length))continue;const p=a.dimension,m=new Array(p);for(let x=0;x<p;x++){const{id:b,dimension:w}=Dv(r,a,"xyzw"[x]);m[x]=xn(b,w,r)}let g=[];if(u instanceof Zi)if(u.dimension===1)g=Array(f.length).fill(u);else if(u.dimension===f.length)for(let x=0;x<f.length;x++){const{id:b,dimension:w}=Dv(r,u,"xyzw"[x]);g.push(xn(b,w,r))}else Yi("type error",`Swizzle assignment: RHS vector does not match LHS vector (need ${f.length}, got ${u.dimension}).`);else if(Array.isArray(u)){const x=u.flat(1/0);x.length===1?g=Array(f.length).fill(x[0]):x.length===f.length?g=x:Yi("type error",`Swizzle assignment: RHS length ${x.length} does not match ${f.length}.`)}else typeof u=="number"?g=Array(f.length).fill(u):Yi("type error",`Unsupported RHS for swizzle assignment: ${u}`);for(let x=0;x<f.length;x++){const b=c.indexOf(f[x]);m[b]=g[x]}const E=Dr(r.dag,a.id)?.baseType??Xt.FLOAT,{id:y}=Fi(r,{baseType:E,dimension:p},m);return a.id=y,typeof i=="function"&&i(y),!0}return Reflect.set(...arguments)}}}function r1(n,t,r){const i=t.filter(h=>h.value.id!==null);if(i.length===0)throw new Error(`No valid inputs for phi node for variable ${r}`);const s=Dr(n.dag,i[0].value.id),o=s.dimension,a=s.baseType,l={nodeType:Dt.PHI,dimension:o,baseType:a,dependsOn:t.map(h=>h.value.id).filter(h=>h!==null),phiBlocks:t.map(h=>h.blockId)},u=Dn(n.dag,l);return $n(n.cfg,n.cfg.currentBlock,u),{id:u,dimension:o,baseType:a}}class Qie{constructor(t,r,i){this.branches=[{condition:r,branchCallback:i,blockType:qt.IF_BODY}],this.ctx=t}ElseIf(t,r){return this.branches.push({condition:t,branchCallback:r,blockType:qt.IF_BODY}),this}Else(t=()=>({})){this.branches.push({condition:null,branchCallback:t,blockType:qt.IF_BODY});const r=ese(this.ctx,this),i={};for(const[s,o]of Object.entries(r))i[s]=xn(o.id,o.dimension,this.ctx);return i}}function ese(n,t){const r=n.cfg,i=t.branches,s=er(r,qt.MERGE),o=[],a=[],l={},u={},h=er(r,qt.BRANCH);Ln(r,r.currentBlock,h),Ln(r,h,s);let c=h;for(let f=0;f<i.length;f++){const{condition:d,branchCallback:p,blockType:m}=i[f];if(d!==null){const b=er(r,qt.IF_COND);Ln(r,c,b),ji(r,b),r.blockConditions[b]=d.id,c=b,jr(r)}else{const b=er(r,qt.ELSE_COND);Ln(r,c,b),c=b}const g=er(r,qt.SCOPE_START);Ln(r,c,g);const v=er(r,m);Ln(r,g,v),ji(r,v);const E=p();for(const b in E)u[b]?u[b].push({value:E[b],blockId:v}):u[b]=[{value:E[b],blockId:v}];o.push(E);const y=er(r,qt.DEFAULT);Ln(r,r.currentBlock,y),a.push(y),jr(r);const x=er(r,qt.SCOPE_END);Ln(r,y,x),Ln(r,x,s),c=g}Bu(r,h);for(const f in u)l[f]=r1(n,u[f],f);jr(r);for(let f=0;f<o.length;f++){const d=o[f],p=a[f];Bu(r,p);for(const m in d)if(l[m]){const g=l[m].id,v=d[m].id,E={nodeType:Dt.ASSIGNMENT,dependsOn:[g,v],phiBlocks:[]},y=Dn(n.dag,E);$n(r,p,y)}jr(r)}return ji(r,s),l}class tse{constructor(t,r,i,s,o,a){this.strandsContext=t,this.initialCb=r,this.conditionCb=i,this.updateCb=s,this.bodyCb=o,this.initialVars=a}build(){const t=this.strandsContext.cfg,r=er(t,qt.MERGE),i=er(t,qt.BRANCH);Ln(t,t.currentBlock,i),Ln(t,i,r);const{initialVar:s,phiNode:o}=this.initializeLoopVariable(t,i);ji(t,t.currentBlock);const a=xn(o.id,o.dimension,this.strandsContext),l=this.conditionCb(a),u=this.updateCb(a);jr(t),this.loopIsBounded(s,l,u)?this.buildBoundedLoop(t,i,r,s,o,l,u):this.buildUnboundedLoop(t,i,r,s,o,l,u);const c=this.phiNodesForBody;Bu(t,i);for(const[d,p]of Object.entries(this.bodyResults))if(d!=="loopVar"&&c[d]){const m=c[d].id,g=Dr(this.strandsContext.dag,m);g.dependsOn.length>1&&(g.dependsOn[1]=p.id),g.phiInputs&&g.phiInputs.length>1&&(g.phiInputs[1].value=p)}jr(t),Bu(t,i);for(const[d,p]of Object.entries(this.initialVars))if(d!=="loopVar"&&c[d]){const m=c[d].id,g=p.id,v=Pn({nodeType:Dt.ASSIGNMENT,dependsOn:[m,g],phiBlocks:[]}),E=Dn(this.strandsContext.dag,v);$n(t,i,E)}jr(t),Bu(t,this.finalBodyBlock);for(const[d,p]of Object.entries(this.bodyResults))if(d!=="loopVar"&&c[d]){const m=c[d].id,g=p.id,v=Pn({nodeType:Dt.ASSIGNMENT,dependsOn:[m,g],phiBlocks:[]}),E=Dn(this.strandsContext.dag,v);$n(t,this.finalBodyBlock,E)}jr(t);const f={};for(const[d,p]of Object.entries(c))f[d]=xn(p.id,p.dimension,this.strandsContext);return ji(t,r),f}buildBoundedLoop(t,r,i,s,o,a,l){const u=er(t,qt.FOR);if(Ln(t,r,u),ji(t,u),s){const y=Pn({nodeType:Dt.ASSIGNMENT,dependsOn:[o.id,s.id],phiBlocks:[]}),x=Dn(this.strandsContext.dag,y);$n(t,u,x)}const h=Pn({nodeType:Dt.STATEMENT,statementType:zs.EXPRESSION,dependsOn:[a.id],phiBlocks:[]}),c=Dn(this.strandsContext.dag,h);$n(t,u,c);const f=Pn({nodeType:Dt.ASSIGNMENT,dependsOn:[o.id,l.id],phiBlocks:[]}),d=Dn(this.strandsContext.dag,f);$n(t,u,d),jr(t);const p=t.blockInstructions[u]||[],m=s?3:2;if(p.length!==m)throw new Error(`FOR block must have exactly ${m} statements, got ${p.length}`);const g=er(t,qt.SCOPE_START);Ln(t,u,g);const v=er(t,qt.DEFAULT);this.bodyBlock=v,Ln(t,g,v),this.executeBodyCallback(t,r,v,o);const E=er(t,qt.SCOPE_END);Ln(t,v,E),Ln(t,E,i)}buildUnboundedLoop(t,r,i,s,o,a,l){const u=er(t,qt.FOR);if(Ln(t,r,u),ji(t,u),s){const F=Pn({nodeType:Dt.ASSIGNMENT,dependsOn:[o.id,s.id],phiBlocks:[]}),k=Dn(this.strandsContext.dag,F);$n(t,u,k)}else{const F=Pn({nodeType:Dt.STATEMENT,statementType:zs.EMPTY,dependsOn:[],phiBlocks:[]}),k=Dn(this.strandsContext.dag,F);$n(t,u,k)}const h=Pn({nodeType:Dt.STATEMENT,statementType:zs.EMPTY,dependsOn:[],phiBlocks:[]}),c=Dn(this.strandsContext.dag,h);$n(t,u,c);const f=Pn({nodeType:Dt.STATEMENT,statementType:zs.EMPTY,dependsOn:[],phiBlocks:[]}),d=Dn(this.strandsContext.dag,f);$n(t,u,d),jr(t);const p=er(t,qt.SCOPE_START);Ln(t,u,p);const m=er(t,qt.DEFAULT);Ln(t,p,m),ji(t,m);const g=a,v=this.createLogicalNotNode(g),E=er(t,qt.IF_COND);Ln(t,m,E),t.blockConditions[E]=v.id;const y=er(t,qt.DEFAULT);Ln(t,E,y),ji(t,y);const x=Pn({nodeType:Dt.STATEMENT,statementType:zs.BREAK,dependsOn:[],phiBlocks:[]}),b=Dn(this.strandsContext.dag,x);$n(t,y,b),jr(t),Ln(t,y,i),jr(t);const w=er(t,qt.DEFAULT);this.bodyBlock=w,Ln(t,m,w),this.executeBodyCallback(t,r,w,o);const S=er(t,qt.DEFAULT);Ln(t,w,S),ji(t,S);const _=Pn({nodeType:Dt.ASSIGNMENT,dependsOn:[o.id,l.id],phiBlocks:[]}),T=Dn(this.strandsContext.dag,_);$n(t,S,T),jr(t);const C=er(t,qt.SCOPE_END);Ln(t,S,C),Ln(t,C,m),Ln(t,m,i)}initializeLoopVariable(t,r){ji(t,r);let i=this.initialCb();if(!(i instanceof Zi)){const{id:o,dimension:a}=Fi(this.strandsContext,{baseType:Xt.FLOAT,dimension:1},i);i=xn(o,a,this.strandsContext)}const s=r1(this.strandsContext,[{value:i,blockId:r},{value:i,blockId:r}],"loopVar");return jr(t),{initialVar:i,phiNode:s}}createLogicalNotNode(t){const r=Pn({nodeType:Dt.OPERATION,opCode:An.Unary.LOGICAL_NOT,baseType:Xt.BOOL,dimension:1,dependsOn:[t.id],phiBlocks:[],usedBy:[]}),i=Dn(this.strandsContext.dag,r);return xn(i,1,this.strandsContext)}executeBodyCallback(t,r,i,s){ji(t,i);const o={},a={};Bu(t,r);for(const[u,h]of Object.entries(this.initialVars))if(u!=="loopVar"){const c=r1(this.strandsContext,[{value:h,blockId:r},{value:h,blockId:i}],u);a[u]=c,o[u]=xn(c.id,c.dimension,this.strandsContext)}jr(t);const l=xn(s.id,s.dimension,this.strandsContext);this.bodyResults=this.bodyCb(l,o),this.phiNodesForBody=a,this.finalBodyBlock=t.currentBlock,jr(t)}loopIsBounded(t,r,i){if(!r)return!1;const s=Dr(this.strandsContext.dag,r.id);if(s.nodeType!==Dt.OPERATION||!s.dependsOn||s.dependsOn.length!==2)return!1;const o=xn(s.dependsOn[0],1,this.strandsContext),a=xn(s.dependsOn[1],1,this.strandsContext),l=this.nodeUsesOnlyLiterals(o),u=this.nodeUsesOnlyLiterals(a);return l||u}nodeUsesOnlyLiterals(t){const r=Dr(this.strandsContext.dag,t.id);switch(r.nodeType){case Dt.LITERAL:return!0;case Dt.VARIABLE:return!1;case Dt.PHI:return!1;case Dt.OPERATION:if(r.dependsOn)for(const i of r.dependsOn){const s=xn(i,1,this.strandsContext);if(!this.nodeUsesOnlyLiterals(s))return!1}return!0;default:return!1}}}var HC=`// Based on https://github.com/stegu/webgl-noise/blob/22434e04d7753f7e949e8d724ab3da2864c17a0f/src/noise3D.glsl
// MIT licensed, adapted for p5.strands

vec3 mod289(vec3 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 mod289(vec4 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 permute(vec4 x) {
  return mod289(((x*34.0)+10.0)*x);
}

vec4 taylorInvSqrt(vec4 r)
{
  return 1.79284291400159 - 0.85373472095314 * r;
}

float baseNoise(vec3 v)
{
  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
  vec3 i  = floor(v + dot(v, C.yyy) );
  vec3 x0 =   v - i + dot(i, C.xxx) ;

  // Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min( g.xyz, l.zxy );
  vec3 i2 = max( g.xyz, l.zxy );

  //   x0 = x0 - 0.0 + 0.0 * C.xxx;
  //   x1 = x0 - i1  + 1.0 * C.xxx;
  //   x2 = x0 - i2  + 2.0 * C.xxx;
  //   x3 = x0 - 1.0 + 3.0 * C.xxx;
  vec3 x1 = x0 - i1 + C.xxx;
  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y

  // Permutations
  i = mod289(i);
  vec4 p = permute( permute( permute(
          i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
        + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
      + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

  // Gradients: 7x7 points over a square, mapped onto an octahedron.
  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
  float n_ = 0.142857142857; // 1.0/7.0
  vec3  ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

  vec4 x = x_ *ns.x + ns.yyyy;
  vec4 y = y_ *ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4( x.xy, y.xy );
  vec4 b1 = vec4( x.zw, y.zw );

  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;
  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;
  vec4 s0 = floor(b0)*2.0 + 1.0;
  vec4 s1 = floor(b1)*2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

  vec3 p0 = vec3(a0.xy,h.x);
  vec3 p1 = vec3(a0.zw,h.y);
  vec3 p2 = vec3(a1.xy,h.z);
  vec3 p3 = vec3(a1.zw,h.w);

  //Normalise gradients
  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

  // Mix final noise value
  vec4 m = max(0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
  m = m * m;
  return 105.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
        dot(p2,x2), dot(p3,x3) ) );
}

float noise(vec3 st) {
  float result = 0.0;
  float amplitude = 1.0;
  float frequency = 1.0;

  for (int i = 0; i < 4; i++) {
    result += amplitude * baseNoise(st * frequency);
    frequency *= 2.0;
    amplitude *= 0.5;
  }

  return result;
}
`;function nse(n,t,r){for(const{name:s,arity:o,opCode:a}of EM)o==="binary"&&(Zi.prototype[s]=function(...l){const{id:u,dimension:h}=Kie(r,this,l,a);return xn(u,h,r)}),o==="unary"&&(n[s]=function(l){const{id:u,dimension:h}=Yie(r,l,a);return xn(u,h,r)});t.discard=function(){GC(r,zs.DISCARD)},t.break=function(){GC(r,zs.BREAK)},n.break=t.break,t.instanceID=function(){const s=kl(r,{baseType:Xt.INT,dimension:1},"gl_InstanceID");return xn(s.id,s.dimension,r)},n.strandsIf=function(s,o){return new Qie(r,s,o)},t.strandsIf=n.strandsIf,n.strandsFor=function(s,o,a,l,u){return new tse(r,s,o,a,l,u).build()},t.strandsFor=n.strandsFor,n.strandsNode=function(...s){if(s.length===1&&s[0]instanceof Zi)return s[0];s.length>4&&Yi("type error","It looks like you've tried to construct a p5.strands node implicitly, with more than 4 components. This is currently not supported.");const{id:o,dimension:a}=Fi(r,{baseType:Xt.FLOAT,dimension:null},s.flat());return xn(o,a,r)};for(const[s,o]of Object.entries(DM))if(o[0].isp5Function){const l=t[s];t[s]=function(...u){if(r.active){const{id:h,dimension:c}=Iv(r,s,u);return xn(h,c,r)}else return l.apply(this,u)}}else t[s]=function(...l){if(r.active){const{id:u,dimension:h}=Iv(r,s,l);return xn(u,h,r)}else n._friendlyError(`It looks like you've called ${s} outside of a shader's modify() function.`)};const i=t.noise;t.noise=function(...s){if(!r.active)return i.apply(this,s);r.vertexDeclarations.add(HC),r.fragmentDeclarations.add(HC);const o=s.map(h=>n.strandsNode(h));let a;o.length===3?a=[t.vec3(o[0],o[1],o[2])]:o.length===2?a=[t.vec3(o[0],o[1],0)]:o.length===1&&o[0].dimension<=3?o[0].dimension===3?a=o:o[0].dimension===2?a=[t.vec3(o[0],0)]:a=[t.vec3(o[0],0,0)]:n._friendlyError(`It looks like you've called noise() with ${s.length} arguments. It only supports 1D to 3D input.`);const{id:l,dimension:u}=Iv(r,"noise",a,{overloads:[{params:[_n.float3],returnType:_n.float1}]});return xn(l,u,r)};for(const s in _n){if(s===Xt.DEFER)continue;const o=_n[s],a=[];let l;/^[ib]vec/.test(o.fnName)?(l=o.fnName.slice(0,2).toUpperCase()+o.fnName.slice(2).toLowerCase(),a.push(l.replace("Vec","Vector"))):(l=o.fnName.charAt(0).toUpperCase()+o.fnName.slice(1),l==="Sampler2D"?a.push("Texture"):/^vec/.test(o.fnName)&&a.push(l.replace("Vec","Vector"))),t[`uniform${l}`]=function(h,c){const{id:f,dimension:d}=kl(r,o,h);return r.uniforms.push({name:h,typeInfo:o,defaultValue:c}),xn(f,d,r)},t[`shared${l}`]=function(h){const{id:c,dimension:f}=kl(r,o,h);return r.sharedVariables||(r.sharedVariables=new Map),r.sharedVariables.set(h,{typeInfo:o,usedInVertex:!1,usedInFragment:!1,declared:!1}),xn(c,f,r)},t[`varying${l}`]=t[`shared${l}`];for(const h of a)t[`uniform${h}`]=t[`uniform${l}`],t[`varying${h}`]=t[`varying${l}`],t[`shared${h}`]=t[`shared${l}`];const u=t[o.fnName];t[o.fnName]=function(...h){if(r.active){const{id:c,dimension:f}=Fi(r,o,h);return xn(c,f,r)}else{if(u)return u.apply(this,h);n._friendlyError(`It looks like you've called ${o.fnName} outside of a shader's modify() function.`)}}}}function rse(n,t){const r=[],i=n.dag;for(const s of t)if(Ax(s.type.typeName)){const o=Cx(s),{id:a,dimension:l}=Tv(n,o,s.name,[]),u=xn(a,l,n);for(let h=0;h<o.properties.length;h++){const c=o.properties[h];Object.defineProperty(u,c.name,{get(){const f=Dr(i,i.dependsOn[u.id][h]),d=p=>{const g=i.dependsOn[u.id].slice();g[h]=p;const v=Tv(n,o,s.name,g);u.id=v.id};return xn(f.id,f.dimension,n,d)},set(f){const p=[...i.dependsOn[u.id]];let m;f instanceof Zi?m=f.id:m=Fi(n,c.dataType,f).id,p[h]=m;const g=Tv(n,o,s.name,p);u.id=g.id}})}r.push(u)}else{const o=Ig[s.type.typeName],{id:a,dimension:l}=kl(n,o,s.name),u=xn(a,l,n);r.push(u)}return r}function Nv(n,t,r,i){if(!(r instanceof Zi))return Fi(n,t,r).id;const s=n.dag;let o=r.id;const a={baseType:s.baseTypes[o],dimension:s.dimensions[o]};return a.dimension!==t.dimension?a.dimension!==1?Yi("type error",`You have returned a vector with ${a.dimension} components in ${i} when a ${t.baseType+t.dimension} was expected!`):o=Fi(n,t,r).id:a.baseType!==t.baseType&&(o=Fi(n,t,r).id),o}function ise(n,t,r){const i=Object.fromEntries(Object.entries(r.hooks.vertex).map(([h,c])=>[h,{...c,shaderContext:"vertex"}])),s=Object.fromEntries(Object.entries(r.hooks.fragment).map(([h,c])=>[h,{...c,shaderContext:"fragment"}])),o={...i,...s},a=Object.keys(o).map(h=>r.hookTypes(h)),{cfg:l,dag:u}=n;for(const h of a){const c=function(f){const d=er(l,qt.FUNCTION);Ln(l,l.currentBlock,d),ji(l,d);const p=rse(n,h.parameters),m=f(...p),g=h.returnType;let v=null;if(Ax(g.typeName)){const x=Cx(g);if(m instanceof Zi){const b=Dr(n.dag,m.id);b.baseType!==x.typeName&&Yi("type error",`You have returned a ${m.baseType} from ${h.name} when a ${x.typeName} was expected.`);const w=b.dependsOn.slice();for(let S=0;S<x.properties.length;S++){const _=x.properties[S].dataType,T=xn(b.dependsOn[S],u.dependsOn[m.id],n);w[S]=Nv(n,_,T,h.name)}u.dependsOn[m.id]=w,v=m.id}else{const b=x.properties,w=[];for(let _=0;_<b.length;_++){const T=b[_],C=T.name,F=m[C];F===void 0&&Yi("type error",`You've returned an incomplete struct from ${h.name}.
Expected: { ${g.properties.map(N=>N.name).join(", ")} }
Received: { ${Object.keys(m).join(", ")} }
All of the properties are required!`);const k=T.dataType,D=Nv(n,k,F,h.name);w.push(D)}v=Zie(n,x,w).id}}else{const x=Ig[g.typeName];v=Nv(n,x,m,h.name)}const E=`${h.returnType.typeName} ${h.name}`,y=o[E];n.hooks.push({hookType:h,entryBlockID:d,rootNodeID:v,shaderContext:y?.shaderContext}),jr(l)};n.windowOverrides[h.name]=window[h.name],n.fnOverrides[h.name]=t[h.name],window[h.name]=c,t[h.name]=c}}function NM(n,t){function r(a,l,{active:u=!1}={}){a.dag=EC(),a.cfg=zC(),a.uniforms=[],a.vertexDeclarations=new Set,a.fragmentDeclarations=new Set,a.hooks=[],a.globalAssignments=[],a.backend=l,a.active=u,a.previousFES=n.disableFriendlyErrors,a.windowOverrides={},a.fnOverrides={},u&&(n.disableFriendlyErrors=!0)}function i(a){a.dag=EC(),a.cfg=zC(),a.uniforms=[],a.vertexDeclarations=new Set,a.fragmentDeclarations=new Set,a.hooks=[],a.globalAssignments=[],a.active=!1,n.disableFriendlyErrors=a.previousFES;for(const l in a.windowOverrides)window[l]=a.windowOverrides[l];for(const l in a.fnOverrides)t[l]=a.fnOverrides[l]}const s={};r(s),nse(n,t,s);const o=n.Shader.prototype.modify;n.Shader.prototype.modify=function(a,l={}){if(a instanceof Function){r(s,oo,{active:!0}),ise(s,t,this);const u={srcLocations:!1};let h;{const d=`(${a.toString()})`;h=Gie(n,d,u.srcLocations,l)}const c=er(s.cfg,qt.GLOBAL);ji(s.cfg,c),h(),jr(s.cfg);const f=Wie(s);return i(s),o.call(this,f)}else return o.call(this,a)}}typeof p5<"u"&&p5.registerAddon(NM);function sse(n){rF(n,n.prototype),sx(n,n.prototype),Zk(n,n.prototype),ox(n,n.prototype),Jk(n,n.prototype),sF(n,n.prototype),xie(n,n.prototype),V5(n,n.prototype),U5(n,n.prototype),P5(n,n.prototype),B5(n,n.prototype),z5(n,n.prototype),uF(n,n.prototype),R5(n,n.prototype),nx(n,n.prototype),ax(n,n.prototype),NM(n,n.prototype)}function ose(n){n.registerAddon(Qk),n.registerAddon(xM)}const ase=()=>{if(typeof window._setupDone<"u"){console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import");return}if(!window.mocha){const n=new Event("p5Ready");window.dispatchEvent(n),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!zt.instance&&new zt}},lse=()=>new Promise((n,t)=>{document.readyState==="complete"?n():window.addEventListener("load",n,!1)}),use=typeof IS_MINIFIED>"u"?HZ():Promise.resolve();aZ(zt);uZ(zt);cZ(zt);Lne(zt);Pne(zt);Rne(zt);Une(zt);Vne(zt);zne(zt);Gne(zt);Hne(zt);sse(zt);ose(zt);Promise.all([lse(),use]).then(ase);const cse={__name:"ColumnarJoint",setup(n){const t=Xe(null),r=Xe(null);let i=null;function s(){i&&i.resetSketch()}function o(){i&&i.runSketch()}const a=l=>{let u=!1;const h=.5,c=48,f=36;let d=-1,p=null,m=new Array(c),g=new Array(c),v=new Array(c),E=Array.from({length:c},()=>new Array(f).fill(!1)),y=Array.from({length:c},()=>new Array(f).fill(0)),x=Array.from({length:c},()=>new Array(f).fill(0)),b=new Array(f),w=new Array(f),S=-1,_=0,T=0;function C(N){const U=(N||document.documentElement).clientWidth||694,B=(window.innerHeight-160)/h,W=Math.floor(Math.min(U,B)),Z=Math.floor(W*h);return{w:W,h:Z}}l.setup=()=>{l.frameRate(20);const{w:N,h:M}=C(r.value),U=l.createCanvas(N,M);r.value&&U.parent(r.value),U.id("myP5Canvas"),(async()=>{try{p=await l.loadImage("/img/sim/joint1.jpg")}catch{p=null}})();for(let B=0;B<f;B++){const W=l.map(B,0,f,0,l.TWO_PI);b[B]=.001*Math.cos(W),w[B]=.001*Math.sin(W)}E=Array.from({length:c},()=>new Array(f).fill(!1)),y=Array.from({length:c},()=>new Array(f).fill(0)),x=Array.from({length:c},()=>new Array(f).fill(0)),F()},l.windowResized=()=>{const{w:N,h:M}=C(r.value);l.resizeCanvas(N,M)};function F(){d=-1;for(let N=0;N<c;N++){m[N]=Math.round(l.random(96,160));for(let M=0;M<200;M++){const U=l.random(.01,.65),B=l.random(.01,.49);let W=!1;for(let Z=0;Z<N;Z++)if(N!==Z&&l.dist(U,B,g[Z],v[Z])<.06){W=!0;break}if(!W){g[N]=U,v[N]=B;break}}}k()}function k(){for(let N=0;N<c;N++)for(let M=0;M<f;M++)E[N][M]=!1,y[N][M]=g[N],x[N][M]=v[N]}l.draw=()=>{try{if(Array.isArray(l.touches)&&l.touches.length>1)return;l.background(233),l.strokeWeight(1),l.textSize(20),u&&d>=0&&d<200&&d++;for(let N=0;N<c;N++)for(let M=0;M<f;M++){if(E[N][M])continue;const U=g[N]+d*b[M],B=v[N]+d*w[M];let W=!1;for(let Z=0;Z<c;Z++)if(!(Math.abs(g[Z]-g[N])>.3)&&!(Math.abs(v[Z]-v[N])>.3)&&N!==Z&&l.dist(U,B,g[Z],v[Z])<d*.001){W=!0,E[N][M]=!0;break}W||(y[N][M]=U,x[N][M]=B)}l.noStroke();for(let N=0;N<c;N++){l.fill(m[N]),l.beginShape();for(let M=0;M<f;M++)l.vertex(l.width*y[N][M],l.width*x[N][M]);l.endShape(l.CLOSE)}l.fill(0);for(let N=0;N<c;N++)l.ellipse(l.width*g[N],l.width*v[N],l.width*.005,l.width*.005);p&&l.image(p,l.width*.66,0,l.width*.34,l.width*.5)}catch(N){console.error("[ColumnarJoint.draw] error:",N)}};const D=(N,M,U,B,W,Z)=>N>=U&&N<=U+W&&M>=B&&M<=B+Z;l.mousePressed=()=>{if(!D(l.mouseX,l.mouseY,0,0,l.width*.7,l.height))return;let N=999;S=-1;for(let M=0;M<c;M++){const U=l.dist(l.mouseX/l.width,l.mouseY/l.width,g[M],v[M]);U<N&&(N=U,S=M)}S>=0&&(_=l.mouseX/l.width-g[S],T=l.mouseY/l.width-v[S])},l.mouseDragged=()=>{if(!(S<0)){g[S]=l.mouseX/l.width-_,v[S]=l.mouseY/l.width-T,g[S]=l.constrain(g[S],.01,.65),v[S]=l.constrain(v[S],.01,.49),d=-1,u=!1;for(let N=0;N<f;N++)E[S][N]=!1,y[S][N]=g[S],x[S][N]=v[S];return!1}},l.mouseReleased=()=>{S=-1},l.touchStarted=()=>{l.mousePressed()},l.touchMoved=()=>{if(!(Array.isArray(l.touches)&&l.touches.length>1))return l.mouseDragged()},l.touchEnded=()=>{l.mouseReleased()},l.resetSketch=()=>{d=-1,u=!1,F(),l.loop()},l.runSketch=()=>{d<0&&(d=0,u=!0,l.loop())}};return xr(async()=>{await Ji(),r.value&&(i=new zt(a,r.value))}),Ds(()=>{try{i?.remove()}catch(l){console.error("Error removing p5 instance:",l)}}),(l,u)=>(re(),ce("div",{class:"columnar-wrap",ref_key:"wrapRef",ref:t},[A("div",{class:"toolbar"},[A("button",{class:"btn",onClick:s}," "),A("button",{class:"btn primary",onClick:o},"Run"),u[0]||(u[0]=A("span",{class:"title"}," ",-1))]),A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512),u[1]||(u[1]=A("p",{class:"desc"},[Nt(" ()    . "),A("em",null,"Run"),Nt("                . ")],-1))],512))}},WC=wt(cse,[["__scopeId","data-v-e195bc9b"]]),hse={class:"states-of-matter-component"},fse={class:"simulation-layout"},dse={class:"canvas-wrapper"},pse={class:"controls-wrapper"},mse={class:"controls-grid"},gse={class:"control-group radio-group"},vse={class:"checkbox-label"},yse={class:"checkbox-label"},bse={__name:"StatesOfMatterSimulation",setup(n){const t=Xe(null),r=Xe("gas"),i=Xe(!0),s=Xe(!0);let o=null;const a=l=>{let u=40,h=960,c=40,f=40,d=960,p=54,m=[],g=[],v=[],E=[];const y=C=>l.cos(l.radians(C)),x=C=>l.sin(l.radians(C)),b=(C,F)=>l.degrees(l.atan2(F,C)),w=(C,F)=>(C%F+F)%F;l.setup=()=>{const C=t.value.offsetWidth,F=C;l.createCanvas(C,F),l.frameRate(30),_(),S()};const S=()=>{const C=r.value;if(C!=="gas")for(let F=0;F<p;F++)E[F]>180&&(E[F]=l.int(l.random(40,140)));if(C==="solid")for(let F=0;F<p;F++)v[F]=4;if(C==="liquid")for(let F=0;F<p;F++)v[F]=4;if(C==="gas")for(let F=0;F<p;F++)v[F]=8},_=()=>{for(let C=0;C<p;C++)m[C]=l.random(u,h),g[C]=l.random(f,d),E[C]=l.round(l.random(360))};l.windowResized=()=>{const C=t.value.offsetWidth,F=C;l.resizeCanvas(C,F)},l.draw=()=>{if(l.touches.length>1)return;l.background(255),l.textAlign(l.CENTER,l.CENTER),l.push(),l.scale(l.width/1e3),i.value&&T(),l.noStroke();let C=l.color(255),F=l.color(128,255,255);if(l.fill(l.lerpColor(C,F,l.map(f,c,d,-1,1))),l.rect(u-20,f,h-u+40,d-f+40),l.noFill(),l.stroke(255,0,0),l.strokeWeight(3),r.value!=="gas"&&s.value)for(let k=0;k<p-1;k++)for(let D=k+1;D<p;D++)l.dist(m[k],g[k],m[D],g[D])<35&&l.line(m[k],g[k],m[D],g[D]);l.noStroke();for(let k=0;k<p;k++){let D=0,N=0;i.value&&r.value==="solid"&&(D=l.random(-1,1),N=l.random(-1,1)),l.fill(0,0,255),s.value?l.ellipse(m[k]+D,g[k]+N,28,28):l.ellipse(m[k]+D,g[k]+N,34,34)}l.noFill(),l.stroke(64),l.strokeWeight(40),l.rect(u-30,c-30,h-u+60,d-c+60),l.rect(u-30,c-30,h-u+60,d-c+60,40),l.pop()};function T(){let C=!1;const F=r.value;if(F==="gas")f=c;else{f=d;for(let D=0;D<p;D++)f=l.min(f,g[D]);if(f>=d-60&&F==="solid"){C=!0;for(let D=0;D<p-1;D++)for(let N=D+1;N<p;N++)if(m[N]<m[D]){let M=m[D];m[D]=m[N],m[N]=M,M=g[D],g[D]=g[N],g[N]=M}}if(!C){let D=0;for(let N=1;N<p;N++)g[N]<g[D]&&(D=N);E[D]=l.int(l.random(40,140))}f=l.min(f,d-60)}if(C)for(let D=0;D<p;D+=2){if(g[D+1]<g[D]){let B=m[D];m[D]=m[D+1],m[D+1]=B,B=g[D],g[D]=g[D+1],g[D+1]=B}let N=l.map(D,0,p-2,u+13,h-13),M=d-42,U=d-8;m[D+0]=l.lerp(m[D],N,.1),m[D+1]=l.lerp(m[D+1],N,.1),g[D+0]=l.lerp(g[D],M,.1),g[D+1]=l.lerp(g[D+1],U,.1)}let k=30;for(let D=0;D<p-1;D++)for(let N=D+1;N<p;N++){let M=m[D]+v[D]*y(E[D]),U=g[D]+v[D]*x(E[D]),B=m[N]+v[N]*y(E[N]),W=g[N]+v[N]*x(E[N]);if(l.dist(m[D],g[D],m[N],g[N])<k&&l.dist(m[D],g[D],m[N],g[N])>l.dist(M,U,B,W)){let Z=v[D]*y(E[D]),fe=v[D]*x(E[D]),Q=v[N]*y(E[N]),J=v[N]*x(E[N]),ae=(Z+Q)/2,be=(fe+J)/2,ee=Z-ae,K=fe-be,xe=Q-ae,ie=J-be,ge=l.dist(0,0,ee,K),z=l.dist(0,0,xe,ie),se=b(ee,K),ye=b(xe,ie),Ce=b(m[N]-m[D],g[N]-g[D]),$=b(m[D]-m[N],g[D]-g[N]);se=w(2*Ce+180-se,360),ye=w(2*$+180-ye,360),Z=ge*y(se),fe=ge*x(se),Q=z*y(ye),J=z*x(ye),Z+=ae,fe+=be,Q+=ae,J+=be,F==="gas"&&(v[D]=l.dist(0,0,Z,fe),v[N]=l.dist(0,0,Q,J)),E[D]=b(Z,fe),E[N]=b(Q,J)}}for(let D=0;D<p;D++)C||(m[D]+=v[D]*y(E[D]),g[D]+=v[D]*x(E[D])),m[D]<u&&(m[D]=2*u-m[D],E[D]=w(180-E[D],360)),m[D]>h&&(m[D]=2*h-m[D],E[D]=w(180-E[D],360)),g[D]<f&&(g[D]=2*f-g[D],E[D]=360-E[D]),g[D]>d&&(g[D]=2*d-g[D],E[D]=360-E[D])}l.myCustomRedrawAccordingToState=()=>{S()}};return xr(()=>{o=new zt(a,t.value)}),nu(()=>{o&&o.remove()}),Wi(r,()=>{o&&o.myCustomRedrawAccordingToState()}),(l,u)=>(re(),ce("div",hse,[A("div",fse,[A("div",dse,[A("div",{ref_key:"canvasContainer",ref:t},null,512)]),A("div",pse,[u[10]||(u[10]=A("header",{class:"entry-header"},[A("h1",{class:"entry-title"}," ")],-1)),A("div",mse,[A("div",gse,[A("label",null,[an(A("input",{type:"radio","onUpdate:modelValue":u[0]||(u[0]=h=>r.value=h),value:"solid"},null,512),[[Xs,r.value]]),u[5]||(u[5]=Nt("  ",-1))]),A("label",null,[an(A("input",{type:"radio","onUpdate:modelValue":u[1]||(u[1]=h=>r.value=h),value:"liquid"},null,512),[[Xs,r.value]]),u[6]||(u[6]=Nt("  ",-1))]),A("label",null,[an(A("input",{type:"radio","onUpdate:modelValue":u[2]||(u[2]=h=>r.value=h),value:"gas"},null,512),[[Xs,r.value]]),u[7]||(u[7]=Nt("  ",-1))])]),A("label",vse,[an(A("input",{type:"checkbox","onUpdate:modelValue":u[3]||(u[3]=h=>i.value=h)},null,512),[[Ll,i.value]]),u[8]||(u[8]=Nt(" Run ",-1))]),A("label",yse,[an(A("input",{type:"checkbox","onUpdate:modelValue":u[4]||(u[4]=h=>s.value=h)},null,512),[[Ll,s.value]]),u[9]||(u[9]=Nt("     ",-1))])]),u[11]||(u[11]=A("div",{class:"entry-content"},[A("h2",null," "),A("p",null,"    , ,     .  ,          .  ,    ,     ,      . ,         ,       ."),A("p",null,"   ,     .     ,    .         ,    .")],-1))])])]))}},XC=wt(bse,[["__scopeId","data-v-10eeae8e"]]),xse={class:"ecosystem-component"},_se={class:"canvas-wrapper"},wse={class:"controls-bar"},Ese={class:"checkbox-label"},Sse={__name:"EcosystemSimulation",setup(n){const t=Xe(null),r=Xe(!0);let i=null;const s=c=>{let f,d,p,m=1.15,g=0,v=[],E=[],y=0,x=400,b=200,w=[],S=[],_=[],T=[],C=[],F=.002,k=0,D=600,N=300,M=[],U=[],B=[],W=[],Z=[],fe=.002,Q=1,J=[],ae=[],be=[];const ee=(te,Ae)=>(te%Ae+Ae)%Ae;c.setup=async()=>{const te=t.value.offsetWidth,Ae=te*.5;c.createCanvas(te,Ae),c.frameRate(60);const _e="/img/sim/";try{f=await c.loadImage(_e+"ecosystem_herb.png"),console.log(" Herb image loaded")}catch{console.warn(" Herb image loading failed, using shape instead"),f=null}try{d=await c.loadImage(_e+"ecosystem_hare.png"),console.log(" Hare image loaded")}catch{console.warn(" Hare image loading failed, using shape instead"),d=null}try{p=await c.loadImage(_e+"ecosystem_wolf.png"),console.log(" Wolf image loaded")}catch{console.warn(" Wolf image loading failed, using shape instead"),p=null}c.imageMode(c.CENTER),c.addHare=()=>ie(),c.removeHare=()=>{y>0&&z(y-1)},c.addWolf=()=>se(),c.removeWolf=()=>{k>0&&Ce(k-1)},c.clearGraph=()=>$();for(let Ee=0;Ee<50;Ee++)K();for(let Ee=0;Ee<30;Ee++)ie();for(let Ee=0;Ee<10;Ee++)se();$()},c.windowResized=()=>{const te=t.value.offsetWidth,Ae=te*.5;c.resizeCanvas(te,Ae)};function K(){v[g]=c.random(m*.05,m*.95),E[g]=c.random(.05,.95),g++}function xe(te){g--,v[te]=v[g],E[te]=E[g]}function ie(){w[y]=c.int(c.random(x*.25,x*.75)),S[y]=c.int(c.random(b*.25,b*.75)),_[y]=c.random(1)*m,T[y]=c.random(1),C[y]=c.random(c.TWO_PI),y++}function ge(te){w[y]=x,S[y]=b*.5,_[y]=_[te],T[y]=T[te],C[y]=c.random(c.TWO_PI),y++}function z(te){y--,w[te]=w[y],S[te]=S[y],_[te]=_[y],T[te]=T[y],C[te]=C[y]}function se(){M[k]=c.int(c.random(D*.25,D*.75)),U[k]=c.int(c.random(N*.25,N*.75)),B[k]=c.random(1)*m,W[k]=c.random(1),Z[k]=c.random(c.TWO_PI),k++}function ye(te){M[k]=D,U[k]=N*.5,B[k]=B[te],W[k]=W[te],Z[k]=c.random(c.TWO_PI),k++}function Ce(te){k--,M[te]=M[k],U[te]=U[k],B[te]=B[k],W[te]=W[k],Z[te]=Z[k]}function $(){J=[g*3],ae=[y],be=[k]}function q(){if(g<2e3&&ee(c.frameCount,5)==0){let te=c.random(m*.05,m*.95),Ae=c.random(.05,.95),_e=999,Ee=999;for(let pe=0;pe<g;pe++)_e=c.abs(te-v[pe])+c.abs(Ae-E[pe]),_e<Ee&&(Ee=_e);Ee>.05&&K()}for(let te=0;te<y;te++){if(C[te]+=c.random(-1,1),S[te]<b*.7){let Ae=999,_e=999,Ee=-1;for(let pe=0;pe<g;pe++)Ae=c.abs(_[te]-v[pe])+c.abs(T[te]-E[pe]),Ae<_e&&(_e=Ae,Ee=pe);Ee>=0&&(C[te]=c.atan2(E[Ee]-T[te],v[Ee]-_[te]),_e<.03&&(xe(Ee),S[te]=b))}if(_[te]+=F*c.cos(C[te]),T[te]+=F*c.sin(C[te]),_[te]=c.constrain(_[te],m*.05,m*.95),T[te]=c.constrain(T[te],.05,.95),w[te]--,w[te]<=0){z(te);continue}if(S[te]--,S[te]<=0){z(te);continue}w[te]==c.int(x*.2)&&S[te]>b*.5&&ge(te),w[te]==c.int(x*.4)&&S[te]>b*.5&&ge(te),w[te]==c.int(x*.5)&&S[te]>b*.5&&ge(te),w[te]==c.int(x*.6)&&S[te]>b*.5&&ge(te),w[te]==c.int(x*.8)&&S[te]>b*.5&&ge(te)}for(let te=0;te<k;te++){if(Z[te]+=c.random(-1,1),k<y/4&&U[te]<N*.5){let Ae=999,_e=999,Ee=-1;for(let pe=0;pe<y;pe++)Ae=c.abs(B[te]-_[pe])+c.abs(W[te]-T[pe]),Ae<_e&&(_e=Ae,Ee=pe);Ee>=0&&(Z[te]=c.atan2(T[Ee]-W[te],_[Ee]-B[te]),_e<.02&&(z(Ee),U[te]=N))}if(B[te]+=fe*c.cos(Z[te]),W[te]+=fe*c.sin(Z[te]),B[te]=c.constrain(B[te],m*.05,m*.95),W[te]=c.constrain(W[te],.05,.95),M[te]--,M[te]<=0){Ce(te);continue}if(U[te]--,U[te]<=0){Ce(te);continue}M[te]==c.int(D*.4)&&ye(te),M[te]==c.int(D*.6)&&ye(te)}ee(c.frameCount,30)==0&&(J.push(g*3),ae.push(y),be.push(k),J.length>100&&(J.splice(0,1),ae.splice(0,1),be.splice(0,1)),Q=c.max(c.max(J),c.max(ae),c.max(be)))}c.draw=()=>{if(c.touches.length>1)return;c.background(233),c.strokeWeight(c.width/500),c.textSize(c.width/40),c.textAlign(c.CENTER,c.CENTER),r.value&&q(),c.noStroke(),c.fill(233,222,191),c.rect(0,0,c.height*m,c.height);for(let pe=0;pe<g;pe++)f&&f.width>0?c.image(f,v[pe]*c.height,E[pe]*c.height,c.width*.05,c.width*.05):(c.fill(34,139,34),c.circle(v[pe]*c.height,E[pe]*c.height,c.width*.03));for(let pe=0;pe<y;pe++)d&&d.width>0?c.image(d,_[pe]*c.height,T[pe]*c.height,c.width*.05,c.width*.05):(c.fill(160,110,80),c.circle(_[pe]*c.height,T[pe]*c.height,c.width*.04)),c.fill(255,0,0),c.rect(_[pe]*c.height-c.width*.025,T[pe]*c.height+c.width*.02,c.map(w[pe],0,x,0,c.width*.05),c.width*.004),c.fill(0,255,0),c.rect(_[pe]*c.height-c.width*.025,T[pe]*c.height+c.width*.025,c.map(S[pe],0,b,0,c.width*.05),c.width*.004);for(let pe=0;pe<k;pe++)p&&p.width>0?c.image(p,B[pe]*c.height,W[pe]*c.height,c.width*.05,c.width*.05):(c.fill(139,69,19),c.circle(B[pe]*c.height,W[pe]*c.height,c.width*.05)),c.fill(255,0,0),c.rect(B[pe]*c.height-c.width*.025,W[pe]*c.height+c.width*.025,c.map(M[pe],0,D,0,c.width*.05),c.width*.004),c.fill(0,255,0),c.rect(B[pe]*c.height-c.width*.025,W[pe]*c.height+c.width*.03,c.map(U[pe],0,N,0,c.width*.05),c.width*.004);c.fill(255),c.rect(c.height*m,0,c.width,c.height);let te=c.width*.62,Ae=c.width,_e=c.height*.5,Ee=c.height*.995;c.noFill(),c.stroke(0),c.line(te,_e,te,Ee),c.line(te,Ee,Ae,Ee),c.stroke(64,255,64),c._renderer.beginShape();for(let pe=0;pe<J.length;pe++)c._renderer.vertex(c.map(pe,0,100,te,Ae),c.map(J[pe],0,Q,Ee,_e));c._renderer.endShape(),c.line(te+c.width*.1,c.height*.1,te+c.width*.2,c.height*.1),f&&f.width>0?c.image(f,te+c.width*.23,c.height*.1,c.width*.05,c.width*.05):(c.fill(34,139,34),c.circle(te+c.width*.23,c.height*.1,c.width*.03)),c.stroke(90),c._renderer.beginShape();for(let pe=0;pe<ae.length;pe++)c._renderer.vertex(c.map(pe,0,100,te,Ae),c.map(ae[pe],0,Q,Ee,_e));c._renderer.endShape(),c.line(te+c.width*.1,c.height*.23,te+c.width*.2,c.height*.23),d&&d.width>0?c.image(d,te+c.width*.23,c.height*.23,c.width*.05,c.width*.05):(c.fill(160,110,80),c.circle(te+c.width*.23,c.height*.23,c.width*.04)),c.stroke(191,64,0),c._renderer.beginShape();for(let pe=0;pe<be.length;pe++)c._renderer.vertex(c.map(pe,0,100,te,Ae),c.map(be[pe],0,Q,Ee,_e));c._renderer.endShape(),c.line(te+c.width*.1,c.height*.36,te+c.width*.2,c.height*.36),p&&p.width>0?c.image(p,te+c.width*.23,c.height*.36,c.width*.05,c.width*.05):(c.fill(139,69,19),c.circle(te+c.width*.23,c.height*.36,c.width*.05)),c.fill(0),c.noStroke(),c.textAlign(c.LEFT,c.CENTER),c.text(c.int(g*3),te+c.width*.26,c.height*.1),c.text(y,te+c.width*.26,c.height*.23),c.text(k,te+c.width*.26,c.height*.36)}};xr(()=>{try{i=new zt(s,t.value)}catch(c){console.error(" Failed to initialize p5.js:",c)}}),nu(()=>{if(i)try{i.remove()}catch(c){console.error("Error removing p5 instance:",c)}});const o=()=>{i&&i.addHare()},a=()=>{i&&i.removeHare()},l=()=>{i&&i.addWolf()},u=()=>{i&&i.removeWolf()},h=()=>{i&&i.clearGraph()};return(c,f)=>(re(),ce("div",xse,[A("div",_se,[A("div",{ref_key:"canvasContainer",ref:t,style:{"aspect-ratio":"2 / 1"}},null,512)]),A("div",wse,[A("button",{onClick:a}," -"),A("button",{onClick:o}," +"),A("button",{onClick:u}," -"),A("button",{onClick:l}," +"),A("label",Ese,[an(A("input",{type:"checkbox","onUpdate:modelValue":f[0]||(f[0]=d=>r.value=d)},null,512),[[Ll,r.value]]),f[1]||(f[1]=Nt("  ",-1))]),A("button",{onClick:h}," ")]),f[2]||(f[2]=pi('<div class="text-content" data-v-d5c7d2c2><header class="entry-header" data-v-d5c7d2c2><h1 class="entry-title" data-v-d5c7d2c2></h1></header><div class="entry-content" data-v-d5c7d2c2><h2 data-v-d5c7d2c2> </h2><ul data-v-d5c7d2c2><li data-v-d5c7d2c2>    .    .  0   .</li><li data-v-d5c7d2c2>   () .    .  0   .</li><li data-v-d5c7d2c2>  :   50%  ,   20%, 40%, 50%, 60%, 80%   1 .</li><li data-v-d5c7d2c2>  :    ,   40%, 60%   1 . </li><li data-v-d5c7d2c2>        .</li></ul><h2 data-v-d5c7d2c2>  </h2><p data-v-d5c7d2c2>20             .    , ,    .<br data-v-d5c7d2c2>                .       30       .</p><p data-v-d5c7d2c2>            .              .<br data-v-d5c7d2c2>            .         .</p></div></div>',1))]))}},qC=wt(Sse,[["__scopeId","data-v-d5c7d2c2"]]),Cse={class:"toolbar"},Ase={class:"row"},Tse={class:"radio"},Ise={class:"radio"},Dse={class:"row"},Nse={class:"check"},Fse={class:"row"},kse={class:"val"},Mse={__name:"MagnetField",setup(n){const t=Xe(null),r=Xe(null),i=Xe("bar"),s=Xe(!0),o=Xe(2);let a=null,l=-.3,u=0,h=!1,c=0,f=0;const d=[],p=[],m=[],g=[],v=[],E=[];let y=null,x=null;function b(S){d.length=0,p.length=0,m.length=0,g.length=0,v.length=0,E.length=0;const _=D=>{let N=0,M=0,U=0;for(let B=0;B<500;B++){if(D>10?(N=S.random(-350,350),M=S.random(-500,500),U=S.random(-350,350)):(N=S.random(-100,100),M=S.random(-100,100),U=S.random(-100,100)),S.mag(N,U)>350)continue;let W=!1;for(let Z=0;Z<d.length;Z++)S.dist(N,M,U,d[Z],p[Z],m[Z])<D&&(W=!0);if(!W)break}return{x:N,y:M,z:U}};for(let D=0;D<200;D++){const N=_(20);d.push(N.x),p.push(N.y),m.push(N.z)}for(let D=0;D<40;D++){const N=_(5);d.push(N.x),p.push(N.y+(D<20?200:-200)),m.push(N.z)}const T=[0,0],C=[-200,200],F=[0,0],k=[-1,1];for(let D=0;D<d.length;D++){let N=0,M=0,U=0;for(let W=0;W<T.length;W++){const Z=S.dist(d[D],p[D],m[D],T[W],C[W],F[W]);N+=k[W]/(Z*Z)*((d[D]-T[W])/Math.abs(Z)),M+=k[W]/(Z*Z)*((p[D]-C[W])/Math.abs(Z)),U+=k[W]/(Z*Z)*((m[D]-F[W])/Math.abs(Z))}const B=S.dist(0,0,0,N,M,U);g[D]=N/B*13,v[D]=M/B*13,E[D]=U/B*13}}function w(S){const _=()=>{const D=t.value,N=D?D.clientWidth:window.innerWidth,M=Math.floor(Math.min(N,Math.max(320,window.innerHeight-160)));return{w:M,h:M}};S.setup=async()=>{const D="/img/sim/";try{y=await S.loadImage(D+"bar_magnet_texture.png"),console.log("[MagnetField] bar texture loaded:",D+"bar_magnet_texture.png")}catch(B){console.error("[MagnetField] bar texture failed:",B),y=null}try{x=await S.loadImage(D+"earth_movements_map.png"),console.log("[MagnetField] earth texture loaded:",D+"earth_movements_map.png")}catch(B){console.error("[MagnetField] earth texture failed:",B),x=null}const{w:N,h:M}=_();S.createCanvas(N,M,S.WEBGL).parent(t.value),S.setAttributes("antialias",!0),b(S)},S.windowResized=()=>{const{w:D,h:N}=_();S.resizeCanvas(D,N)},S.draw=()=>{i.value==="bar"?S.background(233,255,233):S.background(222),s.value&&(u+=.01),S.push(),S.scale(S.width/1e3),S.rotateX(l),S.rotateY(u),i.value==="bar"?(S.push(),S.rotateZ(-S.HALF_PI),S.translate(-100,0,0),S.noStroke(),S.fill(255,0,0),S.box(200,50,24),S.translate(200,0,0),S.fill(0,0,255),S.box(200,50,24),y&&(S.translate(-100,0,13),S.texture(y),S.plane(400,50),S.translate(0,0,-26),S.texture(y),S.plane(400,50)),S.pop()):(S.push(),S.noStroke(),x?(S.textureMode(S.NORMAL),S.textureWrap(S.CLAMP),S.texture(x),S.sphere(200,64,64)):(S.fill(120,170,255),S.sphere(200,32,24)),S.pop()),S.strokeWeight(o.value),S.stroke(255,0,0);for(let D=0;D<d.length;D++)S.line(d[D],p[D],m[D],d[D]+g[D],p[D]+v[D],m[D]+E[D]);S.stroke(0,0,255);for(let D=0;D<d.length;D++)S.line(d[D],p[D],m[D],d[D]-g[D],p[D]-v[D],m[D]-E[D]);S.pop()};const T=()=>{k(S)&&(c=S.mouseX*1e3/S.width,f=S.mouseY*1e3/S.width,h=!0)},C=()=>{if(!(S.touches&&S.touches.length>1)&&h)return l+=.002*(f-S.mouseY*1e3/S.width),l=S.constrain(l,-S.HALF_PI,S.HALF_PI),u+=.002*(S.mouseX*1e3/S.width-c),c=S.mouseX*1e3/S.width,f=S.mouseY*1e3/S.width,!1},F=()=>{h=!1};S.touchStarted=T,S.touchMoved=C,S.touchEnded=F,S.mousePressed=T,S.mouseDragged=C,S.mouseReleased=F;function k(D){const N=D.mouseX,M=D.mouseY;return N>=0&&N<=D.width&&M>=0&&M<=D.height}}try{zt&&(zt.disableFriendlyErrors=!0),zt.prototype&&(zt.prototype.disableFriendlyErrors=!0)}catch{}return xr(()=>{const S=globalThis.nf;try{a=new zt(w)}finally{typeof S<"u"?globalThis.nf=S:delete globalThis.nf}}),Ds(()=>{a&&(a.remove(),a=null)}),Wi(i,()=>{}),(S,_)=>(re(),ce("div",{class:"magnet-wrap",ref_key:"wrapRef",ref:r},[A("div",Cse,[A("div",Ase,[A("label",Tse,[an(A("input",{type:"radio",value:"bar","onUpdate:modelValue":_[0]||(_[0]=T=>i.value=T)},null,512),[[Xs,i.value]]),_[4]||(_[4]=A("span",null,"",-1))]),A("label",Ise,[an(A("input",{type:"radio",value:"earth","onUpdate:modelValue":_[1]||(_[1]=T=>i.value=T)},null,512),[[Xs,i.value]]),_[5]||(_[5]=A("span",null,"",-1))])]),A("div",Dse,[A("label",Nse,[an(A("input",{type:"checkbox","onUpdate:modelValue":_[2]||(_[2]=T=>s.value=T)},null,512),[[Ll,s.value]]),_[6]||(_[6]=A("span",null,"Auto Rotate",-1))])]),A("div",Fse,[_[7]||(_[7]=A("span",{class:"label"}," ",-1)),an(A("input",{type:"range",min:"1",max:"5",step:"0.1","onUpdate:modelValue":_[3]||(_[3]=T=>o.value=T)},null,512),[[nr,o.value,void 0,{number:!0}]]),A("span",kse,Be(o.value.toFixed(1)),1)])]),A("div",{class:"canvas-host",ref_key:"hostRef",ref:t},null,512),_[8]||(_[8]=A("p",{class:"helper"},"( )  .",-1))],512))}},YC=wt(Mse,[["__scopeId","data-v-afb80f2e"]]),Ose={class:"material-selector"},Lse=["onClick"],Pse={__name:"ThermalConductivitySim",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe([{key:"copper",name:"",k:25,color:[184,115,51],colorStr:"rgb(184, 115, 51)"},{key:"aluminum",name:"",k:15,color:[192,192,192],colorStr:"rgb(192, 192, 192)"},{key:"iron",name:"",k:3.75,color:[60,60,60],colorStr:"rgb(60, 60, 60)"},{key:"steel",name:"",k:1,color:[210,210,210],colorStr:"rgb(210, 210, 210)"}]),o=Xe("steel");function a(){i&&i.resetSketch()}function l(){i&&i.runSketch()}function u(c){o.value=c,i&&i.setMaterial(c)}const h=c=>{let f=!1,d=20,p=0;const m=20,g=100,v=2e4;let E=v,y=[],x=[];const b={copper:{name:"",k:25,color:[184,115,51]},aluminum:{name:"",k:15,color:[192,192,192]},iron:{name:"",k:3.75,color:[60,60,60]},steel:{name:"",k:1,color:[210,210,210]}};let w=b.steel;const S=.7;let _=600,T=_*S;c.setup=()=>{const{canvasW:B,canvasH:W}=U(r.value);_=B,T=W,c.createCanvas(_,T).parent(r.value),c.pixelDensity(Math.min(2,window.devicePixelRatio||1)),c.noLoop(),c.redraw()},c.windowResized=()=>{const{canvasW:B,canvasH:W}=U(r.value);_=B,T=W,c.resizeCanvas(_,T),c.redraw()},c.draw=()=>{if(c.background(255),f){let B=c.millis()-p;d=c.map(B,0,E,m,g),d=c.constrain(d,m,g)}C(_/2,T*.95,f),F(_/2,T*.7,_*.5,T*.4),k(_/2,T*.7,_*.5,T*.4),d>m&&N(_/2,T*.7,_*.45,T*.38),d>=g&&M(_/2,T*.52,_*.45),D(_*.1,T*.8,_*.05,T*.6)};function C(B,W,Z){if(c.noStroke(),c.fill(100),c.rectMode(c.CENTER),c.rect(B,W,_*.6,T*.05,5),Z){c.fill(255,150,0,200);for(let fe=0;fe<5;fe++){let Q=B+c.random(-_*.25,_*.25),J=W-T*.05+c.random(-T*.02,T*.02);c.ellipse(Q,J,_*.03,T*.08)}c.fill(0,150,255,180);for(let fe=0;fe<3;fe++){let Q=B+c.random(-_*.25,_*.25),J=W-T*.05+c.random(-T*.01,T*.01);c.ellipse(Q,J,_*.02,T*.05)}}}function F(B,W,Z,fe){c.rectMode(c.CENTER),c.fill(80),c.noStroke(),c.rect(B-Z*.6,W-fe*.3,Z*.1,fe*.2,5),c.rect(B+Z*.6,W-fe*.3,Z*.1,fe*.2,5),c.fill(150),c.rect(B,W,Z,fe,10),c.fill(w.color),c.rect(B,W+fe*.45,Z,fe*.1,0,0,10,10)}function k(B,W,Z,fe){c.fill(0,150,255,100),c.noStroke(),c.rectMode(c.CENTER);let Q=W+c.map(fe,0,fe,-fe*.05,fe*.3);c.rect(B,Q,Z*.95,fe*.7,5,5,0,0)}function D(B,W,Z,fe){c.rectMode(c.CORNER),c.textAlign(c.CENTER,c.BOTTOM),c.fill(0),c.textSize(14),c.text(d.toFixed(1)+"C",B,W-fe-25),c.fill(255),c.stroke(100),c.strokeWeight(2),c.rect(B-Z/2,W-fe,Z,fe,10);let Q=c.map(d,0,100,0,fe*.9);Q=c.constrain(Q,0,fe*.9),c.fill(255,0,0),c.noStroke(),c.rect(B-Z/2+5,W-Q,Z-10,Q,5),c.stroke(120),c.strokeWeight(1);let J=W-fe*.9,ae=W;c.line(B-Z,J,B-Z/2,J),c.line(B-Z,ae,B-Z/2,ae),c.textAlign(c.RIGHT,c.CENTER),c.fill(0),c.noStroke(),c.textSize(10),c.text("100",B-Z/2-5,J),c.text("0",B-Z/2-5,ae)}function N(B,W,Z,fe){c.rectMode(c.CENTER);let Q=W-fe/2,J=W+fe/2,ae=0;if(d>80&&(ae=c.map(d,80,g,.1,1)),c.random(1)<ae&&f){let be={x:B+c.random(-Z/2,Z/2),y:J-c.random(10),r:c.random(1,c.map(d,80,g,3,8)),speed:c.random(1,3)};y.push(be)}c.fill(255,255,255,150),c.noStroke();for(let be=y.length-1;be>=0;be--){let ee=y[be];ee.y-=ee.speed,ee.x+=c.random(-.5,.5),c.ellipse(ee.x,ee.y,ee.r,ee.r),ee.y<Q&&y.splice(be,1)}}function M(B,W,Z){if(c.random(1)<.8&&f){let fe={x:B+c.random(-Z/2,Z/2),y:W,r:c.random(5,15),alpha:100,speedY:c.random(1,2)};x.push(fe)}c.noStroke();for(let fe=x.length-1;fe>=0;fe--){let Q=x[fe];Q.y-=Q.speedY,Q.alpha-=2,Q.x+=c.random(-1,1),c.fill(200,200,200,Q.alpha),c.ellipse(Q.x,Q.y,Q.r,Q.r),Q.alpha<0&&x.splice(fe,1)}}function U(B){const Z=(B||document.documentElement).clientWidth||600,fe=Math.floor(Z),Q=Math.floor(fe*S);return{canvasW:fe,canvasH:Q}}c.setMaterial=B=>{w=b[B]||b.steel,E=v/w.k,c.resetSketch()},c.resetSketch=()=>{f=!1,d=m,y=[],x=[],c.noLoop(),c.redraw()},c.runSketch=()=>{f||(c.resetSketch(),f=!0,p=c.millis(),c.loop())}};return xr(async()=>{await Ji(),r.value&&(i=new zt(h,r.value),i&&i.setMaterial(o.value))}),Ds(()=>{try{i?.remove()}catch(c){console.error("Error removing p5 instance:",c)}}),(c,f)=>(re(),ce("div",{class:"columnar-wrap",ref_key:"wrapRef",ref:t},[A("div",{class:"toolbar"},[A("button",{class:"btn",onClick:a},""),A("button",{class:"btn primary",onClick:l},"  (Run)"),f[0]||(f[0]=A("span",{class:"title"},"     ?",-1))]),A("div",Ose,[f[1]||(f[1]=A("strong",null,"  :",-1)),(re(!0),ce(at,null,At(s.value,d=>(re(),ce("button",{key:d.key,class:ht(["btn-mat",{active:o.value===d.key}]),style:Xn({"--mat-color":d.colorStr}),onClick:p=>u(d.key)},Be(d.name),15,Lse))),128))]),A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512),f[2]||(f[2]=A("p",{class:"desc"},[Nt("     . "),A("em",null,"Run"),Nt("   "),A("strong",null,"(k)"),Nt("      .      . ")],-1))],512))}},KC=wt(Pse,[["__scopeId","data-v-861b45ff"]]),Rse={class:"tool-selector"},Bse=["onClick"],Use={class:"tool-main"},Vse={class:"tool-step"},$se={__name:"MixtureSeperation",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe([{key:"magnet",label:"",step:1},{key:"water",label:" ",step:2},{key:"filter",label:"",step:3},{key:"heat",label:"",step:4}]),o=Xe(null);function a(){o.value=null,i?.resetSketch?.()}function l(h){o.value=h,i?.applyTool?.(h)}const u=h=>{let c=0,f="  , ,       .",d="",p=!1,m=0;const g=8e3;let v=[];const E=1.3;let y=600,x=600,b,w,S,_,T;h.setup=()=>{const{canvasW:Q,canvasH:J}=fe(r.value);y=Q,x=J,h.createCanvas(y,x).parent(r.value),h.pixelDensity(Math.min(2,window.devicePixelRatio||1)),C(),F(),h.noLoop(),h.redraw()},h.windowResized=()=>{if(!r.value)return;const{canvasW:Q,canvasH:J}=fe(r.value);y=Q,x=J,h.resizeCanvas(y,x),C(),h.redraw()},h.draw=()=>{h.background(255),k(),D(b," "),D(S,c>=3?" /  ":" "),N(),M(),U(),B(),c>=2&&W(),c===4&&Z()};function C(){const Q=y*.08;b={x:y*.26,y:x*.75,w:y*.28,h:x*.38},S={x:y*.74,y:x*.77,w:y*.26,h:x*.36},w={x:(b.x+S.x)/2,y:x*.55,w:y*.26,h:x*.08},_={x:Q+y*.08,y:x*.55,w:y*.18,h:x*.1},T={x:S.x,y:x*.97,w:S.w*.9,h:x*.04}}function F(){v=[];const Q={x:.1,y:.45,w:.8,h:.45},J=(ae,be)=>{for(let ee=0;ee<be;ee++)v.push({type:ae,container:"mixture",rx:Q.x+h.random()*Q.w,ry:Q.y+h.random()*Q.h})};J("iron",18),J("sand",18),J("salt",18)}function k(){const Q=y*.06,J=x*.04,ae=y-Q*2;let be=J;h.textAlign(h.LEFT,h.TOP),h.rectMode(h.CORNER),h.fill(0),h.textSize(13),h.text("  ",Q,be),be+=18,h.fill(80),h.textSize(12);const ee=x*.14;if(h.text(f,Q,be,ae,ee),be+=ee+4,d){h.fill(120),h.textSize(11);const ie=x*.12;h.text(d,Q,be,ae,ie),be+=ie+4}const K=x*.28,xe=16;h.textAlign(h.LEFT,h.CENTER),h.textSize(11),h.noStroke(),h.fill(60),h.ellipse(Q+6,K,8,8),h.fill(0),h.text("( )",Q+18,K),h.fill(194,145,86),h.ellipse(Q+6,K+xe,8,8),h.fill(0),h.text("(  )",Q+18,K+xe),h.fill(220),h.ellipse(Q+6,K+xe*2,8,8),h.fill(0),h.text("( )",Q+18,K+xe*2)}function D(Q,J){const{x:ae,y:be,w:ee,h:K}=Q,xe=be-K*.45,ie=be+K*.45;h.push(),h.rectMode(h.CENTER),h.noFill(),h.stroke(120),h.strokeWeight(2),h.rect(ae,(xe+ie)/2,ee,K,10),h.noStroke(),h.fill(80),h.textAlign(h.CENTER,h.TOP),h.textSize(11),h.text(J,ae,ie+6),h.pop()}function N(){const Q=_;h.push(),h.rectMode(h.CENTER),h.stroke(80),h.strokeWeight(2),h.fill(230),h.rect(Q.x,Q.y,Q.w,Q.h,12);const J=Q.w*.7,ae=Q.h*.8;h.noFill(),h.stroke(200,0,0),h.strokeWeight(4),h.arc(Q.x,Q.y+ae*.1,J,ae,h.PI,0),h.line(Q.x-J/2,Q.y,Q.x-J/2,Q.y-ae*.2),h.line(Q.x+J/2,Q.y,Q.x+J/2,Q.y-ae*.2),h.noStroke(),h.fill(0),h.textAlign(h.CENTER,h.BOTTOM),h.textSize(11),h.text("",Q.x,Q.y-ae*.6),h.pop()}function M(){const Q=w;h.push(),h.rectMode(h.CENTER),h.noStroke(),h.fill(245),h.triangle(Q.x-Q.w/2,Q.y,Q.x+Q.w/2,Q.y,Q.x,Q.y+Q.h),h.fill(255),h.stroke(180),h.strokeWeight(1),h.rect(Q.x,Q.y,Q.w,Q.h*.35,6),h.noStroke(),h.fill(0),h.textAlign(h.CENTER,h.BOTTOM),h.textSize(11),h.text("",Q.x,Q.y-Q.h*.7),h.pop()}function U(){const Q=T;if(h.push(),h.rectMode(h.CENTER),h.noStroke(),h.fill(100),h.rect(Q.x,Q.y,Q.w,Q.h,6),p){h.fill(255,150,0,200);for(let J=0;J<5;J++){const ae=Q.x+h.random(-Q.w*.4,Q.w*.4),be=Q.y-Q.h*.6+h.random(-3,3);h.ellipse(ae,be,6,14)}h.fill(0,120,255,180);for(let J=0;J<3;J++){const ae=Q.x+h.random(-Q.w*.3,Q.w*.3),be=Q.y-Q.h*.5+h.random(-2,2);h.ellipse(ae,be,4,10)}}h.fill(255),h.textAlign(h.CENTER,h.BOTTOM),h.textSize(11),h.text(" ",Q.x,Q.y-Q.h*2.2),h.pop()}function B(){v.forEach(Q=>{let J;Q.container==="mixture"?J=b:Q.container==="magnet"?J=_:Q.container==="filter"?J=w:Q.container==="solution"?J=S:J=b;const ae=J.w*.1,be=J.h*.15,ee=J.x-J.w/2+ae,K=J.y-J.h/2+be,xe=J.w-ae*2,ie=J.h-be*2,ge=ee+Q.rx*xe,z=K+Q.ry*ie;if(Q.type==="iron"?h.fill(60):Q.type==="sand"?h.fill(194,145,86):Q.type==="salt"?h.fill(230):h.fill(0),Q.container==="solution"&&Q.type==="salt")return;let se=6;Q.type==="iron"&&(se=5),Q.type==="salt"&&(se=5),h.noStroke(),h.ellipse(ge,z,se,se)})}function W(){const Q=S,J=Q.y-Q.h*.25,ae=Q.y+Q.h*.4;(v.some(ee=>ee.container==="solution"&&ee.type==="salt")||c>=3)&&(h.push(),h.noStroke(),h.fill(0,150,255,80),h.rectMode(h.CORNERS),h.rect(Q.x-Q.w*.32,J,Q.x+Q.w*.32,ae,0,0,8,8),h.pop())}function Z(){const Q=S,J=Q.y+Q.h*.4,ae=h.millis(),be=h.constrain((ae-m)/g,0,1);h.push();const ee=Math.floor(h.map(be,0,1,4,24));h.noStroke(),h.fill(240);for(let K=0;K<ee;K++){const xe=Q.x-Q.w*.28+h.random()*Q.w*.56,ie=J-h.random()*6;h.rect(xe,ie,3,3)}h.fill(220,220,220,80);for(let K=0;K<8;K++){const xe=Q.x+h.random(-Q.w*.25,Q.w*.25),ie=Q.y-Q.h*.1+h.random(-5,5);h.ellipse(xe,ie-be*20,6,10)}h.pop(),be>=1&&p&&(p=!1,f="  ,    !",d=" (, ,  , )    .",h.noLoop())}h.applyTool=Q=>{const ae=["magnet","water","filter","heat"][c];if(Q!==ae&&c<4){f=` '${{magnet:"",water:" ",filter:"",heat:""}[ae]}'   .`,d="",h.redraw();return}if(Q==="magnet"&&c===0){v.forEach(be=>{be.type==="iron"&&be.container==="mixture"&&(be.container="magnet",be.rx=.2+h.random()*.6,be.ry=.2+h.random()*.6)}),f="   !",d="        .",c=1,h.redraw();return}if(Q==="water"&&c===1){v.forEach(be=>{be.type==="salt"&&be.container==="mixture"&&(be.container="solution",be.rx=.2+h.random()*.6,be.ry=.3+h.random()*.4)}),f="       .",d="    ()     .",c=2,h.redraw();return}if(Q==="filter"&&c===2){v.forEach(be=>{be.type==="sand"&&be.container==="mixture"&&(be.container="filter",be.rx=.2+h.random()*.6,be.ry=.3+h.random()*.4),be.container==="solution"&&(be.rx=.2+h.random()*.6,be.ry=.3+h.random()*.4)}),f="    ,    .",d="    ,     .",c=3,h.redraw();return}if(Q==="heat"&&c===3){p=!0,m=h.millis(),f="    .",d="  ,      .",c=4,h.loop();return}c>=4&&(f="  .     ?",d="",h.redraw())},h.resetSketch=()=>{c=0,p=!1,m=0,f="  , ,       .",d="",F(),h.noLoop(),h.redraw()};function fe(Q){const ae=(Q||document.documentElement).clientWidth||600,be=Math.floor(ae),ee=Math.floor(be*E);return{canvasW:be,canvasH:ee}}};return xr(async()=>{await Ji(),r.value&&(i=new zt(u,r.value))}),Ds(()=>{try{i?.remove(),i=null}catch(h){console.error("Error removing p5 instance:",h)}}),(h,c)=>(re(),ce("div",{class:"columnar-wrap",ref_key:"wrapRef",ref:t},[A("div",{class:"toolbar"},[A("button",{class:"btn",onClick:a},""),c[0]||(c[0]=A("span",{class:"title"},"  :   !",-1))]),A("div",Rse,[c[1]||(c[1]=A("strong",null," :",-1)),(re(!0),ce(at,null,At(s.value,f=>(re(),ce("button",{key:f.key,class:ht(["btn-tool",{active:o.value===f.key}]),onClick:d=>l(f.key)},[A("span",Use,Be(f.label),1),A("span",Vse,Be(f.step)+"",1)],10,Bse))),128))]),A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512),c[2]||(c[2]=A("p",{class:"desc"},[Nt("   "),A("strong",null,", , "),Nt("  . "),A("strong",null,"       "),Nt("     "),A("strong",null,""),Nt("     . ")],-1))],512))}},jse=wt($se,[["__scopeId","data-v-0c7c4b00"]]),zse={class:"sim-control-card"},Gse={class:"control-row"},Hse={class:"control-options"},Wse=["onClick"],Xse={class:"control-row voltage-row"},qse={class:"slider-wrap"},Yse={class:"slider-level"},Kse={class:"canvas-card"},Zse={__name:"ElectricShow",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe([{key:"tesla",label:" "},{key:"vandag",label:""},{key:"ladder",label:" "}]),o=Xe("tesla"),a=Xe(2),l=Ut(()=>a.value===1?"":a.value===2?"":"");function u(){i&&i.resetSketch&&i.resetSketch()}function h(){i&&i.fireOnce&&i.fireOnce()}function c(p){o.value=p,i&&i.setDevice&&i.setDevice(p)}function f(){i&&i.setLevel&&i.setLevel(a.value)}const d=p=>{let g=600,v=540,E="tesla",y=2,x=!1,b=0;const w=2500;let S,_,T="",C="";p.setup=()=>{const{canvasW:K,canvasH:xe}=ee(r.value);g=K,v=xe,p.createCanvas(g,v).parent(r.value),p.pixelDensity(Math.min(2,window.devicePixelRatio||1)),F(),p.noLoop(),p.redraw()},p.windowResized=()=>{if(!r.value)return;const{canvasW:K,canvasH:xe}=ee(r.value);g=K,v=xe,p.resizeCanvas(g,v),F(),p.redraw()};function F(){S={x:g*.22,y:v*.72},_={x:g*.78,y:v*.67}}p.draw=()=>{p.background(255),E==="tesla"?(T=" ",C="               ."):E==="vandag"?(T="",C="     ,       ."):(T=" ",C="        .     ."),k(),D(),N(),M(),x&&(Z(),p.millis()-b>w&&(x=!1,p.noLoop()))};function k(){p.push(),p.noStroke(),p.fill(240),p.rectMode(p.CORNER),p.rect(0,v*.8,g,v*.2),p.fill(209,213,219),p.rect(0,v*.86,g,v*.14),p.pop()}function D(){const K=g*.04,xe=v*.03,ie=g-K*2,ge=v*.18;p.push(),p.rectMode(p.CORNER),p.noStroke(),p.fill(232,244,255),p.rect(K,xe,ie,ge,12);const z=14,se=10;p.fill(37,47,63),p.textAlign(p.LEFT,p.TOP),p.textSize(13),p.text(T,K+z,xe+se),p.fill(75,85,99),p.textSize(11),p.text(C,K+z,xe+se+18,ie-z*2,ge-se*2),p.pop()}function N(){p.push(),p.rectMode(p.CENTER),p.ellipseMode(p.CENTER),p.fill(96,165,250),p.rect(S.x,S.y,g*.08,v*.16,10),p.fill(248,250,252),p.ellipse(S.x,S.y-v*.11,g*.06,g*.06),p.stroke(55,65,81),p.strokeWeight(2),p.line(S.x+g*.03,S.y-v*.04,S.x+g*.08,S.y-v*.14);const K=S.x+g*.11,xe=S.y-v*.2;p.noStroke(),p.fill(251,191,36),p.ellipse(K,xe,g*.06,g*.08),p.triangle(K,xe+g*.04,K-g*.01,xe+g*.06,K+g*.01,xe+g*.06),p.pop(),p.push(),p.rectMode(p.CENTER),p.stroke(75,85,99),p.strokeWeight(3),p.line(_.x,v*.4,_.x,v*.78),p.line(_.x-g*.04,v*.78,_.x+g*.04,v*.78),p.noStroke(),p.fill(251,146,60);const ie=_.x,ge=v*.42;p.beginShape(),p.vertex(ie-g*.015,ge),p.vertex(ie+g*.005,ge+v*.03),p.vertex(ie-g*.005,ge+v*.03),p.vertex(ie+g*.015,ge+v*.07),p.vertex(ie-g*.005,ge+v*.04),p.vertex(ie+g*.005,ge+v*.04),p.endShape(p.CLOSE),p.pop()}function M(){E==="tesla"?U():E==="vandag"?B():W()}function U(){const K=g*.5,xe=v*.8;p.push(),p.rectMode(p.CENTER),p.noStroke(),p.fill(156,163,175),p.rect(K,xe-v*.08,g*.09,v*.12,8),p.stroke(55,65,81),p.strokeWeight(2);for(let ie=0;ie<6;ie++){const ge=xe-v*.13+ie*v*.02;p.line(K-g*.035,ge,K+g*.035,ge)}p.noStroke(),p.fill(209,213,219),p.ellipse(K,xe-v*.19,g*.16,v*.05),p.pop()}function B(){const K=g*.5,xe=v*.8;p.push(),p.rectMode(p.CENTER),p.ellipseMode(p.CENTER),p.noStroke(),p.fill(148,163,184),p.rect(K,xe-v*.09,g*.06,v*.16,6),p.fill(229,231,235),p.ellipse(K,xe-v*.22,g*.16,g*.16),p.fill(243,244,246,180),p.ellipse(K-g*.03,xe-v*.235,g*.05,g*.04),p.pop()}function W(){const K=g*.5,xe=v*.26,ie=v*.78;p.push(),p.rectMode(p.CENTER),p.noFill(),p.stroke(75,85,99),p.strokeWeight(4),p.line(K-g*.05,ie,K-g*.02,xe),p.line(K+g*.05,ie,K+g*.02,xe),p.line(K-g*.05,ie,K+g*.05,ie),p.pop()}function Z(){let K=6;y===2&&(K=10),y===3&&(K=14);for(let xe=0;xe<K;xe++)E==="ladder"?ae():E==="vandag"?J():Q()}function fe(){const K=y===1?120:y===2?180:230;p.stroke(96,165,250,K),p.strokeWeight(2+y*.5)}function Q(){const K=g*.5,xe=v*.61,ie=.55+y*.1,z=Math.random()<ie?_:S,se=z.x+p.random(-g*.02,g*.02),ye=z.y-v*.18+p.random(-v*.02,v*.02);be(K,xe,se,ye)}function J(){const K=g*.5,xe=v*.58,ie=g*.08,ge=p.random(-p.PI*.6,-p.PI*.1),z=K+ie*Math.cos(ge),se=xe+ie*Math.sin(ge),ye=g*(.08+y*.03),Ce=z+ye*Math.cos(ge+p.random(-.3,.3)),$=se+ye*Math.sin(ge+p.random(-.2,.2));be(z,se,Ce,$)}function ae(){const K=v*.74,xe=v*.32,ie=(p.millis()-b)/w,ge=p.lerp(K,xe,p.constrain(ie*(.8+y*.1),0,1)),z=g*.5-g*.03,se=g*.5+g*.03,ye=ge+v*.02,Ce=ge-v*.02;be(z,ye,se,Ce)}function be(K,xe,ie,ge){fe();const z=10;p.noFill(),p.beginShape();for(let se=0;se<=z;se++){const ye=se/z;let Ce=p.lerp(K,ie,ye),$=p.lerp(xe,ge,ye);const q=(1-Math.abs(.5-ye)*2)*(10+y*6);Ce+=p.random(-q,q),$+=p.random(-q,q),(se===0||se===z)&&(Ce=se===0?K:ie,$=se===0?xe:ge),p.vertex(Ce,$)}p.endShape()}p.setDevice=K=>{E=K||"tesla",p.redraw()},p.setLevel=K=>{y=K||2,p.redraw()},p.fireOnce=()=>{x=!0,b=p.millis(),p.loop()},p.resetSketch=()=>{x=!1,b=0,E="tesla",y=2,p.noLoop(),p.redraw()};function ee(K){const ie=(K||document.documentElement).clientWidth||600,ge=Math.floor(ie),z=Math.floor(ge*.9);return{canvasW:ge,canvasH:z}}};return xr(async()=>{await Ji(),r.value&&(i=new zt(d,r.value),i.setDevice&&i.setDevice(o.value),i.setLevel&&i.setLevel(a.value))}),Ds(()=>{try{i?.remove(),i=null}catch(p){console.error("Error removing p5 instance:",p)}}),(p,m)=>(re(),ce("div",{class:"electric-sim",ref_key:"wrapRef",ref:t},[A("div",{class:"sim-header-card"},[m[1]||(m[1]=pi('<div class="header-left" data-v-c795b427><div class="icon-circle" data-v-c795b427><i class="bi bi-lightning-charge-fill" data-v-c795b427></i></div><div class="header-text" data-v-c795b427><div class="header-title" data-v-c795b427>  ?</div></div></div>',1)),A("div",{class:"header-actions"},[A("button",{class:"chip-btn",onClick:u},""),A("button",{class:"chip-btn primary",onClick:h}," ")])]),A("div",zse,[A("div",Gse,[m[2]||(m[2]=A("span",{class:"control-label"}," ",-1)),A("div",Hse,[(re(!0),ce(at,null,At(s.value,g=>(re(),ce("button",{key:g.key,class:ht(["pill-btn",{active:o.value===g.key}]),onClick:v=>c(g.key)},Be(g.label),11,Wse))),128))])]),A("div",Xse,[m[3]||(m[3]=A("span",{class:"control-label"}," ",-1)),A("div",qse,[an(A("input",{type:"range",min:"1",max:"3",step:"1","onUpdate:modelValue":m[0]||(m[0]=g=>a.value=g),onInput:f},null,544),[[nr,a.value,void 0,{number:!0}]]),A("span",Yse,Be(l.value),1)])])]),A("div",Kse,[A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},ZC=wt(Zse,[["__scopeId","data-v-c795b427"]]),Jse={class:"sim-control-card"},Qse={class:"control-row"},eoe={class:"slider-wrap"},toe={class:"slider-level"},noe={class:"control-row"},roe={class:"slider-wrap"},ioe={class:"slider-level"},soe={class:"canvas-card"},ooe={__name:"MagneticTrain",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe(3),o=Xe(3);function a(){i&&i.resetSketch&&i.resetSketch()}function l(){i&&i.runSimulation&&i.runSimulation()}function u(){i&&(i.setLevitationPower?.(s.value),i.setPropulsionPower?.(o.value))}const h=c=>{let d=600,p=260,m=3,g=3,v;const E=26,y={x:0,y:0,w:140,h:46,vx:0,vy:0};let x=!1,b=0;const w=55;c.setup=()=>{const U=r.value?.clientWidth||600;d=U,p=Math.max(220,Math.round(U*.42)),c.createCanvas(d,p).parent(r.value),c.pixelDensity(Math.min(2,window.devicePixelRatio||1)),S(),c.noLoop(),c.redraw()},c.windowResized=()=>{const U=r.value?.clientWidth||600;d=U,p=Math.max(220,Math.round(U*.42)),c.resizeCanvas(d,p),S(),c.redraw()};function S(){v=p*.66,y.x=d*.1,y.y=v-E/2-y.h/2-_(),y.vx=0,y.vy=0}function _(){return 6+m*4.5}c.draw=()=>{b+=c.deltaTime*.001,c.background(248),C(),F(),k(),T(),D(),N(),M()};function T(){const U=v-E/2-y.h/2-_(),B=.12,W=.18,Z=(U-y.y)*B;y.vy+=Z,y.vy*=1-W,y.y+=y.vy;const fe=1.2+m*.6;if(y.y+=Math.sin(b*2.4)*(fe*.15),x){const J=.006*g;y.vx+=J}else y.vx*=.9;const Q=2+g*.3;y.vx>Q&&(y.vx=Q),y.vx*=.996,y.x+=y.vx,y.x>d+y.w&&(y.x=-150)}function C(){c.push(),c.noStroke(),c.fill(241,245,249),c.rect(0,0,d,v+40),c.fill(229,231,235),c.rect(0,v+24,d,p-(v+24)),c.pop()}function F(){c.push(),c.rectMode(c.CORNER),c.noStroke(),c.fill(148,163,184),c.rect(0,v-E/2,d,E,6),c.fill(75,85,99),c.rect(0,v-E/2-6,d,6,4),c.pop()}function k(){c.push(),c.rectMode(c.CENTER);const U=v+E*.1;for(let B=0;B<d+w;B+=w){const W=B+w*.5,Z=Math.abs(W-(y.x+y.w/2)),fe=120+g*8,Q=Z<fe,J=Math.floor(W/w)%2===0;if(Q){c.noStroke();const ae=c.map(Z,0,fe,1,.1,!0);c.fill(59,130,246,90*ae),c.ellipse(W,U-12,60,42)}c.stroke(148,163,184),c.strokeWeight(1.5),c.fill(248,250,252),c.rect(W,U,32,22,6),J?c.fill(59,130,246):c.fill(239,68,68),c.rect(W,U,32,8,4),c.noStroke(),c.fill(255),c.textAlign(c.CENTER,c.CENTER),c.textSize(9),c.text(J?"N":"S",W,U)}c.pop()}function D(){const U=y.x+y.w/2,B=y.y+y.h/2,W=v-E/2,Z=4+m;for(let fe=0;fe<Z;fe++){const Q=(fe-Z/2)*8;c.push(),c.noFill();const J=40+fe*12;c.stroke(59,130,246,J),c.strokeWeight(1),c.beginShape();const ae=10+m*2;for(let be=0;be<=12;be++){const ee=be/12,K=U+Q+(ee-.5)*26,xe=c.lerp(B,W,ee)-Math.sin(ee*c.PI)*ae;c.vertex(K,xe)}c.endShape(),c.pop()}}function N(){c.push(),c.rectMode(c.CORNER),c.ellipseMode(c.CENTER),c.noStroke(),c.fill(248,250,252),c.rect(y.x,y.y,y.w,y.h,10),c.fill(59,130,246),c.rect(y.x,y.y,y.w,10,10,10,0,0),c.fill(191,219,254);const U=y.y+18;for(let fe=0;fe<3;fe++){const Q=y.x+18+fe*32;c.rect(Q,U,22,14,4)}c.fill(148,163,184),c.rect(y.x+y.w-18,y.y+8,18,y.h-12,0,10,10,0);const B=y.y+y.h+6,W=40,Z=12;c.fill(59,130,246),c.rect(y.x+y.w*.3-W/2,B,W,Z,3),c.fill(239,68,68),c.rect(y.x+y.w*.7-W/2,B,W,Z,3),c.fill(255),c.textAlign(c.CENTER,c.CENTER),c.textSize(9),c.text("N",y.x+y.w*.3,B+Z/2),c.text("S",y.x+y.w*.7,B+Z/2),c.pop()}function M(){c.push(),c.textAlign(c.LEFT,c.TOP),c.textSize(12),c.fill(55,65,81);const U=12,B=10;c.noStroke(),c.fill(255,255,255,220),c.rect(U-8,B-6,210,54,8),c.fill(15,23,42),c.text(` ${m}:   `,U,B),c.text(` ${g}:  `,U,B+16),c.text("  .",U,B+32),c.pop()}c.runSimulation=()=>{x=!0,y.vx<.5&&(y.vx=.3+g*.15),c.loop()},c.resetSketch=()=>{x=!1,S(),c.noLoop(),c.redraw()},c.setLevitationPower=U=>{m=U||1,c.redraw()},c.setPropulsionPower=U=>{g=U||1,c.redraw()}};return xr(async()=>{await Ji(),r.value&&(i=new zt(h,r.value),i.setLevitationPower?.(s.value),i.setPropulsionPower?.(o.value))}),Ds(()=>{try{i?.remove(),i=null}catch(c){console.error("Error removing p5 instance:",c)}}),(c,f)=>(re(),ce("div",{class:"maglev-sim",ref_key:"wrapRef",ref:t},[A("div",{class:"sim-header-card"},[f[2]||(f[2]=pi('<div class="header-left" data-v-a45532ee><div class="icon-circle" data-v-a45532ee><i class="bi bi-train-front" data-v-a45532ee></i></div><div class="header-text" data-v-a45532ee><div class="header-title" data-v-a45532ee>  </div></div></div>',1)),A("div",{class:"header-actions"},[A("button",{class:"chip-btn",onClick:a},""),A("button",{class:"chip-btn primary",onClick:l}," ")])]),A("div",Jse,[A("div",Qse,[f[3]||(f[3]=A("span",{class:"control-label"}," ",-1)),A("div",eoe,[an(A("input",{type:"range",min:"1",max:"5","onUpdate:modelValue":f[0]||(f[0]=d=>s.value=d),onInput:u},null,544),[[nr,s.value,void 0,{number:!0}]]),A("span",toe,Be(s.value),1)])]),A("div",noe,[f[4]||(f[4]=A("span",{class:"control-label"}," ",-1)),A("div",roe,[an(A("input",{type:"range",min:"1",max:"5","onUpdate:modelValue":f[1]||(f[1]=d=>o.value=d),onInput:u},null,544),[[nr,o.value,void 0,{number:!0}]]),A("span",ioe,Be(o.value),1)])])]),A("div",soe,[A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},JC=wt(ooe,[["__scopeId","data-v-a45532ee"]]),aoe={class:"sim-control-card"},loe={class:"control-row"},uoe={class:"control-options"},coe=["onClick"],hoe={class:"control-row"},foe={class:"control-options"},doe=["onClick"],poe={class:"control-row voltage-row"},moe={class:"slider-wrap"},goe={class:"slider-level"},voe={class:"canvas-card"},yoe={__name:"ElectroClothes",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe([{key:"wool",label:""},{key:"cotton",label:""},{key:"poly",label:""},{key:"silk",label:""}]),o=Xe([{key:"styro",label:""},{key:"plastic",label:""},{key:"metal",label:""}]),a=Xe("wool"),l=Xe("styro"),u=Xe(2),h=Ut(()=>u.value===1?"":u.value===2?"":"");function c(){i&&i.resetSketch&&i.resetSketch()}function f(){i&&i.rubOnce&&i.rubOnce()}function d(v){a.value=v,i&&i.setFabric&&i.setFabric(v)}function p(v){l.value=v,i&&i.setBlock&&i.setBlock(v)}function m(){i&&i.setLevel&&i.setLevel(u.value)}const g=v=>{let E=600,y=500,x="wool",b="styro",w=2,S="",_="",T=0,C=!1,F=0;const k=2e3;v.setup=()=>{E=r.value.clientWidth||600,v.createCanvas(E,y).parent(r.value),v.pixelDensity(Math.min(2,window.devicePixelRatio||1)),v.noLoop(),v.redraw()},v.draw=()=>{v.background(245),D(),N(),M(),U(),C&&(T=B(),W(),v.millis()-F>k&&(C=!1,v.noLoop()))};function D(){x==="wool"?(S="",_="     ."):x==="poly"?(S="",_="    ,    ."):x==="cotton"?(S="",_="    ."):(S="",_="     .");const Z=E*.9,fe=75;v.push(),v.noStroke(),v.fill(230,243,255),v.rect(E*.05,16,Z,fe,10),v.fill(37,47,63),v.textSize(16),v.text(S,E*.06,36),v.fill(75,85,99),v.textSize(12),v.text(_,E*.06,58),v.pop()}function N(){v.push(),v.rectMode(v.CENTER),v.fill(245,222,179,220);let Z=y*.45,fe=S;v.rect(E*.5,Z,210,80,14),v.fill(49,49,56),v.textSize(15),v.textAlign(v.CENTER,v.CENTER),v.text(fe,E*.5,Z),v.pop()}function M(){v.push(),v.ellipseMode(v.CENTER);let Z=b==="styro"?[180,230,255]:b==="plastic"?[170,180,210]:[220,220,220];v.fill(...Z,170);let fe=y*.65;v.ellipse(E*.5,fe,170,35),v.fill(60,60,63),v.textSize(14),v.textAlign(v.CENTER,v.CENTER),v.text(b==="styro"?"":b==="plastic"?"":"",E*.5,fe),v.pop()}function U(){C&&W()}function B(){const Z={wool:1,poly:.85,cotton:.3,silk:.55},fe={styro:1.1,plastic:.9,metal:.5},Q=[.7,1,1.3];return Math.floor(100*Z[x]*fe[b]*Q[w-1])}function W(){const Z=T;v.push(),v.noStroke();for(let fe=0;fe<Math.max(4,Math.floor(Z/30));fe++){let Q=E*.5+v.random(-50,50),J=y*.38+v.random(-30,30);v.fill(255,255,130,180),v.ellipse(Q,J,24+v.random(12,22))}v.pop(),v.fill(22,22,60),v.textSize(15),v.text(": "+Z+" ()",E*.5,y*.86)}v.setFabric=Z=>{x=Z||"wool",T=B(),v.redraw()},v.setBlock=Z=>{b=Z||"styro",T=B(),v.redraw()},v.setLevel=Z=>{w=Z||2,T=B(),v.redraw()},v.rubOnce=()=>{C=!0,F=v.millis(),T=B(),v.loop()},v.resetSketch=()=>{C=!1,x="wool",b="styro",w=2,T=B(),v.noLoop(),v.redraw()}};return xr(async()=>{await Ji(),r.value&&(i=new zt(g,r.value),i.setFabric&&i.setFabric(a.value),i.setBlock&&i.setBlock(l.value),i.setLevel&&i.setLevel(u.value))}),Ds(()=>{try{i?.remove(),i=null}catch(v){console.error("Error removing p5 instance:",v)}}),(v,E)=>(re(),ce("div",{class:"static-sim",ref_key:"wrapRef",ref:t},[A("div",{class:"sim-header-card"},[E[1]||(E[1]=pi('<div class="header-left" data-v-1acebe40><div class="icon-circle" data-v-1acebe40><i class="bi bi-lightning-charge" data-v-1acebe40></i></div><div class="header-text" data-v-1acebe40><div class="header-title" data-v-1acebe40>    ?</div></div></div>',1)),A("div",{class:"header-actions"},[A("button",{class:"chip-btn",onClick:c},""),A("button",{class:"chip-btn primary",onClick:f},"")])]),A("div",aoe,[A("div",loe,[E[2]||(E[2]=A("span",{class:"control-label"}," ",-1)),A("div",uoe,[(re(!0),ce(at,null,At(s.value,y=>(re(),ce("button",{key:y.key,class:ht(["pill-btn",{active:a.value===y.key}]),onClick:x=>d(y.key)},Be(y.label),11,coe))),128))])]),A("div",hoe,[E[3]||(E[3]=A("span",{class:"control-label"}," ",-1)),A("div",foe,[(re(!0),ce(at,null,At(o.value,y=>(re(),ce("button",{key:y.key,class:ht(["pill-btn",{active:l.value===y.key}]),onClick:x=>p(y.key)},Be(y.label),11,doe))),128))])]),A("div",poe,[E[4]||(E[4]=A("span",{class:"control-label"}," ",-1)),A("div",moe,[an(A("input",{type:"range",min:"1",max:"3",step:"1","onUpdate:modelValue":E[0]||(E[0]=y=>u.value=y),onInput:m},null,544),[[nr,u.value,void 0,{number:!0}]]),A("span",goe,Be(h.value),1)])])]),A("div",voe,[A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},QC=wt(yoe,[["__scopeId","data-v-1acebe40"]]),boe={class:"sim-control-card"},xoe={class:"control-row"},_oe={class:"slider-wrap"},woe={class:"slider-level"},Eoe={class:"control-row"},Soe={class:"slider-wrap"},Coe={class:"slider-level"},Aoe={class:"canvas-card"},Toe={__name:"AlternatorShow",setup(n){const t=Xe(null),r=Xe(null);let i=null;const s=Xe(3),o=Xe(2),a=Ut(()=>[" ","","",""," "][s.value-1]),l=Ut(()=>o.value+"");function u(){i&&i.resetSketch&&i.resetSketch()}function h(){i&&i.startGen&&i.startGen()}function c(){i&&i.setSpeed&&i.setSpeed(s.value)}function f(){i&&i.setTurns&&i.setTurns(o.value)}const d=p=>{let m=420,g=410,v=2,E=3,y=!1,x=0,b=0,w=[];const S=110;p.setup=()=>{m=r.value.clientWidth||420,p.createCanvas(m,g).parent(r.value),p.pixelDensity(Math.min(2,window.devicePixelRatio||1)),w=[],p.noLoop(),p.redraw()},p.draw=()=>{p.background(252,252,255),_(),T(),y&&(x+=E*.05,x>p.TWO_PI&&(x-=p.TWO_PI),b=Math.sin(x)*(v*E*8),w.push(b),w.length>S&&w.shift(),p.loop())};function _(){const C=m*.31,F=g*.36;p.push(),p.stroke(80),p.strokeWeight(3),p.fill(228,77,66),p.rect(C-37,F-24,27,32,8),p.fill(77,123,244),p.rect(C+37,F-24,27,32,8),p.pop(),p.push(),p.stroke(234,184,40),p.strokeWeight(5);for(let M=0;M<v*3;M++)p.noFill(),p.arc(C,F,65-M*5,30-M*3,x-p.HALF_PI-.23,x-p.HALF_PI+.23);p.strokeWeight(2),p.stroke(90),p.line(C,F,C,F-39),p.fill(80),p.ellipse(C,F-39,11,11),p.push(),p.translate(C,F),p.rotate(x),p.fill(244,222,177),p.ellipse(0,0,20,20),p.pop(),p.pop(),p.push(),p.noStroke(),p.fill(167,207,255,60),p.ellipse(C,F+35,110,25),p.pop();const k=m*.74,D=F,N=Math.abs(b);p.push(),p.noStroke(),p.fill(250,247,173,140+N*2),p.ellipse(k,D,34+N*.17,34+N*.17),p.fill(230,208,40,100+N*2),p.ellipse(k,D,27,27),p.fill(112,112,128),p.ellipse(k,D+17,10,13),p.fill(225,216,145),p.rect(k-6,D+10,12,8,5),p.textSize(14),p.fill(35,49,63),p.text(" : "+Math.floor(N),k-18,D+35),p.pop()}function T(){const C=m*.07,F=g*.8,k=m*.86,D=48;p.push(),p.fill(245,248,255),p.noStroke(),p.rect(C-5,F-16,k+10,D+18,11),p.stroke(70,100,210),p.strokeWeight(2.2),p.noFill(),p.beginShape();for(let N=0;N<w.length;N++){let M=C+N*(k/S),U=F+D/2-w[N]*.38;p.vertex(M,U)}p.endShape(),p.pop(),p.textSize(13),p.fill(110,130,190,150),p.text("+",C+k-14,F+7),p.text("-",C+9,F+7),p.textSize(12),p.fill(70,70,120,80),p.text("   (  AC)",C+k/2-59,F-4)}p.setSpeed=C=>{E=C||3,p.redraw()},p.setTurns=C=>{v=C||2,p.redraw()},p.startGen=()=>{y=!0,p.loop()},p.resetSketch=()=>{y=!1,E=3,v=2,x=0,w=[],b=0,p.noLoop(),p.redraw()}};return xr(async()=>{await Ji(),r.value&&(i=new zt(d,r.value),i.setSpeed&&i.setSpeed(s.value),i.setTurns&&i.setTurns(o.value))}),Ds(()=>{try{i?.remove(),i=null}catch(p){console.error("Error removing p5 instance:",p)}}),(p,m)=>(re(),ce("div",{class:"acgen-sim",ref_key:"wrapRef",ref:t},[A("div",{class:"sim-header-card"},[m[2]||(m[2]=pi('<div class="header-left" data-v-94b26e11><div class="icon-circle" data-v-94b26e11><i class="bi bi-lightbulb" data-v-94b26e11></i></div><div class="header-text" data-v-94b26e11><div class="header-title" data-v-94b26e11>   (+) (-) .</div><div class="header-sub" data-v-94b26e11>      !</div></div></div>',1)),A("div",{class:"header-actions"},[A("button",{class:"chip-btn",onClick:u},""),A("button",{class:"chip-btn primary",onClick:h}," ")])]),A("div",boe,[A("div",xoe,[m[3]||(m[3]=A("span",{class:"control-label"},"  ",-1)),A("div",_oe,[an(A("input",{type:"range",min:"1",max:"5","onUpdate:modelValue":m[0]||(m[0]=g=>s.value=g),onInput:c},null,544),[[nr,s.value,void 0,{number:!0}]]),A("span",woe,Be(a.value),1)])]),A("div",Eoe,[m[4]||(m[4]=A("span",{class:"control-label"},"  ",-1)),A("div",Soe,[an(A("input",{type:"range",min:"1",max:"3","onUpdate:modelValue":m[1]||(m[1]=g=>o.value=g),onInput:f},null,544),[[nr,o.value,void 0,{number:!0}]]),A("span",Coe,Be(l.value),1)])])]),A("div",Aoe,[A("div",{class:"canvas-host",ref_key:"canvasHostRef",ref:r},null,512)])],512))}},eA=wt(Toe,[["__scopeId","data-v-94b26e11"]]),Ioe={name:"ViewDetailWithModal",components:{LocationSection:rW,ReviewSection:nX,ReviewModal:bX,ConfirmDeleteModal:_N,ActivityRecommender:qX,ColumnarJoint:WC,StatesOfMatter:XC,Ecosystem:qC,MagnetField:YC,ThermalConductivity:KC,ElectricShow:ZC,MagneticTrain:JC,ElectroClothes:QC,AlternatorShow:eA},props:{exhibitionInformation:{type:Object,default:()=>({})},exhibition:{type:Object,default:()=>({})},placeInformation:{type:Object,default:()=>({})},place:{type:Object,default:()=>({})},isPlace:{type:Boolean,default:!1},targetId:{type:[Number,String],required:!0},targetType:{type:String,required:!0},photoReviewCount:{type:Number,default:0}},data(){return{showReviewModal:!1,showSimulation:!1,reviewText:"",selectedRating:5,uploadedFiles:[],editingReviewId:null,showConfirmDeleteModal:!1,pendingDeleteReviewId:null,isDeleting:!1,loading:!0,error:null}},computed:{isFormValid(){return this.reviewText.trim().length>0&&this.selectedRating>0},isLoggedIn(){return!!gi().user},currentUserId(){return gi().user?.userId??null},simulationMap(){return{:{" ":ZC,:YC," ":XC},:{" ":JC},:{" ":QC},:{" ":eA},:{:WC,:qC}," ":{:KC,:jse}}},currentSimulationComponent(){const n=this.isPlace?this.place:this.exhibition;if(!n||!n.title||n.title==="  ...")return null;const t=n.title,r=n.subCategories;if(!r||r.length===0)return console.log(`[Sim Match] '${t}'  .`),null;const i=this.simulationMap[t];if(!i)return console.log(`[Sim Match] '${t}'   .`),null;const s=Array.isArray(r)?r.map(o=>(o||"").replace(/[{}"]/g,"")):typeof r=="string"?r.split(",").map(o=>o.trim().replace(/[{}"]/g,"")):[];for(const o of s){const a=o;if(i[a])return console.log(`[Sim Match] ! '${t}' -> '${a}'`),i[a]}return console.log(`[Sim Match] '${t}'() , [${s.join(", ")}]    .`),null}},methods:{showModal(){if(!this.isLoggedIn){this.$router.push("/login");return}this.showReviewModal=!0,this.editingReviewId=null,this.reviewText="",this.selectedRating=5,this.uploadedFiles=[]},closeModal(){this.showReviewModal=!1,this.reviewText="",this.selectedRating=5,this.uploadedFiles=[]},handleFiles(n){const t=Array.from(n),r=5-this.uploadedFiles.length;t.length>r&&ct.emit("show-global-alert",{message:` 5    .  ${r} .`,type:"error"});const i=t.slice(0,r);this.uploadedFiles.push(...i),console.log("   :",this.uploadedFiles)},handleRemoveFile(n){this.uploadedFiles.splice(n,1),console.log(" .  :",this.uploadedFiles)},handleEditReview(n){this.editingReviewId=n.reviewId,this.reviewText=n.content,this.selectedRating=n.rating,this.uploadedFiles=[],this.showReviewModal=!0},async submitReview(){if(this.loading=!0,this.error=null,this.isLoggedIn?.value??this.isLoggedIn,!this.isLoggedIn){this.error="  .    .",this.loading=!1,this.$router.push("/login");return}const n=new FormData,t={targetId:this.targetId,targetType:this.targetType,content:this.reviewText,rating:this.selectedRating,authorId:this.currentUserId};n.append("dto",new Blob([JSON.stringify(t)],{type:"application/json"})),this.uploadedFiles&&this.uploadedFiles.length>0&&this.uploadedFiles.forEach(r=>{n.append("files",r)});try{const r={transformRequest:[(i,s)=>(i instanceof FormData&&delete s["Content-Type"],i)]};this.editingReviewId?(await cn.put(`/api/reviews/${this.editingReviewId}/upload`,n,r),ct.emit("show-global-alert",{message:"  .",type:"success"}),this.$emit("review-posted")):(await cn.post("/api/reviews/upload",n,r),ct.emit("show-global-alert",{message:"  .",type:"success"}),this.$emit("review-posted")),this.closeModal(),await this.$refs.reviewSectionRef?.fetchReviews()}catch(r){console.error("  :",r);const i=r?.response?.data||` ${this.editingReviewId?"":""} .`;ct.emit("show-global-alert",{message:i,type:"error"})}finally{this.loading=!1}},handleRequestDelete({reviewId:n}){this.pendingDeleteReviewId=n,this.showConfirmDeleteModal=!0},handleDeleteReview(n){this.deletingReviewId=n,this.showConfirmDeleteModal=!0},cancelDelete(){this.showConfirmDeleteModal=!1,this.pendingDeleteReviewId=null},async confirmDelete(){if(this.pendingDeleteReviewId){this.isDeleting=!0;try{await cn.delete(`api/reviews/${this.pendingDeleteReviewId}/delete`),ct.emit("show-global-alert",{message:" .",type:"success"}),this.showConfirmDeleteModal=!1,this.pendingDeleteReviewId=null,this.$refs.reviewSectionRef&&this.$refs.reviewSectionRef.fetchReviews(),this.$emit("review-deleted")}catch(n){console.error("  :",n),ct.emit("show-global-alert",{message:"  .",type:"error"}),this.showConfirmDeleteModal=!1,this.pendingDeleteReviewId=null}finally{this.isDeleting=!1}}}}},Doe={class:"view-detail-page"},Noe={key:0,class:"simulation-accordion"},Foe=["aria-expanded"],koe={key:0,class:"simulation-content-wrapper"},Moe={class:"simulation-inner"},Ooe={class:"simulation-content"},Loe={key:3,class:"activity-section-wrapper"};function Poe(n,t,r,i,s,o){const a=Lt("LocationSection"),l=Lt("ActivityRecommender"),u=Lt("ReviewSection"),h=Lt("ReviewModal"),c=Lt("ConfirmDeleteModal");return re(),ce("div",Doe,[o.currentSimulationComponent?(re(),ce("div",Noe,[A("button",{type:"button",class:ht(["btn-simulation-toggle",{"is-open":s.showSimulation}]),onClick:t[0]||(t[0]=f=>s.showSimulation=!s.showSimulation),"aria-expanded":s.showSimulation},[t[3]||(t[3]=A("i",{class:"bi bi-flask"},null,-1)),t[4]||(t[4]=A("span",null,"  ",-1)),A("i",{class:ht(["bi",s.showSimulation?"bi-chevron-up":"bi-chevron-down"])},null,2)],10,Foe),lt($s,{name:"slide-fade"},{default:Hr(()=>[s.showSimulation?(re(),ce("div",koe,[A("div",Moe,[A("div",Ooe,[(re(),Kt(T1(o.currentSimulationComponent)))])])])):rt("",!0)]),_:1})])):rt("",!0),r.isPlace?(re(),Kt(a,{key:1,placeInformation:r.placeInformation,class:"mt-3"},null,8,["placeInformation"])):(re(),Kt(a,{key:2,exhibitionInformation:r.exhibitionInformation,class:"mt-3"},null,8,["exhibitionInformation"])),t[6]||(t[6]=A("hr",{class:"divider"},null,-1)),r.isPlace?(re(),ce("div",Loe,[t[5]||(t[5]=A("hr",{class:"divider"},null,-1)),lt(l,{"place-id":r.targetId,"place-main-category":r.place.mainCategory,"place-sub-categories":r.place.subCategories,"place-grade-tag":r.place.gradeTag},null,8,["place-id","place-main-category","place-sub-categories","place-grade-tag"])])):rt("",!0),lt(u,{ref:"reviewSectionRef","target-id":r.targetId,"target-type":r.targetType,"current-user-id":o.currentUserId,rating:r.exhibition.rating,"review-count":r.exhibition.reviewCount,"photo-review-count":r.photoReviewCount||0,"is-place":r.isPlace,onShowModal:o.showModal,onEditReview:o.handleEditReview,onRequestDelete:o.handleRequestDelete},null,8,["target-id","target-type","current-user-id","rating","review-count","photo-review-count","is-place","onShowModal","onEditReview","onRequestDelete"]),s.showReviewModal?(re(),Kt(h,{key:4,reviewText:s.reviewText,selectedRating:s.selectedRating,uploadedFiles:s.uploadedFiles,isFormValid:o.isFormValid,"onUpdate:reviewText":t[1]||(t[1]=f=>s.reviewText=f),"onUpdate:selectedRating":t[2]||(t[2]=f=>s.selectedRating=f),onClose:o.closeModal,onSubmit:o.submitReview,isEditing:!!s.editingReviewId,onFilesSelected:o.handleFiles,onRemoveFile:o.handleRemoveFile},null,8,["reviewText","selectedRating","uploadedFiles","isFormValid","onClose","onSubmit","isEditing","onFilesSelected","onRemoveFile"])):rt("",!0),lt(c,{show:s.showConfirmDeleteModal,message:" ?",onConfirm:o.confirmDelete,onClose:o.cancelDelete},null,8,["show","onConfirm","onClose"])])}const Roe=wt(Ioe,[["render",Poe],["__scopeId","data-v-4125c37b"]]),Boe={name:"RecommendationCTA",props:{title:{type:String,default:"  ?"},subtitleLine1:{type:String,default:"  "},subtitleLine2:{type:String,default:"     !"},primaryText:{type:String,default:" "},secondaryText:{type:String,default:" "},showDivider:{type:Boolean,default:!0},inset:{type:Boolean,default:!0},primaryLoading:{type:Boolean,default:!1},secondaryLoading:{type:Boolean,default:!1},primaryDisabled:{type:Boolean,default:!1},secondaryDisabled:{type:Boolean,default:!1}},emits:["save-route","request-new"]},Uoe={class:"cta-inner"},Voe={class:"cta-title"},$oe={key:0,class:"cta-divider"},joe={class:"cta-sub"},zoe={class:"cta-actions"},Goe=["disabled"],Hoe=["disabled"];function Woe(n,t,r,i,s,o){return re(),ce("div",{class:ht(["cta-wrap",{inset:r.inset}])},[A("div",Uoe,[A("div",Voe,Be(r.title),1),r.showDivider?(re(),ce("div",$oe)):rt("",!0),A("div",joe,[A("span",null,Be(r.subtitleLine1),1),t[2]||(t[2]=A("br",null,null,-1)),A("span",null,Be(r.subtitleLine2),1)]),A("div",zoe,[A("button",{class:"btn btn-primary",type:"button",disabled:r.primaryDisabled||r.primaryLoading,onClick:t[0]||(t[0]=a=>n.$emit("save-route"))},[t[3]||(t[3]=A("i",{class:"bi bi-heart"},null,-1)),A("span",null,Be(r.primaryText),1)],8,Goe),A("button",{class:"btn btn-secondary",type:"button",disabled:r.secondaryDisabled||r.secondaryLoading,onClick:t[1]||(t[1]=a=>n.$emit("request-new"))},[t[4]||(t[4]=A("i",{class:"bi bi-arrow-clockwise"},null,-1)),A("span",null,Be(r.secondaryText),1)],8,Hoe)])])],2)}const Xoe=wt(Boe,[["render",Woe],["__scopeId","data-v-1fc4ad6c"]]),qoe={name:"CourseExhibitionCard",components:{PillTag:As,HashTag:$a},props:{item:{type:Object,required:!0}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t},formattedExhibitions(){return!this.item.exhibitionList||!Array.isArray(this.item.exhibitionList)?[]:this.item.exhibitionList.map(n=>n.split(" - ")[0]||n)},exhibitionCount(){return this.formattedExhibitions.length},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)}},methods:{getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]},createMarkerSvg(n,t){const r=`
        <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
              fill="${t}" stroke="#fff" stroke-width="2"/>
          <circle cx="12" cy="12" r="8" fill="#fff"/>
          <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
              font-size="10" font-weight="bold" fill="${t}">${n}</text>
        </svg>
      `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)}}},Yoe={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},Koe={class:"timeline-marker-wrapper"},Zoe={class:"content-card"},Joe={class:"card-body"},Qoe={class:"card-image"},eae=["src"],tae={class:"card-text"},nae={class:"d-flex align-items-center justify-content-left gap-1"},rae={class:"place-name"},iae={class:"d-flex gap-1"},sae={class:"d-flex gap-1"},oae={key:0,class:"more-tags"},aae={class:"exhibition-section"},lae={class:"exhibition-header"},uae={class:"exhibition-count"},cae={class:"exhibition-list"},hae={class:"exhibition-number"},fae={class:"exhibition-name"};function dae(n,t,r,i,s,o){const a=Lt("PillTag"),l=Lt("HashTag");return re(),ce("div",Yoe,[A("div",Koe,[A("div",{class:"timeline-marker-svg",style:Xn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[0]||(t[0]=A("div",{class:"timeline-line"},null,-1))]),A("div",Zoe,[A("div",Joe,[A("div",Qoe,[A("img",{src:o.computedImageUrl,alt:" "},null,8,eae)]),A("div",tae,[A("div",nae,[A("h5",rae,Be(r.item.title),1)]),A("div",iae,[lt(a,{text:r.item.subject,type:"subject"},null,8,["text"]),lt(a,{text:r.item.grade.replace(" ","")},null,8,["text"])]),A("div",sae,[(re(!0),ce(at,null,At(o.visibleHashtags,u=>(re(),Kt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(re(),ce("span",oae," +"+Be(o.remainingHashtagsCount),1)):rt("",!0)])])]),t[3]||(t[3]=A("hr",{class:"hr"},null,-1)),A("div",aae,[A("div",lae,[t[1]||(t[1]=A("i",{class:"bi bi-palette-fill"},null,-1)),t[2]||(t[2]=A("span",{class:"exhibition-title"}," ",-1)),A("span",uae,"("+Be(o.exhibitionCount)+")",1)]),A("div",cae,[(re(!0),ce(at,null,At(o.formattedExhibitions,(u,h)=>(re(),ce("div",{key:h,class:"exhibition-item"},[A("span",hae,Be(h+1),1),A("span",fae,Be(u),1)]))),128))])])])])}const pae=wt(qoe,[["render",dae],["__scopeId","data-v-b200cf93"]]),mae={name:"CoursePlaceCard",components:{PillTag:As,HashTag:$a},props:{item:{type:Object,required:!0}},emits:["edit","delete"],methods:{onEdit(){this.$emit("edit",this.item.id)},onDelete(){this.$emit("delete",this.item.id)},onImageLoaded(){console.log(`    (${this.item.number} - ${this.item.title})`)},onImageError(){console.error(`    (${this.item.number} - ${this.item.title}): ${this.item.imageUrl}`)},createMarkerSvg(n,t){const r=`
        <svg width="24" height="35" viewBox="0 0 24 35" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 0C5.373 0 0 5.373 0 12c0 9 12 23 12 23s12-14 12-23c0-6.627-5.373-12-12-12z"
              fill="${t}" stroke="#fff" stroke-width="2"/>
          <circle cx="12" cy="12" r="8" fill="#fff"/>
          <text x="12" y="16" text-anchor="middle" font-family="Arial, sans-serif"
              font-size="10" font-weight="bold" fill="${t}">${n}</text>
        </svg>
      `;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)},getCourseItemColor(n){const t=["#FF5A5A","#4A7CEC","#28a745","#ffc107","#dc3545","#6f42c1","#e83e8c"];return n===1?"#FF5A5A":t[(n-1)%t.length]}},computed:{computedImageUrl(){const n="https://storage.googleapis.com/science_book/",t=this.item.imageUrl;return t&&!t.startsWith("http")?n+t:t},visibleHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.slice(0,2):[]},hasMoreHashtags(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length>2:!1},remainingHashtagsCount(){return Array.isArray(this.item.hashtags)?this.item.hashtags.length-2:0},markerSvgImage(){const n=this.getCourseItemColor(this.item.number);return this.createMarkerSvg(this.item.number,n)}}},gae={class:"timeline-item-container",style:{"font-family":"'SUIT', sans-serif"}},vae={class:"timeline-marker-wrapper"},yae={class:"content-card"},bae={class:"card-body"},xae={class:"card-image"},_ae=["src"],wae={class:"card-text"},Eae={class:"d-flex align-items-center justify-content-left gap-1"},Sae={class:"place-name"},Cae={class:"d-flex gap-1"},Aae={class:"d-flex gap-1"},Tae={key:0,class:"more-tags"},Iae={class:"location-label"},Dae={class:"address"};function Nae(n,t,r,i,s,o){const a=Lt("PillTag"),l=Lt("HashTag");return re(),ce("div",gae,[A("div",vae,[A("div",{class:"timeline-marker-svg",style:Xn({backgroundImage:`url(${o.markerSvgImage})`})},null,4),t[2]||(t[2]=A("div",{class:"timeline-line"},null,-1))]),A("div",yae,[A("div",bae,[A("div",xae,[A("img",{src:o.computedImageUrl,alt:" ",onLoad:t[0]||(t[0]=(...u)=>o.onImageLoaded&&o.onImageLoaded(...u)),onError:t[1]||(t[1]=(...u)=>o.onImageError&&o.onImageError(...u))},null,40,_ae)]),A("div",wae,[A("div",Eae,[A("h5",Sae,Be(r.item.title),1)]),A("div",Cae,[lt(a,{text:r.item.subject,type:"subject"},null,8,["text"]),lt(a,{text:(r.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),A("div",Aae,[(re(!0),ce(at,null,At(o.visibleHashtags,u=>(re(),Kt(l,{key:u,text:u},null,8,["text"]))),128)),o.hasMoreHashtags?(re(),ce("span",Tae," +"+Be(o.remainingHashtagsCount),1)):rt("",!0)])])]),t[4]||(t[4]=A("hr",{class:"hr"},null,-1)),A("span",Iae,[t[3]||(t[3]=Nt("  ",-1)),A("span",Dae,Be(r.item.place),1)])])])}const Fae=wt(mae,[["render",Nae],["__scopeId","data-v-11513708"]]),kae={name:"CourseRecommended",components:{CourseMap:Eb,AiRecommendCourseExhibitionCard:pae,AiRecommendCoursePlaceCard:Fae,RecommendationCTA:Xoe},emits:["save-recommended-course","request-new-course"],props:{courseItems:{type:Array,required:!0},type:{type:String,default:"AI  "},isLoading:{type:Boolean,default:!1}},methods:{fetchNewCourse(){console.log("  "),this.$emit("request-new-course")},saveCurrentRoute(){console.log("   (CourseRecommend)"),this.$emit("save-recommended-course",this.courseItems)},goToVirtualTour(){const n=this.courseItems.map(t=>({id:t.id,title:t.title,sceneId:t.sceneId}));Dg.push({name:"virtualTour",state:{items:n}})}}},Mae={class:"course-container"},Oae={class:"map-section"},Lae={key:0,class:"d-flex justify-content-center align-items-center mb-4 mt-3"},Pae={class:"timeline-list"},Rae={class:"list-wrapper"},Bae={key:0},Uae={key:1};function Vae(n,t,r,i,s,o){const a=Lt("CourseMap"),l=Lt("AiRecommendCourseExhibitionCard"),u=Lt("AiRecommendCoursePlaceCard"),h=Lt("RecommendationCTA");return re(),ce(at,null,[A("div",Mae,[A("div",Oae,[lt(a,{items:r.courseItems,pageType:r.type},null,8,["items","pageType"])]),r.type==="exhibition"?(re(),ce("div",Lae,[A("button",{class:"btn virtual-tour-btn",onClick:t[0]||(t[0]=(...c)=>o.goToVirtualTour&&o.goToVirtualTour(...c))},[...t[1]||(t[1]=[A("i",{class:"bi bi-compass me-2"},null,-1),Nt("    ",-1)])])])):rt("",!0),A("div",Pae,[t[2]||(t[2]=A("h5",{class:"list-title"}," ",-1)),A("div",Rae,[r.type==="exhibition"?(re(),ce("div",Bae,[(re(!0),ce(at,null,At(r.courseItems,c=>(re(),Kt(l,{key:c.id,item:c,courseType:""},null,8,["item"]))),128))])):(re(),ce("div",Uae,[(re(!0),ce(at,null,At(r.courseItems,c=>(re(),Kt(u,{key:c.id,item:c},null,8,["item"]))),128))]))])])]),lt(h,{onRequestNew:o.fetchNewCourse,"secondary-loading":r.isLoading,"secondary-disabled":r.isLoading,onSaveRoute:o.saveCurrentRoute},null,8,["onRequestNew","secondary-loading","secondary-disabled","onSaveRoute"])],64)}const $ae=wt(kae,[["render",Vae],["__scopeId","data-v-7890fca1"]]),Fv={default:{firstScene:"hall_1_entrance",autoLoad:!0,sceneFadeDuration:1e3},scenes:{hall_1_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/changhall1.jpg",hotSpots:[{pitch:-2.1,yaw:132.9,type:"scene",text:"  ()",sceneId:"hall_1_ex1"},{pitch:-30,yaw:90,type:"info",text:"  . "}]},hall_1_ex1:{title:":  ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex1.jpg",hotSpots:[{pitch:-.6,yaw:37.7,type:"scene",text:" ()",sceneId:"hall_1_ex2"},{pitch:-2.5,yaw:-150,type:"scene",text:" ()",sceneId:"hall_1_entrance"}]},hall_1_ex2:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:" ()",sceneId:"hall_1_ex3"},{pitch:0,yaw:160,type:"scene",text:"  ()",sceneId:"hall_1_ex1"}]},hall_1_ex3:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex3.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"  ()",sceneId:"hall_2_entrance"},{pitch:0,yaw:160,type:"scene",text:" ()",sceneId:"hall_1_ex2"}]},hall_2_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/flat_panorama.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:" ()",sceneId:"hall_2_ex1"},{pitch:-2.5,yaw:-150,type:"scene",text:"  ()",sceneId:"hall_1_ex3"},{pitch:-30,yaw:90,type:"info",text:"  . "}]},hall_2_ex1:{},hall_2_ex2:{},hall_2_ex3:{},hall_2_ex4:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"  ()",sceneId:"hall_3_entrance"},{pitch:-2.5,yaw:-150,type:"scene",text:"  ()",sceneId:"hall_2_ex3"}]},hall_3_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/flat_panorama.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:",  ()",sceneId:"hall_3_ex1"},{pitch:-2.5,yaw:-150,type:"scene",text:"  ()",sceneId:"hall_2_ex4"},{pitch:-30,yaw:90,type:"info",text:"  . "}]},hall_3_ex1:{},hall_3_ex2:{},hall_3_ex3:{},hall_4_entrance:{},hall_5_entrance:{},hall_6_entrance:{},hall_7_entrance:{},hall_8_entrance:{},hall_9_entrance:{},hall_10_entrance:{},hall_11_entrance:{},hall_12_entrance:{},hall_13_entrance:{},hall_14_entrance:{}}},jae={default:{firstScene:"hall_1_entrance",autoLoad:!0,sceneFadeDuration:1e3},scenes:{hall_1_entrance:{title:" ()",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/changhall1.jpg",hotSpots:[{pitch:-2.1,yaw:132.9,type:"scene",text:"1.  ( )",sceneId:"hall_1_ex1"},{pitch:-30,yaw:90,type:"info",text:"  . "}]},hall_1_ex1:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img1.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"2.   ()",sceneId:"hall_1_ex2"},{pitch:-2.5,yaw:-150,type:"scene",text:" ()",sceneId:"hall_1_entrance"}]},hall_1_ex2:{title:":  ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"3.   ()",sceneId:"hall_1_ex3"},{pitch:0,yaw:160,type:"scene",text:"1.  ()",sceneId:"hall_1_ex1"}]},hall_1_ex3:{title:":  ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img1.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"4.   ()",sceneId:"hall_1_ex4"},{pitch:0,yaw:160,type:"scene",text:"2.   ()",sceneId:"hall_1_ex2"}]},hall_1_ex4:{title:":  ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex1.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"5.  ()",sceneId:"hall_1_ex5"},{pitch:0,yaw:160,type:"scene",text:"3.   ()",sceneId:"hall_1_ex3"}]},hall_1_ex5:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"6.  ()",sceneId:"hall_1_ex6"},{pitch:0,yaw:160,type:"scene",text:"4.   ()",sceneId:"hall_1_ex4"}]},hall_1_ex6:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img1.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"7.  ()",sceneId:"hall_1_ex7"},{pitch:0,yaw:160,type:"scene",text:"5.  ()",sceneId:"hall_1_ex5"}]},hall_1_ex7:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"8. (AR) ()",sceneId:"hall_1_ex8"},{pitch:0,yaw:160,type:"scene",text:"6.  ()",sceneId:"hall_1_ex6"}]},hall_1_ex8:{title:": (AR)",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"9.  ()",sceneId:"hall_1_ex9"},{pitch:0,yaw:160,type:"scene",text:"7.  ()",sceneId:"hall_1_ex7"}]},hall_1_ex9:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/chang_ex3.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:"10.  ()",sceneId:"hall_1_ex10"},{pitch:0,yaw:160,type:"scene",text:"8. (AR) ()",sceneId:"hall_1_ex8"}]},hall_1_ex10:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img1.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:" ()",sceneId:"hall_14_entrance"},{pitch:0,yaw:160,type:"scene",text:"9.  ()",sceneId:"hall_1_ex9"}]},hall_14_entrance:{title:":  ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/img2.jpg",hotSpots:[{pitch:-10,yaw:0,type:"scene",text:" ()",sceneId:"hall_3_entrance"},{pitch:-2.5,yaw:-150,type:"scene",text:" ()",sceneId:"hall_1_ex10"},{pitch:-30,yaw:90,type:"info",text:"  . "}]},hall_3_entrance:{title:": ",type:"equirectangular",panorama:"https://storage.googleapis.com/virtual_tour_team4/flat_panorama.jpg",hotSpots:[{pitch:-2.5,yaw:-150,type:"scene",text:"  ()",sceneId:"hall_14_entrance"},{pitch:-10,yaw:0,type:"scene",text:" ()",sceneId:"hall_1_entrance"},{pitch:-30,yaw:90,type:"info",text:"  . "}]}}};function tA(n){if(!n||typeof n!="string")return null;const t=n.trim().toLowerCase();return t.includes("")?"hall_1_ex1":t.includes(" ")?"hall_1_ex2":t.includes(" ")?"hall_1_ex3":t.includes(" ")?"hall_1_ex4":t.includes("")?"hall_1_ex5":t.includes("")?"hall_1_ex6":t.includes("")?"hall_1_ex7":t.includes("")||t.includes("ar")?"hall_1_ex8":t.includes("")?"hall_1_ex9":t.includes("")?"hall_1_ex10":t.includes("")||t.includes("")?"hall_14_entrance":t.includes("")?"hall_1_entrance":t.includes("")?"hall_2_entrance":t.includes("")||t.includes("")?"hall_3_entrance":t.includes("")?"hall_4_entrance":t.includes("")?"hall_5_entrance":t.includes(" ")?"hall_6_entrance":t.includes(" ")?"hall_7_entrance":t.includes("")?"hall_8_entrance":t.includes("")?"hall_9_entrance":t.includes("")?"hall_10_entrance":t.includes("")?"hall_11_entrance":t.includes("")?"hall_12_entrance":t.includes("")?"hall_13_entrance":(console.warn(`[sceneId ] "${t}"    null `),null)}function zae(n){if(!n||n.length===0)return console.log("[getMasterConfig] tourItems  ' A' () ."),Fv;const t=new Set(n.map(r=>r.sceneId));return t.has("hall_14_entrance")||t.has("hall_1_ex10")||t.has("hall_1_ex1")?(console.log("[getMasterConfig] ' B' ( )  . ' B'  ."),jae):t.has("hall_2_entrance")?(console.log("[getMasterConfig] ' A' ( )  . ' A'  ."),Fv):(console.log("[getMasterConfig]     . ' A' () ."),Fv)}const Gae={name:"PlaceDetailsView",components:{ExhibitionHeader:bH,InfoSection:$H,TabSection:WH,CourseRecommend:$ae,ContentDetailView:Roe},beforeRouteLeave(n,t,r){if(this.isTourRoute(n))return this.saveCourseCache(),sessionStorage.setItem("pdv:tabAfterBack","recommend"),sessionStorage.setItem("pdv:courseCacheKey",this.cacheKey),sessionStorage.setItem("pdv:returnTo",JSON.stringify({type:this.pageType,id:this.currentId,query:this.$route.query})),r();this.clearCourseCache(),r()},activated(){this.restoreTabIfCameBack()},setup(){const n=gi(),{isLoggedIn:t,currentUserId:r}=Cs(n);return{isLoggedIn:t,currentUserId:r}},computed:{computedIsFavorite(){return this.isWished},cacheKey(){return`course-cache:${this.pageType}:${this.currentId}`},progressSteps(){return this.pageType==="science_place"?this.sciencePlaceProgressSteps:this.exhibitionProgressSteps},loadingMessages(){return this.pageType==="science_place"?this.sciencePlaceLoadingMessages:this.exhibitionLoadingMessages},tips(){return this.pageType==="science_place"?this.sciencePlaceTips:this.exhibitionTips},progressPercentage(){const n=this.progressSteps.length,t=this.currentStepIndex+1;return Math.min(Math.round(t/n*100),100)}},data(){return{courseRerenderKey:0,currentId:null,pageType:null,currentTab:"detail",isWished:!1,isLoading:!1,exhibition:{title:"  ...",rating:0,reviewCount:0,mainCategory:"",subCategories:[],gradeTag:"",type:"",description:"",mainImage:"https://via.placeholder.com/600x400",photoReviewCount:0,exhibitionList:[],visited:!1,liked:!1},exhibitionInformation:{exhibitionLocation:"",operationPeriod:"",operationHours:"",entranceFee:"",lat:0,lng:0,scienceCenterName:"",hallId:0},place:{title:"  ...",rating:0,reviewCount:0,mainCategory:"",subCategories:[],gradeTag:"",type:"",description:"",mainImage:"https://via.placeholder.com/600x400",photoReviewCount:0,visited:!1,liked:!1},placeInformation:{placeAddress:"",operationPeriod:"",operationHours:"",entranceFee:"",lat:0,lng:0},courseItems:[],hasLoadedRecommendations:!1,isRecommending:!1,weatherInfo:null,exhibitionProgressSteps:[" ","  "," "," "],exhibitionLoadingMessages:["    ","    ","    ","   "],exhibitionTips:[" AI    ","     ","       "],sciencePlaceProgressSteps:[" "," ","  "," "," "],sciencePlaceLoadingMessages:["      ","     ","    ","     ","     "],sciencePlaceTips:["      ","       ","      "," AI       "],currentStepIndex:0,currentMessageIndex:0,currentTipIndex:0,stepInterval:null,tipInterval:null}},created(){const n=this.$route.params.id;this.currentId=n;const t=this.$route.path.startsWith("/place/");this.pageType=t?"science_place":"exhibition",t?this.fetchPlaceData(n):this.fetchExhibitionData(n),console.log("[PlaceDetailsView] currentUserId:",this.currentUserId)},mounted(){this.restoreTabIfCameBack(),this._onPageShow=()=>this.restoreTabIfCameBack(),window.addEventListener("pageshow",this._onPageShow)},watch:{"$route.params.id"(n,t){if(t&&n&&n!==t){const r=`course-cache:${this.pageType}:${t}`;this.clearCourseCache(r),this.hasLoadedRecommendations=!1,this.currentId=n;const i=this.$route.path.startsWith("/place/");this.pageType=i?"science_place":"exhibition",i?this.fetchPlaceData(n):this.fetchExhibitionData(n)}},currentUserId(n,t){n&&!t&&this.currentId?this.pageType==="exhibition"?this.fetchExhibitionData(this.currentId):this.pageType==="science_place"&&this.fetchPlaceData(this.currentId):!n&&t&&(this.isWished=!1)}},beforeUnmount(){this.clearLoadingIntervals(),this._onPageShow&&window.removeEventListener("pageshow",this._onPageShow)},methods:{async handleSaveRecommendedCourse(n){if(console.log("[Parent] save received, items =",Array.isArray(n)?n.length:n),!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>this.$router.push({name:"login"})});return}if(!Array.isArray(n)||n.length===0){ct.emit("show-global-alert",{message:"   .",type:"error"});return}try{const r=`AI : ${(this.pageType==="science_place"?this.place:this.exhibition).title||""}`,i=this.currentId,s=n.map(l=>({exhibitionId:this.pageType!=="science_place"?l.id:null,placeId:this.pageType==="science_place"?l.id:null,sequence:l.number,itemType:l.type==="exhibition"?"exhibition":"science_place",categoryName:l.subject,gradeName:l.grade,subCategories:l.hashtags})),o={scheduleName:r,sourceId:i,sourceCourseType:this.pageType==="science_place"?"ai_course":"inner_course",items:s,userId:this.currentUserId};console.log("[Parent] POST /api/schedules/save-recommended",o);const a=await cn.post("/api/schedules/save-recommended",o);a.status===200?ct.emit("show-global-alert",{message:'  " " .',type:"success"}):ct.emit("show-global-alert",{message:`    : ${a.statusText}`,type:"error"})}catch(t){console.error("save error",t);const r=t.response?.data||t.message;ct.emit("show-global-alert",{message:`   : ${r}`,type:"error"})}},isTourRoute(n){const t=(n?.name||"").toString().toLowerCase(),r=(n?.path||"").toString().toLowerCase();return t==="virtualtour"||t==="tour"||t.includes("virtual")||t.includes("tour")||/virtual|tour|vr|webgl/.test(r)},async restoreTabIfCameBack(){if(sessionStorage.getItem("pdv:tabAfterBack")==="recommend"){this.currentTab="recommend";const t=sessionStorage.getItem("pdv:courseCacheKey");t&&t===this.cacheKey?!this.loadCourseCache()&&!this.hasLoadedRecommendations&&(this.hasLoadedRecommendations=!1,this.fetchRecommendedCourse()):this.hasLoadedRecommendations||this.fetchRecommendedCourse(),sessionStorage.removeItem("pdv:tabAfterBack"),sessionStorage.removeItem("pdv:courseCacheKey")}},loadCourseCache(){try{const n=sessionStorage.getItem(this.cacheKey);if(!n)return!1;const{items:t}=JSON.parse(n);return!Array.isArray(t)||t.length===0?!1:(this.courseItems=t,this.hasLoadedRecommendations=!0,this.courseRerenderKey=Date.now(),console.log("   :",this.courseItems),!0)}catch(n){return console.warn("   :",n),!1}},saveCourseCache(){try{const n={items:this.courseItems};sessionStorage.setItem(this.cacheKey,JSON.stringify(n)),console.log("    :",this.cacheKey)}catch(n){console.warn("   :",n)}},clearCourseCache(n=this.cacheKey){try{sessionStorage.removeItem(n),console.log("   :",n)}catch(t){console.warn("   :",t)}},parseWeatherInfo(n){if(!n)return null;let t="",r="   .   !";return n.includes("")?(t="",r="  .    !"):n.includes("")?(t="",r="  .    !"):n.includes("")?(t="",r=" .       !"):n.includes("")&&(t="",r="    !"),{icon:t,description:n,recommendation:r}},mapExhibitionDTO(n){const t=n.exhibitionHallName??" ",r=this.$route.query.mainCategoryTags??"",i=this.$route.query.subCategoryTags,s=this.$route.query.gradeTags;let o=[];typeof i=="string"?o=i.split(",").map(a=>a.trim()).filter(Boolean):Array.isArray(i)&&(o=i.map(a=>String(a).trim()).filter(Boolean)),this.exhibition={title:t,rating:n.averageRating??0,reviewCount:n.totalReviews??0,mainCategory:r,subCategories:o,gradeTag:s,type:n.type??"exhibition",description:n.description??"",mainImage:n.mainImageUrl||"https://via.placeholder.com/600x400",photoReviewCount:n.totalPhotoReviews??0,exhibitionList:n.exhibitionList,visited:n.visited??!1,liked:n.liked??!1},this.isWished=n.liked??!1,this.exhibitionInformation={exhibitionLocation:n.location??" ",operationPeriod:this.formatPeriod(n.startDate,n.endDate),operationHours:n.openingHours??" ",entranceFee:this.formatFee(n.admissionFee),lat:n.latitude,lng:n.longitude,scienceCenterName:(n.location||"").split(" ")[0]||"",hallId:n.hallId}},mapPlaceDTO(n){const t=n.placeName??" ",r=this.$route.query.mainCategoryTags??"",i=this.$route.query.subCategoryTags,s=this.$route.query.gradeTags;let o=[];typeof i=="string"?o=i.split(",").map(a=>a.trim()).filter(Boolean):Array.isArray(i)&&(o=i.map(a=>String(a).trim()).filter(Boolean)),this.place={title:t,rating:n.averageRating??0,reviewCount:n.totalReviews??0,mainCategory:r,subCategories:o,gradeTag:s,description:n.description??"",mainImage:n.mainImageUrl||"https://via.placeholder.com/600x400",photoReviewCount:n.totalPhotoReviews??0,type:n.type??"science_place",visited:n.visited??!1,liked:n.liked??!1},this.isWished=n.liked??!1,this.placeInformation={placeAddress:n.addressDetail??" ",operationPeriod:this.formatPeriod(null,null),operationHours:n.openingHours??" ",entranceFee:n.admissionFee??" ",lat:n.latitude,lng:n.longitude}},formatPeriod(n,t){return!n&&!t?" ":n&&!t?`${n} ~  `:!n&&t?`~ ${t}`:`${n} ~ ${t}`},formatFee(n){return n==null?" ":n===0?"":`${n.toLocaleString("ko-KR")}`},async fetchExhibitionData(n){try{const r=(await cn.get("/api/exhibitions",{params:{exhibitionId:n,userId:this.currentUserId,mainCategoryTags:this.$route.query.mainCategoryTags??"",gradeTags:this.$route.query.gradeTags}})).data;if(!r||Object.keys(r).length===0){console.warn("   .");return}this.mapExhibitionDTO(r)}catch(t){console.error("   :",t),ct.emit("show-global-alert",{message:"   .",type:"error"})}},async fetchPlaceData(n){try{const r=(await cn.get("/api/place",{params:{placeId:n,userId:this.currentUserId}})).data;if(!r||Object.keys(r).length===0){console.warn("   .");return}this.mapPlaceDTO(r)}catch(t){console.error("   :",t),ct.emit("show-global-alert",{message:"   .",type:"error"})}},refreshData(){this.pageType==="exhibition"?this.fetchExhibitionData(this.currentId):this.pageType==="science_place"&&this.fetchPlaceData(this.currentId)},handleReviewPosted(){this.refreshData()},handleReviewDeleted(){this.refreshData()},handleTabChange(n){if(this.currentTab=n,n==="recommend"){if(this.loadCourseCache())return;this.hasLoadedRecommendations||this.fetchRecommendedCourse()}},startLoadingAnimation(){this.currentStepIndex=0,this.currentMessageIndex=0;const n=this.pageType==="science_place"?700:1200;this.stepInterval=setInterval(()=>{this.currentStepIndex<this.progressSteps.length-1&&(this.currentStepIndex++,this.currentMessageIndex++)},n),this.currentTipIndex=0,this.tipInterval=setInterval(()=>{this.currentTipIndex=(this.currentTipIndex+1)%this.tips.length},2500)},clearLoadingIntervals(){this.stepInterval&&(clearInterval(this.stepInterval),this.stepInterval=null),this.tipInterval&&(clearInterval(this.tipInterval),this.tipInterval=null)},async fetchRecommendedCourse(){console.log(" AI   ..."),this.isRecommending=!0,this.startLoadingAnimation(),await this.$nextTick();try{const n="/api/recommend/course",t={type:this.pageType,currentId:this.currentId,mainCategoryTags:this.$route.query.mainCategoryTags,subCategoryTags:this.$route.query.subCategoryTags,gradeTags:this.$route.query.gradeTags},[r]=await Promise.all([cn.get(n,{params:t}),new Promise(c=>setTimeout(c,3500))]),i=r.data;let s=[],o=null;i.recommendations?(s=i.recommendations,o=i.weatherInfo):s=i,this.pageType==="science_place"&&o?this.weatherInfo=this.parseWeatherInfo(o):this.weatherInfo=null;const a=this.pageType==="science_place"?this.place:this.exhibition,l=this.pageType==="science_place"?this.placeInformation:this.exhibitionInformation,u={id:this.currentId,number:1,imageUrl:a.mainImage||"https://via.placeholder.com/60x60",title:a.title||" ",subject:a.mainCategory||" ",grade:a.gradeTag||"  ",hashtags:Array.isArray(a.subCategories)?a.subCategories:a.subCategories?[a.subCategories]:[],type:a.type,place:l.placeAddress||l.exhibitionLocation||"  ",exhibitionList:a.exhibitionList,lat:l.lat||0,lng:l.lng||0,sceneId:tA(a.title)},h=s.map((c,f)=>({id:c.placeId,number:f+2,imageUrl:c.imageUrl||"https://via.placeholder.com/60x60",title:c.placeName,subject:c.subjectName,grade:c.gradeName,hashtags:c.hashtags,place:c.address||"  ",exhibitionList:c.exhibitionList,lat:c.latitude,lng:c.longitude,type:c.type,sceneId:tA(c.placeName)}));this.courseItems=[u,...h],this.hasLoadedRecommendations=!0,this.saveCourseCache(),this.courseRerenderKey=Date.now()}catch(n){console.error("AI    :",n),this.hasLoadedRecommendations=!0,ct.emit("show-global-alert",{message:"AI    .  .",type:"error"})}finally{setTimeout(()=>{this.clearLoadingIntervals(),this.isRecommending=!1,this.currentStepIndex=0,this.currentMessageIndex=0,console.log(" fetchRecommendedCourse . isRecommending:",this.isRecommending)},300)}},async handleToggleFavorite(){if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}if(this.isLoading)return;const n=this.pageType==="exhibition",t=this.isWished,r=n?this.exhibition:this.place,i={targetId:this.currentId,targetType:this.pageType,mainCategory:r.mainCategory,gradeTag:r.gradeTag};try{t?(await cn.delete("/api/wishlist",{data:i}),this.isWished=!1,ct.emit("show-global-alert",{message:"  .",type:"success"})):(await cn.post("/api/wishlist",i),console.log("[wishlist] add payload:",i),this.isWished=!0,ct.emit("show-global-alert",{message:"  .",type:"success"}))}catch(s){const o=s.response?.status;if(o===409){ct.emit("show-global-alert",{message:"  .  .",type:"error"});try{await cn.delete("/api/wishlist",{data:i}),this.isWished=!1,ct.emit("show-global-alert",{message:" .",type:"success"})}catch(a){console.error("409    :",a),ct.emit("show-global-alert",{message:"   . (   .)",type:"error"})}}else o===403?ct.emit("show-global-alert",{message:"   .",type:"error"}):(console.error("   :",s),ct.emit("show-global-alert",{message:"  .   .",type:"error"}))}finally{this.isLoading=!1}},async handleVisitAuthentication(){console.log("PlaceDetailView:   ");try{if(this.pageType==="exhibition"?this.exhibition.visited:this.place.visited){ct.emit("show-global-alert",{message:"  .",type:"error"});return}if(!this.isLoggedIn){ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>this.$router.push({name:"login"})});return}const t=this.pageType,r=this.currentId;if(!t||!r)throw new Error(" (targetId/targetType)   .");const i=await this.getUserCoordinates(),s={userId:this.currentUserId,targetType:t,targetId:r,latitude:i.latitude,longitude:i.longitude},o=await cn.post("/api/stamps",s);ct.emit("show-global-alert",{message:"  !",type:"success"}),console.log(" :",o.data),this.pageType==="exhibition"?this.exhibition.visited=!0:this.pageType==="science_place"&&(this.place.visited=!0)}catch(n){const t=n.response?.data?.error||n.response?.data||n.message;String(t).includes("GPS")?alert(`GPS : ${t}`):ct.emit("show-global-alert",{message:`${t}`,type:"error"}),console.error("   :",n)}},getUserCoordinates(){console.log("GPS: localhost   ");const n={latitude:36.350445,longitude:126.590901};return new Promise(t=>{setTimeout(()=>{console.log("GPS    ()",n),t(n)},500)})}}},Hae={class:"exhibition-detail-page"},Wae={class:"header"},Xae={class:"scroll-content"},qae={key:0},Yae={key:0},Kae={key:1},Zae={key:0,class:"recommend-loading-container"},Jae={class:"loading-content"},Qae={class:"loading-message"},ele={class:"progress-bar-container"},tle={class:"progress-bar"},nle={class:"progress-text"},rle={class:"progress-steps"},ile={class:"step-dot"},sle={class:"bi bi-check-lg",key:"check"},ole={class:"step-number",key:"number"},ale={class:"step-label"},lle={class:"skeleton-cards"},ule={class:"card-header"},cle={class:"card-number"},hle={class:"number-text"},fle={class:"tip-text"},dle={key:1},ple={key:0},mle={key:1},gle={key:0,class:"recommend-loading-container"},vle={class:"loading-content"},yle={class:"loading-message"},ble={class:"progress-bar-container"},xle={class:"progress-bar"},_le={class:"progress-text"},wle={class:"progress-steps"},Ele={class:"step-dot"},Sle={class:"bi bi-check-lg",key:"check"},Cle={class:"step-number",key:"number"},Ale={class:"step-label"},Tle={class:"skeleton-cards"},Ile={class:"card-header"},Dle={class:"card-number"},Nle={class:"number-text"},Fle={class:"tip-text"},kle={key:1},Mle={key:0,class:"weather-info-card"},Ole={class:"weather-header"},Lle={class:"weather-icon"},Ple={class:"weather-text"},Rle={class:"weather-recommendation"},Ble={key:2,class:"loading-container"};function Ule(n,t,r,i,s,o){const a=Lt("ExhibitionHeader"),l=Lt("InfoSection"),u=Lt("TabSection"),h=Lt("ContentDetailView"),c=Lt("CourseRecommend");return re(),ce("div",Hae,[A("div",Wae,[s.pageType==="exhibition"?(re(),Kt(a,{key:0,pageTitle:" ",isFavorite:o.computedIsFavorite,onToggleFavorite:o.handleToggleFavorite},null,8,["isFavorite","onToggleFavorite"])):s.pageType==="science_place"?(re(),Kt(a,{key:1,pageTitle:" ",isFavorite:o.computedIsFavorite,onToggleFavorite:o.handleToggleFavorite},null,8,["isFavorite","onToggleFavorite"])):(re(),Kt(a,{key:2,pageTitle:" ..."}))]),A("div",Xae,[s.pageType==="exhibition"?(re(),ce("div",qae,[lt(l,{exhibition:s.exhibition,imageTag:" ",mainCategory:s.exhibition.mainCategory,subCategories:s.exhibition.subCategories,gradeTag:s.exhibition.gradeTag,onAuthenticateVisit:o.handleVisitAuthentication},null,8,["exhibition","mainCategory","subCategories","gradeTag","onAuthenticateVisit"]),t[5]||(t[5]=A("hr",{class:"divider"},null,-1)),(re(),Kt(u,{key:s.currentTab,isPlace:!1,activeTab:s.currentTab,onUpdateTab:o.handleTabChange},null,8,["activeTab","onUpdateTab"])),s.currentTab==="detail"?(re(),ce("div",Yae,[lt(h,{exhibitionInformation:s.exhibitionInformation,exhibition:s.exhibition,isPlace:!1,"target-id":s.currentId,"target-type":s.pageType,onReviewPosted:o.handleReviewPosted,onReviewDeleted:o.handleReviewDeleted,"photo-review-count":s.exhibition.photoReviewCount},null,8,["exhibitionInformation","exhibition","target-id","target-type","onReviewPosted","onReviewDeleted","photo-review-count"])])):s.currentTab==="recommend"?(re(),ce("div",Kae,[s.isRecommending?(re(),ce("div",Zae,[A("div",Jae,[t[4]||(t[4]=pi('<div class="ai-icon-section" data-v-4a73f00d><div class="ai-icon-wrapper" data-v-4a73f00d><div class="ai-icon-bg" data-v-4a73f00d><span class="ai-icon" data-v-4a73f00d></span></div><div class="pulse-ring" data-v-4a73f00d></div><div class="pulse-ring-delayed" data-v-4a73f00d></div></div></div>',1)),A("div",Qae,[t[0]||(t[0]=A("h3",{class:"main-title"},"AI    ",-1)),lt($s,{name:"fade",mode:"out-in"},{default:Hr(()=>[(re(),ce("p",{class:"sub-message",key:s.currentMessageIndex},Be(o.loadingMessages[s.currentMessageIndex]),1))]),_:1})]),A("div",ele,[A("div",tle,[A("div",{class:"progress-fill",style:Xn({width:o.progressPercentage+"%"})},null,4)]),A("p",nle,Be(o.progressPercentage)+"%",1)]),A("div",rle,[t[1]||(t[1]=A("div",{class:"step-connector"},null,-1)),(re(!0),ce(at,null,At(o.progressSteps,(f,d)=>(re(),ce("div",{class:ht(["step-item",{active:s.currentStepIndex>=d,completed:s.currentStepIndex>d}]),key:d},[A("div",ile,[lt($s,{name:"check-fade",mode:"out-in"},{default:Hr(()=>[s.currentStepIndex>d?(re(),ce("i",sle)):(re(),ce("span",ole,Be(d+1),1))]),_:2},1024)]),A("span",ale,Be(f),1)],2))),128))]),A("div",lle,[(re(),ce(at,null,At(3,f=>A("div",{key:f,class:"skeleton-card",style:Xn({animationDelay:`${f*.15}s`})},[A("div",ule,[A("div",cle,[A("span",hle,Be(f),1)])]),t[2]||(t[2]=pi('<div class="card-body" data-v-4a73f00d><div class="skeleton-image" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></div><div class="skeleton-info" data-v-4a73f00d><div class="skeleton-title" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></div><div class="skeleton-location" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></div><div class="skeleton-tags" data-v-4a73f00d><span class="skeleton-tag" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></span><span class="skeleton-tag" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></span><span class="skeleton-tag" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></span></div></div></div>',1))],4)),64))]),lt($s,{name:"fade",mode:"out-in"},{default:Hr(()=>[(re(),ce("div",{class:"loading-tip",key:s.currentTipIndex},[t[3]||(t[3]=A("span",{class:"tip-icon"},"",-1)),A("span",fle,Be(o.tips[s.currentTipIndex]),1)]))]),_:1})])])):(re(),Kt(c,{key:s.courseRerenderKey,"course-items":s.courseItems,type:s.pageType,"is-loading":s.isRecommending,onRequestNewCourse:o.fetchRecommendedCourse,onSaveRecommendedCourse:o.handleSaveRecommendedCourse},null,8,["course-items","type","is-loading","onRequestNewCourse","onSaveRecommendedCourse"]))])):rt("",!0)])):s.pageType==="science_place"?(re(),ce("div",dle,[lt(l,{exhibition:s.place,imageTag:" ",mainCategory:s.place.mainCategory,subCategories:s.place.subCategories,gradeTag:s.place.gradeTag,onAuthenticateVisit:o.handleVisitAuthentication},null,8,["exhibition","mainCategory","subCategories","gradeTag","onAuthenticateVisit"]),t[13]||(t[13]=A("hr",{class:"divider"},null,-1)),lt(u,{isPlace:!0,activeTab:s.currentTab,onUpdateTab:o.handleTabChange},null,8,["activeTab","onUpdateTab"]),s.currentTab==="detail"?(re(),ce("div",ple,[lt(h,{placeInformation:s.placeInformation,place:s.place,"target-id":s.currentId,"target-type":s.pageType,isPlace:!0,onReviewPosted:o.handleReviewPosted,onReviewDeleted:o.handleReviewDeleted,"photo-review-count":s.place.photoReviewCount},null,8,["placeInformation","place","target-id","target-type","onReviewPosted","onReviewDeleted","photo-review-count"])])):s.currentTab==="recommend"?(re(),ce("div",mle,[s.isRecommending?(re(),ce("div",gle,[A("div",vle,[t[10]||(t[10]=pi('<div class="ai-icon-section" data-v-4a73f00d><div class="ai-icon-wrapper" data-v-4a73f00d><div class="ai-icon-bg" data-v-4a73f00d><span class="ai-icon" data-v-4a73f00d></span></div><div class="pulse-ring" data-v-4a73f00d></div><div class="pulse-ring-delayed" data-v-4a73f00d></div></div></div>',1)),A("div",yle,[t[6]||(t[6]=A("h3",{class:"main-title"},"AI      ",-1)),lt($s,{name:"fade",mode:"out-in"},{default:Hr(()=>[(re(),ce("p",{class:"sub-message",key:s.currentMessageIndex},Be(o.loadingMessages[s.currentMessageIndex]),1))]),_:1})]),A("div",ble,[A("div",xle,[A("div",{class:"progress-fill",style:Xn({width:o.progressPercentage+"%"})},null,4)]),A("p",_le,Be(o.progressPercentage)+"%",1)]),A("div",wle,[t[7]||(t[7]=A("div",{class:"step-connector"},null,-1)),(re(!0),ce(at,null,At(o.progressSteps,(f,d)=>(re(),ce("div",{class:ht(["step-item",{active:s.currentStepIndex>=d,completed:s.currentStepIndex>d}]),key:d},[A("div",Ele,[lt($s,{name:"check-fade",mode:"out-in"},{default:Hr(()=>[s.currentStepIndex>d?(re(),ce("i",Sle)):(re(),ce("span",Cle,Be(d+1),1))]),_:2},1024)]),A("span",Ale,Be(f),1)],2))),128))]),A("div",Tle,[(re(),ce(at,null,At(3,f=>A("div",{key:f,class:"skeleton-card",style:Xn({animationDelay:`${f*.15}s`})},[A("div",Ile,[A("div",Dle,[A("span",Nle,Be(f),1)])]),t[8]||(t[8]=pi('<div class="card-body" data-v-4a73f00d><div class="skeleton-image" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></div><div class="skeleton-info" data-v-4a73f00d><div class="skeleton-title" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></div><div class="skeleton-location" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></div><div class="skeleton-tags" data-v-4a73f00d><span class="skeleton-tag" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></span><span class="skeleton-tag" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></span><span class="skeleton-tag" data-v-4a73f00d><div class="shimmer" data-v-4a73f00d></div></span></div></div></div>',1))],4)),64))]),lt($s,{name:"fade",mode:"out-in"},{default:Hr(()=>[(re(),ce("div",{class:"loading-tip",key:s.currentTipIndex},[t[9]||(t[9]=A("span",{class:"tip-icon"},"",-1)),A("span",Fle,Be(o.tips[s.currentTipIndex]),1)]))]),_:1})])])):(re(),ce("div",kle,[s.weatherInfo?(re(),ce("div",Mle,[A("div",Ole,[A("span",Lle,Be(s.weatherInfo.icon),1),A("div",Ple,[t[11]||(t[11]=A("h4",null,"  ",-1)),A("p",null,Be(s.weatherInfo.description),1)])]),A("div",Rle,[t[12]||(t[12]=A("i",{class:"bi bi-lightbulb-fill"},null,-1)),A("span",null,Be(s.weatherInfo.recommendation),1)])])):rt("",!0),lt(c,{"course-items":s.courseItems,type:s.pageType,"is-loading":s.isRecommending,onRequestNewCourse:o.fetchRecommendedCourse,onSaveRecommendedCourse:o.handleSaveRecommendedCourse},null,8,["course-items","type","is-loading","onRequestNewCourse","onSaveRecommendedCourse"])]))])):rt("",!0)])):(re(),ce("div",Ble,[...t[14]||(t[14]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"mt-3"},"  ...",-1)])]))])])}const nA=wt(Gae,[["render",Ule],["__scopeId","data-v-4a73f00d"]]),Vle={class:"image-container"},$le={key:0,class:"card-badge"},jle=["src","alt"],zle={class:"content-frame d-flex flex-column flex-grow-1 gap-2 min-w-0"},Gle={class:"d-flex justify-content-between align-items-center gap-1"},Hle={class:"d-flex flex-row gap-2 flex-shrink-1 min-w-0"},Wle={key:0,class:"bi bi-heart-fill fs-5",style:{color:"red"}},Xle={key:1,class:"bi bi-plus fs-4"},qle={class:"text-frame d-flex flex-column gap-1 min-w-0"},Yle={class:"d-flex align-items-center gap-1 min-w-0"},Kle={class:"fw-bold m-0 text-truncate flex-grow-1 min-w-0"},Zle={class:"d-flex flex-row align-items-center gap-2 min-w-0"},Jle={class:"text-truncate flex-grow-1 min-w-0"},Qle={class:"hashtag-container"},eue={key:0,class:"more-tags"},tue="https://storage.googleapis.com/science_book/",kv=2,nue={__name:"PlaceCard2",props:{item:{type:Object,required:!0},iconType:{type:String,default:"add"}},emits:["add","toggle-favorite","item-click"],setup(n,{emit:t}){const r=t,i=n,s=Ut(()=>{const c=i.item.imageUrl;return c&&!c.startsWith("http")?tue+c:c}),o=Ut(()=>i.item.hashtags?.slice(0,kv)||[]),a=Ut(()=>i.item.hashtags?.length>kv),l=Ut(()=>i.item.hashtags?.length-kv||0),u=()=>{i.iconType==="heart"?r("toggle-favorite"):r("add")},h=()=>{r("item-click")};return(c,f)=>(re(),ce("div",{class:"place-card d-flex flex-row bg-white align-items-center px-3 py-3 rounded-4 shadow gap-3",style:{"font-family":"'SUIT' , sans-serif"},onClick:h},[A("div",Vle,[n.item.badgeLabel?(re(),ce("div",$le,Be(n.item.badgeLabel),1)):rt("",!0),A("img",{src:s.value,alt:n.item.title,class:"map-thumbnail"},null,8,jle)]),A("div",zle,[A("div",Gle,[A("div",Hle,[lt(As,{text:n.item.subject||"",type:"subject"},null,8,["text"]),lt(As,{text:(n.item.grade||"").replace(" ",""),type:"grade"},null,8,["text"])]),A("button",{class:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center btn-add flex-shrink-0",onClick:br(u,["stop"])},[i.iconType==="heart"?(re(),ce("i",Wle)):(re(),ce("i",Xle))])]),A("div",qle,[A("div",Yle,[A("h5",Kle,Be(n.item.title||""),1)]),A("div",Zle,[A("span",Jle,Be(n.item.place||""),1)]),A("div",Qle,[(re(!0),ce(at,null,At(o.value,d=>(re(),Kt($a,{key:d,text:d},null,8,["text"]))),128)),a.value?(re(),ce("span",eue," +"+Be(l.value),1)):rt("",!0)])])])]))}},FM=wt(nue,[["__scopeId","data-v-90d485a5"]]),rue={name:"PlaceList",components:{PlaceCard2:FM,FilterModal:j1},data(){return{selectedTab:"",isModalOpen:!1,allFetchedItems:[],isSearching:!1}},computed:{filteredItems(){return this.selectedTab===""?this.allFetchedItems.filter(n=>n.itemType==="exhibition"):this.allFetchedItems.filter(n=>n.itemType==="science_place")},...L4(Cp,["selectedGrade","selectedSubject"])},methods:{...P4(Cp,["setFilter"]),changeTab(n){this.selectedTab=n,this.$router.replace({query:{tab:n}})},goToDetail(n){console.log("  :",n.title);const t={mainCategoryTags:this.selectedSubject,subCategoryTags:n.hashtags,gradeTags:this.selectedGrade};n.itemType==="exhibition"?(console.log(`   (ID: ${n.id}):`,n.title),this.$router.push({path:`/exhibition/${n.id}`,query:t})):(console.log(`   (ID: ${n.id}):`,n.title),this.$router.push({path:`/place/${n.id}`,query:t}))},handleItemClick(n){this.goToDetail(n)},goBack(){this.$router.back()},handleFilterComplete(n){console.log("  :",n),this.setFilter(n.grade,n.subject),this.isModalOpen=!1,this.performSearch()},async performSearch(){console.log("  ( ):",{subject:this.selectedSubject,grade:this.selectedGrade}),this.isSearching=!0,this.allFetchedItems=[];const n={searchType:"all",subject:this.selectedSubject,grade:this.selectedGrade};try{const t=await cn.get("/api/content/search",{params:n});if(t.data&&Array.isArray(t.data)){const r=t.data.map(i=>(i.id||(i.id=`temp_${i.itemType}_${Date.now()}_${Math.random().toString(36).substr(2,5)}`),i.itemType==="exhibition"?{...i,badgeLabel:""}:i));this.allFetchedItems=r,console.log("API   (): ",this.allFetchedItems.length,"")}else console.error("API   .",t.data),this.allFetchedItems=[]}catch(t){console.error("API    ",t.response?t.response.data:t.message),ct.emit("show-global-alert",{message:"    .",type:"error"}),this.allFetchedItems=[]}finally{this.isSearching=!1}}},created(){this.$route.query.tab===""?this.selectedTab="":this.selectedTab="",this.performSearch()}},iue={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},sue={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},oue={class:"header-left",style:{flex:"1"}},aue={class:"header-right d-flex justify-content-end",style:{flex:"1"}},lue={class:"segmented-control-wrapper flex-shrink-0"},uue={class:"segmented-control"},cue={class:"user-like-course"},hue={key:0,class:"text-center p-5 text-muted w-100 status-message"},fue={key:1,class:"text-center p-5 text-muted w-100 status-message"},due={class:"text-sm mt-2",style:{"font-size":"0.9rem",color:"#888"}};function pue(n,t,r,i,s,o){const a=Lt("PlaceCard2"),l=Lt("FilterModal");return re(),ce("div",iue,[A("div",sue,[A("div",oue,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...u)=>o.goBack&&o.goBack(...u))})]),t[5]||(t[5]=A("div",{class:"header-center fw-bold",style:{flex:"1","text-align":"center","font-size":"16px"}},"   ",-1)),A("div",aue,[A("i",{class:"bi bi-sliders filter-icon",style:{cursor:"pointer"},onClick:t[1]||(t[1]=br(u=>s.isModalOpen=!0,["prevent"]))})])]),A("div",lue,[A("div",uue,[A("button",{type:"button",class:ht(["spec-button",{active:s.selectedTab===""}]),onClick:t[2]||(t[2]=u=>o.changeTab(""))},"",2),A("button",{type:"button",class:ht(["spec-button",{active:s.selectedTab===""}]),onClick:t[3]||(t[3]=u=>o.changeTab(""))}," ",2)])]),A("div",cue,[s.isSearching?(re(),ce("div",hue,[...t[6]||(t[6]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"mt-2 text-muted"}," ...",-1)])])):o.filteredItems.length===0?(re(),ce("div",fue,[A("div",null," '"+Be(s.selectedTab)+"'    . ",1),A("div",due,"  : "+Be(n.selectedSubject)+" / : "+Be(n.selectedGrade.replace(" ","")),1)])):(re(!0),ce(at,{key:2},At(o.filteredItems,(u,h)=>(re(),Kt(a,{key:u.id||h,item:u,onAdd:c=>o.goToDetail(u),onItemClick:c=>o.handleItemClick(u)},null,8,["item","onAdd","onItemClick"]))),128))]),s.isModalOpen?(re(),Kt(l,{key:0,showLocationOptions:!1,initialSubject:n.selectedSubject,initialGrade:n.selectedGrade,onClose:t[4]||(t[4]=u=>s.isModalOpen=!1),onComplete:o.handleFilterComplete},null,8,["initialSubject","initialGrade","onComplete"])):rt("",!0)])}const mue=wt(rue,[["render",pue],["__scopeId","data-v-925c4f32"]]),gue={name:"PhotosHeader",methods:{goBack(){this.$router.back()}}},vue={class:"header"};function yue(n,t,r,i,s,o){return re(),ce("header",vue,[A("button",{class:"back-btn",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[1]||(t[1]=[A("i",{class:"bi bi-arrow-left"},null,-1)])]),t[2]||(t[2]=A("h1",{class:"page-title"}," ",-1)),t[3]||(t[3]=A("div",{class:"header-placeholder"},null,-1))])}const bue=wt(gue,[["render",yue],["__scopeId","data-v-19819e51"]]),xue="https://science-book-backend-392637347057.asia-northeast3.run.app",_ue={name:"ReviewPhotoGridView",components:{PhotoReviewHeader:bue,PhotoModal:wN},props:{targetType:{type:String,required:!0},targetId:{type:[String,Number],required:!0}},data(){return{photos:[],isLoading:!0,photoModal:{visible:!1,images:[],startIndex:0}}},created(){this.targetId&&this.targetType?this.fetchReviewPhotos():(console.error("targetId  targetType props  ."),ct.emit("show-global-alert",{message:" .",type:"error"}),this.isLoading=!1)},methods:{async fetchReviewPhotos(){this.isLoading=!0;const n=`${xue}/api/reviews/target/${this.targetType}/${this.targetId}/photos`;try{const t=await kn.get(n);this.photos=t.data,console.log(` [ReviewPhotoGridView] ${this.targetType}/${this.targetId}  ${t.data.length}  .`)}catch(t){console.error("     :",t),ct.emit("show-global-alert",{message:"  .",type:"error"}),this.photos=[]}finally{this.isLoading=!1}},openModal(n){this.photoModal.images=this.photos,this.photoModal.startIndex=n,this.photoModal.visible=!0}}},wue={class:"photo-grid-page"},Eue={class:"scroll-content"},Sue={key:0,class:"loading-container"},Cue={key:1,class:"photo-grid-container"},Aue=["onClick"],Tue=["src"];function Iue(n,t,r,i,s,o){const a=Lt("PhotoReviewHeader"),l=Lt("PhotoModal");return re(),ce("div",wue,[lt(a),A("div",Eue,[s.isLoading?(re(),ce("div",Sue,[...t[1]||(t[1]=[A("p",null,"  ...",-1)])])):s.photos.length>0?(re(),ce("div",Cue,[(re(!0),ce(at,null,At(s.photos,(u,h)=>(re(),ce("div",{key:h,class:"photo-item",onClick:c=>o.openModal(h)},[A("img",{src:u,alt:" "},null,8,Tue)],8,Aue))),128))])):rt("",!0)]),lt(l,{show:s.photoModal.visible,images:s.photoModal.images,startIndex:s.photoModal.startIndex,onClose:t[0]||(t[0]=u=>s.photoModal.visible=!1)},null,8,["show","images","startIndex"])])}const Due=wt(_ue,[["render",Iue],["__scopeId","data-v-dd62abcc"]]),Nue="https://science-book-backend-392637347057.asia-northeast3.run.app",Fue=`${Nue}/api/user`,kue={name:"LoginForm",data(){return{id:"",password:"",isPasswordVisible:!1,errorMessage:""}},computed:{isFormValid(){return this.id.length>0&&this.password.length>0}},methods:{togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible},async handleLogin(){if(!this.id||!this.password){this.errorMessage="   .";return}this.errorMessage="";const n=gi(),t={loginId:this.id,password:this.password};console.log("  :",t);try{const r=await kn.post(`${Fue}/login`,t);r.status===200&&(n.login(r.data),console.log(" . Pinia authStore :",n.$state),this.$router.replace("/home"))}catch(r){console.error("  :",r),r.response&&r.response.status===401?this.errorMessage=r.response.data||"   .":this.errorMessage="    ."}}}},Mue={class:"login-container"},Oue={class:"login-form"},Lue={class:"form-group"},Pue={class:"form-group"},Rue={class:"input-with-icon"},Bue=["type"],Uue={key:0,class:"bi bi-eye"},Vue={key:1,class:"bi bi-eye-slash"},$ue={key:0,class:"error-message"},jue={class:"signup-link-wrapper"};function zue(n,t,r,i,s,o){const a=Lt("router-link");return re(),ce("div",Mue,[A("div",Oue,[t[9]||(t[9]=A("header",{class:"header"},[A("h2",null,"")],-1)),A("form",{onSubmit:t[3]||(t[3]=br((...l)=>o.handleLogin&&o.handleLogin(...l),["prevent"])),novalidate:""},[A("div",Lue,[t[4]||(t[4]=A("label",{for:"id"},"",-1)),an(A("input",{type:"text",id:"id","onUpdate:modelValue":t[0]||(t[0]=l=>s.id=l),placeholder:" ",required:"",class:"text-input"},null,512),[[nr,s.id]])]),A("div",Pue,[t[5]||(t[5]=A("label",{for:"password"},"",-1)),A("div",Rue,[an(A("input",{type:s.isPasswordVisible?"text":"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=l=>s.password=l),placeholder:" ",required:"",class:"text-input"},null,8,Bue),[[Dm,s.password]]),A("span",{onClick:t[2]||(t[2]=(...l)=>o.togglePasswordVisibility&&o.togglePasswordVisibility(...l)),class:"password-toggle-icon"},[s.isPasswordVisible?(re(),ce("i",Uue)):(re(),ce("i",Vue))])])]),s.errorMessage?(re(),ce("div",$ue,Be(s.errorMessage),1)):rt("",!0),t[6]||(t[6]=A("button",{type:"submit",class:"submit-button"},"",-1))],32),A("p",jue,[t[8]||(t[8]=Nt("   ? ",-1)),lt(a,{to:"/signup"},{default:Hr(()=>[...t[7]||(t[7]=[Nt("",-1)])]),_:1})])])])}const Gue=wt(kue,[["render",zue],["__scopeId","data-v-07d16f2c"]]),Hue="https://science-book-backend-392637347057.asia-northeast3.run.app",Mv=`${Hue}/api/user`,Wue={name:"SignupForm",debounceTimer:null,data(){return{id:"",password:"",username:"",email:"",phone:"",isIdChecked:!1,isIdDuplicate:!0,idCheckLoading:!1,passwordVisible:{password:!1},isPasswordFocused:!1,passwordCriteria:{length:!1,number:!1,specialChar:!1},isEmailDuplicate:!0,isEmailChecking:!1,isEmailCheckedOnce:!1,showSuccessModal:!1}},computed:{isEmailValid(){return/\S+@\S+\.\S+/.test(this.email)},isFormValid(){return this.id&&!this.isIdDuplicate&&this.isIdChecked&&this.email&&this.isEmailValid&&!this.isEmailDuplicate&&this.isEmailCheckedOnce&&this.username&&this.phone&&this.passwordCriteria.length&&this.passwordCriteria.number&&this.passwordCriteria.specialChar}},methods:{togglePasswordVisibility(n){this.passwordVisible[n]=!this.passwordVisible[n],this.$nextTick(()=>{const t=document.getElementById(n);t&&(t.type=this.passwordVisible[n]?"text":"password")})},handlePasswordFocus(){this.isPasswordFocused=!0},handlePasswordBlur(){setTimeout(()=>{this.isPasswordFocused=!1},200)},checkPasswordValidity(){this.passwordCriteria.length=this.password.length>=8&&this.password.length<=16,this.passwordCriteria.number=/[0-9]/.test(this.password),this.passwordCriteria.specialChar=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(this.password)},async checkIdDuplicate(){if(!this.id||this.id.length<4){ct.emit("show-global-alert",{message:" 4   .",type:"error"}),this.isIdChecked=!1,this.idCheckLoading=!1,this.isIdDuplicate=!0;return}this.idCheckLoading=!0;try{const t=(await kn.get(`${Mv}/check-id/${this.id}`)).data;this.isIdChecked=!0,this.isIdDuplicate=t,console.log(t?" ":"  ")}catch(n){console.error("   :",n),ct.emit("show-global-alert",{message:"     .",type:"error"}),this.isIdDuplicate=!0}finally{this.idCheckLoading=!1}},resetIdCheckStatus(){this.isIdChecked=!1,this.isIdDuplicate=!0},checkEmailDuplicateWithDebounce(){const n=this.email.trim();if(this.isEmailCheckedOnce=!0,this.isEmailDuplicate=!0,n.length===0||!this.isEmailValid){this.$options.debounceTimer&&clearTimeout(this.$options.debounceTimer),this.isEmailChecking=!1;return}this.$options.debounceTimer&&clearTimeout(this.$options.debounceTimer),this.isEmailChecking=!0,this.$options.debounceTimer=setTimeout(async()=>{try{const r=(await kn.get(`${Mv}/check-email/${n}`)).data;this.isEmailDuplicate=r}catch(t){console.error("   :",t),this.isEmailDuplicate=!0}finally{this.isEmailChecking=!1}},500)},formatPhoneNumber(){let t=this.phone.replace(/[^0-9]/g,"");t.length>11&&(t=t.substring(0,11));let r="";t.length<4?r=t:t.length<8?r=t.substring(0,3)+"-"+t.substring(3):r=t.substring(0,3)+"-"+t.substring(3,7)+"-"+t.substring(7,11),this.phone=r},async handleSubmit(){if(!this.isFormValid){ct.emit("show-global-alert",{message:"      ,      .",type:"error"});return}const n={loginId:this.id,password:this.password,name:this.username,email:this.email,phoneNumber:this.phone};console.log(" :",n);try{const t=await kn.post(`${Mv}/signup`,n);t.status===201?(console.log(" :",t.data),this.showSuccessModal=!0):ct.emit("show-global-alert",{message:" . ( : "+t.status+")",type:"error"})}catch(t){console.error("  :",t),t.response&&t.response.data?ct.emit("show-global-alert",{message:"    : "+t.response.data,type:"error"}):ct.emit("show-global-alert",{message:"       .",type:"error"})}},navigateToLogin(){this.showSuccessModal=!1,this.$router.replace({name:"login"})}}},Xue={class:"signup-container"},que={class:"form-group"},Yue={class:"input-with-button"},Kue=["disabled"],Zue={key:0},Jue={key:1},Que={class:"form-group"},ece={class:"input-with-icon"},tce=["type"],nce={key:0,class:"bi bi-eye"},rce={key:1,class:"bi bi-eye-slash"},ice={key:0,class:"password-validation-list"},sce={class:"form-group"},oce={class:"form-group"},ace={key:0,class:"validation-message invalid"},lce={key:0},uce={key:1},cce={key:2},hce={class:"form-group"},fce=["disabled"],dce={class:"login-link-wrapper"},pce={key:0,class:"modal-overlay"},mce={class:"modal-content"};function gce(n,t,r,i,s,o){const a=Lt("router-link");return re(),ce(at,null,[A("div",Xue,[t[26]||(t[26]=A("header",{class:"header"},[A("h2",null,"")],-1)),A("form",{onSubmit:t[13]||(t[13]=br((...l)=>o.handleSubmit&&o.handleSubmit(...l),["prevent"])),class:"signup-form"},[A("div",que,[t[15]||(t[15]=A("label",{for:"id"}," *",-1)),A("div",Yue,[an(A("input",{type:"text",id:"id","onUpdate:modelValue":t[0]||(t[0]=l=>s.id=l),placeholder:" ",required:"",class:"text-input",onInput:t[1]||(t[1]=(...l)=>o.resetIdCheckStatus&&o.resetIdCheckStatus(...l))},null,544),[[nr,s.id]]),A("button",{type:"button",class:"check-button",onClick:t[2]||(t[2]=(...l)=>o.checkIdDuplicate&&o.checkIdDuplicate(...l)),disabled:!s.id},"",8,Kue)]),s.isIdChecked&&!s.idCheckLoading?(re(),ce("div",{key:0,class:ht({"validation-message":!0,valid:!s.isIdDuplicate,invalid:s.isIdDuplicate})},[s.isIdDuplicate?(re(),ce("span",Zue,"   .")):(re(),ce("span",Jue,"  !"))],2)):rt("",!0)]),A("div",Que,[t[19]||(t[19]=A("label",{for:"password"}," *",-1)),A("div",ece,[an(A("input",{type:s.passwordVisible.password?"text":"password",id:"password","onUpdate:modelValue":t[3]||(t[3]=l=>s.password=l),onInput:t[4]||(t[4]=(...l)=>o.checkPasswordValidity&&o.checkPasswordValidity(...l)),onFocus:t[5]||(t[5]=(...l)=>o.handlePasswordFocus&&o.handlePasswordFocus(...l)),onBlur:t[6]||(t[6]=(...l)=>o.handlePasswordBlur&&o.handlePasswordBlur(...l)),placeholder:", ,   8~16",required:"",class:"text-input"},null,40,tce),[[Dm,s.password]]),A("span",{class:"password-toggle-icon",onClick:t[7]||(t[7]=l=>o.togglePasswordVisibility("password"))},[s.passwordVisible.password?(re(),ce("i",nce)):(re(),ce("i",rce))])]),s.isPasswordFocused?(re(),ce("div",ice,[A("div",{class:ht(["validation-item",{valid:s.passwordCriteria.length}])},[A("i",{class:ht(["validation-icon",s.passwordCriteria.length?"bi-check-circle-fill":"bi-x-circle-fill"])},null,2),t[16]||(t[16]=Nt(" 8 ~ 16  ",-1))],2),A("div",{class:ht(["validation-item",{valid:s.passwordCriteria.number}])},[A("i",{class:ht(["validation-icon",s.passwordCriteria.number?"bi-check-circle-fill":"bi-x-circle-fill"])},null,2),t[17]||(t[17]=Nt("  1  ",-1))],2),A("div",{class:ht(["validation-item",{valid:s.passwordCriteria.specialChar}])},[A("i",{class:ht(["validation-icon",s.passwordCriteria.specialChar?"bi-check-circle-fill":"bi-x-circle-fill"])},null,2),t[18]||(t[18]=Nt("  1  ",-1))],2)])):rt("",!0)]),A("div",sce,[t[20]||(t[20]=A("label",{for:"username"},"  *",-1)),an(A("input",{type:"text",id:"username","onUpdate:modelValue":t[8]||(t[8]=l=>s.username=l),placeholder:"  ",required:"",class:"text-input"},null,512),[[nr,s.username]])]),A("div",oce,[t[21]||(t[21]=A("label",{for:"email"}," *",-1)),an(A("input",{type:"email",id:"email","onUpdate:modelValue":t[9]||(t[9]=l=>s.email=l),placeholder:" ",required:"",class:"text-input",onInput:t[10]||(t[10]=(...l)=>o.checkEmailDuplicateWithDebounce&&o.checkEmailDuplicateWithDebounce(...l))},null,544),[[nr,s.email]]),s.email.length>0&&!o.isEmailValid?(re(),ce("div",ace,"    . ")):rt("",!0),o.isEmailValid&&s.isEmailCheckedOnce?(re(),ce("div",{key:1,class:ht({"validation-message":!0,"checking-status":s.isEmailChecking,valid:!s.isEmailDuplicate&&!s.isEmailChecking,invalid:s.isEmailDuplicate&&!s.isEmailChecking})},[s.isEmailChecking?(re(),ce("span",lce,"  ...")):s.isEmailDuplicate?(re(),ce("span",uce,"   .")):(re(),ce("span",cce,"  !"))],2)):rt("",!0)]),A("div",hce,[t[22]||(t[22]=A("label",{for:"phone"},"  *",-1)),an(A("input",{type:"tel",id:"phone","onUpdate:modelValue":t[11]||(t[11]=l=>s.phone=l),placeholder:"  ",required:"",class:"text-input",onInput:t[12]||(t[12]=(...l)=>o.formatPhoneNumber&&o.formatPhoneNumber(...l))},null,544),[[nr,s.phone]])]),t[25]||(t[25]=A("p",{class:"terms-text"},"    ,       . ",-1)),A("button",{type:"submit",class:"submit-button",disabled:!o.isFormValid},"",8,fce),A("p",dce,[t[24]||(t[24]=Nt("   ? ",-1)),lt(a,{to:{name:"login"},replace:""},{default:Hr(()=>[...t[23]||(t[23]=[Nt("",-1)])]),_:1})])],32)]),s.showSuccessModal?(re(),ce("div",pce,[A("div",mce,[t[27]||(t[27]=A("h3",null," ",-1)),A("p",null,Be(s.username)+", !",1),t[28]||(t[28]=A("p",null,"    .",-1)),A("button",{onClick:t[14]||(t[14]=(...l)=>o.navigateToLogin&&o.navigateToLogin(...l)),class:"modal-button"},"  ")])])):rt("",!0)],64)}const vce=wt(Wue,[["render",gce],["__scopeId","data-v-40b62fd7"]]),yce={name:"LikePlace",components:{PlaceCard2:FM},setup(){const n=gi(),{isLoggedIn:t,currentUserId:r}=Cs(n);return{isLoggedIn:t,currentUserId:r}},data(){return{allWishlistItems:[],displayedItems:[],isSearching:!1}},computed:{},methods:{async handleRemoveFavorite(n){console.log(`[ ] ${n.title} (ID: ${n.id}, Type: ${n.itemType})`),ct.emit("show-global-confirm",{message:"   ?",onConfirm:async()=>{console.log("[ ]  . API ");try{await cn.delete("/api/wishlist",{data:{targetId:n.id,targetType:n.itemType}}),this.displayedItems=this.displayedItems.filter(t=>t.id!==n.id),this.allWishlistItems=this.allWishlistItems.filter(t=>t.id!==n.id),ct.emit("show-global-alert",{message:"  .",type:"success"})}catch(t){console.error("  :",t),ct.emit("show-global-alert",{message:t.response?.data?.message||" .  .",type:"error"})}}})},goToDetail(n){const t={mainCategoryTags:n.subject,subCategoryTags:n.hashtags,gradeTags:n.grade},r=n.itemType==="exhibition"?"/exhibition":"/place";this.$router.push({path:`${r}/${n.id}`,query:t})},handleItemClick(n){this.goToDetail(n)},goBack(){this.$router.back()},async performSearch(){if(console.log("performSearch  "),!this.isLoggedIn){console.warn("      ."),ct.emit("show-global-confirm",{message:"  .",onConfirm:()=>{this.$router.push({name:"login"})}});return}this.isSearching=!0,this.allWishlistItems=[],this.displayedItems=[];try{console.log(":__: API  : /api/wishlist/my-list");const n=await cn.get("/api/wishlist/my-list");if(console.log(":__: API  :",n),console.log(":__: response.data:",n.data),n.data&&Array.isArray(n.data)){const t=n.data.map(r=>{let i=null;return r.targetType==="exhibition"&&(i=""),{id:r.targetId,title:r.title,imageUrl:r.mainImageUrl,subject:r.mainCategory,grade:r.gradeTag,hashtags:r.subCategories,type:r.type,place:r.place,itemType:r.targetType,badgeLabel:i}});console.log("API   (): ",t.length,""),this.displayedItems=t,console.log(`[ ]  ${this.displayedItems.length}`)}else console.error("API   .",n.data),this.allWishlistItems=[],this.displayedItems=[]}catch(n){console.error("     ",n.response?n.response.data:n.message),ct.emit("show-global-alert",{message:"     .",type:"error"}),this.allWishlistItems=[],this.displayedItems=[]}finally{this.isSearching=!1}}},created(){this.$route.query.tab===""?this.selectedTab="":this.selectedTab="",this.performSearch()}},bce={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},xce={class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},_ce={class:"header-left",style:{flex:"1"}},wce={class:"user-like-course"},Ece={key:0,class:"text-center p-5 text-muted w-100",style:{"margin-top":"20px"}},Sce={key:1,class:"text-center p-5 text-muted w-100",sytle:"margin-top: 20px;"};function Cce(n,t,r,i,s,o){const a=Lt("PlaceCard2");return re(),ce("div",bce,[A("div",xce,[A("div",_ce,[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...l)=>o.goBack&&o.goBack(...l))})]),t[1]||(t[1]=A("div",{class:"header-center fw-bold fs-6",style:{flex:"1","text-align":"center"}},"   ",-1)),t[2]||(t[2]=A("div",{class:"header-right",style:{flex:"1","text-align":"right"}},null,-1))]),A("div",wce,[s.isSearching?(re(),ce("div",Ece,"  ... ")):s.displayedItems.length===0?(re(),ce("div",Sce,[...t[3]||(t[3]=[A("div",null,"  .",-1)])])):(re(!0),ce(at,{key:2},At(s.displayedItems,l=>(re(),Kt(a,{key:l.id,item:l,iconType:"heart",onAdd:u=>o.goToDetail(l),onToggleFavorite:u=>o.handleRemoveFavorite(l),onItemClick:u=>o.handleItemClick(l)},null,8,["item","onAdd","onToggleFavorite","onItemClick"]))),128))])])}const Ace=wt(yce,[["render",Cce],["__scopeId","data-v-3ea81970"]]),Tce={name:"NoticeView",data(){return{notices:[],loading:!0,error:null,apiBaseUrl:"https://science-book-backend-392637347057.asia-northeast3.run.app/api/admin"}},mounted(){this.fetchNotices()},methods:{async fetchNotices(){this.loading=!0,this.error=null;try{const n=await fetch(`${this.apiBaseUrl}/notices`);n.ok?(this.notices=await n.json(),this.notices.sort((t,r)=>new Date(r.createdAt)-new Date(t.createdAt))):(this.error="   .",console.error("  :",n.status))}catch(n){this.error="  .",console.error("  :",n)}finally{this.loading=!1}},goBack(){this.$router.back()},goToNoticeDetail(n){this.$router.push({name:"NoticeDetail",params:{id:n}})},formatDate(n){const t=new Date(n),r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}.${i}.${s}`}}},Ice={id:"notice-page"},Dce={class:"header-section"},Nce={class:"content-wrapper"},Fce={key:0,class:"loading-state"},kce={key:1,class:"notice-list"},Mce=["onClick"],Oce={class:"notice-item-content"},Lce={class:"notice-item-title"},Pce={class:"notice-item-meta"},Rce={class:"meta-date"},Bce={class:"meta-views"},Uce={key:0,class:"empty-state"},Vce={key:2,class:"alert alert-danger error-alert",role:"alert"};function $ce(n,t,r,i,s,o){return re(),ce("div",Ice,[A("div",Dce,[A("button",{class:"btn-back",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[1]||(t[1]=[A("i",{class:"bi bi-arrow-left"},null,-1)])]),t[2]||(t[2]=A("h1",{class:"header-title"},"",-1)),t[3]||(t[3]=A("div",{class:"header-spacer"},null,-1))]),A("div",Nce,[s.loading?(re(),ce("div",Fce,[...t[4]||(t[4]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"}," ...")],-1)])])):(re(),ce("div",kce,[(re(!0),ce(at,null,At(s.notices,a=>(re(),ce("div",{key:a.id,class:"notice-item",onClick:l=>o.goToNoticeDetail(a.id)},[A("div",Oce,[A("h2",Lce,Be(a.title),1),A("div",Pce,[A("span",Rce,Be(o.formatDate(a.createdAt)),1),t[5]||(t[5]=A("span",{class:"meta-dot"},"",-1)),A("span",Bce," "+Be(a.views),1)])]),t[6]||(t[6]=A("i",{class:"bi bi-chevron-right notice-chevron"},null,-1))],8,Mce))),128)),s.notices.length===0?(re(),ce("div",Uce,[...t[7]||(t[7]=[A("div",{class:"empty-icon-circle"},[A("i",{class:"bi bi-bell-slash"})],-1),A("p",null,"  .",-1)])])):rt("",!0)])),s.error?(re(),ce("div",Vce,Be(s.error),1)):rt("",!0)])])}const jce=wt(Tce,[["render",$ce],["__scopeId","data-v-d8a37aae"]]),zce={name:"NoticeDetailView",data(){return{notice:null,loading:!0,error:null,apiBaseUrl:"https://science-book-backend-392637347057.asia-northeast3.run.app/api/admin"}},created(){this.loadNotice()},methods:{async loadNotice(){const n=parseInt(this.$route.params.id);this.loading=!0,this.error=null;try{const t=await fetch(`${this.apiBaseUrl}/notices/${n}`);t.ok?this.notice=await t.json():t.status===404?this.error="   .":(this.error="   .",console.error("  :",t.status))}catch(t){this.error="  .",console.error("  :",t)}finally{this.loading=!1}},goBack(){this.$router.back()},formatDate(n){const t=new Date(n),r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}.${i}.${s}`}},watch:{"$route.params.id"(){this.loadNotice()}}},Gce={id:"notice-detail-page"},Hce={class:"header-section"},Wce={class:"content-wrapper"},Xce={key:0,class:"text-center py-5"},qce={key:1,class:"notice-detail-container"},Yce={class:"notice-header-section"},Kce={class:"notice-detail-title"},Zce={class:"notice-meta-info"},Jce={class:"meta-item"},Qce={class:"meta-item"},ehe={class:"notice-content-section"},the={class:"notice-content"},nhe={key:2,class:"empty-state"},rhe={key:3,class:"alert alert-danger mt-4",role:"alert"};function ihe(n,t,r,i,s,o){return re(),ce("div",Gce,[A("div",Hce,[A("button",{class:"btn-back",onClick:t[0]||(t[0]=(...a)=>o.goBack&&o.goBack(...a))},[...t[1]||(t[1]=[A("i",{class:"bi bi-arrow-left"},null,-1)])]),t[2]||(t[2]=A("h1",{class:"header-title"},"",-1)),t[3]||(t[3]=A("div",{class:"header-spacer"},null,-1))]),A("div",Wce,[s.loading?(re(),ce("div",Xce,[...t[4]||(t[4]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"}," ...")],-1)])])):s.notice?(re(),ce("div",qce,[A("div",Yce,[A("h1",Kce,Be(s.notice.title),1),A("div",Zce,[A("div",Jce,[t[5]||(t[5]=A("i",{class:"bi bi-calendar3"},null,-1)),A("span",null,Be(o.formatDate(s.notice.createdAt)),1)]),t[7]||(t[7]=A("div",{class:"meta-divider"},null,-1)),A("div",Qce,[t[6]||(t[6]=A("i",{class:"bi bi-eye"},null,-1)),A("span",null," "+Be(s.notice.views),1)])])]),A("div",ehe,[A("div",the,Be(s.notice.content),1)])])):(re(),ce("div",nhe,[...t[8]||(t[8]=[A("i",{class:"bi bi-exclamation-circle"},null,-1),A("p",null,"   .",-1)])])),s.error?(re(),ce("div",rhe,Be(s.error),1)):rt("",!0)])])}const she=wt(zce,[["render",ihe],["__scopeId","data-v-6aa313a2"]]),ohe="/stamp.png",ahe={name:"StampView",setup(){const n=gi(),{currentUserId:t}=Cs(n),r=vc(),i=Xe(""),s=Xe(!0),o=Xe([]),a=39,l=Ut(()=>{const m=i.value===""?"exhibition":"science_place";return o.value.filter(g=>g.targetType===m)}),u=Ut(()=>a),h=Ut(()=>o.value.length),c=Ut(()=>u.value===0?0:h.value/u.value*100),f=()=>{r.back()},d=m=>{i.value=m},p=async()=>{s.value=!0;try{const m=await cn.get(`/api/stamps/user/${t.value}`);o.value=m.data.map(g=>({...g,collected:!0})),console.log("[StampView] API  (  ):",o.value)}catch(m){console.error("[StampView]     :",m),m.response&&m.response.status===401&&alert("   . (401)")}finally{s.value=!1}};return xr(()=>{t.value?p():(alert("  ."),r.push("/login"))}),{selectedTab:i,isLoading:s,filteredStamps:l,collectedStampsCount:h,progressPercent:c,goBack:f,selectTab:d,totalStampsCount:u,Math}}},lhe={class:"page-container",style:{"font-family":"'SUIT', sans-serif"}},uhe={class:"stamp-header"},che={class:"content-container"},hhe={class:"progress-card"},fhe={class:"progress-main"},dhe={class:"progress-count"},phe={class:"count-number"},mhe={class:"count-total"},ghe={class:"count-caption"},vhe=["aria-valuenow"],yhe={class:"segmented-control-wrapper"},bhe={class:"segmented-control"},xhe={class:"stamp-grid-wrapper"},_he={key:0,class:"loading-spinner"},whe={key:1,class:"stamp-grid"},Ehe=["title"],She={key:2,class:"empty-grid-message"},Che={class:"empty-text"};function Ahe(n,t,r,i,s,o){return re(),ce("div",lhe,[A("div",uhe,[A("button",{class:"header-back-btn",type:"button",onClick:t[0]||(t[0]=(...a)=>i.goBack&&i.goBack(...a))},[...t[3]||(t[3]=[A("i",{class:"bi bi-arrow-left"},null,-1)])]),t[4]||(t[4]=A("div",{class:"header-title"}," ",-1)),t[5]||(t[5]=A("div",{class:"header-right-space"},null,-1))]),A("div",che,[A("div",hhe,[t[6]||(t[6]=A("div",{class:"progress-chip-row"},[A("span",{class:"progress-chip"},[A("i",{class:"bi bi-patch-check-fill"}),A("span",null,"  ")])],-1)),A("div",fhe,[A("div",dhe,[A("span",phe,Be(i.collectedStampsCount),1),A("span",mhe,"/ "+Be(i.totalStampsCount),1)]),A("div",ghe,"   "+Be(Math.round(i.progressPercent))+"%  ",1)]),A("div",{class:"progress-track",role:"progressbar","aria-valuenow":i.progressPercent,"aria-valuemin":"0","aria-valuemax":"100"},[A("div",{class:"progress-fill",style:Xn({width:i.progressPercent+"%"})},null,4)],8,vhe)]),A("div",yhe,[A("div",bhe,[A("button",{type:"button",class:ht(["spec-button",{active:i.selectedTab===""}]),onClick:t[1]||(t[1]=a=>i.selectTab(""))},[...t[7]||(t[7]=[A("i",{class:"bi bi-easel2-fill"},null,-1),A("span",null," ",-1)])],2),A("button",{type:"button",class:ht(["spec-button",{active:i.selectedTab===""}]),onClick:t[2]||(t[2]=a=>i.selectTab(""))},[...t[8]||(t[8]=[A("i",{class:"bi bi-binoculars-fill"},null,-1),A("span",null," ",-1)])],2)])]),A("div",xhe,[i.isLoading?(re(),ce("div",_he,[...t[9]||(t[9]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"loading-text"},"   ...",-1)])])):i.filteredStamps.length>0?(re(),ce("div",whe,[(re(!0),ce(at,null,At(i.filteredStamps,a=>(re(),ce("div",{key:a.id,class:ht(["stamp-item",{collected:a.collected,uncollected:!a.collected}])},[A("div",{class:"stamp-name",title:a.targetName},Be(a.targetName),9,Ehe),t[10]||(t[10]=A("div",{class:"stamp-circle"},[A("img",{src:ohe,alt:"",class:"stamp-image"})],-1))],2))),128))])):(re(),ce("div",She,[t[13]||(t[13]=A("i",{class:"bi bi-emoji-frown empty-icon"},null,-1)),A("p",Che,[Nt(" '"+Be(i.selectedTab)+"' ",1),t[11]||(t[11]=A("br",null,null,-1)),t[12]||(t[12]=Nt(" . ",-1))])]))])])])}const The=wt(ahe,[["render",Ahe],["__scopeId","data-v-1c9dfab0"]]);window.libpannellum=(function(n,t,r){function i(c){function f(ee,K){return ee.level==1&&K.level!=1?-1:K.level==1&&ee.level!=1?1:K.timestamp-ee.timestamp}function d(ee,K){return ee.level!=K.level?ee.level-K.level:ee.diff-K.diff}function p(ee,K,xe,ie,ge,z){this.vertices=ee,this.side=K,this.level=xe,this.x=ie,this.y=ge,this.path=z.replace("%s",K).replace("%l",xe).replace("%x",ie).replace("%y",ge)}function m(ee,K,xe,ie,ge){var z,Ce=K.vertices;z=x(ee,Ce.slice(0,3));var se=x(ee,Ce.slice(3,6)),ye=x(ee,Ce.slice(6,9)),Ce=x(ee,Ce.slice(9,12)),$=z[0]+se[0]+ye[0]+Ce[0];if($==-4||$==4?z=!1:($=z[1]+se[1]+ye[1]+Ce[1],z=$==-4||$==4?!1:z[2]+se[2]+ye[2]+Ce[2]!=4),z){for(z=K.vertices,se=z[0]+z[3]+z[6]+z[9],ye=z[1]+z[4]+z[7]+z[10],Ce=z[2]+z[5]+z[8]+z[11],$=Math.sqrt(se*se+ye*ye+Ce*Ce),Ce=Math.asin(Ce/$),se=Math.atan2(ye,se)-ie,se+=se>Math.PI?-2*Math.PI:se<-Math.PI?2*Math.PI:0,se=Math.abs(se),K.diff=Math.acos(Math.sin(xe)*Math.sin(Ce)+Math.cos(xe)*Math.cos(Ce)*Math.cos(se)),se=!1,ye=0;ye<S.nodeCache.length;ye++)if(S.nodeCache[ye].path==K.path){se=!0,S.nodeCache[ye].timestamp=S.nodeCacheTimestamp++,S.nodeCache[ye].diff=K.diff,S.currentNodes.push(S.nodeCache[ye]);break}if(se||(K.timestamp=S.nodeCacheTimestamp++,S.currentNodes.push(K),S.nodeCache.push(K)),K.level<S.level){var Ce=M.cubeResolution*Math.pow(2,K.level-M.maxLevel),se=Math.ceil(Ce*M.invTileResolution)-1,ye=Ce%M.tileResolution*2,q=2*Ce%M.tileResolution;q===0&&(q=M.tileResolution),ye===0&&(ye=2*M.tileResolution),$=.5,(K.x==se||K.y==se)&&($=1-M.tileResolution/(M.tileResolution+q));var te=1-$,Ce=[],Ae=$,_e=$,Ee=$,pe=te,ve=te,De=te;for(q<M.tileResolution&&(K.x==se&&K.y!=se?(ve=_e=.5,(K.side=="d"||K.side=="u")&&(De=Ee=.5)):K.x!=se&&K.y==se&&(pe=Ae=.5,K.side=="l"||K.side=="r")&&(De=Ee=.5)),ye<=M.tileResolution&&(K.x==se&&(Ae=0,pe=1,K.side=="l"||K.side=="r")&&(Ee=0,De=1),K.y==se&&(_e=0,ve=1,K.side=="d"||K.side=="u")&&(Ee=0,De=1)),q=[z[0],z[1],z[2],z[0]*Ae+z[3]*pe,z[1]*$+z[4]*te,z[2]*Ee+z[5]*De,z[0]*Ae+z[6]*pe,z[1]*_e+z[7]*ve,z[2]*Ee+z[8]*De,z[0]*$+z[9]*te,z[1]*_e+z[10]*ve,z[2]*Ee+z[11]*De],q=new p(q,K.side,K.level+1,2*K.x,2*K.y,M.fullpath),Ce.push(q),K.x==se&&ye<=M.tileResolution||(q=[z[0]*Ae+z[3]*pe,z[1]*$+z[4]*te,z[2]*Ee+z[5]*De,z[3],z[4],z[5],z[3]*$+z[6]*te,z[4]*_e+z[7]*ve,z[5]*Ee+z[8]*De,z[0]*Ae+z[6]*pe,z[1]*_e+z[7]*ve,z[2]*Ee+z[8]*De],q=new p(q,K.side,K.level+1,2*K.x+1,2*K.y,M.fullpath),Ce.push(q)),K.x==se&&ye<=M.tileResolution||K.y==se&&ye<=M.tileResolution||(q=[z[0]*Ae+z[6]*pe,z[1]*_e+z[7]*ve,z[2]*Ee+z[8]*De,z[3]*$+z[6]*te,z[4]*_e+z[7]*ve,z[5]*Ee+z[8]*De,z[6],z[7],z[8],z[9]*Ae+z[6]*pe,z[10]*$+z[7]*te,z[11]*Ee+z[8]*De],q=new p(q,K.side,K.level+1,2*K.x+1,2*K.y+1,M.fullpath),Ce.push(q)),K.y==se&&ye<=M.tileResolution||(q=[z[0]*$+z[9]*te,z[1]*_e+z[10]*ve,z[2]*Ee+z[11]*De,z[0]*Ae+z[6]*pe,z[1]*_e+z[7]*ve,z[2]*Ee+z[8]*De,z[9]*Ae+z[6]*pe,z[10]*$+z[7]*te,z[11]*Ee+z[8]*De,z[9],z[10],z[11]],q=new p(q,K.side,K.level+1,2*K.x,2*K.y+1,M.fullpath),Ce.push(q)),K=0;K<Ce.length;K++)m(ee,Ce[K],xe,ie)}}}function g(){return[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1]}function v(ee,K,xe){var ie=Math.sin(K);if(K=Math.cos(K),xe=="x")return[ee[0],K*ee[1]+ie*ee[2],K*ee[2]-ie*ee[1],ee[3],K*ee[4]+ie*ee[5],K*ee[5]-ie*ee[4],ee[6],K*ee[7]+ie*ee[8],K*ee[8]-ie*ee[7]];if(xe=="y")return[K*ee[0]-ie*ee[2],ee[1],K*ee[2]+ie*ee[0],K*ee[3]-ie*ee[5],ee[4],K*ee[5]+ie*ee[3],K*ee[6]-ie*ee[8],ee[7],K*ee[8]+ie*ee[6]];if(xe=="z")return[K*ee[0]+ie*ee[1],K*ee[1]-ie*ee[0],ee[2],K*ee[3]+ie*ee[4],K*ee[4]-ie*ee[3],ee[5],K*ee[6]+ie*ee[7],K*ee[7]-ie*ee[6],ee[8]]}function E(ee){return[ee[0],ee[4],ee[8],ee[12],ee[1],ee[5],ee[9],ee[13],ee[2],ee[6],ee[10],ee[14],ee[3],ee[7],ee[11],ee[15]]}function y(ee){be(ee,ee.path+"."+M.extension,function(K,xe){ee.texture=K,ee.textureLoaded=xe?2:1},J.crossOrigin)}function x(ee,K){var ge=[ee[0]*K[0]+ee[1]*K[1]+ee[2]*K[2],ee[4]*K[0]+ee[5]*K[1]+ee[6]*K[2],ee[11]+ee[8]*K[0]+ee[9]*K[1]+ee[10]*K[2],1/(ee[12]*K[0]+ee[13]*K[1]+ee[14]*K[2])],xe=ge[0]*ge[3],ie=ge[1]*ge[3],ge=ge[2]*ge[3],z=[0,0,0];return-1>xe&&(z[0]=-1),1<xe&&(z[0]=1),-1>ie&&(z[1]=-1),1<ie&&(z[1]=1),(-1>ge||1<ge)&&(z[2]=1),z}function b(){console.log("Reducing canvas size due to error 1286!"),w.width=Math.round(w.width/2),w.height=Math.round(w.height/2)}var w=t.createElement("canvas");w.style.width=w.style.height="100%",c.appendChild(w);var S,_,T,C,F,k,D,N,M,U,B,W,Z,fe,Q,J;this.init=function(ee,K,xe,ie,ge,z,se,ye){function Ce(pe){if(q){var ve=pe*pe*4,De=new Uint8ClampedArray(ve),Me=ye.backgroundColor?ye.backgroundColor:[0,0,0];Me[0]*=255,Me[1]*=255,Me[2]*=255;for(var R=0;R<ve;R++)De[R++]=Me[0],De[R++]=Me[1],De[R++]=Me[2];for(pe=new ImageData(De,pe,pe),$=0;6>$;$++)M[$].width==0&&(M[$]=pe)}}if(K===r&&(K="equirectangular"),K!="equirectangular"&&K!="cubemap"&&K!="multires")throw console.log("Error: invalid image type specified!"),{type:"config error"};if(U=K,M=ee,B=xe,J=ye||{},S){if(T&&(_.detachShader(S,T),_.deleteShader(T)),C&&(_.detachShader(S,C),_.deleteShader(C)),_.bindBuffer(_.ARRAY_BUFFER,null),_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,null),S.texture&&_.deleteTexture(S.texture),S.nodeCache)for(ee=0;ee<S.nodeCache.length;ee++)_.deleteTexture(S.nodeCache[ee].texture);_.deleteProgram(S),S=r}N=r;var $,q=!1,te;if(U=="cubemap")for($=0;6>$;$++)0<M[$].width?(te===r&&(te=M[$].width),te!=M[$].width&&console.log("Cube faces have inconsistent widths: "+te+" vs. "+M[$].width)):q=!0;if(U=="cubemap"&&(te&te-1)!==0&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(_||(_=w.getContext("experimental-webgl",{alpha:!1,depth:!1})),_&&_.getError()==1286&&b()),!_&&(U=="multires"&&M.hasOwnProperty("fallbackPath")||U=="cubemap")&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||navigator.appVersion.indexOf("MSIE 10")!==-1)){k&&c.removeChild(k),k=t.createElement("div"),k.className="pnlm-world",ie=M.basePath?M.basePath+M.fallbackPath:M.fallbackPath;var Ae="frblud".split(""),_e=0;ge=function(){var ve=t.createElement("canvas");ve.className="pnlm-face pnlm-"+Ae[this.side]+"face",k.appendChild(ve);var De=ve.getContext("2d");ve.style.width=this.width+4+"px",ve.style.height=this.height+4+"px",ve.width=this.width+4,ve.height=this.height+4,De.drawImage(this,2,2);var Me=De.getImageData(0,0,ve.width,ve.height),R=Me.data,Ve,Le;for(Ve=2;Ve<ve.width-2;Ve++)for(Le=0;4>Le;Le++)R[4*(Ve+ve.width)+Le]=R[4*(Ve+2*ve.width)+Le],R[4*(Ve+ve.width*(ve.height-2))+Le]=R[4*(Ve+ve.width*(ve.height-3))+Le];for(Ve=2;Ve<ve.height-2;Ve++)for(Le=0;4>Le;Le++)R[4*(Ve*ve.width+1)+Le]=R[4*(Ve*ve.width+2)+Le],R[4*((Ve+1)*ve.width-2)+Le]=R[4*((Ve+1)*ve.width-3)+Le];for(Le=0;4>Le;Le++)R[4*(ve.width+1)+Le]=R[4*(2*ve.width+2)+Le],R[4*(2*ve.width-2)+Le]=R[4*(3*ve.width-3)+Le],R[4*(ve.width*(ve.height-2)+1)+Le]=R[4*(ve.width*(ve.height-3)+2)+Le],R[4*(ve.width*(ve.height-1)-2)+Le]=R[4*(ve.width*(ve.height-2)-3)+Le];for(Ve=1;Ve<ve.width-1;Ve++)for(Le=0;4>Le;Le++)R[4*Ve+Le]=R[4*(Ve+ve.width)+Le],R[4*(Ve+ve.width*(ve.height-1))+Le]=R[4*(Ve+ve.width*(ve.height-2))+Le];for(Ve=1;Ve<ve.height-1;Ve++)for(Le=0;4>Le;Le++)R[Ve*ve.width*4+Le]=R[4*(Ve*ve.width+1)+Le],R[4*((Ve+1)*ve.width-1)+Le]=R[4*((Ve+1)*ve.width-2)+Le];for(Le=0;4>Le;Le++)R[Le]=R[4*(ve.width+1)+Le],R[4*(ve.width-1)+Le]=R[4*(2*ve.width-2)+Le],R[ve.width*(ve.height-1)*4+Le]=R[4*(ve.width*(ve.height-2)+1)+Le],R[4*(ve.width*ve.height-1)+Le]=R[4*(ve.width*(ve.height-1)-2)+Le];De.putImageData(Me,0,0),Ee.call(this)};var Ee=function(){0<this.width?(F===r&&(F=this.width),F!=this.width&&console.log("Fallback faces have inconsistent widths: "+F+" vs. "+this.width)):q=!0,_e++,_e==6&&(F=this.width,c.appendChild(k),se())},q=!1;for($=0;6>$;$++)z=new Image,z.crossOrigin=J.crossOrigin?J.crossOrigin:"anonymous",z.side=$,z.onload=ge,z.onerror=Ee,z.src=U=="multires"?ie.replace("%s",Ae[$])+"."+M.extension:M[$].src;Ce(F)}else{if(!_)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};for(U=="cubemap"&&Ce(te),M.fullpath=M.basePath?M.basePath+M.path:M.path,M.invTileResolution=1/M.tileResolution,ee=g(),D=[],$=0;6>$;$++)D[$]=ee.slice(12*$,12*$+12),ee=g();if(ee=0,U=="equirectangular"){if(ee=_.getParameter(_.MAX_TEXTURE_SIZE),Math.max(M.width/2,M.height)>ee)throw console.log("Error: The image is too big; it's "+M.width+"px wide, but this device's maximum supported size is "+2*ee+"px."),{type:"webgl size error",width:M.width,maxWidth:2*ee}}else if(U=="cubemap"&&te>_.getParameter(_.MAX_CUBE_MAP_TEXTURE_SIZE))throw console.log("Error: The image is too big; it's "+te+"px wide, but this device's maximum supported size is "+ee+"px."),{type:"webgl size error",width:te,maxWidth:ee};if(ye===r||ye.horizonPitch===r&&ye.horizonRoll===r||(N=[ye.horizonPitch==r?0:ye.horizonPitch,ye.horizonRoll==r?0:ye.horizonRoll]),te=_.TEXTURE_2D,_.viewport(0,0,_.drawingBufferWidth,_.drawingBufferHeight),_.getShaderPrecisionFormat&&(K=_.getShaderPrecisionFormat(_.FRAGMENT_SHADER,_.HIGH_FLOAT))&&1>K.precision&&(a=a.replace("highp","mediump")),T=_.createShader(_.VERTEX_SHADER),K=s,U=="multires"&&(K=o),_.shaderSource(T,K),_.compileShader(T),C=_.createShader(_.FRAGMENT_SHADER),K=u,U=="cubemap"?(te=_.TEXTURE_CUBE_MAP,K=l):U=="multires"&&(K=h),_.shaderSource(C,K),_.compileShader(C),S=_.createProgram(),_.attachShader(S,T),_.attachShader(S,C),_.linkProgram(S),_.getShaderParameter(T,_.COMPILE_STATUS)||console.log(_.getShaderInfoLog(T)),_.getShaderParameter(C,_.COMPILE_STATUS)||console.log(_.getShaderInfoLog(C)),_.getProgramParameter(S,_.LINK_STATUS)||console.log(_.getProgramInfoLog(S)),_.useProgram(S),S.drawInProgress=!1,K=ye.backgroundColor?ye.backgroundColor:[0,0,0],_.clearColor(K[0],K[1],K[2],1),_.clear(_.COLOR_BUFFER_BIT),S.texCoordLocation=_.getAttribLocation(S,"a_texCoord"),_.enableVertexAttribArray(S.texCoordLocation),U!="multires"?(W||(W=_.createBuffer()),_.bindBuffer(_.ARRAY_BUFFER,W),_.bufferData(_.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),_.STATIC_DRAW),_.vertexAttribPointer(S.texCoordLocation,2,_.FLOAT,!1,0,0),S.aspectRatio=_.getUniformLocation(S,"u_aspectRatio"),_.uniform1f(S.aspectRatio,_.drawingBufferWidth/_.drawingBufferHeight),S.psi=_.getUniformLocation(S,"u_psi"),S.theta=_.getUniformLocation(S,"u_theta"),S.f=_.getUniformLocation(S,"u_f"),S.h=_.getUniformLocation(S,"u_h"),S.v=_.getUniformLocation(S,"u_v"),S.vo=_.getUniformLocation(S,"u_vo"),S.rot=_.getUniformLocation(S,"u_rot"),_.uniform1f(S.h,ie/(2*Math.PI)),_.uniform1f(S.v,ge/Math.PI),_.uniform1f(S.vo,z/Math.PI*2),U=="equirectangular"&&(S.backgroundColor=_.getUniformLocation(S,"u_backgroundColor"),_.uniform4fv(S.backgroundColor,K.concat([1]))),S.texture=_.createTexture(),_.bindTexture(te,S.texture),U=="cubemap"?(_.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[1]),_.texImage2D(_.TEXTURE_CUBE_MAP_NEGATIVE_X,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[3]),_.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_Y,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[4]),_.texImage2D(_.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[5]),_.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_Z,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[0]),_.texImage2D(_.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M[2])):M.width<=ee?(_.uniform1i(_.getUniformLocation(S,"u_splitImage"),0),_.texImage2D(te,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M)):(_.uniform1i(_.getUniformLocation(S,"u_splitImage"),1),ie=t.createElement("canvas"),ie.width=M.width/2,ie.height=M.height,ie=ie.getContext("2d"),ie.drawImage(M,0,0),ge=ie.getImageData(0,0,M.width/2,M.height),_.texImage2D(te,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,ge),S.texture2=_.createTexture(),_.activeTexture(_.TEXTURE1),_.bindTexture(te,S.texture2),_.uniform1i(_.getUniformLocation(S,"u_image1"),1),ie.drawImage(M,-M.width/2,0),ge=ie.getImageData(0,0,M.width/2,M.height),_.texImage2D(te,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,ge),_.texParameteri(te,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(te,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(te,_.TEXTURE_MIN_FILTER,_.LINEAR),_.texParameteri(te,_.TEXTURE_MAG_FILTER,_.LINEAR),_.activeTexture(_.TEXTURE0)),_.texParameteri(te,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(te,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(te,_.TEXTURE_MIN_FILTER,_.LINEAR),_.texParameteri(te,_.TEXTURE_MAG_FILTER,_.LINEAR)):(S.vertPosLocation=_.getAttribLocation(S,"a_vertCoord"),_.enableVertexAttribArray(S.vertPosLocation),Z||(Z=_.createBuffer()),fe||(fe=_.createBuffer()),Q||(Q=_.createBuffer()),_.bindBuffer(_.ARRAY_BUFFER,fe),_.bufferData(_.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),_.STATIC_DRAW),_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,Q),_.bufferData(_.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),_.STATIC_DRAW),S.perspUniform=_.getUniformLocation(S,"u_perspMatrix"),S.cubeUniform=_.getUniformLocation(S,"u_cubeMatrix"),S.level=-1,S.currentNodes=[],S.nodeCache=[],S.nodeCacheTimestamp=0),ie=_.getError(),ie!==0)throw console.log("Error: Something went wrong with WebGL!",ie),{type:"webgl error"};se()}},this.destroy=function(){if(c!==r&&(w!==r&&c.contains(w)&&c.removeChild(w),k!==r&&c.contains(k)&&c.removeChild(k)),_){var ee=_.getExtension("WEBGL_lose_context");ee&&ee.loseContext()}},this.resize=function(){var ee=n.devicePixelRatio||1;w.width=w.clientWidth*ee,w.height=w.clientHeight*ee,_&&(_.getError()==1286&&b(),_.viewport(0,0,_.drawingBufferWidth,_.drawingBufferHeight),U!="multires"&&_.uniform1f(S.aspectRatio,w.clientWidth/w.clientHeight))},this.resize(),this.setPose=function(ee,K){N=[ee,K]},this.render=function(ee,K,xe,ie){var ge,z=0;if(ie===r&&(ie={}),ie.roll&&(z=ie.roll),N!==r){ge=N[0];var se=N[1],ye=ee,Ce=K,$=Math.cos(se)*Math.sin(ee)*Math.sin(ge)+Math.cos(ee)*(Math.cos(ge)*Math.cos(K)+Math.sin(se)*Math.sin(ge)*Math.sin(K)),q=-Math.sin(ee)*Math.sin(se)+Math.cos(ee)*Math.cos(se)*Math.sin(K);ee=Math.cos(se)*Math.cos(ge)*Math.sin(ee)+Math.cos(ee)*(-Math.cos(K)*Math.sin(ge)+Math.cos(ge)*Math.sin(se)*Math.sin(K)),ee=Math.asin(Math.max(Math.min(ee,1),-1)),K=Math.atan2(q,$),ge=[Math.cos(ye)*(Math.sin(se)*Math.sin(ge)*Math.cos(Ce)-Math.cos(ge)*Math.sin(Ce)),Math.cos(ye)*Math.cos(se)*Math.cos(Ce),Math.cos(ye)*(Math.cos(ge)*Math.sin(se)*Math.cos(Ce)+Math.sin(Ce)*Math.sin(ge))],se=[-Math.cos(ee)*Math.sin(K),Math.cos(ee)*Math.cos(K)],se=Math.acos(Math.max(Math.min((ge[0]*se[0]+ge[1]*se[1])/(Math.sqrt(ge[0]*ge[0]+ge[1]*ge[1]+ge[2]*ge[2])*Math.sqrt(se[0]*se[0]+se[1]*se[1])),1),-1)),0>ge[2]&&(se=2*Math.PI-se),z+=se}if(_||U!="multires"&&U!="cubemap"){if(U!="multires")xe=2*Math.atan(Math.tan(.5*xe)/(_.drawingBufferWidth/_.drawingBufferHeight)),xe=1/Math.tan(.5*xe),_.uniform1f(S.psi,K),_.uniform1f(S.theta,ee),_.uniform1f(S.rot,z),_.uniform1f(S.f,xe),B===!0&&U=="equirectangular"&&(_.bindTexture(_.TEXTURE_2D,S.texture),_.texImage2D(_.TEXTURE_2D,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,M)),_.drawArrays(_.TRIANGLES,0,6);else{for(ge=_.drawingBufferWidth/_.drawingBufferHeight,se=2*Math.atan(Math.tan(xe/2)*_.drawingBufferHeight/_.drawingBufferWidth),se=1/Math.tan(se/2),ge=[se/ge,0,0,0,0,se,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],se=1;se<M.maxLevel&&_.drawingBufferWidth>M.tileResolution*Math.pow(2,se-1)*Math.tan(xe/2)*.707;)se++;if(S.level=se,se=[1,0,0,0,1,0,0,0,1],se=v(se,-z,"z"),se=v(se,-ee,"x"),se=v(se,K,"y"),se=[se[0],se[1],se[2],0,se[3],se[4],se[5],0,se[6],se[7],se[8],0,0,0,0,1],_.uniformMatrix4fv(S.perspUniform,!1,new Float32Array(E(ge))),_.uniformMatrix4fv(S.cubeUniform,!1,new Float32Array(E(se))),z=[ge[0]*se[0],ge[0]*se[1],ge[0]*se[2],0,ge[5]*se[4],ge[5]*se[5],ge[5]*se[6],0,ge[10]*se[8],ge[10]*se[9],ge[10]*se[10],ge[11],-se[8],-se[9],-se[10],0],S.nodeCache.sort(f),200<S.nodeCache.length&&S.nodeCache.length>S.currentNodes.length+50)for(ge=S.nodeCache.splice(200,S.nodeCache.length-200),se=0;se<ge.length;se++)_.deleteTexture(ge[se].texture);for(S.currentNodes=[],se="fbudlr".split(""),ge=0;6>ge;ge++)ye=new p(D[ge],se[ge],1,0,0,M.fullpath),m(z,ye,ee,K);for(S.currentNodes.sort(d),ee=ae.length-1;0<=ee;ee--)S.currentNodes.indexOf(ae[ee].node)===-1&&(ae[ee].node.textureLoad=!1,ae.splice(ee,1));if(ae.length===0){for(ee=0;ee<S.currentNodes.length;ee++)if(K=S.currentNodes[ee],!K.texture&&!K.textureLoad){K.textureLoad=!0,setTimeout(y,0,K);break}}if(!S.drawInProgress){for(S.drawInProgress=!0,_.clear(_.COLOR_BUFFER_BIT),ee=0;ee<S.currentNodes.length;ee++)1<S.currentNodes[ee].textureLoaded&&(_.bindBuffer(_.ARRAY_BUFFER,Z),_.bufferData(_.ARRAY_BUFFER,new Float32Array(S.currentNodes[ee].vertices),_.STATIC_DRAW),_.vertexAttribPointer(S.vertPosLocation,3,_.FLOAT,!1,0,0),_.bindBuffer(_.ARRAY_BUFFER,fe),_.vertexAttribPointer(S.texCoordLocation,2,_.FLOAT,!1,0,0),_.bindTexture(_.TEXTURE_2D,S.currentNodes[ee].texture),_.drawElements(_.TRIANGLES,6,_.UNSIGNED_SHORT,0));S.drawInProgress=!1}}if(ie.returnImage!==r)return w.toDataURL("image/png")}else for(ge=F/2,ie={f:"translate3d(-"+(ge+2)+"px, -"+(ge+2)+"px, -"+ge+"px)",b:"translate3d("+(ge+2)+"px, -"+(ge+2)+"px, "+ge+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(ge+2)+"px, -"+ge+"px, "+(ge+2)+"px) rotateX(270deg)",d:"translate3d(-"+(ge+2)+"px, "+ge+"px, -"+(ge+2)+"px) rotateX(90deg)",l:"translate3d(-"+ge+"px, -"+(ge+2)+"px, "+(ge+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+ge+"px, -"+(ge+2)+"px, -"+(ge+2)+"px) rotateY(270deg)"},xe=1/Math.tan(xe/2),xe=xe*w.clientWidth/2+"px",K="perspective("+xe+") translateZ("+xe+") rotateX("+ee+"rad) rotateY("+K+"rad) ",xe=Object.keys(ie),ee=0;6>ee;ee++)(z=k.querySelector(".pnlm-"+xe[ee]+"face"))&&(z.style.webkitTransform=K+ie[xe[ee]],z.style.transform=K+ie[xe[ee]])},this.isLoading=function(){if(_&&U=="multires"){for(var ee=0;ee<S.currentNodes.length;ee++)if(!S.currentNodes[ee].textureLoaded)return!0}return!1},this.getCanvas=function(){return w};var ae=[],be=(function(){function ee(){var se=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin=ge||"anonymous";var ye=function(){if(0<se.image.width&&0<se.image.height){var Ce=se.image;_.bindTexture(_.TEXTURE_2D,se.texture),_.texImage2D(_.TEXTURE_2D,0,_.RGB,_.RGB,_.UNSIGNED_BYTE,Ce),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.LINEAR),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.LINEAR),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.bindTexture(_.TEXTURE_2D,null),se.callback(se.texture,!0)}else se.callback(se.texture,!1);ae.length?(Ce=ae.shift(),se.loadTexture(Ce.src,Ce.texture,Ce.callback)):ie[xe++]=se};this.image.addEventListener("load",ye),this.image.addEventListener("error",ye)}function K(se,ye,Ce,$){this.node=se,this.src=ye,this.texture=Ce,this.callback=$}var xe=4,ie={},ge;ee.prototype.loadTexture=function(se,ye,Ce){this.texture=ye,this.callback=Ce,this.image.src=se};for(var z=0;z<xe;z++)ie[z]=new ee;return function(se,ye,Ce,$){return ge=$,$=_.createTexture(),xe?ie[--xe].loadTexture(ye,$,Ce):ae.push(new K(se,ye,$,Ce)),$}})()}var s="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",o="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",a=`precision highp float;
uniform float u_aspectRatio;
uniform float u_psi;
uniform float u_theta;
uniform float u_f;
uniform float u_h;
uniform float u_v;
uniform float u_vo;
uniform float u_rot;
const float PI = 3.14159265358979323846264;
uniform sampler2D u_image0;
uniform sampler2D u_image1;
uniform bool u_splitImage;
uniform samplerCube u_imageCube;
varying vec2 v_texCoord;
uniform vec4 u_backgroundColor;
void main() {
float x = v_texCoord.x * u_aspectRatio;
float y = v_texCoord.y;
float sinrot = sin(u_rot);
float cosrot = cos(u_rot);
float rot_x = x * cosrot - y * sinrot;
float rot_y = x * sinrot + y * cosrot;
float sintheta = sin(u_theta);
float costheta = cos(u_theta);
float a = u_f * costheta - rot_y * sintheta;
float root = sqrt(rot_x * rot_x + a * a);
float lambda = atan(rot_x / root, a / root) + u_psi;
float phi = atan((rot_y * costheta + u_f * sintheta) / root);`,l=a+`float cosphi = cos(phi);
gl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));
}`,u=a+`lambda = mod(lambda + PI, PI * 2.0) - PI;
vec2 coord = vec2(lambda / PI, phi / (PI / 2.0));
if(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)
gl_FragColor = u_backgroundColor;
else {
if(u_splitImage) {
if(coord.x < 0.0)
gl_FragColor = texture2D(u_image0, vec2((coord.x + u_h) / u_h, (-coord.y + u_v + u_vo) / (u_v * 2.0)));
else
gl_FragColor = texture2D(u_image1, vec2((coord.x + u_h) / u_h - 1.0, (-coord.y + u_v + u_vo) / (u_v * 2.0)));
} else {
gl_FragColor = texture2D(u_image0, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));
}
}
}`,h="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(c,f,d,p){return new i(c)}}})(window,document);window.pannellum=(function(n,t,r){function i(s,o){function a(){var Y=t.createElement("div");if(Y.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",Y.getElementsByTagName("i").length==1)c();else{H=R.hfov,j=R.pitch;var le;if(R.type=="cubemap"){for(me=[],Y=0;6>Y;Y++)me.push(new Image),me[Y].crossOrigin=R.crossOrigin;mt.load.lbox.style.display="block",mt.load.lbar.style.display="none"}else if(R.type=="multires")Y=JSON.parse(JSON.stringify(R.multiRes)),R.basePath&&R.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(R.multiRes.basePath)?Y.basePath=R.basePath+R.multiRes.basePath:R.multiRes.basePath?Y.basePath=R.multiRes.basePath:R.basePath&&(Y.basePath=R.basePath),me=Y;else if(R.dynamic===!0)me=R.panorama;else{if(R.panorama===r){c(R.strings.noPanoramaError);return}me=new Image}if(R.type=="cubemap")for(var we=6,Ke=function(){we--,we===0&&u()},nt=function(Oi){var Fr=t.createElement("a");Fr.href=Oi.target.src,Fr.textContent=Fr.href,c(R.strings.fileAccessError.replace("%s",Fr.outerHTML))},Y=0;Y<me.length;Y++)le=R.cubeMap[Y],le=="null"?(console.log("Will use background instead of missing cubemap face "+Y),Ke()):(R.basePath&&!l(le)&&(le=R.basePath+le),me[Y].onload=Ke,me[Y].onerror=nt,me[Y].src=pe(le));else if(R.type=="multires")u();else if(le="",R.basePath&&(le=R.basePath),R.dynamic!==!0){le=l(R.panorama)?R.panorama:le+R.panorama,me.onload=function(){n.URL.revokeObjectURL(this.src),u()};var ut=new XMLHttpRequest;ut.onloadend=function(){if(ut.status!=200){var Tt=t.createElement("a");Tt.href=le,Tt.textContent=Tt.href,c(R.strings.fileAccessError.replace("%s",Tt.outerHTML))}h(this.response),mt.load.msg.innerHTML=""},ut.onprogress=function(Tt){if(Tt.lengthComputable){mt.load.lbarFill.style.width=Tt.loaded/Tt.total*100+"%";var Oi,Fr;1e6<Tt.total?(Oi="MB",Fr=(Tt.loaded/1e6).toFixed(2),Tt=(Tt.total/1e6).toFixed(2)):1e3<Tt.total?(Oi="kB",Fr=(Tt.loaded/1e3).toFixed(1),Tt=(Tt.total/1e3).toFixed(1)):(Oi="B",Fr=Tt.loaded,Tt=Tt.total),mt.load.msg.innerHTML=Fr+" / "+Tt+" "+Oi}else mt.load.lbox.style.display="block",mt.load.lbar.style.display="none"};try{ut.open("GET",le,!0)}catch{c(R.strings.malformedURLError)}ut.responseType="blob",ut.setRequestHeader("Accept","image/*,*/*;q=0.9"),ut.withCredentials=R.crossOrigin==="use-credentials",ut.send()}R.draggable&&en.classList.add("pnlm-grab"),en.classList.remove("pnlm-grabbing"),He=R.dynamicUpdate===!0,R.dynamic&&He&&(me=R.panorama,u())}}function l(Y){return/^(?:[a-z]+:)?\/\//i.test(Y)||Y[0]=="/"||Y.slice(0,5)=="blob:"}function u(){Ve||(Ve=new libpannellum.renderer(Bn)),he||(he=!0,lr.addEventListener("mousedown",p,!1),t.addEventListener("mousemove",v,!1),t.addEventListener("mouseup",E,!1),R.mouseZoom&&(en.addEventListener("mousewheel",T,!1),en.addEventListener("DOMMouseScroll",T,!1)),R.doubleClickZoom&&lr.addEventListener("dblclick",m,!1),s.addEventListener("mozfullscreenchange",se,!1),s.addEventListener("webkitfullscreenchange",se,!1),s.addEventListener("msfullscreenchange",se,!1),s.addEventListener("fullscreenchange",se,!1),n.addEventListener("resize",U,!1),n.addEventListener("orientationchange",U,!1),R.disableKeyboardCtrl||(s.addEventListener("keydown",C,!1),s.addEventListener("keyup",k,!1),s.addEventListener("blur",F,!1)),t.addEventListener("mouseleave",E,!1),t.documentElement.style.pointerAction===""&&t.documentElement.style.touchAction===""?(lr.addEventListener("pointerdown",w,!1),lr.addEventListener("pointermove",S,!1),lr.addEventListener("pointerup",_,!1),lr.addEventListener("pointerleave",_,!1)):(lr.addEventListener("touchstart",y,!1),lr.addEventListener("touchmove",x,!1),lr.addEventListener("touchend",b,!1)),n.navigator.pointerEnabled&&(s.style.touchAction="none")),J(),Ce(R.hfov),setTimeout(function(){},500)}function h(Y){var le=new FileReader;le.addEventListener("loadend",function(){var we=le.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var Ke=we.indexOf("");(0>Ke||65536<Ke)&&c(R.strings.iOS8WebGLError)}if(Ke=we.indexOf("<x:xmpmeta"),-1<Ke&&R.ignoreGPanoXMP!==!0){var nt=we.substring(Ke,we.indexOf("</x:xmpmeta>")+12),kr=function(xo){var ts;return 0<=nt.indexOf(xo+'="')?(ts=nt.substring(nt.indexOf(xo+'="')+xo.length+2),ts=ts.substring(0,ts.indexOf('"'))):0<=nt.indexOf(xo+">")&&(ts=nt.substring(nt.indexOf(xo+">")+xo.length+1),ts=ts.substring(0,ts.indexOf("<"))),ts!==r?Number(ts):null},we=kr("GPano:FullPanoWidthPixels"),Ke=kr("GPano:CroppedAreaImageWidthPixels"),ut=kr("GPano:FullPanoHeightPixels"),Tt=kr("GPano:CroppedAreaImageHeightPixels"),Oi=kr("GPano:CroppedAreaTopPixels"),Fr=kr("GPano:PoseHeadingDegrees"),Vr=kr("GPano:PosePitchDegrees"),kr=kr("GPano:PoseRollDegrees");we!==null&&Ke!==null&&ut!==null&&Tt!==null&&Oi!==null&&(0>$e.indexOf("haov")&&(R.haov=Ke/we*360),0>$e.indexOf("vaov")&&(R.vaov=Tt/ut*180),0>$e.indexOf("vOffset")&&(R.vOffset=-180*((Oi+Tt/2)/ut-.5)),Fr!==null&&0>$e.indexOf("northOffset")&&(R.northOffset=Fr,R.compass!==!1&&(R.compass=!0)),Vr!==null&&kr!==null&&(0>$e.indexOf("horizonPitch")&&(R.horizonPitch=Vr),0>$e.indexOf("horizonRoll")&&(R.horizonRoll=kr)))}me.src=n.URL.createObjectURL(Y)}),le.readAsBinaryString!==r?le.readAsBinaryString(Y):le.readAsText(Y)}function c(Y){Y===r&&(Y=R.strings.genericWebGLError),mt.errorMsg.innerHTML="<p>"+Y+"</p>",kt.load.style.display="none",mt.load.box.style.display="none",mt.errorMsg.style.display="table",ne=!0,V=r,Bn.style.display="none",De("error",Y)}function f(Y){var le=d(Y);Nr.style.left=le.x+"px",Nr.style.top=le.y+"px",clearTimeout(f.t1),clearTimeout(f.t2),Nr.style.display="block",Nr.style.opacity=1,f.t1=setTimeout(function(){Nr.style.opacity=0},2e3),f.t2=setTimeout(function(){Nr.style.display="none"},2500),Y.preventDefault()}function d(Y){var le=s.getBoundingClientRect(),we={};return we.x=(Y.clientX||Y.pageX)-le.left,we.y=(Y.clientY||Y.pageY)-le.top,we}function p(Y){if(Y.preventDefault(),s.focus(),V&&R.draggable){var le=d(Y);if(R.hotSpotDebug){var we=g(Y);console.log("Pitch: "+we[0]+", Yaw: "+we[1]+", Center Pitch: "+R.pitch+", Center Yaw: "+R.yaw+", HFOV: "+R.hfov)}$(),Ae(),R.roll=0,Te.hfov=0,Qe=!0,We=Date.now(),gt=le.x,Se=le.y,Pe=R.yaw,je=R.pitch,en.classList.add("pnlm-grabbing"),en.classList.remove("pnlm-grab"),De("mousedown",Y),B()}}function m(Y){R.minHfov===R.hfov?Me.setHfov(H,1e3):(Y=g(Y),Me.lookAt(Y[0],Y[1],R.minHfov,1e3))}function g(Y){var nt=d(Y);Y=Ve.getCanvas();var ut=Y.clientWidth,Tt=Y.clientHeight;Y=nt.x/ut*2-1;var Tt=(1-nt.y/Tt*2)*Tt/ut,le=1/Math.tan(R.hfov*Math.PI/360),we=Math.sin(R.pitch*Math.PI/180),Ke=Math.cos(R.pitch*Math.PI/180),nt=le*Ke-Tt*we,ut=Math.sqrt(Y*Y+nt*nt),Tt=180*Math.atan((Tt*Ke+le*we)/ut)/Math.PI;return Y=180*Math.atan2(Y/ut,nt/ut)/Math.PI+R.yaw,-180>Y&&(Y+=360),180<Y&&(Y-=360),[Tt,Y]}function v(Y){if(Qe&&V){We=Date.now();var we=Ve.getCanvas(),le=we.clientWidth,we=we.clientHeight;Y=d(Y);var Ke=180*(Math.atan(gt/le*2-1)-Math.atan(Y.x/le*2-1))/Math.PI*R.hfov/90+Pe;Te.yaw=(Ke-R.yaw)%360*.2,R.yaw=Ke,le=360*Math.atan(Math.tan(R.hfov/360*Math.PI)*we/le)/Math.PI,le=180*(Math.atan(Y.y/we*2-1)-Math.atan(Se/we*2-1))/Math.PI*le/90+je,Te.pitch=.2*(le-R.pitch),R.pitch=le}}function E(Y){Qe&&(Qe=!1,15<Date.now()-We&&(Te.pitch=Te.yaw=0),en.classList.add("pnlm-grab"),en.classList.remove("pnlm-grabbing"),We=Date.now(),De("mouseup",Y))}function y(Y){if(V&&R.draggable){$(),Ae(),R.roll=0,Te.hfov=0;var le=d(Y.targetTouches[0]);if(gt=le.x,Se=le.y,Y.targetTouches.length==2){var we=d(Y.targetTouches[1]);gt+=.5*(we.x-le.x),Se+=.5*(we.y-le.y),Ne=Math.sqrt((le.x-we.x)*(le.x-we.x)+(le.y-we.y)*(le.y-we.y))}Qe=!0,We=Date.now(),Pe=R.yaw,je=R.pitch,De("touchstart",Y),B()}}function x(Y){if(R.draggable&&(Y.preventDefault(),V&&(We=Date.now()),Qe&&V)){var le=d(Y.targetTouches[0]),we=le.x,Ke=le.y;Y.targetTouches.length==2&&Ne!=-1&&(Y=d(Y.targetTouches[1]),we+=.5*(Y.x-le.x),Ke+=.5*(Y.y-le.y),le=Math.sqrt((le.x-Y.x)*(le.x-Y.x)+(le.y-Y.y)*(le.y-Y.y)),Ce(R.hfov+.1*(Ne-le)),Ne=le),le=R.hfov/360*R.touchPanSpeedCoeffFactor,we=(gt-we)*le+Pe,Te.yaw=(we-R.yaw)%360*.2,R.yaw=we,Ke=(Ke-Se)*le+je,Te.pitch=.2*(Ke-R.pitch),R.pitch=Ke}}function b(){Qe=!1,150<Date.now()-We&&(Te.pitch=Te.yaw=0),Ne=-1,We=Date.now(),De("touchend",event)}function w(Y){Y.pointerType=="touch"&&V&&R.draggable&&(vi.push(Y.pointerId),fr.push({clientX:Y.clientX,clientY:Y.clientY}),Y.targetTouches=fr,y(Y),Y.preventDefault())}function S(Y){if(Y.pointerType=="touch"&&R.draggable){for(var le=0;le<vi.length;le++)if(Y.pointerId==vi[le]){fr[le].clientX=Y.clientX,fr[le].clientY=Y.clientY,Y.targetTouches=fr,x(Y),Y.preventDefault();break}}}function _(Y){if(Y.pointerType=="touch"){for(var le=!1,we=0;we<vi.length;we++)Y.pointerId==vi[we]&&(vi[we]=r),vi[we]&&(le=!0);le||(vi=[],fr=[],b()),Y.preventDefault()}}function T(Y){V&&(R.mouseZoom!="fullscreenonly"||L)&&(Y.preventDefault(),$(),We=Date.now(),Y.wheelDeltaY?(Ce(R.hfov-.05*Y.wheelDeltaY),Te.hfov=0>Y.wheelDelta?1:-1):Y.wheelDelta?(Ce(R.hfov-.05*Y.wheelDelta),Te.hfov=0>Y.wheelDelta?1:-1):Y.detail&&(Ce(R.hfov+1.5*Y.detail),Te.hfov=0<Y.detail?1:-1),B())}function C(Y){$(),We=Date.now(),Ae(),R.roll=0;var le=Y.which||Y.keycode;0>R.capturedKeyNumbers.indexOf(le)||(Y.preventDefault(),le==27?L&&z():D(le,!0))}function F(){for(var Y=0;10>Y;Y++)Ue[Y]=!1}function k(Y){var le=Y.which||Y.keycode;0>R.capturedKeyNumbers.indexOf(le)||(Y.preventDefault(),D(le,!1))}function D(Y,le){var we=!1;switch(Y){case 109:case 189:case 17:case 173:Ue[0]!=le&&(we=!0),Ue[0]=le;break;case 107:case 187:case 16:case 61:Ue[1]!=le&&(we=!0),Ue[1]=le;break;case 38:Ue[2]!=le&&(we=!0),Ue[2]=le;break;case 87:Ue[6]!=le&&(we=!0),Ue[6]=le;break;case 40:Ue[3]!=le&&(we=!0),Ue[3]=le;break;case 83:Ue[7]!=le&&(we=!0),Ue[7]=le;break;case 37:Ue[4]!=le&&(we=!0),Ue[4]=le;break;case 65:Ue[8]!=le&&(we=!0),Ue[8]=le;break;case 39:Ue[5]!=le&&(we=!0),Ue[5]=le;break;case 68:Ue[9]!=le&&(we=!0),Ue[9]=le}we&&le&&(Ie=typeof performance<"u"&&performance.now()?performance.now():Date.now(),B())}function N(){if(V){var Y=!1,le=R.pitch,we=R.yaw,Ke=R.hfov,nt;nt=typeof performance<"u"&&performance.now()?performance.now():Date.now(),Ie===r&&(Ie=nt);var ut=(nt-Ie)*R.hfov/1700,ut=Math.min(ut,1);if(Ue[0]&&R.keyboardZoom===!0&&(Ce(R.hfov+(.8*Te.hfov+.5)*ut),Y=!0),Ue[1]&&R.keyboardZoom===!0&&(Ce(R.hfov+(.8*Te.hfov-.2)*ut),Y=!0),(Ue[2]||Ue[6])&&(R.pitch+=(.8*Te.pitch+.2)*ut,Y=!0),(Ue[3]||Ue[7])&&(R.pitch+=(.8*Te.pitch-.2)*ut,Y=!0),(Ue[4]||Ue[8])&&(R.yaw+=(.8*Te.yaw-.2)*ut,Y=!0),(Ue[5]||Ue[9])&&(R.yaw+=(.8*Te.yaw+.2)*ut,Y=!0),Y&&(We=Date.now()),R.autoRotate){if(.001<nt-Ie){var Y=(nt-Ie)/1e3,Tt=(Te.yaw/Y*ut-.2*R.autoRotate)*Y,Tt=(0<-R.autoRotate?1:-1)*Math.min(Math.abs(R.autoRotate*Y),Math.abs(Tt));R.yaw+=Tt}R.autoRotateStopDelay&&(R.autoRotateStopDelay-=nt-Ie,0>=R.autoRotateStopDelay&&(R.autoRotateStopDelay=!1,O=R.autoRotate,R.autoRotate=0))}G.pitch&&(M("pitch"),le=R.pitch),G.yaw&&(M("yaw"),we=R.yaw),G.hfov&&(M("hfov"),Ke=R.hfov),0<ut&&!R.autoRotate&&(Y=1-R.friction,Ue[4]||Ue[5]||Ue[8]||Ue[9]||G.yaw||(R.yaw+=Te.yaw*ut*Y),Ue[2]||Ue[3]||Ue[6]||Ue[7]||G.pitch||(R.pitch+=Te.pitch*ut*Y),Ue[0]||Ue[1]||G.hfov||Ce(R.hfov+Te.hfov*ut*Y)),Ie=nt,0<ut&&(Te.yaw=.8*Te.yaw+(R.yaw-we)/ut*.2,Te.pitch=.8*Te.pitch+(R.pitch-le)/ut*.2,Te.hfov=.8*Te.hfov+(R.hfov-Ke)/ut*.2,le=R.autoRotate?Math.abs(R.autoRotate):5,Te.yaw=Math.min(le,Math.max(Te.yaw,-le)),Te.pitch=Math.min(le,Math.max(Te.pitch,-le)),Te.hfov=Math.min(le,Math.max(Te.hfov,-le))),Ue[0]&&Ue[1]&&(Te.hfov=0),(Ue[2]||Ue[6])&&(Ue[3]||Ue[7])&&(Te.pitch=0),(Ue[4]||Ue[8])&&(Ue[5]||Ue[9])&&(Te.yaw=0)}}function M(Y){var le=G[Y],we=Math.min(1,Math.max((Date.now()-le.startTime)/1e3/(le.duration/1e3),0)),we=le.startPosition+R.animationTimingFunction(we)*(le.endPosition-le.startPosition);(le.endPosition>le.startPosition&&we>=le.endPosition||le.endPosition<le.startPosition&&we<=le.endPosition||le.endPosition===le.startPosition)&&(we=le.endPosition,Te[Y]=0,delete G[Y]),R[Y]=we}function U(){se("resize")}function B(){qe||(qe=!0,W())}function W(){if(!pt)if(Z(),hn&&clearTimeout(hn),Qe||et===!0)requestAnimationFrame(W);else if(Ue[0]||Ue[1]||Ue[2]||Ue[3]||Ue[4]||Ue[5]||Ue[6]||Ue[7]||Ue[8]||Ue[9]||R.autoRotate||G.pitch||G.yaw||G.hfov||.01<Math.abs(Te.yaw)||.01<Math.abs(Te.pitch)||.01<Math.abs(Te.hfov))N(),0<=R.autoRotateInactivityDelay&&O&&Date.now()-We>R.autoRotateInactivityDelay&&!R.autoRotate&&(R.autoRotate=O,Me.lookAt(j,r,H,3e3)),requestAnimationFrame(W);else if(Ve&&(Ve.isLoading()||R.dynamic===!0&&He))requestAnimationFrame(W);else{De("animatefinished",{pitch:Me.getPitch(),yaw:Me.getYaw(),hfov:Me.getHfov()}),qe=!1,Ie=r;var Y=R.autoRotateInactivityDelay-(Date.now()-We);0<Y?hn=setTimeout(function(){R.autoRotate=O,Me.lookAt(j,r,H,3e3),B()},Y):0<=R.autoRotateInactivityDelay&&O&&(R.autoRotate=O,Me.lookAt(j,r,H,3e3),B())}}function Z(){var Y;if(V){var le=Ve.getCanvas();R.autoRotate!==!1&&(360<R.yaw?R.yaw-=360:-360>R.yaw&&(R.yaw+=360)),Y=R.yaw;var we=0;if(R.avoidShowingBackground){var Ke=R.hfov/2,nt=180*Math.atan2(Math.tan(Ke/180*Math.PI),le.width/le.height)/Math.PI;R.vaov>R.haov?Math.min(Math.cos((R.pitch-Ke)/180*Math.PI),Math.cos((R.pitch+Ke)/180*Math.PI)):we=Ke*(1-Math.min(Math.cos((R.pitch-nt)/180*Math.PI),Math.cos((R.pitch+nt)/180*Math.PI)))}var Ke=R.maxYaw-R.minYaw,nt=-180,ut=180;360>Ke&&(nt=R.minYaw+R.hfov/2+we,ut=R.maxYaw-R.hfov/2-we,Ke<R.hfov&&(nt=ut=(nt+ut)/2),R.yaw=Math.max(nt,Math.min(ut,R.yaw))),R.autoRotate===!1&&(360<R.yaw?R.yaw-=360:-360>R.yaw&&(R.yaw+=360)),R.autoRotate!==!1&&Y!=R.yaw&&Ie!==r&&(R.autoRotate*=-1),Y=2*Math.atan(Math.tan(R.hfov/180*Math.PI*.5)/(le.width/le.height))/Math.PI*180,le=R.minPitch+Y/2,we=R.maxPitch-Y/2,R.maxPitch-R.minPitch<Y&&(le=we=(le+we)/2),isNaN(le)&&(le=-90),isNaN(we)&&(we=90),R.pitch=Math.max(le,Math.min(we,R.pitch)),Ve.render(R.pitch*Math.PI/180,R.yaw*Math.PI/180,R.hfov*Math.PI/180,{roll:R.roll*Math.PI/180}),R.hotSpots.forEach(xe),R.compass&&(za.style.transform="rotate("+(-R.yaw-R.northOffset)+"deg)",za.style.webkitTransform="rotate("+(-R.yaw-R.northOffset)+"deg)")}}function fe(Y,le,we,Ke){this.w=Y,this.x=le,this.y=we,this.z=Ke}function Q(Y){var le;le=Y.alpha;var we=Y.beta;Y=Y.gamma,we=[we?we*Math.PI/180/2:0,Y?Y*Math.PI/180/2:0,le?le*Math.PI/180/2:0],le=[Math.cos(we[0]),Math.cos(we[1]),Math.cos(we[2])],we=[Math.sin(we[0]),Math.sin(we[1]),Math.sin(we[2])],le=new fe(le[0]*le[1]*le[2]-we[0]*we[1]*we[2],we[0]*le[1]*le[2]-le[0]*we[1]*we[2],le[0]*we[1]*le[2]+we[0]*le[1]*we[2],le[0]*le[1]*we[2]+we[0]*we[1]*le[2]),le=le.multiply(new fe(Math.sqrt(.5),-Math.sqrt(.5),0,0)),we=n.orientation?-n.orientation*Math.PI/180/2:0,le=le.multiply(new fe(Math.cos(we),0,-Math.sin(we),0)).toEulerAngles(),typeof et=="number"&&10>et?et+=1:et===10?(vt=le[2]/Math.PI*180+R.yaw,et=!0,requestAnimationFrame(W)):(R.pitch=le[0]/Math.PI*180,R.roll=-le[1]/Math.PI*180,R.yaw=-le[2]/Math.PI*180+vt)}function J(){try{var Y={};R.horizonPitch!==r&&(Y.horizonPitch=R.horizonPitch*Math.PI/180),R.horizonRoll!==r&&(Y.horizonRoll=R.horizonRoll*Math.PI/180),R.backgroundColor!==r&&(Y.backgroundColor=R.backgroundColor),Ve.init(me,R.type,R.dynamic,R.haov*Math.PI/180,R.vaov*Math.PI/180,R.vOffset*Math.PI/180,ae,Y),R.dynamic!==!0&&(me=r)}catch(le){if(le.type=="webgl error"||le.type=="no webgl")c();else if(le.type=="webgl size error")c(R.strings.textureSizeError.replace("%s",le.width).replace("%s",le.maxWidth));else throw c(R.strings.unknownError),le}}function ae(){if(R.sceneFadeDuration&&Ve.fadeImg!==r){Ve.fadeImg.style.opacity=0;var Y=Ve.fadeImg;delete Ve.fadeImg,setTimeout(function(){Bn.removeChild(Y),De("scenechangefadedone")},R.sceneFadeDuration)}za.style.display=R.compass?"inline":"none",ee(),mt.load.box.style.display="none",Le!==r&&(Bn.removeChild(Le),Le=r),V=!0,De("load"),B()}function be(Y){Y.pitch=Number(Y.pitch)||0,Y.yaw=Number(Y.yaw)||0;var le=t.createElement("div");le.className="pnlm-hotspot-base",le.className=Y.cssClass?le.className+(" "+Y.cssClass):le.className+(" pnlm-hotspot pnlm-sprite pnlm-"+Ee(Y.type));var we=t.createElement("span");Y.text&&(we.innerHTML=Ee(Y.text));var Ke;if(Y.video){Ke=t.createElement("video");var nt=Y.video;R.basePath&&!l(nt)&&(nt=R.basePath+nt),Ke.src=pe(nt),Ke.controls=!0,Ke.style.width=Y.width+"px",Bn.appendChild(le),we.appendChild(Ke)}else if(Y.image){nt=Y.image,R.basePath&&!l(nt)&&(nt=R.basePath+nt),Ke=t.createElement("a"),Ke.href=pe(Y.URL?Y.URL:nt,!0),Ke.target="_blank",we.appendChild(Ke);var ut=t.createElement("img");ut.src=pe(nt),ut.style.width=Y.width+"px",ut.style.paddingTop="5px",Bn.appendChild(le),Ke.appendChild(ut),we.style.maxWidth="initial"}else if(Y.URL){if(Ke=t.createElement("a"),Ke.href=pe(Y.URL,!0),Y.attributes)for(nt in Y.attributes)Ke.setAttribute(nt,Y.attributes[nt]);else Ke.target="_blank";Bn.appendChild(Ke),le.className+=" pnlm-pointer",we.className+=" pnlm-pointer",Ke.appendChild(le)}else Y.sceneId&&(le.onclick=le.ontouchend=function(){return le.clicked||(le.clicked=!0,te(Y.sceneId,Y.targetPitch,Y.targetYaw,Y.targetHfov)),!1},le.className+=" pnlm-pointer",we.className+=" pnlm-pointer"),Bn.appendChild(le);Y.createTooltipFunc?Y.createTooltipFunc(le,Y.createTooltipArgs):(Y.text||Y.video||Y.image)&&(le.classList.add("pnlm-tooltip"),le.appendChild(we),we.style.width=we.scrollWidth-20+"px",we.style.marginLeft=-(we.scrollWidth-le.offsetWidth)/2+"px",we.style.marginTop=-we.scrollHeight-12+"px"),Y.clickHandlerFunc&&(le.addEventListener("click",function(Tt){Y.clickHandlerFunc(Tt,Y.clickHandlerArgs)},"false"),le.className+=" pnlm-pointer",we.className+=" pnlm-pointer"),Y.div=le}function ee(){tt||(R.hotSpots?(R.hotSpots=R.hotSpots.sort(function(Y,le){return Y.pitch<le.pitch}),R.hotSpots.forEach(be)):R.hotSpots=[],tt=!0,R.hotSpots.forEach(xe))}function K(){var Y=R.hotSpots;if(tt=!1,delete R.hotSpots,Y)for(var le=0;le<Y.length;le++){var we=Y[le].div;if(we){for(;we.parentNode&&we.parentNode!=Bn;)we=we.parentNode;Bn.removeChild(we)}delete Y[le].div}}function xe(Y){var le=Math.sin(Y.pitch*Math.PI/180),we=Math.cos(Y.pitch*Math.PI/180),Ke=Math.sin(R.pitch*Math.PI/180),nt=Math.cos(R.pitch*Math.PI/180),ut=Math.cos((-Y.yaw+R.yaw)*Math.PI/180),Tt=le*Ke+we*ut*nt;if(90>=Y.yaw&&-90<Y.yaw&&0>=Tt||(90<Y.yaw||-90>=Y.yaw)&&0>=Tt)Y.div.style.visibility="hidden";else{var Oi=Math.sin((-Y.yaw+R.yaw)*Math.PI/180),Fr=Math.tan(R.hfov*Math.PI/360);Y.div.style.visibility="visible";var kr=Ve.getCanvas(),Vr=kr.clientWidth,kr=kr.clientHeight,le=[-Vr/Fr*Oi*we/Tt/2,-Vr/Fr*(le*nt-we*ut*Ke)/Tt/2],we=Math.sin(R.roll*Math.PI/180),Ke=Math.cos(R.roll*Math.PI/180),le=[le[0]*Ke-le[1]*we,le[0]*we+le[1]*Ke];le[0]+=(Vr-Y.div.offsetWidth)/2,le[1]+=(kr-Y.div.offsetHeight)/2,Vr="translate("+le[0]+"px, "+le[1]+"px) translateZ(9999px) rotate("+R.roll+"deg)",Y.scale&&(Vr+=" scale("+H/R.hfov/Tt+")"),Y.div.style.webkitTransform=Vr,Y.div.style.MozTransform=Vr,Y.div.style.transform=Vr}}function ie(Y){R={};var le,we,Ke="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");$e=[];for(le in Qt)Qt.hasOwnProperty(le)&&(R[le]=Qt[le]);for(le in o.default)if(o.default.hasOwnProperty(le))if(le=="strings")for(we in o.default.strings)o.default.strings.hasOwnProperty(we)&&(R.strings[we]=Ee(o.default.strings[we]));else R[le]=o.default[le],0<=Ke.indexOf(le)&&$e.push(le);if(Y!==null&&Y!==""&&o.scenes&&o.scenes[Y]){var nt=o.scenes[Y];for(le in nt)if(nt.hasOwnProperty(le))if(le=="strings")for(we in nt.strings)nt.strings.hasOwnProperty(we)&&(R.strings[we]=Ee(nt.strings[we]));else R[le]=nt[le],0<=Ke.indexOf(le)&&$e.push(le);R.scene=Y}for(le in o)if(o.hasOwnProperty(le))if(le=="strings")for(we in o.strings)o.strings.hasOwnProperty(we)&&(R.strings[we]=Ee(o.strings[we]));else R[le]=o[le],0<=Ke.indexOf(le)&&$e.push(le)}function ge(Y){if((Y=Y||!1)&&"preview"in R){var le=R.preview;R.basePath&&!l(le)&&(le=R.basePath+le),Le=t.createElement("div"),Le.className="pnlm-preview-img",Le.style.backgroundImage="url('"+pe(le).replace(/"/g,"%22").replace(/'/g,"%27")+"')",Bn.appendChild(Le)}var le=R.title,we=R.author;Y&&("previewTitle"in R&&(R.title=R.previewTitle),"previewAuthor"in R&&(R.author=R.previewAuthor)),R.hasOwnProperty("title")||(mt.title.innerHTML=""),R.hasOwnProperty("author")||(mt.author.innerHTML=""),R.hasOwnProperty("title")||R.hasOwnProperty("author")||(mt.container.style.display="none"),kt.load.innerHTML="<p>"+R.strings.loadButtonLabel+"</p>",mt.load.boxp.innerHTML=R.strings.loadingLabel;for(var Ke in R)if(R.hasOwnProperty(Ke))switch(Ke){case"title":mt.title.innerHTML=Ee(R[Ke]),mt.container.style.display="inline";break;case"author":var nt=Ee(R[Ke]);R.authorURL&&(nt=t.createElement("a"),nt.href=pe(R.authorURL,!0),nt.target="_blank",nt.innerHTML=Ee(R[Ke]),nt=nt.outerHTML),mt.author.innerHTML=R.strings.bylineLabel.replace("%s",nt),mt.container.style.display="inline";break;case"fallback":nt=t.createElement("a"),nt.href=pe(R[Ke],!0),nt.target="_blank",nt.textContent="Click here to view this panorama in an alternative viewer.";var ut=t.createElement("p");ut.textContent="Your browser does not support WebGL.",ut.appendChild(t.createElement("br")),ut.appendChild(nt),mt.errorMsg.innerHTML="",mt.errorMsg.appendChild(ut);break;case"hfov":Ce(Number(R[Ke]));break;case"autoLoad":R[Ke]===!0&&Ve===r&&(mt.load.box.style.display="inline",kt.load.style.display="none",a());break;case"showZoomCtrl":kt.zoom.style.display=R[Ke]&&R.showControls!=!1?"block":"none";break;case"showFullscreenCtrl":kt.fullscreen.style.display=R[Ke]&&R.showControls!=!1&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?"block":"none";break;case"hotSpotDebug":ei.style.display=R[Ke]?"block":"none";break;case"showControls":R[Ke]||(kt.orientation.style.display="none",kt.zoom.style.display="none",kt.fullscreen.style.display="none");break;case"orientationOnByDefault":R[Ke]&&_e()}Y&&(le?R.title=le:delete R.title,we?R.author=we:delete R.author)}function z(){if(V&&!ne)if(L)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.msRequestFullscreen?s.msRequestFullscreen():s.webkitRequestFullScreen()}catch{}}function se(Y){t.fullscreenElement||t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(kt.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),L=!0):(kt.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),L=!1),Y!=="resize"&&De("fullscreenchange",L),Ve.resize(),Ce(R.hfov),B()}function ye(Y){var le=R.minHfov;if(R.type=="multires"&&Ve&&!R.multiResMinHfov&&(le=Math.min(le,Ve.getCanvas().width/(R.multiRes.cubeResolution/90*.9))),le>R.maxHfov)return console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),R.hfov;var we=R.hfov,we=Y<le?le:Y>R.maxHfov?R.maxHfov:Y;return R.avoidShowingBackground&&Ve&&(Y=Ve.getCanvas(),we=Math.min(we,360*Math.atan(Math.tan((R.maxPitch-R.minPitch)/360*Math.PI)/Y.height*Y.width)/Math.PI)),we}function Ce(Y){R.hfov=ye(Y),De("zoomchange",R.hfov)}function $(){G={},O=R.autoRotate?R.autoRotate:O,R.autoRotate=!1}function q(){ne&&(mt.load.box.style.display="none",mt.errorMsg.style.display="none",ne=!1,Bn.style.display="block",De("errorcleared")),V=!1,kt.load.style.display="none",mt.load.box.style.display="inline",a()}function te(Y,le,we,Ke,nt){V||(nt=!0),V=!1,G={};var ut,Tt;if(R.sceneFadeDuration&&!nt&&(ut=Ve.render(R.pitch*Math.PI/180,R.yaw*Math.PI/180,R.hfov*Math.PI/180,{returnImage:!0}),ut!==r)){nt=new Image,nt.className="pnlm-fade-img",nt.style.transition="opacity "+R.sceneFadeDuration/1e3+"s",nt.style.width="100%",nt.style.height="100%",nt.onload=function(){te(Y,le,we,Ke,!0)},nt.src=ut,Bn.appendChild(nt),Ve.fadeImg=nt;return}nt=le==="same"?R.pitch:le,ut=we==="same"?R.yaw:we==="sameAzimuth"?R.yaw+(R.northOffset||0)-(o.scenes[Y].northOffset||0):we,Tt=Ke==="same"?R.hfov:Ke,K(),ie(Y),Te.yaw=Te.pitch=Te.hfov=0,ge(),nt!==r&&(R.pitch=nt),ut!==r&&(R.yaw=ut),Tt!==r&&(R.hfov=Tt),De("scenechange",Y),q()}function Ae(){n.removeEventListener("deviceorientation",Q),kt.orientation.classList.remove("pnlm-orientation-button-active"),et=!1}function _e(){typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(Y){Y=="granted"&&(et=1,n.addEventListener("deviceorientation",Q),kt.orientation.classList.add("pnlm-orientation-button-active"))}):(et=1,n.addEventListener("deviceorientation",Q),kt.orientation.classList.add("pnlm-orientation-button-active"))}function Ee(Y){return o.escapeHTML?String(Y).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split(`
`).join("<br>"):String(Y).split(`
`).join("<br>")}function pe(Y,le){try{var we=decodeURIComponent(ve(Y)).replace(/[^\w:]/g,"").toLowerCase()}catch{return"about:blank"}return we.indexOf("javascript:")===0||we.indexOf("vbscript:")===0?(console.log("Script URL removed."),"about:blank"):le&&we.indexOf("data:")===0?(console.log("Data URI removed from link."),"about:blank"):Y}function ve(Y){return Y.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(le,we){return we=we.toLowerCase(),we==="colon"?":":we.charAt(0)==="#"?we.charAt(1)==="x"?String.fromCharCode(parseInt(we.substring(2),16)):String.fromCharCode(+we.substring(1)):""})}function De(Y){if(Y in de)for(var le=de[Y].length;0<le;le--)de[Y][de[Y].length-le].apply(null,[].slice.call(arguments,1))}var Me=this,R,Ve,Le,Qe=!1,We=Date.now(),gt=0,Se=0,Ne=-1,Pe=0,je=0,Ue=Array(10),L=!1,V,ne=!1,he=!1,me,Ie,Te={yaw:0,pitch:0,hfov:0},qe=!1,et=!1,vt=0,hn,O=0,H,j,G={},de={},$e=[],He=!1,tt=!1,pt=!1,Qt={hfov:100,minHfov:50,multiResMinHfov:!1,maxHfov:120,pitch:0,minPitch:r,maxPitch:r,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:r,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,dynamicUpdate:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],avoidShowingBackground:!1,animationTimingFunction:function(Y){return .5>Y?2*Y*Y:-1+(4-2*Y)*Y},draggable:!0,disableKeyboardCtrl:!1,crossOrigin:"anonymous",touchPanSpeedCoeffFactor:1,capturedKeyNumbers:[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189],friction:.15,strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."}};s=typeof s=="string"?t.getElementById(s):s,s.classList.add("pnlm-container"),s.tabIndex=0;var en=t.createElement("div");en.className="pnlm-ui",s.appendChild(en);var Bn=t.createElement("div");Bn.className="pnlm-render-container",s.appendChild(Bn);var lr=t.createElement("div");lr.className="pnlm-dragfix",en.appendChild(lr);var Nr=t.createElement("span");Nr.className="pnlm-about-msg",Nr.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.5.6',en.appendChild(Nr),lr.addEventListener("contextmenu",f);var mt={},ei=t.createElement("div");ei.className="pnlm-sprite pnlm-hot-spot-debug-indicator",en.appendChild(ei),mt.container=t.createElement("div"),mt.container.className="pnlm-panorama-info",mt.title=t.createElement("div"),mt.title.className="pnlm-title-box",mt.container.appendChild(mt.title),mt.author=t.createElement("div"),mt.author.className="pnlm-author-box",mt.container.appendChild(mt.author),en.appendChild(mt.container),mt.load={},mt.load.box=t.createElement("div"),mt.load.box.className="pnlm-load-box",mt.load.boxp=t.createElement("p"),mt.load.box.appendChild(mt.load.boxp),mt.load.lbox=t.createElement("div"),mt.load.lbox.className="pnlm-lbox",mt.load.lbox.innerHTML='<div class="pnlm-loading"></div>',mt.load.box.appendChild(mt.load.lbox),mt.load.lbar=t.createElement("div"),mt.load.lbar.className="pnlm-lbar",mt.load.lbarFill=t.createElement("div"),mt.load.lbarFill.className="pnlm-lbar-fill",mt.load.lbar.appendChild(mt.load.lbarFill),mt.load.box.appendChild(mt.load.lbar),mt.load.msg=t.createElement("p"),mt.load.msg.className="pnlm-lmsg",mt.load.box.appendChild(mt.load.msg),en.appendChild(mt.load.box),mt.errorMsg=t.createElement("div"),mt.errorMsg.className="pnlm-error-msg pnlm-info-box",en.appendChild(mt.errorMsg);var kt={};kt.container=t.createElement("div"),kt.container.className="pnlm-controls-container",en.appendChild(kt.container),kt.load=t.createElement("div"),kt.load.className="pnlm-load-button",kt.load.addEventListener("click",function(){ge(),q()}),en.appendChild(kt.load),kt.zoom=t.createElement("div"),kt.zoom.className="pnlm-zoom-controls pnlm-controls",kt.zoomIn=t.createElement("div"),kt.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",kt.zoomIn.addEventListener("click",function(){V&&(Ce(R.hfov-5),B())}),kt.zoom.appendChild(kt.zoomIn),kt.zoomOut=t.createElement("div"),kt.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",kt.zoomOut.addEventListener("click",function(){V&&(Ce(R.hfov+5),B())}),kt.zoom.appendChild(kt.zoomOut),kt.container.appendChild(kt.zoom),kt.fullscreen=t.createElement("div"),kt.fullscreen.addEventListener("click",z),kt.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&kt.container.appendChild(kt.fullscreen),kt.orientation=t.createElement("div"),kt.orientation.addEventListener("click",function(Y){et?Ae():_e()}),kt.orientation.addEventListener("mousedown",function(Y){Y.stopPropagation()}),kt.orientation.addEventListener("touchstart",function(Y){Y.stopPropagation()}),kt.orientation.addEventListener("pointerdown",function(Y){Y.stopPropagation()}),kt.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var Ic=!1;n.DeviceOrientationEvent&&location.protocol=="https:"&&0<=navigator.userAgent.toLowerCase().indexOf("mobi")&&(kt.container.appendChild(kt.orientation),Ic=!0);var za=t.createElement("div");za.className="pnlm-compass pnlm-controls pnlm-control",en.appendChild(za),o.firstScene?ie(o.firstScene):o.default&&o.default.firstScene?ie(o.default.firstScene):ie(null),ge(!0);var vi=[],fr=[];fe.prototype.multiply=function(Y){return new fe(this.w*Y.w-this.x*Y.x-this.y*Y.y-this.z*Y.z,this.x*Y.w+this.w*Y.x+this.y*Y.z-this.z*Y.y,this.y*Y.w+this.w*Y.y+this.z*Y.x-this.x*Y.z,this.z*Y.w+this.w*Y.z+this.x*Y.y-this.y*Y.x)},fe.prototype.toEulerAngles=function(){var Y=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),le=Math.asin(2*(this.w*this.y-this.z*this.x)),we=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z));return[Y,le,we]},this.isLoaded=function(){return!!V},this.getPitch=function(){return R.pitch},this.setPitch=function(Y,le,we,Ke){return We=Date.now(),1e-6>=Math.abs(Y-R.pitch)?(typeof we=="function"&&we(Ke),this):((le=le==r?1e3:Number(le))?(G.pitch={startTime:Date.now(),startPosition:R.pitch,endPosition:Y,duration:le},typeof we=="function"&&setTimeout(function(){we(Ke)},le)):R.pitch=Y,B(),this)},this.getPitchBounds=function(){return[R.minPitch,R.maxPitch]},this.setPitchBounds=function(Y){return R.minPitch=Math.max(-90,Math.min(Y[0],90)),R.maxPitch=Math.max(-90,Math.min(Y[1],90)),this},this.getYaw=function(){return(R.yaw+540)%360-180},this.setYaw=function(Y,le,we,Ke){return We=Date.now(),1e-6>=Math.abs(Y-R.yaw)?(typeof we=="function"&&we(Ke),this):(le=le==r?1e3:Number(le),Y=(Y+180)%360-180,le?(180<R.yaw-Y?Y+=360:180<Y-R.yaw&&(Y-=360),G.yaw={startTime:Date.now(),startPosition:R.yaw,endPosition:Y,duration:le},typeof we=="function"&&setTimeout(function(){we(Ke)},le)):R.yaw=Y,B(),this)},this.getYawBounds=function(){return[R.minYaw,R.maxYaw]},this.setYawBounds=function(Y){return R.minYaw=Math.max(-360,Math.min(Y[0],360)),R.maxYaw=Math.max(-360,Math.min(Y[1],360)),this},this.getHfov=function(){return R.hfov},this.setHfov=function(Y,le,we,Ke){return We=Date.now(),1e-6>=Math.abs(Y-R.hfov)?(typeof we=="function"&&we(Ke),this):((le=le==r?1e3:Number(le))?(G.hfov={startTime:Date.now(),startPosition:R.hfov,endPosition:ye(Y),duration:le},typeof we=="function"&&setTimeout(function(){we(Ke)},le)):Ce(Y),B(),this)},this.getHfovBounds=function(){return[R.minHfov,R.maxHfov]},this.setHfovBounds=function(Y){return R.minHfov=Math.max(0,Y[0]),R.maxHfov=Math.max(0,Y[1]),this},this.lookAt=function(Y,le,we,Ke,nt,ut){return Ke=Ke==r?1e3:Number(Ke),Y!==r&&1e-6<Math.abs(Y-R.pitch)&&(this.setPitch(Y,Ke,nt,ut),nt=r),le!==r&&1e-6<Math.abs(le-R.yaw)&&(this.setYaw(le,Ke,nt,ut),nt=r),we!==r&&1e-6<Math.abs(we-R.hfov)&&(this.setHfov(we,Ke,nt,ut),nt=r),typeof nt=="function"&&nt(ut),this},this.getNorthOffset=function(){return R.northOffset},this.setNorthOffset=function(Y){return R.northOffset=Math.min(360,Math.max(0,Y)),B(),this},this.getHorizonRoll=function(){return R.horizonRoll},this.setHorizonRoll=function(Y){return R.horizonRoll=Math.min(90,Math.max(-90,Y)),Ve.setPose(R.horizonPitch*Math.PI/180,R.horizonRoll*Math.PI/180),B(),this},this.getHorizonPitch=function(){return R.horizonPitch},this.setHorizonPitch=function(Y){return R.horizonPitch=Math.min(90,Math.max(-90,Y)),Ve.setPose(R.horizonPitch*Math.PI/180,R.horizonRoll*Math.PI/180),B(),this},this.startAutoRotate=function(Y,le){return Y=Y||O||1,le=le===r?j:le,R.autoRotate=Y,Me.lookAt(le,r,H,3e3),B(),this},this.stopAutoRotate=function(){return O=R.autoRotate?R.autoRotate:O,R.autoRotate=!1,R.autoRotateInactivityDelay=-1,this},this.stopMovement=function(){$(),Te={yaw:0,pitch:0,hfov:0}},this.getRenderer=function(){return Ve},this.setUpdate=function(Y){return He=Y===!0,Ve===r?u():B(),this},this.mouseEventToCoords=function(Y){return g(Y)},this.loadScene=function(Y,le,we,Ke){return V!==!1&&te(Y,le,we,Ke),this},this.getScene=function(){return R.scene},this.addScene=function(Y,le){return o.scenes[Y]=le,this},this.removeScene=function(Y){return R.scene===Y||!o.scenes.hasOwnProperty(Y)?!1:(delete o.scenes[Y],!0)},this.toggleFullscreen=function(){return z(),this},this.getConfig=function(){return R},this.getContainer=function(){return s},this.addHotSpot=function(Y,le){if(le===r&&R.scene===r)R.hotSpots.push(Y);else{var we=le!==r?le:R.scene;if(o.scenes.hasOwnProperty(we))o.scenes[we].hasOwnProperty("hotSpots")||(o.scenes[we].hotSpots=[],we==R.scene&&(R.hotSpots=o.scenes[we].hotSpots)),o.scenes[we].hotSpots.push(Y);else throw"Invalid scene ID!"}return(le===r||R.scene==le)&&(be(Y),V&&xe(Y)),this},this.removeHotSpot=function(Y,le){if(le===r||R.scene==le){if(!R.hotSpots)return!1;for(var we=0;we<R.hotSpots.length;we++)if(R.hotSpots[we].hasOwnProperty("id")&&R.hotSpots[we].id===Y){for(var Ke=R.hotSpots[we].div;Ke.parentNode!=Bn;)Ke=Ke.parentNode;return Bn.removeChild(Ke),delete R.hotSpots[we].div,R.hotSpots.splice(we,1),!0}}else if(o.scenes.hasOwnProperty(le)){if(!o.scenes[le].hasOwnProperty("hotSpots"))return!1;for(we=0;we<o.scenes[le].hotSpots.length;we++)if(o.scenes[le].hotSpots[we].hasOwnProperty("id")&&o.scenes[le].hotSpots[we].id===Y)return o.scenes[le].hotSpots.splice(we,1),!0}else return!1},this.resize=function(){Ve&&U()},this.isLoaded=function(){return V},this.isOrientationSupported=function(){return Ic||!1},this.stopOrientation=function(){Ae()},this.startOrientation=function(){Ic&&_e()},this.isOrientationActive=function(){return!!et},this.on=function(Y,le){return de[Y]=de[Y]||[],de[Y].push(le),this},this.off=function(Y,le){if(!Y)return de={},this;if(le){var we=de[Y].indexOf(le);0<=we&&de[Y].splice(we,1),de[Y].length==0&&delete de[Y]}else delete de[Y];return this},this.destroy=function(){pt=!0,clearTimeout(hn),Ve&&Ve.destroy(),he&&(t.removeEventListener("mousemove",v,!1),t.removeEventListener("mouseup",E,!1),s.removeEventListener("mozfullscreenchange",se,!1),s.removeEventListener("webkitfullscreenchange",se,!1),s.removeEventListener("msfullscreenchange",se,!1),s.removeEventListener("fullscreenchange",se,!1),n.removeEventListener("resize",U,!1),n.removeEventListener("orientationchange",U,!1),s.removeEventListener("keydown",C,!1),s.removeEventListener("keyup",k,!1),s.removeEventListener("blur",F,!1),t.removeEventListener("mouseleave",E,!1)),s.innerHTML="",s.classList.remove("pnlm-container")}}return{viewer:function(s,o){return new i(s,o)}}})(window,document);const Ihe={__name:"VirtualTour",props:{config:{type:Object,required:!0}},emits:["scene-changed","hotspot-click"],setup(n,{expose:t,emit:r}){const i=n,s=r,o=Xe(null),a=Xe(null);function l(h){const c=typeof structuredClone=="function"?structuredClone(h):JSON.parse(JSON.stringify(h)),f=c.scenes||{};return Object.keys(f).forEach(d=>{(f[d].hotSpots||[]).forEach(m=>{m.type==="scene"&&(m.cssClass=((m.cssClass||"")+" nav-hotspot").trim(),m.createTooltipArgs={text:m.text},m.createTooltipFunc=function(g,v){g.classList.add("nh-wrap"),g.innerHTML=`
            <div class="nh-btn" role="button" aria-label="${(v?.text||"").replace(/"/g,"&quot;")}">
              <span class="nh-icon"></span>
              ${v?.text?`<span class="nh-chip">${v.text}</span>`:""}
            </div>
          `}),m.type==="info"&&(m.clickHandlerFunc=g=>{console.log("[VirtualTour] Info Hotspot Clicked (Handler):",m),s("hotspot-click",{hotspot:m})})})}),c}function u(){o.value?.resize()}return xr(()=>{if(!a.value)return;const h=l(i.config);o.value=window.pannellum.viewer(a.value,h),o.value.on("load",()=>{const c=o.value.getScene();s("scene-changed",c)}),window.addEventListener("resize",u)}),t({loadScene(h){o.value?.loadScene(h)}}),nu(()=>{window.removeEventListener("resize",u),o.value&&(o.value.destroy(),o.value=null)}),(h,c)=>(re(),ce("div",{id:"panorama-container",ref_key:"panoramaContainer",ref:a},null,512))}},Dhe={class:"tour-page-layout"},Nhe={class:"main-content"},Fhe={__name:"TourView",setup(n){const t=Xe(null),r=vc(),i=Xe([]);try{const c=sessionStorage.getItem("pdv:courseCacheKey");if(c){const f=sessionStorage.getItem(c);if(f){const d=JSON.parse(f);d&&Array.isArray(d.items)&&(i.value=d.items)}}}catch(c){console.error("     :",c),i.value=[]}console.log("  (TourView) ()   :",i.value);const s=Ut(()=>{console.log("    . :",i.value);const c=zae(i.value),f=new Set(i.value.map(m=>m.sceneId).filter(Boolean)),d=i.value.map(m=>m.sceneId).find(m=>f.has(m)),p={...c,default:{...c.default,firstScene:d||c.default.firstScene}};return console.log("       :",p),p}),o=Xe(s.value.default.firstScene);function a(c){o.value=c,console.log(" [TourView]  :",c)}function l({hotspot:c}){if(!(c?.text||"").includes("  "))return;sessionStorage.setItem("pdv:returnFromTour","1");const d=sessionStorage.getItem("pdv:returnTo");if(d){const{type:p,id:m,query:g}=JSON.parse(d),v=p==="science_place"?"PlaceDetail":"ExhibitionDetail";r.replace({name:v,params:{id:m},query:g})}else r.replace({name:"Home"})}function u(){r.back()}const h=Ut(()=>!i.value||i.value.length===0?!1:i.value.some(c=>c.sceneId&&c.sceneId.endsWith("_entrance")));return Ut(()=>{const c=o.value||"";return h.value?c.startsWith("hall_1")?(console.log(" [TourView] activeZone  ( ): hall_1_entrance"),"hall_1_entrance"):c.startsWith("hall_2")?(console.log(" [TourView] activeZone  ( ): hall_2_entrance"),"hall_2_entrance"):c.startsWith("hall_3")?(console.log(" [TourView] activeZone  ( ): hall_3_entrance"),"hall_3_entrance"):(console.log(" [TourView] activeZone  ( ): (  )"),""):(console.log(` [TourView] activeZone  ( ): ${c}`),c)}),(c,f)=>(re(),ce("div",Dhe,[A("div",{class:"chat-header d-flex justify-content-between align-items-center p-3 bg-white border-bottom flex-shrink-0"},[A("div",{class:"header-left",style:{flex:"1"}},[A("i",{class:"bi bi-arrow-left fs-5",style:{cursor:"pointer"},onClick:u})]),f[0]||(f[0]=A("div",{class:"header-center fw-bold fs-6",style:{flex:"1","text-align":"center"}},"   ",-1)),f[1]||(f[1]=A("div",{class:"header-right",style:{flex:"1"}},null,-1))]),A("div",Nhe,[lt(Ihe,{ref_key:"virtualTourRef",ref:t,config:s.value,onSceneChanged:a,onHotspotClick:l},null,8,["config"])])]))}},khe=wt(Fhe,[["__scopeId","data-v-effe566f"]]),Mhe={class:"experiment-container d-flex flex-column h-100 bg-white"},Ohe={class:"experiment-header d-flex justify-content-between align-items-center p-3 border-bottom bg-white"},Lhe={class:"mb-0 fw-bold fs-6 flex-grow-1 text-center truncate"},Phe={class:"experiment-content flex-grow-1 position-relative"},Rhe={key:0,class:"loading-overlay"},Bhe=["src"],Uhe={__name:"ExperimentView",setup(n){const t=jB(),r=vc(),i=Xe(""),s=Xe(" "),o=Xe(!0);xr(()=>{i.value=t.query.url||"",s.value=t.query.title||" ",i.value||r.replace("/home")});const a=()=>{o.value=!1},l=()=>{r.back()},u=()=>{i.value&&window.open(i.value,"_blank","noopener,noreferrer")};return(h,c)=>(re(),ce("div",Mhe,[A("div",Ohe,[A("button",{onClick:l,class:"btn p-0 border-0","aria-label":" "},[...c[0]||(c[0]=[A("i",{class:"bi bi-chevron-left fs-5"},null,-1)])]),A("h5",Lhe,Be(s.value),1),A("button",{onClick:u,class:"btn btn-outline-primary btn-sm",title:"  ","aria-label":"  "},[...c[1]||(c[1]=[A("i",{class:"bi bi-box-arrow-up-right"},null,-1)])])]),A("div",Phe,[o.value?(re(),ce("div",Rhe,[...c[2]||(c[2]=[A("div",{class:"spinner-border text-primary",role:"status"},[A("span",{class:"visually-hidden"},"Loading...")],-1),A("p",{class:"mt-3 text-muted small"},"   ...",-1)])])):rt("",!0),an(A("iframe",{src:i.value,frameborder:"0",width:"100%",height:"100%",allowfullscreen:"",onLoad:a},"   iframe  . ",40,Bhe),[[Mh,!o.value]])])]))}},Vhe=wt(Uhe,[["__scopeId","data-v-8e33f210"]]),Dg=$B({history:xB("/"),routes:[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:jU},{path:"/signup",name:"signup",component:vce},{path:"/login",name:"login",component:Gue},{path:"/map",name:"Map",component:N9},{path:"/list",name:"PlaceList",component:mue},{path:"/mypage",name:"Mypage",component:x7},{path:"/account",name:"AccountView",component:z7},{path:"/aitutor",name:"AiTutor",component:Z7},{path:"/usercourselist",name:"UserLikeCourseList",component:QV},{path:"/indoormap",name:"IndoorMapView",component:DV},{path:"/coursedetail/:courseId",name:"UserLikeCourseDetail",component:pH},{path:"/exhibition/:id",name:"ExhibitionDetail",component:nA},{path:"/place/:id",name:"PlaceDetail",component:nA},{path:"/photos/:targetType/:targetId",name:"AllPhotos",component:Due,props:!0},{path:"/likePlace",name:"LikePlace",component:Ace,props:!0},{path:"/notice",name:"Notice",component:jce},{path:"/notice/:id",name:"NoticeDetail",component:she},{path:"/stamp",name:"stamp",component:The},{path:"/virtualTour",name:"virtualTour",component:khe},{path:"/experiment",name:"ExperimentView",component:Vhe}]}),Ff=Ep(k6);Ff.config.globalProperties.$alert=n=>{let t="",r="success";typeof n=="string"?t=n:typeof n=="object"&&n!==null&&(t=n.message||"",r=n.type||"success"),ct.emit("show-global-alert",{message:t,type:r})};Ff.use(yI());const kM=yI();kM.use(LO);Ff.use(kM);Ff.use(Dg);Ff.mount("#app");
